refactor: Make waypoint type switching asynchronous

Updates the waypoint type switching operation to use an asynchronous call.
This prevents UI blocking and ensures the UI is updated only after the
waypoint type change has been processed.