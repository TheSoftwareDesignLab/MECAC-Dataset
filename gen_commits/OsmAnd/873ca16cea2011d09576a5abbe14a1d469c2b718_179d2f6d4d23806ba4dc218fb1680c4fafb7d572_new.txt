feat: Enhance map density and text scale application

Refactor map rendering to better handle MAP_DENSITY and TEXT_SCALE settings.
MAP_DENSITY is now applied as a visual zoom shift to the map renderer,
providing more granular control over map scaling. These settings are also
passed to `MapPresentationEnvironment` and `CachedMapPresentation` for
consistent rendering and proper caching. Raster tile size calculations were
adjusted, and transparency comparisons improved for robustness.