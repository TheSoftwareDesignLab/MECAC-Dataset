fix: Improve route chart refresh and map fitting

- Pass `initLayout` parameter to `calculateLayout` for refined layout handling.
- Introduce `RouteDetailsMenu` to accurately determine fragment dimensions for map fitting.
- Refresh chart on layout changes (if not initial or full screen) and after chart gestures (drag, zoom).
- Prevent chart refresh when in following mode.