fix: Prevent geometry Way IndexOutOfBounds and refine drawing

Adds a boundary check to `cutStartOfCachedPath` to prevent `IndexOutOfBoundsException` when calculating distances for the first segment.
Refines `drawSegments` to only pre-fetch the previous segment for smooth transitions if `hasMapRenderer` is true.