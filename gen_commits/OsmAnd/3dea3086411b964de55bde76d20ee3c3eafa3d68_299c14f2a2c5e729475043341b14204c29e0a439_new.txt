feat: Improve app mode and theme handling in settings

Refactor `BaseSettingsFragment` to recreate itself when an app mode change also triggers a theme (day/night) change. This ensures the UI properly reflects the new theme immediately.
- Extracted theme detection logic into a new `updateTheme()` method.
- Added a `usedOnMap` parameter to `SelectAppModesBottomSheetDialogFragment` to provide context of its invocation.
- Switched fragment tag in `MapActivity` from `getSimpleName()` to `getName()` for more robust identification.