feat: Pass widgets and mode to MapWidget detachView

Update MapWidget.detachView signature to include a list of all widgets on the panel and the current ApplicationMode. This provides necessary context for individual widgets to implement more sophisticated detachment logic.

For instance, StreetNameWidget now only clears its special container if no other StreetNameWidget is active for the current mode, preventing premature view removal. LanesWidget and VerticalWidgetPanel are updated to reflect this change.