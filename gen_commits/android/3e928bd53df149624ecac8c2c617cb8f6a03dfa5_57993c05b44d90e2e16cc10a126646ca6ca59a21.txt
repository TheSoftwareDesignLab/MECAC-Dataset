diff --git a/app/src/main/java/io/homeassistant/companion/android/onboarding/integration/MobileAppIntegrationView.kt b/app/src/main/java/io/homeassistant/companion/android/onboarding/integration/MobileAppIntegrationView.kt
index 41f478b2769..3ec3a709e9d 100644
--- a/app/src/main/java/io/homeassistant/companion/android/onboarding/integration/MobileAppIntegrationView.kt
+++ b/app/src/main/java/io/homeassistant/companion/android/onboarding/integration/MobileAppIntegrationView.kt
@@ -8,7 +8,6 @@ import androidx.compose.foundation.layout.padding
 import androidx.compose.foundation.text.KeyboardActions
 import androidx.compose.foundation.text.KeyboardOptions
 import androidx.compose.material.Button
-import androidx.compose.material.MaterialTheme
 import androidx.compose.material.Switch
 import androidx.compose.material.SwitchDefaults
 import androidx.compose.material.Text
@@ -19,6 +18,7 @@ import androidx.compose.ui.Alignment
 import androidx.compose.ui.ExperimentalComposeUiApi
 import androidx.compose.ui.Modifier
 import androidx.compose.ui.platform.LocalSoftwareKeyboardController
+import androidx.compose.ui.res.colorResource
 import androidx.compose.ui.res.stringResource
 import androidx.compose.ui.text.font.FontWeight
 import androidx.compose.ui.text.input.ImeAction
@@ -72,7 +72,7 @@ fun MobileAppIntegrationView(
                 Switch(
                     checked = onboardingViewModel.locationTrackingEnabled.value,
                     onCheckedChange = onLocationTrackingChanged,
-                    colors = SwitchDefaults.colors(uncheckedThumbColor = MaterialTheme.colors.secondary)
+                    colors = SwitchDefaults.colors(uncheckedThumbColor = colorResource(commonR.color.colorSwitchUncheckedThumb))
                 )
             }
             Text(
diff --git a/app/src/main/java/io/homeassistant/companion/android/sensors/SensorDetailFragment.kt b/app/src/main/java/io/homeassistant/companion/android/sensors/SensorDetailFragment.kt
deleted file mode 100644
index 089930a6200..00000000000
--- a/app/src/main/java/io/homeassistant/companion/android/sensors/SensorDetailFragment.kt
+++ /dev/null
@@ -1,525 +0,0 @@
-package io.homeassistant.companion.android.sensors
-
-import android.Manifest
-import android.content.Intent
-import android.content.pm.PackageManager
-import android.net.Uri
-import android.os.Bundle
-import android.os.Handler
-import android.os.Looper
-import android.provider.Settings
-import android.text.InputType
-import android.util.Log
-import android.view.Menu
-import androidx.preference.EditTextPreference
-import androidx.preference.ListPreference
-import androidx.preference.MultiSelectListPreference
-import androidx.preference.Preference
-import androidx.preference.PreferenceCategory
-import androidx.preference.PreferenceFragmentCompat
-import androidx.preference.SwitchPreference
-import androidx.preference.contains
-import dagger.hilt.android.AndroidEntryPoint
-import io.homeassistant.companion.android.R
-import io.homeassistant.companion.android.common.bluetooth.BluetoothUtils
-import io.homeassistant.companion.android.common.data.integration.IntegrationRepository
-import io.homeassistant.companion.android.common.sensors.NetworkSensorManager
-import io.homeassistant.companion.android.common.sensors.SensorManager
-import io.homeassistant.companion.android.common.util.DisabledLocationHandler
-import io.homeassistant.companion.android.common.util.LocationPermissionInfoHandler
-import io.homeassistant.companion.android.database.AppDatabase
-import io.homeassistant.companion.android.database.sensor.Sensor
-import io.homeassistant.companion.android.database.sensor.SensorDao
-import io.homeassistant.companion.android.database.sensor.SensorSetting
-import kotlinx.coroutines.runBlocking
-
-@AndroidEntryPoint
-class SensorDetailFragment(
-    private val sensorManager: SensorManager,
-    private val basicSensor: SensorManager.BasicSensor,
-    private val integrationUseCase: IntegrationRepository
-) :
-    PreferenceFragmentCompat() {
-
-    companion object {
-        fun newInstance(
-            sensorManager: SensorManager,
-            basicSensor: SensorManager.BasicSensor,
-            integrationUseCase: IntegrationRepository
-        ): SensorDetailFragment {
-            return SensorDetailFragment(sensorManager, basicSensor, integrationUseCase)
-        }
-
-        private const val REFRESH_INTERVAL_MS = 5000L
-        private const val SENSOR_SETTING_TRANS_KEY_PREFIX = "sensor_setting_"
-        private const val TAG = "SensorDetailFragment"
-    }
-
-    private lateinit var sensorDao: SensorDao
-    private var cachedZones: List<String> = emptyList()
-    private var zonesCached = false
-    private var createdPreferencesDone = false
-
-    private val handler = Handler(Looper.getMainLooper())
-    private val refresh = object : Runnable {
-        override fun run() {
-            refreshSensorData()
-            handler.postDelayed(this, REFRESH_INTERVAL_MS)
-        }
-    }
-
-    override fun onCreate(savedInstanceState: Bundle?) {
-        super.onCreate(savedInstanceState)
-        setHasOptionsMenu(true)
-    }
-
-    override fun onPrepareOptionsMenu(menu: Menu) {
-        super.onPrepareOptionsMenu(menu)
-        menu.setGroupVisible(R.id.senor_detail_toolbar_group, true)
-        menu.removeItem(R.id.action_filter)
-        menu.removeItem(R.id.action_search)
-
-        menu.findItem(R.id.get_help)?.let {
-            it.isVisible = true
-            val docsLink = basicSensor.docsLink ?: sensorManager.docsLink()
-            it.intent = Intent(Intent.ACTION_VIEW, Uri.parse(docsLink))
-        }
-    }
-
-    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
-
-        sensorDao = AppDatabase.getInstance(requireContext()).sensorDao()
-
-        addPreferencesFromResource(R.xml.sensor_detail)
-
-        zonesCached = false
-
-        findPreference<SwitchPreference>("enabled")?.let {
-            val dao = sensorDao.get(basicSensor.id)
-            val perm = sensorManager.checkPermission(requireContext(), basicSensor.id)
-            if (dao == null && sensorManager.enabledByDefault) {
-                it.isChecked = perm
-            }
-            if (dao != null) {
-                it.isChecked = dao.enabled && perm
-            }
-            updateSensorEntity(it.isChecked)
-
-            it.setOnPreferenceChangeListener { _, newState ->
-                val isEnabled = newState as Boolean
-
-                if (isEnabled) {
-                    val permissions = sensorManager.requiredPermissions(basicSensor.id)
-                    val context = requireContext()
-                    val fineLocation = DisabledLocationHandler.containsLocationPermission(permissions, true)
-                    val coarseLocation = DisabledLocationHandler.containsLocationPermission(permissions, false)
-
-                    if ((fineLocation || coarseLocation) &&
-                        !DisabledLocationHandler.isLocationEnabled(context)
-                    ) {
-                        DisabledLocationHandler.showLocationDisabledWarnDialog(requireActivity(), arrayOf(getString(basicSensor.name)))
-                        return@setOnPreferenceChangeListener false
-                    } else {
-                        if (!sensorManager.checkPermission(context, basicSensor.id)) {
-                            if (sensorManager is NetworkSensorManager) {
-                                LocationPermissionInfoHandler.showLocationPermInfoDialogIfNeeded(
-                                    context, permissions,
-                                    continueYesCallback = {
-                                        requestPermissions(permissions)
-                                    }
-                                )
-                            } else if (sensorManager is LastAppSensorManager && !sensorManager.checkUsageStatsPermission(context)) {
-                                requestPermissions(permissions)
-                            } else requestPermissions(permissions)
-
-                            return@setOnPreferenceChangeListener false
-                        }
-                    }
-                }
-
-                updateSensorEntity(isEnabled)
-
-                if (isEnabled)
-                    sensorManager.requestSensorUpdate(requireContext())
-                return@setOnPreferenceChangeListener true
-            }
-        }
-        findPreference<Preference>("description")?.let {
-            it.summary = getString(basicSensor.descriptionId)
-        }
-
-        createdPreferencesDone = true
-    }
-
-    override fun onResume() {
-        super.onResume()
-        // If preferences are created, we can start the refresh handler right away
-        // If not, we delay the start, because onCreatePreferences will do a refresh anyway on start of the fragment
-        handler.postDelayed(refresh, if (createdPreferencesDone) 0 else REFRESH_INTERVAL_MS)
-    }
-
-    override fun onPause() {
-        super.onPause()
-        handler.removeCallbacks(refresh)
-    }
-
-    private fun refreshSensorData() {
-        SensorWorker.start(requireContext())
-
-        val sensorDao = AppDatabase.getInstance(requireContext()).sensorDao()
-        val fullData = sensorDao.getFull(basicSensor.id)
-        val sensorSettings = sensorDao.getSettings(basicSensor.id)
-        if (fullData?.sensor == null)
-            return
-        val sensorData = fullData.sensor
-        val attributes = fullData.attributes
-
-        findPreference<Preference>("unique_id")?.let {
-            it.isCopyingEnabled = true
-            it.summary = basicSensor.id
-        }
-        findPreference<Preference>("state")?.let {
-            it.isCopyingEnabled = true
-            when {
-                !sensorData.enabled ->
-                    it.summary = "Disabled"
-                sensorData.unitOfMeasurement.isNullOrBlank() ->
-                    it.summary = sensorData.state
-                else ->
-                    it.summary = sensorData.state + " " + sensorData.unitOfMeasurement
-            }
-        }
-        findPreference<Preference>("device_class")?.let {
-            if (sensorData.enabled && sensorData.deviceClass != null) {
-                it.summary = sensorData.deviceClass
-                it.isVisible = true
-            } else {
-                it.isVisible = false
-            }
-        }
-        findPreference<Preference>("icon")?.let {
-            if (sensorData.enabled && sensorData.icon != "") {
-                it.summary = sensorData.icon
-                it.isVisible = true
-            } else {
-                it.isVisible = false
-            }
-        }
-
-        findPreference<PreferenceCategory>("attributes")?.let {
-            if (sensorData.enabled && !attributes.isNullOrEmpty()) {
-                attributes.forEach { attribute ->
-                    val key = "attribute_${attribute.name}"
-                    val pref = findPreference(key) ?: Preference(requireContext())
-                    pref.isCopyingEnabled = true
-                    pref.key = key
-                    pref.title = attribute.name
-                    pref.summary = attribute.value
-                    pref.isIconSpaceReserved = false
-
-                    if (!it.contains(pref)) it.addPreference(pref)
-                }
-                it.isVisible = true
-            } else
-                it.isVisible = false
-        }
-
-        findPreference<PreferenceCategory>("sensor_settings")?.let {
-            if (sensorData.enabled && !sensorSettings.isNullOrEmpty()) {
-                sensorSettings.sortedBy { sensorSetting -> sensorSetting.sensorId }.forEach { setting ->
-                    val key = "setting_${basicSensor.id}_${setting.name}"
-                    if (setting.valueType == "toggle") {
-                        val pref = findPreference(key) ?: SwitchPreference(requireContext())
-                        pref.key = key
-                        pref.isEnabled = setting.enabled
-                        pref.title = getTranslatedTitle(setting.name)
-                        pref.isChecked = setting.value == "true"
-                        pref.isIconSpaceReserved = false
-                        pref.isSingleLineTitle = false
-                        pref.setOnPreferenceChangeListener { _, newState ->
-                            val isEnabled = newState as Boolean
-
-                            sensorDao.add(SensorSetting(basicSensor.id, setting.name, isEnabled.toString(), "toggle", setting.enabled))
-                            sensorManager.requestSensorUpdate(requireContext())
-                            return@setOnPreferenceChangeListener true
-                        }
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    } else if (setting.valueType == "list") {
-                        val pref = findPreference(key) ?: ListPreference(requireContext())
-                        pref.key = key
-                        pref.isEnabled = setting.enabled
-                        pref.title = getTranslatedTitle(setting.name)
-                        pref.dialogTitle = pref.title
-                        pref.entries = getTranslatedEntries(setting.name, setting.entries)
-                        pref.entryValues = setting.entries.toTypedArray()
-                        pref.value = setting.value
-                        pref.summary = setting.value
-                        pref.isIconSpaceReserved = false
-                        pref.isSingleLineTitle = false
-                        pref.setOnPreferenceChangeListener { _, newState ->
-                            sensorDao.add(SensorSetting(basicSensor.id, setting.name, newState as String, "list", setting.entries, setting.enabled))
-                            sensorManager.requestSensorUpdate(requireContext())
-                            return@setOnPreferenceChangeListener true
-                        }
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    } else if (setting.valueType == "string" || setting.valueType == "number") {
-                        val pref = findPreference(key) ?: EditTextPreference(requireContext())
-                        pref.key = key
-                        pref.isEnabled = setting.enabled
-                        pref.title = getTranslatedTitle(setting.name)
-                        pref.dialogTitle = pref.title
-                        pref.isSingleLineTitle = false
-                        if (pref.text != null)
-                            pref.summaryProvider = EditTextPreference.SimpleSummaryProvider.getInstance()
-                        else {
-                            pref.summary = setting.value
-                        }
-                        if (pref.text != setting.value) {
-                            pref.text = setting.value
-                        }
-                        pref.isIconSpaceReserved = false
-
-                        pref.setOnBindEditTextListener { fieldType ->
-                            if (setting.valueType == "number") {
-                                if (setting.name == BluetoothSensorManager.SETTING_BLE_MEASURED_POWER)
-                                    fieldType.inputType =
-                                        InputType.TYPE_CLASS_NUMBER or InputType.TYPE_NUMBER_FLAG_SIGNED
-                                else
-                                    fieldType.inputType = InputType.TYPE_CLASS_NUMBER
-                            }
-                        }
-
-                        pref.setOnPreferenceChangeListener { _, newValue ->
-                            sensorDao.add(
-                                SensorSetting(
-                                    basicSensor.id,
-                                    setting.name,
-                                    newValue as String,
-                                    setting.valueType,
-                                    setting.enabled
-                                )
-                            )
-                            sensorManager.requestSensorUpdate(requireContext())
-                            return@setOnPreferenceChangeListener true
-                        }
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    } else if (setting.valueType == "list-apps") {
-                        val packageManager: PackageManager? = context?.packageManager
-                        val packages = packageManager?.getInstalledApplications(PackageManager.GET_META_DATA)
-                        val packageName: MutableList<String> = ArrayList()
-                        if (packages != null) {
-                            for (packageItem in packages) {
-                                packageName.add(packageItem.packageName)
-                            }
-                            packageName.sort()
-                        }
-
-                        val pref = createListPreference(key, setting, sensorDao, packageName)
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    } else if (setting.valueType == "list-bluetooth") {
-                        val btDevices = BluetoothUtils.getBluetoothDevices(requireContext()).map { b -> b.name }
-
-                        val pref = createListPreference(key, setting, sensorDao, btDevices)
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    } else if (setting.valueType == "list-zones") {
-                        if (!zonesCached) {
-                            Log.d(TAG, "Get zones from Home Assistant for listing zones in preferences...")
-                            runBlocking {
-                                try {
-                                    cachedZones = integrationUseCase.getZones().map { z -> z.entityId }
-                                    Log.d(TAG, "Successfully received " + cachedZones.size + " zones (" + cachedZones + ") from Home Assistant")
-                                } catch (e: Exception) {
-                                    Log.e(TAG, "Error receiving zones from Home Assistant", e)
-                                }
-                            }
-
-                            zonesCached = true
-                        } else {
-                            Log.d(TAG, "Using cached zones for listing zones in preferences")
-                        }
-
-                        val pref = createListPreference(key, setting, sensorDao, cachedZones)
-                        if (!it.contains(pref)) it.addPreference(pref)
-                    }
-                }
-                it.isVisible = true
-            } else
-                it.isVisible = false
-        }
-    }
-
-    private fun getTranslatedEntries(key: String, entries: List<String>): Array<String> {
-        val translatedEntries = ArrayList<String>(entries.size)
-        for (entry in entries) {
-            var translatedEntry = entry
-
-            val rawVars = getRawVars(key)
-            val cleanedKey = getCleanedKey(key)
-
-            val name = SENSOR_SETTING_TRANS_KEY_PREFIX + cleanedKey + "_" + entry + "_label"
-            val entryId = resources.getIdentifier(name, "string", requireContext().packageName)
-            if (entryId != 0) {
-                try {
-                    translatedEntry = getString(entryId, convertRawVarsToStringVars(rawVars))
-                } catch (e: Exception) {
-                    Log.e(TAG, "getTranslatedEntries: Cannot get translated string for name \"$name\"", e)
-                }
-            } else {
-                Log.e(TAG, "getTranslatedEntries: Cannot find string identifier for name \"$name\"")
-            }
-            translatedEntries.add(translatedEntry)
-        }
-        return translatedEntries.toTypedArray()
-    }
-
-    private fun getTranslatedTitle(key: String): String {
-        var translatedValue = key
-
-        val rawVars = getRawVars(key)
-        val cleanedKey = getCleanedKey(key)
-
-        val name = SENSOR_SETTING_TRANS_KEY_PREFIX + cleanedKey + "_title"
-
-        val titleId = resources.getIdentifier(name, "string", requireContext().packageName)
-        if (titleId != null) {
-            try {
-                translatedValue = getString(titleId, *convertRawVarsToStringVars(rawVars))
-            } catch (e: Exception) {
-                Log.w(TAG, "getTranslatedTitle: Cannot get translated string for name \"$name\"", e)
-            }
-        } else {
-            Log.e(TAG, "getTranslatedTitle: Cannot find string identifier for name \"$name\"")
-        }
-        return translatedValue
-    }
-
-    private fun getCleanedKey(key: String): String {
-        val varWithUnderscoreRegex = "_var\\d:.*:".toRegex()
-        val cleanedKey = key.replace(varWithUnderscoreRegex, "")
-        if (key != cleanedKey) Log.d(TAG, "Cleaned translation key \"$cleanedKey\"")
-        return cleanedKey
-    }
-
-    private fun getRawVars(key: String): List<String> {
-        val varRegex = "var\\d:.*:".toRegex()
-        val rawVars = key.split("_").filter { it.matches(varRegex) }
-        if (rawVars.isNotEmpty()) Log.d(TAG, "Vars from translation key \"$key\": $rawVars")
-        return rawVars
-    }
-
-    private fun convertRawVarsToStringVars(rawVars: List<String>): Array<String> {
-        var stringVars: MutableList<String> = ArrayList()
-        if (rawVars.isNotEmpty()) {
-            Log.d(TAG, "Convert raw vars \"$rawVars\" to string vars...")
-            var varPrefixRegex = "var\\d:".toRegex()
-            var varSuffixRegex = ":$".toRegex()
-            for (rawVar in rawVars) {
-                var stringVar = rawVar.replace(varPrefixRegex, "").replace(varSuffixRegex, "")
-                Log.d(TAG, "Convert raw var \"$rawVar\" to string var \"$stringVar\"")
-                stringVars.add(stringVar)
-            }
-            Log.d(TAG, "Converted raw vars to string vars \"$stringVars\"")
-        }
-        return stringVars.toTypedArray()
-    }
-
-    private fun createListPreference(
-        key: String,
-        sensorSetting: SensorSetting,
-        sensorDao: SensorDao,
-        entries: List<String>
-    ): Preference {
-
-        val pref = findPreference(key)
-            ?: MultiSelectListPreference(requireContext())
-        pref.key = key
-        pref.isEnabled = sensorSetting.enabled
-        pref.title = getTranslatedTitle(sensorSetting.name)
-        pref.dialogTitle = pref.title
-        pref.entries = entries.toTypedArray()
-        pref.entryValues = entries.toTypedArray()
-        pref.isIconSpaceReserved = false
-        pref.isSingleLineTitle = false
-
-        // If selected list values are empty, but the setting.value is filled, then set the selected list value to the setting value
-        if ((pref.values == null || pref.values.isEmpty()) && sensorSetting.value.isNotEmpty()) pref.values = sensorSetting.value.split(", ").map { it }.toSet()
-
-        pref.summary = pref.values.toString()
-
-        pref.setOnPreferenceChangeListener { _, newValue ->
-            sensorDao.add(
-                SensorSetting(
-                    basicSensor.id,
-                    sensorSetting.name,
-                    newValue.toString().replace("[", "").replace("]", ""),
-                    sensorSetting.valueType,
-                    sensorSetting.enabled
-                )
-            )
-            sensorManager.requestSensorUpdate(requireContext())
-            return@setOnPreferenceChangeListener true
-        }
-
-        if (pref.values != null) {
-            for (item in pref.values.toList()) {
-                if (!entries.contains(item.toString().removeSurrounding("[", "]")))
-                    pref.values = setOf()
-            }
-            pref.summary = pref.values.toString()
-        } else
-            pref.summary = sensorSetting.value
-
-        return pref
-    }
-
-    private fun updateSensorEntity(
-        isEnabled: Boolean
-    ) {
-        var sensorEntity = sensorDao.get(basicSensor.id)
-        if (sensorEntity != null) {
-            sensorEntity.enabled = isEnabled
-            sensorEntity.lastSentState = ""
-            sensorDao.update(sensorEntity)
-        } else {
-            sensorEntity = Sensor(basicSensor.id, isEnabled, false, "")
-            sensorDao.add(sensorEntity)
-        }
-        refreshSensorData()
-    }
-
-    private fun requestPermissions(permissions: Array<String>) {
-        when {
-            permissions.any { perm -> perm == Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE } ->
-                startActivity(Intent(Settings.ACTION_NOTIFICATION_LISTENER_SETTINGS))
-            permissions.any { perm -> perm == Manifest.permission.PACKAGE_USAGE_STATS } ->
-                startActivity(Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS))
-            android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.R ->
-                requestPermissions(
-                    permissions.toSet()
-                        .minus(Manifest.permission.ACCESS_BACKGROUND_LOCATION).toTypedArray(),
-                    0
-                )
-            else -> requestPermissions(permissions, 0)
-        }
-    }
-
-    override fun onRequestPermissionsResult(
-        requestCode: Int,
-        permissions: Array<out String>,
-        grantResults: IntArray
-    ) {
-        super.onRequestPermissionsResult(requestCode, permissions, grantResults)
-
-        if (permissions.contains(Manifest.permission.ACCESS_FINE_LOCATION) &&
-            android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.R
-        ) {
-            requestPermissions(arrayOf(Manifest.permission.ACCESS_BACKGROUND_LOCATION), 0)
-        }
-
-        findPreference<SwitchPreference>("enabled")?.run {
-            isChecked = grantResults.all { it == PackageManager.PERMISSION_GRANTED }
-
-            updateSensorEntity(isChecked)
-        }
-    }
-}
diff --git a/app/src/main/java/io/homeassistant/companion/android/sensors/SensorsSettingsFragment.kt b/app/src/main/java/io/homeassistant/companion/android/sensors/SensorsSettingsFragment.kt
deleted file mode 100644
index beecacb706d..00000000000
--- a/app/src/main/java/io/homeassistant/companion/android/sensors/SensorsSettingsFragment.kt
+++ /dev/null
@@ -1,202 +0,0 @@
-package io.homeassistant.companion.android.sensors
-
-import android.content.Intent
-import android.net.Uri
-import android.os.Bundle
-import android.os.Handler
-import android.os.Looper
-import android.view.Menu
-import android.view.MenuItem
-import android.widget.SearchView
-import androidx.core.view.MenuItemCompat
-import androidx.preference.Preference
-import androidx.preference.PreferenceCategory
-import androidx.preference.PreferenceFragmentCompat
-import androidx.preference.PreferenceGroup
-import androidx.preference.forEach
-import androidx.preference.iterator
-import dagger.hilt.android.AndroidEntryPoint
-import io.homeassistant.companion.android.R
-import io.homeassistant.companion.android.common.data.integration.IntegrationRepository
-import io.homeassistant.companion.android.database.AppDatabase
-import javax.inject.Inject
-import io.homeassistant.companion.android.common.R as commonR
-
-@AndroidEntryPoint
-class SensorsSettingsFragment : PreferenceFragmentCompat() {
-
-    @Inject
-    lateinit var integrationUseCase: IntegrationRepository
-
-    private val handler = Handler(Looper.getMainLooper())
-    private val refresh = object : Runnable {
-        override fun run() {
-            SensorWorker.start(requireContext())
-            val sensorDao = AppDatabase.getInstance(requireContext()).sensorDao()
-            SensorReceiver.MANAGERS.forEach { managers ->
-                managers.getAvailableSensors(requireContext()).forEach { basicSensor ->
-                    findPreference<Preference>(basicSensor.id)?.let {
-                        val sensorEntity = sensorDao.get(basicSensor.id)
-                        if (sensorEntity?.enabled == true) {
-                            if (!sensorEntity.state.isNullOrBlank()) {
-                                if (basicSensor.unitOfMeasurement.isNullOrBlank()) it.summary = sensorEntity.state
-                                else it.summary = sensorEntity.state + " " + basicSensor.unitOfMeasurement
-                            } else {
-                                it.summary = getString(commonR.string.enabled)
-                            }
-                            // TODO: Add the icon from mdi:icon?
-                        } else {
-                            it.summary = getString(commonR.string.disabled)
-                        }
-                    }
-                }
-            }
-            handler.postDelayed(this, 10000)
-        }
-    }
-
-    companion object {
-        private var showOnlyEnabledSensors = false
-        private const val TAG = "SensorSettings"
-
-        fun newInstance(): SensorsSettingsFragment {
-            return SensorsSettingsFragment()
-        }
-    }
-
-    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
-
-        setPreferencesFromResource(R.xml.sensors, rootKey)
-
-        SensorReceiver.MANAGERS.sortedBy { getString(it.name) }.filter { it.hasSensor(requireContext()) }.forEach { manager ->
-            val prefCategory = PreferenceCategory(preferenceScreen.context)
-            prefCategory.title = getString(manager.name)
-            preferenceScreen.addPreference(prefCategory)
-
-            manager.getAvailableSensors(requireContext()).sortedBy { getString(it.name) }.forEach { basicSensor ->
-                val pref = Preference(preferenceScreen.context)
-                pref.key = basicSensor.id
-                pref.title = getString(basicSensor.name)
-                pref.isVisible = !showOnlyEnabledSensors || (showOnlyEnabledSensors && manager.isEnabled(requireContext(), basicSensor.id))
-                pref.setOnPreferenceClickListener {
-                    parentFragmentManager
-                        .beginTransaction()
-                        .replace(
-                            R.id.content,
-                            SensorDetailFragment.newInstance(
-                                manager,
-                                basicSensor,
-                                integrationUseCase
-                            )
-                        )
-                        .addToBackStack("Sensor Detail")
-                        .commit()
-                    return@setOnPreferenceClickListener true
-                }
-
-                prefCategory.addPreference(pref)
-            }
-        }
-
-        if (showOnlyEnabledSensors) showHideGroupsIfNeeded()
-    }
-
-    override fun onCreate(savedInstanceState: Bundle?) {
-        super.onCreate(savedInstanceState)
-
-        // Needed to call onPrepareOptionsMenu
-        setHasOptionsMenu(true)
-    }
-
-    override fun onPrepareOptionsMenu(menu: Menu) {
-        super.onPrepareOptionsMenu(menu)
-
-        menu.setGroupVisible(R.id.senor_detail_toolbar_group, true)
-
-        val searchViewItem = menu.findItem(R.id.action_search)
-        val searchView: SearchView = MenuItemCompat.getActionView(searchViewItem) as SearchView
-        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {
-            override fun onQueryTextSubmit(query: String?): Boolean {
-                searchView.clearFocus()
-
-                return false
-            }
-
-            override fun onQueryTextChange(query: String?): Boolean {
-                filterSensors(query)
-                return false
-            }
-        })
-
-        if (showOnlyEnabledSensors) {
-            val checkable = menu.findItem(R.id.action_show_only_enabled_sensors)
-            checkable?.isChecked = true
-        }
-
-        menu.findItem(R.id.get_help)?.let {
-            it.isVisible = true
-            it.intent = Intent(Intent.ACTION_VIEW, Uri.parse("https://companion.home-assistant.io/docs/core/sensors#android-sensors"))
-        }
-    }
-
-    override fun onOptionsItemSelected(item: MenuItem): Boolean {
-        when (item.itemId) {
-            R.id.action_show_only_enabled_sensors -> {
-                item.isChecked = !item.isChecked
-                showOnlyEnabledSensors = item.isChecked
-
-                filterSensors()
-                return true
-            }
-        }
-        return super.onOptionsItemSelected(item)
-    }
-
-    private fun filterSensors(searchQuery: String? = "") {
-        SensorReceiver.MANAGERS.filter { m -> m.hasSensor(requireContext()) }.forEach { manager ->
-            manager.getAvailableSensors(requireContext()).forEach { sensor ->
-                val pref = findPreference<Preference>(sensor.id)
-                if (pref != null) {
-                    pref.isVisible = true
-                    if (!searchQuery.isNullOrBlank()) {
-                        val found = pref.title.contains(searchQuery, true)
-                        pref.isVisible = found
-                    } else {
-                        if (showOnlyEnabledSensors) {
-                            pref.isVisible = manager.isEnabled(requireContext(), sensor.id)
-                        }
-                    }
-                }
-            }
-        }
-        showHideGroupsIfNeeded()
-    }
-
-    private fun showHideGroupsIfNeeded() {
-        for (pref in preferenceScreen) {
-            val prefGroup = pref as? PreferenceGroup
-            if (prefGroup != null) {
-                prefGroup.isVisible = false
-
-                prefGroup.forEach { pref ->
-                    if (pref.isVisible) {
-                        prefGroup.isVisible = true
-                        return@forEach
-                    }
-                }
-            }
-        }
-    }
-
-    override fun onResume() {
-        super.onResume()
-        activity?.title = getString(commonR.string.sensors)
-        filterSensors()
-        handler.postDelayed(refresh, 0)
-    }
-
-    override fun onPause() {
-        super.onPause()
-        handler.removeCallbacks(refresh)
-    }
-}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragment.kt b/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragment.kt
index ff54e997a2d..b1f9b7edd26 100644
--- a/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragment.kt
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragment.kt
@@ -33,12 +33,12 @@ import io.homeassistant.companion.android.authenticator.Authenticator
 import io.homeassistant.companion.android.common.util.DisabledLocationHandler
 import io.homeassistant.companion.android.common.util.LocationPermissionInfoHandler
 import io.homeassistant.companion.android.nfc.NfcSetupActivity
-import io.homeassistant.companion.android.sensors.SensorsSettingsFragment
 import io.homeassistant.companion.android.settings.language.LanguagesProvider
 import io.homeassistant.companion.android.settings.log.LogFragment
 import io.homeassistant.companion.android.settings.notification.NotificationChannelFragment
 import io.homeassistant.companion.android.settings.notification.NotificationHistoryFragment
 import io.homeassistant.companion.android.settings.qs.ManageTilesFragment
+import io.homeassistant.companion.android.settings.sensor.SensorSettingsFragment
 import io.homeassistant.companion.android.settings.sensor.SensorUpdateFrequencyFragment
 import io.homeassistant.companion.android.settings.shortcuts.ManageShortcutsSettingsFragment
 import io.homeassistant.companion.android.settings.ssid.SsidDialogFragment
@@ -148,7 +148,7 @@ class SettingsFragment constructor(
         findPreference<Preference>("sensors")?.setOnPreferenceClickListener {
             parentFragmentManager
                 .beginTransaction()
-                .replace(R.id.content, SensorsSettingsFragment.newInstance())
+                .replace(R.id.content, SensorSettingsFragment::class.java, null)
                 .addToBackStack(getString(commonR.string.sensors))
                 .commit()
             return@setOnPreferenceClickListener true
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragmentFactory.kt b/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragmentFactory.kt
index fc5d836ba60..52af1d9cc7c 100644
--- a/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragmentFactory.kt
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/SettingsFragmentFactory.kt
@@ -8,6 +8,8 @@ import io.homeassistant.companion.android.settings.log.LogFragment
 import io.homeassistant.companion.android.settings.notification.NotificationDetailFragment
 import io.homeassistant.companion.android.settings.notification.NotificationHistoryFragment
 import io.homeassistant.companion.android.settings.qs.ManageTilesFragment
+import io.homeassistant.companion.android.settings.sensor.SensorDetailFragment
+import io.homeassistant.companion.android.settings.sensor.SensorSettingsFragment
 import io.homeassistant.companion.android.settings.shortcuts.ManageShortcutsSettingsFragment
 import io.homeassistant.companion.android.settings.widgets.ManageWidgetsSettingsFragment
 import javax.inject.Inject
@@ -23,6 +25,8 @@ class SettingsFragmentFactory @Inject constructor(
             LogFragment::class.java.name -> LogFragment()
             NotificationDetailFragment::class.java.name -> NotificationDetailFragment()
             NotificationHistoryFragment::class.java.name -> NotificationHistoryFragment()
+            SensorSettingsFragment::class.java.name -> SensorSettingsFragment()
+            SensorDetailFragment::class.java.name -> SensorDetailFragment("")
             ManageTilesFragment::class.java.name -> ManageTilesFragment(integrationRepository)
             ManageShortcutsSettingsFragment::class.java.name -> ManageShortcutsSettingsFragment()
             ManageWidgetsSettingsFragment::class.java.name -> ManageWidgetsSettingsFragment()
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailFragment.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailFragment.kt
new file mode 100644
index 00000000000..3cd50b115fa
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailFragment.kt
@@ -0,0 +1,122 @@
+package io.homeassistant.companion.android.settings.sensor
+
+import android.Manifest
+import android.content.Intent
+import android.net.Uri
+import android.os.Bundle
+import android.provider.Settings
+import android.view.LayoutInflater
+import android.view.Menu
+import android.view.View
+import android.view.ViewGroup
+import androidx.activity.result.contract.ActivityResultContracts
+import androidx.compose.ui.ExperimentalComposeUiApi
+import androidx.compose.ui.platform.ComposeView
+import androidx.fragment.app.Fragment
+import androidx.fragment.app.viewModels
+import com.google.android.material.composethemeadapter.MdcTheme
+import dagger.hilt.android.AndroidEntryPoint
+import io.homeassistant.companion.android.R
+import io.homeassistant.companion.android.common.util.DisabledLocationHandler
+import io.homeassistant.companion.android.common.util.LocationPermissionInfoHandler
+import io.homeassistant.companion.android.settings.sensor.views.SensorDetailView
+
+@AndroidEntryPoint
+class SensorDetailFragment(val sensorId: String) : Fragment() {
+
+    companion object {
+        fun newInstance(sensorId: String): SensorDetailFragment {
+            return SensorDetailFragment(sensorId).apply {
+                arguments = Bundle().apply { putString("id", sensorId) }
+            }
+        }
+    }
+
+    val viewModel: SensorDetailViewModel by viewModels()
+
+    private val activityResultRequest = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {
+        viewModel.onActivityResult()
+    }
+    private val permissionsRequest = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) {
+        viewModel.onPermissionsResult(it)
+    }
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setHasOptionsMenu(true)
+    }
+
+    override fun onPrepareOptionsMenu(menu: Menu) {
+        super.onPrepareOptionsMenu(menu)
+        menu.setGroupVisible(R.id.senor_detail_toolbar_group, true)
+        menu.removeItem(R.id.action_filter)
+        menu.removeItem(R.id.action_search)
+
+        menu.findItem(R.id.get_help)?.let {
+            val docsLink = viewModel.basicSensor?.docsLink ?: viewModel.sensorManager?.docsLink()
+            it.intent = Intent(Intent.ACTION_VIEW, Uri.parse(docsLink))
+            it.isVisible = docsLink != null // should always be true
+        }
+    }
+
+    @ExperimentalComposeUiApi
+    override fun onCreateView(
+        inflater: LayoutInflater,
+        container: ViewGroup?,
+        savedInstanceState: Bundle?
+    ): View {
+        return ComposeView(requireContext()).apply {
+            setContent {
+                MdcTheme {
+                    SensorDetailView(
+                        viewModel = viewModel,
+                        onSetEnabled = { enable -> viewModel.setEnabled(enable) },
+                        onToggleSettingSubmitted = { setting -> viewModel.setSetting(setting) },
+                        onDialogSettingClicked = { setting -> viewModel.onSettingWithDialogPressed(setting) },
+                        onDialogSettingSubmitted = { state -> viewModel.submitSettingWithDialog(state) }
+                    )
+                }
+            }
+        }
+    }
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+
+        viewModel.permissionRequests.observe(viewLifecycleOwner) { permissions ->
+            if (permissions.isEmpty()) return@observe
+            when {
+                permissions.any { perm -> perm == Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE } ->
+                    activityResultRequest.launch(Intent(Settings.ACTION_NOTIFICATION_LISTENER_SETTINGS))
+                permissions.any { perm -> perm == Manifest.permission.PACKAGE_USAGE_STATS } ->
+                    activityResultRequest.launch(Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS))
+                android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.R ->
+                    if (permissions.size == 1 && permissions[0] == Manifest.permission.ACCESS_BACKGROUND_LOCATION) {
+                        permissionsRequest.launch(permissions)
+                    } else {
+                        permissionsRequest.launch(permissions.toSet().minus(Manifest.permission.ACCESS_BACKGROUND_LOCATION).toTypedArray())
+                    }
+                else -> permissionsRequest.launch(permissions)
+            }
+        }
+        viewModel.locationPermissionRequests.observe(viewLifecycleOwner) {
+            it?.let {
+                if (it.block) {
+                    DisabledLocationHandler.showLocationDisabledWarnDialog(requireActivity(), it.sensors)
+                } else {
+                    LocationPermissionInfoHandler.showLocationPermInfoDialogIfNeeded(
+                        requireContext(), it.permissions!!,
+                        continueYesCallback = {
+                            permissionsRequest.launch(
+                                if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.R) {
+                                    it.permissions.toSet().minus(Manifest.permission.ACCESS_BACKGROUND_LOCATION).toTypedArray()
+                                } else it.permissions
+                            )
+                        }
+                    )
+                }
+                viewModel.locationPermissionRequests.value = null
+            }
+        }
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailViewModel.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailViewModel.kt
new file mode 100644
index 00000000000..8f47c540f07
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorDetailViewModel.kt
@@ -0,0 +1,314 @@
+package io.homeassistant.companion.android.settings.sensor
+
+import android.Manifest
+import android.app.Application
+import android.content.pm.PackageManager
+import android.util.Log
+import androidx.compose.runtime.mutableStateListOf
+import androidx.compose.runtime.mutableStateOf
+import androidx.lifecycle.AndroidViewModel
+import androidx.lifecycle.MutableLiveData
+import androidx.lifecycle.SavedStateHandle
+import androidx.lifecycle.viewModelScope
+import dagger.hilt.android.lifecycle.HiltViewModel
+import io.homeassistant.companion.android.common.bluetooth.BluetoothUtils
+import io.homeassistant.companion.android.common.data.integration.IntegrationRepository
+import io.homeassistant.companion.android.common.sensors.NetworkSensorManager
+import io.homeassistant.companion.android.common.util.DisabledLocationHandler
+import io.homeassistant.companion.android.database.AppDatabase
+import io.homeassistant.companion.android.database.sensor.Sensor
+import io.homeassistant.companion.android.database.sensor.SensorSetting
+import io.homeassistant.companion.android.database.sensor.SensorWithAttributes
+import io.homeassistant.companion.android.sensors.LastAppSensorManager
+import io.homeassistant.companion.android.sensors.SensorReceiver
+import io.homeassistant.companion.android.sensors.SensorWorker
+import kotlinx.coroutines.launch
+import kotlinx.coroutines.runBlocking
+import javax.inject.Inject
+
+@HiltViewModel
+class SensorDetailViewModel @Inject constructor(
+    state: SavedStateHandle,
+    private val integrationUseCase: IntegrationRepository,
+    application: Application
+) : AndroidViewModel(application) {
+
+    companion object {
+        const val TAG = "SensorDetailViewModel"
+
+        private const val SENSOR_SETTING_TRANS_KEY_PREFIX = "sensor_setting_"
+
+        data class LocationPermissionsDialog(
+            val block: Boolean,
+            val sensors: Array<String>,
+            val permissions: Array<String>? = null
+        )
+        data class SettingDialogState(
+            val setting: SensorSetting,
+            val entries: List<String>? = null,
+            val entriesIds: List<String>? = null,
+            val entriesSelected: List<String>? = null
+        )
+    }
+
+    val sensorId: String = state["id"]!!
+    val app = application
+
+    val permissionRequests = MutableLiveData<Array<String>>()
+    val locationPermissionRequests = MutableLiveData<LocationPermissionsDialog?>()
+
+    val sensorManager = SensorReceiver.MANAGERS
+        .find { it.getAvailableSensors(app).any { sensor -> sensor.id == sensorId } }
+    val basicSensor = sensorManager?.getAvailableSensors(app)
+        ?.find { it.id == sensorId }
+
+    private val sensorDao = AppDatabase.getInstance(app).sensorDao()
+    private val sensorFlow = sensorDao.getFullFlow(sensorId)
+    var sensor = mutableStateOf<SensorWithAttributes?>(null)
+        private set
+    private var sensorCheckedEnabled = false
+    private val sensorSettingsFlow = sensorDao.getSettingsFlow(sensorId)
+    var sensorSettings = mutableStateListOf<SensorSetting>()
+        private set
+    var sensorSettingsDialog = mutableStateOf<SettingDialogState?>(null)
+        private set
+
+    private val zones by lazy {
+        Log.d(TAG, "Get zones from Home Assistant for listing zones in preferences...")
+        runBlocking {
+            try {
+                val cachedZones = integrationUseCase.getZones().map { it.entityId }
+                Log.d(TAG, "Successfully received " + cachedZones.size + " zones (" + cachedZones + ") from Home Assistant")
+                cachedZones
+            } catch (e: Exception) {
+                Log.e(TAG, "Error receiving zones from Home Assistant", e)
+                emptyList()
+            }
+        }
+    }
+
+    init {
+        viewModelScope.launch {
+            sensorFlow?.collect {
+                sensor.value = it
+                if (!sensorCheckedEnabled) checkSensorEnabled()
+            }
+        }
+        viewModelScope.launch {
+            sensorSettingsFlow.collect {
+                sensorSettings.clear()
+                sensorSettings.addAll(it)
+            }
+        }
+    }
+
+    private fun checkSensorEnabled() {
+        if (sensorManager != null && basicSensor != null) {
+            sensor.value?.let {
+                sensorCheckedEnabled = true
+                val hasPermission = sensorManager.checkPermission(app.applicationContext, basicSensor.id)
+                val enabled = it.sensor.enabled && hasPermission
+                updateSensorEntity(enabled)
+            }
+        }
+    }
+
+    fun setEnabled(isEnabled: Boolean) {
+        if (isEnabled) {
+            sensorManager?.requiredPermissions(sensorId)?.let { permissions ->
+                val fineLocation = DisabledLocationHandler.containsLocationPermission(permissions, true)
+                val coarseLocation = DisabledLocationHandler.containsLocationPermission(permissions, false)
+
+                if ((fineLocation || coarseLocation) &&
+                    !DisabledLocationHandler.isLocationEnabled(app.applicationContext)
+                ) {
+                    locationPermissionRequests.value = LocationPermissionsDialog(block = true, sensors = arrayOf(basicSensor?.let { app.getString(basicSensor.name) } ?: ""))
+                    return
+                } else {
+                    if (!sensorManager.checkPermission(app.applicationContext, sensorId)) {
+                        if (sensorManager is NetworkSensorManager) {
+                            locationPermissionRequests.value = LocationPermissionsDialog(block = false, sensors = emptyArray(), permissions = permissions)
+                        } else if (sensorManager is LastAppSensorManager && !sensorManager.checkUsageStatsPermission(app.applicationContext)) {
+                            permissionRequests.value = permissions
+                        } else {
+                            permissionRequests.value = permissions
+                        }
+
+                        return
+                    }
+                }
+            } ?: return
+        }
+
+        updateSensorEntity(isEnabled)
+        if (isEnabled) sensorManager?.requestSensorUpdate(app)
+    }
+
+    fun onSettingWithDialogPressed(setting: SensorSetting) {
+        val listSetting = setting.valueType != "string" && setting.valueType != "number"
+        val listEntries = getSettingEntries(setting)
+        val state = SettingDialogState(
+            setting = setting,
+            entries = if (listSetting) listEntries else null,
+            entriesIds = if (listSetting) {
+                if (setting.valueType == "list") setting.entries
+                else listEntries
+            } else {
+                null
+            },
+            entriesSelected = if (listSetting) {
+                setting.value.split(", ").filter {
+                    if (setting.valueType == "list") setting.entries.contains(it)
+                    else listEntries.contains(it)
+                }
+            } else {
+                null
+            }
+        )
+        sensorSettingsDialog.value = state
+    }
+
+    fun cancelSettingWithDialog() {
+        sensorSettingsDialog.value = null
+    }
+
+    fun submitSettingWithDialog(data: SettingDialogState?) {
+        if (data != null) {
+            setSetting(data.setting)
+        }
+        sensorSettingsDialog.value = null
+    }
+
+    fun setSetting(setting: SensorSetting) {
+        sensorDao.add(setting)
+        sensorManager?.requestSensorUpdate(app)
+        refreshSensorData()
+    }
+
+    private fun updateSensorEntity(isEnabled: Boolean) {
+        sensor.value?.let {
+            sensorDao.update(
+                it.sensor.copy().apply {
+                    enabled = isEnabled
+                    lastSentState = ""
+                }
+            )
+        } ?: run {
+            val sensorEntity = Sensor(sensorId, isEnabled, false, "")
+            sensorDao.add(sensorEntity)
+        }
+        refreshSensorData()
+    }
+
+    private fun refreshSensorData() {
+        SensorWorker.start(app.applicationContext)
+    }
+
+    fun getSettingTranslatedTitle(key: String): String {
+        val name = SENSOR_SETTING_TRANS_KEY_PREFIX + getCleanedKey(key) + "_title"
+        return getStringFromIdentifierString(key, name) ?: key
+    }
+
+    fun getSettingTranslatedEntry(key: String, entry: String): String {
+        val name = SENSOR_SETTING_TRANS_KEY_PREFIX + getCleanedKey(key) + "_" + entry + "_label"
+        return getStringFromIdentifierString(entry, name) ?: entry
+    }
+
+    private fun getSettingTranslatedEntries(key: String, entries: List<String>): List<String> {
+        val translatedEntries = ArrayList<String>(entries.size)
+        for (entry in entries) {
+            val name = SENSOR_SETTING_TRANS_KEY_PREFIX + getCleanedKey(key) + "_" + entry + "_label"
+            translatedEntries.add(getStringFromIdentifierString(entry, name) ?: entry)
+        }
+        return translatedEntries
+    }
+
+    private fun getStringFromIdentifierString(key: String, identifierString: String): String? {
+        val rawVars = getRawVars(key)
+        val stringId = app.resources.getIdentifier(identifierString, "string", app.packageName)
+        if (stringId != 0) {
+            try {
+                return app.getString(stringId, *convertRawVarsToStringVars(rawVars))
+            } catch (e: Exception) {
+                Log.w(TAG, "getStringFromIdentifierString: Cannot get translated string for name \"$identifierString\"", e)
+            }
+        } else {
+            Log.e(TAG, "getStringFromIdentifierString: Cannot find string identifier for name \"$identifierString\"")
+        }
+        return null
+    }
+
+    private fun getCleanedKey(key: String): String {
+        val varWithUnderscoreRegex = "_var\\d:.*:".toRegex()
+        val cleanedKey = key.replace(varWithUnderscoreRegex, "")
+        if (key != cleanedKey) Log.d(TAG, "Cleaned translation key \"$cleanedKey\"")
+        return cleanedKey
+    }
+
+    private fun getRawVars(key: String): List<String> {
+        val varRegex = "var\\d:.*:".toRegex()
+        val rawVars = key.split("_").filter { it.matches(varRegex) }
+        if (rawVars.isNotEmpty()) Log.d(TAG, "Vars from translation key \"$key\": $rawVars")
+        return rawVars
+    }
+
+    private fun convertRawVarsToStringVars(rawVars: List<String>): Array<String> {
+        var stringVars: MutableList<String> = ArrayList()
+        if (rawVars.isNotEmpty()) {
+            Log.d(TAG, "Convert raw vars \"$rawVars\" to string vars...")
+            var varPrefixRegex = "var\\d:".toRegex()
+            var varSuffixRegex = ":$".toRegex()
+            for (rawVar in rawVars) {
+                var stringVar = rawVar.replace(varPrefixRegex, "").replace(varSuffixRegex, "")
+                Log.d(TAG, "Convert raw var \"$rawVar\" to string var \"$stringVar\"")
+                stringVars.add(stringVar)
+            }
+            Log.d(TAG, "Converted raw vars to string vars \"$stringVars\"")
+        }
+        return stringVars.toTypedArray()
+    }
+
+    private fun getSettingEntries(setting: SensorSetting): List<String> {
+        return when (setting.valueType) {
+            "list" ->
+                getSettingTranslatedEntries(setting.name, setting.entries)
+            "list-apps" -> {
+                val packageNames = mutableListOf<String>()
+                app.packageManager?.getInstalledApplications(PackageManager.GET_META_DATA)?.let {
+                    for (packageItem in it) {
+                        packageNames.add(packageItem.packageName)
+                    }
+                    packageNames.sort()
+                }
+                return packageNames
+            }
+            "list-bluetooth" ->
+                BluetoothUtils.getBluetoothDevices(app.applicationContext).map { it.name }
+            "list-zones" ->
+                zones
+            else ->
+                emptyList()
+        }
+    }
+
+    fun onActivityResult() {
+        // This is only called when we requested permissions to enable a sensor, so check if
+        // we have all permissions and should enable the sensor.
+        updateSensorEntity(sensorManager?.checkPermission(app, sensorId) == true)
+        permissionRequests.value = emptyArray()
+    }
+
+    fun onPermissionsResult(results: Map<String, Boolean>) {
+        // This is only called when we requested permissions to enable a sensor, so check if we
+        // need to do another request, or if we have all permissions and should enable the sensor.
+        if (results.keys.contains(Manifest.permission.ACCESS_FINE_LOCATION) &&
+            android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.R
+        ) {
+            permissionRequests.value = arrayOf(Manifest.permission.ACCESS_BACKGROUND_LOCATION)
+            return
+        }
+
+        updateSensorEntity(results.values.all { it } && sensorManager?.checkPermission(app, sensorId) == true)
+        permissionRequests.value = emptyArray()
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsFragment.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsFragment.kt
new file mode 100644
index 00000000000..8e813e46e92
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsFragment.kt
@@ -0,0 +1,107 @@
+package io.homeassistant.companion.android.settings.sensor
+
+import android.content.Intent
+import android.net.Uri
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.Menu
+import android.view.MenuItem
+import android.view.View
+import android.view.ViewGroup
+import android.widget.SearchView
+import androidx.compose.ui.platform.ComposeView
+import androidx.fragment.app.Fragment
+import androidx.fragment.app.viewModels
+import com.google.android.material.composethemeadapter.MdcTheme
+import io.homeassistant.companion.android.R
+import io.homeassistant.companion.android.sensors.SensorReceiver
+import io.homeassistant.companion.android.settings.sensor.views.SensorListView
+import io.homeassistant.companion.android.common.R as commonR
+
+class SensorSettingsFragment : Fragment() {
+
+    val viewModel: SensorSettingsViewModel by viewModels()
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setHasOptionsMenu(true)
+    }
+
+    override fun onPrepareOptionsMenu(menu: Menu) {
+        super.onPrepareOptionsMenu(menu)
+
+        menu.setGroupVisible(R.id.senor_detail_toolbar_group, true)
+
+        val searchViewItem = menu.findItem(R.id.action_search)
+        val searchView: SearchView = searchViewItem.actionView as SearchView
+        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {
+            override fun onQueryTextSubmit(query: String?): Boolean {
+                searchView.clearFocus()
+                return false
+            }
+
+            override fun onQueryTextChange(query: String?): Boolean {
+                viewModel.setSensorsSearchQuery(query)
+                return false
+            }
+        })
+        if (!viewModel.searchQuery.isNullOrBlank() && !searchViewItem.isActionViewExpanded) {
+            viewModel.setSensorsSearchQuery(null)
+        }
+
+        if (viewModel.showOnlyEnabledSensors.value) {
+            val checkable = menu.findItem(R.id.action_show_only_enabled_sensors)
+            checkable?.isChecked = true
+        }
+
+        menu.findItem(R.id.get_help)?.let {
+            it.isVisible = true
+            it.intent = Intent(Intent.ACTION_VIEW, Uri.parse("https://companion.home-assistant.io/docs/core/sensors#android-sensors"))
+        }
+    }
+
+    override fun onOptionsItemSelected(item: MenuItem): Boolean {
+        when (item.itemId) {
+            R.id.action_show_only_enabled_sensors -> {
+                item.isChecked = !item.isChecked
+                viewModel.setShowOnlyEnabledSensors(item.isChecked)
+                return true
+            }
+        }
+        return super.onOptionsItemSelected(item)
+    }
+
+    override fun onCreateView(
+        inflater: LayoutInflater,
+        container: ViewGroup?,
+        savedInstanceState: Bundle?
+    ): View {
+        return ComposeView(requireContext()).apply {
+            setContent {
+                MdcTheme {
+                    SensorListView(
+                        viewModel = viewModel,
+                        managers = SensorReceiver.MANAGERS.sortedBy { getString(it.name) },
+                        onSensorClicked = { sensor ->
+                            parentFragmentManager
+                                .beginTransaction()
+                                .replace(
+                                    R.id.content,
+                                    SensorDetailFragment.newInstance(
+                                        sensor
+                                    )
+                                )
+                                .addToBackStack("Sensor Detail")
+                                .commit()
+                        }
+                    )
+                }
+            }
+        }
+    }
+
+    override fun onResume() {
+        super.onResume()
+        activity?.title = getString(commonR.string.sensors)
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsViewModel.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsViewModel.kt
new file mode 100644
index 00000000000..ff5273fbfa1
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/SensorSettingsViewModel.kt
@@ -0,0 +1,62 @@
+package io.homeassistant.companion.android.settings.sensor
+
+import android.app.Application
+import androidx.compose.runtime.mutableStateListOf
+import androidx.compose.runtime.mutableStateOf
+import androidx.lifecycle.AndroidViewModel
+import androidx.lifecycle.viewModelScope
+import io.homeassistant.companion.android.database.AppDatabase
+import io.homeassistant.companion.android.database.sensor.Sensor
+import io.homeassistant.companion.android.sensors.SensorReceiver
+import kotlinx.coroutines.launch
+import javax.inject.Inject
+
+class SensorSettingsViewModel @Inject constructor(application: Application) :
+    AndroidViewModel(application) {
+
+    val app = application
+
+    private val sensorsDao = AppDatabase.getInstance(app.applicationContext).sensorDao()
+    private val sensorsFlow = sensorsDao.getAllFlow()
+    private var sensorsList = mutableListOf<Sensor>()
+    var sensors = mutableStateListOf<Sensor>()
+
+    var searchQuery: String? = null
+    var showOnlyEnabledSensors = mutableStateOf(false)
+        private set
+
+    init {
+        viewModelScope.launch {
+            sensorsFlow?.collect {
+                sensorsList.clear()
+                sensorsList.addAll(it)
+                filterSensorsList()
+            }
+        }
+    }
+
+    fun setSensorsSearchQuery(query: String? = "") {
+        searchQuery = query
+        filterSensorsList()
+    }
+
+    fun setShowOnlyEnabledSensors(onlyEnabled: Boolean) {
+        showOnlyEnabledSensors.value = onlyEnabled
+        filterSensorsList()
+    }
+
+    private fun filterSensorsList() {
+        sensors.clear()
+
+        SensorReceiver.MANAGERS.filter { it.hasSensor(app.applicationContext) }.forEach { manager ->
+            sensors.addAll(
+                manager.getAvailableSensors(app.applicationContext)
+                    .filter { sensor ->
+                        (searchQuery.isNullOrEmpty() || app.getString(sensor.name).contains(searchQuery!!, true)) &&
+                            (!showOnlyEnabledSensors.value || manager.isEnabled(app.applicationContext, sensor.id))
+                    }
+                    .mapNotNull { sensor -> sensorsList.firstOrNull { it.id == sensor.id } }
+            )
+        }
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorDetailView.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorDetailView.kt
new file mode 100644
index 00000000000..4ccea7bd75e
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorDetailView.kt
@@ -0,0 +1,367 @@
+package io.homeassistant.companion.android.settings.sensor.views
+
+import androidx.compose.foundation.clickable
+import androidx.compose.foundation.layout.Arrangement
+import androidx.compose.foundation.layout.Column
+import androidx.compose.foundation.layout.PaddingValues
+import androidx.compose.foundation.layout.Row
+import androidx.compose.foundation.layout.fillMaxHeight
+import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.height
+import androidx.compose.foundation.layout.heightIn
+import androidx.compose.foundation.layout.padding
+import androidx.compose.foundation.layout.size
+import androidx.compose.foundation.lazy.LazyColumn
+import androidx.compose.foundation.text.KeyboardActions
+import androidx.compose.foundation.text.KeyboardOptions
+import androidx.compose.foundation.text.selection.SelectionContainer
+import androidx.compose.material.Checkbox
+import androidx.compose.material.ContentAlpha
+import androidx.compose.material.LocalContentAlpha
+import androidx.compose.material.MaterialTheme
+import androidx.compose.material.OutlinedTextField
+import androidx.compose.material.RadioButton
+import androidx.compose.material.Switch
+import androidx.compose.material.SwitchDefaults
+import androidx.compose.material.Text
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.runtime.mutableStateListOf
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.ui.Alignment
+import androidx.compose.ui.ExperimentalComposeUiApi
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.platform.LocalContext
+import androidx.compose.ui.platform.LocalSoftwareKeyboardController
+import androidx.compose.ui.res.colorResource
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.text.font.FontWeight
+import androidx.compose.ui.text.input.ImeAction
+import androidx.compose.ui.text.input.KeyboardType
+import androidx.compose.ui.unit.dp
+import io.homeassistant.companion.android.database.sensor.SensorSetting
+import io.homeassistant.companion.android.settings.sensor.SensorDetailViewModel
+import io.homeassistant.companion.android.util.compose.MdcAlertDialog
+import io.homeassistant.companion.android.common.R as commonR
+
+@ExperimentalComposeUiApi
+@Composable
+fun SensorDetailView(
+    viewModel: SensorDetailViewModel,
+    onSetEnabled: (Boolean) -> Unit,
+    onToggleSettingSubmitted: (SensorSetting) -> Unit,
+    onDialogSettingClicked: (SensorSetting) -> Unit,
+    onDialogSettingSubmitted: (SensorDetailViewModel.Companion.SettingDialogState) -> Unit
+) {
+    val context = LocalContext.current
+
+    viewModel.sensorSettingsDialog.value?.let {
+        SensorDetailSettingDialog(
+            viewModel = viewModel,
+            state = it,
+            onDismiss = { viewModel.cancelSettingWithDialog() },
+            onSubmit = { state -> onDialogSettingSubmitted(state) }
+        )
+    }
+    LazyColumn(
+        contentPadding = PaddingValues(vertical = 8.dp)
+    ) {
+        if (viewModel.sensorManager != null &&
+            viewModel.basicSensor != null
+        ) {
+            item {
+                SensorDetailRow(
+                    title = stringResource(commonR.string.enabled),
+                    summary = stringResource(commonR.string.enabled_summary),
+                    switch = viewModel.sensor.value?.sensor?.enabled
+                        ?: (viewModel.sensorManager.enabledByDefault && viewModel.sensorManager.checkPermission(context, viewModel.basicSensor.id)),
+                    onClick = { onSetEnabled(it!!) }
+                )
+            }
+            item {
+                SensorDetailRow(
+                    title = stringResource(commonR.string.sensor_description),
+                    summary = stringResource(viewModel.basicSensor.descriptionId),
+                    clickable = false
+                )
+            }
+            viewModel.sensor.value?.let { sensor ->
+                item {
+                    SensorDetailRow(
+                        title = stringResource(commonR.string.unique_id),
+                        summary = viewModel.basicSensor.id,
+                        clickable = false,
+                        selectingEnabled = true
+                    )
+                }
+                item {
+                    SensorDetailRow(
+                        title = stringResource(commonR.string.state),
+                        summary = if (!sensor.sensor.enabled) {
+                            stringResource(commonR.string.disabled)
+                        } else {
+                            if (sensor.sensor.unitOfMeasurement.isNullOrBlank()) sensor.sensor.state
+                            else "${sensor.sensor.state} ${sensor.sensor.unitOfMeasurement}"
+                        },
+                        clickable = false,
+                        selectingEnabled = true
+                    )
+                }
+                if (sensor.sensor.deviceClass != null) {
+                    item {
+                        SensorDetailRow(
+                            title = stringResource(commonR.string.device_class),
+                            summary = sensor.sensor.deviceClass!!,
+                            clickable = false
+                        )
+                    }
+                }
+                if (sensor.sensor.icon.isNotBlank()) {
+                    item {
+                        SensorDetailRow(
+                            title = stringResource(commonR.string.icon),
+                            summary = sensor.sensor.icon,
+                            clickable = false
+                        )
+                    }
+                }
+                if (sensor.sensor.enabled && sensor.attributes.isNotEmpty()) {
+                    item {
+                        SensorDetailHeader(stringResource(commonR.string.attributes))
+                    }
+                    sensor.attributes.forEach { attribute ->
+                        item {
+                            SensorDetailRow(
+                                title = attribute.name,
+                                summary = attribute.value,
+                                clickable = false,
+                                selectingEnabled = true
+                            )
+                        }
+                    }
+                }
+                if (sensor.sensor.enabled && viewModel.sensorSettings.isNotEmpty()) {
+                    item {
+                        SensorDetailHeader(stringResource(commonR.string.sensor_settings))
+                    }
+                    viewModel.sensorSettings.forEach { setting ->
+                        item {
+                            when (setting.valueType) {
+                                "toggle" -> {
+                                    SensorDetailRow(
+                                        title = viewModel.getSettingTranslatedTitle(setting.name),
+                                        switch = setting.value == "true",
+                                        enabled = setting.enabled,
+                                        clickable = setting.enabled,
+                                        onClick = { isEnabled ->
+                                            onToggleSettingSubmitted(
+                                                SensorSetting(viewModel.basicSensor.id, setting.name, isEnabled.toString(), "toggle", setting.enabled)
+                                            )
+                                        }
+                                    )
+                                }
+                                "list" -> {
+                                    SensorDetailRow(
+                                        title = viewModel.getSettingTranslatedTitle(setting.name),
+                                        summary = viewModel.getSettingTranslatedEntry(setting.name, setting.value),
+                                        enabled = setting.enabled,
+                                        clickable = setting.enabled,
+                                        onClick = { onDialogSettingClicked(setting) }
+                                    )
+                                }
+                                "list-apps", "list-bluetooth", "list-zones" -> {
+                                    SensorDetailRow(
+                                        title = viewModel.getSettingTranslatedTitle(setting.name),
+                                        summary = setting.value.split(", ").map { it }.toString(),
+                                        enabled = setting.enabled,
+                                        clickable = setting.enabled,
+                                        onClick = { onDialogSettingClicked(setting) }
+                                    )
+                                }
+                                "string", "number" -> {
+                                    SensorDetailRow(
+                                        title = viewModel.getSettingTranslatedTitle(setting.name),
+                                        summary = setting.value,
+                                        enabled = setting.enabled,
+                                        clickable = setting.enabled,
+                                        onClick = { onDialogSettingClicked(setting) }
+                                    )
+                                }
+                            }
+                        }
+                    }
+                }
+            }
+        }
+    }
+}
+
+@Composable
+fun SensorDetailHeader(text: String) {
+    Row(
+        modifier = Modifier
+            .height(48.dp)
+            .padding(horizontal = 16.dp),
+        verticalAlignment = Alignment.CenterVertically
+    ) {
+        Text(
+            text = text,
+            style = MaterialTheme.typography.body2,
+            fontWeight = FontWeight.Bold,
+            color = MaterialTheme.colors.primary
+        )
+    }
+}
+
+@Composable
+fun SensorDetailRow(
+    title: String,
+    summary: String? = null,
+    switch: Boolean? = null,
+    selectingEnabled: Boolean = false,
+    enabled: Boolean = true,
+    clickable: Boolean = true,
+    onClick: (Boolean?) -> Unit = { }
+) {
+    var rowModifier = Modifier
+        .heightIn(min = if (summary.isNullOrBlank()) 56.dp else 72.dp)
+        .padding(horizontal = 16.dp, vertical = 8.dp)
+        .fillMaxWidth()
+    if (clickable) {
+        rowModifier = Modifier
+            .clickable { onClick(if (switch != null) !switch else null) }
+            .then(rowModifier)
+    }
+    Row(
+        modifier = rowModifier,
+        verticalAlignment = Alignment.CenterVertically
+    ) {
+        CompositionLocalProvider(LocalContentAlpha provides (if (enabled) ContentAlpha.high else ContentAlpha.disabled)) {
+            Column(
+                modifier = Modifier
+                    .fillMaxHeight()
+                    .weight(1f),
+                verticalArrangement = Arrangement.Center
+            ) {
+                Text(text = title, style = MaterialTheme.typography.body1)
+                if (summary != null) {
+                    CompositionLocalProvider(LocalContentAlpha provides (if (enabled) ContentAlpha.medium else ContentAlpha.disabled)) {
+                        if (selectingEnabled) SelectionContainer { Text(text = summary, style = MaterialTheme.typography.body2) }
+                        else Text(text = summary, style = MaterialTheme.typography.body2)
+                    }
+                }
+            }
+            if (switch != null) {
+                Switch(
+                    checked = switch,
+                    onCheckedChange = null,
+                    enabled = clickable,
+                    modifier = Modifier.padding(start = 16.dp),
+                    colors = SwitchDefaults.colors(uncheckedThumbColor = colorResource(commonR.color.colorSwitchUncheckedThumb))
+                )
+            }
+        }
+    }
+}
+
+@ExperimentalComposeUiApi
+@Composable
+fun SensorDetailSettingDialog(
+    viewModel: SensorDetailViewModel,
+    state: SensorDetailViewModel.Companion.SettingDialogState,
+    onDismiss: () -> Unit,
+    onSubmit: (SensorDetailViewModel.Companion.SettingDialogState) -> Unit
+) {
+    val keyboardController = LocalSoftwareKeyboardController.current
+    val listSettingDialog = state.setting.valueType != "string" && state.setting.valueType != "number"
+    val inputValue = remember { mutableStateOf(state.setting.value) }
+    val checkedValue = remember { mutableStateListOf(*state.entriesSelected?.toTypedArray() ?: emptyArray()) }
+
+    MdcAlertDialog(
+        onDismissRequest = onDismiss,
+        title = { Text(viewModel.getSettingTranslatedTitle(state.setting.name)) },
+        content = {
+            if (listSettingDialog) {
+                LazyColumn {
+                    state.entries?.forEachIndexed { index, entry ->
+                        val id = state.entriesIds?.get(index)!!
+                        item {
+                            SensorDetailSettingRow(
+                                label = entry,
+                                checked = if (state.setting.valueType == "list") inputValue.value == id else checkedValue.contains(id),
+                                multiple = state.setting.valueType != "list",
+                                onClick = { isChecked ->
+                                    if (state.setting.valueType == "list") {
+                                        inputValue.value = id
+                                        onSubmit(state.copy().apply { setting.value = inputValue.value })
+                                    } else {
+                                        if (checkedValue.contains(id) && !isChecked) checkedValue.remove(id)
+                                        else if (!checkedValue.contains(id) && isChecked) checkedValue.add(id)
+                                    }
+                                }
+                            )
+                        }
+                    }
+                }
+            } else {
+                OutlinedTextField(
+                    value = inputValue.value,
+                    keyboardOptions = KeyboardOptions(
+                        imeAction = ImeAction.Done,
+                        keyboardType = if (state.setting.valueType == "number") {
+                            KeyboardType.Number
+                        } else {
+                            KeyboardType.Text
+                        }
+                    ),
+                    keyboardActions = KeyboardActions(
+                        onDone = { keyboardController?.hide() }
+                    ),
+                    onValueChange = { input -> inputValue.value = input }
+                )
+            }
+        },
+        onCancel = onDismiss,
+        onSave = if (state.setting.valueType != "list") {
+            {
+                if (listSettingDialog) {
+                    inputValue.value = checkedValue.joinToString().replace("[", "").replace("]", "")
+                }
+                onSubmit(state.copy().apply { setting.value = inputValue.value })
+            }
+        } else null, // list is saved when selecting a value
+        contentPadding = if (listSettingDialog) PaddingValues(all = 0.dp) else PaddingValues(horizontal = 24.dp)
+    )
+}
+
+@Composable
+fun SensorDetailSettingRow(
+    label: String,
+    checked: Boolean,
+    multiple: Boolean,
+    onClick: (Boolean) -> Unit
+) {
+    Row(
+        modifier = Modifier
+            .clickable { onClick(!checked) }
+            .padding(horizontal = 12.dp)
+            .fillMaxWidth(),
+        verticalAlignment = Alignment.CenterVertically
+    ) {
+        if (multiple) {
+            Checkbox(
+                checked = checked,
+                onCheckedChange = null,
+                modifier = Modifier.size(width = 48.dp, height = 48.dp)
+            )
+        } else {
+            RadioButton(
+                selected = checked,
+                onClick = null,
+                modifier = Modifier.size(width = 48.dp, height = 48.dp)
+            )
+        }
+        Text(label)
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorListView.kt b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorListView.kt
new file mode 100644
index 00000000000..f36265a5e0f
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/sensor/views/SensorListView.kt
@@ -0,0 +1,118 @@
+package io.homeassistant.companion.android.settings.sensor.views
+
+import androidx.compose.foundation.clickable
+import androidx.compose.foundation.layout.Arrangement
+import androidx.compose.foundation.layout.Column
+import androidx.compose.foundation.layout.PaddingValues
+import androidx.compose.foundation.layout.Row
+import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.height
+import androidx.compose.foundation.layout.heightIn
+import androidx.compose.foundation.layout.padding
+import androidx.compose.foundation.lazy.LazyColumn
+import androidx.compose.foundation.lazy.items
+import androidx.compose.material.ContentAlpha
+import androidx.compose.material.Divider
+import androidx.compose.material.LocalContentAlpha
+import androidx.compose.material.MaterialTheme
+import androidx.compose.material.Text
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.ui.Alignment
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.platform.LocalContext
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.text.font.FontWeight
+import androidx.compose.ui.unit.dp
+import io.homeassistant.companion.android.common.sensors.SensorManager
+import io.homeassistant.companion.android.common.sensors.id
+import io.homeassistant.companion.android.database.sensor.Sensor
+import io.homeassistant.companion.android.settings.sensor.SensorSettingsViewModel
+import io.homeassistant.companion.android.common.R as commonR
+
+@Composable
+fun SensorListView(
+    viewModel: SensorSettingsViewModel,
+    managers: List<SensorManager>,
+    onSensorClicked: (String) -> Unit
+) {
+    val context = LocalContext.current
+
+    LazyColumn(
+        contentPadding = PaddingValues(vertical = 8.dp)
+    ) {
+        managers.forEachIndexed { index, manager ->
+            if (manager.hasSensor(context)) {
+                val basicSensors = manager.getAvailableSensors(context)
+                val currentSensors = basicSensors.filter { basicSensor ->
+                    viewModel.sensors.any { basicSensor.id == it.id }
+                }.sortedBy { context.getString(it.name) }
+                if (currentSensors.any()) {
+                    item {
+                        if (index != 0) Divider()
+                        Row(
+                            modifier = Modifier
+                                .height(48.dp)
+                                .padding(start = 72.dp, end = 16.dp),
+                            verticalAlignment = Alignment.CenterVertically
+                        ) {
+                            Text(
+                                text = stringResource(manager.name),
+                                style = MaterialTheme.typography.body2,
+                                fontWeight = FontWeight.Bold,
+                                color = MaterialTheme.colors.primary
+                            )
+                        }
+                    }
+                }
+                items(
+                    items = currentSensors,
+                    key = { "${manager.id()}_${it.id}" }
+                ) { basicSensor ->
+                    SensorRow(
+                        basicSensor = basicSensor,
+                        dbSensor = viewModel.sensors.firstOrNull { it.id == basicSensor.id },
+                        onSensorClicked = onSensorClicked
+                    )
+                }
+            }
+        }
+    }
+}
+
+@Composable
+fun SensorRow(
+    basicSensor: SensorManager.BasicSensor,
+    dbSensor: Sensor?,
+    onSensorClicked: (String) -> Unit
+) {
+    Column(
+        modifier = Modifier
+            .clickable { onSensorClicked(basicSensor.id) }
+            .heightIn(min = 72.dp)
+            .padding(start = 72.dp, end = 16.dp, top = 8.dp, bottom = 8.dp)
+            .fillMaxWidth(),
+        verticalArrangement = Arrangement.Center,
+
+    ) {
+        Text(
+            text = stringResource(basicSensor.name),
+            style = MaterialTheme.typography.body1
+        )
+        CompositionLocalProvider(LocalContentAlpha provides ContentAlpha.medium) {
+            Text(
+                text = if (dbSensor?.enabled == true) {
+                    if (dbSensor.state.isBlank()) {
+                        stringResource(commonR.string.enabled)
+                    } else {
+                        if (basicSensor.unitOfMeasurement.isNullOrBlank()) dbSensor.state
+                        else "${dbSensor.state} ${basicSensor.unitOfMeasurement}"
+                    }
+                } else {
+                    stringResource(commonR.string.disabled)
+                },
+                style = MaterialTheme.typography.body2
+            )
+        }
+    }
+}
diff --git a/app/src/main/java/io/homeassistant/companion/android/settings/widgets/views/ManageWidgetsView.kt b/app/src/main/java/io/homeassistant/companion/android/settings/widgets/views/ManageWidgetsView.kt
index 6b8db500e6a..9f9feadfffd 100755
--- a/app/src/main/java/io/homeassistant/companion/android/settings/widgets/views/ManageWidgetsView.kt
+++ b/app/src/main/java/io/homeassistant/companion/android/settings/widgets/views/ManageWidgetsView.kt
@@ -2,24 +2,22 @@ package io.homeassistant.companion.android.settings.widgets.views
 
 import android.appwidget.AppWidgetManager
 import android.content.Intent
-import androidx.compose.foundation.background
 import androidx.compose.foundation.clickable
 import androidx.compose.foundation.layout.Arrangement
 import androidx.compose.foundation.layout.Box
 import androidx.compose.foundation.layout.Column
+import androidx.compose.foundation.layout.PaddingValues
 import androidx.compose.foundation.layout.Row
 import androidx.compose.foundation.layout.fillMaxWidth
 import androidx.compose.foundation.layout.padding
 import androidx.compose.foundation.layout.size
 import androidx.compose.foundation.lazy.LazyColumn
-import androidx.compose.foundation.shape.RoundedCornerShape
 import androidx.compose.material.Button
 import androidx.compose.material.ExtendedFloatingActionButton
 import androidx.compose.material.Icon
 import androidx.compose.material.MaterialTheme
 import androidx.compose.material.Scaffold
 import androidx.compose.material.Text
-import androidx.compose.material.TextButton
 import androidx.compose.material.icons.Icons
 import androidx.compose.material.icons.filled.Add
 import androidx.compose.material.icons.filled.Widgets
@@ -35,12 +33,12 @@ import androidx.compose.ui.platform.LocalContext
 import androidx.compose.ui.res.stringResource
 import androidx.compose.ui.text.style.TextAlign
 import androidx.compose.ui.unit.dp
-import androidx.compose.ui.window.Dialog
 import com.mikepenz.iconics.compose.Image
 import com.mikepenz.iconics.typeface.IIcon
 import com.mikepenz.iconics.typeface.library.community.material.CommunityMaterial
 import io.homeassistant.companion.android.common.R
 import io.homeassistant.companion.android.settings.widgets.ManageWidgetsViewModel
+import io.homeassistant.companion.android.util.compose.MdcAlertDialog
 import io.homeassistant.companion.android.widgets.button.ButtonWidgetConfigureActivity
 import io.homeassistant.companion.android.widgets.camera.CameraWidgetConfigureActivity
 import io.homeassistant.companion.android.widgets.entity.EntityWidgetConfigureActivity
@@ -64,23 +62,18 @@ fun ManageWidgetsView(
         }
     }) {
         if (expandedAddWidget) {
-            Dialog(onDismissRequest = { expandedAddWidget = false }) {
-                val availableWidgets = mapOf(
-                    stringResource(R.string.widget_button_image_description) to Pair("button", CommunityMaterial.Icon2.cmd_gesture_tap),
-                    stringResource(R.string.widget_camera_description) to Pair("camera", CommunityMaterial.Icon.cmd_camera),
-                    stringResource(R.string.widget_static_image_description) to Pair("state", CommunityMaterial.Icon3.cmd_shape),
-                    stringResource(R.string.widget_media_player_description) to Pair("media", CommunityMaterial.Icon3.cmd_play_box_multiple),
-                    stringResource(R.string.template_widget) to Pair("template", CommunityMaterial.Icon.cmd_code_braces)
-                ).toSortedMap(compareBy { it })
-                Box(modifier = Modifier.background(MaterialTheme.colors.surface, RoundedCornerShape(4.dp))) {
+            val availableWidgets = mapOf(
+                stringResource(R.string.widget_button_image_description) to Pair("button", CommunityMaterial.Icon2.cmd_gesture_tap),
+                stringResource(R.string.widget_camera_description) to Pair("camera", CommunityMaterial.Icon.cmd_camera),
+                stringResource(R.string.widget_static_image_description) to Pair("state", CommunityMaterial.Icon3.cmd_shape),
+                stringResource(R.string.widget_media_player_description) to Pair("media", CommunityMaterial.Icon3.cmd_play_box_multiple),
+                stringResource(R.string.template_widget) to Pair("template", CommunityMaterial.Icon.cmd_code_braces)
+            ).toSortedMap(compareBy { it })
+            MdcAlertDialog(
+                onDismissRequest = { expandedAddWidget = false },
+                title = { Text(stringResource(R.string.add_widget)) },
+                content = {
                     LazyColumn {
-                        item {
-                            Text(
-                                text = stringResource(R.string.add_widget),
-                                modifier = Modifier.padding(horizontal = 24.dp, vertical = 16.dp),
-                                style = MaterialTheme.typography.h6
-                            )
-                        }
                         availableWidgets.forEach {
                             item {
                                 PopupWidgetRow(widgetLabel = it.key, widgetIcon = it.value.second, widgetType = it.value.first) {
@@ -88,19 +81,11 @@ fun ManageWidgetsView(
                                 }
                             }
                         }
-                        item {
-                            Row(
-                                horizontalArrangement = Arrangement.End,
-                                modifier = Modifier.fillMaxWidth().padding(end = 8.dp, bottom = 8.dp)
-                            ) {
-                                TextButton(onClick = { expandedAddWidget = false }) {
-                                    Text(stringResource(R.string.cancel))
-                                }
-                            }
-                        }
                     }
-                }
-            }
+                },
+                onCancel = { expandedAddWidget = false },
+                contentPadding = PaddingValues(all = 0.dp)
+            )
         }
         LazyColumn(
             modifier = Modifier.padding(start = 16.dp, end = 16.dp)
diff --git a/app/src/main/java/io/homeassistant/companion/android/util/compose/MdcAlertDialog.kt b/app/src/main/java/io/homeassistant/companion/android/util/compose/MdcAlertDialog.kt
new file mode 100644
index 00000000000..3c204ca4516
--- /dev/null
+++ b/app/src/main/java/io/homeassistant/companion/android/util/compose/MdcAlertDialog.kt
@@ -0,0 +1,98 @@
+package io.homeassistant.companion.android.util.compose
+
+import androidx.compose.foundation.layout.Arrangement
+import androidx.compose.foundation.layout.Box
+import androidx.compose.foundation.layout.Column
+import androidx.compose.foundation.layout.PaddingValues
+import androidx.compose.foundation.layout.Row
+import androidx.compose.foundation.layout.Spacer
+import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.heightIn
+import androidx.compose.foundation.layout.padding
+import androidx.compose.foundation.layout.width
+import androidx.compose.material.MaterialTheme
+import androidx.compose.material.ProvideTextStyle
+import androidx.compose.material.Surface
+import androidx.compose.material.Text
+import androidx.compose.material.TextButton
+import androidx.compose.runtime.Composable
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.platform.LocalConfiguration
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.unit.dp
+import androidx.compose.ui.window.Dialog
+import io.homeassistant.companion.android.common.R as commonR
+
+/**
+ * A dialog similar in style to a classic AlertDialog when using a Material Components theme, mostly
+ * following the design specification but with minor differences to keep the code simple. When
+ * compared to [androidx.compose.material.AlertDialog], the main differences for this dialog are:
+ * - Different text styles by default that better match the classic AlertDialog
+ * - Contents can use the full dialog width (for example for touch highlights)
+ * - Content height is limited to screen size to make sure you cannot scroll the entire dialog,
+ *   to make sure content can be scrolled you should probably have a LazyColumn as the content root
+ * - Buttons are already defined and can only be set to show/hide to improve consistency
+ *
+ * @param onDismissRequest Action when the user dismisses the dialog by tapping outside it or pressing back
+ * @param title Title for the dialog, provided text style will be [androidx.compose.material.Typography.h6].
+ * @param content Content for the dialog, provided text style will be [androidx.compose.material.Typography.body1].
+ * @param onCancel Action when the 'Cancel' button is pressed. Set to null to hide button.
+ * @param onSave Action when the 'Save' button is pressed. Set to null to hide button.
+ * @param contentPadding PaddingValues for the content. By default content will be padded to match the title and buttons.
+ */
+@Composable
+fun MdcAlertDialog(
+    onDismissRequest: () -> Unit,
+    title: @Composable () -> Unit,
+    content: @Composable () -> Unit,
+    onCancel: (() -> Unit)? = null,
+    onSave: (() -> Unit)? = null,
+    contentPadding: PaddingValues = PaddingValues(horizontal = 24.dp)
+) {
+    val configuration = LocalConfiguration.current
+
+    Dialog(onDismissRequest = onDismissRequest) {
+        Surface(
+            shape = MaterialTheme.shapes.medium,
+            color = MaterialTheme.colors.surface
+        ) {
+            Column(
+                modifier = Modifier.heightIn(max = configuration.screenHeightDp.dp - 16.dp)
+            ) {
+                Box(
+                    modifier = Modifier
+                        .padding(horizontal = 24.dp, vertical = 16.dp)
+                        .fillMaxWidth()
+                ) {
+                    ProvideTextStyle(MaterialTheme.typography.h6, title)
+                }
+                Box(
+                    modifier = Modifier
+                        .padding(contentPadding)
+                        .fillMaxWidth()
+                        .weight(weight = 1f, fill = false)
+                ) {
+                    ProvideTextStyle(MaterialTheme.typography.body1, content)
+                }
+                Row(
+                    horizontalArrangement = Arrangement.End,
+                    modifier = Modifier
+                        .fillMaxWidth()
+                        .padding(all = 8.dp)
+                ) {
+                    onCancel?.let {
+                        TextButton(onClick = it) {
+                            Text(stringResource(commonR.string.cancel))
+                        }
+                    }
+                    if (onCancel != null && onSave != null) Spacer(modifier = Modifier.width(8.dp))
+                    onSave?.let {
+                        TextButton(onClick = it) {
+                            Text(stringResource(commonR.string.save))
+                        }
+                    }
+                }
+            }
+        }
+    }
+}
diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
index 8a9cab48d26..c1bca622e1b 100644
--- a/app/src/main/res/values/styles.xml
+++ b/app/src/main/res/values/styles.xml
@@ -10,6 +10,8 @@
         <item name="colorPrimary">@color/colorPrimary</item>
         <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
         <item name="colorAccent">@color/colorAccent</item>
+        <item name="colorSecondary">@color/colorAccent</item>
+        <item name="colorSecondaryVariant">@color/colorAccent</item>
         <item name="colorButtonNormal">@color/colorPrimary</item>
         <item name="android:colorBackground">@color/colorBackground</item>
         <item name="android:navigationBarColor">@color/colorPrimaryDark</item>
diff --git a/app/src/main/res/xml/sensor_detail.xml b/app/src/main/res/xml/sensor_detail.xml
deleted file mode 100644
index 67a11d8e255..00000000000
--- a/app/src/main/res/xml/sensor_detail.xml
+++ /dev/null
@@ -1,49 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.preference.PreferenceScreen
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    app:iconSpaceReserved="false">
-
-
-    <androidx.preference.SwitchPreference
-        app:iconSpaceReserved="false"
-        app:key="enabled"
-        app:summary="@string/enabled_summary"
-        app:title="@string/enabled" />
-    <io.homeassistant.companion.android.settings.SensorDetailDescriptionPreference
-        app:enableCopying="true"
-        app:iconSpaceReserved="false"
-        app:key="description"
-        app:title="@string/sensor_description" />
-    <Preference
-        app:iconSpaceReserved="false"
-        app:key="unique_id"
-        app:title="@string/unique_id" />
-    <Preference
-        app:iconSpaceReserved="false"
-        app:key="state"
-        app:title="@string/state" />
-    <Preference
-        app:enableCopying="true"
-        app:iconSpaceReserved="false"
-        app:key="device_class"
-        app:title="@string/device_class" />
-    <Preference
-        app:enableCopying="true"
-        app:iconSpaceReserved="false"
-        app:key="icon"
-        app:title="@string/icon" />
-
-    <androidx.preference.PreferenceCategory
-        app:iconSpaceReserved="false"
-        app:key="attributes"
-        app:title="@string/attributes" />
-
-    <androidx.preference.PreferenceCategory
-        app:iconSpaceReserved="false"
-        app:key="sensor_settings"
-        app:title="@string/sensor_settings">
-
-    </androidx.preference.PreferenceCategory>
-
-
-</androidx.preference.PreferenceScreen>
\ No newline at end of file
diff --git a/app/src/main/res/xml/sensors.xml b/app/src/main/res/xml/sensors.xml
deleted file mode 100644
index 33ea42ab9da..00000000000
--- a/app/src/main/res/xml/sensors.xml
+++ /dev/null
@@ -1,2 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.preference.PreferenceScreen />
diff --git a/common/src/main/java/io/homeassistant/companion/android/database/sensor/SensorDao.kt b/common/src/main/java/io/homeassistant/companion/android/database/sensor/SensorDao.kt
index 72561aebfb2..5814ed35913 100644
--- a/common/src/main/java/io/homeassistant/companion/android/database/sensor/SensorDao.kt
+++ b/common/src/main/java/io/homeassistant/companion/android/database/sensor/SensorDao.kt
@@ -21,10 +21,18 @@ interface SensorDao {
     @Query("SELECT * FROM Sensors WHERE id = :id")
     fun getFull(id: String): SensorWithAttributes?
 
+    @Transaction
+    @Query("SELECT * FROM Sensors WHERE id = :id")
+    fun getFullFlow(id: String): Flow<SensorWithAttributes>?
+
     @Transaction
     @Query("SELECT * FROM sensor_settings WHERE sensor_id = :id")
     fun getSettings(id: String): List<SensorSetting>
 
+    @Transaction
+    @Query("SELECT * FROM sensor_settings WHERE sensor_id = :id ORDER BY sensor_id")
+    fun getSettingsFlow(id: String): Flow<List<SensorSetting>>
+
     @Insert(onConflict = OnConflictStrategy.IGNORE)
     fun add(sensor: Sensor)
 
diff --git a/common/src/main/res/values-night/colors.xml b/common/src/main/res/values-night/colors.xml
index a3340c5daed..6de1730e079 100644
--- a/common/src/main/res/values-night/colors.xml
+++ b/common/src/main/res/values-night/colors.xml
@@ -13,6 +13,7 @@
     <color name="colorHeadline2">@android:color/white</color>
     <color name="colorActionBar">#1c1c1c</color>
     <color name="colorIcon">@android:color/white</color>
+    <color name="colorSwitchUncheckedThumb">#b9b9b9</color>
     <color name="colorWidgetButtonBackground">#1c1c1c</color>
     <color name="colorWidgetButtonLabel">#E6E6E6</color>
     <color name="colorActionBarPopupBackground">#2B2B2B</color>
diff --git a/common/src/main/res/values/colors.xml b/common/src/main/res/values/colors.xml
index bd5a65a53e0..66c82f7957a 100644
--- a/common/src/main/res/values/colors.xml
+++ b/common/src/main/res/values/colors.xml
@@ -13,6 +13,7 @@
     <color name="colorHeadline2">@android:color/black</color>
     <color name="colorActionBar">#03A9F4</color>
     <color name="colorIcon">@android:color/black</color>
+    <color name="colorSwitchUncheckedThumb">#ececec</color>
     <color name="colorWidgetButtonBackground">@android:color/white</color>
     <color name="colorWidgetButtonLabel">#3A3A3A</color>
     <color name="colorActionBarPopupBackground">@android:color/white</color>
