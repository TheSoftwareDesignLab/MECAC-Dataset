fix: Improve theme preference handling and migrate legacy 'white-blue'

The theme preference display now robustly handles invalid or missing values, defaulting to the first theme and preventing potential crashes. Users with the deprecated 'white-blue' theme are also automatically migrated to 'white'.