fix: Refine subtasks filter logic and prevent query errors

Update the conditions for using the subtasks fragment, now explicitly checking
for `SortableFilter` or `TagFilter` when manual sort is enabled. This replaces
the previous `GtasksFilter` exclusion and `supportsManualSort()` check.

Add a null check for `TaskListMetadata` before applying subtask ordering to
widget filter queries. This prevents incorrect query modifications or potential
`NullPointerException` if no metadata is found for the filter.