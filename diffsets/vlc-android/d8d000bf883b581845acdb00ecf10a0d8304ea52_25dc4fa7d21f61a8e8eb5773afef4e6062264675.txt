diff --git a/vlc-android/src/org/videolan/vlc/media/PlaylistManager.kt b/vlc-android/src/org/videolan/vlc/media/PlaylistManager.kt
index f54f8e2d10..7c78ee0024 100644
--- a/vlc-android/src/org/videolan/vlc/media/PlaylistManager.kt
+++ b/vlc-android/src/org/videolan/vlc/media/PlaylistManager.kt
@@ -11,8 +11,6 @@ import android.text.TextUtils
 import android.util.Log
 import android.widget.Toast
 import kotlinx.coroutines.experimental.CommonPool
-import kotlinx.coroutines.experimental.CoroutineStart
-import kotlinx.coroutines.experimental.android.UI
 import kotlinx.coroutines.experimental.launch
 import kotlinx.coroutines.experimental.withContext
 import org.videolan.libvlc.Media
@@ -115,7 +113,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
 
         // Add handler after loading the list
         mediaList.addEventListener(this)
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             playIndex(position)
             onPlaylistLoaded()
         }
@@ -137,7 +135,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
             loadingLastPlaylist = false
             return false
         }
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             val playList = withContext(CommonPool) {
                 locations.map { Uri.decode(it) }.mapTo(ArrayList(locations.size)) { MediaWrapper(Uri.parse(it)) }
             }
@@ -161,7 +159,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
 
     private fun onPlaylistLoaded() {
         service.onPlaylistLoaded()
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             determinePrevAndNextIndices()
             launch(VLCIO) { mediaList.updateWithMLMeta() }
         }
@@ -188,7 +186,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
             return
         }
         videoBackground = !player.isVideoPlaying() && player.canSwitchToVideo()
-        launch(UI, CoroutineStart.UNDISPATCHED) { playIndex(currentIndex) }
+        uiJob { playIndex(currentIndex) }
     }
 
     fun stop(systemExit: Boolean = false) {
@@ -218,7 +216,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
                 player.stop()
                 return
             }
-            launch(UI, CoroutineStart.UNDISPATCHED) { playIndex(currentIndex) }
+            uiJob { playIndex(currentIndex) }
         } else player.setPosition(0F)
     }
 
@@ -226,7 +224,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
         if (shuffling) previous.clear()
         shuffling = !shuffling
         savePosition()
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
     fun setRepeatType(repeatType: Int) {
@@ -234,7 +232,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
         if (isAudioList() && settings.getBoolean("audio_save_repeat", false))
             settings.edit().putInt(AUDIO_REPEAT_MODE_KEY, repeating).apply()
         savePosition()
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
     fun setRenderer(item: RendererItem?) {
@@ -354,7 +352,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
     override fun onItemAdded(index: Int, mrl: String?) {
         if (BuildConfig.DEBUG) Log.i(TAG, "CustomMediaListItemAdded")
         if (currentIndex >= index && !expanding) ++currentIndex
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             determinePrevAndNextIndices()
             executeUpdate()
             saveMediaList()
@@ -365,7 +363,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
         if (BuildConfig.DEBUG) Log.i(TAG, "CustomMediaListItemDeleted")
         val currentRemoved = currentIndex == index
         if (currentIndex >= index && !expanding) --currentIndex
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             determinePrevAndNextIndices()
             if (currentRemoved && !expanding) {
                 when {
@@ -452,7 +450,7 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
         // If we are in random mode, we completely reset the stored previous track
         // as their indices changed.
         previous.clear()
-        launch(UI, CoroutineStart.UNDISPATCHED) {
+        uiJob {
             determinePrevAndNextIndices()
             executeUpdate()
             saveMediaList()
@@ -615,23 +613,23 @@ class PlaylistManager(val service: PlaybackService) : MediaWrapperList.EventList
      */
     fun moveItem(positionStart: Int, positionEnd: Int) {
         mediaList.move(positionStart, positionEnd)
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
     fun insertItem(position: Int, mw: MediaWrapper) {
         mediaList.insert(position, mw)
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
 
     fun remove(position: Int) {
         mediaList.remove(position)
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
     fun removeLocation(location: String) {
         mediaList.remove(location)
-        launch(UI, CoroutineStart.UNDISPATCHED) { determinePrevAndNextIndices() }
+        uiJob { determinePrevAndNextIndices() }
     }
 
     fun getMediaListSize()= mediaList.size()
diff --git a/vlc-android/src/org/videolan/vlc/providers/BrowserProvider.kt b/vlc-android/src/org/videolan/vlc/providers/BrowserProvider.kt
index 992f0ac3cd..a819182cfc 100644
--- a/vlc-android/src/org/videolan/vlc/providers/BrowserProvider.kt
+++ b/vlc-android/src/org/videolan/vlc/providers/BrowserProvider.kt
@@ -26,7 +26,6 @@ import android.os.Handler
 import android.os.HandlerThread
 import android.os.Process
 import android.support.v4.util.SimpleArrayMap
-import kotlinx.coroutines.experimental.CoroutineStart
 import kotlinx.coroutines.experimental.Job
 import kotlinx.coroutines.experimental.android.HandlerContext
 import kotlinx.coroutines.experimental.android.UI
@@ -45,6 +44,7 @@ import org.videolan.vlc.VLCApplication
 import org.videolan.vlc.util.LiveDataset
 import org.videolan.vlc.util.VLCIO
 import org.videolan.vlc.util.VLCInstance
+import org.videolan.vlc.util.uiJob
 import java.util.*
 
 const val TAG = "VLC/BrowserProvider"
@@ -86,7 +86,7 @@ abstract class BrowserProvider(val dataset: LiveDataset<MediaLibraryItem>, val u
     protected fun browse(url: String? = null) {
         browserChannel = Channel(Channel.UNLIMITED)
         requestBrowsing(url)
-        job = launch(UI, CoroutineStart.UNDISPATCHED) {
+        job = uiJob {
             for (media in browserChannel) addMedia(findMedia(media))
             parseSubDirectories()
         }
@@ -99,7 +99,7 @@ abstract class BrowserProvider(val dataset: LiveDataset<MediaLibraryItem>, val u
         browserChannel = Channel(Channel.UNLIMITED)
         val refreshList = mutableListOf<MediaLibraryItem>()
         requestBrowsing(url)
-        job = launch(UI, CoroutineStart.UNDISPATCHED) {
+        job = uiJob {
             for (media in browserChannel) refreshList.add(findMedia(media))
             dataset.value = refreshList
             parseSubDirectories()
diff --git a/vlc-android/src/org/videolan/vlc/util/Kextensions.kt b/vlc-android/src/org/videolan/vlc/util/Kextensions.kt
index 7a1db90166..031ae3aabf 100644
--- a/vlc-android/src/org/videolan/vlc/util/Kextensions.kt
+++ b/vlc-android/src/org/videolan/vlc/util/Kextensions.kt
@@ -2,10 +2,8 @@ package org.videolan.vlc.util
 
 import android.arch.lifecycle.ViewModel
 import android.arch.lifecycle.ViewModelProviders
-import android.os.Looper
 import android.support.v4.app.Fragment
 import android.support.v4.app.FragmentActivity
-import kotlinx.coroutines.experimental.CoroutineStart
 import kotlinx.coroutines.experimental.delay
 import org.videolan.libvlc.Media
 import java.io.File
@@ -48,7 +46,5 @@ suspend fun retry (
     return block() // last attempt
 }
 
-fun uiStart() = if (Looper.getMainLooper() == Looper.myLooper()) CoroutineStart.UNDISPATCHED else CoroutineStart.DEFAULT
-
 fun Media?.canExpand() = this != null && (type == Media.Type.Directory || type == Media.Type.Playlist)
 
diff --git a/vlc-android/src/org/videolan/vlc/util/Workers.kt b/vlc-android/src/org/videolan/vlc/util/Workers.kt
index 709e8744ad..17c7bda4c7 100644
--- a/vlc-android/src/org/videolan/vlc/util/Workers.kt
+++ b/vlc-android/src/org/videolan/vlc/util/Workers.kt
@@ -1,9 +1,8 @@
 package org.videolan.vlc.util
 
 import android.os.Looper
+import kotlinx.coroutines.experimental.*
 import kotlinx.coroutines.experimental.android.UI
-import kotlinx.coroutines.experimental.launch
-import kotlinx.coroutines.experimental.newSingleThreadContext
 
 val VLCIO = newSingleThreadContext("vlc-io")
 
@@ -16,3 +15,8 @@ fun runOnMainThread(runnable: Runnable) {
     if (Looper.myLooper() == Looper.getMainLooper()) runnable.run()
     else launch(UI) { runnable.run() }
 }
+
+fun uiJob(block: suspend CoroutineScope.() -> Unit) : Job {
+    val dispatch = Looper.getMainLooper() != Looper.myLooper()
+    return launch(UI, if (dispatch) CoroutineStart.DEFAULT else CoroutineStart.UNDISPATCHED, block = block)
+}
\ No newline at end of file
diff --git a/vlc-android/src/org/videolan/vlc/viewmodels/BaseModel.kt b/vlc-android/src/org/videolan/vlc/viewmodels/BaseModel.kt
index 10acb57018..dcf612da91 100644
--- a/vlc-android/src/org/videolan/vlc/viewmodels/BaseModel.kt
+++ b/vlc-android/src/org/videolan/vlc/viewmodels/BaseModel.kt
@@ -23,11 +23,9 @@ package org.videolan.vlc.viewmodels
 import android.arch.lifecycle.MediatorLiveData
 import android.arch.lifecycle.ViewModel
 import kotlinx.coroutines.experimental.CommonPool
-import kotlinx.coroutines.experimental.CoroutineStart
 import kotlinx.coroutines.experimental.android.UI
 import kotlinx.coroutines.experimental.channels.Channel
 import kotlinx.coroutines.experimental.channels.actor
-import kotlinx.coroutines.experimental.launch
 import kotlinx.coroutines.experimental.withContext
 import org.videolan.medialibrary.Medialibrary
 import org.videolan.medialibrary.media.MediaLibraryItem
@@ -62,7 +60,7 @@ abstract class BaseModel<T : MediaLibraryItem> : ViewModel(), RefreshModel {
     val categories by lazy(LazyThreadSafetyMode.NONE) {
         MediatorLiveData<Map<String, List<MediaLibraryItem>>>().apply {
             addSource(dataset, {
-                launch(UI, CoroutineStart.UNDISPATCHED) { value = withContext(CommonPool) { ModelsHelper.splitList(sort, it!!.toList()) } }
+                uiJob { value = withContext(CommonPool) { ModelsHelper.splitList(sort, it!!.toList()) } }
             })
         }
     }
@@ -70,7 +68,7 @@ abstract class BaseModel<T : MediaLibraryItem> : ViewModel(), RefreshModel {
     val sections by lazy(LazyThreadSafetyMode.NONE) {
         MediatorLiveData<List<MediaLibraryItem>>().apply {
             addSource(dataset, {
-                launch(UI, CoroutineStart.UNDISPATCHED) { value = withContext(CommonPool) { ModelsHelper.generateSections(sort, it!!.toList()) } }
+                uiJob { value = withContext(CommonPool) { ModelsHelper.generateSections(sort, it!!.toList()) } }
             })
         }
     }
diff --git a/vlc-android/src/org/videolan/vlc/viewmodels/MedialibraryModel.kt b/vlc-android/src/org/videolan/vlc/viewmodels/MedialibraryModel.kt
index d2c4cfc8a5..a0518a7811 100644
--- a/vlc-android/src/org/videolan/vlc/viewmodels/MedialibraryModel.kt
+++ b/vlc-android/src/org/videolan/vlc/viewmodels/MedialibraryModel.kt
@@ -20,14 +20,12 @@
 
 package org.videolan.vlc.viewmodels
 
-import kotlinx.coroutines.experimental.android.UI
-import kotlinx.coroutines.experimental.launch
 import org.videolan.medialibrary.Medialibrary
 import org.videolan.medialibrary.interfaces.MediaAddedCb
 import org.videolan.medialibrary.interfaces.MediaUpdatedCb
 import org.videolan.medialibrary.media.MediaLibraryItem
 import org.videolan.vlc.util.EmptyMLCallbacks
-import org.videolan.vlc.util.uiStart
+import org.videolan.vlc.util.uiJob
 
 
 abstract class MedialibraryModel<T : MediaLibraryItem> : BaseModel<T>(), Medialibrary.OnMedialibraryReadyListener, MediaUpdatedCb by EmptyMLCallbacks, MediaAddedCb by EmptyMLCallbacks {
@@ -40,11 +38,11 @@ abstract class MedialibraryModel<T : MediaLibraryItem> : BaseModel<T>(), Mediali
     }
 
     override fun onMedialibraryReady() {
-        launch(UI, uiStart()) { refresh() }
+        uiJob { refresh() }
     }
 
     override fun onMedialibraryIdle() {
-        launch(UI, uiStart()) { refresh() }
+        uiJob { refresh() }
     }
 
     override fun onCleared() {
