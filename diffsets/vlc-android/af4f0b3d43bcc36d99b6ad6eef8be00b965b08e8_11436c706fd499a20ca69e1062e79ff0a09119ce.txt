diff --git a/vlc-android/res/layout/audio_player.xml b/vlc-android/res/layout/audio_player.xml
index cf6228fdd0..66a14a9b47 100644
--- a/vlc-android/res/layout/audio_player.xml
+++ b/vlc-android/res/layout/audio_player.xml
@@ -125,10 +125,10 @@
         android:layout_below="@+id/header"
         android:layout_above="@+id/player_controls">
 
-        <org.videolan.vlc.gui.audio.AudioPlaylistView
+        <android.support.v7.widget.RecyclerView
             android:id="@+id/songs_list"
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
             android:clipToPadding="false"
             android:paddingBottom="@dimen/listview_bottom_padding" />
 
diff --git a/vlc-android/res/layout/audio_playlist_item.xml b/vlc-android/res/layout/audio_playlist_item.xml
deleted file mode 100644
index f946389fc3..0000000000
--- a/vlc-android/res/layout/audio_playlist_item.xml
+++ /dev/null
@@ -1,123 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="wrap_content"
-    android:orientation="vertical">
-
-    <org.videolan.vlc.widget.AudioPlaylistItemViewGroup
-        android:id="@+id/playlist_item"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_marginBottom="5dp"
-        android:layout_marginTop="5dp"
-        android:descendantFocusability="blocksDescendants" >
-
-        <View
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent" />
-
-        <LinearLayout
-            android:layout_width="fill_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical" >
-
-            <LinearLayout
-                android:id="@+id/item_expansion"
-                android:layout_width="fill_parent"
-                android:layout_height="wrap_content"
-                android:orientation="vertical"
-                android:visibility="gone" >
-
-                <View
-                    android:layout_width="fill_parent"
-                    android:layout_height="45dp" />
-
-                <View
-                    android:layout_width="match_parent"
-                    android:layout_height="1dp"
-                    android:layout_gravity="center"
-                    android:layout_marginLeft="10dp"
-                    android:layout_marginRight="10dp"
-                    android:background="?attr/item_footer" />
-            </LinearLayout>
-
-            <LinearLayout
-                android:id="@+id/layout_item"
-                android:layout_width="fill_parent"
-                android:layout_height="wrap_content"
-                android:orientation="horizontal"
-                android:paddingLeft="10dp" >
-
-                <LinearLayout
-                    android:layout_width="0dip"
-                    android:layout_height="wrap_content"
-                    android:layout_weight="1"
-                    android:gravity="center_vertical"
-                    android:orientation="vertical" >
-
-                    <TextView
-                        android:id="@+id/title"
-                        android:layout_width="fill_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_marginLeft="5dip"
-                        android:layout_marginRight="5dip"
-                        android:layout_marginTop="5dip"
-                        android:singleLine="true"
-                        android:ellipsize="middle"
-                        android:text="@string/title"
-                        android:textColor="?attr/list_title"
-                        android:fontFamily="sans-serif-light"
-                        android:textSize="16sp" />
-
-                    <TextView
-                        android:id="@+id/artist"
-                        android:layout_width="fill_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_marginBottom="5dip"
-                        android:layout_marginLeft="5dip"
-                        android:layout_marginRight="5dip"
-                        android:singleLine="true"
-                        android:ellipsize="middle"
-                        android:text="@string/artist"
-                        android:textColor="?attr/list_subtitle"
-                        android:fontFamily="sans-serif-light"
-                        android:textSize="12sp" />
-                </LinearLayout>
-
-                <View
-                    android:layout_width="1dp"
-                    android:layout_height="match_parent"
-                    android:layout_gravity="center"
-                    android:layout_marginBottom="8dp"
-                    android:layout_marginTop="8dp"
-                    android:background="?attr/item_footer" />
-
-                <ImageButton
-                    android:id="@+id/move"
-                    android:layout_width="30dp"
-                    android:layout_height="30dp"
-                    android:layout_gravity="center"
-                    android:layout_marginLeft="5dp"
-                    android:layout_marginRight="5dp"
-                    android:background="#00000000"
-                    android:scaleType="fitXY"
-                    android:contentDescription="@string/move"
-                    android:src="?attr/ic_move_media" />
-            </LinearLayout>
-        </LinearLayout>
-
-        <View
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent" />
-    </org.videolan.vlc.widget.AudioPlaylistItemViewGroup>
-
-    <View
-        android:id="@+id/layout_footer"
-        android:layout_width="match_parent"
-        android:layout_height="1dp"
-        android:layout_gravity="center"
-        android:layout_marginLeft="10dp"
-        android:layout_marginRight="10dp"
-        android:background="?attr/item_footer" />
-
-</LinearLayout>
\ No newline at end of file
diff --git a/vlc-android/res/layout/audio_playlist_item_drag_shadow.xml b/vlc-android/res/layout/audio_playlist_item_drag_shadow.xml
deleted file mode 100644
index 2d45e55591..0000000000
--- a/vlc-android/res/layout/audio_playlist_item_drag_shadow.xml
+++ /dev/null
@@ -1,68 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--
-     This FrameLayout is a workaround to fix the old version android bug
-     that fills the canvas with the color of the root view.
--->
-<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="match_parent"
-    android:layout_height="wrap_content" >
-
-    <LinearLayout
-        android:id="@+id/layout_item"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:background="?attr/playlist_item_drag_shadow"
-        android:orientation="horizontal"
-        android:paddingLeft="10dp" >
-
-        <LinearLayout
-            android:layout_width="0dip"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
-            android:gravity="center_vertical"
-            android:orientation="vertical" >
-
-            <TextView
-                android:id="@+id/title"
-                android:layout_width="fill_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginLeft="5dip"
-                android:layout_marginRight="5dip"
-                android:layout_marginTop="5dip"
-                android:text="@string/title"
-                android:textColor="?attr/list_title"
-                android:textSize="16sp" />
-
-            <TextView
-                android:id="@+id/artist"
-                android:layout_width="fill_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginBottom="5dip"
-                android:layout_marginLeft="5dip"
-                android:layout_marginRight="5dip"
-                android:text="@string/artist"
-                android:textColor="?attr/list_subtitle"
-                android:textSize="12sp" />
-        </LinearLayout>
-
-        <View
-            android:layout_width="1dp"
-            android:layout_height="match_parent"
-            android:layout_gravity="center"
-            android:layout_marginBottom="8dp"
-            android:layout_marginTop="8dp"
-            android:background="?attr/item_footer" />
-
-        <ImageButton
-            android:id="@+id/move"
-            android:layout_width="30dp"
-            android:layout_height="30dp"
-            android:layout_gravity="center"
-            android:layout_marginLeft="5dp"
-            android:layout_marginRight="5dp"
-            android:background="#00000000"
-            android:scaleType="fitXY"
-            android:src="@drawable/ic_move_media" />
-    </LinearLayout>
-
-</FrameLayout>
\ No newline at end of file
diff --git a/vlc-android/res/layout/playlist_item.xml b/vlc-android/res/layout/playlist_item.xml
new file mode 100644
index 0000000000..5bded94ba1
--- /dev/null
+++ b/vlc-android/res/layout/playlist_item.xml
@@ -0,0 +1,58 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <data>
+        <import type="android.view.View"/>
+        <variable
+            name="handler"
+            type="org.videolan.vlc.gui.audio.PlaylistAdapter.ClickHandler"/>
+        <variable
+            name="media"
+            type="org.videolan.vlc.MediaWrapper"/>
+        <variable
+            name="subTitle"
+            type="String"/>
+        <variable
+            name="position"
+            type="int"/>
+        <variable
+            name="titleColor"
+            type="int"/>
+    </data>
+
+    <LinearLayout
+        android:orientation="vertical" android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:background="?attr/background_default">
+        <TextView
+            android:id="@+id/audio_item_title"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginLeft="5dip"
+            android:layout_marginRight="5dip"
+            android:layout_marginTop="5dip"
+            android:singleLine="true"
+            android:ellipsize="middle"
+            android:text="@{media.title}"
+            android:textColor="@{titleColor}"
+            android:fontFamily="sans-serif-light"
+            android:textSize="16sp"
+            android:tag="@{position}"
+            android:onClick="@{handler.onClick}"/>
+        <TextView
+            android:id="@+id/audio_item_subtitle"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:text="@{subTitle}"
+            android:layout_marginBottom="5dip"
+            android:layout_marginLeft="5dip"
+            android:layout_marginRight="5dip"
+            android:singleLine="true"
+            android:ellipsize="middle"
+            android:textColor="?attr/list_subtitle"
+            android:fontFamily="sans-serif-light"
+            android:textSize="12sp"
+            android:tag="@{position}"
+            android:onClick="@{handler.onClick}" />
+    </LinearLayout>
+</layout>
diff --git a/vlc-android/src/org/videolan/vlc/PlaybackService.java b/vlc-android/src/org/videolan/vlc/PlaybackService.java
index 9a12e35e2c..790e604876 100644
--- a/vlc-android/src/org/videolan/vlc/PlaybackService.java
+++ b/vlc-android/src/org/videolan/vlc/PlaybackService.java
@@ -1658,12 +1658,14 @@ public void append(MediaWrapper media) {
     public void moveItem(int positionStart, int positionEnd) {
         mMediaList.move(positionStart, positionEnd);
         PlaybackService.this.saveMediaList();
+        Log.d(TAG, "moveItem "+positionStart+" -> "+positionEnd);
     }
 
     @MainThread
     public void remove(int position) {
         mMediaList.remove(position);
         onMediaListChanged();
+        Log.d(TAG, "remove "+position);
     }
 
     @MainThread
diff --git a/vlc-android/src/org/videolan/vlc/PlaylistAdapter.java b/vlc-android/src/org/videolan/vlc/PlaylistAdapter.java
new file mode 100644
index 0000000000..87c62ad2bb
--- /dev/null
+++ b/vlc-android/src/org/videolan/vlc/PlaylistAdapter.java
@@ -0,0 +1,53 @@
+/*
+ * *************************************************************************
+ *  PlaylistAdapter.java
+ * **************************************************************************
+ *  Copyright © 2015 VLC authors and VideoLAN
+ *  Author: Geoffrey Métais
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
+ *  ***************************************************************************
+ */
+
+package org.videolan.vlc;
+
+import android.support.v7.widget.RecyclerView;
+import android.view.View;
+import android.view.ViewGroup;
+
+public class PlaylistAdapter extends RecyclerView.Adapter<PlaylistAdapter.PlaylistViewHolder> {
+
+    @Override
+    public PlaylistViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+        return null;
+    }
+
+    @Override
+    public int getItemCount() {
+        return 0;
+    }
+
+    @Override
+    public void onBindViewHolder(PlaylistViewHolder holder, int position) {
+
+    }
+
+    static class PlaylistViewHolder extends RecyclerView.ViewHolder {
+
+        public PlaylistViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+}
diff --git a/vlc-android/src/org/videolan/vlc/gui/SwipeDragItemTouchHelperCallback.java b/vlc-android/src/org/videolan/vlc/gui/SwipeDragItemTouchHelperCallback.java
new file mode 100644
index 0000000000..7f58d4a141
--- /dev/null
+++ b/vlc-android/src/org/videolan/vlc/gui/SwipeDragItemTouchHelperCallback.java
@@ -0,0 +1,56 @@
+/*
+ * *************************************************************************
+ *  SwipeDragItemTouchHelperCallback.java
+ * **************************************************************************
+ *  Copyright © 2015 VLC authors and VideoLAN
+ *  Author: Geoffrey Métais
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
+ *  ***************************************************************************
+ */
+
+package org.videolan.vlc.gui;
+
+import android.support.v7.widget.RecyclerView;
+import android.support.v7.widget.helper.ItemTouchHelper;
+
+import org.videolan.vlc.interfaces.SwipeDragHelperAdapter;
+
+public class SwipeDragItemTouchHelperCallback extends ItemTouchHelper.Callback {
+
+    private final SwipeDragHelperAdapter mAdapter;
+
+    public SwipeDragItemTouchHelperCallback(SwipeDragHelperAdapter mAdapter) {
+        this.mAdapter = mAdapter;
+    }
+
+    @Override
+    public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {
+        int dragFlags = ItemTouchHelper.UP | ItemTouchHelper.DOWN;
+        int swipeFlags = ItemTouchHelper.START | ItemTouchHelper.END;
+        return makeMovementFlags(dragFlags, swipeFlags);
+    }
+
+    @Override
+    public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {
+        mAdapter.onItemMove(viewHolder.getAdapterPosition(), target.getAdapterPosition());
+        return true;
+    }
+
+    @Override
+    public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {
+        mAdapter.onItemDismiss(viewHolder.getAdapterPosition());
+    }
+}
diff --git a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlayer.java b/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlayer.java
index 1acd287474..5ed4b8eadf 100644
--- a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlayer.java
+++ b/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlayer.java
@@ -32,6 +32,9 @@
 import android.support.design.widget.Snackbar;
 import android.support.v4.app.FragmentActivity;
 import android.support.v4.app.FragmentManager;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.support.v7.widget.helper.ItemTouchHelper;
 import android.util.Log;
 import android.view.ContextMenu;
 import android.view.ContextMenu.ContextMenuInfo;
@@ -41,10 +44,7 @@
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.AdapterView;
 import android.widget.AdapterView.AdapterContextMenuInfo;
-import android.widget.AdapterView.OnItemClickListener;
-import android.widget.AdapterView.OnItemLongClickListener;
 import android.widget.ImageButton;
 import android.widget.ProgressBar;
 import android.widget.SeekBar;
@@ -60,11 +60,12 @@
 import org.videolan.vlc.VLCApplication;
 import org.videolan.vlc.gui.AudioPlayerContainerActivity;
 import org.videolan.vlc.gui.PlaybackServiceFragment;
-import org.videolan.vlc.gui.preferences.PreferencesActivity;
+import org.videolan.vlc.gui.SwipeDragItemTouchHelperCallback;
 import org.videolan.vlc.gui.audio.widget.CoverMediaSwitcher;
 import org.videolan.vlc.gui.audio.widget.HeaderMediaSwitcher;
 import org.videolan.vlc.gui.dialogs.AdvOptionsDialog;
 import org.videolan.vlc.gui.dialogs.SavePlaylistDialog;
+import org.videolan.vlc.gui.preferences.PreferencesActivity;
 import org.videolan.vlc.util.Strings;
 import org.videolan.vlc.util.Util;
 import org.videolan.vlc.widget.AudioMediaSwitcher.AudioMediaSwitcherListener;
@@ -91,7 +92,7 @@ public class AudioPlayer extends PlaybackServiceFragment implements PlaybackServ
     private ImageButton mAdvFunc;
     private ImageButton mPlaylistSwitch, mPlaylistSave;
     private SeekBar mTimeline;
-    private AudioPlaylistView mSongsList;
+    private RecyclerView mSongsList;
 
     ViewSwitcher mSwitcher;
 
@@ -99,7 +100,7 @@ public class AudioPlayer extends PlaybackServiceFragment implements PlaybackServ
     private boolean mPreviewingSeek = false;
     private boolean mSwitchedToVideo = false;
 
-    private AudioPlaylistAdapter mSongsListAdapter;
+    private PlaylistAdapter mPlaylistAdapter;
 
     private boolean mAdvFuncVisible;
     private boolean mPlaylistSwitchVisible;
@@ -116,7 +117,7 @@ public class AudioPlayer extends PlaybackServiceFragment implements PlaybackServ
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
 
-        mSongsListAdapter = new AudioPlaylistAdapter(getActivity());
+        mPlaylistAdapter = new PlaylistAdapter();
     }
 
     @Override
@@ -145,8 +146,15 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa
         mPlaylistSave = (ImageButton) v.findViewById(R.id.playlist_save);
         mTimeline = (SeekBar) v.findViewById(R.id.timeline);
 
-        mSongsList = (AudioPlaylistView) v.findViewById(R.id.songs_list);
-        mSongsList.setAdapter(mSongsListAdapter);
+        mSongsList = (RecyclerView) v.findViewById(R.id.songs_list);
+        final LinearLayoutManager layoutManager = new LinearLayoutManager(getActivity());
+        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);
+        mSongsList.setLayoutManager(layoutManager);
+        mSongsList.setAdapter(mPlaylistAdapter);
+
+        ItemTouchHelper.Callback callback =  new SwipeDragItemTouchHelperCallback(mPlaylistAdapter);
+        ItemTouchHelper touchHelper = new ItemTouchHelper(callback);
+        touchHelper.attachToRecyclerView(mSongsList);
 
         mSwitcher = (ViewSwitcher) v.findViewById(R.id.view_switcher);
         mSwitcher.setInAnimation(getActivity(), android.R.anim.fade_in);
@@ -238,37 +246,6 @@ public void onClick(View v) {
                                                      R.attr.ic_playlist));
             }
         });
-        mSongsList.setOnItemClickListener(new OnItemClickListener() {
-            @Override
-            public void onItemClick(AdapterView<?> av, View v, int p, long id) {
-                if (mService != null) {
-                    mService.playIndex(p);
-                }
-            }
-        });
-        mSongsList.setOnItemLongClickListener(new OnItemLongClickListener() {
-            @Override
-            public boolean onItemLongClick(AdapterView<?> parent, View view,
-                    int position, long id) {
-                getActivity().openContextMenu(view);
-                return true;
-            }
-        });
-        mSongsList.setOnItemDraggedListener(new AudioPlaylistView.OnItemDraggedListener() {
-            @Override
-            public void onItemDragged(int positionStart, int positionEnd) {
-                if (mService != null)
-                    mService.moveItem(positionStart, positionEnd);
-            }
-        });
-        mSongsList.setOnItemRemovedListener(new AudioPlaylistView.OnItemRemovedListener() {
-            @Override
-            public void onItemRemoved(int position) {
-                if (mService != null)
-                    mService.remove(position);
-                update();
-            }
-        });
         registerForContextMenu(mSongsList);
 
         getActivity().setVolumeControlStream(AudioManager.STREAM_MUSIC);
@@ -436,8 +413,8 @@ private void updateList() {
         if (mService == null)
             return;
 
-        final List<MediaWrapper> previousAudioList = mSongsListAdapter.getMedias();
-        mSongsListAdapter.clear();
+        final List<MediaWrapper> previousAudioList = mPlaylistAdapter.getMedias();
+        mPlaylistAdapter.clear();
 
         final List<MediaWrapper> audioList = mService.getMedias();
         final String currentItem = mService.getCurrentMediaLocation();
@@ -447,19 +424,21 @@ private void updateList() {
                 final MediaWrapper media = audioList.get(i);
                 if (currentItem != null && currentItem.equals(media.getLocation()))
                     currentIndex = i;
-                mSongsListAdapter.add(media);
+                mPlaylistAdapter.add(media);
+                mPlaylistAdapter.notifyItemChanged(i);
             }
         }
-        mSongsListAdapter.setCurrentIndex(currentIndex);
+        mPlaylistAdapter.setCurrentIndex(currentIndex);
 
-        mSongsListAdapter.notifyDataSetChanged();
+        mPlaylistAdapter.notifyItemChanged(currentIndex);
 
         final int selectionIndex = currentIndex;
         if (!previousAudioList.equals(audioList))
             mSongsList.post(new Runnable() {
                 @Override
                 public void run() {
-                    mSongsList.setSelection(selectionIndex);
+                    //TODO // FIXME: 30/10/15
+                    mPlaylistAdapter.setCurrentIndex(selectionIndex);
                 }
             });
     }
@@ -684,6 +663,7 @@ public void onClick(View v) {
     public void onConnected(PlaybackService service) {
         super.onConnected(service);
         mService.addCallback(this);
+        mPlaylistAdapter.setService(service);
         update();
     }
 
diff --git a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistAdapter.java b/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistAdapter.java
deleted file mode 100644
index 571f180a7d..0000000000
--- a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistAdapter.java
+++ /dev/null
@@ -1,172 +0,0 @@
-/*****************************************************************************
- * AudioSongsListAdapter.java
- *****************************************************************************
- * Copyright © 2011-2012 VLC authors and VideoLAN
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
- *****************************************************************************/
-
-package org.videolan.vlc.gui.audio;
-
-import android.content.Context;
-import android.content.SharedPreferences;
-import android.content.res.ColorStateList;
-import android.database.DataSetObserver;
-import android.preference.PreferenceManager;
-import android.view.LayoutInflater;
-import android.view.MotionEvent;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.view.View.OnLongClickListener;
-import android.view.View.OnTouchListener;
-import android.view.ViewGroup;
-import android.widget.ArrayAdapter;
-import android.widget.ImageButton;
-import android.widget.LinearLayout;
-import android.widget.TextView;
-
-import org.videolan.vlc.MediaWrapper;
-import org.videolan.vlc.R;
-import org.videolan.vlc.util.Util;
-import org.videolan.vlc.widget.AudioPlaylistItemViewGroup;
-
-import java.util.ArrayList;
-import java.util.List;
-
-public class AudioPlaylistAdapter extends ArrayAdapter<MediaWrapper> {
-
-    private int mCurrentIndex;
-    private Context mContext;
-    private int mAlignMode;
-
-    public AudioPlaylistAdapter(Context context) {
-        super(context, 0);
-        mContext = context;
-        mCurrentIndex = -1;
-        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);
-        mAlignMode = Integer.valueOf(preferences.getString("audio_title_alignment", "0"));
-    }
-
-    public void setCurrentIndex(int currentIndex) {
-        mCurrentIndex = currentIndex;
-    }
-
-    @Override
-    public View getView(int position, View convertView, ViewGroup parent) {
-        ViewHolder holder;
-        View v = convertView;
-        if (v == null) {
-            LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
-            v = inflater.inflate(R.layout.audio_playlist_item, parent, false);
-            holder = new ViewHolder();
-            holder.title = (TextView) v.findViewById(R.id.title);
-            Util.setAlignModeByPref(mAlignMode, holder.title);
-            holder.artist = (TextView) v.findViewById(R.id.artist);
-            holder.moveButton = (ImageButton) v.findViewById(R.id.move);
-            holder.expansion = (LinearLayout)v.findViewById(R.id.item_expansion);
-            holder.layoutItem = (LinearLayout)v.findViewById(R.id.layout_item);
-            holder.layoutFooter = v.findViewById(R.id.layout_footer);
-            holder.itemGroup = (AudioPlaylistItemViewGroup)v.findViewById(R.id.playlist_item);
-            v.setTag(holder);
-        } else
-            holder = (ViewHolder) v.getTag();
-
-        holder.expansion.setVisibility(LinearLayout.GONE);
-        holder.layoutItem.setVisibility(LinearLayout.VISIBLE);
-        holder.layoutFooter.setVisibility(LinearLayout.VISIBLE);
-        holder.itemGroup.scrollTo(1);
-
-        MediaWrapper media = getItem(position);
-        final String title = media.getTitle();
-        final String artist = Util.getMediaSubtitle(mContext, media);
-        final int pos = position;
-        final View itemView = v;
-
-        holder.title.setText(title);
-        ColorStateList titleColor = v.getResources().getColorStateList(mCurrentIndex == position
-                ? Util.getResourceFromAttribute(mContext, R.attr.list_title_last)
-                : Util.getResourceFromAttribute(mContext, R.attr.list_title));
-        holder.title.setTextColor(titleColor);
-        holder.artist.setText(artist);
-        holder.position = position;
-
-        final AudioPlaylistView playlistView = (AudioPlaylistView)parent;
-
-        holder.moveButton.setOnTouchListener(new OnTouchListener() {
-            @Override
-            public boolean onTouch(View v, MotionEvent event) {
-                if (event.getAction() == MotionEvent.ACTION_DOWN) {
-                    playlistView.startDrag(pos, title, artist);
-                    return true;
-                }
-                else
-                    return false;
-            }
-        });
-        holder.itemGroup.setOnItemSlidedListener(
-                new AudioPlaylistItemViewGroup.OnItemSlidedListener() {
-            @Override
-            public void onItemSlided() {
-                playlistView.removeItem(pos);
-            }
-        });
-        holder.layoutItem.setOnClickListener(new OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                playlistView.performItemClick(itemView, pos, 0);
-            }
-        });
-        holder.layoutItem.setOnLongClickListener(new OnLongClickListener() {
-            @Override
-            public boolean onLongClick(View v) {
-                playlistView.performItemLongClick(itemView, pos, 0);
-                return true;
-            }
-        });
-
-        return v;
-    }
-
-    public String getLocation(int position) {
-        String location = null;
-        if (position >= 0 && position < getCount())
-            location = getItem(position).getLocation();
-        return location;
-    }
-
-    public List<MediaWrapper> getMedias() {
-        List<MediaWrapper> medias = new ArrayList<MediaWrapper>();
-        for (int i = 0 ; i < getCount() ; ++i)
-            medias.add(getItem(i));
-        return medias;
-    }
-
-    static class ViewHolder {
-        int position;
-        TextView title;
-        TextView artist;
-        ImageButton moveButton;
-        LinearLayout expansion;
-        LinearLayout layoutItem;
-        View layoutFooter;
-        AudioPlaylistItemViewGroup itemGroup;
-    }
-
-    @Override
-    public void unregisterDataSetObserver(DataSetObserver observer) {
-        if (observer != null)
-            super.unregisterDataSetObserver(observer);
-    }
-}
diff --git a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistView.java b/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistView.java
deleted file mode 100644
index c2881658cb..0000000000
--- a/vlc-android/src/org/videolan/vlc/gui/audio/AudioPlaylistView.java
+++ /dev/null
@@ -1,234 +0,0 @@
-/*****************************************************************************
- * AudioPlaylistView.java
- *****************************************************************************
- * Copyright © 2011-2012 VLC authors and VideoLAN
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License as published by
- * the Free Software Foundation; either version 2 of the License, or
- * (at your option) any later version.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- * You should have received a copy of the GNU General Public License
- * along with this program; if not, write to the Free Software
- * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
- *****************************************************************************/
-
-package org.videolan.vlc.gui.audio;
-
-import android.content.Context;
-import android.graphics.Canvas;
-import android.graphics.Rect;
-import android.support.annotation.NonNull;
-import android.util.AttributeSet;
-import android.view.LayoutInflater;
-import android.view.MotionEvent;
-import android.view.View;
-import android.widget.LinearLayout;
-import android.widget.ListView;
-import android.widget.TextView;
-
-import org.videolan.vlc.R;
-
-public class AudioPlaylistView extends ListView {
-
-    private View mDragShadow;
-    private boolean mIsDragging;
-    private int mPositionDragStart;
-
-    private float mTouchY;
-
-    private OnItemDraggedListener mOnItemDraggedListener;
-    private OnItemRemovedListener mOnItemRemovedListener;
-    private OnItemLongClickListener mOnItemLongClickListener;
-
-    public AudioPlaylistView(Context context, AttributeSet attrs) {
-        super(context, attrs);
-
-        mIsDragging = false;
-
-        LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
-        mDragShadow = inflater.inflate(R.layout.audio_playlist_item_drag_shadow, this, false);
-
-    }
-
-    @Override
-    protected void onLayout(boolean changed, int l, int t, int r, int b) {
-        super.onLayout(changed, l, t, r, b);
-        mDragShadow.layout(l, t, l + mDragShadow.getMeasuredWidth(), t + mDragShadow.getMeasuredHeight());
-    }
-
-    @Override
-    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
-        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
-        mDragShadow.measure(widthMeasureSpec, MeasureSpec.UNSPECIFIED);
-    }
-
-    @Override
-    public boolean onInterceptTouchEvent(@NonNull MotionEvent event)
-    {
-        switch (event.getAction())
-        {
-        case MotionEvent.ACTION_DOWN:
-        case MotionEvent.ACTION_MOVE:
-            mTouchY = event.getY();
-            break;
-        case MotionEvent.ACTION_UP:
-        case MotionEvent.ACTION_CANCEL:
-            if (mIsDragging) {
-                dragAborted();
-            }
-            break;
-        default:
-            break;
-        }
-
-        return mIsDragging || super.onInterceptTouchEvent(event);
-    }
-
-    @Override
-    public boolean onTouchEvent(@NonNull MotionEvent event)
-    {
-        boolean handleEvent = false;
-
-        // Save the position of the touch event.
-        mTouchY = event.getY();
-
-        if (mIsDragging) {
-            handleEvent = true;
-            switch (event.getAction())
-            {
-            case MotionEvent.ACTION_DOWN:
-            case MotionEvent.ACTION_MOVE:
-                dragging();
-                break;
-            case MotionEvent.ACTION_UP:
-                dragDropped();
-                break;
-            case MotionEvent.ACTION_CANCEL:
-                dragAborted();
-                break;
-            default:
-                handleEvent = false;
-                break;
-            }
-            invalidate();
-        }
-
-        return handleEvent || super.onTouchEvent(event);
-    }
-
-    @Override
-    protected void dispatchDraw (@NonNull Canvas canvas) {
-        super.dispatchDraw(canvas);
-
-        if (mIsDragging) {
-            canvas.save();
-            // Position the drag shadow.
-            float posY = mTouchY - (float)mDragShadow.getMeasuredHeight() / 2f;
-            canvas.translate(0, posY);
-            mDragShadow.draw(canvas);
-            canvas.restore();
-        }
-    }
-
-    public void startDrag(int positionDragStart, String title, String artist) {
-        mPositionDragStart = positionDragStart;
-        if (mDragShadow != null) {
-            TextView titleView = (TextView)mDragShadow.findViewById(R.id.title);
-            TextView artistView = (TextView)mDragShadow.findViewById(R.id.artist);
-            titleView.setText(title);
-            artistView.setText(artist);
-            mIsDragging = true;
-        }
-    }
-
-    private void dragging() {
-        // Find the child view that is currently touched (perform a hit test)
-        Rect rect = new Rect();
-        for (int i = 0; i < getChildCount(); i++) {
-            View child = getChildAt(i);
-            AudioPlaylistAdapter.ViewHolder holder = (AudioPlaylistAdapter.ViewHolder)child.getTag();
-
-            if (holder.position == mPositionDragStart) {
-                holder.layoutItem.setVisibility(LinearLayout.GONE);
-                holder.layoutFooter.setVisibility(LinearLayout.GONE);
-            }
-            else {
-                child.getHitRect(rect);
-                if (rect.contains(getWidth() / 2, (int)mTouchY))
-                    holder.expansion.setVisibility(LinearLayout.VISIBLE);
-                else
-                    holder.expansion.setVisibility(LinearLayout.GONE);
-            }
-        }
-    }
-
-    public void dragDropped() {
-        mIsDragging = false;
-
-        // Find the child view that was touched (perform a hit test)
-        Rect rect = new Rect();
-        boolean b_foundHitChild =  false;
-        for (int i = 0; i < getChildCount(); i++) {
-            View child = getChildAt(i);
-            child.getHitRect(rect);
-            if (rect.contains(getWidth() / 2, (int)mTouchY)) {
-                // Send back the performed change thanks to the listener.
-                AudioPlaylistAdapter.ViewHolder holder = (AudioPlaylistAdapter.ViewHolder)child.getTag();
-                if (mOnItemDraggedListener != null)
-                    mOnItemDraggedListener.onItemDragged(mPositionDragStart, holder.position);
-                b_foundHitChild = true;
-                break;
-            }
-        }
-        if (!b_foundHitChild)
-            mOnItemDraggedListener.onItemDragged(mPositionDragStart, this.getCount());
-    }
-
-    public void dragAborted() {
-        mIsDragging = false;
-
-        for (int i = 0; i < getChildCount(); i++) {
-            View child = getChildAt(i);
-            AudioPlaylistAdapter.ViewHolder holder = (AudioPlaylistAdapter.ViewHolder)child.getTag();
-            holder.layoutItem.setVisibility(LinearLayout.VISIBLE);
-            holder.layoutFooter.setVisibility(LinearLayout.VISIBLE);
-            holder.expansion.setVisibility(LinearLayout.GONE);
-        }
-    }
-
-    public interface OnItemDraggedListener {
-        void onItemDragged(int positionStart, int positionEnd);
-    }
-
-    public void setOnItemDraggedListener(OnItemDraggedListener l) {
-        mOnItemDraggedListener = l;
-    }
-
-    public interface OnItemRemovedListener {
-        void onItemRemoved(int position);
-    }
-
-    public void setOnItemRemovedListener(OnItemRemovedListener l) {
-        mOnItemRemovedListener = l;
-    }
-
-    public void removeItem(int position) {
-        if (mOnItemRemovedListener != null)
-            mOnItemRemovedListener.onItemRemoved(position);
-    }
-
-    public void performItemLongClick(View view, int position, long id) {
-        if (mOnItemLongClickListener != null)
-            mOnItemLongClickListener.onItemLongClick(this, view, position, id);
-    }
-
-    public void setOnItemLongClickListener(OnItemLongClickListener l) {
-        mOnItemLongClickListener = l;
-    }
-}
diff --git a/vlc-android/src/org/videolan/vlc/gui/audio/PlaylistAdapter.java b/vlc-android/src/org/videolan/vlc/gui/audio/PlaylistAdapter.java
new file mode 100644
index 0000000000..c1e6b75339
--- /dev/null
+++ b/vlc-android/src/org/videolan/vlc/gui/audio/PlaylistAdapter.java
@@ -0,0 +1,147 @@
+/*
+ * *************************************************************************
+ *  PlaylistAdapter.java
+ * **************************************************************************
+ *  Copyright © 2015 VLC authors and VideoLAN
+ *  Author: Geoffrey Métais
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
+ *  ***************************************************************************
+ */
+
+package org.videolan.vlc.gui.audio;
+
+import android.content.Context;
+import android.databinding.DataBindingUtil;
+import android.support.v7.widget.RecyclerView;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import org.videolan.vlc.MediaWrapper;
+import org.videolan.vlc.PlaybackService;
+import org.videolan.vlc.R;
+import org.videolan.vlc.databinding.PlaylistItemBinding;
+import org.videolan.vlc.interfaces.SwipeDragHelperAdapter;
+import org.videolan.vlc.util.Util;
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+
+public class PlaylistAdapter extends RecyclerView.Adapter<PlaylistAdapter.ViewHolder> implements SwipeDragHelperAdapter{
+
+    private static final String TAG = "VLC/PlaylistAdapter";
+    PlaybackService mService = null;
+
+    private ArrayList<MediaWrapper> mDataSet = new ArrayList<MediaWrapper>();
+    private int mCurrentIndex = 0;
+
+    @Override
+    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
+        View v = LayoutInflater.from(parent.getContext())
+                    .inflate(R.layout.playlist_item, parent, false);
+        return new ViewHolder(v);
+    }
+
+    @Override
+    public void onBindViewHolder(ViewHolder holder, int position) {
+        Context ctx = holder.itemView.getContext();
+        final MediaWrapper media = getItem(position);
+        holder.binding.setPosition(position);
+        holder.binding.setHandler(mClickHandler);
+        holder.binding.setMedia(media);
+        holder.binding.setSubTitle(Util.getMediaSubtitle(ctx, media));
+        holder.binding.setTitleColor(mCurrentIndex == position
+                ? Util.getColorFromAttribute(ctx, R.attr.list_title_last)
+                : Util.getColorFromAttribute(ctx, R.attr.list_title));
+    }
+
+    @Override
+    public int getItemCount() {
+        return mDataSet.size();
+    }
+
+    public MediaWrapper getItem(int position) {
+        if (position >= 0 && position < getItemCount())
+            return mDataSet.get(position);
+        else
+            return null;
+    }
+
+    public String getLocation(int position) {
+        MediaWrapper item = getItem(position);
+        return item == null ? "" : item.getLocation();
+    }
+
+    public List<MediaWrapper> getMedias() {
+        return mDataSet;
+    }
+
+    public void add(MediaWrapper mw) {
+        mDataSet.add(mw);
+    }
+
+    public void clear(){
+        mDataSet.clear();
+    }
+
+    public void setCurrentIndex(int position) {
+        int former = mCurrentIndex;
+        mCurrentIndex = position;
+        notifyItemChanged(former);
+        notifyItemChanged(position);
+    }
+
+    @Override
+    public void onItemMove(int fromPosition, int toPosition) {
+        if (mService == null)
+            return;
+        mService.moveItem(fromPosition, toPosition);
+        Collections.swap(mDataSet, fromPosition, toPosition);
+        notifyItemMoved(fromPosition, toPosition);
+    }
+
+    @Override
+    public void onItemDismiss(int position) {
+        if (mService == null)
+            return;
+        mService.remove(position);
+        mDataSet.remove(position);
+        notifyDataSetChanged();
+    }
+
+    public void setService(PlaybackService service) {
+        mService = service;
+    }
+
+    public static class ViewHolder extends RecyclerView.ViewHolder {
+        PlaylistItemBinding binding;
+
+        public ViewHolder(View v) {
+            super(v);
+            binding = DataBindingUtil.bind(v);
+        }
+    }
+
+    public ClickHandler mClickHandler = new ClickHandler();
+
+    public class ClickHandler {
+        public void onClick(View v){
+            if (mService != null)
+                mService.playIndex(((Integer)v.getTag()).intValue());
+        }
+    }
+}
diff --git a/vlc-android/src/org/videolan/vlc/interfaces/SwipeDragHelperAdapter.java b/vlc-android/src/org/videolan/vlc/interfaces/SwipeDragHelperAdapter.java
new file mode 100644
index 0000000000..845bf5d9bf
--- /dev/null
+++ b/vlc-android/src/org/videolan/vlc/interfaces/SwipeDragHelperAdapter.java
@@ -0,0 +1,31 @@
+/*
+ * *************************************************************************
+ *  ItemTouchHelperAdapter.java
+ * **************************************************************************
+ *  Copyright © 2015 VLC authors and VideoLAN
+ *  Author: Geoffrey Métais
+ *
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.
+ *  ***************************************************************************
+ */
+
+package org.videolan.vlc.interfaces;
+
+public interface SwipeDragHelperAdapter {
+
+    void onItemMove(int fromPosition, int toPosition);
+
+    void onItemDismiss(int position);
+}
