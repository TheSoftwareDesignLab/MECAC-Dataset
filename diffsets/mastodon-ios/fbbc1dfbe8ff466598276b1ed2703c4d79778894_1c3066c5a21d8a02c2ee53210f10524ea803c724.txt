diff --git a/Mastodon/In Progress New Layout and Datamodel/Timeline/TimelineFeedLoader.swift b/Mastodon/In Progress New Layout and Datamodel/Timeline/TimelineFeedLoader.swift
index 0ab0e95826..9ec24dfd0b 100644
--- a/Mastodon/In Progress New Layout and Datamodel/Timeline/TimelineFeedLoader.swift	
+++ b/Mastodon/In Progress New Layout and Datamodel/Timeline/TimelineFeedLoader.swift	
@@ -722,7 +722,7 @@ struct NotificationsLoader {
         let canUseGroupedNotifications = {
             switch scope {
             case .everything, .mentions:
-                return currentInstance.canGroupNotifications
+                return currentInstance.isAvailable(.groupNotifications)
             case .fromRequest:
                 return false
             }
diff --git a/Mastodon/Scene/Profile/ProfileViewController.swift b/Mastodon/Scene/Profile/ProfileViewController.swift
index 34544a392b..bf0e1f6806 100644
--- a/Mastodon/Scene/Profile/ProfileViewController.swift
+++ b/Mastodon/Scene/Profile/ProfileViewController.swift
@@ -260,7 +260,7 @@ class ProfileViewController: UIViewController, MediaPreviewableViewController, A
             items.append(self.favoriteBarButtonItem)
             items.append(self.bookmarkBarButtonItem)
             
-            if self.currentInstance?.canFollowTags == true {
+            if self.currentInstance?.isAvailable(.followTags) == true {
                 items.append(self.followedTagsBarButtonItem)
             }
             
diff --git a/MastodonSDK/Sources/MastodonCore/AuthenticationServiceProvider.swift b/MastodonSDK/Sources/MastodonCore/AuthenticationServiceProvider.swift
index b0dd1bb00e..aacbf07b2d 100644
--- a/MastodonSDK/Sources/MastodonCore/AuthenticationServiceProvider.swift
+++ b/MastodonSDK/Sources/MastodonCore/AuthenticationServiceProvider.swift
@@ -22,6 +22,8 @@ public class AuthenticationServiceProvider: ObservableObject {
     var disposeBag = Set<AnyCancellable>()
     
     public let currentActiveUser = CurrentValueSubject<MastodonAuthenticationBox?, Never>(nil)
+    public var currentInstanceConfiguration: MastodonAuthentication.InstanceConfiguration? {  currentActiveUser.value?.authentication.instanceConfiguration
+    }
     @Published public var mastodonAuthenticationBoxes: [MastodonAuthenticationBox] = []
     @Published public var didChangeFollowersAndFollowing: String?
     
diff --git a/MastodonSDK/Sources/MastodonCore/MastodonAuthentication.swift b/MastodonSDK/Sources/MastodonCore/MastodonAuthentication.swift
index 10ef680ba6..72b3ffd783 100644
--- a/MastodonSDK/Sources/MastodonCore/MastodonAuthentication.swift
+++ b/MastodonSDK/Sources/MastodonCore/MastodonAuthentication.swift
@@ -4,19 +4,25 @@ import Foundation
 import CoreDataStack
 import MastodonSDK
 
+public enum ApiFeature {
+    case followTags
+    case groupNotifications
+    case quotePosts
+}
+
 public struct MastodonAuthentication: Codable, Hashable, UserIdentifier {
     
     public static let fallbackCharactersReservedPerURL = 23
 
     public enum InstanceConfiguration: Codable, Hashable {
-        case v1(Mastodon.Entity.Instance)
-        case v2(Mastodon.Entity.V2.Instance, TranslationLanguages)
+        case fromEndpointV1(Mastodon.Entity.Instance)   // an instance returned by querying the v1 endpoint, available from all servers
+        case fromEndpointV2(Mastodon.Entity.V2.Instance, TranslationLanguages)  // an instance returned by querying the v2 endpoint, available from server versions 4.0+
         
         public func canTranslateFrom(_ sourceLocale: String, to targetLanguage: String) -> Bool {
             switch self {
-            case .v1:
+            case .fromEndpointV1:
                 return false
-            case let .v2(instance, translationLanguages):
+            case let .fromEndpointV2(instance, translationLanguages):
                 guard instance.configuration?.translation?.enabled == true else { return false }
                 return translationLanguages[sourceLocale]?.contains(targetLanguage) == true
             }
@@ -24,39 +30,52 @@ public struct MastodonAuthentication: Codable, Hashable, UserIdentifier {
         
         public var instanceConfigLimitingProperties: InstanceConfigLimitingPropertyContaining? {
             switch self {
-            case let .v1(instance):
+            case let .fromEndpointV1(instance):
                 return instance.configuration
-            case let .v2(instance, _):
+            case let .fromEndpointV2(instance, _):
                 return instance.configuration
             }
         }
         
-        public var canFollowTags: Bool {
+        public var serverVersion: String? {  // incremented every time the server code changes
             let version: String?
             switch self {
-            case let .v1(instance):
+            case let .fromEndpointV1(instance):
                 version = instance.version
-            case let .v2(instance, _):
+            case let .fromEndpointV2(instance, _):
                 version = instance.version
             }
-            return version?.majorServerVersion(greaterThanOrEquals: 4) ?? false // following Tags is support beginning with Mastodon v4.0.0
+            return version
         }
-        
-        public var canGroupNotifications: Bool {
+        public var apiVersion: Int? {   // incremented when a new feature is introduced, to aid in distinguishing which features are available
+            let version: Int?
             switch self {
-            case let .v1(_):
-                return false
-            case let .v2(instance, _):
-                guard let apiVersion = instance.apiVersions?["mastodon"] else { return false }
+            case .fromEndpointV1:
+                version = nil
+            case .fromEndpointV2(let instance, _):
+                version = instance.apiVersions?["mastodon"]
+            }
+            return version
+        }
+        
+        public func isAvailable(_ feature: ApiFeature) -> Bool {
+            switch feature {
+            case .followTags:
+                return serverVersion?.majorServerVersion(greaterThanOrEquals: 4) ?? false // following Tags is supported beginning with Mastodon v4.0.0
+            case .groupNotifications:
+                guard let apiVersion else { return false }
                 return apiVersion >= 2
+            case .quotePosts:
+                guard let apiVersion else { return false }
+                return apiVersion >= 7
             }
         }
         
         public var charactersReservedPerURL: Int {
             switch self {
-            case let .v1(instance):
+            case let .fromEndpointV1(instance):
                 return instance.configuration?.statuses?.charactersReservedPerURL ?? fallbackCharactersReservedPerURL
-            case let .v2(instance, _):
+            case let .fromEndpointV2(instance, _):
                 return instance.configuration?.statuses?.charactersReservedPerURL ?? fallbackCharactersReservedPerURL
             }
         }
@@ -160,27 +179,27 @@ public struct MastodonAuthentication: Codable, Hashable, UserIdentifier {
 
     @MainActor
     func updating(instanceV1 instance: Mastodon.Entity.Instance) -> Self {
-        return copy(instanceConfiguration: .v1(instance))
+        return copy(instanceConfiguration: .fromEndpointV1(instance))
     }
     
     @MainActor
     func updating(instanceV2 instance: Mastodon.Entity.V2.Instance) -> Self {
         guard
             let instanceConfiguration,
-            case let InstanceConfiguration.v2(_, translationLanguages) = instanceConfiguration
+            case let InstanceConfiguration.fromEndpointV2(_, translationLanguages) = instanceConfiguration
         else {
-            return copy(instanceConfiguration: .v2(instance, [:]))
+            return copy(instanceConfiguration: .fromEndpointV2(instance, [:]))
         }
-        return copy(instanceConfiguration: .v2(instance, translationLanguages))
+        return copy(instanceConfiguration: .fromEndpointV2(instance, translationLanguages))
     }
     
     @MainActor
     func updating(translationLanguages: TranslationLanguages) -> Self {
         switch self.instanceConfiguration {
-        case .v1(let instance):
-            return copy(instanceConfiguration: .v1(instance))
-        case .v2(let instance, _):
-            return copy(instanceConfiguration: .v2(instance, translationLanguages))
+        case .fromEndpointV1(let instance):
+            return copy(instanceConfiguration: .fromEndpointV1(instance))
+        case .fromEndpointV2(let instance, _):
+            return copy(instanceConfiguration: .fromEndpointV2(instance, translationLanguages))
         case .none:
             return self
         }
diff --git a/MastodonSDK/Sources/MastodonSDK/API/Mastodon+API+Statuses.swift b/MastodonSDK/Sources/MastodonSDK/API/Mastodon+API+Statuses.swift
index 27be388f16..594082ad44 100644
--- a/MastodonSDK/Sources/MastodonSDK/API/Mastodon+API+Statuses.swift
+++ b/MastodonSDK/Sources/MastodonSDK/API/Mastodon+API+Statuses.swift
@@ -10,8 +10,6 @@ import Combine
 
 extension Mastodon.API.Statuses {
     
-    public static let _allowComposingQuotePosts = UserDefaults.isDebugOrTestflightOrSimulator && UserDefaults.standard.testNewHomeTimeline
-    
     static func statusEndpointURL(domain: String, statusID: Mastodon.Entity.Status.ID) -> URL {
         let pathComponent = "statuses/" + statusID
         return Mastodon.API.endpointURL(domain: domain).appendingPathComponent(pathComponent)
@@ -154,9 +152,7 @@ extension Mastodon.API.Statuses {
             sensitive.flatMap { data.append(Data.multipart(key: "sensitive", value: $0)) }
             spoilerText.flatMap { data.append(Data.multipart(key: "spoiler_text", value: $0)) }
             visibility.flatMap { data.append(Data.multipart(key: "visibility", value: $0.rawValue)) }
-            if Mastodon.API.Statuses._allowComposingQuotePosts {
-                quotePolicy.flatMap { data.append(Data.multipart(key: "quote_approval_policy", value: $0.rawValue)) }
-            }
+            quotePolicy.flatMap { data.append(Data.multipart(key: "quote_approval_policy", value: $0.rawValue)) }
             language.flatMap { data.append(Data.multipart(key: "language", value: $0)) }
             
             data.append(Data.multipartEnd())
diff --git a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/ComposeContentViewModel.swift b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/ComposeContentViewModel.swift
index b5b1961558..8447ce6989 100644
--- a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/ComposeContentViewModel.swift
+++ b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/ComposeContentViewModel.swift
@@ -706,7 +706,7 @@ extension ComposeContentViewModel {
             pollExpireConfigurationOption: pollExpireConfigurationOption,
             pollMultipleConfigurationOption: pollMultipleConfigurationOption,
             visibility: interactionSettings.visibility,
-            quotePolicy: interactionSettings.quotability,
+            quotePolicy: AuthenticationServiceProvider.shared.currentInstanceConfiguration?.isAvailable(.quotePosts) == true ? interactionSettings.quotability : nil,
             language: language
         )
     }
diff --git a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/Publisher/MastodonStatusPublisher.swift b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/Publisher/MastodonStatusPublisher.swift
index d2d0c7a7fc..e3fe1fb8a6 100644
--- a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/Publisher/MastodonStatusPublisher.swift
+++ b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/Publisher/MastodonStatusPublisher.swift
@@ -30,7 +30,7 @@ public final class MastodonStatusPublisher: NSObject, ProgressReporting {
     public let pollMultipleConfigurationOption: PollComposeItem.MultipleConfiguration.Option
     // visibility
     public let visibility: Mastodon.Entity.Status.Visibility
-    public let quotePolicy: Mastodon.API.Statuses.PublishStatusQuery.QuotePermissionPolicy
+    public let quotePolicy: Mastodon.API.Statuses.PublishStatusQuery.QuotePermissionPolicy?
     // language
     public let language: String
     
@@ -54,7 +54,7 @@ public final class MastodonStatusPublisher: NSObject, ProgressReporting {
         pollExpireConfigurationOption: PollComposeItem.ExpireConfiguration.Option,
         pollMultipleConfigurationOption: PollComposeItem.MultipleConfiguration.Option,
         visibility: Mastodon.Entity.Status.Visibility,
-        quotePolicy: Mastodon.API.Statuses.PublishStatusQuery.QuotePermissionPolicy,
+        quotePolicy: Mastodon.API.Statuses.PublishStatusQuery.QuotePermissionPolicy?,
         language: String
     ) {
         self.replyTo = replyTo
diff --git a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/View/ComposeContentView.swift b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/View/ComposeContentView.swift
index 4f0139e3d4..093cbd3c4c 100644
--- a/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/View/ComposeContentView.swift
+++ b/MastodonSDK/Sources/MastodonUI/Scene/ComposeContent/View/ComposeContentView.swift
@@ -45,7 +45,7 @@ public struct ComposeContentView: View {
                 
                 // visibility and quotability
                 HStack {
-                    if Mastodon.API.Statuses._allowComposingQuotePosts {
+                    if AuthenticationServiceProvider.shared.currentInstanceConfiguration?.isAvailable(.quotePosts) == true {
                         interactionSettingsButton
                             .fixedSize(horizontal: true, vertical: false)
                         Spacer().frame(maxWidth: .infinity)
