diff --git a/budget/lib/database/tables.dart b/budget/lib/database/tables.dart
index 0c7b4f515..61896f5dc 100644
--- a/budget/lib/database/tables.dart
+++ b/budget/lib/database/tables.dart
@@ -104,6 +104,7 @@ class Wallets extends Table {
   DateTimeColumn get dateCreated =>
       dateTime().clientDefault(() => new DateTime.now())();
   IntColumn get order => integer()();
+  TextColumn get currency => text().nullable()();
 }
 
 @DataClassName('Transaction')
@@ -339,6 +340,9 @@ class FinanceDatabase extends _$FinanceDatabase {
                 transactions, transactions.transactionOriginalOwnerEmail);
             await migrator.addColumn(categories, categories.sharedMembers);
           }
+          if (from <= 22) {
+            await migrator.addColumn(wallets, wallets.currency);
+          }
         },
       );
 
@@ -805,6 +809,12 @@ class FinanceDatabase extends _$FinanceDatabase {
         .watch();
   }
 
+  // watch category given key
+  Stream<Budget> getBudget(int budgetPk) {
+    return (select(budgets)..where((b) => b.budgetPk.equals(budgetPk)))
+        .watchSingle();
+  }
+
   Future<int> getAmountOfBudgets() async {
     return (await select(budgets).get()).length;
   }
@@ -1167,7 +1177,6 @@ class FinanceDatabase extends _$FinanceDatabase {
       }
     }
     if (transaction.paid == false && transaction.sharedKey != null) {
-      print("HELLO!!");
       TransactionCategory category =
           await database.getCategoryInstance(transaction.categoryFk);
       await database.deleteTransaction(transaction.transactionPk);
@@ -1185,10 +1194,14 @@ class FinanceDatabase extends _$FinanceDatabase {
     print(transaction);
 
     // We need to ensure the value is set back to null, so insert/replace
-    if (transaction.sharedKey == null ||
+    if (transaction.type == null ||
+        transaction.sharedKey == null ||
         transaction.type == null ||
         transaction.sharedDateUpdated == null ||
-        transaction.sharedStatus == null) {}
+        transaction.sharedStatus == null) {
+      return into(transactions)
+          .insert(transaction, mode: InsertMode.insertOrReplace);
+    }
 
     return into(transactions).insertOnConflictUpdate(transaction);
   }
@@ -1274,7 +1287,9 @@ class FinanceDatabase extends _$FinanceDatabase {
       try {
         // entry exists, update it
         sharedTransaction = await (select(transactions)
-              ..where((t) => t.sharedKey.equals(transaction.sharedKey ?? "")))
+              ..where((t) =>
+                  t.sharedKey.equals(transaction.sharedKey ?? "") &
+                  t.categoryFk.equals(transaction.categoryFk)))
             .getSingle();
         sharedTransaction = transaction.copyWith(
             transactionPk: sharedTransaction.transactionPk);
diff --git a/budget/lib/database/tables.g.dart b/budget/lib/database/tables.g.dart
index 61d078329..9f179d341 100644
--- a/budget/lib/database/tables.g.dart
+++ b/budget/lib/database/tables.g.dart
@@ -11,13 +11,15 @@ class TransactionWallet extends DataClass
   final String? iconName;
   final DateTime dateCreated;
   final int order;
+  final String? currency;
   const TransactionWallet(
       {required this.walletPk,
       required this.name,
       this.colour,
       this.iconName,
       required this.dateCreated,
-      required this.order});
+      required this.order,
+      this.currency});
   @override
   Map<String, Expression> toColumns(bool nullToAbsent) {
     final map = <String, Expression>{};
@@ -31,6 +33,9 @@ class TransactionWallet extends DataClass
     }
     map['date_created'] = Variable<DateTime>(dateCreated);
     map['order'] = Variable<int>(order);
+    if (!nullToAbsent || currency != null) {
+      map['currency'] = Variable<String>(currency);
+    }
     return map;
   }
 
@@ -45,6 +50,9 @@ class TransactionWallet extends DataClass
           : Value(iconName),
       dateCreated: Value(dateCreated),
       order: Value(order),
+      currency: currency == null && nullToAbsent
+          ? const Value.absent()
+          : Value(currency),
     );
   }
 
@@ -58,6 +66,7 @@ class TransactionWallet extends DataClass
       iconName: serializer.fromJson<String?>(json['iconName']),
       dateCreated: serializer.fromJson<DateTime>(json['dateCreated']),
       order: serializer.fromJson<int>(json['order']),
+      currency: serializer.fromJson<String?>(json['currency']),
     );
   }
   @override
@@ -70,6 +79,7 @@ class TransactionWallet extends DataClass
       'iconName': serializer.toJson<String?>(iconName),
       'dateCreated': serializer.toJson<DateTime>(dateCreated),
       'order': serializer.toJson<int>(order),
+      'currency': serializer.toJson<String?>(currency),
     };
   }
 
@@ -79,7 +89,8 @@ class TransactionWallet extends DataClass
           Value<String?> colour = const Value.absent(),
           Value<String?> iconName = const Value.absent(),
           DateTime? dateCreated,
-          int? order}) =>
+          int? order,
+          Value<String?> currency = const Value.absent()}) =>
       TransactionWallet(
         walletPk: walletPk ?? this.walletPk,
         name: name ?? this.name,
@@ -87,6 +98,7 @@ class TransactionWallet extends DataClass
         iconName: iconName.present ? iconName.value : this.iconName,
         dateCreated: dateCreated ?? this.dateCreated,
         order: order ?? this.order,
+        currency: currency.present ? currency.value : this.currency,
       );
   @override
   String toString() {
@@ -96,14 +108,15 @@ class TransactionWallet extends DataClass
           ..write('colour: $colour, ')
           ..write('iconName: $iconName, ')
           ..write('dateCreated: $dateCreated, ')
-          ..write('order: $order')
+          ..write('order: $order, ')
+          ..write('currency: $currency')
           ..write(')'))
         .toString();
   }
 
   @override
-  int get hashCode =>
-      Object.hash(walletPk, name, colour, iconName, dateCreated, order);
+  int get hashCode => Object.hash(
+      walletPk, name, colour, iconName, dateCreated, order, currency);
   @override
   bool operator ==(Object other) =>
       identical(this, other) ||
@@ -113,7 +126,8 @@ class TransactionWallet extends DataClass
           other.colour == this.colour &&
           other.iconName == this.iconName &&
           other.dateCreated == this.dateCreated &&
-          other.order == this.order);
+          other.order == this.order &&
+          other.currency == this.currency);
 }
 
 class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
@@ -123,6 +137,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
   final Value<String?> iconName;
   final Value<DateTime> dateCreated;
   final Value<int> order;
+  final Value<String?> currency;
   const WalletsCompanion({
     this.walletPk = const Value.absent(),
     this.name = const Value.absent(),
@@ -130,6 +145,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
     this.iconName = const Value.absent(),
     this.dateCreated = const Value.absent(),
     this.order = const Value.absent(),
+    this.currency = const Value.absent(),
   });
   WalletsCompanion.insert({
     this.walletPk = const Value.absent(),
@@ -138,6 +154,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
     this.iconName = const Value.absent(),
     this.dateCreated = const Value.absent(),
     required int order,
+    this.currency = const Value.absent(),
   })  : name = Value(name),
         order = Value(order);
   static Insertable<TransactionWallet> custom({
@@ -147,6 +164,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
     Expression<String>? iconName,
     Expression<DateTime>? dateCreated,
     Expression<int>? order,
+    Expression<String>? currency,
   }) {
     return RawValuesInsertable({
       if (walletPk != null) 'wallet_pk': walletPk,
@@ -155,6 +173,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
       if (iconName != null) 'icon_name': iconName,
       if (dateCreated != null) 'date_created': dateCreated,
       if (order != null) 'order': order,
+      if (currency != null) 'currency': currency,
     });
   }
 
@@ -164,7 +183,8 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
       Value<String?>? colour,
       Value<String?>? iconName,
       Value<DateTime>? dateCreated,
-      Value<int>? order}) {
+      Value<int>? order,
+      Value<String?>? currency}) {
     return WalletsCompanion(
       walletPk: walletPk ?? this.walletPk,
       name: name ?? this.name,
@@ -172,6 +192,7 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
       iconName: iconName ?? this.iconName,
       dateCreated: dateCreated ?? this.dateCreated,
       order: order ?? this.order,
+      currency: currency ?? this.currency,
     );
   }
 
@@ -196,6 +217,9 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
     if (order.present) {
       map['order'] = Variable<int>(order.value);
     }
+    if (currency.present) {
+      map['currency'] = Variable<String>(currency.value);
+    }
     return map;
   }
 
@@ -207,7 +231,8 @@ class WalletsCompanion extends UpdateCompanion<TransactionWallet> {
           ..write('colour: $colour, ')
           ..write('iconName: $iconName, ')
           ..write('dateCreated: $dateCreated, ')
-          ..write('order: $order')
+          ..write('order: $order, ')
+          ..write('currency: $currency')
           ..write(')'))
         .toString();
   }
@@ -262,9 +287,15 @@ class $WalletsTable extends Wallets
   late final GeneratedColumn<int> order = GeneratedColumn<int>(
       'order', aliasedName, false,
       type: DriftSqlType.int, requiredDuringInsert: true);
+  static const VerificationMeta _currencyMeta =
+      const VerificationMeta('currency');
+  @override
+  late final GeneratedColumn<String> currency = GeneratedColumn<String>(
+      'currency', aliasedName, true,
+      type: DriftSqlType.string, requiredDuringInsert: false);
   @override
   List<GeneratedColumn> get $columns =>
-      [walletPk, name, colour, iconName, dateCreated, order];
+      [walletPk, name, colour, iconName, dateCreated, order, currency];
   @override
   String get aliasedName => _alias ?? 'wallets';
   @override
@@ -304,6 +335,10 @@ class $WalletsTable extends Wallets
     } else if (isInserting) {
       context.missing(_orderMeta);
     }
+    if (data.containsKey('currency')) {
+      context.handle(_currencyMeta,
+          currency.isAcceptableOrUnknown(data['currency']!, _currencyMeta));
+    }
     return context;
   }
 
@@ -325,6 +360,8 @@ class $WalletsTable extends Wallets
           .read(DriftSqlType.dateTime, data['${effectivePrefix}date_created'])!,
       order: attachedDatabase.typeMapping
           .read(DriftSqlType.int, data['${effectivePrefix}order'])!,
+      currency: attachedDatabase.typeMapping
+          .read(DriftSqlType.string, data['${effectivePrefix}currency']),
     );
   }
 
@@ -430,8 +467,8 @@ class TransactionCategory extends DataClass
       order: serializer.fromJson<int>(json['order']),
       income: serializer.fromJson<bool>(json['income']),
       sharedKey: serializer.fromJson<String?>(json['sharedKey']),
-      sharedOwnerMember:
-          serializer.fromJson<CategoryOwnerMember?>(json['sharedOwnerMember']),
+      sharedOwnerMember: $CategoriesTable.$convertersharedOwnerMembern
+          .fromJson(serializer.fromJson<int?>(json['sharedOwnerMember'])),
       sharedDateUpdated:
           serializer.fromJson<DateTime?>(json['sharedDateUpdated']),
       sharedMembers: serializer.fromJson<List<String>?>(json['sharedMembers']),
@@ -449,8 +486,9 @@ class TransactionCategory extends DataClass
       'order': serializer.toJson<int>(order),
       'income': serializer.toJson<bool>(income),
       'sharedKey': serializer.toJson<String?>(sharedKey),
-      'sharedOwnerMember':
-          serializer.toJson<CategoryOwnerMember?>(sharedOwnerMember),
+      'sharedOwnerMember': serializer.toJson<int?>($CategoriesTable
+          .$convertersharedOwnerMembern
+          .toJson(sharedOwnerMember)),
       'sharedDateUpdated': serializer.toJson<DateTime?>(sharedDateUpdated),
       'sharedMembers': serializer.toJson<List<String>?>(sharedMembers),
     };
@@ -894,11 +932,12 @@ class $CategoriesTable extends Categories
     return $CategoriesTable(attachedDatabase, alias);
   }
 
-  static TypeConverter<CategoryOwnerMember, int> $convertersharedOwnerMember =
+  static JsonTypeConverter2<CategoryOwnerMember, int, int>
+      $convertersharedOwnerMember =
       const EnumIndexConverter<CategoryOwnerMember>(CategoryOwnerMember.values);
-  static TypeConverter<CategoryOwnerMember?, int?>
+  static JsonTypeConverter2<CategoryOwnerMember?, int?, int?>
       $convertersharedOwnerMembern =
-      NullAwareTypeConverter.wrap($convertersharedOwnerMember);
+      JsonTypeConverter2.asNullable($convertersharedOwnerMember);
   static TypeConverter<List<String>, String> $convertersharedMembers =
       const StringListInColumnConverter();
   static TypeConverter<List<String>?, String?> $convertersharedMembersn =
@@ -1076,20 +1115,23 @@ class Transaction extends DataClass implements Insertable<Transaction> {
       dateTimeCreated: serializer.fromJson<DateTime?>(json['dateTimeCreated']),
       income: serializer.fromJson<bool>(json['income']),
       periodLength: serializer.fromJson<int?>(json['periodLength']),
-      reoccurrence:
-          serializer.fromJson<BudgetReoccurence?>(json['reoccurrence']),
-      type: serializer.fromJson<TransactionSpecialType?>(json['type']),
+      reoccurrence: $TransactionsTable.$converterreoccurrencen
+          .fromJson(serializer.fromJson<int?>(json['reoccurrence'])),
+      type: $TransactionsTable.$convertertypen
+          .fromJson(serializer.fromJson<int?>(json['type'])),
       paid: serializer.fromJson<bool>(json['paid']),
       createdAnotherFutureTransaction:
           serializer.fromJson<bool?>(json['createdAnotherFutureTransaction']),
       skipPaid: serializer.fromJson<bool>(json['skipPaid']),
-      methodAdded: serializer.fromJson<MethodAdded?>(json['methodAdded']),
+      methodAdded: $TransactionsTable.$convertermethodAddedn
+          .fromJson(serializer.fromJson<int?>(json['methodAdded'])),
       transactionOwnerEmail:
           serializer.fromJson<String?>(json['transactionOwnerEmail']),
       transactionOriginalOwnerEmail:
           serializer.fromJson<String?>(json['transactionOriginalOwnerEmail']),
       sharedKey: serializer.fromJson<String?>(json['sharedKey']),
-      sharedStatus: serializer.fromJson<SharedStatus?>(json['sharedStatus']),
+      sharedStatus: $TransactionsTable.$convertersharedStatusn
+          .fromJson(serializer.fromJson<int?>(json['sharedStatus'])),
       sharedDateUpdated:
           serializer.fromJson<DateTime?>(json['sharedDateUpdated']),
     );
@@ -1109,19 +1151,23 @@ class Transaction extends DataClass implements Insertable<Transaction> {
       'dateTimeCreated': serializer.toJson<DateTime?>(dateTimeCreated),
       'income': serializer.toJson<bool>(income),
       'periodLength': serializer.toJson<int?>(periodLength),
-      'reoccurrence': serializer.toJson<BudgetReoccurence?>(reoccurrence),
-      'type': serializer.toJson<TransactionSpecialType?>(type),
+      'reoccurrence': serializer.toJson<int?>(
+          $TransactionsTable.$converterreoccurrencen.toJson(reoccurrence)),
+      'type': serializer
+          .toJson<int?>($TransactionsTable.$convertertypen.toJson(type)),
       'paid': serializer.toJson<bool>(paid),
       'createdAnotherFutureTransaction':
           serializer.toJson<bool?>(createdAnotherFutureTransaction),
       'skipPaid': serializer.toJson<bool>(skipPaid),
-      'methodAdded': serializer.toJson<MethodAdded?>(methodAdded),
+      'methodAdded': serializer.toJson<int?>(
+          $TransactionsTable.$convertermethodAddedn.toJson(methodAdded)),
       'transactionOwnerEmail':
           serializer.toJson<String?>(transactionOwnerEmail),
       'transactionOriginalOwnerEmail':
           serializer.toJson<String?>(transactionOriginalOwnerEmail),
       'sharedKey': serializer.toJson<String?>(sharedKey),
-      'sharedStatus': serializer.toJson<SharedStatus?>(sharedStatus),
+      'sharedStatus': serializer.toJson<int?>(
+          $TransactionsTable.$convertersharedStatusn.toJson(sharedStatus)),
       'sharedDateUpdated': serializer.toJson<DateTime?>(sharedDateUpdated),
     };
   }
@@ -1964,23 +2010,25 @@ class $TransactionsTable extends Transactions
       const IntListInColumnConverter();
   static TypeConverter<List<int>?, String?> $converterlabelFksn =
       NullAwareTypeConverter.wrap($converterlabelFks);
-  static TypeConverter<BudgetReoccurence, int> $converterreoccurrence =
+  static JsonTypeConverter2<BudgetReoccurence, int, int>
+      $converterreoccurrence =
       const EnumIndexConverter<BudgetReoccurence>(BudgetReoccurence.values);
-  static TypeConverter<BudgetReoccurence?, int?> $converterreoccurrencen =
-      NullAwareTypeConverter.wrap($converterreoccurrence);
-  static TypeConverter<TransactionSpecialType, int> $convertertype =
+  static JsonTypeConverter2<BudgetReoccurence?, int?, int?>
+      $converterreoccurrencen =
+      JsonTypeConverter2.asNullable($converterreoccurrence);
+  static JsonTypeConverter2<TransactionSpecialType, int, int> $convertertype =
       const EnumIndexConverter<TransactionSpecialType>(
           TransactionSpecialType.values);
-  static TypeConverter<TransactionSpecialType?, int?> $convertertypen =
-      NullAwareTypeConverter.wrap($convertertype);
-  static TypeConverter<MethodAdded, int> $convertermethodAdded =
+  static JsonTypeConverter2<TransactionSpecialType?, int?, int?>
+      $convertertypen = JsonTypeConverter2.asNullable($convertertype);
+  static JsonTypeConverter2<MethodAdded, int, int> $convertermethodAdded =
       const EnumIndexConverter<MethodAdded>(MethodAdded.values);
-  static TypeConverter<MethodAdded?, int?> $convertermethodAddedn =
-      NullAwareTypeConverter.wrap($convertermethodAdded);
-  static TypeConverter<SharedStatus, int> $convertersharedStatus =
+  static JsonTypeConverter2<MethodAdded?, int?, int?> $convertermethodAddedn =
+      JsonTypeConverter2.asNullable($convertermethodAdded);
+  static JsonTypeConverter2<SharedStatus, int, int> $convertersharedStatus =
       const EnumIndexConverter<SharedStatus>(SharedStatus.values);
-  static TypeConverter<SharedStatus?, int?> $convertersharedStatusn =
-      NullAwareTypeConverter.wrap($convertersharedStatus);
+  static JsonTypeConverter2<SharedStatus?, int?, int?> $convertersharedStatusn =
+      JsonTypeConverter2.asNullable($convertersharedStatus);
 }
 
 class TransactionLabel extends DataClass
@@ -2729,14 +2777,14 @@ class Budget extends DataClass implements Insertable<Budget> {
       categoryFks: serializer.fromJson<List<int>?>(json['categoryFks']),
       allCategoryFks: serializer.fromJson<bool>(json['allCategoryFks']),
       periodLength: serializer.fromJson<int>(json['periodLength']),
-      reoccurrence:
-          serializer.fromJson<BudgetReoccurence?>(json['reoccurrence']),
+      reoccurrence: $BudgetsTable.$converterreoccurrencen
+          .fromJson(serializer.fromJson<int?>(json['reoccurrence'])),
       dateCreated: serializer.fromJson<DateTime>(json['dateCreated']),
       pinned: serializer.fromJson<bool>(json['pinned']),
       order: serializer.fromJson<int>(json['order']),
       walletFk: serializer.fromJson<int>(json['walletFk']),
-      sharedTransactionsShow: serializer
-          .fromJson<SharedTransactionsShow>(json['sharedTransactionsShow']),
+      sharedTransactionsShow: $BudgetsTable.$convertersharedTransactionsShow
+          .fromJson(serializer.fromJson<int>(json['sharedTransactionsShow'])),
     );
   }
   @override
@@ -2752,13 +2800,15 @@ class Budget extends DataClass implements Insertable<Budget> {
       'categoryFks': serializer.toJson<List<int>?>(categoryFks),
       'allCategoryFks': serializer.toJson<bool>(allCategoryFks),
       'periodLength': serializer.toJson<int>(periodLength),
-      'reoccurrence': serializer.toJson<BudgetReoccurence?>(reoccurrence),
+      'reoccurrence': serializer.toJson<int?>(
+          $BudgetsTable.$converterreoccurrencen.toJson(reoccurrence)),
       'dateCreated': serializer.toJson<DateTime>(dateCreated),
       'pinned': serializer.toJson<bool>(pinned),
       'order': serializer.toJson<int>(order),
       'walletFk': serializer.toJson<int>(walletFk),
-      'sharedTransactionsShow':
-          serializer.toJson<SharedTransactionsShow>(sharedTransactionsShow),
+      'sharedTransactionsShow': serializer.toJson<int>($BudgetsTable
+          .$convertersharedTransactionsShow
+          .toJson(sharedTransactionsShow)),
     };
   }
 
@@ -3345,11 +3395,13 @@ class $BudgetsTable extends Budgets with TableInfo<$BudgetsTable, Budget> {
       const IntListInColumnConverter();
   static TypeConverter<List<int>?, String?> $convertercategoryFksn =
       NullAwareTypeConverter.wrap($convertercategoryFks);
-  static TypeConverter<BudgetReoccurence, int> $converterreoccurrence =
+  static JsonTypeConverter2<BudgetReoccurence, int, int>
+      $converterreoccurrence =
       const EnumIndexConverter<BudgetReoccurence>(BudgetReoccurence.values);
-  static TypeConverter<BudgetReoccurence?, int?> $converterreoccurrencen =
-      NullAwareTypeConverter.wrap($converterreoccurrence);
-  static TypeConverter<SharedTransactionsShow, int>
+  static JsonTypeConverter2<BudgetReoccurence?, int?, int?>
+      $converterreoccurrencen =
+      JsonTypeConverter2.asNullable($converterreoccurrence);
+  static JsonTypeConverter2<SharedTransactionsShow, int, int>
       $convertersharedTransactionsShow =
       const EnumIndexConverter<SharedTransactionsShow>(
           SharedTransactionsShow.values);
diff --git a/budget/lib/main.dart b/budget/lib/main.dart
index f9ffe8066..9ea93616f 100644
--- a/budget/lib/main.dart
+++ b/budget/lib/main.dart
@@ -365,6 +365,7 @@ class App extends StatelessWidget {
             // The persistent global Widget stack (stays on navigation change)
             GlobalSnackbar(key: snackbarKey),
             GlobalLoadingProgress(key: loadingProgressKey),
+            GlobalLoadingIndeterminate(key: loadingIndeterminateKey)
           ],
         );
       },
diff --git a/budget/lib/pages/SharedCategorySettings.dart b/budget/lib/pages/SharedCategorySettings.dart
index 45c52581f..939ce4da2 100644
--- a/budget/lib/pages/SharedCategorySettings.dart
+++ b/budget/lib/pages/SharedCategorySettings.dart
@@ -266,6 +266,7 @@ class _SharedCategorySettingsState extends State<SharedCategorySettings> {
                   iconColor: Theme.of(context).colorScheme.errorContainer,
                   label: "Stop Sharing",
                   onTap: () async {
+                    openLoadingPopup(context);
                     bool status =
                         await removedSharedFromCategory(widget.category);
                     if (status == false) {
@@ -279,6 +280,7 @@ class _SharedCategorySettingsState extends State<SharedCategorySettings> {
                       return;
                     }
                     Navigator.pop(context);
+                    Navigator.pop(context);
                   },
                   color: Theme.of(context).colorScheme.onErrorContainer,
                   textColor: Theme.of(context).colorScheme.errorContainer,
@@ -291,6 +293,7 @@ class _SharedCategorySettingsState extends State<SharedCategorySettings> {
                   iconColor: Theme.of(context).colorScheme.errorContainer,
                   label: "Leave Shared Group",
                   onTap: () async {
+                    openLoadingPopup(context);
                     bool status = await leaveSharedCategory(widget.category);
                     if (status == false) {
                       openSnackbar(
@@ -302,6 +305,7 @@ class _SharedCategorySettingsState extends State<SharedCategorySettings> {
                       );
                       return;
                     }
+                    Navigator.pop(context);
                     openPopup(
                       context,
                       title: "Delete " + widget.category.name + " category?",
@@ -518,3 +522,56 @@ memberPopup(context, String member) {
     ),
   );
 }
+
+class SharedCategoryRefresh extends StatefulWidget {
+  const SharedCategoryRefresh(
+      {required this.child, required this.scrollController, super.key});
+  final Widget child;
+  final ScrollController scrollController;
+
+  @override
+  State<SharedCategoryRefresh> createState() => _SharedCategoryRefreshState();
+}
+
+class _SharedCategoryRefreshState extends State<SharedCategoryRefresh> {
+  double totalDragY = 0;
+  bool swipeDownToRefresh = false;
+
+  _onPointerMove(PointerMoveEvent ptr) {
+    if (swipeDownToRefresh) {
+      totalDragY = totalDragY + ptr.delta.dy;
+    }
+  }
+
+  _onPointerUp(PointerUpEvent event) {
+    if (totalDragY > 125 && swipeDownToRefresh) {
+      _refreshCategories();
+    }
+    totalDragY = 0;
+  }
+
+  _onPointerDown(PointerDownEvent event) {
+    if (widget.scrollController.offset != 0) {
+      swipeDownToRefresh = false;
+    } else {
+      swipeDownToRefresh = true;
+    }
+  }
+
+  _refreshCategories() async {
+    loadingIndeterminateKey.currentState!.setVisibility(true);
+    await syncPendingQueueOnServer();
+    await getCloudCategories();
+    loadingIndeterminateKey.currentState!.setVisibility(false);
+  }
+
+  @override
+  Widget build(BuildContext context) {
+    return Listener(
+        onPointerMove: (ptr) => {_onPointerMove(ptr)},
+        onPointerUp: (ptr) => {_onPointerUp(ptr)},
+        onPointerDown: (ptr) => {_onPointerDown(ptr)},
+        behavior: HitTestBehavior.opaque,
+        child: widget.child);
+  }
+}
diff --git a/budget/lib/pages/accountsPage.dart b/budget/lib/pages/accountsPage.dart
index 92e3c2d09..d797e53f6 100644
--- a/budget/lib/pages/accountsPage.dart
+++ b/budget/lib/pages/accountsPage.dart
@@ -62,6 +62,8 @@ class AccountsPage extends StatefulWidget {
 }
 
 class _AccountsPageState extends State<AccountsPage> {
+  bool currentlyExporting = false;
+
   @override
   Widget build(BuildContext context) {
     return PageFramework(
@@ -143,29 +145,45 @@ class _AccountsPageState extends State<AccountsPage> {
                           decoration: BoxDecoration(
                               boxShadow:
                                   boxShadowCheck(boxShadowGeneral(context))),
-                          child: Tappable(
-                            onTap: widget.exportData,
-                            borderRadius: 15,
-                            color: Theme.of(context)
-                                .colorScheme
-                                .lightDarkAccentHeavyLight,
-                            child: Column(
-                              children: [
-                                SizedBox(height: 30),
-                                Icon(
-                                  Icons.upload_rounded,
-                                  size: 35,
-                                  color:
-                                      Theme.of(context).colorScheme.secondary,
-                                ),
-                                SizedBox(height: 10),
-                                TextFont(
-                                  text: "Export",
-                                  fontSize: 21,
-                                  fontWeight: FontWeight.bold,
+                          child: IgnorePointer(
+                            ignoring: currentlyExporting,
+                            child: AnimatedOpacity(
+                              opacity: currentlyExporting ? 0.4 : 1,
+                              duration: Duration(milliseconds: 200),
+                              child: Tappable(
+                                onTap: () async {
+                                  setState(() {
+                                    currentlyExporting = true;
+                                  });
+                                  await widget.exportData();
+                                  setState(() {
+                                    currentlyExporting = false;
+                                  });
+                                },
+                                borderRadius: 15,
+                                color: Theme.of(context)
+                                    .colorScheme
+                                    .lightDarkAccentHeavyLight,
+                                child: Column(
+                                  children: [
+                                    SizedBox(height: 30),
+                                    Icon(
+                                      Icons.upload_rounded,
+                                      size: 35,
+                                      color: Theme.of(context)
+                                          .colorScheme
+                                          .secondary,
+                                    ),
+                                    SizedBox(height: 10),
+                                    TextFont(
+                                      text: "Export",
+                                      fontSize: 21,
+                                      fontWeight: FontWeight.bold,
+                                    ),
+                                    SizedBox(height: 30),
+                                  ],
                                 ),
-                                SizedBox(height: 30),
-                              ],
+                              ),
                             ),
                           ),
                         ),
diff --git a/budget/lib/pages/addBudgetPage.dart b/budget/lib/pages/addBudgetPage.dart
index 357564616..7a99f3d1d 100644
--- a/budget/lib/pages/addBudgetPage.dart
+++ b/budget/lib/pages/addBudgetPage.dart
@@ -4,13 +4,16 @@ import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
 import 'package:budget/pages/addTransactionPage.dart';
+import 'package:budget/pages/editBudgetPage.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/categoryEntry.dart';
 import 'package:budget/widgets/dropdownSelect.dart';
 import 'package:budget/widgets/fadeIn.dart';
+import 'package:budget/widgets/globalSnackBar.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
 import 'package:budget/widgets/openPopup.dart';
+import 'package:budget/widgets/openSnackbar.dart';
 import 'package:budget/widgets/pageFramework.dart';
 import 'package:budget/widgets/popupFramework.dart';
 import 'package:budget/widgets/radioItems.dart';
@@ -472,7 +475,7 @@ class _AddBudgetPageState extends State<AddBudgetPage> {
   }
 
   updateInitial() async {
-    if (widget.budget != null) {
+    if (widget.budget != null && widget.budget!.categoryFks != null) {
       setSelectedCategories(widget.budget!.categoryFks!);
     }
     //Set to false because we can't save until we made some changes
@@ -557,6 +560,22 @@ class _AddBudgetPageState extends State<AddBudgetPage> {
                     discardChangesPopup(context);
                   }
                 },
+                actions: [
+                  widget.budget != null
+                      ? Container(
+                          padding: EdgeInsets.only(top: 12.5, right: 5),
+                          child: IconButton(
+                            onPressed: () {
+                              deleteBudgetPopup(context, widget.budget!,
+                                  afterDelete: () {
+                                Navigator.pop(context);
+                              });
+                            },
+                            icon: Icon(Icons.delete_rounded),
+                          ),
+                        )
+                      : SizedBox.shrink()
+                ],
                 listWidgets: [
                   Container(height: 20),
                   Padding(
diff --git a/budget/lib/pages/addCategoryPage.dart b/budget/lib/pages/addCategoryPage.dart
index fae91c87d..4c7994b1a 100644
--- a/budget/lib/pages/addCategoryPage.dart
+++ b/budget/lib/pages/addCategoryPage.dart
@@ -11,6 +11,7 @@ import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/categoryIcon.dart';
 import 'package:budget/widgets/fadeIn.dart';
 import 'package:budget/widgets/globalSnackBar.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
 import 'package:budget/widgets/openContainerNavigation.dart';
 import 'package:budget/widgets/openPopup.dart';
@@ -147,10 +148,13 @@ class _AddCategoryPageState extends State<AddCategoryPage> {
   }
 
   Future addCategory() async {
-    print("Added category" + (await createTransactionCategory()).toString());
-    int result = await database.createOrUpdateCategory(
-      await createTransactionCategory(),
-    );
+    TransactionCategory createdCategory = await createTransactionCategory();
+    print("Added category" + (createdCategory).toString());
+    if (createdCategory.sharedKey != null) {
+      loadingIndeterminateKey.currentState!.setVisibility(true);
+    }
+    int result = await database.createOrUpdateCategory(createdCategory);
+    loadingIndeterminateKey.currentState!.setVisibility(false);
     if (result == -1) {
       openPopup(
         context,
@@ -294,6 +298,20 @@ class _AddCategoryPageState extends State<AddCategoryPage> {
                           ),
                         )
                       : SizedBox.shrink(),
+                  widget.category != null
+                      ? Container(
+                          padding: EdgeInsets.only(top: 12.5, right: 5),
+                          child: IconButton(
+                            onPressed: () {
+                              deleteCategoryPopup(context, widgetCategory!,
+                                  afterDelete: () {
+                                Navigator.pop(context);
+                              });
+                            },
+                            icon: Icon(Icons.delete_rounded),
+                          ),
+                        )
+                      : SizedBox.shrink()
                   // widget.category != null && widget.category!.sharedKey != null
                   //     ? Container(
                   //         padding: EdgeInsets.only(top: 12.5, right: 5),
diff --git a/budget/lib/pages/addTransactionPage.dart b/budget/lib/pages/addTransactionPage.dart
index 75ce20663..ba77a6f40 100644
--- a/budget/lib/pages/addTransactionPage.dart
+++ b/budget/lib/pages/addTransactionPage.dart
@@ -12,6 +12,7 @@ import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/categoryIcon.dart';
 import 'package:budget/widgets/fadeIn.dart';
+import 'package:budget/widgets/globalSnackBar.dart';
 import 'package:budget/widgets/initializeNotifications.dart';
 import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
@@ -316,7 +317,7 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
   }
 
   Future<Transaction> createTransaction({bool removeShared = false}) async {
-    return Transaction(
+    Transaction createdTransaction = Transaction(
       transactionPk: widget.transaction != null
           ? widget.transaction!.transactionPk
           : DateTime.now().millisecondsSinceEpoch,
@@ -369,6 +370,14 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
           ? widget.transaction!.sharedDateUpdated
           : null,
     );
+
+    if (widget.transaction != null &&
+        widget.transaction!.type != null &&
+        createdTransaction.type == null) {
+      createdTransaction = createdTransaction.copyWith(paid: true);
+    }
+
+    return createdTransaction;
   }
 
   late TextEditingController _titleInputController;
@@ -548,6 +557,42 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
                     Navigator.pop(context);
                   }
                 },
+                actions: [
+                  widget.transaction != null
+                      ? Container(
+                          padding: EdgeInsets.only(top: 12.5, right: 5),
+                          child: IconButton(
+                            onPressed: () {
+                              openPopup(
+                                context,
+                                title: "Delete transaction?",
+                                description:
+                                    "Are you sure you want to delete this transaction?",
+                                icon: Icons.delete_rounded,
+                                onCancel: () {
+                                  Navigator.pop(context);
+                                },
+                                onCancelLabel: "Cancel",
+                                onSubmit: () {
+                                  database.deleteTransaction(
+                                      widget.transaction!.transactionPk);
+                                  openSnackbar(
+                                    SnackbarMessage(
+                                      title: "Deleted transaction",
+                                      icon: Icons.delete_rounded,
+                                    ),
+                                  );
+                                  Navigator.pop(context);
+                                  Navigator.pop(context);
+                                },
+                                onSubmitLabel: "Delete",
+                              );
+                            },
+                            icon: Icon(Icons.delete_rounded),
+                          ),
+                        )
+                      : SizedBox.shrink()
+                ],
                 listWidgets: [
                   AnimatedContainer(
                     curve: Curves.easeInOut,
@@ -909,7 +954,7 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
                                 ? TextInput(
                                     padding: EdgeInsets.zero,
                                     labelText: "Notes",
-                                    icon: Icons.edit,
+                                    icon: Icons.sticky_note_2_rounded,
                                     controller: _noteInputController,
                                     keyboardType: TextInputType.multiline,
                                     maxLines: null,
@@ -923,7 +968,7 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
                                       padding: EdgeInsets.zero,
                                       readOnly: true,
                                       labelText: "Notes",
-                                      icon: Icons.edit,
+                                      icon: Icons.sticky_note_2_rounded,
                                       controller: _noteInputController,
                                       keyboardType: TextInputType.multiline,
                                       maxLines: null,
@@ -1020,7 +1065,6 @@ class _AddTransactionPageState extends State<AddTransactionPage> {
                                             selectedAmountCalculation ?? "",
                                         setSelectedAmount: setSelectedAmount,
                                         next: () async {
-                                          print("HELLO");
                                           await addTransaction();
                                           Navigator.pop(context);
                                           Navigator.pop(context);
diff --git a/budget/lib/pages/addWalletPage.dart b/budget/lib/pages/addWalletPage.dart
index 449b926c7..ea6bd7d4a 100644
--- a/budget/lib/pages/addWalletPage.dart
+++ b/budget/lib/pages/addWalletPage.dart
@@ -2,6 +2,7 @@ import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/pages/addBudgetPage.dart';
 import 'package:budget/pages/addTransactionPage.dart';
+import 'package:budget/pages/editWalletsPage.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/categoryEntry.dart';
@@ -124,7 +125,7 @@ class _AddWalletPageState extends State<AddWalletPage> {
       dateCreated:
           widget.wallet != null ? widget.wallet!.dateCreated : DateTime.now(),
       order: widget.wallet != null ? widget.wallet!.order : numberOfWallets,
-      iconName: selectedIconName,
+      currency: "USD",
     );
   }
 
@@ -232,6 +233,7 @@ class _AddWalletPageState extends State<AddWalletPage> {
           child: Stack(
             children: [
               PageFramework(
+                dragDownToDismiss: true,
                 title: widget.title,
                 navbar: false,
                 onBackButton: () async {
@@ -256,6 +258,22 @@ class _AddWalletPageState extends State<AddWalletPage> {
                     discardChangesPopup(context);
                   }
                 },
+                actions: [
+                  widget.wallet != null && widget.wallet!.walletPk != 0
+                      ? Container(
+                          padding: EdgeInsets.only(top: 12.5, right: 5),
+                          child: IconButton(
+                            onPressed: () {
+                              deleteWalletPopup(context, widget.wallet!,
+                                  afterDelete: () {
+                                Navigator.pop(context);
+                              });
+                            },
+                            icon: Icon(Icons.delete_rounded),
+                          ),
+                        )
+                      : SizedBox.shrink()
+                ],
                 slivers: [
                   SliverToBoxAdapter(
                     child: Padding(
@@ -314,24 +332,6 @@ class _AddWalletPageState extends State<AddWalletPage> {
                   SliverToBoxAdapter(
                     child: SizedBox(height: 10),
                   ),
-                  SliverToBoxAdapter(
-                    child: SettingsContainerSwitch(
-                      title: "Custom Icon",
-                      onSwitched: (value) {
-                        if (value == false) {
-                          populateCurrencies();
-                        } else {
-                          setState(() {
-                            currencies = [];
-                          });
-                        }
-                      },
-                      initialValue: false,
-                      syncWithInitialValue: false,
-                      icon: Icons.emoji_symbols_rounded,
-                      verticalPadding: 0,
-                    ),
-                  ),
                   SliverToBoxAdapter(
                     child: customCurrencyIcon == true
                         ? TextInput(
@@ -390,10 +390,10 @@ class _AddWalletPageState extends State<AddWalletPage> {
                                   IntrinsicWidth(
                                     child: Row(
                                       children: [
+                                        Text(currencies[index]["Symbol"]),
+                                        SizedBox(width: 15),
                                         TextFont(
                                             text: currencies[index]["Code"]),
-                                        SizedBox(width: 15),
-                                        Text(currencies[index]["Symbol"]),
                                       ],
                                     ),
                                   )
diff --git a/budget/lib/pages/budgetPage.dart b/budget/lib/pages/budgetPage.dart
index b46793bb6..f52fbf857 100644
--- a/budget/lib/pages/budgetPage.dart
+++ b/budget/lib/pages/budgetPage.dart
@@ -25,8 +25,40 @@ import 'package:budget/colors.dart';
 import 'package:flutter/scheduler.dart';
 import 'dart:developer';
 
-class BudgetPage extends StatefulWidget {
+class BudgetPage extends StatelessWidget {
   const BudgetPage({
+    super.key,
+    required int this.budgetPk,
+    this.dateForRange,
+    this.isPastBudget = false,
+    this.isPastBudgetButCurrentPeriod = false,
+  });
+  final int budgetPk;
+  final DateTime? dateForRange;
+  final bool? isPastBudget;
+  final bool? isPastBudgetButCurrentPeriod;
+
+  @override
+  Widget build(BuildContext context) {
+    return StreamBuilder<Budget>(
+        stream: database.getBudget(budgetPk),
+        builder: (context, snapshot) {
+          if (snapshot.hasData) {
+            return _BudgetPageContent(
+              budget: snapshot.data!,
+              dateForRange: dateForRange,
+              isPastBudget: isPastBudget,
+              isPastBudgetButCurrentPeriod: isPastBudgetButCurrentPeriod,
+            );
+          }
+          return SizedBox.shrink();
+        });
+    ;
+  }
+}
+
+class _BudgetPageContent extends StatefulWidget {
+  const _BudgetPageContent({
     Key? key,
     required Budget this.budget,
     this.dateForRange,
@@ -40,10 +72,10 @@ class BudgetPage extends StatefulWidget {
   final bool? isPastBudgetButCurrentPeriod;
 
   @override
-  State<BudgetPage> createState() => _BudgetPageState();
+  State<_BudgetPageContent> createState() => __BudgetPageContentState();
 }
 
-class _BudgetPageState extends State<BudgetPage> {
+class __BudgetPageContentState extends State<_BudgetPageContent> {
   double budgetHeaderHeight = 0;
   int selectedCategoryPk = -1;
   String? selectedMember = null;
@@ -86,13 +118,28 @@ class _BudgetPageState extends State<BudgetPage> {
                       padding: EdgeInsets.only(top: 12.5, right: 5),
                       child: IconButton(
                         onPressed: () {
-                          pushRoute(
-                              context, PastBudgetsPage(budget: widget.budget),
+                          pushRoute(context,
+                              PastBudgetsPage(budgetPk: widget.budget.budgetPk),
                               fancyRoute: true);
                         },
                         icon: Icon(Icons.history_rounded),
                       ),
                     ),
+              Container(
+                padding: EdgeInsets.only(top: 12.5, right: 5),
+                child: IconButton(
+                  onPressed: () {
+                    pushRoute(
+                      context,
+                      AddBudgetPage(
+                        title: "Edit Budget",
+                        budget: widget.budget,
+                      ),
+                    );
+                  },
+                  icon: Icon(Icons.edit_rounded),
+                ),
+              ),
             ],
             title: widget.budget.name,
             appBarBackgroundColor: budgetColorScheme.secondaryContainer,
diff --git a/budget/lib/pages/editBudgetPage.dart b/budget/lib/pages/editBudgetPage.dart
index 08bedde66..e9dea4490 100644
--- a/budget/lib/pages/editBudgetPage.dart
+++ b/budget/lib/pages/editBudgetPage.dart
@@ -122,26 +122,7 @@ class _EditBudgetPageState extends State<EditBudgetPage> {
                         currentReorder != -1 && currentReorder != index,
                     backgroundColor: backgroundColor,
                     onDelete: () {
-                      openPopup(
-                        context,
-                        title: "Delete " + budget.name + "?",
-                        icon: Icons.delete_rounded,
-                        onCancel: () {
-                          Navigator.pop(context);
-                        },
-                        onCancelLabel: "Cancel",
-                        onSubmit: () {
-                          database.deleteBudget(budget.budgetPk, budget.order);
-                          Navigator.pop(context);
-                          openSnackbar(
-                            SnackbarMessage(
-                              title: "Deleted " + budget.name,
-                              icon: Icons.delete,
-                            ),
-                          );
-                        },
-                        onSubmitLabel: "Delete",
-                      );
+                      deleteBudgetPopup(context, budget);
                     },
                     openPage: AddBudgetPage(
                       title: "Edit Budget",
@@ -275,3 +256,27 @@ class _EditBudgetPageState extends State<EditBudgetPage> {
     );
   }
 }
+
+void deleteBudgetPopup(context, Budget budget, {Function? afterDelete}) {
+  openPopup(
+    context,
+    title: "Delete " + budget.name + "?",
+    icon: Icons.delete_rounded,
+    onCancel: () {
+      Navigator.pop(context);
+    },
+    onCancelLabel: "Cancel",
+    onSubmit: () {
+      database.deleteBudget(budget.budgetPk, budget.order);
+      Navigator.pop(context);
+      openSnackbar(
+        SnackbarMessage(
+          title: "Deleted " + budget.name,
+          icon: Icons.delete,
+        ),
+      );
+      if (afterDelete != null) afterDelete();
+    },
+    onSubmitLabel: "Delete",
+  );
+}
diff --git a/budget/lib/pages/editCategoriesPage.dart b/budget/lib/pages/editCategoriesPage.dart
index 21bc10512..3cbfc4a92 100644
--- a/budget/lib/pages/editCategoriesPage.dart
+++ b/budget/lib/pages/editCategoriesPage.dart
@@ -231,8 +231,17 @@ Future<bool> compareSharedToCurrentCategories(
   return true;
 }
 
+Timer? cloudTimeoutTimer;
 Future<bool> getCloudCategories() async {
   FirebaseFirestore? db = await firebaseGetDBInstance();
+  if (cloudTimeoutTimer?.isActive == true) {
+    // openSnackbar(SnackbarMessage(title: "Please wait..."));
+    return false;
+  } else {
+    cloudTimeoutTimer = Timer(Duration(milliseconds: 5000), () {
+      cloudTimeoutTimer!.cancel();
+    });
+  }
   if (db == null) {
     return false;
   }
@@ -255,13 +264,15 @@ Future<bool> getCloudCategories() async {
 
   await downloadTransactionsFromCategories(db, snapshotCategoryMembersOf.docs);
   await downloadTransactionsFromCategories(db, snapshotOwned.docs);
+  int amountSynced =
+      snapshotCategoryMembersOf.docs.length + snapshotOwned.docs.length;
   openSnackbar(SnackbarMessage(
       icon: Icons.cloud_sync_rounded,
       title: "Updated Categories",
       description: "Synced " +
-          (snapshotCategoryMembersOf.docs.length + snapshotOwned.docs.length)
-              .toString() +
-          " categories"));
+          amountSynced.toString() +
+          " " +
+          (amountSynced == 1 ? "category" : "categories")));
 
   return true;
 }
@@ -659,7 +670,9 @@ class _EditCategoriesPageState extends State<EditCategoriesPage> {
         Container(
           padding: EdgeInsets.only(top: 12.5, right: 5),
           child: RefreshButton(onTap: () async {
+            loadingIndeterminateKey.currentState!.setVisibility(true);
             await getCloudCategories();
+            loadingIndeterminateKey.currentState!.setVisibility(false);
           }),
         ),
       ],
@@ -784,107 +797,7 @@ class _EditCategoriesPageState extends State<EditCategoriesPage> {
                     ),
                     index: index,
                     onDelete: () {
-                      openPopup(
-                        context,
-                        title: "Delete " + category.name + " category?",
-                        description:
-                            "This will delete all transactions associated with this category.",
-                        icon: Icons.delete_rounded,
-                        onCancel: () {
-                          Navigator.pop(context);
-                        },
-                        onCancelLabel: "Cancel",
-                        onSubmit: () async {
-                          if (category.sharedKey != null) {
-                            Navigator.pop(context);
-                            if (category.sharedOwnerMember ==
-                                CategoryOwnerMember.owner) {
-                              openPopup(
-                                context,
-                                title: "Delete Shared Category?",
-                                description:
-                                    "You own this category. Deleting it will remove it from the server.",
-                                icon: Icons.delete_rounded,
-                                onCancel: () {
-                                  Navigator.pop(context);
-                                },
-                                onCancelLabel: "Cancel",
-                                onSubmit: () async {
-                                  bool result =
-                                      await removedSharedFromCategory(category);
-                                  if (result == false) {
-                                    openSnackbar(
-                                      SnackbarMessage(
-                                          title: "Error deleting on server",
-                                          icon: Icons.delete),
-                                    );
-                                    return;
-                                  }
-                                  database.deleteCategory(
-                                      category.categoryPk, category.order);
-                                  database.deleteCategoryTransactions(
-                                      category.categoryPk);
-                                  Navigator.pop(context);
-                                  openSnackbar(
-                                    SnackbarMessage(
-                                        title: "Deleted " + category.name,
-                                        icon: Icons.delete),
-                                  );
-                                },
-                                onSubmitLabel: "Delete",
-                              );
-                            } else if (category.sharedOwnerMember ==
-                                CategoryOwnerMember.member) {
-                              openPopup(
-                                context,
-                                title: "Leave Shared Category?",
-                                description:
-                                    "You are a member of this category. Deleting it will remove you from the shared group.",
-                                icon: Icons.delete_rounded,
-                                onCancel: () {
-                                  Navigator.pop(context);
-                                },
-                                onCancelLabel: "Cancel",
-                                onSubmit: () async {
-                                  bool result =
-                                      await leaveSharedCategory(category);
-                                  if (result == false) {
-                                    openSnackbar(
-                                      SnackbarMessage(
-                                          title: "Error leaving group",
-                                          icon: Icons.delete),
-                                    );
-                                    return;
-                                  }
-                                  await database.deleteCategory(
-                                      category.categoryPk, category.order);
-                                  await database.deleteCategoryTransactions(
-                                      category.categoryPk);
-                                  Navigator.pop(context);
-                                  openSnackbar(
-                                    SnackbarMessage(
-                                        title: "Deleted " + category.name,
-                                        icon: Icons.delete),
-                                  );
-                                },
-                                onSubmitLabel: "Delete",
-                              );
-                            }
-                          } else {
-                            await database.deleteCategory(
-                                category.categoryPk, category.order);
-                            await database.deleteCategoryTransactions(
-                                category.categoryPk);
-                            Navigator.pop(context);
-                            openSnackbar(
-                              SnackbarMessage(
-                                  title: "Deleted " + category.name,
-                                  icon: Icons.delete),
-                            );
-                          }
-                        },
-                        onSubmitLabel: "Delete",
-                      );
+                      deleteCategoryPopup(context, category);
                     },
                     openPage: AddCategoryPage(
                       title: "Edit Category",
@@ -997,3 +910,99 @@ class _RefreshButtonState extends State<RefreshButton>
     );
   }
 }
+
+void deleteCategoryPopup(context, TransactionCategory category,
+    {Function? afterDelete}) {
+  openPopup(
+    context,
+    title: "Delete " + category.name + " category?",
+    description:
+        "This will delete all transactions associated with this category.",
+    icon: Icons.delete_rounded,
+    onCancel: () {
+      Navigator.pop(context);
+    },
+    onCancelLabel: "Cancel",
+    onSubmit: () async {
+      if (category.sharedKey != null) {
+        Navigator.pop(context);
+        if (category.sharedOwnerMember == CategoryOwnerMember.owner) {
+          openPopup(
+            context,
+            title: "Delete Shared Category?",
+            description:
+                "You own this category. Deleting it will remove it from the server.",
+            icon: Icons.delete_rounded,
+            onCancel: () {
+              Navigator.pop(context);
+            },
+            onCancelLabel: "Cancel",
+            onSubmit: () async {
+              bool result = await removedSharedFromCategory(category);
+              if (result == false) {
+                openSnackbar(
+                  SnackbarMessage(
+                      title: "Error deleting on server", icon: Icons.delete),
+                );
+                return;
+              }
+              database.deleteCategory(category.categoryPk, category.order);
+              database.deleteCategoryTransactions(category.categoryPk);
+              Navigator.pop(context);
+              openSnackbar(
+                SnackbarMessage(
+                    title: "Deleted " + category.name, icon: Icons.delete),
+              );
+              if (afterDelete != null) afterDelete();
+            },
+            onSubmitLabel: "Delete",
+          );
+        } else if (category.sharedOwnerMember == CategoryOwnerMember.member) {
+          openPopup(
+            context,
+            title: "Leave Shared Category?",
+            description:
+                "You are a member of this category. Deleting it will remove you from the shared group.",
+            icon: Icons.delete_rounded,
+            onCancel: () {
+              Navigator.pop(context);
+            },
+            onCancelLabel: "Cancel",
+            onSubmit: () async {
+              Navigator.pop(context);
+              if (afterDelete != null) afterDelete();
+              loadingIndeterminateKey.currentState!.setVisibility(true);
+              bool result = await leaveSharedCategory(category);
+              if (result == false) {
+                openSnackbar(
+                  SnackbarMessage(
+                      title: "Error leaving group", icon: Icons.delete),
+                );
+                return;
+              }
+              await database.deleteCategory(
+                  category.categoryPk, category.order);
+              await database.deleteCategoryTransactions(category.categoryPk);
+              openSnackbar(
+                SnackbarMessage(
+                    title: "Deleted " + category.name, icon: Icons.delete),
+              );
+              loadingIndeterminateKey.currentState!.setVisibility(false);
+            },
+            onSubmitLabel: "Delete",
+          );
+        }
+      } else {
+        await database.deleteCategory(category.categoryPk, category.order);
+        await database.deleteCategoryTransactions(category.categoryPk);
+        Navigator.pop(context);
+        openSnackbar(
+          SnackbarMessage(
+              title: "Deleted " + category.name, icon: Icons.delete),
+        );
+        if (afterDelete != null) afterDelete();
+      }
+    },
+    onSubmitLabel: "Delete",
+  );
+}
diff --git a/budget/lib/pages/editWalletsPage.dart b/budget/lib/pages/editWalletsPage.dart
index ec0393537..47b53cf0a 100644
--- a/budget/lib/pages/editWalletsPage.dart
+++ b/budget/lib/pages/editWalletsPage.dart
@@ -175,36 +175,7 @@ class _EditWalletsPageState extends State<EditWalletsPage> {
                       ],
                     ),
                     onDelete: () {
-                      openPopup(
-                        context,
-                        title: "Delete " + wallet.name + " wallet?",
-                        description:
-                            "This will delete all transactions associated with this wallet.",
-                        icon: Icons.delete_rounded,
-                        onCancel: () {
-                          Navigator.pop(context);
-                        },
-                        onCancelLabel: "Cancel",
-                        onSubmit: () {
-                          database.deleteWallet(wallet.walletPk, wallet.order);
-                          database.deleteWalletsTransactions(wallet.walletPk);
-
-                          // If we delete the selected wallet, set it back to the default
-                          if (appStateSettings["selectedWallet"] ==
-                              wallet.walletPk) {
-                            updateSettings("selectedWallet", 0,
-                                updateGlobalState: true,
-                                pagesNeedingRefresh: [0, 1, 2, 3]);
-                          }
-                          Navigator.pop(context);
-                          openSnackbar(
-                            SnackbarMessage(
-                                title: "Deleted " + wallet.name,
-                                icon: Icons.delete),
-                          );
-                        },
-                        onSubmitLabel: "Delete",
-                      );
+                      deleteWalletPopup(context, wallet);
                     },
                     openPage: AddWalletPage(
                       title: "Edit Wallet",
@@ -239,3 +210,34 @@ class _EditWalletsPageState extends State<EditWalletsPage> {
     );
   }
 }
+
+void deleteWalletPopup(context, TransactionWallet wallet,
+    {Function? afterDelete}) {
+  openPopup(
+    context,
+    title: "Delete " + wallet.name + " wallet?",
+    description:
+        "This will delete all transactions associated with this wallet.",
+    icon: Icons.delete_rounded,
+    onCancel: () {
+      Navigator.pop(context);
+    },
+    onCancelLabel: "Cancel",
+    onSubmit: () {
+      database.deleteWallet(wallet.walletPk, wallet.order);
+      database.deleteWalletsTransactions(wallet.walletPk);
+
+      // If we delete the selected wallet, set it back to the default
+      if (appStateSettings["selectedWallet"] == wallet.walletPk) {
+        updateSettings("selectedWallet", 0,
+            updateGlobalState: true, pagesNeedingRefresh: [0, 1, 2, 3]);
+      }
+      Navigator.pop(context);
+      openSnackbar(
+        SnackbarMessage(title: "Deleted " + wallet.name, icon: Icons.delete),
+      );
+      if (afterDelete != null) afterDelete();
+    },
+    onSubmitLabel: "Delete",
+  );
+}
diff --git a/budget/lib/pages/homePage.dart b/budget/lib/pages/homePage.dart
index 16ab76868..f7707f0e5 100644
--- a/budget/lib/pages/homePage.dart
+++ b/budget/lib/pages/homePage.dart
@@ -1,6 +1,7 @@
 import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
+import 'package:budget/pages/SharedCategorySettings.dart';
 import 'package:budget/pages/addTransactionPage.dart';
 import 'package:budget/pages/subscriptionsPage.dart';
 import 'package:budget/pages/transactionsListPage.dart';
@@ -83,407 +84,411 @@ class HomePageState extends State<HomePage>
 
   @override
   Widget build(BuildContext context) {
-    return Stack(
-      children: [
-        Scaffold(
-          body: ListView(
-            controller: _scrollController,
-            children: [
-              // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
-              Container(
-                  height: 1, color: Theme.of(context).colorScheme.background),
-              Container(
-                // Subtract one (1) here because of the thickness of the wiper above
-                height: 179 - 1 + MediaQuery.of(context).padding.top,
-                alignment: Alignment.bottomLeft,
-                padding: EdgeInsets.only(left: 18, bottom: 22, right: 18),
-                child: Row(
-                  crossAxisAlignment: CrossAxisAlignment.end,
-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
-                  children: [
-                    Column(
-                      crossAxisAlignment: CrossAxisAlignment.start,
-                      mainAxisAlignment: MainAxisAlignment.end,
-                      children: [
-                        appStateSettings["username"] == ""
-                            ? SizedBox()
-                            : AnimatedBuilder(
-                                animation: _animationControllerHeader,
-                                builder: (_, child) {
-                                  return Transform.translate(
-                                    offset: Offset(
-                                        0,
-                                        20 -
-                                            20 *
-                                                (_animationControllerHeader
-                                                    .value)),
-                                    child: child,
-                                  );
-                                },
-                                child: FadeTransition(
-                                  opacity: _animationControllerHeader2,
-                                  child: TextFont(
-                                    text: getWelcomeMessage(),
-                                    fontWeight: FontWeight.bold,
-                                    fontSize: 20,
+    return SharedCategoryRefresh(
+      scrollController: _scrollController,
+      child: Stack(
+        children: [
+          Scaffold(
+            body: ListView(
+              controller: _scrollController,
+              children: [
+                // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
+                Container(
+                    height: 1, color: Theme.of(context).colorScheme.background),
+                Container(
+                  // Subtract one (1) here because of the thickness of the wiper above
+                  height: 179 - 1 + MediaQuery.of(context).padding.top,
+                  alignment: Alignment.bottomLeft,
+                  padding: EdgeInsets.only(left: 18, bottom: 22, right: 18),
+                  child: Row(
+                    crossAxisAlignment: CrossAxisAlignment.end,
+                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
+                    children: [
+                      Column(
+                        crossAxisAlignment: CrossAxisAlignment.start,
+                        mainAxisAlignment: MainAxisAlignment.end,
+                        children: [
+                          appStateSettings["username"] == ""
+                              ? SizedBox()
+                              : AnimatedBuilder(
+                                  animation: _animationControllerHeader,
+                                  builder: (_, child) {
+                                    return Transform.translate(
+                                      offset: Offset(
+                                          0,
+                                          20 -
+                                              20 *
+                                                  (_animationControllerHeader
+                                                      .value)),
+                                      child: child,
+                                    );
+                                  },
+                                  child: FadeTransition(
+                                    opacity: _animationControllerHeader2,
+                                    child: TextFont(
+                                      text: getWelcomeMessage(),
+                                      fontWeight: FontWeight.bold,
+                                      fontSize: 20,
+                                    ),
                                   ),
                                 ),
-                              ),
-                        AnimatedBuilder(
-                          animation: _animationControllerHeader,
-                          builder: (_, child) {
-                            return Transform.scale(
-                              alignment: Alignment.bottomLeft,
-                              scale: _animationControllerHeader.value < 0.5
-                                  ? 0.25 + 0.5
-                                  : (_animationControllerHeader.value) * 0.5 +
-                                      0.5,
-                              child: child,
-                            );
-                          },
-                          child: TextFont(
-                            text: appStateSettings["username"] == ""
-                                ? "Home"
-                                : appStateSettings["username"],
-                            fontWeight: FontWeight.bold,
-                            fontSize: 39,
-                            textColor: Theme.of(context)
-                                .colorScheme
-                                .onPrimaryContainer,
+                          AnimatedBuilder(
+                            animation: _animationControllerHeader,
+                            builder: (_, child) {
+                              return Transform.scale(
+                                alignment: Alignment.bottomLeft,
+                                scale: _animationControllerHeader.value < 0.5
+                                    ? 0.25 + 0.5
+                                    : (_animationControllerHeader.value) * 0.5 +
+                                        0.5,
+                                child: child,
+                              );
+                            },
+                            child: TextFont(
+                              text: appStateSettings["username"] == ""
+                                  ? "Home"
+                                  : appStateSettings["username"],
+                              fontWeight: FontWeight.bold,
+                              fontSize: 39,
+                              textColor: Theme.of(context)
+                                  .colorScheme
+                                  .onPrimaryContainer,
+                            ),
                           ),
-                        ),
-                      ],
-                    ),
-                    // Profile icon
-                    // AnimatedBuilder(
-                    //   animation: _animationControllerHeader,
-                    //   builder: (_, child) {
-                    //     return Transform.scale(
-                    //       alignment: Alignment.bottomRight,
-                    //       scale: _animationControllerHeader.value < 0.5
-                    //           ? 0.25 + 0.5
-                    //           : (_animationControllerHeader.value) * 0.5 +
-                    //               0.5,
-                    //       child: child,
-                    //     );
-                    //   },
-                    //   child: Container(
-                    //     width: 50,
-                    //     height: 50,
-                    //     color: Colors.red,
-                    //   ),
-                    // ),
-                  ],
+                        ],
+                      ),
+                      // Profile icon
+                      // AnimatedBuilder(
+                      //   animation: _animationControllerHeader,
+                      //   builder: (_, child) {
+                      //     return Transform.scale(
+                      //       alignment: Alignment.bottomRight,
+                      //       scale: _animationControllerHeader.value < 0.5
+                      //           ? 0.25 + 0.5
+                      //           : (_animationControllerHeader.value) * 0.5 +
+                      //               0.5,
+                      //       child: child,
+                      //     );
+                      //   },
+                      //   child: Container(
+                      //     width: 50,
+                      //     height: 50,
+                      //     color: Colors.red,
+                      //   ),
+                      // ),
+                    ],
+                  ),
                 ),
-              ),
-              appStateSettings["showWalletSwitcher"] == true
-                  ? KeepAlive(
-                      child: Padding(
-                        padding: const EdgeInsets.only(bottom: 13.0),
-                        child: Container(
-                          height: 85.0,
-                          child: StreamBuilder<List<TransactionWallet>>(
-                            stream: database.watchAllWallets(),
-                            builder: (context, snapshot) {
-                              if (snapshot.hasData) {
-                                List<Widget> children = [];
-                                int index = 0;
-                                for (TransactionWallet wallet
-                                    in snapshot.data!) {
-                                  children.add(
-                                    Padding(
-                                      padding: EdgeInsets.only(
-                                        left: (index == 0 ? 7 : 0.0),
+                appStateSettings["showWalletSwitcher"] == true
+                    ? KeepAlive(
+                        child: Padding(
+                          padding: const EdgeInsets.only(bottom: 13.0),
+                          child: Container(
+                            height: 85.0,
+                            child: StreamBuilder<List<TransactionWallet>>(
+                              stream: database.watchAllWallets(),
+                              builder: (context, snapshot) {
+                                if (snapshot.hasData) {
+                                  List<Widget> children = [];
+                                  int index = 0;
+                                  for (TransactionWallet wallet
+                                      in snapshot.data!) {
+                                    children.add(
+                                      Padding(
+                                        padding: EdgeInsets.only(
+                                          left: (index == 0 ? 7 : 0.0),
+                                        ),
+                                        child: WalletEntry(
+                                          selected: appStateSettings[
+                                                  "selectedWallet"] ==
+                                              wallet.walletPk,
+                                          wallet: wallet,
+                                        ),
                                       ),
-                                      child: WalletEntry(
-                                        selected: appStateSettings[
-                                                "selectedWallet"] ==
-                                            wallet.walletPk,
-                                        wallet: wallet,
+                                    );
+                                    index++;
+                                  }
+
+                                  return ListView(
+                                    addAutomaticKeepAlives: true,
+                                    clipBehavior: Clip.none,
+                                    scrollDirection: Axis.horizontal,
+                                    children: [
+                                      ...children,
+                                      WalletEntryAdd(
+                                        key: ValueKey(1),
                                       ),
-                                    ),
+                                    ],
                                   );
-                                  index++;
                                 }
-
-                                return ListView(
-                                  addAutomaticKeepAlives: true,
-                                  clipBehavior: Clip.none,
-                                  scrollDirection: Axis.horizontal,
-                                  children: [
-                                    ...children,
-                                    WalletEntryAdd(
-                                      key: ValueKey(1),
-                                    ),
-                                  ],
-                                );
-                              }
-                              return Container();
-                            },
+                                return Container();
+                              },
+                            ),
                           ),
                         ),
-                      ),
-                    )
-                  : SizedBox.shrink(),
-              KeepAlive(
-                child: StreamBuilder<List<Budget>>(
-                  stream: database.watchAllPinnedBudgets(),
-                  builder: (context, snapshot) {
-                    if (snapshot.hasData) {
-                      if (snapshot.data!.length == 0) {
-                        return SizedBox.shrink();
-                      }
-                      if (snapshot.data!.length == 1) {
+                      )
+                    : SizedBox.shrink(),
+                KeepAlive(
+                  child: StreamBuilder<List<Budget>>(
+                    stream: database.watchAllPinnedBudgets(),
+                    builder: (context, snapshot) {
+                      if (snapshot.hasData) {
+                        if (snapshot.data!.length == 0) {
+                          return SizedBox.shrink();
+                        }
+                        if (snapshot.data!.length == 1) {
+                          return Padding(
+                            padding: const EdgeInsets.only(
+                                left: 13, right: 13, bottom: 13),
+                            child: BudgetContainer(
+                              budget: snapshot.data![0],
+                            ),
+                          );
+                        }
                         return Padding(
-                          padding: const EdgeInsets.only(
-                              left: 13, right: 13, bottom: 13),
-                          child: BudgetContainer(
-                            budget: snapshot.data![0],
+                          padding: const EdgeInsets.only(bottom: 13),
+                          child: CarouselSlider(
+                            options: CarouselOptions(
+                              height: 183,
+                              enableInfiniteScroll: false,
+                              enlargeCenterPage: true,
+                              enlargeStrategy: CenterPageEnlargeStrategy.height,
+                              viewportFraction: 0.95,
+                              clipBehavior: Clip.none,
+                            ),
+                            items: snapshot.data?.map((Budget budget) {
+                              return Padding(
+                                padding:
+                                    const EdgeInsets.symmetric(horizontal: 3),
+                                child: BudgetContainer(
+                                  budget: budget,
+                                ),
+                              );
+                            }).toList(),
                           ),
                         );
+                      } else {
+                        return SizedBox.shrink();
                       }
-                      return Padding(
-                        padding: const EdgeInsets.only(bottom: 13),
-                        child: CarouselSlider(
-                          options: CarouselOptions(
-                            height: 183,
-                            enableInfiniteScroll: false,
-                            enlargeCenterPage: true,
-                            enlargeStrategy: CenterPageEnlargeStrategy.height,
-                            viewportFraction: 0.95,
-                            clipBehavior: Clip.none,
-                          ),
-                          items: snapshot.data?.map((Budget budget) {
-                            return Padding(
-                              padding:
-                                  const EdgeInsets.symmetric(horizontal: 3),
-                              child: BudgetContainer(
-                                budget: budget,
-                              ),
-                            );
-                          }).toList(),
-                        ),
-                      );
-                    } else {
-                      return SizedBox.shrink();
-                    }
-                  },
+                    },
+                  ),
                 ),
-              ),
 
-              !appStateSettings["showOverdueUpcoming"]
-                  ? SizedBox.shrink()
-                  : KeepAlive(
-                      child: Padding(
-                        padding: const EdgeInsets.only(
-                            bottom: 13, left: 13, right: 13),
-                        child: Row(
-                          crossAxisAlignment: CrossAxisAlignment.center,
-                          mainAxisAlignment: MainAxisAlignment.center,
-                          children: [
-                            Expanded(child: UpcomingTransactions()),
-                            SizedBox(width: 13),
-                            Expanded(
-                              child: UpcomingTransactions(
-                                overdueTransactions: true,
+                !appStateSettings["showOverdueUpcoming"]
+                    ? SizedBox.shrink()
+                    : KeepAlive(
+                        child: Padding(
+                          padding: const EdgeInsets.only(
+                              bottom: 13, left: 13, right: 13),
+                          child: Row(
+                            crossAxisAlignment: CrossAxisAlignment.center,
+                            mainAxisAlignment: MainAxisAlignment.center,
+                            children: [
+                              Expanded(child: UpcomingTransactions()),
+                              SizedBox(width: 13),
+                              Expanded(
+                                child: UpcomingTransactions(
+                                  overdueTransactions: true,
+                                ),
                               ),
-                            ),
-                          ],
+                            ],
+                          ),
                         ),
                       ),
-                    ),
-              KeepAlive(
-                child: StreamBuilder<List<Transaction>>(
-                  stream: database.getTransactionsInTimeRangeFromCategories(
-                      DateTime(
-                        DateTime.now().year,
-                        DateTime.now().month - 1,
-                        DateTime.now().day,
-                      ),
-                      DateTime(
-                        DateTime.now().year,
-                        DateTime.now().month,
-                        DateTime.now().day,
-                      ),
-                      [],
-                      true,
-                      true,
-                      selectedSlidingSelector == 2
-                          ? false
-                          : selectedSlidingSelector == 3
-                              ? true
-                              : null,
-                      SharedTransactionsShow.fromEveryone),
-                  builder: (context, snapshot) {
-                    if (snapshot.hasData) {
-                      bool cumulative =
-                          appStateSettings["showCumulativeSpending"];
-                      double cumulativeTotal = 0;
-                      List<Pair> points = [];
-                      for (DateTime indexDay = DateTime(
-                        DateTime.now().year,
-                        DateTime.now().month - 1,
-                        DateTime.now().day,
-                      );
-                          indexDay.compareTo(DateTime.now()) < 0;
-                          indexDay = DateTime(indexDay.year, indexDay.month,
-                              indexDay.day + 1)) {
-                        //can be optimized...
-                        double totalForDay = 0;
-                        for (Transaction transaction in snapshot.data!) {
-                          if (indexDay.year == transaction.dateCreated.year &&
-                              indexDay.month == transaction.dateCreated.month &&
-                              indexDay.day == transaction.dateCreated.day) {
-                            if (transaction.income) {
-                              totalForDay += transaction.amount.abs();
-                            } else {
-                              totalForDay -= transaction.amount.abs();
+                KeepAlive(
+                  child: StreamBuilder<List<Transaction>>(
+                    stream: database.getTransactionsInTimeRangeFromCategories(
+                        DateTime(
+                          DateTime.now().year,
+                          DateTime.now().month - 1,
+                          DateTime.now().day,
+                        ),
+                        DateTime(
+                          DateTime.now().year,
+                          DateTime.now().month,
+                          DateTime.now().day,
+                        ),
+                        [],
+                        true,
+                        true,
+                        selectedSlidingSelector == 2
+                            ? false
+                            : selectedSlidingSelector == 3
+                                ? true
+                                : null,
+                        SharedTransactionsShow.fromEveryone),
+                    builder: (context, snapshot) {
+                      if (snapshot.hasData) {
+                        bool cumulative =
+                            appStateSettings["showCumulativeSpending"];
+                        double cumulativeTotal = 0;
+                        List<Pair> points = [];
+                        for (DateTime indexDay = DateTime(
+                          DateTime.now().year,
+                          DateTime.now().month - 1,
+                          DateTime.now().day,
+                        );
+                            indexDay.compareTo(DateTime.now()) < 0;
+                            indexDay = DateTime(indexDay.year, indexDay.month,
+                                indexDay.day + 1)) {
+                          //can be optimized...
+                          double totalForDay = 0;
+                          for (Transaction transaction in snapshot.data!) {
+                            if (indexDay.year == transaction.dateCreated.year &&
+                                indexDay.month ==
+                                    transaction.dateCreated.month &&
+                                indexDay.day == transaction.dateCreated.day) {
+                              if (transaction.income) {
+                                totalForDay += transaction.amount.abs();
+                              } else {
+                                totalForDay -= transaction.amount.abs();
+                              }
                             }
                           }
+                          cumulativeTotal += totalForDay;
+                          points.add(Pair(points.length.toDouble(),
+                              cumulative ? cumulativeTotal : totalForDay));
                         }
-                        cumulativeTotal += totalForDay;
-                        points.add(Pair(points.length.toDouble(),
-                            cumulative ? cumulativeTotal : totalForDay));
+                        return Padding(
+                          padding: const EdgeInsets.only(bottom: 13),
+                          child: Container(
+                              padding: EdgeInsets.only(
+                                  left: 10, right: 10, bottom: 10, top: 20),
+                              margin: EdgeInsets.symmetric(horizontal: 13),
+                              decoration: BoxDecoration(
+                                borderRadius:
+                                    BorderRadius.all(Radius.circular(15)),
+                                color: Theme.of(context)
+                                    .colorScheme
+                                    .lightDarkAccentHeavyLight,
+                                boxShadow:
+                                    boxShadowCheck(boxShadowGeneral(context)),
+                              ),
+                              child: LineChartWrapper(
+                                  points: points, isCurved: true)),
+                        );
                       }
-                      return Padding(
-                        padding: const EdgeInsets.only(bottom: 13),
-                        child: Container(
-                            padding: EdgeInsets.only(
-                                left: 10, right: 10, bottom: 10, top: 20),
-                            margin: EdgeInsets.symmetric(horizontal: 13),
-                            decoration: BoxDecoration(
-                              borderRadius:
-                                  BorderRadius.all(Radius.circular(15)),
-                              color: Theme.of(context)
-                                  .colorScheme
-                                  .lightDarkAccentHeavyLight,
-                              boxShadow:
-                                  boxShadowCheck(boxShadowGeneral(context)),
-                            ),
-                            child: LineChartWrapper(
-                                points: points, isCurved: true)),
-                      );
-                    }
-                    return SizedBox.shrink();
-                  },
+                      return SizedBox.shrink();
+                    },
+                  ),
                 ),
-              ),
-              KeepAlive(
-                child: SlidingSelector(onSelected: (index) {
-                  setState(() {
-                    selectedSlidingSelector = index;
-                  });
-                }),
-              ),
-              KeepAlive(
-                child: Container(height: 8),
-              ),
-              KeepAlive(
-                child: AnimatedSize(
-                  duration: Duration(milliseconds: 600),
-                  curve: Curves.easeInOutCubicEmphasized,
-                  child: AnimatedSwitcher(
-                    duration: Duration(milliseconds: 300),
-                    child: StreamBuilder<List<Transaction>>(
-                      stream: database.watchAllUpcomingTransactions(
-                          // upcoming in 3 days
-                          endDate: DateTime(DateTime.now().year,
-                              DateTime.now().month, DateTime.now().day + 4)),
-                      builder: (context, snapshot) {
-                        if (snapshot.hasData) {
-                          if (snapshot.data!.length <= 0) {
-                            return SizedBox.shrink();
-                          }
-                          List<Widget> children = [];
-                          for (Transaction transaction in snapshot.data!) {
-                            children.add(Column(
-                              crossAxisAlignment: CrossAxisAlignment.start,
-                              children: [
-                                UpcomingTransactionDateHeader(
-                                    transaction: transaction, small: true),
-                                TransactionEntry(
-                                  openPage: AddTransactionPage(
-                                    title: "Edit Transaction",
+                KeepAlive(
+                  child: SlidingSelector(onSelected: (index) {
+                    setState(() {
+                      selectedSlidingSelector = index;
+                    });
+                  }),
+                ),
+                KeepAlive(
+                  child: Container(height: 8),
+                ),
+                KeepAlive(
+                  child: AnimatedSize(
+                    duration: Duration(milliseconds: 600),
+                    curve: Curves.easeInOutCubicEmphasized,
+                    child: AnimatedSwitcher(
+                      duration: Duration(milliseconds: 300),
+                      child: StreamBuilder<List<Transaction>>(
+                        stream: database.watchAllUpcomingTransactions(
+                            // upcoming in 3 days
+                            endDate: DateTime(DateTime.now().year,
+                                DateTime.now().month, DateTime.now().day + 4)),
+                        builder: (context, snapshot) {
+                          if (snapshot.hasData) {
+                            if (snapshot.data!.length <= 0) {
+                              return SizedBox.shrink();
+                            }
+                            List<Widget> children = [];
+                            for (Transaction transaction in snapshot.data!) {
+                              children.add(Column(
+                                crossAxisAlignment: CrossAxisAlignment.start,
+                                children: [
+                                  UpcomingTransactionDateHeader(
+                                      transaction: transaction, small: true),
+                                  TransactionEntry(
+                                    openPage: AddTransactionPage(
+                                      title: "Edit Transaction",
+                                      transaction: transaction,
+                                    ),
                                     transaction: transaction,
                                   ),
-                                  transaction: transaction,
-                                ),
-                                SizedBox(height: 5),
-                              ],
-                            ));
+                                  SizedBox(height: 5),
+                                ],
+                              ));
+                            }
+                            return Column(children: children);
+                          } else {
+                            return SizedBox.shrink();
                           }
-                          return Column(children: children);
-                        } else {
-                          return SizedBox.shrink();
-                        }
-                      },
+                        },
+                      ),
                     ),
                   ),
                 ),
-              ),
-              AnimatedSize(
-                duration: Duration(milliseconds: 600),
-                curve: Curves.easeInOutCubicEmphasized,
-                child: AnimatedSwitcher(
-                  duration: Duration(milliseconds: 300),
-                  child: Column(
-                    key: ValueKey(selectedSlidingSelector),
-                    children: [
-                      ...getTransactionsSlivers(
-                        DateTime(
-                          DateTime.now().year,
-                          DateTime.now().month,
-                          DateTime.now().day - 7,
-                        ),
-                        DateTime(
-                          DateTime.now().year,
-                          DateTime.now().month,
-                          DateTime.now().day,
+                AnimatedSize(
+                  duration: Duration(milliseconds: 600),
+                  curve: Curves.easeInOutCubicEmphasized,
+                  child: AnimatedSwitcher(
+                    duration: Duration(milliseconds: 300),
+                    child: Column(
+                      key: ValueKey(selectedSlidingSelector),
+                      children: [
+                        ...getTransactionsSlivers(
+                          DateTime(
+                            DateTime.now().year,
+                            DateTime.now().month,
+                            DateTime.now().day - 7,
+                          ),
+                          DateTime(
+                            DateTime.now().year,
+                            DateTime.now().month,
+                            DateTime.now().day,
+                          ),
+                          income: selectedSlidingSelector == 1
+                              ? null
+                              : selectedSlidingSelector == 2
+                                  ? false
+                                  : true,
+                          sticky: false,
+                          slivers: false,
                         ),
-                        income: selectedSlidingSelector == 1
-                            ? null
-                            : selectedSlidingSelector == 2
-                                ? false
-                                : true,
-                        sticky: false,
-                        slivers: false,
-                      ),
-                    ],
+                      ],
+                    ),
                   ),
                 ),
-              ),
-              Container(height: 7),
-              Center(
-                child: Tappable(
-                  color: Theme.of(context).colorScheme.lightDarkAccent,
-                  child: Padding(
-                    padding:
-                        const EdgeInsets.symmetric(horizontal: 15, vertical: 8),
-                    child: TextFont(
-                      text: "View All Transactions",
-                      textAlign: TextAlign.center,
-                      fontSize: 16,
-                      textColor: Theme.of(context).colorScheme.textLight,
+                Container(height: 7),
+                Center(
+                  child: Tappable(
+                    color: Theme.of(context).colorScheme.lightDarkAccent,
+                    child: Padding(
+                      padding: const EdgeInsets.symmetric(
+                          horizontal: 15, vertical: 8),
+                      child: TextFont(
+                        text: "View All Transactions",
+                        textAlign: TextAlign.center,
+                        fontSize: 16,
+                        textColor: Theme.of(context).colorScheme.textLight,
+                      ),
                     ),
+                    onTap: () {
+                      PageNavigationFramework.changePage(context, 1,
+                          switchNavbar: true);
+                    },
+                    borderRadius: 10,
                   ),
-                  onTap: () {
-                    PageNavigationFramework.changePage(context, 1,
-                        switchNavbar: true);
-                  },
-                  borderRadius: 10,
                 ),
-              ),
-              SizedBox(height: 65),
-              // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
-              Container(
-                  height: 1, color: Theme.of(context).colorScheme.background),
-            ],
+                SizedBox(height: 65),
+                // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
+                Container(
+                    height: 1, color: Theme.of(context).colorScheme.background),
+              ],
+            ),
           ),
-        ),
-        SelectedTransactionsActionBar(
-          pageID: "0",
-        ),
-      ],
+          SelectedTransactionsActionBar(
+            pageID: "0",
+          ),
+        ],
+      ),
     );
   }
 }
diff --git a/budget/lib/pages/pastBudgetsPage.dart b/budget/lib/pages/pastBudgetsPage.dart
index b1d4c5e14..4f5de5d9d 100644
--- a/budget/lib/pages/pastBudgetsPage.dart
+++ b/budget/lib/pages/pastBudgetsPage.dart
@@ -28,19 +28,38 @@ import 'dart:developer';
 import 'package:async/async.dart' show StreamZip;
 import 'package:googleapis/admob/v1.dart';
 
-class PastBudgetsPage extends StatefulWidget {
-  const PastBudgetsPage({Key? key, required Budget this.budget})
+class PastBudgetsPage extends StatelessWidget {
+  const PastBudgetsPage({super.key, required int this.budgetPk});
+  final int budgetPk;
+
+  @override
+  Widget build(BuildContext context) {
+    return StreamBuilder<Budget>(
+        stream: database.getBudget(budgetPk),
+        builder: (context, snapshot) {
+          if (snapshot.hasData) {
+            return _PastBudgetsPageContent(budget: snapshot.data!);
+          }
+          return SizedBox.shrink();
+        });
+    ;
+  }
+}
+
+class _PastBudgetsPageContent extends StatefulWidget {
+  const _PastBudgetsPageContent({Key? key, required Budget this.budget})
       : super(key: key);
 
   final Budget budget;
 
   @override
-  State<PastBudgetsPage> createState() => _PastBudgetsPageState();
+  State<_PastBudgetsPageContent> createState() =>
+      __PastBudgetsPageContentState();
 }
 
 GlobalKey<PageFrameworkState> budgetHistoryKey = GlobalKey();
 
-class _PastBudgetsPageState extends State<PastBudgetsPage> {
+class __PastBudgetsPageContentState extends State<_PastBudgetsPageContent> {
   late Stream<List<double?>> mergedStreams;
   List<DateTimeRange> dateTimeRanges = [];
   int amountLoaded = 3;
@@ -152,6 +171,7 @@ class _PastBudgetsPageState extends State<PastBudgetsPage> {
                   bars: bars,
                   horizontalLineAt: widget.budget.amount,
                   initialBars: initialBars,
+                  budget: widget.budget,
                 ),
               );
             } else {
@@ -183,7 +203,7 @@ class _PastBudgetsPageState extends State<PastBudgetsPage> {
                 );
                 return Padding(
                   padding: EdgeInsets.only(
-                      bottom: index == amountLoaded - 1 ? 0 : 16.0),
+                      bottom: index == amountLoaded - 1 ? 0 : 13.0),
                   child: PastBudgetContainer(
                     budget: widget.budget,
                     smallBudgetContainer: true,
@@ -201,27 +221,31 @@ class _PastBudgetsPageState extends State<PastBudgetsPage> {
         ),
         SliverToBoxAdapter(
           child: Center(
-            child: Tappable(
-              color: Theme.of(context).colorScheme.lightDarkAccent,
-              child: Padding(
-                padding:
-                    const EdgeInsets.symmetric(horizontal: 15, vertical: 8),
-                child: TextFont(
-                  text: "View More",
-                  textAlign: TextAlign.center,
-                  fontSize: 16,
-                  textColor: Theme.of(context).colorScheme.textLight,
+            child: Padding(
+              padding: const EdgeInsets.only(bottom: 30),
+              child: Tappable(
+                color: Theme.of(context).colorScheme.lightDarkAccent,
+                child: Padding(
+                  padding:
+                      const EdgeInsets.symmetric(horizontal: 15, vertical: 8),
+                  child: TextFont(
+                    text: "View More",
+                    textAlign: TextAlign.center,
+                    fontSize: 16,
+                    textColor: Theme.of(context).colorScheme.textLight,
+                  ),
                 ),
+                onTap: () {
+                  setState(() {
+                    amountLoaded += 3;
+                  });
+                  Future.delayed(Duration(milliseconds: 150), () {
+                    budgetHistoryKey.currentState!
+                        .scrollToBottom(duration: 4000);
+                  });
+                },
+                borderRadius: 10,
               ),
-              onTap: () {
-                setState(() {
-                  amountLoaded += 3;
-                });
-                Future.delayed(Duration(milliseconds: 150), () {
-                  budgetHistoryKey.currentState!.scrollToBottom(duration: 4000);
-                });
-              },
-              borderRadius: 10,
             ),
           ),
         ),
@@ -277,166 +301,176 @@ class PastBudgetContainer extends StatelessWidget {
             builder: (context, snapshot) {
               if (snapshot.hasData) {
                 double totalSpent = 0;
-
                 snapshot.data!.forEach((category) {
                   totalSpent = totalSpent + category.total.abs();
                   totalSpent = totalSpent.abs();
                 });
                 return Container(
                   height: smallContainerHeight,
-                  child: ClipRRect(
-                    clipBehavior: Clip.antiAlias,
-                    borderRadius: BorderRadius.circular(15),
-                    child: Column(
-                      mainAxisAlignment: MainAxisAlignment.spaceBetween,
-                      children: [
-                        Stack(
+                  margin: EdgeInsets.symmetric(horizontal: 20),
+                  child: Row(
+                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
+                    children: [
+                      Padding(
+                        padding: const EdgeInsets.only(left: 10),
+                        child: Column(
+                          crossAxisAlignment: CrossAxisAlignment.start,
+                          mainAxisAlignment: MainAxisAlignment.center,
+                          mainAxisSize: MainAxisSize.max,
                           children: [
-                            Stack(alignment: Alignment.center, children: [
-                              Padding(
-                                padding: EdgeInsets.all(5 / 2),
-                                child: Container(
-                                  width: 50,
+                            Row(
+                              mainAxisAlignment: MainAxisAlignment.spaceBetween,
+                              crossAxisAlignment: CrossAxisAlignment.end,
+                              mainAxisSize: MainAxisSize.max,
+                              children: [
+                                TextFont(
+                                  text:
+                                      getWordedDateShortMore(budgetRange.start),
+                                  fontSize: 23,
+                                  fontWeight: FontWeight.bold,
+                                ),
+                                Padding(
+                                  padding: const EdgeInsets.only(
+                                    bottom: 2,
+                                    left: 5,
+                                  ),
                                   child: TextFont(
-                                    autoSizeText: true,
-                                    text: (totalSpent / budget.amount * 100)
-                                            .toStringAsFixed(0) +
-                                        "%",
-                                    fontSize: 18,
-                                    textAlign: TextAlign.center,
-                                    fontWeight: FontWeight.bold,
-                                    overflow: TextOverflow.fade,
-                                    softWrap: false,
-                                    maxLines: 1,
+                                    text: budgetRange.start.year !=
+                                            DateTime.now().year
+                                        ? budgetRange.start.year.toString()
+                                        : "",
+                                    fontSize: 13,
                                   ),
                                 ),
-                              ),
-                              Container(
-                                height: 70,
-                                width: 70,
-                                child: AnimatedCircularProgress(
-                                  percent: (totalSpent / budget.amount).abs(),
-                                  backgroundColor:
-                                      budgetColorScheme.secondaryContainer,
-                                  foregroundColor: budgetColorScheme.primary,
-                                  overageColor: budgetColorScheme.secondary,
-                                ),
-                              ),
-                            ]),
-                            Padding(
-                              padding: const EdgeInsets.only(
-                                  left: 23, right: 23, bottom: 13, top: 13),
-                              child: Column(
-                                crossAxisAlignment: CrossAxisAlignment.end,
-                                children: [
-                                  budget.amount - totalSpent >= 0
-                                      ? Row(
-                                          mainAxisAlignment:
-                                              MainAxisAlignment.center,
-                                          crossAxisAlignment:
-                                              CrossAxisAlignment.end,
-                                          children: [
-                                            Container(
-                                              child: CountUp(
-                                                count: appStateSettings[
-                                                        "showTotalSpentForBudget"]
-                                                    ? totalSpent
-                                                    : budget.amount -
-                                                        totalSpent,
-                                                prefix: getCurrencyString(),
-                                                duration:
-                                                    Duration(milliseconds: 700),
-                                                fontSize: 18,
-                                                textAlign: TextAlign.left,
-                                                fontWeight: FontWeight.bold,
-                                                decimals: moneyDecimals(
-                                                    budget.amount),
-                                              ),
-                                            ),
-                                            Padding(
-                                              padding: const EdgeInsets.only(
-                                                  bottom: 1.7),
-                                              child: Container(
-                                                child: TextFont(
-                                                  text: (appStateSettings[
-                                                              "showTotalSpentForBudget"]
-                                                          ? " spent of "
-                                                          : " left of ") +
-                                                      convertToMoney(
-                                                          budget.amount),
-                                                  fontSize: 14,
-                                                  textAlign: TextAlign.left,
-                                                ),
-                                              ),
-                                            ),
-                                          ],
-                                        )
-                                      : Row(
-                                          mainAxisAlignment:
-                                              MainAxisAlignment.center,
-                                          crossAxisAlignment:
-                                              CrossAxisAlignment.end,
-                                          children: [
-                                            Container(
-                                              child: CountUp(
-                                                count: appStateSettings[
-                                                        "showTotalSpentForBudget"]
-                                                    ? totalSpent
-                                                    : -1 *
-                                                        (budget.amount -
-                                                            totalSpent),
-                                                prefix: getCurrencyString(),
-                                                duration:
-                                                    Duration(milliseconds: 700),
-                                                fontSize: 18,
-                                                textAlign: TextAlign.left,
-                                                fontWeight: FontWeight.bold,
-                                                decimals: moneyDecimals(
-                                                    budget.amount),
-                                              ),
+                              ],
+                            ),
+                            SizedBox(height: 2),
+                            budget.amount - totalSpent >= 0
+                                ? Row(
+                                    children: [
+                                      Row(
+                                        mainAxisAlignment:
+                                            MainAxisAlignment.center,
+                                        crossAxisAlignment:
+                                            CrossAxisAlignment.end,
+                                        children: [
+                                          Container(
+                                            child: CountUp(
+                                              count: appStateSettings[
+                                                      "showTotalSpentForBudget"]
+                                                  ? totalSpent
+                                                  : budget.amount - totalSpent,
+                                              prefix: getCurrencyString(),
+                                              duration:
+                                                  Duration(milliseconds: 700),
+                                              fontSize: 18,
+                                              textAlign: TextAlign.left,
+                                              fontWeight: FontWeight.bold,
+                                              decimals:
+                                                  moneyDecimals(budget.amount),
                                             ),
-                                            Container(
-                                              padding: const EdgeInsets.only(
-                                                  bottom: 1.5),
+                                          ),
+                                          Padding(
+                                            padding: const EdgeInsets.only(
+                                                bottom: 1.7),
+                                            child: Container(
                                               child: TextFont(
                                                 text: (appStateSettings[
                                                             "showTotalSpentForBudget"]
                                                         ? " spent of "
-                                                        : " overspent of ") +
+                                                        : " left of ") +
                                                     convertToMoney(
                                                         budget.amount),
-                                                fontSize: 13,
+                                                fontSize: 14,
                                                 textAlign: TextAlign.left,
                                               ),
                                             ),
-                                          ],
+                                          ),
+                                        ],
+                                      ),
+                                    ],
+                                  )
+                                : Row(
+                                    mainAxisAlignment: MainAxisAlignment.center,
+                                    crossAxisAlignment: CrossAxisAlignment.end,
+                                    children: [
+                                      Container(
+                                        child: CountUp(
+                                          count: appStateSettings[
+                                                  "showTotalSpentForBudget"]
+                                              ? totalSpent
+                                              : -1 *
+                                                  (budget.amount - totalSpent),
+                                          prefix: getCurrencyString(),
+                                          duration:
+                                              Duration(milliseconds: 1000),
+                                          fontSize: 18,
+                                          textAlign: TextAlign.left,
+                                          fontWeight: FontWeight.bold,
+                                          decimals:
+                                              moneyDecimals(budget.amount),
                                         ),
-                                ],
-                              ),
-                            ),
+                                      ),
+                                      Container(
+                                        padding:
+                                            const EdgeInsets.only(bottom: 1.5),
+                                        child: TextFont(
+                                          text: (appStateSettings[
+                                                      "showTotalSpentForBudget"]
+                                                  ? " spent of "
+                                                  : " overspent of ") +
+                                              convertToMoney(budget.amount),
+                                          fontSize: 13,
+                                          textAlign: TextAlign.left,
+                                        ),
+                                      ),
+                                    ],
+                                  ),
                           ],
                         ),
-
-                        // Padding(
-                        //   padding: EdgeInsets.symmetric(horizontal: 20),
-                        //   child: BudgetTimeline(
-                        //     budget: budget,
-                        //     percent: (totalSpent / budget.amount * 100).abs(),
-                        //     yourPercent: totalSpent == 0
-                        //         ? 0
-                        //         : (snapshotTotalSpentByCurrentUserOnly.data! /
-                        //                 budget.amount *
-                        //                 100)
-                        //             .abs(),
-                        //     todayPercent: showTodayForSmallBudget
-                        //         ? getPercentBetweenDates(
-                        //             budgetRange, dateForRangeLocal)
-                        //         : -1,
-                        //     dateForRange: dateForRangeLocal,
-                        //   ),
-                        // ),
-                      ],
-                    ),
+                      ),
+                      SizedBox(width: 20),
+                      Stack(
+                        alignment: Alignment.center,
+                        children: [
+                          Padding(
+                            padding: EdgeInsets.all(5 / 2),
+                            child: Container(
+                              width: 50,
+                              child: CountNumber(
+                                count: (totalSpent / budget.amount * 100),
+                                duration: Duration(milliseconds: 1000),
+                                dynamicDecimals: false,
+                                initialCount: (0),
+                                textBuilder: (value) {
+                                  return TextFont(
+                                    autoSizeText: true,
+                                    text: value.toStringAsFixed(0) + "%",
+                                    fontSize: 18,
+                                    textAlign: TextAlign.center,
+                                    fontWeight: FontWeight.bold,
+                                    overflow: TextOverflow.fade,
+                                    softWrap: false,
+                                    maxLines: 1,
+                                  );
+                                },
+                              ),
+                            ),
+                          ),
+                          Container(
+                            height: 70,
+                            width: 70,
+                            child: AnimatedCircularProgress(
+                              percent: (totalSpent / budget.amount).abs(),
+                              backgroundColor:
+                                  budgetColorScheme.secondaryContainer,
+                              foregroundColor: budgetColorScheme.primary,
+                              overageColor: budgetColorScheme.tertiary,
+                            ),
+                          ),
+                        ],
+                      ),
+                    ],
                   ),
                 );
               } else {
@@ -473,7 +507,7 @@ class PastBudgetContainer extends StatelessWidget {
           );
         },
         openPage: BudgetPage(
-          budget: budget,
+          budgetPk: budget.budgetPk,
           dateForRange: dateForRangeLocal,
           isPastBudget: isPastBudget,
           isPastBudgetButCurrentPeriod: isPastBudgetButCurrentPeriod,
diff --git a/budget/lib/pages/transactionsListPage.dart b/budget/lib/pages/transactionsListPage.dart
index eee56074d..2757d28e6 100644
--- a/budget/lib/pages/transactionsListPage.dart
+++ b/budget/lib/pages/transactionsListPage.dart
@@ -2,6 +2,7 @@ import 'dart:developer';
 
 import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
+import 'package:budget/pages/SharedCategorySettings.dart';
 import 'package:budget/pages/addTransactionPage.dart';
 import 'package:budget/pages/editBudgetPage.dart';
 import 'package:budget/pages/transactionsSearchPage.dart';
@@ -282,184 +283,189 @@ class TransactionsListPageState extends State<TransactionsListPage>
       icon: Icon(Icons.search_rounded),
     );
 
-    return Stack(
-      children: [
-        GestureDetector(
-          onTap: () {
-            //Minimize keyboard when tap non interactive widget
-            FocusScopeNode currentFocus = FocusScope.of(context);
-            if (!currentFocus.hasPrimaryFocus) {
-              currentFocus.unfocus();
-            }
-          },
-          child: NestedScrollView(
-            controller: _scrollController,
-            headerSliverBuilder:
-                (BuildContext contextHeader, bool innerBoxIsScrolled) {
-              return <Widget>[
-                PageFrameworkSliverAppBar(
-                  title: "Transactions",
-                  actions: [
-                    Padding(
-                        padding: EdgeInsets.only(top: 10, right: 7),
-                        child: MediaQuery.of(context).padding.top >= 25
-                            ? AnimatedSwitcher(
-                                duration: Duration(milliseconds: 1100),
-                                switchInCurve: Curves.easeInOutCubicEmphasized,
-                                switchOutCurve: Curves.ease,
-                                transitionBuilder: (Widget child,
-                                    Animation<double> animation) {
-                                  return FadeScaleTransitionButton(
-                                    alignment: Alignment.center,
-                                    animation: animation,
-                                    child: child,
-                                  );
-                                },
-                                child: scaleInSearchIcon
-                                    ? searchButton
-                                    : Container(
-                                        key: ValueKey(1),
-                                        width: 50,
-                                        height: 50,
-                                      ),
-                              )
-                            : searchButton),
-                  ],
-                ),
-              ];
+    return SharedCategoryRefresh(
+      scrollController: _scrollController,
+      child: Stack(
+        children: [
+          GestureDetector(
+            onTap: () {
+              //Minimize keyboard when tap non interactive widget
+              FocusScopeNode currentFocus = FocusScope.of(context);
+              if (!currentFocus.hasPrimaryFocus) {
+                currentFocus.unfocus();
+              }
             },
-            body: Builder(
-              builder: (BuildContext context2) {
-                return Scaffold(
-                  extendBodyBehindAppBar: false,
-                  appBar: AppBar(
-                    backgroundColor: Theme.of(context).colorScheme.background,
-                    elevation: 0,
-                    title: MediaQuery.of(context).padding.top >= 25
-                        ? FadeTransition(
-                            opacity: _animationControllerSearch,
-                            child: Padding(
-                              padding: EdgeInsets.symmetric(horizontal: 18),
-                              child: FakeTextInput(
-                                onTap: () {
-                                  pushRoute(context, TransactionsSearchPage());
-                                },
-                                label: "Search...",
-                                icon: Icons.search_rounded,
-                                edgeInsetsVertical:
-                                    MediaQuery.of(context).padding.top - 21 <=
-                                            15
-                                        ? MediaQuery.of(context).padding.top -
-                                            21
-                                        : 15,
-                                backgroundColor: Theme.of(context)
-                                    .colorScheme
-                                    .secondaryContainer,
+            child: NestedScrollView(
+              controller: _scrollController,
+              headerSliverBuilder:
+                  (BuildContext contextHeader, bool innerBoxIsScrolled) {
+                return <Widget>[
+                  PageFrameworkSliverAppBar(
+                    title: "Transactions",
+                    actions: [
+                      Padding(
+                          padding: EdgeInsets.only(top: 10, right: 7),
+                          child: MediaQuery.of(context).padding.top >= 25
+                              ? AnimatedSwitcher(
+                                  duration: Duration(milliseconds: 1100),
+                                  switchInCurve:
+                                      Curves.easeInOutCubicEmphasized,
+                                  switchOutCurve: Curves.ease,
+                                  transitionBuilder: (Widget child,
+                                      Animation<double> animation) {
+                                    return FadeScaleTransitionButton(
+                                      alignment: Alignment.center,
+                                      animation: animation,
+                                      child: child,
+                                    );
+                                  },
+                                  child: scaleInSearchIcon
+                                      ? searchButton
+                                      : Container(
+                                          key: ValueKey(1),
+                                          width: 50,
+                                          height: 50,
+                                        ),
+                                )
+                              : searchButton),
+                    ],
+                  ),
+                ];
+              },
+              body: Builder(
+                builder: (BuildContext context2) {
+                  return Scaffold(
+                    extendBodyBehindAppBar: false,
+                    appBar: AppBar(
+                      backgroundColor: Theme.of(context).colorScheme.background,
+                      elevation: 0,
+                      title: MediaQuery.of(context).padding.top >= 25
+                          ? FadeTransition(
+                              opacity: _animationControllerSearch,
+                              child: Padding(
+                                padding: EdgeInsets.symmetric(horizontal: 18),
+                                child: FakeTextInput(
+                                  onTap: () {
+                                    pushRoute(
+                                        context, TransactionsSearchPage());
+                                  },
+                                  label: "Search...",
+                                  icon: Icons.search_rounded,
+                                  edgeInsetsVertical:
+                                      MediaQuery.of(context).padding.top - 21 <=
+                                              15
+                                          ? MediaQuery.of(context).padding.top -
+                                              21
+                                          : 15,
+                                  backgroundColor: Theme.of(context)
+                                      .colorScheme
+                                      .secondaryContainer,
+                                ),
                               ),
+                            )
+                          : SizedBox.shrink(),
+                      titleSpacing: 0,
+                      primary: false,
+                      toolbarHeight: 65,
+                      bottom: PreferredSize(
+                        child: Column(
+                          children: [
+                            MonthSelector(
+                              key: monthSelectorStateKey,
+                              selectedDateStart: selectedDateStart,
+                              setSelectedDateStart: (DateTime currentDateTime) {
+                                setState(() {
+                                  selectedDateStart = currentDateTime;
+                                  _loadNewTransactions();
+                                });
+                                transactionsListPageStateKey.currentState!
+                                    .scrollToTop();
+                              },
                             ),
-                          )
-                        : SizedBox.shrink(),
-                    titleSpacing: 0,
-                    primary: false,
-                    toolbarHeight: 65,
-                    bottom: PreferredSize(
-                      child: Column(
-                        children: [
-                          MonthSelector(
-                            key: monthSelectorStateKey,
-                            selectedDateStart: selectedDateStart,
-                            setSelectedDateStart: (DateTime currentDateTime) {
-                              setState(() {
-                                selectedDateStart = currentDateTime;
-                                _loadNewTransactions();
-                              });
-                              transactionsListPageStateKey.currentState!
-                                  .scrollToTop();
-                            },
-                          ),
-                          SizedBox(
-                            height: 10,
-                          )
-                        ],
+                            SizedBox(
+                              height: 10,
+                            )
+                          ],
+                        ),
+                        preferredSize: Size.fromHeight(0),
                       ),
-                      preferredSize: Size.fromHeight(0),
                     ),
-                  ),
-                  body: PageView(
-                    physics: AlwaysScrollableScrollPhysics(),
-                    controller: _pageController,
-                    onPageChanged: (index) {
-                      if (alreadyChanged) {
-                        alreadyChanged = false;
-                        _pageController.animateToPage(
-                          1,
-                          duration: Duration(milliseconds: 500),
-                          curve: Curves.easeInOutCubicEmphasized,
-                        );
-                      } else {
-                        alreadyChanged = true;
-                        setState(() {
-                          selectedDateStart = DateTime(selectedDateStart.year,
-                              selectedDateStart.month + index - 1);
-                          _loadNewTransactions();
-                        });
-                        _pageController.animateToPage(
-                          1,
-                          duration: Duration(milliseconds: 500),
-                          curve: Curves.easeInOutCubicEmphasized,
-                        );
-                        double middle =
-                            -MediaQuery.of(context).size.width / 2 + 100 / 2;
-                        int difference = (DateTime.now().year -
-                                    selectedDateStart.year) *
-                                12 +
-                            (DateTime.now().month - selectedDateStart.month) +
-                            1;
-                        monthSelectorStateKey.currentState!
-                            .scrollTo(middle - difference * 100 + 100);
-                        transactionsListPageStateKey.currentState!
-                            .scrollToTop();
-                      }
-                    },
-                    children: <Widget>[
-                      appStateSettings["batterySaver"]
-                          ? SizedBox.shrink()
-                          : LoadingShimmer(),
-                      CustomScrollView(
-                        slivers: [
-                          ...transactionWidgets,
-                          SliverToBoxAdapter(
-                            child: CashFlow(
-                              selectedDateStart,
-                              new DateTime(
-                                  selectedDateStart.year,
-                                  selectedDateStart.month + 1,
-                                  selectedDateStart.day - 1),
+                    body: PageView(
+                      physics: AlwaysScrollableScrollPhysics(),
+                      controller: _pageController,
+                      onPageChanged: (index) {
+                        if (alreadyChanged) {
+                          alreadyChanged = false;
+                          _pageController.animateToPage(
+                            1,
+                            duration: Duration(milliseconds: 500),
+                            curve: Curves.easeInOutCubicEmphasized,
+                          );
+                        } else {
+                          alreadyChanged = true;
+                          setState(() {
+                            selectedDateStart = DateTime(selectedDateStart.year,
+                                selectedDateStart.month + index - 1);
+                            _loadNewTransactions();
+                          });
+                          _pageController.animateToPage(
+                            1,
+                            duration: Duration(milliseconds: 500),
+                            curve: Curves.easeInOutCubicEmphasized,
+                          );
+                          double middle =
+                              -MediaQuery.of(context).size.width / 2 + 100 / 2;
+                          int difference = (DateTime.now().year -
+                                      selectedDateStart.year) *
+                                  12 +
+                              (DateTime.now().month - selectedDateStart.month) +
+                              1;
+                          monthSelectorStateKey.currentState!
+                              .scrollTo(middle - difference * 100 + 100);
+                          transactionsListPageStateKey.currentState!
+                              .scrollToTop();
+                        }
+                      },
+                      children: <Widget>[
+                        appStateSettings["batterySaver"]
+                            ? SizedBox.shrink()
+                            : LoadingShimmer(),
+                        CustomScrollView(
+                          slivers: [
+                            ...transactionWidgets,
+                            SliverToBoxAdapter(
+                              child: CashFlow(
+                                selectedDateStart,
+                                new DateTime(
+                                    selectedDateStart.year,
+                                    selectedDateStart.month + 1,
+                                    selectedDateStart.day - 1),
+                              ),
                             ),
-                          ),
-                          // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
-                          SliverToBoxAdapter(
-                            child: Container(
-                                height: 200,
-                                color:
-                                    Theme.of(context).colorScheme.background),
-                          ),
-                        ],
-                      ),
-                      appStateSettings["batterySaver"]
-                          ? SizedBox.shrink()
-                          : LoadingShimmer(),
-                    ],
-                  ),
-                );
-              },
+                            // Wipe all remaining pixels off - sometimes graphics artifacts are left behind
+                            SliverToBoxAdapter(
+                              child: Container(
+                                  height: 200,
+                                  color:
+                                      Theme.of(context).colorScheme.background),
+                            ),
+                          ],
+                        ),
+                        appStateSettings["batterySaver"]
+                            ? SizedBox.shrink()
+                            : LoadingShimmer(),
+                      ],
+                    ),
+                  );
+                },
+              ),
             ),
           ),
-        ),
-        SelectedTransactionsActionBar(
-          pageID: "Transactions",
-        ),
-      ],
+          SelectedTransactionsActionBar(
+            pageID: "Transactions",
+          ),
+        ],
+      ),
     );
   }
 }
diff --git a/budget/lib/widgets/accountAndBackup.dart b/budget/lib/widgets/accountAndBackup.dart
index ed21aa117..f4aa9ae46 100644
--- a/budget/lib/widgets/accountAndBackup.dart
+++ b/budget/lib/widgets/accountAndBackup.dart
@@ -152,19 +152,11 @@ Future<bool> signInGoogle(
     if (waitForCompletion == true) Navigator.of(context).pop();
     openSnackbar(
       SnackbarMessage(
-        title: e.toString(),
+        title: "Sign-in Error",
+        description: "Check your connection and try again",
         icon: Icons.error_rounded,
-        onTap: () async {
-          await signInGoogle(
-              context: context,
-              waitForCompletion: true,
-              drivePermissions: true,
-              next: () {});
-          if (appStateSettings["username"] == "" && user != null) {
-            updateSettings("username", user!.displayName,
-                pagesNeedingRefresh: [0]);
-          }
-        },
+        onTap: () async {},
+        timeout: Duration(milliseconds: 1400),
       ),
     );
     throw ("Error signing in");
@@ -233,7 +225,7 @@ Future<void> createBackup(context,
   // Backup user settings
   try {
     if (silentBackup == false || silentBackup == null) {
-      openLoadingPopup(context);
+      loadingIndeterminateKey.currentState!.setVisibility(true);
     }
     final prefs = await SharedPreferences.getInstance();
     String userSettings = prefs.getString('userSettings') ?? "";
@@ -299,11 +291,11 @@ Future<void> createBackup(context,
         pagesNeedingRefresh: [], updateGlobalState: false);
 
     if (silentBackup == false || silentBackup == null) {
-      Navigator.of(context).pop();
+      loadingIndeterminateKey.currentState!.setVisibility(false);
     }
   } catch (e) {
     if (silentBackup == false || silentBackup == null) {
-      Navigator.of(context).pop();
+      loadingIndeterminateKey.currentState!.setVisibility(false);
     }
     openSnackbar(
       SnackbarMessage(title: e.toString(), icon: Icons.error_rounded),
@@ -315,7 +307,7 @@ Future<void> deleteRecentBackups(context, amountToKeep,
     {bool? silentDelete}) async {
   try {
     if (silentDelete == false || silentDelete == null) {
-      openLoadingPopup(context);
+      loadingIndeterminateKey.currentState!.setVisibility(true);
     }
 
     final authHeaders = await user!.authHeaders;
@@ -341,11 +333,11 @@ Future<void> deleteRecentBackups(context, amountToKeep,
       index++;
     });
     if (silentDelete == false || silentDelete == null) {
-      Navigator.of(context).pop();
+      loadingIndeterminateKey.currentState!.setVisibility(false);
     }
   } catch (e) {
     if (silentDelete == false || silentDelete == null) {
-      Navigator.of(context).pop();
+      loadingIndeterminateKey.currentState!.setVisibility(false);
     }
     openSnackbar(
       SnackbarMessage(title: e.toString(), icon: Icons.error_rounded),
@@ -1182,7 +1174,9 @@ class _BackupManagementState extends State<BackupManagement> {
                                                                 true),
                                                     onSubmit: () async {
                                                       Navigator.pop(context);
-                                                      openLoadingPopup(context);
+                                                      loadingIndeterminateKey
+                                                          .currentState!
+                                                          .setVisibility(true);
                                                       await deleteBackup(
                                                           driveApiState!,
                                                           file.value.id ?? "");
@@ -1203,7 +1197,9 @@ class _BackupManagementState extends State<BackupManagement> {
                                                       });
                                                       // bottomSheetControllerGlobal
                                                       //     .snapToExtent(0);
-                                                      Navigator.pop(context);
+                                                      loadingIndeterminateKey
+                                                          .currentState!
+                                                          .setVisibility(false);
                                                     },
                                                     onSubmitLabel: "Delete",
                                                     onCancel: () {
diff --git a/budget/lib/widgets/animatedCircularProgress.dart b/budget/lib/widgets/animatedCircularProgress.dart
index 6da5b50ff..6c0bd8c11 100644
--- a/budget/lib/widgets/animatedCircularProgress.dart
+++ b/budget/lib/widgets/animatedCircularProgress.dart
@@ -2,6 +2,7 @@ import 'dart:math';
 
 import 'package:budget/colors.dart';
 import 'package:flutter/material.dart';
+import 'package:flutter/physics.dart';
 
 class AnimatedCircularProgress extends StatefulWidget {
   final double percent;
diff --git a/budget/lib/widgets/barGraph.dart b/budget/lib/widgets/barGraph.dart
index a45fa1403..4e5d25b9e 100644
--- a/budget/lib/widgets/barGraph.dart
+++ b/budget/lib/widgets/barGraph.dart
@@ -1,11 +1,14 @@
 import 'package:budget/colors.dart';
+import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:fl_chart/fl_chart.dart';
 import 'package:flutter/material.dart';
 import 'package:googleapis/admob/v1.dart';
+import 'package:intl/intl.dart';
 
 class BarGraph extends StatefulWidget {
   BarGraph({
+    required this.budget,
     required this.color,
     required this.dateRanges,
     required this.bars,
@@ -19,6 +22,7 @@ class BarGraph extends StatefulWidget {
   final List<DateTimeRange> dateRanges;
   final List<BarChartGroupData> bars;
   final List<BarChartGroupData> initialBars;
+  final Budget budget;
 
   final double? horizontalLineAt;
   final double maxY;
@@ -46,7 +50,6 @@ class BarGraphState extends State<BarGraph> {
       padding: const EdgeInsets.only(
         left: 10,
         right: 30,
-        bottom: 10,
         top: 5,
       ),
       child: Container(
@@ -115,11 +118,14 @@ class BarGraphState extends State<BarGraph> {
                 },
                 margin: 7,
                 getTitles: (value) {
-                  return getWordedDateShort(
-                    widget.dateRanges[value.toInt()].start,
-                    showTodayTomorrow: false,
-                    newLineDay: true,
-                  );
+                  return widget.budget.reoccurrence == BudgetReoccurence.monthly
+                      ? DateFormat('MMM')
+                          .format(widget.dateRanges[value.toInt()].start)
+                      : widget.budget.reoccurrence == BudgetReoccurence.yearly
+                          ? DateFormat('yyyy')
+                              .format(widget.dateRanges[value.toInt()].start)
+                          : DateFormat('MMM\nd')
+                              .format(widget.dateRanges[value.toInt()].start);
                 },
               ),
               rightTitles: SideTitles(showTitles: false),
diff --git a/budget/lib/widgets/budgetContainer.dart b/budget/lib/widgets/budgetContainer.dart
index 6ae2d18e8..ce0f90f7a 100644
--- a/budget/lib/widgets/budgetContainer.dart
+++ b/budget/lib/widgets/budgetContainer.dart
@@ -30,6 +30,7 @@ class BudgetContainer extends StatelessWidget {
     this.dateForRange,
     this.isPastBudget = false,
     this.isPastBudgetButCurrentPeriod = false,
+    this.longPressToEdit = true,
   }) : super(key: key);
 
   final Budget budget;
@@ -39,6 +40,7 @@ class BudgetContainer extends StatelessWidget {
   final DateTime? dateForRange;
   final bool? isPastBudget;
   final bool? isPastBudgetButCurrentPeriod;
+  final bool longPressToEdit;
 
   @override
   Widget build(BuildContext context) {
@@ -378,8 +380,10 @@ class BudgetContainer extends StatelessWidget {
                                     ? SizedBox.shrink()
                                     : ButtonIcon(
                                         onTap: () {
-                                          pushRoute(context,
-                                              PastBudgetsPage(budget: budget),
+                                          pushRoute(
+                                              context,
+                                              PastBudgetsPage(
+                                                  budgetPk: budget.budgetPk),
                                               fancyRoute: true);
                                         },
                                         icon: Icons.history_rounded,
@@ -459,22 +463,24 @@ class BudgetContainer extends StatelessWidget {
             onTap: () {
               openContainer();
             },
-            onLongPress: () {
-              pushRoute(
-                context,
-                AddBudgetPage(
-                  title: "Edit Budget",
-                  budget: budget,
-                ),
-              );
-            },
+            onLongPress: longPressToEdit
+                ? () {
+                    pushRoute(
+                      context,
+                      AddBudgetPage(
+                        title: "Edit Budget",
+                        budget: budget,
+                      ),
+                    );
+                  }
+                : null,
             borderRadius: 20,
             child: widget,
             color: Theme.of(context).colorScheme.lightDarkAccentHeavyLight,
           );
         },
         openPage: BudgetPage(
-          budget: budget,
+          budgetPk: budget.budgetPk,
           dateForRange: dateForRangeLocal,
           isPastBudget: isPastBudget,
           isPastBudgetButCurrentPeriod: isPastBudgetButCurrentPeriod,
@@ -1077,7 +1083,11 @@ class _BudgetSpenderSummaryState extends State<BudgetSpenderSummary> {
                             ? 0
                             : spender.amount / totalSpent * 100,
                         progressBackgroundColor:
-                            Theme.of(context).colorScheme.lightDarkAccentHeavy,
+                            selectedMember == spender.member
+                                ? Theme.of(context).colorScheme.white
+                                : Theme.of(context)
+                                    .colorScheme
+                                    .lightDarkAccentHeavy,
                         color: widget.budgetColorScheme.primary,
                       ),
                       Container(
@@ -1199,6 +1209,13 @@ class MemberSpendingPercent extends StatelessWidget {
           text: displayLetter,
           fontWeight: FontWeight.bold,
           fontSize: 25,
+          textColor: dynamicPastel(
+            context,
+            Theme.of(context).colorScheme.primary,
+            amount: 0.4,
+            amountLight: 0.7,
+            inverse: true,
+          ),
         ),
       ),
       AnimatedSwitcher(
diff --git a/budget/lib/widgets/editRowEntry.dart b/budget/lib/widgets/editRowEntry.dart
index 2e8868e45..a243358b0 100644
--- a/budget/lib/widgets/editRowEntry.dart
+++ b/budget/lib/widgets/editRowEntry.dart
@@ -121,10 +121,9 @@ class EditRowEntry extends StatelessWidget {
         child: container,
       );
     }
-    return AnimatedScale(
-      duration: Duration(milliseconds: 800),
-      curve: Curves.elasticOut,
-      scale: currentReorder ? 0.95 : 1,
+    return AnimatedOpacity(
+      duration: Duration(milliseconds: 200),
+      opacity: currentReorder ? 0.6 : 1,
       child: Padding(
         padding: EdgeInsets.symmetric(horizontal: 10, vertical: 5),
         child: ReorderableDelayedDragStartListener(
diff --git a/budget/lib/widgets/fab.dart b/budget/lib/widgets/fab.dart
index 8282756e8..d1499cc00 100644
--- a/budget/lib/widgets/fab.dart
+++ b/budget/lib/widgets/fab.dart
@@ -58,9 +58,7 @@ class OpenTestPage extends StatelessWidget {
         title: Text('Test page'),
       ),
       body: GestureDetector(
-        onDoubleTap: () {
-          print("hello");
-        },
+        onDoubleTap: () {},
         onPanUpdate: (details) {
           if (details.delta.dy > 10 || details.delta.dx > 10) {
             Navigator.of(context).pop();
diff --git a/budget/lib/widgets/fadeIn.dart b/budget/lib/widgets/fadeIn.dart
index 15ec2099f..782acffbc 100644
--- a/budget/lib/widgets/fadeIn.dart
+++ b/budget/lib/widgets/fadeIn.dart
@@ -359,18 +359,26 @@ class ShakeAnimation extends StatefulWidget {
 
 class _ShakeAnimationState extends State<ShakeAnimation> {
   bool startAnimation = false;
+  Future? _future;
   @override
   void initState() {
     if (widget.delay != null) {
-      Future.delayed(widget.delay!, () {
-        setState(() {
-          startAnimation = true;
-        });
+      _future = Future.delayed(widget.delay!, () {
+        if (mounted)
+          setState(() {
+            startAnimation = true;
+          });
       });
     }
     super.initState();
   }
 
+  @override
+  void dispose() {
+    _future = null;
+    super.dispose();
+  }
+
   double shakeAnimation(double animation) =>
       0.3 * (0.5 - (0.5 - widget.curve.transform(animation)).abs());
 
diff --git a/budget/lib/widgets/globalLoadingProgress.dart b/budget/lib/widgets/globalLoadingProgress.dart
index e11ad3532..b8aba6ffd 100644
--- a/budget/lib/widgets/globalLoadingProgress.dart
+++ b/budget/lib/widgets/globalLoadingProgress.dart
@@ -1,3 +1,4 @@
+import 'package:budget/colors.dart';
 import 'package:flutter/material.dart';
 
 class GlobalLoadingProgress extends StatefulWidget {
@@ -26,6 +27,46 @@ class GlobalLoadingProgressState extends State<GlobalLoadingProgress> {
         curve: Curves.easeInOut,
         height: progressPercentage <= 0 || progressPercentage >= 1 ? 0 : 3,
         width: MediaQuery.of(context).size.width * progressPercentage,
+        decoration: BoxDecoration(
+          color: dynamicPastel(context, Theme.of(context).colorScheme.primary,
+              amount: 0.5),
+          borderRadius: BorderRadius.only(
+            bottomRight: Radius.circular(5),
+            topRight: Radius.circular(5),
+          ),
+        ),
+      ),
+    );
+  }
+}
+
+class GlobalLoadingIndeterminate extends StatefulWidget {
+  const GlobalLoadingIndeterminate({
+    Key? key,
+  }) : super(key: key);
+
+  @override
+  State<GlobalLoadingIndeterminate> createState() =>
+      GlobalLoadingIndeterminateState();
+}
+
+class GlobalLoadingIndeterminateState
+    extends State<GlobalLoadingIndeterminate> {
+  bool visible = false;
+  void setVisibility(bool visiblePassed) {
+    setState(() {
+      visible = visiblePassed;
+    });
+  }
+
+  @override
+  Widget build(BuildContext context) {
+    return Align(
+      alignment: Alignment.bottomLeft,
+      child: AnimatedContainer(
+        duration: Duration(milliseconds: 300),
+        curve: Curves.easeInOut,
+        height: !visible ? 0 : 3,
         decoration: BoxDecoration(
           color: Theme.of(context).colorScheme.primaryContainer,
           borderRadius: BorderRadius.only(
@@ -33,6 +74,12 @@ class GlobalLoadingProgressState extends State<GlobalLoadingProgress> {
             topRight: Radius.circular(5),
           ),
         ),
+        child: LinearProgressIndicator(
+          color: dynamicPastel(context, Theme.of(context).colorScheme.primary,
+              amount: 0.5),
+          backgroundColor: Theme.of(context).colorScheme.white,
+          minHeight: 3,
+        ),
       ),
     );
   }
diff --git a/budget/lib/widgets/navigationFramework.dart b/budget/lib/widgets/navigationFramework.dart
index 8cf46204f..5d6b2333b 100644
--- a/budget/lib/widgets/navigationFramework.dart
+++ b/budget/lib/widgets/navigationFramework.dart
@@ -54,6 +54,8 @@ GlobalKey<BudgetsListPageState> budgetsListPageStateKey = GlobalKey();
 GlobalKey<SettingsPageState> settingsPageStateKey = GlobalKey();
 GlobalKey<BottomNavBarState> navbarStateKey = GlobalKey();
 GlobalKey<GlobalLoadingProgressState> loadingProgressKey = GlobalKey();
+GlobalKey<GlobalLoadingIndeterminateState> loadingIndeterminateKey =
+    GlobalKey();
 GlobalKey<GlobalSnackbarState> snackbarKey = GlobalKey();
 
 class PageNavigationFrameworkState extends State<PageNavigationFramework> {
@@ -95,11 +97,13 @@ class PageNavigationFrameworkState extends State<PageNavigationFramework> {
       await setDailyNotificationOnLaunch(context);
       await setUpcomingNotifications(context);
       await parseEmailsInBackground(context);
+      loadingIndeterminateKey.currentState!.setVisibility(true);
       await createBackupInBackground(context);
       if (appStateSettings["currentUserEmail"] != "") {
         await syncPendingQueueOnServer(); //sync before download
         await getCloudCategories();
       }
+      loadingIndeterminateKey.currentState!.setVisibility(false);
       entireAppLoaded = true;
     });
 
diff --git a/budget/lib/widgets/pieChart.dart b/budget/lib/widgets/pieChart.dart
index 791ce69ae..4215473e1 100644
--- a/budget/lib/widgets/pieChart.dart
+++ b/budget/lib/widgets/pieChart.dart
@@ -75,23 +75,23 @@ class PieChartWrapper extends StatelessWidget {
           IgnorePointer(
             child: Center(
               child: Container(
-                width: 80,
-                height: 80,
+                width: 105,
+                height: 105,
                 decoration: BoxDecoration(
-                    color: Theme.of(context).colorScheme.background,
-                    shape: BoxShape.circle),
+                  color: Theme.of(context).colorScheme.white.withOpacity(0.2),
+                  shape: BoxShape.circle,
+                ),
               ),
             ),
           ),
           IgnorePointer(
             child: Center(
               child: Container(
-                width: 105,
-                height: 105,
+                width: 80,
+                height: 80,
                 decoration: BoxDecoration(
-                  color: Theme.of(context).colorScheme.white.withOpacity(0.2),
-                  shape: BoxShape.circle,
-                ),
+                    color: Theme.of(context).colorScheme.background,
+                    shape: BoxShape.circle),
               ),
             ),
           ),
diff --git a/budget/lib/widgets/showChangelog.dart b/budget/lib/widgets/showChangelog.dart
index 7aea69a2b..fd9580535 100644
--- a/budget/lib/widgets/showChangelog.dart
+++ b/budget/lib/widgets/showChangelog.dart
@@ -7,6 +7,18 @@ import 'package:flutter/material.dart';
 
 Future<void> showChangelog(context, {forceShow: false}) async {
   String changelog = """
+    Fixed memory leak for shake animation
+    Prevented spamming of export to drive
+    Completed past budgets page
+    Budget edits and changes are now watched on budget page 
+    Added edit budget icon on budget page
+    Added delete category, transaction, wallet button when on editing page
+    Changed reorder animation to opacity instead of scale down
+    Past budget bar graph labels correspond to budget time period
+    Swipe down on home page/transaction page to refresh cloud transaction
+    Fixed changing upcoming transaction to default transaction type - marks it as paid
+    Fixed background of circular progress when selecting shared transaction member on budget page
+    Added new global loading indeterminate progress bar
     Started changing past budgets page
     Fixed discard changes popup when editing shared properties
     Added share action on category page
diff --git a/budget/lib/widgets/transactionEntry.dart b/budget/lib/widgets/transactionEntry.dart
index 6bca779d2..ee5c6b7e1 100644
--- a/budget/lib/widgets/transactionEntry.dart
+++ b/budget/lib/widgets/transactionEntry.dart
@@ -573,7 +573,7 @@ class TransactionEntry extends StatelessWidget {
                                 padding: const EdgeInsets.symmetric(
                                     horizontal: 7, vertical: 10),
                                 child: Icon(
-                                  Icons.edit_note_rounded,
+                                  Icons.sticky_note_2_rounded,
                                   size: 22,
                                   color: iconColor,
                                 ),
