diff --git a/budget/lib/database/tables.dart b/budget/lib/database/tables.dart
index fb5b557c5..f32aa9080 100644
--- a/budget/lib/database/tables.dart
+++ b/budget/lib/database/tables.dart
@@ -4,6 +4,7 @@ import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
 import 'package:budget/pages/addBudgetPage.dart';
 import 'package:budget/pages/editBudgetPage.dart';
+import 'package:budget/pages/transactionsSearchPage.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/firebaseAuthGlobal.dart';
 import 'package:budget/struct/settings.dart';
@@ -17,6 +18,8 @@ import 'package:async/async.dart';
 import 'package:drift/drift.dart';
 export 'platform/shared.dart';
 import 'dart:convert';
+
+import 'package:flutter/material.dart' show RangeValues;
 part 'tables.g.dart';
 
 int schemaVersionGlobal = 36;
@@ -48,6 +51,17 @@ enum SharedOwnerMember {
   member,
 }
 
+enum ExpenseIncome {
+  income,
+  expense,
+}
+
+enum PaidStatus {
+  paid,
+  notPaid,
+  skipped,
+}
+
 enum BudgetTransactionFilters {
   addedToOtherBudget,
   sharedToOtherBudget,
@@ -630,67 +644,32 @@ class FinanceDatabase extends _$FinanceDatabase {
     required List<String>? memberTransactionFilters,
     String? member,
     int? onlyShowTransactionsBelongingToBudget,
+    SearchFilters? searchFilters,
   }) {
     JoinedSelectStatement<HasResultSet, dynamic> query;
-    if (categoryFks.length > 0) {
-      query = (select(transactions)
-            ..where((tbl) {
-              final dateCreated = tbl.dateCreated;
-              return onlyShowIfFollowsFilters(tbl,
-                      budgetTransactionFilters: budgetTransactionFilters,
-                      memberTransactionFilters: memberTransactionFilters) &
-                  isOnDay(dateCreated, date) &
-                  onlyShowBasedOnCategoryFks(tbl, categoryFks) &
-                  onlyShowBasedOnWalletFks(tbl, walletFks) &
-                  onlyShowBasedOnIncome(tbl, income) &
-                  onlyShowIfMember(tbl, member) &
-                  onlyShowIfCertainBudget(
-                      tbl, onlyShowTransactionsBelongingToBudget);
-            })
-          // ..orderBy([(t) => OrderingTerm.asc(t.dateTimeCreated)])
-          )
-          .join([
-        innerJoin(categories,
-            categories.categoryPk.equalsExp(transactions.categoryFk))
-      ]);
-    } else if (search == "") {
-      query = (select(transactions)
-            ..where((tbl) {
-              final dateCreated = tbl.dateCreated;
-              return onlyShowIfFollowsFilters(tbl,
-                      budgetTransactionFilters: budgetTransactionFilters,
-                      memberTransactionFilters: memberTransactionFilters) &
-                  isOnDay(dateCreated, date) &
-                  onlyShowBasedOnIncome(tbl, income) &
-                  onlyShowIfMember(tbl, member) &
-                  onlyShowIfCertainBudget(
-                      tbl, onlyShowTransactionsBelongingToBudget);
-            })
-          // ..orderBy([(t) => OrderingTerm.asc(t.dateTimeCreated)])
-          )
-          .join([
-        innerJoin(categories,
-            categories.categoryPk.equalsExp(transactions.categoryFk))
-      ]);
-    } else {
-      query = ((select(transactions)
-            ..where((tbl) {
-              final dateCreated = tbl.dateCreated;
-              return onlyShowIfFollowsFilters(tbl,
-                      budgetTransactionFilters: budgetTransactionFilters,
-                      memberTransactionFilters: memberTransactionFilters) &
-                  isOnDay(dateCreated, date) &
-                  onlyShowBasedOnIncome(tbl, income) &
-                  onlyShowIfMember(tbl, member) &
-                  onlyShowIfCertainBudget(
-                      tbl, onlyShowTransactionsBelongingToBudget);
-            })
-          // ..orderBy([(t) => OrderingTerm.asc(t.dateTimeCreated)])
-          )
-          .join([
-        innerJoin(categories,
-            categories.categoryPk.equalsExp(transactions.categoryFk))
-      ]))
+    query = (select(transactions)
+          ..where((tbl) {
+            final dateCreated = tbl.dateCreated;
+            return onlyShowIfFollowsSearchFilters(tbl, searchFilters) &
+                onlyShowIfFollowsFilters(tbl,
+                    budgetTransactionFilters: budgetTransactionFilters,
+                    memberTransactionFilters: memberTransactionFilters) &
+                isOnDay(dateCreated, date) &
+                onlyShowBasedOnCategoryFks(tbl, categoryFks) &
+                onlyShowBasedOnWalletFks(tbl, walletFks) &
+                onlyShowBasedOnIncome(tbl, income) &
+                onlyShowIfMember(tbl, member) &
+                onlyShowIfCertainBudget(
+                    tbl, onlyShowTransactionsBelongingToBudget);
+          })
+        // ..orderBy([(t) => OrderingTerm.asc(t.dateTimeCreated)])
+        )
+        .join([
+      innerJoin(
+          categories, categories.categoryPk.equalsExp(transactions.categoryFk))
+    ]);
+    if (search != "") {
+      query = query
         ..where(categories.name.lower().like("%" + search.toLowerCase() + "%") |
             transactions.name.lower().like("%" + search.toLowerCase() + "%") |
             transactions.note.lower().like("%" + search.toLowerCase() + "%"));
@@ -711,6 +690,17 @@ class FinanceDatabase extends _$FinanceDatabase {
             .subtract(Duration(microseconds: 1)));
   }
 
+  Stream<RangeValues> getHighestLowestAmount(SearchFilters searchFilters) {
+    final max = transactions.amount.max();
+    final min = transactions.amount.min();
+    final query = selectOnly(transactions)
+      ..where(onlyShowIfFollowsSearchFilters(transactions, searchFilters))
+      ..addColumns([max, min]);
+    return query
+        .map((row) => RangeValues(row.read(min) ?? 0, row.read(max) ?? 0))
+        .watchSingle();
+  }
+
   Stream<List<DateTime?>> getUniqueDates({
     required DateTime? start,
     required DateTime? end,
@@ -725,6 +715,7 @@ class FinanceDatabase extends _$FinanceDatabase {
     int? onlyShowTransactionsBelongingToBudget,
     Budget? budget,
     int? limit,
+    SearchFilters? searchFilters,
   }) {
     DateTime? startDate =
         start == null ? null : DateTime(start.year, start.month, start.day);
@@ -741,6 +732,7 @@ class FinanceDatabase extends _$FinanceDatabase {
           : [OrderingTerm.desc(transactions.dateCreated)])
       ..where((categories.name.lower().like("%" + search.toLowerCase() + "%") |
               transactions.name.like("%" + search + "%")) &
+          onlyShowIfFollowsSearchFilters(transactions, searchFilters) &
           onlyShowIfFollowsFilters(transactions,
               budgetTransactionFilters: budgetTransactionFilters,
               memberTransactionFilters: memberTransactionFilters) &
@@ -2789,6 +2781,115 @@ class FinanceDatabase extends _$FinanceDatabase {
     return totalDoubleStream(mergedStreams);
   }
 
+  Expression<bool> onlyShowIfFollowsSearchFilters(
+      $TransactionsTable tbl, SearchFilters? searchFilters) {
+    if (searchFilters == null) return Constant(true);
+
+    Expression<bool> isInWalletPks =
+        onlyShowBasedOnWalletFks(tbl, searchFilters.walletPks);
+    Expression<bool> isInCategoryPks =
+        onlyShowBasedOnCategoryFks(tbl, searchFilters.categoryPks);
+    Expression<bool> isInBudgetPks =
+        onlyShowBasedOnBudgetFks(tbl, searchFilters.budgetPks);
+
+    Expression<bool> isIncome = searchFilters.expenseIncome.length <= 0
+        ? Constant(true)
+        : searchFilters.expenseIncome.contains(ExpenseIncome.income)
+            ? tbl.income.equals(true)
+            : Constant(false);
+    Expression<bool> isExpense = searchFilters.expenseIncome.length <= 0
+        ? Constant(true)
+        : searchFilters.expenseIncome.contains(ExpenseIncome.expense)
+            ? tbl.income.equals(false)
+            : Constant(false);
+
+    Expression<bool> isPaid = searchFilters.paidStatus.length <= 0
+        ? Constant(true)
+        : searchFilters.paidStatus.contains(PaidStatus.paid)
+            ? tbl.paid.equals(true) &
+                tbl.type.isNotNull() &
+                tbl.type.isNotInValues([
+                  TransactionSpecialType.debt,
+                  TransactionSpecialType.credit
+                ])
+            : Constant(false);
+    Expression<bool> isNotPaid = searchFilters.paidStatus.length <= 0
+        ? Constant(true)
+        : searchFilters.paidStatus.contains(PaidStatus.notPaid)
+            ? tbl.paid.equals(false) &
+                tbl.type.isNotNull() &
+                tbl.type.isNotInValues([
+                  TransactionSpecialType.debt,
+                  TransactionSpecialType.credit
+                ])
+            : Constant(false);
+    Expression<bool> isSkippedPaid = searchFilters.paidStatus.length <= 0
+        ? Constant(true)
+        : searchFilters.paidStatus.contains(PaidStatus.skipped)
+            ? tbl.skipPaid.equals(true) & tbl.type.isNotNull()
+            : Constant(false);
+
+    Expression<bool> isTransactionType =
+        searchFilters.transactionTypes.length > 0
+            ? tbl.type.isInValues(searchFilters.transactionTypes)
+            : Constant(true);
+
+    Expression<bool> includeShared =
+        searchFilters.budgetTransactionFilters.length <= 0
+            ? Constant(true)
+            : searchFilters.budgetTransactionFilters.contains(
+                        BudgetTransactionFilters.sharedToOtherBudget) ==
+                    true
+                ? tbl.sharedKey.isNotNull()
+                : Constant(false);
+    Expression<bool> includeAdded = searchFilters
+                .budgetTransactionFilters.length <=
+            0
+        ? Constant(true)
+        : searchFilters.budgetTransactionFilters
+                    .contains(BudgetTransactionFilters.addedToOtherBudget) ==
+                true
+            ? tbl.sharedReferenceBudgetPk.isNotNull() & tbl.sharedKey.isNull()
+            : Constant(false);
+
+    Expression<bool> isMethodAdded =
+        onlyShowBasedOnMethodAdded(tbl, searchFilters.methodAdded);
+
+    Expression<bool> isInAmountRange = searchFilters.amountRange != null
+        ? tbl.amount.isBetweenValues(searchFilters.amountRange?.start ?? 0,
+            searchFilters.amountRange?.end ?? 0)
+        : Constant(true);
+
+    Expression<bool> isInDateTimeRange = onlyShowBasedOnTimeRange(
+        transactions,
+        searchFilters.dateTimeRange?.start,
+        searchFilters.dateTimeRange?.end,
+        null);
+
+    String searchQuery = searchFilters.searchQuery ?? "";
+    Expression<bool> isInQuery = searchQuery == ""
+        ? Constant(true)
+        : (categories.name.lower().like("%" + searchQuery.toLowerCase() + "%") |
+            transactions.name
+                .lower()
+                .like("%" + searchQuery.toLowerCase() + "%") |
+            transactions.note
+                .lower()
+                .like("%" + searchQuery.toLowerCase() + "%"));
+
+    return isInWalletPks &
+        isInCategoryPks &
+        isInBudgetPks &
+        isInQuery &
+        (isIncome | isExpense) &
+        (isPaid | isNotPaid | isSkippedPaid) &
+        isInDateTimeRange &
+        isTransactionType &
+        (includeShared | includeAdded) &
+        isInAmountRange &
+        isMethodAdded;
+  }
+
   Expression<bool> onlyShowIfFollowsFilters($TransactionsTable tbl,
       {List<BudgetTransactionFilters>? budgetTransactionFilters,
       List<String>? memberTransactionFilters}) {
@@ -2944,19 +3045,40 @@ class FinanceDatabase extends _$FinanceDatabase {
   }
 
   Expression<bool> onlyShowBasedOnCategoryFks(
-      $TransactionsTable tbl, List<int> categoryFks) {
-    return (categoryFks.length >= 1
+      $TransactionsTable tbl, List<int>? categoryFks) {
+    return (categoryFks != null && categoryFks.length > 0
         ? tbl.categoryFk.isIn(categoryFks)
         : Constant(true));
   }
 
   Expression<bool> onlyShowBasedOnWalletFks(
       $TransactionsTable tbl, List<int>? walletFks) {
-    return (walletFks != null && walletFks.length >= 1
+    return (walletFks != null && walletFks.length > 0
         ? tbl.walletFk.isIn(walletFks)
         : Constant(true));
   }
 
+  Expression<bool> onlyShowBasedOnMethodAdded(
+      $TransactionsTable tbl, List<MethodAdded>? methodAdded) {
+    return (methodAdded != null && methodAdded.length > 0
+        ? tbl.methodAdded.isInValues(methodAdded)
+        : Constant(true));
+  }
+
+  Expression<bool> onlyShowBasedOnBudgetFks(
+      $TransactionsTable tbl, List<int?>? budgetFks) {
+    return budgetFks != null && budgetFks.contains(null) && budgetFks.length > 1
+        ? tbl.sharedReferenceBudgetPk
+                .isIn(budgetFks.map((value) => value ?? 0).toList()) |
+            tbl.sharedReferenceBudgetPk.isNull()
+        : (budgetFks ?? []).contains(null)
+            ? tbl.sharedReferenceBudgetPk.isNull()
+            : (budgetFks != null && budgetFks.length > 0
+                ? tbl.sharedReferenceBudgetPk
+                    .isIn(budgetFks.map((value) => value ?? 0).toList())
+                : Constant(true));
+  }
+
   // Start date is in the past
   // End date is in the future
   // Start -> End
diff --git a/budget/lib/pages/debugPage.dart b/budget/lib/pages/debugPage.dart
index e0d69b05f..f50aa71a1 100644
--- a/budget/lib/pages/debugPage.dart
+++ b/budget/lib/pages/debugPage.dart
@@ -163,16 +163,6 @@ class DebugPage extends StatelessWidget {
           initialValue: appStateSettings["incognitoKeyboard"],
           icon: Icons.keyboard_rounded,
         ),
-        SettingsContainerSwitch(
-          onSwitched: (value) async {
-            updateSettings("searchFilters", value,
-                pagesNeedingRefresh: [0, 1, 2, 3]);
-          },
-          title: "Search Filters",
-          description: "Filters for search. Work in progress",
-          initialValue: appStateSettings["searchFilters"],
-          icon: Icons.filter_rounded,
-        ),
         Padding(
           padding: const EdgeInsets.only(top: 8.0, left: 13, right: 13),
           child: TextFont(text: "Animation Scale"),
diff --git a/budget/lib/pages/transactionsListPage.dart b/budget/lib/pages/transactionsListPage.dart
index 5d0445b32..e4ddcf680 100644
--- a/budget/lib/pages/transactionsListPage.dart
+++ b/budget/lib/pages/transactionsListPage.dart
@@ -51,6 +51,7 @@ Widget getTransactionsSlivers(
   ColorScheme? colorScheme,
   bool noSearchResultsVariation = false,
   String noResultsMessage = "No transactions within time range.",
+  SearchFilters? searchFilters,
 }) {
   Random random = new Random();
   return StreamBuilder<List<DateTime?>>(
@@ -68,6 +69,7 @@ Widget getTransactionsSlivers(
           onlyShowTransactionsBelongingToBudget,
       budget: budget,
       limit: limit,
+      searchFilters: searchFilters,
     ),
     builder: (context, snapshot) {
       if (snapshot.hasData) {
@@ -118,6 +120,7 @@ Widget getTransactionsSlivers(
                 member: member,
                 onlyShowTransactionsBelongingToBudget:
                     onlyShowTransactionsBelongingToBudget,
+                searchFilters: searchFilters,
               ),
               builder: (context, snapshot) {
                 if (snapshot.data != null && snapshot.hasData) {
diff --git a/budget/lib/pages/transactionsSearchPage.dart b/budget/lib/pages/transactionsSearchPage.dart
index 33926171c..58ba64d2f 100644
--- a/budget/lib/pages/transactionsSearchPage.dart
+++ b/budget/lib/pages/transactionsSearchPage.dart
@@ -1,7 +1,10 @@
+import 'dart:developer';
+
 import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
 import 'package:budget/pages/addTransactionPage.dart';
+import 'package:budget/pages/pastBudgetsPage.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/fab.dart';
 import 'package:budget/widgets/fadeIn.dart';
@@ -34,57 +37,24 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
     with TickerProviderStateMixin {
   void refreshState() {
     setState(() {});
-    searchTransaction("");
   }
 
-  DateTime selectedStartDate = DateTime(
-      DateTime.now().year, DateTime.now().month - 6, DateTime.now().day);
-  DateTime selectedEndDate = DateTime.now();
-
-  late Widget transactionWidgets;
   late AnimationController _animationControllerSearch;
-  late List<int> selectedTransactionIDs = [];
-  bool? selectedIncome;
-  String selectedSearch = "";
-
-  onSelected(Transaction transaction, bool selected) {
-    // print(transaction.transactionPk.toString() + " selected!");
-    // print(globalSelectedID["Transactions"]);
-  }
+  final _debouncer = Debouncer(milliseconds: 500);
+  SearchFilters searchFilters = SearchFilters(
+    dateTimeRange: DateTimeRange(
+      start: DateTime(
+          DateTime.now().year, DateTime.now().month - 6, DateTime.now().day),
+      end: DateTime.now(),
+    ),
+  );
 
   @override
   void initState() {
     super.initState();
-    transactionWidgets = getTransactionsSlivers(
-      selectedStartDate,
-      selectedEndDate,
-      onSelected: onSelected,
-      listID: "TransactionsSearch",
-      simpleListRender: true,
-      noResultsMessage: "No transactions found.",
-      noSearchResultsVariation: true,
-    );
     _animationControllerSearch = AnimationController(vsync: this, value: 1);
   }
 
-  searchTransaction(String? search, {bool? income}) {
-    setState(() {
-      selectedSearch = search ?? "";
-      selectedIncome = income;
-      transactionWidgets = getTransactionsSlivers(
-        selectedStartDate,
-        selectedEndDate,
-        search: search,
-        onSelected: onSelected,
-        listID: "TransactionsSearch",
-        income: income,
-        simpleListRender: true,
-        noResultsMessage: "No transactions found.",
-        noSearchResultsVariation: true,
-      );
-    });
-  }
-
   _scrollListener(position) {
     double percent = position / (MediaQuery.of(context).padding.top + 65 + 50);
     if (percent >= 0 && percent <= 1) {
@@ -93,19 +63,24 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
   }
 
   Future<void> selectFilters(BuildContext context) async {
-    List<Budget> allSharedBudgets = [];
-    List<Budget> allAddedTransactionBudgets = [];
-    allSharedBudgets = await database.getAllBudgets(sharedBudgetsOnly: true);
-    allAddedTransactionBudgets =
-        await database.getAllBudgetsAddedTransactionsOnly();
-    openBottomSheet(
+    await openBottomSheet(
       context,
       PopupFramework(
         title: "Filters",
         padding: false,
-        child: TransactionFiltersSelection(),
+        child: TransactionFiltersSelection(
+          setSearchFilters: setSearchFilters,
+          searchFilters: searchFilters,
+        ),
       ),
     );
+    Future.delayed(Duration(milliseconds: 250), () {
+      setState(() {});
+    });
+  }
+
+  void setSearchFilters(SearchFilters searchFilters) {
+    this.searchFilters = searchFilters;
   }
 
   Future<void> selectDateRange(BuildContext context) async {
@@ -113,10 +88,7 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
       context: context,
       firstDate: DateTime(DateTime.now().year - 10),
       lastDate: DateTime(DateTime.now().year + 2),
-      initialDateRange: DateTimeRange(
-        start: selectedStartDate,
-        end: selectedEndDate,
-      ),
+      initialDateRange: searchFilters.dateTimeRange,
       builder: (BuildContext context, Widget? child) {
         if (appStateSettings["materialYou"]) return child ?? SizedBox.shrink();
         return Theme(
@@ -140,11 +112,10 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
       },
       initialEntryMode: DatePickerEntryMode.input,
     );
-    setState(() {
-      selectedStartDate = picked!.start;
-      selectedEndDate = picked.end;
-    });
-    searchTransaction("", income: selectedIncome);
+    if (picked != null)
+      setState(() {
+        searchFilters.dateTimeRange = picked;
+      });
   }
 
   @override
@@ -170,6 +141,7 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
               }
             },
             child: PageFramework(
+              scrollToTopButton: true,
               listID: "TransactionsSearch",
               dragDownToDismiss: true,
               onScroll: _scrollListener,
@@ -205,10 +177,18 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
                             labelText: "Search...",
                             icon: Icons.search_rounded,
                             onSubmitted: (value) {
-                              searchTransaction(value, income: selectedIncome);
+                              setState(() {
+                                searchFilters.searchQuery = value;
+                              });
+                            },
+                            onChanged: (value) {
+                              _debouncer.run(() {
+                                if (searchFilters.searchQuery != value)
+                                  setState(() {
+                                    searchFilters.searchQuery = value;
+                                  });
+                              });
                             },
-                            onChanged: (value) => searchTransaction(value,
-                                income: selectedIncome),
                             padding: EdgeInsets.all(0),
                             autoFocus: true,
                           ),
@@ -221,14 +201,29 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
                           icon: Icons.calendar_month_rounded,
                         ),
                         SizedBox(width: 7),
-                        appStateSettings["searchFilters"] == true
-                            ? ButtonIcon(
-                                onTap: () {
-                                  selectFilters(context);
-                                },
-                                icon: Icons.filter_alt_rounded,
-                              )
-                            : SizedBox.shrink(),
+                        AnimatedSwitcher(
+                          duration: Duration(milliseconds: 500),
+                          child: ButtonIcon(
+                            key: ValueKey(searchFilters.isClear(
+                                ignoreDateTimeRange: true)),
+                            color:
+                                searchFilters.isClear(ignoreDateTimeRange: true)
+                                    ? null
+                                    : Theme.of(context)
+                                        .colorScheme
+                                        .tertiaryContainer,
+                            iconColor:
+                                searchFilters.isClear(ignoreDateTimeRange: true)
+                                    ? null
+                                    : Theme.of(context)
+                                        .colorScheme
+                                        .onTertiaryContainer,
+                            onTap: () {
+                              selectFilters(context);
+                            },
+                            icon: Icons.filter_alt_rounded,
+                          ),
+                        ),
                         SizedBox(width: 20),
                       ],
                     ),
@@ -255,7 +250,15 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
                 // SliverToBoxAdapter(
                 //   child: SizedBox(height: 7),
                 // ),
-                transactionWidgets,
+                getTransactionsSlivers(
+                  null,
+                  null,
+                  listID: "TransactionsSearch",
+                  simpleListRender: true,
+                  noResultsMessage: "No transactions found.",
+                  noSearchResultsVariation: true,
+                  searchFilters: searchFilters,
+                ),
                 SliverToBoxAdapter(
                   child: GestureDetector(
                     onTap: () {
@@ -274,10 +277,14 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
                         textColor: getColor(context, "textLight"),
                         text: "Showing transactions from" +
                             "\n" +
-                            getWordedDateShortMore(selectedStartDate,
+                            getWordedDateShortMore(
+                                searchFilters.dateTimeRange?.start ??
+                                    DateTime.now(),
                                 includeYear: true) +
                             " - " +
-                            getWordedDateShortMore(selectedEndDate,
+                            getWordedDateShortMore(
+                                searchFilters.dateTimeRange?.end ??
+                                    DateTime.now(),
                                 includeYear: true),
                       ),
                     ),
@@ -296,14 +303,22 @@ class TransactionsSearchPageState extends State<TransactionsSearchPage>
 }
 
 class AmountRangeSlider extends StatefulWidget {
-  const AmountRangeSlider({super.key});
-
+  const AmountRangeSlider({
+    required this.rangeLimit,
+    required this.onChange,
+    required this.initialRange,
+    super.key,
+  });
+  final RangeValues rangeLimit;
+  final RangeValues? initialRange;
+  final Function(RangeValues) onChange;
   @override
   State<AmountRangeSlider> createState() => _AmountSlideRangerState();
 }
 
 class _AmountSlideRangerState extends State<AmountRangeSlider> {
-  RangeValues _currentRangeValues = const RangeValues(0, 100);
+  late RangeValues _currentRangeValues = widget.initialRange ??
+      RangeValues(widget.rangeLimit.start, widget.rangeLimit.end);
 
   @override
   Widget build(BuildContext context) {
@@ -315,15 +330,10 @@ class _AmountSlideRangerState extends State<AmountRangeSlider> {
             alignment: Alignment.topCenter,
             child: RangeSlider(
               values: _currentRangeValues,
-              max: 100,
-              min: 0,
-              labels: RangeLabels(
-                convertToMoney(Provider.of<AllWallets>(context),
-                    _currentRangeValues.start),
-                convertToMoney(
-                    Provider.of<AllWallets>(context), _currentRangeValues.end),
-              ),
+              max: widget.rangeLimit.end,
+              min: widget.rangeLimit.start,
               onChanged: (RangeValues values) {
+                widget.onChange(values);
                 setState(() {
                   _currentRangeValues = values;
                 });
@@ -340,12 +350,12 @@ class _AmountSlideRangerState extends State<AmountRangeSlider> {
                   TextFont(
                     text: convertToMoney(Provider.of<AllWallets>(context),
                         _currentRangeValues.start),
-                    fontSize: 15,
+                    fontSize: 14,
                   ),
                   TextFont(
                     text: convertToMoney(Provider.of<AllWallets>(context),
                         _currentRangeValues.end),
-                    fontSize: 15,
+                    fontSize: 14,
                   )
                 ],
               ),
@@ -358,38 +368,85 @@ class _AmountSlideRangerState extends State<AmountRangeSlider> {
 }
 
 class SearchFilters {
-  SearchFilters(
-    this.isIncome,
-    this.isExpense,
-    this.isPaid,
-    this.isNotPaid,
-    this.transactionTypes,
-    this.budgetTransactionFilters,
-    this.walletPks,
-    this.categoryPks,
-    this.budgetPks,
-    this.reoccurence,
-    this.sharedOwnerMember,
-    this.methodAdded,
-  );
-
-  bool isIncome;
-  bool isExpense;
-  bool isPaid;
-  bool isNotPaid;
-
-  List<TransactionSpecialType> transactionTypes;
+  SearchFilters({
+    this.walletPks = const [],
+    this.categoryPks = const [],
+    this.budgetPks = const [],
+    this.expenseIncome = const [],
+    this.paidStatus = const [],
+    this.transactionTypes = const [],
+    this.budgetTransactionFilters = const [],
+    // this.reoccurence = const [],
+    this.methodAdded = const [],
+    this.amountRange,
+    this.dateTimeRange,
+    this.searchQuery,
+  }) {
+    walletPks = [];
+    categoryPks = [];
+    budgetPks = [];
+    expenseIncome = [];
+    paidStatus = [];
+    transactionTypes = [];
+    budgetTransactionFilters = [];
+    // reoccurence = [];
+    methodAdded = [];
+  }
+  //if the value is empty, it means all/ignore
+  // think of it, if the tag is added it will be considered in the search
+  List<int> walletPks;
+  List<int> categoryPks;
+  List<int?> budgetPks;
+  List<ExpenseIncome> expenseIncome;
+  List<PaidStatus> paidStatus;
+  List<TransactionSpecialType?> transactionTypes;
   List<BudgetTransactionFilters> budgetTransactionFilters;
-  List<int>? walletPks;
-  List<int>? categoryPks;
-  List<int>? budgetPks;
-  List<BudgetReoccurence> reoccurence;
-  List<SharedOwnerMember> sharedOwnerMember;
+  // List<BudgetReoccurence> reoccurence;
   List<MethodAdded> methodAdded;
+  RangeValues? amountRange;
+  DateTimeRange? dateTimeRange;
+  String? searchQuery;
+
+  clearSearchFilters() {
+    walletPks = [];
+    categoryPks = [];
+    budgetPks = [];
+    expenseIncome = [];
+    paidStatus = [];
+    transactionTypes = [];
+    budgetTransactionFilters = [];
+    // reoccurence = [];
+    methodAdded = [];
+    amountRange = null;
+    dateTimeRange = null;
+    searchQuery = null;
+  }
+
+  bool isClear({bool? ignoreDateTimeRange}) {
+    if (walletPks.isEmpty &&
+        categoryPks.isEmpty &&
+        budgetPks.isEmpty &&
+        expenseIncome.isEmpty &&
+        paidStatus.isEmpty &&
+        transactionTypes.isEmpty &&
+        budgetTransactionFilters.isEmpty &&
+        // reoccurence == [] &&
+        methodAdded.isEmpty &&
+        amountRange == null &&
+        (ignoreDateTimeRange == true || dateTimeRange == null) &&
+        searchQuery == null)
+      return true;
+    else
+      return false;
+  }
 }
 
 class TransactionFiltersSelection extends StatefulWidget {
-  const TransactionFiltersSelection({super.key});
+  const TransactionFiltersSelection(
+      {required this.searchFilters, required this.setSearchFilters, super.key});
+
+  final SearchFilters searchFilters;
+  final Function(SearchFilters searchFilters) setSearchFilters;
 
   @override
   State<TransactionFiltersSelection> createState() =>
@@ -398,20 +455,21 @@ class TransactionFiltersSelection extends StatefulWidget {
 
 class _TransactionFiltersSelectionState
     extends State<TransactionFiltersSelection> {
-  SearchFilters selectedFilters = SearchFilters(
-    false,
-    false,
-    false,
-    false,
-    [],
-    [],
-    null,
-    null,
-    null,
-    [],
-    [],
-    [],
-  );
+  late SearchFilters selectedFilters = widget.searchFilters;
+
+  void setSearchFilters() {
+    widget.setSearchFilters(selectedFilters);
+    setState(() {});
+  }
+
+  void clearSearchFilters() {
+    // Don't change the DateTime selected, as its handles separately
+    DateTimeRange? dateTimeRange = selectedFilters.dateTimeRange;
+    selectedFilters.clearSearchFilters();
+    selectedFilters.dateTimeRange = dateTimeRange;
+    widget.setSearchFilters(selectedFilters);
+    setState(() {});
+  }
 
   @override
   Widget build(BuildContext context) {
@@ -423,37 +481,67 @@ class _TransactionFiltersSelectionState
             horizontalList: true,
             showSelectedAllCategoriesIfNoneSelected: true,
             addButton: false,
+            selectedCategories: selectedFilters.categoryPks,
             setSelectedCategories: (List<int>? categories) {
-              selectedFilters.categoryPks = categories;
-              setState(() {});
+              selectedFilters.categoryPks = categories ?? [];
+              setSearchFilters();
             },
           ),
         ),
-        AmountRangeSlider(),
+        StreamBuilder<RangeValues>(
+          stream: database.getHighestLowestAmount(
+            SearchFilters(
+              dateTimeRange: selectedFilters.dateTimeRange,
+            ),
+          ),
+          builder: ((context, snapshot) {
+            if (snapshot.hasData) {
+              RangeValues rangeLimit = RangeValues(
+                  (snapshot.data?.start ?? 0) - 0.00000001,
+                  (snapshot.data?.end ?? 0) + 0.00000001);
+              if ((selectedFilters.amountRange?.start ?? 0) <
+                      rangeLimit.start ||
+                  (selectedFilters.amountRange?.end ?? 0) > rangeLimit.end) {
+                selectedFilters.amountRange = rangeLimit;
+              }
+              return AmountRangeSlider(
+                rangeLimit: rangeLimit,
+                initialRange: selectedFilters.amountRange,
+                onChange: (RangeValues rangeValue) {
+                  if (rangeLimit == rangeValue)
+                    selectedFilters.amountRange = null;
+                  else
+                    selectedFilters.amountRange = rangeValue;
+                },
+              );
+            }
+            return SizedBox.shrink();
+          }),
+        ),
+        SizedBox(height: 10),
         SelectChips(
-          items: ["income", "expense"],
+          items: ExpenseIncome.values,
           getLabel: (item) {
-            return item == "income"
-                ? "Income"
-                : item == "expense"
-                    ? "Expense"
+            return item == ExpenseIncome.expense
+                ? "Expense"
+                : item == ExpenseIncome.income
+                    ? "Income"
                     : "";
           },
           onSelected: (item) {
-            if (item == "income")
-              selectedFilters.isIncome = !selectedFilters.isIncome;
-            if (item == "expense")
-              selectedFilters.isExpense = !selectedFilters.isExpense;
-            setState(() {});
+            if (selectedFilters.expenseIncome.contains(item)) {
+              selectedFilters.expenseIncome.remove(item);
+            } else {
+              selectedFilters.expenseIncome.add(item);
+            }
+            setSearchFilters();
           },
           getSelected: (item) {
-            if (item == "income") return selectedFilters.isIncome;
-            if (item == "expense") return selectedFilters.isExpense;
-            return false;
+            return selectedFilters.expenseIncome.contains(item);
           },
         ),
         SelectChips(
-          items: TransactionSpecialType.values,
+          items: [null, ...TransactionSpecialType.values],
           getLabel: (item) {
             return transactionTypeDisplayToEnum[item] ?? "";
           },
@@ -463,32 +551,33 @@ class _TransactionFiltersSelectionState
             } else {
               selectedFilters.transactionTypes.add(item);
             }
-            setState(() {});
+            setSearchFilters();
           },
           getSelected: (item) {
             return selectedFilters.transactionTypes.contains(item);
           },
         ),
         SelectChips(
-          items: ["paid", "notPaid"],
+          items: PaidStatus.values,
           getLabel: (item) {
-            return item == "paid"
+            return item == PaidStatus.paid
                 ? "Paid"
-                : item == "notPaid"
+                : item == PaidStatus.notPaid
                     ? "Not Paid"
-                    : "";
+                    : item == PaidStatus.skipped
+                        ? "Skipped"
+                        : "";
           },
           onSelected: (item) {
-            if (item == "paid")
-              selectedFilters.isPaid = !selectedFilters.isPaid;
-            if (item == "notPaid")
-              selectedFilters.isNotPaid = !selectedFilters.isNotPaid;
-            setState(() {});
+            if (selectedFilters.paidStatus.contains(item)) {
+              selectedFilters.paidStatus.remove(item);
+            } else {
+              selectedFilters.paidStatus.add(item);
+            }
+            setSearchFilters();
           },
           getSelected: (item) {
-            if (item == "paid") return selectedFilters.isPaid;
-            if (item == "notPaid") return selectedFilters.isNotPaid;
-            return false;
+            return selectedFilters.paidStatus.contains(item);
           },
         ),
         SelectChips(
@@ -511,7 +600,7 @@ class _TransactionFiltersSelectionState
             } else {
               selectedFilters.budgetTransactionFilters.add(item);
             }
-            setState(() {});
+            setSearchFilters();
           },
           getSelected: (item) {
             return selectedFilters.budgetTransactionFilters.contains(item);
@@ -522,34 +611,20 @@ class _TransactionFiltersSelectionState
           builder: (context, snapshot) {
             if (snapshot.hasData) {
               return SelectChips(
-                items: [null, ...snapshot.data!],
+                items: snapshot.data!,
                 getLabel: (item) {
-                  if (item == null) return "All Wallets";
                   return item?.name ?? "No Wallet";
                 },
                 onSelected: (item) {
-                  if (selectedFilters.walletPks == null) {
-                    selectedFilters.walletPks = [];
-                  }
-                  if (item == null) {
-                    selectedFilters.walletPks = null;
-                  } else if (selectedFilters.walletPks!
-                      .contains(item.walletPk)) {
-                    selectedFilters.walletPks!.remove(item.walletPk);
+                  if (selectedFilters.walletPks.contains(item.walletPk)) {
+                    selectedFilters.walletPks.remove(item.walletPk);
                   } else {
-                    selectedFilters.walletPks!.add(item.walletPk);
+                    selectedFilters.walletPks.add(item.walletPk);
                   }
-                  setState(() {});
+                  setSearchFilters();
                 },
                 getSelected: (item) {
-                  if (selectedFilters.walletPks == null)
-                    return true;
-                  else if (item == null && selectedFilters.walletPks == null)
-                    return true;
-                  else if (item == null)
-                    return false;
-                  else
-                    return selectedFilters.walletPks!.contains(item.walletPk);
+                  return selectedFilters.walletPks.contains(item.walletPk);
                 },
                 getCustomBorderColor: (item) {
                   return dynamicPastel(
@@ -557,7 +632,7 @@ class _TransactionFiltersSelectionState
                     lightenPastel(
                       HexColor(
                         item?.colour,
-                        defaultColor: Colors.transparent,
+                        defaultColor: Theme.of(context).colorScheme.primary,
                       ),
                       amount: 0.3,
                     ),
@@ -577,40 +652,28 @@ class _TransactionFiltersSelectionState
               return SelectChips(
                 items: [null, ...snapshot.data!],
                 getLabel: (item) {
-                  if (item == null) return "All Budgets";
+                  if (item == null) return "No Budget";
                   return item?.name ?? "No Budget";
                 },
                 onSelected: (item) {
-                  if (selectedFilters.budgetPks == null) {
-                    selectedFilters.budgetPks = [];
-                  }
-                  if (item == null) {
-                    selectedFilters.budgetPks = null;
-                  } else if (selectedFilters.budgetPks!
-                      .contains(item.budgetPk)) {
-                    selectedFilters.budgetPks!.remove(item.budgetPk);
+                  if (selectedFilters.budgetPks.contains(item?.budgetPk)) {
+                    selectedFilters.budgetPks.remove(item?.budgetPk);
                   } else {
-                    selectedFilters.budgetPks!.add(item.budgetPk);
+                    selectedFilters.budgetPks.add(item?.budgetPk);
                   }
-                  setState(() {});
+                  setSearchFilters();
                 },
                 getSelected: (item) {
-                  if (selectedFilters.budgetPks == null)
-                    return true;
-                  else if (item == null && selectedFilters.budgetPks == null)
-                    return true;
-                  else if (item == null)
-                    return false;
-                  else
-                    return selectedFilters.budgetPks!.contains(item.budgetPk);
+                  return selectedFilters.budgetPks.contains(item?.budgetPk);
                 },
                 getCustomBorderColor: (item) {
+                  if (item == null) return null;
                   return dynamicPastel(
                     context,
                     lightenPastel(
                       HexColor(
                         item?.colour,
-                        defaultColor: Colors.transparent,
+                        defaultColor: Theme.of(context).colorScheme.primary,
                       ),
                       amount: 0.3,
                     ),
@@ -624,11 +687,7 @@ class _TransactionFiltersSelectionState
           },
         ),
         // SelectChips(
-        //   items: [
-        //     MethodAdded.csv,
-        //     MethodAdded.shared,
-        //     MethodAdded.email,
-        //   ],
+        //   items: MethodAdded.values,
         //   getLabel: (item) {
         //     return item == MethodAdded.csv
         //         ? "CSV"
@@ -638,41 +697,45 @@ class _TransactionFiltersSelectionState
         //                 ? "Email"
         //                 : "";
         //   },
-        //   onSelected: (item) {},
+        //   onSelected: (item) {
+        //     if (selectedFilters.methodAdded.contains(item)) {
+        //       selectedFilters.methodAdded.remove(item);
+        //     } else {
+        //       selectedFilters.methodAdded.add(item);
+        //     }
+        //     setSearchFilters();
+        //   },
         //   getSelected: (item) {
-        //     return false;
+        //     return selectedFilters.methodAdded.contains(item);
         //   },
         // ),
-        appStateSettings["sharedBudgets"]
-            ? SelectChips(
-                items: SharedOwnerMember.values,
-                getLabel: (item) {
-                  return item == SharedOwnerMember.owner
-                      ? "Owner"
-                      : item == SharedOwnerMember.member
-                          ? "Member"
-                          : "";
-                },
-                onSelected: (item) {
-                  if (selectedFilters.sharedOwnerMember.contains(item)) {
-                    selectedFilters.sharedOwnerMember.remove(item);
-                  } else {
-                    selectedFilters.sharedOwnerMember.add(item);
-                  }
-                  setState(() {});
-                },
-                getSelected: (item) {
-                  return selectedFilters.sharedOwnerMember.contains(item);
-                },
-              )
-            : SizedBox.shrink(),
         Padding(
           padding: const EdgeInsets.symmetric(horizontal: 20, vertical: 10),
-          child: Button(
-            label: "Apply Filters",
-            onTap: () {
-              Navigator.pop(context);
-            },
+          child: Row(
+            children: [
+              Flexible(
+                child: Button(
+                  expandedLayout: true,
+                  label: "Reset",
+                  onTap: () {
+                    clearSearchFilters();
+                  },
+                  color: Theme.of(context).colorScheme.tertiaryContainer,
+                  textColor: Theme.of(context).colorScheme.onTertiaryContainer,
+                ),
+              ),
+              SizedBox(width: 10),
+              SizedBox(width: 10),
+              Flexible(
+                child: Button(
+                  expandedLayout: true,
+                  label: "Apply",
+                  onTap: () {
+                    Navigator.pop(context);
+                  },
+                ),
+              ),
+            ],
           ),
         )
       ],
diff --git a/budget/lib/struct/defaultPreferences.dart b/budget/lib/struct/defaultPreferences.dart
index fd3147203..ea63fbc94 100644
--- a/budget/lib/struct/defaultPreferences.dart
+++ b/budget/lib/struct/defaultPreferences.dart
@@ -83,7 +83,6 @@ Future<Map<String, dynamic>> getDefaultPreferences() async {
     "emailScanningPullToRefresh": false,
     "legacyTransactionAmountColors": false,
     "massEditSelectedTransactions": false,
-    "searchFilters": false,
     "incognitoKeyboard": false,
     // the key is the budgetPk (in String!)
     // Should be of type Map<String,List<int>>
diff --git a/budget/lib/widgets/framework/pageFramework.dart b/budget/lib/widgets/framework/pageFramework.dart
index b5d5e4a0f..5150cb1ad 100644
--- a/budget/lib/widgets/framework/pageFramework.dart
+++ b/budget/lib/widgets/framework/pageFramework.dart
@@ -1,5 +1,8 @@
+import 'dart:math';
+
 import 'package:budget/functions.dart';
 import 'package:budget/struct/shareBudget.dart';
+import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/navigationSidebar.dart';
 import 'package:budget/widgets/scrollbarWrap.dart';
 import 'package:budget/widgets/textWidgets.dart';
@@ -41,6 +44,7 @@ class PageFramework extends StatefulWidget {
     this.backgroundColor,
     this.resizeToAvoidBottomInset = false,
     this.overlay,
+    this.scrollToTopButton = false,
   }) : super(key: key);
 
   final String title;
@@ -73,6 +77,7 @@ class PageFramework extends StatefulWidget {
   final Color? backgroundColor;
   final bool resizeToAvoidBottomInset;
   final Widget? overlay;
+  final bool scrollToTopButton;
 
   @override
   State<PageFramework> createState() => PageFrameworkState();
@@ -85,6 +90,11 @@ class PageFrameworkState extends State<PageFramework>
   late AnimationController _animationControllerOpacity;
   late AnimationController _animationController0at50;
   late AnimationController _animationControllerDragY;
+  late AnimationController _scrollToTopAnimationController =
+      AnimationController(
+    vsync: this,
+    duration: Duration(milliseconds: 500),
+  );
   // late AnimationController _animationControllerDragX;
 
   void scrollToTop({duration = 1200}) {
@@ -156,6 +166,13 @@ class PageFrameworkState extends State<PageFramework>
       _animationController0at50.value =
           1 - (_scrollController.offset / (widget.expandedHeight - 65)) * 1.75;
     }
+    if (_scrollController.offset > 400 &&
+        _scrollToTopAnimationController.value == 0) {
+      _scrollToTopAnimationController.forward();
+    } else if (_scrollController.offset < 400 &&
+        _scrollToTopAnimationController.value == 1) {
+      _scrollToTopAnimationController.reverse();
+    }
   }
 
   @override
@@ -165,6 +182,7 @@ class PageFrameworkState extends State<PageFramework>
     _animationController0at50.dispose();
     _animationControllerDragY.dispose();
     // _animationControllerDragX.dispose();
+    _scrollToTopAnimationController.dispose();
 
     _scrollController.dispose();
     WidgetsBinding.instance.removeObserver(this);
@@ -331,7 +349,56 @@ class PageFrameworkState extends State<PageFramework>
             alignment: Alignment.bottomRight,
             child: Padding(
               padding: const EdgeInsets.only(bottom: 15, right: 15),
-              child: widget.floatingActionButton ?? Container(),
+              child: Row(
+                mainAxisSize: MainAxisSize.min,
+                crossAxisAlignment: CrossAxisAlignment.end,
+                mainAxisAlignment: MainAxisAlignment.end,
+                children: [
+                  widget.scrollToTopButton
+                      ? AnimatedBuilder(
+                          animation: _scrollToTopAnimationController,
+                          builder: (_, child) {
+                            return IgnorePointer(
+                              ignoring:
+                                  _scrollToTopAnimationController.value <= 0.1,
+                              child: Transform.translate(
+                                offset: Offset(
+                                  0,
+                                  10 *
+                                      (1 -
+                                          CurvedAnimation(
+                                                  parent:
+                                                      _scrollToTopAnimationController,
+                                                  curve: Curves.easeInOut)
+                                              .value),
+                                ),
+                                child: child,
+                              ),
+                            );
+                          },
+                          child: FadeTransition(
+                            opacity: CurvedAnimation(
+                                parent: _scrollToTopAnimationController,
+                                curve: Curves.easeInOut),
+                            child: Padding(
+                              padding:
+                                  const EdgeInsets.only(right: 7, bottom: 1),
+                              child: Transform.rotate(
+                                angle: pi / 2,
+                                child: ButtonIcon(
+                                  icon: Icons.chevron_left_rounded,
+                                  onTap: () {
+                                    scrollToTop();
+                                  },
+                                ),
+                              ),
+                            ),
+                          ),
+                        )
+                      : SizedBox.shrink(),
+                  widget.floatingActionButton ?? Container(),
+                ],
+              ),
             ),
           ),
         ],
diff --git a/budget/lib/widgets/showChangelog.dart b/budget/lib/widgets/showChangelog.dart
index 7a353cc8e..fc1c3ea1d 100644
--- a/budget/lib/widgets/showChangelog.dart
+++ b/budget/lib/widgets/showChangelog.dart
@@ -9,6 +9,9 @@ import 'package:flutter/material.dart';
 
 Future<void> showChangelog(context, {forceShow = false}) async {
   String changelog = """
+    < 3.4.0
+    Transaction filters on search page completed and working
+    Scroll to top of page button on search page
     < 3.3.3
     Started search filters - they can be selected properly
     Added descriptions to settings
diff --git a/budget/pubspec.yaml b/budget/pubspec.yaml
index 7dc47fdbf..3ece305d8 100644
--- a/budget/pubspec.yaml
+++ b/budget/pubspec.yaml
@@ -15,7 +15,7 @@ publish_to: "none" # Remove this line if you wish to publish to pub.dev
 # In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.
 # Read more about iOS versioning at
 # https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html
-version: 3.3.2+103
+version: 3.4.0+103
 
 environment:
   sdk: ">= 3.0.0"
