diff --git a/budget/lib/functions.dart b/budget/lib/functions.dart
index 23fe7e323..a1febe57c 100644
--- a/budget/lib/functions.dart
+++ b/budget/lib/functions.dart
@@ -1037,7 +1037,7 @@ Future<dynamic> pushRoute(BuildContext? context, Widget page,
   return await Navigator.push(
     contextToPush,
     PageRouteBuilder(
-      opaque: false,
+      opaque: true,
       transitionDuration: Duration(milliseconds: 300),
       reverseTransitionDuration: Duration(milliseconds: 125),
       transitionsBuilder: (context, animation, secondaryAnimation, child) {
@@ -1352,8 +1352,8 @@ PlatformOS? getPlatform({bool ignoreEmulation = false}) {
   return null;
 }
 
-dynamic nullIfIndexOutOfRange(List list, index) {
-  if (list.length - 1 < index || index < 0) {
+T? nullIfIndexOutOfRange<T>(List<T> list, int index) {
+  if (index < 0 || index >= list.length) {
     return null;
   } else {
     return list[index];
diff --git a/budget/lib/pages/activityPage.dart b/budget/lib/pages/activityPage.dart
index 29c67c0cb..5d76cf6dc 100644
--- a/budget/lib/pages/activityPage.dart
+++ b/budget/lib/pages/activityPage.dart
@@ -133,12 +133,23 @@ void restoreTransaction(
   }
 }
 
-class ActivityPage extends StatelessWidget {
+class ActivityPage extends StatefulWidget {
   const ActivityPage({super.key});
 
+  @override
+  State<ActivityPage> createState() => ActivityPageState();
+}
+
+class ActivityPageState extends State<ActivityPage> {
+  GlobalKey<PageFrameworkState> pageState = GlobalKey();
+  String pageId = "ActivityLog";
+
+  void scrollToTop() {
+    pageState.currentState?.scrollToTop();
+  }
+
   @override
   Widget build(BuildContext context) {
-    String pageId = "ActivityLog";
     return WillPopScope(
       onWillPop: () async {
         if ((globalSelectedID.value[pageId] ?? []).length > 0) {
@@ -150,6 +161,7 @@ class ActivityPage extends StatelessWidget {
         }
       },
       child: PageFramework(
+        key: pageState,
         dragDownToDismiss: true,
         title: "activity-log".tr(),
         listID: pageId,
diff --git a/budget/lib/pages/homePage/homePage.dart b/budget/lib/pages/homePage/homePage.dart
index 467b291f3..aab8e9510 100644
--- a/budget/lib/pages/homePage/homePage.dart
+++ b/budget/lib/pages/homePage/homePage.dart
@@ -136,7 +136,7 @@ class HomePageState extends State<HomePage> with TickerProviderStateMixin {
                       "homePageTransactionsListIncomeAndExpenseOnly"] ==
                   true
               ? null
-              : ["all".tr(), "outgoing".tr(), "incoming".tr()],
+              : ["all", "outgoing", "incoming"],
           useHorizontalPaddingConstrained: false,
           onSelected: (index) {
             setState(() {
diff --git a/budget/lib/pages/homePage/homePageHeatmap.dart b/budget/lib/pages/homePage/homePageHeatmap.dart
index b1a7d0816..c84afba45 100644
--- a/budget/lib/pages/homePage/homePageHeatmap.dart
+++ b/budget/lib/pages/homePage/homePageHeatmap.dart
@@ -62,8 +62,7 @@ class _HomePageHeatMapState extends State<HomePageHeatMap> {
         ),
         builder: (context, snapshot) {
           if (snapshot.hasData) {
-            List<Pair> points = [];
-            var p = CalculatePointsParams(
+            CalculatePointsParams p = CalculatePointsParams(
               transactions: snapshot.data ?? [],
               customStartDate:
                   DateTime.now().justDay(monthOffset: -monthsToLoad),
@@ -75,11 +74,7 @@ class _HomePageHeatMapState extends State<HomePageHeatMap> {
               appStateSettingsPassed: appStateSettings,
               cycleThroughAllDays: true, // needed for heatmap
             );
-            points = calculatePoints(p);
-
-            // for (Pair point in points) {
-            //   print((point.x.toString() + "," + point.y.toString()));
-            // }
+            List<Pair> points = calculatePoints(p);
             return HeatMap(
               points: points,
               loadMoreMonths: loadMoreMonths,
@@ -232,48 +227,22 @@ class HeatMap extends StatelessWidget {
                                       ? null
                                       : nullIfIndexOutOfRange(
                                               pointsOffsetFixed, index)
-                                          .y;
+                                          ?.y;
                                   DateTime? day = nullIfIndexOutOfRange(
                                               pointsOffsetFixed, index) ==
                                           null
                                       ? null
                                       : nullIfIndexOutOfRange(
                                               pointsOffsetFixed, index)
-                                          .dateTime;
-                                  Color color = amount == null
-                                      ? Colors.transparent
-                                      : amount == 0
-                                          ? appStateSettings["materialYou"]
-                                              ? Theme.of(context)
-                                                  .colorScheme
-                                                  .onSecondary
-                                                  .withOpacity(0.6)
-                                              : getColor(context,
-                                                      "lightDarkAccent")
-                                                  .withOpacity(0.6)
-                                          : amount < 0
-                                              ? getColor(
-                                                      context, "expenseAmount")
-                                                  .withOpacity(
-                                                  0.5 +
-                                                      (((1 - 0.5) / 4) *
-                                                          (getRangeIndex(
-                                                                  maxExpense,
-                                                                  minExpense,
-                                                                  amount) +
-                                                              1)),
-                                                )
-                                              : getColor(
-                                                      context, "incomeAmount")
-                                                  .withOpacity(
-                                                  0.5 +
-                                                      (((1 - 0.5) / 4) *
-                                                          (getRangeIndex(
-                                                                  minIncome,
-                                                                  maxIncome,
-                                                                  amount) +
-                                                              1)),
-                                                );
+                                          ?.dateTime;
+                                  Color color = getHeatMapColor(
+                                    context: context,
+                                    amount: amount,
+                                    maxExpense: maxExpense,
+                                    minExpense: minExpense,
+                                    minIncome: minIncome,
+                                    maxIncome: maxIncome,
+                                  );
                                   return Tooltip(
                                     waitDuration: Duration(milliseconds: 200),
                                     message: day == null
@@ -341,7 +310,7 @@ class HeatMap extends StatelessWidget {
                     ],
                   ),
                 );
-                return Container(child: Text(itemIndex.toString()));
+                //return Container(child: Text(itemIndex.toString()));
               },
             ),
           ),
@@ -351,6 +320,41 @@ class HeatMap extends StatelessWidget {
   }
 }
 
+Color getHeatMapColor({
+  required BuildContext context,
+  required double? amount,
+  required double maxExpense,
+  required double minExpense,
+  required double minIncome,
+  required double maxIncome,
+  Color? defaultColor,
+  double minimumOpacityThreshold = 0.5,
+  double subtractedOpacityThreshold = 0.5,
+}) {
+  if (amount == null) {
+    return Colors.transparent;
+  } else if (amount == 0) {
+    return defaultColor ??
+        (appStateSettings["materialYou"]
+            ? Theme.of(context).colorScheme.onSecondary.withOpacity(0.6)
+            : getColor(context, "lightDarkAccent").withOpacity(0.6));
+  } else if (amount < 0) {
+    return getColor(context, "expenseAmount").withOpacity(
+      (minimumOpacityThreshold +
+          (((1 - subtractedOpacityThreshold) / 4) *
+                  (getRangeIndex(maxExpense, minExpense, amount) + 1))
+              .clamp(0, 1)),
+    );
+  } else {
+    return getColor(context, "incomeAmount").withOpacity(
+      (minimumOpacityThreshold +
+          (((1 - subtractedOpacityThreshold) / 4) *
+                  (getRangeIndex(minIncome, maxIncome, amount) + 1))
+              .clamp(0, 1)),
+    );
+  }
+}
+
 Future<dynamic> openTransactionsOnDayBottomSheet(
     BuildContext context, DateTime? day) {
   return openBottomSheet(
diff --git a/budget/lib/pages/homePage/homePageLineGraph.dart b/budget/lib/pages/homePage/homePageLineGraph.dart
index a1373e35b..518ce3ba7 100644
--- a/budget/lib/pages/homePage/homePageLineGraph.dart
+++ b/budget/lib/pages/homePage/homePageLineGraph.dart
@@ -277,6 +277,7 @@ class CalculatePointsParams {
   final Map<String, dynamic> appStateSettingsPassed;
   final bool invertPolarity;
   final bool cycleThroughAllDays;
+  final bool isPaidOnly;
 
   CalculatePointsParams({
     required this.transactions,
@@ -289,6 +290,7 @@ class CalculatePointsParams {
     required this.appStateSettingsPassed,
     this.invertPolarity = false,
     this.cycleThroughAllDays = false,
+    this.isPaidOnly = false,
   });
 }
 
@@ -301,9 +303,9 @@ List<Pair> calculatePoints(CalculatePointsParams p) {
 
   for (Transaction transaction in p.transactions) {
     // Remove balance correction transactions if not showing all transactions
-    if (p.isIncome != null && transaction.categoryFk == "0") {
-      continue;
-    }
+    if (p.isIncome != null && transaction.categoryFk == "0") continue;
+
+    if (p.isPaidOnly && transaction.paid == false) continue;
 
     DateTime day = transaction.dateCreated.justDay();
     double amount = transaction.amount *
diff --git a/budget/lib/pages/notificationsPage.dart b/budget/lib/pages/notificationsPage.dart
index 81fc9a945..480dfcd6a 100644
--- a/budget/lib/pages/notificationsPage.dart
+++ b/budget/lib/pages/notificationsPage.dart
@@ -2,7 +2,6 @@ import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/animatedExpanded.dart';
 import 'package:budget/widgets/notificationsSettings.dart';
 import 'package:budget/widgets/framework/pageFramework.dart';
-import 'package:budget/widgets/openBottomSheet.dart';
 import 'package:budget/widgets/statusBox.dart';
 import 'package:budget/widgets/util/onAppResume.dart';
 import 'package:easy_localization/easy_localization.dart';
diff --git a/budget/lib/widgets/lineGraph.dart b/budget/lib/widgets/lineGraph.dart
index b46312033..e14dffb23 100644
--- a/budget/lib/widgets/lineGraph.dart
+++ b/budget/lib/widgets/lineGraph.dart
@@ -532,6 +532,12 @@ class Pair {
   String toString() {
     return 'x: $x, y: $y, dateTime: $dateTime';
   }
+
+  static Map<DateTime?, double> convertListToDateTimeMap(List<Pair> pairs) {
+    Map<DateTime?, double> resultMap = {};
+    for (Pair pair in pairs) resultMap[pair.dateTime] = pair.y;
+    return resultMap;
+  }
 }
 
 class LineChartWrapper extends StatelessWidget {
diff --git a/budget/lib/widgets/navigationSidebar.dart b/budget/lib/widgets/navigationSidebar.dart
index bcfdfff72..1a7a2c1e1 100644
--- a/budget/lib/widgets/navigationSidebar.dart
+++ b/budget/lib/widgets/navigationSidebar.dart
@@ -366,28 +366,41 @@ class SidebarClock extends StatelessWidget {
                               text: (getWordedTime(null, now) + "      ")
                                   .substring(0, 5)
                                   .trim(),
+                              maxLines: 1,
+                              overflow: TextOverflow.fade,
+                              softWrap: false,
                             )
                           : Row(
                               mainAxisAlignment: MainAxisAlignment.center,
                               crossAxisAlignment: CrossAxisAlignment.end,
                               children: [
-                                TextFont(
-                                  textColor: getColor(context, "black"),
-                                  fontSize: 45,
-                                  fontWeight: FontWeight.bold,
-                                  // Remove any am/pm indication by substring
-                                  text: getWordedTime(null, now)
-                                      .substring(0, 5)
-                                      .trim(),
-                                ),
-                                Padding(
-                                  padding: const EdgeInsetsDirectional.only(
-                                      bottom: 4.4, start: 7),
+                                Flexible(
                                   child: TextFont(
                                     textColor: getColor(context, "black"),
-                                    fontSize: 25,
+                                    fontSize: 45,
                                     fontWeight: FontWeight.bold,
-                                    text: getMeridiemString(now),
+                                    // Remove any am/pm indication by substring
+                                    text: getWordedTime(null, now)
+                                        .substring(0, 5)
+                                        .trim(),
+                                    maxLines: 1,
+                                    overflow: TextOverflow.fade,
+                                    softWrap: false,
+                                  ),
+                                ),
+                                Flexible(
+                                  child: Padding(
+                                    padding: const EdgeInsetsDirectional.only(
+                                        bottom: 4.4, start: 7),
+                                    child: TextFont(
+                                      textColor: getColor(context, "black"),
+                                      fontSize: 25,
+                                      fontWeight: FontWeight.bold,
+                                      text: getMeridiemString(now),
+                                      maxLines: 1,
+                                      overflow: TextOverflow.fade,
+                                      softWrap: false,
+                                    ),
                                   ),
                                 ),
                               ],
@@ -398,6 +411,9 @@ class SidebarClock extends StatelessWidget {
                         fontWeight: FontWeight.bold,
                         text: DateFormat('EEEE', context.locale.toString())
                             .format(now),
+                        maxLines: 1,
+                        overflow: TextOverflow.fade,
+                        softWrap: false,
                       ),
                       SizedBox(height: 5),
                       TextFont(
@@ -405,6 +421,9 @@ class SidebarClock extends StatelessWidget {
                         fontSize: 18,
                         text: DateFormat.yMMMMd(context.locale.toString())
                             .format(now),
+                        maxLines: 1,
+                        overflow: TextOverflow.fade,
+                        softWrap: false,
                       ),
                     ],
                   );
