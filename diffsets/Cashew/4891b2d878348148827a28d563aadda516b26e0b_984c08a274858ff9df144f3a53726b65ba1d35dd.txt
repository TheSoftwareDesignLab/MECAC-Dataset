diff --git a/budget/lib/functions.dart b/budget/lib/functions.dart
index be95412ef..bf2614876 100644
--- a/budget/lib/functions.dart
+++ b/budget/lib/functions.dart
@@ -981,7 +981,6 @@ enum PlatformOS {
 }
 
 PlatformOS? getPlatform({bool ignoreEmulation = false}) {
-  return PlatformOS.isAndroid;
   if (appStateSettings["iOSEmulate"] == true && ignoreEmulation == false) {
     return PlatformOS.isIOS;
   } else if (kIsWeb) {
diff --git a/budget/lib/pages/aboutPage.dart b/budget/lib/pages/aboutPage.dart
index c089823d5..ac8fe1869 100644
--- a/budget/lib/pages/aboutPage.dart
+++ b/budget/lib/pages/aboutPage.dart
@@ -5,6 +5,7 @@ import 'package:budget/pages/debugPage.dart';
 import 'package:budget/pages/onBoardingPage.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/languageMap.dart';
+import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/moreIcons.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
@@ -99,7 +100,11 @@ class AboutPage extends StatelessWidget {
             onTap: () {
               openUrl("https://github.com/jameskokoska/Cashew");
             },
-            color: getColor(context, "lightDarkAccent"),
+            color: appStateSettings["materialYou"]
+                ? dynamicPastel(
+                    context, Theme.of(context).colorScheme.secondaryContainer,
+                    amountLight: 0, amountDark: 0.6)
+                : getColor(context, "lightDarkAccent"),
             borderRadius: 15,
             child: Padding(
               padding: const EdgeInsets.symmetric(horizontal: 13, vertical: 15),
@@ -184,7 +189,11 @@ class AboutPage extends StatelessWidget {
             onTap: () {
               openUrl('mailto:dapperappdeveloper@gmail.com');
             },
-            color: getColor(context, "lightDarkAccent"),
+            color: appStateSettings["materialYou"]
+                ? dynamicPastel(
+                    context, Theme.of(context).colorScheme.secondaryContainer,
+                    amountLight: 0, amountDark: 0.6)
+                : getColor(context, "lightDarkAccent"),
             borderRadius: 15,
             child: Padding(
               padding: const EdgeInsets.symmetric(horizontal: 13, vertical: 15),
@@ -221,7 +230,11 @@ class AboutPage extends StatelessWidget {
           padding: const EdgeInsets.symmetric(horizontal: 15, vertical: 5),
           child: Tappable(
             onTap: () {},
-            color: getColor(context, "lightDarkAccent"),
+            color: appStateSettings["materialYou"]
+                ? dynamicPastel(
+                    context, Theme.of(context).colorScheme.secondaryContainer,
+                    amountLight: 0, amountDark: 0.6)
+                : getColor(context, "lightDarkAccent"),
             borderRadius: 15,
             child: Padding(
               padding: const EdgeInsets.symmetric(horizontal: 13, vertical: 15),
@@ -444,7 +457,11 @@ class AboutInfoBox extends StatelessWidget {
         onLongPress: () {
           copyToClipboard(link);
         },
-        color: color ?? getColor(context, "lightDarkAccent"),
+        color: color ?? appStateSettings["materialYou"]
+            ? dynamicPastel(
+                context, Theme.of(context).colorScheme.secondaryContainer,
+                amountLight: 0, amountDark: 0.6)
+            : getColor(context, "lightDarkAccent"),
         borderRadius: 15,
         child: Padding(
           padding: const EdgeInsets.symmetric(horizontal: 13, vertical: 15),
diff --git a/budget/lib/pages/accountsPage.dart b/budget/lib/pages/accountsPage.dart
index a9873414c..d6d55ce1a 100644
--- a/budget/lib/pages/accountsPage.dart
+++ b/budget/lib/pages/accountsPage.dart
@@ -59,13 +59,11 @@ class AccountsPageState extends State<AccountsPage> {
       title: getPlatform() == PlatformOS.isIOS
           ? "backup".tr()
           : "account-and-backup".tr(),
-      appBarBackgroundColor: Theme.of(context).colorScheme.secondaryContainer,
-      appBarBackgroundColorStart:
-          Theme.of(context).colorScheme.secondaryContainer,
-      dragDownToDismissBackground: getPlatform() == PlatformOS.isIOS
-          ? dynamicPastel(
-              context, Theme.of(context).colorScheme.secondaryContainer,
-              amount: appStateSettings["materialYou"] ? 0.4 : 0.55)
+      appBarBackgroundColor: getPlatform() == PlatformOS.isIOS
+          ? null
+          : Theme.of(context).colorScheme.secondaryContainer,
+      appBarBackgroundColorStart: getPlatform() == PlatformOS.isIOS
+          ? null
           : Theme.of(context).colorScheme.secondaryContainer,
       bottomPadding: false,
       slivers: [
diff --git a/budget/lib/pages/budgetPage.dart b/budget/lib/pages/budgetPage.dart
index 0da1ba3d0..903080a43 100644
--- a/budget/lib/pages/budgetPage.dart
+++ b/budget/lib/pages/budgetPage.dart
@@ -248,7 +248,6 @@ class _BudgetPageContentState extends State<_BudgetPageContent> {
             appBarBackgroundColorStart: budgetColorScheme.secondaryContainer,
             textColor: getColor(context, "black"),
             dragDownToDismiss: true,
-            dragDownToDismissBackground: budgetColorScheme.secondaryContainer,
             slivers: [
               StreamBuilder<double?>(
                 stream: database.watchTotalSpentByCurrentUserOnly(
diff --git a/budget/lib/pages/exchangeRatesPage.dart b/budget/lib/pages/exchangeRatesPage.dart
index ef1c8bd1e..174358c8a 100644
--- a/budget/lib/pages/exchangeRatesPage.dart
+++ b/budget/lib/pages/exchangeRatesPage.dart
@@ -1,3 +1,4 @@
+import 'package:budget/colors.dart';
 import 'package:budget/database/tables.dart';
 import 'package:budget/pages/aboutPage.dart';
 import 'package:budget/struct/currencyFunctions.dart';
@@ -131,21 +132,30 @@ class _ExchangeRatesState extends State<ExchangeRates> {
                       child: Row(
                         children: [
                           TextFont(
-                            text: " = " +
-                                (1 /
-                                        ((amountRatioToPrimaryCurrency(
-                                                Provider.of<AllWallets>(
-                                                    context),
-                                                key) ??
-                                            1)))
-                                    .toStringAsFixed(15),
+                            text: "",
                             maxLines: 3,
                             fontSize: 18,
                             richTextSpan: [
+                              TextSpan(
+                                text: " = " +
+                                    (1 /
+                                            ((amountRatioToPrimaryCurrency(
+                                                    Provider.of<AllWallets>(
+                                                        context),
+                                                    key) ??
+                                                1)))
+                                        .toStringAsFixed(15),
+                                style: TextStyle(
+                                  color: getColor(context, "black"),
+                                  fontFamily: appStateSettings["font"],
+                                ),
+                              ),
                               TextSpan(
                                 text: " " + key.allCaps,
                                 style: TextStyle(
                                   fontWeight: FontWeight.bold,
+                                  fontFamily: appStateSettings["font"],
+                                  color: getColor(context, "black"),
                                 ),
                               ),
                             ],
diff --git a/budget/lib/pages/pastBudgetsPage.dart b/budget/lib/pages/pastBudgetsPage.dart
index be8c3c1d8..3f4c9d017 100644
--- a/budget/lib/pages/pastBudgetsPage.dart
+++ b/budget/lib/pages/pastBudgetsPage.dart
@@ -184,6 +184,8 @@ class __PastBudgetsPageContentState extends State<_PastBudgetsPageContent> {
 
     return PageFramework(
       backgroundColor: backgroundColor,
+      appBarBackgroundColor: budgetColorScheme.secondaryContainer,
+      appBarBackgroundColorStart: backgroundColor,
       key: budgetHistoryKey,
       title: "history".tr(),
       subtitle: TextFont(
@@ -294,10 +296,8 @@ class __PastBudgetsPageContentState extends State<_PastBudgetsPageContent> {
       ],
       subtitleSize: 10,
       subtitleAlignment: Alignment.bottomLeft,
-      appBarBackgroundColor: budgetColorScheme.secondaryContainer,
       textColor: getColor(context, "black"),
       dragDownToDismiss: true,
-      dragDownToDismissBackground: Theme.of(context).canvasColor,
       slivers: [
         SliverStickyHeader(
           header: Transform.translate(
diff --git a/budget/lib/pages/premiumPage.dart b/budget/lib/pages/premiumPage.dart
index 74beb9243..db76c630a 100644
--- a/budget/lib/pages/premiumPage.dart
+++ b/budget/lib/pages/premiumPage.dart
@@ -59,9 +59,9 @@ class PremiumPage extends StatelessWidget {
         PageFramework(
           enableHeader: false,
           dragDownToDismiss: canDismiss,
-          dragDownToDismissBackground: Colors.transparent,
           bottomPadding: false,
           backgroundColor: Colors.transparent,
+          transparentAppBar: true,
           slivers: [
             SliverFillRemaining(
               hasScrollBody: false,
@@ -970,12 +970,14 @@ class SubscriptionOption extends StatelessWidget {
                                 color:
                                     getColor(context, "black").withOpacity(0.7),
                                 fontSize: 14,
+                                fontFamily: appStateSettings["font"],
                               ),
                             ),
                             TextSpan(
                               text: originalPrice == null ? null : "  ",
                               style: TextStyle(
                                 fontSize: 12,
+                                fontFamily: appStateSettings["font"],
                               ),
                             ),
                             TextSpan(
@@ -983,6 +985,7 @@ class SubscriptionOption extends StatelessWidget {
                               style: TextStyle(
                                 color: getColor(context, "black"),
                                 fontSize: 17,
+                                fontFamily: appStateSettings["font"],
                               ),
                             ),
                           ],
diff --git a/budget/lib/struct/defaultPreferences.dart b/budget/lib/struct/defaultPreferences.dart
index 1be90321e..978deed22 100644
--- a/budget/lib/struct/defaultPreferences.dart
+++ b/budget/lib/struct/defaultPreferences.dart
@@ -9,7 +9,7 @@ import 'package:flutter/services.dart';
 // default settings, defaultSettings, initial settings
 Future<Map<String, dynamic>> getDefaultPreferences() async {
   int androidVersion = 11;
-  if (getPlatform() == PlatformOS.isAndroid) {
+  if (getPlatform(ignoreEmulation: true) == PlatformOS.isAndroid) {
     androidVersion = 0;
     AndroidDeviceInfo androidInfo = await DeviceInfoPlugin().androidInfo;
     String androidVersionString = androidInfo.version.release;
diff --git a/budget/lib/struct/settings.dart b/budget/lib/struct/settings.dart
index 5e2395201..839408d16 100644
--- a/budget/lib/struct/settings.dart
+++ b/budget/lib/struct/settings.dart
@@ -287,8 +287,16 @@ class TranslationsHelp extends StatelessWidget {
             ),
             Expanded(
               child: TextFont(
-                textColor: Theme.of(context).colorScheme.onSecondaryContainer,
+                text: "",
+                textColor: getColor(context, "black"),
                 richTextSpan: [
+                  TextSpan(
+                    text: "translations-help".tr() + " ",
+                    style: TextStyle(
+                      color: getColor(context, "black"),
+                      fontFamily: appStateSettings["font"],
+                    ),
+                  ),
                   TextSpan(
                     text: 'dapperappdeveloper@gmail.com',
                     style: TextStyle(
@@ -298,10 +306,10 @@ class TranslationsHelp extends StatelessWidget {
                           getColor(context, "unPaidOverdue").withOpacity(0.8),
                       color:
                           getColor(context, "unPaidOverdue").withOpacity(0.8),
+                      fontFamily: appStateSettings["font"],
                     ),
                   ),
                 ],
-                text: "translations-help".tr() + " ",
                 maxLines: 5,
                 fontSize: 13,
               ),
diff --git a/budget/lib/widgets/editRowEntry.dart b/budget/lib/widgets/editRowEntry.dart
index a4d8465a4..4b8c2d6f3 100644
--- a/budget/lib/widgets/editRowEntry.dart
+++ b/budget/lib/widgets/editRowEntry.dart
@@ -54,7 +54,8 @@ class EditRowEntry extends StatelessWidget {
             ? dynamicPastel(
                 context,
                 Theme.of(context).colorScheme.secondaryContainer,
-                amount: 0.5,
+                amountLight: 0.3,
+                amountDark: 0.6,
               )
             : getColor(context, "lightDarkAccentHeavyLight");
     double borderRadius = getPlatform() == PlatformOS.isIOS ? 0 : 18;
diff --git a/budget/lib/widgets/framework/pageFramework.dart b/budget/lib/widgets/framework/pageFramework.dart
index 08730e8de..093e27ddb 100644
--- a/budget/lib/widgets/framework/pageFramework.dart
+++ b/budget/lib/widgets/framework/pageFramework.dart
@@ -36,7 +36,6 @@ class PageFramework extends StatefulWidget {
     this.textColor,
     this.dragDownToDismiss = false,
     this.dragDownToDismissEnabled = true,
-    this.dragDownToDismissBackground,
     this.onBackButton,
     this.onDragDownToDismiss,
     this.actions,
@@ -52,6 +51,7 @@ class PageFramework extends StatefulWidget {
     this.enableHeader = true,
     this.scrollPhysics,
     this.belowAppBarPaddingWhenCenteredTitleSmall,
+    this.transparentAppBar = false,
   }) : super(key: key);
 
   final String title;
@@ -73,7 +73,6 @@ class PageFramework extends StatefulWidget {
   final Color? textColor;
   final bool dragDownToDismiss;
   final bool dragDownToDismissEnabled;
-  final Color? dragDownToDismissBackground;
   final VoidCallback? onBackButton;
   final VoidCallback? onDragDownToDismiss;
   final List<Widget>? actions;
@@ -89,6 +88,7 @@ class PageFramework extends StatefulWidget {
   final bool enableHeader;
   final ScrollPhysics? scrollPhysics;
   final double? belowAppBarPaddingWhenCenteredTitleSmall;
+  final bool transparentAppBar;
 
   @override
   State<PageFramework> createState() => PageFrameworkState();
@@ -319,10 +319,7 @@ class PageFrameworkState extends State<PageFramework>
                           titleWidget: widget.titleWidget,
                           appBarBackgroundColor: widget.appBarBackgroundColor,
                           appBarBackgroundColorStart:
-                              widget.backgroundColor == null ||
-                                      widget.appBarBackgroundColorStart != null
-                                  ? widget.appBarBackgroundColorStart
-                                  : widget.backgroundColor,
+                              widget.appBarBackgroundColorStart,
                           backButton: widget.backButton,
                           subtitle: widget.subtitle,
                           subtitleSize: widget.subtitleSize,
@@ -388,9 +385,9 @@ class PageFrameworkState extends State<PageFramework>
         ],
       ),
     );
-    Widget? dragDownToDissmissScaffold = null;
+    Widget? dragDownToDismissScaffold = null;
     if (widget.dragDownToDismiss) {
-      dragDownToDissmissScaffold = Listener(
+      dragDownToDismissScaffold = Listener(
         onPointerMove: (ptr) => {_onPointerMove(ptr)},
         onPointerUp: (ptr) => {_onPointerUp(ptr)},
         onPointerDown: (ptr) => {_onPointerDown(ptr)},
@@ -399,15 +396,16 @@ class PageFrameworkState extends State<PageFramework>
           children: [
             Stack(
               children: [
-                ...getAppBarBackgroundColorLayers(
-                  animationControllerOpacity: _animationControllerOpacity,
-                  appBarBackgroundColor: widget.appBarBackgroundColor,
-                  appBarBackgroundColorStart: widget.appBarBackgroundColorStart,
-                  centeredTitle: centeredTitle,
-                  centeredTitleSmall: centeredTitleSmall,
-                  context: context,
-                  printValues: true,
-                ),
+                if (widget.transparentAppBar != true)
+                  ...getAppBarBackgroundColorLayers(
+                    animationControllerOpacity: _animationControllerOpacity,
+                    appBarBackgroundColor: widget.appBarBackgroundColor,
+                    appBarBackgroundColorStart:
+                        widget.appBarBackgroundColorStart,
+                    centeredTitle: centeredTitle,
+                    centeredTitleSmall: centeredTitleSmall,
+                    context: context,
+                  ),
                 AnimatedBuilder(
                   animation: _animationControllerDragY,
                   builder: (_, child) {
@@ -441,7 +439,7 @@ class PageFrameworkState extends State<PageFramework>
     if (widget.floatingActionButton != null) {
       child = Stack(
         children: [
-          dragDownToDissmissScaffold ?? scaffold,
+          dragDownToDismissScaffold ?? scaffold,
           Align(
             alignment: Alignment.bottomRight,
             child: Padding(
@@ -501,7 +499,7 @@ class PageFrameworkState extends State<PageFramework>
         ],
       );
     } else {
-      child = dragDownToDissmissScaffold ?? scaffold;
+      child = dragDownToDismissScaffold ?? scaffold;
     }
 
     child = SwipeToSelectTransactions(
@@ -774,7 +772,6 @@ List<Widget> getAppBarBackgroundColorLayers({
   required Color? appBarBackgroundColorStart,
   required bool centeredTitle,
   required bool centeredTitleSmall,
-  bool? printValues = false,
 }) {
   Color appBarBGColorCalculated = calculateAppBarBGColor(
     context: context,
@@ -782,6 +779,12 @@ List<Widget> getAppBarBackgroundColorLayers({
     centeredTitleSmall: centeredTitleSmall,
   );
   return [
+    Container(
+      color: appBarBackgroundColor ?? Theme.of(context).canvasColor,
+      // Fixes backdrop not fading correctly when using Impeller (iOS - Flutter v3.13)
+      width: MediaQuery.of(context).size.width,
+      height: MediaQuery.of(context).size.height - 1,
+    ),
     animationControllerOpacity != null && centeredTitleSmall
         ? AnimatedBuilder(
             animation: animationControllerOpacity,
@@ -792,6 +795,10 @@ List<Widget> getAppBarBackgroundColorLayers({
               );
             },
             child: Container(
+              // Fixes backdrop not fading correctly when using Impeller (iOS - Flutter v3.13)
+              width: MediaQuery.of(context).size.width,
+              height: MediaQuery.of(context).size.height - 1,
+
               color: appBarBackgroundColor ??
                   dynamicPastel(
                       context, Theme.of(context).colorScheme.secondaryContainer,
@@ -826,24 +833,13 @@ List<Widget> getAppBarBackgroundColorLayers({
             ),
           )
         : SizedBox.shrink(),
-    animationControllerOpacity != null && centeredTitleSmall == false
-        ? AnimatedBuilder(
-            animation: animationControllerOpacity,
-            builder: (_, child) {
-              return Opacity(
-                opacity: (animationControllerOpacity.value - 0.5) / 0.5,
-                child: child,
-              );
-            },
-            child: Container(
-              height: 1.2,
-              color: appBarBGColorCalculated,
-            ),
-          )
-        : SizedBox.shrink(),
-    centeredTitleSmall
+    centeredTitleSmall && appBarBackgroundColorStart == null
         ? SizedBox.shrink()
         : Container(
+            // Fixes backdrop not fading correctly when using Impeller (iOS - Flutter v3.13)
+            width: MediaQuery.of(context).size.width,
+            height: MediaQuery.of(context).size.height - 1,
+
             color: appBarBackgroundColorStart == null
                 ? Theme.of(context).canvasColor
                 : appBarBackgroundColorStart,
@@ -852,14 +848,16 @@ List<Widget> getAppBarBackgroundColorLayers({
         ? AnimatedBuilder(
             animation: animationControllerOpacity,
             builder: (_, child) {
-              if (printValues == true)
-                print((animationControllerOpacity.value - 0.5) / 0.5);
               return Opacity(
                 opacity: (animationControllerOpacity.value - 0.5) / 0.5,
                 child: child,
               );
             },
             child: Container(
+              // Fixes backdrop not fading correctly when using Impeller (iOS - Flutter v3.13)
+              width: MediaQuery.of(context).size.width,
+              height: MediaQuery.of(context).size.height - 1,
+
               color: appBarBGColorCalculated,
             ),
           )
diff --git a/budget/lib/widgets/globalSnackbar.dart b/budget/lib/widgets/globalSnackbar.dart
index a92035c88..e77bcf323 100644
--- a/budget/lib/widgets/globalSnackbar.dart
+++ b/budget/lib/widgets/globalSnackbar.dart
@@ -1,4 +1,5 @@
 import 'dart:async';
+import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/tappable.dart';
 import 'package:budget/widgets/textWidgets.dart';
 import 'package:flutter/material.dart';
@@ -173,7 +174,11 @@ class GlobalSnackbarState extends State<GlobalSnackbar>
                       animateOut();
                     },
                     borderRadius: 13,
-                    color: getColor(context, "lightDarkAccent"),
+                    color: appStateSettings["materialYou"]
+                        ? dynamicPastel(context,
+                            Theme.of(context).colorScheme.secondaryContainer,
+                            amountLight: 1, amountDark: 0)
+                        : getColor(context, "lightDarkAccent"),
                     child: Padding(
                       padding: const EdgeInsets.symmetric(
                           horizontal: 12, vertical: 8),
diff --git a/budget/lib/widgets/selectCategoryImage.dart b/budget/lib/widgets/selectCategoryImage.dart
index 7a1fadb5f..e10624d4e 100644
--- a/budget/lib/widgets/selectCategoryImage.dart
+++ b/budget/lib/widgets/selectCategoryImage.dart
@@ -156,7 +156,6 @@ class SuggestIcon extends StatelessWidget {
             Expanded(
               child: TextFont(
                 textColor: Theme.of(context).colorScheme.onSecondaryContainer,
-                richTextSpan: [],
                 text: "icon-suggestion-details".tr(),
                 maxLines: 5,
                 fontSize: 14,
diff --git a/budget/lib/widgets/showChangelog.dart b/budget/lib/widgets/showChangelog.dart
index cee66c824..c03ea1648 100644
--- a/budget/lib/widgets/showChangelog.dart
+++ b/budget/lib/widgets/showChangelog.dart
@@ -10,6 +10,13 @@ import 'package:flutter/material.dart';
 
 Future<void> showChangelog(context, {forceShow = false}) async {
   String changelog = """
+    < 4.0.7
+    Header color extended behind when swiping down to dismiss
+    New header for iOS
+    Removed blur components
+    New app bar color theming
+    Fixed font and colors for rich text
+    Upgraded to Flutter 3.13.2
     < 4.0.6
     Secondary header to match iOS style
     Fixed transition backdrop for popup sheet on iOS
diff --git a/budget/pubspec.yaml b/budget/pubspec.yaml
index 1700d2187..483b2a2df 100644
--- a/budget/pubspec.yaml
+++ b/budget/pubspec.yaml
@@ -15,7 +15,7 @@ publish_to: "none" # Remove this line if you wish to publish to pub.dev
 # In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.
 # Read more about iOS versioning at
 # https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html
-version: 4.0.6+158
+version: 4.0.7+159
 
 environment:
   sdk: ">= 3.0.0"
