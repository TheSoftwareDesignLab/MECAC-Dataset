diff --git a/budget/lib/main.dart b/budget/lib/main.dart
index ca82a1692..6b8ea4c5d 100644
--- a/budget/lib/main.dart
+++ b/budget/lib/main.dart
@@ -1,19 +1,19 @@
-import 'dart:convert';
 import 'package:budget/functions.dart';
+import 'package:budget/pages/accountsPage.dart';
 import 'package:budget/pages/autoTransactionsPageEmail.dart';
-import 'package:budget/struct/defaultPreferences.dart';
+import 'package:budget/pages/walletDetailsPage.dart';
+import 'package:budget/struct/currencyFunctions.dart';
 import 'package:budget/struct/iconObjects.dart';
 import 'package:budget/struct/keyboardIntents.dart';
 import 'package:budget/widgets/fadeIn.dart';
 import 'package:budget/struct/languageMap.dart';
 import 'package:budget/struct/initializeBiometrics.dart';
-import 'package:budget/widgets/openBottomSheet.dart';
+import 'package:budget/widgets/transactionEntry/transactionEntry.dart';
 import 'package:budget/widgets/util/appLinks.dart';
 import 'package:budget/widgets/util/onAppResume.dart';
 import 'package:budget/widgets/util/watchForDayChange.dart';
 import 'package:budget/widgets/watchAllWallets.dart';
 import 'package:budget/database/tables.dart';
-import 'package:budget/pages/onBoardingPage.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/struct/notificationsGlobal.dart';
@@ -27,10 +27,8 @@ import 'package:budget/widgets/restartApp.dart';
 import 'package:budget/struct/customDelayedCurve.dart';
 import 'package:flutter/foundation.dart';
 import 'package:flutter/material.dart';
-import 'package:flutter/services.dart';
 import 'package:budget/colors.dart';
 import 'package:shared_preferences/shared_preferences.dart';
-import 'package:package_info_plus/package_info_plus.dart';
 import 'package:firebase_core/firebase_core.dart';
 import 'package:device_preview/device_preview.dart';
 import 'package:timezone/data/latest_all.dart' as tz;
@@ -54,10 +52,8 @@ void main() async {
   database = await constructDb('db');
   notificationPayload = await initializeNotifications();
   entireAppLoaded = false;
-  currenciesJSON = await json.decode(
-      await rootBundle.loadString('assets/static/generated/currencies.json'));
-  languageNamesJSON = await json
-      .decode(await rootBundle.loadString('assets/static/language-names.json'));
+  await loadCurrencyJSON();
+  await loadLanguageNamesJSON();
   await initializeSettings();
   tz.initializeTimeZones();
   final String? locationName = await FlutterTimezone.getLocalTimezone();
@@ -68,14 +64,7 @@ void main() async {
   runApp(
     DevicePreview(
       enabled: enableDevicePreview,
-      builder: (context) => EasyLocalization(
-        // The custom LocaleLoader only references the LangCode
-        useOnlyLangCode: false,
-        assetLoader: RootBundleAssetLoaderCustomLocaleLoader(),
-        supportedLocales: supportedLocales.values.toList(),
-        path: 'assets/translations/generated',
-        useFallbackTranslations: true,
-        fallbackLocale: supportedLocales.values.toList().first,
+      builder: (context) => InitializeLocalizations(
         child: RestartApp(
           child: InitializeApp(key: appStateKey),
         ),
@@ -84,12 +73,6 @@ void main() async {
   );
 }
 
-late Map<String, dynamic> currenciesJSON;
-late Map<String, dynamic> languageNamesJSON;
-bool authAvailable = false;
-late bool entireAppLoaded;
-late PackageInfo packageInfoGlobal;
-
 GlobalKey<_InitializeAppState> appStateKey = GlobalKey();
 GlobalKey<PageNavigationFrameworkState> pageNavigationFrameworkKey =
     GlobalKey();
@@ -112,70 +95,44 @@ class _InitializeAppState extends State<InitializeApp> {
   }
 }
 
-final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();
-
 class App extends StatelessWidget {
   const App({Key? key}) : super(key: key);
 
   @override
   Widget build(BuildContext context) {
-    // FeatureDiscovery(
-    //   child:
     print("Rebuilt Material App");
-
     return MaterialApp(
       showPerformanceOverlay: kProfileMode,
       localizationsDelegates: context.localizationDelegates,
       supportedLocales: context.supportedLocales,
       locale:
           enableDevicePreview ? DevicePreview.locale(context) : context.locale,
-      // localeListResolutionCallback: (systemLocales, supportedLocales) {
-      //   print("LOCALE:" + context.locale.toString());
-      //   print("LOCALE:" + Platform.localeName);
-      //   return null;
-      // },
       shortcuts: shortcuts,
       actions: keyboardIntents,
       themeAnimationDuration: Duration(milliseconds: 400),
       themeAnimationCurve: CustomDelayedCurve(),
       key: ValueKey('CashewAppMain'),
       title: 'Cashew',
-      navigatorKey: navigatorKey,
       theme: getLightTheme(),
       darkTheme: getDarkTheme(),
       scrollBehavior: ScrollBehaviorOverride(),
       themeMode: getSettingConstants(appStateSettings)["theme"],
-      home: AnimatedSwitcher(
-          duration: Duration(milliseconds: 1200),
-          switchInCurve: Curves.easeInOutCubic,
-          switchOutCurve: Curves.easeInOutCubic,
-          transitionBuilder: (Widget child, Animation<double> animation) {
-            final inAnimation =
-                Tween<Offset>(begin: Offset(-1.0, 0.0), end: Offset(0.0, 0.0))
-                    .animate(animation);
-            final outAnimation =
-                Tween<Offset>(begin: Offset(1.0, 0.0), end: Offset(0.0, 0.0))
-                    .animate(animation);
-
-            if (child.key == ValueKey("Onboarding")) {
-              return ClipRect(
-                child: SlideTransition(
-                  position: inAnimation,
-                  child: child,
-                ),
-              );
-            } else {
-              return ClipRect(
-                child: SlideTransition(position: outAnimation, child: child),
-              );
-            }
-          },
-          child: appStateSettings["hasOnboarded"] != true
-              ? OnBoardingPage(key: ValueKey("Onboarding"))
-              : PageNavigationFramework(
-                  key: pageNavigationFrameworkKey,
-                  widthSideNavigationBar: getWidthNavigationSidebar(context),
-                )),
+      home: HandleWillPopScope(
+        child: Stack(
+          children: [
+            Row(
+              children: [
+                NavigationSidebar(key: sidebarStateKey),
+                Expanded(child: InitialPageRouteNavigator()),
+              ],
+            ),
+            GlobalSnackbar(key: snackbarKey),
+            //SignInWithGoogleFlyIn(),
+            GlobalLoadingIndeterminate(key: loadingIndeterminateKey),
+            GlobalLoadingProgress(key: loadingProgressKey),
+          ],
+        ),
+      ),
       builder: (context, child) {
         if (kReleaseMode) {
           ErrorWidget.builder = (FlutterErrorDetails errorDetails) {
@@ -194,129 +151,7 @@ class App extends StatelessWidget {
                 child: WatchForDayChange(
                   child: WatchSelectedWalletPk(
                     child: WatchAllWallets(
-                      child: Stack(
-                        children: [
-                          Row(
-                            children: [
-                              AnimatedContainer(
-                                duration: appStateSettings["appAnimations"] !=
-                                            AppAnimations.all.index ||
-                                        getWidthNavigationSidebar(context) <= 0
-                                    ? Duration.zero
-                                    : Duration(milliseconds: 1500),
-                                curve: Curves.easeInOutCubicEmphasized,
-                                width: getWidthNavigationSidebar(context),
-                                color: Theme.of(context).colorScheme.background,
-                              ),
-                              Expanded(
-                                child: Builder(builder: (context) {
-                                  double rightPaddingSafeArea =
-                                      MediaQuery.paddingOf(context).right;
-                                  bool hasRightSafeArea =
-                                      rightPaddingSafeArea > 0;
-                                  double leftPaddingSafeArea =
-                                      MediaQuery.paddingOf(context).left;
-                                  bool hasLeftSafeArea =
-                                      leftPaddingSafeArea > 0 &&
-                                          getIsFullScreen(context) == false;
-                                  // Only enable left safe area if no navigation sidebar
-                                  return Stack(
-                                    children: [
-                                      hasRightSafeArea || hasLeftSafeArea
-                                          ? Container(
-                                              color: Theme.of(context)
-                                                  .colorScheme
-                                                  .background,
-                                            )
-                                          : SizedBox.shrink(),
-                                      hasRightSafeArea || hasLeftSafeArea
-                                          ? Padding(
-                                              padding: EdgeInsets.only(
-                                                right: hasRightSafeArea
-                                                    ? rightPaddingSafeArea
-                                                    : 0,
-                                                left: hasLeftSafeArea
-                                                    ? leftPaddingSafeArea
-                                                    : 0,
-                                              ),
-                                              child: ClipRRect(
-                                                  borderRadius:
-                                                      BorderRadius.horizontal(
-                                                    right: hasRightSafeArea
-                                                        ? Radius.circular(25)
-                                                        : Radius.circular(0),
-                                                    left: hasLeftSafeArea
-                                                        ? Radius.circular(25)
-                                                        : Radius.circular(0),
-                                                  ),
-                                                  child: child ??
-                                                      SizedBox.shrink()),
-                                            )
-                                          : child ?? SizedBox.shrink(),
-                                      GlobalSnackbar(key: snackbarKey),
-                                      // SignInWithGoogleFlyIn(),
-                                      hasRightSafeArea
-                                          ? Align(
-                                              alignment: Alignment.centerRight,
-                                              child: Container(
-                                                width: rightPaddingSafeArea,
-                                                color: Theme.of(context)
-                                                    .colorScheme
-                                                    .background,
-                                              ),
-                                            )
-                                          : SizedBox.shrink(),
-                                      hasLeftSafeArea
-                                          ? Align(
-                                              alignment: Alignment.centerLeft,
-                                              child: Container(
-                                                width: leftPaddingSafeArea,
-                                                color: Theme.of(context)
-                                                    .colorScheme
-                                                    .background,
-                                              ),
-                                            )
-                                          : SizedBox.shrink(),
-                                      // Gradient fade to right overflow, disabled for now
-                                      // because many pages have full screen elements/banners etc
-                                      // hasRightSafeArea
-                                      //     ? Padding(
-                                      //         padding: EdgeInsets.only(
-                                      //             right: rightPaddingSafeArea),
-                                      //         child: Align(
-                                      //           alignment: Alignment.centerRight,
-                                      //           child: Container(
-                                      //             width: 12,
-                                      //             foregroundDecoration: BoxDecoration(
-                                      //               gradient: LinearGradient(
-                                      //                 colors: [
-                                      //                   Theme.of(context)
-                                      //                       .colorScheme.background
-                                      //                       .withOpacity(0.0),
-                                      //                   Theme.of(context).colorScheme.background,
-                                      //                 ],
-                                      //                 begin: Alignment.centerLeft,
-                                      //                 end: Alignment.centerRight,
-                                      //                 stops: [0.1, 1],
-                                      //               ),
-                                      //             ),
-                                      //           ),
-                                      //         ),
-                                      //       )
-                                      //     : SizedBox.shrink(),
-                                    ],
-                                  );
-                                }),
-                              ),
-                            ],
-                          ),
-                          NavigationSidebar(key: sidebarStateKey),
-                          // The persistent global Widget stack (stays on navigation change)
-                          GlobalLoadingIndeterminate(
-                              key: loadingIndeterminateKey),
-                          GlobalLoadingProgress(key: loadingProgressKey),
-                        ],
-                      ),
+                      child: child ?? SizedBox.shrink(),
                     ),
                   ),
                 ),
diff --git a/budget/lib/struct/currencyFunctions.dart b/budget/lib/struct/currencyFunctions.dart
index b9956ae87..eba667ae4 100644
--- a/budget/lib/struct/currencyFunctions.dart
+++ b/budget/lib/struct/currencyFunctions.dart
@@ -2,8 +2,16 @@ import 'package:budget/struct/settings.dart';
 import 'dart:convert';
 import 'package:budget/database/tables.dart';
 import 'package:budget/main.dart';
+import 'package:flutter/services.dart';
 import 'package:http/http.dart' as http;
 
+Map<String, dynamic> currenciesJSON = {};
+
+loadCurrencyJSON() async {
+  currenciesJSON = await json.decode(
+      await rootBundle.loadString('assets/static/generated/currencies.json'));
+}
+
 Future<bool> getExchangeRates() async {
   print("Getting exchange rates for current wallets");
   // List<String?> uniqueCurrencies =
diff --git a/budget/lib/struct/initializeBiometrics.dart b/budget/lib/struct/initializeBiometrics.dart
index 239b72deb..81576e896 100644
--- a/budget/lib/struct/initializeBiometrics.dart
+++ b/budget/lib/struct/initializeBiometrics.dart
@@ -4,6 +4,7 @@ import 'package:budget/main.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/animatedExpanded.dart';
 import 'package:budget/widgets/breathingAnimation.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/openPopup.dart';
 import 'package:budget/widgets/tappable.dart';
 import 'package:budget/widgets/textWidgets.dart';
@@ -20,6 +21,8 @@ enum AuthResult {
   errorBackupRestoreLaunch,
 }
 
+bool authAvailable = false;
+
 Future<AuthResult> checkBiometrics({
   bool checkAlways = false,
 }) async {
diff --git a/budget/lib/struct/initializeNotifications.dart b/budget/lib/struct/initializeNotifications.dart
index ea618fe00..8943434cc 100644
--- a/budget/lib/struct/initializeNotifications.dart
+++ b/budget/lib/struct/initializeNotifications.dart
@@ -7,6 +7,7 @@ import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/notificationsGlobal.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/struct/upcomingTransactionsFunctions.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/notificationsSettings.dart';
 import 'package:budget/widgets/openPopup.dart';
 import 'package:flutter/foundation.dart';
diff --git a/budget/lib/struct/keyboardIntents.dart b/budget/lib/struct/keyboardIntents.dart
index b74825b7f..5f2f50b39 100644
--- a/budget/lib/struct/keyboardIntents.dart
+++ b/budget/lib/struct/keyboardIntents.dart
@@ -1,4 +1,5 @@
 import 'package:budget/main.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:flutter/material.dart';
 import 'package:flutter/services.dart';
 
diff --git a/budget/lib/struct/languageMap.dart b/budget/lib/struct/languageMap.dart
index 21d99a2a4..b8199a8ba 100644
--- a/budget/lib/struct/languageMap.dart
+++ b/budget/lib/struct/languageMap.dart
@@ -1,9 +1,18 @@
+import 'dart:convert';
+
 import 'package:budget/struct/settings.dart';
 import 'package:easy_localization/easy_localization.dart';
 import 'package:flutter/material.dart';
+import 'package:flutter/services.dart';
 
 String globalAppName = "Cashew";
 
+Map<String, dynamic> languageNamesJSON = {};
+loadLanguageNamesJSON() async {
+  languageNamesJSON = await json
+      .decode(await rootBundle.loadString('assets/static/language-names.json'));
+}
+
 Map<String, Locale> supportedLocales = {
   "en": Locale("en"),
   "fr": Locale("fr"),
@@ -53,6 +62,14 @@ Map<String, Locale> supportedLocales = {
   "af": Locale("af"),
 };
 
+// In Material App to debug:
+// localeListResolutionCallback: (systemLocales, supportedLocales) {
+//   print("LOCALE:" + context.locale.toString());
+//   print("LOCALE:" + Platform.localeName);
+//   return null;
+// },
+
+// The custom LocaleLoader only references the LangCode
 // Fix loading of zh_Hant and other special script languages
 // Within easy_localization, supported locale checks the codes properly to see if its supported
 // ...LocaleExtension on Locale {
@@ -85,5 +102,23 @@ class RootBundleAssetLoaderCustomLocaleLoader extends RootBundleAssetLoader {
   }
 }
 
+class InitializeLocalizations extends StatelessWidget {
+  const InitializeLocalizations({required this.child, super.key});
+  final Widget child;
+
+  @override
+  Widget build(BuildContext context) {
+    return EasyLocalization(
+      useOnlyLangCode: false,
+      assetLoader: RootBundleAssetLoaderCustomLocaleLoader(),
+      supportedLocales: supportedLocales.values.toList(),
+      path: 'assets/translations/generated',
+      useFallbackTranslations: true,
+      fallbackLocale: supportedLocales.values.toList().first,
+      child: child,
+    );
+  }
+}
+
 // Language names can be found in
 // /budget/assets/static/language-names.json
diff --git a/budget/lib/struct/quickActions.dart b/budget/lib/struct/quickActions.dart
index ad49aa9c6..eae4aeae0 100644
--- a/budget/lib/struct/quickActions.dart
+++ b/budget/lib/struct/quickActions.dart
@@ -1,11 +1,11 @@
 import "package:budget/database/tables.dart";
 import "package:budget/functions.dart";
-import "package:budget/main.dart";
 import "package:budget/pages/addTransactionPage.dart";
 import "package:budget/pages/budgetPage.dart";
 import "package:budget/struct/databaseGlobal.dart";
 import "package:budget/struct/settings.dart";
 import "package:budget/struct/throttler.dart";
+import "package:budget/widgets/navigationFramework.dart";
 import "package:budget/widgets/openBottomSheet.dart";
 import "package:budget/widgets/openPopup.dart";
 import "package:easy_localization/easy_localization.dart";
diff --git a/budget/lib/struct/settings.dart b/budget/lib/struct/settings.dart
index f02889ab6..e34bf0188 100644
--- a/budget/lib/struct/settings.dart
+++ b/budget/lib/struct/settings.dart
@@ -26,6 +26,7 @@ import 'package:budget/pages/activityPage.dart';
 Map<String, dynamic> appStateSettings = {};
 bool isDatabaseCorrupted = false;
 bool isDatabaseImportedOnThisSession = false;
+PackageInfo? packageInfoGlobal;
 
 Future<bool> initializeSettings() async {
   packageInfoGlobal = await PackageInfo.fromPlatform();
diff --git a/budget/lib/struct/upcomingTransactionsFunctions.dart b/budget/lib/struct/upcomingTransactionsFunctions.dart
index 874558b26..704bf777f 100644
--- a/budget/lib/struct/upcomingTransactionsFunctions.dart
+++ b/budget/lib/struct/upcomingTransactionsFunctions.dart
@@ -6,6 +6,7 @@ import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/globalSnackbar.dart';
 import 'package:budget/struct/initializeNotifications.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/openPopup.dart';
 import 'package:budget/widgets/openSnackbar.dart';
 import 'package:budget/widgets/framework/popupFramework.dart';
diff --git a/budget/lib/widgets/currencyPicker.dart b/budget/lib/widgets/currencyPicker.dart
index 22bc90935..006e22ce6 100644
--- a/budget/lib/widgets/currencyPicker.dart
+++ b/budget/lib/widgets/currencyPicker.dart
@@ -2,6 +2,7 @@ import 'package:budget/colors.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
 import 'package:budget/pages/exchangeRatesPage.dart';
+import 'package:budget/struct/currencyFunctions.dart';
 import 'package:budget/struct/settings.dart';
 import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/noResults.dart';
diff --git a/budget/lib/widgets/navigationFramework.dart b/budget/lib/widgets/navigationFramework.dart
index 4bc57b243..4516c3966 100644
--- a/budget/lib/widgets/navigationFramework.dart
+++ b/budget/lib/widgets/navigationFramework.dart
@@ -20,6 +20,7 @@ import 'package:budget/pages/editWalletsPage.dart';
 import 'package:budget/pages/homePage/homePage.dart';
 import 'package:budget/pages/notificationsPage.dart';
 import 'package:budget/pages/objectivesListPage.dart';
+import 'package:budget/pages/onBoardingPage.dart';
 import 'package:budget/pages/premiumPage.dart';
 import 'package:budget/pages/settingsPage.dart';
 import 'package:budget/pages/subscriptionsPage.dart';
@@ -74,6 +75,186 @@ import 'package:googleapis/drive/v3.dart';
 import 'package:provider/provider.dart';
 // import 'package:feature_discovery/feature_discovery.dart';
 
+final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();
+
+// Handles onboarding too!
+class InitialPageRouteNavigator extends StatelessWidget {
+  const InitialPageRouteNavigator({super.key});
+
+  @override
+  Widget build(BuildContext context) {
+    return Navigator(
+      key: navigatorKey,
+      onGenerateRoute: (settings) => PageRouteBuilder(
+        pageBuilder: (context, animation, secondaryAnimation) =>
+            AnimatedSwitcher(
+          duration: Duration(milliseconds: 1200),
+          switchInCurve: Curves.easeInOutCubic,
+          switchOutCurve: Curves.easeInOutCubic,
+          transitionBuilder: (Widget child, Animation<double> animation) {
+            final inAnimation =
+                Tween<Offset>(begin: Offset(-1.0, 0.0), end: Offset(0.0, 0.0))
+                    .animate(animation);
+            final outAnimation =
+                Tween<Offset>(begin: Offset(1.0, 0.0), end: Offset(0.0, 0.0))
+                    .animate(animation);
+
+            if (child.key == ValueKey("Onboarding")) {
+              return ClipRect(
+                child: SlideTransition(
+                  position: inAnimation,
+                  child: child,
+                ),
+              );
+            } else {
+              return ClipRect(
+                child: SlideTransition(position: outAnimation, child: child),
+              );
+            }
+          },
+          child: appStateSettings["hasOnboarded"] != true
+              ? OnBoardingPage(key: ValueKey("Onboarding"))
+              : PageNavigationFrameworkSafeArea(
+                  child: PageNavigationFramework(
+                    key: pageNavigationFrameworkKey,
+                    widthSideNavigationBar: getWidthNavigationSidebar(context),
+                  ),
+                ),
+        ),
+      ),
+    );
+  }
+}
+
+class PageNavigationFrameworkSafeArea extends StatelessWidget {
+  const PageNavigationFrameworkSafeArea({required this.child, super.key});
+  final Widget child;
+
+  @override
+  Widget build(BuildContext context) {
+    double rightPaddingSafeArea = MediaQuery.paddingOf(context).right;
+    bool hasRightSafeArea = rightPaddingSafeArea > 0;
+    double leftPaddingSafeArea = MediaQuery.paddingOf(context).left;
+    bool hasLeftSafeArea =
+        leftPaddingSafeArea > 0 && getIsFullScreen(context) == false;
+
+    // Only enable left safe area if no navigation sidebar
+    return Stack(
+      children: [
+        hasRightSafeArea || hasLeftSafeArea
+            ? Container(
+                color: Theme.of(context).colorScheme.background,
+              )
+            : SizedBox.shrink(),
+        hasRightSafeArea || hasLeftSafeArea
+            ? Padding(
+                padding: EdgeInsets.only(
+                  right: hasRightSafeArea ? rightPaddingSafeArea : 0,
+                  left: hasLeftSafeArea ? leftPaddingSafeArea : 0,
+                ),
+                child: ClipRRect(
+                    borderRadius: BorderRadius.horizontal(
+                      right: hasRightSafeArea
+                          ? Radius.circular(
+                              getPlatform() == PlatformOS.isIOS ? 10 : 20)
+                          : Radius.circular(0),
+                      left: hasLeftSafeArea
+                          ? Radius.circular(
+                              getPlatform() == PlatformOS.isIOS ? 10 : 20)
+                          : Radius.circular(0),
+                    ),
+                    child: child),
+              )
+            : child,
+        hasRightSafeArea
+            ? Align(
+                alignment: Alignment.centerRight,
+                child: Container(
+                  width: rightPaddingSafeArea,
+                  color: Theme.of(context).colorScheme.background,
+                ),
+              )
+            : SizedBox.shrink(),
+        hasLeftSafeArea
+            ? Align(
+                alignment: Alignment.centerLeft,
+                child: Container(
+                  width: leftPaddingSafeArea,
+                  color: Theme.of(context).colorScheme.background,
+                ),
+              )
+            : SizedBox.shrink(),
+        // Gradient fade to right overflow, disabled for now
+        // because many pages have full screen elements/banners etc
+        // hasRightSafeArea
+        //     ? Padding(
+        //         padding: EdgeInsets.only(
+        //             right: rightPaddingSafeArea),
+        //         child: Align(
+        //           alignment: Alignment.centerRight,
+        //           child: Container(
+        //             width: 12,
+        //             foregroundDecoration: BoxDecoration(
+        //               gradient: LinearGradient(
+        //                 colors: [
+        //                   Theme.of(context)
+        //                       .colorScheme.background
+        //                       .withOpacity(0.0),
+        //                   Theme.of(context).colorScheme.background,
+        //                 ],
+        //                 begin: Alignment.centerLeft,
+        //                 end: Alignment.centerRight,
+        //                 stops: [0.1, 1],
+        //               ),
+        //             ),
+        //           ),
+        //         ),
+        //       )
+        //     : SizedBox.shrink(),
+      ],
+    );
+  }
+}
+
+class HandleWillPopScope extends StatelessWidget {
+  const HandleWillPopScope({required this.child, super.key});
+  final Widget child;
+
+  @override
+  Widget build(BuildContext context) {
+    return WillPopScope(
+      child: child,
+      onWillPop: () async {
+        bool popResult = await maybePopRoute(navigatorKey.currentContext);
+        if (popResult == true) return false;
+
+        // Deselect selected transactions
+        int notEmpty = 0;
+        for (String key in globalSelectedID.value.keys) {
+          if (globalSelectedID.value[key]?.isNotEmpty == true) notEmpty++;
+          globalSelectedID.value[key] = [];
+        }
+        globalSelectedID.notifyListeners();
+
+        // Allow the back button to exit the app when on home
+        if (notEmpty <= 0) {
+          if (pageNavigationFrameworkKey.currentState?.currentPage == 0) {
+            return true;
+          } else {
+            // Allow back button deselect a selected category first on All Spending page
+            if (pageNavigationFrameworkKey.currentState?.currentPage == 7 &&
+                categoryIsSelectedOnAllSpending) {
+              return true;
+            }
+            pageNavigationFrameworkKey.currentState?.changePage(0);
+          }
+        }
+        return false;
+      },
+    );
+  }
+}
+
 class PageNavigationFramework extends StatefulWidget {
   const PageNavigationFramework(
       {Key? key, required this.widthSideNavigationBar})
@@ -116,6 +297,7 @@ GlobalKey<GlobalLoadingIndeterminateState> loadingIndeterminateKey =
 GlobalKey<GlobalSnackbarState> snackbarKey = GlobalKey();
 GlobalKey<RenderHomePageWidgetsState> renderHomePageWidgetsKey = GlobalKey();
 
+late bool entireAppLoaded;
 bool runningCloudFunctions = false;
 bool errorSigningInDuringCloud = false;
 Future<bool> runAllCloudFunctions(BuildContext context,
@@ -301,159 +483,46 @@ class PageNavigationFrameworkState extends State<PageNavigationFramework> {
 
   @override
   Widget build(BuildContext context) {
-    return WillPopScope(
-      onWillPop: () async {
-        // Deselect selected transactions
-        int notEmpty = 0;
-        for (String key in globalSelectedID.value.keys) {
-          if (globalSelectedID.value[key]?.isNotEmpty == true) notEmpty++;
-          globalSelectedID.value[key] = [];
-        }
-        globalSelectedID.notifyListeners();
-
-        // Allow the back button to exit the app when on home
-        if (notEmpty <= 0) {
-          if (currentPage == 0) {
-            return true;
-          } else {
-            // Allow back button deselect a selected category first on All Spending page
-            if (currentPage == 7 && categoryIsSelectedOnAllSpending) {
-              return true;
-            }
-            changePage(0);
-          }
-        }
-
-        return false;
-      },
-
-      // The global Widget stack
-      child: Stack(children: [
-        Scaffold(
-          resizeToAvoidBottomInset: false,
-          body: FadeIndexedStack(
-            children: [...pages, ...pagesExtended],
-            index: currentPage,
-            duration: !kIsWeb
-                ? Duration.zero
-                : appStateSettings["batterySaver"]
-                    ? Duration.zero
-                    : Duration(milliseconds: 300),
-          ),
-          extendBody: false,
-          bottomNavigationBar: BottomNavBar(
-            currentNavigationStackedIndex: currentPage,
-            onChanged: (index) {
-              changePage(index);
-            },
-          ),
+    return Stack(children: [
+      Scaffold(
+        resizeToAvoidBottomInset: false,
+        body: FadeIndexedStack(
+          children: [...pages, ...pagesExtended],
+          index: currentPage,
+          duration: !kIsWeb
+              ? Duration.zero
+              : appStateSettings["batterySaver"]
+                  ? Duration.zero
+                  : Duration(milliseconds: 300),
         ),
-        Align(
-          alignment: AlignmentDirectional.bottomEnd,
-          child: Padding(
-            padding: EdgeInsetsDirectional.only(
-              bottom: getHeightNavigationSidebar(context) + 15,
-              end: 15,
-            ),
-            child: Stack(
-              children: [
-                // DescribedFeatureOverlay(
-                //   featureId: 'add_transaction_button',
-                //   tapTarget: IgnorePointer(
-                //     child: AnimateFAB(
-                //       fab: FAB(
-                //         tooltip: "Add Transaction",
-                //         openPage: AddTransactionPage(
-                //
-                //         ),
-                //       ),
-                //       condition: currentPage == 0 || currentPage == 1,
-                //     ),
-                //   ),
-                //   pulseDuration: Duration(milliseconds: 3500),
-                //   contentLocation: ContentLocation.above,
-                //   title: TextFont(
-                //     text: 'Add Transaction',
-                //     fontWeight: FontWeight.bold,
-                //     fontSize: 22,
-                //     maxLines: 3,
-                //   ),
-                //   description: TextFont(
-                //     text: 'Tap the plus to add a transaction',
-                //     fontSize: 17,
-                //     maxLines: 10,
-                //   ),
-                //   backgroundColor: Theme.of(context).primaryColor,
-                //   textColor: Colors.white,
-                //   child: AnimateFAB(
-                //     fab: FAB(
-                //       tooltip: "Add Transaction",
-                //       openPage: AddTransactionPage(
-                //
-                //       ),
-                //     ),
-                //     condition: currentPage == 0 || currentPage == 1,
-                //   ),
-                // ),
-
-                // AnimatedSwitcher(
-                //   duration: Duration(milliseconds: 350),
-                //   switchInCurve: Curves.easeOutCubic,
-                //   switchOutCurve: Curves.ease,
-                //   transitionBuilder:
-                //       (Widget child, Animation<double> animation) {
-                //     return FadeTransition(
-                //       opacity: animation,
-                //       child: ScaleTransition(
-                //         scale: Tween<double>(begin: 0.4, end: 1.0)
-                //             .animate(animation),
-                //         child: child,
-                //       ),
-                //     );
-                //   },
-                //   child: currentPage == 0 ||
-                //           currentPage == 1 ||
-                //           (previousPage == 0 && currentPage != 2) ||
-                //           (previousPage == 1 && currentPage != 2)
-                //       ? AnimateFAB(
-                //           key: ValueKey(1),
-                //           fab: FAB(
-                //             tooltip: "add-transaction".tr(),
-                //             openPage: AddTransactionPage(
-                //               routesToPopAfterDelete:
-                //                   RoutesToPopAfterDelete.None,
-                //             ),
-                //           ),
-                //           condition: currentPage == 0 || currentPage == 1,
-                //         )
-                //       : AnimateFAB(
-                //           key: ValueKey(2),
-                //           fab: FAB(
-                //             tooltip: "add-budget".tr(),
-                //             openPage: AddBudgetPage(
-                //               routesToPopAfterDelete:
-                //                   RoutesToPopAfterDelete.None,
-                //             ),
-                //           ),
-                //           condition: currentPage == 2,
-                //         ),
-                // ),
-                AnimateFAB(
-                  key: ValueKey(1),
-                  fab: AddFAB(
-                    tooltip: "add-transaction".tr(),
-                    openPage: AddTransactionPage(
-                      routesToPopAfterDelete: RoutesToPopAfterDelete.None,
-                    ),
-                  ),
-                  condition: [0, 1, 2, 14].contains(currentPage),
-                )
-              ],
+        extendBody: false,
+        bottomNavigationBar: BottomNavBar(
+          currentNavigationStackedIndex: currentPage,
+          onChanged: (index) {
+            changePage(index);
+          },
+        ),
+      ),
+      Align(
+        alignment: AlignmentDirectional.bottomEnd,
+        child: Padding(
+          padding: EdgeInsetsDirectional.only(
+            bottom: getHeightNavigationSidebar(context) + 15,
+            end: 15,
+          ),
+          child: AnimateFAB(
+            key: ValueKey(1),
+            fab: AddFAB(
+              tooltip: "add-transaction".tr(),
+              openPage: AddTransactionPage(
+                routesToPopAfterDelete: RoutesToPopAfterDelete.None,
+              ),
             ),
+            condition: [0, 1, 2, 14].contains(currentPage),
           ),
         ),
-      ]),
-    );
+      ),
+    ]);
   }
 }
 
diff --git a/budget/lib/widgets/openBottomSheet.dart b/budget/lib/widgets/openBottomSheet.dart
index 6faab92fa..e12f22de3 100644
--- a/budget/lib/widgets/openBottomSheet.dart
+++ b/budget/lib/widgets/openBottomSheet.dart
@@ -103,6 +103,7 @@ Future openBottomSheet(
 
   return await showSlidingBottomSheet(
     context,
+    useRootNavigator: false,
     resizeToAvoidBottomInset: resizeForKeyboard,
     // getOSInsideWeb() == "iOS" ? false : resizeForKeyboard,
     builder: (context) {
diff --git a/budget/lib/widgets/selectedTransactionsAppBar.dart b/budget/lib/widgets/selectedTransactionsAppBar.dart
index 45b038d0a..77f1f06e4 100644
--- a/budget/lib/widgets/selectedTransactionsAppBar.dart
+++ b/budget/lib/widgets/selectedTransactionsAppBar.dart
@@ -13,6 +13,7 @@ import 'package:budget/widgets/button.dart';
 import 'package:budget/widgets/dropdownSelect.dart';
 import 'package:budget/widgets/globalSnackbar.dart';
 import 'package:budget/widgets/moreIcons.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/navigationSidebar.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
 import 'package:budget/widgets/openPopup.dart';
diff --git a/budget/lib/widgets/showChangelog.dart b/budget/lib/widgets/showChangelog.dart
index a35a3c00c..6c843cba2 100644
--- a/budget/lib/widgets/showChangelog.dart
+++ b/budget/lib/widgets/showChangelog.dart
@@ -18,6 +18,7 @@ import 'package:budget/widgets/outlinedButtonStacked.dart';
 import 'package:budget/widgets/textWidgets.dart';
 import 'package:easy_localization/easy_localization.dart';
 import 'package:flutter/material.dart';
+import 'package:package_info_plus/package_info_plus.dart';
 import 'listItem.dart';
 
 // Device legend
@@ -2456,7 +2457,7 @@ bool showChangelog(
   bool majorChangesOnly = false,
   Widget? extraWidget,
 }) {
-  String version = packageInfoGlobal.version;
+  String version = packageInfoGlobal?.version ?? "";
 
   List<Widget>? changelogPoints = getChangelogPointsWidgets(
     context,
@@ -2503,7 +2504,7 @@ List<Widget>? getChangelogPointsWidgets(BuildContext context,
     {bool forceShow = false, bool majorChangesOnly = false}) {
   String changelog = getChangelogString();
   Map<String, List<MajorChanges>> majorChanges = getMajorChanges();
-  String version = packageInfoGlobal.version;
+  String version = packageInfoGlobal?.version ?? "";
   int versionInt = parseVersionInt(version);
   int lastLoginVersionInt =
       parseVersionInt(appStateSettings["lastLoginVersion"]);
@@ -2601,8 +2602,8 @@ int parseVersionInt(String versionString) {
 }
 
 String getVersionString() {
-  String version = packageInfoGlobal.version;
-  String buildNumber = packageInfoGlobal.buildNumber;
+  String version = packageInfoGlobal?.version ?? "";
+  String buildNumber = packageInfoGlobal?.buildNumber ?? "";
   return "v" +
       version +
       "+" +
diff --git a/budget/lib/widgets/transactionEntry/transactionEntry.dart b/budget/lib/widgets/transactionEntry/transactionEntry.dart
index df140b70b..776f51630 100644
--- a/budget/lib/widgets/transactionEntry/transactionEntry.dart
+++ b/budget/lib/widgets/transactionEntry/transactionEntry.dart
@@ -2,6 +2,7 @@ import 'dart:convert';
 import 'package:budget/database/tables.dart';
 import 'package:budget/functions.dart';
 import 'package:budget/main.dart';
+import 'package:budget/struct/currencyFunctions.dart';
 import 'package:budget/struct/databaseGlobal.dart';
 import 'package:budget/struct/listenableSelector.dart';
 import 'package:budget/struct/settings.dart';
diff --git a/budget/lib/widgets/util/appLinks.dart b/budget/lib/widgets/util/appLinks.dart
index 4856ebf0d..f32e67744 100644
--- a/budget/lib/widgets/util/appLinks.dart
+++ b/budget/lib/widgets/util/appLinks.dart
@@ -11,6 +11,7 @@ import 'package:budget/struct/settings.dart';
 import 'package:budget/struct/throttler.dart';
 import 'package:budget/widgets/globalSnackbar.dart';
 import 'package:budget/widgets/importCSV.dart';
+import 'package:budget/widgets/navigationFramework.dart';
 import 'package:budget/widgets/openBottomSheet.dart';
 import 'package:budget/widgets/openPopup.dart';
 import 'package:budget/widgets/openSnackbar.dart';
