diff --git a/authpass/lib/bloc/app_data.dart b/authpass/lib/bloc/app_data.dart
index c0778cd30..d15d87f22 100644
--- a/authpass/lib/bloc/app_data.dart
+++ b/authpass/lib/bloc/app_data.dart
@@ -194,6 +194,7 @@ abstract class AppData implements Built<AppData, AppDataBuilder>, HasToJson {
 Serializers serializers = (_$serializers.toBuilder()
       ..add(SimpleEnumSerializer<OpenedFilesSourceType>(
           OpenedFilesSourceType.values))
+      ..add(SimpleEnumSerializer<AppDataTheme>(AppDataTheme.values))
       ..addPlugin(StandardJsonPlugin()))
     .build();
 
diff --git a/authpass/lib/ui/screens/preferences.dart b/authpass/lib/ui/screens/preferences.dart
index 0f00fc1dd..31edb34f2 100644
--- a/authpass/lib/ui/screens/preferences.dart
+++ b/authpass/lib/ui/screens/preferences.dart
@@ -132,7 +132,7 @@ class _PreferencesBodyState extends State<PreferencesBody>
               : _appData?.theme == AppDataTheme.light
                   ? const Text('Light')
                   : const Text('Dark'),
-          onTap: () {
+          onTap: () async {
             if (_appData == null) {
               return;
             }
@@ -141,7 +141,8 @@ class _PreferencesBodyState extends State<PreferencesBody>
                 : _appData.theme == AppDataTheme.light
                     ? AppDataTheme.dark
                     : null;
-            _appDataBloc.update((builder, data) => builder.theme = nextTheme);
+            await _appDataBloc
+                .update((builder, data) => builder.theme = nextTheme);
           },
         ),
       ],
diff --git a/authpass/lib/utils/path_utils.dart b/authpass/lib/utils/path_utils.dart
index 9dd7ff93b..e8ca44110 100644
--- a/authpass/lib/utils/path_utils.dart
+++ b/authpass/lib/utils/path_utils.dart
@@ -33,7 +33,8 @@ class PathUtils {
   }
 
   Future<Directory> getLogDirectory() async {
-    return Directory(path.join((await getAppDataDirectory()).path, 'logs'));
+    return Directory(
+        path.join((_namespaced(await getTemporaryDirectory())).path, 'logs'));
   }
 
   Future<Directory> _getDesktopDirectory() async {
diff --git a/authpass/pubspec.lock b/authpass/pubspec.lock
index 75a6b9d9c..d6afaca3e 100644
--- a/authpass/pubspec.lock
+++ b/authpass/pubspec.lock
@@ -569,14 +569,14 @@ packages:
       name: path_provider
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "1.5.1"
+    version: "1.6.0"
   path_provider_macos:
     dependency: "direct main"
     description:
       name: path_provider_macos
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "0.0.2+1"
+    version: "0.0.3"
   pedantic:
     dependency: "direct main"
     description:
diff --git a/authpass/pubspec.yaml b/authpass/pubspec.yaml
index 635ef50ba..982e2855b 100644
--- a/authpass/pubspec.yaml
+++ b/authpass/pubspec.yaml
@@ -48,8 +48,8 @@ dependencies:
   package_info_macos:
     path: ../deps/package_info_macos
   device_info: ^0.4.1+4
-  path_provider: ^1.5.1
-  path_provider_macos: ^0.0.2+1
+  path_provider: ^1.6.0
+  path_provider_macos: ^0.0.3
   analytics_event_gen:
     path: ../deps/analytics_events/analytics_event_gen
   autofill_service:
