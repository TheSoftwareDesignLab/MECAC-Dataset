diff --git a/.github/workflows/main.yml b/.github/workflows/main.yml
index f8c3b7298..fbfd9c8ba 100644
--- a/.github/workflows/main.yml
+++ b/.github/workflows/main.yml
@@ -1,4 +1,4 @@
-name: build android samsungapps
+name: build android
 
 on: [push]
 
@@ -41,13 +41,6 @@ jobs:
         GIT_COMMITTER_EMAIL: 'herbert.github.ci@codeux.design'
       run: "./authpass/_tools/ci-release.sh android ${{ matrix.flavor }}"
     - uses: actions/upload-artifact@v1
-      if: matrix.flavor != 'huawei'
       with:
         name: app-${{ matrix.flavor }}-release-${{steps.buildapk.outputs.appbuildnumber}}.apk
         path: authpass/build/app/outputs/apk/${{ matrix.flavor }}/release/app-${{ matrix.flavor }}-release.apk
-    - uses: actions/upload-artifact@v1
-      if: matrix.flavor == 'huawei'
-      with:
-        name: app-${{ matrix.flavor }}-release-${{steps.buildapk.outputs.appbuildnumber}}.aab
-        path: authpass/build/app/outputs/bundle/${{ matrix.flavor }}Release/app-${{ matrix.flavor }}-release.aab
-
diff --git a/authpass/_tools/release.sh b/authpass/_tools/release.sh
index 960b6e863..dc2226269 100755
--- a/authpass/_tools/release.sh
+++ b/authpass/_tools/release.sh
@@ -79,8 +79,8 @@ case "$1" in
     ;;
     huawei)
         export GRADLE_USER_HOME=$(pwd)/_tools/secrets/gradle_home
-        #$FLT build -v apk -t lib/env/production.dart --release --build-number $buildnumber --flavor huawei
-        $FLT build -v appbundle -t lib/env/production.dart --release --build-number $buildnumber --flavor huawei
+        $FLT build -v apk -t lib/env/production.dart --release --build-number $buildnumber --flavor huawei
+#        $FLT build -v appbundle -t lib/env/production.dart --release --build-number $buildnumber --flavor huawei
     ;;
     sideload)
         export GRADLE_USER_HOME=$(pwd)/_tools/secrets/gradle_home
diff --git a/authpass/pubspec.lock b/authpass/pubspec.lock
index 556809faf..ccd1b6f43 100644
--- a/authpass/pubspec.lock
+++ b/authpass/pubspec.lock
@@ -271,6 +271,13 @@ packages:
       url: "https://pub.dartlang.org"
     source: hosted
     version: "3.0.9"
+  fake_async:
+    dependency: transitive
+    description:
+      name: fake_async
+      url: "https://pub.dartlang.org"
+    source: hosted
+    version: "1.1.0"
   ffi:
     dependency: "direct main"
     description:
@@ -461,13 +468,6 @@ packages:
       url: "https://pub.dartlang.org"
     source: hosted
     version: "3.1.3"
-  image:
-    dependency: transitive
-    description:
-      name: image
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.1.12"
   intl:
     dependency: "direct main"
     description:
@@ -509,7 +509,7 @@ packages:
       name: json_rpc_2
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "2.1.0"
+    version: "2.1.1"
   json_serializable:
     dependency: "direct dev"
     description:
@@ -646,7 +646,7 @@ packages:
       name: path
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "1.6.4"
+    version: "1.7.0"
   path_drawing:
     dependency: transitive
     description:
diff --git a/authpass/test_driver/app_test.dart b/authpass/test_driver/app_test.dart
index e52122b1f..70871abfe 100644
--- a/authpass/test_driver/app_test.dart
+++ b/authpass/test_driver/app_test.dart
@@ -45,6 +45,8 @@ void main() {
     test('open kdbx 3 file', () async {
       await driver.tap(downloadButton);
 
+      await driver.waitUntilNoTransientCallbacks();
+
       await driver.enterText(
           'https://github.com/authpass/kdbx.dart/raw/master/test/kdbx4_keeweb.kdbx');
       await takeScreenshot();
@@ -54,6 +56,9 @@ void main() {
 //      await driver.waitUntilNoTransientCallbacks(
 //          timeout: const Duration(seconds: 10));
       await takeScreenshot();
+
+      await driver.waitUntilNoTransientCallbacks();
+
       await driver.enterText('asdf');
       await driver.tap(find.byType('CheckboxListTile'));
       await driver.tap(find.text('Continue'));
