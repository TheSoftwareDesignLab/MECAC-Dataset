diff --git a/.blackbox/pubring.kbx b/.blackbox/pubring.kbx
index 39be11345..59fc78e7e 100644
Binary files a/.blackbox/pubring.kbx and b/.blackbox/pubring.kbx differ
diff --git a/authpass/.idea/runConfigurations/main_dart.xml b/authpass/.idea/runConfigurations/main_dart.xml
deleted file mode 100644
index aab7b5cd8..000000000
--- a/authpass/.idea/runConfigurations/main_dart.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<component name="ProjectRunConfigurationManager">
-  <configuration default="false" name="main.dart" type="FlutterRunConfigurationType" factoryName="Flutter">
-    <option name="filePath" value="$PROJECT_DIR$/lib/main.dart" />
-    <method />
-  </configuration>
-</component>
\ No newline at end of file
diff --git a/authpass/lib/bloc/authpass_cloud_bloc.dart b/authpass/lib/bloc/authpass_cloud_bloc.dart
index aab56b11f..c94f1b026 100644
--- a/authpass/lib/bloc/authpass_cloud_bloc.dart
+++ b/authpass/lib/bloc/authpass_cloud_bloc.dart
@@ -314,6 +314,12 @@ class AuthPassCloudBloc with ChangeNotifier {
   Future<void> clearToken() async {
     await _saveToken(null);
   }
+
+  Future<Mailbox> findMailboxByUuid(ApiUuid uuid) async {
+    final list = await mailboxList.load();
+    return list.mailboxes
+        .firstWhere((element) => uuid == element.id, orElse: () => null);
+  }
 }
 
 class EmailMessageList {
@@ -377,16 +383,16 @@ class ReloadableValueStream<T> extends StreamView<T> implements ValueStream<T> {
   @override
   T get value => _valueStream.value;
 
-  Future<void> reload() async {
-    await _stream.reload();
-  }
+  Future<T> load() async => _stream.load();
+
+  Future<T> reload() async => await _stream.reload();
 }
 
 class LazyBehaviorSubject<T> {
   LazyBehaviorSubject(this._loadData);
 
   final _subject = BehaviorSubject<T>();
-  final _joinRun = JoinRun<void>();
+  final _joinRun = JoinRun<T>();
   Future<T> Function() _loadData;
 
   bool _dirty = true;
@@ -399,23 +405,31 @@ class LazyBehaviorSubject<T> {
     return ReloadableValueStream(this);
   }
 
-  Future<void> reload() async {
+  Future<T> reload() async {
     dirty();
-    await load();
+    return await load();
   }
 
-  Future<void> load() async {
+  Future<T> load() async {
     if (_loadData == null) {
       _logger.warning(
           'calling reload on $runtimeType before anyone getting a stream.');
-      return;
+      return null;
     }
-    await _joinRun.joinRun(() async {
+    return await _joinRun.joinRun(() async {
       if (!_dirty) {
-        return;
+        return _subject.value;
+      }
+      try {
+        final data = await _loadData();
+        _subject.add(data);
+        return data;
+      } catch (error, stackTrace) {
+        _subject.addError(error, stackTrace);
+        rethrow;
+      } finally {
+        _dirty = false;
       }
-      await _subject.addStream(Stream.fromFuture(_loadData()));
-      _dirty = false;
     });
   }
 
diff --git a/authpass/lib/ui/screens/cloud/cloud_mail_read.dart b/authpass/lib/ui/screens/cloud/cloud_mail_read.dart
index b9c4df865..c5bddadbc 100644
--- a/authpass/lib/ui/screens/cloud/cloud_mail_read.dart
+++ b/authpass/lib/ui/screens/cloud/cloud_mail_read.dart
@@ -1,17 +1,25 @@
 import 'package:authpass/bloc/authpass_cloud_bloc.dart';
+import 'package:authpass/bloc/kdbx_bloc.dart';
 import 'package:authpass/theme.dart';
+import 'package:authpass/ui/screens/cloud/cloud_viewmodel.dart';
+import 'package:authpass/ui/screens/password_list.dart';
 import 'package:authpass/ui/widgets/async/retry_future_builder.dart';
 import 'package:authpass/utils/dialog_utils.dart';
+import 'package:authpass/utils/extension_methods.dart';
 import 'package:authpass/utils/format_utils.dart';
+import 'package:authpass/utils/theme_utils.dart';
 import 'package:authpass_cloud_shared/authpass_cloud_shared.dart';
-import 'package:enough_mail/enough_mail.dart' as enough;
+import 'package:flinq/flinq.dart';
 import 'package:flutter/material.dart';
 import 'package:flutter/widgets.dart';
 import 'package:flutter_html/flutter_html.dart';
 import 'package:flutter_linkify/flutter_linkify.dart';
 import 'package:font_awesome_flutter/font_awesome_flutter.dart';
 import 'package:provider/provider.dart';
-import 'package:flinq/flinq.dart';
+
+import 'package:logging/logging.dart';
+
+final _logger = Logger('cloud_mail_read');
 
 class EmailReadScreen extends StatefulWidget {
   const EmailReadScreen({
@@ -42,14 +50,32 @@ class _EmailReadScreenState extends State<EmailReadScreen> {
 
   @override
   Widget build(BuildContext context) {
-    return RetryFutureBuilder<enough.MimeMessage>(
-      produceFuture: (context) => widget.bloc.loadMail(widget.emailMessage),
+    final vm = EmailViewModel(emailMessage: widget.emailMessage);
+    final kdbxBloc = context.watch<KdbxBloc>();
+    return RetryStreamBuilder<EmailViewModel>(
+      stream: (context) => (() async* {
+        final emailMessage = widget.emailMessage;
+        final mailbox =
+            await widget.bloc.findMailboxByUuid(emailMessage.mailboxEntryUuid);
+        if (mailbox == null) {
+          _logger.warning('Unable to find mailbox for '
+              'uuid ${emailMessage.mailboxEntryUuid}');
+        }
+        final entry =
+            mailbox?.entryUuid?.let((uuid) => kdbxBloc.findEntryByUuid(uuid));
+        final vm2 = vm.copyWith(mailbox: mailbox, kdbxEntry: entry);
+        yield vm2;
+        yield vm2.copyWith(
+          mimeMessage: await widget.bloc.loadMail(emailMessage),
+        );
+      })(),
+      initialValue: vm,
       scaffoldBuilder: (context, child, snapshot) {
         var hasHtml = false;
         var hasText = false;
         if (snapshot.hasData) {
-          hasHtml = snapshot.data.decodeTextHtmlPart() != null;
-          hasText = snapshot.data.decodeTextPlainPart() != null;
+          hasHtml = snapshot.data.mimeMessage?.decodeTextHtmlPart() != null;
+          hasText = snapshot.data.mimeMessage?.decodeTextPlainPart() != null;
         }
         return Scaffold(
           appBar: AppBar(
@@ -82,7 +108,7 @@ class _EmailReadScreenState extends State<EmailReadScreen> {
       },
       builder: (context, message) => EmailRead(
         bloc: widget.bloc,
-        message: message,
+        vm: message,
         forcePlainText: _forcePlainText,
       ),
     );
@@ -90,14 +116,16 @@ class _EmailReadScreenState extends State<EmailReadScreen> {
 }
 
 class EmailRead extends StatelessWidget {
-  const EmailRead(
-      {Key key,
-      @required this.bloc,
-      @required this.message,
-      this.forcePlainText})
-      : super(key: key);
+  const EmailRead({
+    Key key,
+    @required this.bloc,
+    @required this.vm,
+    this.forcePlainText,
+  })  : assert(bloc != null),
+        assert(vm != null),
+        super(key: key);
   final AuthPassCloudBloc bloc;
-  final enough.MimeMessage message;
+  final EmailViewModel vm;
   final bool forcePlainText;
 
   @override
@@ -107,12 +135,19 @@ class EmailRead extends StatelessWidget {
           height: 1.4,
         );
     final formatUtil = context.watch<FormatUtils>();
-    final htmlData = message.decodeTextHtmlPart();
+    final htmlData = vm.mimeMessage?.decodeTextHtmlPart();
     final headers = {
-      'Subject': message.decodeHeaderValue('subject'),
-      'From':
-          message.decodeHeaderMailAddressValue('from').firstOrNull?.toString(),
-      'Date': formatUtil.formatDateFull(message.decodeHeaderDateValue('date')),
+      'Subject': vm.mimeMessage?.decodeHeaderValue('subject') ??
+          vm.emailMessage.subject,
+      'From': vm.mimeMessage
+              ?.decodeHeaderMailAddressValue('from')
+              ?.firstOrNull
+              ?.toString() ??
+          vm.emailMessage.sender,
+      'Date': formatUtil.formatDateFull(
+          vm.mimeMessage?.decodeHeaderDateValue('date') ??
+              vm.emailMessage.createdAt),
+      'Mailbox': vm.kdbxEntry?.label ?? vm.mailbox?.label?.takeUnlessBlank(),
 //          'To': message.decodeHeaderValue('to'),
     };
     final textSpans = headers.entries
@@ -127,58 +162,78 @@ class EmailRead extends StatelessWidget {
             ])
         .toList()
           ..removeLast();
+    final entryVm = vm.kdbxEntry
+        ?.let((entry) => EntryViewModel(entry, context.watch<KdbxBloc>()));
+    const iconSize = 56.0;
+    final theme = Theme.of(context);
+    final fallbackIcon = (BuildContext context) => Icon(
+          Icons.email,
+          color: theme.iconColor(null),
+          size: iconSize,
+        );
     return Column(
       crossAxisAlignment: CrossAxisAlignment.stretch,
       children: <Widget>[
         Material(
           elevation: 1,
-          color: Theme.of(context).cardColor,
+          color: theme.cardColor,
           child: Container(
             padding: const EdgeInsets.all(16),
-            child: RichText(
-              text: TextSpan(children: textSpans, style: textStyle),
+            child: Row(
+              children: [
+                entryVm == null
+                    ? fallbackIcon(context)
+                    : EntryIcon(
+                        vm: entryVm,
+                        fallback: (context) => EntryIcon.defaultIcon(
+                            entryVm, null, theme, iconSize),
+                        size: iconSize,
+                      ),
+                const SizedBox(width: 16),
+                Expanded(
+                  child: RichText(
+                    text: TextSpan(children: textSpans, style: textStyle),
 //                'Subject: ${message.decodeHeaderValue('subject')}\n'
 //                'Date: ${formatUtil.formatDateFull(message.decodeHeaderDateValue('date'))}',
-              maxLines: null,
+                    maxLines: null,
+                  ),
+                ),
+              ],
             ),
           ),
         ),
-        htmlData != null && !forcePlainText
-            ? Expanded(
-                child: Scrollbar(
+        Expanded(
+          child: vm.mimeMessage == null
+              ? const Center(child: CircularProgressIndicator())
+              : Scrollbar(
                   child: SingleChildScrollView(
-                    child: Html(
-                      data: htmlData,
-                      onLinkTap: (link) {
-                        DialogUtils.openUrl(link);
-                      },
-                    ),
-                  ),
-                ),
-              )
-            : Expanded(
-                child: Scrollbar(
-                  child: SingleChildScrollView(
-                    child: Padding(
-                      padding: const EdgeInsets.all(16.0),
-                      child: SelectableLinkify(
+                    child: htmlData != null && !forcePlainText
+                        ? Html(
+                            data: htmlData,
+                            onLinkTap: (link) {
+                              DialogUtils.openUrl(link);
+                            },
+                          )
+                        : Padding(
+                            padding: const EdgeInsets.all(16.0),
+                            child: SelectableLinkify(
 //                    child: Linkify(
-                        text: (message.decodeTextPlainPart() ??
-                                message.decodeContentText())
-                            .replaceAll('\r', ''),
-                        maxLines: null,
-                        options: LinkifyOptions(
-                          humanize: false,
-                        ),
-                        onOpen: (link) async {
-                          await DialogUtils.openUrl(link.url);
-                        },
-                        style: textStyle,
-                      ),
-                    ),
+                              text: (vm.mimeMessage?.decodeTextPlainPart() ??
+                                      vm.mimeMessage?.decodeContentText())
+                                  .replaceAll('\r', ''),
+                              maxLines: null,
+                              options: LinkifyOptions(
+                                humanize: false,
+                              ),
+                              onOpen: (link) async {
+                                await DialogUtils.openUrl(link.url);
+                              },
+                              style: textStyle,
+                            ),
+                          ),
                   ),
                 ),
-              ),
+        ),
       ],
     );
   }
diff --git a/authpass/lib/ui/screens/cloud/cloud_viewmodel.dart b/authpass/lib/ui/screens/cloud/cloud_viewmodel.dart
new file mode 100644
index 000000000..4f297bd7e
--- /dev/null
+++ b/authpass/lib/ui/screens/cloud/cloud_viewmodel.dart
@@ -0,0 +1,16 @@
+import 'package:authpass_cloud_shared/authpass_cloud_shared.dart';
+import 'package:enough_mail/enough_mail.dart' show MimeMessage;
+import 'package:freezed_annotation/freezed_annotation.dart';
+import 'package:kdbx/kdbx.dart';
+
+part 'cloud_viewmodel.freezed.dart';
+
+@freezed
+abstract class EmailViewModel with _$EmailViewModel {
+  const factory EmailViewModel({
+    EmailMessage emailMessage,
+    MimeMessage mimeMessage,
+    Mailbox mailbox,
+    KdbxEntry kdbxEntry,
+  }) = _EmailViewModel;
+}
diff --git a/authpass/lib/ui/screens/cloud/cloud_viewmodel.freezed.dart b/authpass/lib/ui/screens/cloud/cloud_viewmodel.freezed.dart
new file mode 100644
index 000000000..87e294092
--- /dev/null
+++ b/authpass/lib/ui/screens/cloud/cloud_viewmodel.freezed.dart
@@ -0,0 +1,192 @@
+// GENERATED CODE - DO NOT MODIFY BY HAND
+// ignore_for_file: deprecated_member_use, deprecated_member_use_from_same_package, use_function_type_syntax_for_parameters, unnecessary_const, avoid_init_to_null, invalid_override_different_default_values_named, prefer_expression_function_bodies
+
+part of 'cloud_viewmodel.dart';
+
+// **************************************************************************
+// FreezedGenerator
+// **************************************************************************
+
+T _$identity<T>(T value) => value;
+
+class _$EmailViewModelTearOff {
+  const _$EmailViewModelTearOff();
+
+// ignore: unused_element
+  _EmailViewModel call(
+      {EmailMessage emailMessage,
+      MimeMessage mimeMessage,
+      Mailbox mailbox,
+      KdbxEntry kdbxEntry}) {
+    return _EmailViewModel(
+      emailMessage: emailMessage,
+      mimeMessage: mimeMessage,
+      mailbox: mailbox,
+      kdbxEntry: kdbxEntry,
+    );
+  }
+}
+
+// ignore: unused_element
+const $EmailViewModel = _$EmailViewModelTearOff();
+
+mixin _$EmailViewModel {
+  EmailMessage get emailMessage;
+  MimeMessage get mimeMessage;
+  Mailbox get mailbox;
+  KdbxEntry get kdbxEntry;
+
+  $EmailViewModelCopyWith<EmailViewModel> get copyWith;
+}
+
+abstract class $EmailViewModelCopyWith<$Res> {
+  factory $EmailViewModelCopyWith(
+          EmailViewModel value, $Res Function(EmailViewModel) then) =
+      _$EmailViewModelCopyWithImpl<$Res>;
+  $Res call(
+      {EmailMessage emailMessage,
+      MimeMessage mimeMessage,
+      Mailbox mailbox,
+      KdbxEntry kdbxEntry});
+}
+
+class _$EmailViewModelCopyWithImpl<$Res>
+    implements $EmailViewModelCopyWith<$Res> {
+  _$EmailViewModelCopyWithImpl(this._value, this._then);
+
+  final EmailViewModel _value;
+  // ignore: unused_field
+  final $Res Function(EmailViewModel) _then;
+
+  @override
+  $Res call({
+    Object emailMessage = freezed,
+    Object mimeMessage = freezed,
+    Object mailbox = freezed,
+    Object kdbxEntry = freezed,
+  }) {
+    return _then(_value.copyWith(
+      emailMessage: emailMessage == freezed
+          ? _value.emailMessage
+          : emailMessage as EmailMessage,
+      mimeMessage: mimeMessage == freezed
+          ? _value.mimeMessage
+          : mimeMessage as MimeMessage,
+      mailbox: mailbox == freezed ? _value.mailbox : mailbox as Mailbox,
+      kdbxEntry:
+          kdbxEntry == freezed ? _value.kdbxEntry : kdbxEntry as KdbxEntry,
+    ));
+  }
+}
+
+abstract class _$EmailViewModelCopyWith<$Res>
+    implements $EmailViewModelCopyWith<$Res> {
+  factory _$EmailViewModelCopyWith(
+          _EmailViewModel value, $Res Function(_EmailViewModel) then) =
+      __$EmailViewModelCopyWithImpl<$Res>;
+  @override
+  $Res call(
+      {EmailMessage emailMessage,
+      MimeMessage mimeMessage,
+      Mailbox mailbox,
+      KdbxEntry kdbxEntry});
+}
+
+class __$EmailViewModelCopyWithImpl<$Res>
+    extends _$EmailViewModelCopyWithImpl<$Res>
+    implements _$EmailViewModelCopyWith<$Res> {
+  __$EmailViewModelCopyWithImpl(
+      _EmailViewModel _value, $Res Function(_EmailViewModel) _then)
+      : super(_value, (v) => _then(v as _EmailViewModel));
+
+  @override
+  _EmailViewModel get _value => super._value as _EmailViewModel;
+
+  @override
+  $Res call({
+    Object emailMessage = freezed,
+    Object mimeMessage = freezed,
+    Object mailbox = freezed,
+    Object kdbxEntry = freezed,
+  }) {
+    return _then(_EmailViewModel(
+      emailMessage: emailMessage == freezed
+          ? _value.emailMessage
+          : emailMessage as EmailMessage,
+      mimeMessage: mimeMessage == freezed
+          ? _value.mimeMessage
+          : mimeMessage as MimeMessage,
+      mailbox: mailbox == freezed ? _value.mailbox : mailbox as Mailbox,
+      kdbxEntry:
+          kdbxEntry == freezed ? _value.kdbxEntry : kdbxEntry as KdbxEntry,
+    ));
+  }
+}
+
+class _$_EmailViewModel implements _EmailViewModel {
+  const _$_EmailViewModel(
+      {this.emailMessage, this.mimeMessage, this.mailbox, this.kdbxEntry});
+
+  @override
+  final EmailMessage emailMessage;
+  @override
+  final MimeMessage mimeMessage;
+  @override
+  final Mailbox mailbox;
+  @override
+  final KdbxEntry kdbxEntry;
+
+  @override
+  String toString() {
+    return 'EmailViewModel(emailMessage: $emailMessage, mimeMessage: $mimeMessage, mailbox: $mailbox, kdbxEntry: $kdbxEntry)';
+  }
+
+  @override
+  bool operator ==(dynamic other) {
+    return identical(this, other) ||
+        (other is _EmailViewModel &&
+            (identical(other.emailMessage, emailMessage) ||
+                const DeepCollectionEquality()
+                    .equals(other.emailMessage, emailMessage)) &&
+            (identical(other.mimeMessage, mimeMessage) ||
+                const DeepCollectionEquality()
+                    .equals(other.mimeMessage, mimeMessage)) &&
+            (identical(other.mailbox, mailbox) ||
+                const DeepCollectionEquality()
+                    .equals(other.mailbox, mailbox)) &&
+            (identical(other.kdbxEntry, kdbxEntry) ||
+                const DeepCollectionEquality()
+                    .equals(other.kdbxEntry, kdbxEntry)));
+  }
+
+  @override
+  int get hashCode =>
+      runtimeType.hashCode ^
+      const DeepCollectionEquality().hash(emailMessage) ^
+      const DeepCollectionEquality().hash(mimeMessage) ^
+      const DeepCollectionEquality().hash(mailbox) ^
+      const DeepCollectionEquality().hash(kdbxEntry);
+
+  @override
+  _$EmailViewModelCopyWith<_EmailViewModel> get copyWith =>
+      __$EmailViewModelCopyWithImpl<_EmailViewModel>(this, _$identity);
+}
+
+abstract class _EmailViewModel implements EmailViewModel {
+  const factory _EmailViewModel(
+      {EmailMessage emailMessage,
+      MimeMessage mimeMessage,
+      Mailbox mailbox,
+      KdbxEntry kdbxEntry}) = _$_EmailViewModel;
+
+  @override
+  EmailMessage get emailMessage;
+  @override
+  MimeMessage get mimeMessage;
+  @override
+  Mailbox get mailbox;
+  @override
+  KdbxEntry get kdbxEntry;
+  @override
+  _$EmailViewModelCopyWith<_EmailViewModel> get copyWith;
+}
diff --git a/authpass/lib/ui/screens/password_list.dart b/authpass/lib/ui/screens/password_list.dart
index 4095782f8..becad4c0c 100644
--- a/authpass/lib/ui/screens/password_list.dart
+++ b/authpass/lib/ui/screens/password_list.dart
@@ -1196,19 +1196,8 @@ class PasswordEntryTile extends StatelessWidget {
   final String filterQuery;
   final VoidCallback onTap;
 
-  Widget _defaultIcon(Color fgColor, ThemeData theme, double size) {
-    return vm.entry.customIcon?.let((customIcon) => Image.memory(
-              customIcon.data,
-              width: size,
-              height: size,
-              fit: BoxFit.contain,
-            )) ??
-        Icon(
-          PredefinedIcons.iconFor(vm.entry.icon.get()),
-          color: fgColor ?? ThemeUtil.iconColor(theme, vm.fileColor),
-          size: size,
-        );
-  }
+  Widget _defaultIcon(Color fgColor, ThemeData theme, double size) =>
+      EntryIcon.defaultIcon(vm, fgColor, theme, size);
 
   @override
   Widget build(BuildContext context) {
@@ -1360,6 +1349,25 @@ class EntryIcon extends StatelessWidget {
       },
     );
   }
+
+  static Widget defaultIcon(
+    EntryViewModel vm,
+    Color fgColor,
+    ThemeData theme,
+    double size,
+  ) {
+    return vm.entry.customIcon?.let((customIcon) => Image.memory(
+              customIcon.data,
+              width: size,
+              height: size,
+              fit: BoxFit.contain,
+            )) ??
+        Icon(
+          PredefinedIcons.iconFor(vm.entry.icon.get()),
+          color: fgColor ?? ThemeUtil.iconColor(theme, vm.fileColor),
+          size: size,
+        );
+  }
 }
 
 extension on AutofillMetadata {
diff --git a/authpass/lib/ui/widgets/async/retry_future_builder.dart b/authpass/lib/ui/widgets/async/retry_future_builder.dart
index ad7539185..36da60fbd 100644
--- a/authpass/lib/ui/widgets/async/retry_future_builder.dart
+++ b/authpass/lib/ui/widgets/async/retry_future_builder.dart
@@ -91,12 +91,20 @@ class _RetryFutureBuilderState<T> extends State<RetryFutureBuilder<T>> {
 }
 
 class RetryStreamBuilder<T> extends StatefulWidget {
-  const RetryStreamBuilder({Key key, this.stream, this.retry, this.builder})
-      : super(key: key);
+  const RetryStreamBuilder({
+    Key key,
+    this.stream,
+    this.retry,
+    this.builder,
+    this.scaffoldBuilder = RetryFutureBuilder.defaultScaffoldBuilder,
+    this.initialValue,
+  }) : super(key: key);
 
   final StreamProducer<T> stream;
+  final T initialValue;
   final DataWidgetBuilder<T> builder;
   final Future<void> Function() retry;
+  final ScaffoldBuilder<T> scaffoldBuilder;
 
   @override
   _RetryStreamBuilderState createState() => _RetryStreamBuilderState<T>();
@@ -117,33 +125,45 @@ class _RetryStreamBuilderState<T> extends State<RetryStreamBuilder<T>> {
         _stream is ValueStream<T> ? _stream as ValueStream<T> : null;
     return StreamBuilder<T>(
         stream: _stream,
-        initialData: valueStream?.value,
+        initialData: valueStream?.value ?? widget.initialValue,
         builder: (context, snapshot) {
           if (snapshot.hasData) {
-            return widget.builder(context, snapshot.data);
+            return widget.scaffoldBuilder(
+              context,
+              widget.builder(context, snapshot.data),
+              snapshot,
+            );
           }
           if (snapshot.hasError) {
             _logger.warning('Error while creating future.', snapshot.error);
-            return Column(
-              mainAxisSize: MainAxisSize.min,
-              children: <Widget>[
-                Text('Error during api call. ${snapshot.error}'),
-                RaisedButton(
-                  child: const Text('Retry'),
-                  onPressed: () {
-                    setState(() {
-                      if (widget.retry != null) {
-                        widget.retry();
-                      } else {
-                        _stream = widget.stream(context);
-                      }
-                    });
-                  },
-                ),
-              ],
+            return widget.scaffoldBuilder(
+              context,
+              Column(
+                mainAxisSize: MainAxisSize.min,
+                children: <Widget>[
+                  Text('Error during api call. ${snapshot.error}'),
+                  RaisedButton(
+                    child: const Text('Retry'),
+                    onPressed: () {
+                      setState(() {
+                        if (widget.retry != null) {
+                          widget.retry();
+                        } else {
+                          _stream = widget.stream(context);
+                        }
+                      });
+                    },
+                  ),
+                ],
+              ),
+              snapshot,
             );
           } else {
-            return const Center(child: CircularProgressIndicator());
+            return widget.scaffoldBuilder(
+              context,
+              const Center(child: CircularProgressIndicator()),
+              snapshot,
+            );
           }
         });
   }
diff --git a/authpass/lib/utils/extension_methods.dart b/authpass/lib/utils/extension_methods.dart
index 9c1299c42..62aea8af0 100644
--- a/authpass/lib/utils/extension_methods.dart
+++ b/authpass/lib/utils/extension_methods.dart
@@ -1,6 +1,7 @@
 import 'package:flutter/widgets.dart';
 
 extension StringExt on String {
+  String takeUnlessBlank() => nullIfBlank();
   String nullIfBlank() {
     if (isEmpty) {
       return null;
diff --git a/authpass/lib/utils/theme_utils.dart b/authpass/lib/utils/theme_utils.dart
index eb8d423c7..286a3a87d 100644
--- a/authpass/lib/utils/theme_utils.dart
+++ b/authpass/lib/utils/theme_utils.dart
@@ -8,6 +8,7 @@ class ThemeUtil {
   }
 }
 
-extension on ThemeData {
+extension ThemeDataExt on ThemeData {
   bool get isDarkTheme => brightness == Brightness.dark;
+  Color iconColor(Color fileColor) => ThemeUtil.iconColor(this, fileColor);
 }
diff --git a/authpass/pubspec.lock b/authpass/pubspec.lock
index 5ebf12be0..3c772feb6 100644
--- a/authpass/pubspec.lock
+++ b/authpass/pubspec.lock
@@ -810,7 +810,7 @@ packages:
       name: openapi_base
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "0.1.5+2"
+    version: "0.1.5+3"
   otp:
     dependency: "direct main"
     description:
diff --git a/authpass/pubspec.yaml b/authpass/pubspec.yaml
index 17d5d8bdc..abee77a74 100644
--- a/authpass/pubspec.yaml
+++ b/authpass/pubspec.yaml
@@ -165,7 +165,7 @@ dependencies:
   enough_mail: ^0.0.32
   flutter_html: ^1.0.2
   flutter_linkify: ^3.1.3
-  openapi_base: ^0.1.5+2
+  openapi_base: ^0.1.5+3
   flutter_cache_manager: ^1.4.1
   cached_network_image: ^2.2.0+1
   authpass_cloud_shared:
diff --git a/deps/authpass-cloud b/deps/authpass-cloud
index 31a935e02..08c21e866 160000
--- a/deps/authpass-cloud
+++ b/deps/authpass-cloud
@@ -1 +1 @@
-Subproject commit 31a935e02ed7928853f3ebd9727fd8968409b6fe
+Subproject commit 08c21e866b7e2dc7fd42bb4cf5935d0e08eb7cf5
