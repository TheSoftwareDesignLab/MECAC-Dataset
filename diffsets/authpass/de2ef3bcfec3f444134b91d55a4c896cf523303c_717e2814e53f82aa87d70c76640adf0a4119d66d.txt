diff --git a/authpass/lib/ui/screens/password_list.dart b/authpass/lib/ui/screens/password_list.dart
index 078946984..f029dbc76 100644
--- a/authpass/lib/ui/screens/password_list.dart
+++ b/authpass/lib/ui/screens/password_list.dart
@@ -900,12 +900,12 @@ class UnsupportedWrite extends StatelessWidget {
     return Padding(
       padding: const EdgeInsets.all(8.0),
       child: Card(
-        color: const Color(0xffffe9e9),
+        color: theme.errorColor.withOpacity(0.2),
         child: Padding(
           padding: const EdgeInsets.all(16.0),
           child: Row(
             children: <Widget>[
-              const Icon(Icons.warning, color: Color(0xffff0000)),
+              Icon(Icons.warning, color: theme.errorColor),
               const SizedBox(width: 16),
               Expanded(
                 child: Column(
@@ -924,7 +924,8 @@ class UnsupportedWrite extends StatelessWidget {
                         FlatButton(
                           child: const Text('Save locally'),
                           onPressed: () {
-                            final bloc = Provider.of<KdbxBloc>(context);
+                            final bloc =
+                                Provider.of<KdbxBloc>(context, listen: false);
                             bloc.saveLocally(source);
                           },
                         )
diff --git a/authpass/pubspec.lock b/authpass/pubspec.lock
index b53d06e77..a167b3666 100644
--- a/authpass/pubspec.lock
+++ b/authpass/pubspec.lock
@@ -285,13 +285,6 @@ packages:
       url: "https://pub.dartlang.org"
     source: hosted
     version: "0.1.5"
-  fake_async:
-    dependency: transitive
-    description:
-      name: fake_async
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.1.0"
   ffi:
     dependency: "direct main"
     description:
@@ -487,6 +480,13 @@ packages:
       url: "https://pub.dartlang.org"
     source: hosted
     version: "3.1.3"
+  image:
+    dependency: transitive
+    description:
+      name: image
+      url: "https://pub.dartlang.org"
+    source: hosted
+    version: "2.1.12"
   intl:
     dependency: "direct main"
     description:
@@ -528,7 +528,7 @@ packages:
       name: json_rpc_2
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "2.1.1"
+    version: "2.1.0"
   json_serializable:
     dependency: "direct dev"
     description:
@@ -672,7 +672,7 @@ packages:
       name: path
       url: "https://pub.dartlang.org"
     source: hosted
-    version: "1.7.0"
+    version: "1.6.4"
   path_drawing:
     dependency: transitive
     description:
