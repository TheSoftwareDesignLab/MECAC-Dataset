diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/APIEditorActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/APIEditorActivity.java
index 349caf7e99..791e4d2793 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/APIEditorActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/APIEditorActivity.java
@@ -358,14 +358,14 @@ protected void onStartLoading() {
 
         private class CustomAPIConfigArrayAdapter extends ArrayAdapter<CustomAPIConfig> {
             public CustomAPIConfigArrayAdapter(Context context, List<CustomAPIConfig> defaultItems) {
-                super(context, R.layout.md_listitem, defaultItems);
+                super(context, android.R.layout.simple_list_item_1, defaultItems);
             }
 
             @Override
             public View getView(int position, View convertView, ViewGroup parent) {
                 final View view = super.getView(position, convertView, parent);
                 CustomAPIConfig config = getItem(position);
-                ((TextView) view.findViewById(com.afollestad.materialdialogs.R.id.title)).setText(config.getLocalizedName(getContext()));
+                ((TextView) view.findViewById(android.R.id.text1)).setText(config.getLocalizedName(getContext()));
                 return view;
             }
         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
index 6ee7323eae..23951612ff 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
@@ -21,7 +21,6 @@
 
 import android.Manifest;
 import android.app.Activity;
-import android.app.AlertDialog;
 import android.app.Dialog;
 import android.content.ActivityNotFoundException;
 import android.content.ContentResolver;
@@ -52,6 +51,7 @@
 import android.support.v4.app.Fragment;
 import android.support.v4.app.FragmentManager;
 import android.support.v4.content.ContextCompat;
+import android.support.v7.app.AlertDialog;
 import android.support.v7.view.SupportMenuInflater;
 import android.support.v7.widget.ActionMenuView;
 import android.support.v7.widget.ActionMenuView.OnMenuItemClickListener;
@@ -95,8 +95,6 @@
 import com.afollestad.appthemeengine.Config;
 import com.afollestad.appthemeengine.customizers.ATEToolbarCustomizer;
 import com.afollestad.appthemeengine.util.ATEUtil;
-import com.afollestad.materialdialogs.DialogAction;
-import com.afollestad.materialdialogs.MaterialDialog;
 import com.twitter.Extractor;
 
 import org.apache.commons.lang3.ArrayUtils;
@@ -2105,35 +2103,34 @@ public static class EditAltTextDialogFragment extends BaseDialogFragment {
         @NonNull
         @Override
         public Dialog onCreateDialog(Bundle savedInstanceState) {
-            MaterialDialog.Builder builder = new MaterialDialog.Builder(getContext());
-            builder.title(R.string.edit_description);
-            builder.customView(R.layout.dialog_compose_edit_alt_text, true);
-            builder.negativeText(android.R.string.cancel);
-            builder.positiveText(android.R.string.ok);
-            builder.neutralText(R.string.clear);
-            builder.onNeutral(new MaterialDialog.SingleButtonCallback() {
+            AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
+            builder.setTitle(R.string.edit_description);
+            builder.setView(R.layout.dialog_compose_edit_alt_text);
+            builder.setNegativeButton(android.R.string.cancel, null);
+            builder.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {
                 @Override
-                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {
-                    ((ComposeActivity) getActivity()).setMediaAltText(getArguments().getInt(EXTRA_POSITION), null);
+                public void onClick(DialogInterface dialog, int which) {
+                    final EditText editText = (EditText) ((Dialog) dialog).findViewById(R.id.edit_text);
+                    ((ComposeActivity) getActivity()).setMediaAltText(getArguments().getInt(EXTRA_POSITION),
+                            ParseUtils.parseString(editText.getText()));
                 }
             });
-            builder.onPositive(new MaterialDialog.SingleButtonCallback() {
+            builder.setNeutralButton(R.string.clear, new DialogInterface.OnClickListener() {
                 @Override
-                public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {
-                    final EditText editText = (EditText) dialog.findViewById(R.id.edit_text);
-                    ((ComposeActivity) getActivity()).setMediaAltText(getArguments().getInt(EXTRA_POSITION),
-                            ParseUtils.parseString(editText.getText()));
+                public void onClick(DialogInterface dialogInterface, int i) {
+                    ((ComposeActivity) getActivity()).setMediaAltText(getArguments().getInt(EXTRA_POSITION), null);
                 }
             });
-            builder.showListener(new DialogInterface.OnShowListener() {
+            final AlertDialog dialog = builder.create();
+            dialog.setOnShowListener(new DialogInterface.OnShowListener() {
                 @Override
                 public void onShow(DialogInterface dialog) {
-                    MaterialDialog materialDialog = ((MaterialDialog) dialog);
+                    Dialog materialDialog = ((Dialog) dialog);
                     final EditText editText = (EditText) materialDialog.findViewById(R.id.edit_text);
                     editText.setText(getArguments().getString(EXTRA_TEXT));
                 }
             });
-            return builder.build();
+            return dialog;
         }
     }
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/PlusServiceDashboardActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/PlusServiceDashboardActivity.java
index 40c451d83d..2671659434 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/PlusServiceDashboardActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/PlusServiceDashboardActivity.java
@@ -12,12 +12,11 @@
 import android.support.v4.app.LoaderManager;
 import android.support.v4.content.AsyncTaskLoader;
 import android.support.v4.content.Loader;
+import android.support.v7.app.AlertDialog;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.TextView;
 
-import com.afollestad.materialdialogs.MaterialDialog;
-
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.adapter.ArrayAdapter;
 import org.mariotaku.twidere.fragment.BaseDialogFragment;
@@ -46,22 +45,22 @@ public static class SignInChooserDialogFragment extends BaseDialogFragment imple
         public Dialog onCreateDialog(Bundle savedInstanceState) {
             final Context context = getContext();
             mAdapter = new ProviderAdapter(context);
-            MaterialDialog.Builder builder = new MaterialDialog.Builder(context);
-            builder.title(R.string.sign_in_with_ellip);
-            builder.adapter(mAdapter, new MaterialDialog.ListCallback() {
+            AlertDialog.Builder builder = new AlertDialog.Builder(context);
+            builder.setTitle(R.string.sign_in_with_ellip);
+            builder.setAdapter(mAdapter, new DialogInterface.OnClickListener() {
                 @Override
-                public void onSelection(MaterialDialog dialog, View itemView, int which, CharSequence text) {
+                public void onClick(DialogInterface dialog, int which) {
                     startLogin(mAdapter.getItem(which));
-
                 }
             });
-            builder.showListener(new DialogInterface.OnShowListener() {
+            AlertDialog dialog = builder.create();
+            dialog.setOnShowListener(new DialogInterface.OnShowListener() {
                 @Override
                 public void onShow(DialogInterface dialog) {
                     loadInfo();
                 }
             });
-            return builder.build();
+            return dialog;
         }
 
         private void startLogin(ResolveInfo info) {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
index 6dec9ec107..60adcfe88a 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
@@ -36,6 +36,7 @@
 import android.support.v4.app.DialogFragment;
 import android.support.v4.app.FragmentManager;
 import android.support.v4.view.ViewPager;
+import android.support.v7.app.AlertDialog;
 import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceManager;
 import android.support.v7.preference.PreferenceScreen;
@@ -46,7 +47,6 @@
 
 import com.afollestad.appthemeengine.Config;
 import com.afollestad.appthemeengine.util.ATEUtil;
-import com.afollestad.materialdialogs.AlertDialogWrapper;
 
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.adapter.SupportTabsAdapter;
@@ -483,7 +483,7 @@ public void onClick(final DialogInterface dialog, final int which) {
             @NonNull
             @Override
             public Dialog onCreateDialog(final Bundle savedInstanceState) {
-                final AlertDialogWrapper.Builder builder = new AlertDialogWrapper.Builder(getActivity());
+                final AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
                 builder.setMessage(R.string.wizard_page_tabs_unchanged_message);
                 builder.setPositiveButton(android.R.string.ok, this);
                 return builder.create();
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/SignInActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/SignInActivity.java
index e24bafe8dc..30d8189a1b 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/SignInActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/SignInActivity.java
@@ -57,9 +57,6 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-import com.afollestad.materialdialogs.DialogAction;
-import com.afollestad.materialdialogs.MaterialDialog;
-import com.afollestad.materialdialogs.internal.MDButton;
 import com.rengwuxian.materialedittext.MaterialEditText;
 
 import org.mariotaku.microblog.library.MicroBlog;
@@ -1153,12 +1150,14 @@ public static class PasswordSignInDialogFragment extends BaseDialogFragment {
         @Override
         public Dialog onCreateDialog(Bundle savedInstanceState) {
             final AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
+            builder.setView(R.layout.dialog_password_sign_in);
             builder.setPositiveButton(R.string.sign_in, new DialogInterface.OnClickListener() {
                 @Override
                 public void onClick(DialogInterface dialog, int which) {
                     AlertDialog alertDialog = (AlertDialog) dialog;
                     EditText editUsername = (EditText) alertDialog.findViewById(R.id.username);
                     EditText editPassword = (EditText) alertDialog.findViewById(R.id.password);
+                    assert editUsername != null && editPassword != null;
                     SignInActivity activity = (SignInActivity) getActivity();
                     activity.setUsernamePassword(String.valueOf(editUsername.getText()),
                             String.valueOf(editPassword.getText()));
@@ -1166,16 +1165,16 @@ public void onClick(DialogInterface dialog, int which) {
                 }
             });
             builder.setNegativeButton(android.R.string.cancel, null);
-            builder.setView(R.layout.dialog_password_sign_in);
 
             final AlertDialog alertDialog = builder.create();
             alertDialog.setOnShowListener(new DialogInterface.OnShowListener() {
 
                 @Override
                 public void onShow(DialogInterface dialog) {
-                    final MaterialDialog materialDialog = (MaterialDialog) dialog;
+                    final AlertDialog materialDialog = (AlertDialog) dialog;
                     final EditText editUsername = (EditText) materialDialog.findViewById(R.id.username);
                     final EditText editPassword = (EditText) materialDialog.findViewById(R.id.password);
+                    assert editUsername != null && editPassword != null;
                     TextWatcher textWatcher = new TextWatcher() {
                         @Override
                         public void beforeTextChanged(CharSequence s, int start, int count, int after) {
@@ -1184,7 +1183,7 @@ public void beforeTextChanged(CharSequence s, int start, int count, int after) {
 
                         @Override
                         public void onTextChanged(CharSequence s, int start, int before, int count) {
-                            MDButton button = materialDialog.getActionButton(DialogAction.POSITIVE);
+                            Button button = materialDialog.getButton(DialogInterface.BUTTON_POSITIVE);
                             if (button == null) return;
                             button.setEnabled(editUsername.length() > 0 && editPassword.length() > 0);
                         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/ListParcelableStatusesAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/ListParcelableStatusesAdapter.java
index 44339172c4..4b6c97e9f9 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/ListParcelableStatusesAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/ListParcelableStatusesAdapter.java
@@ -28,15 +28,12 @@ protected int[] getProgressViewIds() {
     @NonNull
     @Override
     protected IStatusViewHolder onCreateStatusViewHolder(ViewGroup parent) {
-        return createStatusViewHolder(this, getInflater(), parent, getCardBackgroundColor());
+        return createStatusViewHolder(this, getInflater(), parent);
     }
 
     public static StatusViewHolder createStatusViewHolder(IStatusesAdapter<?> adapter,
-                                                          LayoutInflater inflater, ViewGroup parent,
-                                                          int cardBackgroundColor) {
+                                                          LayoutInflater inflater, ViewGroup parent) {
         final View view = inflater.inflate(R.layout.card_item_status_compact, parent, false);
-        final View itemContent = view.findViewById(R.id.item_content);
-        itemContent.setBackgroundColor(cardBackgroundColor);
         final StatusViewHolder holder = new StatusViewHolder(adapter, view);
         holder.setOnClickListeners();
         holder.setupViewOptions();
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableActivitiesAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableActivitiesAdapter.java
index c886514037..00e3da8b09 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableActivitiesAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableActivitiesAdapter.java
@@ -251,11 +251,8 @@ public boolean shouldUseStarsForLikes() {
     public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
         switch (viewType) {
             case ITEM_VIEW_TYPE_STATUS: {
-                final View view = mInflater.inflate(R.layout.card_item_status_compact, parent, false);
-                final View itemContent = view.findViewById(R.id.item_content);
-                itemContent.setBackgroundColor(mCardBackgroundColor);
-                final StatusViewHolder holder = new StatusViewHolder(mStatusAdapterDelegate, view);
-                holder.setupViewOptions();
+                final StatusViewHolder holder = ListParcelableStatusesAdapter.createStatusViewHolder(mStatusAdapterDelegate,
+                        mInflater, parent);
                 holder.setStatusClickListener(mEventListener);
                 return holder;
             }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableStatusesAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableStatusesAdapter.java
index e43f21c965..4c22fdd9bd 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableStatusesAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/ParcelableStatusesAdapter.java
@@ -38,7 +38,6 @@
 import org.mariotaku.twidere.model.UserKey;
 import org.mariotaku.twidere.util.MediaLoadingHandler;
 import org.mariotaku.twidere.util.StatusAdapterLinkClickHandler;
-import org.mariotaku.twidere.util.ThemeUtils;
 import org.mariotaku.twidere.util.TwidereLinkify;
 import org.mariotaku.twidere.util.Utils;
 import org.mariotaku.twidere.view.CardMediaContainer;
@@ -60,7 +59,6 @@ public abstract class ParcelableStatusesAdapter extends LoadMoreSupportAdapter<R
     private final LayoutInflater mInflater;
     private final MediaLoadingHandler mLoadingHandler;
     private final TwidereLinkify mLinkify;
-    private final int mCardBackgroundColor;
     private final int mTextSize;
     @ShapedImageView.ShapeStyle
     private final int mProfileImageStyle;
@@ -68,7 +66,6 @@ public abstract class ParcelableStatusesAdapter extends LoadMoreSupportAdapter<R
     private final int mMediaPreviewStyle;
     @TwidereLinkify.HighlightStyle
     private final int mLinkHighlightingStyle;
-    private final boolean mCompactCards = true;
     private final boolean mNameFirst;
     private final boolean mDisplayMediaPreview;
     private final boolean mDisplayProfileImage;
@@ -86,8 +83,6 @@ public abstract class ParcelableStatusesAdapter extends LoadMoreSupportAdapter<R
 
     public ParcelableStatusesAdapter(Context context) {
         super(context);
-        mCardBackgroundColor = ThemeUtils.getCardBackgroundColor(context, ThemeUtils.getThemeBackgroundOption(context),
-                ThemeUtils.getUserThemeBackgroundAlpha(context));
         mInflater = LayoutInflater.from(context);
         mLoadingHandler = new MediaLoadingHandler(getProgressViewIds());
         mTextSize = mPreferences.getInt(KEY_TEXT_SIZE, context.getResources().getInteger(R.integer.default_text_size));
@@ -368,10 +363,6 @@ protected LayoutInflater getInflater() {
         return mInflater;
     }
 
-    protected int getCardBackgroundColor() {
-        return mCardBackgroundColor;
-    }
-
     @NonNull
     protected abstract IStatusViewHolder onCreateStatusViewHolder(ViewGroup parent);
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/VariousItemsAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/VariousItemsAdapter.java
index 97d4ca5af5..e1942af020 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/VariousItemsAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/VariousItemsAdapter.java
@@ -51,7 +51,7 @@ public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType
         switch (viewType) {
             case VIEW_TYPE_STATUS: {
                 return ListParcelableStatusesAdapter.createStatusViewHolder(mDummyAdapter,
-                        mInflater, parent, mCardBackgroundColor);
+                        mInflater, parent);
             }
             case VIEW_TYPE_USER: {
                 return ParcelableUsersAdapter.createUserViewHolder(mDummyAdapter, mInflater, parent,
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/AddStatusFilterDialogFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/AddStatusFilterDialogFragment.java
index 74c37c79a9..5dd2bb7284 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/AddStatusFilterDialogFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/AddStatusFilterDialogFragment.java
@@ -22,12 +22,13 @@
 import android.app.Dialog;
 import android.content.ContentResolver;
 import android.content.ContentValues;
+import android.content.DialogInterface;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
 import android.support.v4.app.FragmentManager;
+import android.support.v7.app.AlertDialog;
+import android.util.SparseBooleanArray;
 
-import com.afollestad.materialdialogs.DialogAction;
-import com.afollestad.materialdialogs.MaterialDialog;
 import com.twitter.Extractor;
 
 import org.mariotaku.twidere.R;
@@ -55,7 +56,7 @@ public class AddStatusFilterDialogFragment extends BaseDialogFragment {
     @NonNull
     @Override
     public Dialog onCreateDialog(final Bundle savedInstanceState) {
-        final MaterialDialog.Builder builder = new MaterialDialog.Builder(getContext());
+        final AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
         mFilterItems = getFilterItemsInfo();
         final String[] entries = new String[mFilterItems.length];
         final boolean nameFirst = mPreferences.getBoolean(KEY_NAME_FIRST);
@@ -76,20 +77,13 @@ public Dialog onCreateDialog(final Bundle savedInstanceState) {
                     break;
             }
         }
-        builder.title(R.string.add_to_filter);
-        builder.items(entries);
-        builder.positiveText(android.R.string.ok);
-        builder.itemsCallbackMultiChoice(null, new MaterialDialog.ListCallbackMultiChoice() {
+        builder.setTitle(R.string.add_to_filter);
+        builder.setMultiChoiceItems(entries, null, null);
+        builder.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {
             @Override
-            public boolean onSelection(MaterialDialog dialog, Integer[] which, CharSequence[] text) {
-                return false;
-            }
-        });
-        builder.onPositive(new MaterialDialog.SingleButtonCallback() {
-            @Override
-            public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {
-                final Integer[] selectedIndices = dialog.getSelectedIndices();
-                assert selectedIndices != null;
+            public void onClick(DialogInterface dialog, int which) {
+                AlertDialog alertDialog = ((AlertDialog) dialog);
+                final SparseBooleanArray checkPositions = alertDialog.getListView().getCheckedItemPositions();
 
                 final Set<UserKey> userKeys = new HashSet<>();
                 final Set<String> keywords = new HashSet<>();
@@ -97,8 +91,9 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)
                 final ArrayList<ContentValues> userValues = new ArrayList<>();
                 final ArrayList<ContentValues> keywordValues = new ArrayList<>();
                 final ArrayList<ContentValues> sourceValues = new ArrayList<>();
-                for (final int idx : selectedIndices) {
-                    final FilterItemInfo info = mFilterItems[idx];
+                for (int i = 0, j = checkPositions.size(); i < j; i++) {
+                    if (!checkPositions.valueAt(i)) continue;
+                    final FilterItemInfo info = mFilterItems[checkPositions.keyAt(i)];
                     final Object value = info.value;
                     if (value instanceof ParcelableUserMention) {
                         final ParcelableUserMention mention = (ParcelableUserMention) value;
@@ -135,8 +130,8 @@ public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which)
                 ContentResolverUtils.bulkInsert(resolver, Filters.Sources.CONTENT_URI, sourceValues);
             }
         });
-        builder.negativeText(android.R.string.cancel);
-        return builder.build();
+        builder.setNegativeButton(android.R.string.cancel, null);
+        return builder.create();
     }
 
     private FilterItemInfo[] getFilterItemsInfo() {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/StatusFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/StatusFragment.java
index c72faefaeb..5ed05fc1e1 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/StatusFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/StatusFragment.java
@@ -54,6 +54,7 @@
 import android.support.v4.view.ActionProvider;
 import android.support.v4.view.MenuItemCompat;
 import android.support.v4.view.ViewCompat;
+import android.support.v7.app.AlertDialog;
 import android.support.v7.widget.ActionMenuView;
 import android.support.v7.widget.CardView;
 import android.support.v7.widget.FixedLinearLayoutManager;
@@ -83,7 +84,6 @@
 import android.widget.Space;
 import android.widget.TextView;
 
-import com.afollestad.materialdialogs.AlertDialogWrapper;
 import com.squareup.otto.Subscribe;
 
 import org.apache.commons.lang3.ArrayUtils;
@@ -848,7 +848,7 @@ public void onClick(final DialogInterface dialog, final int which) {
         @Override
         public Dialog onCreateDialog(final Bundle savedInstanceState) {
             final Context context = getActivity();
-            final AlertDialogWrapper.Builder builder = new AlertDialogWrapper.Builder(context);
+            final AlertDialog.Builder builder = new AlertDialog.Builder(context);
             builder.setTitle(android.R.string.dialog_alert_title);
             builder.setMessage(R.string.sensitive_content_warning);
             builder.setPositiveButton(android.R.string.ok, this);
diff --git a/twidere/src/main/java/org/mariotaku/twidere/preference/SettingsImportExportPreference.java b/twidere/src/main/java/org/mariotaku/twidere/preference/SettingsImportExportPreference.java
index 95063d08e0..9426def60e 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/preference/SettingsImportExportPreference.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/preference/SettingsImportExportPreference.java
@@ -25,13 +25,12 @@
 import android.content.Intent;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
+import android.support.v7.app.AlertDialog;
 import android.support.v7.preference.DialogPreference;
 import android.support.v7.preference.PreferenceDialogFragmentCompat;
 import android.support.v7.preference.PreferenceFragmentCompat;
 import android.util.AttributeSet;
 
-import com.afollestad.materialdialogs.AlertDialogWrapper;
-
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.activity.DataExportActivity;
 import org.mariotaku.twidere.activity.DataImportActivity;
@@ -70,7 +69,7 @@ public static ImportExportDialogFragment newInstance(String key) {
         @NonNull
         @Override
         public Dialog onCreateDialog(Bundle savedInstanceState) {
-            AlertDialogWrapper.Builder builder = new AlertDialogWrapper.Builder(getContext());
+            AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
             final Context context = getContext();
             final String[] entries = new String[2];
             final Intent[] values = new Intent[2];
diff --git a/twidere/src/main/res/layout/dialog_password_sign_in.xml b/twidere/src/main/res/layout/dialog_password_sign_in.xml
index 5f7dba3c29..e3af8b9045 100644
--- a/twidere/src/main/res/layout/dialog_password_sign_in.xml
+++ b/twidere/src/main/res/layout/dialog_password_sign_in.xml
@@ -3,7 +3,8 @@
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
-    android:orientation="vertical">
+    android:orientation="vertical"
+    android:padding="@dimen/element_spacing_normal">
 
     <EditText
         android:id="@+id/username"
