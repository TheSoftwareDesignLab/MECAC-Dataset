diff --git a/twidere/src/fdroid/java/org/mariotaku/twidere/activity/support/OpenStreetMapViewerActivity.java b/twidere/src/fdroid/java/org/mariotaku/twidere/activity/support/OpenStreetMapViewerActivity.java
index 418276c41a..85d24260d8 100644
--- a/twidere/src/fdroid/java/org/mariotaku/twidere/activity/support/OpenStreetMapViewerActivity.java
+++ b/twidere/src/fdroid/java/org/mariotaku/twidere/activity/support/OpenStreetMapViewerActivity.java
@@ -43,7 +43,7 @@
 import java.util.ArrayList;
 import java.util.List;
 
-public class OpenStreetMapViewerActivity extends BaseSupportActivity implements Constants {
+public class OpenStreetMapViewerActivity extends BaseActionBarActivity implements Constants {
 
     private MapView mMapView;
     private double mLatitude, mLongitude;
diff --git a/twidere/src/google/java/org/mariotaku/twidere/activity/support/GoogleMapViewerActivity.java b/twidere/src/google/java/org/mariotaku/twidere/activity/support/GoogleMapViewerActivity.java
index 17ab48af38..8d883c3a98 100644
--- a/twidere/src/google/java/org/mariotaku/twidere/activity/support/GoogleMapViewerActivity.java
+++ b/twidere/src/google/java/org/mariotaku/twidere/activity/support/GoogleMapViewerActivity.java
@@ -38,7 +38,7 @@
 import org.mariotaku.twidere.util.ParseUtils;
 import org.mariotaku.twidere.util.ThemeUtils;
 
-public class GoogleMapViewerActivity extends BaseSupportActivity implements Constants {
+public class GoogleMapViewerActivity extends BaseActionBarActivity implements Constants {
 
     @Override
     public int getThemeResourceId() {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/FiltersActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/FiltersActivity.java
index 32ff71f5b6..7185fdcd44 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/FiltersActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/FiltersActivity.java
@@ -49,7 +49,7 @@
 
 import org.mariotaku.querybuilder.Expression;
 import org.mariotaku.twidere.R;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.activity.support.UserListSelectorActivity;
 import org.mariotaku.twidere.adapter.SourceAutoCompleteAdapter;
 import org.mariotaku.twidere.adapter.UserHashtagAutoCompleteAdapter;
@@ -68,7 +68,7 @@
 
 import static org.mariotaku.twidere.util.Utils.getDefaultAccountId;
 
-public class FiltersActivity extends BaseSupportActivity implements TabListener, OnPageChangeListener {
+public class FiltersActivity extends BaseActionBarActivity implements TabListener, OnPageChangeListener {
 
     private static final String EXTRA_AUTO_COMPLETE_TYPE = "auto_complete_type";
     private static final int AUTO_COMPLETE_TYPE_SOURCES = 2;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/AccountsManagerActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/AccountsManagerActivity.java
index cee0afb726..e4b5135869 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/AccountsManagerActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/AccountsManagerActivity.java
@@ -15,7 +15,7 @@
 /**
  * Created by mariotaku on 14/10/26.
  */
-public class AccountsManagerActivity extends BaseSupportActivity {
+public class AccountsManagerActivity extends BaseActionBarActivity {
 
     @Override
     public boolean onOptionsItemSelected(final MenuItem item) {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseSupportActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseActionBarActivity.java
similarity index 98%
rename from twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseSupportActivity.java
rename to twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseActionBarActivity.java
index 03bd14336f..bf734f6b1a 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseSupportActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/BaseActionBarActivity.java
@@ -39,7 +39,7 @@
 import java.util.ArrayList;
 
 @SuppressLint("Registered")
-public class BaseSupportActivity extends ThemedActionBarActivity implements Constants,
+public class BaseActionBarActivity extends ThemedActionBarActivity implements Constants,
         FitSystemWindowsCallback, SystemWindowsInsetsCallback, IControlBarActivity {
 
     private boolean mInstanceStateSaved, mIsVisible, mIsOnTop;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/BrowserActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/BrowserActivity.java
index a8948ea663..ae85c8b194 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/BrowserActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/BrowserActivity.java
@@ -30,7 +30,7 @@
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.fragment.BaseWebViewFragment;
 
-public class BrowserActivity extends BaseSupportActivity {
+public class BrowserActivity extends BaseActionBarActivity {
 
     private Uri mUri = Uri.parse("about:blank");
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
index 3b5de4a9d3..e95d541c02 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
@@ -68,6 +68,7 @@
 import android.view.KeyEvent;
 import android.view.LayoutInflater;
 import android.view.Menu;
+import android.view.MenuInflater;
 import android.view.MenuItem;
 import android.view.MotionEvent;
 import android.view.View;
@@ -148,7 +149,7 @@
 import static org.mariotaku.twidere.util.Utils.showErrorMessage;
 import static org.mariotaku.twidere.util.Utils.showMenuItemToast;
 
-public class ComposeActivity extends ThemedActionBarActivity implements TextWatcher, LocationListener,
+public class ComposeActivity extends ThemedFragmentActivity implements TextWatcher, LocationListener,
         OnMenuItemClickListener, View.OnClickListener, OnEditorActionListener, OnLongClickListener {
 
     private static final String FAKE_IMAGE_LINK = "https://www.example.com/fake_image.jpg";
@@ -511,6 +512,15 @@ public void onStatusChanged(final String provider, final int status, final Bundl
     public void onProviderEnabled(final String provider) {
     }
 
+    @NonNull
+    @Override
+    public MenuInflater getMenuInflater() {
+        if (mMenuInflater == null) {
+            mMenuInflater = new SupportMenuInflater(this);
+        }
+        return mMenuInflater;
+    }
+
     @Override
     public void onProviderDisabled(final String provider) {
     }
@@ -547,8 +557,8 @@ public boolean onTouchEvent(final MotionEvent event) {
     }
 
     @Override
-    public void onSupportContentChanged() {
-        super.onSupportContentChanged();
+    public void onContentChanged() {
+        super.onContentChanged();
         mEditText = (EditText) findViewById(R.id.edit_text);
         mMediaPreviewGrid = (GridView) findViewById(R.id.media_thumbnail_preview);
         mMenuBar = (ActionMenuView) findViewById(R.id.menu_bar);
@@ -600,7 +610,7 @@ protected void onCreate(final Bundle savedInstanceState) {
         mValidator = new TwidereValidator(this);
         mImageLoader = app.getImageLoaderWrapper();
         setContentView(R.layout.activity_compose);
-        setSupportProgressBarIndeterminateVisibility(false);
+//        setSupportProgressBarIndeterminateVisibility(false);
         setFinishOnTouchOutside(false);
         final long[] defaultAccountIds = getAccountIds(this);
         if (defaultAccountIds.length <= 0) {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataExportActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataExportActivity.java
index 808c1fb2ec..b8b0ef15db 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataExportActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataExportActivity.java
@@ -20,7 +20,7 @@
 import java.util.Date;
 import java.util.Locale;
 
-public class DataExportActivity extends BaseSupportActivity implements FileSelectorDialogFragment.Callback,
+public class DataExportActivity extends BaseActionBarActivity implements FileSelectorDialogFragment.Callback,
 		DataExportImportTypeSelectorDialogFragment.Callback {
 
 	private ExportSettingsTask mTask;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataImportActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataImportActivity.java
index d502cc1711..80c56c25d2 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataImportActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DataImportActivity.java
@@ -18,7 +18,7 @@
 import java.io.File;
 import java.io.IOException;
 
-public class DataImportActivity extends BaseSupportActivity implements FileSelectorDialogFragment.Callback,
+public class DataImportActivity extends BaseActionBarActivity implements FileSelectorDialogFragment.Callback,
 		DataExportImportTypeSelectorDialogFragment.Callback {
 
 	private ImportSettingsTask mImportSettingsTask;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DraftsActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DraftsActivity.java
index 65b01815bf..e13787fcf6 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/DraftsActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/DraftsActivity.java
@@ -71,7 +71,7 @@
 
 import static org.mariotaku.twidere.util.Utils.getDefaultTextSize;
 
-public class DraftsActivity extends BaseSupportActivity implements LoaderCallbacks<Cursor>, OnItemClickListener,
+public class DraftsActivity extends BaseActionBarActivity implements LoaderCallbacks<Cursor>, OnItemClickListener,
         MultiChoiceModeListener {
 
     private ContentResolver mResolver;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/HomeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/HomeActivity.java
index cb5865c508..7d8353d0b0 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/HomeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/HomeActivity.java
@@ -128,7 +128,7 @@
 import static org.mariotaku.twidere.util.Utils.openSearch;
 import static org.mariotaku.twidere.util.Utils.showMenuItemToast;
 
-public class HomeActivity extends BaseSupportActivity implements OnClickListener, OnPageChangeListener,
+public class HomeActivity extends BaseActionBarActivity implements OnClickListener, OnPageChangeListener,
         SupportFragmentCallback, OnOpenedListener, OnClosedListener,
         OnLongClickListener, AnimatorListener {
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/LinkHandlerActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/LinkHandlerActivity.java
index 0246f79b3e..a1a7862ec1 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/LinkHandlerActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/LinkHandlerActivity.java
@@ -54,7 +54,7 @@
 import static org.mariotaku.twidere.util.Utils.createFragmentForIntent;
 import static org.mariotaku.twidere.util.Utils.matchLinkId;
 
-public class LinkHandlerActivity extends BaseSupportActivity implements OnClickListener,
+public class LinkHandlerActivity extends BaseActionBarActivity implements OnClickListener,
         OnLongClickListener, SystemWindowsInsetsCallback, IControlBarActivity {
 
     private MultiSelectEventHandler mMultiSelectHandler;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
index c0d5a37af0..527c6699af 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
@@ -25,6 +25,7 @@
 import android.content.SharedPreferences;
 import android.database.Cursor;
 import android.graphics.PorterDuff.Mode;
+import android.graphics.Rect;
 import android.net.Uri;
 import android.os.Bundle;
 import android.support.v4.app.LoaderManager.LoaderCallbacks;
@@ -74,6 +75,8 @@
 import org.mariotaku.twidere.util.ThemeUtils;
 import org.mariotaku.twidere.util.Utils;
 import org.mariotaku.twidere.util.content.ContentResolverUtils;
+import org.mariotaku.twidere.view.ExtendedRelativeLayout;
+import org.mariotaku.twidere.view.iface.IExtendedView.OnFitSystemWindowsListener;
 
 import java.util.ArrayList;
 import java.util.List;
@@ -83,14 +86,17 @@
 /**
  * Created by mariotaku on 15/1/6.
  */
-public class QuickSearchBarActivity extends BaseSupportActivity implements OnClickListener,
-        OnEditorActionListener, LoaderCallbacks<List<SuggestionItem>>, TextWatcher, OnItemSelectedListener, OnItemClickListener, DismissCallbacks {
+public class QuickSearchBarActivity extends ThemedFragmentActivity implements OnClickListener,
+        OnEditorActionListener, LoaderCallbacks<List<SuggestionItem>>, TextWatcher,
+        OnItemSelectedListener, OnItemClickListener, DismissCallbacks, OnFitSystemWindowsListener {
 
     private Spinner mAccountSpinner;
     private EditText mSearchQuery;
     private View mSearchSubmit;
     private ListView mSuggestionsList;
     private SuggestionsAdapter mUsersSearchAdapter;
+    private ExtendedRelativeLayout mMainContent;
+    private Rect mSystemWindowsInsets = new Rect();
 
     @Override
     public void beforeTextChanged(CharSequence s, int start, int count, int after) {
@@ -118,6 +124,12 @@ public void onDismiss(ListView listView, int[] reverseSortedPositions) {
         getSupportLoaderManager().restartLoader(0, null, this);
     }
 
+    @Override
+    public void onFitSystemWindows(Rect insets) {
+        mSystemWindowsInsets.set(insets);
+        updateWindowAttributes();
+    }
+
     @Override
     public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
         final SuggestionItem item = mUsersSearchAdapter.getItem(position);
@@ -134,6 +146,11 @@ public void afterTextChanged(Editable s) {
 
     }
 
+    @Override
+    public int getThemeColor() {
+        return ThemeUtils.getUserAccentColor(this, getThemeResourceId());
+    }
+
     @Override
     public int getThemeResourceId() {
         return ThemeUtils.getQuickSearchBarThemeResource(this);
@@ -156,6 +173,7 @@ protected void onCreate(Bundle savedInstanceState) {
                 mAccountSpinner.setSelection(index);
             }
         }
+        mMainContent.setOnFitSystemWindowsListener(this);
         mUsersSearchAdapter = new SuggestionsAdapter(this);
         mSuggestionsList.setAdapter(mUsersSearchAdapter);
         mSuggestionsList.setOnItemClickListener(this);
@@ -186,8 +204,9 @@ public void onClick(View v) {
     }
 
     @Override
-    public void onSupportContentChanged() {
-        super.onSupportContentChanged();
+    public void onContentChanged() {
+        super.onContentChanged();
+        mMainContent = (ExtendedRelativeLayout) findViewById(R.id.main_content);
         mAccountSpinner = (Spinner) findViewById(R.id.account_spinner);
         mSearchQuery = (EditText) findViewById(R.id.search_query);
         mSearchSubmit = findViewById(R.id.search_submit);
@@ -248,6 +267,7 @@ private void updateWindowAttributes() {
         final Window window = getWindow();
         final WindowManager.LayoutParams attributes = window.getAttributes();
         attributes.gravity = Gravity.TOP | Gravity.CENTER_HORIZONTAL;
+        attributes.y = mSystemWindowsInsets.top;
         window.setAttributes(attributes);
     }
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/SignInActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/SignInActivity.java
index 3e08f320b7..09a22f0dfb 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/SignInActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/SignInActivity.java
@@ -84,7 +84,7 @@
 import static org.mariotaku.twidere.util.Utils.showErrorMessage;
 import static org.mariotaku.twidere.util.Utils.trim;
 
-public class SignInActivity extends BaseSupportActivity implements TwitterConstants, OnClickListener,
+public class SignInActivity extends BaseActionBarActivity implements TwitterConstants, OnClickListener,
         TextWatcher {
 
     private static final String TWITTER_SIGNUP_URL = "https://twitter.com/signup";
@@ -138,7 +138,7 @@ public void onActivityResult(final int requestCode, final int resultCode, final
                 break;
             }
             case REQUEST_BROWSER_SIGN_IN: {
-                if (resultCode == BaseSupportActivity.RESULT_OK && data != null) {
+                if (resultCode == BaseActionBarActivity.RESULT_OK && data != null) {
                     doLogin(data);
                 }
                 break;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/UserProfileEditorActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/UserProfileEditorActivity.java
index 7a49f85b6a..4822039227 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/UserProfileEditorActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/UserProfileEditorActivity.java
@@ -69,7 +69,7 @@
 import static org.mariotaku.twidere.util.Utils.isMyAccount;
 import static org.mariotaku.twidere.util.Utils.showErrorMessage;
 
-public class UserProfileEditorActivity extends BaseSupportActivity implements OnSizeChangedListener, TextWatcher,
+public class UserProfileEditorActivity extends BaseActionBarActivity implements OnSizeChangedListener, TextWatcher,
         OnClickListener, LoaderCallbacks<SingleResponse<ParcelableUser>> {
 
     private static final int LOADER_ID_USER = 1;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/BaseFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/BaseFragment.java
index 59171ee710..b961723439 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/BaseFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/BaseFragment.java
@@ -27,7 +27,7 @@
 import android.content.SharedPreferences;
 
 import org.mariotaku.twidere.Constants;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.app.TwidereApplication;
 import org.mariotaku.twidere.util.AsyncTwitterWrapper;
 import org.mariotaku.twidere.util.MultiSelectManager;
@@ -82,8 +82,8 @@ public void registerReceiver(final BroadcastReceiver receiver, final IntentFilte
 
     public void setProgressBarIndeterminateVisibility(final boolean visible) {
         final Activity activity = getActivity();
-        if (activity instanceof BaseSupportActivity) {
-            ((BaseSupportActivity) activity).setProgressBarIndeterminateVisibility(visible);
+        if (activity instanceof BaseActionBarActivity) {
+            ((BaseActionBarActivity) activity).setProgressBarIndeterminateVisibility(visible);
         }
     }
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsStatusesFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsStatusesFragment.java
index e037afe402..692ad90c7f 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsStatusesFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsStatusesFragment.java
@@ -28,7 +28,7 @@
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.activity.iface.IControlBarActivity;
 import org.mariotaku.twidere.activity.iface.IControlBarActivity.ControlBarOffsetListener;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.adapter.AbsStatusesAdapter;
 import org.mariotaku.twidere.adapter.AbsStatusesAdapter.StatusAdapterListener;
 import org.mariotaku.twidere.adapter.decorator.DividerItemDecoration;
@@ -424,8 +424,8 @@ protected void setAdapterData(Data data) {
 
     private void setControlVisible(boolean visible) {
         final FragmentActivity activity = getActivity();
-        if (activity instanceof BaseSupportActivity) {
-            ((BaseSupportActivity) activity).setControlBarVisibleAnimate(visible);
+        if (activity instanceof BaseActionBarActivity) {
+            ((BaseActionBarActivity) activity).setControlBarVisibleAnimate(visible);
         }
     }
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/BaseSupportFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/BaseSupportFragment.java
index a5b806f1b4..443779a424 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/BaseSupportFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/BaseSupportFragment.java
@@ -32,7 +32,7 @@
 import android.view.View;
 
 import org.mariotaku.twidere.Constants;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.app.TwidereApplication;
 import org.mariotaku.twidere.fragment.iface.IBaseFragment;
 import org.mariotaku.twidere.fragment.iface.SupportFragmentCallback;
@@ -98,8 +98,8 @@ public void registerReceiver(final BroadcastReceiver receiver, final IntentFilte
 
     public void setProgressBarIndeterminateVisibility(final boolean visible) {
         final Activity activity = getActivity();
-        if (activity instanceof BaseSupportActivity) {
-            ((BaseSupportActivity) activity).setProgressBarIndeterminateVisibility(visible);
+        if (activity instanceof BaseActionBarActivity) {
+            ((BaseActionBarActivity) activity).setProgressBarIndeterminateVisibility(visible);
         }
     }
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/DirectMessagesConversationFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/DirectMessagesConversationFragment.java
index 06b1481baa..f12f52e8f2 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/DirectMessagesConversationFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/DirectMessagesConversationFragment.java
@@ -68,7 +68,7 @@
 import org.mariotaku.querybuilder.OrderBy;
 import org.mariotaku.querybuilder.RawItemArray;
 import org.mariotaku.twidere.R;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.activity.support.ImagePickerActivity;
 import org.mariotaku.twidere.adapter.AccountsSpinnerAdapter;
 import org.mariotaku.twidere.adapter.MessageConversationAdapter;
@@ -196,7 +196,7 @@ public void onActivityCreated(final Bundle savedInstanceState) {
         if (view == null) throw new AssertionError();
         final Context viewContext = view.getContext();
         setHasOptionsMenu(true);
-        final BaseSupportActivity activity = (BaseSupportActivity) getActivity();
+        final BaseActionBarActivity activity = (BaseActionBarActivity) getActivity();
         final ActionBar actionBar = activity.getSupportActionBar();
         if (actionBar == null) throw new NullPointerException();
         actionBar.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM,
@@ -632,7 +632,7 @@ public void showConversation(final ParcelableAccount account, final ParcelableUs
     }
 
     private void updateActionBar() {
-        final BaseSupportActivity activity = (BaseSupportActivity) getActivity();
+        final BaseActionBarActivity activity = (BaseActionBarActivity) getActivity();
         final ActionBar actionBar = activity.getSupportActionBar();
         if (actionBar == null) return;
         actionBar.setDisplayOptions(mRecipient != null ? ActionBar.DISPLAY_SHOW_TITLE : ActionBar.DISPLAY_SHOW_CUSTOM,
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/MultiSelectEventHandler.java b/twidere/src/main/java/org/mariotaku/twidere/util/MultiSelectEventHandler.java
index 209dfeed47..d2f1460655 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/MultiSelectEventHandler.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/MultiSelectEventHandler.java
@@ -33,7 +33,7 @@
 
 import org.mariotaku.twidere.Constants;
 import org.mariotaku.twidere.R;
-import org.mariotaku.twidere.activity.support.BaseSupportActivity;
+import org.mariotaku.twidere.activity.support.BaseActionBarActivity;
 import org.mariotaku.twidere.app.TwidereApplication;
 import org.mariotaku.twidere.menu.AccountActionProvider;
 import org.mariotaku.twidere.model.ParcelableAccount;
@@ -64,13 +64,13 @@ public class MultiSelectEventHandler implements Constants, ActionMode.Callback,
 
     private ActionMode mActionMode;
 
-    private final BaseSupportActivity mActivity;
+    private final BaseActionBarActivity mActivity;
 
     private AccountActionProvider mAccountActionProvider;
 
     public static final int MENU_GROUP = 201;
 
-    public MultiSelectEventHandler(final BaseSupportActivity activity) {
+    public MultiSelectEventHandler(final BaseActionBarActivity activity) {
         mActivity = activity;
     }
 
diff --git a/twidere/src/main/res/drawable/divider_compose_vertical_dark.xml b/twidere/src/main/res/drawable/divider_compose_vertical_dark.xml
new file mode 100644
index 0000000000..49af118336
--- /dev/null
+++ b/twidere/src/main/res/drawable/divider_compose_vertical_dark.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+  ~ Twidere - Twitter client for Android
+  ~
+  ~  Copyright (C) 2012-2015 Mariotaku Lee <mariotaku.lee@gmail.com>
+  ~
+  ~  This program is free software: you can redistribute it and/or modify
+  ~  it under the terms of the GNU General Public License as published by
+  ~  the Free Software Foundation, either version 3 of the License, or
+  ~  (at your option) any later version.
+  ~
+  ~  This program is distributed in the hope that it will be useful,
+  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
+  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+  ~  GNU General Public License for more details.
+  ~
+  ~  You should have received a copy of the GNU General Public License
+  ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
+  -->
+
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+       android:shape="rectangle">
+    <solid android:color="#3e3e3e"/>
+    <size android:height="1dp"/>
+</shape>
\ No newline at end of file
diff --git a/twidere/src/main/res/drawable/divider_compose_vertical_light.xml b/twidere/src/main/res/drawable/divider_compose_vertical_light.xml
new file mode 100644
index 0000000000..a5b234d521
--- /dev/null
+++ b/twidere/src/main/res/drawable/divider_compose_vertical_light.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+  ~ Twidere - Twitter client for Android
+  ~
+  ~  Copyright (C) 2012-2015 Mariotaku Lee <mariotaku.lee@gmail.com>
+  ~
+  ~  This program is free software: you can redistribute it and/or modify
+  ~  it under the terms of the GNU General Public License as published by
+  ~  the Free Software Foundation, either version 3 of the License, or
+  ~  (at your option) any later version.
+  ~
+  ~  This program is distributed in the hope that it will be useful,
+  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
+  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+  ~  GNU General Public License for more details.
+  ~
+  ~  You should have received a copy of the GNU General Public License
+  ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
+  -->
+
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+       android:shape="rectangle">
+    <solid android:color="#e0e0e0"/>
+    <size android:height="1dp"/>
+</shape>
\ No newline at end of file
diff --git a/twidere/src/main/res/layout/activity_compose.xml b/twidere/src/main/res/layout/activity_compose.xml
index df655f1db5..28c06900fb 100644
--- a/twidere/src/main/res/layout/activity_compose.xml
+++ b/twidere/src/main/res/layout/activity_compose.xml
@@ -121,8 +121,8 @@
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_weight="0"
-        android:background="?android:colorBackground"
-        android:divider="?dividerVertical"
+        android:background="?android:panelColorBackground"
+        android:divider="?android:dividerVertical"
         android:orientation="vertical"
         android:showDividers="beginning">
 
diff --git a/twidere/src/main/res/layout/activity_quick_search_bar.xml b/twidere/src/main/res/layout/activity_quick_search_bar.xml
index 09b544a926..c7ba70ddf9 100644
--- a/twidere/src/main/res/layout/activity_quick_search_bar.xml
+++ b/twidere/src/main/res/layout/activity_quick_search_bar.xml
@@ -18,12 +18,13 @@
   ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
   -->
 
-<RelativeLayout
+<org.mariotaku.twidere.view.ExtendedRelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:id="@+id/main_content"
     android:padding="@dimen/element_spacing_normal">
 
     <android.support.v7.widget.CardView
@@ -91,4 +92,4 @@
 
     </android.support.v7.widget.CardView>
 
-</RelativeLayout>
\ No newline at end of file
+</org.mariotaku.twidere.view.ExtendedRelativeLayout>
\ No newline at end of file
diff --git a/twidere/src/main/res/values/themes.xml b/twidere/src/main/res/values/themes.xml
index bf8c7382f4..d089895045 100644
--- a/twidere/src/main/res/values/themes.xml
+++ b/twidere/src/main/res/values/themes.xml
@@ -187,12 +187,16 @@
         <item name="windowActionBar">false</item>
         <item name="windowActionModeOverlay">false</item>
         <item name="android:windowNoTitle">true</item>
+        <item name="android:panelColorBackground">#3c3c3c</item>
+        <item name="android:dividerVertical">@drawable/divider_compose_vertical_dark</item>
     </style>
 
     <style name="Theme.Twidere.Light.Compose" parent="Theme.Compat.Base.Light.Dialog">
         <item name="windowActionBar">false</item>
         <item name="windowActionModeOverlay">false</item>
         <item name="android:windowNoTitle">true</item>
+        <item name="android:panelColorBackground">#e5e5e5</item>
+        <item name="android:dividerVertical">@drawable/divider_compose_vertical_light</item>
     </style>
 
     <style name="Theme.Twidere.Light.QuickSearchBar" parent="Theme.Twidere.Light.Dialog">
