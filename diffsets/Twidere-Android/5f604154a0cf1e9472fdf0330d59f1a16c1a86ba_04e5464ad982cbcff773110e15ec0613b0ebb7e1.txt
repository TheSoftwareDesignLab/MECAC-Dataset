diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/theme/ImageViewViewProcessor.java b/twidere/src/main/java/org/mariotaku/twidere/util/theme/ImageViewViewProcessor.java
index ad607a2631..cd2b3bee19 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/theme/ImageViewViewProcessor.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/theme/ImageViewViewProcessor.java
@@ -1,5 +1,6 @@
 package org.mariotaku.twidere.util.theme;
 
+import android.annotation.SuppressLint;
 import android.content.Context;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
@@ -14,11 +15,13 @@
  * Created by mariotaku on 16/3/30.
  */
 public class ImageViewViewProcessor implements ViewProcessor<ImageView, Void> {
+    @SuppressLint("PrivateResource")
     @Override
     public void process(@NonNull Context context, @Nullable String key, @Nullable ImageView target, @Nullable Void extra) {
         if (target == null) return;
         switch (target.getId()) {
             case android.support.v7.appcompat.R.id.action_mode_close_button: {
+                target.setImageResource(android.support.v7.appcompat.R.drawable.abc_ic_ab_back_material);
                 target.setColorFilter(ThemeUtils.getColorDependent(Config.toolbarColor(context, key, null)));
                 break;
             }
diff --git a/twidere/src/main/kotlin/org/mariotaku/twidere/activity/SettingsActivity.kt b/twidere/src/main/kotlin/org/mariotaku/twidere/activity/SettingsActivity.kt
index 0baf65c3c4..6febaa88b8 100644
--- a/twidere/src/main/kotlin/org/mariotaku/twidere/activity/SettingsActivity.kt
+++ b/twidere/src/main/kotlin/org/mariotaku/twidere/activity/SettingsActivity.kt
@@ -29,7 +29,6 @@ import android.support.annotation.DrawableRes
 import android.support.annotation.XmlRes
 import android.support.v4.app.Fragment
 import android.support.v4.app.FragmentManager
-import android.support.v4.widget.SlidingPaneLayout
 import android.support.v7.app.AlertDialog
 import android.support.v7.preference.Preference
 import android.support.v7.preference.PreferenceFragmentCompat
@@ -41,6 +40,7 @@ import android.view.View
 import android.view.ViewGroup
 import android.widget.*
 import android.widget.AdapterView.OnItemClickListener
+import kotlinx.android.synthetic.main.activity_settings.*
 import org.mariotaku.twidere.R
 import org.mariotaku.twidere.constant.IntentConstants.*
 import org.mariotaku.twidere.constant.KeyboardShortcutConstants.ACTION_NAVIGATION_BACK
@@ -52,20 +52,9 @@ import java.util.*
 
 class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartFragmentCallback {
 
-    private var mEntriesListView: ListView? = null
-    private var mSlidingPaneLayout: SlidingPaneLayout? = null
-
     var shouldRecreate: Boolean = false
     var shouldRestart: Boolean = false
-    private var mEntriesAdapter: EntriesAdapter? = null
-    private var mDetailFragmentContainer: View? = null
-
-    override fun onContentChanged() {
-        super.onContentChanged()
-        mEntriesListView = findViewById(R.id.entries_list) as ListView
-        mSlidingPaneLayout = findViewById(R.id.sliding_pane) as SlidingPaneLayout
-        mDetailFragmentContainer = findViewById(R.id.detail_fragment_container)
-    }
+    private lateinit var entriesAdapter: EntriesAdapter
 
 
     override fun onCreate(savedInstanceState: Bundle?) {
@@ -74,23 +63,23 @@ class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartF
 
         val backgroundAlpha = currentThemeBackgroundAlpha
 
-        mDetailFragmentContainer!!.setBackgroundColor(backgroundAlpha shl 24 or 0xFFFFFF and ThemeUtils.getThemeBackgroundColor(this))
+        detailFragmentContainer.setBackgroundColor(backgroundAlpha shl 24 or 0xFFFFFF and ThemeUtils.getThemeBackgroundColor(this))
 
-        mSlidingPaneLayout!!.setShadowResourceLeft(R.drawable.sliding_pane_shadow_left)
-        mSlidingPaneLayout!!.setShadowResourceRight(R.drawable.sliding_pane_shadow_right)
-        mSlidingPaneLayout!!.sliderFadeColor = 0
-        mEntriesAdapter = EntriesAdapter(this)
+        slidingPane.setShadowResourceLeft(R.drawable.sliding_pane_shadow_left)
+        slidingPane.setShadowResourceRight(R.drawable.sliding_pane_shadow_right)
+        slidingPane.sliderFadeColor = 0
+        entriesAdapter = EntriesAdapter(this)
         initEntries()
-        mEntriesListView!!.adapter = mEntriesAdapter
-        mEntriesListView!!.choiceMode = AbsListView.CHOICE_MODE_SINGLE
-        mEntriesListView!!.onItemClickListener = this
+        entriesList.adapter = entriesAdapter
+        entriesList.choiceMode = AbsListView.CHOICE_MODE_SINGLE
+        entriesList.onItemClickListener = this
 
         if (savedInstanceState == null) {
             val initialTag = intent.getStringExtra(EXTRA_INITIAL_TAG)
             var initialItem = -1
             var firstEntry = -1
-            for (i in 0 until mEntriesAdapter!!.count) {
-                val entry = mEntriesAdapter!!.getItem(i)
+            for (i in 0 until entriesAdapter.count) {
+                val entry = entriesAdapter.getItem(i)
                 if (entry is PreferenceEntry) {
                     if (firstEntry == -1) {
                         firstEntry = i
@@ -106,44 +95,44 @@ class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartF
             }
             if (initialItem != -1) {
                 openDetails(initialItem)
-                mEntriesListView!!.setItemChecked(initialItem, true)
+                entriesList.setItemChecked(initialItem, true)
             }
         }
     }
 
     private fun initEntries() {
-        mEntriesAdapter!!.addHeader(getString(R.string.appearance))
-        mEntriesAdapter!!.addPreference("theme", R.drawable.ic_action_color_palette, getString(R.string.theme),
+        entriesAdapter.addHeader(getString(R.string.appearance))
+        entriesAdapter.addPreference("theme", R.drawable.ic_action_color_palette, getString(R.string.theme),
                 R.xml.preferences_theme)
-        mEntriesAdapter!!.addPreference("cards", R.drawable.ic_action_card, getString(R.string.cards),
+        entriesAdapter.addPreference("cards", R.drawable.ic_action_card, getString(R.string.cards),
                 R.xml.preferences_cards)
 
-        mEntriesAdapter!!.addHeader(getString(R.string.function))
-        mEntriesAdapter!!.addPreference("tabs", R.drawable.ic_action_tab, getString(R.string.tabs),
+        entriesAdapter.addHeader(getString(R.string.function))
+        entriesAdapter.addPreference("tabs", R.drawable.ic_action_tab, getString(R.string.tabs),
                 CustomTabsFragment::class.java)
-        mEntriesAdapter!!.addPreference("extension", R.drawable.ic_action_extension, getString(R.string.extensions),
+        entriesAdapter.addPreference("extension", R.drawable.ic_action_extension, getString(R.string.extensions),
                 ExtensionsListFragment::class.java)
-        mEntriesAdapter!!.addPreference("refresh", R.drawable.ic_action_refresh, getString(R.string.refresh),
+        entriesAdapter.addPreference("refresh", R.drawable.ic_action_refresh, getString(R.string.refresh),
                 R.xml.preferences_refresh)
-        mEntriesAdapter!!.addPreference("notifications", R.drawable.ic_action_notification, getString(R.string.settings_notifications),
+        entriesAdapter.addPreference("notifications", R.drawable.ic_action_notification, getString(R.string.settings_notifications),
                 R.xml.preferences_notifications)
-        mEntriesAdapter!!.addPreference("network", R.drawable.ic_action_web, getString(R.string.network),
+        entriesAdapter.addPreference("network", R.drawable.ic_action_web, getString(R.string.network),
                 R.xml.preferences_network)
-        mEntriesAdapter!!.addPreference("compose", R.drawable.ic_action_status_compose, getString(R.string.compose),
+        entriesAdapter.addPreference("compose", R.drawable.ic_action_status_compose, getString(R.string.compose),
                 R.xml.preferences_compose)
-        mEntriesAdapter!!.addPreference("content", R.drawable.ic_action_twidere_square, getString(R.string.content),
+        entriesAdapter.addPreference("content", R.drawable.ic_action_twidere_square, getString(R.string.content),
                 R.xml.preferences_content)
-        mEntriesAdapter!!.addPreference("storage", R.drawable.ic_action_storage, getString(R.string.storage),
+        entriesAdapter.addPreference("storage", R.drawable.ic_action_storage, getString(R.string.storage),
                 R.xml.preferences_storage)
-        mEntriesAdapter!!.addPreference("other", R.drawable.ic_action_more_horizontal, getString(R.string.other_settings),
+        entriesAdapter.addPreference("other", R.drawable.ic_action_more_horizontal, getString(R.string.other_settings),
                 R.xml.preferences_other)
 
-        mEntriesAdapter!!.addHeader(getString(R.string.about))
-        mEntriesAdapter!!.addPreference("about", R.drawable.ic_action_info, getString(R.string.about),
+        entriesAdapter.addHeader(getString(R.string.about))
+        entriesAdapter.addPreference("about", R.drawable.ic_action_info, getString(R.string.about),
                 R.xml.preferences_about)
         val browserArgs = Bundle()
         browserArgs.putString(EXTRA_URI, "file:///android_asset/gpl-3.0-standalone.html")
-        mEntriesAdapter!!.addPreference("license", R.drawable.ic_action_open_source, getString(R.string.open_source_license),
+        entriesAdapter.addPreference("license", R.drawable.ic_action_open_source, getString(R.string.open_source_license),
                 SupportBrowserFragment::class.java, browserArgs)
     }
 
@@ -208,7 +197,7 @@ class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartF
         val fm = supportFragmentManager
         val ft = fm.beginTransaction()
         val f = Fragment.instantiate(this, preference.fragment, preference.extras)
-        ft.replace(R.id.detail_fragment_container, f)
+        ft.replace(R.id.detailFragmentContainer, f)
         ft.addToBackStack(preference.title.toString())
         ft.commit()
         return true
@@ -220,7 +209,7 @@ class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartF
 
     private fun openDetails(position: Int) {
         if (isFinishing) return
-        val entry = mEntriesAdapter!!.getItem(position) as? PreferenceEntry ?: return
+        val entry = entriesAdapter.getItem(position) as? PreferenceEntry ?: return
         val fm = supportFragmentManager
         fm.popBackStack(null, FragmentManager.POP_BACK_STACK_INCLUSIVE)
         val ft = fm.beginTransaction()
@@ -229,14 +218,14 @@ class SettingsActivity : BaseActivity(), OnItemClickListener, OnPreferenceStartF
             args.putInt(EXTRA_RESID, entry.preference)
             val f = Fragment.instantiate(this, SettingsDetailsFragment::class.java.name,
                     args)
-            ft.replace(R.id.detail_fragment_container, f)
+            ft.replace(R.id.detailFragmentContainer, f)
         } else if (entry.fragment != null) {
-            ft.replace(R.id.detail_fragment_container, Fragment.instantiate(this, entry.fragment,
+            ft.replace(R.id.detailFragmentContainer, Fragment.instantiate(this, entry.fragment,
                     entry.args))
         }
         ft.setBreadCrumbTitle(entry.title)
         ft.commit()
-        mSlidingPaneLayout!!.closePane()
+        slidingPane.closePane()
     }
 
     private fun notifyUnsavedChange(): Boolean {
diff --git a/twidere/src/main/res/layout/activity_settings.xml b/twidere/src/main/res/layout/activity_settings.xml
index 980b870edf..1f4dae8d23 100644
--- a/twidere/src/main/res/layout/activity_settings.xml
+++ b/twidere/src/main/res/layout/activity_settings.xml
@@ -18,7 +18,7 @@
   -->
 
 <android.support.v4.widget.SlidingPaneLayout
-    android:id="@+id/sliding_pane"
+    android:id="@+id/slidingPane"
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
@@ -30,7 +30,7 @@
         android:layout_gravity="start">
 
         <ListView
-            android:id="@+id/entries_list"
+            android:id="@+id/entriesList"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:divider="@null"
@@ -39,7 +39,7 @@
     </FrameLayout>
 
     <FrameLayout
-        android:id="@+id/detail_fragment_container"
+        android:id="@+id/detailFragmentContainer"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:layout_gravity="end"
diff --git a/twidere/src/main/res/layout/list_item_custom_tab.xml b/twidere/src/main/res/layout/list_item_custom_tab.xml
index ea141c7c41..a5b72c977e 100644
--- a/twidere/src/main/res/layout/list_item_custom_tab.xml
+++ b/twidere/src/main/res/layout/list_item_custom_tab.xml
@@ -17,7 +17,8 @@
   ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
   -->
 
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:layout_gravity="center_vertical"
@@ -25,7 +26,8 @@
     android:descendantFocusability="blocksDescendants"
     android:gravity="center_vertical"
     android:minHeight="?android:attr/listPreferredItemHeight"
-    android:orientation="horizontal">
+    android:orientation="horizontal"
+    android:tag="tint_background|accent_color">
 
     <View
         android:id="@+id/drag_handle"
@@ -33,7 +35,7 @@
         android:layout_height="match_parent"
         android:layout_gravity="center"
         android:layout_weight="0"
-        android:background="@drawable/list_drag_handle" />
+        android:background="@drawable/list_drag_handle"/>
 
     <ImageView
         android:id="@android:id/icon"
@@ -42,7 +44,7 @@
         android:layout_margin="4dip"
         android:layout_weight="0"
         android:contentDescription="@string/icon"
-        android:scaleType="fitCenter" />
+        android:scaleType="fitCenter"/>
 
     <LinearLayout
         android:layout_width="match_parent"
@@ -57,18 +59,18 @@
             android:id="@android:id/text1"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
+            android:maxLines="1"
             android:textAppearance="?android:attr/textAppearanceMedium"
             android:textColor="?android:textColorPrimary"
-            android:textStyle="bold"
-            android:maxLines="1"/>
+            android:textStyle="bold"/>
 
         <TextView
             android:id="@android:id/text2"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
+            android:maxLines="1"
             android:textAppearance="?android:attr/textAppearanceSmall"
-            android:textColor="?android:textColorSecondary"
-            android:maxLines="1"/>
+            android:textColor="?android:textColorSecondary"/>
     </LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/twidere/src/main/res/layout/list_item_draft.xml b/twidere/src/main/res/layout/list_item_draft.xml
index c033995b2f..12446e5d48 100644
--- a/twidere/src/main/res/layout/list_item_draft.xml
+++ b/twidere/src/main/res/layout/list_item_draft.xml
@@ -17,16 +17,18 @@
   ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
   -->
 
-<org.mariotaku.twidere.view.ColorLabelLinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<org.mariotaku.twidere.view.ColorLabelLinearLayout
+    android:id="@+id/content"
+    xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
-    android:id="@+id/content"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:background="?android:activatedBackgroundIndicator"
     android:descendantFocusability="blocksDescendants"
     android:orientation="vertical"
     android:padding="@dimen/element_spacing_normal"
+    android:tag="tint_background|accent_color"
     app:ignorePadding="true"
     tools:context=".adapter.DraftsAdapter">
 
@@ -41,7 +43,7 @@
         android:horizontalSpacing="@dimen/element_spacing_xsmall"
         android:verticalSpacing="@dimen/element_spacing_xsmall">
 
-        <include layout="@layout/layout_card_media_preview" />
+        <include layout="@layout/layout_card_media_preview"/>
 
     </org.mariotaku.twidere.view.CardMediaContainer>
 
@@ -55,7 +57,7 @@
         android:paddingRight="@dimen/element_spacing_normal"
         android:paddingTop="@dimen/element_spacing_normal"
         android:textAppearance="?android:textAppearanceSmall"
-        android:textColor="?android:textColorPrimary" />
+        android:textColor="?android:textColorPrimary"/>
 
     <TextView
         android:id="@+id/time"
@@ -65,7 +67,7 @@
         android:paddingLeft="@dimen/element_spacing_normal"
         android:paddingRight="@dimen/element_spacing_normal"
         android:textAppearance="?android:textAppearanceSmall"
-        android:textColor="?android:textColorPrimary" />
+        android:textColor="?android:textColorPrimary"/>
 
     <LinearLayout
         android:layout_width="match_parent"
@@ -78,12 +80,12 @@
             style="?android:borderlessButtonStyle"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:text="@string/delete" />
+            android:text="@string/delete"/>
 
         <Button
             style="?android:borderlessButtonStyle"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:text="@string/send" />
+            android:text="@string/send"/>
     </LinearLayout>
 </org.mariotaku.twidere.view.ColorLabelLinearLayout>
\ No newline at end of file
diff --git a/twidere/src/main/res/layout/list_item_preference_header_item.xml b/twidere/src/main/res/layout/list_item_preference_header_item.xml
index c31add06db..283e93a9ef 100644
--- a/twidere/src/main/res/layout/list_item_preference_header_item.xml
+++ b/twidere/src/main/res/layout/list_item_preference_header_item.xml
@@ -25,7 +25,8 @@
     android:background="?android:activatedBackgroundIndicator"
     android:gravity="center_vertical"
     android:minHeight="?listPreferredItemHeightSmall"
-    android:orientation="horizontal">
+    android:orientation="horizontal"
+    android:tag="tint_background|accent_color">
 
     <org.mariotaku.twidere.view.IconActionView
         android:id="@android:id/icon"
@@ -47,10 +48,10 @@
         android:layout_height="wrap_content"
         android:layout_weight="1"
         android:ellipsize="marquee"
+        android:maxLines="1"
         android:textAppearance="?android:textAppearanceMedium"
         android:textColor="?android:textColorPrimary"
         android:textSize="16sp"
-        tools:text="@string/settings"
-        android:maxLines="1"/>
+        tools:text="@string/settings"/>
 
 </LinearLayout>
