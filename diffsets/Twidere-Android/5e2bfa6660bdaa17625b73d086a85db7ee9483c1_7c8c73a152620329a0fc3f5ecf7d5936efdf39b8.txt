diff --git a/twidere/src/main/java/org/mariotaku/twidere/app/TwidereApplication.java b/twidere/src/main/java/org/mariotaku/twidere/app/TwidereApplication.java
index 6cadf763ea..ce6a455d61 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/app/TwidereApplication.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/app/TwidereApplication.java
@@ -121,11 +121,15 @@ public void onCreate() {
             StrictModeUtils.detectAllVmPolicy();
         }
         ATE.registerViewProcessor(TabPagerIndicator.class, new TabPagerIndicatorViewProcessor());
+        final SharedPreferences preferences = getSharedPreferences();
         if (!ATE.config(this, null).isConfigured()) {
-            final int accentColor = ThemeUtils.getUserAccentColor(this);
-            ATE.config(this, null).primaryColor(accentColor).accentColor(accentColor).commit();
+            final int themeColor = preferences.getInt(KEY_THEME_COLOR, ContextCompat.getColor(this,
+                    R.color.branding_color));
+            ATE.config(this, "light").primaryColor(themeColor).accentColor(themeColor).coloredActionBar(true).commit();
+            ATE.config(this, "dark").accentColor(themeColor).coloredActionBar(false).commit();
+            ATE.config(this, null).primaryColor(themeColor).accentColor(themeColor).commit();
         }
-        resetTheme(getSharedPreferences());
+        resetTheme(preferences);
         super.onCreate();
         initializeAsyncTask();
         initDebugMode();
@@ -268,8 +272,8 @@ public void onSharedPreferenceChanged(final SharedPreferences preferences, final
             }
             case KEY_THEME_COLOR: {
                 final int themeColor = preferences.getInt(key, ContextCompat.getColor(this, R.color.branding_color));
-                ATE.config(this, "light").primaryColor(themeColor).accentColor(themeColor).commit();
-                ATE.config(this, "dark").accentColor(themeColor).commit();
+                ATE.config(this, "light").primaryColor(themeColor).accentColor(themeColor).coloredActionBar(true).commit();
+                ATE.config(this, "dark").accentColor(themeColor).coloredActionBar(false).commit();
                 break;
             }
         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/preference/AccountsListPreference.java b/twidere/src/main/java/org/mariotaku/twidere/preference/AccountsListPreference.java
index f272b4c7f0..17af493e0c 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/preference/AccountsListPreference.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/preference/AccountsListPreference.java
@@ -27,11 +27,13 @@
 import android.graphics.drawable.BitmapDrawable;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
+import android.support.v7.internal.widget.PreferenceImageView;
 import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceCategory;
 import android.support.v7.preference.PreferenceManager;
 import android.support.v7.preference.PreferenceViewHolder;
 import android.util.AttributeSet;
+import android.view.Gravity;
 import android.view.View;
 import android.widget.ImageView;
 import android.widget.TextView;
@@ -113,6 +115,9 @@ public AccountItemPreference(final Context context, final ParcelableAccount acco
             mAccount = account;
             mSwitchPreference = context.getSharedPreferences(switchPreferenceName, Context.MODE_PRIVATE);
             mSwitchPreference.registerOnSharedPreferenceChangeListener(this);
+            setTitle(mAccount.name);
+            setSummary(String.format("@%s", mAccount.screen_name));
+            mImageLoader.loadProfileImage(mAccount, this);
         }
 
         @Override
@@ -123,7 +128,9 @@ public void onLoadingCancelled(final String imageUri, final View view) {
         @Override
         public void onLoadingComplete(final String imageUri, final View view, final Bitmap loadedImage) {
             final Bitmap roundedBitmap = BitmapUtils.getCircleBitmap(loadedImage);
-            setIcon(new BitmapDrawable(getContext().getResources(), roundedBitmap));
+            final BitmapDrawable icon = new BitmapDrawable(getContext().getResources(), roundedBitmap);
+            icon.setGravity(Gravity.FILL);
+            setIcon(icon);
         }
 
         @Override
@@ -141,21 +148,18 @@ public void onSharedPreferenceChanged(final SharedPreferences sharedPreferences,
             notifyChanged();
         }
 
-        @Override
-        protected void onAttachedToHierarchy(@NonNull final PreferenceManager preferenceManager) {
-            super.onAttachedToHierarchy(preferenceManager);
-            setTitle(mAccount.name);
-            setSummary(String.format("@%s", mAccount.screen_name));
-//            setIcon(R.drawable.ic_profile_image_default);
-            mImageLoader.loadProfileImage(mAccount.profile_image_url, this);
-        }
 
         @Override
         public void onBindViewHolder(PreferenceViewHolder holder) {
             super.onBindViewHolder(holder);
             final View iconView = holder.findViewById(android.R.id.icon);
-            if (iconView instanceof ImageView) {
-                final ImageView imageView = (ImageView) iconView;
+            if (iconView instanceof PreferenceImageView) {
+                final PreferenceImageView imageView = (PreferenceImageView) iconView;
+                final int maxSize = getContext().getResources().getDimensionPixelSize(R.dimen.element_size_normal);
+                imageView.setMinimumWidth(maxSize);
+                imageView.setMinimumHeight(maxSize);
+                imageView.setMaxWidth(maxSize);
+                imageView.setMaxHeight(maxSize);
                 imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
             }
             final View titleView = holder.findViewById(android.R.id.title);
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/MediaLoaderWrapper.java b/twidere/src/main/java/org/mariotaku/twidere/util/MediaLoaderWrapper.java
index 3716b7160b..88fbd19bd9 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/MediaLoaderWrapper.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/MediaLoaderWrapper.java
@@ -220,6 +220,15 @@ public void displayProfileImage(final ImageView view, final String url, final Im
         mImageLoader.displayImage(url, view, mProfileImageDisplayOptions, listener);
     }
 
+    public void loadProfileImage(final ParcelableAccount account, final ImageLoadingListener listener) {
+        if (account.account_user != null && account.account_user.extras != null
+                && !TextUtils.isEmpty(account.account_user.extras.profile_image_url_profile_size)) {
+            loadProfileImage(account.account_user.extras.profile_image_url_profile_size, listener);
+        } else {
+            loadProfileImage(account.profile_image_url, listener);
+        }
+    }
+
     public void loadProfileImage(final String url, final ImageLoadingListener listener) {
         mImageLoader.loadImage(url, mProfileImageDisplayOptions, listener);
     }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/theme/TabPagerIndicatorViewProcessor.java b/twidere/src/main/java/org/mariotaku/twidere/util/theme/TabPagerIndicatorViewProcessor.java
index 33c92e6281..6d2f11d85b 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/theme/TabPagerIndicatorViewProcessor.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/theme/TabPagerIndicatorViewProcessor.java
@@ -1,9 +1,11 @@
 package org.mariotaku.twidere.util.theme;
 
 import android.content.Context;
+import android.graphics.Color;
 import android.support.annotation.NonNull;
 
 import com.afollestad.appthemeengine.Config;
+import com.afollestad.appthemeengine.util.ATEUtil;
 import com.afollestad.appthemeengine.viewprocessors.ViewProcessor;
 
 import org.mariotaku.twidere.view.TabPagerIndicator;
@@ -14,6 +16,16 @@
 public class TabPagerIndicatorViewProcessor implements ViewProcessor<TabPagerIndicator, Object> {
     @Override
     public void process(@NonNull Context context, String key, TabPagerIndicator view, Object extra) {
-
+        final int primaryColor = Config.primaryColor(context, key);
+        final boolean isDark = !ATEUtil.isColorLight(primaryColor);
+        final int primaryColorDependent = isDark ? Color.WHITE : Color.BLACK;
+        view.setIconColor(primaryColorDependent);
+        view.setLabelColor(primaryColorDependent);
+        if (Config.coloredActionBar(context, key)) {
+            view.setStripColor(primaryColorDependent);
+        } else {
+            view.setStripColor(Config.accentColor(context, key));
+        }
+        view.updateAppearance();
     }
 }
diff --git a/twidere/src/main/res/layout/activity_home_content.xml b/twidere/src/main/res/layout/activity_home_content.xml
index d33720e917..f570ab7cef 100644
--- a/twidere/src/main/res/layout/activity_home_content.xml
+++ b/twidere/src/main/res/layout/activity_home_content.xml
@@ -37,7 +37,6 @@
         android:layout_width="match_parent"
         android:layout_height="?actionBarSize"
         android:elevation="@dimen/toolbar_elevation"
-        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
         app:contentInsetEnd="0dp"
         app:contentInsetStart="0dp">
 
@@ -58,7 +57,7 @@
         android:layout_margin="@dimen/element_spacing_large"
         android:clickable="true"
         android:src="@drawable/ic_action_status_compose"
-        app:backgroundTint="?colorPrimary"
+        android:tag="background|primary_color,tint|primary_color_dependent"
         app:elevation="6dp"
         app:pressedTranslationZ="12dp"/>
 
diff --git a/twidere/src/main/res/layout/list_item_preference_header_category.xml b/twidere/src/main/res/layout/list_item_preference_header_category.xml
index 12a2922a79..bf934106b1 100644
--- a/twidere/src/main/res/layout/list_item_preference_header_category.xml
+++ b/twidere/src/main/res/layout/list_item_preference_header_category.xml
@@ -26,4 +26,5 @@
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
-    android:singleLine="true"/>
+    android:singleLine="true"
+    android:textColor="?colorAccent"/>
