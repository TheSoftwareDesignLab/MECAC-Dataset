diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
index c5b6593fdb..69c38b55e6 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/ComposeActivity.java
@@ -271,10 +271,15 @@ public void onBackPressed() {
             Toast.makeText(this, R.string.status_saved_to_draft, Toast.LENGTH_SHORT).show();
             finish();
         } else {
-            mTask = AsyncTaskUtils.executeTask(new DiscardTweetTask(this));
+            discardTweet();
         }
     }
 
+    protected void discardTweet() {
+        if (isFinishing() || mTask != null && mTask.getStatus() == AsyncTask.Status.RUNNING) return;
+        mTask = AsyncTaskUtils.executeTask(new DiscardTweetTask(this));
+    }
+
     protected boolean hasComposingStatus() {
         final String text = mEditText != null ? ParseUtils.parseString(mEditText.getText()) : null;
         final boolean textChanged = text != null && !text.isEmpty() && !text.equals(mOriginalText);
@@ -1655,18 +1660,18 @@ protected void onPreExecute() {
 
     static class DiscardTweetTask extends AsyncTask<Object, Object, Object> {
 
-        final WeakReference<ComposeActivity> activityRef;
+        final ComposeActivity activity;
+        private final List<ParcelableMediaUpdate> media;
 
         DiscardTweetTask(final ComposeActivity activity) {
-            this.activityRef = new WeakReference<>(activity);
+            this.activity = activity;
+            this.media = activity.getMediaList();
         }
 
         @Override
         protected Object doInBackground(final Object... params) {
-            final ComposeActivity activity = activityRef.get();
-            if (activity == null) return null;
-            for (final ParcelableMediaUpdate media : activity.getMediaList()) {
-                final Uri uri = Uri.parse(media.uri);
+            for (final ParcelableMediaUpdate item : media) {
+                final Uri uri = Uri.parse(item.uri);
                 if (ContentResolver.SCHEME_FILE.equals(uri.getScheme())) {
                     final File file = new File(uri.getPath());
                     if (!file.delete()) {
@@ -1679,16 +1684,12 @@ protected Object doInBackground(final Object... params) {
 
         @Override
         protected void onPostExecute(final Object result) {
-            final ComposeActivity activity = activityRef.get();
-            if (activity == null) return;
             activity.setProgressVisible(false);
             activity.finish();
         }
 
         @Override
         protected void onPreExecute() {
-            final ComposeActivity activity = activityRef.get();
-            if (activity == null) return;
             activity.setProgressVisible(true);
         }
     }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
index c1f05a4d1e..b8ae459ad1 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
@@ -1048,7 +1048,7 @@ public void displayStatus(@Nullable final ParcelableCredentials account,
 
             final ParcelableMedia[] media = Utils.getPrimaryMedia(status);
 
-            if (media == null) {
+            if (ArrayUtils.isEmpty(media)) {
                 mediaPreviewContainer.setVisibility(View.GONE);
                 mediaPreview.setVisibility(View.GONE);
                 mediaPreviewLoad.setVisibility(View.GONE);
diff --git a/twidere/src/main/java/org/mariotaku/twidere/provider/TwidereDataProvider.java b/twidere/src/main/java/org/mariotaku/twidere/provider/TwidereDataProvider.java
index d72a989981..f74f738b16 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/provider/TwidereDataProvider.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/provider/TwidereDataProvider.java
@@ -372,7 +372,7 @@ private int bulkInsertInternal(@NonNull Uri uri, @NonNull ContentValues[] values
         if (result > 0) {
             onDatabaseUpdated(tableId, uri);
         }
-        onNewItemsInserted(uri, tableId, valuesArray, newIds);
+        onNewItemsInserted(uri, tableId, valuesArray);
         return result;
     }
 
@@ -504,7 +504,7 @@ private Uri insertInternal(@NonNull Uri uri, ContentValues values) {
             return null;
         }
         onDatabaseUpdated(tableId, uri);
-        onNewItemsInserted(uri, tableId, values, rowId);
+        onNewItemsInserted(uri, tableId, values);
         return Uri.withAppendedPath(uri, String.valueOf(rowId));
     }
 
@@ -1104,13 +1104,13 @@ private Cursor getNotificationsCursor(final int id) {
         return c;
     }
 
-    private Bitmap getProfileImageForNotification(final String profile_image_url) {
+    private Bitmap getProfileImageForNotification(final String profileImageUrl) {
         final Context context = getContext();
         assert context != null;
         final Resources res = context.getResources();
         final int w = res.getDimensionPixelSize(android.R.dimen.notification_large_icon_width);
         final int h = res.getDimensionPixelSize(android.R.dimen.notification_large_icon_height);
-        final File profile_image_file = mImagePreloader.getCachedImageFile(profile_image_url);
+        final File profile_image_file = mImagePreloader.getCachedImageFile(profileImageUrl);
         final Bitmap profile_image = profile_image_file != null && profile_image_file.isFile() ? BitmapFactory
                 .decodeFile(profile_image_file.getPath()) : null;
         if (profile_image != null) return Bitmap.createScaledBitmap(profile_image, w, h, true);
@@ -1133,15 +1133,6 @@ private Cursor getUnreadCountsCursorByType(final String type) {
         return c;
     }
 
-    private int getUsersCount(final List<ParcelableStatus> items) {
-        if (items == null || items.isEmpty()) return 0;
-        final Set<Long> ids = new HashSet<>();
-        for (final ParcelableStatus item : items.toArray(new ParcelableStatus[items.size()])) {
-            ids.add(item.user_id);
-        }
-        return ids.size();
-    }
-
     private boolean isNotificationAudible() {
         return mHomeActivityInBackground && !Utils.isNotificationsSilent(getContext());
     }
@@ -1179,11 +1170,11 @@ private void onDatabaseUpdated(final int tableId, final Uri uri) {
         notifyContentObserver(Utils.getNotificationUri(tableId, uri));
     }
 
-    private void onNewItemsInserted(final Uri uri, final int tableId, final ContentValues values, final long newId) {
-        onNewItemsInserted(uri, tableId, new ContentValues[]{values}, new long[]{newId});
+    private void onNewItemsInserted(final Uri uri, final int tableId, final ContentValues values) {
+        onNewItemsInserted(uri, tableId, new ContentValues[]{values});
     }
 
-    private void onNewItemsInserted(final Uri uri, final int tableId, final ContentValues[] valuesArray, final long[] newIds) {
+    private void onNewItemsInserted(final Uri uri, final int tableId, final ContentValues[] valuesArray) {
         final Context context = getContext();
         if (uri == null || valuesArray == null || valuesArray.length == 0 || context == null)
             return;
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/Utils.java b/twidere/src/main/java/org/mariotaku/twidere/util/Utils.java
index 84dd9d3ce7..92fd965f70 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/Utils.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/Utils.java
@@ -1902,6 +1902,7 @@ public static void openMediaDirectly(final Context context, final long accountId
         openMediaDirectly(context, accountId, status, null, current, getPrimaryMedia(status), options);
     }
 
+    @NonNull
     public static ParcelableMedia[] getPrimaryMedia(ParcelableStatus status) {
         if (status.is_quote && ArrayUtils.isEmpty(status.media)) {
             return status.quoted_media;
