diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
index 76621362b9..3eab778446 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/support/QuickSearchBarActivity.java
@@ -105,7 +105,7 @@ public void beforeTextChanged(CharSequence s, int start, int count, int after) {
 
     @Override
     public boolean canDismiss(int position) {
-        return position < getHistorySize(mSearchQuery.getText());
+        return mUsersSearchAdapter.canDismiss(position);
     }
 
     @Override
@@ -285,41 +285,9 @@ static interface SuggestionItem {
 
     }
 
-    static class HeaderItem implements SuggestionItem {
-
-        static final int ITEM_VIEW_TYPE = 1;
-
-        @Override
-        public void bindView(SuggestionsAdapter adapter, View view, int position) {
-
-        }
-
-        @Override
-        public int getItemViewType() {
-            return ITEM_VIEW_TYPE;
-        }
-
-        @Override
-        public boolean isEnabled() {
-            return false;
-        }
-
-        @Override
-        public void onItemClick(QuickSearchBarActivity activity, int position) {
-
-        }
-
-        @Override
-        public int getItemLayoutResource() {
-            return 0;
-        }
-
-
-    }
-
     static class SearchHistoryItem extends BaseClickableItem {
 
-        static final int ITEM_VIEW_TYPE = 1;
+        static final int ITEM_VIEW_TYPE = 0;
         private final long mCursorId;
         private final String mQuery;
 
@@ -369,7 +337,7 @@ public final boolean isEnabled() {
 
     static class SavedSearchItem extends BaseClickableItem {
 
-        static final int ITEM_VIEW_TYPE = 2;
+        static final int ITEM_VIEW_TYPE = 1;
         private final String mQuery;
 
         public SavedSearchItem(String query) {
@@ -405,7 +373,7 @@ public void onItemClick(QuickSearchBarActivity activity, int position) {
 
     static class UserSuggestionItem extends BaseClickableItem {
 
-        static final int ITEM_VIEW_TYPE = 3;
+        static final int ITEM_VIEW_TYPE = 2;
         private final ParcelableUser mUser;
 
         public UserSuggestionItem(Cursor c, CachedIndices i, long accountId) {
@@ -503,6 +471,10 @@ public static class SuggestionsAdapter extends BaseAdapter {
             mImageLoader = TwidereApplication.getInstance(context).getImageLoaderWrapper();
         }
 
+        public boolean canDismiss(int position) {
+            return getItemViewType(position) == SearchHistoryItem.ITEM_VIEW_TYPE;
+        }
+
         public Context getContext() {
             return mContext;
         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/StringUtils.java b/twidere/src/main/java/org/mariotaku/twidere/util/StringUtils.java
index ebbf2cfeea..0443ea3172 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/StringUtils.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/StringUtils.java
@@ -38,6 +38,7 @@ public static boolean startsWithIgnoreCase(@NonNull String string, @NonNull Stri
 
     public static boolean startsWithIgnoreCase(@NonNull String string, @NonNull String prefix,
                                                int start) {
+        if (prefix.length() > string.length()) return false;
         return regionMatchesIgnoreCase(string, start, prefix, 0, prefix.length());
     }
 }
