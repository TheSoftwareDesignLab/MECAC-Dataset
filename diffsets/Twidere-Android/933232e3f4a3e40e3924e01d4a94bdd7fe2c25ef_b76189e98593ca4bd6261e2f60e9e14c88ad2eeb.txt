diff --git a/twidere/src/main/AndroidManifest.xml b/twidere/src/main/AndroidManifest.xml
index 38a12c861f..e8879488fe 100644
--- a/twidere/src/main/AndroidManifest.xml
+++ b/twidere/src/main/AndroidManifest.xml
@@ -382,7 +382,7 @@
         <activity
             android:name=".activity.SettingsWizardActivity"
             android:label="@string/settings_wizard"
-            android:theme="@style/Theme.Twidere"/>
+            android:theme="@style/Theme.Twidere.NoActionBar"/>
         <activity
             android:name=".activity.DataExportActivity"
             android:label="@string/export_settings"
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
index 90bbc38336..8b1d8314a0 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/ComposeActivity.java
@@ -1461,8 +1461,9 @@ public void showAccount(AccountIconsAdapter adapter, ParcelableAccount account,
             itemView.setAlpha(isSelected ? 1 : 0.33f);
             ((CheckableLinearLayout) itemView).setChecked(isSelected);
             final MediaLoaderWrapper loader = adapter.getImageLoader();
-            if (ObjectUtils.notEqual(account.profile_image_url, iconView.getTag()) || iconView.getDrawable() == null) {
-                loader.displayProfileImage(iconView, account.profile_image_url);
+            if (ObjectUtils.notEqual(account, iconView.getTag()) || iconView.getDrawable() == null) {
+                iconView.setTag(account);
+                loader.displayProfileImage(iconView, account);
             }
             iconView.setBorderColor(account.color);
             iconView.setTag(account.profile_image_url);
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/HomeActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/HomeActivity.java
index 147901a81c..7d833a58ee 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/HomeActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/HomeActivity.java
@@ -54,8 +54,6 @@
 import android.view.ViewGroup;
 import android.view.ViewGroup.MarginLayoutParams;
 import android.view.Window;
-import android.widget.FrameLayout;
-import android.widget.FrameLayout.LayoutParams;
 
 import com.squareup.otto.Subscribe;
 
@@ -92,7 +90,7 @@
 import org.mariotaku.twidere.util.ThemeUtils;
 import org.mariotaku.twidere.util.TwidereMathUtils;
 import org.mariotaku.twidere.util.Utils;
-import org.mariotaku.twidere.view.ExtendedFrameLayout;
+import org.mariotaku.twidere.view.ExtendedRelativeLayout;
 import org.mariotaku.twidere.view.ExtendedViewPager;
 import org.mariotaku.twidere.view.TabPagerIndicator;
 
@@ -114,11 +112,12 @@ public class HomeActivity extends BaseAppCompatActivity implements OnClickListen
 
     private ExtendedViewPager mViewPager;
     private Toolbar mActionBar;
+    private View mWindowOverlay;
     private TabPagerIndicator mTabIndicator;
     private DrawerLayout mDrawerLayout;
     private View mEmptyTabHint;
     private FloatingActionButton mActionsButton;
-    private ExtendedFrameLayout mHomeContent;
+    private ExtendedRelativeLayout mHomeContent;
 
     private UpdateUnreadCountTask mUpdateUnreadCountTask;
 
@@ -335,6 +334,8 @@ protected void onCreate(final Bundle savedInstanceState) {
 
         setSupportActionBar(mActionBar);
 
+        ThemeUtils.setCompatContentViewOverlay(this, new EmptyDrawable());
+
         final boolean refreshOnStart = mPreferences.getBoolean(KEY_REFRESH_ON_START, false);
         int tabDisplayOptionInt = Utils.getTabDisplayOptionInt(this);
 
@@ -411,7 +412,6 @@ protected void onStart() {
     protected void onResume() {
         super.onResume();
         invalidateOptionsMenu();
-        updateActionsButtonStyle();
         updateActionsButton();
     }
 
@@ -575,7 +575,9 @@ public float getControlBarOffset() {
     public void setControlBarOffset(float offset) {
         final ActionBar actionBar = getSupportActionBar();
         if (actionBar == null) return;
-        mActionBar.setTranslationY(mTabColumns > 1 ? 0 : (int) (getControlBarHeight() * (offset - 1)));
+        final int translationY = mTabColumns > 1 ? 0 : (int) (getControlBarHeight() * (offset - 1));
+        mActionBar.setTranslationY(translationY);
+        mWindowOverlay.setTranslationY(translationY);
         final ViewGroup.LayoutParams lp = mActionsButton.getLayoutParams();
         if (lp instanceof MarginLayoutParams) {
             mActionsButton.setTranslationY((((MarginLayoutParams) lp).bottomMargin + mActionsButton.getHeight()) * (1 - offset));
@@ -594,7 +596,8 @@ public void onContentChanged() {
         mViewPager = (ExtendedViewPager) findViewById(R.id.main_pager);
         mEmptyTabHint = findViewById(R.id.empty_tab_hint);
         mActionsButton = (FloatingActionButton) findViewById(R.id.actions_button);
-        mHomeContent = (ExtendedFrameLayout) findViewById(R.id.home_content);
+        mHomeContent = (ExtendedRelativeLayout) findViewById(R.id.home_content);
+        mWindowOverlay = findViewById(R.id.window_overlay);
     }
 
     private Fragment getKeyboardShortcutRecipient() {
@@ -797,13 +800,6 @@ private void updateActionsButton() {
         mActionsButton.setContentDescription(getString(title));
     }
 
-    private void updateActionsButtonStyle() {
-        final boolean leftsideComposeButton = mPreferences.getBoolean(KEY_LEFTSIDE_COMPOSE_BUTTON, false);
-        final FrameLayout.LayoutParams lp = (LayoutParams) mActionsButton.getLayoutParams();
-        lp.gravity = Gravity.BOTTOM | (leftsideComposeButton ? Gravity.LEFT : Gravity.RIGHT);
-        mActionsButton.setLayoutParams(lp);
-    }
-
     @Override
     public void onDrawerSlide(View drawerView, float slideOffset) {
 
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/LinkHandlerActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/LinkHandlerActivity.java
index 5923daa213..efb9cb8def 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/LinkHandlerActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/LinkHandlerActivity.java
@@ -41,6 +41,7 @@
 import org.mariotaku.twidere.fragment.iface.IBaseFragment.SystemWindowsInsetsCallback;
 import org.mariotaku.twidere.fragment.iface.IToolBarSupportFragment;
 import org.mariotaku.twidere.fragment.iface.SupportFragmentCallback;
+import org.mariotaku.twidere.graphic.EmptyDrawable;
 import org.mariotaku.twidere.util.KeyboardShortcutsHandler;
 import org.mariotaku.twidere.util.KeyboardShortcutsHandler.KeyboardShortcutCallback;
 import org.mariotaku.twidere.util.MultiSelectEventHandler;
@@ -185,8 +186,12 @@ protected void onCreate(final Bundle savedInstanceState) {
         final FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
         ft.replace(android.R.id.content, fragment);
         ft.commit();
-        showFragment(linkId, uri);
+        setTitle(linkId, uri);
         mFinishOnly = Boolean.parseBoolean(uri.getQueryParameter(QUERY_PARAM_FINISH_ONLY));
+
+        if (fragment instanceof IToolBarSupportFragment) {
+            ThemeUtils.setCompatContentViewOverlay(this, new EmptyDrawable());
+        }
     }
 
     @Override
@@ -264,7 +269,7 @@ public int getControlBarHeight() {
         return mActionBarHeight = ThemeUtils.getActionBarHeight(this);
     }
 
-    private boolean showFragment(final int linkId, final Uri uri) {
+    private boolean setTitle(final int linkId, final Uri uri) {
         setSubtitle(null);
         switch (linkId) {
             case LINK_ID_STATUS: {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java b/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
index b9766535d6..8c48876156 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/activity/SettingsWizardActivity.java
@@ -21,10 +21,7 @@
 
 import android.Manifest;
 import android.app.Activity;
-import android.app.AlertDialog;
 import android.app.Dialog;
-import android.app.DialogFragment;
-import android.app.FragmentManager;
 import android.content.ContentResolver;
 import android.content.ContentValues;
 import android.content.Context;
@@ -35,6 +32,8 @@
 import android.os.Build;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
+import android.support.v4.app.DialogFragment;
+import android.support.v4.app.FragmentManager;
 import android.support.v4.view.ViewPager;
 import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceScreen;
@@ -43,6 +42,8 @@
 import android.view.View.OnClickListener;
 import android.view.ViewGroup;
 
+import com.afollestad.materialdialogs.AlertDialogWrapper;
+
 import org.mariotaku.twidere.Constants;
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.adapter.SupportTabsAdapter;
@@ -480,9 +481,10 @@ public void onClick(final DialogInterface dialog, final int which) {
                 gotoNextPage();
             }
 
+            @NonNull
             @Override
             public Dialog onCreateDialog(final Bundle savedInstanceState) {
-                final AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
+                final AlertDialogWrapper.Builder builder = new AlertDialogWrapper.Builder(getActivity());
                 builder.setMessage(R.string.wizard_page_tabs_unchanged_message);
                 builder.setPositiveButton(android.R.string.ok, this);
                 return builder.create();
@@ -632,7 +634,7 @@ protected SettingsWizardActivity getActivity() {
 
         @Override
         protected void onPostExecute(final Boolean result) {
-            final FragmentManager fm = mActivity.getFragmentManager();
+            final FragmentManager fm = mActivity.getSupportFragmentManager();
             final DialogFragment f = (DialogFragment) fm.findFragmentByTag(FRAGMENT_TAG);
             if (f != null) {
                 f.dismiss();
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/AccountsSpinnerAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/AccountsSpinnerAdapter.java
index c4fe8c3b1c..bf3c496337 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/AccountsSpinnerAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/AccountsSpinnerAdapter.java
@@ -97,7 +97,7 @@ private void bindView(final View view, final ParcelableCredentials item) {
             if (icon != null) {
                 icon.setVisibility(View.VISIBLE);
                 if (mDisplayProfileImage) {
-                    mImageLoader.displayProfileImage(icon, item.profile_image_url);
+                    mImageLoader.displayProfileImage(icon, item);
                 } else {
                     mImageLoader.cancelDisplayTask(icon);
 //                    icon.setImageResource(R.drawable.ic_profile_image_default);
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/SimpleParcelableUsersAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/SimpleParcelableUsersAdapter.java
index 47dc8d1abe..af6e939875 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/SimpleParcelableUsersAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/SimpleParcelableUsersAdapter.java
@@ -76,7 +76,7 @@ public View getView(final int position, final View convertView, final ViewGroup
         holder.text2.setText(String.format("@%s", user.screen_name));
         holder.icon.setVisibility(isProfileImageDisplayed() ? View.VISIBLE : View.GONE);
         if (isProfileImageDisplayed()) {
-            mImageLoader.displayProfileImage(holder.icon, user.profile_image_url);
+            mImageLoader.displayProfileImage(holder.icon, user);
         } else {
             mImageLoader.cancelDisplayTask(holder.icon);
         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/adapter/StaggeredGridParcelableStatusesAdapter.java b/twidere/src/main/java/org/mariotaku/twidere/adapter/StaggeredGridParcelableStatusesAdapter.java
index f1d7cc0fc4..e7cf61a9a2 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/adapter/StaggeredGridParcelableStatusesAdapter.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/adapter/StaggeredGridParcelableStatusesAdapter.java
@@ -103,7 +103,7 @@ public void displayStatus(ParcelableStatus status, boolean displayInReplyTo) {
             mediaImageContainer.requestLayout();
 
             mediaImageView.setHasPlayIcon(ParcelableMediaUtils.hasPlayIcon(firstMedia.type));
-            loader.displayProfileImage(mediaProfileImageView, status.user_profile_image_url);
+            loader.displayProfileImage(mediaProfileImageView, status);
             loader.displayPreviewImageWithCredentials(mediaImageView, firstMedia.preview_url,
                     status.account_key, adapter.getMediaLoadingHandler());
         }
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsToolbarTabPagesFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsToolbarTabPagesFragment.java
index 6f58790ae6..c4f154906e 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsToolbarTabPagesFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/AbsToolbarTabPagesFragment.java
@@ -44,7 +44,7 @@ public abstract class AbsToolbarTabPagesFragment extends BaseSupportFragment imp
     private SupportTabsAdapter mPagerAdapter;
     private TabPagerIndicator mPagerIndicator;
     private ViewPager mViewPager;
-    private View mPagerOverlay;
+    private View mWindowOverlay;
     private Toolbar mToolbar;
     private int mControlBarHeight;
     private ExtendedLinearLayout mToolbarContainer;
@@ -117,7 +117,7 @@ public void onViewCreated(View view, Bundle savedInstanceState) {
         mViewPager = (ViewPager) view.findViewById(R.id.view_pager);
         mToolbarContainer = (ExtendedLinearLayout) view.findViewById(R.id.toolbar_container);
         mPagerIndicator = (TabPagerIndicator) view.findViewById(R.id.toolbar_tabs);
-        mPagerOverlay = view.findViewById(R.id.pager_window_overlay);
+        mWindowOverlay = view.findViewById(R.id.window_overlay);
         mToolbar = (Toolbar) view.findViewById(R.id.toolbar);
 
         final Object host = getHost();
@@ -213,7 +213,9 @@ public int getControlBarHeight() {
     @Override
     public void setControlBarOffset(float offset) {
         if (mToolbarContainer == null) return;
-        mToolbarContainer.setTranslationY((offset - 1) * getControlBarHeight());
+        final float translationY = (offset - 1) * getControlBarHeight();
+        mToolbarContainer.setTranslationY(translationY);
+        mWindowOverlay.setTranslationY(translationY);
     }
 
     @Override
diff --git a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
index 1ca5771b04..332f6b64b2 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/fragment/support/StatusFragment.java
@@ -1522,7 +1522,7 @@ public ProfileImageViewHolder(CountsUsersAdapter adapter, View itemView) {
                 }
 
                 public void displayUser(ParcelableUser item) {
-                    adapter.getMediaLoader().displayProfileImage(profileImageView, item.profile_image_url);
+                    adapter.getMediaLoader().displayProfileImage(profileImageView, item);
                 }
 
                 @Override
diff --git a/twidere/src/main/java/org/mariotaku/twidere/service/BackgroundOperationService.java b/twidere/src/main/java/org/mariotaku/twidere/service/BackgroundOperationService.java
index f83f925d0d..3c1bab30e9 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/service/BackgroundOperationService.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/service/BackgroundOperationService.java
@@ -314,11 +314,13 @@ private void sendMessage(@NonNull UserKey accountId, @NonNull String recipientId
                 recipientId, text, imageUri);
 
         final ContentResolver resolver = getContentResolver();
-        if (result.getData() != null && result.getData().id != null) {
-            final ContentValues values = ContentValuesCreator.createDirectMessage(result.getData());
-            final String delete_where = DirectMessages.ACCOUNT_KEY + " = " + accountId + " AND "
-                    + DirectMessages.MESSAGE_ID + " = " + result.getData().id;
-            resolver.delete(DirectMessages.Outbox.CONTENT_URI, delete_where, null);
+        if (result.hasData()) {
+            final ParcelableDirectMessage message = result.getData();
+            final ContentValues values = ContentValuesCreator.createDirectMessage(message);
+            final String deleteWhere = Expression.and(Expression.equalsArgs(DirectMessages.ACCOUNT_KEY),
+                    Expression.equalsArgs(DirectMessages.MESSAGE_ID)).getSQL();
+            String[] deleteWhereArgs = {message.account_key.toString(), message.id};
+            resolver.delete(DirectMessages.Outbox.CONTENT_URI, deleteWhere, deleteWhereArgs);
             resolver.insert(DirectMessages.Outbox.CONTENT_URI, values);
             showOkMessage(R.string.direct_message_sent, false);
         } else {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/service/StreamingService.java b/twidere/src/main/java/org/mariotaku/twidere/service/StreamingService.java
index c131f2213a..c012f854d7 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/service/StreamingService.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/service/StreamingService.java
@@ -323,11 +323,12 @@ public void onFriendList(final long[] friendIds) {
 
         @Override
         public void onScrubGeo(final long userId, final long upToStatusId) {
-            final String where = Statuses.USER_ID + " = " + userId + " AND " + Statuses.STATUS_ID + " >= "
-                    + upToStatusId;
+            final String where = Expression.and(Expression.equalsArgs(Statuses.USER_ID),
+                    Expression.greaterEqualsArgs(Statuses.SORT_ID)).getSQL();
+            final String[] whereArgs = {String.valueOf(userId), String.valueOf(upToStatusId)};
             final ContentValues values = new ContentValues();
             values.putNull(Statuses.LOCATION);
-            resolver.update(Statuses.CONTENT_URI, values, where, null);
+            resolver.update(Statuses.CONTENT_URI, values, where, whereArgs);
         }
 
         @Override
diff --git a/twidere/src/main/java/org/mariotaku/twidere/util/ThemeUtils.java b/twidere/src/main/java/org/mariotaku/twidere/util/ThemeUtils.java
index 39362f9688..6143f269de 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/util/ThemeUtils.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/util/ThemeUtils.java
@@ -62,8 +62,6 @@
 import org.mariotaku.twidere.R;
 import org.mariotaku.twidere.activity.iface.IThemedActivity;
 import org.mariotaku.twidere.graphic.ActionBarColorDrawable;
-import org.mariotaku.twidere.graphic.ActionIconDrawable;
-import org.mariotaku.twidere.graphic.iface.DoNotWrapDrawable;
 import org.mariotaku.twidere.preference.ThemeBackgroundPreference;
 import org.mariotaku.twidere.util.menu.TwidereMenuInfo;
 import org.mariotaku.twidere.util.support.ViewSupport;
@@ -617,7 +615,7 @@ public static void setCompatContentViewOverlay(Activity activity, Drawable overl
         final Window window = activity.getWindow();
         View contentLayout = window.findViewById(android.support.v7.appcompat.R.id.action_bar_activity_content);
         if (contentLayout == null) {
-            contentLayout = window.findViewById(android.R.id.content);
+            contentLayout = window.findViewById(R.id.content);
         }
         if (contentLayout instanceof FrameLayout) {
             ViewSupport.setForeground(contentLayout, overlay);
@@ -699,18 +697,18 @@ public static void wrapMenuIcon(ActionMenuView view, int colorDark, int colorLig
 
     public static void wrapMenuItemIcon(@NonNull MenuItem item, int itemColor, int... excludeGroups) {
         if (ArrayUtils.contains(excludeGroups, item.getGroupId())) return;
-        final Drawable icon = item.getIcon();
-        if (icon == null || icon instanceof DoNotWrapDrawable) return;
-        if (icon instanceof ActionIconDrawable) {
-            ((ActionIconDrawable) icon).setDefaultColor(itemColor);
-            item.setIcon(icon);
-            return;
-        }
-        icon.mutate();
-        final Drawable.Callback callback = icon.getCallback();
-        final ActionIconDrawable newIcon = new ActionIconDrawable(icon, itemColor);
-        newIcon.setCallback(callback);
-        item.setIcon(newIcon);
+//        final Drawable icon = item.getIcon();
+//        if (icon == null || icon instanceof DoNotWrapDrawable) return;
+//        if (icon instanceof ActionIconDrawable) {
+//            ((ActionIconDrawable) icon).setDefaultColor(itemColor);
+//            item.setIcon(icon);
+//            return;
+//        }
+//        icon.mutate();
+//        final Drawable.Callback callback = icon.getCallback();
+//        final ActionIconDrawable newIcon = new ActionIconDrawable(icon, itemColor);
+//        newIcon.setCallback(callback);
+//        item.setIcon(newIcon);
     }
 
     public static void wrapToolbarMenuIcon(@Nullable ActionMenuView view, int itemColor, int popupItemColor, int... excludeGroups) {
diff --git a/twidere/src/main/java/org/mariotaku/twidere/view/holder/ActivityTitleSummaryViewHolder.java b/twidere/src/main/java/org/mariotaku/twidere/view/holder/ActivityTitleSummaryViewHolder.java
index d6a9da8b37..cf9c1e22a6 100644
--- a/twidere/src/main/java/org/mariotaku/twidere/view/holder/ActivityTitleSummaryViewHolder.java
+++ b/twidere/src/main/java/org/mariotaku/twidere/view/holder/ActivityTitleSummaryViewHolder.java
@@ -144,7 +144,7 @@ private void displayUserProfileImages(final ParcelableUser[] statuses) {
             view.setImageDrawable(null);
             if (i < length) {
                 view.setVisibility(View.VISIBLE);
-                imageLoader.displayProfileImage(view, statuses[i].profile_image_url);
+                imageLoader.displayProfileImage(view, statuses[i]);
             } else {
                 imageLoader.cancelDisplayTask(view);
                 view.setVisibility(View.GONE);
diff --git a/twidere/src/main/res/layout/activity_home_content.xml b/twidere/src/main/res/layout/activity_home_content.xml
index 7fe21ef2ed..7c7b7af28c 100644
--- a/twidere/src/main/res/layout/activity_home_content.xml
+++ b/twidere/src/main/res/layout/activity_home_content.xml
@@ -17,7 +17,7 @@
   ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
   -->
 
-<org.mariotaku.twidere.view.ExtendedFrameLayout
+<org.mariotaku.twidere.view.ExtendedRelativeLayout
     android:id="@+id/home_content"
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
@@ -37,6 +37,7 @@
         android:id="@+id/action_bar"
         android:layout_width="match_parent"
         android:layout_height="?actionBarSize"
+        android:layout_alignParentTop="true"
         android:elevation="@dimen/toolbar_elevation"
         app:contentInsetEnd="0dp"
         app:contentInsetStart="0dp">
@@ -51,11 +52,20 @@
             tools:listitem="@layout/layout_tab_item"/>
     </android.support.v7.widget.Toolbar>
 
+    <View
+        android:id="@+id/window_overlay"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_below="@+id/action_bar"
+        android:background="?android:windowContentOverlay"/>
+
     <android.support.design.widget.FloatingActionButton
         android:id="@+id/actions_button"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_gravity="bottom|end"
+        android:layout_alignParentBottom="true"
+        android:layout_alignParentEnd="true"
+        android:layout_alignParentRight="true"
         android:layout_margin="@dimen/element_spacing_large"
         android:clickable="true"
         android:src="@drawable/ic_action_status_compose"
@@ -63,4 +73,4 @@
         app:elevation="6dp"
         app:pressedTranslationZ="12dp"/>
 
-</org.mariotaku.twidere.view.ExtendedFrameLayout>
\ No newline at end of file
+</org.mariotaku.twidere.view.ExtendedRelativeLayout>
\ No newline at end of file
diff --git a/twidere/src/main/res/layout/fragment_toolbar_tab_pages.xml b/twidere/src/main/res/layout/fragment_toolbar_tab_pages.xml
index 287ef9b646..21dd9552ef 100644
--- a/twidere/src/main/res/layout/fragment_toolbar_tab_pages.xml
+++ b/twidere/src/main/res/layout/fragment_toolbar_tab_pages.xml
@@ -17,7 +17,7 @@
   ~  You should have received a copy of the GNU General Public License
   ~  along with this program.  If not, see <http://www.gnu.org/licenses/>.
   -->
-<FrameLayout
+<RelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
@@ -55,4 +55,11 @@
             tools:listitem="@layout/layout_tab_item"/>
     </org.mariotaku.twidere.view.ExtendedLinearLayout>
 
-</FrameLayout>
\ No newline at end of file
+    <View
+        android:id="@+id/window_overlay"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_below="@+id/toolbar_container"
+        android:background="?android:windowContentOverlay"/>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/twidere/src/main/res/xml/preferences_scrapyard.xml b/twidere/src/main/res/xml/preferences_scrapyard.xml
index 83c1842672..5967ab810d 100644
--- a/twidere/src/main/res/xml/preferences_scrapyard.xml
+++ b/twidere/src/main/res/xml/preferences_scrapyard.xml
@@ -55,9 +55,4 @@
         android:key="tab_display_option"
         android:title="@string/tab_display_option"/>
 
-    <SwitchPreferenceCompat
-        android:defaultValue="false"
-        android:key="leftside_compose_button"
-        android:summary="@string/leftside_compose_button_summary"
-        android:title="@string/leftside_compose_button"/>
 </PreferenceScreen>
\ No newline at end of file
