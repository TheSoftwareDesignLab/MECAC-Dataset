diff --git a/HabitRPG/HRPGGemHeaderNavigationController.m b/HabitRPG/HRPGGemHeaderNavigationController.m
index 0df5f92e0..78c1d36f5 100644
--- a/HabitRPG/HRPGGemHeaderNavigationController.m
+++ b/HabitRPG/HRPGGemHeaderNavigationController.m
@@ -38,7 +38,7 @@ - (void)viewDidLoad {
     self.navigationBar.shadowImage = [UIImage new];
     self.navigationBar.translucent = YES;
     self.view.backgroundColor = [UIColor clearColor];
-    self.navigationBar.backgroundColor = [UIColor clearColor];
+    self.navigationBar.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
     
     UIImageView *headerImageView = [[UIImageView alloc] init];
     headerImageView.image = [UIImage imageNamed:@"support_art"];
@@ -46,14 +46,13 @@ - (void)viewDidLoad {
     self.headerView = headerImageView;
     self.state = TopHeaderStateVisible;
     self.backgroundView = [[UIView alloc] init];
-    self.backgroundView.backgroundColor = [UIColor whiteColor];
+    self.backgroundView.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
     
     self.upperBackgroundView = [[UIView alloc] init];
-    [self.upperBackgroundView setBackgroundColor:[UIColor whiteColor]];
+    [self.upperBackgroundView setBackgroundColor:ObjcThemeWrapper.contentBackgroundColor];
     
     self.segmentedControl = [[UISegmentedControl alloc] initWithItems:@[objcL10n.subscription, objcL10n.gems]];
     [self.segmentedControl sizeToFit];
-    self.segmentedControl.tintColor = [UIColor purple300];
     self.segmentedControl.selectedSegmentIndex = 0;
     [self.segmentedControl addTarget:self
                          action:@selector(viewControllerChanged:)
diff --git a/HabitRPG/Storyboards/Base.lproj/Main.storyboard b/HabitRPG/Storyboards/Base.lproj/Main.storyboard
index 57e332d32..0d9ba183f 100644
--- a/HabitRPG/Storyboards/Base.lproj/Main.storyboard
+++ b/HabitRPG/Storyboards/Base.lproj/Main.storyboard
@@ -638,7 +638,6 @@
                                     <subviews>
                                         <view tag="2" contentMode="scaleToFill" horizontalHuggingPriority="1000" horizontalCompressionResistancePriority="1000" translatesAutoresizingMaskIntoConstraints="NO" id="56g-wy-uNY" customClass="HRPGCurrencyCountView" customModule="Habitica" customModuleProvider="target">
                                             <rect key="frame" x="24" y="0.0" width="30" height="36"/>
-                                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                             <constraints>
                                                 <constraint firstAttribute="width" priority="501" constant="30" id="Wbl-kw-VR2"/>
                                             </constraints>
@@ -777,7 +776,7 @@
             <objects>
                 <collectionViewController storyboardIdentifier="MountsOverviewViewController" autoresizesArchivedViewToFullSize="NO" id="k4g-ZO-Buh" customClass="MountOverviewViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <collectionView key="view" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" minimumZoomScale="0.0" maximumZoomScale="0.0" dataMode="prototypes" id="uMo-F9-k66">
-                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="554"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                         <collectionViewFlowLayout key="collectionViewLayout" minimumLineSpacing="8" minimumInteritemSpacing="8" id="ugs-DU-Mbl">
@@ -862,7 +861,7 @@
             <objects>
                 <collectionViewController autoresizesArchivedViewToFullSize="NO" id="LGJ-iF-vTZ" customClass="MountDetailViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <collectionView key="view" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" minimumZoomScale="0.0" maximumZoomScale="0.0" dataMode="prototypes" id="Jyn-1Y-gwc">
-                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="554"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                         <collectionViewFlowLayout key="collectionViewLayout" minimumLineSpacing="8" minimumInteritemSpacing="8" id="Lf1-Aa-zJn">
@@ -915,7 +914,7 @@
             <objects>
                 <collectionViewController storyboardIdentifier="PetsOverviewViewController" autoresizesArchivedViewToFullSize="NO" useStoryboardIdentifierAsRestorationIdentifier="YES" id="iyK-dS-pks" customClass="PetOverviewViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <collectionView key="view" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" minimumZoomScale="0.0" maximumZoomScale="0.0" dataMode="prototypes" id="0uY-w8-R73">
-                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="554"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                         <collectionViewFlowLayout key="collectionViewLayout" minimumLineSpacing="8" minimumInteritemSpacing="8" id="tQa-dP-3X4">
@@ -1000,7 +999,7 @@
             <objects>
                 <collectionViewController autoresizesArchivedViewToFullSize="NO" id="OMM-QF-DNw" customClass="PetDetailViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <collectionView key="view" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" minimumZoomScale="0.0" maximumZoomScale="0.0" dataMode="prototypes" id="0NF-w0-Ru8">
-                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="554"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                         <collectionViewFlowLayout key="collectionViewLayout" minimumLineSpacing="8" minimumInteritemSpacing="8" id="HL5-tx-L50">
@@ -1073,7 +1072,7 @@
             <objects>
                 <tableViewController id="cVq-Fh-1Yu" customClass="HRPGFeedViewController" sceneMemberID="viewController">
                     <tableView key="view" opaque="NO" clipsSubviews="YES" clearsContextBeforeDrawing="NO" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="grouped" separatorStyle="default" rowHeight="44" sectionHeaderHeight="18" sectionFooterHeight="18" id="mJC-fk-DDR">
-                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="554"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <color key="backgroundColor" cocoaTouchSystemColor="groupTableViewBackgroundColor"/>
                         <prototypes>
@@ -1306,6 +1305,7 @@
             <objects>
                 <navigationController storyboardIdentifier="PurchaseGemNavController" id="Ne7-W6-6zE" customClass="HRPGGemHeaderNavigationController" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="t9n-14-0tP">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -1569,7 +1569,6 @@
                                     <nil key="highlightedColor"/>
                                 </label>
                             </subviews>
-                            <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                             <constraints>
                                 <constraint firstAttribute="bottom" secondItem="lb7-8k-2uz" secondAttribute="bottom" id="Ea3-76-3do"/>
                                 <constraint firstAttribute="trailing" secondItem="lb7-8k-2uz" secondAttribute="trailing" constant="16" id="OQq-Do-AUx"/>
@@ -1578,7 +1577,7 @@
                             </constraints>
                         </view>
                         <view key="tableFooterView" contentMode="scaleToFill" id="0ge-iM-ebO">
-                            <rect key="frame" x="0.0" y="135" width="375" height="532"/>
+                            <rect key="frame" x="0.0" y="164" width="375" height="532"/>
                             <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                             <subviews>
                                 <imageView userInteractionEnabled="NO" contentMode="center" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="qWw-qV-Dif">
@@ -1599,7 +1598,6 @@
                                 </button>
                                 <textView clipsSubviews="YES" multipleTouchEnabled="YES" tag="2" contentMode="scaleToFill" verticalHuggingPriority="1000" verticalCompressionResistancePriority="1000" scrollEnabled="NO" editable="NO" translatesAutoresizingMaskIntoConstraints="NO" id="2lA-HR-ThY">
                                     <rect key="frame" x="8" y="46" width="359" height="37"/>
-                                    <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                                     <constraints>
                                         <constraint firstAttribute="height" priority="500" constant="28" id="Nvl-9T-i7B"/>
                                     </constraints>
@@ -1633,7 +1631,6 @@
                                     </connections>
                                 </button>
                             </subviews>
-                            <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                             <constraints>
                                 <constraint firstItem="CrM-dg-eMS" firstAttribute="top" secondItem="f3o-aH-Po4" secondAttribute="bottom" id="11j-4s-haY"/>
                                 <constraint firstAttribute="trailing" secondItem="qWw-qV-Dif" secondAttribute="trailing" constant="8" id="5aa-Kf-1bE"/>
@@ -1728,6 +1725,7 @@
             <objects>
                 <navigationController storyboardIdentifier="ScanQRCodeNavController" id="YnE-Mq-Rpu" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="hj3-fO-gIa">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -1890,6 +1888,7 @@
             <objects>
                 <navigationController storyboardIdentifier="ItemNavigationController" id="c1T-s0-hTA" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="znX-dI-fQE">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2071,6 +2070,7 @@
             <objects>
                 <navigationController storyboardIdentifier="SpellUserNavigationController" id="Rfc-Mw-2vi" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="WV0-L0-HaY">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2221,6 +2221,7 @@
             <objects>
                 <navigationController storyboardIdentifier="spellTaskNavigationController" definesPresentationContext="YES" id="3xO-lf-NoI" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="se8-RR-m5d">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2368,6 +2369,7 @@
             <objects>
                 <navigationController storyboardIdentifier="tagNavigationController" definesPresentationContext="YES" id="6vN-Em-JCA" customClass="HRPGNavigationController" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="biY-dp-rGo">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2384,6 +2386,7 @@
                 <navigationController restorationIdentifier="ProfileNavigationController" definesPresentationContext="YES" id="JSb-MY-Gwo" customClass="TopHeaderViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <tabBarItem key="tabBarItem" title="" image="tabbar_menu" id="hyj-Mf-lvH"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="Gph-cu-5tJ">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2400,6 +2403,7 @@
                 <navigationController restorationIdentifier="TodoNavigationController" definesPresentationContext="YES" id="F9m-od-YIG" customClass="TopHeaderViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <tabBarItem key="tabBarItem" title="" image="tabbar_todos" id="Np7-ws-fF6"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="mXU-6R-4bg">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2416,6 +2420,7 @@
                 <navigationController restorationIdentifier="DailyNavigationController" definesPresentationContext="YES" id="szj-Xo-0pc" customClass="TopHeaderViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <tabBarItem key="tabBarItem" title="" id="pdW-W9-wj6"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="Tc8-JW-aRd">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2432,6 +2437,7 @@
                 <navigationController restorationIdentifier="HabitNavigationController" definesPresentationContext="YES" id="ZPa-UZ-Rgq" customClass="TopHeaderViewController" customModule="Habitica" customModuleProvider="target" sceneMemberID="viewController">
                     <tabBarItem key="tabBarItem" title="" image="tabbar_habits" id="3G8-SH-Shd"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="qQq-gV-VmG">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                         <color key="backgroundColor" red="0.0" green="0.0" blue="0.0" alpha="0.0" colorSpace="custom" customColorSpace="sRGB"/>
                     </navigationBar>
@@ -2450,6 +2456,7 @@
                     <toolbarItems/>
                     <navigationItem key="navigationItem" id="GEg-Ct-SF3"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="AhC-6Z-AYO">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <nil name="viewControllers"/>
@@ -2469,6 +2476,7 @@
                     <toolbarItems/>
                     <navigationItem key="navigationItem" id="qZ5-Dx-RNg"/>
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="n1T-X7-pMj">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <nil name="viewControllers"/>
@@ -2557,6 +2565,7 @@
             <objects>
                 <navigationController definesPresentationContext="YES" id="IOk-9k-SGo" customClass="HRPGNavigationController" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="fUl-qS-mY6">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
@@ -2715,7 +2724,7 @@
                             </constraints>
                         </view>
                         <view key="tableFooterView" contentMode="scaleToFill" id="ev4-GE-6Md">
-                            <rect key="frame" x="0.0" y="556" width="375" height="111"/>
+                            <rect key="frame" x="0.0" y="298" width="375" height="111"/>
                             <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                             <subviews>
                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="1000" verticalCompressionResistancePriority="1000" text="" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="vqR-47-Okh">
@@ -2815,6 +2824,7 @@
             <objects>
                 <navigationController storyboardIdentifier="GiftSubscriptionNavController" id="KOH-m5-9hA" sceneMemberID="viewController">
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="frT-yt-SsM">
+                        <rect key="frame" x="0.0" y="20" width="375" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </navigationBar>
                     <connections>
diff --git a/HabitRPG/Storyboards/Base.lproj/Social.storyboard b/HabitRPG/Storyboards/Base.lproj/Social.storyboard
index 2bbe97c7c..1c913b34c 100644
--- a/HabitRPG/Storyboards/Base.lproj/Social.storyboard
+++ b/HabitRPG/Storyboards/Base.lproj/Social.storyboard
@@ -374,19 +374,19 @@
                                         <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                     </view>
                                     <stackView opaque="NO" contentMode="scaleToFill" verticalHuggingPriority="1000" verticalCompressionResistancePriority="1000" misplaced="YES" axis="vertical" distribution="fillProportionally" spacing="28" translatesAutoresizingMaskIntoConstraints="NO" id="Q0X-P7-X28">
-                                        <rect key="frame" x="15" y="16" width="345" height="20168"/>
+                                        <rect key="frame" x="15" y="16" width="345" height="187754.5"/>
                                         <subviews>
                                             <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" spacing="8" translatesAutoresizingMaskIntoConstraints="NO" id="vms-Gl-8Ff">
-                                                <rect key="frame" x="0.0" y="0.0" width="345" height="10071"/>
+                                                <rect key="frame" x="0.0" y="0.0" width="345" height="93989.5"/>
                                                 <subviews>
                                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="Hdi-g1-MiM">
-                                                        <rect key="frame" x="0.0" y="0.0" width="345" height="10000"/>
+                                                        <rect key="frame" x="0.0" y="0.0" width="345" height="93918.5"/>
                                                         <fontDescription key="fontDescription" type="system" pointSize="15"/>
                                                         <color key="textColor" red="0.53023332359999997" green="0.50720638039999999" blue="0.56472396849999995" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                         <nil key="highlightedColor"/>
                                                     </label>
                                                     <stackView opaque="NO" contentMode="scaleToFill" spacing="20" translatesAutoresizingMaskIntoConstraints="NO" id="V5p-do-14l">
-                                                        <rect key="frame" x="0.0" y="10008" width="345" height="63"/>
+                                                        <rect key="frame" x="0.0" y="93926.5" width="345" height="63"/>
                                                         <subviews>
                                                             <imageView userInteractionEnabled="NO" contentMode="scaleAspectFit" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="maA-rD-Xo6">
                                                                 <rect key="frame" x="0.0" y="0.0" width="63" height="63"/>
@@ -453,17 +453,16 @@
                                                 </subviews>
                                             </stackView>
                                             <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" spacing="8" translatesAutoresizingMaskIntoConstraints="NO" id="UPz-xj-UTk">
-                                                <rect key="frame" x="0.0" y="10099" width="345" height="10041"/>
+                                                <rect key="frame" x="0.0" y="94017.5" width="345" height="93709"/>
                                                 <subviews>
                                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="PvU-aP-uYa">
-                                                        <rect key="frame" x="0.0" y="0.0" width="345" height="10000"/>
+                                                        <rect key="frame" x="0.0" y="0.0" width="345" height="93668"/>
                                                         <fontDescription key="fontDescription" type="system" pointSize="15"/>
                                                         <color key="textColor" red="0.53023332359999997" green="0.50720638039999999" blue="0.56472396849999995" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                         <nil key="highlightedColor"/>
                                                     </label>
                                                     <textView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" verticalHuggingPriority="1000" verticalCompressionResistancePriority="1000" scrollEnabled="NO" editable="NO" textAlignment="natural" selectable="NO" translatesAutoresizingMaskIntoConstraints="NO" id="xdN-Nt-8pH">
-                                                        <rect key="frame" x="0.0" y="10008" width="345" height="33"/>
-                                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                                                        <rect key="frame" x="0.0" y="93676" width="345" height="33"/>
                                                         <constraints>
                                                             <constraint firstAttribute="height" priority="500" constant="100" id="dum-SZ-kcm"/>
                                                         </constraints>
@@ -474,7 +473,7 @@
                                                 </subviews>
                                             </stackView>
                                             <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" spacing="8" translatesAutoresizingMaskIntoConstraints="NO" id="03F-b3-D6O">
-                                                <rect key="frame" x="0.0" y="20168" width="345" height="0.0"/>
+                                                <rect key="frame" x="0.0" y="187754.5" width="345" height="0.0"/>
                                                 <subviews>
                                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="q4z-83-kc2">
                                                         <rect key="frame" x="0.0" y="0.0" width="345" height="0.0"/>
@@ -490,7 +489,7 @@
                                         </constraints>
                                     </stackView>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="gLh-F8-lA2">
-                                        <rect key="frame" x="0.0" y="20199" width="375" height="70"/>
+                                        <rect key="frame" x="0.0" y="187785.5" width="375" height="70"/>
                                         <subviews>
                                             <stackView opaque="NO" contentMode="scaleToFill" distribution="fillEqually" spacing="15" translatesAutoresizingMaskIntoConstraints="NO" id="Tp5-9p-PEL">
                                                 <rect key="frame" x="16" y="18" width="343" height="36"/>
@@ -614,6 +613,7 @@
                     <connections>
                         <outlet property="abortButton" destination="uJd-V9-acD" id="HVg-M4-uEH"/>
                         <outlet property="acceptButton" destination="6iy-Mx-6lI" id="gAz-xm-AdF"/>
+                        <outlet property="backgroundView" destination="FSC-0T-avm" id="M4U-ID-iFL"/>
                         <outlet property="bosNameLabel" destination="axf-lO-2Q2" id="xn0-kx-McQ"/>
                         <outlet property="bossDifficultyImageView" destination="f4p-ju-sR1" id="Kfb-bX-4Qi"/>
                         <outlet property="bossDifficultyLabel" destination="owM-ZU-Erj" id="d2m-BL-AjY"/>
@@ -904,21 +904,18 @@
                                         </view>
                                         <view tag="2" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="eri-z8-zzt" customClass="HRPGLabeledProgressBar">
                                             <rect key="frame" x="148" y="13.5" width="211" height="30"/>
-                                            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <constraints>
                                                 <constraint firstAttribute="height" constant="30" id="y1G-Wd-RgR"/>
                                             </constraints>
                                         </view>
                                         <view tag="3" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="XL1-QU-JXW" customClass="HRPGLabeledProgressBar">
                                             <rect key="frame" x="148" y="51.5" width="211" height="30"/>
-                                            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <constraints>
                                                 <constraint firstAttribute="height" constant="30" id="SRA-KG-tDU"/>
                                             </constraints>
                                         </view>
                                         <view tag="4" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="oUK-8C-Vza" customClass="HRPGLabeledProgressBar">
                                             <rect key="frame" x="148" y="89.5" width="211" height="30"/>
-                                            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <constraints>
                                                 <constraint firstAttribute="height" constant="30" id="QVj-9b-K5U"/>
                                             </constraints>
@@ -993,7 +990,6 @@
                                     <subviews>
                                         <textView clipsSubviews="YES" multipleTouchEnabled="YES" tag="1" contentMode="scaleToFill" scrollEnabled="NO" showsHorizontalScrollIndicator="NO" showsVerticalScrollIndicator="NO" editable="NO" textAlignment="natural" translatesAutoresizingMaskIntoConstraints="NO" id="c0E-7k-uBC">
                                             <rect key="frame" x="16" y="11" width="343" height="22"/>
-                                            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <fontDescription key="fontDescription" type="system" pointSize="14"/>
                                             <textInputTraits key="textInputTraits" autocapitalizationType="sentences"/>
                                             <dataDetectorType key="dataDetectorTypes" phoneNumber="YES" link="YES" address="YES" calendarEvent="YES"/>
@@ -1836,7 +1832,6 @@
                                         </constraints>
                                     </scrollView>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                 <constraints>
                                     <constraint firstItem="m1b-sQ-3cM" firstAttribute="top" secondItem="fUh-bv-IOV" secondAttribute="top" id="Hgh-Tg-0ds"/>
                                     <constraint firstAttribute="width" secondItem="RBw-nb-5kd" secondAttribute="width" constant="32" id="OLG-37-p8s"/>
@@ -1846,7 +1841,6 @@
                                 </constraints>
                             </view>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                         <constraints>
                             <constraint firstAttribute="trailing" secondItem="fUh-bv-IOV" secondAttribute="trailing" id="Pwb-5d-lS1"/>
                             <constraint firstItem="bsU-ZE-VcS" firstAttribute="top" secondItem="fUh-bv-IOV" secondAttribute="bottom" id="Veg-MO-yC9"/>
@@ -2178,7 +2172,7 @@
                                                         <rect key="frame" x="0.0" y="155" width="375" height="65"/>
                                                         <subviews>
                                                             <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="xaF-jb-gQA">
-                                                                <rect key="frame" x="343" y="21.5" width="16" height="22"/>
+                                                                <rect key="frame" x="335" y="20.5" width="24" height="24"/>
                                                                 <state key="normal" image="messages"/>
                                                                 <connections>
                                                                     <action selector="guildLeaderMessageButtonTapped:" destination="ZmK-Mz-PPG" eventType="touchUpInside" id="YbY-fd-uFU"/>
@@ -2739,7 +2733,7 @@
         <segue reference="RWA-7r-R8g"/>
         <segue reference="yXa-uT-GhF"/>
         <segue reference="wif-V9-Mcy"/>
-        <segue reference="rs9-Lf-2VQ"/>
+        <segue reference="2EH-Sz-Osv"/>
     </inferredMetricsTieBreakers>
     <color key="tintColor" red="0.6058621407" green="0.38462612029999999" blue="0.99835687880000001" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
 </document>
diff --git a/HabitRPG/TableViewController/Inventory/Shops/HRPGShopViewController.m b/HabitRPG/TableViewController/Inventory/Shops/HRPGShopViewController.m
index 24fa34af7..a8621da9d 100644
--- a/HabitRPG/TableViewController/Inventory/Shops/HRPGShopViewController.m
+++ b/HabitRPG/TableViewController/Inventory/Shops/HRPGShopViewController.m
@@ -43,7 +43,7 @@ - (void)viewDidLoad {
     
     [self refresh];
     
-    self.collectionView.backgroundColor = UIColor.whiteColor;
+    self.collectionView.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
 }
 
 - (void)populateText {
diff --git a/HabitRPG/TableViewController/Social/HRPGInboxChatViewController.m b/HabitRPG/TableViewController/Social/HRPGInboxChatViewController.m
index a3b2c765c..069c71f93 100644
--- a/HabitRPG/TableViewController/Social/HRPGInboxChatViewController.m
+++ b/HabitRPG/TableViewController/Social/HRPGInboxChatViewController.m
@@ -59,6 +59,9 @@ - (void)viewDidLoad {
     self.textInputbar.charCountLabelNormalColor = [UIColor gray400];
     self.textInputbar.charCountLabelWarningColor = [UIColor red50];
     self.textInputbar.charCountLabel.font = [UIFont systemFontOfSize:11 weight:UIFontWeightBold];
+    self.textInputbar.textView.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
+    self.textInputbar.textView.placeholderColor = ObjcThemeWrapper.dimmedTextColor;
+    self.textInputbar.textView.textColor = ObjcThemeWrapper.primaryTextColor;
     
     self.hrpgTopHeaderNavigationController.shouldHideTopHeader = true;
     self.hrpgTopHeaderNavigationController.hideNavbar = false;
diff --git a/HabitRPG/TableViewController/Social/HRPGInboxTableViewController.m b/HabitRPG/TableViewController/Social/HRPGInboxTableViewController.m
index b4ea13948..575bf854d 100644
--- a/HabitRPG/TableViewController/Social/HRPGInboxTableViewController.m
+++ b/HabitRPG/TableViewController/Social/HRPGInboxTableViewController.m
@@ -35,7 +35,7 @@ - (void)viewDidLoad {
     [refresh addTarget:self action:@selector(refresh) forControlEvents:UIControlEventValueChanged];
     self.refreshControl = refresh;
     
-    self.navigationItem.rightBarButtonItem = nil;
+    self.navigationItem.leftBarButtonItem = nil;
     
     self.tableView.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
 }
diff --git a/HabitRPG/TableViewController/Spells/HRPGSpellViewController.m b/HabitRPG/TableViewController/Spells/HRPGSpellViewController.m
index 5208cf4d6..3c7b73d6d 100644
--- a/HabitRPG/TableViewController/Spells/HRPGSpellViewController.m
+++ b/HabitRPG/TableViewController/Spells/HRPGSpellViewController.m
@@ -30,6 +30,7 @@ - (void) setupTableView {
     self.dataSource.tableView = self.tableView;
     self.tableView.rowHeight = UITableViewAutomaticDimension;
     self.tableView.estimatedRowHeight = 95;
+    self.tableView.backgroundColor = ObjcThemeWrapper.contentBackgroundColor;
 }
 
 - (NSDictionary *)getDefinitonForTutorial:(NSString *)tutorialIdentifier {
diff --git a/HabitRPG/TableviewCells/CustomizationDetailCell.swift b/HabitRPG/TableviewCells/CustomizationDetailCell.swift
index b0ee3bedb..36c2147e7 100644
--- a/HabitRPG/TableviewCells/CustomizationDetailCell.swift
+++ b/HabitRPG/TableviewCells/CustomizationDetailCell.swift
@@ -38,6 +38,7 @@ class CustomizationDetailCell: UICollectionViewCell {
             imageView.setImagewith(name: customization.iconName(forUserPreferences: preferences))
         }
         currencyView.amount = Int(customization.price)
+        applyTheme()
     }
     
     func configure(gear: GearProtocol) {
@@ -45,5 +46,13 @@ class CustomizationDetailCell: UICollectionViewCell {
         if gear.gearSet == "animal" {
             currencyView.amount = 2
         }
+        applyTheme()
+    }
+    
+    private func applyTheme() {
+        let theme = ThemeService.shared.theme
+        backgroundColor = theme.windowBackgroundColor
+        currencyView.backgroundColor = theme.offsetBackgroundColor
+        borderColor = theme.tintColor
     }
 }
diff --git a/HabitRPG/TableviewCells/CustomizationHeaderView.swift b/HabitRPG/TableviewCells/CustomizationHeaderView.swift
index 588bd9eea..197a228f4 100644
--- a/HabitRPG/TableviewCells/CustomizationHeaderView.swift
+++ b/HabitRPG/TableviewCells/CustomizationHeaderView.swift
@@ -43,6 +43,9 @@ class CustomizationHeaderView: UICollectionReusableView {
             label.text = customizationSet.text
         }
         currencyView.amount = Int(customizationSet.setPrice)
+        
+        purchaseButton.backgroundColor = ThemeService.shared.theme.windowBackgroundColor
+        purchaseButton.borderColor = ThemeService.shared.theme.tintColor
     }
     
     @objc
diff --git a/HabitRPG/TableviewCells/SkillTableViewCell.swift b/HabitRPG/TableviewCells/SkillTableViewCell.swift
index 4f16a4061..02a893c47 100644
--- a/HabitRPG/TableviewCells/SkillTableViewCell.swift
+++ b/HabitRPG/TableviewCells/SkillTableViewCell.swift
@@ -30,7 +30,7 @@ class SkillTableViewCell: UITableViewCell {
         notesLabel.text = skill.notes
         costLabel?.text = String(describing: skill.mana)
         if manaLeft < Float(skill.mana) {
-            buyButton.backgroundColor = UIColor.gray600()
+            buyButton.backgroundColor = ThemeService.shared.theme.offsetBackgroundColor
             magicIconView?.alpha = 0.3
             costLabel?.alpha = 0.3
         } else {
@@ -63,11 +63,11 @@ class SkillTableViewCell: UITableViewCell {
         
         if selected {
             UIView.animate(withDuration: animated ? 0.2 : 0) {[weak self] in
-                self?.containerView?.backgroundColor = UIColor.gray600()
+                self?.containerView?.backgroundColor = ThemeService.shared.theme.offsetBackgroundColor
             }
         } else {
             UIView.animate(withDuration: animated ? 0.2 : 0) {[weak self] in
-                self?.containerView?.backgroundColor = UIColor.gray700()
+                self?.containerView?.backgroundColor = ThemeService.shared.theme.windowBackgroundColor
             }
             
         }
diff --git a/HabitRPG/TableviewCells/SubscriptionInformationCell.swift b/HabitRPG/TableviewCells/SubscriptionInformationCell.swift
index 10e51c517..8abbdac18 100644
--- a/HabitRPG/TableviewCells/SubscriptionInformationCell.swift
+++ b/HabitRPG/TableviewCells/SubscriptionInformationCell.swift
@@ -13,7 +13,8 @@ class SubscriptionInformationCell: UITableViewCell {
     @IBOutlet weak private var titleLabel: UILabel!
     @IBOutlet weak private var expandButton: UIButton!
     @IBOutlet weak private var descriptionTextView: UITextView!
-
+    @IBOutlet weak var titleWrapper: UIView!
+    
     var expandButtonPressedAction: ((Bool) -> Void)?
 
     var isExpanded = false
@@ -31,6 +32,7 @@ class SubscriptionInformationCell: UITableViewCell {
     var descriptionText: String {
         set {
             descriptionTextView.text = newValue
+            descriptionTextView.textColor = ThemeService.shared.theme.primaryTextColor
         }
 
         get {
diff --git a/HabitRPG/TableviewCells/SubscriptionInformationCell.xib b/HabitRPG/TableviewCells/SubscriptionInformationCell.xib
index 5ef09fee4..5e53e95e6 100644
--- a/HabitRPG/TableviewCells/SubscriptionInformationCell.xib
+++ b/HabitRPG/TableviewCells/SubscriptionInformationCell.xib
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14460.31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14490.70" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
     <device id="retina4_7" orientation="portrait">
         <adaptation id="fullscreen"/>
     </device>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14460.20"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14490.49"/>
         <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
     <objects>
@@ -55,12 +55,10 @@
                             </view>
                             <textView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" bounces="NO" scrollEnabled="NO" showsHorizontalScrollIndicator="NO" showsVerticalScrollIndicator="NO" editable="NO" textAlignment="natural" selectable="NO" translatesAutoresizingMaskIntoConstraints="NO" id="14g-dg-eyz">
                                 <rect key="frame" x="8" y="56" width="327" height="219"/>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                                 <fontDescription key="fontDescription" type="system" pointSize="12"/>
                                 <textInputTraits key="textInputTraits" autocapitalizationType="sentences"/>
                             </textView>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                         <constraints>
                             <constraint firstItem="U5F-yU-dC1" firstAttribute="leading" secondItem="Zfm-2d-JMj" secondAttribute="leading" id="3Qx-Jv-MUu"/>
                             <constraint firstItem="14g-dg-eyz" firstAttribute="top" secondItem="U5F-yU-dC1" secondAttribute="bottom" priority="999" constant="8" id="82t-9M-8eE"/>
@@ -83,11 +81,12 @@
                 <outlet property="descriptionTextView" destination="14g-dg-eyz" id="YSF-k9-SP8"/>
                 <outlet property="expandButton" destination="rn0-xq-Rgq" id="fvz-Ub-xWW"/>
                 <outlet property="titleLabel" destination="eeU-9K-cA6" id="I5h-F2-zPb"/>
+                <outlet property="titleWrapper" destination="U5F-yU-dC1" id="4y1-Ne-THb"/>
             </connections>
             <point key="canvasLocation" x="33.5" y="-236.5"/>
         </tableViewCell>
     </objects>
     <resources>
-        <image name="carret_down" width="48" height="48"/>
+        <image name="carret_down" width="24" height="24"/>
     </resources>
 </document>
diff --git a/HabitRPG/TableviewCells/SubscriptionOptionView.swift b/HabitRPG/TableviewCells/SubscriptionOptionView.swift
index 6b56bf677..e3735032b 100644
--- a/HabitRPG/TableviewCells/SubscriptionOptionView.swift
+++ b/HabitRPG/TableviewCells/SubscriptionOptionView.swift
@@ -11,6 +11,7 @@ import UIKit
 class SubscriptionOptionView: UITableViewCell {
 
     //swiftlint:disable private_outlet
+    @IBOutlet weak var wrapperView: UIView!
     @IBOutlet weak var selectionView: UIImageView!
     @IBOutlet weak var priceLabel: UILabel!
     @IBOutlet weak var titleLabel: UILabel!
@@ -42,6 +43,7 @@ class SubscriptionOptionView: UITableViewCell {
                 self?.mysticHourglassLabel.backgroundColor = UIColor.gray600()
             })
         }
+        wrapperView.backgroundColor = ThemeService.shared.theme.windowBackgroundColor
     }
     
     func setMonthCount(_ count: Int) {
diff --git a/HabitRPG/TableviewCells/SubscriptionOptionView.xib b/HabitRPG/TableviewCells/SubscriptionOptionView.xib
index 0596dbfcf..cc293a228 100644
--- a/HabitRPG/TableviewCells/SubscriptionOptionView.xib
+++ b/HabitRPG/TableviewCells/SubscriptionOptionView.xib
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14460.31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14490.70" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
     <device id="retina4_7" orientation="portrait">
         <adaptation id="fullscreen"/>
     </device>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14460.20"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14490.49"/>
         <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
     <objects>
@@ -82,7 +82,6 @@
                                         </userDefinedRuntimeAttributes>
                                     </label>
                                 </subviews>
-                                <color key="backgroundColor" red="0.97931915521621704" green="0.9800599217414856" blue="0.97943383455276489" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstItem="7Et-rt-l2T" firstAttribute="leading" secondItem="V8G-oZ-Yon" secondAttribute="trailing" constant="8" id="D8o-OY-cm9"/>
                                     <constraint firstItem="V8G-oZ-Yon" firstAttribute="leading" secondItem="Ahl-VE-epw" secondAttribute="leading" id="Erx-tP-UYh"/>
@@ -124,6 +123,7 @@
                 <outlet property="priceLabel" destination="lya-yE-68a" id="IaO-ju-UXn"/>
                 <outlet property="selectionView" destination="cN1-0z-yC8" id="KkB-vj-xf8"/>
                 <outlet property="titleLabel" destination="5yl-hB-j4J" id="8FT-I7-5IN"/>
+                <outlet property="wrapperView" destination="rGG-fK-sIG" id="Lkh-6F-wrH"/>
             </connections>
             <point key="canvasLocation" x="-50.5" y="500.5"/>
         </tableViewCell>
diff --git a/HabitRPG/TopHeaderNavigationController.swift b/HabitRPG/TopHeaderNavigationController.swift
index 84c8daec4..5c78e96eb 100644
--- a/HabitRPG/TopHeaderNavigationController.swift
+++ b/HabitRPG/TopHeaderNavigationController.swift
@@ -50,7 +50,7 @@ protocol TopHeaderNavigationControllerProtocol: class {
 class TopHeaderViewController: UINavigationController, TopHeaderNavigationControllerProtocol, Themeable {
     @objc public var state: TopHeaderState = .visible
     @objc public var defaultNavbarHiddenColor = UIColor.purple300()
-    @objc public var defaultNavbarVisibleColor = UIColor.white
+    @objc public var defaultNavbarVisibleColor = ThemeService.shared.theme.contentBackgroundColor
     private var headerView: UIView?
     private var alternativeHeaderView: UIView?
     private let backgroundView = UIView()
@@ -180,7 +180,7 @@ class TopHeaderViewController: UINavigationController, TopHeaderNavigationContro
         let nibViews = Bundle.main.loadNibNamed("UserTopHeader", owner: self, options: nil)
         self.headerView = nibViews?[0] as? UIView
         self.bottomBorderView.backgroundColor = .gray600()
-        self.upperBackgroundView.backgroundColor = .white
+        self.upperBackgroundView.backgroundColor = ThemeService.shared.theme.contentBackgroundColor
         if let headerView = self.headerView {
             self.backgroundView.addSubview(headerView)
         }
diff --git a/HabitRPG/UI/FAQ/FAQDetailViewController.swift b/HabitRPG/UI/FAQ/FAQDetailViewController.swift
index 40397c9df..5b65efd40 100644
--- a/HabitRPG/UI/FAQ/FAQDetailViewController.swift
+++ b/HabitRPG/UI/FAQ/FAQDetailViewController.swift
@@ -11,7 +11,7 @@ import Habitica_Models
 import ReactiveSwift
 import Down
 
-class FAQDetailViewController: HRPGUIViewController {
+class FAQDetailViewController: BaseUIViewController {
     
     var index: Int = 0
     
@@ -30,7 +30,12 @@ class FAQDetailViewController: HRPGUIViewController {
         disposable.inner.add(contentRepository.getFAQEntry(index: index).on(value: {[weak self]entry in
             self?.questionLabel.text = entry.question
             self?.answerTextView.attributedText = try? Down(markdownString: entry.answer).toHabiticaAttributedString()
-            
         }).start())
     }
+    
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        questionLabel.textColor = theme.primaryTextColor
+        answerTextView.backgroundColor = theme.contentBackgroundColor
+    }
 }
diff --git a/HabitRPG/UI/General/BaseCollectionViewController.swift b/HabitRPG/UI/General/BaseCollectionViewController.swift
new file mode 100644
index 000000000..213a85310
--- /dev/null
+++ b/HabitRPG/UI/General/BaseCollectionViewController.swift
@@ -0,0 +1,21 @@
+//
+//  BaseCollectionViewController.swift
+//  Habitica
+//
+//  Created by Phillip Thelen on 06.05.19.
+//  Copyright  2019 HabitRPG Inc. All rights reserved.
+//
+
+import Foundation
+
+class BaseCollectionViewController: HRPGBaseCollectionViewController, Themeable {
+    
+    override func viewDidLoad() {
+        super.viewDidLoad()
+        ThemeService.shared.addThemeable(themable: self)
+    }
+    
+    func applyTheme(theme: Theme) {
+        collectionView.backgroundColor = theme.windowBackgroundColor
+    }
+}
diff --git a/HabitRPG/UI/General/BaseUIViewController.swift b/HabitRPG/UI/General/BaseUIViewController.swift
new file mode 100644
index 000000000..b6ef73263
--- /dev/null
+++ b/HabitRPG/UI/General/BaseUIViewController.swift
@@ -0,0 +1,22 @@
+//
+//  BaseUIViewController.swift
+//  Habitica
+//
+//  Created by Phillip Thelen on 06.05.19.
+//  Copyright  2019 HabitRPG Inc. All rights reserved.
+//
+
+import Foundation
+
+class BaseUIViewController: HRPGUIViewController, Themeable {
+    
+    override func viewDidLoad() {
+        super.viewDidLoad()
+        ThemeService.shared.addThemeable(themable: self)
+    }
+    
+    func applyTheme(theme: Theme) {
+        view.backgroundColor = theme.contentBackgroundColor
+    }
+    
+}
diff --git a/HabitRPG/UI/General/HabiticaSplitViewController.swift b/HabitRPG/UI/General/HabiticaSplitViewController.swift
index 0904492cf..bfa060fc1 100644
--- a/HabitRPG/UI/General/HabiticaSplitViewController.swift
+++ b/HabitRPG/UI/General/HabiticaSplitViewController.swift
@@ -8,7 +8,7 @@
 
 import Foundation
 
-class HabiticaSplitViewController: HRPGUIViewController, UIScrollViewDelegate {
+class HabiticaSplitViewController: BaseUIViewController, UIScrollViewDelegate {
     @IBOutlet weak var scrollView: UIScrollView!
     @IBOutlet weak var scrollViewTopConstraint: NSLayoutConstraint!
     @IBOutlet var leftViewWidthConstraint: NSLayoutConstraint!
diff --git a/HabitRPG/UI/Intro/IntroViewController.swift b/HabitRPG/UI/General/Intro/IntroViewController.swift
similarity index 100%
rename from HabitRPG/UI/Intro/IntroViewController.swift
rename to HabitRPG/UI/General/Intro/IntroViewController.swift
diff --git a/HabitRPG/UI/Inventory/AvatarDetailViewController.swift b/HabitRPG/UI/Inventory/AvatarDetailViewController.swift
index 86fc111ba..34e61a842 100644
--- a/HabitRPG/UI/Inventory/AvatarDetailViewController.swift
+++ b/HabitRPG/UI/Inventory/AvatarDetailViewController.swift
@@ -9,7 +9,7 @@
 import Foundation
 import Habitica_Models
 
-class AvatarDetailViewController: HRPGCollectionViewController, UICollectionViewDelegateFlowLayout {
+class AvatarDetailViewController: BaseCollectionViewController, UICollectionViewDelegateFlowLayout {
     
     private var customizationDataSource: AvatarDetailViewDataSource?
     private var gearDataSource: AvatarGearDetailViewDataSource?
@@ -36,6 +36,11 @@ class AvatarDetailViewController: HRPGCollectionViewController, UICollectionView
         }
     }
     
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        collectionView.backgroundColor = theme.contentBackgroundColor
+    }
+    
     func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAt indexPath: IndexPath) -> CGSize {
         if let datasource = customizationDataSource {
             return datasource.collectionView(collectionView, layout: collectionViewLayout, sizeForItemAt: indexPath)
diff --git a/HabitRPG/UI/Inventory/AvatarOverviewViewController.swift b/HabitRPG/UI/Inventory/AvatarOverviewViewController.swift
index 4a789851e..2878372eb 100644
--- a/HabitRPG/UI/Inventory/AvatarOverviewViewController.swift
+++ b/HabitRPG/UI/Inventory/AvatarOverviewViewController.swift
@@ -10,7 +10,7 @@ import Foundation
 import Habitica_Models
 import ReactiveSwift
 
-class AvatarOverviewViewController: HRPGUIViewController, UIScrollViewDelegate {
+class AvatarOverviewViewController: BaseUIViewController, UIScrollViewDelegate {
     
     private let userRepository = UserRepository()
     private let disposable = ScopedDisposable(CompositeDisposable())
@@ -50,6 +50,11 @@ class AvatarOverviewViewController: HRPGUIViewController, UIScrollViewDelegate {
         view.setNeedsLayout()
     }
     
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        bodySizeLabel.textColor = theme.primaryTextColor
+    }
+    
     override func populateText() {
         navigationItem.title = L10n.Titles.avatar
         bodySizeLabel.text = L10n.bodySize
diff --git a/HabitRPG/UI/Inventory/EquipmentOverviewViewController.swift b/HabitRPG/UI/Inventory/EquipmentOverviewViewController.swift
index 1650c6885..bbb28efd6 100644
--- a/HabitRPG/UI/Inventory/EquipmentOverviewViewController.swift
+++ b/HabitRPG/UI/Inventory/EquipmentOverviewViewController.swift
@@ -11,7 +11,7 @@ import Habitica_Models
 import ReactiveSwift
 import PinLayout
 
-class EquipmentOverviewViewController: HRPGUIViewController, UIScrollViewDelegate {
+class EquipmentOverviewViewController: BaseUIViewController, UIScrollViewDelegate {
     
     @IBOutlet weak var scrollView: UIScrollView!
     @IBOutlet weak var gearView: EquipmentOverviewView!
diff --git a/HabitRPG/UI/Purchases/GemViewController.swift b/HabitRPG/UI/Purchases/GemViewController.swift
index e3fc0b43b..3e2b9674c 100644
--- a/HabitRPG/UI/Purchases/GemViewController.swift
+++ b/HabitRPG/UI/Purchases/GemViewController.swift
@@ -14,7 +14,7 @@ import Keys
 import ReactiveSwift
 import Habitica_Models
 
-class GemViewController: UICollectionViewController {
+class GemViewController: BaseCollectionViewController {
     
     var products: [SKProduct]?
     var user: UserProtocol?
diff --git a/HabitRPG/UI/Purchases/SubscriptionViewController.swift b/HabitRPG/UI/Purchases/SubscriptionViewController.swift
index 71b0b7157..86700d1c5 100644
--- a/HabitRPG/UI/Purchases/SubscriptionViewController.swift
+++ b/HabitRPG/UI/Purchases/SubscriptionViewController.swift
@@ -13,7 +13,7 @@ import Keys
 import ReactiveSwift
 import Habitica_Models
 
-class SubscriptionViewController: HRPGBaseViewController {
+class SubscriptionViewController: BaseTableViewController {
 
     @IBOutlet weak private var restorePurchaseButton: UIButton!
     let identifiers = ["subscription1month", "com.habitrpg.ios.habitica.subscription.3month",
@@ -69,7 +69,7 @@ class SubscriptionViewController: HRPGBaseViewController {
         
         if let termsView = self.tableView.tableFooterView?.viewWithTag(2) as? UITextView {
             let termsAttributedText = NSMutableAttributedString(string: "Once we've confirmed your purchase, the payment will be charged to your iTunes Account! Thank you so much for your support.\n\nPlease note that subscriptions automatically renew unless your auto-renew is turned off at least 24-hours before the end of the current period, which you can do by going to your Account Settings page after you've made your purchase. You can also manage subscriptions from the Account Settings page. If you have an active subscription, your account will be charged for renewal within 24-hours prior to the end of your current subscription period. When your subscription renews, you will be charged the same price that you initially paid. If you have any questions, feel free to ask in the Habitica Help Guild\nBy continuing you accept the Terms of Use and Privacy Policy")
-            termsAttributedText.addAttribute(NSAttributedString.Key.foregroundColor, value: UIColor.gray50(), range: NSRange(location: 0, length: termsAttributedText.length))
+            termsAttributedText.addAttribute(NSAttributedString.Key.foregroundColor, value: ThemeService.shared.theme.primaryTextColor, range: NSRange(location: 0, length: termsAttributedText.length))
             let termsRange = termsAttributedText.mutableString.range(of: "Terms of Use")
             termsAttributedText.addAttributes([NSAttributedString.Key.link: "https://habitica.com/static/terms"], range: termsRange)
             let privacyRange = termsAttributedText.mutableString.range(of: "Privacy Policy")
@@ -95,6 +95,11 @@ class SubscriptionViewController: HRPGBaseViewController {
         }).start())
     }
     
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        tableView.backgroundColor = theme.contentBackgroundColor
+    }
+    
     override func populateText() {
         subscriptionBenefitsTitleLabel.text = L10n.subscriptionBenefitsTitle
         giftSubscriptionExplanationLabel.text = L10n.subscriptionGiftExplanation
@@ -236,6 +241,7 @@ class SubscriptionViewController: HRPGBaseViewController {
                 self?.expandedList[indexPath.item] = isExpanded
                 self?.tableView.reloadRows(at: [indexPath], with: .none)
             }
+            cell.titleWrapper.backgroundColor = ThemeService.shared.theme.windowBackgroundColor
             returnedCell = cell
         } else if self.isOptionSection(indexPath.section) {
             guard let cell = tableView.dequeueReusableCell(withIdentifier: "OptionCell", for: indexPath) as? SubscriptionOptionView else {
diff --git a/HabitRPG/UI/RewardViewController.swift b/HabitRPG/UI/RewardViewController.swift
index 2b036c556..6de0583e3 100644
--- a/HabitRPG/UI/RewardViewController.swift
+++ b/HabitRPG/UI/RewardViewController.swift
@@ -10,7 +10,7 @@ import UIKit
 import Habitica_Models
 import ReactiveSwift
 
-class RewardViewController: HRPGBaseCollectionViewController, UICollectionViewDelegateFlowLayout, Themeable {
+class RewardViewController: BaseCollectionViewController, UICollectionViewDelegateFlowLayout {
     
     let userRepository = UserRepository()
     
@@ -39,8 +39,9 @@ class RewardViewController: HRPGBaseCollectionViewController, UICollectionViewDe
         ThemeService.shared.addThemeable(themable: self)
     }
     
-    func applyTheme(theme: Theme) {
-        collectionView.backgroundColor = .white
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        collectionView.backgroundColor = theme.contentBackgroundColor
     }
     
     override func getDefinitonForTutorial(_ tutorialIdentifier: String!) -> [AnyHashable: Any] {
diff --git a/HabitRPG/UI/Settings/APISettingsViewController.swift b/HabitRPG/UI/Settings/APISettingsViewController.swift
index bd1df5f35..1197361b5 100644
--- a/HabitRPG/UI/Settings/APISettingsViewController.swift
+++ b/HabitRPG/UI/Settings/APISettingsViewController.swift
@@ -39,6 +39,7 @@ class APISettingsViewController: BaseSettingsViewController {
                 cell.detailTextLabel?.text = L10n.tapToShow
             }
         }
+        cell.detailTextLabel?.textColor = ThemeService.shared.theme.secondaryTextColor
         return cell
     }
     
diff --git a/HabitRPG/UI/Settings/AuthenticationSettingsViewController.swift b/HabitRPG/UI/Settings/AuthenticationSettingsViewController.swift
index 2d0da56c7..c311e12d3 100644
--- a/HabitRPG/UI/Settings/AuthenticationSettingsViewController.swift
+++ b/HabitRPG/UI/Settings/AuthenticationSettingsViewController.swift
@@ -44,7 +44,7 @@ class AuthenticationSettingsViewController: BaseSettingsViewController {
     override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
         var cellName = "Cell"
         var cellTitle = ""
-        var cellTitleColor = UIColor.black
+        var cellTitleColor = ThemeService.shared.theme.primaryTextColor
         var cellDetailText: String?
         var confirmOffset = 0
         if user?.flags?.verifiedUsername != true {
@@ -57,7 +57,7 @@ class AuthenticationSettingsViewController: BaseSettingsViewController {
             } else if indexPath.item == 1 && confirmOffset > 0 {
                 cellName = "ButtonCell"
                 cellTitle = L10n.confirmUsername
-                cellTitleColor = UIColor.green50()
+                cellTitleColor = ThemeService.shared.theme.successColor
             } else if indexPath.item == 1 + confirmOffset {
                 cellTitle = L10n.email
                 cellDetailText = user?.authentication?.local?.email
@@ -93,6 +93,7 @@ class AuthenticationSettingsViewController: BaseSettingsViewController {
         textLabel?.textColor = cellTitleColor
         if let text = cellDetailText {
             cell.detailTextLabel?.text = text
+            cell.detailTextLabel?.textColor = ThemeService.shared.theme.secondaryTextColor
         }
         return cell
     }
diff --git a/HabitRPG/UI/Settings/BaseSettingsViewController.swift b/HabitRPG/UI/Settings/BaseSettingsViewController.swift
index 655713892..b6d1a1bd3 100644
--- a/HabitRPG/UI/Settings/BaseSettingsViewController.swift
+++ b/HabitRPG/UI/Settings/BaseSettingsViewController.swift
@@ -10,7 +10,7 @@ import UIKit
 import Habitica_Models
 import ReactiveSwift
 
-class BaseSettingsViewController: HRPGBaseViewController {
+class BaseSettingsViewController: BaseTableViewController {
 
     let disposable = ScopedDisposable(CompositeDisposable())
     
diff --git a/HabitRPG/UI/Settings/FixCharacterViewController.swift b/HabitRPG/UI/Settings/FixCharacterViewController.swift
index 0d9180787..3a52e9e13 100644
--- a/HabitRPG/UI/Settings/FixCharacterViewController.swift
+++ b/HabitRPG/UI/Settings/FixCharacterViewController.swift
@@ -94,10 +94,12 @@ class FixCharacterViewController: BaseTableViewController {
             let iconView = cell.viewWithTag(3) as? UIImageView,
             let valueField = cell.viewWithTag(2) as? UITextField {
             configure(item: indexPath.item, titleLabel: titleLabel, iconView: iconView, valueField: valueField)
+            valueField.textColor = ThemeService.shared.theme.primaryTextColor
         }
         if let wrapper = cell.viewWithTag(4) {
-            wrapper.layer.borderColor = UIColor.gray600().cgColor
-            wrapper.layer.borderWidth = 1
+            wrapper.borderColor = ThemeService.shared.theme.separatorColor
+            wrapper.borderWidth = 1
+            wrapper.backgroundColor = ThemeService.shared.theme.contentBackgroundColor
         }
         
         return cell
@@ -137,7 +139,7 @@ class FixCharacterViewController: BaseTableViewController {
             return
         case 5:
             titleLabel.text = L10n.dayStreaks
-            titleLabel.textColor = .gray10()
+            titleLabel.textColor = ThemeService.shared.theme.primaryTextColor
             iconView.backgroundColor = UIColor.gray500().withAlphaComponent(0.5)
             iconView.image = #imageLiteral(resourceName: "streak_achievement")
             return
diff --git a/HabitRPG/UI/Settings/ProfileSettingsViewController.swift b/HabitRPG/UI/Settings/ProfileSettingsViewController.swift
index c41d4d6a3..fdc6fbc05 100644
--- a/HabitRPG/UI/Settings/ProfileSettingsViewController.swift
+++ b/HabitRPG/UI/Settings/ProfileSettingsViewController.swift
@@ -35,6 +35,7 @@ class ProfileSettingsViewController: BaseSettingsViewController {
             cell.textLabel?.text = L10n.aboutText
             cell.detailTextLabel?.text = user?.profile?.blurb
         }
+        cell.detailTextLabel?.textColor = ThemeService.shared.theme.secondaryTextColor
         return cell
     }
     
diff --git a/HabitRPG/UI/Settings/SettingsViewController.swift b/HabitRPG/UI/Settings/SettingsViewController.swift
index 3f0247d2d..db4a4a697 100644
--- a/HabitRPG/UI/Settings/SettingsViewController.swift
+++ b/HabitRPG/UI/Settings/SettingsViewController.swift
@@ -273,6 +273,13 @@ class SettingsViewController: FormViewController, Themeable {
             self?.setUser(user)
         }).start())
         
+        ButtonRow.defaultCellSetup = { cell, _ in
+            cell.tintColor = ThemeService.shared.theme.tintColor
+        }
+        TimeRow.defaultCellSetup = { cell, _ in
+            cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+        }
+        
         ThemeService.shared.addThemeable(themable: self, applyImmediately: true)
     }
     
@@ -298,9 +305,6 @@ class SettingsViewController: FormViewController, Themeable {
             }
             <<< ButtonRow { row in
                 row.title = L10n.Settings.reloadContent
-                row.cellSetup({ (cell, _) in
-                    cell.tintColor = ThemeService.shared.theme.tintColor
-                })
                 }.onCellSelection({ (_, _) in
                     let progressView = MRProgressOverlayView.showOverlayAdded(to: self.view, animated: true)
                     progressView?.tintColor = ThemeService.shared.theme.tintColor
@@ -394,6 +398,10 @@ class SettingsViewController: FormViewController, Themeable {
         form +++ Section(L10n.Settings.reminder)
             <<< SwitchRow(SettingsTags.dailyReminder) { row in
                 row.title = L10n.Settings.dailyReminder
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 }.onChange({ (row) in
                     let defaults = UserDefaults()
                     defaults.set(row.value ?? false, forKey: "dailyReminderActive")
@@ -406,6 +414,10 @@ class SettingsViewController: FormViewController, Themeable {
                 row.hidden = Condition.function([SettingsTags.dailyReminder], { (form) -> Bool in
                     return (form.rowBy(tag: SettingsTags.dailyReminder) as? SwitchRow)?.value == false
                 })
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 }.onChange({ (row) in
                     let defaults = UserDefaults()
                     defaults.set(row.value, forKey: "dailyReminderTime")
@@ -416,6 +428,10 @@ class SettingsViewController: FormViewController, Themeable {
             +++ Section(L10n.Settings.notificationBadge)
             <<< SwitchRow(SettingsTags.displayNotificationsBadge) { row in
                 row.title = L10n.Settings.displayNotificationBadge
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 }.onChange({ (row) in
                     let defaults = UserDefaults()
                     defaults.set(row.value ?? false, forKey: "appBadgeActive")
@@ -423,6 +439,10 @@ class SettingsViewController: FormViewController, Themeable {
             +++ Section(L10n.Settings.dayStart)
             <<< TimeRow(SettingsTags.customDayStart) { row in
                 row.title = L10n.Settings.customDayStart
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 }.onCellHighlightChanged({ (_, row) in
                     if let date = row.value {
                         let calendar = Calendar.current
@@ -438,6 +458,10 @@ class SettingsViewController: FormViewController, Themeable {
             }
             <<< AlertRow<LabeledFormValue<Bool>>(SettingsTags.searchableUsername) { row in
                 row.title = L10n.Settings.searchableUsername
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.options = [LabeledFormValue(value: true, label: L10n.Settings.searchableEverywhere),
                                LabeledFormValue(value: false, label: L10n.Settings.searchablePrivateSpaces)
                 ]
@@ -454,6 +478,10 @@ class SettingsViewController: FormViewController, Themeable {
             +++ Section(L10n.Settings.social)
             <<< SwitchRow(SettingsTags.disableAllNotifications) { row in
                 row.title = L10n.Settings.disableAllNotifications
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.onChange({ (row) in
                     if row.value == self.user?.preferences?.pushNotifications?.unsubscribeFromAll {
                         return
@@ -465,6 +493,10 @@ class SettingsViewController: FormViewController, Themeable {
             }
             <<< SwitchRow(SettingsTags.disablePrivateMessages) { row in
                 row.title = L10n.Settings.disablePm
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.onChange({ (row) in
                     if row.value == self.user?.inbox?.optOut {
                         return
@@ -477,6 +509,10 @@ class SettingsViewController: FormViewController, Themeable {
         let section = Section(L10n.Settings.preferences)
             <<< PushRow<LabeledFormValue<Int>>(SettingsTags.appLanguage) { row in
                 row.title = L10n.Settings.language
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.options = AppLanguage.allLanguages().map({ language -> LabeledFormValue<Int> in
                     return LabeledFormValue(value: language.rawValue, label: language.name)
                 })
@@ -487,9 +523,18 @@ class SettingsViewController: FormViewController, Themeable {
                         self.update(language: newLanguage)
                     }
                 })
+                row.onPresent({ (_, to) in
+                    to.selectableRowCellUpdate = { cell, row in
+                        cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    }
+                })
             }
             <<< PushRow<LabeledFormValue<String>>(SettingsTags.soundTheme) { row in
                 row.title = L10n.Settings.soundTheme
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.options = SoundTheme.allThemes.map({ (theme) -> LabeledFormValue<String> in
                     return LabeledFormValue(value: theme.rawValue, label: theme.niceName)
                 })
@@ -501,9 +546,18 @@ class SettingsViewController: FormViewController, Themeable {
                         self.userRepository.updateUser(key: "preferences.sound", value: value).observeCompleted {}
                     }
                 })
+                row.onPresent({ (_, to) in
+                    to.selectableRowCellUpdate = { cell, row in
+                        cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    }
+                })
             }
             <<< PushRow<String>(SettingsTags.themeColor) { row in
                 row.title = L10n.Settings.themeColor
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.options = ThemeName.allNames.map({ (name) -> String in
                     return name.rawValue
                 })
@@ -517,11 +571,20 @@ class SettingsViewController: FormViewController, Themeable {
                     defaults.set(row.value, forKey: "theme")
                     self.relaunchMainApp()
                 })
+                row.onPresent({ (_, to) in
+                    to.selectableRowCellUpdate = { cell, row in
+                        cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    }
+                })
             }
         form +++ section
         if #available(iOS 10.3, *) {
             section <<< PushRow<String>(SettingsTags.appIcon) { row in
                 row.title = L10n.Settings.appIcon
+                row.cellUpdate { cell, _ in
+                    cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
+                    cell.tintColor = ThemeService.shared.theme.tintColor
+                }
                 row.options = AppIconName.allNames.map({ (name) -> String in
                     return name.rawValue
                 })
@@ -533,6 +596,7 @@ class SettingsViewController: FormViewController, Themeable {
                         cell.imageView?.cornerRadius = 12
                         cell.imageView?.contentMode = .center
                         cell.imageView?.image = UIImage(named: filename)
+                        cell.textLabel?.textColor = ThemeService.shared.theme.primaryTextColor
                         cell.contentView.layoutMargins = UIEdgeInsets(top: 4, left: cell.layoutMargins.left, bottom: 4, right: cell.layoutMargins.right)
                     }
                 })
diff --git a/HabitRPG/UI/Social/Guilds/GuildOverviewViewController.swift b/HabitRPG/UI/Social/Guilds/GuildOverviewViewController.swift
index ec02ca0b5..a26d42920 100644
--- a/HabitRPG/UI/Social/Guilds/GuildOverviewViewController.swift
+++ b/HabitRPG/UI/Social/Guilds/GuildOverviewViewController.swift
@@ -69,9 +69,6 @@ class GuildOverviewViewController: BaseTableViewController, UISearchBarDelegate
     override func applyTheme(theme: Theme) {
         super.applyTheme(theme: theme)
         headerSeparator.backgroundColor = theme.separatorColor
-        searchbar.backgroundColor = theme.windowBackgroundColor
-        searchbar.barTintColor = theme.contentBackgroundColor
-        searchbar.tintColor = theme.tintColor
     }
     
     override func viewWillLayoutSubviews() {
diff --git a/HabitRPG/UI/Social/Party/PartyViewController.swift b/HabitRPG/UI/Social/Party/PartyViewController.swift
index c1fac2403..0243bd94f 100644
--- a/HabitRPG/UI/Social/Party/PartyViewController.swift
+++ b/HabitRPG/UI/Social/Party/PartyViewController.swift
@@ -17,7 +17,6 @@ class PartyViewController: SplitSocialViewController {
     @IBOutlet weak var noPartyContainerView: UIView!
     @IBOutlet weak var userIDButton: UIButton!
     @IBOutlet weak var groupInvitationListView: GroupInvitationListView!
-    @IBOutlet weak var shareQRCodeButton: UIButton!
     @IBOutlet weak var noPartyHeaderBackground: GradientImageView!
     
     @IBOutlet weak var createPartyTitleLabel: UILabel!
@@ -33,7 +32,8 @@ class PartyViewController: SplitSocialViewController {
             self.noPartyHeaderBackground.image = image?.resizableImage(withCapInsets: UIEdgeInsets.zero, resizingMode: UIImage.ResizingMode.tile)
         }
         let gradient = CAGradientLayer()
-        gradient.colors = [UIColor.white.cgColor, UIColor.init(white: 1, alpha: 0).cgColor, UIColor.white.cgColor]
+        let bgColor = ThemeService.shared.theme.contentBackgroundColor
+        gradient.colors = [bgColor.cgColor, bgColor.withAlphaComponent(0).cgColor, bgColor.cgColor]
         gradient.startPoint = CGPoint(x: 0, y: 0)
         gradient.endPoint = CGPoint(x: 0, y: 1)
         gradient.locations =  [0, 0.4, 1]
@@ -73,6 +73,12 @@ class PartyViewController: SplitSocialViewController {
             .start())
     }
     
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        createPartyButton.backgroundColor = theme.windowBackgroundColor
+        userIDButton.backgroundColor = theme.windowBackgroundColor
+    }
+    
     override func populateText() {
         navigationItem.title = L10n.Titles.party
         createPartyTitleLabel.text = L10n.Party.createPartyTitle
diff --git a/HabitRPG/UI/Social/QuestDetailViewController.swift b/HabitRPG/UI/Social/QuestDetailViewController.swift
index d93b571c6..328b60fa8 100644
--- a/HabitRPG/UI/Social/QuestDetailViewController.swift
+++ b/HabitRPG/UI/Social/QuestDetailViewController.swift
@@ -11,7 +11,7 @@ import Habitica_Models
 import ReactiveSwift
 import Down
 
-class QuestDetailViewController: HRPGUIViewController {
+class QuestDetailViewController: BaseUIViewController {
     
     private let socialRepository = SocialRepository()
     private let inventoryRepository = InventoryRepository()
@@ -30,6 +30,7 @@ class QuestDetailViewController: HRPGUIViewController {
         return view
     }()
     
+    @IBOutlet weak var backgroundView: UIView!
     @IBOutlet weak var scrollView: UIScrollView!
     @IBOutlet weak var questTypeHeader: UILabel!
     @IBOutlet weak var descriptionTextView: UITextView!
@@ -87,6 +88,13 @@ class QuestDetailViewController: HRPGUIViewController {
         descriptionTextView.textContainer.lineFragmentPadding = 0
     }
     
+    override func applyTheme(theme: Theme) {
+        super.applyTheme(theme: theme)
+        scrollView.backgroundColor = theme.windowBackgroundColor
+        backgroundView.backgroundColor = theme.contentBackgroundColor
+        bossImageView.backgroundColor = theme.windowBackgroundColor
+    }
+    
     override func populateText() {
         rejectButton.setTitle(L10n.reject, for: .normal)
         acceptButton.setTitle(L10n.accept, for: .normal)
diff --git a/HabitRPG/UI/Social/UserProfileViewController.swift b/HabitRPG/UI/Social/UserProfileViewController.swift
index 7bffac460..24230c26c 100644
--- a/HabitRPG/UI/Social/UserProfileViewController.swift
+++ b/HabitRPG/UI/Social/UserProfileViewController.swift
@@ -11,7 +11,7 @@ import Habitica_Models
 import ReactiveSwift
 import Down
 
-class UserProfileViewController: HRPGBaseViewController {
+class UserProfileViewController: BaseTableViewController {
     
     private let socialRepository = SocialRepository()
     private let inventoryRepository = InventoryRepository()
@@ -235,6 +235,17 @@ class UserProfileViewController: HRPGBaseViewController {
         }
         let avatarView = cell.viewWithTag(8) as? AvatarView
         avatarView?.avatar = AvatarViewModel(avatar: member)
+        
+        let theme = ThemeService.shared.theme
+        healthLabel?.textColor = theme.primaryTextColor
+        healthLabel?.backgroundColor = theme.contentBackgroundColor
+        healthLabel?.progressBar.barBackgroundColor = theme.contentBackgroundColorDimmed
+        experienceLabel?.textColor = theme.primaryTextColor
+        experienceLabel?.backgroundColor = theme.contentBackgroundColor
+        experienceLabel?.progressBar.barBackgroundColor = theme.contentBackgroundColorDimmed
+        magicLabel?.textColor = theme.primaryTextColor
+        magicLabel?.backgroundColor = theme.contentBackgroundColor
+        magicLabel?.progressBar.barBackgroundColor = theme.contentBackgroundColorDimmed
     }
     
     private func configureEquipmentCell(_ cell: UITableViewCell, atIndex index: Int, outfit: OutfitProtocol) {
diff --git a/HabitRPG/Utilities/Theme Engine/Theme.swift b/HabitRPG/Utilities/Theme Engine/Theme.swift
index d2b136941..e2b991086 100644
--- a/HabitRPG/Utilities/Theme Engine/Theme.swift	
+++ b/HabitRPG/Utilities/Theme Engine/Theme.swift	
@@ -31,6 +31,8 @@ public protocol Theme {
     var lightTextColor: UIColor { get }
     var badgeColor: UIColor { get }
     var successColor: UIColor { get }
+    var errorColor: UIColor { get }
+    var taskOverlayTint: UIColor { get }
 }
 
 public protocol DarkTheme: Theme {
@@ -60,6 +62,8 @@ extension Theme {
     
     public var badgeColor: UIColor { return tintColor }
     public var successColor: UIColor { return UIColor.green100() }
+    public var errorColor: UIColor { return UIColor.red100() }
+    public var taskOverlayTint: UIColor { return UIColor.white.withAlphaComponent(0) }
     
     public func applyContentBackgroundColor(views: [UIView]) {
         applyBackgroundColor(views: views, color: contentBackgroundColor)
@@ -75,6 +79,7 @@ extension Theme {
 extension DarkTheme {
     public var isDark: Bool { return true }
     public var successColor: UIColor { return UIColor.green10() }
+    public var errorColor: UIColor { return UIColor.red10() }
 }
 
 @objc
@@ -88,5 +93,6 @@ class ObjcThemeWrapper: NSObject {
     
     @objc public static var primaryTextColor: UIColor { return ThemeService.shared.theme.primaryTextColor }
     @objc public static var secondaryTextColor: UIColor { return ThemeService.shared.theme.secondaryTextColor }
+    @objc public static var dimmedTextColor: UIColor { return ThemeService.shared.theme.dimmedTextColor }
     @objc public static var lightTextColor: UIColor { return ThemeService.shared.theme.lightTextColor}
 }
diff --git a/HabitRPG/Utilities/Theme Engine/ThemeService.swift b/HabitRPG/Utilities/Theme Engine/ThemeService.swift
index 41c8ea29d..2bb83efa5 100644
--- a/HabitRPG/Utilities/Theme Engine/ThemeService.swift	
+++ b/HabitRPG/Utilities/Theme Engine/ThemeService.swift	
@@ -7,6 +7,7 @@
 //
 
 import UIKit
+import Eureka
 
 @objc
 public class ThemeService: NSObject {
diff --git a/HabitRPG/Utilities/Theme Engine/Themes.swift b/HabitRPG/Utilities/Theme Engine/Themes.swift
index 4ce4b5d68..cced55328 100644
--- a/HabitRPG/Utilities/Theme Engine/Themes.swift	
+++ b/HabitRPG/Utilities/Theme Engine/Themes.swift	
@@ -74,6 +74,7 @@ public struct NightTheme: DarkTheme {
     public var tableviewSeparatorColor: UIColor { return UIColor.purple300() }
     public var navbarHiddenColor: UIColor { return contentBackgroundColor }
     public var dimmedColor: UIColor { return UIColor.purple200() }
+    public var taskOverlayTint: UIColor { return UIColor.blackPurple50().withAlphaComponent(0.15) }
 }
 
 public struct DarkNightTheme: DarkTheme {
@@ -93,6 +94,7 @@ public struct DarkNightTheme: DarkTheme {
     public var navbarHiddenColor: UIColor { return contentBackgroundColor }
     public var dimmedColor: UIColor { return UIColor.gray200() }
     public var badgeColor: UIColor { return UIColor.gray200() }
+    public var taskOverlayTint: UIColor { return UIColor.blackPurple50().withAlphaComponent(0.15) }
 }
 
 public struct TrueBlackTheme: DarkTheme {
@@ -110,4 +112,5 @@ public struct TrueBlackTheme: DarkTheme {
     public var tableviewSeparatorColor: UIColor { return UIColor.purple300() }
     public var navbarHiddenColor: UIColor { return contentBackgroundColor }
     public var dimmedColor: UIColor { return UIColor.purple200() }
+    public var taskOverlayTint: UIColor { return UIColor.black.withAlphaComponent(0.15) }
 }
diff --git a/HabitRPG/Views/AvatarOverviewItemView.swift b/HabitRPG/Views/AvatarOverviewItemView.swift
index ea4d2a994..1146796b2 100644
--- a/HabitRPG/Views/AvatarOverviewItemView.swift
+++ b/HabitRPG/Views/AvatarOverviewItemView.swift
@@ -11,7 +11,7 @@ import Foundation
 class AvatarOverviewItemView: UIView {
     var imageView: UIImageView = {
         let imageView = UIImageView()
-        imageView.backgroundColor = .white
+        imageView.backgroundColor = ThemeService.shared.theme.contentBackgroundColor
         imageView.layer.cornerRadius = 4
         imageView.contentMode = .center
         return imageView
diff --git a/HabitRPG/Views/CheckboxView.swift b/HabitRPG/Views/CheckboxView.swift
index 06c7ba482..34c773bc8 100644
--- a/HabitRPG/Views/CheckboxView.swift
+++ b/HabitRPG/Views/CheckboxView.swift
@@ -64,7 +64,7 @@ class CheckboxView: UIView {
     var borderedBox = false
     var dimmOverlayView: UIView = {
         let view = UIView()
-        view.backgroundColor = ThemeService.shared.theme.contentBackgroundColor.withAlphaComponent(0.25)
+        view.backgroundColor = ThemeService.shared.theme.taskOverlayTint
         view.isHidden = true
         view.isUserInteractionEnabled = false
         return view
diff --git a/HabitRPG/Views/EquipmentOverviewItemView.swift b/HabitRPG/Views/EquipmentOverviewItemView.swift
index ae00fc0d2..a769eb1a0 100644
--- a/HabitRPG/Views/EquipmentOverviewItemView.swift
+++ b/HabitRPG/Views/EquipmentOverviewItemView.swift
@@ -71,6 +71,7 @@ class EquipmentOverviewItemView: UIView {
             imageView.setImagewith(name: "shop_\(key)")
             imageView.isHidden = false
             noEquipmentLabel.isHidden = true
+            imageView.backgroundColor = ThemeService.shared.theme.contentBackgroundColor
         } else {
             imageView.isHidden = true
             noEquipmentLabel.isHidden = false
diff --git a/HabitRPG/Views/EquipmentOverviewView.swift b/HabitRPG/Views/EquipmentOverviewView.swift
index 7cae1cc8e..e68e6300b 100644
--- a/HabitRPG/Views/EquipmentOverviewView.swift
+++ b/HabitRPG/Views/EquipmentOverviewView.swift
@@ -114,6 +114,9 @@ class EquipmentOverviewView: UIView {
             addSubview(view)
 
             setupLabels()
+            titleLabel.textColor = ThemeService.shared.theme.primaryTextColor
+            switchLabelView.textColor = ThemeService.shared.theme.secondaryTextColor
+            backgroundColor = ThemeService.shared.theme.contentBackgroundColor
             
             setNeedsUpdateConstraints()
             updateConstraints()
diff --git a/HabitRPG/Views/EquipmentOverviewView.xib b/HabitRPG/Views/EquipmentOverviewView.xib
index 7eed09b4b..854b4f8ac 100644
--- a/HabitRPG/Views/EquipmentOverviewView.xib
+++ b/HabitRPG/Views/EquipmentOverviewView.xib
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14109" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14490.70" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
     <device id="retina4_7" orientation="portrait">
         <adaptation id="fullscreen"/>
     </device>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14088"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14490.49"/>
         <capability name="Safe area layout guides" minToolsVersion="9.0"/>
         <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
@@ -106,7 +106,6 @@
                     </connections>
                 </switch>
             </subviews>
-            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
             <freeformSimulatedSizeMetrics key="simulatedDestinationMetrics"/>
             <viewLayoutGuide key="safeArea" id="vUN-kp-3ea"/>
         </view>
diff --git a/HabitRPG/Views/GemPurchaseView.xib b/HabitRPG/Views/GemPurchaseView.xib
index 18a7d6c83..7ce45ae54 100644
--- a/HabitRPG/Views/GemPurchaseView.xib
+++ b/HabitRPG/Views/GemPurchaseView.xib
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14460.31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14490.70" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
     <device id="retina4_7" orientation="portrait">
         <adaptation id="fullscreen"/>
     </device>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14460.20"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14490.49"/>
         <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
     <objects>
@@ -32,7 +32,6 @@
                     </imageView>
                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="oA3-c2-Kf1" customClass="HRPGPurchaseLoadingButton">
                         <rect key="frame" x="8" y="191" width="274" height="30"/>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                         <constraints>
                             <constraint firstAttribute="height" constant="30" id="9W0-QJ-zlK"/>
                         </constraints>
diff --git a/HabitRPG/Views/HabitButton.swift b/HabitRPG/Views/HabitButton.swift
index 0d74d1b3a..d8dfdd930 100644
--- a/HabitRPG/Views/HabitButton.swift
+++ b/HabitRPG/Views/HabitButton.swift
@@ -17,7 +17,7 @@ class HabitButton: UIView {
     private var isActive = false
     var dimmOverlayView: UIView = {
         let view = UIView()
-        view.backgroundColor = ThemeService.shared.theme.contentBackgroundColor.withAlphaComponent(0.25)
+        view.backgroundColor = ThemeService.shared.theme.taskOverlayTint
         view.isHidden = true
         view.isUserInteractionEnabled = false
         return view
@@ -37,13 +37,13 @@ class HabitButton: UIView {
     
     private func setupView() {
         addSubview(roundedView)
-        addSubview(label)
         roundedView.layer.cornerRadius = buttonSize / 2
         label.contentMode = .center
         label.isUserInteractionEnabled = true
         label.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(handleTap)))
         roundedView.layer.borderWidth = 1
         addSubview(dimmOverlayView)
+        addSubview(label)
     }
     
     func configure(task: TaskProtocol, isNegative: Bool) {
diff --git a/HabitRPG/Views/HabiticaAlertController.swift b/HabitRPG/Views/HabiticaAlertController.swift
index 5d2ed992e..9d860bfd2 100644
--- a/HabitRPG/Views/HabiticaAlertController.swift
+++ b/HabitRPG/Views/HabiticaAlertController.swift
@@ -25,6 +25,7 @@ class HabiticaAlertController: UIViewController, Themeable {
     @IBOutlet weak var scrollviewHeightConstraint: NSLayoutConstraint!
     @IBOutlet weak var buttonBackgroundView: UIView!
     @IBOutlet weak var alertBackgroundView: UIView!
+    @IBOutlet weak var buttonContainerView: UIView!
     
     private var buttonHandlers = [Int: ((UIButton) -> Swift.Void)]()
     private var buttons = [UIButton]()
@@ -42,7 +43,7 @@ class HabiticaAlertController: UIViewController, Themeable {
         }
     }
     
-    var titleBackgroundColor: UIColor = .white {
+    var titleBackgroundColor: UIColor = ThemeService.shared.theme.contentBackgroundColor {
         didSet {
             configureTitleView()
         }
@@ -54,7 +55,7 @@ class HabiticaAlertController: UIViewController, Themeable {
                 return
             }
             attributedMessage = nil
-            titleBackgroundColor = .white
+            titleBackgroundColor = ThemeService.shared.theme.contentBackgroundColor
             configureMessageView()
         }
     }
@@ -65,7 +66,7 @@ class HabiticaAlertController: UIViewController, Themeable {
                 return
             }
             message = nil
-            titleBackgroundColor = .white
+            titleBackgroundColor = ThemeService.shared.theme.contentBackgroundColor
             configureMessageView()
         }
     }
@@ -123,6 +124,7 @@ class HabiticaAlertController: UIViewController, Themeable {
     
     func applyTheme(theme: Theme) {
         view.backgroundColor = theme.backgroundTintColor.darker(by: 50).withAlphaComponent(0.6)
+        buttonContainerView.backgroundColor = theme.contentBackgroundColor
         buttonBackgroundView.backgroundColor = theme.tintColor.withAlphaComponent(0.05)
         alertBackgroundView.backgroundColor = theme.contentBackgroundColor
         closeButton.backgroundColor = theme.contentBackgroundColor
@@ -194,9 +196,8 @@ class HabiticaAlertController: UIViewController, Themeable {
         button.titleLabel?.lineBreakMode = .byWordWrapping
         button.titleLabel?.textAlignment = .center
         button.setTitle(title, for: .normal)
-        button.backgroundColor = UIColor("#F9F7FF")
         if style == .destructive {
-            button.setTitleColor(UIColor.red100(), for: .normal)
+            button.setTitleColor(ThemeService.shared.theme.errorColor, for: .normal)
         } else {
             button.setTitleColor(ThemeService.shared.theme.tintColor, for: .normal)
         }
diff --git a/HabitRPG/Views/HabiticaAlertController.xib b/HabitRPG/Views/HabiticaAlertController.xib
index 8140c698e..e7f813073 100644
--- a/HabitRPG/Views/HabiticaAlertController.xib
+++ b/HabitRPG/Views/HabiticaAlertController.xib
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14460.31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14490.70" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
     <device id="retina5_5" orientation="portrait">
         <adaptation id="fullscreen"/>
     </device>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14460.20"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14490.49"/>
         <capability name="Safe area layout guides" minToolsVersion="9.0"/>
         <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
@@ -16,6 +16,7 @@
                 <outlet property="alertStackView" destination="TfL-K4-Ks4" id="dzH-0N-t5J"/>
                 <outlet property="bottomOffsetConstraint" destination="8EC-pR-IK1" id="Kpa-30-jU0"/>
                 <outlet property="buttonBackgroundView" destination="Iee-IM-xUZ" id="uCp-Mo-9lD"/>
+                <outlet property="buttonContainerView" destination="NTK-Ff-M86" id="pBk-sD-uyG"/>
                 <outlet property="buttonStackView" destination="q8R-qq-vxV" id="E0D-eA-zXr"/>
                 <outlet property="centerConstraint" destination="Ja4-aA-Xor" id="xJm-tB-avg"/>
                 <outlet property="closeButton" destination="TbI-aA-bqR" id="fdb-2o-5FY"/>
@@ -75,7 +76,6 @@
                                                     </constraints>
                                                 </stackView>
                                             </subviews>
-                                            <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
                                             <constraints>
                                                 <constraint firstItem="ZV8-ae-TgB" firstAttribute="leading" secondItem="RtW-7X-FcT" secondAttribute="leading" id="AfP-za-B49"/>
                                                 <constraint firstAttribute="width" priority="500" constant="200" id="FPp-ei-BTt"/>
@@ -90,7 +90,7 @@
                                             <subviews>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="Iee-IM-xUZ">
                                                     <rect key="frame" x="0.0" y="-1" width="300" height="51"/>
-                                                    <color key="backgroundColor" red="0.90620845559999996" green="0.87196010349999997" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                                    <color key="backgroundColor" red="0.37997829910000003" green="0.1982949376" blue="0.70615965130000002" alpha="0.050000000000000003" colorSpace="custom" customColorSpace="sRGB"/>
                                                 </view>
                                                 <stackView opaque="NO" contentMode="scaleToFill" distribution="fillEqually" spacing="1" translatesAutoresizingMaskIntoConstraints="NO" id="q8R-qq-vxV">
                                                     <rect key="frame" x="0.0" y="0.0" width="300" height="50"/>
@@ -99,7 +99,7 @@
                                                     </constraints>
                                                 </stackView>
                                             </subviews>
-                                            <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                             <constraints>
                                                 <constraint firstItem="q8R-qq-vxV" firstAttribute="top" secondItem="NTK-Ff-M86" secondAttribute="top" id="4Bu-qQ-rbV"/>
                                                 <constraint firstItem="Iee-IM-xUZ" firstAttribute="trailing" secondItem="q8R-qq-vxV" secondAttribute="trailing" id="GHX-1j-adW"/>
diff --git a/HabitRPG/Views/Quests/QuestParticipantView.swift b/HabitRPG/Views/Quests/QuestParticipantView.swift
index 1f0a80d08..169f6243d 100644
--- a/HabitRPG/Views/Quests/QuestParticipantView.swift
+++ b/HabitRPG/Views/Quests/QuestParticipantView.swift
@@ -23,7 +23,7 @@ class QuestParticipantView: UIView {
     let usernameLabel: UILabel = {
         let view = UILabel()
         view.font = CustomFontMetrics.scaledSystemFont(ofSize: 14, ofWeight: .medium)
-        view.textColor = UIColor.gray10()
+        view.textColor = ThemeService.shared.theme.primaryTextColor
         return view
     }()
     lazy var invitationLabel: UILabel = {
diff --git a/Habitica.xcodeproj/project.pbxproj b/Habitica.xcodeproj/project.pbxproj
index d739f5e53..ee2dc6319 100644
--- a/Habitica.xcodeproj/project.pbxproj
+++ b/Habitica.xcodeproj/project.pbxproj
@@ -258,6 +258,8 @@
 		29A6B86220641FEA0086B2A6 /* TaskDifficultyCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 29A6B86120641FEA0086B2A6 /* TaskDifficultyCell.xib */; };
 		29A6B86420644BFE0086B2A6 /* WeekdayFormCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 29A6B86320644BFE0086B2A6 /* WeekdayFormCell.xib */; };
 		29A6B86620644CA40086B2A6 /* WeekdayFormCell.swift in Sources */ = {isa = PBXBuildFile; fileRef = 29A6B86520644CA40086B2A6 /* WeekdayFormCell.swift */; };
+		29A9B0552280825A0049291E /* BaseUIViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 29A9B0542280825A0049291E /* BaseUIViewController.swift */; };
+		29A9B057228082BF0049291E /* BaseCollectionViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 29A9B056228082BF0049291E /* BaseCollectionViewController.swift */; };
 		29AAA15D1F2A3AA600029737 /* GradientView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 29AAA15C1F2A3AA600029737 /* GradientView.swift */; };
 		29AAA15F1F2B596900029737 /* SpeechbubbleView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 29AAA15E1F2B596900029737 /* SpeechbubbleView.swift */; };
 		29AAA1611F2B597400029737 /* SpeechbubbleView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 29AAA1601F2B597400029737 /* SpeechbubbleView.xib */; };
@@ -853,6 +855,8 @@
 		29A6B86120641FEA0086B2A6 /* TaskDifficultyCell.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = TaskDifficultyCell.xib; sourceTree = "<group>"; };
 		29A6B86320644BFE0086B2A6 /* WeekdayFormCell.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = WeekdayFormCell.xib; sourceTree = "<group>"; };
 		29A6B86520644CA40086B2A6 /* WeekdayFormCell.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = WeekdayFormCell.swift; sourceTree = "<group>"; };
+		29A9B0542280825A0049291E /* BaseUIViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = BaseUIViewController.swift; sourceTree = "<group>"; };
+		29A9B056228082BF0049291E /* BaseCollectionViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = BaseCollectionViewController.swift; sourceTree = "<group>"; };
 		29AAA15C1F2A3AA600029737 /* GradientView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = GradientView.swift; sourceTree = "<group>"; };
 		29AAA15E1F2B596900029737 /* SpeechbubbleView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SpeechbubbleView.swift; sourceTree = "<group>"; };
 		29AAA1601F2B597400029737 /* SpeechbubbleView.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; path = SpeechbubbleView.xib; sourceTree = "<group>"; };
@@ -1378,7 +1382,10 @@
 				29C1B6AA20594F500001D3EF /* VisualEffectsModalViewController.swift */,
 				299FB2A02084A93100422522 /* HabiticaSplitViewController.swift */,
 				2908D8732232D45D00DDECA1 /* BaseTableViewController.swift */,
+				29A9B0542280825A0049291E /* BaseUIViewController.swift */,
+				29A9B056228082BF0049291E /* BaseCollectionViewController.swift */,
 				295BC6E3226F0F9500DDDF1A /* NotificationsTableViewController.swift */,
+				D96BFC4D1E181B5500266EEF /* Intro */,
 			);
 			path = General;
 			sourceTree = "<group>";
@@ -2194,7 +2201,6 @@
 				D9E02EC41E5E02E7002CFCE2 /* Challenges */,
 				290279612057EBE9006DACB9 /* FAQ */,
 				290B62A0207F814D007287C4 /* General */,
-				D96BFC4D1E181B5500266EEF /* Intro */,
 				290B629F207F8140007287C4 /* Inventory */,
 				D9A63A371E104F6C0083ADC4 /* Login */,
 				D984D5871E49F9D9006E84F8 /* Purchases */,
@@ -3303,6 +3309,7 @@
 				290922F02242628600645D0E /* LanguageHandler.swift in Sources */,
 				D97C71E418ECE09A0089FDC6 /* HRPGSpellViewController.m in Sources */,
 				2986EB0B1FCC63F900B316F6 /* AttributePointsViewController.swift in Sources */,
+				29A9B0552280825A0049291E /* BaseUIViewController.swift in Sources */,
 				49DCECA91F96F8DE00982E99 /* ChallengeDetailViewModel.swift in Sources */,
 				29A62B012167D55200D4BD90 /* VerifyUsernameModalViewController.swift in Sources */,
 				2919FDD52090CF900096A53B /* InboxMessagesDataSource.swift in Sources */,
@@ -3476,6 +3483,7 @@
 				29FC88562017B840002B3D3F /* CollapsibleTitle.swift in Sources */,
 				290B62A2207F816B007287C4 /* ItemsViewController.swift in Sources */,
 				296D6F1D20A0908B00D9CAB5 /* PartyQuestView.swift in Sources */,
+				29A9B057228082BF0049291E /* BaseCollectionViewController.swift in Sources */,
 				298119AB1F50251300F9FB39 /* InventoryRepository.swift in Sources */,
 				29E162E5200227AA00685640 /* HRPGUIViewController.m in Sources */,
 				D9A28F721B08DF58002907E0 /* HRPGPurchaseButton.m in Sources */,
