diff --git a/api/res/values/strings.xml b/api/res/values/strings.xml
index 5de948dc0c..eb73c53de3 100644
--- a/api/res/values/strings.xml
+++ b/api/res/values/strings.xml
@@ -106,6 +106,9 @@
   <!-- error dialog title -->
   <string name="DLG_error_title">Error!</string>
   
+  <!-- general dialog save-->
+  <string name="DLG_save">Save</string>
+  
   <!-- general dialog yes-->
   <string name="DLG_yes">Yes</string>
   
diff --git a/api/src/com/todoroo/astrid/data/Task.java b/api/src/com/todoroo/astrid/data/Task.java
index 7388c20993..c62b610dbc 100644
--- a/api/src/com/todoroo/astrid/data/Task.java
+++ b/api/src/com/todoroo/astrid/data/Task.java
@@ -323,9 +323,10 @@ public boolean getFlag(IntegerProperty property, int flag) {
     public static final int URGENCY_TOMORROW = 2;
     public static final int URGENCY_DAY_AFTER = 3;
     public static final int URGENCY_NEXT_WEEK = 4;
-    public static final int URGENCY_NEXT_MONTH = 5;
-    public static final int URGENCY_SPECIFIC_DAY = 6;
-    public static final int URGENCY_SPECIFIC_DAY_TIME = 7;
+    public static final int URGENCY_IN_TWO_WEEKS = 5;
+    public static final int URGENCY_NEXT_MONTH = 6;
+    public static final int URGENCY_SPECIFIC_DAY = 7;
+    public static final int URGENCY_SPECIFIC_DAY_TIME = 8;
 
     /** hide until array index -> significance */
     public static final int HIDE_UNTIL_NONE = 0;
@@ -344,7 +345,7 @@ public boolean getFlag(IntegerProperty property, int flag) {
      * @param customDate
      *            if specific day or day & time is set, this value
      */
-    public long createDueDate(int setting, long customDate) {
+    public static long createDueDate(int setting, long customDate) {
         long date;
 
         switch(setting) {
@@ -363,6 +364,9 @@ public long createDueDate(int setting, long customDate) {
         case URGENCY_NEXT_WEEK:
             date = DateUtilities.now() + DateUtilities.ONE_WEEK;
             break;
+        case URGENCY_IN_TWO_WEEKS:
+            date = DateUtilities.now() + 2 * DateUtilities.ONE_WEEK;
+            break;
         case URGENCY_NEXT_MONTH:
             date = DateUtilities.oneMonthFromNow();
             break;
@@ -455,7 +459,7 @@ public boolean hasDueTime() {
      * Checks whether provided due date has a due time or only a date
      */
     public static boolean hasDueTime(long dueDate) {
-        return !isEndOfDay(new Date(dueDate));
+        return dueDate > 0 && !isEndOfDay(new Date(dueDate));
     }
 
 }
diff --git a/astrid/AndroidManifest.xml b/astrid/AndroidManifest.xml
index d4d9cc6aa4..398516bb70 100644
--- a/astrid/AndroidManifest.xml
+++ b/astrid/AndroidManifest.xml
@@ -433,9 +433,6 @@
     <activity android:name="com.todoroo.astrid.actfm.TagViewActivity"
               android:windowSoftInputMode="stateHidden"
               android:theme="@style/Theme" />
-    <activity android:name="com.todoroo.astrid.actfm.EditPeopleActivity"
-              android:windowSoftInputMode="stateHidden"
-              android:theme="@style/Theme" />            
     <receiver android:name="com.todoroo.astrid.actfm.EditPeopleExposer">
       <intent-filter>
         <action android:name="com.todoroo.astrid.REQUEST_ACTIONS" />
diff --git a/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleActivity.java b/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleControlSet.java
similarity index 71%
rename from astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleActivity.java
rename to astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleControlSet.java
index 6156b9b83f..0f73d4f223 100644
--- a/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleActivity.java
+++ b/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleControlSet.java
@@ -13,7 +13,6 @@
 import android.app.ProgressDialog;
 import android.content.Intent;
 import android.graphics.Color;
-import android.os.Bundle;
 import android.text.TextUtils;
 import android.view.View;
 import android.view.View.OnClickListener;
@@ -37,6 +36,7 @@
 import com.todoroo.astrid.actfm.sync.ActFmPreferenceService;
 import com.todoroo.astrid.actfm.sync.ActFmSyncService;
 import com.todoroo.astrid.actfm.sync.ActFmSyncService.JsonHelper;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
 import com.todoroo.astrid.api.AstridApiConstants;
 import com.todoroo.astrid.dao.MetadataDao.MetadataCriteria;
 import com.todoroo.astrid.data.Metadata;
@@ -47,18 +47,15 @@
 import com.todoroo.astrid.service.StatisticsService;
 import com.todoroo.astrid.service.TagDataService;
 import com.todoroo.astrid.service.TaskService;
-import com.todoroo.astrid.service.ThemeService;
 import com.todoroo.astrid.tags.TagService;
 import com.todoroo.astrid.ui.PeopleContainer;
 import com.todoroo.astrid.ui.PeopleContainer.OnAddNewPersonListener;
 import com.todoroo.astrid.utility.Flags;
 
-public class EditPeopleActivity extends Activity {
+public class EditPeopleControlSet implements TaskEditControlSet {
 
     public static final String EXTRA_TASK_ID = "task"; //$NON-NLS-1$
 
-    private static final int REQUEST_LOG_IN = 0;
-
     private Task task;
 
     private final ArrayList<Metadata> nonSharedTags = new ArrayList<Metadata>();
@@ -87,41 +84,39 @@ public class EditPeopleActivity extends Activity {
 
     private final ArrayList<AssignedToUser> spinnerValues = new ArrayList<AssignedToUser>();
 
+    private Activity activity;
+
+    private String saveToast = null;
+
+    private int loginRequestCode;
+
     static {
         AstridDependencyInjector.initialize();
     }
 
-    public EditPeopleActivity() {
+    public EditPeopleControlSet() {
         DependencyInjectionService.getInstance().inject(this);
     }
 
     // --- UI initialization
 
-    @Override
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-
-        setContentView(R.layout.edit_people_activity);
-        setTitle(getString(R.string.actfm_EPA_title));
-        ThemeService.applyTheme(this);
-
-        task = taskService.fetchById(
-                getIntent().getLongExtra(EXTRA_TASK_ID, 41L), Task.ID, Task.REMOTE_ID,
-                Task.TITLE, Task.USER, Task.USER_ID, Task.SHARED_WITH, Task.FLAGS);
-        if(task == null) {
-            finish();
-            return;
-        }
+    public EditPeopleControlSet(Activity activity, int loginRequestCode) {
+        this.activity = activity;
+        this.loginRequestCode = loginRequestCode;
 
-        ((TextView) findViewById(R.id.title)).setText(task.getValue(Task.TITLE));
-        sharedWithContainer = (PeopleContainer) findViewById(R.id.share_container);
-        assignedCustom = (EditText) findViewById(R.id.assigned_custom);
-        assignedSpinner = (Spinner) findViewById(R.id.assigned_spinner);
-        cbFacebook = (CheckBox) findViewById(R.id.checkbox_facebook);
-        cbTwitter = (CheckBox) findViewById(R.id.checkbox_twitter);
+        sharedWithContainer = (PeopleContainer) activity.findViewById(R.id.share_container);
+        assignedCustom = (EditText) activity.findViewById(R.id.assigned_custom);
+        assignedSpinner = (Spinner) activity.findViewById(R.id.assigned_spinner);
+        cbFacebook = (CheckBox) activity.findViewById(R.id.checkbox_facebook);
+        cbTwitter = (CheckBox) activity.findViewById(R.id.checkbox_twitter);
 
         sharedWithContainer.addPerson(""); //$NON-NLS-1$
         setUpListeners();
+    }
+
+    @Override
+    public void readFromTask(Task sourceTask) {
+        task = sourceTask;
         setUpData();
     }
 
@@ -159,7 +154,7 @@ public void run() {
                             final String tag = metadata.getValue(TagService.TAG);
                             TagData tagData = tagDataService.getTag(tag, TagData.MEMBER_COUNT, TagData.MEMBERS, TagData.USER);
                             if(tagData != null && tagData.getValue(TagData.MEMBER_COUNT) > 0) {
-                                runOnUiThread(new Runnable() {
+                                activity.runOnUiThread(new Runnable() {
                                     @Override
                                     public void run() {
                                         TextView textView = sharedWithContainer.addPerson("#" + tag);
@@ -238,7 +233,7 @@ private void buildAssignedToSpinner(ArrayList<JSONObject> sharedPeople) throws J
 
             String name = person.optString("name");
             if(id == 0)
-                name = getString(R.string.actfm_EPA_assign_me);
+                name = activity.getString(R.string.actfm_EPA_assign_me);
             AssignedToUser atu = new AssignedToUser(name, person);
             spinnerValues.add(atu);
             if(names.containsKey(name)) {
@@ -258,13 +253,13 @@ private void buildAssignedToSpinner(ArrayList<JSONObject> sharedPeople) throws J
                 names.put(name, atu);
         }
 
-        spinnerValues.add(new AssignedToUser(getString(R.string.actfm_EPA_assign_custom), null));
+        spinnerValues.add(new AssignedToUser(activity.getString(R.string.actfm_EPA_assign_custom), null));
 
-        final ArrayAdapter<AssignedToUser> usersAdapter = new ArrayAdapter<AssignedToUser>(this,
+        final ArrayAdapter<AssignedToUser> usersAdapter = new ArrayAdapter<AssignedToUser>(activity,
                 android.R.layout.simple_spinner_item, spinnerValues);
         usersAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
 
-        runOnUiThread(new Runnable() {
+        activity.runOnUiThread(new Runnable() {
             @Override
             public void run() {
                 assignedSpinner.setAdapter(usersAdapter);
@@ -273,7 +268,7 @@ public void run() {
     }
 
     private void setUpListeners() {
-        final View assignedClear = findViewById(R.id.assigned_clear);
+        final View assignedClear = activity.findViewById(R.id.assigned_clear);
 
         assignedSpinner.setOnItemSelectedListener(new OnItemSelectedListener() {
             @Override
@@ -291,20 +286,6 @@ public void onNothingSelected(AdapterView<?> arg0) {
                 //
             }
         });
-        findViewById(R.id.discard).setOnClickListener(new OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                finish();
-            }
-        });
-        findViewById(R.id.discard).requestFocus();
-
-        findViewById(R.id.save).setOnClickListener(new OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                save();
-            }
-        });
 
         assignedClear.setOnClickListener(new OnClickListener() {
             @Override
@@ -320,10 +301,10 @@ public void onClick(View v) {
         sharedWithContainer.setOnAddNewPerson(new OnAddNewPersonListener() {
             @Override
             public void textChanged(String text) {
-                findViewById(R.id.share_additional).setVisibility(View.VISIBLE);
+                activity.findViewById(R.id.share_additional).setVisibility(View.VISIBLE);
                 if(text.indexOf('@') > -1) {
-                    findViewById(R.id.tag_label).setVisibility(View.VISIBLE);
-                    findViewById(R.id.tag_name).setVisibility(View.VISIBLE);
+                    activity.findViewById(R.id.tag_label).setVisibility(View.VISIBLE);
+                    activity.findViewById(R.id.tag_name).setVisibility(View.VISIBLE);
                 }
             }
         });
@@ -331,48 +312,71 @@ public void textChanged(String text) {
 
     // --- events
 
-    /** Save sharing settings */
-    @SuppressWarnings("nls")
-    private void save() {
-        if(!actFmPreferenceService.isLoggedIn()) {
-            startActivityForResult(new Intent(this, ActFmLoginActivity.class),
-                    REQUEST_LOG_IN);
-            return;
-        }
+    @Override
+    public String writeToModel(Task model) {
+        // do nothing, we use a separate method
+        return null;
+    }
 
-        setResult(RESULT_OK);
-        Flags.set(Flags.REFRESH);
+    /**
+     * Save sharing settings
+     * @param toast toast to show after saving is finished
+     * @return false if login is required & save should be halted
+     */
+    @SuppressWarnings("nls")
+    public boolean saveSharingSettings(String toast) {
+        saveToast = toast;
+        boolean dirty = false;
         try {
             JSONObject userJson;
             if(assignedCustom.getVisibility() == View.VISIBLE)
                 userJson = PeopleContainer.createUserJson(assignedCustom);
             else
                 userJson = ((AssignedToUser) assignedSpinner.getSelectedItem()).user;
+
             if(userJson == null || userJson.optLong("id", -1) == 0) {
+                dirty = task.getValue(Task.USER_ID) == 0L ? dirty : true;
                 task.setValue(Task.USER_ID, 0L);
                 task.setValue(Task.USER, "{}");
             } else {
+                String user = userJson.toString();
+                dirty = task.getValue(Task.USER).equals(user) ? dirty : true;
                 task.setValue(Task.USER_ID, userJson.optLong("id", -1));
-                task.setValue(Task.USER, userJson.toString());
+                task.setValue(Task.USER, user);
             }
 
-            ArrayList<Metadata> metadata = new ArrayList<Metadata>(nonSharedTags);
-            JSONObject sharedWith = parseSharedWithAndTags(metadata);
+            JSONObject sharedWith = parseSharedWithAndTags();
+            dirty = sharedWith.has("p");
             task.setValue(Task.SHARED_WITH, sharedWith.toString());
 
-            metadataService.synchronizeMetadata(task.getId(), metadata, MetadataCriteria.withKey(TagService.KEY));
+            if(dirty)
+                taskService.save(task);
+
+            if(dirty && !actFmPreferenceService.isLoggedIn()) {
+                activity.startActivityForResult(new Intent(activity, ActFmLoginActivity.class),
+                        loginRequestCode);
+                return false;
+            }
+
+            if(dirty)
+                shareTask(sharedWith);
+            else
+                showSaveToast();
 
-            Flags.set(Flags.SUPPRESS_SYNC);
-            taskService.save(task);
-            shareTask(sharedWith, metadata);
+            return true;
         } catch (JSONException e) {
-            exceptionService.displayAndReportError(this, "save-people", e);
+            exceptionService.displayAndReportError(activity, "save-people", e);
         } catch (ParseSharedException e) {
             e.view.setTextColor(Color.RED);
             e.view.requestFocus();
-            System.err.println(e.message);
-            DialogUtilities.okDialog(this, e.message, null);
+            DialogUtilities.okDialog(activity, e.message, null);
         }
+        return false;
+    }
+
+    private void showSaveToast() {
+        int length = saveToast.indexOf('\n') > -1 ? Toast.LENGTH_LONG : Toast.LENGTH_SHORT;
+        Toast.makeText(activity, saveToast, length).show();
     }
 
     private class ParseSharedException extends Exception {
@@ -387,7 +391,7 @@ public ParseSharedException(TextView view, String message) {
     }
 
     @SuppressWarnings("nls")
-    private JSONObject parseSharedWithAndTags(ArrayList<Metadata> metadata) throws
+    private JSONObject parseSharedWithAndTags() throws
             JSONException, ParseSharedException {
         JSONObject sharedWith = new JSONObject();
         if(cbFacebook.isChecked())
@@ -398,41 +402,29 @@ private JSONObject parseSharedWithAndTags(ArrayList<Metadata> metadata) throws
         JSONArray peopleList = new JSONArray();
         for(int i = 0; i < sharedWithContainer.getChildCount(); i++) {
             TextView textView = sharedWithContainer.getTextView(i);
-            textView.setTextAppearance(this, android.R.style.TextAppearance_Medium_Inverse);
+            textView.setTextAppearance(activity, android.R.style.TextAppearance_Medium_Inverse);
             String text = textView.getText().toString();
 
             if(text.length() == 0)
                 continue;
-            if(text.startsWith("#")) {
-                text = text.substring(1);
-                TagData tagData = tagDataService.getTag(text, TagData.REMOTE_ID);
-                if(tagData == null)
-                    throw new ParseSharedException(textView,
-                            getString(R.string.actfm_EPA_invalid_tag, text));
-                Metadata tag = new Metadata();
-                tag.setValue(Metadata.KEY, TagService.KEY);
-                tag.setValue(TagService.TAG, text);
-                tag.setValue(TagService.REMOTE_ID, tagData.getValue(TagData.REMOTE_ID));
-                metadata.add(tag);
 
-            } else {
-                if(text.indexOf('@') == -1)
-                    throw new ParseSharedException(textView,
-                            getString(R.string.actfm_EPA_invalid_email, text));
-                peopleList.put(text);
-            }
+            if(text.indexOf('@') == -1)
+                throw new ParseSharedException(textView,
+                        activity.getString(R.string.actfm_EPA_invalid_email, text));
+            peopleList.put(text);
         }
-        sharedWith.put("p", peopleList);
+        if(peopleList.length() > 0)
+            sharedWith.put("p", peopleList);
 
         return sharedWith;
     }
 
     @SuppressWarnings("nls")
-    private void shareTask(final JSONObject sharedWith, final ArrayList<Metadata> metadata) {
+    private void shareTask(final JSONObject sharedWith) {
         final JSONArray emails = sharedWith.optJSONArray("p");
 
-        final ProgressDialog pd = DialogUtilities.progressDialog(this,
-                getString(R.string.DLG_please_wait));
+        final ProgressDialog pd = DialogUtilities.progressDialog(activity,
+                activity.getString(R.string.DLG_please_wait));
         new Thread() {
             @Override
             public void run() {
@@ -444,12 +436,12 @@ public void run() {
                                 Task.REMOTE_ID).getValue(Task.REMOTE_ID));
                     }
                     if(task.getValue(Task.REMOTE_ID) == 0) {
-                        DialogUtilities.okDialog(EditPeopleActivity.this, "We had an error saving " +
+                        DialogUtilities.okDialog(activity, "We had an error saving " +
                                 "this task to Astrid.com. Could you let us know why this happened?", null);
                         return;
                     }
 
-                    Object[] args = buildSharingArgs(emails, metadata);
+                    Object[] args = buildSharingArgs(emails);
                     JSONObject result = invoker.invoke("task_share", args);
 
                     sharedWith.remove("p");
@@ -463,31 +455,32 @@ public void run() {
                     taskService.save(task);
 
                     int count = result.optInt("shared", 0);
-                    final String toast;
                     if(count > 0) {
-                        toast = getString(R.string.actfm_EPA_emailed_toast,
-                            getResources().getQuantityString(R.plurals.Npeople, count, count));
+                        saveToast += "\n" +
+                            activity.getString(R.string.actfm_EPA_emailed_toast,
+                            activity.getResources().getQuantityString(R.plurals.Npeople, count, count));
                         StatisticsService.reportEvent("actfm-task-shared"); //$NON-NLS-1$
-                    } else
-                        toast = getString(R.string.actfm_EPA_saved_toast);
+                    }
 
                     Intent broadcastIntent = new Intent(AstridApiConstants.BROADCAST_EVENT_REFRESH);
                     ContextManager.getContext().sendBroadcast(broadcastIntent, AstridApiConstants.PERMISSION_READ);
 
-                    runOnUiThread(new Runnable() {
+                    activity.runOnUiThread(new Runnable() {
                         public void run() {
-                            Toast.makeText(EditPeopleActivity.this, toast, Toast.LENGTH_LONG).show();
-                            finish();
+                            showSaveToast();
+                            activity.finish();
                         }
                     });
                 } catch (IOException e) {
-                    DialogUtilities.okDialog(EditPeopleActivity.this, getString(R.string.SyP_ioerror),
+                    DialogUtilities.okDialog(activity,
+                            activity.getString(R.string.SyP_ioerror),
                             android.R.drawable.ic_dialog_alert, e.toString(), null);
                 } catch (JSONException e) {
-                    DialogUtilities.okDialog(EditPeopleActivity.this, getString(R.string.SyP_ioerror),
+                    DialogUtilities.okDialog(activity,
+                            activity.getString(R.string.SyP_ioerror),
                             android.R.drawable.ic_dialog_alert, e.toString(), null);
                 } finally {
-                    runOnUiThread(new Runnable() {
+                    activity.runOnUiThread(new Runnable() {
                         public void run() {
                             pd.dismiss();
                         }
@@ -520,30 +513,19 @@ private void readTagData(JSONArray tags) throws JSONException {
     }
 
     @SuppressWarnings("nls")
-    protected Object[] buildSharingArgs(JSONArray emails, ArrayList<Metadata>
-            tags) throws JSONException {
+    protected Object[] buildSharingArgs(JSONArray emails) throws JSONException {
         ArrayList<Object> values = new ArrayList<Object>();
         long currentTaskID = task.getValue(Task.REMOTE_ID);
         values.add("id");
         values.add(currentTaskID);
 
-        for(int i = 0; i < emails.length(); i++) {
-            String email = emails.optString(i);
-            if(email == null || email.indexOf('@') == -1)
-                continue;
-            values.add("emails[]");
-            values.add(email);
-        }
-
-        for(int i = 0; i < tags.size(); i++) {
-            Metadata tag = tags.get(i);
-            if(tag.containsNonNullValue(TagService.REMOTE_ID) &&
-                    tag.getValue(TagService.REMOTE_ID) > 0) {
-                values.add("tag_ids[]");
-                values.add(tag.getValue(TagService.REMOTE_ID));
-            } else {
-                values.add("tags[]");
-                values.add(tag.getValue(TagService.TAG));
+        if(emails != null) {
+            for(int i = 0; i < emails.length(); i++) {
+                String email = emails.optString(i);
+                if(email == null || email.indexOf('@') == -1)
+                    continue;
+                values.add("emails[]");
+                values.add(email);
             }
         }
 
@@ -559,13 +541,13 @@ protected Object[] buildSharingArgs(JSONArray emails, ArrayList<Metadata>
             }
         }
 
-        String message = ((TextView) findViewById(R.id.message)).getText().toString();
-        if(!TextUtils.isEmpty(message) && findViewById(R.id.share_additional).getVisibility() == View.VISIBLE) {
+        String message = ((TextView) activity.findViewById(R.id.message)).getText().toString();
+        if(!TextUtils.isEmpty(message) && activity.findViewById(R.id.share_additional).getVisibility() == View.VISIBLE) {
             values.add("message");
             values.add(message);
         }
 
-        String tag = ((TextView) findViewById(R.id.tag_name)).getText().toString();
+        String tag = ((TextView) activity.findViewById(R.id.tag_name)).getText().toString();
         if(!TextUtils.isEmpty(tag)) {
             values.add("tag");
             values.add(tag);
@@ -574,14 +556,12 @@ protected Object[] buildSharingArgs(JSONArray emails, ArrayList<Metadata>
         return values.toArray(new Object[values.size()]);
     }
 
-    @Override
-    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-        if(requestCode == REQUEST_LOG_IN) {
-            if(resultCode == RESULT_OK)
-                save();
-            return;
+    /** Resume save
+     * @param data */
+    public void onActivityResult(int requestCode, int resultCode, Intent data) {
+        if(requestCode == loginRequestCode) {
+            if(resultCode == Activity.RESULT_OK)
+                saveSharingSettings(saveToast);
         }
-
-        super.onActivityResult(requestCode, resultCode, data);
     }
 }
diff --git a/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleExposer.java b/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleExposer.java
index be4d310b1c..60da37ea21 100644
--- a/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleExposer.java
+++ b/astrid/plugin-src/com/todoroo/astrid/actfm/EditPeopleExposer.java
@@ -11,6 +11,7 @@
 import com.timsu.astrid.R;
 import com.todoroo.andlib.service.ContextManager;
 import com.todoroo.astrid.actfm.sync.ActFmPreferenceService;
+import com.todoroo.astrid.activity.TaskEditActivity;
 import com.todoroo.astrid.api.AstridApiConstants;
 import com.todoroo.astrid.api.TaskAction;
 import com.todoroo.astrid.api.TaskDecoration;
@@ -53,8 +54,9 @@ public void onReceive(Context context, Intent intent) {
             broadcastIntent.putExtra(AstridApiConstants.EXTRAS_TASK_ID, taskId);
             context.sendBroadcast(broadcastIntent, AstridApiConstants.PERMISSION_READ);
         } else if(ACTION.equals(intent.getAction())) {
-            Intent launchIntent = new Intent(context, EditPeopleActivity.class);
-            launchIntent.putExtra(EditPeopleActivity.EXTRA_TASK_ID, taskId);
+            Intent launchIntent = new Intent(context, TaskEditActivity.class);
+            launchIntent.putExtra(TaskEditActivity.TOKEN_ID, taskId);
+            launchIntent.putExtra(TaskEditActivity.TOKEN_TAB, TaskEditActivity.TAB_SHARE);
             launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
             ContextManager.getContext().startActivity(launchIntent);
         }
diff --git a/astrid/res/drawable-hdpi/gl_alarm.png b/astrid/res/drawable-hdpi/gl_alarm.png
new file mode 100644
index 0000000000..96bdaacabe
Binary files /dev/null and b/astrid/res/drawable-hdpi/gl_alarm.png differ
diff --git a/astrid/res/drawable-hdpi/gl_group.png b/astrid/res/drawable-hdpi/gl_group.png
new file mode 100644
index 0000000000..16fea1739d
Binary files /dev/null and b/astrid/res/drawable-hdpi/gl_group.png differ
diff --git a/astrid/res/drawable-hdpi/gl_more.png b/astrid/res/drawable-hdpi/gl_more.png
new file mode 100644
index 0000000000..3ae21febc1
Binary files /dev/null and b/astrid/res/drawable-hdpi/gl_more.png differ
diff --git a/astrid/res/drawable-hdpi/gl_pencil.png b/astrid/res/drawable-hdpi/gl_pencil.png
new file mode 100644
index 0000000000..01823c89e7
Binary files /dev/null and b/astrid/res/drawable-hdpi/gl_pencil.png differ
diff --git a/astrid/res/drawable/btn_check_small.xml b/astrid/res/drawable/btn_check_small.xml
new file mode 100644
index 0000000000..3ff6790bec
--- /dev/null
+++ b/astrid/res/drawable/btn_check_small.xml
@@ -0,0 +1,35 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2008 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <!-- Enabled states -->
+        
+    <item android:state_checked="true" android:state_pressed="true"
+          android:state_enabled="true"
+          android:drawable="@android:drawable/checkbox_off_background" />
+    <item android:state_checked="false" android:state_pressed="true"
+          android:state_enabled="true"
+          android:drawable="@android:drawable/checkbox_on_background" />
+
+    <item android:state_checked="false"
+          android:state_enabled="true"
+          android:drawable="@android:drawable/checkbox_off_background" />
+    <item android:state_checked="true"
+          android:state_enabled="true"
+          android:drawable="@android:drawable/checkbox_on_background" />
+
+</selector>
diff --git a/astrid/res/drawable/btn_dismiss.xml b/astrid/res/drawable/btn_dismiss.xml
new file mode 100644
index 0000000000..78deabd1c6
--- /dev/null
+++ b/astrid/res/drawable/btn_dismiss.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2008 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <item android:state_pressed="true"
+          android:drawable="@drawable/btn_dismiss_pressed" />
+    <item android:drawable="@drawable/btn_dismiss_normal" />
+
+</selector>
diff --git a/astrid/res/drawable/btn_dismiss_normal.png b/astrid/res/drawable/btn_dismiss_normal.png
new file mode 100644
index 0000000000..17e7ea7581
Binary files /dev/null and b/astrid/res/drawable/btn_dismiss_normal.png differ
diff --git a/astrid/res/drawable/btn_dismiss_pressed.png b/astrid/res/drawable/btn_dismiss_pressed.png
new file mode 100644
index 0000000000..aa6317fb19
Binary files /dev/null and b/astrid/res/drawable/btn_dismiss_pressed.png differ
diff --git a/astrid/res/drawable/btn_selected.9.png b/astrid/res/drawable/btn_selected.9.png
index bd7dc14728..ec0bb39990 100644
Binary files a/astrid/res/drawable/btn_selected.9.png and b/astrid/res/drawable/btn_selected.9.png differ
diff --git a/astrid/res/drawable/footer_greenbtn.xml b/astrid/res/drawable/footer_greenbtn.xml
new file mode 100644
index 0000000000..4a4d650f31
--- /dev/null
+++ b/astrid/res/drawable/footer_greenbtn.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2008 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <item android:state_pressed="true"
+          android:drawable="@drawable/footer_greenbtn_pressed" />
+    <item android:drawable="@drawable/footer_greenbtn_normal" />
+
+</selector>
diff --git a/astrid/res/drawable/footer_greenbtn_normal.9.png b/astrid/res/drawable/footer_greenbtn_normal.9.png
new file mode 100644
index 0000000000..5430ca7a07
Binary files /dev/null and b/astrid/res/drawable/footer_greenbtn_normal.9.png differ
diff --git a/astrid/res/drawable/footer_greenbtn_pressed.9.png b/astrid/res/drawable/footer_greenbtn_pressed.9.png
new file mode 100644
index 0000000000..b8a0e1a41f
Binary files /dev/null and b/astrid/res/drawable/footer_greenbtn_pressed.9.png differ
diff --git a/astrid/res/drawable/footer_redbtn.xml b/astrid/res/drawable/footer_redbtn.xml
new file mode 100644
index 0000000000..937e5e5582
--- /dev/null
+++ b/astrid/res/drawable/footer_redbtn.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2008 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <item android:state_pressed="true"
+          android:drawable="@drawable/footer_redbtn_pressed" />
+    <item android:drawable="@drawable/footer_redbtn_normal" />
+
+</selector>
diff --git a/astrid/res/drawable/footer_redbtn_normal.9.png b/astrid/res/drawable/footer_redbtn_normal.9.png
new file mode 100644
index 0000000000..5b76d996d2
Binary files /dev/null and b/astrid/res/drawable/footer_redbtn_normal.9.png differ
diff --git a/astrid/res/drawable/footer_redbtn_pressed.9.png b/astrid/res/drawable/footer_redbtn_pressed.9.png
new file mode 100644
index 0000000000..20e137bd11
Binary files /dev/null and b/astrid/res/drawable/footer_redbtn_pressed.9.png differ
diff --git a/astrid/res/drawable/gl_alarm.png b/astrid/res/drawable/gl_alarm.png
new file mode 100644
index 0000000000..5d480ed182
Binary files /dev/null and b/astrid/res/drawable/gl_alarm.png differ
diff --git a/astrid/res/drawable/gl_date.png b/astrid/res/drawable/gl_date.png
new file mode 100644
index 0000000000..393c94ef1d
Binary files /dev/null and b/astrid/res/drawable/gl_date.png differ
diff --git a/astrid/res/drawable/gl_date_blue.png b/astrid/res/drawable/gl_date_blue.png
new file mode 100644
index 0000000000..c893e1e131
Binary files /dev/null and b/astrid/res/drawable/gl_date_blue.png differ
diff --git a/astrid/res/drawable/gl_group.png b/astrid/res/drawable/gl_group.png
new file mode 100644
index 0000000000..a75cb3dbca
Binary files /dev/null and b/astrid/res/drawable/gl_group.png differ
diff --git a/astrid/res/drawable/gl_more.png b/astrid/res/drawable/gl_more.png
new file mode 100644
index 0000000000..5964400990
Binary files /dev/null and b/astrid/res/drawable/gl_more.png differ
diff --git a/astrid/res/drawable/gl_pencil.png b/astrid/res/drawable/gl_pencil.png
new file mode 100644
index 0000000000..d37b765be0
Binary files /dev/null and b/astrid/res/drawable/gl_pencil.png differ
diff --git a/astrid/res/drawable/gl_time.png b/astrid/res/drawable/gl_time.png
new file mode 100644
index 0000000000..7ae4f8fbd5
Binary files /dev/null and b/astrid/res/drawable/gl_time.png differ
diff --git a/astrid/res/drawable/gl_time_blue.png b/astrid/res/drawable/gl_time_blue.png
new file mode 100644
index 0000000000..9813fca542
Binary files /dev/null and b/astrid/res/drawable/gl_time_blue.png differ
diff --git a/astrid/res/drawable/green_button_gradient.xml b/astrid/res/drawable/green_button_gradient.xml
new file mode 100644
index 0000000000..40fc848737
--- /dev/null
+++ b/astrid/res/drawable/green_button_gradient.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+  <gradient
+      android:startColor="#008d43"
+      android:endColor="#00522b"/>
+</shape>
diff --git a/astrid/res/layout/alarm_edit_row.xml b/astrid/res/layout/alarm_edit_row.xml
index 920e79fee7..7b51c49115 100644
--- a/astrid/res/layout/alarm_edit_row.xml
+++ b/astrid/res/layout/alarm_edit_row.xml
@@ -30,13 +30,10 @@
         android:layout_height="wrap_content"/>
         
     <ImageButton android:id="@+id/button1"
-        style="?android:attr/buttonStyleInset"
-        android:src="@android:drawable/ic_delete"
-        android:layout_width="wrap_content"
-        android:layout_height="fill_parent"
-        android:layout_marginTop="2dip"
-        android:layout_marginRight="2dip"
-        android:layout_marginBottom="2dip"
-        android:gravity="center_vertical"
+        android:background="@drawable/btn_dismiss"
+        android:layout_width="32dip"
+        android:layout_height="32dip"
+        android:layout_gravity="center"
+        android:layout_margin="4dip"
     />
 </LinearLayout>
diff --git a/astrid/res/layout/contact_adapter_row.xml b/astrid/res/layout/contact_adapter_row.xml
index 3de18380c2..93f762844d 100644
--- a/astrid/res/layout/contact_adapter_row.xml
+++ b/astrid/res/layout/contact_adapter_row.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!-- See the file "LICENSE" for the full license governing this code. -->
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:background="@android:drawable/list_selector_background"
@@ -13,15 +13,27 @@
         android:layout_width="40dip"
         android:layout_height="40dip"
         android:gravity="center"
-        android:layout_marginRight="5dip"
         android:scaleType="fitCenter" />
         
-    <!-- person or tag name -->
+    <!-- person name -->
     <TextView android:id="@android:id/text1"
         android:layout_width="fill_parent" 
         android:layout_height="wrap_content"
+        android:layout_marginLeft="50dip"
         style="@android:attr/dropDownItemStyle"
         android:textAppearance="@android:attr/textAppearanceLargeInverse"
-        android:textSize="20sp"/>
+        android:singleLine="true"
+        android:textSize="18sp"/>
         
-</LinearLayout>
+    <!-- person email -->
+    <TextView android:id="@android:id/text2"
+        android:layout_width="fill_parent" 
+        android:layout_height="wrap_content"
+        android:layout_marginLeft="50dip"
+        android:layout_below="@android:id/text1"
+        style="@android:attr/dropDownItemStyle"
+        android:textAppearance="@android:attr/textAppearanceInverse"
+        android:singleLine="true"
+        android:textSize="14sp"/>
+        
+</RelativeLayout>
diff --git a/astrid/res/layout/contact_edit_row.xml b/astrid/res/layout/contact_edit_row.xml
index b0a59cfb76..e6cddec0a9 100644
--- a/astrid/res/layout/contact_edit_row.xml
+++ b/astrid/res/layout/contact_edit_row.xml
@@ -27,13 +27,10 @@
         android:hint="@string/actfm_person_hint" />
         
     <ImageButton android:id="@+id/button1"
-        style="?android:attr/buttonStyleInset"
-        android:src="@android:drawable/ic_delete"
-        android:layout_width="wrap_content"
-        android:layout_height="fill_parent"
-        android:layout_marginTop="2dip"
-        android:layout_marginRight="2dip"
-        android:layout_marginBottom="2dip"
-        android:gravity="center_vertical"
+        android:background="@drawable/btn_dismiss"
+        android:layout_width="32dip"
+        android:layout_height="32dip"
+        android:layout_gravity="center"
+        android:layout_margin="4dip"
     />
 </LinearLayout>
diff --git a/astrid/res/layout/gcal_control.xml b/astrid/res/layout/gcal_control.xml
index 37596e5de3..6c048608f9 100644
--- a/astrid/res/layout/gcal_control.xml
+++ b/astrid/res/layout/gcal_control.xml
@@ -18,6 +18,8 @@
         android:id="@+id/add_to_calendar"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
+        android:layout_marginLeft="5dip"
+        android:button="@drawable/btn_check_small"       
         android:text="@string/gcal_TEA_addToCalendar_label" />
         
       <Spinner
@@ -34,12 +36,6 @@
         android:visibility="gone" />
 
     </LinearLayout>
-
-    <View
-        android:layout_width="fill_parent"
-        android:layout_height="1dip"
-        android:padding="5dip"
-        android:background="@android:drawable/divider_horizontal_dark" />
   
 </merge>
 
diff --git a/astrid/res/layout/repeat_control.xml b/astrid/res/layout/repeat_control.xml
index c204dcda0c..a8ba88fb17 100644
--- a/astrid/res/layout/repeat_control.xml
+++ b/astrid/res/layout/repeat_control.xml
@@ -2,15 +2,11 @@
 <!-- See the file "LICENSE" for the full license governing this code. -->
 <merge xmlns:android="http://schemas.android.com/apk/res/android">
     
-  <View
-      android:layout_width="fill_parent"
-      android:layout_height="1dip"
-      android:padding="5dip"
-      android:background="@android:drawable/divider_horizontal_dark" />
-  
   <CheckBox android:id="@+id/repeatEnabled"
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"
+      android:layout_marginLeft="5dip"
+      android:button="@drawable/btn_check_small"
       android:text="@string/repeat_enabled"/>
       
   <LinearLayout android:id="@+id/repeatContainer"
diff --git a/astrid/res/layout/tag_edit_row.xml b/astrid/res/layout/tag_edit_row.xml
index b5340761d8..0bdb696bfa 100644
--- a/astrid/res/layout/tag_edit_row.xml
+++ b/astrid/res/layout/tag_edit_row.xml
@@ -26,13 +26,10 @@
         android:layout_gravity="center_vertical"/>
         
     <ImageButton android:id="@+id/button1"
-        style="?android:attr/buttonStyleInset"
-        android:src="@android:drawable/ic_delete"
-        android:layout_width="wrap_content"
-        android:layout_height="fill_parent"
-        android:layout_marginTop="2dip"
-        android:layout_marginRight="2dip"
-        android:layout_marginBottom="2dip"
-        android:gravity="center_vertical"
+        android:background="@drawable/btn_dismiss"
+        android:layout_width="32dip"
+        android:layout_height="32dip"
+        android:layout_gravity="center"
+        android:layout_margin="4dip"
     />
 </LinearLayout>
diff --git a/astrid/res/layout/task_edit_activity.xml b/astrid/res/layout/task_edit_activity.xml
index fb9082006f..b6c42a8be8 100644
--- a/astrid/res/layout/task_edit_activity.xml
+++ b/astrid/res/layout/task_edit_activity.xml
@@ -1,24 +1,58 @@
 <?xml version="1.0" encoding="utf-8"?>
-<FrameLayout
+<RelativeLayout
   xmlns:android="http://schemas.android.com/apk/res/android"
+  xmlns:astrid="http://schemas.android.com/apk/res/com.timsu.astrid"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
   android:background="@drawable/background_gradient">
-
-  <!-- ======================================================= tab: basic == -->
   
+  <View
+    android:layout_width="fill_parent"
+    android:layout_height="2dip"
+    android:background="@color/task_edit_selected" />
+    
+        
+  <!-- buttons -->
+  <LinearLayout android:id="@+id/edit_footer"
+    android:orientation="horizontal"
+    android:layout_width="fill_parent"
+    android:layout_height="48dip"
+    android:layout_alignParentBottom="true"
+    android:padding="5dip"
+    android:background="@drawable/footer_background"
+    android:baselineAligned="false">
+    <Button
+      android:id="@+id/save"
+      android:layout_width="fill_parent"
+      android:layout_height="fill_parent"
+      android:layout_marginRight="5dip"
+      android:background="@drawable/footer_greenbtn"
+      android:text="@string/DLG_save"
+      android:textStyle="bold"
+      style="@style/TextAppearance.TEA_action"
+      android:layout_weight="1" />
+    <Button
+      android:id="@+id/discard"
+      android:layout_width="fill_parent"
+      android:layout_height="fill_parent"
+      android:layout_marginLeft="5dip"
+      android:background="@drawable/footer_redbtn"
+      android:text="@android:string/cancel"
+      style="@style/TextAppearance.TEA_action"
+      android:layout_weight="1" />
+  </LinearLayout>
+  
+  <!-- ======================================================= tab: basic == -->
   <ScrollView
     android:id="@+id/tab_basic"
+    android:layout_above="@id/edit_footer"
     android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:layout_weight="100">
+    android:layout_height="fill_parent">
     <LinearLayout
-      android:id="@+id/event"
-      android:paddingRight="8dip"
+      android:padding="4dip"
       android:orientation="vertical"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent">
-      
       <!-- title -->
       <TextView
         android:layout_width="wrap_content"
@@ -33,7 +67,6 @@
         android:autoText="true"
         android:text=""
         android:capitalize="sentences" />
-        
       <!-- importance -->
       <TextView
         android:layout_width="wrap_content"
@@ -46,18 +79,35 @@
         android:layout_width="fill_parent"
         android:layout_height="wrap_content">
       </LinearLayout>
-
       <!-- urgency -->
       <TextView
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:text="@string/TEA_urgency_label"
         style="@style/TextAppearance.GEN_EditLabel" />
-      <Spinner
-        android:id="@+id/urgency"
+      <LinearLayout
+        android:orientation="horizontal"
         android:layout_width="fill_parent"
-        android:layout_height="wrap_content" />
-                
+        android:layout_height="wrap_content">
+        <Button
+          android:id="@+id/urgency_date"
+          android:layout_width="fill_parent"
+          android:layout_height="wrap_content"
+          android:layout_weight="1"
+          android:drawableLeft="@drawable/gl_date" />
+        <Button
+          android:id="@+id/urgency_time"
+          android:layout_width="fill_parent"
+          android:layout_height="wrap_content"
+          android:layout_weight="1"
+          android:drawableLeft="@drawable/gl_time" />
+      </LinearLayout>
+      <!-- add-ons -->
+      <LinearLayout
+        android:id="@+id/addons_urgency"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical" />
       <!-- tags -->
       <TextView
         android:layout_width="wrap_content"
@@ -75,17 +125,10 @@
         android:entries="@array/TEA_loading"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content" />
-              
-      <!-- separator -->
-      <View
-        android:layout_width="fill_parent"
-        android:layout_height="1dip"
-        android:padding="5dip"
-        android:background="@android:drawable/divider_horizontal_dark" />
-              
       <!-- notes -->
-      <TextView android:id="@+id/notes_label"
-        android:paddingTop="5dip" 
+      <TextView
+        android:id="@+id/notes_label"
+        android:paddingTop="5dip"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:text="@string/TEA_note_label"
@@ -94,66 +137,174 @@
         android:orientation="horizontal"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content">
-	      <!-- Voice Add Note Button -->
-	      <ImageButton android:id="@+id/voiceAddNoteButton"
-	          android:layout_width="wrap_content"
-	          android:layout_height="wrap_content"
-	          android:layout_weight="1"
-	          android:src="@drawable/tango_microphone"
-	          android:scaleType="fitCenter"
-	          android:visibility="gone"/> 
-	      <EditText
-	        android:id="@+id/notes"
-	        android:layout_width="wrap_content"
-	        android:layout_height="wrap_content"
-	        android:layout_weight="100"
-	        android:scrollbars="vertical"
-	        android:gravity="top"
-	        android:hint="@string/TEA_notes_hint"
-	        android:autoText="true"
-	        android:capitalize="sentences"
-	        android:singleLine="false" />
+        <!-- Voice Add Note Button -->
+        <ImageButton
+          android:id="@+id/voiceAddNoteButton"
+          android:layout_width="wrap_content"
+          android:layout_height="wrap_content"
+          android:layout_weight="1"
+          android:src="@drawable/tango_microphone"
+          android:scaleType="fitCenter"
+          android:visibility="gone" />
+        <EditText
+          android:id="@+id/notes"
+          android:layout_width="wrap_content"
+          android:layout_height="wrap_content"
+          android:layout_weight="100"
+          android:scrollbars="vertical"
+          android:gravity="top"
+          android:hint="@string/TEA_notes_hint"
+          android:autoText="true"
+          android:capitalize="sentences"
+          android:singleLine="false" />
       </LinearLayout>
-
-      <!-- buttons -->
+    </LinearLayout>
+  </ScrollView>
+  
+  <!-- ===================================================== tab: sharing == -->
+  <ScrollView
+    android:id="@+id/tab_share"
+    android:layout_above="@id/edit_footer"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent">
+    <LinearLayout
+      android:padding="4dip"
+      android:orientation="vertical"
+      android:layout_width="fill_parent"
+      android:layout_height="fill_parent">
+      <TextView
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:paddingBottom="5dip"
+        style="@style/TextAppearance.GEN_EditLabel"
+        android:text="@string/actfm_EPA_assign_label" />
       <LinearLayout
         android:orientation="horizontal"
         android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_weight="1"
-        android:layout_marginTop="10dip"
-        android:padding="5dip"
-        android:background="@drawable/edit_header"
-        android:baselineAligned="false">
-        <ImageButton
-          android:id="@+id/save_basic"
+        android:layout_height="wrap_content">
+        <Spinner
+          android:id="@+id/assigned_spinner"
+          android:layout_width="fill_parent"
+          android:layout_height="45dip"
+          android:layout_weight="1"
+          android:layout_gravity="center_vertical"
+          android:hint="@string/actfm_person_hint" />
+        <com.todoroo.astrid.ui.ContactsAutoComplete
+          android:id="@+id/assigned_custom"
           android:layout_width="fill_parent"
           android:layout_height="wrap_content"
           android:layout_weight="1"
-          android:src="@drawable/tango_save" />
+          android:layout_gravity="center_vertical"
+          android:visibility="gone"
+          android:hint="@string/actfm_person_hint" />
         <ImageButton
-          android:id="@+id/discard_basic"
+          android:id="@+id/assigned_clear"
+          style="?android:attr/buttonStyleInset"
+          android:src="@android:drawable/ic_delete"
+          android:layout_width="wrap_content"
+          android:layout_height="fill_parent"
+          android:layout_marginTop="2dip"
+          android:layout_marginRight="2dip"
+          android:layout_marginBottom="2dip"
+          android:visibility="gone"
+          android:gravity="center_vertical" />
+      </LinearLayout>
+      <TextView
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:paddingTop="5dip"
+        android:paddingBottom="5dip"
+        style="@style/TextAppearance.GEN_EditLabel"
+        android:text="@string/actfm_EPA_share_with" />
+      <com.todoroo.astrid.ui.PeopleContainer
+        android:id="@+id/share_container"
+        android:orientation="vertical"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" />
+      <LinearLayout
+        android:id="@+id/share_additional"
+        android:orientation="vertical"
+        android:padding="5dip"
+        android:visibility="gone"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content">
+        <View
+          android:layout_width="fill_parent"
+          android:layout_height="1dip"
+          android:background="@android:drawable/divider_horizontal_dark" />
+        <TextView
           android:layout_width="fill_parent"
           android:layout_height="wrap_content"
-          android:layout_weight="1"
-          android:src="@drawable/tango_stop" />
+          android:paddingTop="5dip"
+          android:paddingBottom="5dip"
+          android:text="@string/actfm_EPA_message_text" />
+        <EditText
+          android:id="@+id/message"
+          android:layout_width="fill_parent"
+          android:layout_height="wrap_content"
+          android:scrollbars="vertical"
+          android:text="@string/actfm_EPA_message_body"
+          android:autoText="true"
+          android:capitalize="sentences"
+          android:singleLine="false" />
+        <TextView
+          android:id="@+id/tag_label"
+          android:layout_width="fill_parent"
+          android:layout_height="wrap_content"
+          android:paddingBottom="5dip"
+          android:visibility="gone"
+          android:text="@string/actfm_EPA_tag_label" />
+        <EditText
+          android:id="@+id/tag_name"
+          android:layout_width="fill_parent"
+          android:layout_height="wrap_content"
+          android:visibility="gone"
+          android:hint="@string/actfm_EPA_tag_hint" />
+        <View
+          android:layout_width="fill_parent"
+          android:layout_height="1dip"
+          android:background="@android:drawable/divider_horizontal_dark" />
       </LinearLayout>
+      <CheckBox
+        android:id="@+id/checkbox_facebook"
+        android:text="@string/actfm_EPA_facebook"
+        android:paddingLeft="45dip"
+        android:visibility="gone"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" />
+      <CheckBox
+        android:id="@+id/checkbox_twitter"
+        android:text="@string/actfm_EPA_twitter"
+        android:paddingLeft="45dip"
+        android:visibility="gone"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content" />
+      <View
+        android:layout_width="fill_parent"
+        android:layout_height="1dip"
+        android:layout_margin="15dip"
+        android:background="@android:drawable/divider_horizontal_dark" />
+      <TextView
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:paddingTop="15dip"
+        android:text="@string/actfm_EPA_intro"
+        android:gravity="center"
+        android:textColor="#ffaa00" />
     </LinearLayout>
   </ScrollView>
 
-  <!-- ======================================================= tab: extra == -->
-
+  <!-- ====================================================== tab: alarms == -->
   <ScrollView
-    android:id="@+id/tab_extra"
+    android:id="@+id/tab_alarms"
+    android:layout_above="@id/edit_footer"
     android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:layout_weight="100">
+    android:layout_height="fill_parent">
     <LinearLayout
-      android:paddingRight="8dip"
+      android:padding="4dip"
       android:orientation="vertical"
       android:layout_width="fill_parent"
       android:layout_height="fill_parent">
-      
       <!-- reminders -->
       <TextView
         android:layout_width="wrap_content"
@@ -164,11 +315,15 @@
         android:id="@+id/reminder_due"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
+        android:layout_marginLeft="5dip"
+        android:button="@drawable/btn_check_small"       
         android:text="@string/TEA_reminder_due" />
       <CheckBox
         android:id="@+id/reminder_overdue"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
+        android:layout_marginLeft="5dip"
+        android:button="@drawable/btn_check_small"       
         android:text="@string/TEA_reminder_overdue" />
       <LinearLayout
         android:orientation="horizontal"
@@ -178,13 +333,14 @@
           android:id="@+id/reminder_random"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
+          android:layout_marginLeft="5dip"
+          android:button="@drawable/btn_check_small"       
           android:text="@string/TEA_reminder_random" />
         <Spinner
           android:id="@+id/reminder_random_interval"
           android:layout_width="fill_parent"
           android:layout_height="wrap_content" />
       </LinearLayout>
-        
       <!-- reminder mode -->
       <TextView
         android:layout_width="wrap_content"
@@ -195,14 +351,26 @@
         android:id="@+id/reminder_alarm"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content" />
-        
-      <!-- separator -->
-      <View
+      <!-- add-ons -->
+      <LinearLayout
+        android:id="@+id/addons_alarms"
         android:layout_width="fill_parent"
-        android:layout_height="1dip"
-        android:padding="5dip"
-        android:background="@android:drawable/divider_horizontal_dark" />
-
+        android:layout_height="wrap_content"
+        android:orientation="vertical" />
+    </LinearLayout>
+  </ScrollView>
+  
+  <!-- ======================================================= tab: more == -->
+  <ScrollView
+    android:id="@+id/tab_more"
+    android:layout_above="@id/edit_footer"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent">
+    <LinearLayout
+      android:padding="4dip"
+      android:orientation="vertical"
+      android:layout_width="fill_parent"
+      android:layout_height="fill_parent">
       <!-- hide until -->
       <TextView
         android:layout_width="wrap_content"
@@ -213,72 +381,25 @@
         android:id="@+id/hideUntil"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content" />
-        
       <!-- add-ons -->
-      <LinearLayout android:id="@+id/tab_extra_addons"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:orientation="vertical" />
-        
-      <!-- buttons -->
       <LinearLayout
-        android:orientation="horizontal"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_weight="1"
-        android:layout_marginTop="10dip"
-        android:padding="5dip"
-        android:background="@drawable/edit_header"
-        android:baselineAligned="false">
-        <ImageButton
-          android:id="@+id/save_extra"
-          android:layout_width="fill_parent"
-          android:layout_height="wrap_content"
-          android:layout_weight="1"
-          android:src="@drawable/tango_save" />
-        <ImageButton
-          android:id="@+id/discard_extra"
-          android:layout_width="fill_parent"
-          android:layout_height="wrap_content"
-          android:layout_weight="1"
-          android:src="@drawable/tango_stop" />
-      </LinearLayout>
-    </LinearLayout>
-  </ScrollView>
-  
-  <!-- ===================================================== tab: add-ons == -->
-  
-  <LinearLayout
-    android:id="@+id/tab_addons"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:orientation="vertical">
-              
-    <ScrollView
-      android:layout_width="fill_parent"
-      android:layout_height="fill_parent"
-      android:layout_weight="100">
-                                
-      <!-- add-ons -->
-      <LinearLayout android:id="@+id/tab_addons_addons"
+        android:id="@+id/addons_more"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent"
         android:orientation="vertical">
-        
-        <LinearLayout android:id="@+id/addons_empty"
+        <LinearLayout
+          android:id="@+id/addons_empty"
           android:layout_width="fill_parent"
           android:layout_height="fill_parent"
           android:layout_weight="100"
           android:gravity="center"
           android:visibility="gone"
           android:orientation="vertical">
-          
           <ImageView
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
             android:padding="20dip"
             android:src="@drawable/icon_pp" />
-          
           <TextView
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
@@ -286,44 +407,16 @@
             android:padding="10dip"
             android:gravity="center"
             style="@style/TextAppearance.TLA_NoItems" />
-          
-          <Button android:id="@+id/addons_button"
+          <Button
+            android:id="@+id/addons_button"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:padding="10dip"
             android:text="@string/TEA_addons_button" />
-        
         </LinearLayout>
-        
       </LinearLayout>
-        
-    </ScrollView>
-        
-    <LinearLayout
-      android:layout_width="fill_parent"
-      android:layout_height="wrap_content"
-      android:layout_weight="1"
-      android:layout_marginTop="10dip"
-      android:padding="5dip"
-      android:orientation="horizontal"
-      android:background="@drawable/edit_header"
-      android:baselineAligned="false">
-      
-      <ImageButton
-        android:id="@+id/save_addons"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_weight="1"
-        android:src="@drawable/tango_save" />
-      <ImageButton
-        android:id="@+id/discard_addons"
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-        android:layout_weight="1"
-        android:src="@drawable/tango_stop" />
-        
     </LinearLayout>
-    
-  </LinearLayout>
+  </ScrollView>
+
 
-</FrameLayout>
\ No newline at end of file
+</RelativeLayout>
\ No newline at end of file
diff --git a/astrid/res/layout/timer_control.xml b/astrid/res/layout/timer_control.xml
index e6a1232897..0c9a114051 100644
--- a/astrid/res/layout/timer_control.xml
+++ b/astrid/res/layout/timer_control.xml
@@ -23,12 +23,6 @@
       android:id="@+id/elapsedDuration"
       android:layout_width="fill_parent"
       android:layout_height="wrap_content" />
-
-    <View
-        android:layout_width="fill_parent"
-        android:layout_height="1dip"
-        android:padding="5dip"
-        android:background="@android:drawable/divider_horizontal_dark" />
   
 </merge>
 
diff --git a/astrid/res/values/colors.xml b/astrid/res/values/colors.xml
index 27c4c2e234..52de7dc5fd 100644
--- a/astrid/res/values/colors.xml
+++ b/astrid/res/values/colors.xml
@@ -21,6 +21,8 @@
     <color name="view_header_done">#ff44bb66</color>
     <color name="view_table_values">#ffbbbbbb</color>    
     <color name="view_table_overdue">#ffff0000</color>
+    
+    <color name="task_edit_selected">#438cb6</color>
 
 </resources>
 
diff --git a/astrid/res/values/strings-actfm.xml b/astrid/res/values/strings-actfm.xml
index 0b964b36c9..ad8938fcdd 100644
--- a/astrid/res/values/strings-actfm.xml
+++ b/astrid/res/values/strings-actfm.xml
@@ -88,7 +88,7 @@
   <string name="actfm_EPA_assign_custom">Custom...</string>
   
   <!-- task sharing dialog: shared with label -->
-  <string name="actfm_EPA_share_with">Shared With:</string>
+  <string name="actfm_EPA_share_with">Add Collaborators:</string>
   
   <!-- task sharing dialog: assigned hint -->
   <string name="actfm_EPA_assigned_hint">Contact Name</string>
diff --git a/astrid/res/values/strings-core.xml b/astrid/res/values/strings-core.xml
index 5076dff817..b93dfde29f 100644
--- a/astrid/res/values/strings-core.xml
+++ b/astrid/res/values/strings-core.xml
@@ -230,10 +230,13 @@
   <string name="TEA_tab_basic">Basic</string>
   
   <!-- Second Tab - extra details -->
-  <string name="TEA_tab_extra">Advanced</string>
+  <string name="TEA_tab_share">Share</string>
+  
+  <!-- Second Tab - extra details -->
+  <string name="TEA_tab_alarms">Alarms</string>
   
   <!-- Third Tab - add-ons -->
-  <string name="TEA_tab_addons">Add-ons</string>
+  <string name="TEA_tab_more">More</string>
   
   <!-- Task title label -->
   <string name="TEA_title_label">Title</string>
@@ -251,7 +254,7 @@
   <string name="TEA_urgency_specific_time">At specific time?</string>
   
   <!-- Task urgency specific time title when specific time false -->
-  <string name="TEA_urgency_time_none">No Time Set</string>
+  <string name="TEA_urgency_none">None</string>
   
   <!-- Task hide until label -->
   <string name="TEA_hideUntil_label">Hide Until</string>
@@ -294,12 +297,14 @@
   
   <string-array name="TEA_urgency">
       <!-- urgency: labels for edit page. item #4 -> auto filled -->
+      <item>No Deadline</item>
       <item>Specific Day/Time</item>
       <item>Today</item>
       <item>Tomorrow</item>
       <item>(day after)</item>
       <item>Next Week</item>
-      <item>No Deadline</item>
+      <item>In Two Weeks</item>
+      <item>Next Month</item>
   </string-array>
   
   <string-array name="TEA_hideUntil">
diff --git a/astrid/res/values/strings-reminders.xml b/astrid/res/values/strings-reminders.xml
index 04946d5a4d..9f2c7ab126 100644
--- a/astrid/res/values/strings-reminders.xml
+++ b/astrid/res/values/strings-reminders.xml
@@ -7,16 +7,16 @@
   <!-- =============================================== task edit activity == -->
 
   <!-- Task Edit: Reminder header label -->  
-  <string name="TEA_reminder_label">Remind me...</string>
+  <string name="TEA_reminder_label">Remind Me:</string>
 
   <!-- Task Edit: Reminder @ deadline -->  
-  <string name="TEA_reminder_due">... when task is due</string>
+  <string name="TEA_reminder_due">When task is due</string>
 
   <!-- Task Edit: Reminder after deadline -->  
-  <string name="TEA_reminder_overdue">... when task is overdue</string>
+  <string name="TEA_reminder_overdue">When task is overdue</string>
 
   <!-- Task Edit: Reminder at random times (%s => time plural)-->
-  <string name="TEA_reminder_random">... randomly once</string>
+  <string name="TEA_reminder_random">Randomly once</string>
 
   <!-- Task Edit: Reminder alarm clock label -->  
   <string name="TEA_reminder_alarm_label">Ring/Vibrate Type:</string>
diff --git a/astrid/res/values/styles.xml b/astrid/res/values/styles.xml
index 493950c266..25417c2ce8 100644
--- a/astrid/res/values/styles.xml
+++ b/astrid/res/values/styles.xml
@@ -51,6 +51,13 @@
         <item name="android:textColor">#000000</item>        
     </style>
 
+    <!-- =============================================== TaskEditActivity == -->
+    
+    <style name="TextAppearance.TEA_action">
+        <item name="android:textSize">16sp</item>
+        <item name="android:textColor">#ffffff</item>        
+    </style>
+    
     <!-- ==================================================== TaskAdapter == -->
 
     <style name="TextAppearance.TAd_ItemTitle">
diff --git a/astrid/src/com/todoroo/astrid/activity/TaskEditActivity.java b/astrid/src/com/todoroo/astrid/activity/TaskEditActivity.java
index 7b75c68462..c5bb772d2b 100755
--- a/astrid/src/com/todoroo/astrid/activity/TaskEditActivity.java
+++ b/astrid/src/com/todoroo/astrid/activity/TaskEditActivity.java
@@ -20,10 +20,7 @@
 package com.todoroo.astrid.activity;
 
 import java.util.ArrayList;
-import java.util.Calendar;
 import java.util.Collections;
-import java.util.Date;
-import java.util.LinkedList;
 import java.util.List;
 
 import android.app.AlertDialog;
@@ -32,8 +29,6 @@
 import android.content.ContentValues;
 import android.content.Context;
 import android.content.DialogInterface;
-import android.content.DialogInterface.OnCancelListener;
-import android.content.DialogInterface.OnDismissListener;
 import android.content.Intent;
 import android.content.IntentFilter;
 import android.content.res.Resources;
@@ -42,35 +37,29 @@
 import android.speech.RecognizerIntent;
 import android.text.format.DateUtils;
 import android.util.Log;
+import android.view.KeyEvent;
 import android.view.LayoutInflater;
 import android.view.Menu;
 import android.view.MenuItem;
 import android.view.View;
-import android.view.ViewGroup.LayoutParams;
-import android.widget.AdapterView;
-import android.widget.AdapterView.OnItemSelectedListener;
-import android.widget.ArrayAdapter;
 import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.CompoundButton;
 import android.widget.EditText;
 import android.widget.ImageButton;
 import android.widget.LinearLayout;
 import android.widget.RemoteViews;
-import android.widget.Spinner;
 import android.widget.TabHost;
+import android.widget.TabHost.OnTabChangeListener;
 import android.widget.TextView;
-import android.widget.TimePicker;
 import android.widget.Toast;
-import android.widget.ToggleButton;
 
 import com.timsu.astrid.R;
-import com.todoroo.andlib.data.Property.StringProperty;
 import com.todoroo.andlib.service.Autowired;
 import com.todoroo.andlib.service.DependencyInjectionService;
 import com.todoroo.andlib.service.ExceptionService;
 import com.todoroo.andlib.utility.AndroidUtilities;
 import com.todoroo.andlib.utility.DateUtilities;
+import com.todoroo.andlib.utility.DialogUtilities;
+import com.todoroo.astrid.actfm.EditPeopleControlSet;
 import com.todoroo.astrid.alarms.AlarmControlSet;
 import com.todoroo.astrid.api.AstridApiConstants;
 import com.todoroo.astrid.dao.Database;
@@ -89,9 +78,12 @@
 import com.todoroo.astrid.service.TaskService;
 import com.todoroo.astrid.tags.TagsControlSet;
 import com.todoroo.astrid.timers.TimerControlSet;
-import com.todoroo.astrid.ui.CalendarDialog;
-import com.todoroo.astrid.ui.DeadlineTimePickerDialog;
-import com.todoroo.astrid.ui.DeadlineTimePickerDialog.OnDeadlineTimeSetListener;
+import com.todoroo.astrid.ui.EditTextControlSet;
+import com.todoroo.astrid.ui.HideUntilControlSet;
+import com.todoroo.astrid.ui.ImportanceControlSet;
+import com.todoroo.astrid.ui.RandomReminderControlSet;
+import com.todoroo.astrid.ui.ReminderControlSet;
+import com.todoroo.astrid.ui.UrgencyControlSet;
 import com.todoroo.astrid.utility.Constants;
 import com.todoroo.astrid.voice.VoiceInputAssistant;
 
@@ -122,10 +114,15 @@ public final class TaskEditActivity extends TabActivity {
      */
     private static final String TASK_IN_PROGRESS = "task_in_progress"; //$NON-NLS-1$
 
+    /**
+     * Tab to start on
+     */
+    public static final String TOKEN_TAB = "tab"; //$NON-NLS-1$
+
     // --- request codes
 
-    @SuppressWarnings("unused")
-    private static final int REQUEST_CODE_OPERATION = 0;
+    private static final int REQUEST_LOG_IN = 0;
+    private static final int REQUEST_VOICE_RECOG = 1;
 
     // --- menu codes
 
@@ -139,6 +136,14 @@ public final class TaskEditActivity extends TabActivity {
     public static final int RESULT_CODE_DISCARDED = RESULT_FIRST_USER + 1;
     public static final int RESULT_CODE_DELETED = RESULT_FIRST_USER + 2;
 
+    public static final String TAB_BASIC = "basic"; //$NON-NLS-1$
+
+    public static final String TAB_SHARE = "share"; //$NON-NLS-1$
+
+    public static final String TAB_ALARMS = "alarms"; //$NON-NLS-1$
+
+    public static final String TAB_MORE = "more"; //$NON-NLS-1$
+
     // --- services
 
     @Autowired
@@ -160,6 +165,7 @@ public final class TaskEditActivity extends TabActivity {
 
     private ImageButton voiceAddNoteButton;
 
+    private EditPeopleControlSet peopleControlSet = null;
     private EditTextControlSet notesControlSet = null;
     private EditText title;
 
@@ -172,7 +178,7 @@ public final class TaskEditActivity extends TabActivity {
     boolean isNewTask = false;
 
 	/** task model */
-	private Task model = null;
+	Task model = null;
 
 	/** whether task should be saved when this activity exits */
 	private boolean shouldSaveState = true;
@@ -185,8 +191,6 @@ public final class TaskEditActivity extends TabActivity {
 
     private EditText notesEditText;
 
-    private boolean cancelled = false;
-
     /* ======================================================================
      * ======================================================= initialization
      * ====================================================================== */
@@ -222,32 +226,51 @@ protected void onCreate(Bundle savedInstanceState) {
 
     /** Initialize UI components */
     private void setUpUIComponents() {
-        Resources r = getResources();
+        final Resources r = getResources();
 
         // set up tab host
-        TabHost tabHost = getTabHost();
+        final TabHost tabHost = getTabHost();
         tabHost.setPadding(0, 4, 0, 0);
         LayoutInflater.from(this).inflate(R.layout.task_edit_activity,
                 tabHost.getTabContentView(), true);
-        tabHost.addTab(tabHost.newTabSpec(r.getString(R.string.TEA_tab_basic)).
+        tabHost.addTab(tabHost.newTabSpec(TAB_BASIC).
                 setIndicator(r.getString(R.string.TEA_tab_basic),
-                        r.getDrawable(R.drawable.tab_edit)).setContent(
+                        r.getDrawable(R.drawable.gl_pencil)).setContent(
                                 R.id.tab_basic));
-        tabHost.addTab(tabHost.newTabSpec(r.getString(R.string.TEA_tab_extra)).
-                setIndicator(r.getString(R.string.TEA_tab_extra),
-                        r.getDrawable(R.drawable.tab_advanced)).setContent(
-                                R.id.tab_extra));
-        tabHost.addTab(tabHost.newTabSpec(r.getString(R.string.TEA_tab_addons)).
-                setIndicator(r.getString(R.string.TEA_tab_addons),
-                        r.getDrawable(R.drawable.tab_addons)).setContent(
-                                R.id.tab_addons));
+        tabHost.addTab(tabHost.newTabSpec(TAB_SHARE).
+                setIndicator(r.getString(R.string.TEA_tab_share),
+                        r.getDrawable(R.drawable.gl_group)).setContent(
+                                R.id.tab_share));
+        tabHost.addTab(tabHost.newTabSpec(TAB_ALARMS).
+                setIndicator(r.getString(R.string.TEA_tab_alarms),
+                        r.getDrawable(R.drawable.gl_alarm)).setContent(
+                                R.id.tab_alarms));
+        tabHost.addTab(tabHost.newTabSpec(TAB_MORE).
+                setIndicator(r.getString(R.string.TEA_tab_more),
+                        r.getDrawable(R.drawable.gl_more)).setContent(
+                                R.id.tab_more));
         getTabWidget().setBackgroundColor(Color.BLACK);
+        AndroidUtilities.callApiMethod(8, getTabWidget(), "setStripEnabled", //$NON-NLS-1$
+                new Class<?>[] { boolean.class }, false);
+        if(getIntent().hasExtra(TOKEN_TAB))
+            tabHost.setCurrentTabByTag(getIntent().getStringExtra(TOKEN_TAB));
+        OnTabChangeListener tabChange = new OnTabChangeListener() {
+            @Override
+            public void onTabChanged(String tabId) {
+                for (int i = 0; i < tabHost.getTabWidget().getChildCount(); i++)
+                    tabHost.getTabWidget().getChildAt(i).setBackgroundResource(0);
+                tabHost.getTabWidget().getChildAt(tabHost.getCurrentTab())
+                        .setBackgroundColor(r.getColor(R.color.task_edit_selected));
+            }
+        };
+        tabChange.onTabChanged(null);
+        tabHost.setOnTabChangedListener(tabChange);
 
         // populate control set
         title = (EditText) findViewById(R.id.title);
-        controls.add(new EditTextControlSet(Task.TITLE, R.id.title));
-        controls.add(new ImportanceControlSet(R.id.importance_container));
-        controls.add(new UrgencyControlSet(R.id.urgency));
+        controls.add(new EditTextControlSet(this, Task.TITLE, R.id.title));
+        controls.add(new ImportanceControlSet(this, R.id.importance_container));
+        controls.add(new UrgencyControlSet(this, R.id.urgency_date, R.id.urgency_time));
         notesEditText = (EditText) findViewById(R.id.notes);
 
         // prepare and set listener for voice-button
@@ -256,89 +279,13 @@ private void setUpUIComponents() {
             voiceAddNoteButton.setVisibility(View.VISIBLE);
             int prompt = R.string.voice_edit_note_prompt;
             voiceNoteAssistant = new VoiceInputAssistant(this, voiceAddNoteButton,
-                    notesEditText);
+                    notesEditText, REQUEST_VOICE_RECOG);
             voiceNoteAssistant.setAppend(true);
             voiceNoteAssistant.setLanguageModel(RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
             voiceNoteAssistant.configureMicrophoneButton(prompt);
         }
 
-        new Thread() {
-            @Override
-            public void run() {
-                AndroidUtilities.sleepDeep(500L);
-
-                runOnUiThread(new Runnable() {
-                    public void run() {
-                        // internal add-ins
-                        controls.add(new TagsControlSet(TaskEditActivity.this, R.id.tags_container));
-
-                        LinearLayout extrasAddons = (LinearLayout) findViewById(R.id.tab_extra_addons);
-                        controls.add(new RepeatControlSet(TaskEditActivity.this, extrasAddons));
-                        controls.add(new GCalControlSet(TaskEditActivity.this, extrasAddons));
-
-                        LinearLayout addonsAddons = (LinearLayout) findViewById(R.id.tab_addons_addons);
-
-                        try {
-                            if(ProducteevUtilities.INSTANCE.isLoggedIn()) {
-                                controls.add(new ProducteevControlSet(TaskEditActivity.this, addonsAddons));
-                                notesEditText.setHint(R.string.producteev_TEA_notes);
-                                ((TextView)findViewById(R.id.notes_label)).setHint(R.string.producteev_TEA_notes);
-                            }
-                        } catch (Exception e) {
-                            Log.e("astrid-error", "loading-control-set", e); //$NON-NLS-1$ //$NON-NLS-2$
-                        }
-
-                        try {
-                            if(OpencrxCoreUtils.INSTANCE.isLoggedIn()) {
-                                controls.add(new OpencrxControlSet(TaskEditActivity.this, addonsAddons));
-                                notesEditText.setHint(R.string.opencrx_TEA_notes);
-                                ((TextView)findViewById(R.id.notes_label)).setHint(R.string.opencrx_TEA_notes);
-                            }
-                        } catch (Exception e) {
-                            Log.e("astrid-error", "loading-control-set", e); //$NON-NLS-1$ //$NON-NLS-2$
-                        }
-
-                        controls.add(new TimerControlSet(TaskEditActivity.this, addonsAddons));
-                        controls.add(new AlarmControlSet(TaskEditActivity.this, addonsAddons));
-
-                        if(!Constants.MARKET_DISABLED && !addOnService.hasPowerPack()) {
-                            // show add-on help if necessary
-                            View addonsEmpty = findViewById(R.id.addons_empty);
-                            addonsEmpty.setVisibility(View.VISIBLE);
-                            addonsAddons.removeView(addonsEmpty);
-                            addonsAddons.addView(addonsEmpty);
-                            ((Button)findViewById(R.id.addons_button)).setOnClickListener(new View.OnClickListener() {
-                                @Override
-                                public void onClick(View v) {
-                                    Intent addOnActivity = new Intent(TaskEditActivity.this, AddOnActivity.class);
-                                    addOnActivity.putExtra(AddOnActivity.TOKEN_START_WITH_AVAILABLE, true);
-                                    startActivity(addOnActivity);
-                                }
-                            });
-                        }
-
-                        controls.add(new ReminderControlSet(R.id.reminder_due,
-                                R.id.reminder_overdue, R.id.reminder_alarm));
-                        controls.add(new RandomReminderControlSet(R.id.reminder_random,
-                                R.id.reminder_random_interval));
-                        controls.add(new HideUntilControlSet(R.id.hideUntil));
-
-                        // re-read all
-                        synchronized(controls) {
-                            for(TaskEditControlSet controlSet : controls)
-                                controlSet.readFromTask(model);
-                        }
-                    }
-                });
-
-                notesControlSet = new EditTextControlSet(Task.NOTES, R.id.notes);
-                controls.add(notesControlSet);
-
-                // set up listeners
-                setUpListeners();
-            }
-        }.start();
-
+        new TaskEditBackgroundLoader().start();
     }
 
     /** Set up button listeners */
@@ -356,24 +303,107 @@ public void onClick(View v) {
 
         // set up save, cancel, and delete buttons
         try {
-            ImageButton saveButtonGeneral = (ImageButton) findViewById(R.id.save_basic);
+            Button saveButtonGeneral = (Button) findViewById(R.id.save);
             saveButtonGeneral.setOnClickListener(mSaveListener);
-            ImageButton saveButtonDates = (ImageButton) findViewById(R.id.save_extra);
-            saveButtonDates.setOnClickListener(mSaveListener);
-            ImageButton saveButtonNotify = (ImageButton) findViewById(R.id.save_addons);
-            saveButtonNotify.setOnClickListener(mSaveListener);
 
-            ImageButton discardButtonGeneral = (ImageButton) findViewById(R.id.discard_basic);
+            Button discardButtonGeneral = (Button) findViewById(R.id.discard);
             discardButtonGeneral.setOnClickListener(mDiscardListener);
-            ImageButton discardButtonDates = (ImageButton) findViewById(R.id.discard_extra);
-            discardButtonDates.setOnClickListener(mDiscardListener);
-            ImageButton discardButtonNotify = (ImageButton) findViewById(R.id.discard_addons);
-            discardButtonNotify.setOnClickListener(mDiscardListener);
         } catch (Exception e) {
             // error loading the proper activity
         }
     }
 
+    /**
+     * Initialize task edit page in the background
+     *
+     * @author Tim Su <tim@todoroo.com>
+     *
+     */
+    class TaskEditBackgroundLoader extends Thread {
+
+        public void onUiThread() {
+            // internal add-ins
+            controls.add(new TagsControlSet(TaskEditActivity.this, R.id.tags_container));
+
+            controls.add(new RepeatControlSet(TaskEditActivity.this,
+                    (LinearLayout) findViewById(R.id.addons_urgency)));
+            LinearLayout alarmsAddons = (LinearLayout) findViewById(R.id.addons_alarms);
+            LinearLayout moreAddons = (LinearLayout) findViewById(R.id.addons_more);
+            controls.add(new GCalControlSet(TaskEditActivity.this, moreAddons));
+
+
+            try {
+                if(ProducteevUtilities.INSTANCE.isLoggedIn()) {
+                    controls.add(new ProducteevControlSet(TaskEditActivity.this, moreAddons));
+                    notesEditText.setHint(R.string.producteev_TEA_notes);
+                    ((TextView)findViewById(R.id.notes_label)).setHint(R.string.producteev_TEA_notes);
+                }
+            } catch (Exception e) {
+                Log.e("astrid-error", "loading-control-set", e); //$NON-NLS-1$ //$NON-NLS-2$
+            }
+
+            try {
+                if(OpencrxCoreUtils.INSTANCE.isLoggedIn()) {
+                    controls.add(new OpencrxControlSet(TaskEditActivity.this, moreAddons));
+                    notesEditText.setHint(R.string.opencrx_TEA_notes);
+                    ((TextView)findViewById(R.id.notes_label)).setHint(R.string.opencrx_TEA_notes);
+                }
+            } catch (Exception e) {
+                Log.e("astrid-error", "loading-control-set", e); //$NON-NLS-1$ //$NON-NLS-2$
+            }
+
+            controls.add(new TimerControlSet(TaskEditActivity.this, moreAddons));
+            controls.add(new AlarmControlSet(TaskEditActivity.this, alarmsAddons));
+
+            if(!Constants.MARKET_DISABLED && !addOnService.hasPowerPack()) {
+                // show add-on help if necessary
+                View addonsEmpty = findViewById(R.id.addons_empty);
+                addonsEmpty.setVisibility(View.VISIBLE);
+                moreAddons.removeView(addonsEmpty);
+                moreAddons.addView(addonsEmpty);
+                ((Button)findViewById(R.id.addons_button)).setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                        Intent addOnActivity = new Intent(TaskEditActivity.this, AddOnActivity.class);
+                        addOnActivity.putExtra(AddOnActivity.TOKEN_START_WITH_AVAILABLE, true);
+                        startActivity(addOnActivity);
+                    }
+                });
+            }
+
+            controls.add(new ReminderControlSet(TaskEditActivity.this,
+                    R.id.reminder_due, R.id.reminder_overdue, R.id.reminder_alarm));
+            controls.add(new RandomReminderControlSet(TaskEditActivity.this,
+                    R.id.reminder_random, R.id.reminder_random_interval));
+            controls.add(new HideUntilControlSet(TaskEditActivity.this, R.id.hideUntil));
+            controls.add(peopleControlSet = new EditPeopleControlSet(
+                    TaskEditActivity.this, REQUEST_LOG_IN));
+
+            // re-read all
+            synchronized(controls) {
+                for(TaskEditControlSet controlSet : controls)
+                    controlSet.readFromTask(model);
+            }
+        }
+
+        @Override
+        public void run() {
+            AndroidUtilities.sleepDeep(500L);
+
+            runOnUiThread(new Runnable() {
+                public void run() {
+                    onUiThread();
+                }
+            });
+
+            notesControlSet = new EditTextControlSet(TaskEditActivity.this, Task.NOTES, R.id.notes);
+            controls.add(notesControlSet);
+
+            // set up listeners
+            setUpListeners();
+        }
+    }
+
     /* ======================================================================
      * =============================================== model reading / saving
      * ====================================================================== */
@@ -461,8 +491,29 @@ private void save() {
         if(title.getText().length() > 0)
             model.setValue(Task.DELETION_DATE, 0L);
 
-        if(taskService.save(model) && title.getText().length() > 0)
-            showSaveToast(toast.toString());
+        if(!taskService.save(model)) {
+            DialogUtilities.okDialog(this, getString(R.string.DLG_error,
+                    "Error saving task. Please restart the app!"), null); //$NON-NLS-1$
+            return;
+        }
+
+        if(title.getText().length() == 0)
+            return;
+
+        String processedToast = addDueTimeToToast(toast.toString());
+        if(!peopleControlSet.saveSharingSettings(processedToast))
+            return;
+
+        finish();
+    }
+
+    @Override
+    public boolean onKeyDown(int keyCode, KeyEvent event) {
+        if (keyCode == KeyEvent.KEYCODE_BACK) {
+            save();
+            return true;
+        }
+        return super.onKeyDown(keyCode, event);
     }
 
     @Override
@@ -499,7 +550,7 @@ public void onReceive(Context context, Intent intent) {
                 separator.setPadding(5, 5, 5, 5);
                 separator.setBackgroundResource(android.R.drawable.divider_horizontal_dark);
 
-                LinearLayout dest = (LinearLayout)findViewById(R.id.tab_addons_addons);
+                LinearLayout dest = (LinearLayout)findViewById(R.id.addons_more);
                 dest.addView(separator);
                 view.apply(TaskEditActivity.this, dest);
 
@@ -525,7 +576,7 @@ protected void saveButtonClick() {
      * precision
      * @param additionalMessage
      */
-    private void showSaveToast(String additionalMessage) {
+    private String addDueTimeToToast(String additionalMessage) {
         int stringResource;
 
         long due = model.getValue(Task.DUE_DATE);
@@ -539,10 +590,7 @@ private void showSaveToast(String additionalMessage) {
             toastMessage = getString(R.string.TEA_onTaskSave_notDue);
         }
 
-        int length = additionalMessage.length() == 0 ? Toast.LENGTH_SHORT : Toast.LENGTH_LONG;
-        Toast.makeText(this,
-                toastMessage + additionalMessage,
-                length).show();
+        return toastMessage + additionalMessage;
     }
 
     protected void discardButtonClick() {
@@ -647,12 +695,17 @@ protected void onResume() {
 
     @Override
     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-        // handle the result of voice recognition, put it into the appropiate textfield
-        voiceNoteAssistant.handleActivityResult(requestCode, resultCode, data);
+        if(requestCode == REQUEST_VOICE_RECOG) {
+            // handle the result of voice recognition, put it into the appropiate textfield
+            voiceNoteAssistant.handleActivityResult(requestCode, resultCode, data);
 
-        // write the voicenote into the model, or it will be deleted by onResume.populateFields
-        // (due to the activity-change)
-        notesControlSet.writeToModel(model);
+            // write the voicenote into the model, or it will be deleted by onResume.populateFields
+            // (due to the activity-change)
+            notesControlSet.writeToModel(model);
+        }
+
+        // respond to sharing logoin
+        peopleControlSet.onActivityResult(requestCode, resultCode, data);
 
         super.onActivityResult(requestCode, resultCode, data);
     }
@@ -704,746 +757,4 @@ public interface TaskEditControlSet {
         public String writeToModel(Task task);
     }
 
-    // --- EditTextControlSet
-
-    /**
-     * Control set for mapping a Property to an EditText
-     * @author Tim Su <tim@todoroo.com>
-     *
-     */
-    public class EditTextControlSet implements TaskEditControlSet {
-        private final EditText editText;
-        private final StringProperty property;
-
-        public EditTextControlSet(StringProperty property, int editText) {
-            this.property = property;
-            this.editText = (EditText)findViewById(editText);
-        }
-
-        @Override
-        public void readFromTask(Task task) {
-            editText.setText(task.getValue(property));
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            task.setValue(property, editText.getText().toString());
-            return null;
-        }
-    }
-
-    // --- ImportanceControlSet
-
-    /**
-     * Control Set for setting task importance
-     *
-     * @author Tim Su <tim@todoroo.com>
-     *
-     */
-    public class ImportanceControlSet implements TaskEditControlSet {
-        private final List<CompoundButton> buttons = new LinkedList<CompoundButton>();
-        private final int[] colors = Task.getImportanceColors(getResources());
-
-        public ImportanceControlSet(int containerId) {
-            LinearLayout layout = (LinearLayout)findViewById(containerId);
-
-            int min = Task.IMPORTANCE_MOST;
-            int max = Task.IMPORTANCE_LEAST;
-            if(ProducteevUtilities.INSTANCE.isLoggedIn() || OpencrxCoreUtils.INSTANCE.isLoggedIn())
-                max = 5;
-
-            for(int i = min; i <= max; i++) {
-                final ToggleButton button = new ToggleButton(TaskEditActivity.this);
-                button.setLayoutParams(new LinearLayout.LayoutParams(
-                        LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT, 1));
-
-                StringBuilder label = new StringBuilder();
-                if(ProducteevUtilities.INSTANCE.isLoggedIn() || OpencrxCoreUtils.INSTANCE.isLoggedIn())
-                    label.append(5 - i).append("\n\u2605"); //$NON-NLS-1$
-                else {
-                    for(int j = Task.IMPORTANCE_LEAST; j >= i; j--)
-                        label.append('!');
-                }
-
-                button.setTextColor(colors[i]);
-                button.setTextOff(label);
-                button.setTextOn(label);
-
-                button.setOnClickListener(new View.OnClickListener() {
-                    public void onClick(View v) {
-                        setImportance((Integer)button.getTag());
-                    }
-                });
-                button.setTag(i);
-
-                buttons.add(button);
-                layout.addView(button);
-            }
-        }
-
-        public void setImportance(Integer i) {
-            for(CompoundButton b : buttons) {
-                if(b.getTag() == i) {
-                    b.setTextSize(24);
-                    b.setChecked(true);
-                    b.setBackgroundResource(R.drawable.btn_selected);
-                } else {
-                    b.setTextSize(16);
-                    b.setChecked(false);
-                    b.setBackgroundResource(android.R.drawable.btn_default);
-                }
-            }
-        }
-
-        public Integer getImportance() {
-            for(CompoundButton b : buttons)
-                if(b.isChecked())
-                    return (Integer) b.getTag();
-            return null;
-        }
-
-        @Override
-        public void readFromTask(Task task) {
-            setImportance(task.getValue(Task.IMPORTANCE));
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            if(getImportance() != null)
-                task.setValue(Task.IMPORTANCE, getImportance());
-            return null;
-        }
-    }
-
-    // --- UrgencyControlSet
-
-    private class UrgencyControlSet implements TaskEditControlSet,
-            OnItemSelectedListener, OnDeadlineTimeSetListener,
-            OnCancelListener {
-
-        private static final int SPECIFIC_DATE = -1;
-        private static final int EXISTING_TIME_UNSET = -2;
-
-        private final Spinner spinner;
-        private ArrayAdapter<UrgencyValue> urgencyAdapter;
-        private int previousSetting = Task.URGENCY_NONE;
-
-        private long existingDate = EXISTING_TIME_UNSET;
-        private int existingDateHour = EXISTING_TIME_UNSET;
-        private int existingDateMinutes = EXISTING_TIME_UNSET;
-
-        /**
-         * Container class for urgencies
-         *
-         * @author Tim Su <tim@todoroo.com>
-         *
-         */
-        private class UrgencyValue {
-            public String label;
-            public int setting;
-            public long dueDate;
-
-            public UrgencyValue(String label, int setting) {
-                this.label = label;
-                this.setting = setting;
-                dueDate = model.createDueDate(setting, 0);
-            }
-
-            public UrgencyValue(String label, int setting, long dueDate) {
-                this.label = label;
-                this.setting = setting;
-                this.dueDate = dueDate;
-            }
-
-            @Override
-            public String toString() {
-                return label;
-            }
-        }
-
-        public UrgencyControlSet(int urgency) {
-            this.spinner = (Spinner)findViewById(urgency);
-            this.spinner.setOnItemSelectedListener(this);
-        }
-
-        /**
-         * set up urgency adapter and picks the right selected item
-         * @param dueDate
-         */
-        private void createUrgencyList(long dueDate) {
-            // set up base urgency list
-            String[] labels = getResources().getStringArray(R.array.TEA_urgency);
-            UrgencyValue[] urgencyValues = new UrgencyValue[labels.length];
-            urgencyValues[0] = new UrgencyValue(labels[0],
-                    Task.URGENCY_SPECIFIC_DAY_TIME, SPECIFIC_DATE);
-            urgencyValues[1] = new UrgencyValue(labels[1],
-                    Task.URGENCY_TODAY);
-            urgencyValues[2] = new UrgencyValue(labels[2],
-                    Task.URGENCY_TOMORROW);
-            String dayAfterTomorrow = DateUtils.getDayOfWeekString(
-                    new Date(DateUtilities.now() + 2 * DateUtilities.ONE_DAY).getDay() +
-                    Calendar.SUNDAY, DateUtils.LENGTH_LONG);
-            urgencyValues[3] = new UrgencyValue(dayAfterTomorrow,
-                    Task.URGENCY_DAY_AFTER);
-            urgencyValues[4] = new UrgencyValue(labels[4],
-                    Task.URGENCY_NEXT_WEEK);
-            urgencyValues[5] = new UrgencyValue(labels[5],
-                    Task.URGENCY_NONE);
-
-            // search for setting
-            int selection = -1;
-            for(int i = 0; i < urgencyValues.length; i++)
-                if(urgencyValues[i].dueDate == dueDate) {
-                    selection = i;
-                    if(dueDate > 0)
-                        existingDate = dueDate;
-                    break;
-                }
-
-            if(selection == -1) {
-                UrgencyValue[] updated = new UrgencyValue[labels.length + 1];
-                for(int i = 0; i < labels.length; i++)
-                    updated[i+1] = urgencyValues[i];
-                if(Task.hasDueTime(dueDate)) {
-                    Date dueDateAsDate = new Date(dueDate);
-                    updated[0] = new UrgencyValue(DateUtilities.getDateStringWithTime(TaskEditActivity.this, dueDateAsDate),
-                            Task.URGENCY_SPECIFIC_DAY_TIME, dueDate);
-                    existingDate = dueDate;
-                    existingDateHour = dueDateAsDate.getHours();
-                    existingDateMinutes = dueDateAsDate.getMinutes();
-                } else {
-                    updated[0] = new UrgencyValue(DateUtilities.getDateString(TaskEditActivity.this, new Date(dueDate)),
-                            Task.URGENCY_SPECIFIC_DAY, dueDate);
-                    existingDate = dueDate;
-                    existingDateHour = SPECIFIC_DATE;
-                }
-                selection = 0;
-                urgencyValues = updated;
-            }
-
-            urgencyAdapter = new ArrayAdapter<UrgencyValue>(
-                    TaskEditActivity.this, android.R.layout.simple_spinner_item,
-                    urgencyValues);
-            urgencyAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-            this.spinner.setAdapter(urgencyAdapter);
-            this.spinner.setSelection(selection);
-        }
-
-        // --- listening for events
-
-        @Override
-        public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
-            // if specific date or date & time selected, show dialog
-            // ... at conclusion of dialog, update our list
-            UrgencyValue item = urgencyAdapter.getItem(position);
-            if(item.dueDate == SPECIFIC_DATE) {
-                customSetting = item.setting;
-                customDate = new Date(existingDate == EXISTING_TIME_UNSET ? DateUtilities.now() : existingDate);
-                customDate.setSeconds(0);
-                /***** Calendar Dialog Changes -- Start *****/
-                final CalendarDialog calendarDialog = new CalendarDialog(TaskEditActivity.this, customDate);
-                calendarDialog.show();
-                calendarDialog.setOnDismissListener(new OnDismissListener() {
-                    @Override
-                    public void onDismiss(DialogInterface arg0) {
-                        if (!cancelled) {
-                            setDate(calendarDialog);
-                        }
-                        cancelled = false;
-                    }
-                });
-
-                calendarDialog.setOnCancelListener(new OnCancelListener() {
-                    @Override
-                    public void onCancel(DialogInterface arg0) {
-                        cancelled = true;
-                    }
-                });
-                /***** Calendar Dialog Changes -- End *****/
-
-                spinner.setSelection(previousSetting);
-            } else {
-                previousSetting = position;
-                model.setValue(Task.DUE_DATE, item.dueDate);
-            }
-        }
-
-        @Override
-        public void onNothingSelected(AdapterView<?> arg0) {
-            // ignore
-        }
-
-        Date customDate;
-        int customSetting;
-
-        private void setDate(CalendarDialog calendarDialog) {
-            customDate = calendarDialog.getCalendarDate();
-            customDate.setMinutes(0);
-
-            if(customSetting != Task.URGENCY_SPECIFIC_DAY_TIME) {
-                customDateFinished();
-                return;
-            }
-
-            boolean specificTime = existingDateHour != SPECIFIC_DATE;
-            if(existingDateHour < 0) {
-                existingDateHour = customDate.getHours();
-                existingDateMinutes= customDate.getMinutes();
-            }
-
-            DeadlineTimePickerDialog timePicker = new DeadlineTimePickerDialog(TaskEditActivity.this, this,
-                    existingDateHour, existingDateMinutes,
-                    DateUtilities.is24HourFormat(TaskEditActivity.this),
-                    specificTime);
-
-            timePicker.setOnCancelListener(this);
-            timePicker.show();
-        }
-
-        public void onTimeSet(TimePicker view, boolean hasTime, int hourOfDay, int minute) {
-            if(!hasTime)
-                customSetting = Task.URGENCY_SPECIFIC_DAY;
-            else {
-                customDate.setHours(hourOfDay);
-                customDate.setMinutes(minute);
-                existingDateHour = hourOfDay;
-                existingDateMinutes = minute;
-            }
-            customDateFinished();
-        }
-
-        @Override
-        public void onCancel(DialogInterface dialog) {
-            // user canceled, restore previous choice
-            spinner.setSelection(previousSetting);
-        }
-
-        private void customDateFinished() {
-            long time = model.createDueDate(customSetting, customDate.getTime());
-            model.setValue(Task.DUE_DATE, time);
-            createUrgencyList(time);
-        }
-
-        // --- setting up values
-
-        @Override
-        public void readFromTask(Task task) {
-            long dueDate = task.getValue(Task.DUE_DATE);
-            createUrgencyList(dueDate);
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            UrgencyValue item = urgencyAdapter.getItem(spinner.getSelectedItemPosition());
-            if(item.dueDate != SPECIFIC_DATE) // user canceled specific date
-                task.setValue(Task.DUE_DATE, item.dueDate);
-            return null;
-        }
-
-    }
-
-    /**
-     * Control set for specifying when a task should be hidden
-     *
-     * @author Tim Su <tim@todoroo.com>
-     *
-     */
-    private class HideUntilControlSet implements TaskEditControlSet,
-            OnItemSelectedListener, OnCancelListener,
-            OnDeadlineTimeSetListener {
-
-        private static final int SPECIFIC_DATE = -1;
-        private static final int EXISTING_TIME_UNSET = -2;
-
-        private final Spinner spinner;
-        private int previousSetting = Task.HIDE_UNTIL_NONE;
-
-        private long existingDate = EXISTING_TIME_UNSET;
-        private int existingDateHour = EXISTING_TIME_UNSET;
-        private int existingDateMinutes = EXISTING_TIME_UNSET;
-
-        public HideUntilControlSet(int hideUntil) {
-            this.spinner = (Spinner) findViewById(hideUntil);
-            this.spinner.setOnItemSelectedListener(this);
-        }
-
-        private ArrayAdapter<HideUntilValue> adapter;
-
-        /**
-         * Container class for urgencies
-         *
-         * @author Tim Su <tim@todoroo.com>
-         *
-         */
-        private class HideUntilValue {
-            public String label;
-            public int setting;
-            public long date;
-
-            public HideUntilValue(String label, int setting) {
-                this(label, setting, 0);
-            }
-
-            public HideUntilValue(String label, int setting, long date) {
-                this.label = label;
-                this.setting = setting;
-                this.date = date;
-            }
-
-            @Override
-            public String toString() {
-                return label;
-            }
-        }
-
-        private HideUntilValue[] createHideUntilList(long specificDate) {
-            // set up base values
-            String[] labels = getResources().getStringArray(R.array.TEA_hideUntil);
-            HideUntilValue[] values = new HideUntilValue[labels.length];
-            values[0] = new HideUntilValue(labels[0], Task.HIDE_UNTIL_NONE);
-            values[1] = new HideUntilValue(labels[1], Task.HIDE_UNTIL_DUE);
-            values[2] = new HideUntilValue(labels[2], Task.HIDE_UNTIL_DAY_BEFORE);
-            values[3] = new HideUntilValue(labels[3], Task.HIDE_UNTIL_WEEK_BEFORE);
-            values[4] = new HideUntilValue(labels[4], Task.HIDE_UNTIL_SPECIFIC_DAY, -1);
-
-            if(specificDate > 0) {
-                HideUntilValue[] updated = new HideUntilValue[values.length + 1];
-                for(int i = 0; i < values.length; i++)
-                    updated[i+1] = values[i];
-                Date hideUntilAsDate = new Date(specificDate);
-                if(hideUntilAsDate.getHours() == 0 && hideUntilAsDate.getMinutes() == 0 && hideUntilAsDate.getSeconds() == 0) {
-                    updated[0] = new HideUntilValue(DateUtilities.getDateString(TaskEditActivity.this, new Date(specificDate)),
-                            Task.HIDE_UNTIL_SPECIFIC_DAY, specificDate);
-                    existingDate = specificDate;
-                    existingDateHour = SPECIFIC_DATE;
-                } else {
-                    updated[0] = new HideUntilValue(DateUtilities.getDateStringWithTime(TaskEditActivity.this, new Date(specificDate)),
-                            Task.HIDE_UNTIL_SPECIFIC_DAY_TIME, specificDate);
-                    existingDate = specificDate;
-                    existingDateHour = hideUntilAsDate.getHours();
-                    existingDateMinutes = hideUntilAsDate.getMinutes();
-                }
-                values = updated;
-            }
-
-            return values;
-        }
-
-        // --- listening for events
-
-        @Override
-        public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
-            // if specific date selected, show dialog
-            // ... at conclusion of dialog, update our list
-            HideUntilValue item = adapter.getItem(position);
-            if(item.date == SPECIFIC_DATE) {
-                customDate = new Date(existingDate == EXISTING_TIME_UNSET ? DateUtilities.now() : existingDate);
-                customDate.setSeconds(0);
-
-                /***** Calendar Dialog Changes -- Start *****/
-                final CalendarDialog calendarDialog = new CalendarDialog(TaskEditActivity.this, customDate);
-                calendarDialog.show();
-                calendarDialog.setOnDismissListener(new OnDismissListener() {
-                    @Override
-                    public void onDismiss(DialogInterface arg0) {
-                        if (!cancelled) {
-                            setDate(calendarDialog);
-                        }
-                        cancelled = false;
-                    }
-                });
-
-                calendarDialog.setOnCancelListener(new OnCancelListener() {
-                    @Override
-                    public void onCancel(DialogInterface arg0) {
-                        cancelled = true;
-                    }
-                });
-                /***** Calendar Dialog Changes -- End *****/
-                /*DatePickerDialog datePicker = new DatePickerDialog(TaskEditActivity.this,
-                        this, 1900 + customDate.getYear(), customDate.getMonth(), customDate.getDate());
-                datePicker.setOnCancelListener(this);
-                datePicker.show();*/
-
-                spinner.setSelection(previousSetting);
-            } else {
-                previousSetting = position;
-                model.setValue(Task.HIDE_UNTIL, item.date);
-            }
-        }
-
-        @Override
-        public void onNothingSelected(AdapterView<?> arg0) {
-            // ignore
-        }
-
-        Date customDate;
-
-        private void setDate(CalendarDialog calendarDialog) {
-            customDate = calendarDialog.getCalendarDate();
-
-            boolean specificTime = existingDateHour != SPECIFIC_DATE;
-            if(existingDateHour < 0) {
-                existingDateHour = customDate.getHours();
-                existingDateMinutes= customDate.getMinutes();
-            }
-
-            DeadlineTimePickerDialog timePicker = new DeadlineTimePickerDialog(TaskEditActivity.this, this,
-                    existingDateHour, existingDateMinutes,
-                    DateUtilities.is24HourFormat(TaskEditActivity.this),
-                    specificTime);
-
-            timePicker.setOnCancelListener(this);
-            timePicker.show();
-        }
-
-        /*public void onDateSet(DatePicker view, int year, int month, int monthDay) {
-            customDate.setYear(year - 1900);
-            customDate.setMonth(month);
-            customDate.setDate(monthDay);
-
-            boolean specificTime = existingDateHour != SPECIFIC_DATE;
-            if(existingDateHour < 0) {
-                existingDateHour = customDate.getHours();
-                existingDateMinutes= customDate.getMinutes();
-            }
-
-            DeadlineTimePickerDialog timePicker = new DeadlineTimePickerDialog(TaskEditActivity.this, this,
-                    existingDateHour, existingDateMinutes,
-                    DateUtilities.is24HourFormat(TaskEditActivity.this),
-                    specificTime);
-
-            timePicker.setOnCancelListener(this);
-            timePicker.show();
-        }*/
-
-        public void onTimeSet(TimePicker view, boolean hasTime, int hourOfDay, int minute) {
-            if(!hasTime) {
-                customDate.setHours(0);
-                customDate.setMinutes(0);
-                customDate.setSeconds(0);
-            } else {
-                customDate.setHours(hourOfDay);
-                customDate.setMinutes(minute);
-                existingDateHour = hourOfDay;
-                existingDateMinutes = minute;
-            }
-            customDateFinished();
-        }
-
-        @Override
-        public void onCancel(DialogInterface dialog) {
-            // user canceled, restore previous choice
-            spinner.setSelection(previousSetting);
-        }
-
-        private void customDateFinished() {
-            HideUntilValue[] list = createHideUntilList(customDate.getTime());
-            adapter = new ArrayAdapter<HideUntilValue>(
-                    TaskEditActivity.this, android.R.layout.simple_spinner_item,
-                    list);
-            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-            spinner.setAdapter(adapter);
-            spinner.setSelection(0);
-        }
-
-        // --- setting up values
-
-        @Override
-        public void readFromTask(Task task) {
-            long date = task.getValue(Task.HIDE_UNTIL);
-
-            Date dueDay = new Date(task.getValue(Task.DUE_DATE)/1000L*1000L);
-            dueDay.setHours(0);
-            dueDay.setMinutes(0);
-            dueDay.setSeconds(0);
-
-            int selection = 0;
-            if(date == 0) {
-                selection = 0;
-                date = 0;
-            } else if(date == dueDay.getTime()) {
-                selection = 1;
-                date = 0;
-            } else if(date + DateUtilities.ONE_DAY == dueDay.getTime()) {
-                selection = 2;
-                date = 0;
-            } else if(date + DateUtilities.ONE_WEEK == dueDay.getTime()) {
-                selection = 3;
-                date = 0;
-            }
-
-            HideUntilValue[] list = createHideUntilList(date);
-            adapter = new ArrayAdapter<HideUntilValue>(
-                    TaskEditActivity.this, android.R.layout.simple_spinner_item, list);
-            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-            spinner.setAdapter(adapter);
-
-            spinner.setSelection(selection);
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            if(adapter == null || spinner == null)
-                return null;
-            HideUntilValue item = adapter.getItem(spinner.getSelectedItemPosition());
-            if(item == null)
-                return null;
-            long value = task.createHideUntil(item.setting, item.date);
-            task.setValue(Task.HIDE_UNTIL, value);
-            return null;
-        }
-
-    }
-
-    /**
-     * Control set dealing with reminder settings
-     *
-     * @author Tim Su <tim@todoroo.com>
-     *
-     */
-    public class ReminderControlSet implements TaskEditControlSet {
-        private final CheckBox during, after;
-        private final Spinner mode;
-
-        public ReminderControlSet(int duringId, int afterId, int modeId) {
-            during = (CheckBox)findViewById(duringId);
-            after = (CheckBox)findViewById(afterId);
-            mode = (Spinner)findViewById(modeId);
-
-            String[] list = new String[] {
-                    getString(R.string.TEA_reminder_mode_once),
-                    getString(R.string.TEA_reminder_mode_five),
-                    getString(R.string.TEA_reminder_mode_nonstop),
-            };
-            final ArrayAdapter<String> adapter = new ArrayAdapter<String>(
-                    TaskEditActivity.this, android.R.layout.simple_spinner_item, list);
-            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-            runOnUiThread(new Runnable() {
-                @Override
-                public void run() {
-                    mode.setAdapter(adapter);
-                }
-            });
-        }
-
-        public void setValue(int flags) {
-            during.setChecked((flags & Task.NOTIFY_AT_DEADLINE) > 0);
-            after.setChecked((flags &
-                    Task.NOTIFY_AFTER_DEADLINE) > 0);
-
-            if((flags & Task.NOTIFY_MODE_NONSTOP) > 0)
-                mode.setSelection(2);
-            else if((flags & Task.NOTIFY_MODE_FIVE) > 0)
-                mode.setSelection(1);
-            else
-                mode.setSelection(0);
-        }
-
-        public int getValue() {
-            int value = 0;
-            if(during.isChecked())
-                value |= Task.NOTIFY_AT_DEADLINE;
-            if(after.isChecked())
-                value |= Task.NOTIFY_AFTER_DEADLINE;
-
-            value &= ~(Task.NOTIFY_MODE_FIVE | Task.NOTIFY_MODE_NONSTOP);
-            if(mode.getSelectedItemPosition() == 2)
-                value |= Task.NOTIFY_MODE_NONSTOP;
-            else if(mode.getSelectedItemPosition() == 1)
-                value |= Task.NOTIFY_MODE_FIVE;
-
-            return value;
-        }
-
-        @Override
-        public void readFromTask(Task task) {
-            setValue(task.getValue(Task.REMINDER_FLAGS));
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            task.setValue(Task.REMINDER_FLAGS, getValue());
-            // clear snooze if task is being edited
-            task.setValue(Task.REMINDER_SNOOZE, 0L);
-            return null;
-        }
-    }
-
-    /**
-     * Control set dealing with random reminder settings
-     *
-     * @author Tim Su <tim@todoroo.com>
-     *
-     */
-    public class RandomReminderControlSet implements TaskEditControlSet {
-        /** default interval for spinner if date is unselected */
-        private final long DEFAULT_INTERVAL = DateUtilities.ONE_WEEK * 2;
-
-        private final CheckBox settingCheckbox;
-        private final Spinner periodSpinner;
-
-        private boolean periodSpinnerInitialized = false;
-        private final int[] hours;
-
-        public RandomReminderControlSet(int settingCheckboxId, int periodButtonId) {
-            settingCheckbox = (CheckBox)findViewById(settingCheckboxId);
-            periodSpinner = (Spinner)findViewById(periodButtonId);
-            periodSpinner.setOnItemSelectedListener(new OnItemSelectedListener() {
-                @Override
-                public void onItemSelected(AdapterView<?> arg0, View arg1,
-                        int arg2, long arg3) {
-                    if(periodSpinnerInitialized)
-                        settingCheckbox.setChecked(true);
-                    periodSpinnerInitialized = true;
-                }
-
-                @Override
-                public void onNothingSelected(AdapterView<?> arg0) {
-                    // ignore
-                }
-            });
-
-            // create adapter
-            ArrayAdapter<String> adapter = new ArrayAdapter<String>(
-                    TaskEditActivity.this, android.R.layout.simple_spinner_item,
-                    getResources().getStringArray(R.array.TEA_reminder_random));
-            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-            periodSpinner.setAdapter(adapter);
-
-            // create hour array
-            String[] hourStrings = getResources().getStringArray(R.array.TEA_reminder_random_hours);
-            hours = new int[hourStrings.length];
-            for(int i = 0; i < hours.length; i++)
-                hours[i] = Integer.parseInt(hourStrings[i]);
-        }
-
-        @Override
-        public void readFromTask(Task task) {
-            long time = task.getValue(Task.REMINDER_PERIOD);
-
-            boolean enabled = time > 0;
-            if(time <= 0) {
-                time = DEFAULT_INTERVAL;
-            }
-
-            int i;
-            for(i = 0; i < hours.length - 1; i++)
-                if(hours[i] * DateUtilities.ONE_HOUR >= time)
-                    break;
-            periodSpinner.setSelection(i);
-            settingCheckbox.setChecked(enabled);
-        }
-
-        @Override
-        public String writeToModel(Task task) {
-            if(settingCheckbox.isChecked()) {
-                int hourValue = hours[periodSpinner.getSelectedItemPosition()];
-                task.setValue(Task.REMINDER_PERIOD, hourValue * DateUtilities.ONE_HOUR);
-            } else
-                task.setValue(Task.REMINDER_PERIOD, 0L);
-            return null;
-        }
-    }
-
 }
diff --git a/astrid/src/com/todoroo/astrid/ui/ContactListAdapter.java b/astrid/src/com/todoroo/astrid/ui/ContactListAdapter.java
index c6fe54d32d..82c2b41c37 100644
--- a/astrid/src/com/todoroo/astrid/ui/ContactListAdapter.java
+++ b/astrid/src/com/todoroo/astrid/ui/ContactListAdapter.java
@@ -68,11 +68,20 @@ public View newView(Context context, Cursor cursor, ViewGroup parent) {
 
     @Override
     public void bindView(View view, Context context, Cursor cursor) {
-        TextView text = (TextView) view.findViewById(android.R.id.text1);
+        TextView text1 = (TextView) view.findViewById(android.R.id.text1);
+        TextView text2 = (TextView) view.findViewById(android.R.id.text2);
         ImageView imageView = (ImageView) view.findViewById(android.R.id.icon);
 
         if(cursor.getColumnNames().length == PEOPLE_PROJECTION.length) {
-            text.setText(convertToString(cursor));
+            int name = cursor.getColumnIndexOrThrow(ContactsContract.Contacts.DISPLAY_NAME);
+            int email = cursor.getColumnIndexOrThrow(Email.DATA);
+            if(cursor.isNull(name)) {
+                text1.setText(cursor.getString(email));
+                text2.setText("");
+            } else {
+                text1.setText(cursor.getString(name));
+                text2.setText(cursor.getString(email));
+            }
             imageView.setImageResource(android.R.drawable.ic_menu_gallery);
             Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, cursor.getLong(0));
             imageView.setTag(uri);
@@ -80,7 +89,7 @@ public void bindView(View view, Context context, Cursor cursor) {
             ciTask.execute(uri);
         } else {
             int name = cursor.getColumnIndexOrThrow(TagData.NAME.name);
-            text.setText(cursor.getString(name));
+            text1.setText(cursor.getString(name));
             imageView.setImageResource(R.drawable.med_tag);
         }
     }
diff --git a/astrid/src/com/todoroo/astrid/ui/DeadlineTimePickerDialog.java b/astrid/src/com/todoroo/astrid/ui/DeadlineTimePickerDialog.java
index 2a3f355a98..1bb5855b1c 100644
--- a/astrid/src/com/todoroo/astrid/ui/DeadlineTimePickerDialog.java
+++ b/astrid/src/com/todoroo/astrid/ui/DeadlineTimePickerDialog.java
@@ -126,7 +126,7 @@ public void onCheckedChanged(CompoundButton buttonView,
                 if(isChecked)
                     updateTitle();
                 else
-                    setTitle(R.string.TEA_urgency_time_none);
+                    setTitle(R.string.TEA_urgency_none);
             }
         };
         mHasTime.setOnCheckedChangeListener(listener);
diff --git a/astrid/src/com/todoroo/astrid/ui/EditTextControlSet.java b/astrid/src/com/todoroo/astrid/ui/EditTextControlSet.java
new file mode 100644
index 0000000000..321cd363c2
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/EditTextControlSet.java
@@ -0,0 +1,34 @@
+package com.todoroo.astrid.ui;
+
+import android.app.Activity;
+import android.widget.EditText;
+
+import com.todoroo.andlib.data.Property.StringProperty;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+
+/**
+ * Control set for mapping a Property to an EditText
+ * @author Tim Su <tim@todoroo.com>
+ *
+ */
+public class EditTextControlSet implements TaskEditControlSet {
+    private final EditText editText;
+    private final StringProperty property;
+
+    public EditTextControlSet(Activity activity, StringProperty property, int editText) {
+        this.property = property;
+        this.editText = (EditText)activity.findViewById(editText);
+    }
+
+    @Override
+    public void readFromTask(Task task) {
+        editText.setText(task.getValue(property));
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        task.setValue(property, editText.getText().toString());
+        return null;
+    }
+}
\ No newline at end of file
diff --git a/astrid/src/com/todoroo/astrid/ui/HideUntilControlSet.java b/astrid/src/com/todoroo/astrid/ui/HideUntilControlSet.java
new file mode 100644
index 0000000000..50dc0cedf8
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/HideUntilControlSet.java
@@ -0,0 +1,251 @@
+package com.todoroo.astrid.ui;
+
+import java.util.Date;
+
+import android.app.Activity;
+import android.content.DialogInterface;
+import android.content.DialogInterface.OnCancelListener;
+import android.content.DialogInterface.OnDismissListener;
+import android.view.View;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemSelectedListener;
+import android.widget.ArrayAdapter;
+import android.widget.Spinner;
+import android.widget.TimePicker;
+
+import com.timsu.astrid.R;
+import com.todoroo.andlib.utility.DateUtilities;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+import com.todoroo.astrid.ui.DeadlineTimePickerDialog.OnDeadlineTimeSetListener;
+
+/**
+ * Control set for specifying when a task should be hidden
+ *
+ * @author Tim Su <tim@todoroo.com>
+ *
+ */
+public class HideUntilControlSet implements TaskEditControlSet,
+        OnItemSelectedListener, OnCancelListener,
+        OnDeadlineTimeSetListener {
+
+    private static final int SPECIFIC_DATE = -1;
+    private static final int EXISTING_TIME_UNSET = -2;
+
+    private final Spinner spinner;
+    private int previousSetting = Task.HIDE_UNTIL_NONE;
+
+    private long existingDate = EXISTING_TIME_UNSET;
+    private int existingDateHour = EXISTING_TIME_UNSET;
+    private int existingDateMinutes = EXISTING_TIME_UNSET;
+
+    private final Activity activity;
+    private boolean cancelled = false;
+
+    public HideUntilControlSet(Activity activity, int hideUntil) {
+        this.activity = activity;
+        this.spinner = (Spinner) activity.findViewById(hideUntil);
+        this.spinner.setOnItemSelectedListener(this);
+    }
+
+    private ArrayAdapter<HideUntilValue> adapter;
+
+    /**
+     * Container class for urgencies
+     *
+     * @author Tim Su <tim@todoroo.com>
+     *
+     */
+    private class HideUntilValue {
+        public String label;
+        public int setting;
+        public long date;
+
+        public HideUntilValue(String label, int setting) {
+            this(label, setting, 0);
+        }
+
+        public HideUntilValue(String label, int setting, long date) {
+            this.label = label;
+            this.setting = setting;
+            this.date = date;
+        }
+
+        @Override
+        public String toString() {
+            return label;
+        }
+    }
+
+    private HideUntilValue[] createHideUntilList(long specificDate) {
+        // set up base values
+        String[] labels = activity.getResources().getStringArray(R.array.TEA_hideUntil);
+        HideUntilValue[] values = new HideUntilValue[labels.length];
+        values[0] = new HideUntilValue(labels[0], Task.HIDE_UNTIL_NONE);
+        values[1] = new HideUntilValue(labels[1], Task.HIDE_UNTIL_DUE);
+        values[2] = new HideUntilValue(labels[2], Task.HIDE_UNTIL_DAY_BEFORE);
+        values[3] = new HideUntilValue(labels[3], Task.HIDE_UNTIL_WEEK_BEFORE);
+        values[4] = new HideUntilValue(labels[4], Task.HIDE_UNTIL_SPECIFIC_DAY, -1);
+
+        if(specificDate > 0) {
+            HideUntilValue[] updated = new HideUntilValue[values.length + 1];
+            for(int i = 0; i < values.length; i++)
+                updated[i+1] = values[i];
+            Date hideUntilAsDate = new Date(specificDate);
+            if(hideUntilAsDate.getHours() == 0 && hideUntilAsDate.getMinutes() == 0 && hideUntilAsDate.getSeconds() == 0) {
+                updated[0] = new HideUntilValue(DateUtilities.getDateString(activity, new Date(specificDate)),
+                        Task.HIDE_UNTIL_SPECIFIC_DAY, specificDate);
+                existingDate = specificDate;
+                existingDateHour = SPECIFIC_DATE;
+            } else {
+                updated[0] = new HideUntilValue(DateUtilities.getDateStringWithTime(activity, new Date(specificDate)),
+                        Task.HIDE_UNTIL_SPECIFIC_DAY_TIME, specificDate);
+                existingDate = specificDate;
+                existingDateHour = hideUntilAsDate.getHours();
+                existingDateMinutes = hideUntilAsDate.getMinutes();
+            }
+            values = updated;
+        }
+
+        return values;
+    }
+
+    // --- listening for events
+
+    @Override
+    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
+        // if specific date selected, show dialog
+        // ... at conclusion of dialog, update our list
+        HideUntilValue item = adapter.getItem(position);
+        if(item.date == SPECIFIC_DATE) {
+            customDate = new Date(existingDate == EXISTING_TIME_UNSET ? DateUtilities.now() : existingDate);
+            customDate.setSeconds(0);
+
+            final CalendarDialog calendarDialog = new CalendarDialog(activity, customDate);
+            calendarDialog.show();
+            calendarDialog.setOnDismissListener(new OnDismissListener() {
+                @Override
+                public void onDismiss(DialogInterface arg0) {
+                    if (!cancelled) {
+                        setDate(calendarDialog);
+                    }
+                    cancelled = false;
+                }
+            });
+
+            calendarDialog.setOnCancelListener(new OnCancelListener() {
+                @Override
+                public void onCancel(DialogInterface arg0) {
+                    cancelled = true;
+                }
+            });
+
+            spinner.setSelection(previousSetting);
+        } else {
+            previousSetting = position;
+        }
+    }
+
+    @Override
+    public void onNothingSelected(AdapterView<?> arg0) {
+        // ignore
+    }
+
+    Date customDate;
+
+    private void setDate(CalendarDialog calendarDialog) {
+        customDate = calendarDialog.getCalendarDate();
+
+        boolean specificTime = existingDateHour != SPECIFIC_DATE;
+        if(existingDateHour < 0) {
+            existingDateHour = customDate.getHours();
+            existingDateMinutes= customDate.getMinutes();
+        }
+
+        DeadlineTimePickerDialog timePicker = new DeadlineTimePickerDialog(activity, this,
+                existingDateHour, existingDateMinutes,
+                DateUtilities.is24HourFormat(activity),
+                specificTime);
+
+        timePicker.setOnCancelListener(this);
+        timePicker.show();
+    }
+
+    public void onTimeSet(TimePicker view, boolean hasTime, int hourOfDay, int minute) {
+        if(!hasTime) {
+            customDate.setHours(0);
+            customDate.setMinutes(0);
+            customDate.setSeconds(0);
+        } else {
+            customDate.setHours(hourOfDay);
+            customDate.setMinutes(minute);
+            existingDateHour = hourOfDay;
+            existingDateMinutes = minute;
+        }
+        customDateFinished();
+    }
+
+    @Override
+    public void onCancel(DialogInterface dialog) {
+        // user canceled, restore previous choice
+        spinner.setSelection(previousSetting);
+    }
+
+    private void customDateFinished() {
+        HideUntilValue[] list = createHideUntilList(customDate.getTime());
+        adapter = new ArrayAdapter<HideUntilValue>(
+                activity, android.R.layout.simple_spinner_item,
+                list);
+        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        spinner.setAdapter(adapter);
+        spinner.setSelection(0);
+    }
+
+    // --- setting up values
+
+    @Override
+    public void readFromTask(Task task) {
+        long date = task.getValue(Task.HIDE_UNTIL);
+
+        Date dueDay = new Date(task.getValue(Task.DUE_DATE)/1000L*1000L);
+        dueDay.setHours(0);
+        dueDay.setMinutes(0);
+        dueDay.setSeconds(0);
+
+        int selection = 0;
+        if(date == 0) {
+            selection = 0;
+            date = 0;
+        } else if(date == dueDay.getTime()) {
+            selection = 1;
+            date = 0;
+        } else if(date + DateUtilities.ONE_DAY == dueDay.getTime()) {
+            selection = 2;
+            date = 0;
+        } else if(date + DateUtilities.ONE_WEEK == dueDay.getTime()) {
+            selection = 3;
+            date = 0;
+        }
+
+        HideUntilValue[] list = createHideUntilList(date);
+        adapter = new ArrayAdapter<HideUntilValue>(
+                activity, android.R.layout.simple_spinner_item, list);
+        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        spinner.setAdapter(adapter);
+
+        spinner.setSelection(selection);
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        if(adapter == null || spinner == null)
+            return null;
+        HideUntilValue item = adapter.getItem(spinner.getSelectedItemPosition());
+        if(item == null)
+            return null;
+        long value = task.createHideUntil(item.setting, item.date);
+        task.setValue(Task.HIDE_UNTIL, value);
+        return null;
+    }
+
+}
\ No newline at end of file
diff --git a/astrid/src/com/todoroo/astrid/ui/ImportanceControlSet.java b/astrid/src/com/todoroo/astrid/ui/ImportanceControlSet.java
new file mode 100644
index 0000000000..40fd17d3bf
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/ImportanceControlSet.java
@@ -0,0 +1,99 @@
+package com.todoroo.astrid.ui;
+
+import java.util.LinkedList;
+import java.util.List;
+
+import android.app.Activity;
+import android.view.View;
+import android.view.ViewGroup.LayoutParams;
+import android.widget.CompoundButton;
+import android.widget.LinearLayout;
+import android.widget.ToggleButton;
+
+import com.timsu.astrid.R;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+import com.todoroo.astrid.opencrx.OpencrxCoreUtils;
+import com.todoroo.astrid.producteev.ProducteevUtilities;
+
+/**
+ * Control Set for setting task importance
+ *
+ * @author Tim Su <tim@todoroo.com>
+ *
+ */
+public class ImportanceControlSet implements TaskEditControlSet {
+    private final List<CompoundButton> buttons = new LinkedList<CompoundButton>();
+    private final int[] colors;
+
+    public ImportanceControlSet(Activity activity, int containerId) {
+        LinearLayout layout = (LinearLayout)activity.findViewById(containerId);
+        colors = Task.getImportanceColors(activity.getResources());
+
+        int min = Task.IMPORTANCE_MOST;
+        int max = Task.IMPORTANCE_LEAST;
+        if(ProducteevUtilities.INSTANCE.isLoggedIn() || OpencrxCoreUtils.INSTANCE.isLoggedIn())
+            max = 5;
+
+        for(int i = min; i <= max; i++) {
+            final ToggleButton button = new ToggleButton(activity);
+            button.setLayoutParams(new LinearLayout.LayoutParams(
+                    LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT, 1));
+
+            StringBuilder label = new StringBuilder();
+            if(ProducteevUtilities.INSTANCE.isLoggedIn() || OpencrxCoreUtils.INSTANCE.isLoggedIn())
+                label.append(5 - i).append("\n\u2605"); //$NON-NLS-1$
+            else {
+                for(int j = Task.IMPORTANCE_LEAST; j >= i; j--)
+                    label.append('!');
+            }
+
+            button.setTextColor(colors[i]);
+            button.setTextOff(label);
+            button.setTextOn(label);
+
+            button.setOnClickListener(new View.OnClickListener() {
+                public void onClick(View v) {
+                    setImportance((Integer)button.getTag());
+                }
+            });
+            button.setTag(i);
+
+            buttons.add(button);
+            layout.addView(button);
+        }
+    }
+
+    public void setImportance(Integer i) {
+        for(CompoundButton b : buttons) {
+            if(b.getTag() == i) {
+                b.setTextSize(24);
+                b.setChecked(true);
+                b.setBackgroundResource(R.drawable.btn_selected);
+            } else {
+                b.setTextSize(16);
+                b.setChecked(false);
+                b.setBackgroundResource(android.R.drawable.btn_default);
+            }
+        }
+    }
+
+    public Integer getImportance() {
+        for(CompoundButton b : buttons)
+            if(b.isChecked())
+                return (Integer) b.getTag();
+        return null;
+    }
+
+    @Override
+    public void readFromTask(Task task) {
+        setImportance(task.getValue(Task.IMPORTANCE));
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        if(getImportance() != null)
+            task.setValue(Task.IMPORTANCE, getImportance());
+        return null;
+    }
+}
\ No newline at end of file
diff --git a/astrid/src/com/todoroo/astrid/ui/RandomReminderControlSet.java b/astrid/src/com/todoroo/astrid/ui/RandomReminderControlSet.java
new file mode 100644
index 0000000000..81873153a7
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/RandomReminderControlSet.java
@@ -0,0 +1,90 @@
+package com.todoroo.astrid.ui;
+
+import android.app.Activity;
+import android.view.View;
+import android.widget.AdapterView;
+import android.widget.AdapterView.OnItemSelectedListener;
+import android.widget.ArrayAdapter;
+import android.widget.CheckBox;
+import android.widget.Spinner;
+
+import com.timsu.astrid.R;
+import com.todoroo.andlib.utility.DateUtilities;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+
+/**
+ * Control set dealing with random reminder settings
+ *
+ * @author Tim Su <tim@todoroo.com>
+ *
+ */
+public class RandomReminderControlSet implements TaskEditControlSet {
+    /** default interval for spinner if date is unselected */
+    private final long DEFAULT_INTERVAL = DateUtilities.ONE_WEEK * 2;
+
+    private final CheckBox settingCheckbox;
+    private final Spinner periodSpinner;
+
+    private boolean periodSpinnerInitialized = false;
+    private final int[] hours;
+
+    public RandomReminderControlSet(Activity activity, int settingCheckboxId, int periodButtonId) {
+        settingCheckbox = (CheckBox)activity.findViewById(settingCheckboxId);
+        periodSpinner = (Spinner)activity.findViewById(periodButtonId);
+        periodSpinner.setOnItemSelectedListener(new OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> arg0, View arg1,
+                    int arg2, long arg3) {
+                if(periodSpinnerInitialized)
+                    settingCheckbox.setChecked(true);
+                periodSpinnerInitialized = true;
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> arg0) {
+                // ignore
+            }
+        });
+
+        // create adapter
+        ArrayAdapter<String> adapter = new ArrayAdapter<String>(
+                activity, android.R.layout.simple_spinner_item,
+                activity.getResources().getStringArray(R.array.TEA_reminder_random));
+        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        periodSpinner.setAdapter(adapter);
+
+        // create hour array
+        String[] hourStrings = activity.getResources().getStringArray(R.array.TEA_reminder_random_hours);
+        hours = new int[hourStrings.length];
+        for(int i = 0; i < hours.length; i++)
+            hours[i] = Integer.parseInt(hourStrings[i]);
+    }
+
+    @Override
+    public void readFromTask(Task task) {
+        long time = task.getValue(Task.REMINDER_PERIOD);
+
+        boolean enabled = time > 0;
+        if(time <= 0) {
+            time = DEFAULT_INTERVAL;
+        }
+
+        int i;
+        for(i = 0; i < hours.length - 1; i++)
+            if(hours[i] * DateUtilities.ONE_HOUR >= time)
+                break;
+        periodSpinner.setSelection(i);
+        settingCheckbox.setChecked(enabled);
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        if(settingCheckbox.isChecked()) {
+            int hourValue = hours[periodSpinner.getSelectedItemPosition()];
+            task.setValue(Task.REMINDER_PERIOD, hourValue * DateUtilities.ONE_HOUR);
+        } else
+            task.setValue(Task.REMINDER_PERIOD, 0L);
+        return null;
+    }
+}
\ No newline at end of file
diff --git a/astrid/src/com/todoroo/astrid/ui/ReminderControlSet.java b/astrid/src/com/todoroo/astrid/ui/ReminderControlSet.java
new file mode 100644
index 0000000000..cc57ba0524
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/ReminderControlSet.java
@@ -0,0 +1,84 @@
+package com.todoroo.astrid.ui;
+
+import android.app.Activity;
+import android.widget.ArrayAdapter;
+import android.widget.CheckBox;
+import android.widget.Spinner;
+
+import com.timsu.astrid.R;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+
+/**
+ * Control set dealing with reminder settings
+ *
+ * @author Tim Su <tim@todoroo.com>
+ *
+ */
+public class ReminderControlSet implements TaskEditControlSet {
+    private final CheckBox during, after;
+    private final Spinner mode;
+
+    public ReminderControlSet(Activity activity, int duringId, int afterId, int modeId) {
+        during = (CheckBox)activity.findViewById(duringId);
+        after = (CheckBox)activity.findViewById(afterId);
+        mode = (Spinner)activity.findViewById(modeId);
+
+        String[] list = new String[] {
+                activity.getString(R.string.TEA_reminder_mode_once),
+                activity.getString(R.string.TEA_reminder_mode_five),
+                activity.getString(R.string.TEA_reminder_mode_nonstop),
+        };
+        final ArrayAdapter<String> adapter = new ArrayAdapter<String>(
+                activity, android.R.layout.simple_spinner_item, list);
+        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        activity.runOnUiThread(new Runnable() {
+            @Override
+            public void run() {
+                mode.setAdapter(adapter);
+            }
+        });
+    }
+
+    public void setValue(int flags) {
+        during.setChecked((flags & Task.NOTIFY_AT_DEADLINE) > 0);
+        after.setChecked((flags &
+                Task.NOTIFY_AFTER_DEADLINE) > 0);
+
+        if((flags & Task.NOTIFY_MODE_NONSTOP) > 0)
+            mode.setSelection(2);
+        else if((flags & Task.NOTIFY_MODE_FIVE) > 0)
+            mode.setSelection(1);
+        else
+            mode.setSelection(0);
+    }
+
+    public int getValue() {
+        int value = 0;
+        if(during.isChecked())
+            value |= Task.NOTIFY_AT_DEADLINE;
+        if(after.isChecked())
+            value |= Task.NOTIFY_AFTER_DEADLINE;
+
+        value &= ~(Task.NOTIFY_MODE_FIVE | Task.NOTIFY_MODE_NONSTOP);
+        if(mode.getSelectedItemPosition() == 2)
+            value |= Task.NOTIFY_MODE_NONSTOP;
+        else if(mode.getSelectedItemPosition() == 1)
+            value |= Task.NOTIFY_MODE_FIVE;
+
+        return value;
+    }
+
+    @Override
+    public void readFromTask(Task task) {
+        setValue(task.getValue(Task.REMINDER_FLAGS));
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        task.setValue(Task.REMINDER_FLAGS, getValue());
+        // clear snooze if task is being edited
+        task.setValue(Task.REMINDER_SNOOZE, 0L);
+        return null;
+    }
+}
\ No newline at end of file
diff --git a/astrid/src/com/todoroo/astrid/ui/UrgencyControlSet.java b/astrid/src/com/todoroo/astrid/ui/UrgencyControlSet.java
new file mode 100644
index 0000000000..e9683b4ba7
--- /dev/null
+++ b/astrid/src/com/todoroo/astrid/ui/UrgencyControlSet.java
@@ -0,0 +1,275 @@
+package com.todoroo.astrid.ui;
+
+import java.util.Calendar;
+import java.util.Date;
+import java.util.concurrent.atomic.AtomicBoolean;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.DialogInterface;
+import android.content.DialogInterface.OnCancelListener;
+import android.content.DialogInterface.OnDismissListener;
+import android.text.format.DateUtils;
+import android.view.View;
+import android.widget.ArrayAdapter;
+import android.widget.Button;
+import android.widget.TimePicker;
+
+import com.timsu.astrid.R;
+import com.todoroo.andlib.utility.DateUtilities;
+import com.todoroo.astrid.activity.TaskEditActivity.TaskEditControlSet;
+import com.todoroo.astrid.data.Task;
+import com.todoroo.astrid.ui.DeadlineTimePickerDialog.OnDeadlineTimeSetListener;
+
+public class UrgencyControlSet implements TaskEditControlSet,
+        OnDeadlineTimeSetListener {
+
+    private static final int SPECIFIC_DATE = -1;
+
+    private final Button dateButton;
+    private final Button timeButton;
+    private ArrayAdapter<UrgencyValue> urgencyAdapter;
+
+    private final Activity activity;
+
+    private long dueDateValue = 0;
+    private long dueTimeValue = 0;
+
+    /**
+     * Container class for urgencies
+     *
+     * @author Tim Su <tim@todoroo.com>
+     *
+     */
+    private class UrgencyValue {
+        public String label;
+        public int setting;
+        public long dueDate;
+
+        public UrgencyValue(String label, int setting) {
+            this.label = label;
+            this.setting = setting;
+            dueDate = Task.createDueDate(setting, 0);
+        }
+
+        public UrgencyValue(String label, int setting, long dueDate) {
+            this.label = label;
+            this.setting = setting;
+            this.dueDate = dueDate;
+        }
+
+        @Override
+        public String toString() {
+            return label;
+        }
+    }
+
+    public UrgencyControlSet(Activity activity, int date, int time) {
+        this.activity = activity;
+        this.dateButton = (Button)activity.findViewById(date);
+        this.timeButton = (Button)activity.findViewById(time);
+
+        dateButton.setOnClickListener(dateButtonClick);
+
+        timeButton.setOnClickListener(timeButtonClick);
+    }
+
+    // --- events
+
+    View.OnClickListener dateButtonClick = new View.OnClickListener() {
+        @Override
+        public void onClick(View v) {
+            showUrgencySpinner(dueDateValue);
+        }
+    };
+
+    View.OnClickListener timeButtonClick = new View.OnClickListener() {
+        @Override
+        public void onClick(View v) {
+            boolean hasTime = Task.hasDueTime(dueTimeValue);
+            int hour = 18, minute = 0;
+            if(hasTime) {
+                Date date = new Date(dueTimeValue);
+                hour = date.getHours();
+                minute = date.getMinutes();
+            }
+
+            DeadlineTimePickerDialog timePicker = new DeadlineTimePickerDialog(activity,
+                    UrgencyControlSet.this,
+                    hour, minute,
+                    DateUtilities.is24HourFormat(activity),
+                    hasTime);
+
+            timePicker.show();
+        }
+    };
+
+
+    /**
+     * set up urgency adapter and picks the right selected item
+     * @param dueDate
+     */
+    private void showUrgencySpinner(long dueDate) {
+        // set up base urgency list
+        String[] labels = activity.getResources().getStringArray(R.array.TEA_urgency);
+        UrgencyValue[] urgencyValues = new UrgencyValue[labels.length];
+        urgencyValues[0] = new UrgencyValue(labels[0],
+                Task.URGENCY_NONE);
+        urgencyValues[1] = new UrgencyValue(labels[1],
+                Task.URGENCY_SPECIFIC_DAY_TIME, SPECIFIC_DATE);
+        urgencyValues[2] = new UrgencyValue(labels[2],
+                Task.URGENCY_TODAY);
+        urgencyValues[3] = new UrgencyValue(labels[3],
+                Task.URGENCY_TOMORROW);
+        String dayAfterTomorrow = DateUtils.getDayOfWeekString(
+                new Date(DateUtilities.now() + 2 * DateUtilities.ONE_DAY).getDay() +
+                Calendar.SUNDAY, DateUtils.LENGTH_LONG);
+        urgencyValues[4] = new UrgencyValue(dayAfterTomorrow,
+                Task.URGENCY_DAY_AFTER);
+        urgencyValues[5] = new UrgencyValue(labels[5],
+                Task.URGENCY_NEXT_WEEK);
+        urgencyValues[6] = new UrgencyValue(labels[6],
+                Task.URGENCY_IN_TWO_WEEKS);
+        urgencyValues[7] = new UrgencyValue(labels[7],
+                Task.URGENCY_NEXT_MONTH);
+
+        // search for setting
+        int selection = -1;
+        for(int i = 0; i < urgencyValues.length; i++)
+            if(urgencyValues[i].dueDate == dueDate) {
+                selection = i;
+                break;
+            }
+
+        if(selection == -1) {
+            UrgencyValue[] updated = new UrgencyValue[labels.length + 1];
+            for(int i = 0; i < labels.length; i++)
+                updated[i+1] = urgencyValues[i];
+            if(Task.hasDueTime(dueDate)) {
+                Date dueDateAsDate = new Date(dueDate);
+                updated[0] = new UrgencyValue(DateUtilities.getDateStringWithTime(activity, dueDateAsDate),
+                        Task.URGENCY_SPECIFIC_DAY_TIME, dueDate);
+            } else {
+                updated[0] = new UrgencyValue(DateUtilities.getDateString(activity, new Date(dueDate)),
+                        Task.URGENCY_SPECIFIC_DAY, dueDate);
+            }
+            selection = 0;
+            urgencyValues = updated;
+        }
+
+        urgencyAdapter = new ArrayAdapter<UrgencyValue>(
+                activity, android.R.layout.simple_dropdown_item_1line,
+                urgencyValues);
+
+        new AlertDialog.Builder(activity)
+            .setTitle(R.string.TEA_urgency_label)
+            .setAdapter(urgencyAdapter, spinnerClickListener)
+            .setIcon(R.drawable.gl_date_blue)
+            .show().setOwnerActivity(activity);
+    }
+
+    DialogInterface.OnClickListener spinnerClickListener = new DialogInterface.OnClickListener() {
+        public void onClick(DialogInterface dialog, int position) {
+            UrgencyValue item = urgencyAdapter.getItem(position);
+            if(item.dueDate == SPECIFIC_DATE) {
+                customSetting = item.setting;
+                Date date = new Date(dueDateValue == 0 ? DateUtilities.now() : dueDateValue);
+                date.setSeconds(0);
+
+                final CalendarDialog calendarDialog = new CalendarDialog(activity, date);
+                final AtomicBoolean cancelled = new AtomicBoolean(false);
+                calendarDialog.show();
+                calendarDialog.setOnDismissListener(new OnDismissListener() {
+                    @Override
+                    public void onDismiss(DialogInterface arg0) {
+                        if (!cancelled.get())
+                            setDateFromCalendar(calendarDialog);
+                    }
+                });
+
+                calendarDialog.setOnCancelListener(new OnCancelListener() {
+                    @Override
+                    public void onCancel(DialogInterface arg0) {
+                        cancelled.set(true);
+                    }
+                });
+            } else {
+                dueDateValue = item.dueDate;
+                if(dueDateValue == 0)
+                    dueTimeValue = 0;
+                updateButtons();
+            }
+        }
+    };
+
+    // --- date setting logic
+
+    int customSetting;
+
+    private void setDateFromCalendar(CalendarDialog calendarDialog) {
+        Date date = calendarDialog.getCalendarDate();
+        date.setMinutes(0);
+        dueDateValue = Task.createDueDate(customSetting, date.getTime());
+
+        updateButtons();
+    }
+
+    public void onTimeSet(TimePicker view, boolean hasTime, int hourOfDay, int minute) {
+        if(!hasTime)
+            dueTimeValue = 0;
+        else {
+            Date date = new Date();
+            date.setHours(hourOfDay);
+            date.setMinutes(minute);
+            date.setSeconds(0);
+            dueTimeValue = Task.createDueDate(Task.URGENCY_SPECIFIC_DAY_TIME, date.getTime());
+
+            if(dueDateValue == 0)
+                dueDateValue = DateUtilities.now();
+        }
+        updateButtons();
+    }
+
+    private void updateButtons() {
+        if(dueDateValue == 0) {
+            dateButton.setCompoundDrawablesWithIntrinsicBounds(R.drawable.gl_date, 0, 0, 0);
+            dateButton.setText(R.string.TEA_urgency_none);
+        } else {
+            dateButton.setCompoundDrawablesWithIntrinsicBounds(R.drawable.gl_date_blue, 0, 0, 0);
+            dateButton.setText(DateUtilities.getDateString(activity, new Date(dueDateValue)));
+        }
+
+        if(dueTimeValue == 0 || !Task.hasDueTime(dueTimeValue)) {
+            timeButton.setCompoundDrawablesWithIntrinsicBounds(R.drawable.gl_time, 0, 0, 0);
+            timeButton.setText(R.string.TEA_urgency_none);
+        } else {
+            timeButton.setCompoundDrawablesWithIntrinsicBounds(R.drawable.gl_time_blue, 0, 0, 0);
+            timeButton.setText(DateUtilities.getTimeString(activity, new Date(dueTimeValue)));
+        }
+    }
+
+    // --- setting up values
+
+    @Override
+    public void readFromTask(Task task) {
+        dueTimeValue = dueDateValue = task.getValue(Task.DUE_DATE);
+        updateButtons();
+    }
+
+    @Override
+    public String writeToModel(Task task) {
+        Date date = new Date(dueDateValue);
+        if(dueTimeValue > 0) {
+            Date time = new Date(dueTimeValue);
+            date.setHours(time.getHours());
+            date.setMinutes(time.getMinutes());
+            date.setSeconds(time.getSeconds());
+        } else {
+            date.setTime(Task.createDueDate(Task.URGENCY_SPECIFIC_DAY, dueDateValue));
+        }
+
+        task.setValue(Task.DUE_DATE, date.getTime());
+        return null;
+    }
+
+}
\ No newline at end of file
