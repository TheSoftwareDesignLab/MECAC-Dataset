diff --git a/api/src/com/todoroo/andlib/utility/AndroidUtilities.java b/api/src/com/todoroo/andlib/utility/AndroidUtilities.java
index 4395884928..992bde9148 100644
--- a/api/src/com/todoroo/andlib/utility/AndroidUtilities.java
+++ b/api/src/com/todoroo/andlib/utility/AndroidUtilities.java
@@ -223,6 +223,9 @@ else if(value instanceof String)
      */
     public static String bundleToSerializedString(Bundle source) {
         StringBuilder result = new StringBuilder();
+        if (source == null)
+            return null;
+
         for(String key : source.keySet()) {
             addSerialized(result, key, source.get(key));
         }
diff --git a/astrid/src/com/todoroo/astrid/widget/WidgetConfigActivity.java b/astrid/src/com/todoroo/astrid/widget/WidgetConfigActivity.java
index ef176e48a5..c4a9ddddab 100644
--- a/astrid/src/com/todoroo/astrid/widget/WidgetConfigActivity.java
+++ b/astrid/src/com/todoroo/astrid/widget/WidgetConfigActivity.java
@@ -169,8 +169,9 @@ private void saveConfiguration(FilterListItem filterListItem){
             Preferences.setString(WidgetConfigActivity.PREF_CUSTOM_INTENT + mAppWidgetId,
                     flattenedName);
             String flattenedExtras = AndroidUtilities.bundleToSerializedString(((FilterWithCustomIntent)filterListItem).customExtras);
-            Preferences.setString(WidgetConfigActivity.PREF_CUSTOM_EXTRAS + mAppWidgetId,
-                    flattenedExtras);
+            if (flattenedExtras != null)
+                Preferences.setString(WidgetConfigActivity.PREF_CUSTOM_EXTRAS + mAppWidgetId,
+                        flattenedExtras);
         }
     }
 
