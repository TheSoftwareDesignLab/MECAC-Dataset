diff --git a/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart b/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
index a27bdb53a30..5c992708502 100644
--- a/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
+++ b/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
@@ -51,8 +51,9 @@ class OnnxTextEncoder {
       textNormalization += embedding[i] * embedding[i];
     }
 
+    final double sqrtTexteNormalization = sqrt(textNormalization);
     for (int i = 0; i < 512; i++) {
-      embedding[i] = embedding[i] / sqrt(textNormalization);
+      embedding[i] = embedding[i] / sqrtTexteNormalization;
     }
 
     return (embedding);
