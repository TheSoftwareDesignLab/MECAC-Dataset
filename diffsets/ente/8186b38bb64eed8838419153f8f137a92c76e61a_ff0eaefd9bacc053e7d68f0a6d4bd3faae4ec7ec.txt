diff --git a/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart b/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
index a27bdb53a30..664b925e7aa 100644
--- a/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
+++ b/lib/services/semantic_search/frameworks/onnx/onnx_text_encoder.dart
@@ -50,9 +50,10 @@ class OnnxTextEncoder {
     for (int i = 0; i < 512; i++) {
       textNormalization += embedding[i] * embedding[i];
     }
-
+    
+    final double sqrtTextNormalization = sqrt(textNormalization);
     for (int i = 0; i < 512; i++) {
-      embedding[i] = embedding[i] / sqrt(textNormalization);
+      embedding[i] = embedding[i] / sqrtTextNormalization;
     }
 
     return (embedding);
