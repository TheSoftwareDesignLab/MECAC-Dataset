diff --git a/lib/ui/settings/data/data_section_widget.dart b/lib/ui/settings/data/data_section_widget.dart
index 79053c55d4f..021e870c6b8 100644
--- a/lib/ui/settings/data/data_section_widget.dart
+++ b/lib/ui/settings/data/data_section_widget.dart
@@ -7,7 +7,6 @@ import 'package:ente_auth/ente_theme_data.dart';
 import 'package:ente_auth/l10n/l10n.dart';
 import 'package:ente_auth/models/code.dart';
 import 'package:ente_auth/services/authenticator_service.dart';
-import 'package:ente_auth/services/local_authentication_service.dart';
 import 'package:ente_auth/store/code_store.dart';
 import 'package:ente_auth/theme/ente_theme.dart';
 import 'package:ente_auth/ui/components/captioned_text_widget.dart';
@@ -16,11 +15,11 @@ import 'package:ente_auth/ui/components/expandable_menu_item_widget.dart';
 import 'package:ente_auth/ui/components/menu_item_widget.dart';
 import 'package:ente_auth/ui/components/models/button_type.dart';
 import 'package:ente_auth/ui/settings/common_settings.dart';
+import 'package:ente_auth/ui/settings/data/export_widget.dart';
 import 'package:ente_auth/utils/dialog_util.dart';
 import 'package:file_picker/file_picker.dart';
 import 'package:flutter/material.dart';
 import 'package:logging/logging.dart';
-import 'package:share_plus/share_plus.dart';
 
 class DataSectionWidget extends StatelessWidget {
   final _logger = Logger("AccountSectionWidget");
@@ -66,7 +65,7 @@ class DataSectionWidget extends StatelessWidget {
         trailingIcon: Icons.chevron_right_outlined,
         trailingIconIsMuted: true,
         onTap: () async {
-          _showExportWarningDialog(context);
+          handleExportClick(context);
         },
       ),
       sectionOptionSpacing,
@@ -145,71 +144,6 @@ class DataSectionWidget extends StatelessWidget {
     );
   }
 
-  Future<void> _showExportWarningDialog(BuildContext context) async {
-    final AlertDialog alert = AlertDialog(
-      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(10)),
-      title: Text(
-        context.l10n.warning,
-        style: Theme.of(context).textTheme.headline6,
-      ),
-      content: Text(
-        context.l10n.exportWarningDesc,
-      ),
-      actions: [
-        TextButton(
-          child: Text(
-            context.l10n.iUnderStand,
-            style: const TextStyle(
-              color: Colors.red,
-            ),
-          ),
-          onPressed: () {
-            Navigator.of(context, rootNavigator: true).pop('dialog');
-            _exportCodes(context);
-          },
-        ),
-        TextButton(
-          child: Text(
-            context.l10n.cancel,
-          ),
-          onPressed: () {
-            Navigator.of(context, rootNavigator: true).pop('dialog');
-          },
-        ),
-      ],
-    );
-
-    return showDialog(
-      context: context,
-      builder: (BuildContext context) {
-        return alert;
-      },
-      barrierColor: Colors.black12,
-    );
-  }
-
-  Future<void> _exportCodes(BuildContext context) async {
-    final hasAuthenticated = await LocalAuthenticationService.instance
-        .requestLocalAuthentication(context, context.l10n.authToExportCodes);
-    if (!hasAuthenticated) {
-      return;
-    }
-    if (_codeFile.existsSync()) {
-      await _codeFile.delete();
-    }
-    final codes = await CodeStore.instance.getAllCodes();
-    String data = "";
-    for (final code in codes) {
-      data += code.rawData + "\n";
-    }
-    _codeFile.writeAsStringSync(data);
-    await Share.shareFiles([_codeFile.path]);
-    Future.delayed(const Duration(seconds: 15), () async {
-      if (_codeFile.existsSync()) {
-        _codeFile.deleteSync();
-      }
-    });
-  }
 
   Future<void> _pickImportFile(BuildContext context) async {
     final l10n = context.l10n;
diff --git a/lib/ui/settings/data/export_widget.dart b/lib/ui/settings/data/export_widget.dart
new file mode 100644
index 00000000000..bf0748d0216
--- /dev/null
+++ b/lib/ui/settings/data/export_widget.dart
@@ -0,0 +1,92 @@
+import 'dart:io';
+
+import 'package:ente_auth/core/configuration.dart';
+import 'package:ente_auth/l10n/l10n.dart';
+import 'package:ente_auth/services/local_authentication_service.dart';
+import 'package:ente_auth/store/code_store.dart';
+import 'package:ente_auth/ui/components/buttons/button_widget.dart';
+import 'package:ente_auth/ui/components/dialog_widget.dart';
+import 'package:ente_auth/ui/components/models/button_type.dart';
+import 'package:ente_auth/utils/dialog_util.dart';
+import 'package:ente_auth/utils/toast_util.dart';
+import 'package:flutter/cupertino.dart';
+import 'package:flutter/material.dart';
+import 'package:share_plus/share_plus.dart';
+
+Future<void> handleExportClick(BuildContext context) async {
+  final result = await showDialogWidget(
+    context: context,
+    title: "Select export format",
+    body: "Encrypted exports will be protected by a password of your choice.",
+    buttons: [
+      ButtonWidget(
+        buttonType: ButtonType.neutral,
+        labelText: "Encrypted",
+        isInAlert: true,
+        buttonSize: ButtonSize.large,
+        buttonAction: ButtonAction.first,
+        onTap: () async {
+          showShortToast(context, "Encrypted export");
+        },
+        // shouldShowSuccessConfirmation: true,
+      ),
+      const ButtonWidget(
+        buttonType: ButtonType.neutral,
+        labelText: "Plain text",
+        buttonSize: ButtonSize.large,
+        isInAlert: true,
+        buttonAction: ButtonAction.second,
+      ),
+      ButtonWidget(
+        buttonSize: ButtonSize.large,
+        buttonType: ButtonType.secondary,
+        labelText: context.l10n.cancel,
+        isInAlert: true,
+        buttonAction: ButtonAction.cancel,
+      ),
+    ],
+  );
+  if (result?.action != null && result!.action != ButtonAction.cancel) {
+    await _showExportWarningDialog(context);
+  }
+}
+
+Future<void> _showExportWarningDialog(BuildContext context) async {
+  await showChoiceActionSheet(
+    context,
+    title: context.l10n.warning,
+    body: context.l10n.exportWarningDesc,
+    isCritical: true,
+    firstButtonOnTap: () async {
+      _exportCodes(context);
+    },
+    secondButtonLabel: context.l10n.cancel,
+    firstButtonLabel: context.l10n.iUnderStand,
+  );
+}
+
+Future<void> _exportCodes(BuildContext context) async {
+  final _codeFile = File(
+    Configuration.instance.getTempDirectory() + "ente-authenticator-codes.txt",
+  );
+  final hasAuthenticated = await LocalAuthenticationService.instance
+      .requestLocalAuthentication(context, context.l10n.authToExportCodes);
+  if (!hasAuthenticated) {
+    return;
+  }
+  if (_codeFile.existsSync()) {
+    await _codeFile.delete();
+  }
+  final codes = await CodeStore.instance.getAllCodes();
+  String data = "";
+  for (final code in codes) {
+    data += code.rawData + "\n";
+  }
+  _codeFile.writeAsStringSync(data);
+  await Share.shareFiles([_codeFile.path]);
+  Future.delayed(const Duration(seconds: 15), () async {
+    if (_codeFile.existsSync()) {
+      _codeFile.deleteSync();
+    }
+  });
+}
