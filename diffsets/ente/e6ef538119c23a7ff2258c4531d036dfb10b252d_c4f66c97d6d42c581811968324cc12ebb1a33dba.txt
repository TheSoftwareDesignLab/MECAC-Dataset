diff --git a/lib/ui/viewer/file/zoomable_image.dart b/lib/ui/viewer/file/zoomable_image.dart
index 687efb7e553..f3716db8992 100644
--- a/lib/ui/viewer/file/zoomable_image.dart
+++ b/lib/ui/viewer/file/zoomable_image.dart
@@ -279,7 +279,9 @@ class _ZoomableImageState extends State<ZoomableImage>
           (h != widget.photo.heigth || w != widget.photo.width)) {
         _logger.info('Updating aspect ratio for ${widget.photo} to $h:$w');
         await FileMagicService.instance.updatePublicMagicMetadata(
-            [widget.photo], {publicMagicKeyHeight: h, publicMagicKeyWidth: w});
+          [widget.photo],
+          {publicMagicKeyHeight: h, publicMagicKeyWidth: w},
+        );
       }
     }
   }
diff --git a/lib/ui/viewer/gallery/gallery.dart b/lib/ui/viewer/gallery/gallery.dart
index 40e8206d4f7..0794205c778 100644
--- a/lib/ui/viewer/gallery/gallery.dart
+++ b/lib/ui/viewer/gallery/gallery.dart
@@ -79,12 +79,11 @@ class _GalleryState extends State<Gallery> {
   late Logger _logger;
   List<List<File>> _collatedFiles = [];
   bool _hasLoadedFiles = false;
-  ItemScrollController? _itemScroller;
+  late ItemScrollController _itemScroller;
   StreamSubscription<FilesUpdatedEvent>? _reloadEventSubscription;
   StreamSubscription<TabDoubleTapEvent>? _tabDoubleTapEvent;
   final _forceReloadEventSubscriptions = <StreamSubscription<Event>>[];
-  String? _logTag;
-  late int _photoGridSize;
+  late String _logTag;
 
   @override
   void initState() {
@@ -112,7 +111,7 @@ class _GalleryState extends State<Gallery> {
       // todo: Assign ID to Gallery and fire generic event with ID &
       //  target index/date
       if (mounted && event.selectedIndex == 0) {
-        _itemScroller!.scrollTo(
+        _itemScroller.scrollTo(
           index: 0,
           duration: const Duration(milliseconds: 150),
         );
@@ -209,33 +208,123 @@ class _GalleryState extends State<Gallery> {
     if (!_hasLoadedFiles) {
       return widget.loadingWidget;
     }
-    _photoGridSize = LocalSettings.instance.getPhotoGridSize();
-    return _getListView();
+    return GalleryListView(
+      hugeListViewKey: _hugeListViewKey,
+      itemScroller: _itemScroller,
+      collatedFiles: _collatedFiles,
+      disableScroll: widget.disableScroll,
+      emptyState: widget.emptyState,
+      asyncLoader: widget.asyncLoader,
+      removalEventTypes: widget.removalEventTypes,
+      tagPrefix: widget.tagPrefix,
+      scrollBottomSafeArea: widget.scrollBottomSafeArea,
+      limitSelectionToOne: widget.limitSelectionToOne,
+      shouldCollateFilesByDay: widget.shouldCollateFilesByDay,
+      logTag: _logTag,
+      logger: _logger,
+      reloadEvent: widget.reloadEvent,
+      header: widget.header,
+      footer: widget.footer,
+      selectedFiles: widget.selectedFiles,
+    );
+  }
+
+  List<List<File>> _collateFiles(List<File> files) {
+    final List<File> dailyFiles = [];
+    final List<List<File>> collatedFiles = [];
+    for (int index = 0; index < files.length; index++) {
+      if (index > 0 &&
+          !areFromSameDay(
+            files[index - 1].creationTime!,
+            files[index].creationTime!,
+          )) {
+        final List<File> collatedDailyFiles = [];
+        collatedDailyFiles.addAll(dailyFiles);
+        collatedFiles.add(collatedDailyFiles);
+        dailyFiles.clear();
+      }
+      dailyFiles.add(files[index]);
+    }
+    if (dailyFiles.isNotEmpty) {
+      collatedFiles.add(dailyFiles);
+    }
+    collatedFiles
+        .sort((a, b) => b[0].creationTime!.compareTo(a[0].creationTime!));
+    return collatedFiles;
   }
+}
+
+class GalleryIndexUpdatedEvent {
+  final String tag;
+  final int index;
+
+  GalleryIndexUpdatedEvent(this.tag, this.index);
+}
 
-  Widget _getListView() {
+class GalleryListView extends StatelessWidget {
+  final GlobalKey<HugeListViewState<dynamic>> hugeListViewKey;
+  final ItemScrollController itemScroller;
+  final List<List<File>> collatedFiles;
+  final bool disableScroll;
+  final Widget? header;
+  final Widget? footer;
+  final Widget emptyState;
+  final GalleryLoader asyncLoader;
+  final Stream<FilesUpdatedEvent>? reloadEvent;
+  final Set<EventType> removalEventTypes;
+  final String tagPrefix;
+  final double scrollBottomSafeArea;
+  final bool limitSelectionToOne;
+  final SelectedFiles? selectedFiles;
+  final bool shouldCollateFilesByDay;
+  final String logTag;
+  final Logger logger;
+
+  const GalleryListView({
+    required this.hugeListViewKey,
+    required this.itemScroller,
+    required this.collatedFiles,
+    required this.disableScroll,
+    this.header,
+    this.footer,
+    required this.emptyState,
+    required this.asyncLoader,
+    this.reloadEvent,
+    required this.removalEventTypes,
+    required this.tagPrefix,
+    required this.scrollBottomSafeArea,
+    required this.limitSelectionToOne,
+    this.selectedFiles,
+    required this.shouldCollateFilesByDay,
+    required this.logTag,
+    required this.logger,
+    super.key,
+  });
+
+  @override
+  Widget build(BuildContext context) {
     return HugeListView<List<File>>(
-      key: _hugeListViewKey,
-      controller: _itemScroller,
+      key: hugeListViewKey,
+      controller: itemScroller,
       startIndex: 0,
-      totalCount: _collatedFiles.length,
-      isDraggableScrollbarEnabled: _collatedFiles.length > 10,
-      disableScroll: widget.disableScroll,
+      totalCount: collatedFiles.length,
+      isDraggableScrollbarEnabled: collatedFiles.length > 10,
+      disableScroll: disableScroll,
       waitBuilder: (_) {
         return const EnteLoadingWidget();
       },
       emptyResultBuilder: (_) {
         final List<Widget> children = [];
-        if (widget.header != null) {
-          children.add(widget.header!);
+        if (header != null) {
+          children.add(header!);
         }
         children.add(
           Expanded(
-            child: widget.emptyState,
+            child: emptyState,
           ),
         );
-        if (widget.footer != null) {
-          children.add(widget.footer!);
+        if (footer != null) {
+          children.add(footer!);
         }
         return Column(
           mainAxisAlignment: MainAxisAlignment.spaceBetween,
@@ -245,27 +334,27 @@ class _GalleryState extends State<Gallery> {
       itemBuilder: (context, index) {
         Widget gallery;
         gallery = LazyLoadingGallery(
-          _collatedFiles[index],
+          collatedFiles[index],
           index,
-          widget.reloadEvent,
-          widget.removalEventTypes,
-          widget.asyncLoader,
-          widget.selectedFiles,
-          widget.tagPrefix,
+          reloadEvent,
+          removalEventTypes,
+          asyncLoader,
+          selectedFiles,
+          tagPrefix,
           Bus.instance
               .on<GalleryIndexUpdatedEvent>()
-              .where((event) => event.tag == widget.tagPrefix)
+              .where((event) => event.tag == tagPrefix)
               .map((event) => event.index),
-          widget.shouldCollateFilesByDay,
-          logTag: _logTag,
-          photoGirdSize: _photoGridSize,
-          limitSelectionToOne: widget.limitSelectionToOne,
+          shouldCollateFilesByDay,
+          logTag: logTag,
+          photoGirdSize: LocalSettings.instance.getPhotoGridSize(),
+          limitSelectionToOne: limitSelectionToOne,
         );
-        if (widget.header != null && index == 0) {
-          gallery = Column(children: [widget.header!, gallery]);
+        if (header != null && index == 0) {
+          gallery = Column(children: [header!, gallery]);
         }
-        if (widget.footer != null && index == _collatedFiles.length - 1) {
-          gallery = Column(children: [gallery, widget.footer!]);
+        if (footer != null && index == collatedFiles.length - 1) {
+          gallery = Column(children: [gallery, footer!]);
         }
         return gallery;
       },
@@ -273,56 +362,24 @@ class _GalleryState extends State<Gallery> {
         try {
           return getMonthAndYear(
             DateTime.fromMicrosecondsSinceEpoch(
-              _collatedFiles[index][0].creationTime!,
+              collatedFiles[index][0].creationTime!,
             ),
           );
         } catch (e) {
-          _logger.severe("label text builder failed", e);
+          logger.severe("label text builder failed", e);
           return "";
         }
       },
       thumbBackgroundColor:
           Theme.of(context).colorScheme.galleryThumbBackgroundColor,
       thumbDrawColor: Theme.of(context).colorScheme.galleryThumbDrawColor,
-      thumbPadding: widget.header != null
+      thumbPadding: header != null
           ? const EdgeInsets.only(top: 60)
           : const EdgeInsets.all(0),
-      bottomSafeArea: widget.scrollBottomSafeArea,
+      bottomSafeArea: scrollBottomSafeArea,
       firstShown: (int firstIndex) {
-        Bus.instance
-            .fire(GalleryIndexUpdatedEvent(widget.tagPrefix, firstIndex));
+        Bus.instance.fire(GalleryIndexUpdatedEvent(tagPrefix, firstIndex));
       },
     );
   }
-
-  List<List<File>> _collateFiles(List<File> files) {
-    final List<File> dailyFiles = [];
-    final List<List<File>> collatedFiles = [];
-    for (int index = 0; index < files.length; index++) {
-      if (index > 0 &&
-          !areFromSameDay(
-            files[index - 1].creationTime!,
-            files[index].creationTime!,
-          )) {
-        final List<File> collatedDailyFiles = [];
-        collatedDailyFiles.addAll(dailyFiles);
-        collatedFiles.add(collatedDailyFiles);
-        dailyFiles.clear();
-      }
-      dailyFiles.add(files[index]);
-    }
-    if (dailyFiles.isNotEmpty) {
-      collatedFiles.add(dailyFiles);
-    }
-    collatedFiles
-        .sort((a, b) => b[0].creationTime!.compareTo(a[0].creationTime!));
-    return collatedFiles;
-  }
-}
-
-class GalleryIndexUpdatedEvent {
-  final String tag;
-  final int index;
-
-  GalleryIndexUpdatedEvent(this.tag, this.index);
 }
