diff --git a/WMFData/.swiftpm/xcode/xcshareddata/xcschemes/WMFDataMocks.xcscheme b/WMFData/.swiftpm/xcode/xcshareddata/xcschemes/WMFDataMocks.xcscheme
new file mode 100644
index 00000000000..21fa8916750
--- /dev/null
+++ b/WMFData/.swiftpm/xcode/xcshareddata/xcschemes/WMFDataMocks.xcscheme
@@ -0,0 +1,67 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Scheme
+   LastUpgradeVersion = "1540"
+   version = "1.7">
+   <BuildAction
+      parallelizeBuildables = "YES"
+      buildImplicitDependencies = "YES"
+      buildArchitectures = "Automatic">
+      <BuildActionEntries>
+         <BuildActionEntry
+            buildForTesting = "YES"
+            buildForRunning = "YES"
+            buildForProfiling = "YES"
+            buildForArchiving = "YES"
+            buildForAnalyzing = "YES">
+            <BuildableReference
+               BuildableIdentifier = "primary"
+               BlueprintIdentifier = "WMFDataMocks"
+               BuildableName = "WMFDataMocks"
+               BlueprintName = "WMFDataMocks"
+               ReferencedContainer = "container:">
+            </BuildableReference>
+         </BuildActionEntry>
+      </BuildActionEntries>
+   </BuildAction>
+   <TestAction
+      buildConfiguration = "Debug"
+      selectedDebuggerIdentifier = "Xcode.DebuggerFoundation.Debugger.LLDB"
+      selectedLauncherIdentifier = "Xcode.DebuggerFoundation.Launcher.LLDB"
+      shouldUseLaunchSchemeArgsEnv = "YES"
+      shouldAutocreateTestPlan = "YES">
+   </TestAction>
+   <LaunchAction
+      buildConfiguration = "Debug"
+      selectedDebuggerIdentifier = "Xcode.DebuggerFoundation.Debugger.LLDB"
+      selectedLauncherIdentifier = "Xcode.DebuggerFoundation.Launcher.LLDB"
+      launchStyle = "0"
+      useCustomWorkingDirectory = "NO"
+      ignoresPersistentStateOnLaunch = "NO"
+      debugDocumentVersioning = "YES"
+      debugServiceExtension = "internal"
+      allowLocationSimulation = "YES">
+   </LaunchAction>
+   <ProfileAction
+      buildConfiguration = "Release"
+      shouldUseLaunchSchemeArgsEnv = "YES"
+      savedToolIdentifier = ""
+      useCustomWorkingDirectory = "NO"
+      debugDocumentVersioning = "YES">
+      <MacroExpansion>
+         <BuildableReference
+            BuildableIdentifier = "primary"
+            BlueprintIdentifier = "WMFDataMocks"
+            BuildableName = "WMFDataMocks"
+            BlueprintName = "WMFDataMocks"
+            ReferencedContainer = "container:">
+         </BuildableReference>
+      </MacroExpansion>
+   </ProfileAction>
+   <AnalyzeAction
+      buildConfiguration = "Debug">
+   </AnalyzeAction>
+   <ArchiveAction
+      buildConfiguration = "Release"
+      revealArchiveInOrganizer = "YES">
+   </ArchiveAction>
+</Scheme>
diff --git a/WMFData/Package.swift b/WMFData/Package.swift
index 005b430b6c6..3576ce6713e 100644
--- a/WMFData/Package.swift
+++ b/WMFData/Package.swift
@@ -24,7 +24,8 @@ let package = Package(
         .target(
                    name: "WMFData",
                    dependencies: [],
-                   path: "Sources/WMFData"),
+                   path: "Sources/WMFData",
+                   resources: [.process("Resources")]),
                .target(name: "WMFDataMocks",
                       dependencies: ["WMFData"],
                        path: "Sources/WMFDataMocks",
diff --git a/sharedlib/.node-version b/WMFData/Sources/WMFData/Resources/sharedlib/.node-version
similarity index 100%
rename from sharedlib/.node-version
rename to WMFData/Sources/WMFData/Resources/sharedlib/.node-version
diff --git a/sharedlib/alt-text.js b/WMFData/Sources/WMFData/Resources/sharedlib/alt-text.js
similarity index 100%
rename from sharedlib/alt-text.js
rename to WMFData/Sources/WMFData/Resources/sharedlib/alt-text.js
diff --git a/sharedlib/package-lock.json b/WMFData/Sources/WMFData/Resources/sharedlib/package-lock.json
similarity index 100%
rename from sharedlib/package-lock.json
rename to WMFData/Sources/WMFData/Resources/sharedlib/package-lock.json
diff --git a/sharedlib/package.json b/WMFData/Sources/WMFData/Resources/sharedlib/package.json
similarity index 100%
rename from sharedlib/package.json
rename to WMFData/Sources/WMFData/Resources/sharedlib/package.json
diff --git a/sharedlib/readme.md b/WMFData/Sources/WMFData/Resources/sharedlib/readme.md
similarity index 100%
rename from sharedlib/readme.md
rename to WMFData/Sources/WMFData/Resources/sharedlib/readme.md
diff --git a/sharedlib/tests/test-alt-text.js b/WMFData/Sources/WMFData/Resources/sharedlib/tests/test-alt-text.js
similarity index 100%
rename from sharedlib/tests/test-alt-text.js
rename to WMFData/Sources/WMFData/Resources/sharedlib/tests/test-alt-text.js
diff --git a/WMFData/Sources/WMFData/Resources/test.txt b/WMFData/Sources/WMFData/Resources/test.txt
new file mode 100644
index 00000000000..8318c86b357
--- /dev/null
+++ b/WMFData/Sources/WMFData/Resources/test.txt
@@ -0,0 +1 @@
+Test
\ No newline at end of file
diff --git a/WMFData/Sources/WMFData/Utility/WMFWikitextUtils+AltText.swift b/WMFData/Sources/WMFData/Utility/WMFWikitextUtils+AltText.swift
new file mode 100644
index 00000000000..06f9828a0f2
--- /dev/null
+++ b/WMFData/Sources/WMFData/Utility/WMFWikitextUtils+AltText.swift
@@ -0,0 +1,105 @@
+// Wrapper for JS sharedlib for the iOS and Android apps
+// Experimental as of 2024-07-29
+
+import Foundation
+import JavaScriptCore
+
+public struct WMFMissingAltTextLink {
+    public init(text: String, file: String, offset: Int, length: Int) {
+        self.text = text
+        self.file = file
+        self.offset = offset
+        self.length = length
+    }
+    
+    public var text: String
+    public var file: String
+    public var offset: Int
+    public var length: Int
+}
+
+public enum WMFAltTextDetectorError: Error {
+    case failureDeterminingLibraryPath
+    case missingRootLevelObject
+}
+
+final class WMFAltTextDetector {
+    var context: JSContext
+
+    public init() throws {
+        context = JSContext()
+
+        let altPath = Bundle.module.path(forResource: "alt-text", ofType: "js")
+
+        guard let altPath else {
+            throw WMFAltTextDetectorError.failureDeterminingLibraryPath
+        }
+        let alt = try String(contentsOfFile: altPath)
+
+        context.evaluateScript(alt)
+    }
+
+    func missingAltTextLinks(text: String, language: String, targetNamespaces: [String], targetAltParams: [String]) throws -> [WMFMissingAltTextLink] {
+        
+        guard let f = context.globalObject.objectForKeyedSubscript("missingAltTextLinks") else {
+            throw WMFAltTextDetectorError.missingRootLevelObject
+        }
+        
+        let ret = f.call(withArguments:[text, language, targetNamespaces, targetAltParams])
+        var arr = [WMFMissingAltTextLink]()
+        let len = Int(ret?.objectForKeyedSubscript("length").toInt32() ?? 0)
+        for i in 0..<len {
+            guard let link = ret?.objectAtIndexedSubscript(i),
+            let text = link.objectForKeyedSubscript("text")?.toString(),
+            let file = link.objectForKeyedSubscript("file")?.toString(),
+            let offset = link.objectForKeyedSubscript("offset")?.toInt32(),
+                  let length = link.objectForKeyedSubscript("length")?.toInt32() else {
+                continue
+            }
+            arr.append(WMFMissingAltTextLink(
+                text: text,
+                file: file,
+                offset: Int(offset),
+                length: Int(length)
+            ))
+        }
+        return arr
+    }
+}
+
+public extension WMFWikitextUtils {
+    
+    // MARK: - Detect image links with missing alt text
+    static func missingAltTextLinks(text: String, language: String, targetNamespaces: [String], targetAltParams: [String]) throws -> [WMFMissingAltTextLink] {
+        let altTextDetector = try WMFAltTextDetector()
+        return try altTextDetector.missingAltTextLinks(text: text, language: language, targetNamespaces: targetNamespaces, targetAltParams: targetAltParams)
+    }
+    
+    // MARK: - Insert Alt text Into Image Wikitext
+    
+    @available(iOS 16.0, *)
+    /// Given full article wikitext, image wikitext within full article wikitext, caption within image wikitext, and new alt text, this method inserts the alt text in the correct spot and returns the new full article wikitext for posting.
+    /// - Parameters:
+    ///   - altText: Alt text to insert into imageWikitext
+    ///   - caption: Caption that resides in the image wikitext
+    ///   - imageWikitext: image wikitext ([[File: Test.jpg | thumb | Caption text.]])
+    ///   - fullArticleWikitextWithImage: Full article wikitext, which must already contain imageWikitext.
+    /// - Returns: Full article wikitext with alt text inserted into the correct spot within imageWikitext
+    static func insertAltTextIntoImageWikitext(altText: String, caption: String?, imageWikitext: String, fullArticleWikitextWithImage: String) -> String {
+        var finalImageWikitext = imageWikitext
+        if let caption,
+           let captionRegex = try? Regex("\\|\\s*\(caption)\\s*]]"),
+           let range = imageWikitext.ranges(of: captionRegex).first {
+            finalImageWikitext.replaceSubrange(range, with: "| \(altText) | \(caption)]]")
+        } else if let range = imageWikitext.range(of: "]]") {
+            finalImageWikitext.replaceSubrange(range, with: "| \(altText)]]")
+        }
+        
+        var finalFullArticleWikitextWithImage = fullArticleWikitextWithImage
+        if let range = finalFullArticleWikitextWithImage.range(of: imageWikitext) {
+            finalFullArticleWikitextWithImage.replaceSubrange(range, with: finalImageWikitext)
+        }
+        
+        return finalFullArticleWikitextWithImage
+    }
+}
diff --git a/WMFData/Sources/WMFData/Utility/WMFWikitextUtils.swift b/WMFData/Sources/WMFData/Utility/WMFWikitextUtils.swift
index 16de4a03b59..8724d509421 100644
--- a/WMFData/Sources/WMFData/Utility/WMFWikitextUtils.swift
+++ b/WMFData/Sources/WMFData/Utility/WMFWikitextUtils.swift
@@ -226,34 +226,6 @@ public struct WMFWikitextUtils {
         insertedArticleWikitext.insert(contentsOf: finalImageWikitext, at: finalIndex)
         return insertedArticleWikitext
     }
-    
-    // MARK: - Insert Alt text Into Image Wikitext
-    
-    @available(iOS 16.0, *)
-    /// Given full article wikitext, image wikitext within full article wikitext, caption within image wikitext, and new alt text, this method inserts the alt text in the correct spot and returns the new full article wikitext for posting.
-    /// - Parameters:
-    ///   - altText: Alt text to insert into imageWikitext
-    ///   - caption: Caption that resides in the image wikitext
-    ///   - imageWikitext: image wikitext ([[File: Test.jpg | thumb | Caption text.]])
-    ///   - fullArticleWikitextWithImage: Full article wikitext, which must already contain imageWikitext.
-    /// - Returns: Full article wikitext with alt text inserted into the correct spot within imageWikitext
-    public static func insertAltTextIntoImageWikitext(altText: String, caption: String?, imageWikitext: String, fullArticleWikitextWithImage: String) -> String {
-        var finalImageWikitext = imageWikitext
-        if let caption,
-           let captionRegex = try? Regex("\\|\\s*\(caption)\\s*]]"),
-           let range = imageWikitext.ranges(of: captionRegex).first {
-            finalImageWikitext.replaceSubrange(range, with: "| \(altText) | \(caption)]]")
-        } else if let range = imageWikitext.range(of: "]]") {
-            finalImageWikitext.replaceSubrange(range, with: "| \(altText)]]")
-        }
-        
-        var finalFullArticleWikitextWithImage = fullArticleWikitextWithImage
-        if let range = finalFullArticleWikitextWithImage.range(of: imageWikitext) {
-            finalFullArticleWikitextWithImage.replaceSubrange(range, with: finalImageWikitext)
-        }
-        
-        return finalFullArticleWikitextWithImage
-    }
 }
 
 fileprivate extension String {
diff --git a/WMFData/Tests/WMFDataTests/WMFWikitextUtilsTests.swift b/WMFData/Tests/WMFDataTests/WMFWikitextUtilsTests.swift
index 2a32805f165..c40ab2efd44 100644
--- a/WMFData/Tests/WMFDataTests/WMFWikitextUtilsTests.swift
+++ b/WMFData/Tests/WMFDataTests/WMFWikitextUtilsTests.swift
@@ -629,6 +629,8 @@ final class WMFWikitextUtilsTests: XCTestCase {
         XCTAssertEqual(insertedArticleWikitext, expectedInsertedArticleWikitext)
     }
     
+    // MARK: - Alt Text Tests
+    
     func testInsertAltText() {
         let articleWikitext = """
             [[File:Dog (Canis lupus familiaris) (5).JPG|thumb|Canis lupus familiaris]]
@@ -648,4 +650,42 @@ final class WMFWikitextUtilsTests: XCTestCase {
             // Fallback on earlier versions
         }
     }
+    
+    func testAltTextDetectorCaptionNoAlt() throws {
+        let text = "[[File:Test no alt.jpg|caption here]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try WMFWikitextUtils.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
+        XCTAssertEqual(result.count, 1)
+        let link = result[0]
+        XCTAssertEqual(link.text, text)
+        XCTAssertEqual(link.file, "File:Test no alt.jpg")
+        XCTAssertEqual(link.offset, "text text ".count)
+        XCTAssertEqual(link.length, text.count)
+    }
+    
+    func testAltTextDetectorCaptionNoAltDE() throws {
+        let text = "[[Datei:Test no alt.jpg|caption here]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try WMFWikitextUtils.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
+        XCTAssertEqual(result.count, 1)
+        let link = result[0]
+        XCTAssertEqual(link.text, text)
+        XCTAssertEqual(link.file, "Datei:Test no alt.jpg")
+        XCTAssertEqual(link.offset, "text text ".count)
+        XCTAssertEqual(link.length, text.count)
+    }
+
+    func testAltTextDetectorCaptionWithAlt() throws {
+        let text = "[[File:Test with alt.jpg|caption here|alt=Cool picture]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try WMFWikitextUtils.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
+        XCTAssertEqual(result.count, 0)
+    }
+    
+    func testAltTextDetectorCaptionWithAltDE() throws {
+        let text = "[[Datei:Test with alt.jpg|caption here|alternativtext=Cool picture]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try WMFWikitextUtils.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
+        XCTAssertEqual(result.count, 0)
+    }
 }
diff --git a/Wikipedia.xcodeproj/project.pbxproj b/Wikipedia.xcodeproj/project.pbxproj
index c39b73fbee3..e7fe88002e5 100644
--- a/Wikipedia.xcodeproj/project.pbxproj
+++ b/Wikipedia.xcodeproj/project.pbxproj
@@ -396,11 +396,7 @@
 		53A575FA2602C845009835E6 /* WMFAppViewController+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 53A575F92602C845009835E6 /* WMFAppViewController+Extensions.swift */; };
 		53A575FB2602C845009835E6 /* WMFAppViewController+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 53A575F92602C845009835E6 /* WMFAppViewController+Extensions.swift */; };
 		53A575FC2602C845009835E6 /* WMFAppViewController+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 53A575F92602C845009835E6 /* WMFAppViewController+Extensions.swift */; };
-		5F5E96E52C57E4D6006FDE95 /* SharedLib.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5F5E96E42C57E4D6006FDE95 /* SharedLib.swift */; };
-		5F5E96E62C57E4D6006FDE95 /* SharedLib.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5F5E96E42C57E4D6006FDE95 /* SharedLib.swift */; };
-		5FF60E702C59350600306D6E /* sharedlib in Resources */ = {isa = PBXBuildFile; fileRef = 5FF60E6F2C59350600306D6E /* sharedlib */; };
-		5FF60E712C59350600306D6E /* sharedlib in Resources */ = {isa = PBXBuildFile; fileRef = 5FF60E6F2C59350600306D6E /* sharedlib */; };
-		5FF60E732C59376900306D6E /* SharedLibTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5FF60E722C59376900306D6E /* SharedLibTest.swift */; };
+		5FF60E732C59376900306D6E /* WMFMissingAltTextLinkTests.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5FF60E722C59376900306D6E /* WMFMissingAltTextLinkTests.swift */; };
 		67033E142A61B24800896852 /* WatchlistController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67033E132A61B24800896852 /* WatchlistController.swift */; };
 		67033E152A61B24800896852 /* WatchlistController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67033E132A61B24800896852 /* WatchlistController.swift */; };
 		67033E162A61B24800896852 /* WatchlistController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67033E132A61B24800896852 /* WatchlistController.swift */; };
@@ -859,6 +855,9 @@
 		67D9D1FC29711CA700BFCD4F /* Loadable.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67D9D1FA29711CA700BFCD4F /* Loadable.swift */; };
 		67D9D1FD29711CA700BFCD4F /* Loadable.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67D9D1FA29711CA700BFCD4F /* Loadable.swift */; };
 		67DA31882720957B0035D40F /* RemoteNotificationsPagingOperation.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67DA31872720957A0035D40F /* RemoteNotificationsPagingOperation.swift */; };
+		67DA39802C6D31C300F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5F5E96E42C57E4D6006FDE95 /* WMFMissingAltTextLink+Extensions.swift */; };
+		67DA39812C6D31C300F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5F5E96E42C57E4D6006FDE95 /* WMFMissingAltTextLink+Extensions.swift */; };
+		67DA39822C6D31C400F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */ = {isa = PBXBuildFile; fileRef = 5F5E96E42C57E4D6006FDE95 /* WMFMissingAltTextLink+Extensions.swift */; };
 		67DAEDA123CD1BC9003AA208 /* CacheGatekeeper.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67DAEDA023CD1BC9003AA208 /* CacheGatekeeper.swift */; };
 		67DAEDA323CE24DA003AA208 /* SavedArticlesFetcher.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67DAEDA223CE24DA003AA208 /* SavedArticlesFetcher.swift */; };
 		67DAEDA423CE24DA003AA208 /* SavedArticlesFetcher.swift in Sources */ = {isa = PBXBuildFile; fileRef = 67DAEDA223CE24DA003AA208 /* SavedArticlesFetcher.swift */; };
@@ -3246,9 +3245,8 @@
 		535F16D525CE11A300875AAD /* MWKDataStore+LanguageVariantMigration.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "MWKDataStore+LanguageVariantMigration.swift"; sourceTree = "<group>"; };
 		53A575F92602C845009835E6 /* WMFAppViewController+Extensions.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "WMFAppViewController+Extensions.swift"; sourceTree = "<group>"; };
 		53BAB79925DDDEE100A5ED4E /* Wikipedia 6.xcdatamodel */ = {isa = PBXFileReference; lastKnownFileType = wrapper.xcdatamodel; path = "Wikipedia 6.xcdatamodel"; sourceTree = "<group>"; };
-		5F5E96E42C57E4D6006FDE95 /* SharedLib.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = SharedLib.swift; sourceTree = "<group>"; };
-		5FF60E6F2C59350600306D6E /* sharedlib */ = {isa = PBXFileReference; lastKnownFileType = folder; path = sharedlib; sourceTree = SOURCE_ROOT; };
-		5FF60E722C59376900306D6E /* SharedLibTest.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = SharedLibTest.swift; sourceTree = "<group>"; };
+		5F5E96E42C57E4D6006FDE95 /* WMFMissingAltTextLink+Extensions.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "WMFMissingAltTextLink+Extensions.swift"; sourceTree = "<group>"; };
+		5FF60E722C59376900306D6E /* WMFMissingAltTextLinkTests.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = WMFMissingAltTextLinkTests.swift; sourceTree = "<group>"; };
 		67033E132A61B24800896852 /* WatchlistController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = WatchlistController.swift; sourceTree = "<group>"; };
 		67033E182A61DC3700896852 /* ArticleViewController+Watchlist.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "ArticleViewController+Watchlist.swift"; sourceTree = "<group>"; };
 		67059DB42260D034009811AA /* SchemeHandler.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = SchemeHandler.swift; sourceTree = "<group>"; };
@@ -7529,7 +7527,7 @@
 				67BEFFD928AEDF3600606B38 /* WikimediaProject.swift */,
 				673DE3112BAE2C9400E4D431 /* WKProject+Extensions.swift */,
 				67F42EE22AA0E39C003BDCB6 /* UINavigationItem+Extensions.swift */,
-				5F5E96E42C57E4D6006FDE95 /* SharedLib.swift */,
+				5F5E96E42C57E4D6006FDE95 /* WMFMissingAltTextLink+Extensions.swift */,
 			);
 			name = Utilities;
 			sourceTree = "<group>";
@@ -7860,7 +7858,7 @@
 				00D280FB247F019C006BEE23 /* Date+ExtensionTests.swift */,
 				FFBA8C1827D824D8009E9B65 /* URL+ExtensionTests.swift */,
 				00A8F58526BDD5E700175B8E /* WidgetSampleContentTests.swift */,
-				5FF60E722C59376900306D6E /* SharedLibTest.swift */,
+				5FF60E722C59376900306D6E /* WMFMissingAltTextLinkTests.swift */,
 			);
 			name = Tests;
 			path = WikipediaUnitTests/Code;
@@ -7971,7 +7969,6 @@
 				D4991453181D51DE00E6073C /* Images.xcassets */,
 				BC7C3A371C0FF94A0057F023 /* Code */,
 				BCF012321AD2FA38008D3675 /* assets */,
-				5FF60E6F2C59350600306D6E /* sharedlib */,
 				D8BA1F1F1DF1E19700502877 /* Resources */,
 			);
 			path = Wikipedia;
@@ -9350,7 +9347,6 @@
 			isa = PBXResourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
-				5FF60E712C59350600306D6E /* sharedlib in Resources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -9449,7 +9445,6 @@
 				7AE1D3331FCD057200393471 /* Saved.storyboard in Resources */,
 				D8E27BAD1F82B54D00F9D2B3 /* RMessageDefaultDesign.json in Resources */,
 				B01EA07E2022856300813726 /* ScrollableEducationPanelView.xib in Resources */,
-				5FF60E702C59350600306D6E /* sharedlib in Resources */,
 				D84F2BFB1D2FEE6300963D42 /* WMFRandomDiceButton.html in Resources */,
 				7A9524D022665E6400C55CDC /* InsertMediaSettingsImageView.xib in Resources */,
 				7ABE171D2239B8EE006BA309 /* WelcomeContainerViewController.xib in Resources */,
@@ -9936,7 +9931,7 @@
 				D8BDA8C11E71C0760031F4BF /* WMFBlocksKitTests.m in Sources */,
 				B0E8092F1C0D1A0B0065EBC0 /* NSURL+WMFExtrasTests.m in Sources */,
 				B39427441E71F79700D3146D /* NSDictionaryBlocksKitTest.m in Sources */,
-				5FF60E732C59376900306D6E /* SharedLibTest.swift in Sources */,
+				5FF60E732C59376900306D6E /* WMFMissingAltTextLinkTests.swift in Sources */,
 				67DAEDF027E8FB63005CF9B6 /* NotificationsCenterDetailViewModelMentionTests.swift in Sources */,
 				B0E808771C0D155A0065EBC0 /* XCTestCase+WMFBundleConvenience.m in Sources */,
 				004281BC25E6EFC4004945B3 /* LSASIHTTPRequestHook.m in Sources */,
@@ -10017,7 +10012,6 @@
 				004281C025E6EFC4004945B3 /* NSString+Matcheable.m in Sources */,
 				004281C425E6EFC4004945B3 /* LSRegexMatcher.m in Sources */,
 				004281C225E6EFC4004945B3 /* LSDataMatcher.m in Sources */,
-				5F5E96E62C57E4D6006FDE95 /* SharedLib.swift in Sources */,
 				004281C625E6EFC4004945B3 /* NSString+Nocilla.m in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
@@ -10406,7 +10400,6 @@
 				7AF8CEED22653406000B7676 /* InsertMediaSelectedImageView.swift in Sources */,
 				838790B32858009000067B1D /* TalkPageFetcher.swift in Sources */,
 				67BF28542C3DEC5300C9F5DE /* AppDelegate.swift in Sources */,
-				5F5E96E52C57E4D6006FDE95 /* SharedLib.swift in Sources */,
 				B08337611DB17DC5002860D2 /* WMFWelcomeAnalyticsViewController.swift in Sources */,
 				6782DBAF2343B812003FA21B /* DiffHeaderCompareView.swift in Sources */,
 				B0D3E70C214AF776007578BA /* DescriptionEditViewController.swift in Sources */,
@@ -10439,6 +10432,7 @@
 				6798332922C3F28A0073CE6F /* UITextView+Extensions.swift in Sources */,
 				B031032D1F677BEC00E2FCF6 /* WMFWelcomeExplorationViewController.swift in Sources */,
 				00B0B3D02978745400DD7893 /* EditNoticesFetcher.swift in Sources */,
+				67DA39802C6D31C300F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */,
 				00E5B39F28EB8E2100D2C51A /* TalkPageTopicReplyOnboardingView.swift in Sources */,
 				6782DBC12343FDCA003FA21B /* DiffListChangeCell.swift in Sources */,
 				673DE3122BAE2C9400E4D431 /* WKProject+Extensions.swift in Sources */,
@@ -11227,6 +11221,7 @@
 				B0C7A0831F710E94008415E7 /* WMFWelcomeLanguagesAnimationBackgroundView.swift in Sources */,
 				67B5334328416C0E00C33E13 /* UserDataExportCache.swift in Sources */,
 				8361474C24223689003E49D3 /* ArticleViewController+Announcements.swift in Sources */,
+				67DA39822C6D31C400F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */,
 				83023C2020E6584F00EC7592 /* SearchTransition.swift in Sources */,
 				003AD7302979C512005BDB90 /* EditNoticesViewModel.swift in Sources */,
 				677129A224FFF43000E89CA5 /* ArticleAsLivingDocHorizontallyScrollingCell.swift in Sources */,
@@ -11788,6 +11783,7 @@
 				7AC19E472301F79700E25B83 /* PageHistoryFilterCountCollectionViewCell.swift in Sources */,
 				B0C7A07F1F710E94008415E7 /* WMFWelcomeLanguagesAnimationBackgroundView.swift in Sources */,
 				8361474D24223689003E49D3 /* ArticleViewController+Announcements.swift in Sources */,
+				67DA39812C6D31C300F2058E /* WMFMissingAltTextLink+Extensions.swift in Sources */,
 				67B5334228416C0E00C33E13 /* UserDataExportCache.swift in Sources */,
 				6782DBC32343FDCA003FA21B /* DiffListChangeCell.swift in Sources */,
 				003AD72F2979C512005BDB90 /* EditNoticesViewModel.swift in Sources */,
diff --git a/Wikipedia/Code/ArticleViewController+Editing.swift b/Wikipedia/Code/ArticleViewController+Editing.swift
index ad53f9103dc..89aae17862a 100644
--- a/Wikipedia/Code/ArticleViewController+Editing.swift
+++ b/Wikipedia/Code/ArticleViewController+Editing.swift
@@ -272,12 +272,11 @@ extension ArticleViewController: EditorViewControllerDelegate {
             return
         }
         
-        var missingAltTextLink: MissingAltTextLink?
+        var missingAltTextLink: WMFMissingAltTextLink?
         do {
-            let jsAltTextDetector = try AltText()
             let fileMagicWords = MagicWordUtils.getMagicWordsForKey(.fileNamespace, languageCode: languageCode)
             let altMagicWords = MagicWordUtils.getMagicWordsForKey(.imageAlt, languageCode: languageCode)
-            missingAltTextLink = try jsAltTextDetector.missingAltTextLinks(text: fullArticleWikitext, language: languageCode, targetNamespaces: fileMagicWords, targetAltParams: altMagicWords).first
+            missingAltTextLink = try WMFWikitextUtils.missingAltTextLinks(text: fullArticleWikitext, language: languageCode, targetNamespaces: fileMagicWords, targetAltParams: altMagicWords).first
         } catch {
             DDLogError("Error extracting missing alt text link: \(error)")
         }
@@ -305,7 +304,7 @@ extension ArticleViewController: EditorViewControllerDelegate {
         }
     }
     
-    private func presentAltTextPromptModal(missingAltTextLink: MissingAltTextLink, filename: String, articleTitle: String, fullArticleWikitext: String, lastRevisionID: UInt64) {
+    private func presentAltTextPromptModal(missingAltTextLink: WMFMissingAltTextLink, filename: String, articleTitle: String, fullArticleWikitext: String, lastRevisionID: UInt64) {
         
         let siteURL = articleURL.wmf_site
         guard let languageCode = siteURL?.wmf_languageCode else {
diff --git a/Wikipedia/Code/SharedLib.swift b/Wikipedia/Code/WMFMissingAltTextLink+Extensions.swift
similarity index 72%
rename from Wikipedia/Code/SharedLib.swift
rename to Wikipedia/Code/WMFMissingAltTextLink+Extensions.swift
index 3bad5dfd9e3..963548352fb 100644
--- a/Wikipedia/Code/SharedLib.swift
+++ b/Wikipedia/Code/WMFMissingAltTextLink+Extensions.swift
@@ -1,58 +1,13 @@
-// Wrapper for JS sharedlib for the iOS and Android apps
-// Experimental as of 2024-07-29
+import WMFData
 
-import Foundation
-import JavaScriptCore
-
-public struct MissingAltTextLink {
-    public var text: String
-    public var file: String
-    public var offset: Int
-    public var length: Int
-}
-
-public enum MissingAltTextLinkExtractCaptionError: Error {
+public enum WMFMissingAltTextLinkExtractCaptionError: Error {
     case failureSettingUpRegex
     case errorStrippingTemplates
     case emptyContent
 }
 
-public class AltText {
-    var context: JSContext
-
-    public init() throws {
-        context = JSContext()
-
-        let altPath = Bundle.main.path(forResource: "alt-text", ofType: "js", inDirectory: "sharedlib")!
-
-        let alt = try String(contentsOfFile: altPath)
-
-        context.evaluateScript(alt)
-    }
-
-    public func missingAltTextLinks(text: String, language: String, targetNamespaces: [String], targetAltParams: [String]) throws -> [MissingAltTextLink] {
-        let f = context.globalObject.objectForKeyedSubscript("missingAltTextLinks")!
-        let ret = f.call(withArguments:[text, language, targetNamespaces, targetAltParams])
-        var arr = [MissingAltTextLink]()
-        let len = Int(ret?.objectForKeyedSubscript("length").toInt32() ?? 0)
-        for i in 0..<len {
-            let link = ret?.objectAtIndexedSubscript(i)
-            let text = link?.objectForKeyedSubscript("text")?.toString()
-            let file = link?.objectForKeyedSubscript("file")?.toString()
-            let offset = link?.objectForKeyedSubscript("offset")?.toInt32()
-            let length = link?.objectForKeyedSubscript("length")?.toInt32()
-            arr.append(MissingAltTextLink(
-                text: text!,
-                file: file!,
-                offset: Int(offset!),
-                length: Int(length!)
-            ))
-        }
-        return arr
-    }
-}
-
-extension MissingAltTextLink {
+// Note: Ideally this would live in WMFData, but we can't move it there until we get magic words logic bundled there as well.
+extension WMFMissingAltTextLink {
     @available(iOS 16.0, *)
     
     // Extracts a caption for display only. Note this strips out embedded links, templates, and html tags from caption, so it may not exactly match the original caption.
@@ -65,7 +20,7 @@ extension MissingAltTextLink {
                 return nil
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         
@@ -76,7 +31,7 @@ extension MissingAltTextLink {
         do {
             try stripTemplateRecursive(text: &finalText)
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.errorStrippingTemplates
+            throw WMFMissingAltTextLinkExtractCaptionError.errorStrippingTemplates
         }
         
         // strip html
@@ -90,7 +45,7 @@ extension MissingAltTextLink {
                 finalText.replaceSubrange(range, with: "")
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         // strip params with px
@@ -101,7 +56,7 @@ extension MissingAltTextLink {
                 finalText.replaceSubrange(range, with: "")
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         // gather up all magic words
@@ -133,7 +88,7 @@ extension MissingAltTextLink {
                 finalText.replaceSubrange(range, with: "")
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         // strip embedded links
@@ -144,7 +99,7 @@ extension MissingAltTextLink {
                 finalText.replaceSubrange(range, with: "")
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         // strip the beginning and trailing links
@@ -169,7 +124,7 @@ extension MissingAltTextLink {
                 finalText.replaceSubrange(range, with: "")
             }
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
         
         // strip remaining |, ], [ and spaces
@@ -203,7 +158,7 @@ extension MissingAltTextLink {
             }
             
         } catch {
-            throw MissingAltTextLinkExtractCaptionError.failureSettingUpRegex
+            throw WMFMissingAltTextLinkExtractCaptionError.failureSettingUpRegex
         }
     }
 }
diff --git a/WikipediaUnitTests/Code/SharedLibTest.swift b/WikipediaUnitTests/Code/SharedLibTest.swift
deleted file mode 100644
index 28c5bc1c26f..00000000000
--- a/WikipediaUnitTests/Code/SharedLibTest.swift
+++ /dev/null
@@ -1,130 +0,0 @@
-import XCTest
-
-final class SharedLibTest: XCTestCase {
-
-    var alt: AltText?
-
-    override func setUpWithError() throws {
-        alt = try AltText()
-    }
-
-    override func tearDownWithError() throws {
-    }
-
-    func testCaptionNoAlt() throws {
-        let text = "[[File:Test no alt.jpg|caption here]]"
-        let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
-        XCTAssertEqual(result?.count, 1)
-        let link = result?[0]
-        XCTAssertEqual(link?.text, text)
-        XCTAssertEqual(link?.file, "File:Test no alt.jpg")
-        XCTAssertEqual(link?.offset, "text text ".count)
-        XCTAssertEqual(link?.length, text.count)
-    }
-    
-    func testCaptionNoAltDE() throws {
-        let text = "[[Datei:Test no alt.jpg|caption here]]"
-        let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
-        XCTAssertEqual(result?.count, 1)
-        let link = result?[0]
-        XCTAssertEqual(link?.text, text)
-        XCTAssertEqual(link?.file, "Datei:Test no alt.jpg")
-        XCTAssertEqual(link?.offset, "text text ".count)
-        XCTAssertEqual(link?.length, text.count)
-    }
-
-    func testCaptionWithAlt() throws {
-        let text = "[[File:Test with alt.jpg|caption here|alt=Cool picture]]"
-        let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
-        XCTAssertEqual(result?.count, 0)
-    }
-    
-    func testCaptionWithAltDE() throws {
-        let text = "[[Datei:Test with alt.jpg|caption here|alternativtext=Cool picture]]"
-        let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
-        XCTAssertEqual(result?.count, 0)
-    }
-    
-    func testCaptionExtract1EN() throws {
-        let missingLink = MissingAltTextLink(text: "[[File:Test no alt.jpg|caption here]]", file: "File:Test no alt.jpg", offset: 10, length: 37)
-        
-        if #available(iOS 16.0, *) {
-            do {
-                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
-                XCTAssertEqual(caption, "caption here")
-            } catch {
-                XCTFail("Failure extracting caption")
-            }
-        } else {
-            // Fallback on earlier versions
-        }
-    }
-    
-    func testCaptionExtract2EN() throws {
-        // Note: offset and length do not matter for this test
-        let missingLink = MissingAltTextLink(text: "[[File:Brechschere-Hund.jpg|thumb|Location of a dog's [[carnassial]]s; the inside of the 4th upper [[premolar]] aligns with the outside of the 1st lower [[Molar (tooth)|molar]], working like scissor blades.]]", file: "File:Brechschere-Hund.jpg", offset: 0, length: 0)
-        
-        if #available(iOS 16.0, *) {
-            do {
-                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
-                XCTAssertEqual(caption, "Location of a dog's carnassials; the inside of the 4th upper premolar aligns with the outside of the 1st lower molar, working like scissor blades.")
-            } catch {
-                XCTFail("Failure extracting caption")
-            }
-        } else {
-            // Fallback on earlier versions
-        }
-    }
-    
-    func testCaptionExtract3EN() throws {
-        // Note: offset and length do not matter for this test
-        let missingLink = MissingAltTextLink(text: "[[File:Cat skull.jpg|thumb|Cat skull|left|220x220px]]", file: "File:Cat skull.jpg", offset: 0, length: 0)
-        
-        if #available(iOS 16.0, *) {
-            do {
-                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
-                XCTAssertEqual(caption, "Cat skull")
-            } catch {
-                XCTFail("Failure extracting caption")
-            }
-        } else {
-            // Fallback on earlier versions
-        }
-    }
-    
-    func testCaptionExtract4EN() throws {
-        // Note: offset and length do not matter for this test
-        let missingLink = MissingAltTextLink(text: "[[File:Ann Dunham with father and children.jpg|thumb|left|Obama (right) with grandfather [[Stanley Armour Dunham]], mother [[Ann Dunham]], and half-sister [[Maya Soetoro-Ng|Maya Soetoro]], mid-1970s in [[Honolulu]]]]", file: "File:Ann Dunham with father and children.jpg", offset: 0, length: 0)
-        
-        if #available(iOS 16.0, *) {
-            do {
-                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
-                XCTAssertEqual(caption, "Obama (right) with grandfather Stanley Armour Dunham, mother Ann Dunham, and half-sister Maya Soetoro, mid-1970s in Honolulu")
-            } catch {
-                XCTFail("Failure extracting caption")
-            }
-        } else {
-            // Fallback on earlier versions
-        }
-    }
-    
-    func testCaptionExtract5EN() throws {
-        // Note: offset and length do not matter for this test
-        let missingLink = MissingAltTextLink(text: "[[File:Barry Soetoro school record.jpg|thumb|Obama's Indonesian school record in St. Francis of Assisi Catholic Elementary School. Obama was enrolled as \"Barry Soetoro\" (no. 1), and was wrongly recorded as an Indonesian citizen (no. 3) and a Muslim (no. 4).<ref name=\"Suhartono_3/19/2010\">{{Cite news|last=Suhartono|first=Anton|date=March 19, 2010|title=Sekolah di SD Asisi, Obama Berstatus Agama Islam|work=Okezone|url=https://nasional.okezone.com/read/2010/03/19/337/313977/sekolah-di-sd-asisi-obama-berstatus-agama-islam|language=Indonesian|access-date=January 21, 2021|archive-date=January 28, 2021|archive-url=https://web.archive.org/web/20210128041130/https://nasional.okezone.com/read/2010/03/19/337/313977/sekolah-di-sd-asisi-obama-berstatus-agama-islam|url-status=live}}</ref>]]", file: "File:Barry Soetoro school record.jpg", offset: 0, length: 0)
-        
-        if #available(iOS 16.0, *) {
-            do {
-                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
-                XCTAssertEqual(caption, "Obama's Indonesian school record in St. Francis of Assisi Catholic Elementary School. Obama was enrolled as \"Barry Soetoro\" (no. 1), and was wrongly recorded as an Indonesian citizen (no. 3) and a Muslim (no. 4).")
-            } catch {
-                XCTFail("Failure extracting caption")
-            }
-        } else {
-            // Fallback on earlier versions
-        }
-    }
-}
diff --git a/WikipediaUnitTests/Code/WMFMissingAltTextLinkTests.swift b/WikipediaUnitTests/Code/WMFMissingAltTextLinkTests.swift
new file mode 100644
index 00000000000..5f56ef932e8
--- /dev/null
+++ b/WikipediaUnitTests/Code/WMFMissingAltTextLinkTests.swift
@@ -0,0 +1,85 @@
+import XCTest
+import WMFData
+@testable import Wikipedia
+
+ final class WMFMissingAltTextLinkTests: XCTestCase {
+    func testCaptionExtract1EN() throws {
+        let missingLink = WMFMissingAltTextLink(text: "[[File:Test no alt.jpg|caption here]]", file: "File:Test no alt.jpg", offset: 10, length: 37)
+        
+        if #available(iOS 16.0, *) {
+            do {
+                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
+                XCTAssertEqual(caption, "caption here")
+            } catch {
+                XCTFail("Failure extracting caption")
+            }
+        } else {
+            // Fallback on earlier versions
+        }
+    }
+    
+    func testCaptionExtract2EN() throws {
+        // Note: offset and length do not matter for this test
+        let missingLink = WMFMissingAltTextLink(text: "[[File:Brechschere-Hund.jpg|thumb|Location of a dog's [[carnassial]]s; the inside of the 4th upper [[premolar]] aligns with the outside of the 1st lower [[Molar (tooth)|molar]], working like scissor blades.]]", file: "File:Brechschere-Hund.jpg", offset: 0, length: 0)
+        
+        if #available(iOS 16.0, *) {
+            do {
+                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
+                XCTAssertEqual(caption, "Location of a dog's carnassials; the inside of the 4th upper premolar aligns with the outside of the 1st lower molar, working like scissor blades.")
+            } catch {
+                XCTFail("Failure extracting caption")
+            }
+        } else {
+            // Fallback on earlier versions
+        }
+    }
+    
+    func testCaptionExtract3EN() throws {
+        // Note: offset and length do not matter for this test
+        let missingLink = WMFMissingAltTextLink(text: "[[File:Cat skull.jpg|thumb|Cat skull|left|220x220px]]", file: "File:Cat skull.jpg", offset: 0, length: 0)
+        
+        if #available(iOS 16.0, *) {
+            do {
+                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
+                XCTAssertEqual(caption, "Cat skull")
+            } catch {
+                XCTFail("Failure extracting caption")
+            }
+        } else {
+            // Fallback on earlier versions
+        }
+    }
+    
+    func testCaptionExtract4EN() throws {
+        // Note: offset and length do not matter for this test
+        let missingLink = WMFMissingAltTextLink(text: "[[File:Ann Dunham with father and children.jpg|thumb|left|Obama (right) with grandfather [[Stanley Armour Dunham]], mother [[Ann Dunham]], and half-sister [[Maya Soetoro-Ng|Maya Soetoro]], mid-1970s in [[Honolulu]]]]", file: "File:Ann Dunham with father and children.jpg", offset: 0, length: 0)
+        
+        if #available(iOS 16.0, *) {
+            do {
+                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
+                XCTAssertEqual(caption, "Obama (right) with grandfather Stanley Armour Dunham, mother Ann Dunham, and half-sister Maya Soetoro, mid-1970s in Honolulu")
+            } catch {
+                XCTFail("Failure extracting caption")
+            }
+        } else {
+            // Fallback on earlier versions
+        }
+    }
+    
+    func testCaptionExtract5EN() throws {
+        // Note: offset and length do not matter for this test
+        let missingLink = WMFMissingAltTextLink(text: "[[File:Barry Soetoro school record.jpg|thumb|Obama's Indonesian school record in St. Francis of Assisi Catholic Elementary School. Obama was enrolled as \"Barry Soetoro\" (no. 1), and was wrongly recorded as an Indonesian citizen (no. 3) and a Muslim (no. 4).<ref name=\"Suhartono_3/19/2010\">{{Cite news|last=Suhartono|first=Anton|date=March 19, 2010|title=Sekolah di SD Asisi, Obama Berstatus Agama Islam|work=Okezone|url=https://nasional.okezone.com/read/2010/03/19/337/313977/sekolah-di-sd-asisi-obama-berstatus-agama-islam|language=Indonesian|access-date=January 21, 2021|archive-date=January 28, 2021|archive-url=https://web.archive.org/web/20210128041130/https://nasional.okezone.com/read/2010/03/19/337/313977/sekolah-di-sd-asisi-obama-berstatus-agama-islam|url-status=live}}</ref>]]", file: "File:Barry Soetoro school record.jpg", offset: 0, length: 0)
+        
+        if #available(iOS 16.0, *) {
+            do {
+                let caption = try missingLink.extractCaptionForDisplay(languageCode: "en")
+                XCTAssertEqual(caption, "Obama's Indonesian school record in St. Francis of Assisi Catholic Elementary School. Obama was enrolled as \"Barry Soetoro\" (no. 1), and was wrongly recorded as an Indonesian citizen (no. 3) and a Muslim (no. 4).")
+            } catch {
+                XCTFail("Failure extracting caption")
+            }
+        } else {
+            // Fallback on earlier versions
+        }
+    }
+    
+ }
