diff --git a/Wikipedia/Code/ArticleViewController+Editing.swift b/Wikipedia/Code/ArticleViewController+Editing.swift
index 3d440c951f7..b75ff225907 100644
--- a/Wikipedia/Code/ArticleViewController+Editing.swift
+++ b/Wikipedia/Code/ArticleViewController+Editing.swift
@@ -275,7 +275,9 @@ extension ArticleViewController: EditorViewControllerDelegate {
         var missingAltTextLink: MissingAltTextLink?
         do {
             let jsAltTextDetector = try AltText()
-            missingAltTextLink = try jsAltTextDetector.missingAltTextLinks(text: postedWikitext, language: languageCode).first
+            let fileMagicWords = MagicWordUtils.getMagicWordsForKey(.fileNamespace, languageCode: languageCode)
+            let altMagicWords = MagicWordUtils.getMagicWordsForKey(.imageAlt, languageCode: languageCode)
+            missingAltTextLink = try jsAltTextDetector.missingAltTextLinks(text: postedWikitext, language: languageCode, targetNamespaces: fileMagicWords, targetAltParams: altMagicWords).first
         } catch {
             DDLogError("Error extracting missing alt text link: \(error)")
         }
diff --git a/Wikipedia/Code/SharedLib.swift b/Wikipedia/Code/SharedLib.swift
index 3760f4aa871..3bad5dfd9e3 100644
--- a/Wikipedia/Code/SharedLib.swift
+++ b/Wikipedia/Code/SharedLib.swift
@@ -30,9 +30,9 @@ public class AltText {
         context.evaluateScript(alt)
     }
 
-    public func missingAltTextLinks(text: String, language: String) throws -> [MissingAltTextLink] {
+    public func missingAltTextLinks(text: String, language: String, targetNamespaces: [String], targetAltParams: [String]) throws -> [MissingAltTextLink] {
         let f = context.globalObject.objectForKeyedSubscript("missingAltTextLinks")!
-        let ret = f.call(withArguments:[text, language])
+        let ret = f.call(withArguments:[text, language, targetNamespaces, targetAltParams])
         var arr = [MissingAltTextLink]()
         let len = Int(ret?.objectForKeyedSubscript("length").toInt32() ?? 0)
         for i in 0..<len {
diff --git a/WikipediaUnitTests/Code/SharedLibTest.swift b/WikipediaUnitTests/Code/SharedLibTest.swift
index 42efd7804eb..9733531c2c6 100644
--- a/WikipediaUnitTests/Code/SharedLibTest.swift
+++ b/WikipediaUnitTests/Code/SharedLibTest.swift
@@ -14,7 +14,7 @@ final class SharedLibTest: XCTestCase {
     func testCaptionNoAlt() throws {
         let text = "[[File:Test no alt.jpg|caption here]]"
         let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en")
+        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
         XCTAssertEqual(result?.count, 1)
         let link = result?[0]
         XCTAssertEqual(link?.text, text)
@@ -22,11 +22,30 @@ final class SharedLibTest: XCTestCase {
         XCTAssertEqual(link?.offset, "text text ".count)
         XCTAssertEqual(link?.length, text.count)
     }
+    
+    func testCaptionNoAltDE() throws {
+        let text = "[[Datei:Test no alt.jpg|caption here]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
+        XCTAssertEqual(result?.count, 1)
+        let link = result?[0]
+        XCTAssertEqual(link?.text, text)
+        XCTAssertEqual(link?.file, "Datei:Test no alt.jpg")
+        XCTAssertEqual(link?.offset, "text text ".count)
+        XCTAssertEqual(link?.length, text.count)
+    }
 
     func testCaptionWithAlt() throws {
         let text = "[[File:Test with alt.jpg|caption here|alt=Cool picture]]"
         let wikitext = "text text " + text + " text text"
-        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en")
+        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["File"], targetAltParams: ["alt"])
+        XCTAssertEqual(result?.count, 0)
+    }
+    
+    func testCaptionWithAltDE() throws {
+        let text = "[[Datei:Test with alt.jpg|caption here|alternativtext=Cool picture]]"
+        let wikitext = "text text " + text + " text text"
+        let result = try alt?.missingAltTextLinks(text: wikitext, language: "en", targetNamespaces: ["Datei"], targetAltParams: ["alternativtext", "alt"])
         XCTAssertEqual(result?.count, 0)
     }
     
diff --git a/sharedlib/.node-version b/sharedlib/.node-version
new file mode 100644
index 00000000000..11062bf96d3
--- /dev/null
+++ b/sharedlib/.node-version
@@ -0,0 +1 @@
+21.6.1
\ No newline at end of file
diff --git a/sharedlib/alt-text.js b/sharedlib/alt-text.js
index 1262ce921a1..e3e32655f5e 100644
--- a/sharedlib/alt-text.js
+++ b/sharedlib/alt-text.js
@@ -14,13 +14,19 @@ const linksRegEx = new RegExp(
     "dmg"
 );
 
-// @fixme we need to support localized variants;
-// fetch them into a .json for use here, or pass
-// them in from the Swift side maybe?
-const fileRegEx = /^\s*(?:Image|File):.*/i;
-const altRegEx = /^\s*alt\s*=\s*(?:[^\|\]]*)$/i;
+function fileRegEx(targetNamespaces) {
+    let joinedNamespaces = targetNamespaces.join("|")
+    const regexPattern = `^\\s*(?:${joinedNamespaces}):.*`;
+    return new RegExp(regexPattern, 'idmg');
+}
+
+function altRegEx(targetAltParams) {
+    let joinedAltParams = targetAltParams.join("|")
+    const regexPattern = `^\\s*(?:${joinedAltParams})\\s*=\\s*[^|]*$`;
+    return new RegExp(regexPattern, 'dmg');
+}
 
-function parseLink(offset, length, text, language) {
+function parseLink(offset, length, text, language, targetNamespaces, targetAltParams) {
     let bits = text.split( /\|/ );
     let link = {
         text: '[[' + text + ']]',
@@ -30,21 +36,23 @@ function parseLink(offset, length, text, language) {
         alt: null,
     };
     for (let bit of bits) {
-        if (bit.match(fileRegEx)) {
+        var fileRegex = fileRegEx(targetNamespaces);
+        var altRegex = altRegEx(targetAltParams);
+        if (bit.match(fileRegex)) {
             link.file = bit;
-        } else if (bit.match(altRegEx)) {
+        } else if (bit.match(altRegex)) {
             link.alt = bit;
         }
     }
     return link;
 }
 
-function parseLinks(text, language) {
+function parseLinks(text, language, targetNamespaces, targetAltParams) {
     let matches = text.matchAll(linksRegEx);
     let bits = [];
     for (let m of matches) {
         let offset = m.indices[0][0];
-        let link = parseLink(offset, m[0].length, m[1], language);
+        let link = parseLink(offset, m[0].length, m[1], language, targetNamespaces, targetAltParams);
         bits.push(link);
     }
     return bits;
@@ -55,10 +63,12 @@ function parseLinks(text, language) {
  *
  * @param {string} text input wikitext
  * @param {string} language code
+ * @param {string} targetNamespaces Namespaces to look for (File, Image, etc.)
+ * @param {string} targetAltParams Alt parameters to look for (alt, alternativtext, etc.)
  * @returns {Array} list of {text, offset, length, file, alt} of matching links
  */
-function missingAltTextLinks(text, language) {
-    return parseLinks(text, language).filter((link) => {
+function missingAltTextLinks(text, language, targetNamespaces, targetAltParams) {
+    return parseLinks(text, language, targetNamespaces, targetAltParams).filter((link) => {
         if (link.file === null) {
             // Not a file link.
             return false;
diff --git a/sharedlib/package-lock.json b/sharedlib/package-lock.json
new file mode 100644
index 00000000000..83206a55e45
--- /dev/null
+++ b/sharedlib/package-lock.json
@@ -0,0 +1,13 @@
+{
+  "name": "sharedlib",
+  "version": "0.0.1",
+  "lockfileVersion": 3,
+  "requires": true,
+  "packages": {
+    "": {
+      "name": "sharedlib",
+      "version": "0.0.1",
+      "license": "MIT"
+    }
+  }
+}
diff --git a/sharedlib/tests/test-alt-text.js b/sharedlib/tests/test-alt-text.js
index 8334fd47b07..5bcd947dda9 100644
--- a/sharedlib/tests/test-alt-text.js
+++ b/sharedlib/tests/test-alt-text.js
@@ -14,6 +14,19 @@ let testCases = [
             }
         ]
     },
+    {
+        wikiText: '[[Image:Foobar.jpg]]',
+        desc: 'Inline image, no alt or caption',
+        expected: [
+            {
+                text: '[[Image:Foobar.jpg]]',
+                offset: 0,
+                length: '[[Image:Foobar.jpg]]'.length,
+                file: 'Image:Foobar.jpg',
+                alt: null,
+            }
+        ]
+    },
     {
         wikiText: '[[File:Foobar.jpg|alt=Painting depicting a gazebo]]',
         desc: 'Inline image, explicit alt',
@@ -55,6 +68,11 @@ let testCases = [
         desc: 'Thumbnail image, explicit alt, has caption',
         expected: []
     },
+    {
+        wikiText: '[[Image:Foobar.jpg|thumb|alt=Painting depicting a gazebo|On display]]',
+        desc: 'Thumbnail image, explicit alt, has caption',
+        expected: []
+    },
     {
         wikiText: '[[File:Foobar.jpg|alt=]]',
         desc: 'Inline image, explicit empty alt',
@@ -70,8 +88,6 @@ let testCases = [
         desc: 'Thumbnail image, explicit empty alt, has caption',
         expected: []
     },
-
-
     {
         wikiText: 'bla bla [[File:Foobar.jpg|nice stuff]] and [[File:Baz.jpg|utter madness|alt=Baz]]',
         desc: 'Two links, one no alt one with alt',
@@ -89,7 +105,7 @@ let testCases = [
 
 let failures = 0;
 for (let {wikiText, count, desc, expected} of testCases) {
-    let missing = missingAltTextLinks(wikiText, 'en');
+    let missing = missingAltTextLinks(wikiText, 'en', ['File', 'Image'], ['alt']);
     if (JSON.stringify(expected) !== JSON.stringify(missing)) {
         console.error("MISMATCH", wikiText);
         console.error('expected', expected);
