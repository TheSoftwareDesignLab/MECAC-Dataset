diff --git a/Wikipedia.xcodeproj/project.pbxproj b/Wikipedia.xcodeproj/project.pbxproj
index 0684cd83f0e..49d98fa17fb 100644
--- a/Wikipedia.xcodeproj/project.pbxproj
+++ b/Wikipedia.xcodeproj/project.pbxproj
@@ -192,6 +192,16 @@
 		7A2FE55F20517BAE00F92F8F /* EraseSavedArticlesView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A2FE55B20517BAE00F92F8F /* EraseSavedArticlesView.swift */; };
 		7A2FE56020517BAE00F92F8F /* EraseSavedArticlesView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A2FE55B20517BAE00F92F8F /* EraseSavedArticlesView.swift */; };
 		7A3159CF206458B000143119 /* ReadingListAlertType.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A3159CE206458B000143119 /* ReadingListAlertType.swift */; };
+		7A331CC621AD885C0051FC6B /* TextFormattingView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A331CC421AD885C0051FC6B /* TextFormattingView.swift */; };
+		7A331CC721AD885C0051FC6B /* TextFormattingView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A331CC421AD885C0051FC6B /* TextFormattingView.swift */; };
+		7A331CC821AD885C0051FC6B /* TextFormattingView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A331CC421AD885C0051FC6B /* TextFormattingView.swift */; };
+		7A331CC921AD885C0051FC6B /* TextFormattingView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A331CC421AD885C0051FC6B /* TextFormattingView.swift */; };
+		7A331CCA21AD885C0051FC6B /* TextFormattingView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A331CC421AD885C0051FC6B /* TextFormattingView.swift */; };
+		7A331CCB21AD885C0051FC6B /* TextFormattingView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7A331CC521AD885C0051FC6B /* TextFormattingView.xib */; };
+		7A331CCC21AD885C0051FC6B /* TextFormattingView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7A331CC521AD885C0051FC6B /* TextFormattingView.xib */; };
+		7A331CCD21AD885C0051FC6B /* TextFormattingView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7A331CC521AD885C0051FC6B /* TextFormattingView.xib */; };
+		7A331CCE21AD885C0051FC6B /* TextFormattingView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7A331CC521AD885C0051FC6B /* TextFormattingView.xib */; };
+		7A331CCF21AD885C0051FC6B /* TextFormattingView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7A331CC521AD885C0051FC6B /* TextFormattingView.xib */; };
 		7A35CB871FD82B6300AAF3B7 /* ReadingListDetailViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A35CB861FD82B6300AAF3B7 /* ReadingListDetailViewController.swift */; };
 		7A35CB881FD82B6300AAF3B7 /* ReadingListDetailViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A35CB861FD82B6300AAF3B7 /* ReadingListDetailViewController.swift */; };
 		7A35CB891FD82B6300AAF3B7 /* ReadingListDetailViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A35CB861FD82B6300AAF3B7 /* ReadingListDetailViewController.swift */; };
@@ -335,11 +345,6 @@
 		7AEC9860219F529000BEF62B /* EditToolbarAccessoryView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7AEC9858219F529000BEF62B /* EditToolbarAccessoryView.xib */; };
 		7AEC9861219F529000BEF62B /* EditToolbarAccessoryView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7AEC9858219F529000BEF62B /* EditToolbarAccessoryView.xib */; };
 		7AEC9862219F529000BEF62B /* EditToolbarAccessoryView.xib in Resources */ = {isa = PBXBuildFile; fileRef = 7AEC9858219F529000BEF62B /* EditToolbarAccessoryView.xib */; };
-		7AEC9866219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */; };
-		7AEC9867219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */; };
-		7AEC9868219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */; };
-		7AEC9869219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */; };
-		7AEC986A219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */; };
 		7AEF527120ADD74D00DDF791 /* WMFCaptcha.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7A3AD05620ADAFEF00C92E04 /* WMFCaptcha.swift */; };
 		7AEF527320ADF07100DDF791 /* KeychainCredentialsManager.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AEF527220ADF07100DDF791 /* KeychainCredentialsManager.swift */; };
 		7AF49F80204EEDCD00578861 /* StorageAndSyncingSettingsViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 7AF49F7F204EEDCD00578861 /* StorageAndSyncingSettingsViewController.swift */; };
@@ -3299,6 +3304,8 @@
 		7A2FE5552051757E00F92F8F /* EraseSavedArticlesView.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = EraseSavedArticlesView.xib; sourceTree = "<group>"; };
 		7A2FE55B20517BAE00F92F8F /* EraseSavedArticlesView.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = EraseSavedArticlesView.swift; sourceTree = "<group>"; };
 		7A3159CE206458B000143119 /* ReadingListAlertType.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ReadingListAlertType.swift; sourceTree = "<group>"; };
+		7A331CC421AD885C0051FC6B /* TextFormattingView.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = TextFormattingView.swift; sourceTree = "<group>"; };
+		7A331CC521AD885C0051FC6B /* TextFormattingView.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = TextFormattingView.xib; sourceTree = "<group>"; };
 		7A35CB861FD82B6300AAF3B7 /* ReadingListDetailViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ReadingListDetailViewController.swift; sourceTree = "<group>"; };
 		7A3AD05620ADAFEF00C92E04 /* WMFCaptcha.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; name = WMFCaptcha.swift; path = "../../WMF Framework/WMFCaptcha.swift"; sourceTree = "<group>"; };
 		7A45AB7F20AB2A4C006A92F5 /* Dictionary+Equality.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "Dictionary+Equality.swift"; sourceTree = "<group>"; };
@@ -3333,7 +3340,6 @@
 		7AEBAD442102117C002FAB41 /* NSFetchedResultsController+IndexPathValidation.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "NSFetchedResultsController+IndexPathValidation.swift"; sourceTree = "<group>"; };
 		7AEC9857219F529000BEF62B /* EditToolbarAccessoryView.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = EditToolbarAccessoryView.swift; sourceTree = "<group>"; };
 		7AEC9858219F529000BEF62B /* EditToolbarAccessoryView.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = EditToolbarAccessoryView.xib; sourceTree = "<group>"; };
-		7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = TextFormattingViewController.swift; sourceTree = "<group>"; };
 		7AEF527220ADF07100DDF791 /* KeychainCredentialsManager.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = KeychainCredentialsManager.swift; sourceTree = "<group>"; };
 		7AF1B19520A1E14F000C8DFE /* ReadingListsFunnel.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ReadingListsFunnel.swift; sourceTree = "<group>"; };
 		7AF49F7F204EEDCD00578861 /* StorageAndSyncingSettingsViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = StorageAndSyncingSettingsViewController.swift; sourceTree = "<group>"; };
@@ -6057,7 +6063,8 @@
 			children = (
 				7AEC9857219F529000BEF62B /* EditToolbarAccessoryView.swift */,
 				7AEC9858219F529000BEF62B /* EditToolbarAccessoryView.xib */,
-				7AEC9864219F5EA000BEF62B /* TextFormattingViewController.swift */,
+				7A331CC421AD885C0051FC6B /* TextFormattingView.swift */,
+				7A331CC521AD885C0051FC6B /* TextFormattingView.xib */,
 			);
 			name = Toolbar;
 			sourceTree = "<group>";
@@ -9075,6 +9082,7 @@
 				7A9A611821124CF500403154 /* CreateNewReadingListButtonView.xib in Resources */,
 				7A16C4EB212D941C00F0D5EC /* SubSettingsViewController.xib in Resources */,
 				D8D92B5D1DF22E1700B95311 /* NotificationBackgroundErrorIcon@2x.png in Resources */,
+				7A331CCB21AD885C0051FC6B /* TextFormattingView.xib in Resources */,
 				B0866F471CCAEBE40088A789 /* WMFArticleLanguagesSectionFooter.xib in Resources */,
 				B0B4236D1EF9D6D500D3DC4C /* OnThisDayViewControllerHeader.xib in Resources */,
 				D8D92B5C1DF22E1700B95311 /* NotificationBackgroundErrorIcon.png in Resources */,
@@ -9205,6 +9213,7 @@
 				7A2432C71FCF401900FB4BA5 /* CreateReadingListViewController.xib in Resources */,
 				7AEC9862219F529000BEF62B /* EditToolbarAccessoryView.xib in Resources */,
 				D80ED3F41EE57F4800CE8C50 /* NotificationBackgroundWarning@2x.png in Resources */,
+				7A331CCF21AD885C0051FC6B /* TextFormattingView.xib in Resources */,
 				D80ED3F51EE57F4800CE8C50 /* LibrariesUsed.storyboard in Resources */,
 				D80ED3F61EE57F4800CE8C50 /* NotificationBackgroundSuccess@2x.png in Resources */,
 				D80ED3F71EE57F4800CE8C50 /* WMFChangePasswordViewController.storyboard in Resources */,
@@ -9306,6 +9315,7 @@
 				7A9A611B21124CF500403154 /* CreateNewReadingListButtonView.xib in Resources */,
 				7A16C4EE212D941C00F0D5EC /* SubSettingsViewController.xib in Resources */,
 				D8A42BC51E815A9C00D8E281 /* WMFArticleLanguagesSectionFooter.xib in Resources */,
+				7A331CCE21AD885C0051FC6B /* TextFormattingView.xib in Resources */,
 				B0B423701EF9D6D500D3DC4C /* OnThisDayViewControllerHeader.xib in Resources */,
 				D8A42BC61E815A9C00D8E281 /* NotificationBackgroundErrorIcon.png in Resources */,
 				D8A42BC71E815A9C00D8E281 /* WMFLanguageCell.xib in Resources */,
@@ -9400,6 +9410,7 @@
 				7A9A611921124CF500403154 /* CreateNewReadingListButtonView.xib in Resources */,
 				7A16C4EC212D941C00F0D5EC /* SubSettingsViewController.xib in Resources */,
 				D8CE264C1E698E2400DAE2E0 /* WMFArticleLanguagesSectionFooter.xib in Resources */,
+				7A331CCC21AD885C0051FC6B /* TextFormattingView.xib in Resources */,
 				B0B4236E1EF9D6D500D3DC4C /* OnThisDayViewControllerHeader.xib in Resources */,
 				D8CE264D1E698E2400DAE2E0 /* NotificationBackgroundErrorIcon.png in Resources */,
 				D8CE264E1E698E2400DAE2E0 /* WMFLanguageCell.xib in Resources */,
@@ -9494,6 +9505,7 @@
 				7A9A611A21124CF500403154 /* CreateNewReadingListButtonView.xib in Resources */,
 				7A16C4ED212D941C00F0D5EC /* SubSettingsViewController.xib in Resources */,
 				D8EC3F4C1E9BDA35006712EB /* WMFArticleLanguagesSectionFooter.xib in Resources */,
+				7A331CCD21AD885C0051FC6B /* TextFormattingView.xib in Resources */,
 				B0B4236F1EF9D6D500D3DC4C /* OnThisDayViewControllerHeader.xib in Resources */,
 				D8EC3F4D1E9BDA35006712EB /* NotificationBackgroundErrorIcon.png in Resources */,
 				D8EC3F4E1E9BDA35006712EB /* WMFLanguageCell.xib in Resources */,
@@ -10228,7 +10240,6 @@
 				B0E803381C0CD7550065EBC0 /* WMFSearchButton.m in Sources */,
 				7A6ED50D20ADBF950001849F /* SessionsFunnel.swift in Sources */,
 				B031032D1F677BEC00E2FCF6 /* WMFWelcomeExplorationViewController.swift in Sources */,
-				7AEC9866219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */,
 				D8703DBF1EE84533001A4BAB /* PreviewingViewController.swift in Sources */,
 				B0E803991C0CDB280065EBC0 /* WMFArticleFetcher.m in Sources */,
 				B04C444B1E56966B00C6DFB0 /* Array<UITextField>+WMFAllFieldsFilled.swift in Sources */,
@@ -10297,6 +10308,7 @@
 				B0E8035E1C0CD8580065EBC0 /* WMFImageInfoController.m in Sources */,
 				B09B30CF1DB813760012281F /* UIViewController+WMFStoryboardUtilities.swift in Sources */,
 				B09B03F51CE0FB7700009083 /* ReadingThemesControlsViewController.swift in Sources */,
+				7A331CC621AD885C0051FC6B /* TextFormattingView.swift in Sources */,
 				B0E8036F1C0CD99A0065EBC0 /* WMFTableOfContentsPresentationController.swift in Sources */,
 				B0C6BE401E4068C60033BD6E /* WMFLoginViewController.swift in Sources */,
 				B0E807111C0CEBF00065EBC0 /* WebViewController.m in Sources */,
@@ -10363,7 +10375,6 @@
 				D80ED2961EE57F4800CE8C50 /* PlaceSearchService.swift in Sources */,
 				D80ED2971EE57F4800CE8C50 /* NotificationSettingsViewController.swift in Sources */,
 				D80ED2981EE57F4800CE8C50 /* PlaceSearchSuggestionController.swift in Sources */,
-				7AEC986A219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */,
 				D80ED29B1EE57F4800CE8C50 /* WMFPageHistoryRevision.m in Sources */,
 				D80ED29C1EE57F4800CE8C50 /* WKScriptMessage+WMFScriptMessage.swift in Sources */,
 				D80ED2A21EE57F4800CE8C50 /* WMFEmptyView.m in Sources */,
@@ -10430,6 +10441,7 @@
 				D80ED2EA1EE57F4800CE8C50 /* WMFArticleTextActivitySource.m in Sources */,
 				D80ED2EB1EE57F4800CE8C50 /* WMFAuthLinkLabel.swift in Sources */,
 				D80ED2EF1EE57F4800CE8C50 /* MTLValueTransformer+WMFColorTransformer.m in Sources */,
+				7A331CCA21AD885C0051FC6B /* TextFormattingView.swift in Sources */,
 				D80ED2F01EE57F4800CE8C50 /* WMFPasswordResetter.swift in Sources */,
 				D80ED2F31EE57F4800CE8C50 /* UIBarButtonItem+WMFButtonConvenience.m in Sources */,
 				D80ED2F41EE57F4800CE8C50 /* UIViewController+WMFEmptyView.m in Sources */,
@@ -11235,7 +11247,6 @@
 				D8A42B4B1E815A9C00D8E281 /* WMFLanguageCell.m in Sources */,
 				D8421B56203CC8420040F50B /* DebugReadingListsViewController.swift in Sources */,
 				D8A42B4C1E815A9C00D8E281 /* WMFSearchButton.m in Sources */,
-				7AEC9869219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */,
 				D8A42B4D1E815A9C00D8E281 /* WMFArticleFetcher.m in Sources */,
 				D8A42B4E1E815A9C00D8E281 /* Array<UITextField>+WMFAllFieldsFilled.swift in Sources */,
 				D8A42B4F1E815A9C00D8E281 /* NewsViewController.swift in Sources */,
@@ -11304,6 +11315,7 @@
 				D8A42B8D1E815A9C00D8E281 /* UIViewController+WMFStoryboardUtilities.swift in Sources */,
 				D8A42B8E1E815A9C00D8E281 /* ReadingThemesControlsViewController.swift in Sources */,
 				D8A42B8F1E815A9C00D8E281 /* WMFTableOfContentsPresentationController.swift in Sources */,
+				7A331CC921AD885C0051FC6B /* TextFormattingView.swift in Sources */,
 				D8A42B921E815A9C00D8E281 /* WMFLoginViewController.swift in Sources */,
 				D8A42B941E815A9C00D8E281 /* WebViewController.m in Sources */,
 				D8A42B951E815A9C00D8E281 /* MWKSection+TOCItem.swift in Sources */,
@@ -11370,7 +11382,6 @@
 				D8CE25051E698E2400DAE2E0 /* WMFDatabaseHouseKeeper.swift in Sources */,
 				D8CE25071E698E2400DAE2E0 /* PlaceSearch.swift in Sources */,
 				D8CE25081E698E2400DAE2E0 /* NotificationSettingsViewController.swift in Sources */,
-				7AEC9867219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */,
 				D8CE25091E698E2400DAE2E0 /* PlaceSearchSuggestionController.swift in Sources */,
 				D8CE250B1E698E2400DAE2E0 /* WMFPageHistoryRevision.m in Sources */,
 				D8CE25121E698E2400DAE2E0 /* WMFEmptyView.m in Sources */,
@@ -11437,6 +11448,7 @@
 				D8CE25521E698E2400DAE2E0 /* WMFArticleTextActivitySource.m in Sources */,
 				D8BDA8BF1E71B8D10031F4BF /* String?+WMFExtras.swift in Sources */,
 				D8CE25561E698E2400DAE2E0 /* MTLValueTransformer+WMFColorTransformer.m in Sources */,
+				7A331CC721AD885C0051FC6B /* TextFormattingView.swift in Sources */,
 				D8CE25571E698E2400DAE2E0 /* WMFPasswordResetter.swift in Sources */,
 				D8CE255A1E698E2400DAE2E0 /* UIBarButtonItem+WMFButtonConvenience.m in Sources */,
 				D8CE255B1E698E2400DAE2E0 /* UIViewController+WMFEmptyView.m in Sources */,
@@ -11699,7 +11711,6 @@
 				D8EC3DF81E9BDA35006712EB /* PreviewHtmlFetcher.m in Sources */,
 				D8E27BA31F82B38100F9D2B3 /* RMessageView.m in Sources */,
 				D8B1668E1FD97FE000097D8B /* WMFViewController.m in Sources */,
-				7AEC9868219F5EA000BEF62B /* TextFormattingViewController.swift in Sources */,
 				837227C220AF6AC700BDACD7 /* EditSummaryViewController.swift in Sources */,
 				D8EC3DFC1E9BDA35006712EB /* WMFDatabaseHouseKeeper.swift in Sources */,
 				D8EC3DFE1E9BDA35006712EB /* PlaceSearch.swift in Sources */,
@@ -11766,6 +11777,7 @@
 				D8EC3E421E9BDA35006712EB /* WMFTableOfContentsViewController.swift in Sources */,
 				D8EC3E441E9BDA35006712EB /* ProtectedEditAttemptFunnel.m in Sources */,
 				D8EC3E451E9BDA35006712EB /* WKWebView+WMFWebViewControllerJavascript.m in Sources */,
+				7A331CC821AD885C0051FC6B /* TextFormattingView.swift in Sources */,
 				D8EC3E471E9BDA35006712EB /* UIViewController+WMFArticlePresentation.m in Sources */,
 				D8EC3E481E9BDA35006712EB /* UIViewController+WMFOpenExternalUrl.m in Sources */,
 				B0408C572127F2C100AC76CE /* WMFImageGalleryGradientViews.swift in Sources */,
diff --git a/Wikipedia/Code/SectionEditorViewController.m b/Wikipedia/Code/SectionEditorViewController.m
index 637ea3caa7f..6e0e0675b35 100644
--- a/Wikipedia/Code/SectionEditorViewController.m
+++ b/Wikipedia/Code/SectionEditorViewController.m
@@ -11,13 +11,14 @@
 #define EDIT_TEXT_VIEW_LINE_HEIGHT_MIN (25.0f)
 #define EDIT_TEXT_VIEW_LINE_HEIGHT_MAX (25.0f)
 
-@interface SectionEditorViewController () <PreviewAndSaveViewControllerDelegate, WMFEditToolbarAccessoryViewButtonDelegate, WMFTextFormattingViewControllerDelegate>
+@interface SectionEditorViewController () <PreviewAndSaveViewControllerDelegate, WMFEditToolbarAccessoryViewButtonDelegate, WMFTextFormattingViewDelegate>
 
 @property (weak, nonatomic) IBOutlet UITextView *editTextView;
 @property (strong, nonatomic) NSString *unmodifiedWikiText;
 @property (nonatomic) CGRect viewKeyboardRect;
 @property (strong, nonatomic) UIBarButtonItem *rightButton;
 @property (strong, nonatomic) WMFEditToolbarAccessoryView *editToolbarAccessoryView;
+@property (strong, nonatomic) WMFTextFormattingView *textFormattingView;
 @property (strong, nonatomic) WMFTheme *theme;
 
 @end
@@ -48,7 +49,7 @@ - (void)viewDidLoad {
 
     // Fix for strange ios 7 bug with large pages of text in the edit text view
     // jumping around if scrolled quickly.
-    self.editTextView.layoutManager.allowsNonContiguousLayout = NO;
+    // self.editTextView.layoutManager.allowsNonContiguousLayout = NO;
 
     [self loadLatestWikiTextForSectionFromServer];
 
@@ -63,6 +64,9 @@ - (void)viewDidLoad {
     self.editToolbarAccessoryView = [WMFEditToolbarAccessoryView loadFromNib];
     self.editToolbarAccessoryView.buttonDelegate = self;
 
+    self.textFormattingView = [WMFTextFormattingView loadFromNib];
+    self.textFormattingView.delegate = self;
+
     [self applyTheme:self.theme];
 
     // "loginWithSavedCredentials..." should help ensure the user will only appear to be logged in when
@@ -78,8 +82,6 @@ - (void)viewDidLoad {
         failure:^(NSError *_Nonnull error) {
             DDLogDebug(@"\n\nloginWithSavedCredentials failed with error '%@'.\n\n", error);
         }];
-
-    [self becomeFirstResponder];
 }
 
 - (BOOL)canBecomeFirstResponder {
@@ -87,7 +89,7 @@ - (BOOL)canBecomeFirstResponder {
 }
 
 - (UIView *)inputAccessoryView {
-    return self.editToolbarAccessoryView;
+    return self.editTextView.inputView ? nil : self.editToolbarAccessoryView;
 }
 
 - (void)xButtonPressed {
@@ -318,6 +320,30 @@ - (BOOL)accessibilityPerformEscape {
 - (void)editToolbarAccessoryViewDidTapTextFormattingButton:(WMFEditToolbarAccessoryView *)editToolbarAccessoryView button:(UIButton *)button {
     [self setTextViewFormattingContainerHidden:NO];
 }
+
+#pragma mark WMFTextFormattingViewDelegate
+
+- (void)textFormattingViewDidTapCloseButton:(WMFTextFormattingView *)textFormattingView button:(UIButton *)button {
+    [self setTextViewFormattingContainerHidden:YES];
+}
+
+#pragma mark TextViewFormattingContainer
+
+- (void)setTextViewFormattingContainerHidden:(BOOL)hidden {
+    UIResponder *responder = self.isFirstResponder ? self : self.editTextView;
+    if (hidden) {
+        self.editTextView.inputView = nil;
+    } else {
+        self.editTextView.inputView = self.textFormattingView;
+    }
+    [self resetResponder:responder];
+}
+
+- (void)resetResponder:(UIResponder *)responder {
+    [responder resignFirstResponder];
+    [responder becomeFirstResponder];
+}
+
 #pragma mark WMFThemeable
 
 - (void)applyTheme:(WMFTheme *)theme {
diff --git a/Wikipedia/Code/SectionEditorViewController.storyboard b/Wikipedia/Code/SectionEditorViewController.storyboard
index d37c7179d57..411bf7e75f0 100644
--- a/Wikipedia/Code/SectionEditorViewController.storyboard
+++ b/Wikipedia/Code/SectionEditorViewController.storyboard
@@ -27,355 +27,23 @@
                                 <fontDescription key="fontDescription" type="system" pointSize="16"/>
                                 <textInputTraits key="textInputTraits" autocorrectionType="no"/>
                             </textView>
-                            <containerView hidden="YES" opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="bk8-wY-CjR">
-                                <rect key="frame" x="8" y="667" width="359" height="0.0"/>
-                                <constraints>
-                                    <constraint firstAttribute="height" id="dd7-y8-Htk"/>
-                                </constraints>
-                                <connections>
-                                    <segue destination="M7B-ee-Mka" kind="embed" identifier="EmbedTextFormattingViewControllerSegue" id="W1l-Oz-H5I"/>
-                                </connections>
-                            </containerView>
                         </subviews>
                         <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
-                            <constraint firstItem="bk8-wY-CjR" firstAttribute="leadingMargin" secondItem="Cex-zA-X93" secondAttribute="leadingMargin" id="DDh-1w-Pcn"/>
                             <constraint firstItem="ohj-LA-82c" firstAttribute="leading" secondItem="Cex-zA-X93" secondAttribute="leading" id="GW3-Ua-a8X"/>
                             <constraint firstItem="ohj-LA-82c" firstAttribute="top" secondItem="Cex-zA-X93" secondAttribute="top" id="NPC-TM-Xq1"/>
                             <constraint firstAttribute="trailing" secondItem="ohj-LA-82c" secondAttribute="trailing" id="aPb-dZ-HOe"/>
-                            <constraint firstAttribute="trailingMargin" secondItem="bk8-wY-CjR" secondAttribute="trailingMargin" id="d3C-vR-rSu"/>
                             <constraint firstAttribute="bottom" secondItem="ohj-LA-82c" secondAttribute="bottom" id="eMa-8O-6mo"/>
-                            <constraint firstItem="itb-4E-TzB" firstAttribute="top" secondItem="bk8-wY-CjR" secondAttribute="bottom" id="rds-gK-KnA"/>
                         </constraints>
                     </view>
                     <extendedEdge key="edgesForExtendedLayout" bottom="YES"/>
                     <connections>
                         <outlet property="editTextView" destination="ohj-LA-82c" id="uOG-V5-Eqx"/>
-                        <outlet property="textViewFormattingContainerView" destination="bk8-wY-CjR" id="YZr-TB-NfS"/>
-                        <outlet property="textViewFormattingContainerViewHeightConstraint" destination="dd7-y8-Htk" id="vgl-aD-hD0"/>
                     </connections>
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="DEY-rf-Gnw" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
             <point key="canvasLocation" x="-336" y="-8294.7526236881567"/>
         </scene>
-        <!--Text Formatting View Controller-->
-        <scene sceneID="NUg-h0-mlm">
-            <objects>
-                <viewController id="M7B-ee-Mka" customClass="WMFTextFormattingViewController" sceneMemberID="viewController">
-                    <layoutGuides>
-                        <viewControllerLayoutGuide type="top" id="TH6-gV-f3Y"/>
-                        <viewControllerLayoutGuide type="bottom" id="9DX-lW-JWm"/>
-                    </layoutGuides>
-                    <view key="view" contentMode="scaleToFill" id="V9y-KR-Nuf">
-                        <rect key="frame" x="0.0" y="0.0" width="343" height="260"/>
-                        <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <subviews>
-                            <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" translatesAutoresizingMaskIntoConstraints="NO" id="KlJ-C7-nGn">
-                                <rect key="frame" x="0.0" y="0.0" width="343" height="260"/>
-                                <subviews>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="ugG-kG-AMg">
-                                        <rect key="frame" x="0.0" y="0.0" width="343" height="40.5"/>
-                                        <subviews>
-                                            <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="7zE-TV-8G2">
-                                                <rect key="frame" x="15" y="12" width="313" height="20.5"/>
-                                                <subviews>
-                                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Text formatting" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="buW-P0-ciX">
-                                                        <rect key="frame" x="0.0" y="0.0" width="116" height="20.5"/>
-                                                        <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                                        <nil key="textColor"/>
-                                                        <nil key="highlightedColor"/>
-                                                    </label>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="CP2-Ii-jDf">
-                                                        <rect key="frame" x="295" y="0.0" width="18" height="20.5"/>
-                                                        <inset key="imageEdgeInsets" minX="3" minY="3" maxX="0.0" maxY="3"/>
-                                                        <state key="normal" image="close"/>
-                                                        <connections>
-                                                            <action selector="close:" destination="M7B-ee-Mka" eventType="touchUpInside" id="r3Q-Yi-kqR"/>
-                                                        </connections>
-                                                    </button>
-                                                </subviews>
-                                            </stackView>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstAttribute="bottom" secondItem="7zE-TV-8G2" secondAttribute="bottom" constant="8" id="0q8-tw-Ihw"/>
-                                            <constraint firstItem="7zE-TV-8G2" firstAttribute="top" secondItem="ugG-kG-AMg" secondAttribute="top" constant="12" id="49E-cc-1Da"/>
-                                            <constraint firstAttribute="trailing" secondItem="7zE-TV-8G2" secondAttribute="trailing" constant="15" id="Llx-OX-hIC"/>
-                                            <constraint firstItem="7zE-TV-8G2" firstAttribute="leading" secondItem="ugG-kG-AMg" secondAttribute="leading" constant="15" id="kzZ-WJ-Jzf"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="dn9-8d-6bh" userLabel="Separator View">
-                                        <rect key="frame" x="0.0" y="40.5" width="343" height="1"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                                        <constraints>
-                                            <constraint firstAttribute="height" constant="1" id="XWV-KW-RAX"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="vW2-ui-Wde">
-                                        <rect key="frame" x="0.0" y="41.5" width="343" height="46"/>
-                                        <subviews>
-                                            <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="Qs1-S7-Neg">
-                                                <rect key="frame" x="15" y="8" width="313" height="30"/>
-                                                <subviews>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="lxQ-tj-oMy">
-                                                        <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
-                                                        <state key="normal" title="B"/>
-                                                    </button>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="63x-N7-2G1">
-                                                        <rect key="frame" x="56" y="0.0" width="30" height="30"/>
-                                                        <state key="normal" title="I"/>
-                                                    </button>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="L6M-Oq-uVf">
-                                                        <rect key="frame" x="112" y="0.0" width="30" height="30"/>
-                                                        <state key="normal" title="S"/>
-                                                    </button>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="W0w-l9-Zpt">
-                                                        <rect key="frame" x="168" y="0.0" width="30" height="30"/>
-                                                        <state key="normal" title="C"/>
-                                                    </button>
-                                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="ONJ-dG-Gtf">
-                                                        <rect key="frame" x="224" y="0.0" width="30" height="30"/>
-                                                        <state key="normal" title="!"/>
-                                                    </button>
-                                                    <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="TVS-kf-A7f">
-                                                        <rect key="frame" x="280" y="0.0" width="33" height="30"/>
-                                                        <state key="normal" title="8"/>
-                                                    </button>
-                                                </subviews>
-                                                <constraints>
-                                                    <constraint firstItem="L6M-Oq-uVf" firstAttribute="leading" secondItem="63x-N7-2G1" secondAttribute="trailing" constant="26" id="rIJ-gH-RCe"/>
-                                                </constraints>
-                                            </stackView>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstAttribute="bottom" secondItem="Qs1-S7-Neg" secondAttribute="bottom" constant="8" id="aJm-6N-yfD"/>
-                                            <constraint firstItem="Qs1-S7-Neg" firstAttribute="top" secondItem="vW2-ui-Wde" secondAttribute="top" constant="8" id="pMd-1h-noF"/>
-                                            <constraint firstAttribute="trailing" secondItem="Qs1-S7-Neg" secondAttribute="trailing" constant="15" id="swl-iz-3in"/>
-                                            <constraint firstItem="Qs1-S7-Neg" firstAttribute="leading" secondItem="vW2-ui-Wde" secondAttribute="leading" constant="15" id="vJq-uE-8Hg"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="O1j-q1-oOO" userLabel="Separator View">
-                                        <rect key="frame" x="0.0" y="87.5" width="343" height="1"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                                        <constraints>
-                                            <constraint firstAttribute="height" constant="1" id="4jC-vY-qOB"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="hZf-0m-lMY">
-                                        <rect key="frame" x="0.0" y="88.5" width="343" height="46"/>
-                                        <subviews>
-                                            <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="3ux-t7-HRl">
-                                                <rect key="frame" x="15" y="8" width="313" height="30"/>
-                                                <subviews>
-                                                    <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="C8m-yr-oCp">
-                                                        <rect key="frame" x="0.0" y="0.0" width="65" height="30"/>
-                                                        <subviews>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="d7p-lU-spZ">
-                                                                <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="D"/>
-                                                            </button>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="5fF-DC-V8w">
-                                                                <rect key="frame" x="35" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="D"/>
-                                                            </button>
-                                                        </subviews>
-                                                        <userDefinedRuntimeAttributes>
-                                                            <userDefinedRuntimeAttribute type="color" keyPath="borderColor">
-                                                                <color key="value" red="1" green="0.14913141730000001" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                            <userDefinedRuntimeAttribute type="number" keyPath="borderWidth">
-                                                                <real key="value" value="1"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                        </userDefinedRuntimeAttributes>
-                                                    </stackView>
-                                                    <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="CTg-R3-1iH">
-                                                        <rect key="frame" x="82.5" y="0.0" width="65" height="30"/>
-                                                        <subviews>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="LoG-cj-iE6">
-                                                                <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="*"/>
-                                                            </button>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="uUo-qs-K8T">
-                                                                <rect key="frame" x="35" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="1)"/>
-                                                            </button>
-                                                        </subviews>
-                                                    </stackView>
-                                                    <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="Yra-SN-ooi">
-                                                        <rect key="frame" x="165.5" y="0.0" width="65" height="30"/>
-                                                        <subviews>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="98o-oH-Iua">
-                                                                <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="X1"/>
-                                                            </button>
-                                                            <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="SBR-gJ-kgX">
-                                                                <rect key="frame" x="35" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="X2"/>
-                                                            </button>
-                                                        </subviews>
-                                                    </stackView>
-                                                    <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="kFo-V3-5Cg">
-                                                        <rect key="frame" x="248" y="0.0" width="65" height="30"/>
-                                                        <subviews>
-                                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="oMp-v8-AEP">
-                                                                <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="U"/>
-                                                            </button>
-                                                            <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Z18-vQ-fRW">
-                                                                <rect key="frame" x="35" y="0.0" width="30" height="30"/>
-                                                                <state key="normal" title="S"/>
-                                                            </button>
-                                                        </subviews>
-                                                    </stackView>
-                                                </subviews>
-                                            </stackView>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstAttribute="trailing" secondItem="3ux-t7-HRl" secondAttribute="trailing" constant="15" id="6O4-UB-ycX"/>
-                                            <constraint firstItem="3ux-t7-HRl" firstAttribute="top" secondItem="hZf-0m-lMY" secondAttribute="top" constant="8" id="En4-eQ-0F5"/>
-                                            <constraint firstItem="3ux-t7-HRl" firstAttribute="leading" secondItem="hZf-0m-lMY" secondAttribute="leading" constant="15" id="HEB-Qx-9V9"/>
-                                            <constraint firstAttribute="bottom" secondItem="3ux-t7-HRl" secondAttribute="bottom" constant="8" id="ZqP-U0-g7H"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="v9D-JQ-NGD" userLabel="Separator View">
-                                        <rect key="frame" x="0.0" y="134.5" width="343" height="1"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                                        <constraints>
-                                            <constraint firstAttribute="height" constant="1" id="sFH-rT-tEc"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="Evx-p8-90T">
-                                        <rect key="frame" x="0.0" y="135.5" width="343" height="36.5"/>
-                                        <subviews>
-                                            <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="KPl-1H-MYa">
-                                                <rect key="frame" x="15" y="8" width="313" height="20.5"/>
-                                                <subviews>
-                                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Style" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="6JH-FA-muZ">
-                                                        <rect key="frame" x="0.0" y="0.0" width="38.5" height="20.5"/>
-                                                        <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                                        <nil key="textColor"/>
-                                                        <nil key="highlightedColor"/>
-                                                    </label>
-                                                    <button opaque="NO" contentMode="scaleAspectFit" contentHorizontalAlignment="center" contentVerticalAlignment="center" adjustsImageSizeForAccessibilityContentSizeCategory="YES" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="euX-6h-Yuc" customClass="WMFAlignedImageButton">
-                                                        <rect key="frame" x="217" y="0.0" width="96" height="20.5"/>
-                                                        <state key="normal" title="Paragraph" image="chevron-right">
-                                                            <color key="titleColor" cocoaTouchSystemColor="darkTextColor"/>
-                                                        </state>
-                                                        <userDefinedRuntimeAttributes>
-                                                            <userDefinedRuntimeAttribute type="boolean" keyPath="imageIsRightAligned" value="YES"/>
-                                                            <userDefinedRuntimeAttribute type="number" keyPath="horizontalSpacing">
-                                                                <real key="value" value="10"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                            <userDefinedRuntimeAttribute type="number" keyPath="imageVerticalInset">
-                                                                <real key="value" value="5"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                        </userDefinedRuntimeAttributes>
-                                                    </button>
-                                                </subviews>
-                                            </stackView>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstAttribute="bottom" secondItem="KPl-1H-MYa" secondAttribute="bottom" constant="8" id="Aap-gB-bdY"/>
-                                            <constraint firstItem="KPl-1H-MYa" firstAttribute="leading" secondItem="Evx-p8-90T" secondAttribute="leading" constant="15" id="NAj-IH-MKk"/>
-                                            <constraint firstAttribute="trailing" secondItem="KPl-1H-MYa" secondAttribute="trailing" constant="15" id="Wnu-Zq-uGP"/>
-                                            <constraint firstItem="KPl-1H-MYa" firstAttribute="top" secondItem="Evx-p8-90T" secondAttribute="top" constant="8" id="rdS-qh-MoN"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="KhN-EP-uCI" userLabel="Separator View">
-                                        <rect key="frame" x="0.0" y="172" width="343" height="1"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                                        <constraints>
-                                            <constraint firstAttribute="height" constant="1" id="Lsl-0V-q7q"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="37B-p6-l6p">
-                                        <rect key="frame" x="0.0" y="173" width="343" height="36.5"/>
-                                        <subviews>
-                                            <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="PdS-CO-Of4">
-                                                <rect key="frame" x="15" y="8" width="313" height="20.5"/>
-                                                <subviews>
-                                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Text size" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="bdi-Rj-zW2">
-                                                        <rect key="frame" x="0.0" y="0.0" width="67" height="20.5"/>
-                                                        <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                                        <nil key="textColor"/>
-                                                        <nil key="highlightedColor"/>
-                                                    </label>
-                                                    <button opaque="NO" contentMode="scaleAspectFit" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="iFO-Uc-Q66" customClass="WMFAlignedImageButton">
-                                                        <rect key="frame" x="242" y="0.0" width="71" height="20.5"/>
-                                                        <state key="normal" title="Normal" image="chevron-right">
-                                                            <color key="titleColor" cocoaTouchSystemColor="darkTextColor"/>
-                                                        </state>
-                                                        <userDefinedRuntimeAttributes>
-                                                            <userDefinedRuntimeAttribute type="boolean" keyPath="imageIsRightAligned" value="YES"/>
-                                                            <userDefinedRuntimeAttribute type="number" keyPath="horizontalSpacing">
-                                                                <real key="value" value="10"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                            <userDefinedRuntimeAttribute type="number" keyPath="imageVerticalInset">
-                                                                <real key="value" value="5"/>
-                                                            </userDefinedRuntimeAttribute>
-                                                        </userDefinedRuntimeAttributes>
-                                                    </button>
-                                                </subviews>
-                                            </stackView>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstItem="PdS-CO-Of4" firstAttribute="leading" secondItem="37B-p6-l6p" secondAttribute="leading" constant="15" id="4yP-Sa-F3E"/>
-                                            <constraint firstItem="PdS-CO-Of4" firstAttribute="top" secondItem="37B-p6-l6p" secondAttribute="top" constant="8" id="NNx-cG-JPR"/>
-                                            <constraint firstAttribute="bottom" secondItem="PdS-CO-Of4" secondAttribute="bottom" constant="8" id="jre-n5-K9l"/>
-                                            <constraint firstAttribute="trailing" secondItem="PdS-CO-Of4" secondAttribute="trailing" constant="15" id="wl1-ki-fj5"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="7JJ-N5-fRG" userLabel="Separator View">
-                                        <rect key="frame" x="0.0" y="209.5" width="343" height="1"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                                        <constraints>
-                                            <constraint firstAttribute="height" constant="1" id="jat-hB-MjD"/>
-                                        </constraints>
-                                    </view>
-                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="toV-Lc-atG">
-                                        <rect key="frame" x="0.0" y="210.5" width="343" height="49.5"/>
-                                        <subviews>
-                                            <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="lAs-bH-gTl">
-                                                <rect key="frame" x="15" y="8" width="313" height="29.5"/>
-                                                <state key="normal" title="Clear formatting"/>
-                                            </button>
-                                        </subviews>
-                                        <constraints>
-                                            <constraint firstAttribute="trailing" secondItem="lAs-bH-gTl" secondAttribute="trailing" constant="15" id="3Zh-yC-MOG"/>
-                                            <constraint firstItem="lAs-bH-gTl" firstAttribute="top" secondItem="toV-Lc-atG" secondAttribute="top" constant="8" id="JhF-2r-jpR"/>
-                                            <constraint firstItem="lAs-bH-gTl" firstAttribute="leading" secondItem="toV-Lc-atG" secondAttribute="leading" constant="15" id="Puy-3h-dpN"/>
-                                            <constraint firstAttribute="bottom" secondItem="lAs-bH-gTl" secondAttribute="bottom" constant="12" id="xQT-W9-wPS"/>
-                                        </constraints>
-                                    </view>
-                                </subviews>
-                            </stackView>
-                        </subviews>
-                        <color key="backgroundColor" cocoaTouchSystemColor="groupTableViewBackgroundColor"/>
-                        <constraints>
-                            <constraint firstItem="KlJ-C7-nGn" firstAttribute="leading" secondItem="V9y-KR-Nuf" secondAttribute="leading" id="X3P-rN-riA"/>
-                            <constraint firstItem="KlJ-C7-nGn" firstAttribute="top" secondItem="V9y-KR-Nuf" secondAttribute="top" id="Yoh-Vf-rSK"/>
-                            <constraint firstAttribute="bottom" secondItem="KlJ-C7-nGn" secondAttribute="bottom" id="inO-nQ-UGQ"/>
-                            <constraint firstAttribute="trailing" secondItem="KlJ-C7-nGn" secondAttribute="trailing" id="oys-9Y-VQX"/>
-                        </constraints>
-                    </view>
-                    <size key="freeformSize" width="343" height="260"/>
-                    <connections>
-                        <outlet property="clearButton" destination="lAs-bH-gTl" id="evB-sj-rnN"/>
-                        <outlet property="closeButton" destination="CP2-Ii-jDf" id="V8o-ut-HaF"/>
-                        <outlet property="styleDisclosureButton" destination="euX-6h-Yuc" id="qSv-0I-E3y"/>
-                        <outlet property="styleTitleLabel" destination="6JH-FA-muZ" id="4HF-aD-mtg"/>
-                        <outlet property="textSizeDisclosureButton" destination="iFO-Uc-Q66" id="eg0-U6-afI"/>
-                        <outlet property="textSizeTitleLabel" destination="bdi-Rj-zW2" id="dqH-Fq-ug3"/>
-                        <outlet property="titleLabel" destination="buW-P0-ciX" id="cRo-dW-KM6"/>
-                    </connections>
-                </viewController>
-                <placeholder placeholderIdentifier="IBFirstResponder" id="dvy-fm-eQi" userLabel="First Responder" sceneMemberID="firstResponder"/>
-            </objects>
-            <point key="canvasLocation" x="-338" y="-7634"/>
-        </scene>
     </scenes>
-    <resources>
-        <image name="chevron-right" width="12" height="21"/>
-        <image name="close" width="18" height="18"/>
-    </resources>
 </document>
diff --git a/Wikipedia/Code/TextFormattingViewController.swift b/Wikipedia/Code/TextFormattingView.swift
similarity index 72%
rename from Wikipedia/Code/TextFormattingViewController.swift
rename to Wikipedia/Code/TextFormattingView.swift
index e217ee9d447..a36e0ff729e 100644
--- a/Wikipedia/Code/TextFormattingViewController.swift
+++ b/Wikipedia/Code/TextFormattingView.swift
@@ -1,29 +1,28 @@
 import UIKit
 
-@objc(WMFTextFormattingViewControllerDelegate)
-protocol TextFormattingViewControllerDelegate: class {
-    func textFormattingViewControllerDidTapCloseButton(_ textFormattingViewController: TextFormattingViewController, button: UIButton)
+@objc(WMFTextFormattingViewDelegate)
+protocol TextFormattingViewDelegate: class {
+    func textFormattingViewDidTapCloseButton(_ textFormattingView: TextFormattingView, button: UIButton)
 }
 
-@objc(WMFTextFormattingViewController)
-class TextFormattingViewController: UIViewController {
-    @objc weak var delegate: TextFormattingViewControllerDelegate?
-
-    private var theme = Theme.standard
+@objc(WMFTextFormattingView)
+class TextFormattingView: UIView {
+    @objc weak var delegate: TextFormattingViewDelegate?
 
     @IBOutlet weak var titleLabel: UILabel!
     @IBOutlet weak var closeButton: UIButton!
-
-    // buttons
-
     @IBOutlet weak var styleTitleLabel: UILabel!
     @IBOutlet weak var styleDisclosureButton: AlignedImageButton!
-
     @IBOutlet weak var textSizeTitleLabel: UILabel!
     @IBOutlet weak var textSizeDisclosureButton: AlignedImageButton!
-
     @IBOutlet weak var clearButton: UIButton!
 
+    @objc static func loadFromNib() -> TextFormattingView {
+        let nib = UINib(nibName: "TextFormattingView", bundle: Bundle.main)
+        let view = nib.instantiate(withOwner: nil, options: nil).first as! TextFormattingView
+        return view
+    }
+
     override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) {
         super.traitCollectionDidChange(previousTraitCollection)
         updateFonts()
@@ -39,16 +38,13 @@ class TextFormattingViewController: UIViewController {
     }
 
     @IBAction private func close(_ sender: UIButton) {
-        delegate?.textFormattingViewControllerDidTapCloseButton(self, button: sender)
+        delegate?.textFormattingViewDidTapCloseButton(self, button: sender)
     }
+
 }
 
-extension TextFormattingViewController: Themeable {
+extension TextFormattingView: Themeable {
     func apply(theme: Theme) {
-        guard viewIfLoaded != nil else {
-            self.theme = theme
-            return
-        }
         titleLabel.textColor = theme.colors.primaryText
         styleTitleLabel.textColor = theme.colors.primaryText
         textSizeTitleLabel.textColor = theme.colors.primaryText
@@ -57,6 +53,5 @@ extension TextFormattingViewController: Themeable {
         textSizeDisclosureButton.titleLabel?.textColor = theme.colors.primaryText
 
         styleDisclosureButton.tintColor = UIColor.red
-
     }
 }
diff --git a/Wikipedia/Code/TextFormattingView.xib b/Wikipedia/Code/TextFormattingView.xib
new file mode 100644
index 00000000000..a5f5af10730
--- /dev/null
+++ b/Wikipedia/Code/TextFormattingView.xib
@@ -0,0 +1,324 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="14460.31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
+    <device id="retina4_7" orientation="portrait">
+        <adaptation id="fullscreen"/>
+    </device>
+    <dependencies>
+        <deployment identifier="iOS"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="14460.20"/>
+        <capability name="Safe area layout guides" minToolsVersion="9.0"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
+    </dependencies>
+    <objects>
+        <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner"/>
+        <placeholder placeholderIdentifier="IBFirstResponder" id="-2" customClass="UIResponder"/>
+        <view contentMode="scaleToFill" id="iN0-l3-epB" customClass="WMFTextFormattingView">
+            <rect key="frame" x="0.0" y="0.0" width="375" height="260"/>
+            <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
+            <subviews>
+                <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" translatesAutoresizingMaskIntoConstraints="NO" id="HVh-yP-OYF">
+                    <rect key="frame" x="0.0" y="0.0" width="375" height="260"/>
+                    <subviews>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="EdF-RK-Nkh">
+                            <rect key="frame" x="0.0" y="0.0" width="375" height="40.5"/>
+                            <subviews>
+                                <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="Diu-Vm-tT5">
+                                    <rect key="frame" x="15" y="12" width="345" height="20.5"/>
+                                    <subviews>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Text formatting" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="mts-I7-Cwa">
+                                            <rect key="frame" x="0.0" y="0.0" width="116" height="20.5"/>
+                                            <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                            <nil key="textColor"/>
+                                            <nil key="highlightedColor"/>
+                                        </label>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="kMw-Wk-gYf">
+                                            <rect key="frame" x="327" y="0.0" width="18" height="20.5"/>
+                                            <inset key="imageEdgeInsets" minX="3" minY="3" maxX="0.0" maxY="3"/>
+                                            <state key="normal" image="close"/>
+                                            <connections>
+                                                <action selector="close:" destination="iN0-l3-epB" eventType="touchUpInside" id="E5b-X0-GFb"/>
+                                            </connections>
+                                        </button>
+                                    </subviews>
+                                </stackView>
+                            </subviews>
+                            <constraints>
+                                <constraint firstAttribute="trailing" secondItem="Diu-Vm-tT5" secondAttribute="trailing" constant="15" id="IWT-0p-7pf"/>
+                                <constraint firstAttribute="bottom" secondItem="Diu-Vm-tT5" secondAttribute="bottom" constant="8" id="g2F-hY-pEr"/>
+                                <constraint firstItem="Diu-Vm-tT5" firstAttribute="top" secondItem="EdF-RK-Nkh" secondAttribute="top" constant="12" id="rHq-Vg-rFb"/>
+                                <constraint firstItem="Diu-Vm-tT5" firstAttribute="leading" secondItem="EdF-RK-Nkh" secondAttribute="leading" constant="15" id="zba-yu-E4p"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="qtO-np-34M" userLabel="Separator View">
+                            <rect key="frame" x="0.0" y="40.5" width="375" height="1"/>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <constraints>
+                                <constraint firstAttribute="height" constant="1" id="Hex-nc-Rxr"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="D2R-Cz-mMJ">
+                            <rect key="frame" x="0.0" y="41.5" width="375" height="46"/>
+                            <subviews>
+                                <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="Cvw-G8-KYd">
+                                    <rect key="frame" x="15" y="8" width="345" height="30"/>
+                                    <subviews>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="sOQ-EX-1gk">
+                                            <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
+                                            <state key="normal" title="B"/>
+                                        </button>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Mz7-kc-JR9">
+                                            <rect key="frame" x="56" y="0.0" width="30" height="30"/>
+                                            <state key="normal" title="I"/>
+                                        </button>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="cY5-i2-2LU">
+                                            <rect key="frame" x="112" y="0.0" width="30" height="30"/>
+                                            <state key="normal" title="S"/>
+                                        </button>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="lsg-gj-fsq">
+                                            <rect key="frame" x="168" y="0.0" width="30" height="30"/>
+                                            <state key="normal" title="C"/>
+                                        </button>
+                                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="1OK-xX-VKR">
+                                            <rect key="frame" x="224" y="0.0" width="30" height="30"/>
+                                            <state key="normal" title="!"/>
+                                        </button>
+                                        <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="2Gq-RW-eTr">
+                                            <rect key="frame" x="280" y="0.0" width="65" height="30"/>
+                                            <state key="normal" title="8"/>
+                                        </button>
+                                    </subviews>
+                                    <constraints>
+                                        <constraint firstItem="cY5-i2-2LU" firstAttribute="leading" secondItem="Mz7-kc-JR9" secondAttribute="trailing" constant="26" id="mnw-9U-6Ad"/>
+                                    </constraints>
+                                </stackView>
+                            </subviews>
+                            <constraints>
+                                <constraint firstAttribute="trailing" secondItem="Cvw-G8-KYd" secondAttribute="trailing" constant="15" id="86i-50-oGw"/>
+                                <constraint firstItem="Cvw-G8-KYd" firstAttribute="top" secondItem="D2R-Cz-mMJ" secondAttribute="top" constant="8" id="Xvm-KT-2x5"/>
+                                <constraint firstItem="Cvw-G8-KYd" firstAttribute="leading" secondItem="D2R-Cz-mMJ" secondAttribute="leading" constant="15" id="oee-2F-Ws6"/>
+                                <constraint firstAttribute="bottom" secondItem="Cvw-G8-KYd" secondAttribute="bottom" constant="8" id="wMu-9s-wL5"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="KE1-uc-tW9" userLabel="Separator View">
+                            <rect key="frame" x="0.0" y="87.5" width="375" height="1"/>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <constraints>
+                                <constraint firstAttribute="height" constant="1" id="DUT-hJ-Jmn"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="esh-XN-BiQ">
+                            <rect key="frame" x="0.0" y="88.5" width="375" height="46"/>
+                            <subviews>
+                                <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="wwQ-Ro-Xsp">
+                                    <rect key="frame" x="15" y="8" width="345" height="30"/>
+                                    <subviews>
+                                        <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="tQc-Jc-gqm">
+                                            <rect key="frame" x="0.0" y="0.0" width="65" height="30"/>
+                                            <subviews>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="d2K-uC-4iC">
+                                                    <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="D"/>
+                                                </button>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="MqL-d4-8cN">
+                                                    <rect key="frame" x="35" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="D"/>
+                                                </button>
+                                            </subviews>
+                                            <userDefinedRuntimeAttributes>
+                                                <userDefinedRuntimeAttribute type="color" keyPath="borderColor">
+                                                    <color key="value" red="1" green="0.14913141730000001" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                                </userDefinedRuntimeAttribute>
+                                                <userDefinedRuntimeAttribute type="number" keyPath="borderWidth">
+                                                    <real key="value" value="1"/>
+                                                </userDefinedRuntimeAttribute>
+                                            </userDefinedRuntimeAttributes>
+                                        </stackView>
+                                        <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="U97-Fr-NdI">
+                                            <rect key="frame" x="93.5" y="0.0" width="65" height="30"/>
+                                            <subviews>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="RCx-SO-toz">
+                                                    <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="*"/>
+                                                </button>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Yjn-th-L2W">
+                                                    <rect key="frame" x="35" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="1)"/>
+                                                </button>
+                                            </subviews>
+                                        </stackView>
+                                        <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="ye4-xq-bMC">
+                                            <rect key="frame" x="186.5" y="0.0" width="65" height="30"/>
+                                            <subviews>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="FXt-JI-poA">
+                                                    <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="X1"/>
+                                                </button>
+                                                <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="U6K-VF-nvo">
+                                                    <rect key="frame" x="35" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="X2"/>
+                                                </button>
+                                            </subviews>
+                                        </stackView>
+                                        <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" spacing="5" translatesAutoresizingMaskIntoConstraints="NO" id="a8l-25-be0">
+                                            <rect key="frame" x="280" y="0.0" width="65" height="30"/>
+                                            <subviews>
+                                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="5l0-SQ-MhU">
+                                                    <rect key="frame" x="0.0" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="U"/>
+                                                </button>
+                                                <button opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="249" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="rlh-Jj-V1s">
+                                                    <rect key="frame" x="35" y="0.0" width="30" height="30"/>
+                                                    <state key="normal" title="S"/>
+                                                </button>
+                                            </subviews>
+                                        </stackView>
+                                    </subviews>
+                                </stackView>
+                            </subviews>
+                            <constraints>
+                                <constraint firstItem="wwQ-Ro-Xsp" firstAttribute="top" secondItem="esh-XN-BiQ" secondAttribute="top" constant="8" id="WIW-0P-4MH"/>
+                                <constraint firstAttribute="trailing" secondItem="wwQ-Ro-Xsp" secondAttribute="trailing" constant="15" id="Zhd-BD-T3M"/>
+                                <constraint firstItem="wwQ-Ro-Xsp" firstAttribute="leading" secondItem="esh-XN-BiQ" secondAttribute="leading" constant="15" id="aI3-oJ-8Zx"/>
+                                <constraint firstAttribute="bottom" secondItem="wwQ-Ro-Xsp" secondAttribute="bottom" constant="8" id="vnm-n9-oxS"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="y8o-3E-rvg" userLabel="Separator View">
+                            <rect key="frame" x="0.0" y="134.5" width="375" height="1"/>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <constraints>
+                                <constraint firstAttribute="height" constant="1" id="72R-n7-5oI"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="QnY-Zo-axD">
+                            <rect key="frame" x="0.0" y="135.5" width="375" height="36.5"/>
+                            <subviews>
+                                <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="eCd-AK-DDx">
+                                    <rect key="frame" x="15" y="8" width="345" height="20.5"/>
+                                    <subviews>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Style" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="riZ-ZR-aB4">
+                                            <rect key="frame" x="0.0" y="0.0" width="38.5" height="20.5"/>
+                                            <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                            <nil key="textColor"/>
+                                            <nil key="highlightedColor"/>
+                                        </label>
+                                        <button opaque="NO" contentMode="scaleAspectFit" contentHorizontalAlignment="center" contentVerticalAlignment="center" adjustsImageSizeForAccessibilityContentSizeCategory="YES" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="hcd-hB-IaI" customClass="WMFAlignedImageButton">
+                                            <rect key="frame" x="249" y="0.0" width="96" height="20.5"/>
+                                            <state key="normal" title="Paragraph" image="chevron-right">
+                                                <color key="titleColor" cocoaTouchSystemColor="darkTextColor"/>
+                                            </state>
+                                            <userDefinedRuntimeAttributes>
+                                                <userDefinedRuntimeAttribute type="boolean" keyPath="imageIsRightAligned" value="YES"/>
+                                                <userDefinedRuntimeAttribute type="number" keyPath="horizontalSpacing">
+                                                    <real key="value" value="10"/>
+                                                </userDefinedRuntimeAttribute>
+                                                <userDefinedRuntimeAttribute type="number" keyPath="imageVerticalInset">
+                                                    <real key="value" value="5"/>
+                                                </userDefinedRuntimeAttribute>
+                                            </userDefinedRuntimeAttributes>
+                                        </button>
+                                    </subviews>
+                                </stackView>
+                            </subviews>
+                            <constraints>
+                                <constraint firstItem="eCd-AK-DDx" firstAttribute="leading" secondItem="QnY-Zo-axD" secondAttribute="leading" constant="15" id="Ua4-cQ-LnW"/>
+                                <constraint firstItem="eCd-AK-DDx" firstAttribute="top" secondItem="QnY-Zo-axD" secondAttribute="top" constant="8" id="Xdr-So-xV1"/>
+                                <constraint firstAttribute="bottom" secondItem="eCd-AK-DDx" secondAttribute="bottom" constant="8" id="hY3-Zq-CUX"/>
+                                <constraint firstAttribute="trailing" secondItem="eCd-AK-DDx" secondAttribute="trailing" constant="15" id="iiS-RJ-vHj"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="nP2-Fe-3Kr" userLabel="Separator View">
+                            <rect key="frame" x="0.0" y="172" width="375" height="1"/>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <constraints>
+                                <constraint firstAttribute="height" constant="1" id="xeQ-Ei-x73"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="76B-uf-uwK">
+                            <rect key="frame" x="0.0" y="173" width="375" height="36.5"/>
+                            <subviews>
+                                <stackView opaque="NO" contentMode="scaleToFill" distribution="equalSpacing" translatesAutoresizingMaskIntoConstraints="NO" id="2pT-1d-qeX">
+                                    <rect key="frame" x="15" y="8" width="345" height="20.5"/>
+                                    <subviews>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Text size" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="nFx-Ix-teN">
+                                            <rect key="frame" x="0.0" y="0.0" width="67" height="20.5"/>
+                                            <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                            <nil key="textColor"/>
+                                            <nil key="highlightedColor"/>
+                                        </label>
+                                        <button opaque="NO" contentMode="scaleAspectFit" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="c9o-oD-0bH" customClass="WMFAlignedImageButton">
+                                            <rect key="frame" x="274" y="0.0" width="71" height="20.5"/>
+                                            <state key="normal" title="Normal" image="chevron-right">
+                                                <color key="titleColor" cocoaTouchSystemColor="darkTextColor"/>
+                                            </state>
+                                            <userDefinedRuntimeAttributes>
+                                                <userDefinedRuntimeAttribute type="boolean" keyPath="imageIsRightAligned" value="YES"/>
+                                                <userDefinedRuntimeAttribute type="number" keyPath="horizontalSpacing">
+                                                    <real key="value" value="10"/>
+                                                </userDefinedRuntimeAttribute>
+                                                <userDefinedRuntimeAttribute type="number" keyPath="imageVerticalInset">
+                                                    <real key="value" value="5"/>
+                                                </userDefinedRuntimeAttribute>
+                                            </userDefinedRuntimeAttributes>
+                                        </button>
+                                    </subviews>
+                                </stackView>
+                            </subviews>
+                            <constraints>
+                                <constraint firstItem="2pT-1d-qeX" firstAttribute="leading" secondItem="76B-uf-uwK" secondAttribute="leading" constant="15" id="15a-ie-Ev5"/>
+                                <constraint firstAttribute="bottom" secondItem="2pT-1d-qeX" secondAttribute="bottom" constant="8" id="QxC-St-zXm"/>
+                                <constraint firstAttribute="trailing" secondItem="2pT-1d-qeX" secondAttribute="trailing" constant="15" id="rmF-tZ-ULj"/>
+                                <constraint firstItem="2pT-1d-qeX" firstAttribute="top" secondItem="76B-uf-uwK" secondAttribute="top" constant="8" id="z0y-j9-3B6"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="RVl-lm-Nc3" userLabel="Separator View">
+                            <rect key="frame" x="0.0" y="209.5" width="375" height="1"/>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <constraints>
+                                <constraint firstAttribute="height" constant="1" id="6qX-wC-Wax"/>
+                            </constraints>
+                        </view>
+                        <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="ciV-x0-uhY">
+                            <rect key="frame" x="0.0" y="210.5" width="375" height="49.5"/>
+                            <subviews>
+                                <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="cav-7T-oPR">
+                                    <rect key="frame" x="15" y="8" width="345" height="29.5"/>
+                                    <state key="normal" title="Clear formatting"/>
+                                </button>
+                            </subviews>
+                            <constraints>
+                                <constraint firstItem="cav-7T-oPR" firstAttribute="leading" secondItem="ciV-x0-uhY" secondAttribute="leading" constant="15" id="83x-cN-y5h"/>
+                                <constraint firstAttribute="trailing" secondItem="cav-7T-oPR" secondAttribute="trailing" constant="15" id="9qm-o5-jhO"/>
+                                <constraint firstItem="cav-7T-oPR" firstAttribute="top" secondItem="ciV-x0-uhY" secondAttribute="top" constant="8" id="AyW-4u-nwN"/>
+                                <constraint firstAttribute="bottom" secondItem="cav-7T-oPR" secondAttribute="bottom" constant="12" id="yxX-xf-dJA"/>
+                            </constraints>
+                        </view>
+                    </subviews>
+                    <viewLayoutGuide key="safeArea" id="yOT-Sw-hdh"/>
+                </stackView>
+            </subviews>
+            <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+            <constraints>
+                <constraint firstAttribute="bottom" secondItem="HVh-yP-OYF" secondAttribute="bottom" id="6OQ-dk-h5v"/>
+                <constraint firstItem="HVh-yP-OYF" firstAttribute="top" secondItem="iN0-l3-epB" secondAttribute="top" id="LZg-Pg-AhE"/>
+                <constraint firstItem="HVh-yP-OYF" firstAttribute="trailing" secondItem="vUN-kp-3ea" secondAttribute="trailing" id="bdM-Td-nn1"/>
+                <constraint firstItem="HVh-yP-OYF" firstAttribute="leading" secondItem="vUN-kp-3ea" secondAttribute="leading" id="xv3-fI-eMb"/>
+            </constraints>
+            <freeformSimulatedSizeMetrics key="simulatedDestinationMetrics"/>
+            <viewLayoutGuide key="safeArea" id="vUN-kp-3ea"/>
+            <connections>
+                <outlet property="clearButton" destination="cav-7T-oPR" id="S9t-Vm-lP0"/>
+                <outlet property="closeButton" destination="kMw-Wk-gYf" id="gxK-Be-e7B"/>
+                <outlet property="styleDisclosureButton" destination="hcd-hB-IaI" id="dH5-c3-HuK"/>
+                <outlet property="styleTitleLabel" destination="riZ-ZR-aB4" id="Kwb-tC-9m5"/>
+                <outlet property="textSizeDisclosureButton" destination="c9o-oD-0bH" id="h9j-Vx-Zr6"/>
+                <outlet property="textSizeTitleLabel" destination="nFx-Ix-teN" id="qJk-ld-yza"/>
+                <outlet property="titleLabel" destination="mts-I7-Cwa" id="O4q-2E-DGs"/>
+            </connections>
+            <point key="canvasLocation" x="34.5" y="-156"/>
+        </view>
+    </objects>
+    <resources>
+        <image name="chevron-right" width="12" height="21"/>
+        <image name="close" width="18" height="18"/>
+    </resources>
+</document>
