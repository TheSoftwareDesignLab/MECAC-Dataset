diff --git a/Wikipedia/assets/codemirror/codemirror-range-determination-bundle.js b/Wikipedia/assets/codemirror/codemirror-range-determination-bundle.js
index 2db7946273c..b671e65b296 100644
--- a/Wikipedia/assets/codemirror/codemirror-range-determination-bundle.js
+++ b/Wikipedia/assets/codemirror/codemirror-range-determination-bundle.js
@@ -32,8 +32,10 @@ const canClearFormatting = (codeMirror) => {
 }
 
 const clearFormatting = (codeMirror) => {
-  relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, false)
-  splitMarkupAroundSelectionRange(codeMirror, false)
+  codeMirror.operation(() => {
+    relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, false)
+    splitMarkupAroundSelectionRange(codeMirror, false)    
+  })
 }
 
 const canRelocateOrRemoveExistingMarkupForSelectionRange = (codeMirror) => relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, true)
diff --git a/www/codemirror/codemirror-range-clear-formatting.js b/www/codemirror/codemirror-range-clear-formatting.js
index 07c8b32f89e..1d17a98a9e2 100644
--- a/www/codemirror/codemirror-range-clear-formatting.js
+++ b/www/codemirror/codemirror-range-clear-formatting.js
@@ -31,8 +31,10 @@ const canClearFormatting = (codeMirror) => {
 }
 
 const clearFormatting = (codeMirror) => {
-  relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, false)
-  splitMarkupAroundSelectionRange(codeMirror, false)
+  codeMirror.operation(() => {
+    relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, false)
+    splitMarkupAroundSelectionRange(codeMirror, false)    
+  })
 }
 
 const canRelocateOrRemoveExistingMarkupForSelectionRange = (codeMirror) => relocateOrRemoveExistingMarkupForSelectionRange(codeMirror, true)
