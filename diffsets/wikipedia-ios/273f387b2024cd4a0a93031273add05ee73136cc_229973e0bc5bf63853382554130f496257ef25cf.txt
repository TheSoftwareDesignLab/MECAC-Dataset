diff --git a/www/js/transforms/widenImages.js b/www/js/transforms/widenImages.js
index 616eb3e4f10..265be9e79b2 100644
--- a/www/js/transforms/widenImages.js
+++ b/www/js/transforms/widenImages.js
@@ -26,7 +26,7 @@ function widenAncestors (el) {
 function shouldWidenImage(image) {
     if (
         image.width >= 64 &&
-        image.hasAttribute('srcset') &&
+        image.hasAttribute('data-file-width') &&
         !image.hasAttribute('hasOverflowXContainer') &&
         !utilities.isNestedInTable(image)
         ) {
@@ -62,44 +62,32 @@ function getStretchRatio(image){
     return 1.0;
 }
 
-function getDictionaryFromSrcset(srcset) {
-    /*
-     Returns dictionary with density (without "x") as keys and urls as values.
-     Parameter 'srcset' string:
-     '//image1.jpg 1.5x, //image2.jpg 2x, //image3.jpg 3x'
-     Returns dictionary:
-     {1.5: '//image1.jpg', 2: '//image2.jpg', 3: '//image3.jpg'}
-     */
-    var sets = srcset.split(',').map(function(set) {
-                                     return set.trim().split(' ');
-                                     });
-    var output = {};
-    sets.forEach(function(set) {
-                 output[set[1].replace('x', '')] = set[0];
-                 });
-    return output;
-}
-
-function useHigherResolutionImageSrcFromSrcsetIfNecessary(image) {
-    if (image.getAttribute('srcset')){
+function useHigherResolutionImageSrcIfNecessary(image) {
+    var src = image.getAttribute('src');
+    if (src){
         var stretchRatio = getStretchRatio(image);
         if (stretchRatio > maxStretchRatioAllowedBeforeRequestingHigherResolution) {
-            var srcsetDict = getDictionaryFromSrcset(image.getAttribute('srcset'));
-            /*
-            Grab the highest res url from srcset - avoids the complexity of parsing urls
-            to retrieve variants - which can get tricky - canonicals have different paths 
-            than size variants
-            */
-            var largestSrcsetDictKey = Object.keys(srcsetDict).reduce(function(a, b) {
-              return a > b ? a : b;
-            });
-
-            image.src = srcsetDict[largestSrcsetDictKey];
-
-            if(enableDebugBorders){
-                image.style.borderWidth = '10px';
-            }
-        }
+			var pathComponents = src.split("/");
+			var filename = pathComponents[pathComponents.length - 1];
+			var sizeRegex = /^[0-9]+(?=px-)/;
+			var sizeMatches = filename.match(sizeRegex);
+			if (sizeMatches.length > 0) {
+				var size = parseInt(sizeMatches[0]);
+				var originalSize = parseInt(image.getAttribute('data-file-width'));
+				var newSize = size*stretchRatio*window.devicePixelRatio;
+				var newSrc = pathComponents.slice(0,-1).join('/');
+				if (newSize < originalSize) {
+					var newFilename = filename.replace(sizeRegex, newSize.toString());
+					newSrc = newSrc + '/' + newFilename;
+				} else {
+					newSrc = newSrc.replace('/thumb/', '/');
+				}
+				image.src = newSrc;
+	            if(enableDebugBorders){
+	                image.style.borderWidth = '10px';
+	            }
+			}
+        } 
     }
 }
 
@@ -113,7 +101,7 @@ function widenImage(image) {
         image.style.borderColor = '#f00';
     }
 
-    useHigherResolutionImageSrcFromSrcsetIfNecessary(image);
+    useHigherResolutionImageSrcIfNecessary(image);
 }
 
 function maybeWidenImage() {
