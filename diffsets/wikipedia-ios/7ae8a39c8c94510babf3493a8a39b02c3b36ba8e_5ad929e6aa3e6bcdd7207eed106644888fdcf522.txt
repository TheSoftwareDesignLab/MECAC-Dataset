diff --git a/WMF Framework/Widget/WidgetController.swift b/WMF Framework/Widget/WidgetController.swift
index d135be35c80..f5d3057742c 100644
--- a/WMF Framework/Widget/WidgetController.swift	
+++ b/WMF Framework/Widget/WidgetController.swift	
@@ -121,12 +121,14 @@ public final class WidgetController: NSObject {
         isCreatingDataStore = true
         backgroundActivity = ProcessInfo.processInfo.beginActivity(options: [.background, .suddenTerminationDisabled, .automaticTerminationDisabled], reason: "Wikipedia Extension - " + UUID().uuidString)
         let dataStore = MWKDataStore()
-        dataStore.performLibraryUpdates {
-            DispatchQueue.main.async {
-                self._dataStore = dataStore
-                self.isCreatingDataStore = false
-                self.completions.forEach { $0(dataStore) }
-                self.completions.removeAll()
+        dataStore.finishSetup {
+            dataStore.performLibraryUpdates {
+                DispatchQueue.main.async {
+                    self._dataStore = dataStore
+                    self.isCreatingDataStore = false
+                    self.completions.forEach { $0(dataStore) }
+                    self.completions.removeAll()
+                }
             }
         }
     }
