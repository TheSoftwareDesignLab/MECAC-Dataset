diff --git a/Wikipedia/Code/WMFReferencePanelViewController.swift b/Wikipedia/Code/WMFReferencePanelViewController.swift
index 364f2dac4d5..abd0adc07b1 100644
--- a/Wikipedia/Code/WMFReferencePanelViewController.swift
+++ b/Wikipedia/Code/WMFReferencePanelViewController.swift
@@ -1,6 +1,5 @@
 
 import Foundation
-import BlocksKitUIKitExtensions
 
 class WMFReferencePanelViewController: UIViewController {
     
@@ -10,11 +9,17 @@ class WMFReferencePanelViewController: UIViewController {
     
     override func viewDidLoad() {
         super.viewDidLoad()
-        let tapRecognizer = UITapGestureRecognizer.bk_recognizer { (sender, state, location) in
+        view.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(self.handleTapGestureRecognizer(_:))))
+        embedContainerControllerView()
+    }
+
+    func handleTapGestureRecognizer(_ recognizer: UITapGestureRecognizer) {
+        switch recognizer.state {
+        case .ended:
             self.presentingViewController?.dismiss(animated: true, completion: nil)
+        default:
+            break
         }
-        view.addGestureRecognizer(tapRecognizer)
-        embedContainerControllerView()
     }
 
     fileprivate func panelHeight() -> CGFloat {
