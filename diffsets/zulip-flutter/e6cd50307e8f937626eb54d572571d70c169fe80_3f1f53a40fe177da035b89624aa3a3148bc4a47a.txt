diff --git a/lib/example/sticky_header.dart b/lib/example/sticky_header.dart
index 57c7022123..fc6f42cd64 100644
--- a/lib/example/sticky_header.dart
+++ b/lib/example/sticky_header.dart
@@ -17,10 +17,8 @@
 /// so as to set the app ID differently.
 library;
 
-// ignore: undefined_hidden_name // anticipates https://github.com/flutter/flutter/pull/164818
-import 'package:flutter/material.dart' hide SliverPaintOrder;
+import 'package:flutter/material.dart';
 
-import '../widgets/scrolling.dart';
 import '../widgets/sticky_header.dart';
 
 /// Example page using [StickyHeaderListView] and [StickyHeaderItem] in a
@@ -153,7 +151,7 @@ class ExampleVerticalDouble extends StatelessWidget {
 
     return Scaffold(
       appBar: AppBar(title: Text(title)),
-      body: CustomPaintOrderScrollView(
+      body: CustomScrollView(
         semanticChildCount: numSections,
         center: centerKey,
         paintOrder: headerAtBottom ?
diff --git a/lib/widgets/message_list.dart b/lib/widgets/message_list.dart
index 5f4c24c77c..8951e9e6aa 100644
--- a/lib/widgets/message_list.dart
+++ b/lib/widgets/message_list.dart
@@ -1,8 +1,7 @@
 import 'dart:math';
 
 import 'package:collection/collection.dart';
-// ignore: undefined_hidden_name // anticipates https://github.com/flutter/flutter/pull/164818
-import 'package:flutter/material.dart' hide SliverPaintOrder;
+import 'package:flutter/material.dart';
 import 'package:flutter_color_models/flutter_color_models.dart';
 import 'package:intl/intl.dart' hide TextDirection;
 
@@ -22,7 +21,7 @@ import 'emoji_reaction.dart';
 import 'icons.dart';
 import 'page.dart';
 import 'profile.dart';
-import 'scrolling.dart';
+import 'scrolling.dart' hide SliverPaintOrder;
 import 'sticky_header.dart';
 import 'store.dart';
 import 'text.dart';
diff --git a/lib/widgets/scrolling.dart b/lib/widgets/scrolling.dart
index d5a1447763..c479e75f70 100644
--- a/lib/widgets/scrolling.dart
+++ b/lib/widgets/scrolling.dart
@@ -403,7 +403,7 @@ class MessageListScrollController extends ScrollController {
 ///
 /// This lets us customize behavior in ways that aren't currently supported
 /// by the fields of [CustomScrollView] itself.
-class MessageListScrollView extends CustomPaintOrderScrollView {
+class MessageListScrollView extends CustomScrollView {
   const MessageListScrollView({
     super.key,
     super.scrollDirection,
@@ -435,13 +435,13 @@ class MessageListScrollView extends CustomPaintOrderScrollView {
       cacheExtent: cacheExtent,
       center: center,
       clipBehavior: clipBehavior,
-      paintOrder_: paintOrder_,
+      paintOrder: paintOrder,
     );
   }
 }
 
 /// The version of [Viewport] that underlies [MessageListScrollView].
-class MessageListViewport extends CustomPaintOrderViewport {
+class MessageListViewport extends Viewport {
   MessageListViewport({
     super.key,
     super.axisDirection,
@@ -452,7 +452,7 @@ class MessageListViewport extends CustomPaintOrderViewport {
     super.cacheExtentStyle,
     super.slivers,
     super.clipBehavior,
-    required super.paintOrder_,
+    required super.paintOrder,
   });
 
   @override
@@ -465,7 +465,7 @@ class MessageListViewport extends CustomPaintOrderViewport {
       cacheExtent: cacheExtent,
       cacheExtentStyle: cacheExtentStyle,
       clipBehavior: clipBehavior,
-      paintOrder_: paintOrder_,
+      paintOrder: paintOrder,
     );
   }
 }
@@ -474,7 +474,7 @@ class MessageListViewport extends CustomPaintOrderViewport {
 /// and [MessageListScrollView].
 // TODO(upstream): Devise upstream APIs to obviate the duplicated code here;
 //   use `git log -L` to see what edits we've made locally.
-class RenderMessageListViewport extends RenderCustomPaintOrderViewport {
+class RenderMessageListViewport extends RenderViewport {
   RenderMessageListViewport({
     super.axisDirection,
     required super.crossAxisDirection,
@@ -484,7 +484,7 @@ class RenderMessageListViewport extends RenderCustomPaintOrderViewport {
     super.cacheExtent,
     super.cacheExtentStyle,
     super.clipBehavior,
-    required super.paintOrder_,
+    required super.paintOrder,
   });
 
   @override
diff --git a/lib/widgets/sticky_header.dart b/lib/widgets/sticky_header.dart
index 8547229030..fcf3fdb4b3 100644
--- a/lib/widgets/sticky_header.dart
+++ b/lib/widgets/sticky_header.dart
@@ -329,9 +329,8 @@ enum _HeaderGrowthPlacement {
 /// then this [SliverStickyHeaderList] must paint after any slivers that appear
 /// to the right of this sliver.
 ///
-/// To control the viewport's paint order,
-/// consider using [CustomPaintOrderScrollView] instead of [CustomScrollView].
-/// Then [SliverPaintOrder.firstIsTop] for [HeaderPlacement.scrollingStart],
+/// To control the viewport's paint order, use [ScrollView.paintOrder].
+/// There [SliverPaintOrder.firstIsTop] for [HeaderPlacement.scrollingStart],
 /// or [SliverPaintOrder.lastIsTop] for [HeaderPlacement.scrollingEnd],
 /// suffices for meeting the needs above.
 class SliverStickyHeaderList extends RenderObjectWidget {
diff --git a/test/widgets/sticky_header_test.dart b/test/widgets/sticky_header_test.dart
index 6ff94c02d5..ac7ae4819a 100644
--- a/test/widgets/sticky_header_test.dart
+++ b/test/widgets/sticky_header_test.dart
@@ -4,12 +4,9 @@ import 'package:checks/checks.dart';
 import 'package:collection/collection.dart';
 import 'package:flutter/foundation.dart';
 import 'package:flutter/gestures.dart';
-// ignore: undefined_hidden_name // anticipates https://github.com/flutter/flutter/pull/164818
-import 'package:flutter/rendering.dart' hide SliverPaintOrder;
-// ignore: undefined_hidden_name // anticipates https://github.com/flutter/flutter/pull/164818
-import 'package:flutter/widgets.dart' hide SliverPaintOrder;
+import 'package:flutter/rendering.dart';
+import 'package:flutter/widgets.dart';
 import 'package:flutter_test/flutter_test.dart';
-import 'package:zulip/widgets/scrolling.dart';
 import 'package:zulip/widgets/sticky_header.dart';
 
 void main() {
@@ -236,7 +233,7 @@ void main() {
     const centerKey = ValueKey('center');
     final controller = ScrollController();
     await tester.pumpWidget(Directionality(textDirection: TextDirection.ltr,
-      child: CustomPaintOrderScrollView(
+      child: CustomScrollView(
         controller: controller,
         anchor: 0.0,
         center: centerKey,
@@ -341,7 +338,7 @@ Future<void> _checkSequence(
     anchor = 0.0;
   }
 
-  SliverPaintOrder paintOrder = SliverPaintOrder.centerTopFirstBottom;
+  SliverPaintOrder paintOrder = SliverPaintOrder.firstIsTop;
   if (!allowOverflow || (sliverConfig == _SliverConfig.single)) {
     // The paint order doesn't matter.
   } else {
@@ -352,7 +349,7 @@ Future<void> _checkSequence(
   final controller = ScrollController();
   await tester.pumpWidget(Directionality(
     textDirection: textDirection ?? TextDirection.rtl,
-    child: CustomPaintOrderScrollView(
+    child: CustomScrollView(
       controller: controller,
       scrollDirection: axis,
       reverse: reverse,
