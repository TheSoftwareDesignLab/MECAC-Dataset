diff --git a/lib/widgets/compose_box.dart b/lib/widgets/compose_box.dart
index 2d0160068f..257a31d994 100644
--- a/lib/widgets/compose_box.dart
+++ b/lib/widgets/compose_box.dart
@@ -1815,11 +1815,13 @@ class _EditMessageBanner extends _Banner {
       return;
     }
 
+    final messageId = controller.messageId;
+    final newContent = controller.content.textNormalized;
+    composeBoxState.endEditInteraction();
     store.editMessage(
-      messageId: controller.messageId,
+      messageId: messageId,
       originalRawContent: originalRawContent,
-      newContent: controller.content.textNormalized);
-    composeBoxState.endEditInteraction();
+      newContent: newContent);
   }
 
   @override
