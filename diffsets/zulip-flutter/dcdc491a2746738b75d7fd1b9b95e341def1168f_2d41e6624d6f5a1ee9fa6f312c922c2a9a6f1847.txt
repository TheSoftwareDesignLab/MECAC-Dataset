diff --git a/lib/api/model/submessage.dart b/lib/api/model/submessage.dart
index 3920aadeef..c9544d40f8 100644
--- a/lib/api/model/submessage.dart
+++ b/lib/api/model/submessage.dart
@@ -65,7 +65,9 @@ enum SubmessageType {
 ///  * Zero or more submessages with content [PollEventSubmessage] if the
 ///    message is a poll (i.e. if the first submessage was a [PollWidgetData]),
 ///    and similarly for other types of widgets.
-sealed class SubmessageData {}
+sealed class SubmessageData {
+  Object? toJson();
+}
 
 /// The data encoded in a submessage to make the message a Zulip widget.
 ///
@@ -87,6 +89,7 @@ sealed class WidgetData extends SubmessageData {
     };
   }
 
+  @override
   Object? toJson();
 }
 
@@ -188,6 +191,7 @@ sealed class PollEventSubmessage extends SubmessageData {
     }
   }
 
+  @override
   Map<String, Object?> toJson();
 }
 
diff --git a/test/api/model/submessage_test.dart b/test/api/model/submessage_test.dart
index a42e4cf1cb..4d049307b7 100644
--- a/test/api/model/submessage_test.dart
+++ b/test/api/model/submessage_test.dart
@@ -3,6 +3,7 @@ import 'package:test/scaffolding.dart';
 import 'package:zulip/api/model/submessage.dart';
 
 import '../../example_data.dart' as eg;
+import '../../stdlib_checks.dart';
 import 'submessage_checks.dart';
 
 void main() {
@@ -27,23 +28,25 @@ void main() {
     });
   });
 
-  test('smoke WidgetData',  () {
-    check(WidgetData.fromJson(eg.pollWidgetDataFavoriteLetter)).isA<PollWidgetData>()
+  test('invalid widget_type -> UnsupportedWidgetData/throw', () {
+    final pollWidgetData = deepToJson(eg.pollWidgetData(
+      question: 'example question',
+      options: ['A', 'B', 'C'],
+    )) as Map<String, Object?>;
+
+    check(WidgetData.fromJson(pollWidgetData)).isA<PollWidgetData>()
       ..widgetType.equals(WidgetType.poll)
       ..extraData.which((x) => x
-          ..question.equals('favorite letter')
+          ..question.equals('example question')
           ..options.deepEquals(['A', 'B', 'C'])
         );
-  });
-
-  test('invalid widget_type -> UnsupportedWidgetData/throw', () {
     check(WidgetData.fromJson({
-      ...eg.pollWidgetDataFavoriteLetter,
+      ...pollWidgetData,
       'widget_type': 'unknown_foo',
     })).isA<UnsupportedWidgetData>();
 
     check(() => WidgetData.fromJson({
-      ...eg.pollWidgetDataFavoriteLetter,
+      ...pollWidgetData,
       'widget_type': 123,
     })).throws<TypeError>();
   });
diff --git a/test/example_data.dart b/test/example_data.dart
index 1716869f35..3e3762a051 100644
--- a/test/example_data.dart
+++ b/test/example_data.dart
@@ -3,6 +3,7 @@ import 'dart:math';
 import 'package:zulip/api/model/events.dart';
 import 'package:zulip/api/model/initial_snapshot.dart';
 import 'package:zulip/api/model/model.dart';
+import 'package:zulip/api/model/submessage.dart';
 import 'package:zulip/api/route/realm.dart';
 import 'package:zulip/api/route/channels.dart';
 import 'package:zulip/model/narrow.dart';
@@ -405,13 +406,13 @@ DmMessage dmMessage({
   }) as Map<String, dynamic>);
 }
 
-const pollWidgetDataFavoriteLetter = {
-  'widget_type': 'poll',
-  'extra_data': {
-    'question': 'favorite letter',
-    'options': ['A', 'B', 'C'],
-  }
-};
+PollWidgetData pollWidgetData({
+  required String question,
+  required List<String> options,
+}) {
+  return PollWidgetData(
+    extraData: PollWidgetExtraData(question: question, options: options));
+}
 
 ////////////////////////////////////////////////////////////////
 // Aggregate data structures.
