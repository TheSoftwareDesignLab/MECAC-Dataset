diff --git a/lib/widgets/action_sheet.dart b/lib/widgets/action_sheet.dart
index c9b88f4996..c1e2c0e1f2 100644
--- a/lib/widgets/action_sheet.dart
+++ b/lib/widgets/action_sheet.dart
@@ -326,12 +326,11 @@ class QuoteAndReplyButton extends MessageActionSheetMenuItemButton {
   @override void onPressed() async {
     final zulipLocalizations = ZulipLocalizations.of(pageContext);
 
-    // This will be null only if the compose box disappeared after the
-    // message action sheet opened, and before "Quote and reply" was pressed.
-    // This is rare: it happens when the self-user loses posting permission
-    // or when a DM recipient becomes deactivated.
     var composeBoxController = findMessageListPage().composeBoxController;
-    if (composeBoxController == null) return;
+    // The compose box doesn't null out its controller; it's either always null
+    // (e.g. in Combined Feed) or always non-null; it can't have been nulled out
+    // after the action sheet opened.
+    composeBoxController!;
     if (
       composeBoxController is StreamComposeBoxController
       && composeBoxController.topic.textNormalized == kNoTopicTopic
@@ -355,12 +354,11 @@ class QuoteAndReplyButton extends MessageActionSheetMenuItemButton {
 
     if (!pageContext.mounted) return;
 
-    // This will be null only if the compose box disappeared during the
-    // quotation request. This is rare: it happens when the self-user loses
-    // posting permission or when a DM recipient becomes deactivated.
     composeBoxController = findMessageListPage().composeBoxController;
-    if (composeBoxController == null) return;
-    composeBoxController.content
+    // The compose box doesn't null out its controller; it's either always null
+    // (e.g. in Combined Feed) or always non-null; it can't have been nulled out
+    // during the raw-content request.
+    composeBoxController!.content
       .registerQuoteAndReplyEnd(PerAccountStoreWidget.of(pageContext), tag,
         message: message,
         rawContent: rawContent,
diff --git a/lib/widgets/compose_box.dart b/lib/widgets/compose_box.dart
index f95e507cac..08eb14885f 100644
--- a/lib/widgets/compose_box.dart
+++ b/lib/widgets/compose_box.dart
@@ -1134,25 +1134,13 @@ class FixedDestinationComposeBoxController extends ComposeBoxController {}
 ///
 /// This offers a text input for the topic to send to,
 /// in addition to a text input for the message content.
-class _StreamComposeBox extends StatefulWidget {
-  const _StreamComposeBox({super.key, required this.narrow});
+class _StreamComposeBox extends StatelessWidget {
+  const _StreamComposeBox({required this.narrow, required this.controller});
 
   /// The narrow on view in the message list.
   final ChannelNarrow narrow;
 
-  @override
-  State<_StreamComposeBox> createState() => _StreamComposeBoxState();
-}
-
-class _StreamComposeBoxState extends State<_StreamComposeBox> {
-  StreamComposeBoxController get controller => _controller;
-  final _controller = StreamComposeBoxController();
-
-  @override
-  void dispose() {
-    _controller.dispose();
-    super.dispose();
-  }
+  final StreamComposeBoxController controller;
 
   @override
   Widget build(BuildContext context) {
@@ -1164,13 +1152,13 @@ class _StreamComposeBoxState extends State<_StreamComposeBox> {
       contentController: content,
       contentFocusNode: contentFocusNode,
       topicInput: _TopicInput(
-        streamId: widget.narrow.streamId,
+        streamId: narrow.streamId,
         controller: topic,
         focusNode: topicFocusNode,
         contentFocusNode: contentFocusNode,
       ),
       contentInput: _StreamContentInput(
-        narrow: widget.narrow,
+        narrow: narrow,
         topicController: topic,
         controller: content,
         focusNode: contentFocusNode,
@@ -1179,7 +1167,7 @@ class _StreamComposeBoxState extends State<_StreamComposeBox> {
         topicController: topic,
         contentController: content,
         getDestination: () => StreamDestination(
-          widget.narrow.streamId, topic.textNormalized),
+          narrow.streamId, topic.textNormalized),
       ));
   }
 }
@@ -1205,24 +1193,12 @@ class _ErrorBanner extends StatelessWidget {
   }
 }
 
-class _FixedDestinationComposeBox extends StatefulWidget {
-  const _FixedDestinationComposeBox({super.key, required this.narrow});
+class _FixedDestinationComposeBox extends StatelessWidget {
+  const _FixedDestinationComposeBox({required this.narrow, required this.controller});
 
   final SendableNarrow narrow;
 
-  @override
-  State<_FixedDestinationComposeBox> createState() => _FixedDestinationComposeBoxState();
-}
-
-class _FixedDestinationComposeBoxState extends State<_FixedDestinationComposeBox> {
-  FixedDestinationComposeBoxController get controller => _controller;
-  final _controller = FixedDestinationComposeBoxController();
-
-  @override
-  void dispose() {
-    _controller.dispose();
-    super.dispose();
-  }
+  final FixedDestinationComposeBoxController controller;
 
   @override
   Widget build(BuildContext context) {
@@ -1235,14 +1211,14 @@ class _FixedDestinationComposeBoxState extends State<_FixedDestinationComposeBox
       contentFocusNode: contentFocusNode,
       topicInput: null,
       contentInput: _FixedDestinationContentInput(
-        narrow: widget.narrow,
+        narrow: narrow,
         controller: content,
         focusNode: contentFocusNode,
       ),
       sendButton: _SendButton(
         topicController: null,
         contentController: content,
-        getDestination: () => widget.narrow.destination,
+        getDestination: () => narrow.destination,
       ));
   }
 }
@@ -1273,19 +1249,34 @@ class ComposeBox extends StatefulWidget {
 
 /// The interface for the state of a [ComposeBox].
 abstract class ComposeBoxState extends State<ComposeBox> {
-  ComposeBoxController? get controller;
+  ComposeBoxController get controller;
 }
 
 class _ComposeBoxState extends State<ComposeBox> implements ComposeBoxState {
-  @override ComposeBoxController? get controller {
-    final forStream = _streamComposeBoxControllerKey.currentState?.controller;
-    final forFixedDestination = _fixedDestinationComposeBoxControllerKey.currentState?.controller;
-    assert(forStream == null || forFixedDestination == null);
-    // Both can be null (error-banner case).
-    return forStream ?? forFixedDestination;
+  @override ComposeBoxController get controller => _controller;
+  late final ComposeBoxController _controller;
+
+  @override
+  void initState() {
+    super.initState();
+    switch (widget.narrow) {
+      case ChannelNarrow():
+        _controller = StreamComposeBoxController();
+      case TopicNarrow():
+      case DmNarrow():
+        _controller = FixedDestinationComposeBoxController();
+      case CombinedFeedNarrow():
+      case MentionsNarrow():
+      case StarredMessagesNarrow():
+        assert(false);
+    }
+  }
+
+  @override
+  void dispose() {
+    _controller.dispose();
+    super.dispose();
   }
-  final _streamComposeBoxControllerKey = GlobalKey<_StreamComposeBoxState>();
-  final _fixedDestinationComposeBoxControllerKey = GlobalKey<_FixedDestinationComposeBoxState>();
 
   Widget? _errorBanner(BuildContext context) {
     final store = PerAccountStoreWidget.of(context);
@@ -1324,13 +1315,14 @@ class _ComposeBoxState extends State<ComposeBox> implements ComposeBoxState {
     final narrow = widget.narrow;
     switch (narrow) {
       case ChannelNarrow():
-        return _StreamComposeBox(key: _streamComposeBoxControllerKey, narrow: narrow);
+        _controller as StreamComposeBoxController;
+        return _StreamComposeBox(controller: _controller, narrow: narrow);
       case TopicNarrow():
-        return _FixedDestinationComposeBox(key: _fixedDestinationComposeBoxControllerKey,
-          narrow: narrow);
+        _controller as FixedDestinationComposeBoxController;
+        return _FixedDestinationComposeBox(controller: _controller, narrow: narrow);
       case DmNarrow():
-        return _FixedDestinationComposeBox(key: _fixedDestinationComposeBoxControllerKey,
-          narrow: narrow);
+        _controller as FixedDestinationComposeBoxController;
+        return _FixedDestinationComposeBox(controller: _controller, narrow: narrow);
       case CombinedFeedNarrow():
       case MentionsNarrow():
       case StarredMessagesNarrow():
