diff --git a/lib/widgets/theme.dart b/lib/widgets/theme.dart
index 6ba2e30cd6..ecc5478ef5 100644
--- a/lib/widgets/theme.dart
+++ b/lib/widgets/theme.dart
@@ -10,7 +10,7 @@ import 'text.dart';
 ThemeData zulipThemeData(BuildContext context) {
   final DesignVariables designVariables;
   final List<ThemeExtension> themeExtensions;
-  Brightness brightness = MediaQuery.of(context).platformBrightness;
+  Brightness brightness = MediaQuery.platformBrightnessOf(context);
   switch (brightness) {
     case Brightness.light: {
       designVariables = DesignVariables.light();
