diff --git a/tools/check b/tools/check
index 1b0f1e711a..0de40fbfaa 100755
--- a/tools/check
+++ b/tools/check
@@ -189,8 +189,9 @@ files_check() {
 check_no_changes() {
     local change_description="$1"; shift
 
-    # To include files excluded in `.gitattributes`, --text is necessary.
-    if git diff --text --quiet -- "$@" \
+    # We use `git diff -a` in order to include all matching files,
+    # overriding our `.gitattributes` which excludes generated files.
+    if git diff -a --quiet -- "$@" \
             && no_untracked_files "$@"; then
         return
     fi
