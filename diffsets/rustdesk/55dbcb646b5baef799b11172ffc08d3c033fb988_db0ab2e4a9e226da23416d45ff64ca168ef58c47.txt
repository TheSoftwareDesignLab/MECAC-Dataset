diff --git a/src/core_main.rs b/src/core_main.rs
index 3fe1a163038..e7bb4d0f6de 100644
--- a/src/core_main.rs
+++ b/src/core_main.rs
@@ -404,7 +404,7 @@ pub fn core_main() -> Option<Vec<String>> {
             crate::ui_interface::start_option_status_sync();
         } else if args[0] == "--cm-no-ui" {
             #[cfg(feature = "flutter")]
-            #[cfg(not(any(target_os = "android", target_os = "ios")))]
+            #[cfg(not(any(target_os = "android", target_os = "ios", target_os = "windows")))]
             crate::flutter::connection_manager::start_cm_no_ui();
             return None;
         } else {
diff --git a/src/hbbs_http/sync.rs b/src/hbbs_http/sync.rs
index 9db6c1c939f..e997a279472 100644
--- a/src/hbbs_http/sync.rs
+++ b/src/hbbs_http/sync.rs
@@ -157,6 +157,7 @@ fn handle_config_options(config_options: HashMap<String, String>) {
     Config::set_options(options);
 }
 
+#[allow(unused)]
 #[cfg(not(any(target_os = "ios")))]
 pub fn is_pro() -> bool {
     PRO.lock().unwrap().clone()
diff --git a/src/server/connection.rs b/src/server/connection.rs
index 85db55136b8..969eb47a114 100644
--- a/src/server/connection.rs
+++ b/src/server/connection.rs
@@ -2412,7 +2412,10 @@ async fn start_ipc(
     if let Ok(s) = crate::ipc::connect(1000, "_cm").await {
         stream = Some(s);
     } else {
+        #[allow(unused_mut)]
+        #[allow(unused_assignments)]
         let mut args = vec!["--cm"];
+        #[cfg(not(windows))]
         if crate::hbbs_http::sync::is_pro() && password::hide_cm() {
             args.push("--hide");
         }
