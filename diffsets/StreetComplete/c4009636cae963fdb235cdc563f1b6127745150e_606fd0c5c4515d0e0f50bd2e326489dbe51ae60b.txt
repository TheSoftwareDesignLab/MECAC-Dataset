diff --git a/app/build.gradle b/app/build.gradle
index 433fde3a0fa..79e05ce4ccd 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -51,7 +51,7 @@ if (keystorePropertiesFile.exists()) {
 
 repositories {
     mavenLocal()
-    mavenCentral()
+    jcenter()
     maven { url "https://jitpack.io" }
 }
 
@@ -66,8 +66,11 @@ dependencies {
     testCompile 'junit:junit:3.8.1'
     testCompile 'org.mockito:mockito-core:1.10.19'
     testCompile 'org.objenesis:objenesis:2.5.1'
+    // LutimImageUploaderTest uses org.json which is included in Android but needs library for
+    // non-android test cases
+    testCompile 'org.eclipse.ecf:org.json:1.0.0.v201011060100'
 
-    androidTestCompile 'com.android.support:support-annotations:26.0.1'
+    androidTestCompile 'com.android.support:support-annotations:26.1.0'
     androidTestCompile 'com.android.support.test:runner:0.5'
     androidTestCompile 'org.mockito:mockito-core:1.10.19'
     androidTestCompile 'org.objenesis:objenesis:2.5.1'
@@ -82,10 +85,10 @@ dependencies {
     }
 
     // Android stuff
-    compile 'com.android.support:appcompat-v7:26.0.1'
-    compile 'com.android.support:support-v13:26.0.1'
-    compile 'com.android.support:support-v4:26.0.1'
-    compile 'com.android.support:design:26.0.1'
+    compile 'com.android.support:appcompat-v7:26.1.0'
+    compile 'com.android.support:support-v13:26.1.0'
+    compile 'com.android.support:support-v4:26.1.0'
+    compile 'com.android.support:design:26.1.0'
 
     // scheduling background jobs
     compile 'com.evernote:android-job:1.1.12'
@@ -104,6 +107,7 @@ dependencies {
     compile 'me.grantland:autofittextview:0.2.1'
     compile 'com.duolingo.open:rtl-viewpager:1.0.2'
     compile 'com.github.westnordost:viewtooltip:master-SNAPSHOT'
+    compile 'com.android.support:exifinterface:26.1.0'
 
     // serialization
     compile 'com.esotericsoftware:kryo:4.0.1'
diff --git a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDaoTest.java b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDaoTest.java
index 66cf87c5ba8..f758882d40a 100644
--- a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDaoTest.java
+++ b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDaoTest.java
@@ -1,9 +1,12 @@
 package de.westnordost.streetcomplete.data.osmnotes;
 
+import java.util.ArrayList;
+
 import de.westnordost.streetcomplete.data.ApplicationDbTestCase;
 import de.westnordost.osmapi.map.data.BoundingBox;
 import de.westnordost.osmapi.map.data.Element;
 import de.westnordost.osmapi.map.data.OsmLatLon;
+import de.westnordost.streetcomplete.util.Serializer;
 
 public class CreateNoteDaoTest extends ApplicationDbTestCase
 {
@@ -12,7 +15,7 @@ public class CreateNoteDaoTest extends ApplicationDbTestCase
 	@Override public void setUp()
 	{
 		super.setUp();
-		dao = new CreateNoteDao(dbHelper);
+		dao = new CreateNoteDao(dbHelper, serializer);
 	}
 
 	public void testAddGetDelete()
@@ -23,6 +26,9 @@ public void testAddGetDelete()
 		note.position = new OsmLatLon(3,5);
 		note.elementId = 123L;
 		note.elementType = Element.Type.NODE;
+		note.imagePaths = new ArrayList<>();
+		note.imagePaths.add("hullo");
+		note.imagePaths.add("hey");
 
 		assertTrue(dao.add(note));
 		CreateNote dbNote = dao.get(note.id);
@@ -33,6 +39,7 @@ public void testAddGetDelete()
 		assertEquals(note.position, dbNote.position);
 		assertEquals(note.elementType, dbNote.elementType);
 		assertEquals(note.elementId, dbNote.elementId);
+		assertEquals(note.imagePaths, dbNote.imagePaths);
 
 		assertTrue(dao.delete(note.id));
 
@@ -51,6 +58,7 @@ public void testNullable()
 		assertNull(dbNote.elementType);
 		assertNull(dbNote.elementId);
 		assertNull(dbNote.questTitle);
+		assertNull(dbNote.imagePaths);
 	}
 
 	public void testGetAll()
diff --git a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDaoTest.java b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDaoTest.java
index b982c5ca9d2..2febb173a48 100644
--- a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDaoTest.java
+++ b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDaoTest.java
@@ -1,5 +1,6 @@
 package de.westnordost.streetcomplete.data.osmnotes;
 
+import java.util.ArrayList;
 import java.util.Date;
 import java.util.List;
 
@@ -38,7 +39,10 @@ public void testAddGetNoChanges()
 	public void testAddGetWithChanges()
 	{
 		Note note = NoteDaoTest.createNote();
-		OsmNoteQuest quest = new OsmNoteQuest(null, note, QuestStatus.ANSWERED, "hi da du", new Date(1234), questType);
+		ArrayList<String> imagePaths = new ArrayList<>();
+		imagePaths.add("blubbi");
+		imagePaths.add("diblub");
+		OsmNoteQuest quest = new OsmNoteQuest(null, note, QuestStatus.ANSWERED, "hi da du", new Date(1234), questType, imagePaths);
 		noteDao.put(note);
 		dao.add(quest);
 		OsmNoteQuest dbQuest = dao.get(quest.getId());
diff --git a/app/src/androidTest/java/de/westnordost/streetcomplete/quests/QuestAnswerComponentTest.java b/app/src/androidTest/java/de/westnordost/streetcomplete/quests/QuestAnswerComponentTest.java
index b3503233bd0..18c65657e19 100644
--- a/app/src/androidTest/java/de/westnordost/streetcomplete/quests/QuestAnswerComponentTest.java
+++ b/app/src/androidTest/java/de/westnordost/streetcomplete/quests/QuestAnswerComponentTest.java
@@ -4,6 +4,8 @@
 
 import junit.framework.TestCase;
 
+import java.util.ArrayList;
+
 import de.westnordost.streetcomplete.data.QuestGroup;
 
 public class QuestAnswerComponentTest extends TestCase
@@ -32,6 +34,10 @@ public void testListener()
 		final String expectNote = "test";
 		final String expectQuestTitle = "What?";
 		final Bundle expectBundle = new Bundle();
+		final ArrayList<String> expectImagePaths = new ArrayList<>();
+		expectImagePaths.add("dings");
+		expectImagePaths.add("dongs");
+
 		expectBundle.putString("A","B");
 
 		c1.onAttach(new OsmQuestAnswerListener()
@@ -44,12 +50,13 @@ public void testListener()
 			}
 
 			@Override public void onLeaveNote(long questId, QuestGroup group, String questTitle,
-											  String note)
+											  String note, ArrayList<String> imagePaths)
 			{
 				assertEquals(expectQuestId, questId);
 				assertEquals(expectGroup, group);
 				assertEquals(expectNote, note);
 				assertEquals(expectQuestTitle, questTitle);
+				assertEquals(expectImagePaths, imagePaths);
 			}
 
 			@Override public void onSkippedQuest(long questId, QuestGroup group)
@@ -60,7 +67,7 @@ public void testListener()
 		});
 
 		c1.onCreate(QuestAnswerComponent.createArguments(expectQuestId, expectGroup));
-		c1.onLeaveNote(expectQuestTitle, expectNote);
+		c1.onLeaveNote(expectQuestTitle, expectNote, expectImagePaths);
 		c1.onAnswerQuest(expectBundle);
 		c1.onSkippedQuest();
 	}
diff --git a/app/src/debug/res/xml/file_paths.xml b/app/src/debug/res/xml/file_paths.xml
new file mode 100644
index 00000000000..b9f955c5421
--- /dev/null
+++ b/app/src/debug/res/xml/file_paths.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<paths>
+    <external-path name="images" path="Android/data/de.westnordost.streetcomplete.debug/files/Pictures" />
+</paths>
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index 55f5eb423c2..764b3764bf3 100644
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -8,10 +8,13 @@
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
     <uses-permission android:name="android.permission.WAKE_LOCK" android:maxSdkVersion="20" />
+    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" android:maxSdkVersion="18"/>
 
     <!-- evernote lib adds this permission but we do not use that feature-->
     <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" tools:node="remove" />
 
+    <uses-feature android:name="android.hardware.camera" android:required="false" />
+
     <application
         android:name="de.westnordost.streetcomplete.StreetCompleteApplication"
         android:allowBackup="true"
@@ -51,6 +54,15 @@
             android:parentActivityName=".MainActivity"/>
         <service android:name="de.westnordost.streetcomplete.data.download.QuestDownloadService" />
         <service android:name="de.westnordost.streetcomplete.data.upload.QuestChangesUploadService" />
+        <provider
+            android:name="android.support.v4.content.FileProvider"
+            android:authorities="de.westnordost.streetcomplete.fileprovider"
+            android:exported="false"
+            android:grantUriPermissions="true">
+            <meta-data
+                android:name="android.support.FILE_PROVIDER_PATHS"
+                android:resource="@xml/file_paths" />
+        </provider>
     </application>
 
 </manifest>
diff --git a/app/src/main/java/de/westnordost/streetcomplete/ApplicationConstants.java b/app/src/main/java/de/westnordost/streetcomplete/ApplicationConstants.java
index d5c9b78cba1..b51be18ae1d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/ApplicationConstants.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/ApplicationConstants.java
@@ -25,4 +25,10 @@ public class ApplicationConstants
 	/** a "best before" duration for quests. Quests will not be downloaded again for any tile
 	 *  before the time expired */
 	public static final int REFRESH_QUESTS_AFTER = 7*24*60*60*1000; // one week in ms
+
+	public static final String LUTIM_INSTANCE = "https://lut.im/"; // must have trailing /
+	public static final Integer LUTIM_DELETE_AFTER_DAYS = 365 / 2; // half a year
+
+	public static final int ATTACH_PHOTO_QUALITY = 60;
+	public static final int ATTACH_PHOTO_MAXWIDTH = 1280; // WXGA
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/MainActivity.java b/app/src/main/java/de/westnordost/streetcomplete/MainActivity.java
index ea68d99f6ee..9b6bc53b269 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/MainActivity.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/MainActivity.java
@@ -1,7 +1,7 @@
 package de.westnordost.streetcomplete;
 
 import android.animation.ObjectAnimator;
-import android.app.FragmentManager;
+import android.support.v4.app.FragmentManager;
 import android.content.BroadcastReceiver;
 import android.content.ComponentName;
 import android.content.Context;
@@ -20,6 +20,7 @@
 import android.support.annotation.AnyThread;
 import android.support.annotation.Nullable;
 import android.support.annotation.UiThread;
+import android.support.v4.app.FragmentTransaction;
 import android.support.v4.content.LocalBroadcastManager;
 import android.support.v7.app.AppCompatActivity;
 import android.support.v7.widget.Toolbar;
@@ -36,6 +37,7 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Collections;
 import java.util.Map;
@@ -607,10 +609,10 @@ else if(e instanceof OsmAuthorizationException)
 		});
 	}
 
-	@Override public void onLeaveNote(long questId, QuestGroup group, String questTitle, String note)
+	@Override public void onLeaveNote(long questId, QuestGroup group, String questTitle, String note, ArrayList<String> imagePaths)
 	{
 		closeQuestDetailsFor(questId, group);
-		questController.createNote(questId, questTitle, note);
+		questController.createNote(questId, questTitle, note, imagePaths);
 	}
 
 	@Override public void onSkippedQuest(long questId, QuestGroup group)
@@ -724,7 +726,7 @@ private void removeQuests(Collection<Long> questIds, QuestGroup group)
 			inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);
 		}
 
-		getFragmentManager().popBackStackImmediate(BOTTOM_SHEET, FragmentManager.POP_BACK_STACK_INCLUSIVE);
+		getSupportFragmentManager().popBackStackImmediate(BOTTOM_SHEET, FragmentManager.POP_BACK_STACK_INCLUSIVE);
 
 		mapFragment.removeQuestGeometry();
 	}
@@ -778,7 +780,7 @@ private boolean isQuestDetailsCurrentlyDisplayedFor(long questId, QuestGroup gro
 		args.putString(AbstractQuestAnswerFragment.ARG_QUESTTYPE, quest.getType().getClass().getSimpleName());
 		f.setArguments(args);
 
-		android.app.FragmentTransaction ft = getFragmentManager().beginTransaction();
+		FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
 		ft.setCustomAnimations(
 				R.animator.quest_answer_form_appear, R.animator.quest_answer_form_disappear,
 				R.animator.quest_answer_form_appear, R.animator.quest_answer_form_disappear);
@@ -789,7 +791,7 @@ private boolean isQuestDetailsCurrentlyDisplayedFor(long questId, QuestGroup gro
 
 	private AbstractQuestAnswerFragment getQuestDetailsFragment()
 	{
-		return (AbstractQuestAnswerFragment) getFragmentManager().findFragmentByTag(BOTTOM_SHEET);
+		return (AbstractQuestAnswerFragment) getSupportFragmentManager().findFragmentByTag(BOTTOM_SHEET);
 	}
 
 	/* ---------- QuestsMapFragment.Listener ---------- */
diff --git a/app/src/main/java/de/westnordost/streetcomplete/about/AboutFragment.java b/app/src/main/java/de/westnordost/streetcomplete/about/AboutFragment.java
index 831563a55f3..07525c13adc 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/about/AboutFragment.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/about/AboutFragment.java
@@ -59,7 +59,8 @@ public boolean onPreferenceClick(Preference preference)
 			public boolean onPreferenceClick(Preference preference)
 			{
 				Fragment f = ShowHtmlFragment.create(
-						getResources().getString(R.string.privacy_html),
+						getResources().getString(R.string.privacy_html) +
+						getResources().getString(R.string.privacy_html_image_upload),
 						R.string.about_title_privacy_statement);
 				getFragmentManager()
 						.beginTransaction()
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/OsmModule.java b/app/src/main/java/de/westnordost/streetcomplete/data/OsmModule.java
index f4051705131..74c3d9f45b2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/OsmModule.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/OsmModule.java
@@ -17,6 +17,8 @@
 import de.westnordost.osmapi.map.MapDataFactory;
 import de.westnordost.osmapi.map.OsmMapDataFactory;
 import de.westnordost.osmapi.notes.NotesDao;
+import de.westnordost.streetcomplete.util.ImageUploader;
+import de.westnordost.streetcomplete.util.LutimImageUploader;
 import oauth.signpost.OAuthConsumer;
 
 @Module
@@ -75,4 +77,11 @@ public static OsmConnection osmConnection(OAuthConsumer consumer)
 	{
 		return new MapDataDao(osm);
 	}
+
+	@Provides public static ImageUploader imageUploader()
+	{
+		LutimImageUploader imageUploader = new LutimImageUploader(ApplicationConstants.LUTIM_INSTANCE);
+		imageUploader.setDeleteAfterDays(ApplicationConstants.LUTIM_DELETE_AFTER_DAYS);
+		return imageUploader;
+	}
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java b/app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java
index 531e668e44c..b5e4f42f36d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/QuestController.java
@@ -134,7 +134,7 @@ public void onDestroy()
 
 	/** Create a note for the given OSM Quest instead of answering it. The quest will turn
 	 *  invisible. */
-	public void createNote(final long osmQuestId, final String questTitle, final String text)
+	public void createNote(final long osmQuestId, final String questTitle, final String text, final ArrayList<String> imagePaths)
 	{
 		workerHandler.post(new Runnable() { @Override public void run()
 		{
@@ -148,6 +148,7 @@ public void createNote(final long osmQuestId, final String questTitle, final Str
 			createNote.questTitle = questTitle;
 			createNote.elementType = q.getElementType();
 			createNote.elementId = q.getElementId();
+			createNote.imagePaths = imagePaths;
 			createNoteDB.add(createNote);
 
 			/* The quests that reference the same element for which the user was not able to
@@ -255,11 +256,13 @@ else if(quest.getStatus() == QuestStatus.CLOSED)
 	private boolean solveOsmNoteQuest(long questId, Bundle answer)
 	{
 		OsmNoteQuest q = osmNoteQuestDB.get(questId);
+		ArrayList<String> imagePaths = answer.getStringArrayList(NoteDiscussionForm.IMAGE_PATHS);
 		String comment = answer.getString(NoteDiscussionForm.TEXT);
 		if(comment != null && !comment.isEmpty())
 		{
 			q.setComment(comment);
 			q.setStatus(QuestStatus.ANSWERED);
+			q.setImagePaths(imagePaths);
 			osmNoteQuestDB.update(q);
 			return true;
 		}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/StreetCompleteOpenHelper.java b/app/src/main/java/de/westnordost/streetcomplete/data/StreetCompleteOpenHelper.java
index c1aeee0c76c..d5fc08fc1df 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/StreetCompleteOpenHelper.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/StreetCompleteOpenHelper.java
@@ -24,7 +24,7 @@
 public class StreetCompleteOpenHelper extends SQLiteOpenHelper
 {
 	public static final String DB_NAME = "streetcomplete.db";
-	public static final int DB_VERSION = 7;
+	public static final int DB_VERSION = 8;
 
 	private static final String OSM_QUESTS_CREATE_PARAMS = " (" +
 			OsmQuestTable.Columns.QUEST_ID +		" INTEGER		PRIMARY KEY, " +
@@ -115,7 +115,8 @@ public class StreetCompleteOpenHelper extends SQLiteOpenHelper
 				OsmNoteQuestTable.Columns.QUEST_STATUS +	" varchar(255)	NOT NULL, " +
 				OsmNoteQuestTable.Columns.COMMENT +			" text, " +
 				OsmNoteQuestTable.Columns.LAST_UPDATE + 	" int			NOT NULL, " +
-				OsmNoteQuestTable.Columns.NOTE_ID +			" INTEGER		UNIQUE NOT NULL " +
+				OsmNoteQuestTable.Columns.NOTE_ID +			" INTEGER		UNIQUE NOT NULL, " +
+				OsmNoteQuestTable.Columns.IMAGE_PATHS +		" blob " +
 					"REFERENCES " + NoteTable.NAME + "(" + NoteTable.Columns.ID + ")" +
 			");";
 
@@ -140,7 +141,8 @@ public class StreetCompleteOpenHelper extends SQLiteOpenHelper
 					CreateNoteTable.Columns.ELEMENT_TYPE +	" varchar(255), " +
 					CreateNoteTable.Columns.ELEMENT_ID +	" int, " +
 					CreateNoteTable.Columns.TEXT + 		" text			NOT NULL, " +
-					CreateNoteTable.Columns.QUEST_TITLE + " text" +
+					CreateNoteTable.Columns.QUEST_TITLE + " text, " +
+					CreateNoteTable.Columns.IMAGE_PATHS + " blob" +
 					");";
 
 	private static final String OSM_NOTES_VIEW_CREATE =
@@ -302,6 +304,14 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)
 			db.execSQL(OSM_UNDO_QUESTS_VIEW_CREATE);
 		}
 
+		if(oldVersion < 8 && newVersion >= 8)
+		{
+			db.execSQL("ALTER TABLE " + CreateNoteTable.NAME + " ADD COLUMN " +
+					CreateNoteTable.Columns.IMAGE_PATHS + " blob ;");
+			db.execSQL("ALTER TABLE " + OsmNoteQuestTable.NAME + " ADD COLUMN " +
+					OsmNoteQuestTable.Columns.IMAGE_PATHS + " blob ;");
+		}
+
 		// for later changes to the DB
 		// ...
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/AttachPhotoUtils.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/AttachPhotoUtils.java
new file mode 100644
index 00000000000..5182be75996
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/AttachPhotoUtils.java
@@ -0,0 +1,136 @@
+package de.westnordost.streetcomplete.data.osmnotes;
+
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.graphics.Matrix;
+import android.support.media.ExifInterface;
+
+import java.io.File;
+import java.io.IOException;
+import java.util.List;
+
+import de.westnordost.streetcomplete.util.ImageUploader;
+
+public class AttachPhotoUtils
+{
+	public static String uploadAndGetAttachedPhotosText(ImageUploader imageUploader, List<String> imagePaths)
+	{
+		if(imagePaths != null)
+		{
+			List<String> urls = imageUploader.upload(imagePaths);
+			if (urls != null)
+			{
+				StringBuilder sb = new StringBuilder("\n\nAttached photo(s):");
+				for(String link : urls)
+				{
+					sb.append("\n");
+					sb.append(link);
+				}
+				return sb.toString();
+			}
+		}
+		return "";
+	}
+
+	public static void deleteImages(List<String> imagePaths)
+	{
+		if(imagePaths != null)
+		{
+			for (String path : imagePaths)
+			{
+				File file = new File(path);
+				if (file.exists())
+				{
+					file.delete();
+				}
+			}
+		}
+	}
+
+	public static Bitmap resize(String imagePath, int maxWidth)
+	{
+		BitmapFactory.Options options = new BitmapFactory.Options();
+		options.inJustDecodeBounds = true;
+		BitmapFactory.decodeFile(imagePath, options);
+
+		int srcWidth = options.outWidth;
+		int srcHeight = options.outHeight;
+
+		if(srcWidth <= 0 || srcHeight <= 0) return null;
+
+		// Only resize if the source is big enough. This code is just trying to fit a image into a certain width.
+		if(maxWidth > srcWidth)
+			maxWidth = srcWidth;
+
+		// Calculate the correct inSampleSize/resize value. This helps reduce memory use. It should be a power of 2
+		// from: https://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue/823966#823966
+		int inSampleSize = 1;
+		while(srcWidth / 2 > maxWidth){
+			srcWidth /= 2;
+			srcHeight /= 2;
+			inSampleSize *= 2;
+		}
+
+		float desiredScale = (float) maxWidth / srcWidth;
+
+		// Decode with inSampleSize
+		options.inJustDecodeBounds = false;
+		options.inDither = false;
+		options.inSampleSize = inSampleSize;
+		options.inScaled = false;
+		options.inPreferredConfig = Bitmap.Config.ARGB_8888;
+		Bitmap sampledSrcBitmap = BitmapFactory.decodeFile(imagePath, options);
+
+		// Resize & Rotate
+		Matrix matrix = getRotationMatrix(imagePath);
+		matrix.postScale(desiredScale, desiredScale);
+		Bitmap result = Bitmap.createBitmap(sampledSrcBitmap, 0, 0, sampledSrcBitmap.getWidth(), sampledSrcBitmap.getHeight(), matrix, true);
+
+		sampledSrcBitmap.recycle();
+		return result;
+	}
+
+	private static Matrix getRotationMatrix(String imagePath)
+	{
+		int orientation = 0;
+		try
+		{
+			ExifInterface exifInterface = new ExifInterface(imagePath);
+			orientation = exifInterface.getAttributeInt(ExifInterface.TAG_ORIENTATION,
+					ExifInterface.ORIENTATION_UNDEFINED);
+		}
+		catch (IOException e)
+		{
+		}
+
+		Matrix matrix = new Matrix();
+		switch (orientation)
+		{
+			case ExifInterface.ORIENTATION_FLIP_HORIZONTAL:
+				matrix.setScale(-1, 1);
+				break;
+			case ExifInterface.ORIENTATION_ROTATE_180:
+				matrix.setRotate(180);
+				break;
+			case ExifInterface.ORIENTATION_FLIP_VERTICAL:
+				matrix.setRotate(180);
+				matrix.postScale(-1, 1);
+				break;
+			case ExifInterface.ORIENTATION_TRANSPOSE:
+				matrix.setRotate(90);
+				matrix.postScale(-1, 1);
+				break;
+			case ExifInterface.ORIENTATION_ROTATE_90:
+				matrix.setRotate(90);
+				break;
+			case ExifInterface.ORIENTATION_TRANSVERSE:
+				matrix.setRotate(-90);
+				matrix.postScale(-1, 1);
+				break;
+			case ExifInterface.ORIENTATION_ROTATE_270:
+				matrix.setRotate(-90);
+				break;
+		}
+		return matrix;
+	}
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNote.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNote.java
index 28175838d14..6b643264241 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNote.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNote.java
@@ -1,5 +1,7 @@
 package de.westnordost.streetcomplete.data.osmnotes;
 
+import java.util.ArrayList;
+
 import de.westnordost.osmapi.map.data.Element;
 import de.westnordost.osmapi.map.data.LatLon;
 
@@ -11,6 +13,7 @@ public class CreateNote
 	public LatLon position;
 	public Element.Type elementType;
 	public Long elementId;
+	public ArrayList<String> imagePaths;
 
 	public boolean hasAssociatedElement()
 	{
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDao.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDao.java
index fdbfc8a5098..1b1688c3bec 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDao.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteDao.java
@@ -14,14 +14,17 @@
 import de.westnordost.osmapi.map.data.BoundingBox;
 import de.westnordost.osmapi.map.data.Element;
 import de.westnordost.osmapi.map.data.OsmLatLon;
+import de.westnordost.streetcomplete.util.Serializer;
 
 public class CreateNoteDao
 {
 	protected final SQLiteOpenHelper dbHelper;
+	private final Serializer serializer;
 
-	@Inject public CreateNoteDao(SQLiteOpenHelper dbHelper)
+	@Inject public CreateNoteDao(SQLiteOpenHelper dbHelper, Serializer serializer)
 	{
 		this.dbHelper = dbHelper;
+		this.serializer = serializer;
 	}
 
 	public boolean add(CreateNote note)
@@ -38,6 +41,10 @@ public boolean add(CreateNote note)
 		{
 			values.put(CreateNoteTable.Columns.ELEMENT_ID, note.elementId);
 		}
+		if (note.imagePaths != null)
+		{
+			values.put(CreateNoteTable.Columns.IMAGE_PATHS, serializer.toBytes(note.imagePaths));
+		}
 		values.put(CreateNoteTable.Columns.TEXT, note.text);
 		values.put(CreateNoteTable.Columns.QUEST_TITLE, note.questTitle);
 
@@ -121,7 +128,8 @@ private CreateNote createObjectFrom(Cursor cursor)
 			colText = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.TEXT),
 			colElementType = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.ELEMENT_TYPE),
 			colElementId = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.ELEMENT_ID),
-			colQuestTitle = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.QUEST_TITLE);
+			colQuestTitle = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.QUEST_TITLE),
+			colImagePaths = cursor.getColumnIndexOrThrow(CreateNoteTable.Columns.IMAGE_PATHS);
 
 		CreateNote note = new CreateNote();
 		note.position = new OsmLatLon(cursor.getDouble(colLat), cursor.getDouble(colLon));
@@ -138,6 +146,10 @@ private CreateNote createObjectFrom(Cursor cursor)
 		{
 			note.elementId = cursor.getLong(colElementId);
 		}
+		if(!cursor.isNull(colImagePaths))
+		{
+			note.imagePaths = serializer.toObject(cursor.getBlob(colImagePaths), ArrayList.class);
+		}
 		note.id = cursor.getLong(colNoteId);
 
 		return note;
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteTable.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteTable.java
index 0d3b5a7310b..31d0e2082da 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteTable.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteTable.java
@@ -13,6 +13,7 @@ public static class Columns
 				TEXT = "text",
 				ELEMENT_TYPE = "element_type",
 				ELEMENT_ID = "element_id",
-				QUEST_TITLE = "quest_title";
+				QUEST_TITLE = "quest_title",
+				IMAGE_PATHS = "image_paths";
 	}
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUpload.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUpload.java
index b2d34f35a6f..a89caa1dcbd 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUpload.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUpload.java
@@ -2,6 +2,7 @@
 
 import android.util.Log;
 
+import java.util.List;
 import java.util.Locale;
 import java.util.concurrent.atomic.AtomicBoolean;
 
@@ -16,6 +17,7 @@
 import de.westnordost.osmapi.map.data.Element;
 import de.westnordost.osmapi.notes.Note;
 import de.westnordost.osmapi.notes.NotesDao;
+import de.westnordost.streetcomplete.util.ImageUploader;
 
 public class CreateNoteUpload
 {
@@ -27,10 +29,13 @@ public class CreateNoteUpload
 	private final OsmNoteQuestDao noteQuestDB;
 	private final MapDataDao mapDataDao;
 	private final OsmNoteQuestType questType;
+	private final ImageUploader imageUploader;
+
 
 	@Inject public CreateNoteUpload(
 			CreateNoteDao createNoteDB, NotesDao osmDao, NoteDao noteDB,
-			OsmNoteQuestDao noteQuestDB, MapDataDao mapDataDao, OsmNoteQuestType questType)
+			OsmNoteQuestDao noteQuestDB, MapDataDao mapDataDao, OsmNoteQuestType questType,
+			ImageUploader imageUploader)
 	{
 		this.createNoteDB = createNoteDB;
 		this.noteQuestDB = noteQuestDB;
@@ -38,6 +43,7 @@ public class CreateNoteUpload
 		this.osmDao = osmDao;
 		this.mapDataDao = mapDataDao;
 		this.questType = questType;
+		this.imageUploader = imageUploader;
 	}
 
 	public void upload(AtomicBoolean cancelState)
@@ -70,7 +76,7 @@ Note uploadCreateNote(CreateNote n)
 		{
 			Log.i(TAG, "Dropped to be created note " + getCreateNoteStringForLog(n) +
 					" because the associated element has already been deleted");
-			createNoteDB.delete(n.id);
+			deleteNote(n);
 			return null;
 		}
 
@@ -92,10 +98,17 @@ Note uploadCreateNote(CreateNote n)
 			// so the problem has likely been solved by another mapper
 		}
 
-		createNoteDB.delete(n.id);
+		deleteNote(n);
+
 		return newNote;
 	}
 
+	private void deleteNote(CreateNote n)
+	{
+		createNoteDB.delete(n.id);
+		AttachPhotoUtils.deleteImages(n.imagePaths);
+	}
+
 	private static String getCreateNoteStringForLog(CreateNote n)
 	{
 		return "\"" + n.text + "\" at " + n.position.getLatitude() + ", " + n.position.getLongitude();
@@ -127,30 +140,42 @@ private Note createOrCommentNote(CreateNote n)
 		if(n.hasAssociatedElement())
 		{
 			Note oldNote = findAlreadyExistingNoteWithSameAssociatedElement(n);
-
 			if(oldNote != null)
 			{
-				if(oldNote.isOpen())
-				{
-					try
-					{
-						return osmDao.comment(oldNote.id, n.text);
-					}
-					catch (OsmConflictException e)
-					{
-						return null;
-					}
-				}
-				else
-				{
-					return null;
-				}
+				return commentNote(oldNote, n.text, n.imagePaths);
 			}
 		}
-		return osmDao.create(n.position, getCreateNoteText(n));
+		return createNote(n);
+	}
+
+	private Note createNote(CreateNote n)
+	{
+		String text = getCreateNoteText(n);
+		text += AttachPhotoUtils.uploadAndGetAttachedPhotosText(imageUploader, n.imagePaths);
+		return osmDao.create(n.position, text);
+	}
+
+	private Note commentNote(Note note, String text, List<String> attachedImagePaths)
+	{
+		if(note.isOpen())
+		{
+			try
+			{
+				text += AttachPhotoUtils.uploadAndGetAttachedPhotosText(imageUploader, attachedImagePaths);
+				return osmDao.comment(note.id, text);
+			}
+			catch (OsmConflictException e)
+			{
+				return null;
+			}
+		}
+		else
+		{
+			return null;
+		}
 	}
 
-	static String getCreateNoteText(CreateNote note)
+	private static String getCreateNoteText(CreateNote note)
 	{
 		if(note.hasAssociatedElement())
 		{
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuest.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuest.java
index d28a9f0b9cc..dbd57cdef2d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuest.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuest.java
@@ -1,5 +1,6 @@
 package de.westnordost.streetcomplete.data.osmnotes;
 
+import java.util.ArrayList;
 import java.util.Date;
 
 import de.westnordost.streetcomplete.data.Quest;
@@ -13,11 +14,11 @@ public class OsmNoteQuest implements Quest
 {
 	public OsmNoteQuest(Note note, OsmNoteQuestType osmNoteQuestType)
 	{
-		this(null, note, QuestStatus.NEW, null, new Date(), osmNoteQuestType);
+		this(null, note, QuestStatus.NEW, null, new Date(), osmNoteQuestType, null);
 	}
 
 	public OsmNoteQuest(Long id, Note note, QuestStatus status, String comment, Date lastUpdate,
-						OsmNoteQuestType questType)
+						OsmNoteQuestType questType, ArrayList<String> imagePaths)
 	{
 		this.id = id;
 		this.note = note;
@@ -25,6 +26,7 @@ public OsmNoteQuest(Long id, Note note, QuestStatus status, String comment, Date
 		this.comment = comment;
 		this.lastUpdate = lastUpdate;
 		this.questType = questType;
+		this.imagePaths = imagePaths;
 	}
 
 	private Long id;
@@ -34,6 +36,8 @@ public OsmNoteQuest(Long id, Note note, QuestStatus status, String comment, Date
 
 	private String comment;
 
+	private ArrayList<String> imagePaths;
+
 	private final OsmNoteQuestType questType;
 
 	@Override public QuestType getType()
@@ -108,6 +112,16 @@ public void setComment(String comment)
 		this.id = id;
 	}
 
+	public void setImagePaths(ArrayList<String> imagePaths)
+	{
+		this.imagePaths = imagePaths;
+	}
+
+	public ArrayList<String> getImagePaths()
+	{
+		return imagePaths;
+	}
+
 	public boolean probablyContainsQuestion()
 	{
 		/* from left to right (if smartass IntelliJ wouldn't mess up left-to-right):
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUpload.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUpload.java
index fa6e8e39415..be846ec0906 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUpload.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUpload.java
@@ -11,6 +11,7 @@
 import de.westnordost.osmapi.map.data.LatLon;
 import de.westnordost.osmapi.notes.Note;
 import de.westnordost.osmapi.notes.NotesDao;
+import de.westnordost.streetcomplete.util.ImageUploader;
 
 public class OsmNoteQuestChangesUpload
 {
@@ -19,12 +20,15 @@ public class OsmNoteQuestChangesUpload
 	private final NotesDao osmDao;
 	private final OsmNoteQuestDao questDB;
 	private final NoteDao noteDB;
+	private final ImageUploader imageUploader;
 
-	@Inject public OsmNoteQuestChangesUpload(NotesDao osmDao, OsmNoteQuestDao questDB, NoteDao noteDB)
+	@Inject public OsmNoteQuestChangesUpload(
+			NotesDao osmDao, OsmNoteQuestDao questDB, NoteDao noteDB, ImageUploader imageUploader)
 	{
 		this.osmDao = osmDao;
 		this.questDB = questDB;
 		this.noteDB = noteDB;
+		this.imageUploader = imageUploader;
 	}
 
 	public void upload(AtomicBoolean cancelState)
@@ -57,6 +61,7 @@ Note uploadNoteChanges(OsmNoteQuest quest)
 
 		try
 		{
+			text += AttachPhotoUtils.uploadAndGetAttachedPhotosText(imageUploader, quest.getImagePaths());
 			Note newNote = osmDao.comment(quest.getNote().id, text);
 
 			/* Unlike OSM quests, note quests are never deleted when the user contributed to it
@@ -70,6 +75,7 @@ Note uploadNoteChanges(OsmNoteQuest quest)
 			quest.setNote(newNote);
 			questDB.update(quest);
 			noteDB.put(newNote);
+			AttachPhotoUtils.deleteImages(quest.getImagePaths());
 
 			return newNote;
 		}
@@ -78,6 +84,7 @@ Note uploadNoteChanges(OsmNoteQuest quest)
 			// someone else already closed the note -> our contribution is probably worthless. Delete
 			questDB.delete(quest.getId());
 			noteDB.delete(quest.getNote().id);
+			AttachPhotoUtils.deleteImages(quest.getImagePaths());
 
 			Log.i(TAG, "Dropped the comment " + getNoteQuestStringForLog(quest) +
 					" because the note has already been closed");
@@ -91,5 +98,4 @@ private static String getNoteQuestStringForLog(OsmNoteQuest n)
 		LatLon pos = n.getMarkerLocation();
 		return "\"" + n.getComment() + "\" at " + pos.getLatitude() + ", " + pos.getLongitude();
 	}
-
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDao.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDao.java
index 0414339d369..f7f2ab7df4b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDao.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestDao.java
@@ -6,6 +6,7 @@
 import android.database.sqlite.SQLiteOpenHelper;
 import android.database.sqlite.SQLiteStatement;
 
+import java.util.ArrayList;
 import java.util.Date;
 import java.util.List;
 
@@ -40,8 +41,9 @@ public class OsmNoteQuestDao extends AQuestDao<OsmNoteQuest>
 				Columns.NOTE_ID+","+
 				Columns.QUEST_STATUS+","+
 				Columns.COMMENT+","+
-				Columns.LAST_UPDATE+
-				") values (?,?,?,?,?);";
+				Columns.LAST_UPDATE+","+
+				Columns.IMAGE_PATHS+
+				") values (?,?,?,?,?,?);";
 		SQLiteDatabase db = dbHelper.getWritableDatabase();
 		add = db.compileStatement("INSERT OR IGNORE INTO " + sql);
 		replace = db.compileStatement("INSERT OR REPLACE INTO " +sql);
@@ -110,6 +112,11 @@ public List<LatLon> getAllPositions(BoundingBox bbox)
 			values.put(Columns.COMMENT, quest.getComment());
 		}
 
+		if (quest.getImagePaths() != null)
+		{
+			values.put(Columns.IMAGE_PATHS, serializer.toBytes(quest.getImagePaths()));
+		}
+
 		return values;
 	}
 
@@ -129,7 +136,8 @@ public List<LatLon> getAllPositions(BoundingBox bbox)
 			colNoteId = cursor.getColumnIndexOrThrow(Columns.NOTE_ID),
 			colQuestStatus = cursor.getColumnIndexOrThrow(Columns.QUEST_STATUS),
 			colComment = cursor.getColumnIndexOrThrow(Columns.COMMENT),
-			colLastUpdate = cursor.getColumnIndexOrThrow(Columns.LAST_UPDATE);
+			colLastUpdate = cursor.getColumnIndexOrThrow(Columns.LAST_UPDATE),
+			colImagePaths = cursor.getColumnIndexOrThrow(Columns.IMAGE_PATHS);
 
 		long questId = cursor.getLong(colQuestId);
 
@@ -140,6 +148,12 @@ public List<LatLon> getAllPositions(BoundingBox bbox)
 		}
 		QuestStatus status = QuestStatus.valueOf(cursor.getString(colQuestStatus));
 
+		ArrayList<String> imagePaths = new ArrayList<>();
+		if(!cursor.isNull(colImagePaths))
+		{
+			imagePaths = serializer.toObject(cursor.getBlob(colImagePaths), ArrayList.class);
+		}
+
 		Date lastUpdate = new Date(cursor.getLong(colLastUpdate));
 
 		Note note = null;
@@ -148,6 +162,6 @@ public List<LatLon> getAllPositions(BoundingBox bbox)
 			note = NoteDao.createObjectFrom(serializer, cursor);
 		}
 
-		return new OsmNoteQuest(questId, note, status, comment, lastUpdate, questType);
+		return new OsmNoteQuest(questId, note, status, comment, lastUpdate, questType, imagePaths);
 	}
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestTable.java b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestTable.java
index 7a96b5491a2..9ee02e05c8e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestTable.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestTable.java
@@ -13,6 +13,7 @@ public static class Columns
 				NOTE_ID = NoteTable.Columns.ID,
 				QUEST_STATUS = "quest_status",
 				COMMENT = "changes",
-				LAST_UPDATE = "last_update";
+				LAST_UPDATE = "last_update",
+				IMAGE_PATHS = "image_paths";
 	}
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/AbstractQuestAnswerFragment.java b/app/src/main/java/de/westnordost/streetcomplete/quests/AbstractQuestAnswerFragment.java
index d1f85c5d914..928ac6f3600 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/AbstractQuestAnswerFragment.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/AbstractQuestAnswerFragment.java
@@ -1,8 +1,8 @@
 package de.westnordost.streetcomplete.quests;
 
 import android.app.Activity;
-import android.app.DialogFragment;
-import android.app.Fragment;
+import android.support.v4.app.DialogFragment;
+import android.support.v4.app.Fragment;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.res.Configuration;
@@ -238,7 +238,7 @@ protected final void onClickCantSay()
 		String questTitle = getEnglishResources().getString(getQuestTitleResId(), getElementName());
 		leaveNoteArgs.putString(LeaveNoteDialog.ARG_QUEST_TITLE, questTitle);
 		leaveNote.setArguments(leaveNoteArgs);
-		leaveNote.show(getFragmentManager(), null);
+		leaveNote.show(getActivity().getSupportFragmentManager(), null);
 	}
 
 	private Resources getEnglishResources()
@@ -255,6 +255,7 @@ private Resources getEnglishResources()
 	{
 		if (!hasChanges())
 		{
+			onDiscard();
 			confirmed.run();
 		}
 		else
@@ -264,6 +265,7 @@ private Resources getEnglishResources()
 				@Override
 				public void onClick(DialogInterface dialog, int which)
 				{
+					onDiscard();
 					confirmed.run();
 				}
 			};
@@ -275,6 +277,8 @@ public void onClick(DialogInterface dialog, int which)
 		}
 	}
 
+	protected void onDiscard() {}
+
 	protected final void applyImmediateAnswer(Bundle data)
 	{
 		questAnswerComponent.onAnswerQuest(data);
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/LeaveNoteDialog.java b/app/src/main/java/de/westnordost/streetcomplete/quests/LeaveNoteDialog.java
index 7cdc911fdef..13f96635bcb 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/LeaveNoteDialog.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/LeaveNoteDialog.java
@@ -1,7 +1,8 @@
 package de.westnordost.streetcomplete.quests;
 
 import android.app.Activity;
-import android.app.DialogFragment;
+import android.support.annotation.Nullable;
+import android.support.v4.app.DialogFragment;
 import android.content.Context;
 import android.os.Bundle;
 import android.view.LayoutInflater;
@@ -11,6 +12,7 @@
 import android.widget.EditText;
 
 import de.westnordost.streetcomplete.R;
+import de.westnordost.streetcomplete.quests.note_discussion.AttachPhotoFragment;
 
 public class LeaveNoteDialog extends DialogFragment
 {
@@ -33,7 +35,7 @@ public LeaveNoteDialog()
 	public View onCreateView(LayoutInflater inflater, ViewGroup container,
 							 Bundle savedInstanceState)
 	{
-		View view = inflater.inflate(R.layout.leave_note, container, false);
+		View view = inflater.inflate(R.layout.dialog_leave_note, container, false);
 
 		Button buttonCancel = view.findViewById(R.id.buttonCancel);
 		buttonCancel.setOnClickListener(new View.OnClickListener()
@@ -59,6 +61,20 @@ public void onClick(View v)
 		return view;
 	}
 
+	@Override public void onViewCreated(View view, @Nullable Bundle savedInstanceState)
+	{
+		super.onViewCreated(view, savedInstanceState);
+		if(savedInstanceState == null)
+		{
+			getChildFragmentManager().beginTransaction().add(R.id.attachPhotoFragment, new AttachPhotoFragment()).commit();
+		}
+	}
+
+	private @Nullable AttachPhotoFragment getAttachPhotoFragment()
+	{
+		return (AttachPhotoFragment) getChildFragmentManager().findFragmentById(R.id.attachPhotoFragment);
+	}
+
 	@Override public void onCreate(Bundle inState)
 	{
 		super.onCreate(inState);
@@ -89,13 +105,15 @@ private void onClickOk()
 			noteInput.setError(getResources().getString(R.string.quest_generic_error_field_empty));
 			return;
 		}
-
-		questAnswerComponent.onLeaveNote(questTitle, inputText);
+		AttachPhotoFragment f = getAttachPhotoFragment();
+		questAnswerComponent.onLeaveNote(questTitle, inputText, f != null ? f.getImagePaths() : null);
 		dismiss();
 	}
 
 	private void onClickCancel()
 	{
+		AttachPhotoFragment f = getAttachPhotoFragment();
+		if(f != null) f.deleteImages();
 		questAnswerComponent.onSkippedQuest();
 		dismiss();
 	}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/OsmQuestAnswerListener.java b/app/src/main/java/de/westnordost/streetcomplete/quests/OsmQuestAnswerListener.java
index 7e25ddbc07a..9ca8236f199 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/OsmQuestAnswerListener.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/OsmQuestAnswerListener.java
@@ -2,6 +2,8 @@
 
 import android.os.Bundle;
 
+import java.util.ArrayList;
+
 import de.westnordost.streetcomplete.data.QuestGroup;
 
 public interface OsmQuestAnswerListener
@@ -11,7 +13,7 @@ public interface OsmQuestAnswerListener
 	void onAnsweredQuest(long questId, QuestGroup group, Bundle answer);
 
 	/** Called when the user did not answer the quest with the given id but instead left a note */
-	void onLeaveNote(long questId, QuestGroup group, String questTitle, String note);
+	void onLeaveNote(long questId, QuestGroup group, String questTitle, String note, ArrayList<String> imagePaths);
 
 	/** Called when the user chose to skip the quest */
 	void onSkippedQuest(long questId, QuestGroup group);
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/QuestAnswerComponent.java b/app/src/main/java/de/westnordost/streetcomplete/quests/QuestAnswerComponent.java
index b3a8ef231c2..eabd49ffe9c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/QuestAnswerComponent.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/QuestAnswerComponent.java
@@ -2,6 +2,8 @@
 
 import android.os.Bundle;
 
+import java.util.ArrayList;
+
 import de.westnordost.streetcomplete.data.QuestGroup;
 
 public class QuestAnswerComponent
@@ -50,9 +52,9 @@ public void onAnswerQuest(Bundle answer)
 		callbackListener.onAnsweredQuest(questId, questGroup, answer);
 	}
 
-	public void onLeaveNote(String questTitle, String text)
+	public void onLeaveNote(String questTitle, String text, ArrayList<String> imagePaths)
 	{
-		callbackListener.onLeaveNote(questId, questGroup, questTitle, text);
+		callbackListener.onLeaveNote(questId, questGroup, questTitle, text, imagePaths);
 	}
 
 	public void onSkippedQuest()
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/AttachPhotoFragment.java b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/AttachPhotoFragment.java
new file mode 100644
index 00000000000..aa7e40aa024
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/AttachPhotoFragment.java
@@ -0,0 +1,183 @@
+package de.westnordost.streetcomplete.quests.note_discussion;
+
+import android.content.Intent;
+import android.content.pm.PackageManager;
+import android.graphics.Bitmap;
+import android.net.Uri;
+import android.os.Build;
+import android.os.Bundle;
+import android.os.Environment;
+import android.provider.MediaStore;
+import android.support.v4.app.Fragment;
+import android.support.v7.widget.GridLayoutManager;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageButton;
+import android.widget.Toast;
+
+import java.io.File;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.text.SimpleDateFormat;
+import java.util.ArrayList;
+import java.util.Date;
+
+import de.westnordost.streetcomplete.ApplicationConstants;
+import de.westnordost.streetcomplete.R;
+import de.westnordost.streetcomplete.data.osmnotes.AttachPhotoUtils;
+
+import static android.app.Activity.RESULT_OK;
+import static android.support.v4.content.FileProvider.getUriForFile;
+
+public class AttachPhotoFragment extends Fragment
+{
+	private ArrayList<String> imagePaths;
+	private String currentImagePath;
+
+	private NoteImageAdapter noteImageAdapter;
+
+	private static final String TAG = "AttachPhotoFragment";
+	private static final int REQUEST_TAKE_PHOTO = 1;
+
+	private static final String PHOTO_PATHS = "photo_paths";
+	private static final String CURRENT_PHOTO_PATH = "current_photo_path";
+
+	@Override
+	public View onCreateView(LayoutInflater inflater, ViewGroup container,
+							 Bundle savedInstanceState)
+	{
+		View view = inflater.inflate(R.layout.fragment_attach_photo, container, false);
+
+		ImageButton takePhoto = view.findViewById(R.id.buttonTakeImage);
+		takePhoto.setOnClickListener(new View.OnClickListener()
+		{
+			@Override public void onClick(View v)
+			{
+				takePhoto();
+			}
+		});
+
+		if (!getActivity().getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA))
+		{
+			view.setVisibility(View.GONE);
+		}
+
+		if (savedInstanceState != null)
+		{
+			imagePaths = savedInstanceState.getStringArrayList(PHOTO_PATHS);
+			currentImagePath = savedInstanceState.getString(CURRENT_PHOTO_PATH);
+		}
+		else
+		{
+			imagePaths = new ArrayList<>();
+			currentImagePath = null;
+		}
+
+		noteImageAdapter = new NoteImageAdapter(imagePaths, getContext());
+		RecyclerView gridView = view.findViewById(R.id.gridView);
+		gridView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));
+		gridView.setAdapter(noteImageAdapter);
+
+		return view;
+	}
+
+	@Override public void onSaveInstanceState(Bundle outState)
+	{
+		super.onSaveInstanceState(outState);
+		outState.putStringArrayList(PHOTO_PATHS, imagePaths);
+		outState.putString(CURRENT_PHOTO_PATH, currentImagePath);
+	}
+
+	private void takePhoto()
+	{
+		Intent takePhotoIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
+		if (takePhotoIntent.resolveActivity(getActivity().getPackageManager()) != null)
+		{
+			try
+			{
+				File photoFile = createImageFile();
+				Uri photoUri;
+				if (Build.VERSION.SDK_INT > 21)
+				{
+					//Use FileProvider for getting the content:// URI, see: https://developer.android.com/training/camera/photobasics.html#TaskPath
+					photoUri = getUriForFile(getActivity(), "de.westnordost.streetcomplete.fileprovider", photoFile);
+				}
+				else
+				{
+					photoUri = Uri.fromFile(photoFile);
+				}
+				currentImagePath = photoFile.getPath();
+				takePhotoIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoUri);
+				startActivityForResult(takePhotoIntent, REQUEST_TAKE_PHOTO);
+			}
+			catch (IOException e)
+			{
+				Log.e(TAG, "Unable to create file for photo", e);
+				Toast.makeText(getContext(), R.string.quest_leave_new_note_create_image_error, Toast.LENGTH_SHORT).show();
+			}
+		}
+	}
+
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data)
+	{
+		if (requestCode == REQUEST_TAKE_PHOTO)
+		{
+			if (resultCode == RESULT_OK)
+			{
+				try
+				{
+					Bitmap bitmap = AttachPhotoUtils.resize(currentImagePath, ApplicationConstants.ATTACH_PHOTO_MAXWIDTH);
+					if(bitmap == null) throw new IOException();
+					FileOutputStream out = new FileOutputStream(currentImagePath);
+					bitmap.compress(Bitmap.CompressFormat.JPEG, ApplicationConstants.ATTACH_PHOTO_QUALITY, out);
+
+					imagePaths.add(currentImagePath);
+					noteImageAdapter.notifyItemInserted(imagePaths.size()-1);
+				}
+				catch (IOException e)
+				{
+					Log.e(TAG, "Unable to rescale the photo", e);
+					Toast.makeText(getContext(), R.string.quest_leave_new_note_create_image_error, Toast.LENGTH_SHORT).show();
+					removeCurrentImage();
+				}
+			}
+			else
+			{
+				removeCurrentImage();
+			}
+			currentImagePath = null;
+		}
+	}
+
+	private void removeCurrentImage()
+	{
+		File photoFile = new File(currentImagePath);
+		if (photoFile.exists())
+		{
+			photoFile.delete();
+		}
+	}
+
+	private File createImageFile() throws IOException
+	{
+		String timeStamp = new SimpleDateFormat("yyyyMMdd_HHmmss").format(new Date());
+		String imageFileName = "photo_" + timeStamp + "_";
+		File directory = getActivity().getExternalFilesDir(Environment.DIRECTORY_PICTURES);
+		return File.createTempFile(imageFileName, ".jpg", directory);
+	}
+
+	public ArrayList<String> getImagePaths()
+	{
+		return imagePaths;
+	}
+
+	public void deleteImages()
+	{
+		AttachPhotoUtils.deleteImages(imagePaths);
+	}
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteDiscussionForm.java b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteDiscussionForm.java
index 8875a1e017c..d49dc758cd1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteDiscussionForm.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteDiscussionForm.java
@@ -1,6 +1,7 @@
 package de.westnordost.streetcomplete.quests.note_discussion;
 
 import android.os.Bundle;
+import android.support.annotation.Nullable;
 import android.text.format.DateUtils;
 import android.util.Log;
 import android.view.LayoutInflater;
@@ -29,6 +30,7 @@ public class NoteDiscussionForm extends AbstractQuestAnswerFragment
 {
 	private static final String TAG = "NoteDiscussionForm";
 	public static final String TEXT = "text";
+	public static final String IMAGE_PATHS = "image_paths";
 
 	@Inject OsmNoteQuestDao noteDb;
 
@@ -96,6 +98,20 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa
 		return view;
 	}
 
+	@Override public void onViewCreated(View view, @Nullable Bundle savedInstanceState)
+	{
+		super.onViewCreated(view, savedInstanceState);
+		if(savedInstanceState == null)
+		{
+			getChildFragmentManager().beginTransaction().add(R.id.attachPhotoFragment, new AttachPhotoFragment()).commit();
+		}
+	}
+
+	private @Nullable AttachPhotoFragment getAttachPhotoFragment()
+	{
+		return (AttachPhotoFragment) getChildFragmentManager().findFragmentById(R.id.attachPhotoFragment);
+	}
+
 	private void inflateNoteDiscussion(Note note)
 	{
 		for(NoteComment noteComment : note.comments)
@@ -160,14 +176,28 @@ private void onClickOk()
 			return;
 		}
 
+		AttachPhotoFragment f = getAttachPhotoFragment();
+
 		Bundle answer = new Bundle();
 		answer.putString(TEXT, noteText);
+		answer.putStringArrayList(IMAGE_PATHS, f != null ? f.getImagePaths() : null);
 		applyImmediateAnswer(answer);
 	}
 
+	@Override
+	public void onDiscard()
+	{
+		AttachPhotoFragment f = getAttachPhotoFragment();
+		if(f != null) f.deleteImages();
+	}
+
 	@Override public boolean hasChanges()
 	{
-		return !noteInput.getText().toString().trim().isEmpty();
+		AttachPhotoFragment f = getAttachPhotoFragment();
+		boolean hasPhotos = f != null && !f.getImagePaths().isEmpty();
+		boolean hasText = !noteInput.getText().toString().trim().isEmpty();
+
+		return hasPhotos || hasText;
 	}
 
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteImageAdapter.java b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteImageAdapter.java
new file mode 100644
index 00000000000..bef25ae6dff
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/note_discussion/NoteImageAdapter.java
@@ -0,0 +1,104 @@
+package de.westnordost.streetcomplete.quests.note_discussion;
+
+import android.content.Context;
+import android.content.DialogInterface;
+import android.graphics.Bitmap;
+import android.support.media.ExifInterface;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewTreeObserver;
+import android.widget.ImageView;
+
+import java.io.File;
+import java.io.IOException;
+import java.util.List;
+
+import de.westnordost.streetcomplete.R;
+import de.westnordost.streetcomplete.data.osmnotes.AttachPhotoUtils;
+import de.westnordost.streetcomplete.view.ListAdapter;
+import de.westnordost.streetcomplete.view.dialogs.AlertDialogBuilder;
+
+public class NoteImageAdapter extends ListAdapter<String>
+{
+	private final Context context;
+
+	public NoteImageAdapter(List<String> list, Context context)
+	{
+		super(list);
+		this.context = context;
+	}
+
+	@Override public ViewHolder<String> onCreateViewHolder(ViewGroup parent, int viewType)
+	{
+		LayoutInflater inflater = LayoutInflater.from(parent.getContext());
+		return new NoteImageViewHolder(inflater.inflate(R.layout.cell_image_thumbnail, parent, false));
+	}
+
+	private class NoteImageViewHolder extends ViewHolder<String>
+	{
+		private ImageView imageView;
+		private View deleteButton;
+
+		public NoteImageViewHolder(View itemView)
+		{
+			super(itemView);
+			imageView = itemView.findViewById(R.id.imageView);
+			imageView.setOnClickListener(new View.OnClickListener()
+			{
+				@Override public void onClick(View view)
+				{
+					int index = getAdapterPosition();
+					if(index > -1) onClickDelete(index);
+				}
+			});
+			deleteButton = itemView.findViewById(R.id.deleteButton);
+		}
+
+		@Override protected void onBind(final String imagePath)
+		{
+			itemView.getViewTreeObserver().addOnGlobalLayoutListener (
+				new ViewTreeObserver.OnGlobalLayoutListener()
+				{
+					@Override public void onGlobalLayout()
+					{
+						itemView.getViewTreeObserver().removeOnGlobalLayoutListener(this);
+						onMeasured(imagePath);
+					}
+			});
+		}
+
+		private void onMeasured(String imagePath)
+		{
+			Bitmap bitmap = AttachPhotoUtils.resize(imagePath, imageView.getWidth());
+			imageView.setImageBitmap(bitmap);
+		}
+	}
+
+	private void onClickDelete(final int index)
+	{
+		new AlertDialogBuilder(context)
+				.setMessage(R.string.quest_leave_new_note_photo_delete_title)
+				.setNegativeButton(android.R.string.cancel, null)
+				.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener()
+				{
+					@Override public void onClick(DialogInterface dialog, int which)
+					{
+						delete(index);
+					}
+				})
+				.show();
+	}
+
+	private void delete(int index)
+	{
+		String imagePath = getList().remove(index);
+
+		File image = new File(imagePath);
+		if(image.exists())
+		{
+			image.delete();
+		}
+		notifyItemRemoved(index);
+	}
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/tangram/MapControlsFragment.java b/app/src/main/java/de/westnordost/streetcomplete/tangram/MapControlsFragment.java
index 05cba4d4f04..1db755a3ae1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/tangram/MapControlsFragment.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/tangram/MapControlsFragment.java
@@ -22,7 +22,6 @@
 import javax.inject.Inject;
 
 import de.westnordost.streetcomplete.Injector;
-import de.westnordost.streetcomplete.Prefs;
 import de.westnordost.streetcomplete.R;
 import de.westnordost.streetcomplete.location.LocationRequestFragment;
 import de.westnordost.streetcomplete.location.LocationState;
@@ -61,6 +60,7 @@ public class MapControlsFragment extends Fragment
 	{
 		super.onCreate(savedInstanceState);
 		Injector.instance.getApplicationComponent().inject(this);
+		mapFragment = (MapFragment) getParentFragment();
 	}
 
 	@Override public View onCreateView(LayoutInflater inflater, ViewGroup container,
@@ -141,6 +141,12 @@ public class MapControlsFragment extends Fragment
 		return view;
 	}
 
+	@Override public void onViewCreated(View view, @Nullable Bundle savedInstanceState)
+	{
+		super.onViewCreated(view, savedInstanceState);
+		mapFragment.onMapControlsCreated(this);
+	}
+
 	@Override public void onStart()
 	{
 		super.onStart();
@@ -163,11 +169,6 @@ public class MapControlsFragment extends Fragment
 
 	/* ------------------------ Calls from the MapFragment ------------------------ */
 
-	public void setMapFragment(MapFragment mapFragment)
-	{
-		this.mapFragment = mapFragment;
-	}
-
 	public void onMapOrientation(float rotation, float tilt)
 	{
 		compassNeedle.setOrientation(rotation, tilt);
diff --git a/app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java b/app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java
index 524670118c2..20658413cf2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/tangram/MapFragment.java
@@ -80,11 +80,15 @@ public class MapFragment extends Fragment implements
 
 	private boolean isShowingDirection;
 
+	private boolean isMapInitialized;
+
 	@Override public View onCreateView(LayoutInflater inflater, ViewGroup container,
 									   Bundle savedInstanceState)
 	{
 		View view = inflater.inflate(R.layout.fragment_map, container, false);
 
+		isMapInitialized = false;
+
 		mapView = view.findViewById(R.id.map);
 		TextView mapzenLink = view.findViewById(R.id.mapzenLink);
 
@@ -100,8 +104,10 @@ public class MapFragment extends Fragment implements
 	@Override public void onViewCreated(View view, @Nullable Bundle savedInstanceState)
 	{
 		super.onViewCreated(view, savedInstanceState);
-		mapControls = (MapControlsFragment) getChildFragmentManager().findFragmentById(R.id.controls_fragment);
-		mapControls.setMapFragment(this);
+		if(savedInstanceState == null)
+		{
+			getChildFragmentManager().beginTransaction().add(R.id.controls_fragment, new MapControlsFragment()).commit();
+		}
 	}
 
 	/* --------------------------------- Map and Location --------------------------------------- */
@@ -127,11 +133,27 @@ public void getMapAsync(String apiKey)
 		restoreMapState();
 
 		compass.setListener(this);
-		mapControls.onMapInitialized();
+
+		isMapInitialized = true;
+		tryInitializeMapControls();
 
 		controller.loadSceneFile(sceneFilePath);
 	}
 
+	public void onMapControlsCreated(MapControlsFragment mapControls)
+	{
+		this.mapControls = mapControls;
+		tryInitializeMapControls();
+	}
+
+	private void tryInitializeMapControls()
+	{
+		if(isMapInitialized && mapControls != null)
+		{
+			mapControls.onMapInitialized();
+			mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
+		}
+	}
 
 	@CallSuper @Override public void onSceneReady(int sceneId, SceneError sceneError)
 	{
@@ -307,7 +329,7 @@ protected void followPosition()
 
 	@Override public boolean onShove(float distance)
 	{
-		mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
+		if(mapControls != null) mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
 		updateView();
 		return false;
 	}
@@ -315,7 +337,7 @@ protected void followPosition()
 	@Override public boolean onRotate(float x, float y, float rotation)
 	{
 		if(!requestUnglueViewFromRotation()) return true;
-		mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
+		if(mapControls != null) mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
 		updateView();
 		return false;
 	}
@@ -338,7 +360,7 @@ private boolean requestUnglueViewFromPosition()
 	{
 		if(isFollowingPosition)
 		{
-			if(mapControls.requestUnglueViewFromPosition())
+			if(mapControls == null || mapControls.requestUnglueViewFromPosition())
 			{
 				setIsFollowingPosition(false);
 				setCompassMode(false);
@@ -353,7 +375,7 @@ private boolean requestUnglueViewFromRotation()
 	{
 		if(isCompassMode)
 		{
-			if(mapControls.requestUnglueViewFromRotation())
+			if(mapControls == null || mapControls.requestUnglueViewFromRotation())
 			{
 				setCompassMode(false);
 				return true;
@@ -424,7 +446,7 @@ private void updateAccuracy()
 			{
 				controller.setRotationEased(mapRotation, 50);
 			}
-			mapControls.onMapOrientation(mapRotation, controller.getTilt());
+			if(mapControls != null) mapControls.onMapOrientation(mapRotation, controller.getTilt());
 		}
 	}
 
@@ -487,8 +509,6 @@ private void restoreMapState()
 
 		setIsFollowingPosition(prefs.getBoolean(PREF_FOLLOWING, true));
 		setCompassMode(prefs.getBoolean(PREF_COMPASS_MODE, false));
-
-		mapControls.onMapOrientation(controller.getRotation(), controller.getTilt());
 	}
 
 	private void saveMapState()
@@ -610,7 +630,7 @@ public void setMapOrientation(float rotation, float tilt)
 		if(controller == null) return;
 		controller.setRotation(rotation);
 		controller.setTilt(tilt);
-		mapControls.onMapOrientation(rotation, tilt);
+		if(mapControls != null) mapControls.onMapOrientation(rotation, tilt);
 	}
 
 	public float getRotation()
diff --git a/app/src/main/java/de/westnordost/streetcomplete/util/ImageUploader.java b/app/src/main/java/de/westnordost/streetcomplete/util/ImageUploader.java
new file mode 100644
index 00000000000..09a36dc3058
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/util/ImageUploader.java
@@ -0,0 +1,12 @@
+package de.westnordost.streetcomplete.util;
+
+import java.util.List;
+
+public interface ImageUploader
+{
+	/** Uploads images at the given file system paths path(s) and returns the URLs of the uploaded
+	 *  images.
+	 * @param imagePaths local file system paths to the images to upload
+	 * @return URLs to uploaded images. null on failure */
+	List<String> upload(List<String> imagePaths);
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/util/LutimImageUploader.java b/app/src/main/java/de/westnordost/streetcomplete/util/LutimImageUploader.java
new file mode 100644
index 00000000000..46b5497f3a9
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/util/LutimImageUploader.java
@@ -0,0 +1,101 @@
+package de.westnordost.streetcomplete.util;
+
+import android.util.Log;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import java.io.File;
+import java.io.IOException;
+import java.util.ArrayList;
+import java.util.List;
+
+public class LutimImageUploader implements ImageUploader
+{
+	private final String baseUrl;
+
+	private Integer deleteAfterDays;
+	private Boolean deleteOnFirstView;
+
+	private static final String TAG = "LutimImageUploader";
+
+	public LutimImageUploader(String baseUrl)
+	{
+		this.baseUrl = baseUrl;
+	}
+
+	@Override public List<String> upload(List<String> imagePaths)
+	{
+		ArrayList<String> imageLinks = new ArrayList<>();
+
+		for (String path : imagePaths)
+		{
+			File file = new File(path);
+			if (file.exists())
+			{
+				try
+				{
+					MultipartUtility multipart = new MultipartUtility(baseUrl, "UTF-8");
+					multipart.addFormField("format", "json");
+					if (deleteAfterDays != null)
+					{
+						multipart.addFormField("delete-day", String.valueOf(deleteAfterDays));
+					}
+					if (deleteOnFirstView != null)
+					{
+						multipart.addFormField("first-view", deleteOnFirstView ? "1" : "0");
+					}
+					multipart.addFilePart("file", file);
+
+					String response = multipart.finish();
+
+					JSONObject jsonResponse = new JSONObject(response);
+
+					if (jsonResponse.getBoolean("success"))
+					{
+						JSONObject msg = jsonResponse.getJSONObject("msg");
+						String urlToImage = msg.getString("short");
+						String finalLinkToImage = baseUrl + urlToImage;
+
+						imageLinks.add(finalLinkToImage);
+					}
+				}
+				// an error here should neither crash the app nor make the whole note upload
+				// fail but should not be silently ignored -> middle ground: include error message
+				// in note (comment) and log to console
+				catch (IOException e)
+				{
+					imageLinks.add("(error: upload failed)");
+					Log.e(TAG, "Unable to upload the file", e);
+				}
+				catch (JSONException e)
+				{
+					imageLinks.add("(error: upload failed)");
+					Log.e(TAG, "Lutim seems to have a returned a bogus response", e);
+				}
+			}
+		}
+
+		return imageLinks;
+	}
+
+	public Integer getDeleteAfterDays()
+	{
+		return deleteAfterDays;
+	}
+
+	public void setDeleteAfterDays(Integer deleteAfterDays)
+	{
+		this.deleteAfterDays = deleteAfterDays;
+	}
+
+	public Boolean getDeleteOnFirstView()
+	{
+		return deleteOnFirstView;
+	}
+
+	public void setDeleteOnFirstView(Boolean deleteOnFirstView)
+	{
+		this.deleteOnFirstView = deleteOnFirstView;
+	}
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/util/MultipartUtility.java b/app/src/main/java/de/westnordost/streetcomplete/util/MultipartUtility.java
new file mode 100644
index 00000000000..280fc6bfd4d
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/util/MultipartUtility.java
@@ -0,0 +1,95 @@
+package de.westnordost.streetcomplete.util;
+
+import java.io.BufferedReader;
+import java.io.File;
+import java.io.FileInputStream;
+import java.io.IOException;
+import java.io.InputStreamReader;
+import java.io.OutputStream;
+import java.io.OutputStreamWriter;
+import java.io.PrintWriter;
+import java.net.HttpURLConnection;
+import java.net.URL;
+import java.net.URLConnection;
+
+import de.westnordost.streetcomplete.ApplicationConstants;
+
+public class MultipartUtility {
+
+	private final String boundary;
+	private static final String LINE_FEED = "\r\n";
+	private HttpURLConnection httpConnection;
+	private String charset;
+	private OutputStream outputStream;
+	private PrintWriter writer;
+
+	public MultipartUtility(String requestURL, String charset) throws IOException
+	{
+		this.charset = charset;
+
+		boundary = "---" + System.currentTimeMillis() + "---";
+		URL url = new URL(requestURL);
+		httpConnection = (HttpURLConnection) url.openConnection();
+		httpConnection.setRequestMethod("POST");
+		httpConnection.setUseCaches(false);
+		httpConnection.setDoOutput(true);
+		httpConnection.setDoInput(true);
+		httpConnection.setRequestProperty("Content-Type", "multipart/form-data; boundary=" + boundary);
+		httpConnection.setRequestProperty("User-Agent", ApplicationConstants.USER_AGENT);
+		outputStream = httpConnection.getOutputStream();
+		writer = new PrintWriter(new OutputStreamWriter(outputStream, charset), true);
+	}
+
+	public void addFormField(String name, String value)
+	{
+		writer.append("--" + boundary).append(LINE_FEED);
+		writer.append("Content-Disposition: form-data; name=\"" + name + "\"").append(LINE_FEED);
+		writer.append("Content-Type: text/plain; charset=" + charset).append(LINE_FEED);
+		writer.append(LINE_FEED);
+		writer.append(value).append(LINE_FEED);
+		writer.flush();
+	}
+
+	public void addFilePart(String fieldName, File uploadFile) throws IOException
+	{
+		String fileName = uploadFile.getName();
+		writer.append("--" + boundary).append(LINE_FEED);
+		writer.append("Content-Disposition: form-data; name=\"" + fieldName + "\"; filename=\"" + fileName + "\"").append(LINE_FEED);
+		writer.append("Content-Type: " + URLConnection.guessContentTypeFromName(fileName)).append(LINE_FEED);
+		writer.append("Content-Transfer-Encoding: binary").append(LINE_FEED);
+		writer.append(LINE_FEED);
+		writer.flush();
+
+		FileInputStream inputStream = new FileInputStream(uploadFile);
+		byte[] buffer = new byte[4096];
+		int bytesRead = -1;
+		while ((bytesRead = inputStream.read(buffer)) != -1) {
+			outputStream.write(buffer, 0, bytesRead);
+		}
+		outputStream.flush();
+		inputStream.close();
+		writer.append(LINE_FEED);
+		writer.flush();
+	}
+
+	public String finish() throws IOException {
+		String response = "";
+		writer.append(LINE_FEED).flush();
+		writer.append("--" + boundary + "--").append(LINE_FEED);
+		writer.close();
+
+		int status = httpConnection.getResponseCode();
+		if (status == HttpURLConnection.HTTP_OK) {
+			BufferedReader reader = new BufferedReader(new InputStreamReader(httpConnection.getInputStream()));
+			String line;
+			while ((line = reader.readLine()) != null) {
+				response += line;
+			}
+			reader.close();
+			httpConnection.disconnect();
+		} else {
+			throw new IOException("Server returned non-OK status: " + status);
+		}
+		return response;
+	}
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/view/ListAdapter.java b/app/src/main/java/de/westnordost/streetcomplete/view/ListAdapter.java
index e84dd56bd90..d4a8ebebe97 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/view/ListAdapter.java
+++ b/app/src/main/java/de/westnordost/streetcomplete/view/ListAdapter.java
@@ -3,20 +3,26 @@
 import android.support.v7.widget.RecyclerView;
 import android.view.View;
 
+import java.util.Collections;
 import java.util.List;
 
-public abstract class ListAdapter<T> extends RecyclerView.Adapter<ListAdapter.ViewHolder>
+public abstract class ListAdapter<T> extends RecyclerView.Adapter<ListAdapter.ViewHolder<T>>
 {
 	private List<T> list;
 
+	public ListAdapter()
+	{
+		this.list = Collections.emptyList();
+	}
+
 	public ListAdapter(List<T> list)
 	{
 		this.list = list;
 	}
 
-	@Override public void onBindViewHolder(ListAdapter.ViewHolder holder, int position)
+	@Override public void onBindViewHolder(ListAdapter.ViewHolder<T> holder, int position)
 	{
-		holder.update(list.get(position));
+		holder.onBind(list.get(position));
 	}
 
 	@Override public int getItemCount()
@@ -24,13 +30,26 @@ public ListAdapter(List<T> list)
 		return list.size();
 	}
 
-	public abstract class ViewHolder extends RecyclerView.ViewHolder
+	public List<T> getList()
+	{
+		return list;
+	}
+
+	public void setList(List<T> list)
+	{
+		this.list = list;
+		notifyDataSetChanged();
+	}
+
+	public static abstract class ViewHolder<U> extends RecyclerView.ViewHolder
 	{
 		public ViewHolder(View itemView)
 		{
 			super(itemView);
+			onCreate();
 		}
 
-		protected abstract void update(T with);
+		protected void onCreate() {}
+		protected abstract void onBind(U with);
 	}
-}
+}
\ No newline at end of file
diff --git a/app/src/main/res/drawable/ic_add_photo_black_24dp.xml b/app/src/main/res/drawable/ic_add_photo_black_24dp.xml
new file mode 100644
index 00000000000..8d410151686
--- /dev/null
+++ b/app/src/main/res/drawable/ic_add_photo_black_24dp.xml
@@ -0,0 +1,24 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+        android:width="24dp"
+        android:height="24dp"
+        android:viewportWidth="6.35"
+        android:viewportHeight="6.3500004">
+    <path
+        android:pathData="M2.117,0.529L1.852,1.058L1.058,1.058C0.765,1.058 0.529,1.294 0.529,1.587L0.529,4.233C0.529,4.526 0.765,4.762 1.058,4.762L2.671,4.762A1.851,1.851 0,0 1,2.65 4.497A1.851,1.851 0,0 1,2.675 4.211C2.057,4.099 1.589,3.56 1.589,2.91C1.589,2.179 2.181,1.587 2.911,1.587C3.56,1.587 4.099,2.054 4.212,2.671A1.851,1.851 0,0 1,4.501 2.647A1.851,1.851 0,0 1,5.292 2.827L5.292,1.587C5.292,1.294 5.056,1.058 4.762,1.058L3.969,1.058L3.704,0.529L2.117,0.529zM2.911,2.116C2.473,2.116 2.118,2.472 2.118,2.91C2.118,3.322 2.433,3.657 2.835,3.696A1.851,1.851 0,0 1,3.697 2.832C3.658,2.431 3.323,2.116 2.911,2.116z"
+        android:strokeLineCap="square"
+        android:fillAlpha="1"
+        android:strokeColor="#00000000"
+        android:fillColor="#000000"
+        android:strokeWidth="3.99999976"
+        android:strokeLineJoin="miter"
+        android:strokeAlpha="1"/>
+    <path
+        android:pathData="M4.495,3.172A1.323,1.323 0,0 0,3.172 4.495A1.323,1.323 0,0 0,4.495 5.818A1.323,1.323 0,0 0,5.818 4.495A1.323,1.323 0,0 0,4.495 3.172zM4.233,3.704L4.762,3.704L4.762,4.233L5.292,4.233L5.292,4.762L4.762,4.762L4.762,5.292L4.233,5.292L4.233,4.762L3.704,4.762L3.704,4.233L4.233,4.233L4.233,3.704z"
+        android:strokeLineCap="square"
+        android:fillAlpha="1"
+        android:strokeColor="#00000000"
+        android:fillColor="#000000"
+        android:strokeWidth="3.99999976"
+        android:strokeLineJoin="miter"
+        android:strokeAlpha="1"/>
+</vector>
diff --git a/app/src/main/res/layout/cell_image_thumbnail.xml b/app/src/main/res/layout/cell_image_thumbnail.xml
new file mode 100644
index 00000000000..6db25596a44
--- /dev/null
+++ b/app/src/main/res/layout/cell_image_thumbnail.xml
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                xmlns:tools="http://schemas.android.com/tools"
+                android:padding="2dp">
+
+    <ImageView
+        tools:src="@drawable/panorama_surface_ground"
+        android:id="@+id/imageView"
+        android:scaleType="centerCrop"
+        android:layout_width="56dp"
+        android:layout_height="56dp"/>
+
+    <ImageView
+        android:id="@+id/deleteButton"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:padding="4dp"
+        android:src="@drawable/ic_close_white_24dp"
+        android:background="#9333"
+        android:layout_alignEnd="@id/imageView"/>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/app/src/main/res/layout/dialog_leave_note.xml b/app/src/main/res/layout/dialog_leave_note.xml
new file mode 100644
index 00000000000..b864ab0610a
--- /dev/null
+++ b/app/src/main/res/layout/dialog_leave_note.xml
@@ -0,0 +1,97 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ScrollView
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <LinearLayout
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="vertical">
+
+    <!-- make the dialog as broad as possible -->
+    <View
+        android:layout_width="wrap_content"
+        android:layout_height="1dp"
+        android:layout_gravity="fill_horizontal" />
+
+        <LinearLayout
+            android:layout_height="wrap_content"
+            android:layout_width="match_parent"
+            android:orientation="vertical"
+            android:paddingTop="@dimen/dialog_vertical_margin"
+            android:paddingLeft="@dimen/dialog_horizontal_margin"
+            android:paddingRight="@dimen/dialog_horizontal_margin"
+            android:paddingBottom="4dp"
+            >
+
+            <TextView
+                android:id="@+id/title"
+                android:textAppearance="@style/TextAppearance.AppCompat.Title"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="@string/quest_leave_new_note_title"
+                />
+
+            <LinearLayout
+                android:layout_height="wrap_content"
+                android:layout_width="match_parent"
+                android:orientation="vertical"
+                android:paddingTop="20dp"
+                >
+
+                <TextView
+                    android:id="@+id/description"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/quest_leave_new_note_description"
+                    android:labelFor="@+id/noteInput"/>
+
+                <EditText
+                    android:id="@+id/noteInput"
+                    android:layout_width="match_parent"
+                    android:layout_height="0dp"
+                    android:layout_weight="1"
+                    android:inputType="textMultiLine"
+                    android:scrollbars="vertical"
+                    android:gravity="top|start"
+                    android:minLines="3"
+                    android:maxLines="12"
+                    />
+
+                <FrameLayout
+                    android:id="@+id/attachPhotoFragment"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"/>
+
+            </LinearLayout>
+
+        </LinearLayout>
+
+    <LinearLayout android:id="@+id/buttonPanel"
+                  android:layout_width="match_parent"
+                  android:layout_height="wrap_content"
+                  android:orientation="horizontal"
+                  android:layoutDirection="locale"
+                  style="?android:attr/buttonBarStyle"
+        >
+        <Button
+            android:id="@+id/buttonCancel"
+            android:layout_width="wrap_content"
+            android:layout_gravity="start"
+            android:layout_weight="1"
+            style="?android:attr/buttonBarButtonStyle"
+            android:text="@string/quest_leave_new_note_no"
+            android:layout_height="wrap_content" />
+        <Button
+            android:id="@+id/buttonOk"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:layout_gravity="end"
+            android:text="@string/quest_leave_new_note_yes"
+            style="?android:attr/buttonBarButtonStyle"
+             />
+    </LinearLayout>
+</LinearLayout>
+</ScrollView>
\ No newline at end of file
diff --git a/app/src/main/res/layout/fragment_attach_photo.xml b/app/src/main/res/layout/fragment_attach_photo.xml
new file mode 100644
index 00000000000..4510dc50624
--- /dev/null
+++ b/app/src/main/res/layout/fragment_attach_photo.xml
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+              android:layout_width="match_parent"
+              android:layout_height="wrap_content">
+
+    <ImageButton
+        android:id="@+id/buttonTakeImage"
+        android:layout_width="64dp"
+        android:layout_height="64dp"
+        android:src="@drawable/ic_add_photo_black_24dp"
+        android:contentDescription="@string/quest_leave_new_note_photo"
+        android:layout_centerVertical="true"/>
+
+    <android.support.v7.widget.RecyclerView
+        android:id="@+id/gridView"
+        android:layout_toEndOf="@id/buttonTakeImage"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_centerVertical="true"/>
+
+</RelativeLayout>
\ No newline at end of file
diff --git a/app/src/main/res/layout/fragment_map.xml b/app/src/main/res/layout/fragment_map.xml
index 31f90a58b6d..798c831bc36 100644
--- a/app/src/main/res/layout/fragment_map.xml
+++ b/app/src/main/res/layout/fragment_map.xml
@@ -10,9 +10,8 @@
         android:layout_width="match_parent"
         android:layout_height="match_parent" />
 
-    <fragment
+    <FrameLayout
         android:id="@+id/controls_fragment"
-        android:name="de.westnordost.streetcomplete.tangram.MapControlsFragment"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_above="@+id/openstreetmapLink"
@@ -20,8 +19,7 @@
         android:layout_alignParentTop="true"
         android:layout_marginRight="4dp"
         android:layout_marginTop="8dp"
-        tools:ignore="RtlHardcoded"
-        />
+        tools:ignore="RtlHardcoded"/>
 
     <TextView
         android:layout_width="wrap_content"
diff --git a/app/src/main/res/layout/leave_note.xml b/app/src/main/res/layout/leave_note.xml
deleted file mode 100644
index 067deeff533..00000000000
--- a/app/src/main/res/layout/leave_note.xml
+++ /dev/null
@@ -1,88 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="match_parent"
-    android:layout_height="wrap_content"
-    android:orientation="vertical"
-    >
-
-    <!-- make the dialog as broad as possible -->
-    <View
-        android:layout_width="wrap_content"
-        android:layout_height="1dp"
-        android:layout_gravity="fill_horizontal" />
-
-    <LinearLayout
-        android:layout_height="wrap_content"
-        android:layout_width="match_parent"
-        android:orientation="vertical"
-        android:paddingTop="24dp"
-        android:paddingLeft="24dp"
-        android:paddingRight="24dp"
-        android:paddingBottom="4dp"
-        >
-
-        <TextView
-            android:id="@+id/title"
-            android:textAppearance="@style/TextAppearance.AppCompat.Title"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/quest_leave_new_note_title"
-            />
-
-        <LinearLayout
-            android:layout_height="wrap_content"
-            android:layout_width="match_parent"
-            android:orientation="vertical"
-            android:paddingTop="20dp"
-            >
-
-            <TextView
-                android:id="@+id/description"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/quest_leave_new_note_description"
-                android:labelFor="@+id/noteInput"/>
-
-            <EditText
-                android:id="@+id/noteInput"
-                android:layout_width="match_parent"
-                android:layout_height="0dp"
-                android:layout_weight="1"
-                android:inputType="textMultiLine"
-                android:scrollbars="vertical"
-                android:gravity="top|start"
-                android:minLines="3"
-                android:maxLines="12"
-                 />
-
-        </LinearLayout>
-
-    </LinearLayout>
-
-    <LinearLayout android:id="@+id/buttonPanel"
-                  android:layout_width="match_parent"
-                  android:layout_height="wrap_content"
-                  android:orientation="horizontal"
-                  android:layoutDirection="locale"
-                  style="?android:attr/buttonBarStyle"
-        >
-        <Button
-            android:id="@+id/buttonCancel"
-            android:layout_width="wrap_content"
-            android:layout_gravity="start"
-            android:layout_weight="1"
-            style="?android:attr/buttonBarButtonStyle"
-            android:text="@string/quest_leave_new_note_no"
-            android:layout_height="wrap_content" />
-        <Button
-            android:id="@+id/buttonOk"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_weight="1"
-            android:layout_gravity="end"
-            android:text="@string/quest_leave_new_note_yes"
-            style="?android:attr/buttonBarButtonStyle"
-             />
-    </LinearLayout>
-</LinearLayout>
diff --git a/app/src/main/res/layout/quest_note_discussion.xml b/app/src/main/res/layout/quest_note_discussion.xml
index b76cec4c415..9ff1a24f637 100644
--- a/app/src/main/res/layout/quest_note_discussion.xml
+++ b/app/src/main/res/layout/quest_note_discussion.xml
@@ -47,4 +47,9 @@
         android:maxLines="12"
         />
 
+    <FrameLayout
+        android:id="@+id/attachPhotoFragment"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"/>
+
 </merge>
\ No newline at end of file
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
index 2abd8b7837f..a3fc4fd2e98 100644
--- a/app/src/main/res/values/strings.xml
+++ b/app/src/main/res/values/strings.xml
@@ -33,6 +33,8 @@
     <string name="quest_leave_new_note_description">"You can leave a public note at this location which other mappers can comment on and hopefully resolve:"</string>
     <string name="quest_leave_new_note_yes">"OK"</string>
     <string name="quest_leave_new_note_no">"No, just hide"</string>
+    <string name="quest_leave_new_note_photo">Attach photo</string>
+    <string name="quest_leave_new_note_photo_delete_title">Do you want to delete this picture?</string>
     <string name="quest_streetName_title">"What is the name of this road?"</string>
     <string name="quest_streetName_description">"as written on the street sign, abbreviations are expanded:"</string>
     <string name="quest_streetName_answer_noName_confirmation_description">"Sometimes the street sign is only at one end of the street. Also, note that there may not be extra street signs for side streets that belong to a bigger street. Usually, any street with houses has a name."</string>
@@ -170,6 +172,7 @@ To display the map, vector tiles are retrieved from the &lt;a href=\"https://map
 &lt;p&gt;
 (&lt;i&gt;This is actually not implemented yet, just want to inform you what is to come!:&lt;/i&gt;) The data shown in the leaderboard and profile is aggregated from publicly available information from the OpenStreetMap. The data does not come from this app but basically from the public commit history of OSM users.
 &lt;/p&gt;"</string>
+    <string name="privacy_html_image_upload">&lt;p&gt;Photos you attach to notes are uploaded to &lt;a href=\"https://lut.im\"&gt;lut.im&lt;/a&gt;, a service which is anonymous and without tracking.&lt;/p&gt;</string>
     <string name="autosync_on">"On"</string>
     <string name="autosync_only_on_wifi">"Only on Wifi"</string>
     <string name="autosync_off">"Off"</string>
@@ -402,4 +405,5 @@ Otherwise, you can download another keyboard in the app store. Popular keyboards
     <string name="unglue_hint">Tap to unglue view from position</string>
     <string name="quest_maxspeed_answer_noSign_singleOrDualCarriageway_description">Are the carriageways of this road here physically separated (i.e. through a barrier)? The default speed limit depends on whether this is the case or not.</string>
     <string name="about_category_feedback">Feedback</string>
+    <string name="quest_leave_new_note_create_image_error">Unable to create file for photo</string>
 </resources>
diff --git a/app/src/main/res/xml/file_paths.xml b/app/src/main/res/xml/file_paths.xml
new file mode 100644
index 00000000000..195dcc2cab0
--- /dev/null
+++ b/app/src/main/res/xml/file_paths.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<paths>
+    <external-path name="images" path="Android/data/de.westnordost.streetcomplete/files/Pictures" />
+</paths>
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUploadTest.java b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUploadTest.java
index c250b29437e..3268b6377c2 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUploadTest.java
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/CreateNoteUploadTest.java
@@ -6,6 +6,7 @@
 import org.mockito.stubbing.Answer;
 
 import java.util.ArrayList;
+import java.util.Collections;
 import java.util.Date;
 import java.util.List;
 import java.util.concurrent.atomic.AtomicBoolean;
@@ -22,6 +23,7 @@
 import de.westnordost.osmapi.notes.NoteComment;
 import de.westnordost.osmapi.notes.NotesDao;
 import de.westnordost.streetcomplete.ApplicationConstants;
+import de.westnordost.streetcomplete.util.ImageUploader;
 
 import static org.mockito.Matchers.any;
 import static org.mockito.Mockito.*;
@@ -33,6 +35,9 @@ public class CreateNoteUploadTest extends TestCase
 	private NotesDao notesDao;
 	private OsmNoteQuestDao osmNoteQuestDb;
 	private NoteDao noteDb;
+	private ImageUploader imageUploader;
+
+	private CreateNoteUpload createNoteUpload;
 
 	@Override public void setUp()
 	{
@@ -41,14 +46,13 @@ public class CreateNoteUploadTest extends TestCase
 		notesDao = mock(NotesDao.class);
 		osmNoteQuestDb = mock(OsmNoteQuestDao.class);
 		noteDb = mock(NoteDao.class);
-	}
+		imageUploader = mock(ImageUploader.class);
 
-	private CreateNoteUpload makeCreateNoteUpload()
-	{
-		return new CreateNoteUpload(createNoteDb, notesDao, noteDb, osmNoteQuestDb, mapDataDao,
-				new OsmNoteQuestType());
+		createNoteUpload = new CreateNoteUpload(createNoteDb, notesDao, noteDb, osmNoteQuestDb,
+				mapDataDao, new OsmNoteQuestType(), imageUploader);
 	}
 
+
 	public void testCancel() throws InterruptedException
 	{
 		when(createNoteDb.getAll(any(BoundingBox.class))).thenAnswer(
@@ -63,14 +67,13 @@ public void testCancel() throws InterruptedException
 			}
 		});
 
-		final CreateNoteUpload u = makeCreateNoteUpload();
 		final AtomicBoolean cancel = new AtomicBoolean(false);
 
 		Thread t = new Thread(new Runnable()
 		{
 			@Override public void run()
 			{
-				u.upload(cancel);
+				createNoteUpload.upload(cancel);
 			}
 		});
 		t.start();
@@ -89,7 +92,7 @@ public void testUploadNoteForDeletedElementWillCancel()
 		createNote.elementType = Element.Type.WAY;
 		createNote.elementId = 5L;
 
-		assertNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNull(createNoteUpload.uploadCreateNote(createNote));
 		verifyNoteNotInsertedIntoDb(createNote.id);
 	}
 
@@ -103,7 +106,7 @@ public void testCreateNoteOnExistingNoteWillCommentOnExistingNote()
 		setUpThereIsANoteFor(createNote, note);
 
 		when(notesDao.comment(anyLong(), anyString())).thenReturn(note);
-		assertNotNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
 		verify(notesDao).comment(note.id, createNote.text);
 
 		verifyNoteInsertedIntoDb(createNote.id, note);
@@ -119,7 +122,7 @@ public void testCreateNoteOnExistingClosedNoteWillCancel()
 		note.status = Note.Status.CLOSED;
 		setUpThereIsANoteFor(createNote, note);
 
-		assertNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNull(createNoteUpload.uploadCreateNote(createNote));
 
 		verify(notesDao).getAll(any(BoundingBox.class), any(Handler.class), anyInt(), anyInt());
 		verifyNoMoreInteractions(notesDao);
@@ -137,7 +140,7 @@ public void testCreateNoteOnExistingNoteWillCancelWhenConflictException()
 
 		when(notesDao.comment(anyLong(), anyString())).thenThrow(OsmConflictException.class);
 
-		assertNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNull(createNoteUpload.uploadCreateNote(createNote));
 
 		verify(notesDao).comment(note.id, createNote.text);
 
@@ -151,14 +154,13 @@ public void testCreateNoteWithNoAssociatedElement()
 
 		when(notesDao.create(any(LatLon.class), anyString())).thenReturn(note);
 
-		assertNotNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
 
 		verify(notesDao).create(createNote.position, createNote.text);
 
 		verifyNoteInsertedIntoDb(createNote.id, note);
 	}
 
-
 	public void testCreateNoteWithNoQuestTitleButAssociatedElement()
 	{
 		CreateNote createNote = createACreateNote();
@@ -170,7 +172,7 @@ public void testCreateNoteWithNoQuestTitleButAssociatedElement()
 
 		when(notesDao.create(any(LatLon.class), anyString())).thenReturn(note);
 
-		assertNotNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
 
 		verify(notesDao).create(createNote.position,
 				"for https://www.openstreetmap.org/way/5 :\n\njo ho");
@@ -190,7 +192,7 @@ public void testCreateNoteWithAssociatedElementAndNoNoteYet()
 
 		when(notesDao.create(any(LatLon.class), anyString())).thenReturn(note);
 
-		assertNotNull(makeCreateNoteUpload().uploadCreateNote(createNote));
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
 
 		verify(notesDao).create(createNote.position,
 				"Unable to answer \"What?\" for https://www.openstreetmap.org/way/5 via "+ ApplicationConstants.USER_AGENT+":\n\njo ho");
@@ -198,6 +200,48 @@ public void testCreateNoteWithAssociatedElementAndNoNoteYet()
 		verifyNoteInsertedIntoDb(createNote.id, note);
 	}
 
+	public void testCreateNoteUploadsImagesAndDisplaysLinks()
+	{
+		CreateNote createNote = createACreateNote();
+		createNote.imagePaths = new ArrayList<>();
+		createNote.imagePaths.add("hello");
+
+		Note note = createNote(null);
+		when(notesDao.create(any(LatLon.class), anyString())).thenReturn(note);
+
+		when(imageUploader.upload(createNote.imagePaths)).thenReturn(
+				Collections.singletonList("hello, too")
+		);
+
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
+
+		verify(imageUploader).upload(createNote.imagePaths);
+
+		verify(notesDao).create(createNote.position,"jo ho\n\nAttached photo(s):\nhello, too");
+	}
+
+	public void testCommentNoteUploadsImagesAndDisplaysLinks()
+	{
+		CreateNote createNote = createACreateNote();
+		createNote.elementType = Element.Type.WAY;
+		createNote.elementId = 5L;
+		createNote.imagePaths = new ArrayList<>();
+		createNote.imagePaths.add("hello");
+
+		Note note = createNote(createNote);
+		setUpThereIsANoteFor(createNote, note);
+
+		when(imageUploader.upload(createNote.imagePaths)).thenReturn(
+				Collections.singletonList("hello, too")
+		);
+
+		when(notesDao.comment(anyLong(), anyString())).thenReturn(note);
+		assertNotNull(createNoteUpload.uploadCreateNote(createNote));
+
+		verify(notesDao).comment(note.id ,"jo ho\n\nAttached photo(s):\nhello, too");
+		verifyNoteInsertedIntoDb(createNote.id, note);
+	}
+
 	private void verifyNoteNotInsertedIntoDb(long createNoteId)
 	{
 		verifyNoMoreInteractions(noteDb, osmNoteQuestDb);
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUploadTest.java b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUploadTest.java
index 8df30802f3c..cb936ce98d0 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUploadTest.java
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNoteQuestChangesUploadTest.java
@@ -6,22 +6,41 @@
 import org.mockito.stubbing.Answer;
 
 import java.util.ArrayList;
+import java.util.Collections;
 import java.util.List;
 import java.util.concurrent.atomic.AtomicBoolean;
 
 import de.westnordost.osmapi.common.errors.OsmConflictException;
 import de.westnordost.osmapi.map.data.OsmLatLon;
 import de.westnordost.osmapi.notes.Note;
+import de.westnordost.osmapi.notes.NoteComment;
 import de.westnordost.osmapi.notes.NotesDao;
 import de.westnordost.streetcomplete.data.QuestStatus;
+import de.westnordost.streetcomplete.util.ImageUploader;
 
 import static org.mockito.Mockito.*;
 
 public class OsmNoteQuestChangesUploadTest extends TestCase
 {
+	private ImageUploader imageUploader;
+	private NoteDao noteDb;
+	private OsmNoteQuestDao questDb;
+	private NotesDao osmDao;
+
+	private OsmNoteQuestChangesUpload osmNoteQuestChangesUpload;
+
+	@Override public void setUp()
+	{
+		osmDao = mock(NotesDao.class);
+		noteDb = mock(NoteDao.class);
+		imageUploader = mock(ImageUploader.class);
+		questDb = mock(OsmNoteQuestDao.class);
+
+		osmNoteQuestChangesUpload = new OsmNoteQuestChangesUpload(osmDao, questDb, noteDb, imageUploader);
+	}
+
 	public void testCancel() throws InterruptedException
 	{
-		OsmNoteQuestDao questDb = mock(OsmNoteQuestDao.class);
 		when(questDb.getAll(null, QuestStatus.ANSWERED)).thenAnswer(
 				new Answer<List<OsmNoteQuest>>()
 				{
@@ -34,14 +53,13 @@ public void testCancel() throws InterruptedException
 					}
 				});
 
-		final OsmNoteQuestChangesUpload u = new OsmNoteQuestChangesUpload(null, questDb, null);
 		final AtomicBoolean cancel = new AtomicBoolean(false);
 
 		Thread t = new Thread(new Runnable()
 		{
 			@Override public void run()
 			{
-				u.upload(cancel);
+				osmNoteQuestChangesUpload.upload(cancel);
 			}
 		});
 		t.start();
@@ -49,7 +67,7 @@ public void testCancel() throws InterruptedException
 		cancel.set(true);
 		// cancelling the thread works if we come out here without exceptions. If the note upload
 		// would actually try to start anything, there would be a nullpointer exception since we
-		// feeded it only with nulls to work with
+		// feeded it a null-quest
 		t.join();
 	}
 
@@ -57,12 +75,9 @@ public void testDropCommentWhenConflict()
 	{
 		OsmNoteQuest quest = createQuest();
 
-		NotesDao osmDao = mock(NotesDao.class);
 		when(osmDao.comment(anyLong(), anyString())).thenThrow(OsmConflictException.class);
-		OsmNoteQuestDao questDb = mock(OsmNoteQuestDao.class);
-		NoteDao noteDb = mock(NoteDao.class);
 
-		assertNull(new OsmNoteQuestChangesUpload(osmDao, questDb, noteDb).uploadNoteChanges(quest));
+		assertNull(osmNoteQuestChangesUpload.uploadNoteChanges(quest));
 
 		verify(questDb).delete(quest.getId());
 		verify(noteDb).delete(quest.getNote().id);
@@ -72,12 +87,9 @@ public void testUploadComment()
 	{
 		OsmNoteQuest quest = createQuest();
 
-		NotesDao osmDao = mock(NotesDao.class);
 		when(osmDao.comment(anyLong(), anyString())).thenReturn(mock(Note.class));
-		OsmNoteQuestDao questDb = mock(OsmNoteQuestDao.class);
-		NoteDao noteDb = mock(NoteDao.class);
 
-		Note n = new OsmNoteQuestChangesUpload(osmDao, questDb, noteDb).uploadNoteChanges(quest);
+		Note n = osmNoteQuestChangesUpload.uploadNoteChanges(quest);
 		assertNotNull(n);
 		assertEquals(n, quest.getNote());
 		assertEquals(QuestStatus.CLOSED, quest.getStatus());
@@ -85,7 +97,22 @@ public void testUploadComment()
 		verify(noteDb).put(n);
 	}
 
-	private OsmNoteQuest createQuest()
+	public void testUploadsImagesForComment()
+	{
+		OsmNoteQuest quest = createQuest();
+		ArrayList<String> imagePaths = new ArrayList<>();
+		imagePaths.add("Never say");
+		quest.setImagePaths(imagePaths);
+
+
+		when(imageUploader.upload(imagePaths)).thenReturn(Collections.singletonList("never"));
+
+		osmNoteQuestChangesUpload.uploadNoteChanges(quest);
+
+		verify(osmDao).comment(1, "blablub\n\nAttached photo(s):\nnever");
+	}
+
+	private static OsmNoteQuest createQuest()
 	{
 		Note note = new Note();
 		note.id = 1;
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNotesDownloadTest.java b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNotesDownloadTest.java
index e329115df52..fb8ae0e0e9f 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNotesDownloadTest.java
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/osmnotes/OsmNotesDownloadTest.java
@@ -55,10 +55,10 @@ public void testDeleteObsoleteQuests()
 		List<OsmNoteQuest> quests = new ArrayList<>();
 		Note note1 = createANote();
 		note1.id = 4L;
-		quests.add(new OsmNoteQuest(12L, note1, QuestStatus.NEW, null, new Date(), new OsmNoteQuestType()));
+		quests.add(new OsmNoteQuest(12L, note1, QuestStatus.NEW, null, new Date(), new OsmNoteQuestType(), null));
 		Note note2 = createANote();
 		note2.id = 5L;
-		quests.add(new OsmNoteQuest(13L, note2, QuestStatus.NEW, null, new Date(), new OsmNoteQuestType()));
+		quests.add(new OsmNoteQuest(13L, note2, QuestStatus.NEW, null, new Date(), new OsmNoteQuestType(), null));
 		when(noteQuestDB.getAll(any(BoundingBox.class), any(QuestStatus.class)))
 				.thenReturn(quests);
 
diff --git a/app/src/test/java/de/westnordost/streetcomplete/util/LutimImageUploaderTest.java b/app/src/test/java/de/westnordost/streetcomplete/util/LutimImageUploaderTest.java
new file mode 100644
index 00000000000..4b2f115c982
--- /dev/null
+++ b/app/src/test/java/de/westnordost/streetcomplete/util/LutimImageUploaderTest.java
@@ -0,0 +1,36 @@
+package de.westnordost.streetcomplete.util;
+
+import junit.framework.TestCase;
+
+import java.io.IOException;
+import java.net.HttpURLConnection;
+import java.net.URISyntaxException;
+import java.net.URL;
+import java.util.ArrayList;
+import java.util.List;
+
+import de.westnordost.streetcomplete.ApplicationConstants;
+
+public class LutimImageUploaderTest extends TestCase
+{
+	public void testUploadTwoImagesAndGetUrls() throws URISyntaxException, IOException
+	{
+		LutimImageUploader imageUploader = new LutimImageUploader(ApplicationConstants.LUTIM_INSTANCE);
+		imageUploader.setDeleteAfterDays(1);
+		imageUploader.setDeleteOnFirstView(true);
+
+		List<String> filenames = new ArrayList<>(2);
+		filenames.add(getClass().getResource("/hai_phong_street.jpg").getFile());
+		filenames.add(getClass().getResource("/mandalay_market.jpg").getFile());
+		List<String> urls = imageUploader.upload(filenames);
+
+		assertEquals(2, urls.size());
+
+		HttpURLConnection connection;
+		connection = (HttpURLConnection) new URL(urls.get(0)).openConnection();
+		assertEquals(HttpURLConnection.HTTP_OK, connection.getResponseCode());
+
+		connection = (HttpURLConnection) new URL(urls.get(1)).openConnection();
+		assertEquals(HttpURLConnection.HTTP_OK, connection.getResponseCode());
+	}
+}
\ No newline at end of file
diff --git a/app/src/test/resources/hai_phong_street.jpg b/app/src/test/resources/hai_phong_street.jpg
new file mode 100644
index 00000000000..969d1b83064
Binary files /dev/null and b/app/src/test/resources/hai_phong_street.jpg differ
diff --git a/app/src/test/resources/mandalay_market.jpg b/app/src/test/resources/mandalay_market.jpg
new file mode 100644
index 00000000000..9396fda7c9d
Binary files /dev/null and b/app/src/test/resources/mandalay_market.jpg differ
