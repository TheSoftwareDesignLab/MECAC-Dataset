diff --git a/app/build.gradle.kts b/app/build.gradle.kts
index 97cf93329c7..c86982f19d2 100644
--- a/app/build.gradle.kts
+++ b/app/build.gradle.kts
@@ -136,7 +136,7 @@ dependencies {
     implementation("androidx.annotation:annotation:1.6.0")
     implementation("androidx.fragment:fragment-ktx:1.5.6")
     implementation("androidx.preference:preference-ktx:1.2.0")
-    implementation("androidx.recyclerview:recyclerview:1.2.1")
+    implementation("androidx.recyclerview:recyclerview:1.3.0")
     implementation("androidx.viewpager:viewpager:1.0.0")
     implementation("androidx.localbroadcastmanager:localbroadcastmanager:1.1.0")
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/DisplaysTitle.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/DisplaysTitle.kt
deleted file mode 100644
index fe1de8804d7..00000000000
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/DisplaysTitle.kt
+++ /dev/null
@@ -1,5 +0,0 @@
-package de.westnordost.streetcomplete.screens
-
-interface DisplaysTitle {
-    fun updateTitle(fragment: HasTitle)
-}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/FragmentContainerActivity.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/FragmentContainerActivity.kt
index 09addc86126..755da4fa349 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/FragmentContainerActivity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/FragmentContainerActivity.kt
@@ -1,9 +1,6 @@
 package de.westnordost.streetcomplete.screens
 
-import android.os.Bundle
-import android.view.MenuItem
 import androidx.annotation.LayoutRes
-import androidx.appcompat.widget.Toolbar
 import androidx.fragment.app.Fragment
 import androidx.fragment.app.FragmentManager
 import androidx.fragment.app.commit
@@ -11,8 +8,8 @@ import de.westnordost.streetcomplete.R
 
 /** An activity that contains one full-screen ("main") fragment */
 open class FragmentContainerActivity(
-    @LayoutRes contentLayoutId: Int = R.layout.activity_fragment_container
-) : BaseActivity(contentLayoutId), DisplaysTitle {
+    @LayoutRes contentLayoutId: Int = R.layout.activity_fragment_container,
+) : BaseActivity(contentLayoutId) {
 
     var mainFragment: Fragment?
         get() = supportFragmentManager.findFragmentById(R.id.fragment_container)
@@ -22,58 +19,4 @@ open class FragmentContainerActivity(
                 supportFragmentManager.commit { replace(R.id.fragment_container, value) }
             }
         }
-
-    private val fragmentLifecycleCallbacks = object : FragmentManager.FragmentLifecycleCallbacks() {
-        override fun onFragmentStarted(fragmentManager: FragmentManager, fragment: Fragment) {
-            if (fragment.id == R.id.fragment_container && fragment is HasTitle) {
-                updateTitle(fragment)
-            }
-        }
-    }
-
-    override fun onCreate(savedInstanceState: Bundle?) {
-        super.onCreate(savedInstanceState)
-        val toolbar = findViewById<Toolbar>(R.id.toolbar)
-        if (toolbar != null) {
-            setSupportActionBar(toolbar)
-            supportActionBar!!.setDisplayShowHomeEnabled(true)
-            supportActionBar!!.setDisplayHomeAsUpEnabled(true)
-        }
-        supportFragmentManager.registerFragmentLifecycleCallbacks(fragmentLifecycleCallbacks, false)
-    }
-
-    fun pushMainFragment(fragment: Fragment) {
-        supportFragmentManager.commit {
-            setCustomAnimations(
-                R.anim.enter_from_end, R.anim.exit_to_start,
-                R.anim.enter_from_start, R.anim.exit_to_end
-            )
-            replace(R.id.fragment_container, fragment)
-            addToBackStack("main")
-        }
-    }
-
-    override fun updateTitle(fragment: HasTitle) {
-        title = fragment.title
-        supportActionBar?.subtitle = fragment.subtitle
-    }
-
-    @Deprecated("Deprecated in Java")
-    override fun onBackPressed() {
-        if ((mainFragment as? BackPressedListener)?.onBackPressed() == true) {
-            return
-        }
-        if (supportFragmentManager.backStackEntryCount > 0) {
-            supportFragmentManager.popBackStack()
-            return
-        }
-        super.onBackPressed()
-    }
-
-    override fun onOptionsItemSelected(item: MenuItem): Boolean {
-        return if (item.itemId == android.R.id.home) {
-            onBackPressed()
-            return true
-        } else super.onOptionsItemSelected(item)
-    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/TwoPaneDetailFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/TwoPaneDetailFragment.kt
new file mode 100644
index 00000000000..80c1c87f725
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/TwoPaneDetailFragment.kt
@@ -0,0 +1,34 @@
+package de.westnordost.streetcomplete.screens
+
+import android.os.Bundle
+import android.view.View
+import androidx.annotation.LayoutRes
+import androidx.appcompat.widget.Toolbar
+import androidx.fragment.app.Fragment
+import androidx.preference.PreferenceHeaderFragmentCompat
+import de.westnordost.streetcomplete.R
+import de.westnordost.streetcomplete.util.ktx.setUpToolbarTitleAndIcon
+
+/** A fragment that implements showing the back button in a toolbar only when it is displayed as a
+ * single detail pane in a SlidingPaneLayout. */
+abstract class TwoPaneDetailFragment(@LayoutRes contentLayoutId: Int) : Fragment(contentLayoutId) {
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+
+        val toolbar = view.findViewById<Toolbar>(R.id.toolbar)
+        setUpToolbarTitleAndIcon(toolbar)
+
+        val activity = requireActivity() as FragmentContainerActivity
+        val slidingPane =
+            (activity.mainFragment as PreferenceHeaderFragmentCompat).slidingPaneLayout
+
+        // Only display back icon when both panes are shown
+        val backIcon = toolbar.navigationIcon
+        toolbar.navigationIcon = if (slidingPane.isSlideable) backIcon else null
+        // Fragment is not always recreated when size changes, so listen for layout changes here
+        slidingPane.addOnLayoutChangeListener { _, _, _, _, _, _, _, _, _ ->
+            toolbar.navigationIcon = if (slidingPane.isSlideable) backIcon else null
+        }
+    }
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutActivity.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutActivity.kt
index c566ee6ce3f..ca0d53d1067 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutActivity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutActivity.kt
@@ -3,23 +3,13 @@ package de.westnordost.streetcomplete.screens.about
 import android.os.Bundle
 import de.westnordost.streetcomplete.screens.FragmentContainerActivity
 
-class AboutActivity : FragmentContainerActivity(), AboutFragment.Listener {
+class AboutActivity : FragmentContainerActivity() {
+
     override fun onPostCreate(savedInstanceState: Bundle?) {
         super.onPostCreate(savedInstanceState)
         if (savedInstanceState == null) {
-            mainFragment = AboutFragment()
+            mainFragment = TwoPaneAboutFragment()
         }
     }
 
-    override fun onClickedChangelog() {
-        pushMainFragment(ChangelogFragment())
-    }
-
-    override fun onClickedCredits() {
-        pushMainFragment(CreditsFragment())
-    }
-
-    override fun onClickedPrivacyStatement() {
-        pushMainFragment(PrivacyStatementFragment())
-    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutFragment.kt
index b3b9aada77f..fa49cb4f2c2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/AboutFragment.kt
@@ -2,6 +2,7 @@ package de.westnordost.streetcomplete.screens.about
 
 import android.content.Intent
 import android.os.Bundle
+import android.view.View
 import android.view.ViewGroup
 import androidx.annotation.DrawableRes
 import androidx.appcompat.app.AlertDialog
@@ -14,30 +15,23 @@ import de.westnordost.streetcomplete.BuildConfig
 import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.databinding.CellLabeledIconSelectRightBinding
 import de.westnordost.streetcomplete.databinding.DialogDonateBinding
+import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.util.ktx.setUpToolbarTitleAndIcon
 import de.westnordost.streetcomplete.util.ktx.tryStartActivity
 import de.westnordost.streetcomplete.view.ListAdapter
 import java.util.Locale
 
-/** Shows the about screen */
-class AboutFragment : PreferenceFragmentCompat() {
+/** Shows the about screen list. */
+class AboutFragment : PreferenceFragmentCompat(), HasTitle {
 
-    interface Listener {
-        fun onClickedChangelog()
-        fun onClickedCredits()
-        fun onClickedPrivacyStatement()
-    }
-
-    private val listener: Listener? get() = parentFragment as? Listener ?: activity as? Listener
+    override val title: String get() = getString(R.string.action_about2)
 
     override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
         addPreferencesFromResource(R.xml.about)
 
         findPreference<Preference>("version")?.summary =
             getString(R.string.about_summary_current_version, "v" + BuildConfig.VERSION_NAME)
-        findPreference<Preference>("version")?.setOnPreferenceClickListener {
-            listener?.onClickedChangelog()
-            true
-        }
+
         findPreference<Preference>("authors")?.summary =
             getString(R.string.about_summary_authors, COPYRIGHT_YEARS)
 
@@ -45,16 +39,6 @@ class AboutFragment : PreferenceFragmentCompat() {
             openUrl("https://www.gnu.org/licenses/gpl-3.0.html")
         }
 
-        findPreference<Preference>("authors")?.setOnPreferenceClickListener {
-            listener?.onClickedCredits()
-            true
-        }
-
-        findPreference<Preference>("privacy")?.setOnPreferenceClickListener {
-            listener?.onClickedPrivacyStatement()
-            true
-        }
-
         findPreference<Preference>("repository")?.setOnPreferenceClickListener {
             openUrl("https://github.com/streetcomplete/StreetComplete/")
         }
@@ -91,9 +75,9 @@ class AboutFragment : PreferenceFragmentCompat() {
         }
     }
 
-    override fun onStart() {
-        super.onStart()
-        activity?.setTitle(R.string.action_about2)
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        setUpToolbarTitleAndIcon(view.findViewById(R.id.toolbar))
     }
 
     private fun isInstalledViaGooglePlay(): Boolean {
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/ChangelogFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/ChangelogFragment.kt
index 48644422e0d..40703b5846b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/about/ChangelogFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/ChangelogFragment.kt
@@ -8,11 +8,12 @@ import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
 import androidx.appcompat.app.AlertDialog
-import androidx.fragment.app.Fragment
 import androidx.recyclerview.widget.DividerItemDecoration
 import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.databinding.FragmentChangelogBinding
 import de.westnordost.streetcomplete.databinding.RowChangelogBinding
+import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.screens.TwoPaneDetailFragment
 import de.westnordost.streetcomplete.util.ktx.getYamlStringMap
 import de.westnordost.streetcomplete.util.ktx.viewLifecycleScope
 import de.westnordost.streetcomplete.util.viewBinding
@@ -25,11 +26,15 @@ import kotlinx.coroutines.launch
 import kotlinx.coroutines.withContext
 
 /** Shows the full changelog */
-class ChangelogFragment : Fragment(R.layout.fragment_changelog) {
+class ChangelogFragment : TwoPaneDetailFragment(R.layout.fragment_changelog), HasTitle {
 
     private val binding by viewBinding(FragmentChangelogBinding::bind)
 
+    override val title: String get() = getString(R.string.about_title_changelog)
+
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+
         binding.changelogList.addItemDecoration(DividerItemDecoration(context, DividerItemDecoration.VERTICAL))
 
         viewLifecycleScope.launch {
@@ -37,11 +42,6 @@ class ChangelogFragment : Fragment(R.layout.fragment_changelog) {
             binding.changelogList.adapter = ChangelogAdapter(changelog)
         }
     }
-
-    override fun onStart() {
-        super.onStart()
-        activity?.setTitle(R.string.about_title_changelog)
-    }
 }
 
 /** A dialog that shows the changelog */
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/CreditsFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/CreditsFragment.kt
index 043526dce2e..30705e232f1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/about/CreditsFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/CreditsFragment.kt
@@ -8,10 +8,11 @@ import android.view.ViewGroup.LayoutParams.WRAP_CONTENT
 import android.widget.LinearLayout
 import android.widget.TextView
 import androidx.core.widget.TextViewCompat
-import androidx.fragment.app.Fragment
 import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.databinding.FragmentCreditsBinding
 import de.westnordost.streetcomplete.databinding.RowCreditsTranslatorsBinding
+import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.screens.TwoPaneDetailFragment
 import de.westnordost.streetcomplete.util.ktx.getYamlObject
 import de.westnordost.streetcomplete.util.ktx.viewLifecycleScope
 import de.westnordost.streetcomplete.util.viewBinding
@@ -25,11 +26,14 @@ import java.util.Locale
 private typealias TranslationCreditMap = MutableMap<String, MutableMap<String, Int>>
 
 /** Shows the credits of this app */
-class CreditsFragment : Fragment(R.layout.fragment_credits) {
+class CreditsFragment : TwoPaneDetailFragment(R.layout.fragment_credits), HasTitle {
 
     private val binding by viewBinding(FragmentCreditsBinding::bind)
 
+    override val title: String get() = getString(R.string.about_title_authors)
+
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
         viewLifecycleScope.launch {
             val mainContributors = readMainContributors()
             val mainContributorUsernames = mainContributors.map { it.githubUsername }
@@ -53,11 +57,6 @@ class CreditsFragment : Fragment(R.layout.fragment_credits) {
         binding.contributorMore.setHtml(getString(R.string.credits_contributors))
     }
 
-    override fun onStart() {
-        super.onStart()
-        activity?.setTitle(R.string.about_title_authors)
-    }
-
     private fun addContributorsTo(contributors: List<String>, view: ViewGroup) {
         val items = contributors.joinToString("") { "<li>$it</li>" }
         val textView = TextView(activity)
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/PrivacyStatementFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/PrivacyStatementFragment.kt
index 602fd40726a..2a78670475d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/about/PrivacyStatementFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/PrivacyStatementFragment.kt
@@ -2,22 +2,26 @@ package de.westnordost.streetcomplete.screens.about
 
 import android.os.Bundle
 import android.view.View
-import androidx.fragment.app.Fragment
 import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.databinding.FragmentShowHtmlBinding
+import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.screens.TwoPaneDetailFragment
 import de.westnordost.streetcomplete.screens.main.map.VectorTileProvider
 import de.westnordost.streetcomplete.util.viewBinding
 import de.westnordost.streetcomplete.view.setHtml
 import org.koin.android.ext.android.inject
 
 /** Shows the privacy statement */
-class PrivacyStatementFragment : Fragment(R.layout.fragment_show_html) {
+class PrivacyStatementFragment : TwoPaneDetailFragment(R.layout.fragment_show_html), HasTitle {
 
     private val vectorTileProvider: VectorTileProvider by inject()
 
     private val binding by viewBinding(FragmentShowHtmlBinding::bind)
 
+    override val title: String get() = getString(R.string.about_title_privacy_statement)
+
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
         binding.textView.setHtml(
             getString(R.string.privacy_html) +
             getString(R.string.privacy_html_tileserver2, vectorTileProvider.title, vectorTileProvider.privacyStatementLink) +
@@ -25,9 +29,4 @@ class PrivacyStatementFragment : Fragment(R.layout.fragment_show_html) {
             getString(R.string.privacy_html_third_party_quest_sources) +
             getString(R.string.privacy_html_image_upload2))
     }
-
-    override fun onStart() {
-        super.onStart()
-        activity?.setTitle(R.string.about_title_privacy_statement)
-    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/about/TwoPaneAboutFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/about/TwoPaneAboutFragment.kt
new file mode 100644
index 00000000000..45c32b1894d
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/about/TwoPaneAboutFragment.kt
@@ -0,0 +1,12 @@
+package de.westnordost.streetcomplete.screens.about
+
+import androidx.preference.PreferenceFragmentCompat
+import androidx.preference.PreferenceHeaderFragmentCompat
+
+/** Shows the about screen lists and details in a two pane layout. */
+class TwoPaneAboutFragment : PreferenceHeaderFragmentCompat() {
+
+    override fun onCreatePreferenceHeader(): PreferenceFragmentCompat {
+        return AboutFragment()
+    }
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsActivity.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsActivity.kt
index 8775f2a60a9..749233d00c6 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsActivity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsActivity.kt
@@ -4,35 +4,22 @@ import android.content.Context
 import android.content.Intent
 import android.os.Bundle
 import de.westnordost.streetcomplete.screens.FragmentContainerActivity
-import de.westnordost.streetcomplete.screens.settings.questselection.QuestPresetsFragment
-import de.westnordost.streetcomplete.screens.settings.questselection.QuestSelectionFragment
 
-class SettingsActivity : FragmentContainerActivity(), SettingsFragment.Listener {
+class SettingsActivity : FragmentContainerActivity() {
+
     override fun onPostCreate(savedInstanceState: Bundle?) {
         super.onPostCreate(savedInstanceState)
         if (savedInstanceState == null) {
-            mainFragment = SettingsFragment()
-        }
-        val launchQuestSettings = intent.getBooleanExtra(EXTRA_LAUNCH_QUEST_SETTINGS, false)
-        if (launchQuestSettings) {
-            pushMainFragment(QuestSelectionFragment())
+            mainFragment = TwoPaneSettingsFragment()
         }
     }
 
-    override fun onClickedQuestSelection() {
-        pushMainFragment(QuestSelectionFragment())
-    }
-
-    override fun onClickedQuestPresets() {
-        pushMainFragment(QuestPresetsFragment())
-    }
-
     companion object {
         fun createLaunchQuestSettingsIntent(context: Context) =
             Intent(context, SettingsActivity::class.java).apply {
                 putExtra(EXTRA_LAUNCH_QUEST_SETTINGS, true)
             }
 
-        private const val EXTRA_LAUNCH_QUEST_SETTINGS = "launch_quest_settings"
+        const val EXTRA_LAUNCH_QUEST_SETTINGS = "launch_quest_settings"
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsFragment.kt
index f3a6795546a..bdf72f4392a 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/SettingsFragment.kt
@@ -4,6 +4,7 @@ import android.annotation.SuppressLint
 import android.content.Intent
 import android.content.SharedPreferences
 import android.os.Bundle
+import android.view.View
 import android.widget.Toast
 import androidx.appcompat.app.AlertDialog
 import androidx.appcompat.app.AppCompatDelegate
@@ -24,7 +25,9 @@ import de.westnordost.streetcomplete.data.osm.mapdata.MapDataController
 import de.westnordost.streetcomplete.data.osm.osmquests.OsmQuestController
 import de.westnordost.streetcomplete.data.osmnotes.NoteController
 import de.westnordost.streetcomplete.data.osmnotes.notequests.OsmNoteQuestController
+import de.westnordost.streetcomplete.data.quest.QuestType
 import de.westnordost.streetcomplete.data.quest.QuestTypeRegistry
+import de.westnordost.streetcomplete.data.visiblequests.QuestPreset
 import de.westnordost.streetcomplete.data.visiblequests.QuestPresetsSource
 import de.westnordost.streetcomplete.data.visiblequests.VisibleQuestTypeSource
 import de.westnordost.streetcomplete.databinding.DialogDeleteCacheBinding
@@ -36,7 +39,9 @@ import de.westnordost.streetcomplete.util.getSelectedLocales
 import de.westnordost.streetcomplete.util.ktx.format
 import de.westnordost.streetcomplete.util.ktx.getYamlObject
 import de.westnordost.streetcomplete.util.ktx.purge
+import de.westnordost.streetcomplete.util.ktx.setUpToolbarTitleAndIcon
 import de.westnordost.streetcomplete.util.ktx.toast
+import de.westnordost.streetcomplete.util.ktx.viewLifecycleScope
 import de.westnordost.streetcomplete.util.setDefaultLocales
 import kotlinx.coroutines.Dispatchers
 import kotlinx.coroutines.launch
@@ -44,11 +49,12 @@ import kotlinx.coroutines.withContext
 import org.koin.android.ext.android.inject
 import java.util.Locale
 
-/** Shows the settings screen */
+/** Shows the settings lists */
 class SettingsFragment :
     PreferenceFragmentCompat(),
     HasTitle,
-    SharedPreferences.OnSharedPreferenceChangeListener {
+    SharedPreferences.OnSharedPreferenceChangeListener, VisibleQuestTypeSource.Listener,
+    QuestPresetsSource.Listener {
 
     private val prefs: SharedPreferences by inject()
     private val downloadedTilesDao: DownloadedTilesDao by inject()
@@ -61,26 +67,14 @@ class SettingsFragment :
     private val visibleQuestTypeSource: VisibleQuestTypeSource by inject()
     private val questPresetsSource: QuestPresetsSource by inject()
 
-    interface Listener {
-        fun onClickedQuestSelection()
-        fun onClickedQuestPresets()
-    }
-    private val listener: Listener? get() = parentFragment as? Listener ?: activity as? Listener
-
     override val title: String get() = getString(R.string.action_settings)
 
     override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
         PreferenceManager.setDefaultValues(requireContext(), R.xml.preferences, false)
         addPreferencesFromResource(R.xml.preferences)
 
-        findPreference<Preference>("quests")?.setOnPreferenceClickListener {
-            listener?.onClickedQuestSelection()
-            true
-        }
-
-        findPreference<Preference>("quest_presets")?.setOnPreferenceClickListener {
-            listener?.onClickedQuestPresets()
-            true
+        findPreference<NumberPickerPreference>("map.tilecache")?.setSummaryProvider { pref ->
+            requireContext().getString(R.string.pref_tilecache_size_summary, (pref as NumberPickerPreference).value)
         }
 
         findPreference<Preference>("delete_cache")?.setOnPreferenceClickListener {
@@ -144,10 +138,26 @@ class SettingsFragment :
         }
     }
 
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        setUpToolbarTitleAndIcon(view.findViewById(R.id.toolbar))
+    }
+
     override fun onStart() {
         super.onStart()
-        findPreference<Preference>("quests")?.summary = getQuestPreferenceSummary()
-        findPreference<Preference>("quest_presets")?.summary = getQuestPresetsPreferenceSummary()
+
+        setQuestPreferenceSummary()
+        setQuestPresetsPreferenceSummary()
+
+        visibleQuestTypeSource.addListener(this)
+        questPresetsSource.addListener(this)
+    }
+
+    override fun onStop() {
+        super.onStop()
+
+        visibleQuestTypeSource.removeListener(this)
+        questPresetsSource.removeListener(this)
     }
 
     override fun onResume() {
@@ -208,14 +218,45 @@ class SettingsFragment :
         osmQuestController.unhideAll() + osmNoteQuestController.unhideAll()
     }
 
-    private fun getQuestPreferenceSummary(): String {
+    private fun setQuestPreferenceSummary() {
         val enabledCount = questTypeRegistry.count { visibleQuestTypeSource.isVisible(it) }
         val totalCount = questTypeRegistry.size
-        return getString(R.string.pref_subtitle_quests, enabledCount, totalCount)
+        val summary = getString(R.string.pref_subtitle_quests, enabledCount, totalCount)
+        viewLifecycleScope.launch {
+            findPreference<Preference>("quests")?.summary = summary
+        }
     }
 
-    private fun getQuestPresetsPreferenceSummary(): String {
+    private fun setQuestPresetsPreferenceSummary() {
         val presetName = questPresetsSource.selectedQuestPresetName ?: getString(R.string.quest_presets_default_name)
-        return getString(R.string.pref_subtitle_quests_preset_name, presetName)
+        val summary = getString(R.string.pref_subtitle_quests_preset_name, presetName)
+        viewLifecycleScope.launch {
+            findPreference<Preference>("quest_presets")?.summary = summary
+        }
+    }
+
+    override fun onQuestTypeVisibilityChanged(questType: QuestType, visible: Boolean) {
+        setQuestPreferenceSummary()
+    }
+
+    override fun onQuestTypeVisibilitiesChanged() {
+        setQuestPreferenceSummary()
+    }
+
+    override fun onSelectedQuestPresetChanged() {
+        setQuestPresetsPreferenceSummary()
     }
+
+    override fun onAddedQuestPreset(preset: QuestPreset) {
+        setQuestPresetsPreferenceSummary()
+    }
+
+    override fun onRenamedQuestPreset(preset: QuestPreset) {
+        setQuestPresetsPreferenceSummary()
+    }
+
+    override fun onDeletedQuestPreset(presetId: Long) {
+        setQuestPresetsPreferenceSummary()
+    }
+
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/TwoPaneSettingsFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/TwoPaneSettingsFragment.kt
new file mode 100644
index 00000000000..96f47061c69
--- /dev/null
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/TwoPaneSettingsFragment.kt
@@ -0,0 +1,28 @@
+package de.westnordost.streetcomplete.screens.settings
+
+import androidx.fragment.app.Fragment
+import androidx.preference.PreferenceFragmentCompat
+import androidx.preference.PreferenceHeaderFragmentCompat
+import de.westnordost.streetcomplete.screens.settings.questselection.QuestPresetsFragment
+import de.westnordost.streetcomplete.screens.settings.questselection.QuestSelectionFragment
+
+/** Shows the settings lists and details in a two pane layout. */
+class TwoPaneSettingsFragment : PreferenceHeaderFragmentCompat() {
+
+    override fun onCreatePreferenceHeader(): PreferenceFragmentCompat {
+        return SettingsFragment()
+    }
+
+    override fun onCreateInitialDetailFragment(): Fragment {
+        val launchQuestSettings = requireActivity().intent.getBooleanExtra(
+            SettingsActivity.EXTRA_LAUNCH_QUEST_SETTINGS,
+            false
+        )
+        return if (launchQuestSettings) {
+            slidingPaneLayout.open()
+            QuestSelectionFragment()
+        } else {
+            QuestPresetsFragment()
+        }
+    }
+}
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestPresetsFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestPresetsFragment.kt
index 24a5d549486..2b2b528a775 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestPresetsFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestPresetsFragment.kt
@@ -3,7 +3,6 @@ package de.westnordost.streetcomplete.screens.settings.questselection
 import android.os.Bundle
 import android.text.InputFilter
 import android.view.View
-import androidx.fragment.app.Fragment
 import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.data.urlconfig.UrlConfigController
 import de.westnordost.streetcomplete.data.visiblequests.QuestPresetsController
@@ -11,6 +10,7 @@ import de.westnordost.streetcomplete.data.visiblequests.QuestTypeOrderController
 import de.westnordost.streetcomplete.data.visiblequests.VisibleQuestTypeController
 import de.westnordost.streetcomplete.databinding.FragmentQuestPresetsBinding
 import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.screens.TwoPaneDetailFragment
 import de.westnordost.streetcomplete.util.ktx.viewLifecycleScope
 import de.westnordost.streetcomplete.util.viewBinding
 import de.westnordost.streetcomplete.view.dialogs.EditTextDialog
@@ -20,7 +20,7 @@ import org.koin.android.ext.android.inject
 
 /** Shows a screen in which the user can select which preset of quest selections he wants to
  *  use. */
-class QuestPresetsFragment : Fragment(R.layout.fragment_quest_presets), HasTitle {
+class QuestPresetsFragment : TwoPaneDetailFragment(R.layout.fragment_quest_presets), HasTitle {
 
     private val questPresetsController: QuestPresetsController by inject()
     private val questTypeOrderController: QuestTypeOrderController by inject()
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionAdapter.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionAdapter.kt
index a2ea902a870..514e97ec37a 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionAdapter.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionAdapter.kt
@@ -12,11 +12,13 @@ import androidx.core.view.isGone
 import androidx.core.view.isInvisible
 import androidx.lifecycle.DefaultLifecycleObserver
 import androidx.lifecycle.LifecycleOwner
+import androidx.recyclerview.widget.DiffUtil
 import androidx.recyclerview.widget.ItemTouchHelper
 import androidx.recyclerview.widget.ItemTouchHelper.ACTION_STATE_DRAG
 import androidx.recyclerview.widget.ItemTouchHelper.ACTION_STATE_IDLE
 import androidx.recyclerview.widget.ItemTouchHelper.DOWN
 import androidx.recyclerview.widget.ItemTouchHelper.UP
+import androidx.recyclerview.widget.ListAdapter
 import androidx.recyclerview.widget.RecyclerView
 import de.westnordost.countryboundaries.CountryBoundaries
 import de.westnordost.streetcomplete.Prefs
@@ -50,9 +52,10 @@ class QuestSelectionAdapter(
     private val visibleQuestTypeController: VisibleQuestTypeController,
     private val questTypeOrderController: QuestTypeOrderController,
     private val questTypeRegistry: QuestTypeRegistry,
+    private val onListSizeChanged: (Int) -> Unit,
     countryBoundaries: FutureTask<CountryBoundaries>,
     prefs: SharedPreferences
-) : RecyclerView.Adapter<QuestSelectionAdapter.QuestVisibilityViewHolder>(), DefaultLifecycleObserver {
+) : ListAdapter<QuestVisibility, QuestSelectionAdapter.QuestVisibilityViewHolder>(QuestDiffUtil), DefaultLifecycleObserver {
 
     private val currentCountryCodes: List<String>
     private val itemTouchHelper by lazy { ItemTouchHelper(TouchHelperCallback()) }
@@ -63,7 +66,7 @@ class QuestSelectionAdapter(
     private var questTypes: MutableList<QuestVisibility> = mutableListOf()
         set(value) {
             field = value
-            notifyDataSetChanged()
+            submitList(field)
         }
 
     var filter: String = ""
@@ -71,32 +74,23 @@ class QuestSelectionAdapter(
             val n = value.trim()
             if (n != field) {
                 field = n
-                notifyDataSetChanged()
+                filterQuestTypes(field)
             }
         }
 
-    /** if a filter is active, the filtered quest types, otherwise null */
-    private val filteredQuestTypes: List<QuestVisibility>? get() {
-        val f = filter
-        return if (f.isEmpty()) {
-            null
+    private fun filterQuestTypes(f: String) {
+        if (f.isEmpty()) {
+            submitList(questTypes)
         } else {
             val words = f.lowercase().split(' ')
-            questTypes.filter { questVisibility ->
+            submitList(questTypes.filter { questVisibility ->
                 val question = genericQuestTitle(context.resources, questVisibility.questType).lowercase()
-                words.all { filterWord -> question.contains(filterWord) }
-            }
+                val questionWords = question.split(' ')
+                words.all { filterWord -> questionWords.any { it.startsWith(filterWord) } }
+            })
         }
     }
 
-    /** during dragging, a mutable copy of the quest types. This is necessary to show the
-     *  dragging animation (where the dragged item pushes aside other items to make room while
-     *  being dragged). */
-    private var questTypesDuringDrag: MutableList<QuestVisibility>? = null
-
-    private val shownQuestTypes: List<QuestVisibility> get() =
-        questTypesDuringDrag ?: filteredQuestTypes ?: questTypes
-
     private val visibleQuestsListener = object : VisibleQuestTypeSource.Listener {
         override fun onQuestTypeVisibilityChanged(questType: QuestType, visible: Boolean) {
             /* not doing anything here - we assume that this happened due to a tap on the checkbox
@@ -165,10 +159,15 @@ class QuestSelectionAdapter(
     }
 
     override fun onBindViewHolder(holder: QuestVisibilityViewHolder, position: Int) {
-        holder.onBind(shownQuestTypes[position])
+        holder.onBind(getItem(position))
     }
 
-    override fun getItemCount() = shownQuestTypes.size
+    override fun onCurrentListChanged(
+        previousList: MutableList<QuestVisibility>,
+        currentList: MutableList<QuestVisibility>,
+    ) {
+        onListSizeChanged(currentList.size)
+    }
 
     private suspend fun createQuestTypeVisibilityList() = withContext(Dispatchers.IO) {
         val sortedQuestTypes = questTypeRegistry.toMutableList()
@@ -181,6 +180,11 @@ class QuestSelectionAdapter(
         private var draggedFrom = -1
         private var draggedTo = -1
 
+        /** during dragging, a mutable copy of the quest types. This is necessary to show the
+         *  dragging animation (where the dragged item pushes aside other items to make room while
+         *  being dragged). */
+        private var questTypesDuringDrag: MutableList<QuestVisibility>? = null
+
         override fun getMovementFlags(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder): Int {
             val qv = (viewHolder as QuestVisibilityViewHolder).item
             if (!qv.isInteractionEnabled) return 0
@@ -190,9 +194,9 @@ class QuestSelectionAdapter(
         }
 
         override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {
-            val from = viewHolder.adapterPosition
-            val to = target.adapterPosition
-            if (questTypesDuringDrag == null) questTypesDuringDrag = shownQuestTypes.toMutableList()
+            val from = viewHolder.bindingAdapterPosition
+            val to = target.bindingAdapterPosition
+            if (questTypesDuringDrag == null) questTypesDuringDrag = currentList.toMutableList()
             Collections.swap(questTypesDuringDrag!!, from, to)
             notifyItemMoved(from, to)
             return true
@@ -319,4 +323,17 @@ class QuestSelectionAdapter(
             }
         }
     }
+
+    private object QuestDiffUtil : DiffUtil.ItemCallback<QuestVisibility>() {
+        override fun areItemsTheSame(oldItem: QuestVisibility, newItem: QuestVisibility): Boolean {
+            return oldItem.questType.name == newItem.questType.name
+        }
+
+        override fun areContentsTheSame(
+            oldItem: QuestVisibility,
+            newItem: QuestVisibility,
+        ): Boolean {
+            return oldItem.questType.name == newItem.questType.name && oldItem.visible == newItem.visible
+        }
+    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionFragment.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionFragment.kt
index e43ff370e99..a7526e7dd26 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionFragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/settings/questselection/QuestSelectionFragment.kt
@@ -3,27 +3,23 @@ package de.westnordost.streetcomplete.screens.settings.questselection
 import android.content.Context
 import android.content.SharedPreferences
 import android.os.Bundle
-import android.view.Menu
-import android.view.MenuInflater
-import android.view.MenuItem
 import android.view.View
 import androidx.appcompat.app.AlertDialog
 import androidx.appcompat.widget.SearchView
+import androidx.appcompat.widget.Toolbar
 import androidx.core.view.isInvisible
-import androidx.fragment.app.Fragment
 import androidx.recyclerview.widget.DividerItemDecoration
 import androidx.recyclerview.widget.LinearLayoutManager
+import androidx.recyclerview.widget.RecyclerView
 import de.westnordost.countryboundaries.CountryBoundaries
 import de.westnordost.streetcomplete.R
-import de.westnordost.streetcomplete.data.quest.QuestType
 import de.westnordost.streetcomplete.data.quest.QuestTypeRegistry
 import de.westnordost.streetcomplete.data.visiblequests.QuestPresetsSource
 import de.westnordost.streetcomplete.data.visiblequests.QuestTypeOrderController
 import de.westnordost.streetcomplete.data.visiblequests.VisibleQuestTypeController
-import de.westnordost.streetcomplete.data.visiblequests.VisibleQuestTypeSource
 import de.westnordost.streetcomplete.databinding.FragmentQuestSelectionBinding
-import de.westnordost.streetcomplete.screens.DisplaysTitle
 import de.westnordost.streetcomplete.screens.HasTitle
+import de.westnordost.streetcomplete.screens.TwoPaneDetailFragment
 import de.westnordost.streetcomplete.util.ktx.viewLifecycleScope
 import de.westnordost.streetcomplete.util.viewBinding
 import kotlinx.coroutines.Dispatchers
@@ -33,7 +29,7 @@ import org.koin.core.qualifier.named
 import java.util.concurrent.FutureTask
 
 /** Shows a screen in which the user can enable and disable quests as well as re-order them */
-class QuestSelectionFragment : Fragment(R.layout.fragment_quest_selection), HasTitle {
+class QuestSelectionFragment : TwoPaneDetailFragment(R.layout.fragment_quest_selection), HasTitle {
 
     private val questTypeRegistry: QuestTypeRegistry by inject()
     private val questPresetsSource: QuestPresetsSource by inject()
@@ -46,9 +42,6 @@ class QuestSelectionFragment : Fragment(R.layout.fragment_quest_selection), HasT
 
     private lateinit var questSelectionAdapter: QuestSelectionAdapter
 
-    private val parentTitleContainer: DisplaysTitle? get() =
-        parentFragment as? DisplaysTitle ?: activity as? DisplaysTitle
-
     override val title: String get() = getString(R.string.pref_title_quests2)
 
     override val subtitle: String get() {
@@ -56,78 +49,59 @@ class QuestSelectionFragment : Fragment(R.layout.fragment_quest_selection), HasT
         return getString(R.string.pref_subtitle_quests_preset_name, presetName)
     }
 
-    private val visibleQuestTypeListener = object : VisibleQuestTypeSource.Listener {
-        override fun onQuestTypeVisibilityChanged(questType: QuestType, visible: Boolean) {
-            viewLifecycleScope.launch { updateTitle() }
-        }
-        override fun onQuestTypeVisibilitiesChanged() {
-            viewLifecycleScope.launch { updateTitle() }
-        }
-    }
-
     override fun onAttach(context: Context) {
         super.onAttach(context)
         questSelectionAdapter = QuestSelectionAdapter(
             requireContext(), visibleQuestTypeController, questTypeOrderController,
-            questTypeRegistry, countryBoundaries, prefs
+            questTypeRegistry, ::onDisplayedListSizeChanged, countryBoundaries, prefs
         )
+        questSelectionAdapter.stateRestorationPolicy = RecyclerView.Adapter.StateRestorationPolicy.PREVENT_WHEN_EMPTY
     }
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
-        setHasOptionsMenu(true)
+
+        createOptionsMenu(binding.toolbar.root)
+
         viewLifecycleOwner.lifecycle.addObserver(questSelectionAdapter)
         binding.questSelectionList.addItemDecoration(DividerItemDecoration(context, DividerItemDecoration.VERTICAL))
         binding.questSelectionList.layoutManager = LinearLayoutManager(context)
         binding.questSelectionList.adapter = questSelectionAdapter
     }
 
-    @Deprecated("Deprecated in Java")
-    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
-        inflater.inflate(R.menu.menu_quest_selection, menu)
-        super.onCreateOptionsMenu(menu, inflater)
+    private fun createOptionsMenu(toolbar: Toolbar) {
+        toolbar.inflateMenu(R.menu.menu_quest_selection)
 
-        val searchItem = menu.findItem(R.id.action_search)
-        (searchItem.actionView as SearchView).setOnQueryTextListener(object : SearchView.OnQueryTextListener {
+        val searchView = toolbar.menu.findItem(R.id.action_search).actionView as SearchView
+        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {
             override fun onQueryTextSubmit(query: String?): Boolean = false
             override fun onQueryTextChange(newText: String?): Boolean {
-                filterQuestsByString(newText.orEmpty())
+                questSelectionAdapter.filter = newText.orEmpty()
                 return false
             }
         })
-    }
 
-    @Deprecated("Deprecated in Java")
-    override fun onOptionsItemSelected(item: MenuItem): Boolean {
-        when (item.itemId) {
-            R.id.action_reset -> {
-                AlertDialog.Builder(requireContext())
-                    .setMessage(R.string.pref_quests_reset)
-                    .setPositiveButton(android.R.string.ok) { _, _ -> resetQuestVisibilitiesAndOrder() }
-                    .setNegativeButton(android.R.string.cancel, null)
-                    .show()
-                return true
-            }
-            R.id.action_deselect_all -> {
-                AlertDialog.Builder(requireContext())
-                    .setTitle(R.string.pref_quests_deselect_all)
-                    .setPositiveButton(android.R.string.ok) { _, _ -> deselectAllQuests() }
-                    .setNegativeButton(android.R.string.cancel, null)
-                    .show()
-                return true
+        toolbar.setOnMenuItemClickListener { item ->
+            when (item.itemId) {
+                R.id.action_reset -> {
+                    AlertDialog.Builder(requireContext())
+                        .setMessage(R.string.pref_quests_reset)
+                        .setPositiveButton(android.R.string.ok) { _, _ -> resetQuestVisibilitiesAndOrder() }
+                        .setNegativeButton(android.R.string.cancel, null)
+                        .show()
+                    true
+                }
+                R.id.action_deselect_all -> {
+                    AlertDialog.Builder(requireContext())
+                        .setTitle(R.string.pref_quests_deselect_all)
+                        .setPositiveButton(android.R.string.ok) { _, _ -> deselectAllQuests() }
+                        .setNegativeButton(android.R.string.cancel, null)
+                        .show()
+                    true
+                }
+                else -> false
             }
         }
-        return super.onOptionsItemSelected(item)
-    }
-
-    override fun onStart() {
-        super.onStart()
-        visibleQuestTypeController.addListener(visibleQuestTypeListener)
-    }
-
-    override fun onStop() {
-        super.onStop()
-        visibleQuestTypeController.removeListener(visibleQuestTypeListener)
     }
 
     private fun resetQuestVisibilitiesAndOrder() {
@@ -143,14 +117,9 @@ class QuestSelectionFragment : Fragment(R.layout.fragment_quest_selection), HasT
         }
     }
 
-    private fun filterQuestsByString(text: String) {
-        questSelectionAdapter.filter = text
-        val isEmpty = questSelectionAdapter.itemCount == 0
+    private fun onDisplayedListSizeChanged(size: Int) {
+        val isEmpty = size == 0
         binding.tableHeader.isInvisible = isEmpty
         binding.emptyText.isInvisible = !isEmpty
     }
-
-    private fun updateTitle() {
-        parentTitleContainer?.updateTitle(this)
-    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/screens/user/UserActivity.kt b/app/src/main/java/de/westnordost/streetcomplete/screens/user/UserActivity.kt
index aa862ae5ec7..8773a29fdd2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/screens/user/UserActivity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/screens/user/UserActivity.kt
@@ -1,7 +1,9 @@
 package de.westnordost.streetcomplete.screens.user
 
 import android.os.Bundle
+import android.view.MenuItem
 import android.view.View
+import androidx.appcompat.widget.Toolbar
 import androidx.fragment.app.Fragment
 import androidx.fragment.app.FragmentManager
 import androidx.fragment.app.commit
@@ -11,6 +13,7 @@ import de.westnordost.streetcomplete.data.osm.edits.EditType
 import de.westnordost.streetcomplete.data.user.UserLoginStatusSource
 import de.westnordost.streetcomplete.data.user.achievements.Achievement
 import de.westnordost.streetcomplete.screens.FragmentContainerActivity
+import de.westnordost.streetcomplete.screens.HasTitle
 import de.westnordost.streetcomplete.screens.user.achievements.AchievementInfoFragment
 import de.westnordost.streetcomplete.screens.user.achievements.AchievementsFragment
 import de.westnordost.streetcomplete.screens.user.login.LoginFragment
@@ -47,6 +50,15 @@ class UserActivity :
         override fun onLoggedOut() { lifecycleScope.launch { replaceMainFragment(LoginFragment()) } }
     }
 
+    private val fragmentLifecycleCallbacks = object : FragmentManager.FragmentLifecycleCallbacks() {
+        override fun onFragmentStarted(fragmentManager: FragmentManager, fragment: Fragment) {
+            if (fragment.id == R.id.fragment_container && fragment is HasTitle) {
+                title = fragment.title
+                supportActionBar?.subtitle = fragment.subtitle
+            }
+        }
+    }
+
     /* --------------------------------------- Lifecycle --------------------------------------- */
 
     override fun onCreate(savedInstanceState: Bundle?) {
@@ -59,6 +71,22 @@ class UserActivity :
             }
         }
         userLoginStatusSource.addListener(loginStatusListener)
+
+        val toolbar = findViewById<Toolbar>(R.id.toolbar)
+        if (toolbar != null) {
+            setSupportActionBar(toolbar)
+            supportActionBar!!.setDisplayShowHomeEnabled(true)
+            supportActionBar!!.setDisplayHomeAsUpEnabled(true)
+        }
+
+        supportFragmentManager.registerFragmentLifecycleCallbacks(fragmentLifecycleCallbacks, false)
+    }
+
+    override fun onOptionsItemSelected(item: MenuItem): Boolean {
+        return if (item.itemId == android.R.id.home) {
+            finish()
+            return true
+        } else super.onOptionsItemSelected(item)
     }
 
     @Deprecated("Deprecated in Java")
diff --git a/app/src/main/java/de/westnordost/streetcomplete/util/ktx/Fragment.kt b/app/src/main/java/de/westnordost/streetcomplete/util/ktx/Fragment.kt
index a52c5b47af6..3cc9f0eb2cd 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/util/ktx/Fragment.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/util/ktx/Fragment.kt
@@ -2,9 +2,12 @@ package de.westnordost.streetcomplete.util.ktx
 
 import android.content.ActivityNotFoundException
 import android.content.Intent
+import androidx.appcompat.widget.Toolbar
 import androidx.fragment.app.Fragment
 import androidx.fragment.app.FragmentManager
 import androidx.lifecycle.lifecycleScope
+import de.westnordost.streetcomplete.R
+import de.westnordost.streetcomplete.screens.HasTitle
 
 fun Fragment.tryStartActivity(intent: Intent): Boolean {
     return try {
@@ -19,3 +22,22 @@ val Fragment.childFragmentManagerOrNull: FragmentManager? get() =
     if (host != null) childFragmentManager else null
 
 val Fragment.viewLifecycleScope get() = viewLifecycleOwner.lifecycleScope
+
+fun Fragment.setUpToolbarTitleAndIcon(toolbar: Toolbar) {
+    if (this is HasTitle) {
+        toolbar.title = title
+        toolbar.subtitle = subtitle
+    }
+
+    val typedArray =
+        toolbar.context.obtainStyledAttributes(intArrayOf(R.attr.homeAsUpIndicator))
+    val attributeResourceId = typedArray.getResourceId(0, 0)
+    val backIcon = toolbar.context.getDrawable(attributeResourceId)
+    typedArray.recycle()
+
+    toolbar.setNavigationOnClickListener {
+        requireActivity().onBackPressedDispatcher.onBackPressed()
+    }
+
+    toolbar.navigationIcon = backIcon
+}
diff --git a/app/src/main/res/layout/activity_fragment_container.xml b/app/src/main/res/layout/activity_fragment_container.xml
index 11e9ed0315e..9df570f0bca 100644
--- a/app/src/main/res/layout/activity_fragment_container.xml
+++ b/app/src/main/res/layout/activity_fragment_container.xml
@@ -1,17 +1,5 @@
-<LinearLayout
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    android:orientation="vertical"
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.fragment.app.FragmentContainerView xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/fragment_container"
     android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    >
-
-    <include layout="@layout/toolbar"
-             android:layout_width="match_parent"
-             android:layout_height="wrap_content"/>
-
-    <FrameLayout
-        android:id="@+id/fragment_container"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"/>
-
-</LinearLayout>
\ No newline at end of file
+    android:layout_height="match_parent" />
diff --git a/app/src/main/res/layout/fragment_changelog.xml b/app/src/main/res/layout/fragment_changelog.xml
index f874cf6219f..24d2e37bbee 100644
--- a/app/src/main/res/layout/fragment_changelog.xml
+++ b/app/src/main/res/layout/fragment_changelog.xml
@@ -1,8 +1,21 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.recyclerview.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
-    app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
+    android:layout_width="match_parent"
     android:orientation="vertical"
-    android:id="@+id/changelogList" />
+    android:layout_height="match_parent">
+
+    <include
+        layout="@layout/toolbar"
+        android:id="@+id/toolbar"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" />
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
+        android:orientation="vertical"
+        android:id="@+id/changelogList" />
+
+</LinearLayout>
diff --git a/app/src/main/res/layout/fragment_credits.xml b/app/src/main/res/layout/fragment_credits.xml
index 4d5dd1f0e66..b7309b3c154 100644
--- a/app/src/main/res/layout/fragment_credits.xml
+++ b/app/src/main/res/layout/fragment_credits.xml
@@ -1,168 +1,177 @@
 <?xml version="1.0" encoding="utf-8"?>
-<ScrollView
-    xmlns:android="http://schemas.android.com/apk/res/android"
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
+    android:orientation="vertical"
     android:layout_height="match_parent">
 
-    <LinearLayout
-        android:orientation="vertical"
+    <include
+        layout="@layout/toolbar"
+        android:id="@+id/toolbar"
         android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:showDividers="middle"
-        android:paddingEnd="@dimen/activity_horizontal_margin"
-        android:paddingStart="@dimen/activity_horizontal_margin"
-        android:paddingTop="@dimen/activity_vertical_margin"
-        android:paddingBottom="@dimen/activity_vertical_margin"
-        android:divider="@drawable/space_16dp"
-        >
+        android:layout_height="wrap_content" />
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical"
-            android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
-
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/credits_author_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
-
-            <TextView
-                android:id="@+id/authorText"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:textAppearance="@style/TextAppearance.Body"
-                android:textStyle="bold"
-                android:textIsSelectable="true"
-                android:text="Tobias Zwick"
-                tools:ignore="HardcodedText" />
-
-        </LinearLayout>
+    <ScrollView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
 
         <LinearLayout
+            android:orientation="vertical"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
-            android:orientation="vertical"
             android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
+            android:paddingEnd="@dimen/activity_horizontal_margin"
+            android:paddingStart="@dimen/activity_horizontal_margin"
+            android:paddingTop="@dimen/activity_vertical_margin"
+            android:paddingBottom="@dimen/activity_vertical_margin"
+            android:divider="@drawable/space_16dp">
 
-            <TextView
-                android:layout_width="wrap_content"
+            <LinearLayout
+                android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:text="@string/credits_main_contributors_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
+                android:orientation="vertical"
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_author_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
+
+                <TextView
+                    android:id="@+id/authorText"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:textAppearance="@style/TextAppearance.Body"
+                    android:textStyle="bold"
+                    android:textIsSelectable="true"
+                    android:text="Tobias Zwick"
+                    tools:ignore="HardcodedText" />
+
+            </LinearLayout>
 
             <LinearLayout
-                android:id="@+id/mainCredits"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:orientation="vertical"
-                android:animateLayoutChanges="true"/>
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
 
-        </LinearLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_main_contributors_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical"
-            android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
+                <LinearLayout
+                    android:id="@+id/mainCredits"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:animateLayoutChanges="true" />
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/credits_projects_contributors_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
+            </LinearLayout>
 
             <LinearLayout
-                android:id="@+id/projectsCredits"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:orientation="vertical"
-                android:animateLayoutChanges="true"/>
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
 
-        </LinearLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_projects_contributors_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical"
-            android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
+                <LinearLayout
+                    android:id="@+id/projectsCredits"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:animateLayoutChanges="true" />
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/credits_art_contributors_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
+            </LinearLayout>
 
             <LinearLayout
-                android:id="@+id/artCredits"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:orientation="vertical"
-                android:animateLayoutChanges="true"/>
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
 
-        </LinearLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_art_contributors_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical"
-            android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
+                <LinearLayout
+                    android:id="@+id/artCredits"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:animateLayoutChanges="true" />
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/credits_contributors_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
+            </LinearLayout>
 
             <LinearLayout
-                android:id="@+id/codeCredits"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:orientation="vertical"
-                android:animateLayoutChanges="true"/>
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_contributors_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
+
+                <LinearLayout
+                    android:id="@+id/codeCredits"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:animateLayoutChanges="true" />
+
+                <TextView
+                    android:id="@+id/contributorMore"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textAppearance="@style/TextAppearance.Body"
+                    android:textIsSelectable="true" />
+
+            </LinearLayout>
 
-            <TextView
-                android:id="@+id/contributorMore"
+            <LinearLayout
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:textAppearance="@style/TextAppearance.Body"
-                android:textIsSelectable="true"
-                />
+                android:orientation="vertical"
+                android:showDividers="middle"
+                android:divider="@drawable/space_8dp">
 
-        </LinearLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="@string/credits_translations_title"
+                    android:textAppearance="@style/TextAppearance.Title" />
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical"
-            android:showDividers="middle"
-            android:divider="@drawable/space_8dp">
+                <LinearLayout
+                    android:id="@+id/translationCredits"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:animateLayoutChanges="true" />
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="@string/credits_translations_title"
-                android:textAppearance="@style/TextAppearance.Title"/>
+            </LinearLayout>
 
-            <LinearLayout
-                android:id="@+id/translationCredits"
+            <Space
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:orientation="vertical"
-                android:animateLayoutChanges="true"/>
+                android:layout_height="@dimen/activity_vertical_margin" />
 
         </LinearLayout>
-
-        <Space
-            android:layout_width="match_parent"
-            android:layout_height="@dimen/activity_vertical_margin"/>
-
-    </LinearLayout>
-</ScrollView>
+    </ScrollView>
+</LinearLayout>
diff --git a/app/src/main/res/layout/fragment_preferences.xml b/app/src/main/res/layout/fragment_preferences.xml
new file mode 100644
index 00000000000..ca2582a9793
--- /dev/null
+++ b/app/src/main/res/layout/fragment_preferences.xml
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical">
+
+    <include
+        layout="@layout/toolbar"
+        android:id="@+id/toolbar"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" />
+
+    <!-- ID has to match the one used in the PreferenceFragmentCompat class. -->
+    <FrameLayout
+        android:id="@android:id/list_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        tools:targetApi="n" />
+
+</LinearLayout>
diff --git a/app/src/main/res/layout/fragment_quest_presets.xml b/app/src/main/res/layout/fragment_quest_presets.xml
index 86c8fb00bda..b750e1bdff4 100644
--- a/app/src/main/res/layout/fragment_quest_presets.xml
+++ b/app/src/main/res/layout/fragment_quest_presets.xml
@@ -5,7 +5,13 @@
     android:layout_height="match_parent"
     xmlns:app="http://schemas.android.com/apk/res-auto">
 
+    <include layout="@layout/toolbar"
+        android:id="@+id/toolbar"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"/>
+
     <RelativeLayout
+        android:layout_below="@id/toolbar"
         android:id="@+id/tableHeader"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
@@ -37,7 +43,7 @@
         android:layout_below="@id/tableHeader"
         android:orientation="vertical"
         android:clipToPadding="false"
-        android:layout_marginBottom="80dp"
+        android:paddingBottom="80dp"
         android:scrollbarStyle="outsideOverlay"
         app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
         tools:itemCount="12"
@@ -54,5 +60,3 @@
         android:layout_alignParentEnd="true"/>
 
 </RelativeLayout>
-
-
diff --git a/app/src/main/res/layout/fragment_quest_selection.xml b/app/src/main/res/layout/fragment_quest_selection.xml
index ee7d0d88ac7..5de154e9b71 100644
--- a/app/src/main/res/layout/fragment_quest_selection.xml
+++ b/app/src/main/res/layout/fragment_quest_selection.xml
@@ -4,7 +4,14 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent">
 
+    <include
+        layout="@layout/toolbar"
+        android:id="@+id/toolbar"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" />
+
     <RelativeLayout
+        android:layout_below="@id/toolbar"
         android:id="@+id/tableHeader"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
@@ -21,7 +28,7 @@
 
         <TextView
             android:id="@+id/column_enabled"
-            android:layout_width="64dp"
+            android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_alignParentEnd="true"
             android:text="@string/quest_enabled"
diff --git a/app/src/main/res/layout/fragment_show_html.xml b/app/src/main/res/layout/fragment_show_html.xml
index 96aaa9f877f..a2aa8fe9fd4 100644
--- a/app/src/main/res/layout/fragment_show_html.xml
+++ b/app/src/main/res/layout/fragment_show_html.xml
@@ -1,15 +1,31 @@
 <?xml version="1.0" encoding="utf-8"?>
-<ScrollView
-    xmlns:android="http://schemas.android.com/apk/res/android"
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
+    android:orientation="vertical"
     android:layout_height="match_parent">
 
-    <TextView
-        android:id="@+id/textView"
+    <include
+        layout="@layout/toolbar"
+        android:id="@+id/toolbar"
         android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:textAppearance="@style/TextAppearance.Body"
-        android:textIsSelectable="true"
-        android:padding="16dp"/>
+        android:layout_height="wrap_content" />
 
-</ScrollView>
+    <ScrollView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <TextView
+            android:id="@+id/textView"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:textAppearance="@style/TextAppearance.Body"
+            android:textIsSelectable="true"
+            android:paddingEnd="@dimen/activity_horizontal_margin"
+            android:paddingStart="@dimen/activity_horizontal_margin"
+            android:paddingTop="@dimen/activity_vertical_margin"
+            android:paddingBottom="@dimen/activity_vertical_margin"
+            android:padding="16dp" />
+
+    </ScrollView>
+
+</LinearLayout>
diff --git a/app/src/main/res/layout/row_quest_preset.xml b/app/src/main/res/layout/row_quest_preset.xml
index b83d2895952..b6430e1bd43 100644
--- a/app/src/main/res/layout/row_quest_preset.xml
+++ b/app/src/main/res/layout/row_quest_preset.xml
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout
-    xmlns:android="http://schemas.android.com/apk/res/android"
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:paddingTop="2dp"
     android:paddingBottom="2dp"
+    android:paddingStart="16dp"
+    android:paddingEnd="16dp"
     android:orientation="horizontal"
-    android:gravity="center_vertical"
-    tools:ignore="RtlSymmetry">
+    android:gravity="center_vertical">
 
     <TextView
         android:id="@+id/presetTitleText"
@@ -17,9 +17,8 @@
         android:layout_height="wrap_content"
         android:textAppearance="@android:style/TextAppearance.Theme.Dialog"
         android:textSize="18sp"
-        android:paddingStart="16dp"
-        android:paddingEnd="16dp"
-        tools:text="This is a long preset name!"/>
+        android:layout_marginEnd="16dp"
+        tools:text="This is a long preset name!" />
 
     <ImageView
         android:id="@+id/menuButton"
@@ -29,22 +28,13 @@
         android:background="?android:attr/selectableItemBackgroundBorderless"
         android:clickable="true"
         android:padding="12dp"
-        android:focusable="true"
-         />
+        android:focusable="true" />
 
-    <FrameLayout
-        android:id="@+id/selectionRadioButtonContainer"
-        android:layout_width="@dimen/table_icon_size"
+    <RadioButton
+        android:id="@+id/selectionRadioButton"
+        android:layout_width="32dp"
         android:layout_height="@dimen/table_icon_size"
-        android:layout_marginStart="32dp">
-
-        <RadioButton
-            android:id="@+id/selectionRadioButton"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_gravity="center"
-            android:text=""/>
-
-    </FrameLayout>
+        android:layout_marginStart="8dp"
+        android:layout_gravity="center" />
 
 </LinearLayout>
diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
index 3af691717ea..69732146c4f 100644
--- a/app/src/main/res/values/styles.xml
+++ b/app/src/main/res/values/styles.xml
@@ -154,7 +154,10 @@
     </style>
 
     <style name="TableHeader">
-        <item name="android:padding">8dp</item>
+        <item name="android:paddingTop">8dp</item>
+        <item name="android:paddingBottom">8dp</item>
+        <item name="android:paddingEnd">8dp</item>
+        <item name="android:paddingStart">16dp</item>
     </style>
 
     <!-- +++++++++++++++++++++++++++++++++++ Bottom sheet ++++++++++++++++++++++++++++++++++++++ -->
diff --git a/app/src/main/res/values/themes.xml b/app/src/main/res/values/themes.xml
index 5a5b8acb759..95481f4b166 100644
--- a/app/src/main/res/values/themes.xml
+++ b/app/src/main/res/values/themes.xml
@@ -27,6 +27,7 @@
 
         <item name="android:popupMenuStyle">@style/Theme.Bubble.Popup</item>
         <item name="popupMenuStyle">@style/Theme.Bubble.Popup</item>
+        <item name="preferenceTheme">@style/Theme.Preferences</item>
     </style>
 
     <style name="Theme.Bubble.ToolbarPopup"  parent="Theme.MaterialComponents.DayNight.NoActionBar"/>
@@ -77,4 +78,8 @@
         <item name="tint">?attr/colorControlNormal</item>
     </style>
 
+    <style name="Theme.Preferences" parent="PreferenceThemeOverlay">
+        <item name="android:layout">@layout/fragment_preferences</item>
+    </style>
+
 </resources>
diff --git a/app/src/main/res/xml/about.xml b/app/src/main/res/xml/about.xml
index a61dd0a35fe..aac6910cf6e 100644
--- a/app/src/main/res/xml/about.xml
+++ b/app/src/main/res/xml/about.xml
@@ -2,11 +2,13 @@
 <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
 
     <Preference
+        android:fragment="de.westnordost.streetcomplete.screens.about.ChangelogFragment"
         android:key="version"
         android:title="@string/about_title_changelog"
         android:widgetLayout="@layout/widget_image_next"/>
 
     <Preference
+        android:fragment="de.westnordost.streetcomplete.screens.about.CreditsFragment"
         android:key="authors"
         android:title="@string/about_title_authors"
         android:summary="@string/about_summary_authors"
@@ -41,6 +43,7 @@
         android:widgetLayout="@layout/widget_image_open_in_browser"/>
 
     <Preference
+        android:fragment="de.westnordost.streetcomplete.screens.about.PrivacyStatementFragment"
         android:key="privacy"
         android:title="@string/about_title_privacy_statement"
         android:summary="@string/about_summary_privacy_statement"
diff --git a/app/src/main/res/xml/preferences.xml b/app/src/main/res/xml/preferences.xml
index ed8334729f4..b39600ab14a 100644
--- a/app/src/main/res/xml/preferences.xml
+++ b/app/src/main/res/xml/preferences.xml
@@ -2,31 +2,18 @@
 <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto">
 
-    <PreferenceCategory
-        android:key="communication"
-        android:title="@string/pref_category_communication">
-
-        <ListPreference
-            android:key="autosync"
-            android:title="@string/pref_title_sync2"
-            app:useSimpleSummaryProvider="true"
-            android:defaultValue="ON"
-            android:entries="@array/pref_entries_autosync"
-            android:entryValues="@array/pref_entryvalues_autosync"
-            android:persistent="true" />
-
-    </PreferenceCategory>
-
     <PreferenceCategory
         android:key="quests_overlays"
         android:title="@string/pref_category_quests_overlays">
 
         <Preference
+            android:fragment="de.westnordost.streetcomplete.screens.settings.questselection.QuestPresetsFragment"
             android:key="quest_presets"
             android:title="@string/action_manage_presets"
             android:widgetLayout="@layout/widget_image_next" />
 
         <Preference
+            android:fragment="de.westnordost.streetcomplete.screens.settings.questselection.QuestSelectionFragment"
             android:key="quests"
             android:title="@string/pref_title_quests2"
             android:widgetLayout="@layout/widget_image_next" />
@@ -49,6 +36,21 @@
 
     </PreferenceCategory>
 
+    <PreferenceCategory
+        android:key="communication"
+        android:title="@string/pref_category_communication">
+
+        <ListPreference
+            android:key="autosync"
+            android:title="@string/pref_title_sync2"
+            app:useSimpleSummaryProvider="true"
+            android:defaultValue="ON"
+            android:entries="@array/pref_entries_autosync"
+            android:entryValues="@array/pref_entryvalues_autosync"
+            android:persistent="true" />
+
+    </PreferenceCategory>
+
     <PreferenceCategory
         android:key="display"
         android:title="@string/pref_category_display">
@@ -70,7 +72,7 @@
         <ListPreference
             android:key="language.select"
             android:title="@string/pref_title_language_select"
-            android:summary="%s"
+            app:useSimpleSummaryProvider="true"
             android:defaultValue=""
             android:persistent="true" />
 
@@ -101,7 +103,6 @@
         <de.westnordost.streetcomplete.screens.settings.NumberPickerPreference
             android:key="map.tilecache"
             android:title="@string/pref_title_map_cache"
-            android:summary="@string/pref_tilecache_size_summary"
             android:defaultValue="50"
             android:persistent="true"
             app:minValue="10"
@@ -126,14 +127,6 @@
             android:key="debug.links"
             android:title="Show Achievement Links" />
 
-        <Preference
-            android:key="debug.ar_measure_horizontal"
-            android:title="AR Measure Horizontal" />
-
-        <Preference
-            android:key="debug.ar_measure_vertical"
-            android:title="AR Measure Vertical" />
-
     </PreferenceCategory>
 
 </PreferenceScreen>
