diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApi.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApi.kt
index 2ab41f3efd2..b2617e7d684 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApi.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApi.kt
@@ -48,7 +48,6 @@ interface NotesApi {
      *
      * @param bounds the area within the notes should be queried. This is usually limited at 25
      *               square degrees. Check the server capabilities.
-     * @param handler The handler which is fed the incoming notes
      * @param limit number of entries returned at maximum. Any value between 1 and 10000
      * @param hideClosedNoteAfter number of days until a closed note should not be shown anymore.
      *                            -1 means that all notes should be returned, 0 that only open notes
@@ -56,6 +55,8 @@ interface NotesApi {
      *
      * @throws OsmQueryTooBigException if the bounds area is too large
      * @throws IllegalArgumentException if the bounds cross the 180th meridian
+     *
+     * @return the incoming notes
      */
-    fun getAll(bounds: BoundingBox, handler: (Note) -> Unit, limit: Int, hideClosedNoteAfter: Int)
+    suspend fun getAll(bounds: BoundingBox, limit: Int, hideClosedNoteAfter: Int): List<Note>
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApiImpl.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApiImpl.kt
index 72cde00c38c..61c568d597a 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApiImpl.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesApiImpl.kt
@@ -1,15 +1,17 @@
 package de.westnordost.streetcomplete.data.osmnotes
 
 import de.westnordost.osmapi.OsmConnection
-import de.westnordost.osmapi.notes.Note as OsmApiNote
-import de.westnordost.osmapi.notes.NoteComment as OsmApiNoteComment
-import de.westnordost.osmapi.notes.NotesDao
-import de.westnordost.osmapi.user.User as OsmApiUser
-import de.westnordost.osmapi.map.data.BoundingBox as OsmApiBoundingBox
-import de.westnordost.osmapi.map.data.LatLon as OsmApiLatLon
 import de.westnordost.osmapi.map.data.OsmLatLon
+import de.westnordost.osmapi.notes.NotesDao
 import de.westnordost.streetcomplete.data.osm.mapdata.*
 import de.westnordost.streetcomplete.data.user.User
+import kotlinx.coroutines.Dispatchers
+import kotlinx.coroutines.withContext
+import de.westnordost.osmapi.map.data.BoundingBox as OsmApiBoundingBox
+import de.westnordost.osmapi.map.data.LatLon as OsmApiLatLon
+import de.westnordost.osmapi.notes.Note as OsmApiNote
+import de.westnordost.osmapi.notes.NoteComment as OsmApiNoteComment
+import de.westnordost.osmapi.user.User as OsmApiUser
 
 // TODO(Flo): Make parameter non-nullable
 open class NotesApiImpl(osm: OsmConnection?) : NotesApi {
@@ -22,10 +24,13 @@ open class NotesApiImpl(osm: OsmConnection?) : NotesApi {
 
     override fun get(id: Long): Note? = notesDao.get(id)?.toNote()
 
-    override fun getAll(bounds: BoundingBox, handler: (Note) -> Unit,
-                        limit: Int, hideClosedNoteAfter: Int) =
-        notesDao.getAll(bounds.toOsmApiBoundingBox(), null, { handler(it.toNote()) },
-            limit, hideClosedNoteAfter)
+    override suspend fun getAll(bounds: BoundingBox, limit: Int, hideClosedNoteAfter: Int) =
+        withContext(Dispatchers.IO) {
+            val notes = ArrayList<Note>()
+            notesDao.getAll(bounds.toOsmApiBoundingBox(), null, { notes.add(it.toNote()) },
+                limit, hideClosedNoteAfter)
+            notes
+        }
 }
 
 private fun OsmApiNote.toNote() = Note(
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesDownloader.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesDownloader.kt
index f9a2ff0574d..718381fa8b2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesDownloader.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osmnotes/NotesDownloader.kt
@@ -33,13 +33,3 @@ class NotesDownloader @Inject constructor(
         private const val TAG = "NotesDownload"
     }
 }
-
-private suspend fun NotesApi.getAll(
-    bbox: BoundingBox,
-    limit: Int,
-    hideClosedNoteAfter: Int
-): List<Note> = withContext(Dispatchers.IO) {
-    val notes = ArrayList<Note>()
-    getAll(bbox, notes::add, limit, hideClosedNoteAfter)
-    notes
-}
