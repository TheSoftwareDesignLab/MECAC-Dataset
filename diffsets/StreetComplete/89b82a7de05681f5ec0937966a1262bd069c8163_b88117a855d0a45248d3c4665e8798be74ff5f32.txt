diff --git a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osm/osmquests/TestQuestType.kt b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osm/osmquests/TestQuestType.kt
index e0cb90dcaab..71eb3868622 100644
--- a/app/src/androidTest/java/de/westnordost/streetcomplete/data/osm/osmquests/TestQuestType.kt
+++ b/app/src/androidTest/java/de/westnordost/streetcomplete/data/osm/osmquests/TestQuestType.kt
@@ -10,7 +10,7 @@ open class TestQuestType : OsmElementQuestType<String> {
 
     override fun getTitle(tags: Map<String, String>) = 0
     override fun isApplicableTo(element: Element): Boolean? = null
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {}
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {}
     override val icon = 0
     override fun createForm(): AbstractQuestAnswerFragment<String> = object : AbstractQuestAnswerFragment<String>() {}
     override val changesetComment = ""
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/meta/OsmTaggings.kt b/app/src/main/java/de/westnordost/streetcomplete/data/meta/OsmTaggings.kt
index 4b0fa7f2731..baa72d5785c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/meta/OsmTaggings.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/meta/OsmTaggings.kt
@@ -35,7 +35,7 @@ const val SURVEY_MARK_KEY = "check_date"
 // generated by "make update" from https://github.com/mnalis/StreetComplete-taginfo-categorize/
 val KEYS_THAT_SHOULD_BE_REMOVED_WHEN_SHOP_IS_REPLACED = listOf(
     "shop_?[1-9]?(:.*)?", "craft_?[1-9]?", "amenity_?[1-9]?", "old_amenity", "old_shop",
-    "information", "leisure", "office", "tourism",
+    "information", "leisure", "office", "tourism", "craft", "shop", "amenity",
     // popular shop=* / craft=* subkeys
     "marketplace", "household", "swimming_pool", "telecommunication", "laundry", "golf", "sports",
     "ice_cream", "scooter", "music", "retail", "yes", "ticket", "health", "newsagent", "lighting",
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/meta/ResurveyUtils.kt b/app/src/main/java/de/westnordost/streetcomplete/data/meta/ResurveyUtils.kt
index f1f2df099a4..6fecf9d1545 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/meta/ResurveyUtils.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/meta/ResurveyUtils.kt
@@ -40,9 +40,9 @@ fun String.toCheckDate(): LocalDate? {
 /** adds or modifies the given tag. If the updated tag is the same as before, sets the check date
  *  tag to today instead. */
 fun StringMapChangesBuilder.updateWithCheckDate(key: String, value: String) {
-    val previousValue = getPreviousValue(key)
+    val previousValue = get(key)
     if (previousValue != value) {
-        addOrModify(key, value)
+        set(key, value)
     }
     /* if the value is changed, set the check date only if it has been set before. Behavior
     *  before v32.0 was to delete the check date. However, this destroys data that was
@@ -56,45 +56,45 @@ fun StringMapChangesBuilder.updateWithCheckDate(key: String, value: String) {
 /** Set/update solely the check date to today for the given key, this also removes other less
  *  preferred check date keys. */
 fun StringMapChangesBuilder.updateCheckDateForKey(key: String) {
-    addOrModify("$SURVEY_MARK_KEY:$key", LocalDate.now().toCheckDateString())
+    set("$SURVEY_MARK_KEY:$key", LocalDate.now().toCheckDateString())
     // remove old check date keys (except the one we want to set)
     getLastCheckDateKeys(key).forEach {
-        if (it != "$SURVEY_MARK_KEY:$key") deleteIfExists(it)
+        if (it != "$SURVEY_MARK_KEY:$key") remove(it)
     }
 }
 
 /** Return whether a check date is set for the given key */
 fun StringMapChangesBuilder.hasCheckDateForKey(key: String): Boolean =
-    getLastCheckDateKeys(key).any { getPreviousValue(it) != null }
+    getLastCheckDateKeys(key).any { get(it) != null }
 
 /** Delete any check date keys for the given key */
-fun StringMapChangesBuilder.deleteCheckDatesForKey(key: String) {
-    getLastCheckDateKeys(key).forEach { deleteIfExists(it) }
+fun StringMapChangesBuilder.removeCheckDatesForKey(key: String) {
+    getLastCheckDateKeys(key).forEach { remove(it) }
 }
 
 /** Set/update solely the check date for the entire item to today, this also removes other less
  *  preferred check date keys for the entire item. */
 fun StringMapChangesBuilder.updateCheckDate() {
-    addOrModify(SURVEY_MARK_KEY, LocalDate.now().toCheckDateString())
-    deleteOtherCheckDates()
+    set(SURVEY_MARK_KEY, LocalDate.now().toCheckDateString())
+    removeOtherCheckDates()
 }
 
 /** Delete solely the other check date for the entire item, don't touch SURVEY_MARK_KEY */
-fun StringMapChangesBuilder.deleteOtherCheckDates() {
+fun StringMapChangesBuilder.removeOtherCheckDates() {
     // remove old check dates (except the one we want to set)
     LAST_CHECK_DATE_KEYS.forEach {
-        if (it != SURVEY_MARK_KEY) deleteIfExists(it)
+        if (it != SURVEY_MARK_KEY) remove(it)
     }
 }
 
 /** Return whether any check dates are set */
 fun StringMapChangesBuilder.hasCheckDate(): Boolean =
-    LAST_CHECK_DATE_KEYS.any { getPreviousValue(it) != null }
+    LAST_CHECK_DATE_KEYS.any { get(it) != null }
 
 /** Delete any check date for the entire item */
-fun StringMapChangesBuilder.deleteCheckDates() {
-    deleteIfExists(SURVEY_MARK_KEY)
-    deleteOtherCheckDates()
+fun StringMapChangesBuilder.removeCheckDates() {
+    remove(SURVEY_MARK_KEY)
+    removeOtherCheckDates()
 }
 
 /** Date format of the tags used for recording the date at which the element or tag with the given
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilder.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilder.kt
index dfb3b8869ca..e8042a2ef3b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilder.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilder.kt
@@ -1,69 +1,80 @@
 package de.westnordost.streetcomplete.data.osm.edits.update_tags
 
-class StringMapChangesBuilder(private val source: Map<String, String>) {
+class StringMapChangesBuilder(private val source: Map<String, String>): Map<String, String> {
     private val changes: MutableMap<String, StringMapEntryChange> = mutableMapOf()
 
-    fun delete(key: String) {
-        val valueBefore = requireNotNull(source[key]) { "The key '$key' does not exist in the map '$source'." }
-        val change = StringMapEntryDelete(key, valueBefore)
-        if (changes[key] == change) return
-        checkDuplicate(key)
-        changes[key] = change
-    }
-
-    fun deleteIfExists(key: String) {
-        if (source[key] != null) {
-            delete(key)
+    /** Remove the given key from the map */
+    fun remove(key: String) {
+        val valueBefore = source[key]
+        if (valueBefore != null) {
+            addChange(StringMapEntryDelete(key, valueBefore))
         }
     }
 
-    fun deleteIfPreviously(key: String, valueBefore: String) {
-        if (source[key] == valueBefore) {
-            delete(key)
-        }
+    /** put the given value for the given key */
+    operator fun set(key: String, value: String) {
+        val valueBefore = source[key]
+        addChange(if (valueBefore == null) {
+            StringMapEntryAdd(key, value)
+        } else {
+            StringMapEntryModify(key, valueBefore, value)
+        })
     }
 
-    fun add(key: String, value: String) {
-        require(!source.containsKey(key)) { "The key '$key' already exists in the map '$source'." }
-        val change = StringMapEntryAdd(key, value)
-        if (changes[key] == change) return
-        checkDuplicate(key)
-        changes[key] = change
-    }
+    /* ----------------------- */
 
-    fun modify(key: String, value: String) {
-        val valueBefore = requireNotNull(source[key]) {"The key '$key' does not exist in the map '$source'." }
-        val change = StringMapEntryModify(key, valueBefore, value)
-        if (changes[key] == change) return
-        checkDuplicate(key)
-        changes[key] = change
-    }
+    override val size: Int get() = entries.size
+    override fun isEmpty(): Boolean = size == 0
+    override fun containsKey(key: String): Boolean = get(key) != null
+    override fun containsValue(value: String): Boolean = value in values
 
-    fun addOrModify(key: String, value: String) {
-        val valueBefore = source[key]
-        if (valueBefore == null) {
-            add(key, value)
+    override operator fun get(key: String): String? =
+        if (changes.containsKey(key)) {
+            when(val change = changes.getValue(key)) {
+                is StringMapEntryAdd -> change.value
+                is StringMapEntryModify -> change.value
+                is StringMapEntryDelete -> null
+            }
         } else {
-            modify(key, value)
+            source[key]
         }
-    }
 
-    fun modifyIfExists(key: String, value: String) {
-        if (source[key] != null) {
-            modify(key, value)
-        }
-    }
+    override val keys: Set<String> get() = entries.map { it.key }.toSet()
+    override val values: Collection<String>  get() = entries.map { it.value }
 
-    fun getPreviousValue(key: String): String? {
-        return source[key]
+    override val entries: Set<Map.Entry<String, String>> get() {
+        val result = mutableSetOf<Map.Entry<String, String>>()
+        for ((k,v) in source) {
+            when (val change = changes[k]) {
+                // modified
+                is StringMapEntryModify -> {
+                    result.add(Entry(k, change.value))
+                }
+                // deleted
+                is StringMapEntryDelete -> {}
+                // otherwise use entry from source map
+                else ->                    {
+                    result.add(Entry(k,v))
+                }
+            }
+        }
+        // add added entries
+        for (add in changes.values.filterIsInstance<StringMapEntryAdd>()) {
+            result.add(Entry(add.key, add.value))
+        }
+        return result
     }
 
-    fun getPreviousEntries(): Map<String, String> {
-        return source.toMap()
-    }
+    data class Entry(override val key: String, override val value: String) : Map.Entry<String, String>
 
     fun getChanges(): List<StringMapEntryChange> = changes.values.toList()
 
+    private fun addChange(change: StringMapEntryChange) {
+        if (changes[change.key] == change) return
+        checkDuplicate(change.key)
+        changes[change.key] = change
+    }
+
     private fun checkDuplicate(key: String) {
         check(!changes.containsKey(key)) { "The key '$key' is already being modified." }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesXt.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesXt.kt
index 88b152a3311..54583f400f7 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesXt.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesXt.kt
@@ -30,5 +30,5 @@ fun Element.changesApplied(changes: StringMapChanges): Element {
 }
 
 fun StringMapChangesBuilder.deleteIfExistList(keys: List<String>) {
-    keys.forEach { deleteIfExists(it) }
+    keys.forEach { remove(it) }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapEntryChange.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapEntryChange.kt
index 187d8e0cdcd..9f5fcede456 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapEntryChange.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapEntryChange.kt
@@ -4,6 +4,7 @@ import kotlinx.serialization.Serializable
 
 @Serializable
 sealed class StringMapEntryChange {
+    abstract val key: String
     abstract override fun toString(): String
     abstract override fun equals(other: Any?): Boolean
     abstract override fun hashCode(): Int
@@ -13,7 +14,7 @@ sealed class StringMapEntryChange {
 }
 
 @Serializable
-data class StringMapEntryAdd(val key: String, val value: String) : StringMapEntryChange() {
+data class StringMapEntryAdd(override val key: String, val value: String) : StringMapEntryChange() {
 
     override fun toString() = "ADD \"$key\"=\"$value\""
     override fun conflictsWith(map: Map<String, String>) = map.containsKey(key) && map[key] != value
@@ -22,7 +23,7 @@ data class StringMapEntryAdd(val key: String, val value: String) : StringMapEntr
 }
 
 @Serializable
-data class StringMapEntryModify(val key: String, val valueBefore: String, val value: String) : StringMapEntryChange() {
+data class StringMapEntryModify(override val key: String, val valueBefore: String, val value: String) : StringMapEntryChange() {
 
     override fun toString() = "MODIFY \"$key\"=\"$valueBefore\" -> \"$key\"=\"$value\""
     override fun conflictsWith(map: Map<String, String>) = map[key] != valueBefore && map[key] != value
@@ -31,7 +32,7 @@ data class StringMapEntryModify(val key: String, val valueBefore: String, val va
 }
 
 @Serializable
-data class StringMapEntryDelete(val key: String, val valueBefore: String) : StringMapEntryChange() {
+data class StringMapEntryDelete(override val key: String, val valueBefore: String) : StringMapEntryChange() {
 
     override fun toString() = "DELETE \"$key\"=\"$valueBefore\""
     override fun conflictsWith(map: Map<String, String>) = map.containsKey(key) && map[key] != valueBefore
diff --git a/app/src/main/java/de/westnordost/streetcomplete/data/osm/osmquests/OsmElementQuestType.kt b/app/src/main/java/de/westnordost/streetcomplete/data/osm/osmquests/OsmElementQuestType.kt
index bf7318e2753..08fe8812193 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/data/osm/osmquests/OsmElementQuestType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/data/osm/osmquests/OsmElementQuestType.kt
@@ -76,11 +76,11 @@ interface OsmElementQuestType<T> : QuestType<T> {
     val highlightedElementsRadius: Double get() = 30.0
 
     /** applies the data from [answer] to the given element. The element is not directly modified,
-     *  instead, a map of [changes] is built */
-    fun applyAnswerTo(answer: T, changes: StringMapChangesBuilder)
+     *  instead, a map of [tags] is built */
+    fun applyAnswerTo(answer: T, tags: StringMapChangesBuilder)
 
     @Suppress("UNCHECKED_CAST")
-    fun applyAnswerToUnsafe(answer: Any, changes: StringMapChangesBuilder) {
-        applyAnswerTo(answer as T, changes)
+    fun applyAnswerToUnsafe(answer: Any, tags: StringMapChangesBuilder) {
+        applyAnswerTo(answer as T, tags)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/accepts_cash/AddAcceptsCash.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/accepts_cash/AddAcceptsCash.kt
index 09f3052b2dd..54e097b952f 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/accepts_cash/AddAcceptsCash.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/accepts_cash/AddAcceptsCash.kt
@@ -68,8 +68,8 @@ class AddAcceptsCash(
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("payment:cash", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["payment:cash"] = answer.toYesNo()
     }
 
     private fun hasFeatureName(tags: Map<String, String>): Boolean =
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddAddressStreet.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddAddressStreet.kt
index 00cd9fcf92a..c20b60a48bd 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddAddressStreet.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddAddressStreet.kt
@@ -65,12 +65,12 @@ class AddAddressStreet : OsmElementQuestType<AddressStreetAnswer> {
 
     override fun createForm() = AddAddressStreetForm()
 
-    override fun applyAnswerTo(answer: AddressStreetAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: AddressStreetAnswer, tags: StringMapChangesBuilder) {
         val key = when(answer) {
             is StreetName -> "addr:street"
             is PlaceName -> "addr:place"
         }
-        changes.add(key, answer.name)
+        tags[key] = answer.name
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddHousenumber.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddHousenumber.kt
index aadc090f1c2..d21d4a279e6 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddHousenumber.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/address/AddHousenumber.kt
@@ -126,30 +126,30 @@ class AddHousenumber :  OsmElementQuestType<HousenumberAnswer> {
 
     override fun createForm() = AddHousenumberForm()
 
-    override fun applyAnswerTo(answer: HousenumberAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: HousenumberAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is NoHouseNumber -> changes.add("nohousenumber", "yes")
-            is HouseNumber   -> changes.add("addr:housenumber", answer.number)
-            is HouseName     -> changes.add("addr:housename", answer.name)
+            is NoHouseNumber -> tags["nohousenumber"] = "yes"
+            is HouseNumber   -> tags["addr:housenumber"] = answer.number
+            is HouseName     -> tags["addr:housename"] = answer.name
             is ConscriptionNumber -> {
-                changes.add("addr:conscriptionnumber", answer.number)
+                tags["addr:conscriptionnumber"] = answer.number
                 if (answer.streetNumber != null) {
-                    changes.add("addr:streetnumber", answer.streetNumber)
-                    changes.add("addr:housenumber", answer.streetNumber)
+                    tags["addr:streetnumber"] = answer.streetNumber
+                    tags["addr:housenumber"] = answer.streetNumber
                 } else {
-                    changes.add("addr:housenumber", answer.number)
+                    tags["addr:housenumber"] = answer.number
                 }
             }
             is HouseAndBlockNumber -> {
-                changes.add("addr:housenumber", answer.houseNumber)
-                changes.addOrModify("addr:block_number", answer.blockNumber)
+                tags["addr:housenumber"] = answer.houseNumber
+                tags["addr:block_number"] = answer.blockNumber
             }
             WrongBuildingType -> {
-                changes.modify("building", "yes")
+                tags["building"] = "yes"
             }
             is HouseNameAndHouseNumber -> {
-                changes.add("addr:housenumber", answer.number)
-                changes.add("addr:housename", answer.name)
+                tags["addr:housenumber"] = answer.number
+                tags["addr:housename"] = answer.name
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/air_conditioning/AddAirConditioning.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/air_conditioning/AddAirConditioning.kt
index 8ec418151ff..1256ab71602 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/air_conditioning/AddAirConditioning.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/air_conditioning/AddAirConditioning.kt
@@ -39,8 +39,8 @@ class AddAirConditioning : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("air_conditioning", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["air_conditioning"] = answer.toYesNo()
     }
 
     private fun hasFeatureName(tags: Map<String, String>): Boolean =
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/atm_operator/AddAtmOperator.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/atm_operator/AddAtmOperator.kt
index d73e4162410..e4a0697f5fa 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/atm_operator/AddAtmOperator.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/atm_operator/AddAtmOperator.kt
@@ -25,7 +25,7 @@ class AddAtmOperator : OsmFilterQuestType<String>() {
 
     override fun createForm() = AddAtmOperatorForm()
 
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {
-        changes.add("operator", answer)
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {
+        tags["operator"] = answer
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/baby_changing_table/AddBabyChangingTable.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/baby_changing_table/AddBabyChangingTable.kt
index e02c550f228..0ed279824f0 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/baby_changing_table/AddBabyChangingTable.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/baby_changing_table/AddBabyChangingTable.kt
@@ -37,7 +37,7 @@ class AddBabyChangingTable : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("changing_table", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["changing_table"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_bicycle_barrier_type/AddBicycleBarrierType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_bicycle_barrier_type/AddBicycleBarrierType.kt
index 21fcc3b43a7..41822827266 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_bicycle_barrier_type/AddBicycleBarrierType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_bicycle_barrier_type/AddBicycleBarrierType.kt
@@ -21,7 +21,7 @@ class AddBicycleBarrierType : OsmFilterQuestType<BicycleBarrierType>() {
 
     override fun createForm() = AddBicycleBarrierTypeForm()
 
-    override fun applyAnswerTo(answer: BicycleBarrierType, changes: StringMapChangesBuilder) {
-        changes.add("cycle_barrier", answer.osmValue)
+    override fun applyAnswerTo(answer: BicycleBarrierType, tags: StringMapChangesBuilder) {
+        tags["cycle_barrier"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnPath.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnPath.kt
index ebb40018a2c..0d3f4ef1564 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnPath.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnPath.kt
@@ -41,5 +41,5 @@ class AddBarrierOnPath: OsmElementQuestType<BarrierType> {
 
     override fun createForm() = AddBarrierTypeForm()
 
-    override fun applyAnswerTo(answer: BarrierType, changes: StringMapChangesBuilder) = answer.applyTo(changes)
+    override fun applyAnswerTo(answer: BarrierType, tags: StringMapChangesBuilder) = answer.applyTo(tags)
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnRoad.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnRoad.kt
index 06b92bfdccf..e0af75299c5 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnRoad.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierOnRoad.kt
@@ -39,5 +39,5 @@ class AddBarrierOnRoad: OsmElementQuestType<BarrierType> {
 
     override fun createForm() = AddBarrierTypeForm()
 
-    override fun applyAnswerTo(answer: BarrierType, changes: StringMapChangesBuilder) = answer.applyTo(changes)
+    override fun applyAnswerTo(answer: BarrierType, tags: StringMapChangesBuilder) = answer.applyTo(tags)
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierType.kt
index d0a022cf963..e81289d42b1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddBarrierType.kt
@@ -34,5 +34,5 @@ class AddBarrierType : OsmFilterQuestType<BarrierType>() {
 
     override fun createForm() = AddBarrierTypeForm()
 
-    override fun applyAnswerTo(answer: BarrierType, changes: StringMapChangesBuilder) = answer.applyTo(changes)
+    override fun applyAnswerTo(answer: BarrierType, tags: StringMapChangesBuilder) = answer.applyTo(tags)
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddStileType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddStileType.kt
index 1ac941d25e2..0212542a646 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddStileType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/AddStileType.kt
@@ -49,43 +49,43 @@ class AddStileType : OsmElementQuestType<StileTypeAnswer> {
 
     override fun createForm() = AddStileTypeForm()
 
-    override fun applyAnswerTo(answer: StileTypeAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: StileTypeAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
             is StileType -> {
                 val newType = answer.osmValue
                 val newMaterial = answer.osmMaterialValue
-                val oldType = changes.getPreviousValue("stile")
-                val oldMaterial = changes.getPreviousValue("material")
+                val oldType = tags["stile"]
+                val oldMaterial = tags["material"]
                 val stileWasRebuilt =
                     oldType != null && oldType != newType ||
                     newMaterial != null && oldMaterial != null && oldMaterial != newMaterial
 
                 if (stileWasRebuilt) {
                     // => properties that refer to the old replaced stile should be removed
-                    changes.deleteIfExistList(STILE_PROPERTIES - "material")
+                    tags.deleteIfExistList(STILE_PROPERTIES - "material")
                     if(newMaterial != null) {
-                        changes.addOrModify("material", newMaterial)
+                        tags["material"] = newMaterial
                     } else {
-                        changes.deleteIfExists("material")
+                        tags.remove("material")
                     }
                 } else if (newMaterial != null && oldMaterial == null) {
                     // not considered as rebuilt, but material info still
                     // can be added where it was missing
-                    changes.add("material", newMaterial)
+                    tags["material"] = newMaterial
                 }
                 if (newType != oldType) {
-                    changes.addOrModify("stile", newType)
+                    tags["stile"] = newType
                 }
             }
             is ConvertedStile -> {
-                changes.deleteIfExistList(STILE_PROPERTIES)
-                changes.deleteIfExists("stile")
-                changes.modify("barrier", answer.newBarrier)
+                tags.deleteIfExistList(STILE_PROPERTIES)
+                tags.remove("stile")
+                tags["barrier"] = answer.newBarrier
             }
         }
         // policy is to not remove a check date if one is already there but update it instead
-        if (changes.getChanges().isEmpty() || changes.hasCheckDate()) {
-            changes.updateCheckDate()
+        if (tags.getChanges().isEmpty() || tags.hasCheckDate()) {
+            tags.updateCheckDate()
         }
     }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/BarrierType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/BarrierType.kt
index bec706b73f9..07ad8ca654c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/BarrierType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/barrier_type/BarrierType.kt
@@ -28,22 +28,22 @@ enum class BarrierType(val osmValue: String) {
     BICYCLE_BARRIER("cycle_barrier")
 }
 
-fun BarrierType.applyTo(changes: StringMapChangesBuilder) {
-    changes.addOrModify("barrier", this.osmValue)
+fun BarrierType.applyTo(tags: StringMapChangesBuilder) {
+    tags["barrier"] = this.osmValue
     when (this) {
         BarrierType.STILE_SQUEEZER -> {
-            changes.addOrModify("stile", "squeezer")
+            tags["stile"] = "squeezer"
         }
         BarrierType.STILE_LADDER -> {
-            changes.addOrModify("stile", "ladder")
+            tags["stile"] = "ladder"
         }
         BarrierType.STILE_STEPOVER_WOODEN -> {
-            changes.addOrModify("stile", "stepover")
-            changes.addOrModify("material", "wood")
+            tags["stile"] = "stepover"
+            tags["material"] = "wood"
         }
         BarrierType.STILE_STEPOVER_STONE -> {
-            changes.addOrModify("stile", "stepover")
-            changes.addOrModify("material", "stone")
+            tags["stile"] = "stepover"
+            tags["material"] = "stone"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bench_backrest/AddBenchBackrest.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bench_backrest/AddBenchBackrest.kt
index 3cf6838a8a5..60aa279e3dc 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bench_backrest/AddBenchBackrest.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bench_backrest/AddBenchBackrest.kt
@@ -33,14 +33,14 @@ class AddBenchBackrest : OsmFilterQuestType<BenchBackrestAnswer>() {
 
     override fun createForm() = AddBenchBackrestForm()
 
-    override fun applyAnswerTo(answer: BenchBackrestAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BenchBackrestAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
             PICNIC_TABLE -> {
-                changes.add("leisure", "picnic_table")
-                changes.delete("amenity")
+                tags["leisure"] = "picnic_table"
+                tags.remove("amenity")
             }
-            YES -> changes.add("backrest", "yes")
-            NO -> changes.add("backrest", "no")
+            YES -> tags["backrest"] = "yes"
+            NO -> tags["backrest"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_capacity/AddBikeParkingCapacity.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_capacity/AddBikeParkingCapacity.kt
index 54342a73591..c4780234b22 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_capacity/AddBikeParkingCapacity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_capacity/AddBikeParkingCapacity.kt
@@ -39,7 +39,7 @@ class AddBikeParkingCapacity : OsmFilterQuestType<Int>() {
 
     override fun createForm() = AddBikeParkingCapacityForm()
 
-    override fun applyAnswerTo(answer: Int, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("capacity", answer.toString())
+    override fun applyAnswerTo(answer: Int, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("capacity", answer.toString())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_cover/AddBikeParkingCover.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_cover/AddBikeParkingCover.kt
index 4aed43ab8ff..5117880be61 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_cover/AddBikeParkingCover.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_cover/AddBikeParkingCover.kt
@@ -34,7 +34,7 @@ class AddBikeParkingCover : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("covered", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["covered"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_type/AddBikeParkingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_type/AddBikeParkingType.kt
index 6ff76dc8a3b..2912e114c12 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_type/AddBikeParkingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bike_parking_type/AddBikeParkingType.kt
@@ -30,7 +30,7 @@ class AddBikeParkingType : OsmFilterQuestType<BikeParkingType>() {
 
     override fun createForm() = AddBikeParkingTypeForm()
 
-    override fun applyAnswerTo(answer: BikeParkingType, changes: StringMapChangesBuilder) {
-        changes.add("bicycle_parking", answer.osmValue)
+    override fun applyAnswerTo(answer: BikeParkingType, tags: StringMapChangesBuilder) {
+        tags["bicycle_parking"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/board_type/AddBoardType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/board_type/AddBoardType.kt
index 389ef12d3b8..df6680762f1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/board_type/AddBoardType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/board_type/AddBoardType.kt
@@ -33,11 +33,11 @@ class AddBoardType : OsmFilterQuestType<BoardType>() {
 
     override fun createForm() = AddBoardTypeForm()
 
-    override fun applyAnswerTo(answer: BoardType, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BoardType, tags: StringMapChangesBuilder) {
         if(answer == BoardType.MAP) {
-            changes.modify("information", "map")
+            tags["information"] = "map"
         } else {
-            changes.addOrModify("board_type", answer.osmValue)
+            tags["board_type"] = answer.osmValue
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bollard_type/AddBollardType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bollard_type/AddBollardType.kt
index bed84c0ee0a..9bcbf0f57b0 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bollard_type/AddBollardType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bollard_type/AddBollardType.kt
@@ -52,7 +52,7 @@ class AddBollardType : OsmElementQuestType<BollardType> {
 
     override fun createForm() = AddBollardTypeForm()
 
-    override fun applyAnswerTo(answer: BollardType, changes: StringMapChangesBuilder) {
-        changes.add("bollard", answer.osmValue)
+    override fun applyAnswerTo(answer: BollardType, tags: StringMapChangesBuilder) {
+        tags["bollard"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bridge_structure/AddBridgeStructure.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bridge_structure/AddBridgeStructure.kt
index 77348f0fe28..d5c6bf537e3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bridge_structure/AddBridgeStructure.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bridge_structure/AddBridgeStructure.kt
@@ -18,7 +18,7 @@ class AddBridgeStructure : OsmFilterQuestType<BridgeStructure>() {
 
     override fun createForm() = AddBridgeStructureForm()
 
-    override fun applyAnswerTo(answer: BridgeStructure, changes: StringMapChangesBuilder) {
-        changes.add("bridge:structure", answer.osmValue)
+    override fun applyAnswerTo(answer: BridgeStructure, tags: StringMapChangesBuilder) {
+        tags["bridge:structure"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/building_levels/AddBuildingLevels.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/building_levels/AddBuildingLevels.kt
index 7f36ad67ba3..82904c52aff 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/building_levels/AddBuildingLevels.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/building_levels/AddBuildingLevels.kt
@@ -29,9 +29,9 @@ class AddBuildingLevels : OsmFilterQuestType<BuildingLevelsAnswer>() {
 
     override fun createForm() = AddBuildingLevelsForm()
 
-    override fun applyAnswerTo(answer: BuildingLevelsAnswer, changes: StringMapChangesBuilder) {
-        changes.add("building:levels", answer.levels.toString())
-        answer.roofLevels?.let { changes.addOrModify("roof:levels", it.toString()) }
+    override fun applyAnswerTo(answer: BuildingLevelsAnswer, tags: StringMapChangesBuilder) {
+        tags["building:levels"] = answer.levels.toString()
+        answer.roofLevels?.let { tags["roof:levels"] = it.toString() }
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/building_type/AddBuildingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/building_type/AddBuildingType.kt
index f65206f399c..5143fe79f5c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/building_type/AddBuildingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/building_type/AddBuildingType.kt
@@ -39,23 +39,23 @@ class AddBuildingType : OsmFilterQuestType<BuildingType>() {
 
     override fun createForm() = AddBuildingTypeForm()
 
-    override fun applyAnswerTo(answer: BuildingType, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BuildingType, tags: StringMapChangesBuilder) {
         if (answer.osmKey == "man_made") {
-            changes.delete("building")
-            changes.add("man_made", answer.osmValue)
+            tags.remove("building")
+            tags["man_made"] = answer.osmValue
         } else if (answer.osmKey != "building") {
-            changes.addOrModify(answer.osmKey, answer.osmValue)
+            tags[answer.osmKey] = answer.osmValue
             if(answer == BuildingType.ABANDONED) {
-                changes.deleteIfExists("disused")
+                tags.remove("disused")
             }
-            if(answer == BuildingType.RUINS && changes.getPreviousValue("disused") == "no") {
-                changes.deleteIfExists("disused")
+            if(answer == BuildingType.RUINS && tags["disused"] == "no") {
+                tags.remove("disused")
             }
-            if(answer == BuildingType.RUINS && changes.getPreviousValue("abandoned") == "no") {
-                changes.deleteIfExists("abandoned")
+            if(answer == BuildingType.RUINS && tags["abandoned"] == "no") {
+                tags.remove("abandoned")
             }
         } else {
-            changes.modify("building", answer.osmValue)
+            tags["building"] = answer.osmValue
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/building_underground/AddIsBuildingUnderground.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/building_underground/AddIsBuildingUnderground.kt
index cb1f5682a5a..05c2ae68af4 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/building_underground/AddIsBuildingUnderground.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/building_underground/AddIsBuildingUnderground.kt
@@ -23,7 +23,7 @@ class AddIsBuildingUnderground : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("location", if (answer) "underground" else "surface")
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["location"] = if (answer) "underground" else "surface"
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bench/AddBenchStatusOnBusStop.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bench/AddBenchStatusOnBusStop.kt
index 05f0fb472ee..239d216fc88 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bench/AddBenchStatusOnBusStop.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bench/AddBenchStatusOnBusStop.kt
@@ -45,7 +45,7 @@ class AddBenchStatusOnBusStop : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("bench", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("bench", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bin/AddBinStatusOnBusStop.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bin/AddBinStatusOnBusStop.kt
index 4dd94d4ce82..654300ec408 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bin/AddBinStatusOnBusStop.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_bin/AddBinStatusOnBusStop.kt
@@ -45,7 +45,7 @@ class AddBinStatusOnBusStop : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("bin", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("bin", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_lit/AddBusStopLit.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_lit/AddBusStopLit.kt
index 328f1f84349..c050e4338e1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_lit/AddBusStopLit.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_lit/AddBusStopLit.kt
@@ -49,7 +49,7 @@ class AddBusStopLit : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("lit", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("lit", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_name/AddBusStopName.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_name/AddBusStopName.kt
index 13795d27875..d9c87f7878c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_name/AddBusStopName.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_name/AddBusStopName.kt
@@ -33,10 +33,10 @@ class AddBusStopName : OsmFilterQuestType<BusStopNameAnswer>() {
 
     override fun createForm() = AddBusStopNameForm()
 
-    override fun applyAnswerTo(answer: BusStopNameAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BusStopNameAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is NoBusStopName -> {
-                changes.add("name:signed", "no")
+                tags["name:signed"] = "no"
             }
             is BusStopName -> {
                 for ((languageTag, name) in answer.localizedNames) {
@@ -45,7 +45,7 @@ class AddBusStopName : OsmFilterQuestType<BusStopNameAnswer>() {
                         "international" -> "int_name"
                         else -> "name:$languageTag"
                     }
-                    changes.addOrModify(key, name)
+                    tags[key] = name
                 }
             }
         }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_ref/AddBusStopRef.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_ref/AddBusStopRef.kt
index 97b1c9543e8..a7dcb5be2a3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_ref/AddBusStopRef.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_ref/AddBusStopRef.kt
@@ -33,10 +33,10 @@ class AddBusStopRef : OsmFilterQuestType<BusStopRefAnswer>() {
 
     override fun createForm() = AddBusStopRefForm()
 
-    override fun applyAnswerTo(answer: BusStopRefAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BusStopRefAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is NoBusStopRef -> changes.add("ref:signed", "no")
-            is BusStopRef ->   changes.add("ref", answer.ref)
+            is NoBusStopRef -> tags["ref:signed"] = "no"
+            is BusStopRef ->   tags["ref"] = answer.ref
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_shelter/AddBusStopShelter.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_shelter/AddBusStopShelter.kt
index 0d54c56f932..d8bf2fd0b0e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_shelter/AddBusStopShelter.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/bus_stop_shelter/AddBusStopShelter.kt
@@ -47,13 +47,13 @@ class AddBusStopShelter : OsmFilterQuestType<BusStopShelterAnswer>() {
 
     override fun createForm() = AddBusStopShelterForm()
 
-    override fun applyAnswerTo(answer: BusStopShelterAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: BusStopShelterAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            SHELTER -> changes.updateWithCheckDate("shelter", "yes")
-            NO_SHELTER -> changes.updateWithCheckDate("shelter", "no")
+            SHELTER -> tags.updateWithCheckDate("shelter", "yes")
+            NO_SHELTER -> tags.updateWithCheckDate("shelter", "no")
             COVERED -> {
-                changes.deleteIfExists("shelter")
-                changes.add("covered", "yes")
+                tags.remove("shelter")
+                tags["covered"] = "yes"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/camera_type/AddCameraType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/camera_type/AddCameraType.kt
index 4c85a2e46b9..648018ea6f4 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/camera_type/AddCameraType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/camera_type/AddCameraType.kt
@@ -30,7 +30,7 @@ class AddCameraType : OsmFilterQuestType<CameraType>() {
 
     override fun createForm() = AddCameraTypeForm()
 
-    override fun applyAnswerTo(answer: CameraType, changes: StringMapChangesBuilder) {
-        changes.add("camera:type", answer.osmValue)
+    override fun applyAnswerTo(answer: CameraType, tags: StringMapChangesBuilder) {
+        tags["camera:type"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/car_wash_type/AddCarWashType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/car_wash_type/AddCarWashType.kt
index 96d2cb43854..217f3b9b66c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/car_wash_type/AddCarWashType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/car_wash_type/AddCarWashType.kt
@@ -20,9 +20,9 @@ class AddCarWashType : OsmFilterQuestType<List<CarWashType>>() {
 
     override fun createForm() = AddCarWashTypeForm()
 
-    override fun applyAnswerTo(answer: List<CarWashType>, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: List<CarWashType>, tags: StringMapChangesBuilder) {
         val isAutomated = answer.contains(AUTOMATED)
-        changes.add("automated", isAutomated.toYesNo())
+        tags["automated"] = isAutomated.toYesNo()
 
         val hasSelfService = answer.contains(SELF_SERVICE)
         val selfService = when {
@@ -30,6 +30,6 @@ class AddCarWashType : OsmFilterQuestType<List<CarWashType>>() {
             hasSelfService -> "yes"
             else -> "no"
         }
-        changes.add("self_service", selfService)
+        tags["self_service"] = selfService
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_capacity/AddChargingStationCapacity.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_capacity/AddChargingStationCapacity.kt
index 309542729d6..90a5b2de54f 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_capacity/AddChargingStationCapacity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_capacity/AddChargingStationCapacity.kt
@@ -41,7 +41,7 @@ class AddChargingStationCapacity : OsmFilterQuestType<Int>() {
 
     override fun createForm() = AddChargingStationCapacityForm()
 
-    override fun applyAnswerTo(answer: Int, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("capacity", answer.toString())
+    override fun applyAnswerTo(answer: Int, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("capacity", answer.toString())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_operator/AddChargingStationOperator.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_operator/AddChargingStationOperator.kt
index d13eba6b5ba..34bcae2aee3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_operator/AddChargingStationOperator.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/charging_station_operator/AddChargingStationOperator.kt
@@ -29,7 +29,7 @@ class AddChargingStationOperator : OsmFilterQuestType<String>() {
 
     override fun createForm() = AddChargingStationOperatorForm()
 
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {
-        changes.add("operator", answer)
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {
+        tags["operator"] = answer
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/clothing_bin_operator/AddClothingBinOperator.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/clothing_bin_operator/AddClothingBinOperator.kt
index c9f672ca5fe..9f00a429c16 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/clothing_bin_operator/AddClothingBinOperator.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/clothing_bin_operator/AddClothingBinOperator.kt
@@ -48,8 +48,8 @@ class AddClothingBinOperator : OsmElementQuestType<String> {
 
     override fun createForm() = AddClothingBinOperatorForm()
 
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {
-        changes.add("operator", answer)
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {
+        tags["operator"] = answer
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedBuildingConstruction.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedBuildingConstruction.kt
index 609a90fd801..767739a8a4b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedBuildingConstruction.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedBuildingConstruction.kt
@@ -24,18 +24,18 @@ class MarkCompletedBuildingConstruction : OsmFilterQuestType<CompletedConstructi
 
     override fun createForm() = MarkCompletedConstructionForm()
 
-    override fun applyAnswerTo(answer: CompletedConstructionAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: CompletedConstructionAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is OpeningDateAnswer -> {
-                changes.addOrModify("opening_date", answer.date.toCheckDateString())
+                tags["opening_date"] = answer.date.toCheckDateString()
             }
             is StateAnswer -> {
                 if (answer.value) {
-                    val value = changes.getPreviousValue("construction") ?: "yes"
-                    changes.modify("building", value)
-                    deleteTagsDescribingConstruction(changes)
+                    val value = tags["construction"] ?: "yes"
+                    tags["building"] = value
+                    removeTagsDescribingConstruction(tags)
                 } else {
-                    changes.updateCheckDate()
+                    tags.updateCheckDate()
                 }
             }
         }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedConstructionUtils.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedConstructionUtils.kt
index 2a93631eff4..5cfb5d48bac 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedConstructionUtils.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedConstructionUtils.kt
@@ -3,11 +3,11 @@ package de.westnordost.streetcomplete.quests.construction
 import de.westnordost.streetcomplete.data.meta.SURVEY_MARK_KEY
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
 
-fun deleteTagsDescribingConstruction(changes: StringMapChangesBuilder) {
-    changes.deleteIfExists("construction")
-    changes.deleteIfExists("source:construction")
-    changes.deleteIfExists("opening_date")
-    changes.deleteIfExists("source:opening_date")
-    changes.deleteIfExists(SURVEY_MARK_KEY)
-    changes.deleteIfExists("source:$SURVEY_MARK_KEY")
+fun removeTagsDescribingConstruction(tags: StringMapChangesBuilder) {
+    tags.remove("construction")
+    tags.remove("source:construction")
+    tags.remove("opening_date")
+    tags.remove("source:opening_date")
+    tags.remove(SURVEY_MARK_KEY)
+    tags.remove("source:$SURVEY_MARK_KEY")
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedHighwayConstruction.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedHighwayConstruction.kt
index 1a5f1389208..a6b8a9b1990 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedHighwayConstruction.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/construction/MarkCompletedHighwayConstruction.kt
@@ -39,18 +39,18 @@ class MarkCompletedHighwayConstruction : OsmFilterQuestType<CompletedConstructio
 
     override fun createForm() = MarkCompletedConstructionForm()
 
-    override fun applyAnswerTo(answer: CompletedConstructionAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: CompletedConstructionAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is OpeningDateAnswer -> {
-                changes.addOrModify("opening_date", answer.date.toCheckDateString())
+                tags["opening_date"] = answer.date.toCheckDateString()
             }
             is StateAnswer -> {
                 if (answer.value) {
-                    val value = changes.getPreviousValue("construction") ?: "road"
-                    changes.modify("highway", value)
-                    deleteTagsDescribingConstruction(changes)
+                    val value = tags["construction"] ?: "road"
+                    tags["highway"] = value
+                    removeTagsDescribingConstruction(tags)
                 } else {
-                    changes.updateCheckDate()
+                    tags.updateCheckDate()
                 }
             }
         }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing/AddCrossing.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing/AddCrossing.kt
index 496cff4ff5a..d03abadd0e6 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing/AddCrossing.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing/AddCrossing.kt
@@ -10,7 +10,6 @@ import de.westnordost.streetcomplete.data.user.achievements.QuestTypeAchievement
 import de.westnordost.streetcomplete.quests.findNodesAtCrossingsOf
 import de.westnordost.streetcomplete.quests.kerb_height.AddKerbHeightForm
 import de.westnordost.streetcomplete.quests.kerb_height.KerbHeight
-import de.westnordost.streetcomplete.util.isRightOf
 
 class AddCrossing : OsmElementQuestType<KerbHeight> {
 
@@ -70,8 +69,8 @@ class AddCrossing : OsmElementQuestType<KerbHeight> {
 
     override fun createForm() = AddKerbHeightForm()
 
-    override fun applyAnswerTo(answer: KerbHeight, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("kerb", answer.osmValue)
+    override fun applyAnswerTo(answer: KerbHeight, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("kerb", answer.osmValue)
         /* So, we don't assume there is a crossing here for kerb=no and kerb=raised.
 
            As most actual crossings will have at least lowered kerbs, this is a good indicator.
@@ -82,7 +81,7 @@ class AddCrossing : OsmElementQuestType<KerbHeight> {
          */
 
         if (answer.osmValue in listOf("lowered", "flush")) {
-            changes.add("highway", "crossing")
+            tags["highway"] = "crossing"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_island/AddCrossingIsland.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_island/AddCrossingIsland.kt
index 1231cd9a456..3221e51ec1e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_island/AddCrossingIsland.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_island/AddCrossingIsland.kt
@@ -53,7 +53,7 @@ class AddCrossingIsland : OsmElementQuestType<Boolean> {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("crossing:island", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["crossing:island"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_type/AddCrossingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_type/AddCrossingType.kt
index 3767fe807a3..908887df44e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_type/AddCrossingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/crossing_type/AddCrossingType.kt
@@ -60,16 +60,16 @@ class AddCrossingType : OsmElementQuestType<CrossingType> {
 
     override fun createForm() = AddCrossingTypeForm()
 
-    override fun applyAnswerTo(answer: CrossingType, changes: StringMapChangesBuilder) {
-        val previous = changes.getPreviousValue("crossing")
-        if(previous == "island") {
-            changes.modify("crossing", answer.osmValue)
-            changes.addOrModify("crossing:island", "yes")
+    override fun applyAnswerTo(answer: CrossingType, tags: StringMapChangesBuilder) {
+        val crossingValue = tags["crossing"]
+        if(crossingValue == "island") {
+            tags.updateWithCheckDate("crossing", answer.osmValue)
+            tags["crossing:island"] = "yes"
         } else {
-            if (answer == CrossingType.MARKED && previous in listOf("zebra", "marked", "uncontrolled")) {
-                changes.updateCheckDateForKey("crossing")
+            if (answer == CrossingType.MARKED && crossingValue in listOf("zebra", "marked", "uncontrolled")) {
+                tags.updateCheckDateForKey("crossing")
             } else {
-                changes.updateWithCheckDate("crossing", answer.osmValue)
+                tags.updateWithCheckDate("crossing", answer.osmValue)
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/cycleway/AddCycleway.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/cycleway/AddCycleway.kt
index c6c80f62c59..d1663ca402b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/cycleway/AddCycleway.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/cycleway/AddCycleway.kt
@@ -137,45 +137,46 @@ class AddCycleway(private val countryInfos: CountryInfos) : OsmElementQuestType<
 
     override fun createForm() = AddCyclewayForm()
 
-    override fun applyAnswerTo(answer: CyclewayAnswer, changes: StringMapChangesBuilder) {
-
+    override fun applyAnswerTo(answer: CyclewayAnswer, tags: StringMapChangesBuilder) {
         if (answer.left == answer.right) {
-            answer.left?.let { applyCyclewayAnswerTo(it.cycleway, Side.BOTH, 0, changes) }
-            deleteCyclewayAnswerIfExists(Side.LEFT, changes)
-            deleteCyclewayAnswerIfExists(Side.RIGHT, changes)
+            answer.left?.let { applyCyclewayAnswerTo(it.cycleway, Side.BOTH, 0, tags) }
+            deleteCyclewayAnswerIfExists(Side.LEFT, tags)
+            deleteCyclewayAnswerIfExists(Side.RIGHT, tags)
         } else {
-            answer.left?.let { applyCyclewayAnswerTo(it.cycleway, Side.LEFT, it.dirInOneway, changes) }
-            answer.right?.let { applyCyclewayAnswerTo(it.cycleway, Side.RIGHT, it.dirInOneway, changes) }
-            deleteCyclewayAnswerIfExists(Side.BOTH, changes)
+            answer.left?.let { applyCyclewayAnswerTo(it.cycleway, Side.LEFT, it.dirInOneway, tags) }
+            answer.right?.let { applyCyclewayAnswerTo(it.cycleway, Side.RIGHT, it.dirInOneway, tags) }
+            deleteCyclewayAnswerIfExists(Side.BOTH, tags)
         }
-        deleteCyclewayAnswerIfExists(null, changes)
+        deleteCyclewayAnswerIfExists(null, tags)
 
-        applySidewalkAnswerTo(answer.left?.cycleway, answer.right?.cycleway, changes)
+        applySidewalkAnswerTo(answer.left?.cycleway, answer.right?.cycleway, tags)
 
         if (answer.isOnewayNotForCyclists) {
-            changes.addOrModify("oneway:bicycle", "no")
+            tags["oneway:bicycle"] = "no"
         } else {
-            changes.deleteIfPreviously("oneway:bicycle", "no")
+            if (tags["oneway:bicycle"] == "no") {
+                tags.remove("oneway:bicycle")
+            }
         }
 
         // only set the check date if nothing was changed
-        val isNotActuallyChangingAnything = changes.getChanges().all { change ->
+        val isNotActuallyChangingAnything = tags.getChanges().all { change ->
             change is StringMapEntryModify && change.value == change.valueBefore
         }
-        if (isNotActuallyChangingAnything || changes.hasCheckDateForKey("cycleway")) {
-            changes.updateCheckDateForKey("cycleway")
+        if (isNotActuallyChangingAnything || tags.hasCheckDateForKey("cycleway")) {
+            tags.updateCheckDateForKey("cycleway")
         }
     }
 
     /** Just add a sidewalk if we implicitly know from the answer that there is one */
     private fun applySidewalkAnswerTo(
-        cyclewayLeft: Cycleway?, cyclewayRight: Cycleway?, changes: StringMapChangesBuilder) {
+        cyclewayLeft: Cycleway?, cyclewayRight: Cycleway?, tags: StringMapChangesBuilder) {
 
         /* only tag if we know the sidewalk value for both sides (because it is not possible in
            OSM to specify the sidewalk value only for one side. sidewalk:right/left=yes is not
            well established. */
         if (cyclewayLeft?.isOnSidewalk == true && cyclewayRight?.isOnSidewalk == true) {
-            changes.addOrModify("sidewalk", "both")
+            tags["sidewalk"] = "both"
         }
     }
 
@@ -183,8 +184,9 @@ class AddCycleway(private val countryInfos: CountryInfos) : OsmElementQuestType<
         LEFT("left"), RIGHT("right"), BOTH("both")
     }
 
-    private fun applyCyclewayAnswerTo(cycleway: Cycleway, side: Side, dir: Int,
-                                      changes: StringMapChangesBuilder) {
+    private fun applyCyclewayAnswerTo(
+        cycleway: Cycleway, side: Side, dir: Int, tags: StringMapChangesBuilder)
+    {
         val directionValue = when {
             dir > 0 -> "yes"
             dir < 0 -> "-1"
@@ -194,54 +196,55 @@ class AddCycleway(private val countryInfos: CountryInfos) : OsmElementQuestType<
         val cyclewayKey = "cycleway:" + side.value
         when (cycleway) {
             NONE, NONE_NO_ONEWAY -> {
-                changes.addOrModify(cyclewayKey, "no")
+                tags[cyclewayKey] = "no"
             }
             EXCLUSIVE_LANE, ADVISORY_LANE, UNSPECIFIED_LANE -> {
-                changes.addOrModify(cyclewayKey, "lane")
+                tags[cyclewayKey] = "lane"
                 if (directionValue != null) {
-                    changes.addOrModify("$cyclewayKey:oneway", directionValue)
+                    tags["$cyclewayKey:oneway"] = directionValue
+                }
+                if (cycleway == EXCLUSIVE_LANE) {
+                    tags["$cyclewayKey:lane"] = "exclusive"
+                } else if (cycleway == ADVISORY_LANE) {
+                    tags["$cyclewayKey:lane"] = "advisory"
                 }
-                if (cycleway == EXCLUSIVE_LANE)
-                    changes.addOrModify("$cyclewayKey:lane", "exclusive")
-                else if (cycleway == ADVISORY_LANE)
-                    changes.addOrModify("$cyclewayKey:lane","advisory")
             }
             TRACK -> {
-                changes.addOrModify(cyclewayKey, "track")
+                tags[cyclewayKey] = "track"
                 if (directionValue != null) {
-                    changes.addOrModify("$cyclewayKey:oneway", directionValue)
+                    tags["$cyclewayKey:oneway"] = directionValue
                 }
-                if (changes.getPreviousValue("$cyclewayKey:segregated") == "no") {
-                    changes.modify("$cyclewayKey:segregated", "yes")
+                if (tags.containsKey("$cyclewayKey:segregated")) {
+                    tags["$cyclewayKey:segregated"] = "yes"
                 }
             }
             DUAL_TRACK -> {
-                changes.addOrModify(cyclewayKey, "track")
-                changes.addOrModify("$cyclewayKey:oneway", "no")
+                tags[cyclewayKey] = "track"
+                tags["$cyclewayKey:oneway"] = "no"
             }
             DUAL_LANE -> {
-                changes.addOrModify(cyclewayKey, "lane")
-                changes.addOrModify("$cyclewayKey:oneway", "no")
-                changes.addOrModify("$cyclewayKey:lane", "exclusive")
+                tags[cyclewayKey] = "lane"
+                tags["$cyclewayKey:oneway"] = "no"
+                tags["$cyclewayKey:lane"] = "exclusive"
             }
             SIDEWALK_EXPLICIT -> {
                 // https://wiki.openstreetmap.org/wiki/File:Z240GemeinsamerGehundRadweg.jpeg
-                changes.addOrModify(cyclewayKey, "track")
-                changes.addOrModify("$cyclewayKey:segregated", "no")
+                tags[cyclewayKey] = "track"
+                tags["$cyclewayKey:segregated"] = "no"
             }
             PICTOGRAMS -> {
-                changes.addOrModify(cyclewayKey, "shared_lane")
-                changes.addOrModify("$cyclewayKey:lane", "pictogram")
+                tags[cyclewayKey] = "shared_lane"
+                tags["$cyclewayKey:lane"] = "pictogram"
             }
             SUGGESTION_LANE -> {
-                changes.addOrModify(cyclewayKey, "shared_lane")
-                changes.addOrModify("$cyclewayKey:lane", "advisory")
+                tags[cyclewayKey] = "shared_lane"
+                tags["$cyclewayKey:lane"] = "advisory"
             }
             BUSWAY -> {
-                changes.addOrModify(cyclewayKey, "share_busway")
+                tags[cyclewayKey] = "share_busway"
             }
             SEPARATE -> {
-                changes.addOrModify(cyclewayKey, "separate")
+                tags[cyclewayKey] = "separate"
             }
             else -> {
                 throw IllegalArgumentException("Invalid cycleway")
@@ -250,30 +253,34 @@ class AddCycleway(private val countryInfos: CountryInfos) : OsmElementQuestType<
 
         // clear previous cycleway:lane value
         if (!cycleway.isLane) {
-            changes.deleteIfExists("$cyclewayKey:lane")
+            tags.remove("$cyclewayKey:lane")
         }
         // clear previous cycleway:oneway=no value (if not about to set a new value)
         if (cycleway.isOneway && directionValue == null) {
-            changes.deleteIfPreviously("$cyclewayKey:oneway", "no")
+            if (tags["$cyclewayKey:oneway"] == "no") {
+                tags.remove("$cyclewayKey:oneway")
+            }
         }
         // clear previous cycleway:segregated=no value
         if (cycleway != SIDEWALK_EXPLICIT && cycleway != TRACK) {
-            changes.deleteIfPreviously("$cyclewayKey:segregated", "no")
+            if (tags["$cyclewayKey:segregated"] == "no") {
+                tags.remove("$cyclewayKey:segregated")
+            }
         }
     }
 
     /** clear previous answers for the given side */
-    private fun deleteCyclewayAnswerIfExists(side: Side?, changes: StringMapChangesBuilder) {
+    private fun deleteCyclewayAnswerIfExists(side: Side?, tags: StringMapChangesBuilder) {
         val sideVal = if (side == null) "" else ":" + side.value
         val cyclewayKey = "cycleway$sideVal"
 
         // only things are cleared that are set by this quest
         // for example cycleway:surface should only be cleared by a cycleway surface quest etc.
-        changes.deleteIfExists(cyclewayKey)
-        changes.deleteIfExists("$cyclewayKey:lane")
-        changes.deleteIfExists("$cyclewayKey:oneway")
-        changes.deleteIfExists("$cyclewayKey:segregated")
-        changes.deleteIfExists("sidewalk$sideVal:bicycle")
+        tags.remove(cyclewayKey)
+        tags.remove("$cyclewayKey:lane")
+        tags.remove("$cyclewayKey:oneway")
+        tags.remove("$cyclewayKey:segregated")
+        tags.remove("sidewalk$sideVal:bicycle")
     }
 
     companion object {
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/defibrillator/AddIsDefibrillatorIndoor.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/defibrillator/AddIsDefibrillatorIndoor.kt
index 054a5eca94c..13d0a44250b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/defibrillator/AddIsDefibrillatorIndoor.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/defibrillator/AddIsDefibrillatorIndoor.kt
@@ -31,7 +31,7 @@ class AddIsDefibrillatorIndoor : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("indoor", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["indoor"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddHalal.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddHalal.kt
index e99bcd42e94..0440cb62157 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddHalal.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddHalal.kt
@@ -38,10 +38,10 @@ class AddHalal : OsmFilterQuestType<DietAvailabilityAnswer>() {
 
     override fun createForm() = AddDietTypeForm.create(R.string.quest_dietType_explanation_halal)
 
-    override fun applyAnswerTo(answer: DietAvailabilityAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: DietAvailabilityAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is DietAvailability -> changes.updateWithCheckDate("diet:halal", answer.osmValue)
-            NoFood -> changes.addOrModify("food", "no")
+            is DietAvailability -> tags.updateWithCheckDate("diet:halal", answer.osmValue)
+            NoFood -> tags["food"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddKosher.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddKosher.kt
index 49aa17d2b61..978510f29b4 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddKosher.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddKosher.kt
@@ -39,10 +39,10 @@ class AddKosher : OsmFilterQuestType<DietAvailabilityAnswer>() {
 
     override fun createForm() = AddDietTypeForm.create(R.string.quest_dietType_explanation_kosher)
 
-    override fun applyAnswerTo(answer: DietAvailabilityAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: DietAvailabilityAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is DietAvailability -> changes.updateWithCheckDate("diet:kosher", answer.osmValue)
-            NoFood -> changes.addOrModify("food", "no")
+            is DietAvailability -> tags.updateWithCheckDate("diet:kosher", answer.osmValue)
+            NoFood -> tags["food"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegan.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegan.kt
index b6d11aa299a..5ecb546b500 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegan.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegan.kt
@@ -43,10 +43,10 @@ class AddVegan : OsmFilterQuestType<DietAvailabilityAnswer>() {
 
     override fun createForm() = AddDietTypeForm.create(R.string.quest_dietType_explanation_vegan)
 
-    override fun applyAnswerTo(answer: DietAvailabilityAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: DietAvailabilityAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is DietAvailability -> changes.updateWithCheckDate("diet:vegan", answer.osmValue)
-            NoFood -> changes.addOrModify("food", "no")
+            is DietAvailability -> tags.updateWithCheckDate("diet:vegan", answer.osmValue)
+            NoFood -> tags["food"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegetarian.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegetarian.kt
index b4b65613b10..94734d9b3da 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegetarian.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/diet_type/AddVegetarian.kt
@@ -40,15 +40,15 @@ class AddVegetarian : OsmFilterQuestType<DietAvailabilityAnswer>() {
 
     override fun createForm() = AddDietTypeForm.create(R.string.quest_dietType_explanation_vegetarian)
 
-    override fun applyAnswerTo(answer: DietAvailabilityAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: DietAvailabilityAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is DietAvailability -> {
-                changes.updateWithCheckDate("diet:vegetarian", answer.osmValue)
+                tags.updateWithCheckDate("diet:vegetarian", answer.osmValue)
                 if (answer.osmValue == "no") {
-                    changes.deleteIfExists("diet:vegan")
+                    tags.remove("diet:vegan")
                 }
             }
-            NoFood -> changes.addOrModify("food", "no")
+            NoFood -> tags["food"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/drinking_water/AddDrinkingWater.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/drinking_water/AddDrinkingWater.kt
index 440412056a3..e7a06b9ea96 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/drinking_water/AddDrinkingWater.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/drinking_water/AddDrinkingWater.kt
@@ -43,8 +43,8 @@ class AddDrinkingWater : OsmFilterQuestType<DrinkingWater>() {
 
     override fun createForm() = AddDrinkingWaterForm()
 
-    override fun applyAnswerTo(answer: DrinkingWater, changes: StringMapChangesBuilder) {
-        changes.addOrModify("drinking_water", answer.osmValue)
-        answer.osmLegalValue?.let { changes.addOrModify("drinking_water:legal", it) }
+    override fun applyAnswerTo(answer: DrinkingWater, tags: StringMapChangesBuilder) {
+        tags["drinking_water"] = answer.osmValue
+        answer.osmLegalValue?.let { tags["drinking_water:legal"] = it }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/existence/CheckExistence.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/existence/CheckExistence.kt
index 4c98591fdf7..2f8ad86a71b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/existence/CheckExistence.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/existence/CheckExistence.kt
@@ -115,8 +115,8 @@ class CheckExistence(
 
     override fun createForm() = CheckExistenceForm()
 
-    override fun applyAnswerTo(answer: Unit, changes: StringMapChangesBuilder) {
-        changes.updateCheckDate()
+    override fun applyAnswerTo(answer: Unit, tags: StringMapChangesBuilder) {
+        tags.updateCheckDate()
     }
 
     private fun lastChecked(yearsAgo: Double): String = """
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessMotorVehicle.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessMotorVehicle.kt
index 4a0fbc8c199..7299c6527f7 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessMotorVehicle.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessMotorVehicle.kt
@@ -26,7 +26,7 @@ class AddFerryAccessMotorVehicle : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("motor_vehicle", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["motor_vehicle"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessPedestrian.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessPedestrian.kt
index 6d1a72665cf..2a83afde28e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessPedestrian.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/ferry/AddFerryAccessPedestrian.kt
@@ -26,7 +26,7 @@ class AddFerryAccessPedestrian : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("foot", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["foot"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant/AddFireHydrantType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant/AddFireHydrantType.kt
index 64ec7071f06..5f14eda0982 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant/AddFireHydrantType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant/AddFireHydrantType.kt
@@ -25,7 +25,7 @@ class AddFireHydrantType : OsmFilterQuestType<FireHydrantType>() {
 
     override fun createForm() = AddFireHydrantTypeForm()
 
-    override fun applyAnswerTo(answer: FireHydrantType, changes: StringMapChangesBuilder) {
-        changes.add("fire_hydrant:type", answer.osmValue)
+    override fun applyAnswerTo(answer: FireHydrantType, tags: StringMapChangesBuilder) {
+        tags["fire_hydrant:type"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_diameter/AddFireHydrantDiameter.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_diameter/AddFireHydrantDiameter.kt
index 30ef99029fb..f888981c075 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_diameter/AddFireHydrantDiameter.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_diameter/AddFireHydrantDiameter.kt
@@ -49,10 +49,10 @@ class AddFireHydrantDiameter : OsmFilterQuestType<FireHydrantDiameterAnswer>() {
 
     override fun createForm() = AddFireHydrantDiameterForm()
 
-    override fun applyAnswerTo(answer: FireHydrantDiameterAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: FireHydrantDiameterAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
-            is FireHydrantDiameter ->       changes.add("fire_hydrant:diameter", answer.toOsmValue())
-            is NoFireHydrantDiameterSign -> changes.add("fire_hydrant:diameter:signed", "no")
+            is FireHydrantDiameter ->       tags["fire_hydrant:diameter"] = answer.toOsmValue()
+            is NoFireHydrantDiameterSign -> tags["fire_hydrant:diameter:signed"] = "no"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_position/AddFireHydrantPosition.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_position/AddFireHydrantPosition.kt
index 0823380985c..a79fe8f7620 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_position/AddFireHydrantPosition.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/fire_hydrant_position/AddFireHydrantPosition.kt
@@ -29,7 +29,7 @@ class AddFireHydrantPosition : OsmFilterQuestType<FireHydrantPosition>() {
 
     override fun createForm() = AddFireHydrantPositionForm()
 
-    override fun applyAnswerTo(answer: FireHydrantPosition, changes: StringMapChangesBuilder) {
-        changes.add("fire_hydrant:position", answer.osmValue)
+    override fun applyAnswerTo(answer: FireHydrantPosition, tags: StringMapChangesBuilder) {
+        tags["fire_hydrant:position"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/foot/AddProhibitedForPedestrians.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/foot/AddProhibitedForPedestrians.kt
index 5f29b27f294..adffce431ab 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/foot/AddProhibitedForPedestrians.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/foot/AddProhibitedForPedestrians.kt
@@ -47,13 +47,13 @@ class AddProhibitedForPedestrians : OsmFilterQuestType<ProhibitedForPedestriansA
 
     override fun createForm() = AddProhibitedForPedestriansForm()
 
-    override fun applyAnswerTo(answer: ProhibitedForPedestriansAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: ProhibitedForPedestriansAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             // the question is whether it is prohibited, so YES -> foot=no etc
-            YES -> changes.add("foot", "no")
-            NO -> changes.add("foot", "yes")
-            HAS_SEPARATE_SIDEWALK -> changes.modify("sidewalk", "separate")
-            IS_LIVING_STREET -> changes.modify("highway", "living_street")
+            YES -> tags["foot"] = "no"
+            NO -> tags["foot"] = "yes"
+            HAS_SEPARATE_SIDEWALK -> tags["sidewalk"] = "separate"
+            IS_LIVING_STREET -> tags["highway"] = "living_street"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/fuel_service/AddFuelSelfService.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/fuel_service/AddFuelSelfService.kt
index 2623bbc03a6..cea59d8763f 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/fuel_service/AddFuelSelfService.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/fuel_service/AddFuelSelfService.kt
@@ -35,7 +35,7 @@ class AddFuelSelfService : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("self_service", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["self_service"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/general_fee/AddGeneralFee.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/general_fee/AddGeneralFee.kt
index 1f83a95aa76..78d31ed6e40 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/general_fee/AddGeneralFee.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/general_fee/AddGeneralFee.kt
@@ -26,7 +26,7 @@ class AddGeneralFee : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("fee", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["fee"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/handrail/AddHandrail.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/handrail/AddHandrail.kt
index 92940d81e01..c50b41e9a3d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/handrail/AddHandrail.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/handrail/AddHandrail.kt
@@ -35,12 +35,12 @@ class AddHandrail : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("handrail", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("handrail", answer.toYesNo())
         if (!answer) {
-            changes.deleteIfExists("handrail:left")
-            changes.deleteIfExists("handrail:right")
-            changes.deleteIfExists("handrail:center")
+            tags.remove("handrail:left")
+            tags.remove("handrail:right")
+            tags.remove("handrail:center")
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/internet_access/AddInternetAccess.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/internet_access/AddInternetAccess.kt
index 46261823962..e2f9a44b6da 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/internet_access/AddInternetAccess.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/internet_access/AddInternetAccess.kt
@@ -36,7 +36,7 @@ class AddInternetAccess : OsmFilterQuestType<InternetAccess>() {
 
     override fun createForm() = AddInternetAccessForm()
 
-    override fun applyAnswerTo(answer: InternetAccess, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("internet_access", answer.osmValue)
+    override fun applyAnswerTo(answer: InternetAccess, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("internet_access", answer.osmValue)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/kerb_height/AddKerbHeight.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/kerb_height/AddKerbHeight.kt
index 040ee2c81a4..8504fdb76f1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/kerb_height/AddKerbHeight.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/kerb_height/AddKerbHeight.kt
@@ -40,8 +40,8 @@ class AddKerbHeight : OsmElementQuestType<KerbHeight> {
 
     override fun createForm() = AddKerbHeightForm()
 
-    override fun applyAnswerTo(answer: KerbHeight, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("kerb", answer.osmValue)
-        changes.addOrModify("barrier", "kerb")
+    override fun applyAnswerTo(answer: KerbHeight, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("kerb", answer.osmValue)
+        tags["barrier"] = "kerb"
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/lanes/AddLanes.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/lanes/AddLanes.kt
index 5502a779e54..882908377f7 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/lanes/AddLanes.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/lanes/AddLanes.kt
@@ -34,47 +34,59 @@ class AddLanes : OsmFilterQuestType<LanesAnswer>() {
 
     override fun createForm() = AddLanesForm()
 
-    override fun applyAnswerTo(answer: LanesAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: LanesAnswer, tags: StringMapChangesBuilder) {
 
         val laneCount = answer.total
 
-        laneCount?.let { changes.addOrModify("lanes", it.toString()) }
+        laneCount?.let { tags["lanes"] = it.toString() }
 
         val isMarked = answer !is UnmarkedLanes
         // if there is just one lane, the information whether it is marked or not is irrelevant
         // (if there are no more than one lane, there are no markings to separate them)
         when {
-            laneCount == 1 -> changes.deleteIfExists("lane_markings")
-            isMarked ->       changes.modifyIfExists("lane_markings", "yes")
-            else ->           changes.addOrModify("lane_markings", "no")
+            laneCount == 1 -> {
+                tags.remove("lane_markings")
+            }
+            isMarked -> {
+                if (tags.containsKey("lane_markings")) {
+                    tags["lane_markings"] = "yes"
+                }
+            }
+            else -> {
+                tags["lane_markings"] = "no"
+            }
         }
 
         val hasCenterLeftTurnLane = answer is MarkedLanesSides && answer.centerLeftTurnLane
         if (hasCenterLeftTurnLane) {
-            changes.addOrModify("lanes:both_ways", "1")
-            changes.addOrModify("turn:lanes:both_ways","left")
+            tags["lanes:both_ways"] = "1"
+            tags["turn:lanes:both_ways"] = "left"
         } else {
-            changes.deleteIfExists("lanes:both_ways")
-            changes.deleteIfExists("turn:lanes:both_ways")
+            tags.remove("lanes:both_ways")
+            tags.remove("turn:lanes:both_ways")
         }
 
         when(answer) {
             is MarkedLanes -> {
                 if (answer.count == 1) {
-                    changes.deleteIfExists("lanes:forward")
-                    changes.deleteIfExists("lanes:backward")
+                    tags.remove("lanes:forward")
+                    tags.remove("lanes:backward")
                 } else {
-                    changes.modifyIfExists("lanes:forward", (answer.count / 2).toString())
-                    changes.modifyIfExists("lanes:backward", (answer.count / 2).toString())
+                    if (tags.containsKey("lanes:forward")) {
+                        tags["lanes:forward"] = (answer.count / 2).toString()
+                    }
+                    if (tags.containsKey("lanes:backward")) {
+                        tags["lanes:backward"] = (answer.count / 2).toString()
+                    }
                 }
             }
             is UnmarkedLanes -> {
-                changes.deleteIfExists("lanes:forward")
-                changes.deleteIfExists("lanes:backward")
+                tags.remove("lanes:forward")
+                tags.remove("lanes:backward")
             }
             is MarkedLanesSides -> {
-                changes.addOrModify("lanes:forward", answer.forward.toString())
-                changes.addOrModify("lanes:backward", answer.backward.toString())
+                tags["lanes:forward"] = answer.forward.toString()
+                tags["lanes:backward"] = answer.backward.toString()
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/leaf_detail/AddForestLeafType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/leaf_detail/AddForestLeafType.kt
index ecb2177d3f1..7aefc683e11 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/leaf_detail/AddForestLeafType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/leaf_detail/AddForestLeafType.kt
@@ -49,7 +49,7 @@ class AddForestLeafType : OsmElementQuestType<ForestLeafType> {
 
     override fun createForm() = AddForestLeafTypeForm()
 
-    override fun applyAnswerTo(answer: ForestLeafType, changes: StringMapChangesBuilder) {
-        changes.add("leaf_type", answer.osmValue)
+    override fun applyAnswerTo(answer: ForestLeafType, tags: StringMapChangesBuilder) {
+        tags["leaf_type"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/level/AddLevel.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/level/AddLevel.kt
index 0ae43d5eae0..a480f6f9595 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/level/AddLevel.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/level/AddLevel.kt
@@ -113,7 +113,7 @@ class AddLevel : OsmElementQuestType<String> {
 
     override fun createForm() = AddLevelForm()
 
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {
-        changes.add("level", answer)
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {
+        tags["level"] = answer
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/max_height/AddMaxHeight.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/max_height/AddMaxHeight.kt
index b7eb174e9a0..88544e39cda 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/max_height/AddMaxHeight.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/max_height/AddMaxHeight.kt
@@ -129,13 +129,13 @@ class AddMaxHeight : OsmElementQuestType<MaxHeightAnswer> {
 
     override fun createForm() = AddMaxHeightForm()
 
-    override fun applyAnswerTo(answer: MaxHeightAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: MaxHeightAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is MaxHeight -> {
-                changes.add("maxheight", answer.value.toString())
+                tags["maxheight"] = answer.value.toString()
             }
             is NoMaxHeightSign -> {
-                changes.add("maxheight", if (answer.isTallEnough) "default" else "below_default")
+                tags["maxheight"] = if (answer.isTallEnough) "default" else "below_default"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/max_speed/AddMaxSpeed.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/max_speed/AddMaxSpeed.kt
index eb610010e71..f722eb670b3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/max_speed/AddMaxSpeed.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/max_speed/AddMaxSpeed.kt
@@ -42,31 +42,31 @@ class AddMaxSpeed : OsmFilterQuestType<MaxSpeedAnswer>() {
 
     override fun createForm() = AddMaxSpeedForm()
 
-    override fun applyAnswerTo(answer: MaxSpeedAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: MaxSpeedAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is MaxSpeedSign -> {
-                changes.add("maxspeed", answer.value.toString())
-                changes.add("maxspeed:type", "sign")
+                tags["maxspeed"] = answer.value.toString()
+                tags["maxspeed:type"] = "sign"
             }
             is MaxSpeedZone -> {
-                changes.add("maxspeed", answer.value.toString())
-                changes.add("maxspeed:type", answer.countryCode + ":" + answer.roadType)
+                tags["maxspeed"] = answer.value.toString()
+                tags["maxspeed:type"] = answer.countryCode + ":" + answer.roadType
             }
             is AdvisorySpeedSign -> {
-                changes.add("maxspeed:advisory", answer.value.toString())
-                changes.add("maxspeed:type:advisory", "sign")
+                tags["maxspeed:advisory"] = answer.value.toString()
+                tags["maxspeed:type:advisory"] = "sign"
             }
             is IsLivingStreet -> {
-                changes.modify("highway", "living_street")
+                tags["highway"] = "living_street"
             }
             is ImplicitMaxSpeed -> {
-                changes.add("maxspeed:type", answer.countryCode + ":" + answer.roadType)
+                tags["maxspeed:type"] = answer.countryCode + ":" + answer.roadType
                 // Lit is either already set or has been answered by the user, so this wouldn't change the value of the lit tag
                 if (answer.lit != null) {
                     if (answer.lit) {
-                        changes.addOrModify("lit", "yes")
+                        tags["lit"] = "yes"
                     } else {
-                        changes.addOrModify("lit", "no")
+                        tags["lit"] = "no"
                     }
                 }
             }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/max_weight/AddMaxWeight.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/max_weight/AddMaxWeight.kt
index d4c8732b9c9..d207c80febe 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/max_weight/AddMaxWeight.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/max_weight/AddMaxWeight.kt
@@ -36,13 +36,13 @@ class AddMaxWeight : OsmFilterQuestType<MaxWeightAnswer>() {
 
     override fun createForm() = AddMaxWeightForm()
 
-    override fun applyAnswerTo(answer: MaxWeightAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: MaxWeightAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is MaxWeight -> {
-                changes.add(answer.sign.osmKey, answer.weight.toString())
+                tags[answer.sign.osmKey] = answer.weight.toString()
             }
             is NoMaxWeightSign -> {
-                changes.addOrModify("maxweight:signed", "no")
+                tags["maxweight:signed"] = "no"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_capacity/AddMotorcycleParkingCapacity.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_capacity/AddMotorcycleParkingCapacity.kt
index da09e96ca4f..5221b2dea86 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_capacity/AddMotorcycleParkingCapacity.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_capacity/AddMotorcycleParkingCapacity.kt
@@ -30,7 +30,7 @@ class AddMotorcycleParkingCapacity : OsmFilterQuestType<Int>() {
     override fun getHighlightedElements(element: Element, getMapData: () -> MapDataWithGeometry) =
         getMapData().filter("nodes, ways with amenity = motorcycle_parking")
 
-    override fun applyAnswerTo(answer: Int, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("capacity", answer.toString())
+    override fun applyAnswerTo(answer: Int, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("capacity", answer.toString())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_cover/AddMotorcycleParkingCover.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_cover/AddMotorcycleParkingCover.kt
index da373e60b3f..c2ebf187f18 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_cover/AddMotorcycleParkingCover.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/motorcycle_parking_cover/AddMotorcycleParkingCover.kt
@@ -32,7 +32,7 @@ class AddMotorcycleParkingCover : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("covered", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["covered"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/oneway/AddOneway.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/oneway/AddOneway.kt
index ec55642dcd5..137ab5f9216 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/oneway/AddOneway.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/oneway/AddOneway.kt
@@ -79,11 +79,11 @@ class AddOneway : OsmElementQuestType<OnewayAnswer> {
 
     override fun createForm() = AddOnewayForm()
 
-    override fun applyAnswerTo(answer: OnewayAnswer, changes: StringMapChangesBuilder) {
-        changes.add("oneway", when(answer) {
+    override fun applyAnswerTo(answer: OnewayAnswer, tags: StringMapChangesBuilder) {
+        tags["oneway"] = when(answer) {
             FORWARD -> "yes"
             BACKWARD -> "-1"
             NO_ONEWAY -> "no"
-        })
+        }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/oneway_suspects/AddSuspectedOneway.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/oneway_suspects/AddSuspectedOneway.kt
index c1ef41e3efd..25715e873b5 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/oneway_suspects/AddSuspectedOneway.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/oneway_suspects/AddSuspectedOneway.kt
@@ -139,11 +139,11 @@ class AddSuspectedOneway(
 
     override fun createForm() = AddSuspectedOnewayForm()
 
-    override fun applyAnswerTo(answer: SuspectedOnewayAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: SuspectedOnewayAnswer, tags: StringMapChangesBuilder) {
         if (!answer.isOneway) {
-            changes.add("oneway", "no")
+            tags["oneway"] = "no"
         } else {
-            changes.add("oneway", if (db.isForward(answer.wayId)!!) "yes" else "-1")
+            tags["oneway"] = if (db.isForward(answer.wayId)!!) "yes" else "-1"
         }
     }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/opening_hours/AddOpeningHours.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/opening_hours/AddOpeningHours.kt
index 37e9ac169a4..38296e2c5ae 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/opening_hours/AddOpeningHours.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/opening_hours/AddOpeningHours.kt
@@ -155,24 +155,20 @@ class AddOpeningHours (
 
     override fun createForm() = AddOpeningHoursForm()
 
-    override fun applyAnswerTo(answer: OpeningHoursAnswer, changes: StringMapChangesBuilder) {
-        when(answer) {
-            is RegularOpeningHours -> {
-                changes.updateWithCheckDate("opening_hours", answer.hours.toString())
-                changes.deleteIfPreviously("opening_hours:signed", "no")
-            }
-            is AlwaysOpen          -> {
-                changes.updateWithCheckDate("opening_hours", "24/7")
-                changes.deleteIfPreviously("opening_hours:signed", "no")
-            }
-            is DescribeOpeningHours -> {
-                val text = answer.text.replace("\"","")
-                changes.updateWithCheckDate("opening_hours", "\"$text\"")
-                changes.deleteIfPreviously("opening_hours:signed", "no")
+    override fun applyAnswerTo(answer: OpeningHoursAnswer, tags: StringMapChangesBuilder) {
+        if (answer is NoOpeningHoursSign) {
+            tags["opening_hours:signed"] = "no"
+            // don't delete current opening hours: these may be the correct hours, they are just not visible anywhere on the door
+        } else {
+            val openingHoursString = when(answer) {
+                is RegularOpeningHours  -> answer.hours.toString()
+                is AlwaysOpen           -> "24/7"
+                is DescribeOpeningHours -> "\"" + answer.text.replace("\"","") + "\""
+                NoOpeningHoursSign      -> throw IllegalStateException()
             }
-            is NoOpeningHoursSign  -> {
-                changes.addOrModify("opening_hours:signed", "no")
-                // don't delete current opening hours: these may be the correct hours, they are just not visible anywhere on the door
+            tags.updateWithCheckDate("opening_hours", openingHoursString)
+            if (tags["opening_hours:signed"] == "no") {
+                tags.remove("opening_hours:signed")
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/orchard_produce/AddOrchardProduce.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/orchard_produce/AddOrchardProduce.kt
index 32ca621070d..a18d9d368bc 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/orchard_produce/AddOrchardProduce.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/orchard_produce/AddOrchardProduce.kt
@@ -22,12 +22,12 @@ class AddOrchardProduce : OsmFilterQuestType<List<OrchardProduce>>() {
 
     override fun createForm() = AddOrchardProduceForm()
 
-    override fun applyAnswerTo(answer: List<OrchardProduce>, changes: StringMapChangesBuilder) {
-        changes.add("produce", answer.joinToString(";") { it.osmValue })
+    override fun applyAnswerTo(answer: List<OrchardProduce>, tags: StringMapChangesBuilder) {
+        tags["produce"] = answer.joinToString(";") { it.osmValue }
 
         val landuse = answer.singleOrNull()?.osmLanduseValue
         if (landuse != null) {
-            changes.modify("landuse", landuse)
+            tags["landuse"] = landuse
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddBikeParkingAccess.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddBikeParkingAccess.kt
index 63d300b5208..33149c83ba0 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddBikeParkingAccess.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddBikeParkingAccess.kt
@@ -25,7 +25,7 @@ class AddBikeParkingAccess : OsmFilterQuestType<ParkingAccess>() {
 
     override fun createForm() = AddParkingAccessForm()
 
-    override fun applyAnswerTo(answer: ParkingAccess, changes: StringMapChangesBuilder) {
-        changes.addOrModify("access", answer.osmValue)
+    override fun applyAnswerTo(answer: ParkingAccess, tags: StringMapChangesBuilder) {
+        tags["access"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddParkingAccess.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddParkingAccess.kt
index 5846f2b2d8a..8be20a02315 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddParkingAccess.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_access/AddParkingAccess.kt
@@ -33,7 +33,7 @@ class AddParkingAccess : OsmFilterQuestType<ParkingAccess>() {
 
     override fun createForm() = AddParkingAccessForm()
 
-    override fun applyAnswerTo(answer: ParkingAccess, changes: StringMapChangesBuilder) {
-        changes.addOrModify("access", answer.osmValue)
+    override fun applyAnswerTo(answer: ParkingAccess, tags: StringMapChangesBuilder) {
+        tags["access"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddBikeParkingFee.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddBikeParkingFee.kt
index 4a8ae00adf6..cfa742c96a1 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddBikeParkingFee.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddBikeParkingFee.kt
@@ -31,5 +31,5 @@ class AddBikeParkingFee : OsmFilterQuestType<Fee>() {
 
     override fun createForm() = AddParkingFeeForm()
 
-    override fun applyAnswerTo(answer: Fee, changes: StringMapChangesBuilder) = answer.applyTo(changes)
+    override fun applyAnswerTo(answer: Fee, tags: StringMapChangesBuilder) = answer.applyTo(tags)
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddParkingFee.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddParkingFee.kt
index 68eacf704cb..4e528ecf3ae 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddParkingFee.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/AddParkingFee.kt
@@ -25,5 +25,5 @@ class AddParkingFee : OsmFilterQuestType<Fee>() {
 
     override fun createForm() = AddParkingFeeForm()
 
-    override fun applyAnswerTo(answer: Fee, changes: StringMapChangesBuilder) = answer.applyTo(changes)
+    override fun applyAnswerTo(answer: Fee, tags: StringMapChangesBuilder) = answer.applyTo(tags)
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/Fee.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/Fee.kt
index 3598de28e5d..feb9df675d9 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/Fee.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_fee/Fee.kt
@@ -12,23 +12,23 @@ object HasNoFee : Fee()
 data class HasFeeAtHours(val openingHours: OpeningHoursRuleList) : Fee()
 data class HasFeeExceptAtHours(val openingHours: OpeningHoursRuleList) : Fee()
 
-fun Fee.applyTo(changes: StringMapChangesBuilder) {
+fun Fee.applyTo(tags: StringMapChangesBuilder) {
     when(this) {
         is HasFee   -> {
-            changes.updateWithCheckDate("fee", "yes")
-            changes.deleteIfExists("fee:conditional")
+            tags.updateWithCheckDate("fee", "yes")
+            tags.remove("fee:conditional")
         }
         is HasNoFee -> {
-            changes.updateWithCheckDate("fee", "no")
-            changes.deleteIfExists("fee:conditional")
+            tags.updateWithCheckDate("fee", "no")
+            tags.remove("fee:conditional")
         }
         is HasFeeAtHours -> {
-            changes.updateWithCheckDate("fee", "no")
-            changes.addOrModify("fee:conditional", "yes @ (${openingHours})")
+            tags.updateWithCheckDate("fee", "no")
+            tags["fee:conditional"] = "yes @ (${openingHours})"
         }
         is HasFeeExceptAtHours -> {
-            changes.updateWithCheckDate("fee", "yes")
-            changes.addOrModify("fee:conditional", "no @ (${openingHours})")
+            tags.updateWithCheckDate("fee", "yes")
+            tags["fee:conditional"] = "no @ (${openingHours})"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_type/AddParkingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_type/AddParkingType.kt
index 3f541134534..37f150db0e2 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/parking_type/AddParkingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/parking_type/AddParkingType.kt
@@ -22,7 +22,7 @@ class AddParkingType : OsmFilterQuestType<ParkingType>() {
 
     override fun createForm() = AddParkingTypeForm()
 
-    override fun applyAnswerTo(answer: ParkingType, changes: StringMapChangesBuilder) {
-        changes.addOrModify("parking", answer.osmValue)
+    override fun applyAnswerTo(answer: ParkingType, tags: StringMapChangesBuilder) {
+        tags["parking"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/picnic_table_cover/AddPicnicTableCover.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/picnic_table_cover/AddPicnicTableCover.kt
index 48cb72dcde9..8b2b6cf5727 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/picnic_table_cover/AddPicnicTableCover.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/picnic_table_cover/AddPicnicTableCover.kt
@@ -32,7 +32,7 @@ class AddPicnicTableCover : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("covered", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["covered"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/pitch_lit/AddPitchLit.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/pitch_lit/AddPitchLit.kt
index 5e6ca1c526a..1a53611d6ed 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/pitch_lit/AddPitchLit.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/pitch_lit/AddPitchLit.kt
@@ -35,7 +35,7 @@ class AddPitchLit : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("lit", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("lit", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/place_name/AddPlaceName.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/place_name/AddPlaceName.kt
index 8748e7a82de..ee41b005be0 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/place_name/AddPlaceName.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/place_name/AddPlaceName.kt
@@ -120,10 +120,10 @@ class AddPlaceName(
 
     override fun createForm() = AddPlaceNameForm()
 
-    override fun applyAnswerTo(answer: PlaceNameAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: PlaceNameAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is NoPlaceNameSign -> {
-                changes.add("name:signed", "no")
+                tags["name:signed"] = "no"
             }
             is PlaceName -> {
                 for ((languageTag, name) in answer.localizedNames) {
@@ -132,7 +132,7 @@ class AddPlaceName(
                         "international" -> "int_name"
                         else -> "name:$languageTag"
                     }
-                    changes.addOrModify(key, name)
+                    tags[key] = name
                 }
             }
         }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/playground_access/AddPlaygroundAccess.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/playground_access/AddPlaygroundAccess.kt
index d31e1e68831..0350eff489c 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/playground_access/AddPlaygroundAccess.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/playground_access/AddPlaygroundAccess.kt
@@ -4,7 +4,6 @@ import de.westnordost.streetcomplete.R
 import de.westnordost.streetcomplete.data.osm.osmquests.OsmFilterQuestType
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
 import de.westnordost.streetcomplete.data.user.achievements.QuestTypeAchievement.CITIZEN
-import de.westnordost.streetcomplete.quests.YesNoQuestAnswerFragment
 
 class AddPlaygroundAccess : OsmFilterQuestType<PlaygroundAccess>() {
 
@@ -19,7 +18,7 @@ class AddPlaygroundAccess : OsmFilterQuestType<PlaygroundAccess>() {
 
     override fun createForm() = AddPlaygroundAccessForm()
 
-    override fun applyAnswerTo(answer: PlaygroundAccess, changes: StringMapChangesBuilder) {
-        changes.addOrModify("access", answer.osmValue)
+    override fun applyAnswerTo(answer: PlaygroundAccess, tags: StringMapChangesBuilder) {
+        tags["access"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/police_type/AddPoliceType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/police_type/AddPoliceType.kt
index d49f266da8c..a9b0b8269e0 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/police_type/AddPoliceType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/police_type/AddPoliceType.kt
@@ -24,8 +24,8 @@ class AddPoliceType : OsmFilterQuestType<PoliceType>() {
 
     override fun createForm() = AddPoliceTypeForm()
 
-    override fun applyAnswerTo(answer: PoliceType, changes: StringMapChangesBuilder) {
-        changes.add("operator", answer.operatorName)
-        changes.addOrModify("operator:wikidata", answer.wikidata)
+    override fun applyAnswerTo(answer: PoliceType, tags: StringMapChangesBuilder) {
+        tags["operator"] = answer.operatorName
+        tags["operator:wikidata"] = answer.wikidata
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_collection_times/AddPostboxCollectionTimes.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_collection_times/AddPostboxCollectionTimes.kt
index 921de0d97fc..dc0f67b36cd 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_collection_times/AddPostboxCollectionTimes.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_collection_times/AddPostboxCollectionTimes.kt
@@ -96,13 +96,13 @@ class AddPostboxCollectionTimes : OsmElementQuestType<CollectionTimesAnswer> {
 
     override fun createForm() = AddPostboxCollectionTimesForm()
 
-    override fun applyAnswerTo(answer: CollectionTimesAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: CollectionTimesAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is NoCollectionTimesSign -> {
-                changes.add("collection_times:signed", "no")
+                tags["collection_times:signed"] = "no"
             }
             is CollectionTimes -> {
-                changes.updateWithCheckDate("collection_times", answer.times.toString())
+                tags.updateWithCheckDate("collection_times", answer.times.toString())
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_ref/AddPostboxRef.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_ref/AddPostboxRef.kt
index 29fa2cf9227..3da91a5af70 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_ref/AddPostboxRef.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_ref/AddPostboxRef.kt
@@ -40,10 +40,10 @@ class AddPostboxRef : OsmFilterQuestType<PostboxRefAnswer>() {
 
     override fun createForm() = AddPostboxRefForm()
 
-    override fun applyAnswerTo(answer: PostboxRefAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: PostboxRefAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is NoRefVisible -> changes.add("ref:signed", "no")
-            is Ref ->          changes.add("ref", answer.ref)
+            is NoRefVisible -> tags["ref:signed"] = "no"
+            is Ref ->          tags["ref"] = answer.ref
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_royal_cypher/AddPostboxRoyalCypher.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_royal_cypher/AddPostboxRoyalCypher.kt
index 6cad224d016..66b38480387 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_royal_cypher/AddPostboxRoyalCypher.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/postbox_royal_cypher/AddPostboxRoyalCypher.kt
@@ -32,7 +32,7 @@ class AddPostboxRoyalCypher : OsmFilterQuestType<PostboxRoyalCypher>() {
 
     override fun createForm() = AddPostboxRoyalCypherForm()
 
-    override fun applyAnswerTo(answer: PostboxRoyalCypher, changes: StringMapChangesBuilder) {
-        changes.add("royal_cypher", answer.osmValue)
+    override fun applyAnswerTo(answer: PostboxRoyalCypher, tags: StringMapChangesBuilder) {
+        tags["royal_cypher"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/powerpoles_material/AddPowerPolesMaterial.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/powerpoles_material/AddPowerPolesMaterial.kt
index 6c4d1037aac..79c42409250 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/powerpoles_material/AddPowerPolesMaterial.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/powerpoles_material/AddPowerPolesMaterial.kt
@@ -36,7 +36,7 @@ class AddPowerPolesMaterial : OsmFilterQuestType<PowerPolesMaterial>() {
 
     override fun createForm() = AddPowerPolesMaterialForm()
 
-    override fun applyAnswerTo(answer: PowerPolesMaterial, changes: StringMapChangesBuilder) {
-        changes.add("material", answer.osmValue)
+    override fun applyAnswerTo(answer: PowerPolesMaterial, tags: StringMapChangesBuilder) {
+        tags["material"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/railway_crossing/AddRailwayCrossingBarrier.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/railway_crossing/AddRailwayCrossingBarrier.kt
index 2005351833c..7b74cfe1367 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/railway_crossing/AddRailwayCrossingBarrier.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/railway_crossing/AddRailwayCrossingBarrier.kt
@@ -49,10 +49,10 @@ class AddRailwayCrossingBarrier : OsmElementQuestType<RailwayCrossingBarrier> {
 
     override fun createForm() = AddRailwayCrossingBarrierForm()
 
-    override fun applyAnswerTo(answer: RailwayCrossingBarrier, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: RailwayCrossingBarrier, tags: StringMapChangesBuilder) {
         if (answer.osmValue != null) {
-            changes.deleteIfExists("crossing:chicane")
-            changes.updateWithCheckDate("crossing:barrier", answer.osmValue)
+            tags.remove("crossing:chicane")
+            tags.updateWithCheckDate("crossing:barrier", answer.osmValue)
         }
         /* The mere existence of the crossing:chicane tag seems to imply that there could be a
         *  barrier additionally to the chicane.
@@ -60,8 +60,8 @@ class AddRailwayCrossingBarrier : OsmElementQuestType<RailwayCrossingBarrier> {
         *  in the app corresponds to the below tagging - it shows just a chicane and no further
         *  barriers */
         if (answer == RailwayCrossingBarrier.CHICANE) {
-            changes.updateWithCheckDate("crossing:barrier", "no")
-            changes.addOrModify("crossing:chicane", "yes")
+            tags.updateWithCheckDate("crossing:barrier", "no")
+            tags["crossing:chicane"] = "yes"
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling/AddRecyclingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling/AddRecyclingType.kt
index e3930405c40..090e8e27a48 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling/AddRecyclingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling/AddRecyclingType.kt
@@ -27,16 +27,18 @@ class AddRecyclingType : OsmFilterQuestType<RecyclingType>() {
 
     override fun createForm() = AddRecyclingTypeForm()
 
-    override fun applyAnswerTo(answer: RecyclingType, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: RecyclingType, tags: StringMapChangesBuilder) {
         when (answer) {
-            RECYCLING_CENTRE -> changes.add("recycling_type", "centre")
+            RECYCLING_CENTRE -> {
+                tags["recycling_type"] = "centre"
+            }
             OVERGROUND_CONTAINER -> {
-                changes.add("recycling_type", "container")
-                changes.add("location", "overground")
+                tags["recycling_type"] = "container"
+                tags["location"] = "overground"
             }
             UNDERGROUND_CONTAINER -> {
-                changes.add("recycling_type", "container")
-                changes.add("location", "underground")
+                tags["recycling_type"] = "container"
+                tags["location"] = "underground"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_glass/DetermineRecyclingGlass.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_glass/DetermineRecyclingGlass.kt
index 768761970d3..50de240f2cd 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_glass/DetermineRecyclingGlass.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_glass/DetermineRecyclingGlass.kt
@@ -32,15 +32,15 @@ class DetermineRecyclingGlass : OsmFilterQuestType<RecyclingGlass>() {
 
     override fun createForm() = DetermineRecyclingGlassForm()
 
-    override fun applyAnswerTo(answer: RecyclingGlass, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: RecyclingGlass, tags: StringMapChangesBuilder) {
         when(answer) {
             ANY -> {
                 // to mark that it has been checked
-                changes.add("recycling:glass_bottles", "yes")
+                tags["recycling:glass_bottles"] = "yes"
             }
             BOTTLES -> {
-                changes.add("recycling:glass_bottles", "yes")
-                changes.modify("recycling:glass", "no")
+                tags["recycling:glass_bottles"] = "yes"
+                tags["recycling:glass"] = "no"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_material/AddRecyclingContainerMaterials.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_material/AddRecyclingContainerMaterials.kt
index 1b7f94a260d..b2fee155e65 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_material/AddRecyclingContainerMaterials.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/recycling_material/AddRecyclingContainerMaterials.kt
@@ -6,7 +6,7 @@ import de.westnordost.streetcomplete.data.elementfilter.filters.RelativeDate
 import de.westnordost.streetcomplete.data.elementfilter.filters.TagOlderThan
 import de.westnordost.streetcomplete.data.elementfilter.toElementFilterExpression
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
-import de.westnordost.streetcomplete.data.meta.deleteCheckDatesForKey
+import de.westnordost.streetcomplete.data.meta.removeCheckDatesForKey
 import de.westnordost.streetcomplete.data.meta.hasCheckDateForKey
 import de.westnordost.streetcomplete.data.meta.updateCheckDateForKey
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapEntryModify
@@ -51,87 +51,87 @@ class AddRecyclingContainerMaterials : OsmElementQuestType<RecyclingContainerMat
     override fun getHighlightedElements(element: Element, getMapData: () -> MapDataWithGeometry) =
         getMapData().filter("nodes with amenity = recycling")
 
-    override fun applyAnswerTo(answer: RecyclingContainerMaterialsAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: RecyclingContainerMaterialsAnswer, tags: StringMapChangesBuilder) {
         if (answer is RecyclingMaterials) {
-            applyRecyclingMaterialsAnswer(answer.materials, changes)
+            applyRecyclingMaterialsAnswer(answer.materials, tags)
         } else if(answer is IsWasteContainer) {
-            applyWasteContainerAnswer(changes)
+            applyWasteContainerAnswer(tags)
         }
     }
 
-    private fun applyRecyclingMaterialsAnswer(materials: List<RecyclingMaterial>, changes: StringMapChangesBuilder) {
+    private fun applyRecyclingMaterialsAnswer(materials: List<RecyclingMaterial>, tags: StringMapChangesBuilder) {
         // set selected recycling:* taggings to "yes"
         val selectedMaterials = materials.map { "recycling:${it.value}" }
         for (acceptedMaterial in selectedMaterials) {
-            changes.addOrModify(acceptedMaterial, "yes")
+            tags[acceptedMaterial] = "yes"
         }
 
         // if the user chose deliberately not "all plastic", also tag it explicitly
         val anyPlastic = listOf("recycling:plastic", "recycling:plastic_packaging", "recycling:plastic_bottles", "recycling:beverage_cartons")
         when {
-            selectedMaterials.contains("recycling:plastic") -> {
-                changes.deleteIfExists("recycling:plastic_packaging")
-                changes.deleteIfExists("recycling:plastic_bottles")
-                changes.deleteIfExists("recycling:beverage_cartons")
+            "recycling:plastic" in selectedMaterials -> {
+                tags.remove("recycling:plastic_packaging")
+                tags.remove("recycling:plastic_bottles")
+                tags.remove("recycling:beverage_cartons")
             }
-            selectedMaterials.contains("recycling:plastic_packaging") -> {
-                changes.addOrModify("recycling:plastic", "no")
-                changes.deleteIfExists("recycling:plastic_bottles")
-                changes.deleteIfExists("recycling:beverage_cartons")
+            "recycling:plastic_packaging" in selectedMaterials -> {
+                tags["recycling:plastic"] = "no"
+                tags.remove("recycling:plastic_bottles")
+                tags.remove("recycling:beverage_cartons")
             }
-            selectedMaterials.contains("recycling:beverage_cartons") &&
-            selectedMaterials.contains("recycling:plastic_bottles") -> {
-                changes.addOrModify("recycling:plastic_packaging", "no")
-                changes.addOrModify("recycling:plastic", "no")
+            "recycling:beverage_cartons" in selectedMaterials
+            && "recycling:plastic_bottles" in selectedMaterials -> {
+                tags["recycling:plastic_packaging"] = "no"
+                tags["recycling:plastic"] = "no"
             }
-            selectedMaterials.contains("recycling:beverage_cartons") -> {
-                changes.addOrModify("recycling:plastic_bottles", "no")
-                changes.addOrModify("recycling:plastic_packaging", "no")
-                changes.addOrModify("recycling:plastic", "no")
+            "recycling:beverage_cartons" in selectedMaterials -> {
+                tags["recycling:plastic_bottles"] = "no"
+                tags["recycling:plastic_packaging"] = "no"
+                tags["recycling:plastic"] = "no"
             }
-            selectedMaterials.contains("recycling:plastic_bottles") -> {
-                changes.addOrModify("recycling:beverage_cartons", "no")
-                changes.addOrModify("recycling:plastic_packaging", "no")
-                changes.addOrModify("recycling:plastic", "no")
+            "recycling:plastic_bottles" in selectedMaterials -> {
+                tags["recycling:beverage_cartons"] = "no"
+                tags["recycling:plastic_packaging"] = "no"
+                tags["recycling:plastic"] = "no"
             }
             else -> {
-                changes.deleteIfExists("recycling:plastic")
-                changes.deleteIfExists("recycling:plastic_packaging")
-                changes.deleteIfExists("recycling:plastic_bottles")
-                changes.deleteIfExists("recycling:beverage_cartons")
+                tags.remove("recycling:plastic")
+                tags.remove("recycling:plastic_packaging")
+                tags.remove("recycling:plastic_bottles")
+                tags.remove("recycling:beverage_cartons")
             }
         }
 
         // remove recycling:* taggings previously "yes" but now not any more
-        val materialsNotSelectedAnymore = changes.getPreviousEntries().filter { (key, value) ->
-            !selectedMaterials.contains(key)
+        val materialsNotSelectedAnymore = tags.entries.filter { (key, value) ->
+            key !in selectedMaterials
             // don't touch any previous explicit recycling:*=no taggings
             && value == "yes"
             // leave plastic values alone because it is managed separately (see above)
-            && !anyPlastic.contains(key)
-        }.keys
+            && key !in anyPlastic
+        }.map { it.key }
         for (notAcceptedMaterial in materialsNotSelectedAnymore) {
-            changes.delete(notAcceptedMaterial)
+            tags.remove(notAcceptedMaterial)
         }
 
         // only set the check date if nothing was changed
-        val isNotActuallyChangingAnything = changes.getChanges().all { change ->
+        val isNotActuallyChangingAnything = tags.getChanges().all { change ->
             change is StringMapEntryModify && change.value == change.valueBefore
         }
-        if (isNotActuallyChangingAnything || changes.hasCheckDateForKey("recycling")) {
-            changes.updateCheckDateForKey("recycling")
+        if (isNotActuallyChangingAnything || tags.hasCheckDateForKey("recycling")) {
+            tags.updateCheckDateForKey("recycling")
         }
     }
 
-    private fun applyWasteContainerAnswer(changes: StringMapChangesBuilder) {
-        changes.modify("amenity","waste_disposal")
-        changes.delete("recycling_type")
+    private fun applyWasteContainerAnswer(tags: StringMapChangesBuilder) {
+        tags["amenity"] = "waste_disposal"
+        tags.remove("recycling_type")
 
-        val previousRecyclingKeys = changes.getPreviousEntries().keys.filter { it.startsWith("recycling:") }
-        for (previousRecyclingKey in previousRecyclingKeys) {
-            changes.delete(previousRecyclingKey)
+        val recyclingKeys = tags.keys.filter { it.startsWith("recycling:") }
+        for (key in recyclingKeys) {
+            tags.remove(key)
         }
-        changes.deleteCheckDatesForKey("recycling")
+        tags.removeCheckDatesForKey("recycling")
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToPlaceOfWorship.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToPlaceOfWorship.kt
index b0b6a1eec90..8dedc2bac0e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToPlaceOfWorship.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToPlaceOfWorship.kt
@@ -30,7 +30,7 @@ class AddReligionToPlaceOfWorship : OsmFilterQuestType<Religion>() {
 
     override fun createForm() = AddReligionForm()
 
-    override fun applyAnswerTo(answer: Religion, changes: StringMapChangesBuilder) {
-        changes.add("religion", answer.osmValue)
+    override fun applyAnswerTo(answer: Religion, tags: StringMapChangesBuilder) {
+        tags["religion"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToWaysideShrine.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToWaysideShrine.kt
index b40cc709ea9..976fca063fc 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToWaysideShrine.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/religion/AddReligionToWaysideShrine.kt
@@ -23,7 +23,7 @@ class AddReligionToWaysideShrine : OsmFilterQuestType<Religion>() {
 
     override fun createForm() = AddReligionForm()
 
-    override fun applyAnswerTo(answer: Religion, changes: StringMapChangesBuilder) {
-        changes.add("religion", answer.osmValue)
+    override fun applyAnswerTo(answer: Religion, tags: StringMapChangesBuilder) {
+        tags["religion"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/road_name/AddRoadName.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/road_name/AddRoadName.kt
index d046ea7a28e..684097dc475 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/road_name/AddRoadName.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/road_name/AddRoadName.kt
@@ -42,46 +42,45 @@ class AddRoadName : OsmFilterQuestType<RoadNameAnswer>() {
 
     override fun createForm() = AddRoadNameForm()
 
-    override fun applyAnswerTo(answer: RoadNameAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: RoadNameAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
-            is NoRoadName        -> changes.add("noname", "yes")
+            is NoRoadName        -> tags["noname"] = "yes"
             is RoadIsServiceRoad -> {
                 // The understanding of what is a service road is much broader in common language
                 // than what the highway=service tagging covers. For example, certain traffic-calmed
                 // driveways / service roads may be tagged as highway=living_street. We do not want
                 // to overwrite this, so let's keep it a living street in that case (see #2431)
-                if (changes.getPreviousValue("highway") == "living_street") {
-                    changes.add("noname", "yes")
+                if (tags["highway"] == "living_street") {
+                    tags["noname"] = "yes"
                 } else {
-                    changes.modify("highway", "service")
+                    tags["highway"] = "service"
                 }
             }
-            is RoadIsTrack       -> changes.modify("highway", "track")
+            is RoadIsTrack       -> tags["highway"] = "track"
             is RoadIsLinkRoad    -> {
-                val prevValue = changes.getPreviousValue("highway")
-                if (prevValue?.matches("primary|secondary|tertiary".toRegex()) == true) {
-                    changes.modify("highway", prevValue + "_link")
+                if (tags["highway"]?.matches("primary|secondary|tertiary".toRegex()) == true) {
+                    tags["highway"] += "_link"
                 }
             }
             is RoadName -> {
                 val singleName = answer.localizedNames.singleOrNull()
                 if (singleName?.isRef() == true) {
-                    changes.add("ref", singleName.name)
+                    tags["ref"] = singleName.name
                 } else {
-                    applyAnswerRoadName(answer, changes)
+                    applyAnswerRoadName(answer, tags)
                 }
             }
         }
     }
 
-    private fun applyAnswerRoadName(answer: RoadName, changes: StringMapChangesBuilder) {
+    private fun applyAnswerRoadName(answer: RoadName, tags: StringMapChangesBuilder) {
         for ((languageTag, name) in answer.localizedNames) {
             val key = when (languageTag) {
                 "" -> "name"
                 "international" -> "int_name"
                 else -> "name:$languageTag"
             }
-            changes.addOrModify(key, name)
+            tags[key] = name
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/roof_shape/AddRoofShape.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/roof_shape/AddRoofShape.kt
index 8d9e3c301b6..c83b7acdae7 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/roof_shape/AddRoofShape.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/roof_shape/AddRoofShape.kt
@@ -29,10 +29,6 @@ class AddRoofShape(private val countryInfos: CountryInfos) : OsmElementQuestType
 
     override fun createForm() = AddRoofShapeForm()
 
-    override fun applyAnswerTo(answer: RoofShape, changes: StringMapChangesBuilder) {
-        changes.add("roof:shape", answer.osmValue)
-    }
-
     override fun getApplicableElements(mapData: MapDataWithGeometry) =
         mapData.filter { element ->
             filter.matches(element)
@@ -55,4 +51,8 @@ class AddRoofShape(private val countryInfos: CountryInfos) : OsmElementQuestType
         val center = mapData.getGeometry(element.type, element.id)?.center ?: return null
         return countryInfos.get(center.longitude, center.latitude).isRoofsAreUsuallyFlat
     }
+
+    override fun applyAnswerTo(answer: RoofShape, tags: StringMapChangesBuilder) {
+        tags["roof:shape"] = answer.osmValue
+    }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/segregated/AddCyclewaySegregation.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/segregated/AddCyclewaySegregation.kt
index 42e97543c49..1e94a8834f7 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/segregated/AddCyclewaySegregation.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/segregated/AddCyclewaySegregation.kt
@@ -36,7 +36,7 @@ class AddCyclewaySegregation : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = AddCyclewaySegregationForm()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("segregated", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("segregated", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/self_service/AddSelfServiceLaundry.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/self_service/AddSelfServiceLaundry.kt
index ee2cb0f5161..af3c84c4226 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/self_service/AddSelfServiceLaundry.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/self_service/AddSelfServiceLaundry.kt
@@ -20,19 +20,19 @@ class AddSelfServiceLaundry : OsmFilterQuestType<SelfServiceLaundry>() {
 
     override fun createForm() = AddSelfServiceLaundryForm()
 
-    override fun applyAnswerTo(answer: SelfServiceLaundry, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: SelfServiceLaundry, tags: StringMapChangesBuilder) {
         when(answer) {
             NO -> {
-                changes.add("self_service", "no")
-                changes.addOrModify("laundry_service", "yes")
+                tags["self_service"] = "no"
+                tags["laundry_service"] = "yes"
             }
             OPTIONAL -> {
-                changes.add("self_service", "yes")
-                changes.addOrModify("laundry_service", "yes")
+                tags["self_service"] = "yes"
+                tags["laundry_service"] = "yes"
             }
             ONLY -> {
-                changes.add("self_service", "yes")
-                changes.addOrModify("laundry_service", "no")
+                tags["self_service"] = "yes"
+                tags["laundry_service"] = "no"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/CheckShopType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/CheckShopType.kt
index 8369065148b..767d5747a22 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/CheckShopType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/CheckShopType.kt
@@ -48,31 +48,26 @@ class CheckShopType : OsmElementQuestType<ShopTypeAnswer> {
 
     override fun createForm() = ShopTypeForm()
 
-    override fun applyAnswerTo(answer: ShopTypeAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: ShopTypeAnswer, tags: StringMapChangesBuilder) {
 
         when (answer) {
             is IsShopVacant -> {
-                changes.updateCheckDate()
+                tags.updateCheckDate()
             }
             is ShopType -> {
-                changes.deleteCheckDates()
-
-                if (!answer.tags.containsKey("shop")) {
-                    changes.deleteIfExists("shop")
-                }
-
-                for ((key, _) in changes.getPreviousEntries()) {
+                for (key in tags.keys) {
                     // also deletes all "disused:" keys
-                    val isOkToRemove =
-                        KEYS_THAT_SHOULD_BE_REMOVED_WHEN_SHOP_IS_REPLACED.any { it.matches(key) }
+                    val isOkToRemove = KEYS_THAT_SHOULD_BE_REMOVED_WHEN_SHOP_IS_REPLACED.any { it.matches(key) }
                     if (isOkToRemove && !answer.tags.containsKey(key)) {
-                        changes.delete(key)
+                        tags.remove(key)
                     }
                 }
 
                 for ((key, value) in answer.tags) {
-                    changes.addOrModify(key, value)
+                    tags[key] = value
                 }
+
+                tags.removeCheckDates()
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/SpecifyShopType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/SpecifyShopType.kt
index 560e96f8e96..d8e6e54920d 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/SpecifyShopType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/shop_type/SpecifyShopType.kt
@@ -1,7 +1,7 @@
 package de.westnordost.streetcomplete.quests.shop_type
 
 import de.westnordost.streetcomplete.R
-import de.westnordost.streetcomplete.data.meta.deleteCheckDates
+import de.westnordost.streetcomplete.data.meta.removeCheckDates
 import de.westnordost.streetcomplete.data.meta.isKindOfShopExpression
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
 import de.westnordost.streetcomplete.data.osm.mapdata.Element
@@ -49,20 +49,20 @@ class SpecifyShopType : OsmFilterQuestType<ShopTypeAnswer>() {
         tags.keys.containsAny(listOf("name", "brand", "operator"))
 
 
-    override fun applyAnswerTo(answer: ShopTypeAnswer, changes: StringMapChangesBuilder) {
-        changes.deleteCheckDates()
+    override fun applyAnswerTo(answer: ShopTypeAnswer, tags: StringMapChangesBuilder) {
+        tags.removeCheckDates()
         when (answer) {
             is IsShopVacant -> {
-                changes.deleteIfExists("shop")
-                changes.addOrModify("disused:shop", "yes")
+                tags.remove("shop")
+                tags["disused:shop"] = "yes"
             }
             is ShopType -> {
-                changes.deleteIfExists("disused:shop")
+                tags.remove("disused:shop")
                 if (!answer.tags.containsKey("shop")) {
-                    changes.deleteIfExists("shop")
+                    tags.remove("shop")
                 }
                 for ((key, value) in answer.tags) {
-                    changes.addOrModify(key, value)
+                    tags[key] = value
                 }
 
             }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/shoulder/AddShoulder.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/shoulder/AddShoulder.kt
index 6fa888b2a2a..c65c8195cf3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/shoulder/AddShoulder.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/shoulder/AddShoulder.kt
@@ -67,7 +67,7 @@ class AddShoulder : OsmFilterQuestType<Boolean>() {
 
     override fun createForm(): AbstractQuestAnswerFragment<Boolean> = AddShoulderForm()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("shoulder", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["shoulder"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/sidewalk/AddSidewalk.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/sidewalk/AddSidewalk.kt
index 37b9330ff53..cc2836de434 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/sidewalk/AddSidewalk.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/sidewalk/AddSidewalk.kt
@@ -112,8 +112,8 @@ class AddSidewalk : OsmElementQuestType<SidewalkAnswer> {
 
     override fun createForm() = AddSidewalkForm()
 
-    override fun applyAnswerTo(answer: SidewalkAnswer, changes: StringMapChangesBuilder) {
-        changes.add("sidewalk", getSidewalkValue(answer))
+    override fun applyAnswerTo(answer: SidewalkAnswer, tags: StringMapChangesBuilder) {
+        tags["sidewalk"] = getSidewalkValue(answer)
     }
 
     private fun getSidewalkValue(answer: SidewalkAnswer) =
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddPathSmoothness.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddPathSmoothness.kt
index 6794779ab9b..49b3245a343 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddPathSmoothness.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddPathSmoothness.kt
@@ -1,7 +1,7 @@
 package de.westnordost.streetcomplete.quests.smoothness
 
 import de.westnordost.streetcomplete.R
-import de.westnordost.streetcomplete.data.meta.deleteCheckDatesForKey
+import de.westnordost.streetcomplete.data.meta.removeCheckDatesForKey
 import de.westnordost.streetcomplete.data.meta.updateWithCheckDate
 import de.westnordost.streetcomplete.data.osm.osmquests.OsmFilterQuestType
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
@@ -49,23 +49,23 @@ class AddPathSmoothness : OsmFilterQuestType<SmoothnessAnswer>() {
 
     override fun createForm() = AddSmoothnessForm()
 
-    override fun applyAnswerTo(answer: SmoothnessAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: SmoothnessAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
             is SmoothnessValueAnswer -> {
-                changes.updateWithCheckDate("smoothness", answer.value.osmValue)
-                changes.deleteIfExists("smoothness:date")
+                tags.updateWithCheckDate("smoothness", answer.value.osmValue)
+                tags.remove("smoothness:date")
             }
             is WrongSurfaceAnswer -> {
-                changes.delete("surface")
-                changes.deleteIfExists("smoothness")
-                changes.deleteIfExists("smoothness:date")
-                changes.deleteCheckDatesForKey("smoothness")
+                tags.remove("surface")
+                tags.remove("smoothness")
+                tags.remove("smoothness:date")
+                tags.removeCheckDatesForKey("smoothness")
             }
             is IsActuallyStepsAnswer -> {
-                changes.modify("highway", "steps")
-                changes.deleteIfExists("smoothness")
-                changes.deleteIfExists("smoothness:date")
-                changes.deleteCheckDatesForKey("smoothness")
+                tags["highway"] = "steps"
+                tags.remove("smoothness")
+                tags.remove("smoothness:date")
+                tags.removeCheckDatesForKey("smoothness")
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddRoadSmoothness.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddRoadSmoothness.kt
index 24a61f1a9dd..f4ada68a4bf 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddRoadSmoothness.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/smoothness/AddRoadSmoothness.kt
@@ -1,7 +1,7 @@
 package de.westnordost.streetcomplete.quests.smoothness
 
 import de.westnordost.streetcomplete.R
-import de.westnordost.streetcomplete.data.meta.deleteCheckDatesForKey
+import de.westnordost.streetcomplete.data.meta.removeCheckDatesForKey
 import de.westnordost.streetcomplete.data.meta.updateWithCheckDate
 import de.westnordost.streetcomplete.data.osm.osmquests.OsmFilterQuestType
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
@@ -47,17 +47,17 @@ class AddRoadSmoothness : OsmFilterQuestType<SmoothnessAnswer>() {
 
     override fun createForm() = AddSmoothnessForm()
 
-    override fun applyAnswerTo(answer: SmoothnessAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: SmoothnessAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
             is SmoothnessValueAnswer -> {
-                changes.updateWithCheckDate("smoothness", answer.value.osmValue)
-                changes.deleteIfExists("smoothness:date")
+                tags.updateWithCheckDate("smoothness", answer.value.osmValue)
+                tags.remove("smoothness:date")
             }
             is WrongSurfaceAnswer -> {
-                changes.delete("surface")
-                changes.deleteIfExists("smoothness")
-                changes.deleteIfExists("smoothness:date")
-                changes.deleteCheckDatesForKey("smoothness")
+                tags.remove("surface")
+                tags.remove("smoothness")
+                tags.remove("smoothness:date")
+                tags.removeCheckDatesForKey("smoothness")
             }
             is IsActuallyStepsAnswer -> throw IllegalStateException()
         }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/sport/AddSport.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/sport/AddSport.kt
index 19b4cfba2cc..a8d88474070 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/sport/AddSport.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/sport/AddSport.kt
@@ -30,16 +30,7 @@ class AddSport : OsmFilterQuestType<List<Sport>>() {
 
     override fun createForm() = AddSportForm()
 
-    override fun applyAnswerTo(answer: List<Sport>, changes: StringMapChangesBuilder) {
-        val previousValue = changes.getPreviousValue("sport")
-        val values = answer.joinToString(";") { it.osmValue }
-        // only modify the previous values in case of these ~deprecated ones, otherwise assume
-        // always that the tag has not been set yet (will drop the solution if it has been set
-        // in the meantime by other people) (#291)
-        if (ambiguousSportValues.contains(previousValue)) {
-            changes.modify("sport", values)
-        } else {
-            changes.add("sport", values)
-        }
+    override fun applyAnswerTo(answer: List<Sport>, tags: StringMapChangesBuilder) {
+        tags["sport"] = answer.joinToString(";") { it.osmValue }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/step_count/AddStepCount.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/step_count/AddStepCount.kt
index 679aeec4321..71159b81787 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/step_count/AddStepCount.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/step_count/AddStepCount.kt
@@ -28,7 +28,7 @@ class AddStepCount : OsmFilterQuestType<Int>() {
 
     override fun createForm() = AddStepCountForm()
 
-    override fun applyAnswerTo(answer: Int, changes: StringMapChangesBuilder) {
-        changes.add("step_count", answer.toString())
+    override fun applyAnswerTo(answer: Int, tags: StringMapChangesBuilder) {
+        tags["step_count"] = answer.toString()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/steps_incline/AddStepsIncline.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/steps_incline/AddStepsIncline.kt
index 45204f6a4c3..a8dc8698200 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/steps_incline/AddStepsIncline.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/steps_incline/AddStepsIncline.kt
@@ -27,10 +27,10 @@ class AddStepsIncline : OsmFilterQuestType<StepsIncline>() {
 
     override fun createForm() = AddStepsInclineForm()
 
-    override fun applyAnswerTo(answer: StepsIncline, changes: StringMapChangesBuilder) {
-        changes.add("incline", when(answer) {
+    override fun applyAnswerTo(answer: StepsIncline, tags: StringMapChangesBuilder) {
+        tags["incline"] = when(answer) {
             UP -> "up"
             UP_REVERSED -> "down"
-        })
+        }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/steps_ramp/AddStepsRamp.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/steps_ramp/AddStepsRamp.kt
index 18e8f331ec5..8df67b15867 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/steps_ramp/AddStepsRamp.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/steps_ramp/AddStepsRamp.kt
@@ -36,44 +36,44 @@ class AddStepsRamp : OsmFilterQuestType<StepsRampAnswer>() {
 
     override fun createForm() = AddStepsRampForm()
 
-    override fun applyAnswerTo(answer: StepsRampAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: StepsRampAnswer, tags: StringMapChangesBuilder) {
         // special tagging if the wheelchair ramp is separate
         if (answer.wheelchairRamp == WheelchairRampStatus.SEPARATE) {
             val hasAnotherRamp = answer.bicycleRamp || answer.strollerRamp
             // there is just a separate wheelchair ramp -> use ramp=separate, otherwise just yes
-            changes.updateWithCheckDate("ramp", if (!hasAnotherRamp) "separate" else "yes")
-            changes.applyRampAnswer("bicycle", answer.bicycleRamp, false)
-            changes.applyRampAnswer("stroller", answer.strollerRamp, false)
-            changes.addOrModify("ramp:wheelchair", "separate")
+            tags.updateWithCheckDate("ramp", if (!hasAnotherRamp) "separate" else "yes")
+            tags.applyRampAnswer("bicycle", answer.bicycleRamp, false)
+            tags.applyRampAnswer("stroller", answer.strollerRamp, false)
+            tags["ramp:wheelchair"] = "separate"
         } else {
             // updating ramp key: We need to take into account other ramp:*=yes values not touched
             // by this app
             val supportedRampKeys = listOf("ramp:wheelchair", "ramp:stroller", "ramp:bicycle")
-            val anyUnsupportedRampTagIsYes = changes.getPreviousEntries().filterKeys {
-                it.startsWith("ramp:") && !supportedRampKeys.contains(it)
+            val anyUnsupportedRampTagIsYes = tags.entries.filter { (key, _) ->
+                key.startsWith("ramp:") && key !in supportedRampKeys
             }.any { it.value != "no" }
 
             val hasRamp = (answer.hasRamp() || anyUnsupportedRampTagIsYes)
-            changes.updateWithCheckDate("ramp", hasRamp.toYesNo())
+            tags.updateWithCheckDate("ramp", hasRamp.toYesNo())
 
             val hasWheelchairRamp = answer.wheelchairRamp != WheelchairRampStatus.NO
-            changes.applyRampAnswer("bicycle", answer.bicycleRamp, anyUnsupportedRampTagIsYes)
-            changes.applyRampAnswer("stroller", answer.strollerRamp, anyUnsupportedRampTagIsYes)
-            changes.applyRampAnswer("wheelchair", hasWheelchairRamp, anyUnsupportedRampTagIsYes)
+            tags.applyRampAnswer("bicycle", answer.bicycleRamp, anyUnsupportedRampTagIsYes)
+            tags.applyRampAnswer("stroller", answer.strollerRamp, anyUnsupportedRampTagIsYes)
+            tags.applyRampAnswer("wheelchair", hasWheelchairRamp, anyUnsupportedRampTagIsYes)
         }
     }
 }
 
 private fun StringMapChangesBuilder.applyRampAnswer(rampType: String, hasRamp: Boolean, rampTagForcedToBeYes: Boolean) {
     if (hasRamp) {
-        addOrModify("ramp:$rampType", "yes")
+        set("ramp:$rampType", "yes")
     } else if(rampTagForcedToBeYes) {
         /* if there is an unsupported ramp:*=yes tag but at the same time, there is neither a
         *  bicycle, stroller nor wheelchair ramp, the ramp key will remain =yes. But then, nothing
         *  else will be tagged and thus, the quest will still remain. So in this case, we tag
         *  the user's choices as "no" explicitly. See #3115 */
-        addOrModify("ramp:$rampType", "no")
-    } else if(getPreviousValue("ramp:$rampType") in listOf("yes", "separate")) {
-        delete("ramp:$rampType")
+        set("ramp:$rampType", "no")
+    } else if(get("ramp:$rampType") in listOf("yes", "separate")) {
+        remove("ramp:$rampType")
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/street_parking/AddStreetParking.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/street_parking/AddStreetParking.kt
index d8359f8d755..b84e35c5769 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/street_parking/AddStreetParking.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/street_parking/AddStreetParking.kt
@@ -79,7 +79,7 @@ class AddStreetParking : OsmFilterQuestType<LeftAndRightStreetParking>() {
 
     override fun createForm() = AddStreetParkingForm()
 
-    override fun applyAnswerTo(answer: LeftAndRightStreetParking, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: LeftAndRightStreetParking, tags: StringMapChangesBuilder) {
         /* Note: If a resurvey is implemented, old
            parking:lane:*:(parallel|diagonal|perpendicular|...) values must be cleaned up */
 
@@ -88,10 +88,10 @@ class AddStreetParking : OsmFilterQuestType<LeftAndRightStreetParking>() {
         val laneLeft = answer.left!!.toOsmLaneValue() ?: throw IllegalArgumentException()
 
         if (laneLeft == laneRight) {
-            changes.add("parking:lane:both", laneLeft)
+            tags["parking:lane:both"] = laneLeft
         } else {
-            changes.add("parking:lane:left", laneLeft)
-            changes.add("parking:lane:right", laneRight)
+            tags["parking:lane:left"] = laneLeft
+            tags["parking:lane:right"] = laneRight
         }
 
         // parking:condition:<left/right/both>
@@ -99,10 +99,10 @@ class AddStreetParking : OsmFilterQuestType<LeftAndRightStreetParking>() {
         val conditionLeft = answer.left.toOsmConditionValue()
 
         if (conditionLeft == conditionRight) {
-            conditionLeft?.let { changes.add("parking:condition:both", it) }
+            conditionLeft?.let { tags["parking:condition:both"] = it }
         } else {
-            conditionLeft?.let { changes.add("parking:condition:left", it) }
-            conditionRight?.let { changes.add("parking:condition:right", it) }
+            conditionLeft?.let { tags["parking:condition:left"] = it }
+            conditionRight?.let { tags["parking:condition:right"] = it }
         }
 
         // parking:lane:<left/right/both>:<parallel/diagonal/perpendicular> (aka "parking orientation")
@@ -110,10 +110,10 @@ class AddStreetParking : OsmFilterQuestType<LeftAndRightStreetParking>() {
         val orientationLeft = (answer.left as? StreetParkingPositionAndOrientation)?.position?.toOsmValue()
 
         if (orientationLeft == orientationRight) {
-            if (orientationLeft != null) changes.addOrModify("parking:lane:both:$laneLeft", orientationLeft)
+            if (orientationLeft != null) tags["parking:lane:both:$laneLeft"] = orientationLeft
         } else {
-            if (orientationLeft != null) changes.addOrModify("parking:lane:left:$laneLeft", orientationLeft)
-            if (orientationRight != null) changes.addOrModify("parking:lane:right:$laneRight", orientationRight)
+            if (orientationLeft != null) tags["parking:lane:left:$laneLeft"] = orientationLeft
+            if (orientationRight != null) tags["parking:lane:right:$laneRight"] = orientationRight
         }
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/summit_register/AddSummitRegister.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/summit_register/AddSummitRegister.kt
index 1e53cf1c595..b38fede504a 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/summit_register/AddSummitRegister.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/summit_register/AddSummitRegister.kt
@@ -67,7 +67,7 @@ class AddSummitRegister : OsmElementQuestType<Boolean> {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("summit:register", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("summit:register", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddCyclewayPartSurface.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddCyclewayPartSurface.kt
index 6ed0411c173..e0c466bbc1e 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddCyclewayPartSurface.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddCyclewayPartSurface.kt
@@ -36,7 +36,7 @@ class AddCyclewayPartSurface : OsmFilterQuestType<SurfaceAnswer>() {
 
     override fun createForm() = AddPathPartSurfaceForm()
 
-    override fun applyAnswerTo(answer: SurfaceAnswer, changes: StringMapChangesBuilder) {
-        answer.applyTo(changes, "cycleway:surface")
+    override fun applyAnswerTo(answer: SurfaceAnswer, tags: StringMapChangesBuilder) {
+        answer.applyTo(tags, "cycleway:surface")
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddFootwayPartSurface.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddFootwayPartSurface.kt
index 59971b412ae..41a30794d78 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddFootwayPartSurface.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddFootwayPartSurface.kt
@@ -36,7 +36,7 @@ class AddFootwayPartSurface : OsmFilterQuestType<SurfaceAnswer>() {
 
     override fun createForm() = AddPathPartSurfaceForm()
 
-    override fun applyAnswerTo(answer: SurfaceAnswer, changes: StringMapChangesBuilder) {
-        answer.applyTo(changes, "footway:surface")
+    override fun applyAnswerTo(answer: SurfaceAnswer, tags: StringMapChangesBuilder) {
+        answer.applyTo(tags, "footway:surface")
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPathSurface.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPathSurface.kt
index 1c1803f4acc..86a7cbd4eaf 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPathSurface.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPathSurface.kt
@@ -46,13 +46,13 @@ class AddPathSurface : OsmFilterQuestType<SurfaceOrIsStepsAnswer>() {
 
     override fun createForm() = AddPathSurfaceForm()
 
-    override fun applyAnswerTo(answer: SurfaceOrIsStepsAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: SurfaceOrIsStepsAnswer, tags: StringMapChangesBuilder) {
         when(answer) {
             is SurfaceAnswer -> {
-                answer.applyTo(changes, "surface")
+                answer.applyTo(tags, "surface")
             }
             is IsActuallyStepsAnswer -> {
-                changes.modify("highway", "steps")
+                tags["highway"] = "steps"
             }
         }
     }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPitchSurface.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPitchSurface.kt
index 976b86415b4..a017dec8526 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPitchSurface.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddPitchSurface.kt
@@ -1,7 +1,6 @@
 package de.westnordost.streetcomplete.quests.surface
 
 import de.westnordost.streetcomplete.R
-import de.westnordost.streetcomplete.data.meta.updateWithCheckDate
 import de.westnordost.streetcomplete.data.osm.osmquests.OsmFilterQuestType
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
 import de.westnordost.streetcomplete.data.user.achievements.QuestTypeAchievement.OUTDOORS
@@ -54,7 +53,7 @@ class AddPitchSurface : OsmFilterQuestType<SurfaceAnswer>() {
 
     override fun createForm() = AddPitchSurfaceForm()
 
-    override fun applyAnswerTo(answer: SurfaceAnswer, changes: StringMapChangesBuilder) {
-        answer.applyTo(changes, "surface")
+    override fun applyAnswerTo(answer: SurfaceAnswer, tags: StringMapChangesBuilder) {
+        answer.applyTo(tags, "surface")
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddRoadSurface.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddRoadSurface.kt
index 6925d212a40..32d9d485382 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddRoadSurface.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/AddRoadSurface.kt
@@ -45,8 +45,8 @@ class AddRoadSurface : OsmFilterQuestType<SurfaceAnswer>() {
 
     override fun createForm() = AddRoadSurfaceForm()
 
-    override fun applyAnswerTo(answer: SurfaceAnswer, changes: StringMapChangesBuilder) {
-        answer.applyTo(changes, "surface")
+    override fun applyAnswerTo(answer: SurfaceAnswer, tags: StringMapChangesBuilder) {
+        answer.applyTo(tags, "surface")
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/SurfaceAnswer.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/SurfaceAnswer.kt
index 5a1813c481f..90b293b2346 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/surface/SurfaceAnswer.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/surface/SurfaceAnswer.kt
@@ -1,6 +1,6 @@
 package de.westnordost.streetcomplete.quests.surface
 
-import de.westnordost.streetcomplete.data.meta.deleteCheckDatesForKey
+import de.westnordost.streetcomplete.data.meta.removeCheckDatesForKey
 import de.westnordost.streetcomplete.data.meta.updateWithCheckDate
 import de.westnordost.streetcomplete.data.osm.edits.update_tags.StringMapChangesBuilder
 
@@ -9,24 +9,24 @@ object IsActuallyStepsAnswer : SurfaceOrIsStepsAnswer()
 
 data class SurfaceAnswer(val value: Surface, val note: String? = null) : SurfaceOrIsStepsAnswer()
 
-fun SurfaceAnswer.applyTo(changes: StringMapChangesBuilder, key: String) {
+fun SurfaceAnswer.applyTo(tags: StringMapChangesBuilder, key: String) {
     val osmValue = value.osmValue
-    val previousOsmValue = changes.getPreviousValue(key)
+    val previousOsmValue = tags[key]
 
     // update surface + check date
-    changes.updateWithCheckDate(key, osmValue)
+    tags.updateWithCheckDate(key, osmValue)
     // remove smoothness tag if surface was changed
     if (previousOsmValue != null && previousOsmValue != osmValue) {
-        changes.deleteIfExists("smoothness")
-        changes.deleteIfExists("smoothness:date")
-        changes.deleteCheckDatesForKey("smoothness")
+        tags.remove("smoothness")
+        tags.remove("smoothness:date")
+        tags.removeCheckDatesForKey("smoothness")
     }
     // add/remove note - used to describe generic surfaces
     if (note != null) {
-        changes.addOrModify("$key:note", note)
+        tags["$key:note"] = note
     } else {
-        changes.deleteIfExists("$key:note")
+        tags.remove("$key:note")
     }
     // clean up old source tags - source should be in changeset tags
-    changes.deleteIfExists("source:$key")
+    tags.remove("source:$key")
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingBusStop.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingBusStop.kt
index 6bca914dcc8..09c87b7ba4b 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingBusStop.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingBusStop.kt
@@ -44,7 +44,7 @@ class AddTactilePavingBusStop : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = TactilePavingForm()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("tactile_paving", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("tactile_paving", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingCrosswalk.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingCrosswalk.kt
index fba7a256960..7b5d90d6571 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingCrosswalk.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingCrosswalk.kt
@@ -57,7 +57,7 @@ class AddTactilePavingCrosswalk : OsmElementQuestType<Boolean> {
 
     override fun createForm() = TactilePavingForm()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("tactile_paving", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("tactile_paving", answer.toYesNo())
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingKerb.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingKerb.kt
index 4d8eddc8669..601333fb300 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingKerb.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/tactile_paving/AddTactilePavingKerb.kt
@@ -41,8 +41,8 @@ class AddTactilePavingKerb : OsmElementQuestType<Boolean> {
         if (!eligibleKerbsFilter.matches(element) || element !is Node || !element.couldBeAKerb()) false
         else null
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("tactile_paving", answer.toYesNo())
-        changes.addOrModify("barrier", "kerb")
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("tactile_paving", answer.toYesNo())
+        tags["barrier"] = "kerb"
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/toilet_availability/AddToiletAvailability.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/toilet_availability/AddToiletAvailability.kt
index 834ecca6dbb..9807704f7ae 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/toilet_availability/AddToiletAvailability.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/toilet_availability/AddToiletAvailability.kt
@@ -33,7 +33,7 @@ class AddToiletAvailability : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("toilets", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["toilets"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/toilets_fee/AddToiletsFee.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/toilets_fee/AddToiletsFee.kt
index cc87c742fe5..8187e229008 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/toilets_fee/AddToiletsFee.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/toilets_fee/AddToiletsFee.kt
@@ -26,7 +26,7 @@ class AddToiletsFee : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("fee", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["fee"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/tourism_information/AddInformationToTourism.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/tourism_information/AddInformationToTourism.kt
index 1110a7417e3..3ba4b924780 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/tourism_information/AddInformationToTourism.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/tourism_information/AddInformationToTourism.kt
@@ -25,7 +25,7 @@ class AddInformationToTourism : OsmFilterQuestType<TourismInformation>() {
 
     override fun createForm() = AddInformationForm()
 
-    override fun applyAnswerTo(answer: TourismInformation, changes: StringMapChangesBuilder) {
-        changes.add("information", answer.osmValue)
+    override fun applyAnswerTo(answer: TourismInformation, tags: StringMapChangesBuilder) {
+        tags["information"] = answer.osmValue
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/tracktype/AddTracktype.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/tracktype/AddTracktype.kt
index c85b1316da6..7c61c9c9e91 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/tracktype/AddTracktype.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/tracktype/AddTracktype.kt
@@ -32,7 +32,7 @@ class AddTracktype : OsmFilterQuestType<Tracktype>() {
 
     override fun createForm() = AddTracktypeForm()
 
-    override fun applyAnswerTo(answer: Tracktype, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("tracktype", answer.osmValue)
+    override fun applyAnswerTo(answer: Tracktype, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("tracktype", answer.osmValue)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_calming_type/AddTrafficCalmingType.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_calming_type/AddTrafficCalmingType.kt
index f93385cb34d..43a6cdfeac9 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_calming_type/AddTrafficCalmingType.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_calming_type/AddTrafficCalmingType.kt
@@ -18,8 +18,8 @@ class AddTrafficCalmingType : OsmFilterQuestType<TrafficCalmingType>() {
 
     override fun createForm() = AddTrafficCalmingTypeForm()
 
-    override fun applyAnswerTo(answer: TrafficCalmingType, changes: StringMapChangesBuilder) {
-        changes.modify("traffic_calming", answer.osmValue)
+    override fun applyAnswerTo(answer: TrafficCalmingType, tags: StringMapChangesBuilder) {
+        tags["traffic_calming"] = answer.osmValue
     }
 
     override val questTypeAchievements = listOf(PEDESTRIAN, CAR)
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_button/AddTrafficSignalsButton.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_button/AddTrafficSignalsButton.kt
index 6f211504f57..d99f05f4261 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_button/AddTrafficSignalsButton.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_button/AddTrafficSignalsButton.kt
@@ -26,7 +26,7 @@ class AddTrafficSignalsButton : OsmFilterQuestType<Boolean>() {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.add("button_operated", answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags["button_operated"] = answer.toYesNo()
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_sound/AddTrafficSignalsSound.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_sound/AddTrafficSignalsSound.kt
index 8665c3fd0a7..21758683c23 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_sound/AddTrafficSignalsSound.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_sound/AddTrafficSignalsSound.kt
@@ -53,8 +53,8 @@ class AddTrafficSignalsSound : OsmElementQuestType<Boolean> {
 
     override fun createForm() = YesNoQuestAnswerFragment()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate(SOUND_SIGNALS, answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate(SOUND_SIGNALS, answer.toYesNo())
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_vibrate/AddTrafficSignalsVibration.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_vibrate/AddTrafficSignalsVibration.kt
index be558bef975..0d5a7dfb9eb 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_vibrate/AddTrafficSignalsVibration.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/traffic_signals_vibrate/AddTrafficSignalsVibration.kt
@@ -53,8 +53,8 @@ class AddTrafficSignalsVibration : OsmElementQuestType<Boolean> {
 
     override fun createForm() = AddTrafficSignalsVibrationForm()
 
-    override fun applyAnswerTo(answer: Boolean, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate(VIBRATING_BUTTON, answer.toYesNo())
+    override fun applyAnswerTo(answer: Boolean, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate(VIBRATING_BUTTON, answer.toYesNo())
     }
 }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/way_lit/AddWayLit.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/way_lit/AddWayLit.kt
index a2a700ebb1a..000fd455486 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/way_lit/AddWayLit.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/way_lit/AddWayLit.kt
@@ -62,10 +62,10 @@ class AddWayLit : OsmFilterQuestType<WayLitOrIsStepsAnswer>() {
 
     override fun createForm() = WayLitForm()
 
-    override fun applyAnswerTo(answer: WayLitOrIsStepsAnswer, changes: StringMapChangesBuilder) {
+    override fun applyAnswerTo(answer: WayLitOrIsStepsAnswer, tags: StringMapChangesBuilder) {
         when (answer) {
-            is IsActuallyStepsAnswer -> changes.modify("highway", "steps")
-            is WayLit -> changes.updateWithCheckDate("lit", answer.osmValue)
+            is IsActuallyStepsAnswer -> tags["highway"] = "steps"
+            is WayLit -> tags.updateWithCheckDate("lit", answer.osmValue)
         }
     }
 
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessBusiness.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessBusiness.kt
index c5eb28fa18a..64a8dda7981 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessBusiness.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessBusiness.kt
@@ -115,8 +115,8 @@ class AddWheelchairAccessBusiness(
 
     override fun createForm() = AddWheelchairAccessBusinessForm()
 
-    override fun applyAnswerTo(answer: WheelchairAccess, changes: StringMapChangesBuilder) {
-        changes.add("wheelchair", answer.osmValue)
+    override fun applyAnswerTo(answer: WheelchairAccess, tags: StringMapChangesBuilder) {
+        tags["wheelchair"] = answer.osmValue
     }
 
     private fun hasFeatureName(tags: Map<String, String>): Boolean =
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessOutside.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessOutside.kt
index 61d0973131f..53d4ba089c3 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessOutside.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessOutside.kt
@@ -25,7 +25,7 @@ class AddWheelchairAccessOutside : OsmFilterQuestType<WheelchairAccess>() {
 
     override fun createForm() = AddWheelchairAccessOutsideForm()
 
-    override fun applyAnswerTo(answer: WheelchairAccess, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("wheelchair", answer.osmValue)
+    override fun applyAnswerTo(answer: WheelchairAccess, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("wheelchair", answer.osmValue)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessPublicTransport.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessPublicTransport.kt
index 84164a3a165..18feafcfc17 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessPublicTransport.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessPublicTransport.kt
@@ -47,7 +47,7 @@ class AddWheelchairAccessPublicTransport : OsmFilterQuestType<WheelchairAccess>(
 
     override fun createForm() = AddWheelchairAccessPublicTransportForm()
 
-    override fun applyAnswerTo(answer: WheelchairAccess, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("wheelchair", answer.osmValue)
+    override fun applyAnswerTo(answer: WheelchairAccess, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("wheelchair", answer.osmValue)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToilets.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToilets.kt
index 1f51daf65cc..f59741ff69f 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToilets.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToilets.kt
@@ -32,7 +32,7 @@ class AddWheelchairAccessToilets : OsmFilterQuestType<WheelchairAccess>() {
 
     override fun createForm() = AddWheelchairAccessToiletsForm()
 
-    override fun applyAnswerTo(answer: WheelchairAccess, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("wheelchair", answer.osmValue)
+    override fun applyAnswerTo(answer: WheelchairAccess, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("wheelchair", answer.osmValue)
     }
 }
diff --git a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToiletsPart.kt b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToiletsPart.kt
index 26dc4109550..45d8bfbf905 100644
--- a/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToiletsPart.kt
+++ b/app/src/main/java/de/westnordost/streetcomplete/quests/wheelchair_access/AddWheelchairAccessToiletsPart.kt
@@ -32,7 +32,7 @@ class AddWheelchairAccessToiletsPart : OsmFilterQuestType<WheelchairAccess>() {
 
     override fun createForm() = AddWheelchairAccessToiletsForm()
 
-    override fun applyAnswerTo(answer: WheelchairAccess, changes: StringMapChangesBuilder) {
-        changes.updateWithCheckDate("toilets:wheelchair", answer.osmValue)
+    override fun applyAnswerTo(answer: WheelchairAccess, tags: StringMapChangesBuilder) {
+        tags.updateWithCheckDate("toilets:wheelchair", answer.osmValue)
     }
 }
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/meta/ResurveyUtilsTest.kt b/app/src/test/java/de/westnordost/streetcomplete/data/meta/ResurveyUtilsTest.kt
index 6f66a898232..4de6463ecec 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/meta/ResurveyUtilsTest.kt
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/meta/ResurveyUtilsTest.kt
@@ -223,7 +223,7 @@ class ResurveyUtilsTest {
 
     @Test fun `deleteCheckDates does not add a check date`() {
         val builder = StringMapChangesBuilder(mapOf())
-        builder.deleteOtherCheckDates()
+        builder.removeOtherCheckDates()
         val changes = builder.create().changes
 
         assertTrue(changes.isEmpty())
@@ -231,7 +231,7 @@ class ResurveyUtilsTest {
 
     @Test fun `deleteCheckDates removes check date`() {
         val builder = StringMapChangesBuilder(mapOf("check_date" to "2000-11-11"))
-        builder.deleteCheckDates()
+        builder.removeCheckDates()
         val changes = builder.create().changes
 
         assertTrue(changes.containsExactlyInAnyOrder(listOf(
@@ -245,7 +245,7 @@ class ResurveyUtilsTest {
             "lastcheck" to "2000-11-02",
             "last_checked" to "2000-11-03",
         ))
-        builder.deleteCheckDates()
+        builder.removeCheckDates()
         val changes = builder.create().changes.toSet()
 
         assertTrue(changes.containsExactlyInAnyOrder(listOf(
@@ -257,7 +257,7 @@ class ResurveyUtilsTest {
 
     @Test fun `deleteOtherCheckDates does not add a check date`() {
         val builder = StringMapChangesBuilder(mapOf())
-        builder.deleteOtherCheckDates()
+        builder.removeOtherCheckDates()
         val changes = builder.create().changes
 
         assertTrue(changes.isEmpty())
@@ -265,7 +265,7 @@ class ResurveyUtilsTest {
 
     @Test fun `deleteOtherCheckDates does not modify check date`() {
         val builder = StringMapChangesBuilder(mapOf("check_date" to "2000-11-11"))
-        builder.deleteOtherCheckDates()
+        builder.removeOtherCheckDates()
         val changes = builder.create().changes
 
         assertTrue(changes.isEmpty())
@@ -277,7 +277,7 @@ class ResurveyUtilsTest {
             "lastcheck" to "2000-11-02",
             "last_checked" to "2000-11-03",
         ))
-        builder.deleteOtherCheckDates()
+        builder.removeOtherCheckDates()
         val changes = builder.create().changes.toSet()
 
         assertTrue(changes.containsExactlyInAnyOrder(listOf(
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilderTest.kt b/app/src/test/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilderTest.kt
index d73c2957dfc..64b2bc3ad44 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilderTest.kt
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/osm/edits/update_tags/StringMapChangesBuilderTest.kt
@@ -8,7 +8,7 @@ class StringMapChangesBuilderTest {
 
     @Test fun delete() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
-        builder.delete("exists")
+        builder.remove("exists")
         val change = builder.create().changes.single() as StringMapEntryDelete
         assertEquals("exists", change.key)
         assertEquals("like this", change.valueBefore)
@@ -17,12 +17,12 @@ class StringMapChangesBuilderTest {
     @Test(expected = IllegalArgumentException::class)
     fun `delete non-existing fails`() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
-        builder.delete("does not exist")
+        builder.remove("does not exist")
     }
 
     @Test fun `deleteIfExists non-existing does not fail`() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
-        builder.deleteIfExists("does not exist")
+        builder.remove("does not exist")
     }
 
     @Test fun `deleteIfPreviously non-existing does not fail`() {
@@ -48,7 +48,7 @@ class StringMapChangesBuilderTest {
 
     @Test fun add() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
-        builder.add("does not exist", "but now")
+        builder.set("does not exist", "but now")
         val change = builder.create().changes.single() as StringMapEntryAdd
         assertEquals("does not exist", change.key)
         assertEquals("but now", change.value)
@@ -57,7 +57,7 @@ class StringMapChangesBuilderTest {
     @Test(expected = IllegalArgumentException::class)
     fun `add already existing fails`() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
-        builder.add("exists", "like that")
+        builder.set("exists", "like that")
     }
 
     @Test fun modify() {
@@ -84,6 +84,6 @@ class StringMapChangesBuilderTest {
     fun `duplicate change on same key fails`() {
         val builder = StringMapChangesBuilder(mapOf("exists" to "like this"))
         builder.modify("exists", "like that")
-        builder.delete("exists")
+        builder.remove("exists")
     }
 }
diff --git a/app/src/test/java/de/westnordost/streetcomplete/data/quest/TestQuestTypes.kt b/app/src/test/java/de/westnordost/streetcomplete/data/quest/TestQuestTypes.kt
index de7a327fa1f..938c82326ee 100644
--- a/app/src/test/java/de/westnordost/streetcomplete/data/quest/TestQuestTypes.kt
+++ b/app/src/test/java/de/westnordost/streetcomplete/data/quest/TestQuestTypes.kt
@@ -12,7 +12,7 @@ open class TestQuestTypeA : OsmElementQuestType<String> {
 
     override fun getTitle(tags: Map<String, String>) = 0
     override fun isApplicableTo(element: Element):Boolean? = null
-    override fun applyAnswerTo(answer: String, changes: StringMapChangesBuilder) {}
+    override fun applyAnswerTo(answer: String, tags: StringMapChangesBuilder) {}
     override fun createForm(): AbstractQuestAnswerFragment<String> = object : AbstractQuestAnswerFragment<String>() {}
     override val changesetComment = "test me"
     override fun getApplicableElements(mapData: MapDataWithGeometry) = mapData.filter { isApplicableTo(it) == true }
