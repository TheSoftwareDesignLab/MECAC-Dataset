diff --git a/AnkiDroid/src/main/AndroidManifest.xml b/AnkiDroid/src/main/AndroidManifest.xml
index 85f72ef3facd..7915b31dab3d 100644
--- a/AnkiDroid/src/main/AndroidManifest.xml
+++ b/AnkiDroid/src/main/AndroidManifest.xml
@@ -249,6 +249,10 @@
             android:exported="false"
             android:configChanges="keyboardHidden|orientation|screenSize"
             />
+        <activity
+            android:name=".ui.windows.permissions.PermissionsActivity"
+            android:exported="false"
+            />
         <activity
             android:name=".ModelFieldEditor"
             android:label="@string/model_editor_label"
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CollectionHelper.kt b/AnkiDroid/src/main/java/com/ichi2/anki/CollectionHelper.kt
index 1aa924fc22ae..6aa860a85427 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CollectionHelper.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CollectionHelper.kt
@@ -399,7 +399,7 @@ open class CollectionHelper {
         // TODO Tracked in https://github.com/ankidroid/Anki-Android/issues/5304
         @CheckResult
         fun getDefaultAnkiDroidDirectory(context: Context): String {
-            val legacyStorage = StartupStoragePermissionManager.selectAnkiDroidFolder(context) != AppPrivateFolder
+            val legacyStorage = selectAnkiDroidFolder(context) != AppPrivateFolder
             return if (!legacyStorage) {
                 File(getAppSpecificExternalAnkiDroidDirectory(context), "AnkiDroid").absolutePath
             } else {
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
index 89826929f7c4..53172452f1b7 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
@@ -25,7 +25,6 @@
 
 package com.ichi2.anki
 
-import android.Manifest
 import android.app.Activity
 import android.content.*
 import android.database.SQLException
@@ -37,6 +36,7 @@ import android.util.TypedValue
 import android.view.*
 import android.view.View.OnLongClickListener
 import android.widget.*
+import androidx.activity.result.contract.ActivityResultContracts
 import androidx.annotation.StringRes
 import androidx.annotation.VisibleForTesting
 import androidx.appcompat.app.AlertDialog
@@ -84,9 +84,6 @@ import com.ichi2.anki.dialogs.customstudy.CustomStudyDialogFactory
 import com.ichi2.anki.export.ActivityExportingDelegate
 import com.ichi2.anki.export.ExportType
 import com.ichi2.anki.notetype.ManageNotetypes
-import com.ichi2.anki.permissions.PermissionManager
-import com.ichi2.anki.permissions.PermissionsRequestRawResults
-import com.ichi2.anki.permissions.PermissionsRequestResults
 import com.ichi2.anki.preferences.AdvancedSettingsFragment
 import com.ichi2.anki.preferences.sharedPrefs
 import com.ichi2.anki.receiver.SdCardReceiver
@@ -100,6 +97,7 @@ import com.ichi2.anki.snackbar.BaseSnackbarBuilderProvider
 import com.ichi2.anki.snackbar.SnackbarBuilder
 import com.ichi2.anki.snackbar.showSnackbar
 import com.ichi2.anki.ui.dialogs.storageMigrationFailedDialogIsShownOrPending
+import com.ichi2.anki.ui.windows.permissions.PermissionsActivity
 import com.ichi2.anki.utils.SECONDS_PER_DAY
 import com.ichi2.anki.utils.timeQuantityTopDeckPicker
 import com.ichi2.anki.widgets.DeckAdapter
@@ -126,7 +124,6 @@ import org.json.JSONException
 import timber.log.Timber
 import java.io.File
 import java.lang.Runnable
-import java.lang.ref.WeakReference
 import kotlin.time.Duration.Companion.milliseconds
 import kotlin.time.ExperimentalTime
 import kotlin.time.measureTimedValue
@@ -243,15 +240,9 @@ open class DeckPicker :
     private lateinit var mCustomStudyDialogFactory: CustomStudyDialogFactory
     private lateinit var mContextMenuFactory: DeckPickerContextMenu.Factory
 
-    private lateinit var startupStoragePermissionManager: StartupStoragePermissionManager
-
-    // used for check media
-    private val checkMediaStoragePermissionCheck = PermissionManager.register(
-        this,
-        if (Build.VERSION.SDK_INT < Build.VERSION_CODES.TIRAMISU) arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE) else emptyArray(),
-        useCallbackIfActivityRecreated = true,
-        callback = callbackHandlingStoragePermissionsCheckForCheckMedia(WeakReference(this))
-    )
+    private val permissionScreenLauncher = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {
+        ActivityCompat.recreate(this)
+    }
 
     private var migrateStorageAfterMediaSyncCompleted = false
 
@@ -325,7 +316,6 @@ open class DeckPicker :
         // Then set theme and content view
         super.onCreate(savedInstanceState)
 
-        startupStoragePermissionManager = StartupStoragePermissionManager.register(this, useCallbackIfActivityRecreated = false)
         // handle the first load: display the app introduction
         if (!hasShownAppIntro()) {
             val appIntro = Intent(this, IntroductionActivity::class.java)
@@ -491,11 +481,11 @@ open class DeckPicker :
      *   This method triggers backups, sync, and may re-show dialogs
      *   that may have been dismissed. Make this run only once?
      */
-    fun handleStartup() {
-        val storagePermissionsResult = startupStoragePermissionManager.checkPermissions()
-        if (storagePermissionsResult.requiresPermissionDialog) {
+    private fun handleStartup() {
+        val ankiDroidFolder = selectAnkiDroidFolder(this)
+        if (!ankiDroidFolder.hasRequiredPermissions(this)) {
             Timber.i("postponing startup code - dialog shown")
-            startupStoragePermissionManager.displayStoragePermissionDialog()
+            permissionScreenLauncher.launch(PermissionsActivity.getIntent(this, ankiDroidFolder.permissionSet))
             return
         }
 
@@ -1473,7 +1463,10 @@ open class DeckPicker :
      * If has the storage permission, job is scheduled, otherwise storage permission is asked first.
      */
     override fun mediaCheck() {
-        checkMediaStoragePermissionCheck.launchDialogOrExecuteCallbackNow()
+        launchCatchingTask {
+            val mediaCheckResult = checkMedia() ?: return@launchCatchingTask
+            showMediaCheckDialog(MediaCheckDialog.DIALOG_MEDIA_CHECK_RESULTS, mediaCheckResult)
+        }
     }
 
     override fun deleteUnused(unused: List<String>) {
@@ -2183,26 +2176,6 @@ open class DeckPicker :
         private const val AUTOMATIC_SYNC_MINIMAL_INTERVAL_IN_MINUTES: Long = 10
         private const val SWIPE_TO_SYNC_TRIGGER_DISTANCE = 400
 
-        /**
-         * Handles a [PermissionsRequestResults] for storage permissions to launch 'checkMedia'
-         * Static to avoid a context leak
-         */
-        fun callbackHandlingStoragePermissionsCheckForCheckMedia(deckPickerRef: WeakReference<DeckPicker>): (permissionResultRaw: PermissionsRequestRawResults) -> Unit {
-            fun handleStoragePermissionsCheckForCheckMedia(permissionResultRaw: PermissionsRequestRawResults) {
-                val deckPicker = deckPickerRef.get() ?: return
-                val permissionResult = PermissionsRequestResults.from(deckPicker, permissionResultRaw)
-                if (permissionResult.allGranted) {
-                    deckPicker.launchCatchingTask {
-                        val mediaCheckResult = deckPicker.checkMedia() ?: return@launchCatchingTask
-                        deckPicker.showMediaCheckDialog(MediaCheckDialog.DIALOG_MEDIA_CHECK_RESULTS, mediaCheckResult)
-                    }
-                } else {
-                    showThemedToast(deckPicker, R.string.check_media_failed, true)
-                }
-            }
-            return ::handleStoragePermissionsCheckForCheckMedia
-        }
-
         // Animation utility methods used by renderPage() method
         fun fadeIn(view: View?, duration: Int, translation: Float = 0f, startAction: Runnable? = Runnable { view!!.visibility = View.VISIBLE }): ViewPropertyAnimator {
             view!!.alpha = 0f
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/InitialActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/InitialActivity.kt
index c0479a2d2ab0..5f382208cb8d 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/InitialActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/InitialActivity.kt
@@ -16,22 +16,24 @@
 
 package com.ichi2.anki
 
-import android.Manifest
 import android.content.Context
 import android.content.SharedPreferences
 import android.os.Build
 import android.os.Environment
+import android.os.Parcelable
 import androidx.annotation.CheckResult
+import androidx.annotation.RequiresApi
 import androidx.core.content.edit
-import com.ichi2.anki.permissions.PermissionManager
-import com.ichi2.anki.permissions.PermissionsRequestResults
-import com.ichi2.anki.permissions.finishActivityAndShowAppPermissionManagementScreen
 import com.ichi2.anki.servicelayer.PreferenceUpgradeService
 import com.ichi2.anki.servicelayer.PreferenceUpgradeService.setPreferencesUpToDate
 import com.ichi2.anki.servicelayer.ScopedStorageService.isLegacyStorage
-import com.ichi2.annotations.NeedsTest
+import com.ichi2.anki.ui.windows.permissions.Full30and31PermissionsFragment
+import com.ichi2.anki.ui.windows.permissions.PermissionsFragment
+import com.ichi2.anki.ui.windows.permissions.PermissionsUntil29Fragment
+import com.ichi2.anki.ui.windows.permissions.TiramisuPermissionsFragment
 import com.ichi2.utils.Permissions
 import com.ichi2.utils.VersionUtils.pkgVersionName
+import kotlinx.parcelize.Parcelize
 import timber.log.Timber
 
 /** Utilities for launching the first activity (currently the DeckPicker)  */
@@ -125,19 +127,15 @@ object InitialActivity {
     }
 }
 
-/**
- * Whether we should try a startup with a permission dialog + folder which is safe from uninstalling
- * or go straight into AnkiDroid
- */
-sealed interface AnkiDroidFolder {
+sealed class AnkiDroidFolder(val permissionSet: PermissionSet) {
     /**
      * AnkiDroid will use the folder ~/AnkiDroid by default
-     * To access it, we must first get [requiredPermissions].
+     * To access it, we must first get [permissionSet].permissions.
      * This folder is not deleted when the user uninstalls the app, which reduces the risk of data loss,
      * but increase the risk of space used on their storage when they don't want to.
      * It can not be used on the play store starting with Sdk 30.
      **/
-    class PublicFolder(val requiredPermissions: Array<String>) : AnkiDroidFolder
+    class PublicFolder(requiredPermissions: PermissionSet) : AnkiDroidFolder(requiredPermissions)
 
     /**
      * AnkiDroid will use the app-private folder: `~/Android/data/com.ichi2.anki[.A]/files/AnkiDroid`.
@@ -145,7 +143,27 @@ sealed interface AnkiDroidFolder {
      * No permission dialog is required.
      * Google will not allow [android.Manifest.permission.MANAGE_EXTERNAL_STORAGE], so this is default on the Play Store.
      */
-    object AppPrivateFolder : AnkiDroidFolder
+    object AppPrivateFolder : AnkiDroidFolder(PermissionSet.APP_PRIVATE)
+
+    fun hasRequiredPermissions(context: Context): Boolean {
+        return Permissions.hasAllPermissions(context, permissionSet.permissions)
+    }
+}
+
+@Parcelize
+enum class PermissionSet(val permissions: List<String>, val permissionsFragment: Class<out PermissionsFragment>?) : Parcelable {
+    LEGACY_ACCESS(Permissions.legacyStorageAccessPermissions, PermissionsUntil29Fragment::class.java),
+
+    @RequiresApi(Build.VERSION_CODES.R)
+    EXTERNAL_MANAGER(listOf(Permissions.MANAGE_EXTERNAL_STORAGE), Full30and31PermissionsFragment::class.java),
+
+    @RequiresApi(Build.VERSION_CODES.TIRAMISU)
+    TIRAMISU_EXTERNAL_MANAGER(
+        permissions = listOf(Permissions.MANAGE_EXTERNAL_STORAGE),
+        permissionsFragment = TiramisuPermissionsFragment::class.java
+    ),
+
+    APP_PRIVATE(emptyList(), null);
 }
 
 /**
@@ -163,135 +181,27 @@ internal fun selectAnkiDroidFolder(
         // since it's fast & safe up to & including 'Q'
         // If a user upgrades their OS from Android 10 to 11 then storage speed is severely reduced
         // and a user should use one of the below options to provide faster speeds
-        return AnkiDroidFolder.PublicFolder(
-            arrayOf(
-                Manifest.permission.READ_EXTERNAL_STORAGE,
-                Manifest.permission.WRITE_EXTERNAL_STORAGE
-            )
-        )
+        return AnkiDroidFolder.PublicFolder(PermissionSet.LEGACY_ACCESS)
     }
 
     // If the user can manage external storage, we can access the safe folder & access is fast
     return if (canManageExternalStorage) {
-        AnkiDroidFolder.PublicFolder(arrayOf(Manifest.permission.MANAGE_EXTERNAL_STORAGE))
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
+            AnkiDroidFolder.PublicFolder(PermissionSet.TIRAMISU_EXTERNAL_MANAGER)
+        } else {
+            AnkiDroidFolder.PublicFolder(PermissionSet.EXTERNAL_MANAGER)
+        }
     } else {
         return AnkiDroidFolder.AppPrivateFolder
     }
 }
 
-/**
- * Logic related to [DeckPicker] startup - required permissions for storage
- * Handles: Accept, Deny + Permanent Deny of permissions
- *
- * Designed to allow expansion for more complex logic
- */
-@NeedsTest("New User: Accepts permission")
-@NeedsTest("New User: Denies permission then accepts")
-@NeedsTest("New User: Denies permission then denies permanently")
-@NeedsTest("New User: Denies permission permanently")
-@NeedsTest("Existing User: Permission Granted")
-@NeedsTest("Existing User: System removed permission")
-@NeedsTest("Existing User: Changes Deck")
-class StartupStoragePermissionManager private constructor(
-    private val deckPicker: DeckPicker,
-    ankidroidFolder: AnkiDroidFolder,
-    useCallbackIfActivityRecreated: Boolean
-) {
-    private var timesRequested: Int = 0
-    private val requiredPermissions = when (ankidroidFolder) {
-        is AnkiDroidFolder.AppPrivateFolder -> noPermissionDialogRequired
-        is AnkiDroidFolder.PublicFolder -> ankidroidFolder.requiredPermissions
-    }
-
-    /**
-     * Show "Please grant AnkiDroid the ‘Storage’ permission to continue" and open Android settings
-     * for AnkiDroid's permissions
-     */
-    private fun onPermissionPermanentlyDenied() {
-        // User denied access to file storage  so show error toast and display "App Info"
-        UIUtils.showThemedToast(deckPicker, R.string.startup_no_storage_permission, false)
-        // note: this may not be defined on some Phones. In which case we still have a toast
-        deckPicker.finishActivityAndShowAppPermissionManagementScreen()
-    }
+fun selectAnkiDroidFolder(context: Context): AnkiDroidFolder {
+    val canAccessLegacyStorage = Build.VERSION.SDK_INT < Build.VERSION_CODES.Q || Environment.isExternalStorageLegacy()
+    val currentFolderIsAccessibleAndLegacy = canAccessLegacyStorage && isLegacyStorage(context, setCollectionPath = false) == true
 
-    private fun onRegularStartup() {
-        deckPicker.invalidateOptionsMenu()
-        deckPicker.handleStartup()
-    }
-
-    private fun retryPermissionRequest(displayError: Boolean) {
-        if (timesRequested < 3) {
-            displayStoragePermissionDialog()
-        } else {
-            if (displayError) {
-                Timber.w("doing nothing - app is probably broken")
-                CrashReportService.sendExceptionReport("Multiple errors obtaining permissions", "InitialActivity::permissionManager")
-            }
-            onPermissionPermanentlyDenied()
-        }
-    }
-
-    private val permissionManager = PermissionManager.register(
-        activity = deckPicker,
-        permissions = requiredPermissions,
-        useCallbackIfActivityRecreated = useCallbackIfActivityRecreated,
-        callback = { permissionDialogResultRaw ->
-            val permissionDialogResult = PermissionsRequestResults.from(deckPicker, permissionDialogResultRaw)
-            with(permissionDialogResult) {
-                when {
-                    allGranted -> onRegularStartup()
-                    hasPermanentlyDeniedPermissions -> onPermissionPermanentlyDenied()
-                    // try again (recurse), we need the permission
-                    hasTemporarilyDeniedPermissions -> retryPermissionRequest(displayError = false)
-                    hasRejectedPermissions -> retryPermissionRequest(displayError = false)
-                    cancelled -> {
-                        if (timesRequested == 1) {
-                            UIUtils.showThemedToast(deckPicker, R.string.something_wrong, false)
-                        }
-                        retryPermissionRequest(displayError = true)
-                    }
-                }
-            }
-        }
+    return selectAnkiDroidFolder(
+        canManageExternalStorage = Permissions.canManageExternalStorage(context),
+        currentFolderIsAccessibleAndLegacy = currentFolderIsAccessibleAndLegacy
     )
-
-    fun displayStoragePermissionDialog() {
-        timesRequested++
-        permissionManager.launchPermissionDialog()
-    }
-
-    fun checkPermissions() = permissionManager.checkPermissions()
-
-    companion object {
-        /** If no permissions are provided, no dialog is shown */
-        private val noPermissionDialogRequired = emptyArray<String>()
-
-        /**
-         * This **must** be called unconditionally, as part of initialization path inside after `super.onCreate`
-         * */
-        fun register(
-            deckPicker: DeckPicker,
-            useCallbackIfActivityRecreated: Boolean
-        ): StartupStoragePermissionManager {
-            // This must be called unconditionally due to the use of PermissionManager.register
-            // This must be called after `onCreate` due to the use of deckPicker as a context
-
-            val permissionRequest = selectAnkiDroidFolder(deckPicker)
-            return StartupStoragePermissionManager(
-                deckPicker,
-                permissionRequest,
-                useCallbackIfActivityRecreated = useCallbackIfActivityRecreated
-            )
-        }
-
-        fun selectAnkiDroidFolder(context: Context): AnkiDroidFolder {
-            val canAccessLegacyStorage = Build.VERSION.SDK_INT < Build.VERSION_CODES.Q || Environment.isExternalStorageLegacy()
-            val currentFolderIsAccessibleAndLegacy = canAccessLegacyStorage && isLegacyStorage(context, setCollectionPath = false) == true
-
-            return selectAnkiDroidFolder(
-                canManageExternalStorage = Permissions.canManageExternalStorage(context),
-                currentFolderIsAccessibleAndLegacy = currentFolderIsAccessibleAndLegacy
-            )
-        }
-    }
 }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionManager.kt b/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionManager.kt
deleted file mode 100644
index 07bf2e06b904..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionManager.kt
+++ /dev/null
@@ -1,190 +0,0 @@
-/*
- *  Copyright (c) 2023 David Allison <davidallisongithub@gmail.com>
- *
- *  This program is free software; you can redistribute it and/or modify it under
- *  the terms of the GNU General Public License as published by the Free Software
- *  Foundation; either version 3 of the License, or (at your option) any later
- *  version.
- *
- *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
- *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
- *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License along with
- *  this program.  If not, see <http://www.gnu.org/licenses/>.
- */
-
-package com.ichi2.anki.permissions
-
-import android.content.Context
-import android.content.Intent
-import android.net.Uri
-import android.os.Build
-import android.provider.Settings
-import androidx.activity.result.ActivityResultLauncher
-import androidx.activity.result.contract.ActivityResultContracts
-import androidx.annotation.CheckResult
-import androidx.annotation.RequiresApi
-import androidx.core.app.ActivityCompat
-import com.ichi2.anki.AnkiActivity
-import com.ichi2.anki.R
-import com.ichi2.anki.UIUtils
-import com.ichi2.utils.Permissions
-import timber.log.Timber
-import java.lang.ref.WeakReference
-
-/**
- * Handle permission requests via:
- * * [permissionDialogLauncher] returning whether it will execute the provided callback
- * * [PermissionsRequestResults] encapsulating temporary and permanent permission failure
- * @param permissions an array of permissions which PermissionManager will request (may be empty)
- * @param useCallbackIfActivityRecreated Whether [callback] should be executed if the activity was recreated.
- * Some logic may be re-executed on startup, and therefore the callback is unnecessary.
-*/
-class PermissionManager private constructor(
-    activity: AnkiActivity,
-    val permissions: Array<String>,
-    private val useCallbackIfActivityRecreated: Boolean,
-    // callback must be supplied here to allow for recreation of the activity if destroyed
-    private val callback: (permissionDialogResult: PermissionsRequestRawResults) -> Unit
-) {
-
-    /**
-     * Has a [ActivityResultLauncher.launch] method which accepts one or more permissions and displays
-     * an Android permissions dialog. The callback is executed once the permissions dialog is closed
-     * and focus returns to the app; except in one case, @see [useCallbackIfActivityRecreated]
-     */
-    private val permissionDialogLauncher: ActivityResultLauncher<Array<String>> =
-        activity.registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { results ->
-            if (!permissionsRequestedInCurrentInstance) {
-                // This can occur if the activity that sent the request was deleted while requesting for permission.
-                if (!useCallbackIfActivityRecreated) {
-                    // We may not want to execute the callback, because everything that it would do
-                    // is done during the creation of the new activity. So we can just do an early return
-                    return@registerForActivityResult
-                }
-            }
-            callback.invoke(PermissionsRequestRawResults(results, requestedPermissions = true))
-        }
-    private val activityRef = WeakReference(activity)
-
-    // Whether permissions were requested in this instance
-    private var permissionsRequestedInCurrentInstance: Boolean = false
-
-    fun checkPermissions(): PermissionsCheckResult {
-        val activity = activityRef.get() ?: throw Exception("activity disposed")
-        val permissions = permissions.associateWith { Permissions.hasPermission(activity, it) }
-        return PermissionsCheckResult(permissions)
-    }
-
-    @RequiresApi(Build.VERSION_CODES.R)
-    private fun willRequestManageExternalStorage(context: Context): Boolean {
-        val requiresManageExternalStoragePermission = permissions.contains(MANAGE_EXTERNAL_STORAGE)
-        val isManageExternalStorageGranted = Permissions.hasPermission(context, MANAGE_EXTERNAL_STORAGE)
-
-        return requiresManageExternalStoragePermission && !isManageExternalStorageGranted
-    }
-
-    /**
-     * Launches a permission dialog. [callback] is executed after it is closed.
-     * Should be called if [PermissionsCheckResult.requiresPermissionDialog] is true
-     */
-    @CheckResult
-    fun launchPermissionDialog() {
-        permissionsRequestedInCurrentInstance = true
-        if (!permissions.any()) {
-            throw IllegalStateException("permissions should be non-empty/requiresPermissionDialog was not called")
-        }
-
-        val activity = activityRef.get() ?: throw Exception("activity disposed")
-
-        // 'Manage External Storage' needs special-casing as launchPermissionDialog can't request it
-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R && willRequestManageExternalStorage(activity)) {
-            // Open an external screen and close the activity.
-            // Accepting this permission closes the app
-            UIUtils.showThemedToast(activity, R.string.startup_all_files_access_permission, false)
-            activity.showManageAllFilesScreen()
-            return
-        }
-
-        Timber.i("Showing dialog to request: '%s'", permissions.joinToString(", "))
-        permissionDialogLauncher.launch(permissions)
-    }
-
-    fun launchDialogOrExecuteCallbackNow() {
-        val permissions = checkPermissions()
-        if (permissions.requiresPermissionDialog) {
-            this.launchPermissionDialog()
-        } else {
-            callback.invoke(permissions.toPermissionsRequestRawResult(requestedPermissions = permissions.permissions.any())!!)
-        }
-    }
-
-    companion object {
-        @RequiresApi(Build.VERSION_CODES.R)
-        private const val MANAGE_EXTERNAL_STORAGE = android.Manifest.permission.MANAGE_EXTERNAL_STORAGE
-
-        /**
-         * This ** must be called unconditionally, as part of AnkiDroid initialization path.
-         * This is because we can't know whether we'll be receiving the result of the activity requesting the permissions.
-         * We typically call it by assigning its result to a field during initialization of an activity.
-         */
-        fun register(
-            activity: AnkiActivity,
-            permissions: Array<String>,
-            useCallbackIfActivityRecreated: Boolean,
-            callback: (permissionDialogResult: PermissionsRequestRawResults) -> Unit
-        ): PermissionManager =
-            PermissionManager(activity, permissions, useCallbackIfActivityRecreated, callback)
-    }
-}
-
-/**
- * Closes the activity. Opens the Android settings for AnkiDroid if the phone provide this feature.
- * Lets a user grant any missing permissions which have been permanently denied
- * We finish the activity as setting permissions terminates the app
- */
-fun AnkiActivity.finishActivityAndShowAppPermissionManagementScreen() {
-    this.finish()
-    showAppPermissionManagementScreen()
-}
-
-private fun AnkiActivity.showAppPermissionManagementScreen() {
-    startActivity(
-        Intent(
-            Settings.ACTION_APPLICATION_DETAILS_SETTINGS,
-            Uri.fromParts("package", this.packageName, null)
-        )
-    )
-}
-
-/**
- * Opens the Android 'MANAGE_ALL_FILES' page if the phone provides this feature.
- */
-@RequiresApi(Build.VERSION_CODES.R)
-fun AnkiActivity.showManageAllFilesScreen() {
-    // This screen is simpler than the one from displayAppPermissionManagementScreen:
-    // In 'AppPermissionManagement' a user has to go to permissions -> storage -> 'allow management of all files' -> dialog warning
-    // In 'ManageAllFiles': a user selects the app which has permission
-    val accessAllFilesLauncher = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {
-        if (Permissions.isExternalStorageManager()) {
-            ActivityCompat.recreate(this)
-        } else {
-            finish()
-        }
-    }
-
-    val intent = Intent(
-        Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,
-        Uri.fromParts("package", this.packageName, null)
-    )
-
-    // From the docs: [ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION]
-    // In some cases, a matching Activity may not exist, so ensure you safeguard against this.
-    if (intent.resolveActivity(packageManager) != null) {
-        accessAllFilesLauncher.launch(intent)
-    } else {
-        // This also allows management of the all files permission (worse UI)
-        finishActivityAndShowAppPermissionManagementScreen()
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsCheckResult.kt b/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsCheckResult.kt
deleted file mode 100644
index 3aea37eaf8f8..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsCheckResult.kt
+++ /dev/null
@@ -1,36 +0,0 @@
-/*
- *  Copyright (c) 2023 David Allison <davidallisongithub@gmail.com>
- *
- *  This program is free software; you can redistribute it and/or modify it under
- *  the terms of the GNU General Public License as published by the Free Software
- *  Foundation; either version 3 of the License, or (at your option) any later
- *  version.
- *
- *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
- *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
- *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License along with
- *  this program.  If not, see <http://www.gnu.org/licenses/>.
- */
-
-package com.ichi2.anki.permissions
-
-/**
- * The result of checking the status of permissions
- * @param permissions A map, containing an entry for each required permission, associating to it whether it's already granted
- */
-open class PermissionsCheckResult(val permissions: Map<String, Boolean>) {
-    val requiresPermissionDialog: Boolean = permissions.any { !it.value }
-
-    /**
-     * @param requestedPermissions Whether any permissions were requested
-     * @return A [PermissionsRequestRawResults], or `null` if a permissions dialog is required.
-     */
-    fun toPermissionsRequestRawResult(requestedPermissions: Boolean): PermissionsRequestRawResults? {
-        if (requiresPermissionDialog) {
-            return null
-        }
-        return PermissionsRequestRawResults(permissions, requestedPermissions)
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsRequestResults.kt b/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsRequestResults.kt
deleted file mode 100644
index b5b17ffedacb..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/permissions/PermissionsRequestResults.kt
+++ /dev/null
@@ -1,80 +0,0 @@
-/*
- *  Copyright (c) 2023 David Allison <davidallisongithub@gmail.com>
- *
- *  This program is free software; you can redistribute it and/or modify it under
- *  the terms of the GNU General Public License as published by the Free Software
- *  Foundation; either version 3 of the License, or (at your option) any later
- *  version.
- *
- *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
- *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
- *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License along with
- *  this program.  If not, see <http://www.gnu.org/licenses/>.
- */
-
-package com.ichi2.anki.permissions
-
-import android.app.Activity
-import androidx.core.app.ActivityCompat
-import com.ichi2.anki.permissions.PermissionsRequestResults.PermissionRequestResult.*
-import com.ichi2.anki.permissions.PermissionsRequestResults.PermissionRequestResult.Companion.toPermissionRequestResult
-
-/**
- * Data to build a [PermissionsRequestResults], when there is no [Activity] to create it
- * Maps from a permission to whether it was granted
- */
-data class PermissionsRequestRawResults(val permissions: Map<String, Boolean>, val requestedPermissions: Boolean)
-
-/**
- * The result of requesting permissions
- * After we perform a request, starting at API M, we can know if a permission is temporarily or permanently denied.
- */
-class PermissionsRequestResults(permissions: Map<String, PermissionRequestResult>, requestedPermissions: Boolean) {
-    // If the permissions request interaction with the user is interrupted.
-    // then we get an empty results array
-    // https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback
-    val cancelled = requestedPermissions && !permissions.any()
-
-    val allGranted = !cancelled && permissions.all { it.value == GRANTED }
-
-    val hasRejectedPermissions = permissions.any { it.value.isDenied() }
-
-    val hasPermanentlyDeniedPermissions = permissions.any { it.value == PERMANENTLY_DENIED }
-
-    val hasTemporarilyDeniedPermissions = permissions.any { it.value == TEMPORARILY_DENIED }
-
-    companion object {
-        fun from(activity: Activity, rawResults: PermissionsRequestRawResults): PermissionsRequestResults {
-            val permissions = rawResults.permissions.mapValues { toPermissionRequestResult(activity, it.key, it.value) }
-            return PermissionsRequestResults(permissions, rawResults.requestedPermissions)
-        }
-    }
-
-    enum class PermissionRequestResult {
-        GRANTED,
-
-        TEMPORARILY_DENIED,
-
-        PERMANENTLY_DENIED;
-
-        fun isDenied(): Boolean = this != GRANTED
-
-        companion object {
-            fun toPermissionRequestResult(activity: Activity, permission: String, granted: Boolean): PermissionRequestResult {
-                if (granted) {
-                    return GRANTED
-                }
-
-                // Android doesn't let us easily determine if a permission was denied permanently or temporarily
-                // Use shouldShowRequestPermissionRationale to handle this
-
-                // Note: shouldShowRequestPermissionRationale will return FALSE if a permission dialog has not
-                // been shown. This may not happen here as we call getPermissionResult after we have dialog results
-                val isPermanentlyDenied = !ActivityCompat.shouldShowRequestPermissionRationale(activity, permission)
-                return if (isPermanentlyDenied) PERMANENTLY_DENIED else TEMPORARILY_DENIED
-            }
-        }
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/Full30and31PermissionsFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/Full30and31PermissionsFragment.kt
new file mode 100644
index 000000000000..7b46294bb21d
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/Full30and31PermissionsFragment.kt
@@ -0,0 +1,59 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.os.Build
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.activity.result.contract.ActivityResultContracts
+import androidx.annotation.RequiresApi
+import com.ichi2.anki.R
+import com.ichi2.utils.Permissions
+import com.ichi2.utils.Permissions.canManageExternalStorage
+
+/**
+ * Permissions screen for requesting permissions in API 30 and 31,
+ * if the user [canManageExternalStorage], which isn't possible in the play store.
+ *
+ * Requested permissions:
+ * 1. All files access: [Permissions.MANAGE_EXTERNAL_STORAGE].
+ *   Used for saving the collection in a public directory
+ *   which isn't deleted when the app is uninstalled
+ */
+@RequiresApi(Build.VERSION_CODES.R)
+class Full30and31PermissionsFragment : PermissionsFragment() {
+
+    private val accessAllFilesLauncher = registerForActivityResult(
+        ActivityResultContracts.StartActivityForResult()
+    ) {}
+
+    override fun onCreateView(
+        inflater: LayoutInflater,
+        container: ViewGroup?,
+        savedInstanceState: Bundle?
+    ): View {
+        val view = inflater.inflate(R.layout.permissions_full_30_and_31, container, false)
+
+        val allFilesPermission = view.findViewById<PermissionItem>(R.id.all_files_permission)
+        allFilesPermission.setOnSwitchClickListener {
+            accessAllFilesLauncher.showManageAllFilesScreen()
+        }
+
+        return view
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionItem.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionItem.kt
new file mode 100644
index 000000000000..ff1c448b30f4
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionItem.kt
@@ -0,0 +1,105 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.content.Context
+import android.content.res.ColorStateList
+import android.util.AttributeSet
+import android.view.LayoutInflater
+import android.widget.FrameLayout
+import android.widget.ImageView
+import androidx.appcompat.widget.SwitchCompat
+import androidx.core.content.withStyledAttributes
+import com.google.android.material.color.MaterialColors
+import com.ichi2.anki.R
+import com.ichi2.preferences.usingStyledAttributes
+import com.ichi2.ui.FixedTextView
+import com.ichi2.utils.Permissions
+
+/**
+ * Layout item that can be used to get a permission from the user.
+ *
+ * XML attributes:
+ * * app:permissionTitle ([R.styleable.PermissionItem_permissionTitle]):
+ *     Title of the permission
+ * * app:permissionSummary ([R.styleable.PermissionItem_permissionSummary]):
+ *     Brief description of the permission. It can be used to explain to the user
+ *     why the permission should be granted
+ * * app:permissionIcon ([R.styleable.PermissionItem_permissionIcon]):
+ *     Icon to be shown at the frame side
+ * * app:permission ([R.styleable.PermissionItem_permission]):
+ *     Permission string to be asked. Will be overridden by app:permissions if set.
+ * * app:permissions ([R.styleable.PermissionItem_permissions]):
+ *     Array of permission strings to be asked. Overrides app:permission if set
+ *
+ * @see R.layout.permission_item
+ */
+class PermissionItem(context: Context, attrs: AttributeSet) : FrameLayout(context, attrs) {
+    private val switch: SwitchCompat
+    val permissions: List<String>
+    val isGranted get() = Permissions.hasAllPermissions(context, permissions)
+
+    init {
+        LayoutInflater.from(context).inflate(R.layout.permission_item, this, true)
+
+        switch = findViewById<SwitchCompat>(R.id.switch_widget).apply {
+            isEnabled = true
+            setOnCheckedChangeListener { button, _ ->
+                button.isChecked = isGranted
+            }
+        }
+
+        permissions = context.usingStyledAttributes(attrs, R.styleable.PermissionItem) {
+            getTextArray(R.styleable.PermissionItem_permissions)?.map { it.toString() }
+                ?: getString(R.styleable.PermissionItem_permission)?.let { listOf(it) }
+                ?: throw IllegalArgumentException("Either app:permission or app:permissions should be set")
+        }
+
+        context.withStyledAttributes(attrs, R.styleable.PermissionItem) {
+            findViewById<FixedTextView>(R.id.title).text = getText(R.styleable.PermissionItem_permissionTitle)
+            findViewById<FixedTextView>(R.id.summary).text = getText(R.styleable.PermissionItem_permissionSummary)
+
+            val icon = getDrawable(R.styleable.PermissionItem_permissionIcon)
+            icon?.let {
+                val color = MaterialColors.getColor(this@PermissionItem, android.R.attr.colorControlNormal)
+                findViewById<ImageView>(R.id.icon).apply {
+                    setImageDrawable(it)
+                    imageTintList = ColorStateList.valueOf(color)
+                }
+            }
+        }
+    }
+
+    /**
+     * Checks the switch if the permission is granted,
+     * or uncheck if not
+     */
+    fun updateSwitchCheckedStatus() {
+        switch.isChecked = isGranted
+    }
+
+    /**
+     * It should be use to request the permission.
+     * The listener isn't invoked if the permission is already granted
+     * */
+    fun setOnSwitchClickListener(listener: () -> Unit) {
+        switch.setOnClickListener {
+            if (!isGranted) {
+                listener.invoke()
+            }
+        }
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivity.kt
new file mode 100644
index 000000000000..27d65c5bff3d
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivity.kt
@@ -0,0 +1,79 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.content.Context
+import android.content.Intent
+import android.os.Bundle
+import android.os.Parcelable
+import androidx.appcompat.widget.AppCompatButton
+import androidx.core.content.IntentCompat
+import androidx.fragment.app.commit
+import com.ichi2.anki.AnkiActivity
+import com.ichi2.anki.PermissionSet
+import com.ichi2.anki.R
+
+/**
+ * Screen responsible for getting permissions from the user.
+ *
+ * Prefer using [PermissionsActivity.getIntent] to get an intent to this activity.
+ *
+ * Advantages:
+ * * Explains why each permission should be granted
+ * * Easily reusable
+ * * Doesn't need to block any UI elements or background routines that depends on a permission.
+ *     Nor needs to add callbacks after the permissions are granted
+ * * TODO Show which permissions are mandatory and which are optional
+ */
+class PermissionsActivity : AnkiActivity() {
+    override fun onCreate(savedInstanceState: Bundle?) {
+        if (showedActivityFailedScreen(savedInstanceState)) {
+            return
+        }
+        super.onCreate(savedInstanceState)
+        setContentView(R.layout.permissions_activity)
+
+        findViewById<AppCompatButton>(R.id.continue_button).setOnClickListener {
+            finish()
+        }
+
+        val permissionSet = IntentCompat.getParcelableExtra(intent, PERMISSIONS_SET_EXTRA, PermissionSet::class.java) ?: return
+        val permissionsFragment = permissionSet.permissionsFragment?.getDeclaredConstructor()?.newInstance() ?: return
+        supportFragmentManager.commit {
+            replace(R.id.fragment_container, permissionsFragment)
+        }
+    }
+
+    @Suppress("DEPRECATION", "needs update to handle predictive back, see 14558")
+    override fun onBackPressed() {
+        super.onBackPressed()
+        // only close the activity by tapping the continue button
+    }
+
+    fun setContinueButtonEnabled(isEnabled: Boolean) {
+        findViewById<AppCompatButton>(R.id.continue_button).isEnabled = isEnabled
+    }
+
+    companion object {
+        const val PERMISSIONS_SET_EXTRA = "permissionsSet"
+
+        fun getIntent(context: Context, permissionsSet: PermissionSet): Intent {
+            return Intent(context, PermissionsActivity::class.java).apply {
+                putExtra(PERMISSIONS_SET_EXTRA, permissionsSet as Parcelable)
+            }
+        }
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsFragment.kt
new file mode 100644
index 000000000000..c7c71169120a
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsFragment.kt
@@ -0,0 +1,82 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.content.Intent
+import android.net.Uri
+import android.os.Build
+import android.provider.Settings
+import androidx.activity.result.ActivityResultLauncher
+import androidx.annotation.RequiresApi
+import androidx.annotation.StringRes
+import androidx.core.view.allViews
+import androidx.fragment.app.Fragment
+import com.ichi2.anki.UIUtils
+
+/**
+ * Base class for constructing a permissions screen
+ */
+abstract class PermissionsFragment : Fragment() {
+    /**
+     * All the [PermissionItem]s in the fragment.
+     * Must be called ONLY AFTER [onCreateView]
+     */
+    val permissionItems: List<PermissionItem>
+        by lazy { view?.allViews?.filterIsInstance<PermissionItem>()?.toList() ?: emptyList() }
+
+    override fun onResume() {
+        super.onResume()
+        permissionItems.forEach { it.updateSwitchCheckedStatus() }
+        (activity as? PermissionsActivity)?.setContinueButtonEnabled(
+            permissionItems.all { it.isGranted }
+        )
+    }
+
+    /**
+     * Opens the Android settings for AnkiDroid if the device provide this feature.
+     * Lets a user grant any missing permissions which have been permanently denied
+     */
+    private fun openAppSettingsScreen() {
+        startActivity(
+            Intent(
+                Settings.ACTION_APPLICATION_DETAILS_SETTINGS,
+                Uri.fromParts("package", requireActivity().packageName, null)
+            )
+        )
+    }
+
+    protected fun showToastAndOpenAppSettingsScreen(@StringRes message: Int) {
+        UIUtils.showThemedToast(requireContext(), message, false)
+        openAppSettingsScreen()
+    }
+
+    /** Opens the Android 'MANAGE_ALL_FILES' page if the device provides this feature */
+    @RequiresApi(Build.VERSION_CODES.R)
+    protected fun ActivityResultLauncher<Intent>.showManageAllFilesScreen() {
+        val intent = Intent(
+            Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION,
+            Uri.fromParts("package", requireActivity().packageName, null)
+        )
+
+        // From the docs: [ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION]
+        // In some cases, a matching Activity may not exist, so ensure you safeguard against this.
+        if (intent.resolveActivity(requireActivity().packageManager) != null) {
+            launch(intent)
+        } else {
+            openAppSettingsScreen()
+        }
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsUntil29Fragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsUntil29Fragment.kt
new file mode 100644
index 000000000000..01707ae599c1
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/PermissionsUntil29Fragment.kt
@@ -0,0 +1,58 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.activity.result.contract.ActivityResultContracts
+import com.ichi2.anki.R
+import com.ichi2.utils.Permissions
+import com.ichi2.utils.hasAnyOfPermissionsBeenDenied
+
+/**
+ * Permissions screen for requesting permissions until API 29.
+ *
+ * Requested permissions:
+ * 1. Storage access: [Permissions.legacyStorageAccessPermissions].
+ *   Used for saving the collection in a public directory
+ *   which isn't deleted when the app is uninstalled
+ */
+class PermissionsUntil29Fragment : PermissionsFragment() {
+    private val storageLauncher = registerForActivityResult(
+        ActivityResultContracts.RequestMultiplePermissions()
+    ) {}
+
+    override fun onCreateView(
+        inflater: LayoutInflater,
+        container: ViewGroup?,
+        savedInstanceState: Bundle?
+    ): View {
+        val view = inflater.inflate(R.layout.permissions_until_29, container, false)
+
+        val storagePermission = view.findViewById<PermissionItem>(R.id.storage_permission)
+        storagePermission.setOnSwitchClickListener {
+            if (!hasAnyOfPermissionsBeenDenied(storagePermission.permissions)) {
+                storageLauncher.launch(storagePermission.permissions.toTypedArray())
+            } else {
+                showToastAndOpenAppSettingsScreen(R.string.startup_no_storage_permission)
+            }
+        }
+
+        return view
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/TiramisuPermissionsFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/TiramisuPermissionsFragment.kt
new file mode 100644
index 000000000000..64cd662ef377
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/ui/windows/permissions/TiramisuPermissionsFragment.kt
@@ -0,0 +1,57 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import android.os.Build
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.activity.result.contract.ActivityResultContracts
+import androidx.annotation.RequiresApi
+import com.ichi2.anki.R
+import com.ichi2.utils.Permissions
+import com.ichi2.utils.Permissions.canManageExternalStorage
+
+/**
+ * Permissions screen for requesting permissions in API 33+,
+ * if the user [canManageExternalStorage], which isn't possible in the play store.
+ *
+ * Requested permissions:
+ * 1. All files access: [Permissions.MANAGE_EXTERNAL_STORAGE].
+ *   Used for saving the collection in a public directory
+ *   which isn't deleted when the app is uninstalled
+ * 2. TODO notifications permission
+ */
+@RequiresApi(Build.VERSION_CODES.TIRAMISU)
+class TiramisuPermissionsFragment : PermissionsFragment() {
+    private val accessAllFilesLauncher = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) {}
+
+    override fun onCreateView(
+        inflater: LayoutInflater,
+        container: ViewGroup?,
+        savedInstanceState: Bundle?
+    ): View {
+        val view = inflater.inflate(R.layout.permissions_tiramisu, container, false)
+
+        val allFilesPermission = view.findViewById<PermissionItem>(R.id.all_files_permission)
+        allFilesPermission.setOnSwitchClickListener {
+            accessAllFilesLauncher.showManageAllFilesScreen()
+        }
+
+        return view
+    }
+}
diff --git a/AnkiDroid/src/main/java/com/ichi2/utils/Permissions.kt b/AnkiDroid/src/main/java/com/ichi2/utils/Permissions.kt
index 080f35348a38..48a38ce6272e 100644
--- a/AnkiDroid/src/main/java/com/ichi2/utils/Permissions.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/utils/Permissions.kt
@@ -17,20 +17,41 @@
 package com.ichi2.utils
 
 import android.Manifest
-import android.Manifest.permission.MANAGE_EXTERNAL_STORAGE
 import android.content.Context
 import android.content.pm.PackageManager
 import android.content.pm.PackageManager.GET_PERMISSIONS
 import android.os.Build
 import android.os.Environment
 import androidx.annotation.RequiresApi
+import androidx.core.app.ActivityCompat
 import androidx.core.content.ContextCompat
+import androidx.fragment.app.Fragment
 import com.ichi2.compat.CompatHelper.Companion.getPackageInfoCompat
 import com.ichi2.compat.PackageInfoFlagsCompat
 import timber.log.Timber
 import java.lang.Exception
 
 object Permissions {
+    const val MANAGE_EXTERNAL_STORAGE = "android.permission.MANAGE_EXTERNAL_STORAGE"
+
+    @RequiresApi(Build.VERSION_CODES.TIRAMISU)
+    val tiramisuPhotosAndVideosPermissions = listOf(
+        Manifest.permission.READ_MEDIA_IMAGES,
+        Manifest.permission.READ_MEDIA_VIDEO
+    )
+
+    @RequiresApi(Build.VERSION_CODES.TIRAMISU)
+    val tiramisuAudioPermission = Manifest.permission.READ_MEDIA_AUDIO
+
+    val legacyStorageAccessPermissions = listOf(
+        Manifest.permission.READ_EXTERNAL_STORAGE,
+        Manifest.permission.WRITE_EXTERNAL_STORAGE
+    )
+
+    fun canUseCamera(context: Context): Boolean {
+        return hasPermission(context, Manifest.permission.CAMERA)
+    }
+
     fun canRecordAudio(context: Context): Boolean {
         return hasPermission(context, Manifest.permission.RECORD_AUDIO)
     }
@@ -44,6 +65,10 @@ object Permissions {
         return ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED
     }
 
+    fun hasAllPermissions(context: Context, permissions: Collection<String>): Boolean {
+        return permissions.all { hasPermission(context, it) }
+    }
+
     @RequiresApi(Build.VERSION_CODES.R)
     fun isExternalStorageManager(): Boolean {
         // BUG: Environment.isExternalStorageManager() crashes under robolectric
@@ -145,3 +170,10 @@ object Permissions {
             context.arePermissionsDefinedInAnkiDroidManifest(MANAGE_EXTERNAL_STORAGE)
     }
 }
+
+fun Fragment.hasAnyOfPermissionsBeenDenied(permissions: Collection<String>): Boolean {
+    val activity = requireActivity()
+    return permissions.any {
+        ActivityCompat.shouldShowRequestPermissionRationale(activity, it)
+    }
+}
diff --git a/AnkiDroid/src/main/res/color/text_color_dark.xml b/AnkiDroid/src/main/res/color/text_color_dark.xml
index 3a56508e7d23..50eb7c1a2c6e 100644
--- a/AnkiDroid/src/main/res/color/text_color_dark.xml
+++ b/AnkiDroid/src/main/res/color/text_color_dark.xml
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android" >
-    <item android:state_enabled="false" android:color="#5b5b5b"/>
+    <item android:state_enabled="false" android:color="#33ffffff"/>
     <item android:color="#fff"/>
 </selector>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/permission_item.xml b/AnkiDroid/src/main/res/layout/permission_item.xml
new file mode 100644
index 000000000000..51394820aa26
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/permission_item.xml
@@ -0,0 +1,77 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:minHeight="?attr/listPreferredItemHeight"
+    android:paddingStart="?attr/listPreferredItemPaddingStart"
+    android:paddingTop="16dp"
+    android:paddingEnd="?attr/listPreferredItemPaddingEnd"
+    android:paddingBottom="16dp"
+    tools:context=".ui.windows.permissions.PermissionItem">
+
+    <ImageView
+        android:id="@+id/icon"
+        android:layout_width="24dp"
+        android:layout_height="24dp"
+        android:layout_marginTop="4dp"
+        android:layout_marginEnd="8dp"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintEnd_toStartOf="@id/guideline_front"
+        app:layout_constraintBottom_toBottomOf="@id/title"
+        app:layout_constraintTop_toTopOf="@id/title"
+        tools:src="@drawable/ic_action_mic"
+        tools:tint="?attr/colorControlNormal"/>
+
+    <com.ichi2.ui.FixedTextView
+        android:id="@+id/title"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        app:layout_constrainedWidth="true"
+        app:layout_constraintEnd_toEndOf="@+id/guideline_end"
+        app:layout_constraintStart_toStartOf="@+id/guideline_front"
+        app:layout_constraintTop_toTopOf="parent"
+        tools:maxLines="1"
+        tools:text="Permission name"
+        />
+
+    <com.ichi2.ui.FixedTextView
+        android:id="@+id/summary"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="2dp"
+        android:textColor="?android:attr/textColorSecondary"
+        app:layout_constrainedWidth="true"
+        app:layout_constraintEnd_toEndOf="@+id/guideline_end"
+        app:layout_constraintStart_toStartOf="@+id/guideline_front"
+        app:layout_constraintTop_toBottomOf="@id/title"
+        tools:maxLines="3"
+        tools:text="A summary about why the permission should be given" />
+
+    <androidx.appcompat.widget.SwitchCompat
+        android:id="@+id/switch_widget"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintStart_toStartOf="@id/guideline_end"
+        app:layout_constraintEnd_toEndOf="parent"
+        android:layout_marginStart="12dp"
+        />
+
+    <androidx.constraintlayout.widget.Guideline
+        android:id="@+id/guideline_front"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        app:layout_constraintGuide_begin="56dp" />
+
+    <androidx.constraintlayout.widget.Guideline
+        android:id="@+id/guideline_end"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        app:layout_constraintGuide_end="56dp" />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/permissions_activity.xml b/AnkiDroid/src/main/res/layout/permissions_activity.xml
new file mode 100644
index 000000000000..03f0b8f3417b
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/permissions_activity.xml
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.coordinatorlayout.widget.CoordinatorLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:id="@+id/root_layout"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".ui.windows.permissions.PermissionsActivity"
+    >
+    <androidx.constraintlayout.widget.ConstraintLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        >
+        <com.google.android.material.textview.MaterialTextView
+            android:id="@+id/headline"
+            android:layout_width="0dp"
+            android:layout_height="wrap_content"
+            android:padding="32dp"
+            android:text="@string/permissions_screen_headline"
+            android:textAppearance="@style/TextAppearance.Material3.HeadlineSmall"
+            android:textColor="?android:attr/textColorPrimary"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toTopOf="parent"
+            />
+
+        <ScrollView
+            android:id="@+id/permissions_scroll_area"
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            app:layout_constraintTop_toBottomOf="@id/headline"
+            app:layout_constraintBottom_toTopOf="@id/continue_button"
+            >
+            <androidx.fragment.app.FragmentContainerView
+                android:id="@+id/fragment_container"
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                />
+        </ScrollView>
+
+        <androidx.appcompat.widget.AppCompatButton
+            android:id="@+id/continue_button"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_margin="16dp"
+            android:paddingVertical="12dp"
+            android:text="@string/dialog_continue"
+            android:textAppearance="@style/TextAppearance.MaterialComponents.Button"
+            app:layout_constraintBottom_toBottomOf="parent"
+            />
+
+    </androidx.constraintlayout.widget.ConstraintLayout>
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/permissions_full_30_and_31.xml b/AnkiDroid/src/main/res/layout/permissions_full_30_and_31.xml
new file mode 100644
index 000000000000..ea1e9112a499
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/permissions_full_30_and_31.xml
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    tools:context=".ui.windows.permissions.Full30and31PermissionsFragment">
+
+    <com.ichi2.anki.ui.windows.permissions.PermissionItem
+        android:id="@+id/all_files_permission"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        app:permissionTitle="@string/all_files_access_title"
+        app:permissionSummary="@string/storage_access_summary"
+        app:permissionIcon="@drawable/ic_save_white"
+        app:permission="@string/manage_external_storage_permission"
+        />
+</LinearLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/permissions_tiramisu.xml b/AnkiDroid/src/main/res/layout/permissions_tiramisu.xml
new file mode 100644
index 000000000000..64c5309c9ba1
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/permissions_tiramisu.xml
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    tools:context=".ui.windows.permissions.TiramisuPermissionsFragment">
+
+    <com.ichi2.anki.ui.windows.permissions.PermissionItem
+        android:id="@+id/all_files_permission"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        app:permissionTitle="@string/all_files_access_title"
+        app:permissionSummary="@string/storage_access_summary"
+        app:permissionIcon="@drawable/ic_save_white"
+        app:permission="@string/manage_external_storage_permission"
+        />
+</LinearLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/permissions_until_29.xml b/AnkiDroid/src/main/res/layout/permissions_until_29.xml
new file mode 100644
index 000000000000..bc035990c6ee
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/permissions_until_29.xml
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    tools:context=".ui.windows.permissions.PermissionsUntil29Fragment">
+
+    <com.ichi2.anki.ui.windows.permissions.PermissionItem
+        android:id="@+id/storage_permission"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        app:permissionTitle="@string/storage_access_title"
+        app:permissionSummary="@string/storage_access_summary"
+        app:permissionIcon="@drawable/ic_save_white"
+        app:permissions="@array/legacy_storage_permissions"
+        />
+</LinearLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/values/01-core.xml b/AnkiDroid/src/main/res/values/01-core.xml
index e4e787fddd2f..4914c13b2a8d 100644
--- a/AnkiDroid/src/main/res/values/01-core.xml
+++ b/AnkiDroid/src/main/res/values/01-core.xml
@@ -111,7 +111,6 @@
     grant AnkiDroid the 'Storage' permission. This needs to be a fairly generic message as implementations
     of the permissions/app info screen will differ between devices. -->
     <string name="startup_no_storage_permission">Please grant AnkiDroid the ‘Storage’ permission to continue</string>
-    <string name="startup_all_files_access_permission">Please grant AnkiDroid the ‘All files access’ permission to continue</string>
     <!--
         The time_quantities are units of time. They are used without
         plurals or dots.
@@ -307,4 +306,11 @@
     <string name="create_new_collection">Create a new collection</string>
 
     <string name="new_unsafe_collection">The new collection will be deleted from your phone if you uninstall AnkiDroid</string>
+
+    <!-- Permissions screen -->
+    <string name="permissions_screen_headline">AnkiDroid needs some permissions to work</string>
+    <string name="storage_access_title">Storage access</string>
+    <string name="storage_access_summary">Saves your collection in a safe place that will not be deleted if the app is uninstalled</string>
+    <string name="all_files_access_title"
+        comment="Name of the “All files access” permission from Android 10 and after">All files access</string>
 </resources>
diff --git a/AnkiDroid/src/main/res/values/03-dialogs.xml b/AnkiDroid/src/main/res/values/03-dialogs.xml
index 434ae80314f5..3275ba6f887e 100644
--- a/AnkiDroid/src/main/res/values/03-dialogs.xml
+++ b/AnkiDroid/src/main/res/values/03-dialogs.xml
@@ -109,7 +109,6 @@
     <string name="check_media_warning">This may take a long time with large media collections</string>
     <string name="check_media_message">Checking media…</string>
     <string name="check_media_acknowledge">Media checked</string>
-    <string name="check_media_failed">Media check failed</string>
     <string name="check_media_invalid">Files with invalid encoding: %d</string>
     <string name="check_media_unused">Files in media folder but not used by any cards: %d</string>
     <string name="check_media_nohave">Files used on cards but not in media folder: %d</string>
diff --git a/AnkiDroid/src/main/res/values/attrs.xml b/AnkiDroid/src/main/res/values/attrs.xml
index e4c783a6124a..e238b2052678 100644
--- a/AnkiDroid/src/main/res/values/attrs.xml
+++ b/AnkiDroid/src/main/res/values/attrs.xml
@@ -56,6 +56,22 @@
         <attr name="displayValue" format="boolean"/>
     </declare-styleable>
 
+    <declare-styleable name="PermissionItem">
+        <!-- Title of the permission -->
+        <attr name="permissionTitle" format="string"/>
+        <!-- Brief description of the permission. It can be used to explain to the user
+         why the permission should be granted -->
+        <attr name="permissionSummary" format="string"/>
+        <!-- Icon to be shown at the side of the button -->
+        <attr name="permissionIcon" format="reference"/>
+        <!-- Permission string to be asked.
+         Will be overridden by app:permissions if set -->
+        <attr name="permission" format="string"/>
+        <!-- Array of permission strings to be asked.
+        Overrides app:permission if set -->
+        <attr name="permissions" format="string"/>
+    </declare-styleable>
+
     <attr name="widgetColorActivated" format="color"/>
     <!-- App buttons -->
     <attr name="largeButtonBackgroundColor" format="color"/>
diff --git a/AnkiDroid/src/main/res/values/constants.xml b/AnkiDroid/src/main/res/values/constants.xml
index 601b9126a2de..ad3fc4312210 100644
--- a/AnkiDroid/src/main/res/values/constants.xml
+++ b/AnkiDroid/src/main/res/values/constants.xml
@@ -297,6 +297,12 @@
         <item>xx-large</item>
     </string-array>
 
+    <string name="manage_external_storage_permission">android.permission.MANAGE_EXTERNAL_STORAGE</string>
+    <string-array name="legacy_storage_permissions">
+        <item>android.permission.READ_EXTERNAL_STORAGE</item>
+        <item>android.permission.WRITE_EXTERNAL_STORAGE</item>
+    </string-array>
+
     <!-- Onboarding -->
     <string name="reset_onboarding" maxLength="41">Reset onboarding walkthrough</string>
     <string name="show_onboarding" maxLength="41">Show onboarding walkthrough</string>
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/InitialActivityTest.kt b/AnkiDroid/src/test/java/com/ichi2/anki/InitialActivityTest.kt
index 4dee3567e462..0e6b0533ccc7 100644
--- a/AnkiDroid/src/test/java/com/ichi2/anki/InitialActivityTest.kt
+++ b/AnkiDroid/src/test/java/com/ichi2/anki/InitialActivityTest.kt
@@ -38,6 +38,7 @@ import org.mockito.Mockito.mockStatic
 import org.mockito.Mockito.times
 import org.mockito.kotlin.never
 import org.robolectric.annotation.Config
+import kotlin.test.assertTrue
 
 @RunWith(AndroidJUnit4::class)
 @Config(application = EmptyApplication::class) // no point in Application init if we don't use it
@@ -174,17 +175,12 @@ class InitialActivityTest : RobolectricTest() {
     @Config(sdk = [R_OR_AFTER])
     @Test
     fun `Android 11 - After reinstall (with MANAGE_EXTERNAL_STORAGE)`() {
-        val expectedPermissions = arrayOf(android.Manifest.permission.MANAGE_EXTERNAL_STORAGE)
-
-        selectAnkiDroidFolder(
+        val ankiDroidFolder = selectAnkiDroidFolder(
             canManageExternalStorage = true,
             currentFolderIsAccessibleAndLegacy = false
-        ).let {
-            assertThat(
-                (it as PublicFolder).requiredPermissions.asIterable(),
-                contains(*expectedPermissions)
-            )
-        }
+        ) as PublicFolder
+
+        assertTrue(android.Manifest.permission.MANAGE_EXTERNAL_STORAGE in ankiDroidFolder.requiredPermissions)
     }
 
     @Config(sdk = [R_OR_AFTER])
@@ -196,6 +192,9 @@ class InitialActivityTest : RobolectricTest() {
         )
     }
 
+    private val AnkiDroidFolder.requiredPermissions
+        get() = permissionSet.permissions
+
     /**
      * Helper for [com.ichi2.anki.selectAnkiDroidFolder], making `currentFolderIsAccessibleAndLegacy` optional
      */
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivityTest.kt b/AnkiDroid/src/test/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivityTest.kt
new file mode 100644
index 000000000000..abeee700ef0a
--- /dev/null
+++ b/AnkiDroid/src/test/java/com/ichi2/anki/ui/windows/permissions/PermissionsActivityTest.kt
@@ -0,0 +1,46 @@
+/*
+ *  Copyright (c) 2023 Brayan Oliveira <brayandso.dev@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+package com.ichi2.anki.ui.windows.permissions
+
+import androidx.fragment.app.commitNow
+import androidx.test.core.app.ActivityScenario
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import com.ichi2.anki.PermissionSet
+import com.ichi2.anki.R
+import com.ichi2.anki.RobolectricTest
+import com.ichi2.testutils.HamcrestUtils.containsInAnyOrder
+import org.hamcrest.MatcherAssert.assertThat
+import org.junit.Test
+import org.junit.runner.RunWith
+
+@RunWith(AndroidJUnit4::class)
+class PermissionsActivityTest : RobolectricTest() {
+
+    @Test
+    fun `Each screen starts normally and has the same permissions of a PermissionSet`() {
+        ActivityScenario.launch(PermissionsActivity::class.java).onActivity { activity ->
+            for (permissionSet in PermissionSet.values()) {
+                val fragment = permissionSet.permissionsFragment?.getDeclaredConstructor()?.newInstance() ?: continue
+                activity.supportFragmentManager.commitNow {
+                    replace(R.id.fragment_container, fragment)
+                }
+                val allPermissions = fragment.permissionItems.flatMap { it.permissions }
+
+                assertThat(permissionSet.permissions, containsInAnyOrder(allPermissions))
+            }
+        }
+    }
+}
diff --git a/AnkiDroid/src/test/java/com/ichi2/testutils/ActivityList.kt b/AnkiDroid/src/test/java/com/ichi2/testutils/ActivityList.kt
index 27885d356b89..32ac97a4c823 100644
--- a/AnkiDroid/src/test/java/com/ichi2/testutils/ActivityList.kt
+++ b/AnkiDroid/src/test/java/com/ichi2/testutils/ActivityList.kt
@@ -29,6 +29,7 @@ import com.ichi2.anki.pages.PagesActivity
 import com.ichi2.anki.preferences.Preferences
 import com.ichi2.anki.services.ReminderService.Companion.getReviewDeckIntent
 import com.ichi2.anki.ui.windows.managespace.ManageSpaceActivity
+import com.ichi2.anki.ui.windows.permissions.PermissionsActivity
 import com.ichi2.testutils.ActivityList.ActivityLaunchParam.Companion.get
 import org.robolectric.Robolectric
 import org.robolectric.android.controller.ActivityController
@@ -72,7 +73,8 @@ object ActivityList {
             get(LoginActivity::class.java),
             get(IntroductionActivity::class.java),
             get(ManageNotetypes::class.java),
-            get(ManageSpaceActivity::class.java)
+            get(ManageSpaceActivity::class.java),
+            get(PermissionsActivity::class.java)
         )
     }
 
