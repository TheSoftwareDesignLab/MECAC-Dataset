diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
index e9bac55c02c2..0a2605faec76 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
@@ -1745,6 +1745,7 @@ protected SharedPreferences restorePreferences() {
         mCustomButtons.put(R.id.action_open_deck_options, Integer.parseInt(preferences.getString("customButtonDeckOptions", Integer.toString(MenuItem.SHOW_AS_ACTION_NEVER))));
         mCustomButtons.put(R.id.action_bury, Integer.parseInt(preferences.getString("customButtonBury", Integer.toString(MenuItem.SHOW_AS_ACTION_NEVER))));
         mCustomButtons.put(R.id.action_suspend, Integer.parseInt(preferences.getString("customButtonSuspend", Integer.toString(MenuItem.SHOW_AS_ACTION_NEVER))));
+        mCustomButtons.put(R.id.action_flag, Integer.parseInt(preferences.getString("customButtonFlag", Integer.toString(MenuItem.SHOW_AS_ACTION_IF_ROOM))));
         mCustomButtons.put(R.id.action_delete, Integer.parseInt(preferences.getString("customButtonDelete", Integer.toString(MenuItem.SHOW_AS_ACTION_NEVER))));
 
         if (preferences.getBoolean("keepScreenOn", false)) {
@@ -2846,6 +2847,24 @@ protected void onMark(Card card) {
         refreshActionBar();
     }
 
+    protected void onFlag(Card card, int flag) {
+        card.setUserFlag(flag);
+        card.flush();
+        refreshActionBar();
+        /* Following code would allow to update value of {{cardFlag}}.
+           Anki does not update this value when a flag is changed, so
+           currently this code would do something that anki itself
+           does not do. I hope in the future Anki will correct that
+           and this code may becomes useful.
+
+        card._getQA(true); //force reload. Useful iff {{cardFlag}} occurs in the template
+        if (sDisplayAnswer) {
+            displayCardAnswer();
+        } else {
+            displayCardQuestion();
+            } */
+    }
+
     protected void dismiss(Collection.DismissType type) {
         DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS, mDismissCardHandler,
                 new DeckTask.TaskData(new Object[]{mCurrentCard, type}));
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
index 7df8b70a60e1..6e1799cee456 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
@@ -121,11 +121,6 @@ public class CardBrowser extends NavigationDrawerActivity implements
 
     private long mNewDid;   // for change_deck
 
-    private static final int BACKGROUND_NORMAL = 0;
-    private static final int BACKGROUND_MARKED = 1;
-    private static final int BACKGROUND_SUSPENDED = 2;
-    private static final int BACKGROUND_MARKED_SUSPENDED = 3;
-
     private static final int EDIT_CARD = 0;
     private static final int ADD_NOTE = 1;
     private static final int DEFAULT_FONT_SIZE_RATIO = 100;
@@ -542,7 +537,6 @@ public void onNothingSelected(AdapterView<?> parent) {
                 R.layout.card_item_browser,
                 new String[] {COLUMN1_KEYS[mColumn1Index], COLUMN2_KEYS[mColumn2Index]},
                 new int[] {R.id.card_sfld, R.id.card_column2},
-                "flags",
                 sflRelativeFontSize,
                 sflCustomFont);
         // link the adapter to the main mCardsListView
@@ -769,6 +763,11 @@ private void updateMultiselectMenu() {
         }
     }
 
+    private void flagTask (int flag) {
+        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_MULTI,
+                                mFlagCardHandler,
+                                new DeckTask.TaskData(new Object[]{getSelectedCardIds(), Collection.DismissType.FLAG, new Integer (flag)}));
+    }
 
     @Override
     public boolean onOptionsItemSelected(MenuItem item) {
@@ -837,6 +836,26 @@ public boolean onOptionsItemSelected(MenuItem item) {
                 showTagsDialog();
                 return true;
 
+            case R.id.action_flag_zero:
+                flagTask(0);
+                return true;
+
+            case R.id.action_flag_one:
+                flagTask(1);
+                return true;
+
+            case R.id.action_flag_two:
+                flagTask(2);
+                return true;
+
+            case R.id.action_flag_three:
+                flagTask(3);
+                return true;
+
+            case R.id.action_flag_four:
+                flagTask(4);
+                return true;
+
             case R.id.action_delete_card:
                 if (mInMultiSelectMode) {
                     DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DISMISS_MULTI,
@@ -1198,6 +1217,37 @@ private void updateCardInList(Card card, String updatedCardTags){
         }
     }
 
+    private abstract class ListenerWithProgressBar extends DeckTask.TaskListener {
+        @Override
+        public void onPreExecute() {
+            showProgressBar();
+        }
+    }
+
+    private abstract class ListenerWithProgressBarCloseOnFalse extends ListenerWithProgressBar {
+        private String timber = null;
+
+        public ListenerWithProgressBarCloseOnFalse(String timber) {
+            this.timber = timber;
+        }
+
+        public ListenerWithProgressBarCloseOnFalse() {
+		}
+
+        public void onPostExecute(DeckTask.TaskData result) {
+            if (timber != null) {
+                Timber.d(timber);
+            }
+            if (result.getBoolean()) {
+                actualPostExecute(result);
+            } else {
+                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
+            }
+        }
+
+        protected abstract void actualPostExecute(DeckTask.TaskData result);
+    }
+
     /**
      * @param cards Cards that were changed
      * @param updatedCardTags Mapping note id -> updated tags
@@ -1211,15 +1261,16 @@ private void updateCardsInList(List<Card> cards, Map<Long, String> updatedCardTa
             if (pos < 0 || pos >= getCards().size()) {
                 continue;
             }
+            Map<String, String> card = getCards().get(pos);
             // update tags
             if (updatedCardTags != null) {
-                getCards().get(pos).put("tags", updatedCardTags.get(c.getNid()));
+                card.put("tags", updatedCardTags.get(c.getNid()));
             }
             // update sfld
             String sfld = note.getSFld();
-            getCards().get(pos).put("sfld", sfld);
+            card.put("sfld", sfld);
             // update Q & A etc
-            updateSearchItemQA(getBaseContext(), getCards().get(pos), c);
+            updateSearchItemQA(getBaseContext(), card, c);
             // update deck
             String deckName;
             try {
@@ -1227,68 +1278,45 @@ private void updateCardsInList(List<Card> cards, Map<Long, String> updatedCardTa
             } catch (JSONException e) {
                 throw new RuntimeException(e);
             }
-            getCards().get(pos).put("deck", deckName);
+            card.put("deck", deckName);
             // update flags (marked / suspended / etc) which determine color
-            String flags = Integer.toString((c.getQueue() == -1 ? 1 : 0) + (note.hasTag("marked") ? 2 : 0));
-            getCards().get(pos).put("flags", flags);
+            card.put("suspended", c.getQueue() == Card.QUEUE_SUSP ? "True": "False");
+            card.put("flags", (new Integer(c.getUserFlag())).toString());
         }
 
         updateList();
     }
 
-    private DeckTask.TaskListener mUpdateCardHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mUpdateCardHandler = new ListenerWithProgressBarCloseOnFalse("Card Browser - mUpdateCardHandler.onPostExecute()"){
         @Override
         public void onProgressUpdate(DeckTask.TaskData... values) {
             updateCardInList(values[0].getCard(), values[0].getString());
         }
 
-
         @Override
-        public void onPostExecute(DeckTask.TaskData result) {
-            Timber.d("Card Browser - mUpdateCardHandler.onPostExecute()");
-            if (result.getBoolean()) {
-                hideProgressBar();
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+        protected void actualPostExecute(DeckTask.TaskData result) {
+            hideProgressBar();
         }
     };
 
-    private DeckTask.TaskListener mChangeDeckHandler = new DeckTask.TaskListener() {
+    private DeckTask.TaskListener mChangeDeckHandler = new ListenerWithProgressBarCloseOnFalse("Card Browser - mChangeDeckHandler.onPostExecute()") {
         @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
-        @Override
-        public void onPostExecute(DeckTask.TaskData result) {
-            Timber.d("Card Browser - mChangeDeckHandler.onPostExecute()");
-            if (result.getBoolean()) {
-                hideProgressBar();
+        protected void actualPostExecute(DeckTask.TaskData result) {
+            hideProgressBar();
 
-                searchCards();
-                endMultiSelectMode();
-                mCardsAdapter.notifyDataSetChanged();
-                invalidateOptionsMenu();    // maybe the availability of undo changed
+            searchCards();
+            endMultiSelectMode();
+            mCardsAdapter.notifyDataSetChanged();
+            invalidateOptionsMenu();    // maybe the availability of undo changed
 
-                // snackbar to offer undo
-                String deckName = getCol().getDecks().name(mNewDid);
-                mUndoSnackbar = UIUtils.showSnackbar(CardBrowser.this, String.format(getString(R.string.changed_deck_message), deckName), SNACKBAR_DURATION, R.string.undo, new View.OnClickListener() {
-                    @Override
-                    public void onClick(View v) {
-                        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_UNDO, mUndoHandler);
-                    }
-                }, mCardsListView, null);
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+            // snackbar to offer undo
+            String deckName = getCol().getDecks().name(mNewDid);
+            mUndoSnackbar = UIUtils.showSnackbar(CardBrowser.this, String.format(getString(R.string.changed_deck_message), deckName), SNACKBAR_DURATION, R.string.undo, new View.OnClickListener() {
+                @Override
+                public void onClick(View v) {
+                    DeckTask.launchDeckTask(DeckTask.TASK_TYPE_UNDO, mUndoHandler);
+                }
+            }, mCardsListView, null);
         }
     };
 
@@ -1381,55 +1409,30 @@ private void removeNotesView(Card[] cards) {
     }
 
 
-    private DeckTask.TaskListener mSuspendCardHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mSuspendCardHandler = new ListenerWithProgressBarCloseOnFalse() {
         @Override
-        public void onPostExecute(DeckTask.TaskData result) {
-            if (result.getBoolean()) {
-                Card[] cards = (Card[]) result.getObjArray();
-                updateCardsInList(Arrays.asList(cards), null);
-                updateMultiselectMenu();
-                hideProgressBar();
-                invalidateOptionsMenu();    // maybe the availability of undo changed
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+        protected void actualPostExecute(DeckTask.TaskData result) {
+            Card[] cards = (Card[]) result.getObjArray();
+            updateCardsInList(Arrays.asList(cards), null);
+            updateMultiselectMenu();
+            hideProgressBar();
+            invalidateOptionsMenu();    // maybe the availability of undo changed
         }
     };
+    private DeckTask.TaskListener mFlagCardHandler = mSuspendCardHandler;
 
-    private DeckTask.TaskListener mMarkCardHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mMarkCardHandler = new ListenerWithProgressBarCloseOnFalse() {
         @Override
-        public void onPostExecute(DeckTask.TaskData result) {
-            if (result.getBoolean()) {
-                Card[] cards = (Card[]) result.getObjArray();
-                updateCardsInList(CardUtils.getAllCards(CardUtils.getNotes(Arrays.asList(cards))), null);
-                updateMultiselectMenu();
-                hideProgressBar();
-                invalidateOptionsMenu();    // maybe the availability of undo changed
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+        protected void actualPostExecute(DeckTask.TaskData result) {
+            Card[] cards = (Card[]) result.getObjArray();
+            updateCardsInList(CardUtils.getAllCards(CardUtils.getNotes(Arrays.asList(cards))), null);
+            updateMultiselectMenu();
+            hideProgressBar();
+            invalidateOptionsMenu();    // maybe the availability of undo changed
         }
     };
 
-    private DeckTask.TaskListener mDeleteNoteHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mDeleteNoteHandler = new ListenerWithProgressBarCloseOnFalse() {
         @Override
         public void onProgressUpdate(DeckTask.TaskData... values) {
             Card[] cards = (Card[]) values[0].getObjArray();
@@ -1438,49 +1441,35 @@ public void onProgressUpdate(DeckTask.TaskData... values) {
 
 
         @Override
-        public void onPostExecute(DeckTask.TaskData result) {
-            if (result.getBoolean()) {
-                hideProgressBar();
-                mActionBarTitle.setText(Integer.toString(mCheckedCardPositions.size()));
-                invalidateOptionsMenu();    // maybe the availability of undo changed
-                // snackbar to offer undo
-                mUndoSnackbar = UIUtils.showSnackbar(CardBrowser.this, getString(R.string.deleted_message), SNACKBAR_DURATION, R.string.undo, new View.OnClickListener() {
-                    @Override
-                    public void onClick(View v) {
-                        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_UNDO, mUndoHandler);
-                    }
-                }, mCardsListView, null);
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+        protected void actualPostExecute(DeckTask.TaskData result) {
+            hideProgressBar();
+            mActionBarTitle.setText(Integer.toString(mCheckedCardPositions.size()));
+            invalidateOptionsMenu();    // maybe the availability of undo changed
+            // snackbar to offer undo
+            mUndoSnackbar = UIUtils.showSnackbar(CardBrowser.this, getString(R.string.deleted_message), SNACKBAR_DURATION, R.string.undo, new View.OnClickListener() {
+                @Override
+                public void onClick(View v) {
+                    DeckTask.launchDeckTask(DeckTask.TASK_TYPE_UNDO, mUndoHandler);
+                }
+            }, mCardsListView, null);
         }
     };
 
-    private DeckTask.TaskListener mUndoHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mUndoHandler = new ListenerWithProgressBarCloseOnFalse() {
         @Override
-        public void onPostExecute(DeckTask.TaskData result) {
+        public void actualPostExecute(DeckTask.TaskData result) {
             Timber.d("Card Browser - mUndoHandler.onPostExecute()");
-            if (result.getBoolean()) {
-                hideProgressBar();
-                // reload whole view
-                searchCards();
-                endMultiSelectMode();
-                mCardsAdapter.notifyDataSetChanged();
-                updatePreviewMenuItem();
-                invalidateOptionsMenu();    // maybe the availability of undo changed
-            } else {
-                closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
-            }
+            hideProgressBar();
+            // reload whole view
+            searchCards();
+            endMultiSelectMode();
+            mCardsAdapter.notifyDataSetChanged();
+            updatePreviewMenuItem();
+            invalidateOptionsMenu();    // maybe the availability of undo changed
         }
     };
 
-    private DeckTask.TaskListener mSearchCardsHandler = new DeckTask.TaskListener() {
+    private DeckTask.TaskListener mSearchCardsHandler = new ListenerWithProgressBar() {
         @Override
         public void onProgressUpdate(TaskData... values) {
             if (values[0] != null) {
@@ -1490,12 +1479,6 @@ public void onProgressUpdate(TaskData... values) {
         }
 
 
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
         @Override
         public void onPostExecute(TaskData result) {
             if (result != null && mCards != null) {
@@ -1544,13 +1527,7 @@ public void onCancelled() {
         }
     };
 
-    private DeckTask.TaskListener mCheckSelectedCardsHandler = new DeckTask.TaskListener() {
-        @Override
-        public void onPreExecute() {
-            showProgressBar();
-        }
-
-
+    private DeckTask.TaskListener mCheckSelectedCardsHandler = new ListenerWithProgressBar() {
         @Override
         public void onPostExecute(DeckTask.TaskData result) {
             hideProgressBar();
@@ -1632,18 +1609,16 @@ private final class MultiColumnListAdapter extends BaseAdapter {
         private final int mResource;
         private String[] mFromKeys;
         private final int[] mToIds;
-        private final String mColorFlagKey;
         private float mOriginalTextSize = -1.0f;
         private final int mFontSizeScalePcent;
         private Typeface mCustomTypeface = null;
         private LayoutInflater mInflater;
 
-        public MultiColumnListAdapter(Context context, int resource, String[] from, int[] to, String colorFlagKey,
+        public MultiColumnListAdapter(Context context, int resource, String[] from, int[] to,
                                       int fontSizeScalePcent, String customFont) {
             mResource = resource;
             mFromKeys = from;
             mToIds = to;
-            mColorFlagKey = colorFlagKey;
             mFontSizeScalePcent = fontSizeScalePcent;
             if (!"".equals(customFont)) {
                 mCustomTypeface = AnkiFont.getTypeface(context, customFont);
@@ -1674,19 +1649,16 @@ public View getView(int position, View convertView, ViewGroup parent) {
         private void bindView(final int position, final View v) {
             // Draw the content in the columns
             View[] columns = (View[]) v.getTag();
-            final Map<String, String> dataSet = getCards().get(position);
-            final int colorIdx = getColor(dataSet.get(mColorFlagKey));
-            int[] colors = Themes.getColorFromAttr(CardBrowser.this, new int[]{android.R.attr.colorBackground,
-                    R.attr.markedColor, R.attr.suspendedColor, R.attr.markedColor});
+            final Map<String, String> card = getCards().get(position);
             for (int i = 0; i < mToIds.length; i++) {
                 TextView col = (TextView) columns[i];
                 // set font for column
                 setFont(col);
                 // set text for column
-                col.setText(dataSet.get(mFromKeys[i]));
+                col.setText(card.get(mFromKeys[i]));
             }
             // set card's background color
-            final int backgroundColor = colors[colorIdx];
+            final int backgroundColor = Themes.getColorFromAttr(CardBrowser.this, getColor(card));
             v.setBackgroundColor(backgroundColor);
             // setup checkbox to change color in multi-select mode
             final CheckBox checkBox = (CheckBox) v.findViewById(R.id.card_checkbox);
@@ -1731,23 +1703,33 @@ private void setFont(TextView v) {
         }
 
         /**
-         * Get the index that specifies the background color of items in the card list based on the String tag
-         * @param flag a string flag
+         * Get the background color of items in the card list based on the Card
+         * @param card -- a card object to color
          * @return index into TypedArray specifying the background color
          */
-        private int getColor(String flag) {
-            if (flag == null) {
-                return BACKGROUND_NORMAL;
-            }
+        private int getColor(Map<String, String> card) {
+            boolean suspended = "True".equals(card.get("suspended"));
+            int flag = new Integer(card.get("flags"));
+            boolean marked = card.get("tags").matches(".*[Mm]arked.*");
             switch (flag) {
-                case "1":
-                    return BACKGROUND_SUSPENDED;
-                case "2":
-                    return  BACKGROUND_MARKED;
-                case "3":
-                    return  BACKGROUND_MARKED_SUSPENDED;
+                case 1:
+                   return R.attr.flagRed;
+                case 2:
+                   return R.attr.flagOrange;
+                case 3:
+                  return R.attr.flagGreen;
+                case 4:
+                   return R.attr.flagBlue;
                 default:
-                    return BACKGROUND_NORMAL;
+                    if (marked) {
+                        return R.attr.markedColor;
+                    } else {
+                        if (suspended) {
+                            return R.attr.suspendedColor;
+                        } else {
+                            return android.R.attr.colorBackground;
+                        }
+                    }
             }
         }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java b/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java
index 305294ca92e2..c852eb729699 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java
@@ -243,6 +243,7 @@ private void initSubscreen(String action, PreferenceContext listener) {
                     edit.remove("customButtonDeckOptions");
                     edit.remove("customButtonBury");
                     edit.remove("customButtonSuspend");
+                    edit.remove("customButtonFlag");
                     edit.remove("customButtonDelete");
                     edit.remove("customButtonClearWhiteboard");
                     edit.remove("customButtonShowHideWhiteboard");
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java
index fbedd62c882f..c18ea94f9f1b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java
@@ -291,6 +291,26 @@ public boolean onOptionsItemSelected(MenuItem item) {
                 addNote();
                 break;
 
+            case R.id.action_flag_zero:
+                Timber.i("Reviewer:: No flag");
+                onFlag(mCurrentCard, 0);
+                break;
+            case R.id.action_flag_one:
+                Timber.i("Reviewer:: Flag one");
+                onFlag(mCurrentCard, 1);
+                break;
+            case R.id.action_flag_two:
+                Timber.i("Reviewer:: Flag two");
+                onFlag(mCurrentCard, 2);
+                break;
+            case R.id.action_flag_three:
+                Timber.i("Reviewer:: Flag three");
+                onFlag(mCurrentCard, 3);
+                break;
+            case R.id.action_flag_four:
+                Timber.i("Reviewer:: Flag four");
+                onFlag(mCurrentCard, 4);
+                break;
             default:
                 return super.onOptionsItemSelected(item);
         }
@@ -361,6 +381,26 @@ public boolean onCreateOptionsMenu(Menu menu) {
             menu.findItem(R.id.action_mark_card).setTitle(R.string.menu_mark_note).setIcon(R.drawable.ic_star_outline_white_24dp);
         }
 
+        if (mCurrentCard != null) {
+            switch (mCurrentCard.getUserFlag()) {
+            case 1:
+                menu.findItem(R.id.action_flag).setIcon(R.drawable.flag_red);
+                break;
+            case 2:
+                menu.findItem(R.id.action_flag).setIcon(R.drawable.flag_orange);
+                break;
+            case 3:
+                menu.findItem(R.id.action_flag).setIcon(R.drawable.flag_green);
+                break;
+            case 4:
+                menu.findItem(R.id.action_flag).setIcon(R.drawable.flag_blue);
+                break;
+            default:
+                menu.findItem(R.id.action_flag).setIcon(R.drawable.flag_transparent);
+                break;
+            }
+        }
+
         if (mShowWhiteboard && mWhiteboard != null && mWhiteboard.undoSize() > 0) {
             // Whiteboard undo queue non-empty. Switch the undo icon to a whiteboard specific one.
             menu.findItem(R.id.action_undo).setIcon(R.drawable.ic_eraser_variant_white_24dp);
diff --git a/AnkiDroid/src/main/java/com/ichi2/async/DeckTask.java b/AnkiDroid/src/main/java/com/ichi2/async/DeckTask.java
index 6addc55fc8bd..b2d63cd88cc6 100644
--- a/AnkiDroid/src/main/java/com/ichi2/async/DeckTask.java
+++ b/AnkiDroid/src/main/java/com/ichi2/async/DeckTask.java
@@ -675,6 +675,15 @@ private TaskData doInBackgroundDismissNotes(TaskData... params) {
                         break;
                     }
 
+                    case FLAG: {
+                        int flag = (Integer) data[2];
+                        col.setUserFlag(flag, cardIds);
+                        for (Card c : cards) {
+                            c.load();
+                        }
+                        break;
+                    }
+
                     case MARK_NOTE_MULTI: {
                         Set<Note> notes = CardUtils.getNotes(Arrays.asList(cards));
                         // collect undo information
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/Card.java b/AnkiDroid/src/main/java/com/ichi2/libanki/Card.java
index dfd1abae3ce1..439735a1211c 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/Card.java
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/Card.java
@@ -22,6 +22,8 @@
 import android.database.Cursor;
 import android.text.TextUtils;
 
+import com.ichi2.utils.Assert;
+
 import org.json.JSONException;
 import org.json.JSONObject;
 
@@ -662,4 +664,27 @@ public int hashCode() {
         // Map a long to an int. For API>=24 you would just do `Long.hashCode(this.getId())`
         return (int)(this.getId()^(this.getId()>>>32));
     }
+
+    public static int intToFlag(int flags) {
+        // setting all bits to 0, except the three first one.
+        // equivalent to `mFlags % 8`. Used this way to copy Anki.
+        return flags & 0b111;
+    }
+
+    public int getUserFlag() {
+        return Card.intToFlag(mFlags);
+    }
+
+    public static int setFlagInInt(int mFlags, int flag) {
+        Assert.that(0 <= flag, "flag to set is negative");
+        Assert.that(flag <= 7, "flag to set is greater than 7.");
+        // Setting the 3 firsts bits to 0, keeping the remaining.
+        int extraData = (mFlags & ~0b111);
+        // flag in 3 fist bits, same data as in mFlags everywhere else
+        return extraData | flag;
+    }
+
+    public void setUserFlag(int flag) {
+        mFlags = setFlagInInt(mFlags, flag);
+    }
 }
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java b/AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java
index a642004d3d08..c30b9a1011e4 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/Collection.java
@@ -130,6 +130,7 @@ public enum DismissType {
         DELETE_NOTE_MULTI(R.string.undo_action_delete_multi),
         CHANGE_DECK_MULTI(R.string.undo_action_change_deck_multi),
         MARK_NOTE_MULTI(R.string.card_browser_toggle_mark_card),
+        FLAG(R.string.card_browser_flag),
         REPOSITION_CARDS(R.string.undo_action_reposition_card),
         RESCHEDULE_CARDS(R.string.undo_action_reschedule_card),
         RESET_CARDS(R.string.undo_action_reset_card);
@@ -1873,6 +1874,15 @@ private void _closeLog() {
         }
     }
 
+    /**
+     * Card Flags *****************************************************************************************************
+     */
+    public void setUserFlag(int flag, long[] cids)  {
+        assert (0<= flag && flag <= 7);
+        mDb.execute("update cards set flags = (flags & ~?) | ?, usn=?, mod=? where id in " + Utils.ids2str(cids),
+                    new Object[]{0b111, flag, usn(), Utils.intTime()});
+    }
+
     /**
      * Getters/Setters ********************************************************** *************************************
      */
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/Finder.java b/AnkiDroid/src/main/java/com/ichi2/libanki/Finder.java
index d78696291c2f..d7887353681a 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/Finder.java
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/Finder.java
@@ -1080,18 +1080,19 @@ private List<Map<String, String>> _findCardsForCardBrowser(String query, Object
                     Timber.i("_findCardsForCardBrowser() cancelled...");
                     return new ArrayList<>();
                 }                
-                Map<String, String> map = new HashMap<>();
-                map.put("id", cur.getString(0));
-                map.put("sfld", cur.getString(1));
-                map.put("deck", deckNames.get(cur.getString(2)));
+                Map<String, String> card = new HashMap<>();
+                card.put("id", cur.getString(0));
+                card.put("sfld", cur.getString(1));
+                card.put("deck", deckNames.get(cur.getString(2)));
                 int queue = cur.getInt(3);
                 String tags = cur.getString(4);
-                map.put("flags", Integer.toString((queue == -1 ? 1 : 0) + (tags.matches(".*[Mm]arked.*") ? 2 : 0)));
-                map.put("tags", tags);
-                res.add(map);
+                card.put("tags", tags);
+                res.add(card);
                 // add placeholder for question and answer
-                map.put("question", "");
-                map.put("answer", "");
+                card.put("question", "");
+                card.put("answer", "");
+                card.put("flags", (new Integer(Card.intToFlag(cur.getInt(5)))).toString());
+                card.put("suspended", queue == Card.QUEUE_SUSP ? "True": "False");
             }
         } catch (SQLException e) {
             // invalid grouping
@@ -1112,7 +1113,7 @@ private List<Map<String, String>> _findCardsForCardBrowser(String query, Object
      * A copy of _query() with a custom SQL query specific to the AnkiDroid card browser.
      */
     private String _queryForCardBrowser(String preds, String order) {
-        String sql = "select c.id, n.sfld, c.did, c.queue, n.tags from cards c, notes n where c.nid=n.id and ";
+        String sql = "select c.id, n.sfld, c.did, c.queue, n.tags, c.flags from cards c, notes n where c.nid=n.id and ";
         // combine with preds
         if (!TextUtils.isEmpty(preds)) {
             sql += "(" + preds + ")";
diff --git a/AnkiDroid/src/main/res/drawable/flag_blue.png b/AnkiDroid/src/main/res/drawable/flag_blue.png
new file mode 100644
index 000000000000..75dd98b2ec51
Binary files /dev/null and b/AnkiDroid/src/main/res/drawable/flag_blue.png differ
diff --git a/AnkiDroid/src/main/res/drawable/flag_green.png b/AnkiDroid/src/main/res/drawable/flag_green.png
new file mode 100644
index 000000000000..306ac2936fa5
Binary files /dev/null and b/AnkiDroid/src/main/res/drawable/flag_green.png differ
diff --git a/AnkiDroid/src/main/res/drawable/flag_orange.png b/AnkiDroid/src/main/res/drawable/flag_orange.png
new file mode 100644
index 000000000000..c7cecc379c75
Binary files /dev/null and b/AnkiDroid/src/main/res/drawable/flag_orange.png differ
diff --git a/AnkiDroid/src/main/res/drawable/flag_red.png b/AnkiDroid/src/main/res/drawable/flag_red.png
new file mode 100644
index 000000000000..2475439e335e
Binary files /dev/null and b/AnkiDroid/src/main/res/drawable/flag_red.png differ
diff --git a/AnkiDroid/src/main/res/drawable/flag_transparent.png b/AnkiDroid/src/main/res/drawable/flag_transparent.png
new file mode 100644
index 000000000000..3120ac45127a
Binary files /dev/null and b/AnkiDroid/src/main/res/drawable/flag_transparent.png differ
diff --git a/AnkiDroid/src/main/res/menu/card_browser_multiselect.xml b/AnkiDroid/src/main/res/menu/card_browser_multiselect.xml
index c4cf92dfbe4a..18712fa12aab 100644
--- a/AnkiDroid/src/main/res/menu/card_browser_multiselect.xml
+++ b/AnkiDroid/src/main/res/menu/card_browser_multiselect.xml
@@ -6,6 +6,34 @@
         android:icon="@drawable/ic_delete_white_24dp"
         android:title="@string/card_browser_delete_card" />
 
+    <item
+        ankidroid:showAsAction="ifRoom"
+        android:id="@+id/action_flag"
+        android:title="@string/menu_flag_card"
+        android:icon="@drawable/flag_transparent">
+      <menu>
+        <item
+            android:id="@+id/action_flag_zero"
+            android:title="@string/menu_flag_card_zero"/>
+        <item
+            android:id="@+id/action_flag_one"
+            android:title="@string/menu_flag_card_one"
+            android:icon="@drawable/flag_red"/>
+        <item
+            android:id="@+id/action_flag_two"
+            android:title="@string/menu_flag_card_two"
+            android:icon="@drawable/flag_orange"/>
+        <item
+            android:id="@+id/action_flag_three"
+            android:title="@string/menu_flag_card_three"
+            android:icon="@drawable/flag_green"/>
+        <item
+            android:id="@+id/action_flag_four"
+            android:title="@string/menu_flag_card_four"
+            android:icon="@drawable/flag_blue"/>
+      </menu>
+    </item>
+
 	<item
         ankidroid:showAsAction="ifRoom"
         android:id="@+id/action_mark_card"
@@ -51,4 +79,4 @@
         android:title="@string/undo"
         android:icon="@drawable/ic_undo_white_24dp"/>
 
-</menu>
\ No newline at end of file
+</menu>
diff --git a/AnkiDroid/src/main/res/menu/reviewer.xml b/AnkiDroid/src/main/res/menu/reviewer.xml
index 2f1112f02d82..0bc20e5fc799 100644
--- a/AnkiDroid/src/main/res/menu/reviewer.xml
+++ b/AnkiDroid/src/main/res/menu/reviewer.xml
@@ -51,6 +51,32 @@
         android:id="@+id/action_delete"
         android:title="@string/menu_delete_note"
         android:icon="@drawable/ic_delete_white_24dp"/>
+    <item
+        android:id="@+id/action_flag"
+        android:title="@string/menu_flag_card"
+        android:icon="@drawable/flag_transparent">
+      <menu>
+        <item
+            android:id="@+id/action_flag_zero"
+            android:title="@string/menu_flag_card_zero"/>
+        <item
+            android:id="@+id/action_flag_one"
+            android:title="@string/menu_flag_card_one"
+            android:icon="@drawable/flag_red"/>
+        <item
+            android:id="@+id/action_flag_two"
+            android:title="@string/menu_flag_card_two"
+            android:icon="@drawable/flag_orange"/>
+        <item
+            android:id="@+id/action_flag_three"
+            android:title="@string/menu_flag_card_three"
+            android:icon="@drawable/flag_green"/>
+        <item
+            android:id="@+id/action_flag_four"
+            android:title="@string/menu_flag_card_four"
+            android:icon="@drawable/flag_blue"/>
+      </menu>
+    </item>
     <item
         android:id="@+id/action_schedule"
         android:title="@string/card_editor_reschedule_card"
@@ -72,4 +98,4 @@
         android:id="@+id/action_select_tts"
         android:title="@string/select_tts"
         android:visible="false" />
-</menu>
\ No newline at end of file
+</menu>
diff --git a/AnkiDroid/src/main/res/values/01-core.xml b/AnkiDroid/src/main/res/values/01-core.xml
index 3ad1997eedee..3b316ff80907 100644
--- a/AnkiDroid/src/main/res/values/01-core.xml
+++ b/AnkiDroid/src/main/res/values/01-core.xml
@@ -88,6 +88,13 @@
     <string name="menu_bury">Bury</string>
     <string name="menu_suspend">Suspend</string>
     <string name="menu_delete_note">Delete note</string>
+    <string name="menu_flag">Flag</string>
+    <string name="menu_flag_card">Flag card</string>
+    <string name="menu_flag_card_zero">No flag</string>
+    <string name="menu_flag_card_one">Flag red</string>
+    <string name="menu_flag_card_two">Flag orange</string>
+    <string name="menu_flag_card_three">Flag green</string>
+    <string name="menu_flag_card_four">Flag blue</string>
     <string name="delete_note_message">Really delete this note and all its cards?\n%s</string>
     <string name="menu_select">Select text</string>
     <string name="menu_search">Lookup in %1$s</string>
diff --git a/AnkiDroid/src/main/res/values/07-cardbrowser.xml b/AnkiDroid/src/main/res/values/07-cardbrowser.xml
index 5c09902341c6..009324a7b32f 100644
--- a/AnkiDroid/src/main/res/values/07-cardbrowser.xml
+++ b/AnkiDroid/src/main/res/values/07-cardbrowser.xml
@@ -32,6 +32,7 @@
     <string name="card_browser_change_deck">Change deck</string>
     <string name="card_browser_unsuspend_card">Unsuspend cards</string>
     <string name="card_browser_mark_card">Mark notes</string>
+    <string name="card_browser_flag">Flag</string>
     <string name="card_browser_toggle_mark_card">(un)mark notes</string>
     <string name="card_browser_unmark_card">Unmark notes</string>
     <string name="delete_card_title">Delete note?</string>
diff --git a/AnkiDroid/src/main/res/values/attrs.xml b/AnkiDroid/src/main/res/values/attrs.xml
index 8f53bdaf902c..b8eed7a0aa02 100644
--- a/AnkiDroid/src/main/res/values/attrs.xml
+++ b/AnkiDroid/src/main/res/values/attrs.xml
@@ -79,6 +79,10 @@
     <attr name="suspendedColor" format="color"/>
     <attr name="selectedColor" format="color"/>
     <attr name="markedColor" format="color"/>
+    <attr name="flagRed" format="color"/>
+    <attr name="flagOrange" format="color"/>
+    <attr name="flagGreen" format="color"/>
+    <attr name="flagBlue" format="color"/>
     <!-- Note editor colors -->
     <attr name="duplicateColor" format="color"/>
     <!-- Images -->
diff --git a/AnkiDroid/src/main/res/values/colors.xml b/AnkiDroid/src/main/res/values/colors.xml
index 1a75f3abffa9..88433bfc16fc 100644
--- a/AnkiDroid/src/main/res/values/colors.xml
+++ b/AnkiDroid/src/main/res/values/colors.xml
@@ -95,4 +95,9 @@
     <color name="material_deep_purple_400">#ff7E57C2</color>
 
     <color name="material_theme_grey">#303030</color>
+
+    <color name="flag_red">#ff0000</color>
+    <color name="flag_orange">#FF9800</color>
+    <color name="flag_green">#00ff00</color>
+    <color name="flag_blue">#0000ff</color>
 </resources>
diff --git a/AnkiDroid/src/main/res/values/theme_black.xml b/AnkiDroid/src/main/res/values/theme_black.xml
index 385749ffc4f4..5a9dc988f7ab 100644
--- a/AnkiDroid/src/main/res/values/theme_black.xml
+++ b/AnkiDroid/src/main/res/values/theme_black.xml
@@ -70,6 +70,10 @@
         <item name="suspendedColor">#A8A634</item>
         <item name="selectedColor">#a86634</item>
         <item name="markedColor">#391080</item>
+        <item name="flagRed">@color/flag_red</item>
+        <item name="flagOrange">@color/flag_orange</item>
+        <item name="flagGreen">@color/flag_green</item>
+        <item name="flagBlue">@color/flag_blue</item>
         <!-- Note editor colors -->
         <item name="duplicateColor">#855</item>
         <!-- FAB -->
@@ -93,4 +97,4 @@
         <item name="android:textColor">@color/prefs_item_dark</item>
         <item name="android:textColorSecondary">@color/prefs_item_dark</item>
     </style>
-</resources>
\ No newline at end of file
+</resources>
diff --git a/AnkiDroid/src/main/res/values/theme_dark.xml b/AnkiDroid/src/main/res/values/theme_dark.xml
index c7bb2f69beb0..bf00a9fa72d6 100644
--- a/AnkiDroid/src/main/res/values/theme_dark.xml
+++ b/AnkiDroid/src/main/res/values/theme_dark.xml
@@ -74,6 +74,10 @@
         <!-- Browser colors -->
         <item name="suspendedColor">@color/material_grey_700</item>
         <item name="markedColor">@color/material_deep_purple_400</item>
+        <item name="flagRed">@color/flag_red</item>
+        <item name="flagOrange">@color/flag_orange</item>
+        <item name="flagGreen">@color/flag_green</item>
+        <item name="flagBlue">@color/flag_blue</item>
         <!-- Note editor colors -->
         <item name="duplicateColor">#855</item>
         <!-- FAB -->
diff --git a/AnkiDroid/src/main/res/values/theme_light.xml b/AnkiDroid/src/main/res/values/theme_light.xml
index 6b66b5d7d1aa..9ba532e3f610 100644
--- a/AnkiDroid/src/main/res/values/theme_light.xml
+++ b/AnkiDroid/src/main/res/values/theme_light.xml
@@ -88,6 +88,10 @@ APIs. It's visible when there aren't enough decks to fill the screen.
         <item name="suspendedColor">#FFFFB2</item>
         <item name="selectedColor">#FFFFBB99</item>
         <item name="markedColor">#D9B2E9</item>
+        <item name="flagRed">@color/flag_red</item>
+        <item name="flagOrange">@color/flag_orange</item>
+        <item name="flagGreen">@color/flag_green</item>
+        <item name="flagBlue">@color/flag_blue</item>
         <!-- Note editor colors -->
         <item name="duplicateColor">#fcc</item>
         <!-- FAB -->
diff --git a/AnkiDroid/src/main/res/xml/preferences_custom_buttons.xml b/AnkiDroid/src/main/res/xml/preferences_custom_buttons.xml
index a068c19de8e3..ec158cfa0715 100644
--- a/AnkiDroid/src/main/res/xml/preferences_custom_buttons.xml
+++ b/AnkiDroid/src/main/res/xml/preferences_custom_buttons.xml
@@ -75,6 +75,12 @@ MENU_DISABLED = 3
             android:entryValues="@array/custom_button_values_menu_and_disabled"
             android:key="customButtonDeckOptions"
             android:title="@string/study_options" />
+        <ListPreference
+            android:defaultValue="1"
+            android:entries="@array/custom_button_labels"
+            android:entryValues="@array/custom_button_values"
+            android:key="customButtonFlag"
+            android:title="@string/menu_flag" />
     </PreferenceCategory>
     <PreferenceCategory android:title="@string/menu_dismiss_note" >
         <ListPreference
