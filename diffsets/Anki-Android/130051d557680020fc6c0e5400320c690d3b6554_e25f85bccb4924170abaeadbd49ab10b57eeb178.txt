diff --git a/src/com/ichi2/anki/AnkiDroidWidgetSmall.java b/src/com/ichi2/anki/AnkiDroidWidgetSmall.java
index 9b1e7545fa12..2c02e7df4ac6 100644
--- a/src/com/ichi2/anki/AnkiDroidWidgetSmall.java
+++ b/src/com/ichi2/anki/AnkiDroidWidgetSmall.java
@@ -162,8 +162,10 @@ public void onReceive(Context context, Intent intent) {
                 	if (totalreps != 0) {
                 		progress = (int) Math.round((100.0d * reps) / totalreps);
                 	}
-        			if (dueCardsCount == 0) {
-		                updateViews.setViewVisibility(R.id.ankidroid_widget_small_finish_layout, View.VISIBLE);
+        			if (dueCardsCount <= 0) {
+        				if (dueCardsCount == 0) {
+    		                updateViews.setViewVisibility(R.id.ankidroid_widget_small_finish_layout, View.VISIBLE);        					
+        				}
 		                updateViews.setViewVisibility(R.id.widget_due, View.INVISIBLE);
 		                updateViews.setViewVisibility(R.id.widget_progress_frame, View.INVISIBLE);
         			} else {
@@ -173,7 +175,7 @@ public void onReceive(Context context, Intent intent) {
 	                    updateViews.setTextViewText(R.id.widget_due, Integer.toString(dueCardsCount));
 	                    updateViews.setProgressBar(R.id.widget_progress, 100, progress, false);
 					}
-        			if (eta <= 0 || dueCardsCount == 0) {
+        			if (eta <= 0 || dueCardsCount <= 0) {
 		                updateViews.setViewVisibility(R.id.widget_eta, View.INVISIBLE);        				
         			} else {
 		                updateViews.setViewVisibility(R.id.widget_eta, View.VISIBLE);        				
diff --git a/src/com/ichi2/anki/DeckPicker.java b/src/com/ichi2/anki/DeckPicker.java
index d7d7e1e37431..c17f2c96824f 100644
--- a/src/com/ichi2/anki/DeckPicker.java
+++ b/src/com/ichi2/anki/DeckPicker.java
@@ -1020,21 +1020,7 @@ private void closeDeckPicker() {
 	}
 	private void closeDeckPicker(boolean backPressed) {
 		if (mPrefStartupDeckPicker && backPressed) {
-    			setResult(StudyOptions.RESULT_CLOSE);
-	    		Deck deck = AnkiDroidApp.deck();
-	    		if (deck != null) {
-	        	DeckTask.launchDeckTask(DeckTask.TASK_TYPE_CLOSE_DECK, new DeckTask.TaskListener() {
-			        @Override
-			        public void onPreExecute() {
-			        }
-			        @Override
-			        public void onPostExecute(DeckTask.TaskData result) {
-			        }
-			        @Override
-			        public void onProgressUpdate(DeckTask.TaskData... values) {
-			        }
-				}, new DeckTask.TaskData(deck, 0));
-    		}
+			setResult(StudyOptions.RESULT_CLOSE);
 			finish();
 		} else {
 			finish();
diff --git a/src/com/ichi2/anki/DeckTask.java b/src/com/ichi2/anki/DeckTask.java
index 71b69c713b4e..6a5d33437b2b 100644
--- a/src/com/ichi2/anki/DeckTask.java
+++ b/src/com/ichi2/anki/DeckTask.java
@@ -704,6 +704,10 @@ private TaskData doInBackgroundSetJournalMode(TaskData... params) {
     private TaskData doInBackgroundCloseDeck(TaskData... params) {
         Log.i(AnkiDroidApp.TAG, "doInBackgroundCloseDeck");
     	Deck deck = params[0].getDeck();
+
+    	// wait for widget updating before closing db
+    	WidgetStatus.waitToFinish();
+
     	if (deck != null) {
     		try {
     			deck.closeDeck(false);
diff --git a/src/com/ichi2/anki/MetaDB.java b/src/com/ichi2/anki/MetaDB.java
index 7d99b36973fe..541759aecb6f 100644
--- a/src/com/ichi2/anki/MetaDB.java
+++ b/src/com/ichi2/anki/MetaDB.java
@@ -417,11 +417,13 @@ public static int[] getWidgetSmallStatus(Context context) {
         int due = 0;
         int eta = 0;
         int time = 0;
+        boolean noDeck = true;
         try {
             cursor = mMetaDb.query("widgetStatus",
                     new String[]{"dueCards", "failedCards", "newCards", "time", "eta"},
                     null, null, null, null, null);
             while (cursor.moveToNext()) {
+            	noDeck = false;
             	int d = cursor.getInt(0) + cursor.getInt(1) + cursor.getInt(2);
             	due += d;
             	time += cursor.getInt(3);
@@ -434,7 +436,7 @@ public static int[] getWidgetSmallStatus(Context context) {
                 cursor.close();
             }
         }
-        return new int[]{due, time, eta};
+        return new int[]{noDeck ? -1 : due, time, eta};
     }
 
 
diff --git a/src/com/ichi2/anki/StudyOptions.java b/src/com/ichi2/anki/StudyOptions.java
index 41d75f0a22c4..4043097fc1b2 100644
--- a/src/com/ichi2/anki/StudyOptions.java
+++ b/src/com/ichi2/anki/StudyOptions.java
@@ -2293,8 +2293,9 @@ protected void onActivityResult(int requestCode, int resultCode, Intent intent)
             showContentView(CONTENT_NO_EXTERNAL_STORAGE);
         } else if (requestCode == PICK_DECK_REQUEST || requestCode == DOWNLOAD_PERSONAL_DECK
                 || requestCode == DOWNLOAD_SHARED_DECK) {
+            mInDeckPicker = false;
         	if (requestCode == PICK_DECK_REQUEST && resultCode == RESULT_CLOSE) {
-        		closeStudyOptions(false);
+        		closeStudyOptions(true);
         	} else if (requestCode == PICK_DECK_REQUEST && resultCode == RESULT_RESTART) {
         		restartApp();
         	}
@@ -2303,7 +2304,6 @@ protected void onActivityResult(int requestCode, int resultCode, Intent intent)
             // updateCard("");
             // hideSdError();
             // hideDeckErrors();
-            mInDeckPicker = false;
 
             if (requestCode == PICK_DECK_REQUEST && resultCode == RESULT_OK) {
                 showContentView(CONTENT_STUDY_OPTIONS);
diff --git a/src/com/ichi2/anki/WidgetStatus.java b/src/com/ichi2/anki/WidgetStatus.java
index 5646c3dbe588..2ee4dfe4e8da 100644
--- a/src/com/ichi2/anki/WidgetStatus.java
+++ b/src/com/ichi2/anki/WidgetStatus.java
@@ -35,8 +35,9 @@
  */
 public final class WidgetStatus {
 
-	static boolean mediumWidget = false;
-	static boolean smallWidget = false;
+	private static boolean mediumWidget = false;
+	private static boolean smallWidget = false;
+	private static AsyncTask<Context,Void,Context> mUpdateDeckStatusAsyncTask;
 
     /** This class should not be instantiated. */
     private WidgetStatus() {}
@@ -58,14 +59,28 @@ public static void update(Context context) {
         }
         if (mediumWidget || smallWidget) {
             Log.d(AnkiDroidApp.TAG, "WidgetStatus.update(): updating");
-            AsyncTask<Context,Void,Context> updateDeckStatusAsyncTask =
-                    new UpdateDeckStatusAsyncTask();
-            updateDeckStatusAsyncTask.execute(context);
+            mUpdateDeckStatusAsyncTask = new UpdateDeckStatusAsyncTask();
+            mUpdateDeckStatusAsyncTask.execute(context);
         } else {
             Log.d(AnkiDroidApp.TAG, "WidgetStatus.update(): not enabled");
         }
     }
 
+
+    /**
+     * Block the current thread until the currently running UpdateDeckStatusAsyncTask instance (if any) has finished.
+     */
+    public static void waitToFinish() {
+        try {
+            if ((mUpdateDeckStatusAsyncTask != null) && (mUpdateDeckStatusAsyncTask.getStatus() != AsyncTask.Status.FINISHED)) {
+            	mUpdateDeckStatusAsyncTask.get();
+            }
+        } catch (Exception e) {
+            return;
+        }
+    }
+
+
     /** Returns the status of each of the decks. */
     public static DeckStatus[] fetch(Context context) {
         return MetaDB.getWidgetStatus(context);
@@ -115,7 +130,6 @@ protected Context doInBackground(Context... params) {
 
                     Log.i(AnkiDroidApp.TAG, "Found deck: " + absPath);
 
-                	DeckTask.waitToFinish();
                     Deck deck;
                     Deck currentDeck = AnkiDroidApp.deck();
                     if (currentDeck != null && currentDeck.getDeckPath().equals(deckName)) {
@@ -132,13 +146,13 @@ protected Context doInBackground(Context... params) {
                     if (deck == null) {
                         Log.e(AnkiDroidApp.TAG, "Widget: Skipping null deck: " + absPath);
                         // Use the data from the last time we updated the deck, if available.
-                        for (DeckStatus deckStatus : mDecks) {
-                            if (absPath.equals(deckStatus.mDeckPath)) {
-                                Log.d(AnkiDroidApp.TAG, "Using previous value");
-                                decks.add(deckStatus);
-                                break;
-                            }
-                        }
+//                        for (DeckStatus deckStatus : mDecks) {
+//                            if (absPath.equals(deckStatus.mDeckPath)) {
+//                                Log.d(AnkiDroidApp.TAG, "Using previous value");
+//                                decks.add(deckStatus);
+//                                break;
+//                            }
+//                        }
                         continue;
                     }
                     int dueCards = deck.getRevCount();
