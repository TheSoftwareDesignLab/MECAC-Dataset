diff --git a/res/layout-small/studyoptions.xml b/res/layout-small/studyoptions.xml
new file mode 100644
index 000000000000..391a6f9a0965
--- /dev/null
+++ b/res/layout-small/studyoptions.xml
@@ -0,0 +1,171 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:id="@+id/studyoptions_main"
+	android:visibility="invisible"
+	android:layout_width="fill_parent"
+	android:layout_height="fill_parent"
+	android:padding="5dp"
+	android:gravity="center"
+	android:orientation="vertical">
+	<RelativeLayout
+		android:layout_width="fill_parent"
+		android:layout_height="wrap_content">
+		<TextView
+			android:id="@+id/studyoptions_help"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_alignParentRight="true"
+			android:drawableLeft="@drawable/help"/>
+	</RelativeLayout>
+	
+	<LinearLayout
+		android:orientation="vertical"
+		android:gravity="center"
+		android:layout_width="fill_parent"
+		android:layout_height="fill_parent">
+		<TextView 
+			android:id="@+id/studyoptions_deck_name" 
+			android:textSize="26sp" 
+			android:textStyle="bold" 
+			android:textColor="#ffffff"
+			android:ellipsize="end" 
+			android:lines="1"
+			android:gravity="center" 
+			android:layout_width="fill_parent" 
+			android:layout_height="wrap_content" 
+			android:text="Deck name"/>
+		<TextView
+			android:visibility="gone"
+			android:id="@+id/studyoptions_title"
+			android:textSize="26dip"
+			android:textStyle="bold"
+			android:textColor="#ffffff"
+			android:gravity="center"
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:text="@string/studyoptions_title"/>
+		<TableLayout
+			android:layout_margin="15dp"		
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_horizontal">
+			<TableRow>
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:text="@string/studyoptions_reviews_due"
+					android:textColor="#ffffff"/>
+				<TextView 
+					android:id="@+id/studyoptions_reviews_due"
+					android:layout_width="fill_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginLeft="4dp"
+					android:gravity="right"
+					android:text="0"
+					android:textColor="#ffffff"/>
+			</TableRow>
+			<TableRow>
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:text="@string/studyoptions_new_today"
+					android:textColor="#ffffff"/>
+				<TextView 
+					android:id="@+id/studyoptions_new_today"
+					android:layout_width="fill_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginLeft="4dp"
+					android:gravity="right"
+					android:text="0"
+					android:textColor="#ffffff"/>
+			</TableRow>
+			<TableRow>
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:text="@string/studyoptions_new_total"
+					android:textColor="#ffffff"/>
+				<TextView 
+					android:id="@+id/studyoptions_new_total"
+					android:layout_width="fill_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginLeft="4dp"
+					android:gravity="right"
+					android:text="0"
+					android:textColor="#ffffff"/>
+			</TableRow>
+			<TableRow>
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:text="@string/studyoptions_eta"
+					android:textColor="#ffffff"/>
+				<TextView 
+					android:id="@+id/studyoptions_eta"
+					android:layout_width="fill_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginLeft="4dp"
+					android:gravity="right"
+					android:text="-"
+					android:textColor="#ffffff"/>
+			</TableRow>
+		</TableLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<Button 
+				android:id="@+id/studyoptions_start"
+         		android:layout_height="fill_parent"
+	         	android:layout_width="0dip"
+    	     	android:layout_weight="3"
+				android:text="@string/studyoptions_start"
+				android:drawableLeft="@drawable/chronometer"/>	
+			<LinearLayout
+				android:layout_weight="1"
+				android:orientation="vertical"
+				android:layout_width="0dip"
+				android:layout_height="wrap_content">
+				<ToggleButton 
+					android:id="@+id/studyoptions_limit" 
+					android:layout_height="0dip"
+         			android:layout_width="fill_parent"
+    		     	android:layout_weight="1"
+					android:textOff="@string/studyoptions_limit_button_text"
+					android:textOn="@string/studyoptions_limit_button_text" />
+				<ToggleButton
+					android:id="@+id/studyoptions_cram" 
+					android:layout_height="0dip"
+         			android:layout_width="fill_parent"
+    		     	android:layout_weight="1"
+					android:textOff="@string/cram"
+					android:textOn="@string/cram" />
+			</LinearLayout>
+		</LinearLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<Button android:id="@+id/studyoptions_statistics"
+   		     	android:layout_height="fill_parent"
+   		     	android:layout_width="0dip"
+   		     	android:layout_weight="1"
+				android:text="@string/statistics"/>
+			<Button
+				android:id="@+id/studyoptions_card_browser"
+				android:layout_width="0dip" 
+				android:layout_height="fill_parent"
+				android:layout_weight="1" 
+				android:text="@string/card_browser"/> 
+		</LinearLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<CheckBox 
+				android:id="@+id/studyoptions_night_mode"
+				android:text="@string/studyoptions_night_mode"
+				android:textSize="14dip"
+				android:layout_width="fill_parent"
+				android:layout_height="wrap_content"/>
+		</LinearLayout>
+	</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/res/layout/deck_picker.xml b/res/layout/deck_picker.xml
index 7c626788991f..4dfb9c30f05b 100644
--- a/res/layout/deck_picker.xml
+++ b/res/layout/deck_picker.xml
@@ -11,7 +11,7 @@
 		android:layout_weight="1"
 		android:fastScrollEnabled="true"/>
 
-	<LinearLayout android:id="@+id/sync_all_bar"
+	<LinearLayout
 		android:layout_width="fill_parent"
 		android:layout_height="wrap_content"
 		android:background="#8b8b8b"
diff --git a/res/layout/flashcard.xml b/res/layout/flashcard.xml
index ad6899b9693b..d52bdefab9fa 100644
--- a/res/layout/flashcard.xml
+++ b/res/layout/flashcard.xml
@@ -118,6 +118,7 @@
 		android:layout_height="fill_parent"
 		android:textSize="15sp" />
 	<view class="com.ichi2.anki.Whiteboard" android:id="@+id/whiteboard"
+		android:visibility="gone"
 		android:layout_below="@+id/red_number"
 		android:layout_above="@+id/answer_nextTime_layout"
 		android:layout_width="fill_parent"
diff --git a/res/layout/studyoptions.xml b/res/layout/studyoptions.xml
index 90cb0d3e2b3f..43372dc4bc89 100644
--- a/res/layout/studyoptions.xml
+++ b/res/layout/studyoptions.xml
@@ -1,208 +1,170 @@
 <?xml version="1.0" encoding="utf-8"?>
 
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:id="@+id/studyoptions_main"
+	android:visibility="invisible"
 	android:layout_width="fill_parent"
-	android:layout_height="wrap_content"
-	android:paddingRight="10dip"
-	android:paddingLeft="10dip"
+	android:layout_height="fill_parent"
+	android:padding="5dp"
 	android:gravity="center"
 	android:orientation="vertical">
-	
-	<TextView android:id="@+id/studyoptions_deck_name"
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content"
-		android:layout_marginTop="15dip"
-		android:gravity="center"
-		android:lines="2"
-		android:ellipsize="end"
-		android:text=""
-		android:textColor="#ffffff"
-		android:textSize="26sp"
-		android:textStyle="bold" />
-		
-	<TextView android:id="@+id/studyoptions_title"
+	<RelativeLayout
 		android:layout_width="fill_parent"
-		android:layout_height="wrap_content"
-		android:gravity="center"
-		android:text="@string/studyoptions_title"
-		android:layout_marginBottom="15dip"
-		android:textColor="#ffffff"
-		android:textSize="26dip"
-		android:textStyle="bold" />
-
+		android:layout_height="wrap_content">
+		<TextView
+			android:id="@+id/studyoptions_help"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_alignParentRight="true"
+			android:drawableLeft="@drawable/help"/>
+	</RelativeLayout>
+	
 	<LinearLayout
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content"
-		android:layout_marginBottom="15dip"
+		android:orientation="vertical"
 		android:gravity="center"
-		android:orientation="horizontal">
-
-		<LinearLayout
+		android:layout_width="fill_parent"
+		android:layout_height="fill_parent">
+		<TextView 
+			android:id="@+id/studyoptions_deck_name" 
+			android:textSize="26sp" 
+			android:textStyle="bold" 
+			android:textColor="#ffffff"
+			android:ellipsize="end" 
+			android:lines="2"
+			android:gravity="center" 
+			android:layout_width="fill_parent" 
+			android:layout_height="wrap_content" 
+			android:text="Deck name"/>
+		<TextView 
+			android:id="@+id/studyoptions_title"
+			android:textSize="26dip"
+			android:textStyle="bold"
+			android:textColor="#ffffff"
+			android:gravity="center"
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:text="@string/studyoptions_title"/>
+		<TableLayout
+			android:layout_margin="15dp"		
 			android:layout_width="wrap_content"
 			android:layout_height="wrap_content"
-			android:orientation="vertical">
-			<LinearLayout
-				android:layout_width="fill_parent"
-				android:layout_height="wrap_content">
+			android:layout_gravity="center_horizontal">
+			<TableRow>
 				<TextView
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:text="@string/studyoptions_reviews_due"
 					android:textColor="#ffffff"/>
-				<TextView android:id="@+id/studyoptions_reviews_due"
+				<TextView 
+					android:id="@+id/studyoptions_reviews_due"
 					android:layout_width="fill_parent"
 					android:layout_height="wrap_content"
-					android:layout_marginLeft="15dip"
+					android:layout_marginLeft="4dp"
 					android:gravity="right"
 					android:text="0"
 					android:textColor="#ffffff"/>
-			</LinearLayout>
-			<LinearLayout
-				android:layout_width="fill_parent"
-				android:layout_height="wrap_content">
+			</TableRow>
+			<TableRow>
 				<TextView
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:text="@string/studyoptions_new_today"
 					android:textColor="#ffffff"/>
-				<TextView android:id="@+id/studyoptions_new_today"
+				<TextView 
+					android:id="@+id/studyoptions_new_today"
 					android:layout_width="fill_parent"
 					android:layout_height="wrap_content"
-					android:layout_marginLeft="15dip"
+					android:layout_marginLeft="4dp"
 					android:gravity="right"
 					android:text="0"
 					android:textColor="#ffffff"/>
-			</LinearLayout>
-			<LinearLayout
-				android:layout_width="fill_parent"
-				android:layout_height="wrap_content">
+			</TableRow>
+			<TableRow>
 				<TextView
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:text="@string/studyoptions_new_total"
 					android:textColor="#ffffff"/>
-				<TextView android:id="@+id/studyoptions_new_total"
+				<TextView 
+					android:id="@+id/studyoptions_new_total"
 					android:layout_width="fill_parent"
 					android:layout_height="wrap_content"
-					android:layout_marginLeft="15dip"
+					android:layout_marginLeft="4dp"
 					android:gravity="right"
 					android:text="0"
 					android:textColor="#ffffff"/>
-			</LinearLayout>
-			<LinearLayout
-				android:layout_width="fill_parent"
-				android:layout_height="wrap_content">
+			</TableRow>
+			<TableRow>
 				<TextView
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:text="@string/studyoptions_eta"
 					android:textColor="#ffffff"/>
-				<TextView android:id="@+id/studyoptions_eta"
+				<TextView 
+					android:id="@+id/studyoptions_eta"
 					android:layout_width="fill_parent"
 					android:layout_height="wrap_content"
-					android:layout_marginLeft="15dip"
+					android:layout_marginLeft="4dp"
 					android:gravity="right"
-					android:text="  -"
+					android:text="-"
 					android:textColor="#ffffff"/>
+			</TableRow>
+		</TableLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<Button 
+				android:id="@+id/studyoptions_start"
+         		android:layout_height="fill_parent"
+	         	android:layout_width="0dip"
+    	     	android:layout_weight="3"
+				android:text="@string/studyoptions_start"
+				android:drawableLeft="@drawable/chronometer"/>	
+			<LinearLayout
+				android:layout_weight="1"
+				android:orientation="vertical"
+				android:layout_width="0dip"
+				android:layout_height="wrap_content">
+				<ToggleButton 
+					android:id="@+id/studyoptions_limit" 
+					android:layout_height="0dip"
+         			android:layout_width="fill_parent"
+    		     	android:layout_weight="1"
+					android:textOff="@string/studyoptions_limit_button_text"
+					android:textOn="@string/studyoptions_limit_button_text" />
+				<ToggleButton
+					android:id="@+id/studyoptions_cram" 
+					android:layout_height="0dip"
+         			android:layout_width="fill_parent"
+    		     	android:layout_weight="1"
+					android:textOff="@string/cram"
+					android:textOn="@string/cram" />
 			</LinearLayout>
 		</LinearLayout>
-
-	</LinearLayout>
-
-	<LinearLayout
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content"
-		android:orientation="horizontal">
-		<TextView
-			android:layout_width="0dip"
-			android:layout_height="wrap_content"
-			android:layout_weight="3"
-			android:layout_marginLeft="4dip"
-			android:text="@string/studyoptions_session_minutes"
-			android:textSize="14dip"/>
-		<EditText android:id="@+id/studyoptions_session_minutes"
-			android:layout_width="0dip"
-			android:layout_height="38dip"
-			android:layout_weight="1"
-			android:gravity="center"
-			android:inputType="number"
-			android:lines="1"
-			android:text="10"
-			android:textSize="14dip"/>
-	</LinearLayout>
-	<LinearLayout
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content"
-		android:orientation="horizontal">
-		<TextView
-			android:layout_width="0dip"
-			android:layout_height="wrap_content"
-			android:layout_marginLeft="4dip"
-			android:layout_weight="3"
-			android:text="@string/studyoptions_session_questions"
-			android:textSize="14dip"/>
-		<EditText android:id="@+id/studyoptions_session_questions"
-			android:layout_width="0dip"
-			android:layout_height="38dip"
-			android:layout_weight="1"
-			android:gravity="center"
-			android:inputType="number"
-			android:lines="1"
-			android:text="30"
-			android:textSize="14dip"/>
-	</LinearLayout>
-	<LinearLayout
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content">
-		<Button android:id="@+id/studyoptions_start"
-         	android:layout_height="fill_parent"
-         	android:layout_width="0dip"
-         	android:layout_weight="3"
-         	android:layout_gravity="center"
-			android:gravity="center"
-			android:text="@string/studyoptions_start"
-			android:drawableLeft="@drawable/chronometer"/>
-		<ToggleButton android:id="@+id/studyoptions_cram"
-         	android:layout_height="fill_parent"
-         	android:layout_width="0dip"
-         	android:layout_weight="1"
-         	android:layout_gravity="center"
-			android:gravity="center"
-			android:textOff="@string/cram"
-			android:textOn="@string/cram" 
-			android:layout_marginBottom="1.5dip"/>
-	</LinearLayout>
-	<LinearLayout
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content">
-		<Button android:id="@+id/studyoptions_statistics"
-   	     	android:layout_height="fill_parent"
-   	     	android:layout_width="0dip"
-   	     	android:layout_weight="2"
-			android:text="@string/statistics"/>
-		<Button android:id="@+id/studyoptions_card_browser"
-   	     	android:layout_height="fill_parent"
-   	     	android:layout_width="0dip"
-   	     	android:layout_weight="2"
-			android:text="@string/card_browser"/>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<Button android:id="@+id/studyoptions_statistics"
+   		     	android:layout_height="fill_parent"
+   		     	android:layout_width="0dip"
+   		     	android:layout_weight="1"
+				android:text="@string/statistics"/>
+			<Button
+				android:id="@+id/studyoptions_card_browser"
+				android:layout_width="0dip" 
+				android:layout_height="fill_parent"
+				android:layout_weight="1" 
+				android:text="@string/card_browser"/> 
+		</LinearLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content">
+			<CheckBox 
+				android:id="@+id/studyoptions_night_mode"
+				android:text="@string/studyoptions_night_mode"
+				android:textSize="14dip"
+				android:layout_width="fill_parent"
+				android:layout_height="wrap_content"/>
+		</LinearLayout>
 	</LinearLayout>
-	<RelativeLayout
-		android:orientation="horizontal"
-		android:layout_width="fill_parent"
-		android:layout_height="wrap_content">
-		<CheckBox android:id="@+id/studyoptions_night_mode"
-			android:layout_width="wrap_content"
-			android:layout_height="wrap_content"
-			android:layout_alignParentLeft="true"
-			android:text="@string/studyoptions_night_mode"
-			android:textSize="14dip"/>
-		<TextView
-			android:id="@+id/studyoptions_help"
-			android:layout_marginRight="5dip"
-			android:layout_width="wrap_content"
-			android:layout_height="wrap_content"
-			android:layout_alignParentRight="true"
-			android:layout_centerVertical="true"
-			android:drawableLeft="@drawable/help"/>
-	</RelativeLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/res/layout/studyoptions_limit_dialog_contents.xml b/res/layout/studyoptions_limit_dialog_contents.xml
new file mode 100644
index 000000000000..df007ca2a51e
--- /dev/null
+++ b/res/layout/studyoptions_limit_dialog_contents.xml
@@ -0,0 +1,85 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ScrollView
+	xmlns:android="http://schemas.android.com/apk/res/android"
+	android:layout_height="wrap_content"
+	android:layout_width="fill_parent"
+	android:paddingRight="10dip">
+	
+	<LinearLayout
+		android:layout_height="wrap_content"
+		android:orientation="vertical"
+		android:layout_width="fill_parent"
+		android:padding="10dip">
+
+	    <LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:orientation="horizontal">
+			<TextView
+				android:layout_width="0dip"
+				android:layout_height="wrap_content"
+				android:layout_weight="4"
+				android:layout_marginLeft="4dip"
+				android:text="@string/studyoptions_session_limit_text"
+				android:textColor="#ffffff"
+				android:textSize="16dip"/>
+			<CheckBox
+				android:layout_height="wrap_content"
+				android:layout_width="wrap_content"
+				android:layout_alignParentRight="true"
+				android:id="@+id/studyoptions_limit_session_check"
+				android:layout_marginRight="4dip"
+				android:checked="false"/>
+		</LinearLayout>
+	    <LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:orientation="horizontal">
+			<TextView
+				android:layout_width="0dip"
+				android:layout_height="wrap_content"
+				android:layout_weight="4"
+				android:layout_marginLeft="4dip"
+				android:text="@string/studyoptions_session_minutes"
+				android:textColor="#ffffff"
+				android:textSize="16dip"/>
+			<EditText android:id="@+id/studyoptions_session_minutes"
+				android:enabled="false"
+				android:layout_width="0dip"
+				android:layout_height="38dip"
+				android:layout_weight="1"
+				android:layout_marginRight="4dip"
+				android:gravity="center"
+				android:inputType="number"
+				android:lines="1"
+				android:text=""
+				android:textSize="14dip"/>
+		</LinearLayout>
+		<LinearLayout
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:orientation="horizontal">
+			<TextView
+				android:layout_width="0dip"
+				android:layout_height="wrap_content"
+				android:layout_weight="4"
+				android:layout_marginLeft="4dip"
+				android:text="@string/studyoptions_session_questions"
+				android:textColor="#ffffff"
+				android:textSize="16dip"/>
+			<EditText android:id="@+id/studyoptions_session_questions"
+				android:enabled="false"
+				android:layout_width="0dip"
+				android:layout_height="38dip"
+				android:layout_weight="1"
+				android:layout_marginRight="4dip"
+				android:gravity="center"
+				android:inputType="number"
+				android:lines="1"
+				android:text=""
+				android:textSize="14dip"/>
+		</LinearLayout>
+
+	</LinearLayout>
+	
+</ScrollView>
diff --git a/res/values/strings.xml b/res/values/strings.xml
index f68766c4b9bf..8bca438a046a 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -86,6 +86,10 @@
 <!-- deck_preferences.xml -->
 <string name="newcards_day_summ">The maximum number of new cards shown per day.</string>
 <string name="newcards_day">New Cards / Day</string>
+
+<string name="studyoptions_limit_button_text">Limit</string>
+<string name="studyoptions_limit_dialog_title">Limit session</string>
+<string name="studyoptions_session_limit_text">Limit session:</string>
 <string name="session_time_limit">Session Time Limit</string>
 <string name="session_time_limit_summ">The number of minutes in a session. Choose 0 for no limit.</string>
 <string name="session_question_limit">Session Question Limit</string>
@@ -357,7 +361,9 @@
 <string name="menu_deck_properties">Deck Properties</string>
 <string name="menu_add_card">Add card</string>
 <string name="menu_about">About</string>
+<string name="menu_remove_card">Remove Card</string>
 <string name="menu_suspend_card">Suspend Card</string>
+<string name="menu_bury_card">Bury Card</string>
 <string name="menu_edit_card">Edit Card</string>
 <string name="menu_search">Lookup in %1$s</string>
 <string name="menu_mark_card">Mark Card</string>
diff --git a/src/com/ichi2/anki/CardBrowser.java b/src/com/ichi2/anki/CardBrowser.java
index 2bda3d1de116..a7a13ac332c2 100644
--- a/src/com/ichi2/anki/CardBrowser.java
+++ b/src/com/ichi2/anki/CardBrowser.java
@@ -585,13 +585,13 @@ public void onPreExecute() {
 
 
         @Override
-        public void onProgressUpdate(DeckTask.TaskData... values) {
-            deleteCard(values[0].getString(), mPositionInCardsList);
+        public void onProgressUpdate(DeckTask.TaskData... values) {            
         }
 
 
         @Override
         public void onPostExecute(DeckTask.TaskData result) {
+            deleteCard(result.getString(), mPositionInCardsList);
             mProgressDialog.dismiss();
 
         }
diff --git a/src/com/ichi2/anki/DeckPicker.java b/src/com/ichi2/anki/DeckPicker.java
index d7ae76dab49d..1ed7c58911a9 100644
--- a/src/com/ichi2/anki/DeckPicker.java
+++ b/src/com/ichi2/anki/DeckPicker.java
@@ -47,6 +47,7 @@
 import android.view.MenuInflater;
 import android.view.MenuItem;
 import android.view.MotionEvent;
+import android.view.SubMenu;
 import android.view.View;
 import android.view.ContextMenu.ContextMenuInfo;
 import android.view.GestureDetector.SimpleOnGestureListener;
@@ -94,7 +95,13 @@ public class DeckPicker extends Activity implements Runnable {
 	 */
     private static final int MENU_ABOUT = 0;
     private static final int MENU_CREATE_DECK = 1;
-	
+    private static final int SUBMENU_DOWNLOAD = 2;
+    private static final int MENU_DOWNLOAD_PERSONAL_DECK = 21;
+    private static final int MENU_DOWNLOAD_SHARED_DECK = 22;
+    private static final int MENU_PREFERENCES = 3;
+    private static final int MENU_MY_ACCOUNT = 4;
+
+
 	/**
 	 * Message types
 	 */
@@ -102,13 +109,18 @@ public class DeckPicker extends Activity implements Runnable {
 	private static final int MSG_UPGRADE_SUCCESS = 1;
 	private static final int MSG_UPGRADE_FAILURE = 2;
 
+    /**
+	* Available options performed by other activities
+	*/
+    private static final int PREFERENCES_UPDATE = 0;
+
+
 	private DeckPicker mSelf;
 
 	private ProgressDialog mProgressDialog;
 	private AlertDialog mSyncLogAlert;
 	private AlertDialog mUpgradeNotesAlert;
 	private AlertDialog mMissingMediaAlert;
-	private LinearLayout mSyncAllBar;
 	private Button mSyncAllButton;
 	private Button mStatisticsAllButton;
 
@@ -126,6 +138,7 @@ public class DeckPicker extends Activity implements Runnable {
 
 	private BroadcastReceiver mUnmountReceiver = null;
 
+	private String mPrefDeckPath = null;
 	private String mRemoveDeckFilename = null;
 	private String mRemoveDeckPath = null;
 
@@ -244,8 +257,7 @@ public void onPostExecute(Payload data) {
 					.setMessage(getSyncLogMessage((ArrayList<HashMap<String, String>>) data.result));
 			mSyncLogAlert.show();
 			mDeckIsSelected = false;
-			SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
-			populateDeckList(preferences.getString("deckPath", AnkiDroidApp.getStorageDirectory()));
+			populateDeckList(mPrefDeckPath);
             mSyncAllButton.setClickable(true);
 		}
 	};
@@ -326,7 +338,6 @@ protected void onCreate(Bundle savedInstanceState) throws SQLException {
 		registerExternalStorageListener();
 		initDialogs();
 
-		mSyncAllBar = (LinearLayout) findViewById(R.id.sync_all_bar);
 		mSyncAllButton = (Button) findViewById(R.id.sync_all_button);
 		mSyncAllButton.setOnClickListener(new OnClickListener() {
 
@@ -412,11 +423,13 @@ public void onClick(View v) {
 		mDeckListView.setAdapter(mDeckListAdapter);
 		registerForContextMenu(mDeckListView);
 
+		
+		
 		SharedPreferences preferences = PrefSettings
 				.getSharedPrefs(getBaseContext());
-		populateDeckList(preferences.getString("deckPath", AnkiDroidApp
-				.getStorageDirectory()));
-		
+		mPrefDeckPath = preferences.getString("deckPath", AnkiDroidApp.getStorageDirectory());
+		populateDeckList(mPrefDeckPath);
+
 		mSwipeEnabled = preferences.getBoolean("swipe", false);
 		gestureDetector = new GestureDetector(new MyGestureDetector());
         mDeckListView.setOnTouchListener(new View.OnTouchListener() {
@@ -592,7 +605,7 @@ public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuIn
 	}
 
 	
-	@Override
+    @Override
 	public boolean onContextItemSelected(MenuItem item) {
 		AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();
 		waitForDeckLoaderThread();
@@ -728,11 +741,32 @@ public boolean onCreateOptionsMenu(Menu menu) {
         MenuItem item;
         item = menu.add(Menu.NONE, MENU_CREATE_DECK, Menu.NONE, R.string.menu_create_deck);
         item.setIcon(R.drawable.ic_menu_add);
+        SubMenu downloadDeckSubMenu = menu.addSubMenu(Menu.NONE, SUBMENU_DOWNLOAD, Menu.NONE,
+                R.string.menu_download_deck);
+        downloadDeckSubMenu.setIcon(R.drawable.ic_menu_download);
+        downloadDeckSubMenu.add(
+                Menu.NONE, MENU_DOWNLOAD_PERSONAL_DECK, Menu.NONE, R.string.menu_download_personal_deck);
+        downloadDeckSubMenu.add(Menu.NONE, MENU_DOWNLOAD_SHARED_DECK, Menu.NONE, R.string.menu_download_shared_deck);
+        item = menu.add(Menu.NONE, MENU_PREFERENCES, Menu.NONE, R.string.menu_preferences);
+        item.setIcon(R.drawable.ic_menu_preferences);
+        item = menu.add(Menu.NONE, MENU_MY_ACCOUNT, Menu.NONE, R.string.menu_my_account);
+        item.setIcon(R.drawable.ic_menu_home);
         item = menu.add(Menu.NONE, MENU_ABOUT, Menu.NONE, R.string.menu_about);
         item.setIcon(R.drawable.ic_menu_info_details);
         return true;
     }
 
+
+    @Override
+    public boolean onPrepareOptionsMenu(Menu menu) {
+        boolean sdCardAvailable = AnkiDroidApp.isSdCardMounted();
+        menu.findItem(SUBMENU_DOWNLOAD).setEnabled(sdCardAvailable);
+        menu.findItem(MENU_DOWNLOAD_PERSONAL_DECK).setVisible(sdCardAvailable);
+        SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+        menu.findItem(MENU_MY_ACCOUNT).setVisible(preferences.getBoolean("syncEnabled", false));
+        return true;
+    }
+
     
     /** Handles item selections */
     @Override
@@ -749,14 +783,50 @@ public boolean onOptionsItemSelected(MenuItem item) {
                 startActivity(new Intent(DeckPicker.this, About.class));
                 return true;
 
+            case MENU_DOWNLOAD_PERSONAL_DECK:
+                openPersonalDeckPicker();
+                return true;
+
+            case MENU_DOWNLOAD_SHARED_DECK:
+                openSharedDeckPicker();
+                return true;
+
+            case MENU_MY_ACCOUNT:
+                startActivity(new Intent(DeckPicker.this, MyAccount.class));
+                return true;
+
+            case MENU_PREFERENCES:
+                startActivityForResult(
+                        new Intent(DeckPicker.this, Preferences.class),
+                        PREFERENCES_UPDATE);
+                return true;
+
             default:
                 return super.onOptionsItemSelected(item);
         }
     }
     
-	private void populateDeckList(String location) {
+    @Override
+    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {
+        super.onActivityResult(requestCode, resultCode, intent);
+
+        if (requestCode == PREFERENCES_UPDATE) {
+            SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+            String newPath = preferences.getString("deckPath", AnkiDroidApp.getStorageDirectory());
+            if (!mPrefDeckPath.equals(newPath)) {
+                populateDeckList(newPath);
+            }
+        }
+    }
+
+
+    private void populateDeckList(String location) {
 		Log.i(AnkiDroidApp.TAG, "DeckPicker - populateDeckList");
 
+		if (!location.equals(mPrefDeckPath)) {
+		    mPrefDeckPath = location;
+		}
+
 		mTotalDueCards = 0;
 		mTotalCards = 0;
 		setTitleText();
@@ -767,7 +837,7 @@ private void populateDeckList(String location) {
 		TreeSet<HashMap<String, String>> tree = new TreeSet<HashMap<String, String>>(
 				new HashMapCompare());
 
-		File dir = new File(location);
+		File dir = new File(mPrefDeckPath);
 		fileList = dir.listFiles(new AnkiFilter());
 
 		if (dir.exists() && dir.isDirectory() && fileList != null) {
@@ -835,8 +905,6 @@ private void populateDeckList(String location) {
             data.put("rateOfCompletionAll", "0");
 
 			tree.add(data);
-
-			mSyncAllBar.setVisibility(View.GONE);
 		}
 		mDeckList.clear();
 		mDeckList.addAll(tree);
@@ -975,6 +1043,37 @@ private void resetDeckLanguages(String deckPath) {
 	}
 
 
+    public void openPersonalDeckPicker() {
+        if (AnkiDroidApp.isUserLoggedIn()) {
+            if (AnkiDroidApp.deck() != null)// && sdCardAvailable)
+            {
+                AnkiDroidApp.deck().closeDeck();
+                AnkiDroidApp.setDeck(null);
+            }
+            startActivity(new Intent(this, PersonalDeckPicker.class));
+            if (Integer.valueOf(android.os.Build.VERSION.SDK) > 4) {
+                MyAnimation.slide(this, MyAnimation.RIGHT);
+            }
+        } else {
+            showDialog(DIALOG_USER_NOT_LOGGED_IN);
+        }
+    }
+
+
+    public void openSharedDeckPicker() {
+        if (AnkiDroidApp.deck() != null)// && sdCardAvailable)
+        {
+            AnkiDroidApp.deck().closeDeck();
+            AnkiDroidApp.setDeck(null);
+        }
+        // deckLoaded = false;
+        startActivity(new Intent(this, SharedDeckPicker.class));
+        if (Integer.valueOf(android.os.Build.VERSION.SDK) > 4) {
+            MyAnimation.slide(this, MyAnimation.RIGHT);
+        }
+    }
+
+
 	private void handleDeckSelection(int id) {
 		String deckFilename = null;
 
@@ -1023,9 +1122,8 @@ private void removeDeck(String deckFilename) {
 				} else {
 					Log.e(AnkiDroidApp.TAG, "Error: Could not delete " + mediaDir);										
 				}
-				
-				SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
-				populateDeckList(preferences.getString("deckPath", AnkiDroidApp.getStorageDirectory()));
+
+				populateDeckList(mPrefDeckPath);
 			} else {
 				Log.e(AnkiDroidApp.TAG, "Error: Could not delete "
 						+ deckFilename);
diff --git a/src/com/ichi2/anki/DeckTask.java b/src/com/ichi2/anki/DeckTask.java
index f7ea64ea4b7b..6c7528ad853b 100644
--- a/src/com/ichi2/anki/DeckTask.java
+++ b/src/com/ichi2/anki/DeckTask.java
@@ -373,19 +373,22 @@ private TaskData doInBackgroundLoadCards(TaskData... params) {
     private TaskData doInBackgroundDeleteCard(TaskData... params) {
     	Deck deck = params[0].getDeck();
     	Card card = params[0].getCard();
+    	Card newCard = null;
+    	Long id = 0l;
         Log.i(AnkiDroidApp.TAG, "doInBackgroundDeleteCard");
 
         AnkiDb ankiDB = AnkiDatabaseManager.getDatabase(deck.getDeckPath());
         ankiDB.getDatabase().beginTransaction();
         try {
-            Long id = card.getId();
+            id = card.getId();
         	card.delete();
-        	publishProgress(new TaskData(String.valueOf(id)));
+            newCard = deck.getCard();
+        	publishProgress(new TaskData(newCard));
         	ankiDB.getDatabase().setTransactionSuccessful();
         } finally {
             ankiDB.getDatabase().endTransaction();
         }
-        return null;
+        return new TaskData(String.valueOf(id));
     }
 
 
diff --git a/src/com/ichi2/anki/Reviewer.java b/src/com/ichi2/anki/Reviewer.java
index 100e1230d45c..6aefe19cce8f 100644
--- a/src/com/ichi2/anki/Reviewer.java
+++ b/src/com/ichi2/anki/Reviewer.java
@@ -16,6 +16,7 @@
 
 import android.app.Activity;
 import android.app.AlertDialog;
+import android.app.Dialog;
 import android.app.ProgressDialog;
 import android.content.BroadcastReceiver;
 import android.content.Context;
@@ -44,6 +45,7 @@
 import android.view.Menu;
 import android.view.MenuItem;
 import android.view.MotionEvent;
+import android.view.SubMenu;
 import android.view.View;
 import android.view.Window;
 import android.view.WindowManager;
@@ -102,7 +104,10 @@ public class Reviewer extends Activity {
     private static final int MENU_WHITEBOARD = 0;
     private static final int MENU_CLEAR_WHITEBOARD = 1;
     private static final int MENU_EDIT = 2;
-    private static final int MENU_SUSPEND = 3;
+    private static final int MENU_REMOVE = 3;
+    private static final int MENU_REMOVE_BURY = 31;
+    private static final int MENU_REMOVE_SUSPEND = 32;
+    private static final int MENU_REMOVE_DELETE = 33;
     private static final int MENU_SEARCH = 4;
     private static final int MENU_MARK = 5;
     private static final int MENU_UNDO = 6;
@@ -691,7 +696,12 @@ public boolean onCreateOptionsMenu(Menu menu) {
         }
         item = menu.add(Menu.NONE, MENU_EDIT, Menu.NONE, R.string.menu_edit_card);
         item.setIcon(R.drawable.ic_menu_edit);
-        item = menu.add(Menu.NONE, MENU_SUSPEND, Menu.NONE, R.string.menu_suspend_card);
+
+        SubMenu removeDeckSubMenu = menu.addSubMenu(Menu.NONE, MENU_REMOVE, Menu.NONE, R.string.menu_remove_card);
+        removeDeckSubMenu.setIcon(R.drawable.ic_menu_close_clear_cancel);
+        removeDeckSubMenu.add(Menu.NONE, MENU_REMOVE_BURY, Menu.NONE, R.string.menu_bury_card);
+        removeDeckSubMenu.add(Menu.NONE, MENU_REMOVE_SUSPEND, Menu.NONE, R.string.menu_suspend_card);
+        removeDeckSubMenu.add(Menu.NONE, MENU_REMOVE_DELETE, Menu.NONE, R.string.card_browser_delete_card);
         item.setIcon(R.drawable.ic_menu_close_clear_cancel);
         if (mPrefTextSelection) {
             item = menu.add(Menu.NONE, MENU_SEARCH, Menu.NONE, String.format(getString(R.string.menu_search), 
@@ -743,6 +753,13 @@ public boolean onPrepareOptionsMenu(Menu menu) {
         }
         menu.findItem(MENU_UNDO).setEnabled(AnkiDroidApp.deck().undoAvailable());
         menu.findItem(MENU_REDO).setEnabled(AnkiDroidApp.deck().redoAvailable());
+        
+        // Disable bury card for now, until unburying works as expected
+        item = menu.findItem(MENU_REMOVE_BURY);
+        item.setEnabled(false);
+        // Disable bury card for now, since there are some problems with retrieving a new card
+        item = menu.findItem(MENU_REMOVE_DELETE);
+        item.setEnabled(false);
         return true;
     }
 
@@ -808,11 +825,21 @@ public boolean onOptionsItemSelected(MenuItem item) {
                     }
                     return true;
                 }
-            case MENU_SUSPEND:
+
+            case MENU_REMOVE_BURY:
+//                DeckTask.launchDeckTask(DeckTask.TASK_TYPE_SUSPEND_CARD, mAnswerCardHandler, new DeckTask.TaskData(0,
+//                        AnkiDroidApp.deck(), mCurrentCard));
+                return true;
+
+            case MENU_REMOVE_SUSPEND:
                 DeckTask.launchDeckTask(DeckTask.TASK_TYPE_SUSPEND_CARD, mAnswerCardHandler, new DeckTask.TaskData(0,
                         AnkiDroidApp.deck(), mCurrentCard));
                 return true;
 
+            case MENU_REMOVE_DELETE:
+                showDeleteCardDialog();
+                return true;
+
             case MENU_SEARCH:
                 
             	if (mPrefTextSelection && mClipboard.hasText() && mIsDictionaryAvailable) {
@@ -939,6 +966,26 @@ private void finishNoStorageAvailable() {
     }
 
 
+    private void showDeleteCardDialog() {
+        Dialog dialog;
+        Resources res = getResources();
+        AlertDialog.Builder builder = new AlertDialog.Builder(this);
+        builder.setTitle(res.getString(R.string.delete_card_title));
+        builder.setIcon(android.R.drawable.ic_dialog_alert);
+        builder.setMessage(String.format(res.getString(R.string.delete_card_message), Utils.stripHTML(mCurrentCard.getQuestion()), Utils.stripHTML(mCurrentCard.getAnswer())));
+        builder.setPositiveButton(res.getString(R.string.yes),
+                new DialogInterface.OnClickListener() {
+                    @Override
+                    public void onClick(DialogInterface dialog, int which) {
+                        DeckTask.launchDeckTask(DeckTask.TASK_TYPE_DELETE_CARD, mAnswerCardHandler, new DeckTask.TaskData(0, AnkiDroidApp.deck(), mCurrentCard));
+                    }
+                });
+        builder.setNegativeButton(res.getString(R.string.no), null);
+        dialog = builder.create();
+        dialog.show();
+    }
+
+
     private void answerCard(int ease) {
         Deck deck = AnkiDroidApp.deck();
     	switch (ease) {
diff --git a/src/com/ichi2/anki/StudyOptions.java b/src/com/ichi2/anki/StudyOptions.java
index 299586813ae9..28ecb6d76de8 100644
--- a/src/com/ichi2/anki/StudyOptions.java
+++ b/src/com/ichi2/anki/StudyOptions.java
@@ -83,11 +83,7 @@ public class StudyOptions extends Activity {
 * Menus
 */
     private static final int MENU_OPEN = 1;
-    private static final int SUBMENU_DOWNLOAD = 2;
-    private static final int MENU_DOWNLOAD_PERSONAL_DECK = 21;
-    private static final int MENU_DOWNLOAD_SHARED_DECK = 22;
     private static final int MENU_SYNC = 3;
-    private static final int MENU_MY_ACCOUNT = 4;
     private static final int MENU_PREFERENCES = 5;
     private static final int MENU_ADD_FACT = 6;
     private static final int MENU_MORE_OPTIONS = 7;
@@ -169,6 +165,14 @@ public class StudyOptions extends Activity {
 	private AlertDialog mStatisticTypeAlert;
 	private AlertDialog mStatisticPeriodAlert;
 
+	/*
+	* Limit session dialog
+	*/
+    private AlertDialog mLimitSessionDialog;
+    private EditText mEditSessionTime;
+    private EditText mEditSessionQuestions;
+    private CheckBox mSessionLimitCheckBox;
+
     /*
 * Cram related
 */
@@ -182,8 +186,10 @@ public class StudyOptions extends Activity {
 * UI elements for "Study Options" view
 */
     private View mStudyOptionsView;
+    private View mStudyOptionsMain;
     private Button mButtonStart;
     private ToggleButton mToggleCram;
+    private ToggleButton mToggleLimit;
     private TextView mTextTitle;
     private TextView mTextDeckName;
     private TextView mTextReviewsDue;
@@ -191,8 +197,6 @@ public class StudyOptions extends Activity {
     private TextView mTextETA;
     private TextView mTextNewTotal;
     private TextView mHelp;
-    private EditText mEditSessionTime;
-    private EditText mEditSessionQuestions;
     private CheckBox mNightMode;
     private Button mCardBrowser;
     private Button mStatisticsButton;
@@ -273,6 +277,10 @@ public void onClick(View v) {
                         updateValuesFromDeck();
                     }
                     return;
+                case R.id.studyoptions_limit:
+                    mToggleLimit.setChecked(!mToggleLimit.isChecked());
+                    showLimitSessionDialog();
+                    return;
                 case R.id.studyoptions_congrats_learnmore:
                 	startLearnMore();
                 	return;
@@ -620,12 +628,16 @@ public void onClick(DialogInterface dialog, int item) {
     private void initAllContentViews() {
         // The main study options view that will be used when there are reviews left.
         mStudyOptionsView = getLayoutInflater().inflate(R.layout.studyoptions, null);
+        mStudyOptionsMain = (View) mStudyOptionsView.findViewById(R.id.studyoptions_main);
 
         mTextTitle = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_title);
         mTextDeckName = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_deck_name);
 
         mButtonStart = (Button) mStudyOptionsView.findViewById(R.id.studyoptions_start);
         mToggleCram = (ToggleButton) mStudyOptionsView.findViewById(R.id.studyoptions_cram);
+
+        mToggleLimit = (ToggleButton) mStudyOptionsView.findViewById(R.id.studyoptions_limit);
+
         mCardBrowser = (Button) mStudyOptionsView.findViewById(R.id.studyoptions_card_browser);
         mStatisticsButton = (Button) mStudyOptionsView.findViewById(R.id.studyoptions_statistics);
 
@@ -647,58 +659,15 @@ public void onCheckedChanged(CompoundButton buttonView,
             });
         mHelp = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_help);
         mHelp.setOnClickListener(mButtonClickListener);
-        
-        mEditSessionTime = (EditText) mStudyOptionsView.findViewById(R.id.studyoptions_session_minutes);
-        mEditSessionQuestions = (EditText) mStudyOptionsView.findViewById(R.id.studyoptions_session_questions);
 
         mButtonStart.setOnClickListener(mButtonClickListener);
         mToggleCram.setOnClickListener(mButtonClickListener);
+        mToggleLimit.setOnClickListener(mButtonClickListener);
         mCardBrowser.setOnClickListener(mButtonClickListener);
         mStatisticsButton.setOnClickListener(mButtonClickListener);
 
-        mEditSessionTime.addTextChangedListener(new TextWatcher() {
-        	public void afterTextChanged(Editable s) {
-                Deck deck = AnkiDroidApp.deck();
-                String inputText = mEditSessionTime.getText().toString();
-                if (deck != null) {
-                    if (!inputText.equals(Long.toString(deck.getSessionTimeLimit() / 60))) {
-                    	if (inputText.equals("")) {
-                    		deck.setSessionTimeLimit(0);                		
-                    	} else if (isValidLong(inputText)) {
-                    		deck.setSessionTimeLimit(Long.parseLong(inputText) * 60);
-                    	} else {
-                    		mEditSessionTime.setText("0");
-                    	}
-                		updateValuesFromDeck();
-                    }                	
-                }
-        	}
-        public void beforeTextChanged(CharSequence s, int start, int count, int after){}
-        public void onTextChanged(CharSequence s, int start, int before, int count){}
-        });
-        
-        mEditSessionQuestions.addTextChangedListener(new TextWatcher() {
-        	public void afterTextChanged(Editable s) {
-                Deck deck = AnkiDroidApp.deck();
-                String inputText = mEditSessionQuestions.getText().toString();
-                if (deck != null) {
-                    if (!inputText.equals(Long.toString(deck.getSessionRepLimit()))) {
-                    	if (inputText.equals("")) {
-                    		deck.setSessionRepLimit(0);                		
-                    	} else if (isValidLong(inputText)) {
-                    		deck.setSessionRepLimit(Long.parseLong(inputText));
-                    	} else {
-                    		mEditSessionQuestions.setText("0");
-                    	}
-                		updateValuesFromDeck();
-                    }                 
-                }
-        	}
-        public void beforeTextChanged(CharSequence s, int start, int count, int after){}
-        public void onTextChanged(CharSequence s, int start, int before, int count){}
-        });
-
         mDialogMoreOptions = createMoreOptionsDialog();
+        mLimitSessionDialog = createLimitSessionDialog();
 
         // The view to use when there is no deck loaded yet.
         // TODO: Add and init view here.
@@ -929,6 +898,76 @@ private void showMoreOptionsDialog() {
     }
 
 
+    private AlertDialog createLimitSessionDialog() {
+        // Custom view for the dialog content.
+        View contentView = getLayoutInflater().inflate(R.layout.studyoptions_limit_dialog_contents, null);
+        mEditSessionTime = (EditText) contentView.findViewById(R.id.studyoptions_session_minutes);
+        mEditSessionQuestions = (EditText) contentView.findViewById(R.id.studyoptions_session_questions);
+        mSessionLimitCheckBox = (CheckBox) contentView.findViewById(R.id.studyoptions_limit_session_check);
+        mSessionLimitCheckBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener(){
+            @Override
+            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                mEditSessionTime.setEnabled(isChecked);
+                mEditSessionQuestions.setEnabled(isChecked);
+                if (!isChecked) {
+                    mEditSessionTime.setText("");
+                    mEditSessionQuestions.setText("");
+                }
+            }
+            });
+        
+        AlertDialog.Builder builder = new AlertDialog.Builder(this);
+        builder.setTitle(R.string.studyoptions_limit_dialog_title);
+        builder.setPositiveButton(R.string.studyoptions_more_save, new DialogInterface.OnClickListener() {
+
+            @Override
+            public void onClick(DialogInterface dialog, int which) {
+                mToggleLimit.setChecked(mSessionLimitCheckBox.isChecked());
+                Deck deck = AnkiDroidApp.deck();
+                boolean changed = false;
+                String text = mEditSessionTime.getText().toString();
+                if (!text.equals(Long.toString(deck.getSessionTimeLimit() / 60))) {
+                  if (text.equals("")) {
+                      deck.setSessionTimeLimit(0);
+                  } else if (isValidLong(text)) {
+                      deck.setSessionTimeLimit(Long.parseLong(text) * 60);
+                  }
+                }   
+                text = mEditSessionQuestions.getText().toString();
+                if (!text.equals(Long.toString(deck.getSessionRepLimit()))) {
+                    if (text.equals("")) {
+                        deck.setSessionRepLimit(0);
+                    } else if (isValidLong(text)) {
+                        deck.setSessionRepLimit(Long.parseLong(text));
+                    }
+                    changed = true;
+                }
+                if (changed) {
+                    updateValuesFromDeck();                    
+                }
+            }
+        });
+        builder.setView(contentView);
+        return builder.create();
+    }
+
+
+    private void showLimitSessionDialog() {
+        // Update spinner selections from deck prior to showing the dialog.
+        Deck deck = AnkiDroidApp.deck();
+        long timeLimit = deck.getSessionTimeLimit() / 60;
+        long repLimit = deck.getSessionRepLimit();
+        mSessionLimitCheckBox.setChecked(timeLimit + repLimit > 0);
+        if (timeLimit != 0) {
+            mEditSessionTime.setText(String.valueOf(timeLimit));
+        }
+        if (repLimit != 0) {
+            mEditSessionTime.setText(String.valueOf(repLimit));
+        }
+        mLimitSessionDialog.show();
+    }
+
+
     private void showContentView(int which) {
         mCurrentContentView = which;
         showContentView();
@@ -969,8 +1008,7 @@ private void showContentView() {
                 // Enable timeboxing in case it was disabled from the previous deck
                 if ((AnkiDroidApp.deck() != null) && (AnkiDroidApp.deck().name().equals("cram"))) {
                     mToggleCram.setChecked(false);
-                    mEditSessionTime.setEnabled(true);
-                    mEditSessionQuestions.setEnabled(true);
+                    mToggleLimit.setEnabled(true);
                 }
                 // Return to standard scheduler
                 if ((AnkiDroidApp.deck() != null) && (AnkiDroidApp.deck().hasFinishScheduler())) {
@@ -1038,12 +1076,6 @@ private void updateValuesFromDeck() {
             }
             mTextETA.setText(etastr);
             mTextNewTotal.setText(String.valueOf(deck.getNewCount()));
-            if (!mEditSessionTime.getText().toString().equals(String.valueOf(deck.getSessionTimeLimit() / 60)) && !mEditSessionTime.getText().toString().equals("")) {
-            	mEditSessionTime.setText(String.valueOf(deck.getSessionTimeLimit() / 60));
-            }
-            if (!mEditSessionQuestions.getText().toString().equals(String.valueOf(deck.getSessionRepLimit())) && !mEditSessionQuestions.getText().toString().equals("")) {
-            	mEditSessionQuestions.setText(String.valueOf(deck.getSessionRepLimit()));
-            }
         }
     }
 
@@ -1069,8 +1101,7 @@ private void reset(boolean priorities) {
     private void onCram() {
         AnkiDroidApp.deck().setupCramScheduler(activeCramTags.toArray(new String[activeCramTags.size()]), cramOrder);
         // Timeboxing only supported using the standard scheduler
-        mEditSessionTime.setEnabled(false);
-        mEditSessionQuestions.setEnabled(false);
+        mToggleLimit.setEnabled(false);
         updateValuesFromDeck();
     }
 
@@ -1079,8 +1110,7 @@ private void onCram() {
 */
     private void onCramStop() {
         AnkiDroidApp.deck().setupStandardScheduler();
-        mEditSessionTime.setEnabled(true);
-        mEditSessionQuestions.setEnabled(true);
+        mToggleLimit.setEnabled(true);
     }
 
     @Override
@@ -1099,12 +1129,6 @@ public boolean onCreateOptionsMenu(Menu menu) {
     	MenuItem item;
         item = menu.add(Menu.NONE, MENU_OPEN, Menu.NONE, R.string.menu_open_deck);
         item.setIcon(R.drawable.ic_menu_manage);
-        SubMenu downloadDeckSubMenu = menu.addSubMenu(Menu.NONE, SUBMENU_DOWNLOAD, Menu.NONE,
-                R.string.menu_download_deck);
-        downloadDeckSubMenu.setIcon(R.drawable.ic_menu_download);
-        downloadDeckSubMenu.add(
-                Menu.NONE, MENU_DOWNLOAD_PERSONAL_DECK, Menu.NONE, R.string.menu_download_personal_deck);
-        downloadDeckSubMenu.add(Menu.NONE, MENU_DOWNLOAD_SHARED_DECK, Menu.NONE, R.string.menu_download_shared_deck);
         item = menu.add(Menu.NONE, MENU_SYNC, Menu.NONE, R.string.menu_sync);
         item.setIcon(R.drawable.ic_menu_refresh);
         item = menu.add(Menu.NONE, MENU_ADD_FACT, Menu.NONE, R.string.menu_add_card);
@@ -1113,8 +1137,6 @@ public boolean onCreateOptionsMenu(Menu menu) {
         item.setIcon(R.drawable.ic_menu_archive);
         item = menu.add(Menu.NONE, MENU_PREFERENCES, Menu.NONE, R.string.menu_preferences);
         item.setIcon(R.drawable.ic_menu_preferences);
-        item = menu.add(Menu.NONE, MENU_MY_ACCOUNT, Menu.NONE, R.string.menu_my_account);
-        item.setIcon(R.drawable.ic_menu_home);
         item = menu.add(Menu.NONE, MENU_FEEDBACK, Menu.NONE, R.string.studyoptions_feedback);
         item.setIcon(R.drawable.ic_menu_send);
         return true;
@@ -1125,16 +1147,12 @@ public boolean onCreateOptionsMenu(Menu menu) {
     public boolean onPrepareOptionsMenu(Menu menu) {
         boolean deckChangable = (AnkiDroidApp.deck() != null) && mSdCardAvailable && !mToggleCram.isChecked(); 
         menu.findItem(MENU_OPEN).setEnabled(mSdCardAvailable);
-        menu.findItem(SUBMENU_DOWNLOAD).setEnabled(mSdCardAvailable);
         menu.findItem(MENU_ADD_FACT).setEnabled(deckChangable);
         menu.findItem(MENU_MORE_OPTIONS).setEnabled(deckChangable);
 		menu.findItem(MENU_SYNC).setEnabled(deckChangable);
 
         // Show sync menu items only if sync is enabled.
-		menu.findItem(MENU_SYNC).setVisible(mSyncEnabled);       
-		menu.findItem(MENU_MY_ACCOUNT).setVisible(mSyncEnabled);
-        menu.findItem(MENU_DOWNLOAD_PERSONAL_DECK).setVisible(mSyncEnabled);
-
+		menu.findItem(MENU_SYNC).setVisible(mSyncEnabled);
         return true;
     }
 
@@ -1147,22 +1165,10 @@ public boolean onOptionsItemSelected(MenuItem item) {
                 openDeckPicker();
                 return true;
 
-            case MENU_DOWNLOAD_PERSONAL_DECK:
-            	openPersonalDeckPicker();
-                return true;
-
-            case MENU_DOWNLOAD_SHARED_DECK:
-            	openSharedDeckPicker();
-                return true;
-
             case MENU_SYNC:
                 syncDeck(null);
                 return true;
 
-            case MENU_MY_ACCOUNT:
-                startActivity(new Intent(StudyOptions.this, MyAccount.class));
-                return true;
-
             case MENU_MORE_OPTIONS:
                 showMoreOptionsDialog();
                 return true;
@@ -1347,7 +1353,7 @@ protected void onActivityResult(int requestCode, int resultCode, Intent intent)
             mInDeckPicker = false;
 
             if (requestCode == PICK_DECK_REQUEST && resultCode == RESULT_OK) {
-            	setContentView(mStudyOptionsView);
+                mStudyOptionsMain.setVisibility(View.INVISIBLE);
             } else if ((requestCode == DOWNLOAD_SHARED_DECK || requestCode == DOWNLOAD_PERSONAL_DECK) && resultCode == RESULT_OK) {
             	openDeckPicker();
             	return;
@@ -1566,8 +1572,7 @@ private void displayProgressDialogAndLoadDeck(boolean updateAllCards) {
             // showControls(false);
 
         	mToggleCram.setChecked(false);
-            mEditSessionTime.setEnabled(true);
-            mEditSessionQuestions.setEnabled(true);
+        	mToggleLimit.setEnabled(true);
             
             if (updateAllCards) {
                 DeckTask.launchDeckTask(DeckTask.TASK_TYPE_LOAD_DECK_AND_UPDATE_CARDS, mLoadDeckHandler,
@@ -1654,6 +1659,9 @@ public void onPostExecute(DeckTask.TaskData result) {
                     mNewVersion = false;
                 }
             }
+            Deck deck = AnkiDroidApp.deck();
+            mToggleLimit.setChecked(deck.getSessionTimeLimit() + deck.getSessionTimeLimit() > 0);
+            mStudyOptionsMain.setVisibility(View.VISIBLE);
         }
 
 
