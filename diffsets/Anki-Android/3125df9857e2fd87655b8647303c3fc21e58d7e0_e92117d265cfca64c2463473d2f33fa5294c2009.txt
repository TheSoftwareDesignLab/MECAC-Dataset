diff --git a/res/layout/flashcard_portrait.xml b/res/layout/flashcard_portrait.xml
index 1067725c68cd..a314c859c25f 100644
--- a/res/layout/flashcard_portrait.xml
+++ b/res/layout/flashcard_portrait.xml
@@ -27,6 +27,42 @@
 	<include layout="@layout/sdcard_error" />
 	<include layout="@layout/deck_error" />
 	
+	<LinearLayout
+		android:id="@+id/bar_layout"
+		android:layout_width="fill_parent"
+		android:layout_height="wrap_content"
+		android:gravity="right"
+		android:background="#ffffff" >
+			<TextView android:id="@+id/red_number"
+			android:layout_width="wrap_content"
+			android:gravity="center_vertical"
+			android:textColor="#ff0000"
+			android:layout_alignParentRight="true"
+			android:text="Red"
+			android:layout_height="wrap_content"
+			android:layout_alignParentTop="true"
+			android:padding="4sp"/>
+			<TextView android:id="@+id/black_number"
+			android:layout_width="wrap_content"
+			android:gravity="center_vertical"
+			android:textColor="#000000"
+			android:layout_alignParentRight="true"
+			android:text="Black"
+			android:layout_height="wrap_content"
+			android:layout_alignParentTop="true"
+			android:padding="4sp"/>
+			<TextView android:id="@+id/blue_number"
+			android:layout_width="wrap_content"
+			android:gravity="center_vertical"
+			android:textColor="#0000ff"
+			android:layout_alignParentRight="true"
+			android:text="Blue"
+			android:layout_height="wrap_content"
+			android:layout_alignParentTop="true"
+			android:padding="4sp"/>
+	
+	</LinearLayout>
+	
 	<FrameLayout
 		android:id="@+id/card_whiteboard_layout"
 		android:layout_width="fill_parent"
diff --git a/res/layout/preferences.xml b/res/layout/preferences.xml
index 3f56aa48e830..5aa03ead5fbb 100644
--- a/res/layout/preferences.xml
+++ b/res/layout/preferences.xml
@@ -104,6 +104,11 @@
 			android:defaultValue="false"
 			android:summary="@string/corporal_punishments_summ"
 			android:key="corporalPunishments" />
+		<CheckBoxPreference
+			android:title="@string/notification_bar"
+			android:defaultValue="false"
+			android:summary="@string/notification_bar_summ"
+			android:key="notificationBar" />
 	</PreferenceCategory>
 	
 	
diff --git a/res/layout/studyoptions.xml b/res/layout/studyoptions.xml
index fd8447ba5b4c..6aebf668bb25 100644
--- a/res/layout/studyoptions.xml
+++ b/res/layout/studyoptions.xml
@@ -12,6 +12,17 @@
 		android:paddingLeft="10dip"
 		android:paddingRight="10dip">
 
+		<TextView
+			android:id="@+id/studyoptions_deck_name"
+			android:layout_width="fill_parent"
+			android:layout_height="wrap_content"
+			android:text="@string/studyoptions_deck_name"
+			android:gravity="center"
+			android:textSize="26sp"
+			android:paddingBottom="10sp"
+			android:textColor="#ffffff"
+			android:textStyle="bold" />
+
 		<TextView
 			android:id="@+id/studyoptions_title"
 			android:layout_width="fill_parent"
diff --git a/res/values-ca/strings.xml b/res/values-ca/strings.xml
index a2a22c653082..bd5304d6a6ad 100644
--- a/res/values-ca/strings.xml
+++ b/res/values-ca/strings.xml
@@ -45,7 +45,7 @@
 <string name="notify_ticker">Actualització de l\'aplicació</string>
 <string name="notify_title">AnkiDroid actualitzat</string>
 <string name="notify_message">Descarregar una nova versió</string>
-<string name="notification_title">Confirmar l\'actualització d'AnkiDroid</string>
+<string name="notification_title">Confirmar l\'actualització d\'AnkiDroid</string>
 <string name="notification_message">Una nova versió d\'AnkiDroid està disponible a l\'Android Market.\n\nVols descarregar-la?</string>
 <string name="notification_stop">No tornar a notificar-me sobre aquesta actualització</string>
 
diff --git a/res/values-fr/arrays.xml b/res/values-fr/arrays.xml
index a23e177f1f5d..9b15514d4313 100644
--- a/res/values-fr/arrays.xml
+++ b/res/values-fr/arrays.xml
@@ -21,7 +21,7 @@
     <string-array name="newCardOrderLabels">
         <item>Ordre aléatoire</item>
         <item>Ordre d\'ajout</item>
-        <item>Ordre inverse d'ajout</item>  
+        <item>Ordre inverse d\'ajout</item>  
     </string-array>
     <string-array name="newCardOrderVals">
         <item>0</item>
diff --git a/res/values-fr/strings.xml b/res/values-fr/strings.xml
index cc960db05c42..6b0ae0f75be9 100644
--- a/res/values-fr/strings.xml
+++ b/res/values-fr/strings.xml
@@ -42,7 +42,7 @@
 <string name="card_template">&lt;html&gt;  &lt;head&gt;   &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;file:///android_asset/flashcard_css&quot; /&gt; &lt;/head&gt; &lt;body&gt;  &lt;span class=&quot;card&quot;&gt; ::content:: &lt;/span&gt;  &lt;/body&gt; &lt;/html&gt;</string>
 
 <string name="deckpicker_title">Sélectionnez un des paquets stockés sur votre carte SD</string>
-<string name="deckpicker_title_nosdcard">La carte SD n'est pas montée</string>
+<string name="deckpicker_title_nosdcard">La carte SD n\'est pas montée</string>
 <string name="deckpicker_due">%1$d parmi %2$d dûes</string>
 <string name="deckpicker_new">%d nouvelles aujourd\'hui</string>
 <string name="deckpicker_loaddeck">Chargement du paquet...</string>
@@ -62,17 +62,17 @@
 <string name="easy">Facile</string>
 <string name="newcards_day_summ">Le nombre maximal de nouvelles cartes par jour.</string>
 <string name="newcards_day">Nouvelles cartes par jour</string>
-<string name="session_time_limit">Durée maximale d'une session</string>
-<string name="session_time_limit_summ">La durée maximale d'une session. 0 pour illimité.</string>
+<string name="session_time_limit">Durée maximale d\'une session</string>
+<string name="session_time_limit_summ">La durée maximale d\'une session. 0 pour illimité.</string>
 <string name="session_question_limit">Nombre max de questions par session</string>
 <string name="session_question_limit_summ">Le nombre maximal de question dans une session. 0 pour illimité.</string>
 <string name="new_cards_order">Ordre des nouvelles cartesNew Cards Order</string>
-<string name="new_cards_order_summ">L'ordre dans lequel les nouvelles cartes apparaissent.</string>
+<string name="new_cards_order_summ">L\'ordre dans lequel les nouvelles cartes apparaissent.</string>
 <string name="show_new_cards_in">Montrer les nouvelles cartes dans...</string>
 <string name="new_card_spacing">New Card Spacing</string>
 <string name="new_card_spacing_summ">Comment distribuer les nouvelles cartes parmi les révisions.</string>
 <string name="show_new_cards">Montrer les nouvelles cartes...</string>
 <string name="review_cards_order">Ordre des révisions</string>
 <string name="review_cards_in">Réviser les cartes dans...</string>
-<string name="review_cards_order_summ">L'ordre dans lequel les cartes à réviser apparaissent.</string>
+<string name="review_cards_order_summ">L\'ordre dans lequel les cartes à réviser apparaissent.</string>
 </resources>
diff --git a/res/values/strings.xml b/res/values/strings.xml
index f270492a9004..28137255ec7a 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -84,7 +84,6 @@
 <string name="good">Good</string>
 <string name="easy">Easy</string>
 
-
 <!-- preferences.xml strings -->
 <string name="pref_cat_decks">Decks</string>
 <string name="pref_cat_sync">Synchronization</string>
@@ -109,13 +108,15 @@
 <string name="write_answers">Write answers</string>
 <string name="write_answers_summ">Lets you write the answer and compare it with the correct one</string>
 <string name="use_ruby_support">Provide ruby annotation support</string>
-<string name="use_ruby_support_summ">If the characters '[' and ']' are found, then the enclosed text is handled as a ruby annotation</string>
+<string name="use_ruby_support_summ">If the characters \'[\' and \']\' are found, then the enclosed text is handled as a ruby annotation</string>
 <string name="qa_font_size">Font size</string>
-<string name="qa_font_size_summ">Default font size. Using 'Relative' changes the font dynamically based on space</string>
+<string name="qa_font_size_summ">Default font size. Using \'Relative\' changes the font dynamically based on space</string>
 <string name="show_question_answer">Show question in answer</string>
 <string name="show_question_answer_summ">Shows the question also when displaying the answer unless user entered answer.</string>
 <string name="deck_path">Deck path</string>
 <string name="deck_path_summ">Path to where the your decks are stored</string>
+<string name="notification_bar">Show notification bar</string>
+<string name="notification_bar_summ">You can decide if you want to see the notification bar</string>
 
 <!-- deck_properties.xml -->
 <string name="deck_properties">Deck properties</string>
@@ -158,7 +159,23 @@
 <!-- SyncClient.java -->
 <string name="change_report_format">&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Added/Changed&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Here&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Server&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Cards&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Facts&lt;/td&gt;&lt;td&gt;%s&lt;/td>&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Models&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Stats&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</string>
 
-
+<!-- Progress bar communicates -->
+<string name="determining_task">Determining task</string>
+<string name="connecting_to_server">Connecting to server</string>
+<string name="starting_db_transaction">Starting DB transaction</string>
+<string name="creating_deck_at_server">Creating deck @ server</string>
+<string name="calculating_summaries">Calculating summaries</string>
+<string name="determining_sync_type">Determining sync type</string>
+<string name="performing_full_sync">Performing full sync</string>
+<string name="setting_db_transaction_success">Setting DB transaction success</string>
+<string name="finishing_db_transaction">Finishing DB transaction</string>
+<string name="closing_deck">Closing deck</string>
+<string name="opening_deck_after_sync">Opening deck after sync</string>
+<string name="setting_deck_as_current">Setting deck as current</string>
+<string name="generating_payload">Generating payload</string>
+<string name="getting_payload_reply">Getting payload reply</string>
+<string name="applying_payload_reply">Applying payload reply</string>
+<string name="commiting_payload_to_db">Commiting payload to DB</string>
 
 <string name="saving_changes">Saving changes...</string>
 <string name="session_question_limit_reached">Session question limit reached</string>
@@ -196,6 +213,7 @@ Non-developers can also help, for instance by updating the wiki and screenshots,
 <item>Show failed cards in 3 days</item>
 </string-array>
 <string name="studyoptions_title">Study Options</string>
+<string name="studyoptions_deck_name">Deck name</string>
 <string name="studyoptions_reviews_due">Reviews due:</string>
 <string name="studyoptions_new_today">New today:</string>
 <string name="studyoptions_new_total">New total:</string>
diff --git a/src/com/ichi2/anki/About.java b/src/com/ichi2/anki/About.java
index 2d3d4d0ba8e2..e224eaa9dff4 100644
--- a/src/com/ichi2/anki/About.java
+++ b/src/com/ichi2/anki/About.java
@@ -16,27 +16,46 @@
 ****************************************************************************************/
 package com.ichi2.anki;
 
+import com.tomgibara.android.veecheck.util.PrefSettings;
+
 import android.app.Activity;
+import android.content.SharedPreferences;
 import android.database.SQLException;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.WindowManager;
 import android.webkit.WebView;
 
 /**
  * Shows an about box, which is a small HTML page.
  */
+
 public class About extends Activity
 {
-
+	private boolean notificationBar;
+	
 	@Override
 	public void onCreate(Bundle savedInstanceState) throws SQLException
 	{
 		super.onCreate(savedInstanceState);
-		// Remove the status bar
+				
+		restorePreferences();
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
-		
+		}
+
 		setContentView(R.layout.about);
 		WebView webview = (WebView) findViewById(R.id.about);
 		webview.loadDataWithBaseURL("", getResources().getString(R.string.about_content), "text/html", "utf-8", null);
 	}
+
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+
 }
\ No newline at end of file
diff --git a/src/com/ichi2/anki/CardEditor.java b/src/com/ichi2/anki/CardEditor.java
index e99553e6ed99..767461d7949e 100644
--- a/src/com/ichi2/anki/CardEditor.java
+++ b/src/com/ichi2/anki/CardEditor.java
@@ -9,6 +9,7 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.IntentFilter;
+import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.view.View;
 import android.view.WindowManager;
@@ -18,6 +19,7 @@
 import android.widget.TextView;
 
 import com.ichi2.anki.Fact.Field;
+import com.tomgibara.android.veecheck.util.PrefSettings;
 
 /**
  * Allows the user to edit a fact, for instance if there is a typo.
@@ -46,15 +48,21 @@ public class CardEditor extends Activity {
     
     private Card editorCard;
     
+	private boolean notificationBar;
+    
     LinkedList<FieldEditText> editFields;
 
     
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        //Remove the status bar
+
+		restorePreferences();
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
-		
+		}
+
         registerExternalStorageListener();
         
         setContentView(R.layout.card_editor);
@@ -172,4 +180,12 @@ public void updateField()
             pairField.value = this.getText().toString();
         }
     }
+    
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
 }
diff --git a/src/com/ichi2/anki/DeckPicker.java b/src/com/ichi2/anki/DeckPicker.java
index 11e0c76128b3..09c8aea6a67d 100644
--- a/src/com/ichi2/anki/DeckPicker.java
+++ b/src/com/ichi2/anki/DeckPicker.java
@@ -85,6 +85,10 @@ public class DeckPicker extends Activity implements Runnable
 	private boolean mDeckIsSelected = false;
 
 	private BroadcastReceiver mUnmountReceiver = null;
+	
+	
+	private boolean notificationBar;
+	
 
 	AdapterView.OnItemClickListener mDeckSelHandler = new AdapterView.OnItemClickListener()
 	{
@@ -101,8 +105,12 @@ public void onCreate(Bundle savedInstanceState) throws SQLException
 		Log.i(TAG, "DeckPicker - onCreate");
 		super.onCreate(savedInstanceState);
 
-		// Remove the status bar
+		
+		restorePreferences();
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
 		
 		registerExternalStorageListener();
 
@@ -440,6 +448,15 @@ public void onDestroy()
     		unregisterReceiver(mUnmountReceiver);
     }
 
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 	/*private void logTree(TreeSet<HashMap<String, String>> tree)
 	{
 		Iterator<HashMap<String, String>> it = tree.iterator();
diff --git a/src/com/ichi2/anki/DeckPreferences.java b/src/com/ichi2/anki/DeckPreferences.java
index b7fb798d558a..a57d9d8ff041 100644
--- a/src/com/ichi2/anki/DeckPreferences.java
+++ b/src/com/ichi2/anki/DeckPreferences.java
@@ -22,6 +22,8 @@
 import java.util.Map;
 import java.util.Map.Entry;
 
+import com.tomgibara.android.veecheck.util.PrefSettings;
+
 import android.content.ContentValues;
 import android.content.SharedPreferences;
 import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
@@ -40,6 +42,10 @@ public class DeckPreferences extends PreferenceActivity implements OnSharedPrefe
 {
 
     static final String TAG = "AnkiDroid";
+    
+	
+	private boolean notificationBar;
+	
 
     public class DeckPreferenceHack implements SharedPreferences
     {
@@ -238,8 +244,13 @@ public void onCreate( Bundle icicle )
         } 
         else
         {
-        	// Remove the status bar and make title bar progress available
-    		//getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+    		
+    		restorePreferences();
+    		// Remove the status bar and make title bar progress available
+    		if (notificationBar==false) {
+    		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+    		}
+    		
     		//requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
     		
             this.pref = new DeckPreferenceHack();
@@ -269,4 +280,14 @@ protected void updateSummaries()
             pref.setSummary( this.pref.getString( key, "" ) );
         }
     }
+    
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 }
diff --git a/src/com/ichi2/anki/DeckProperties.java b/src/com/ichi2/anki/DeckProperties.java
index 7fe25c50f8b4..f406eb118fbf 100644
--- a/src/com/ichi2/anki/DeckProperties.java
+++ b/src/com/ichi2/anki/DeckProperties.java
@@ -6,6 +6,8 @@
 import java.util.Map;
 import java.util.Map.Entry;
 
+import com.tomgibara.android.veecheck.util.PrefSettings;
+
 import android.content.BroadcastReceiver;
 import android.content.ContentValues;
 import android.content.Context;
@@ -23,7 +25,11 @@
 public class DeckProperties extends PreferenceActivity implements OnSharedPreferenceChangeListener {
 
 	static final String TAG = "AnkiDroid";
-
+	
+	
+	private boolean notificationBar;
+	
+	
 	/**
 	 * Broadcast that informs us when the sd card is about to be unmounted
 	 */
@@ -216,8 +222,13 @@ public void onCreate( Bundle icicle )
 		}
 		else
 		{
-			// Remove the status bar
+			
+			restorePreferences();
+			// Remove the status bar and make title bar progress available
+			if (notificationBar==false) {
 			getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+			}
+			
 			registerExternalStorageListener();
 			this.pref = new DeckPreferenceHack();
 			this.pref.registerOnSharedPreferenceChangeListener( this );
@@ -283,4 +294,14 @@ protected void updateSummaries()
 			pref.setSummary( this.pref.getString( key, "" ) );
 		}
 	}
+
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 }
diff --git a/src/com/ichi2/anki/PersonalDeckPicker.java b/src/com/ichi2/anki/PersonalDeckPicker.java
index 59b0bd87bff5..b230d1ae5715 100644
--- a/src/com/ichi2/anki/PersonalDeckPicker.java
+++ b/src/com/ichi2/anki/PersonalDeckPicker.java
@@ -48,12 +48,21 @@ public class PersonalDeckPicker extends Activity {
 	private String deckName;
 	private String deckPath;
 	
+	
+	private boolean notificationBar;
+	
+	
 	@Override
 	protected void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
 		
-		// Remove the status bar
+		
+		restorePreferences();
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
+		
 		
 		setContentView(R.layout.main);
 		registerExternalStorageListener();
@@ -213,4 +222,14 @@ public void onProgressUpdate(Object... values) {
 		}
 		
 	};
+	
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 }
diff --git a/src/com/ichi2/anki/Preferences.java b/src/com/ichi2/anki/Preferences.java
index 637bc628bcd1..559386563ea3 100644
--- a/src/com/ichi2/anki/Preferences.java
+++ b/src/com/ichi2/anki/Preferences.java
@@ -17,6 +17,7 @@
 package com.ichi2.anki;
 
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.preference.PreferenceActivity;
 import android.view.WindowManager;
@@ -29,14 +30,21 @@
  */
 public class Preferences extends PreferenceActivity
 {
-
+	
+	private boolean notificationBar;
+	
+	
 	@Override
 	protected void onCreate(Bundle savedInstanceState)
 	{
 		super.onCreate(savedInstanceState);
 		
-		// Remove the status bar
+		
+		restorePreferences();
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
 		
 		getPreferenceManager().setSharedPreferencesName(PrefSettings.SHARED_PREFS_NAME);
 		addPreferencesFromResource(R.layout.preferences);
@@ -48,5 +56,15 @@ protected void onPause() {
     	// Reschedule the checking in case the user has changed anything
 		sendBroadcast(new Intent(Veecheck.getRescheduleAction(this)));
     }
+    
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 
 }
diff --git a/src/com/ichi2/anki/Reviewer.java b/src/com/ichi2/anki/Reviewer.java
index 93f1a7e271b6..16df7c97a3de 100644
--- a/src/com/ichi2/anki/Reviewer.java
+++ b/src/com/ichi2/anki/Reviewer.java
@@ -11,6 +11,8 @@
 import android.os.Bundle;
 import android.os.SystemClock;
 import android.os.Vibrator;
+import android.text.SpannableString;
+import android.text.style.UnderlineSpan;
 import android.util.Log;
 import android.view.Menu;
 import android.view.MenuItem;
@@ -23,10 +25,12 @@
 import android.widget.CompoundButton;
 import android.widget.EditText;
 import android.widget.LinearLayout;
+import android.widget.TextView;
 import android.widget.Toast;
 import android.widget.ToggleButton;
 
 import com.ichi2.utils.DiffEngine;
+import com.ichi2.utils.RubyParser;
 import com.tomgibara.android.veecheck.util.PrefSettings;
 
 public class Reviewer extends Activity {
@@ -50,6 +54,14 @@ public class Reviewer extends Activity {
 	private static final int MENU_SUSPEND = 0;
 	private static final int MENU_EDIT = 1;
 	
+	/** Max size of the font of the questions and answers for relative calculation */
+	protected static final int MAX_QA_FONT_SIZE = 14;
+
+	/** Min size of the font of the questions and answers for relative calculation */
+	protected static final int MIN_QA_FONT_SIZE = 3;
+	
+	/** The font size specified in shared preferences. If 0 then font is calculated with MAX/MIN_FONT_SIZE */
+	private int qaFontSize = 0;
 	/**
 	 * Max and min size of the font of the questions and answers
 	 */
@@ -61,6 +73,9 @@ public class Reviewer extends Activity {
 	 */
 	private BroadcastReceiver mUnmountReceiver = null;
 
+	/** Preference: parse for ruby annotations */
+	private boolean useRubySupport;
+	
 	/**
 	 * Variables to hold preferences
 	 */
@@ -70,12 +85,18 @@ public class Reviewer extends Activity {
 	private boolean prefWriteAnswers;
 	private String prefDeckFilename;
 	
+	private boolean notificationBar;
+	
+	
 	public String cardTemplate;
 	
 	/**
 	 * Variables to hold layout objects that we need to update or handle events for
 	 */
 	private WebView mCard;
+	private TextView mTextBarRed;
+	private TextView mTextBarBlack;
+	private TextView mTextBarBlue;
 	private ToggleButton mToggleWhiteboard, mFlipCard;
 	private EditText mAnswerField;
 	private Button mEase0, mEase1, mEase2, mEase3;
@@ -262,13 +283,17 @@ protected void onCreate(Bundle savedInstanceState) {
 			finish();
 		}
 		
+		restorePreferences();
+		
 		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
+		
 		requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
 		
 		registerExternalStorageListener();
 		
-		restorePreferences();
 		initLayout(R.layout.flashcard_portrait);
 		updateTitle();
 		cardTemplate = getResources().getString(R.string.card_template);
@@ -357,6 +382,9 @@ private void initLayout(Integer layout)
 		mEase1 = (Button) findViewById(R.id.ease2);
 		mEase2 = (Button) findViewById(R.id.ease3);
 		mEase3 = (Button) findViewById(R.id.ease4);
+		mTextBarRed = (TextView) findViewById(R.id.red_number);
+		mTextBarBlack = (TextView) findViewById(R.id.black_number);
+		mTextBarBlue = (TextView) findViewById(R.id.blue_number);
 		mCardTimer = (Chronometer) findViewById(R.id.card_time);
 		mFlipCard = (ToggleButton) findViewById(R.id.flip_card);
 		mToggleWhiteboard = (ToggleButton) findViewById(R.id.toggle_overlay);
@@ -442,6 +470,9 @@ private void showControls()
 		mEase1.setVisibility(View.VISIBLE);
 		mEase2.setVisibility(View.VISIBLE);
 		mEase3.setVisibility(View.VISIBLE);
+		mTextBarRed.setVisibility(View.VISIBLE);
+		mTextBarBlack.setVisibility(View.VISIBLE);
+		mTextBarBlue.setVisibility(View.VISIBLE);
 		mFlipCard.setVisibility(View.VISIBLE);
 		
 		if (!prefTimer)
@@ -485,6 +516,9 @@ private void hideControls()
 		mEase1.setVisibility(View.GONE);
 		mEase2.setVisibility(View.GONE);
 		mEase3.setVisibility(View.GONE);
+		mTextBarRed.setVisibility(View.GONE);
+		mTextBarBlack.setVisibility(View.GONE);
+		mTextBarBlue.setVisibility(View.GONE);
 		mFlipCard.setVisibility(View.GONE);
 		mCardTimer.setVisibility(View.GONE);
 		mToggleWhiteboard.setVisibility(View.GONE);
@@ -633,6 +667,10 @@ private SharedPreferences restorePreferences()
 		prefWhiteboard = preferences.getBoolean("whiteboard", true);
 		prefWriteAnswers = preferences.getBoolean("writeAnswers", false);
 		prefDeckFilename = preferences.getString("deckFilename", "");
+		useRubySupport = preferences.getBoolean("useRubySupport", false);
+		String qaFontSizeString = preferences.getString("qaFontSize", "0");
+		qaFontSize = Integer.parseInt(qaFontSizeString);
+		notificationBar = preferences.getBoolean("notificationBar", false);
 
 		return preferences;
 	}
@@ -640,10 +678,10 @@ private SharedPreferences restorePreferences()
 	private void updateCard(String content)
 	{
 		Log.i(TAG, "updateCard");
-
+		
 		content = Sound.extractSounds(prefDeckFilename, content);
 		content = Image.loadImages(prefDeckFilename, content);
-		
+		/*	
 		// We want to modify the font size depending on how long is the content
 		// Replace each <br> with 15 spaces, then remove all html tags and spaces
 		String realContent = content.replaceAll("\\<br.*?\\>", "               ");
@@ -653,10 +691,23 @@ private void updateCard(String content)
 		// Calculate the size of the font depending on the length of the content
 		int size = Math.max(MIN_FONT_SIZE, MAX_FONT_SIZE - (int)(realContent.length()/5));
 		mCard.getSettings().setDefaultFontSize(size);
-
+		*/
 		//In order to display the bold style correctly, we have to change font-weight to 700
 		content = content.replaceAll("font-weight:600;", "font-weight:700;");
 
+		// If ruby annotation support is activated, then parse and add markup
+
+		if (useRubySupport) {
+			content = RubyParser.ankiRubyToMarkup(content);
+		}
+		
+		// Calculate the size of the font if relative font size is chosen in preferences
+		int fontSize = qaFontSize;
+		if (0 == qaFontSize) {
+			fontSize = calculateDynamicFontSize(content);
+		}
+		mCard.getSettings().setDefaultFontSize(fontSize);
+		
 		Log.i(TAG, "content card = \n" + content);
 		String card = cardTemplate.replace("::content::", content);
 		mCard.loadDataWithBaseURL("", card, "text/html", "utf-8", null);
@@ -664,7 +715,7 @@ private void updateCard(String content)
 	}
 	
 	private void reviewNextCard()
-	{
+	{		
 		updateTitle();
 		mFlipCard.setChecked(false);
 		
@@ -695,7 +746,7 @@ private void displayCardQuestion()
 	private void displayCardAnswer()
 	{
 		Log.i(TAG, "displayCardAnswer");
-		
+			
 		mCardTimer.stop();
 
 		mEase0.setVisibility(View.VISIBLE);
@@ -735,10 +786,41 @@ private void displayCardAnswer()
 		}
 	}
 	
+	
+	protected final static int calculateDynamicFontSize(String htmlContent) {
+		// Replace each <br> with 15 spaces, each <hr> with 30 spaces, then remove all html tags and spaces
+		String realContent = htmlContent.replaceAll("\\<br.*?\\>", "               ");
+		realContent = realContent.replaceAll("\\<hr.*?\\>", "                              ");
+		realContent = realContent.replaceAll("\\<.*?\\>", "");
+		realContent = realContent.replaceAll("&nbsp;", " ");
+		return Math.max(MIN_QA_FONT_SIZE, MAX_QA_FONT_SIZE - (int)(realContent.length()/5));
+	}
+		
 	private void updateTitle()
-	{
+	{	
 		Deck deck = AnkiDroidApp.deck();
 		String unformattedTitle = getResources().getString(R.string.studyoptions_window_title);
 		setTitle(String.format(unformattedTitle, deck.deckName, deck.revCount + deck.failedSoonCount, deck.cardCount));
+		
+		SpannableString failedSoonCount = new SpannableString(String.valueOf(deck.failedSoonCount));
+		SpannableString revCount = new SpannableString(String.valueOf(deck.revCount));
+		SpannableString newCount = new SpannableString(String.valueOf(deck.newCount));
+		
+		int isDue=deck.getCurrentCard().isDue;
+		int type=deck.getCurrentCard().type;
+		
+		if ((isDue==1) && (type==2)) {
+			newCount.setSpan(new UnderlineSpan(), 0, newCount.length(), 0);
+		}		
+		if ((isDue==1) && (type==1)) {
+			revCount.setSpan(new UnderlineSpan(), 0, revCount.length(), 0);
+		}
+		if ((isDue==1) && (type==0)) {
+			failedSoonCount.setSpan(new UnderlineSpan(), 0, failedSoonCount.length(), 0);
+		}
+		
+		mTextBarRed.setText(failedSoonCount);
+		mTextBarBlack.setText(revCount);
+		mTextBarBlue.setText(newCount);
 	}
 }
diff --git a/src/com/ichi2/anki/SharedDeckPicker.java b/src/com/ichi2/anki/SharedDeckPicker.java
index 3eef26cf36ce..d43b22a93bc7 100644
--- a/src/com/ichi2/anki/SharedDeckPicker.java
+++ b/src/com/ichi2/anki/SharedDeckPicker.java
@@ -10,6 +10,7 @@
 import android.content.Context;
 import android.content.Intent;
 import android.content.IntentFilter;
+import android.content.SharedPreferences;
 import android.content.res.Resources;
 import android.os.Bundle;
 import android.util.Log;
@@ -23,6 +24,7 @@
 
 import com.ichi2.async.Connection;
 import com.ichi2.async.Connection.Payload;
+import com.tomgibara.android.veecheck.util.PrefSettings;
 
 public class SharedDeckPicker extends Activity {
 
@@ -37,6 +39,10 @@ public class SharedDeckPicker extends Activity {
 	
 	private AlertDialog connectionFailedAlert;
 	
+	
+	private boolean notificationBar;
+	
+	
 	List<SharedDeck> mSharedDecks;
 	ListView mSharedDecksListView;
 	SimpleAdapter mSharedDecksAdapter;
@@ -47,8 +53,11 @@ public class SharedDeckPicker extends Activity {
 	protected void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
 		
-		// Remove the status bar
+		
+		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
 		
 		setContentView(R.layout.main);
 		
@@ -71,6 +80,16 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)
 		});
 		Connection.getSharedDecks(getSharedDecksListener, new Connection.Payload(new Object[] {}));
 	}
+	
+	
+	private SharedPreferences restorePreferences()
+	{
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		return preferences;
+	}
+	
 
 	@Override
     public void onDestroy()
diff --git a/src/com/ichi2/anki/StudyOptions.java b/src/com/ichi2/anki/StudyOptions.java
index 1e98be598787..a016818045d3 100644
--- a/src/com/ichi2/anki/StudyOptions.java
+++ b/src/com/ichi2/anki/StudyOptions.java
@@ -115,6 +115,10 @@ public class StudyOptions extends Activity
 	
 	//private boolean deckSelected;
 	
+	
+	private boolean notificationBar;
+	
+	
 	private boolean inDeckPicker;
 	
 	private String deckFilename;
@@ -140,6 +144,8 @@ public class StudyOptions extends Activity
 	private Button mButtonStart;
 	
 	private TextView mTextTitle;
+	private TextView mTextDeckName;
+	
 	
 	private TextView mTextReviewsDue;
 	
@@ -277,8 +283,12 @@ protected void onCreate(Bundle savedInstanceState)
 		SharedPreferences preferences = restorePreferences();
 		registerExternalStorageListener();
 		
+		
 		// Remove the status bar and make title bar progress available
+		if (notificationBar==false) {
 		getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
+		}
+		
 		requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
 		
 		initAllContentViews();
@@ -377,6 +387,7 @@ private void initAllContentViews()
 		mStudyOptionsView = getLayoutInflater().inflate(R.layout.studyoptions, null);
 		
 		mTextTitle = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_title);
+		mTextDeckName = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_deck_name);
 		
 		mButtonStart = (Button) mStudyOptionsView.findViewById(R.id.studyoptions_start);
 		mStudyOptionsView.findViewById(R.id.studyoptions_more).setOnClickListener(mButtonClickListener);
@@ -384,7 +395,7 @@ private void initAllContentViews()
 		mTextReviewsDue = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_reviews_due);
 		mTextNewToday = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_new_today);
 		mTextNewTotal = (TextView) mStudyOptionsView.findViewById(R.id.studyoptions_new_total);
-		
+				
 		mEditNewPerDay = (EditText) mStudyOptionsView.findViewById(R.id.studyoptions_new_cards_per_day);
 		mEditSessionTime = (EditText) mStudyOptionsView.findViewById(R.id.studyoptions_session_minutes);
 		mEditSessionQuestions = (EditText) mStudyOptionsView.findViewById(R.id.studyoptions_session_questions);
@@ -416,6 +427,15 @@ private void initAllContentViews()
 		
 		// The view to use when there is no external storage available
 		mNoExternalStorageView = getLayoutInflater().inflate(R.layout.studyoptions_nostorage, null);
+		
+		
+		// First setup for ProgressDialog
+		progressDialog = new ProgressDialog(StudyOptions.this);
+		progressDialog.setCancelable(true);
+		progressDialog.setMax(100);
+		progressDialog.setProgress(0);
+		progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
+		
 	}
 	
 	/**
@@ -471,7 +491,8 @@ private void showContentView(int which)
 	}
 	
 	private void showContentView()
-	{
+	{	
+		
 		switch (mCurrentContentView)
 		{
 		case CONTENT_NO_DECK:
@@ -519,6 +540,7 @@ private void updateValuesFromDeck()
 		String unformattedTitle = getResources().getString(R.string.studyoptions_window_title);
 		setTitle(String.format(unformattedTitle, deck.deckName, reviewCount, deck.cardCount));
 		
+		mTextDeckName.setText(deck.deckName);
 		mTextReviewsDue.setText(String.valueOf(reviewCount));
 		mTextNewToday.setText(String.valueOf(deck.newCountToday));
 		mTextNewTotal.setText(String.valueOf(deck.newCount));
@@ -753,6 +775,10 @@ private SharedPreferences restorePreferences()
 		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
 		prefDeckPath = preferences.getString("deckPath", "/sdcard");
 		prefStudyOptions = preferences.getBoolean("study_options", true);
+		
+		notificationBar = preferences.getBoolean("notificationBar", false);
+		
+		
 		return preferences;
 	}
 	
@@ -895,7 +921,12 @@ public void onPostExecute(Payload data) {
 
 		@Override
 		public void onPreExecute() {
-			progressDialog = ProgressDialog.show(StudyOptions.this, "", getResources().getString(R.string.loading_shared_decks));
+			
+			// progressDialog = ProgressDialog.show(StudyOptions.this, "", getResources().getString(R.string.loading_shared_decks));
+			progressDialog.setTitle("Downloading shared deck");
+			progressDialog.setMessage("Starting");
+			progressDialog.show();
+			
 		}
 
 		@Override
@@ -939,12 +970,20 @@ public void onPostExecute(Payload data) {
 
 		@Override
 		public void onPreExecute() {
-			progressDialog = ProgressDialog.show(StudyOptions.this, "", getResources().getString(R.string.loading_shared_decks));
+			
+			// progressDialog = ProgressDialog.show(StudyOptions.this, "", getResources().getString(R.string.loading_shared_decks));
+			progressDialog.setTitle("Synchronizing");
+			progressDialog.setMessage("Starting");
+			progressDialog.show();
+			
 		}
 
 		@Override
 		public void onProgressUpdate(Object... values) {
-			// TODO Auto-generated method stub
+			
+			progressDialog.setProgress(((Integer) values[0]));
+			progressDialog.setMessage(((String) values[1]));
+			
 		}
 		
 	};
diff --git a/src/com/ichi2/async/Connection.java b/src/com/ichi2/async/Connection.java
index 68a43cc690b2..c7da863ce4df 100644
--- a/src/com/ichi2/async/Connection.java
+++ b/src/com/ichi2/async/Connection.java
@@ -33,6 +33,7 @@
 import com.ichi2.anki.AnkiDb;
 import com.ichi2.anki.AnkiDroidProxy;
 import com.ichi2.anki.Deck;
+import com.ichi2.anki.R;
 import com.ichi2.anki.SharedDeck;
 import com.ichi2.anki.SyncClient;
 
@@ -50,7 +51,9 @@ public class Connection extends AsyncTask<Connection.Payload, Object, Connection
 
 	private static Connection instance;
 	private TaskListener listener;
-	
+		
+	private int CurrentProgress;	
+
 	private static Connection launchConnectionTask(TaskListener listener, Payload data)
 	{
 		/*if(!isOnline())
@@ -138,6 +141,9 @@ public static Connection syncDeckFromPayload(TaskListener listener, Payload data
 	protected Payload doInBackground(Payload... params) {
 		Payload data = params[0];
 		
+		CurrentProgress=0;
+		publishProgress(CurrentProgress+=5,context.getResources().getString(R.string.determining_task));
+		
 		switch(data.taskType)
 		{
 			case TASK_TYPE_GET_SHARED_DECKS:
@@ -224,6 +230,10 @@ private Payload doInBackgroundDownloadPersonalDeck(Payload data)
 	
 	private Payload doInBackgroundSyncDeck(Payload data)
 	{
+		
+		publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.starting_db_transaction));
+		
+		
 		AnkiDb.database.beginTransaction();
 		try {
 			String username = (String)data.data[0];
@@ -234,11 +244,19 @@ private Payload doInBackgroundSyncDeck(Payload data)
 			
 			Log.i(TAG, "Starting sync: username = " + username + ", password = " + password + ", deckPath = " + deckPath + ", syncName = " + syncName);
 			AnkiDroidProxy server = new AnkiDroidProxy(username, password);
-			server.connect();
 			
+			
+			publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.connecting_to_server));
+			
+
+			server.connect();
+						
 			if(!server.hasDeck(syncName))
 			{
 				Log.i(TAG, "AnkiOnline does not have this deck: Creating it...");
+				
+				publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.creating_deck_at_server));
+				
 				server.createDeck(syncName);
 			}
 			int timediff = (int) (server.getTimestamp() - (System.currentTimeMillis() / 1000));
@@ -252,11 +270,23 @@ private Payload doInBackgroundSyncDeck(Payload data)
 			server.setDeckName(syncName);
 			if(client.prepareSync())
 			{
+				
+				publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.calculating_summaries));
+				
+				
 				JSONArray sums = client.summaries();
+				
+				
+				publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.determining_sync_type));
+				
+				
 				if(client.needFullSync(sums))
 				{
 					Log.i(TAG, "DECK NEEDS FULL SYNC");
 					String syncFrom = client.prepareFullSync();
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.performing_full_sync));
+					
 					if("fromLocal".equalsIgnoreCase(syncFrom))
 					{
 						SyncClient.fullSyncFromLocal(password, username, syncName, deckPath);
@@ -265,20 +295,50 @@ else if("fromServer".equalsIgnoreCase(syncFrom))
 					{
 						SyncClient.fullSyncFromServer(password, username, syncName, deckPath);
 					}
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.setting_db_transaction_success));
+					
 					AnkiDb.database.setTransactionSuccessful();
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.finishing_db_transaction));
+					
 					AnkiDb.database.endTransaction();
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.closing_deck));
+					
 					deck.closeDeck();
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.opening_deck_after_sync));
+					
 					deck = Deck.openDeck(deckPath);
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.setting_deck_as_current));
+					
 					client.setDeck(deck);
 				}
 				else
 				{
 					Log.i(TAG, "DECK DOES NOT NEED FULL SYNC");
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.generating_payload));
+					
 					JSONObject payload = client.genPayload(sums);
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.getting_payload_reply));
+					
 					JSONObject payloadReply = client.getServer().applyPayload(payload);
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.applying_payload_reply));
+					
 					client.applyPayloadReply(payloadReply);
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.commiting_payload_to_db));
+					
 					deck.lastLoaded = deck.modified;
 					deck.commitToDB();
+					
+					publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.setting_db_transaction_success));
+					
 					AnkiDb.database.setTransactionSuccessful();
 				}
 			}
@@ -294,6 +354,9 @@ else if("fromServer".equalsIgnoreCase(syncFrom))
 		} finally {
 			if(AnkiDb.database.inTransaction())
 			{
+				
+				publishProgress(CurrentProgress+=10,context.getResources().getString(R.string.finishing_db_transaction));
+				
 				AnkiDb.database.endTransaction();
 			}
 		}
