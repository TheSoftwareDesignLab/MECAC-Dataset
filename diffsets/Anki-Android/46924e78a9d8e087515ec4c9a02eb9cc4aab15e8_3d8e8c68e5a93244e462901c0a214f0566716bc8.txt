diff --git a/AnkiDroid/src/main/AndroidManifest.xml b/AnkiDroid/src/main/AndroidManifest.xml
index e91a4738ad40..79be711b494d 100644
--- a/AnkiDroid/src/main/AndroidManifest.xml
+++ b/AnkiDroid/src/main/AndroidManifest.xml
@@ -518,6 +518,13 @@
                 />
         </receiver>
 
+        <receiver android:name="com.ichi2.widget.WidgetPermissionReceiver"
+            android:exported="true">
+            <intent-filter>
+                <action android:name="com.ichi2.widget.UPDATE_WIDGET" />
+            </intent-filter>
+        </receiver>
+
         <receiver
             android:name="com.ichi2.anki.receiver.SdCardReceiver"
             android:enabled="true"
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
index 3889b7caed03..4f5857db0b2d 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
@@ -176,6 +176,8 @@ abstract class NavigationDrawerActivity :
         drawerLayout.addDrawerListener(drawerToggle)
 
         enablePostShortcut(this)
+        val intent = Intent("com.ichi2.widget.UPDATE_WIDGET")
+        this.sendBroadcast(intent)
     }
 
     /**
diff --git a/AnkiDroid/src/main/java/com/ichi2/widget/AddNoteWidget.kt b/AnkiDroid/src/main/java/com/ichi2/widget/AddNoteWidget.kt
index 849beedf8648..2ae04f270504 100644
--- a/AnkiDroid/src/main/java/com/ichi2/widget/AddNoteWidget.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/widget/AddNoteWidget.kt
@@ -44,11 +44,30 @@ class AddNoteWidget : AppWidgetProvider() {
             return
         }
         Timber.d("onUpdate")
-        val remoteViews = RemoteViews(context.packageName, R.layout.widget_add_note)
-        val intent = Intent(context, NoteEditor::class.java)
-        intent.putExtra(NoteEditor.EXTRA_CALLER, NoteEditor.CALLER_DECKPICKER)
-        val pendingIntent = PendingIntentCompat.getActivity(context, 0, intent, 0, false)
-        remoteViews.setOnClickPendingIntent(R.id.widget_add_note_button, pendingIntent)
-        appWidgetManager.updateAppWidget(appWidgetIds, remoteViews)
+        updateWidgets(context, appWidgetManager, appWidgetIds)
+    }
+
+    companion object {
+
+        /**
+         * Updates the widgets displayed in the provided context using the given AppWidgetManager
+         * and widget IDs, setting up an intent to open the NoteEditor with the caller as the deck picker.
+         *
+         * @param context The context in which the widgets are updated.
+         * @param appWidgetManager The AppWidgetManager instance used to update widgets.
+         * @param appWidgetIds The array of widget IDs to be updated.
+         */
+        fun updateWidgets(
+            context: Context,
+            appWidgetManager: AppWidgetManager,
+            appWidgetIds: IntArray
+        ) {
+            val remoteViews = RemoteViews(context.packageName, R.layout.widget_add_note)
+            val intent = Intent(context, NoteEditor::class.java)
+            intent.putExtra(NoteEditor.EXTRA_CALLER, NoteEditor.CALLER_DECKPICKER)
+            val pendingIntent = PendingIntentCompat.getActivity(context, 0, intent, 0, false)
+            remoteViews.setOnClickPendingIntent(R.id.widget_add_note_button, pendingIntent)
+            appWidgetManager.updateAppWidget(appWidgetIds, remoteViews)
+        }
     }
 }
diff --git a/AnkiDroid/src/main/java/com/ichi2/widget/WidgetPermissionReceiver.kt b/AnkiDroid/src/main/java/com/ichi2/widget/WidgetPermissionReceiver.kt
new file mode 100644
index 000000000000..97c36cfc0af9
--- /dev/null
+++ b/AnkiDroid/src/main/java/com/ichi2/widget/WidgetPermissionReceiver.kt
@@ -0,0 +1,40 @@
+/*
+ * Copyright (c) 2024 Ashish Yadav <mailtoashish693@gmail.com>
+ *
+ * This program is free software; you can redistribute it and/or modify it under
+ * the terms of the GNU General Public License as published by the Free Software
+ * Foundation; either version 3 of the License, or (at your option) any later
+ * version.
+ *
+ * This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
+ * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
+ * details.
+ *
+ * You should have received a copy of the GNU General Public License along with
+ * this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+
+package com.ichi2.widget
+
+import android.appwidget.AppWidgetManager
+import android.content.BroadcastReceiver
+import android.content.ComponentName
+import android.content.Context
+import android.content.Intent
+import com.ichi2.anki.IntentHandler
+
+/**
+ * BroadcastReceiver to handle the scenario where storage permissions are granted,
+ * triggering an update for widgets using the AddNoteWidget class.
+ */
+class WidgetPermissionReceiver : BroadcastReceiver() {
+
+    override fun onReceive(context: Context, intent: Intent) {
+        if (IntentHandler.grantedStoragePermissions(context, showToast = false)) {
+            val appWidgetManager = AppWidgetManager.getInstance(context)
+            val widgetIds = appWidgetManager.getAppWidgetIds(ComponentName(context, AddNoteWidget::class.java))
+            AddNoteWidget.updateWidgets(context, appWidgetManager, widgetIds)
+        }
+    }
+}
