diff --git a/AnkiDroid/build.gradle b/AnkiDroid/build.gradle
index 53d30879f883..12d1aebfab74 100644
--- a/AnkiDroid/build.gradle
+++ b/AnkiDroid/build.gradle
@@ -92,7 +92,7 @@ android {
         }
     }
     buildTypes {
-        debug {
+        named('debug') {
             versionNameSuffix "-debug"
             debuggable true
             applicationIdSuffix ".debug"
@@ -128,7 +128,7 @@ android {
             resValue 'color', 'anki_foreground_icon_color_1', "#FFFF0000"
             resValue "string", "applicationId", "${defaultConfig.applicationId}${applicationIdSuffix}"
         }
-        release {
+        named('release') {
             minifyEnabled true
             splits.abi.universalApk = universalApkEnabled // Build universal APK for release with `-Duniversal-apk=true`
             proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
@@ -156,16 +156,16 @@ android {
      * This is because we cannot use Camera Permissions in Amazon App Store (for FireTv etc...)
      * Therefore, different AndroidManifest for Camera Permissions is used in Amazon flavor.
      */
-    flavorDimensions "appStore"
+    flavorDimensions += "appStore"
     productFlavors {
-        play {
+        create('play') {
             dimension "appStore"
         }
-        amazon {
+        create('amazon') {
             dimension "appStore"
         }
         // A 'full' build has no restrictions on storage/camera. Distributed on GitHub/F-Droid
-        full {
+        create('full') {
             dimension "appStore"
         }
     }
@@ -190,10 +190,10 @@ android {
         }
     }
     // applicationVariants are e.g. debug, release
-    applicationVariants.all { variant ->
+    applicationVariants.configureEach { variant ->
         // We want the same version stream for all ABIs in debug but for release we can split them
         if (variant.buildType.name == 'release') {
-            variant.outputs.all { output ->
+            variant.outputs.configureEach { output ->
 
                 // For each separate APK per architecture, set a unique version code as described here:
                 // https://developer.android.com/studio/build/configure-apk-splits.html
@@ -254,15 +254,15 @@ amazon {
 }
 
 // Install Git pre-commit hook for Ktlint
-task installGitHook(type: Copy) {
+tasks.register('installGitHook', Copy) {
     from new File(rootProject.rootDir, 'pre-commit')
     into { new File(rootProject.rootDir, '.git/hooks') }
     fileMode 0755
 }
-tasks.getByPath(':AnkiDroid:preBuild').dependsOn installGitHook
+tasks.named('preBuild').configure { dependsOn('installGitHook') }
 
 // Issue 11078 - some emulators run, but run zero tests, and still report success
-task assertNonzeroAndroidTests() {
+tasks.register('assertNonzeroAndroidTests') {
     doLast {
         // androidTest currently creates one .xml file per emulator with aggregate results in this dir
         File folder = file("./build/outputs/androidTest-results/connected/flavors/play")
@@ -280,7 +280,7 @@ task assertNonzeroAndroidTests() {
     }
 }
 afterEvaluate {
-    tasks.getByPath(':AnkiDroid:connectedPlayDebugAndroidTest').finalizedBy(assertNonzeroAndroidTests)
+    tasks.named('connectedPlayDebugAndroidTest').configure { finalizedBy('assertNonzeroAndroidTests') }
 }
 
 apply from: "./robolectricDownloader.gradle"
@@ -288,7 +288,7 @@ apply from: "./jacoco.gradle"
 apply from: "../lint.gradle"
 
 dependencies {
-    configurations.all {
+    configurations.configureEach {
         resolutionStrategy {
             // Timber has this as a dependency but they are not up to date. We want to force our version.
             force 'org.jetbrains:annotations:24.1.0'
@@ -316,7 +316,7 @@ dependencies {
     implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'
     implementation 'androidx.viewpager2:viewpager2:1.0.0'
     implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
-    implementation 'androidx.webkit:webkit:1.8.0'
+    implementation 'androidx.webkit:webkit:1.9.0'
     implementation 'com.google.android.material:material:1.10.0'
     implementation 'com.vanniktech:android-image-cropper:4.5.0'
     implementation 'org.nanohttpd:nanohttpd:2.3.1'
@@ -348,7 +348,7 @@ dependencies {
     implementation 'com.afollestad.material-dialogs:input:3.3.0'
     implementation 'org.apache.commons:commons-compress:1.25.0'
     implementation 'org.apache.commons:commons-collections4:4.4' // SetUniqueList
-    implementation 'commons-io:commons-io:2.15.0' // FileUtils.contentEquals
+    implementation 'commons-io:commons-io:2.15.1' // FileUtils.contentEquals
     implementation 'net.mikehardy:google-analytics-java7:2.0.13'
     implementation 'com.squareup.okhttp3:okhttp:4.12.0'
     implementation 'com.arcao:slf4j-timber:3.1'
diff --git a/AnkiDroid/jacoco.gradle b/AnkiDroid/jacoco.gradle
index 75e0a703953c..bab464303fd2 100644
--- a/AnkiDroid/jacoco.gradle
+++ b/AnkiDroid/jacoco.gradle
@@ -3,13 +3,13 @@ import groovy.transform.Memoized
 apply plugin: 'jacoco'
 
 jacoco {
-    toolVersion = "0.8.8"
+    toolVersion = "0.8.11"
 
 }
 
 android {
     testCoverage {
-        jacocoVersion '0.8.8'
+        jacocoVersion '0.8.11'
     }
 }
 
@@ -54,7 +54,7 @@ def openReport(htmlOutDir) {
     }
 }
 
-tasks.withType(Test) {
+tasks.withType(Test).configureEach {
     jacoco.includeNoLocationClasses = true
     jacoco.excludes = ['jdk.internal.*']
 }
@@ -92,8 +92,8 @@ def fileFilter = [
 ]
 
 // Our merge report task
-task jacocoTestReport(type: JacocoReport, dependsOn: ['testPlayDebugUnitTest', 'connectedPlayDebugAndroidTest']) {
-    def htmlOutDir = layout.buildDirectory.dir("reports/jacoco/$name/html").get().asFile
+def testReport = tasks.register('jacocoTestReport', JacocoReport) {
+    def htmlOutDir = project.layout.buildDirectory.dir("reports/jacoco/$name/html").get().asFile
 
     doLast {
         openReport htmlOutDir
@@ -104,19 +104,23 @@ task jacocoTestReport(type: JacocoReport, dependsOn: ['testPlayDebugUnitTest', '
         html.destination htmlOutDir
     }
 
-    def kotlinClasses = fileTree(dir: "$project.buildDir/tmp/kotlin-classes/playDebug", excludes: fileFilter)
+    def kotlinClasses = fileTree(dir: project.layout.buildDirectory.dir('tmp/kotlin-classes/playDebug'), excludes: fileFilter)
     def mainSrc = "$project.projectDir/src/main/java"
 
     sourceDirectories.from = files([mainSrc])
     classDirectories.from = files([kotlinClasses])
-    executionData.from = fileTree(dir: project.buildDir, includes: [
+    executionData.from = fileTree(dir: project.layout.buildDirectory, includes: [
             '**/*.exec',
             '**/*.ec'
     ])
 }
+testReport.configure {
+    dependsOn('testPlayDebugUnitTest')
+    dependsOn('connectedPlayDebugAndroidTest')
+}
 
 // A unit-test only report task
-task jacocoUnitTestReport(type: JacocoReport, dependsOn: ['testPlayDebugUnitTest']) {
+def unitTestReport = tasks.register('jacocoUnitTestReport', JacocoReport) {
     def htmlOutDir = layout.buildDirectory.dir("reports/jacoco/$name/html").get().asFile
 
     doLast {
@@ -128,19 +132,20 @@ task jacocoUnitTestReport(type: JacocoReport, dependsOn: ['testPlayDebugUnitTest
         html.destination htmlOutDir
     }
 
-    def kotlinClasses = fileTree(dir: "$project.buildDir/tmp/kotlin-classes/playDebug", excludes: fileFilter)
+    def kotlinClasses = fileTree(dir: project.layout.buildDirectory.dir('tmp/kotlin-classes/playDebug'), excludes: fileFilter)
     def mainSrc = "$project.projectDir/src/main/java"
 
     sourceDirectories.from = files([mainSrc])
     classDirectories.from = files([kotlinClasses])
-    executionData.from = fileTree(dir: project.buildDir, includes: [
+    executionData.from = fileTree(dir: project.layout.buildDirectory, includes: [
             '**/*.exec'
 
     ])
 }
+unitTestReport.configure { dependsOn('testPlayDebugUnitTest') }
 
 // A connected android tests only report task
-task jacocoAndroidTestReport(type: JacocoReport, dependsOn: ['connectedPlayDebugAndroidTest']) {
+def androidTestReport = tasks.register('jacocoAndroidTestReport', JacocoReport) {
     def htmlOutDir = layout.buildDirectory.dir("reports/jacoco/$name/html").get().asFile
 
     doLast {
@@ -152,12 +157,13 @@ task jacocoAndroidTestReport(type: JacocoReport, dependsOn: ['connectedPlayDebug
         html.destination htmlOutDir
     }
 
-    def kotlinClasses = fileTree(dir: "$project.buildDir/tmp/kotlin-classes/playDebug", excludes: fileFilter)
+    def kotlinClasses = fileTree(dir: project.layout.buildDirectory.dir('tmp/kotlin-classes/playDebug'), excludes: fileFilter)
     def mainSrc = "$project.projectDir/src/main/java"
 
     sourceDirectories.from = files([mainSrc])
     classDirectories.from = files([kotlinClasses])
-    executionData.from = fileTree(dir: project.buildDir, includes: [
+    executionData.from = fileTree(dir: project.layout.buildDirectory, includes: [
             '**/*.ec'
     ])
 }
+androidTestReport.configure { dependsOn('connectedPlayDebugAndroidTest') }
diff --git a/AnkiDroid/robolectricDownloader.gradle b/AnkiDroid/robolectricDownloader.gradle
index 7dc01c654ee6..87ee0d1f3976 100644
--- a/AnkiDroid/robolectricDownloader.gradle
+++ b/AnkiDroid/robolectricDownloader.gradle
@@ -35,7 +35,7 @@ def robolectricAndroidSdkVersions = [
 ]
 
 // Base, public task - will be displayed in ./gradlew robolectricDownloader:tasks
-task robolectricSdkDownload {
+tasks.register('robolectricSdkDownload') {
     group = "Dependencies"
     description = "Downloads all robolectric SDK dependencies into mavenLocal, for use with offline robolectric"
 }
@@ -52,7 +52,7 @@ robolectricAndroidSdkVersions.forEach { robolectricSdkVersion ->
     def mavenLocalFile = new File(this.repositories.mavenLocal().url)
     def mavenRobolectric = new File(mavenLocalFile, "org/robolectric/android-all-instrumented/${version}")
     // Copying all files downloaded for the created configuration into maven local.
-    task "robolectricSdkDownload-${version}"(type: Copy) {
+    tasks.register("robolectricSdkDownload-${version}", Copy) {
         from sdkConfig
         into mavenRobolectric
 
@@ -75,6 +75,6 @@ robolectricAndroidSdkVersions.forEach { robolectricSdkVersion ->
             }
         }
     }
-    robolectricSdkDownload.dependsOn "robolectricSdkDownload-${version}"
+    robolectricSdkDownload.configure { dependsOn "robolectricSdkDownload-${version}" }
 }
 
diff --git a/build.gradle b/build.gradle
index 34828d88ba9d..29fb351ff16d 100644
--- a/build.gradle
+++ b/build.gradle
@@ -1,4 +1,6 @@
 import org.gradle.internal.jvm.Jvm
+import org.jetbrains.kotlin.gradle.tasks.KotlinCompile
+import org.jetbrains.kotlin.gradle.tasks.KotlinCompilerExecutionStrategy
 
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 buildscript {
@@ -19,7 +21,7 @@ buildscript {
     ext.android_gradle_plugin = "8.1.4"
     ext.dokka_version = "1.9.10" // not the same with kotlin version!
 
-    configurations.all {
+    configurations.configureEach {
         resolutionStrategy.eachDependency { details ->
             if (details.requested.group == 'org.jetbrains.kotlinx'
                     && details.requested.name.contains('kotlinx-serialization-runtime')
@@ -90,8 +92,8 @@ subprojects {
             result in a warning but we treat warnings as errors.
             (see https://youtrack.jetbrains.com/issue/KT-28777/Using-experimental-coroutines-api-causes-unresolved-dependency)
         */
-        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
-            kotlinOptions {
+        tasks.withType(KotlinCompile).configureEach {
+            compilerOptions {
                 allWarningsAsErrors = fatalWarnings
                 def compilerArgs = ['-Xjvm-default=all']
                 if (project.name != "api") {
@@ -106,16 +108,16 @@ subprojects {
 ext {
 
     jvmVersion = Jvm.current().javaVersion.majorVersion
-    if (jvmVersion != "17" && jvmVersion != "18") {
+    if (jvmVersion != "17" && jvmVersion != "21") {
         println "\n\n\n"
         println "**************************************************************************************************************"
         println "\n\n\n"
-        println "ERROR: AnkiDroid builds with JVM version 17 or 18."
+        println "ERROR: AnkiDroid builds with JVM version 17 or 21."
         println "  Incompatible major version detected: '" + jvmVersion + "'"
         println "\n\n\n"
         println "  If you receive this error because you want to use a newer JDK, we may accept PRs to support new versions."
         println "  Edit the main build.gradle file, find this message in the file, and add support for the new version."
-        println "  Please make sure the `jacocoTestReport` target works on an emulator with our minSdkVersion (currently 21)."
+        println "  Please make sure the `jacocoTestReport` target works on an emulator with our minSdkVersion (currently 23)."
         println "\n\n\n"
         println "**************************************************************************************************************"
         println "\n\n\n"
@@ -131,9 +133,9 @@ ext {
         // macOS reports hardware cores. This is accurate for CI, Intel (halved due to SMT) and Apple Silicon
         gradleTestMaxParallelForks = "sysctl -n hw.physicalcpu".execute().text.toInteger()
     } else if (ciBuild) {
-        // GitHub Actions (Standard_DS2_v2) are 1:1 on Linux/Windows with two vCPU cores
-        // Sources:
-        // Standard_DS2_v2 https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#cloud-hosts-for-github-hosted-runners
+        // GitHub Actions run on Standard_DS2_v2 Azure Compute Units. They are 1:1 vCPU to CPU on Linux/Windows with two vCPU cores
+        // Sources to determine the correct Azure Compute Unit (and get CPU count) to tune this:
+        // Standard_DS2_v2 https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
         // Which is 1:1 https://docs.microsoft.com/en-gb/azure/virtual-machines/acu : DS1_v2 - DS15_v2 | 1:1
         gradleTestMaxParallelForks = 2
 
@@ -141,8 +143,8 @@ ext {
         // the CI machines don't have enough RAM to do that without going in to swap quite a bit
         // so for CI machines only - to improve reliability despite compilation speed hit, compile kotlin in process
         println "CI build detected: setting compiler execution strategy to IN_PROCESS"
-        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {
-            compilerExecutionStrategy.set(org.jetbrains.kotlin.gradle.tasks.KotlinCompilerExecutionStrategy.IN_PROCESS)
+        tasks.withType(KotlinCompile).configureEach {
+            compilerExecutionStrategy.set(KotlinCompilerExecutionStrategy.IN_PROCESS)
         }
     } else {
         // Use 50% of cores to account for SMT which doesn't help this workload
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
index 7f93135c49b7..d64cd4917707 100644
Binary files a/gradle/wrapper/gradle-wrapper.jar and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index 3fa8f862f753..1af9e0930b89 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -1,6 +1,6 @@
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-8.4-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-8.5-bin.zip
 networkTimeout=10000
 validateDistributionUrl=true
 zipStoreBase=GRADLE_USER_HOME
