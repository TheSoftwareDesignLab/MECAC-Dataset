diff --git a/res/values/strings.xml b/res/values/strings.xml
index 16a12758a144..d6c103dbd12e 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -138,6 +138,7 @@
 <string name="edit_card">Edit Card</string>
 <string name="switch_another_deck">Switch to another deck</string>
 <string name="get_shared_deck">Get shared deck</string>
+<string name="synchronize">Synchronize</string>
 
 <!-- SharedDeckPicker.java -->
 <string name="downloading_shared_deck">Downloading shared deck...</string>
diff --git a/src/com/ichi2/anki/AnkiDroid.java b/src/com/ichi2/anki/AnkiDroid.java
index 1aa7fd30e522..52fb49a779f8 100644
--- a/src/com/ichi2/anki/AnkiDroid.java
+++ b/src/com/ichi2/anki/AnkiDroid.java
@@ -104,6 +104,10 @@ public class AnkiDroid extends Activity
 	private static final int MENU_EDIT = 6; 
 
 	private static final int MENU_GET_SHARED_DECKS = 7;
+	
+	private static final int MENU_SYNC = 8;
+	
+	private static final int MENU_SYNC_FROM_SERVER_PAYLOAD = 9;
 
 	/**
 	 * Possible outputs trying to load a deck
@@ -461,6 +465,8 @@ public boolean onCreateOptionsMenu(Menu menu)
 		menu.add(1, MENU_SUSPEND, 0, getString(R.string.suspend));
         menu.add(1, MENU_EDIT, 0, getString(R.string.edit_card)); //Edit the current card.
         menu.add(1, MENU_GET_SHARED_DECKS, 0, getString(R.string.get_shared_deck));
+        menu.add(1, MENU_SYNC, 0, R.string.synchronize);
+        menu.add(1, MENU_SYNC_FROM_SERVER_PAYLOAD, 0, "Sync from payload");
 		return true;
 	}
 
@@ -473,6 +479,8 @@ public boolean onPrepareOptionsMenu(Menu menu)
 		menu.findItem(MENU_SUSPEND).setVisible(currentCard != null);
 		menu.findItem(MENU_EDIT).setEnabled(currentCard != null);
 		menu.findItem(MENU_EDIT).setVisible(currentCard != null);
+		menu.findItem(MENU_SYNC).setEnabled(sdCardAvailable && deckLoaded);
+		menu.findItem(MENU_SYNC_FROM_SERVER_PAYLOAD).setEnabled(sdCardAvailable && deckLoaded);
 		return true;
 	}
 	
@@ -517,6 +525,14 @@ public boolean onOptionsItemSelected(MenuItem item)
         case MENU_GET_SHARED_DECKS:
         	Connection.getSharedDecks(getSharedDecksListener, new Connection.Payload(new Object[] {}));
         	return true;
+        	
+        case MENU_SYNC:
+        	syncDeck();
+        	return true;
+        	
+        case MENU_SYNC_FROM_SERVER_PAYLOAD:
+        	Connection.syncDeckFromPayload(syncListener, new Connection.Payload(new Object[] {AnkiDroidApp.deck(), deckFilename}));
+        	return true;
 		}
 		return false;
 	}
@@ -525,8 +541,7 @@ public void openDeckPicker()
 	{
     	Log.i(TAG, "openDeckPicker - deckSelected = " + deckSelected);
     	
-    	if(AnkiDroidApp.deck() != null && sdCardAvailable)
-    		AnkiDroidApp.deck().closeDeck();
+    	closeDeck();
     	deckLoaded = false;
 		Intent decksPicker = new Intent(this, DeckPicker.class);
 		inDeckPicker = true;
@@ -1029,6 +1044,26 @@ private void savePreferences()
 		editor.commit();
 	}
 
+	private void closeDeck()
+	{
+		if(AnkiDroidApp.deck() != null && sdCardAvailable)
+		{
+			//syncDeck();
+			AnkiDroidApp.deck().closeDeck();
+		}
+	}
+	
+	private void syncDeck() {
+		SharedPreferences preferences = PrefSettings.getSharedPrefs(getBaseContext());
+		
+		String username = preferences.getString("username", "");
+		String password = preferences.getString("password", "");
+		Deck deck = AnkiDroidApp.deck();
+		
+		Log.i(TAG, "Synchronizing deck " + deckFilename + " with username " + username + " and password " + password);
+		Connection.syncDeck(syncListener, new Connection.Payload(new Object[] {username, password, deck, deckFilename}));		
+	}
+
 	private boolean isSdCardMounted() {
 		return Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState());
 	}
@@ -1332,4 +1367,32 @@ public void onProgressUpdate(Object... values) {
 		
 	};
 
+	Connection.TaskListener syncListener = new Connection.TaskListener() {
+
+		@Override
+		public void onDisconnected() {
+			noConnectionAlert.show();			
+		}
+
+		@Override
+		public void onPostExecute(Payload data) {
+			progressDialog.dismiss();
+			closeDeck();
+			DeckTask.launchDeckTask(
+					DeckTask.TASK_TYPE_LOAD_DECK,
+					mLoadDeckHandler,
+					new DeckTask.TaskData(deckFilename));
+		}
+
+		@Override
+		public void onPreExecute() {
+			progressDialog = ProgressDialog.show(AnkiDroid.this, "", getResources().getString(R.string.loading_shared_decks));			
+		}
+
+		@Override
+		public void onProgressUpdate(Object... values) {
+			// TODO Auto-generated method stub
+		}
+		
+	};
 }
diff --git a/src/com/ichi2/anki/AnkiDroidProxy.java b/src/com/ichi2/anki/AnkiDroidProxy.java
index e178cda3badc..a0f7c7030ed2 100644
--- a/src/com/ichi2/anki/AnkiDroidProxy.java
+++ b/src/com/ichi2/anki/AnkiDroidProxy.java
@@ -56,11 +56,18 @@ public class AnkiDroidProxy {
 	/**
 	 * Connection settings
 	 */
+	
 	private static final String SYNC_URL = "http://anki.ichi2.net/sync/";
 	//78.46.104.28
 	private static final String SYNC_HOST = "anki.ichi2.net"; 
 	private static final String SYNC_PORT = "80";
 	
+	//Test
+	/*
+	private static final String SYNC_URL = "http://172.16.15.143:8001/sync/";
+	private static final String SYNC_HOST = "172.16.15.143";
+	private static final String SYNC_PORT = "8001";
+	*/
 	private String username;
 	private String password;
 	private String deckName;
@@ -211,6 +218,7 @@ public String getDecks()
     
     public void createDeck(String name)
     {
+    	Log.i(TAG, "createDeck");
     	Log.i(TAG, "user = " + username + ", password = " + password);
 
     	try {
@@ -320,6 +328,7 @@ public JSONObject applyPayload(JSONObject payload)
 			Log.i(TAG, "Payload response = ");
 			payloadReply = new JSONObject(contentString);
 			Utils.printJSONObject(payloadReply, false);
+			Utils.saveJSONObject(payloadReply);
 		} catch (UnsupportedEncodingException e) {
 			e.printStackTrace();
 		} catch (ClientProtocolException e)
diff --git a/src/com/ichi2/anki/SyncClient.java b/src/com/ichi2/anki/SyncClient.java
index 3199e9d7d2d0..edea31617cfe 100644
--- a/src/com/ichi2/anki/SyncClient.java
+++ b/src/com/ichi2/anki/SyncClient.java
@@ -46,10 +46,17 @@ public class SyncClient {
 	/**
 	 * Connection settings
 	 */
+	
 	private static final String SYNC_URL = "http://anki.ichi2.net/sync/";
 	private static final String SYNC_HOST = "anki.ichi2.net"; //78.46.104.28
 	private static final String SYNC_PORT = "80";
 	
+	//Test
+	/*
+	private static final String SYNC_URL = "http://172.16.15.143:8001/sync/";
+	private static final String SYNC_HOST = "172.16.15.143";
+	private static final String SYNC_PORT = "8001";*/
+	
 	private static final int CHUNK_SIZE = 32768;
 	
 	private enum Keys {models, facts, cards, media};
@@ -1797,7 +1804,7 @@ private void updateStats(JSONObject stats)
 				
 				//If exists a statistic for this day, get it
 				try {
-					Long id = AnkiDb.queryScalar("SELECT id FROM stats WHERE type = 1 AND day = " + dailyStatDate.toString());
+					Long id = AnkiDb.queryScalar("SELECT id FROM stats WHERE type = 1 AND day = \"" + dailyStatDate.toString() + "\"");
 					stat.fromDB(id);
 				} catch (SQLException e)
 				{
diff --git a/src/com/ichi2/anki/Utils.java b/src/com/ichi2/anki/Utils.java
index f8f130f7ede0..a070b642b5b7 100644
--- a/src/com/ichi2/anki/Utils.java
+++ b/src/com/ichi2/anki/Utils.java
@@ -351,6 +351,14 @@ public static void printJSONObject(JSONObject jsonObject, String indentation, bo
 		
 	}
 
+	public static void saveJSONObject(JSONObject jsonObject) throws IOException
+	{
+		Log.i(TAG, "saveJSONObject");
+		BufferedWriter buff = new BufferedWriter(new FileWriter("/sdcard/jsonObjectAndroid.txt", true));
+		buff.write(jsonObject.toString());
+		buff.close();
+	}
+	
 	public static int booleanToInt(boolean b)
 	{
 		return (b)?1:0;
diff --git a/src/com/ichi2/async/Connection.java b/src/com/ichi2/async/Connection.java
index 72bc78672d6b..3c93c53b4d6f 100644
--- a/src/com/ichi2/async/Connection.java
+++ b/src/com/ichi2/async/Connection.java
@@ -16,7 +16,13 @@
 
 package com.ichi2.async;
 
+import java.io.BufferedReader;
+import java.io.FileNotFoundException;
+import java.io.FileReader;
+import java.io.IOException;
+
 import org.json.JSONArray;
+import org.json.JSONException;
 import org.json.JSONObject;
 
 import android.content.Context;
@@ -37,18 +43,19 @@ public class Connection extends AsyncTask<Connection.Payload, Object, Connection
     public static final int TASK_TYPE_GET_SHARED_DECKS = 0;
     public static final int TASK_TYPE_DOWNLOAD_SHARED_DECK = 1;
     public static final int TASK_TYPE_SYNC_DECK = 2;
+    public static final int TASK_TYPE_SYNC_DECK_FROM_PAYLOAD = 3;
 
 	private static Connection instance;
 	private TaskListener listener;
 	
 	private static Connection launchConnectionTask(TaskListener listener, Payload data)
 	{
-		if(!isOnline())
+		/*if(!isOnline())
 		{
 			data.success = false;
 			listener.onDisconnected();
 			return null;
-		}
+		}*/
 		try
 		{
 			if ((instance != null) && (instance.getStatus() != AsyncTask.Status.FINISHED))
@@ -106,6 +113,12 @@ public static Connection syncDeck(TaskListener listener, Payload data)
 		return launchConnectionTask(listener, data);
 	}
 	
+	public static Connection syncDeckFromPayload(TaskListener listener, Payload data)
+	{
+		data.taskType = TASK_TYPE_SYNC_DECK_FROM_PAYLOAD;
+		return launchConnectionTask(listener, data);
+	}
+	
 	@Override
 	protected Payload doInBackground(Payload... params) {
 		Payload data = params[0];
@@ -121,6 +134,9 @@ protected Payload doInBackground(Payload... params) {
 			case TASK_TYPE_SYNC_DECK:
 				return doInBackgroundSyncDeck(data);
 				
+			case TASK_TYPE_SYNC_DECK_FROM_PAYLOAD:
+				return doInBackgroundSyncDeckFromPayload(data);
+				
 			default:
 				return null;
 		}
@@ -166,6 +182,7 @@ private Payload doInBackgroundSyncDeck(Payload data)
 			
 			if(!server.hasDeck(syncName))
 			{
+				Log.i(TAG, "AnkiOnline does not have this deck: Creating it...");
 				server.createDeck(syncName);
 			}
 			SyncClient client = new SyncClient(deck);
@@ -212,6 +229,33 @@ else if("fromServer".equalsIgnoreCase(syncFrom))
 		return data;
 	}
 	
+	private Payload doInBackgroundSyncDeckFromPayload(Payload data)
+	{
+		Log.i(TAG, "SyncDeckFromPayload");
+		Deck deck = (Deck)data.data[0];
+		SyncClient client = new SyncClient(deck);
+		BufferedReader bufPython;
+		try {
+			bufPython = new BufferedReader(new FileReader("/sdcard/jsonObjectPython.txt"));
+			JSONObject payloadReply = new JSONObject(bufPython.readLine());
+			client.applyPayloadReply(payloadReply);
+			deck.lastLoaded = deck.modified;
+			deck.commitToDB();
+		} catch (FileNotFoundException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (JSONException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		
+		Log.i(TAG, "Synchronization from payload finished!");
+		return data;
+	}
+	
 	public static boolean isOnline() 
 	{
 		 ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
