diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
index 6474539353e6..04db639ff9d2 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
@@ -102,7 +102,6 @@
 import com.ichi2.anki.dialogs.SyncErrorDialog;
 import com.ichi2.anki.dialogs.customstudy.CustomStudyDialogFactory;
 import com.ichi2.anki.exception.ConfirmModSchemaException;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.anki.export.ActivityExportingDelegate;
 import com.ichi2.anki.receiver.SdCardReceiver;
 import com.ichi2.anki.stats.AnkiStatsTaskHandler;
@@ -122,6 +121,7 @@
 import com.ichi2.libanki.Model;
 import com.ichi2.libanki.ModelManager;
 import com.ichi2.libanki.Utils;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.libanki.importer.AnkiPackageImporter;
 import com.ichi2.libanki.sched.AbstractDeckTreeNode;
 import com.ichi2.libanki.sync.CustomSyncServerUrlException;
@@ -627,8 +627,8 @@ protected boolean createNewDeck(String deckName) {
         Timber.i("DeckPicker:: Creating new deck...");
         try {
             getCol().getDecks().id(deckName);
-        } catch (FilteredAncestor filteredAncestor) {
-            UIUtils.showThemedToast(this, getString(R.string.decks_rename_filtered_nosubdecks), false);
+        } catch (DeckRenameException ex) {
+            UIUtils.showThemedToast(this, ex.getLocalizedMessage(getResources()), false);
             return false;
         }
         updateDeckList();
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CreateDeckDialog.java b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CreateDeckDialog.java
index 8ed0faa2ceb1..e77fc3d0d6c1 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CreateDeckDialog.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CreateDeckDialog.java
@@ -25,7 +25,6 @@
 import com.ichi2.anki.R;
 import com.ichi2.anki.UIUtils;
 import com.ichi2.libanki.backend.exception.DeckRenameException;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.libanki.Collection;
 import com.ichi2.libanki.Decks;
 import com.ichi2.ui.FixedEditText;
@@ -123,8 +122,8 @@ public boolean createFilteredDeck(@NonNull String deckName) {
             Timber.i("CreateDeckDialog::createFilteredDeck...");
             long newDeckId = CollectionHelper.getInstance().getCol(mContext).getDecks().newDyn(deckName);
             mOnNewDeckCreated.accept(newDeckId);
-        } catch (FilteredAncestor filteredAncestor) {
-            UIUtils.showThemedToast(mContext, mContext.getString(R.string.decks_rename_filtered_nosubdecks), false);
+        } catch (DeckRenameException ex) {
+            UIUtils.showThemedToast(mContext, ex.getLocalizedMessage(mContext.getResources()), false);
             return false;
         }
         return true;
@@ -136,7 +135,7 @@ private boolean createNewDeck(@NonNull String deckName) {
             Timber.i("CreateDeckDialog::createNewDeck");
             long newDeckId = CollectionHelper.getInstance().getCol(mContext).getDecks().id(deckName);
             mOnNewDeckCreated.accept(newDeckId);
-        } catch (FilteredAncestor filteredAncestor) {
+        } catch (DeckRenameException filteredAncestor) {
             Timber.w(filteredAncestor);
             return false;
         }
@@ -183,8 +182,6 @@ public void renameDeck(String newDeckName) {
                 Timber.w(e);
                 // We get a localized string from libanki to explain the error
                 UIUtils.showThemedToast(mContext, e.getLocalizedMessage(mContext.getResources()), false);
-            } catch (FilteredAncestor filteredAncestor) {
-                Timber.w(filteredAncestor);
             }
         }
     }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/DeckSelectionDialog.java b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/DeckSelectionDialog.java
index 2c8752b417b0..443a2b8ca4e7 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/DeckSelectionDialog.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/DeckSelectionDialog.java
@@ -33,12 +33,11 @@
 import com.ichi2.anki.R;
 import com.ichi2.anki.UIUtils;
 import com.ichi2.anki.analytics.AnalyticsDialogFragment;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.libanki.Collection;
 import com.ichi2.libanki.CollectionGetter;
 import com.ichi2.libanki.Deck;
 import com.ichi2.libanki.DeckManager;
-import com.ichi2.libanki.Decks;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.libanki.stats.Stats;
 import com.ichi2.utils.DeckNameComparator;
 import com.ichi2.utils.FunctionalInterfaces;
@@ -195,8 +194,8 @@ private void showSubDeckDialog(String parentDeckPath) {
                 selectDeckWithDeckName(getDecks().name(id));
             });
             createDeckDialog.showDialog();
-        } catch (FilteredAncestor filteredAncestor) {
-            Timber.w(filteredAncestor);
+        } catch (DeckRenameException ex) {
+            Timber.w(ex);
         }
     }
 
@@ -224,8 +223,8 @@ private void selectDeckWithDeckName(@NonNull String deckName) {
             long id = getDecks().id(deckName);
             SelectableDeck dec = new SelectableDeck(id, deckName);
             selectDeckAndClose(dec);
-        } catch (FilteredAncestor filteredAncestor) {
-            UIUtils.showThemedToast(requireActivity(), getString(R.string.decks_rename_filtered_nosubdecks), false);
+        } catch (DeckRenameException ex) {
+            UIUtils.showThemedToast(requireActivity(), ex.getLocalizedMessage(getResources()), false);
         }
     }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/customstudy/CustomStudyDialog.java b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/customstudy/CustomStudyDialog.java
index ba055fb9206e..676ab65411b5 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/customstudy/CustomStudyDialog.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/dialogs/customstudy/CustomStudyDialog.java
@@ -48,13 +48,13 @@
 import com.ichi2.anki.dialogs.ContextMenuHelper;
 import com.ichi2.anki.dialogs.tags.TagsDialog;
 import com.ichi2.anki.dialogs.tags.TagsDialogListener;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.async.CollectionTask;
 import com.ichi2.async.TaskManager;
 import com.ichi2.libanki.Collection;
 import com.ichi2.libanki.Consts;
 import com.ichi2.libanki.Deck;
 import com.ichi2.libanki.DeckManager;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.utils.HashUtil;
 import com.ichi2.utils.JSONArray;
 import com.ichi2.utils.JSONObject;
@@ -495,8 +495,8 @@ private void createCustomStudySession(JSONArray delays, Object[] terms, Boolean
             Timber.i("Creating Dynamic Deck '%s' for custom study", customStudyDeck);
             try {
                 dyn = decks.get(decks.newDyn(customStudyDeck));
-            } catch (FilteredAncestor filteredAncestor) {
-                UIUtils.showThemedToast(requireActivity(), getString(R.string.decks_rename_filtered_nosubdecks), true);
+            } catch (DeckRenameException ex) {
+                UIUtils.showThemedToast(requireActivity(), ex.getLocalizedMessage(this.getResources()), true);
                 return;
             }
         }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/exception/FilteredAncestor.java b/AnkiDroid/src/main/java/com/ichi2/anki/exception/FilteredAncestor.java
deleted file mode 100644
index aa836235a834..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/exception/FilteredAncestor.java
+++ /dev/null
@@ -1,14 +0,0 @@
-//noinspection MissingCopyrightHeader #8659
-package com.ichi2.anki.exception;
-
-public class FilteredAncestor extends Exception {
-    private final String mFilteredAncestorName;
-    public FilteredAncestor(String filteredAncestorName) {
-        this.mFilteredAncestorName = filteredAncestorName;
-    }
-
-    public String getFilteredAncestorName() {
-        return mFilteredAncestorName;
-    }
-
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/provider/CardContentProvider.java b/AnkiDroid/src/main/java/com/ichi2/anki/provider/CardContentProvider.java
index 7bee78a75d12..9037b926f596 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/provider/CardContentProvider.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/provider/CardContentProvider.java
@@ -44,13 +44,13 @@
 import com.ichi2.anki.FlashCardsContract.CardTemplate;
 import com.ichi2.anki.R;
 import com.ichi2.anki.exception.ConfirmModSchemaException;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.compat.CompatHelper;
 import com.ichi2.libanki.Consts;
 import com.ichi2.libanki.Decks;
 import com.ichi2.libanki.Model;
 import com.ichi2.libanki.Media;
 import com.ichi2.libanki.ModelManager;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.libanki.exception.EmptyMediaException;
 import com.ichi2.libanki.sched.AbstractSched;
 import com.ichi2.libanki.Card;
@@ -1039,8 +1039,8 @@ public Uri insert(@NonNull Uri uri, ContentValues values) {
                 }
                 try {
                     did = col.getDecks().id(deckName);
-                } catch (FilteredAncestor filteredSubdeck) {
-                    throw new IllegalArgumentException("Deck " + deckName + " has filtered ancestor " + filteredSubdeck.getFilteredAncestorName());
+                } catch (DeckRenameException filteredSubdeck) {
+                    throw new IllegalArgumentException(filteredSubdeck.getMessage());
                 }
                 Deck deck = col.getDecks().get(did);
                 if (deck != null) {
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/DeckManager.kt b/AnkiDroid/src/main/java/com/ichi2/libanki/DeckManager.kt
index 4c591d244f7f..96ddbb8f786b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/DeckManager.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/DeckManager.kt
@@ -19,7 +19,6 @@ package com.ichi2.libanki
 import androidx.annotation.CheckResult
 import androidx.annotation.VisibleForTesting
 import com.ichi2.anki.exception.ConfirmModSchemaException
-import com.ichi2.anki.exception.FilteredAncestor
 import com.ichi2.libanki.backend.exception.DeckRenameException
 import com.ichi2.utils.DeckComparator
 import com.ichi2.utils.DeckNameComparator
@@ -48,7 +47,7 @@ abstract class DeckManager {
      */
 
     abstract fun id_for_name(name: String): Long?
-    @Throws(FilteredAncestor::class)
+    @Throws(DeckRenameException::class)
     abstract fun id(name: String): Long
     /** Same as id, but rename ancestors if filtered to avoid failure */
     fun id_safe(name: String) = id_safe(name, Decks.DEFAULT_DECK)
@@ -169,7 +168,7 @@ abstract class DeckManager {
      */
 
     /** Return a new dynamic deck and set it as the current deck. */
-    @Throws(FilteredAncestor::class)
+    @Throws(DeckRenameException::class)
     abstract fun newDyn(name: String): Long
     abstract fun isDyn(did: Long): Boolean
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java b/AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java
index dfa12f53f0ac..3126b892dc04 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/Decks.java
@@ -27,7 +27,6 @@
 import com.ichi2.anki.AnkiDroidApp;
 import com.ichi2.anki.exception.ConfirmModSchemaException;
 import com.ichi2.libanki.backend.exception.DeckRenameException;
-import com.ichi2.anki.exception.FilteredAncestor;
 
 import com.ichi2.utils.DeckComparator;
 import com.ichi2.utils.HashUtil;
@@ -346,7 +345,7 @@ public Long id_for_name(@NonNull String name) {
     }
 
     @Override
-    public long id(@NonNull String name) throws FilteredAncestor {
+    public long id(@NonNull String name) throws DeckRenameException {
         return id(name, DEFAULT_DECK);
     }
 
@@ -360,7 +359,7 @@ private String usable_name(@NonNull String name) {
     /**
      * Add a deck with NAME. Reuse deck if already exists. Return id as int.
      */
-    public long id(@NonNull String name, @NonNull String type) throws FilteredAncestor {
+    public long id(@NonNull String name, @NonNull String type) throws DeckRenameException {
         name = usable_name(name);
         Long id = id_for_name(name);
         if (id != null) {
@@ -576,11 +575,8 @@ public void rename(@NonNull Deck g, @NonNull String newName) throws DeckRenameEx
              * the code in order do this change. */
         }
         // ensure we have parents and none is a filtered deck
-        try {
-            newName = _ensureParents(newName);
-        } catch (FilteredAncestor filteredSubdeck) {
-            throw new DeckRenameException(DeckRenameException.FILTERED_NOSUBDECKS);
-        }
+        newName = _ensureParents(newName);
+
         // rename children
         String oldName = g.getString("name");
         for (Deck grp : all()) {
@@ -687,11 +683,11 @@ public static String basename(String name) {
      *
      * @param name The name whose parents should exists
      * @return The name, with potentially change in capitalization and unicode normalization, so that the parent's name corresponds to an existing deck.
-     * @throws FilteredAncestor if a parent is filtered
+     * @throws DeckRenameException if a parent is filtered
      */
     @NonNull
     @VisibleForTesting
-    protected String _ensureParents(@NonNull String name) throws FilteredAncestor {
+    protected String _ensureParents(@NonNull String name) throws DeckRenameException {
         String s = "";
         String[] path = path(name);
         if (path.length < 2) {
@@ -710,7 +706,7 @@ protected String _ensureParents(@NonNull String name) throws FilteredAncestor {
             s = name(did);
             Deck deck = get(did);
             if (deck.isDyn()) {
-                throw new FilteredAncestor(s);
+                throw DeckRenameException.filteredAncestor(name, s);
             }
         }
         name = s + "::" + path[path.length - 1];
@@ -1181,7 +1177,7 @@ public void beforeUpload() {
 
     /** {@inheritDoc} */
     @Override
-    public long newDyn(String name) throws FilteredAncestor {
+    public long newDyn(String name) throws DeckRenameException {
         long did = id(name, defaultDynamicDeck);
         select(did);
         return did;
diff --git a/AnkiDroid/src/main/java/com/ichi2/libanki/backend/exception/DeckRenameException.java b/AnkiDroid/src/main/java/com/ichi2/libanki/backend/exception/DeckRenameException.java
index 1089702486d4..bd4850ae6b7f 100644
--- a/AnkiDroid/src/main/java/com/ichi2/libanki/backend/exception/DeckRenameException.java
+++ b/AnkiDroid/src/main/java/com/ichi2/libanki/backend/exception/DeckRenameException.java
@@ -5,18 +5,45 @@
 
 import com.ichi2.anki.R;
 
+import androidx.annotation.Nullable;
+
 public class DeckRenameException extends Exception {
 
     public static final int ALREADY_EXISTS = 0;
-    public static final int FILTERED_NOSUBDECKS = 1;
+    private static final int FILTERED_NOSUBDECKS = 1;
 
     private final int mErrorCode;
 
+    // region only if FILTERED_NOSUBDECKS
+    private String mFilteredAncestorName;
+    private String mDeckName;
+    // endregion
+
     public DeckRenameException(int errorCode) {
         super();
         mErrorCode = errorCode;
     }
 
+
+    /** Generates a {@link com.ichi2.libanki.backend.exception.DeckRenameException} with additional information in the message */
+    public static DeckRenameException filteredAncestor(String deckName, String filteredAncestorName) {
+        DeckRenameException ex = new DeckRenameException(FILTERED_NOSUBDECKS);
+        ex.mFilteredAncestorName = filteredAncestorName;
+        ex.mDeckName = deckName;
+        return ex;
+    }
+
+
+    @Nullable
+    @Override
+    public String getMessage() {
+        if (mErrorCode == FILTERED_NOSUBDECKS) {
+            return "Deck " + mDeckName + " has filtered ancestor " + mFilteredAncestorName;
+        }
+        return super.getMessage();
+    }
+
+
     public String getLocalizedMessage(Resources res) {
         switch (mErrorCode) {
             case ALREADY_EXISTS:
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/RobolectricTest.java b/AnkiDroid/src/test/java/com/ichi2/anki/RobolectricTest.java
index dbf15ec12ffb..01fbaf70cdf0 100644
--- a/AnkiDroid/src/test/java/com/ichi2/anki/RobolectricTest.java
+++ b/AnkiDroid/src/test/java/com/ichi2/anki/RobolectricTest.java
@@ -25,7 +25,6 @@
 import com.ichi2.anki.dialogs.DialogHandler;
 import com.ichi2.anki.dialogs.utils.FragmentTestActivity;
 import com.ichi2.anki.exception.ConfirmModSchemaException;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.async.ForegroundTaskManager;
 import com.ichi2.async.SingleTaskManager;
 import com.ichi2.async.TaskDelegate;
@@ -42,6 +41,7 @@
 
 import com.ichi2.libanki.Note;
 import com.ichi2.libanki.Storage;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.libanki.sched.AbstractSched;
 import com.ichi2.libanki.sched.Sched;
 import com.ichi2.libanki.sched.SchedV2;
@@ -397,7 +397,7 @@ private void addField(Model model, String name) {
     protected long addDeck(String deckName) {
         try {
             return getCol().getDecks().id(deckName);
-        } catch (FilteredAncestor filteredAncestor) {
+        } catch (DeckRenameException filteredAncestor) {
             throw new RuntimeException(filteredAncestor);
         }
     }
@@ -405,7 +405,7 @@ protected long addDeck(String deckName) {
     protected long addDynamicDeck(String name) {
         try {
             return getCol().getDecks().newDyn(name);
-        } catch (FilteredAncestor filteredAncestor) {
+        } catch (DeckRenameException filteredAncestor) {
             throw new RuntimeException(filteredAncestor);
         }
     }
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/CreateDeckDialogTest.java b/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/CreateDeckDialogTest.java
index c4e38ff9f023..602005c45164 100644
--- a/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/CreateDeckDialogTest.java
+++ b/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/CreateDeckDialogTest.java
@@ -18,8 +18,8 @@
 import com.ichi2.anki.DeckPicker;
 import com.ichi2.anki.R;
 import com.ichi2.anki.RobolectricTest;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.libanki.DeckManager;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 
 import org.junit.Test;
 import org.junit.runner.RunWith;
@@ -58,7 +58,7 @@ public void testCreateFilteredDeckFunction() {
                     isCreated.set(true);
                     final DeckManager decks = activity.getCol().getDecks();
                     assertThat(id, is(decks.id(deckName)));
-                } catch (FilteredAncestor filteredAncestor) {
+                } catch (DeckRenameException filteredAncestor) {
                     throw new RuntimeException(filteredAncestor);
                 }
             });
@@ -69,7 +69,7 @@ public void testCreateFilteredDeckFunction() {
     }
 
     @Test
-    public void testCreateSubDeckFunction() throws FilteredAncestor {
+    public void testCreateSubDeckFunction() throws DeckRenameException {
         Long deckParentId = getCol().getDecks().id("Deck Name");
 
         mActivityScenario.onActivity(activity -> {
@@ -84,7 +84,7 @@ public void testCreateSubDeckFunction() throws FilteredAncestor {
                     final DeckManager decks = activity.getCol().getDecks();
                     String deckNameWithParentName = decks.getSubdeckName(deckParentId, deckName);
                     assertThat(id, is(decks.id(deckNameWithParentName)));
-                } catch (FilteredAncestor filteredAncestor) {
+                } catch (DeckRenameException filteredAncestor) {
                     throw new RuntimeException(filteredAncestor);
                 }
             });
diff --git a/AnkiDroid/src/test/java/com/ichi2/libanki/CardTest.java b/AnkiDroid/src/test/java/com/ichi2/libanki/CardTest.java
index cce807e68e20..15f8ba09d871 100644
--- a/AnkiDroid/src/test/java/com/ichi2/libanki/CardTest.java
+++ b/AnkiDroid/src/test/java/com/ichi2/libanki/CardTest.java
@@ -2,7 +2,7 @@
 
 import com.ichi2.anki.RobolectricTest;
 import com.ichi2.anki.exception.ConfirmModSchemaException;
-import com.ichi2.anki.exception.FilteredAncestor;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 import com.ichi2.utils.JSONArray;
 import com.ichi2.utils.JSONObject;
 
@@ -242,7 +242,7 @@ private void  assertNoteOrdinalAre(Note note, Integer[] ords) {
 
     @Test
     @Config(qualifiers = "en")
-    public void nextDueTest() throws FilteredAncestor {
+    public void nextDueTest() throws DeckRenameException {
         Collection col = getCol();
         // Test runs as the 7th of august 2020, 9h00
         Note n = addNoteUsingBasicModel("Front", "Back");
diff --git a/AnkiDroid/src/test/java/com/ichi2/libanki/DecksTest.java b/AnkiDroid/src/test/java/com/ichi2/libanki/DecksTest.java
index 9569b217864e..70a066612a7e 100644
--- a/AnkiDroid/src/test/java/com/ichi2/libanki/DecksTest.java
+++ b/AnkiDroid/src/test/java/com/ichi2/libanki/DecksTest.java
@@ -2,7 +2,6 @@
 
 import com.ichi2.anki.RobolectricTest;
 import com.ichi2.libanki.backend.exception.DeckRenameException;
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.utils.JSONObject;
 
 import org.apache.http.util.Asserts;
@@ -80,7 +79,7 @@ public void trim() {
      ******************/
 
     @Test
-    public void test_basic() throws FilteredAncestor {
+    public void test_basic() {
         Collection col = getCol();
         DeckManager decks = col.getDecks();
         // we start with a standard col
@@ -127,7 +126,7 @@ public void test_basic() throws FilteredAncestor {
 
 
     @Test
-    public void test_remove() throws FilteredAncestor {
+    public void test_remove() {
         Collection col = getCol();
         // create a new col, and add a note/card to it
         long deck1 = addDeck("deck1");
@@ -146,7 +145,7 @@ public void test_remove() throws FilteredAncestor {
 
 
     @Test
-    public void test_rename() throws DeckRenameException, FilteredAncestor {
+    public void test_rename() throws DeckRenameException {
         Collection col = getCol();
         long id = addDeck("hello::world");
         // should be able to rename into a completely different branch, creating
@@ -235,7 +234,7 @@ public void test_rename() throws DeckRenameException, FilteredAncestor {
      */
 
     @Test
-    public void curDeckIsLong() throws FilteredAncestor {
+    public void curDeckIsLong() {
         // Regression for #8092
         Collection col = getCol();
         DeckManager decks = col.getDecks();
@@ -268,7 +267,7 @@ public void isDynStd() {
     }
 
     @Test
-    public void testEnsureParents() throws FilteredAncestor {
+    public void testEnsureParents() throws DeckRenameException {
         Collection col = getCol();
         Decks decks = (Decks) col.getDecks();
         addDeck("test");
@@ -280,15 +279,15 @@ public void testEnsureParents() throws FilteredAncestor {
         assertNull(decks.byName("  test :: sub "));
 
         decks.newDyn("filtered");
-        assertThrows(FilteredAncestor.class, () -> decks._ensureParents("filtered:: sub :: subdeck"));
+        assertThrows(DeckRenameException.class, () -> decks._ensureParents("filtered:: sub :: subdeck"));
     }
 
     @Test
-    public void descendantOfFiltered() throws FilteredAncestor {
+    public void descendantOfFiltered() throws DeckRenameException {
         Collection col = getCol();
         DeckManager decks = col.getDecks();
         long filtered_id = decks.newDyn("filtered");
-        assertThrows(FilteredAncestor.class,  () -> decks.id("filtered::subdeck::subsubdeck"));
+        assertThrows(DeckRenameException.class,  () -> decks.id("filtered::subdeck::subsubdeck"));
 
         long subdeck_id = decks.id_safe("filtered::subdeck::subsubdeck");
         Deck subdeck = decks.get(subdeck_id);
@@ -296,7 +295,7 @@ public void descendantOfFiltered() throws FilteredAncestor {
     }
 
     @Test
-    public void testEnsureParentsNotFiltered() throws FilteredAncestor {
+    public void testEnsureParentsNotFiltered() throws DeckRenameException {
         Collection col = getCol();
         Decks decks = (Decks) col.getDecks();
         addDeck("test");
diff --git a/AnkiDroid/src/test/java/com/ichi2/libanki/TextNoteExporterTest.java b/AnkiDroid/src/test/java/com/ichi2/libanki/TextNoteExporterTest.java
index c7b379180025..a84228e618ed 100644
--- a/AnkiDroid/src/test/java/com/ichi2/libanki/TextNoteExporterTest.java
+++ b/AnkiDroid/src/test/java/com/ichi2/libanki/TextNoteExporterTest.java
@@ -16,7 +16,7 @@
 import android.text.TextUtils;
 
 import com.ichi2.anki.RobolectricTest;
-import com.ichi2.anki.exception.FilteredAncestor;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 
 import org.junit.Before;
 import org.junit.Test;
@@ -89,7 +89,7 @@ public void setUp() {
 
         try {
             n2.model().put("did", mCollection.getDecks().id("new col"));
-        } catch (FilteredAncestor filteredAncestor) {
+        } catch (DeckRenameException filteredAncestor) {
             filteredAncestor.printStackTrace();
         }
         mCollection.addNote(n2);
diff --git a/AnkiDroid/src/test/java/com/ichi2/testutils/libanki/FilteredDeckUtil.java b/AnkiDroid/src/test/java/com/ichi2/testutils/libanki/FilteredDeckUtil.java
index a54e87e8b4bf..be83ff6e1bc8 100644
--- a/AnkiDroid/src/test/java/com/ichi2/testutils/libanki/FilteredDeckUtil.java
+++ b/AnkiDroid/src/test/java/com/ichi2/testutils/libanki/FilteredDeckUtil.java
@@ -16,16 +16,16 @@
 
 package com.ichi2.testutils.libanki;
 
-import com.ichi2.anki.exception.FilteredAncestor;
 import com.ichi2.libanki.Collection;
 import com.ichi2.libanki.DeckConfig;
+import com.ichi2.libanki.backend.exception.DeckRenameException;
 
 public class FilteredDeckUtil {
     public static long createFilteredDeck(Collection col, String name, String search) {
         long filteredDid = 0;
         try {
             filteredDid = col.getDecks().newDyn(name);
-        } catch (FilteredAncestor filteredAncestor) {
+        } catch (DeckRenameException filteredAncestor) {
             throw new RuntimeException(filteredAncestor);
         }
 
