diff --git a/res/layout/styled_dialog.xml b/res/layout/styled_dialog.xml
index 872e7ab720a3..ad256cf9a11d 100644
--- a/res/layout/styled_dialog.xml
+++ b/res/layout/styled_dialog.xml
@@ -44,7 +44,7 @@
             android:layout_marginTop="6dip"
             android:layout_marginBottom="6dip"
             android:layout_marginLeft="10dip"
-            android:layout_marginRight="10dip">
+            android:layout_marginRight="7dip">
             <ImageView android:id="@+id/icon"
                 android:layout_width="wrap_content"
                 android:layout_height="fill_parent"
@@ -56,14 +56,24 @@
             <TextView android:id="@+id/alertTitle"
                 android:textColor="#ffff"
                 android:textSize="20sp"
-       			android:textStyle="bold"
+                android:textStyle="bold"
                 android:paddingTop="3dip"
                 android:paddingBottom="3dip"
                 android:singleLine="true"
                 android:ellipsize="end"
                 android:layout_gravity="center"
-                android:layout_width="fill_parent"
-                android:layout_height="fill_parent" />
+                android:layout_width="wrap_content"
+                android:layout_height="fill_parent"
+                android:layout_weight="1" />
+            <CheckBox
+                android:id="@+id/SelectAllCheckbox"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:checkMark="?android:attr/listChoiceIndicatorMultiple"
+                android:ellipsize="marquee"
+                android:gravity="right"
+                android:layout_marginLeft="10dip"
+                android:visibility="gone"/>
         </LinearLayout>
     </LinearLayout>
     <ImageView android:id="@+id/titleDivider"
@@ -93,7 +103,7 @@
         </ScrollView>
     </LinearLayout>
 
-        <FrameLayout android:id="@+id/listViewPanel"
+    <FrameLayout android:id="@+id/listViewPanel"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
         android:layout_weight="100">
@@ -110,31 +120,42 @@
             android:paddingTop="0dip"
             android:paddingBottom="0dip" />
     </FrameLayout>
-        <ImageView android:id="@+id/bottomDivider"
-            android:layout_width="fill_parent"
-            android:layout_height="1dip"
-            android:scaleType="fitXY"
-            android:visibility="gone"
-            android:gravity="fill_horizontal"/> 
-        
-    <FrameLayout android:id="@+id/customPanel"
+	<ImageView android:id="@+id/bottomDivider"
+	    android:layout_width="fill_parent"
+	    android:layout_height="1dip"
+	    android:scaleType="fitXY"
+	    android:visibility="gone"
+	    android:gravity="fill_horizontal"/> 
+    
+    <LinearLayout android:id="@+id/customPanel"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
-        android:layout_weight="1">
-        <FrameLayout android:id="@+id/custom"
+        android:paddingTop="5dip"
+        android:paddingBottom="0dip"
+        android:paddingLeft="2dip"
+        android:paddingRight="2dip"
+        android:orientation="vertical">
+        <EditText android:id="@+id/filterTags"
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
-            android:paddingTop="5dip"
-            android:paddingBottom="0dip"
-            android:paddingLeft="2dip"
-            android:paddingRight="2dip"/>
-    </FrameLayout>
-        <ImageView android:id="@+id/bottomButtonDivider"
-            android:layout_width="fill_parent"
-            android:layout_height="1dip"
-            android:scaleType="fitXY"
-            android:visibility="gone"
-            android:gravity="fill_horizontal"/> 
+            android:hint="@string/filter_tags"
+            android:visibility="gone"/>
+    	<FrameLayout
+    	    android:layout_width="fill_parent"
+    	    android:layout_height="wrap_content"
+    	    android:layout_weight="1">
+    	    <FrameLayout android:id="@+id/custom"
+    	        android:layout_width="fill_parent"
+    	        android:layout_height="wrap_content"
+                android:layout_gravity="bottom"/>
+    	</FrameLayout>
+    </LinearLayout>
+    <ImageView android:id="@+id/bottomButtonDivider"
+        android:layout_width="fill_parent"
+        android:layout_height="1dip"
+        android:scaleType="fitXY"
+        android:visibility="gone"
+        android:gravity="fill_horizontal"/> 
         
         
     <LinearLayout android:id="@+id/buttonPanel"
@@ -146,7 +167,7 @@
         <LinearLayout
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
-        	android:layout_gravity="center"
+            android:layout_gravity="center"
             android:orientation="horizontal"
             android:paddingTop="2dip"
             android:paddingLeft="2dip"
@@ -161,24 +182,24 @@
                 android:layout_width="0dip"
                 android:layout_gravity="left"
                 android:layout_weight="1"
-				android:singleLine="true"
-				android:ellipsize="none"
+                android:singleLine="true"
+                android:ellipsize="none"
                 style="?android:attr/buttonStyleSmall"
                 android:layout_height="fill_parent" />
             <Button android:id="@+id/button3"
                 android:layout_width="0dip"
                 android:layout_gravity="center_horizontal"
                 android:layout_weight="1"
-				android:singleLine="true"
-				android:ellipsize="none"
+                android:singleLine="true"
+                android:ellipsize="none"
                 style="?android:attr/buttonStyleSmall"
                 android:layout_height="fill_parent" />
             <Button android:id="@+id/button2"
                 android:layout_width="0dip"
                 android:layout_gravity="right"
                 android:layout_weight="1"
-				android:singleLine="true"
-				android:ellipsize="none"
+                android:singleLine="true"
+                android:ellipsize="none"
                 style="?android:attr/buttonStyleSmall"
                 android:layout_height="fill_parent" />
             <LinearLayout android:id="@+id/rightSpacer"
@@ -188,4 +209,4 @@
                 android:orientation="horizontal"/>
         </LinearLayout>
      </LinearLayout>
-</LinearLayout>
+</LinearLayout>
\ No newline at end of file
diff --git a/res/values/02-strings.xml b/res/values/02-strings.xml
index 3e50b392cc77..13932e8ad674 100644
--- a/res/values/02-strings.xml
+++ b/res/values/02-strings.xml
@@ -28,9 +28,10 @@
 <string name="CardEditorNoteDeck">Note deck: %s</string>
 <string name="CardEditorModel">Note type: %s</string>
 <string name="CardEditorTags">Tags: %1$s</string>
-<string name="add_new_tag">Add new tag</string>
+<string name="add_new_filter_tags">Add/Filter tags</string>
 <string name="note_type">Note type</string>
 <string name="card_type">Card type</string>
+<string name="filter_tags">Filter tags</string>
 
 <string name="sdcard_missing_message">SD card is unavailable because it is being used as USB storage. Disconnect USB to access your decks.</string>
 
diff --git a/src/com/ichi2/anki/CardBrowser.java b/src/com/ichi2/anki/CardBrowser.java
index dcf86f4e3826..c3e84ec920ab 100644
--- a/src/com/ichi2/anki/CardBrowser.java
+++ b/src/com/ichi2/anki/CardBrowser.java
@@ -49,6 +49,9 @@
 import android.widget.AdapterView.OnItemSelectedListener;
 import android.widget.ArrayAdapter;
 import android.widget.BaseAdapter;
+
+import android.widget.CompoundButton;
+import android.widget.CompoundButton.OnCheckedChangeListener;
 import android.widget.ListView;
 import android.widget.Spinner;
 import android.widget.TextView;
@@ -95,6 +98,7 @@ public class CardBrowser extends ActionBarActivity implements ActionBar.OnNaviga
 
     private StyledProgressDialog mProgressDialog;
     private StyledOpenCollectionDialog mOpenCollectionDialog;
+    private StyledDialog mTagsDialog;
 
     public static Card sCardBrowserCard;
 
@@ -632,18 +636,24 @@ public void onClick(DialogInterface arg0, int which) {
                 builder.setTitle(R.string.studyoptions_limit_select_tags);
                 builder.setMultiChoiceItems(allTags, new boolean[allTags.length],
                         new DialogInterface.OnClickListener() {
-                    @Override
-                    public void onClick(DialogInterface dialog, int which) {
-                        String tag = allTags[which];
-                        if (mSelectedTags.contains(tag)) {
-                            Log.i(AnkiDroidApp.TAG, "unchecked tag: " + tag);
-                            mSelectedTags.remove(tag);
-                        } else {
-                            Log.i(AnkiDroidApp.TAG, "checked tag: " + tag);
-                            mSelectedTags.add(tag);
-                        }
-                    }
-                });
+                            @Override
+                            public void onClick(DialogInterface dialog, int which) {
+                                String tag = allTags[which];
+                                if (mSelectedTags.contains(tag)) {
+                                    Log.i(AnkiDroidApp.TAG, "unchecked tag: " + tag);
+                                    mSelectedTags.remove(tag);
+                                } else {
+                                    Log.i(AnkiDroidApp.TAG, "checked tag: " + tag);
+                                    mSelectedTags.add(tag);
+                                }
+                            }
+                        }, new OnCheckedChangeListener() {
+                            @Override
+                            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                                mTagsDialog.setItemListChecked(isChecked);
+                                mSelectedTags = new HashSet<String>(mTagsDialog.getCheckedItems());
+                            }
+                        });
                 builder.setPositiveButton(res.getString(R.string.select), new OnClickListener() {
                     @Override
                     public void onClick(DialogInterface dialog, int which) {
@@ -672,7 +682,8 @@ public void onCancel(DialogInterface dialog) {
                         mSelectedTags.clear();
                     }
                 });
-                dialog = builder.create();
+                mTagsDialog = builder.create();
+                dialog = mTagsDialog;
                 break;
         }
         return dialog;
@@ -728,6 +739,12 @@ public void onClick(DialogInterface dialog, int which) {
                             mSelectedTags.add(tag);
                         }
                     }
+                }, new OnCheckedChangeListener() {
+                    @Override
+                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                        mTagsDialog.setItemListChecked(isChecked);
+                        mSelectedTags = new HashSet<String>(mTagsDialog.getCheckedItems());
+                    }
                 });
                 break;
         }
diff --git a/src/com/ichi2/anki/CardEditor.java b/src/com/ichi2/anki/CardEditor.java
index 3cccf7911b45..194e5b00cb53 100644
--- a/src/com/ichi2/anki/CardEditor.java
+++ b/src/com/ichi2/anki/CardEditor.java
@@ -49,6 +49,8 @@
 import android.widget.AdapterView;
 import android.widget.AdapterView.OnItemClickListener;
 import android.widget.Button;
+import android.widget.CompoundButton;
+import android.widget.CompoundButton.OnCheckedChangeListener;
 import android.widget.EditText;
 import android.widget.FrameLayout;
 import android.widget.ImageView;
@@ -156,6 +158,7 @@ public class CardEditor extends ActionBarActivity {
     private Note mEditorNote;
     public static Card mCurrentEditedCard;
     private List<String> mCurrentTags;
+    private List<String> mSelectedTags;
     private long mCurrentDid;
 
     /* indicates if a new fact is added or a card is edited */
@@ -178,7 +181,6 @@ public class CardEditor extends ActionBarActivity {
     private StyledDialog mDeckSelectDialog;
 
     private String[] allTags;
-    private ArrayList<String> selectedTags;
     private EditText mNewTagEditText;
     private StyledDialog mTagsDialog;
 
@@ -900,14 +902,27 @@ protected Dialog onCreateDialog(int id) {
                 builder.setPositiveButton(res.getString(R.string.select), new OnClickListener() {
                     @Override
                     public void onClick(DialogInterface dialog, int which) {
-                        mCurrentTags = selectedTags;
+                        mCurrentTags = mTagsDialog.getCheckedItems();
                         updateTags();
                     }
                 });
                 builder.setNegativeButton(res.getString(R.string.cancel), null);
-
+                
                 mNewTagEditText = new EditText(this);
-                mNewTagEditText.setHint(R.string.add_new_tag);
+                mNewTagEditText.setHint(R.string.add_new_filter_tags);
+                
+                mNewTagEditText.addTextChangedListener(new TextWatcher() {
+                    @Override
+                    public void onTextChanged(CharSequence s, int start, int before, int count) {
+                        mTagsDialog.filterList(s.toString());
+                    }
+                    @Override
+                    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
+                    }
+                    @Override
+                    public void afterTextChanged(Editable s) {
+                    }
+                });
 
                 InputFilter filter = new InputFilter() {
                     @Override
@@ -934,7 +949,7 @@ public void onClick(View v) {
                                 mNewTagEditText.setText("");
                                 return;
                             }
-                            selectedTags.add(tag);
+                            mCurrentTags.add(tag);
                             actualizeTagDialog(mTagsDialog);
                             mNewTagEditText.setText("");
                         }
@@ -950,6 +965,14 @@ public void onClick(View v) {
                 frame.addView(mAddTextButton);
 
                 builder.setView(frame, false, true);
+                builder.setSelectAllListener(new OnCheckedChangeListener() {
+                    @Override
+                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                        mTagsDialog.setItemListChecked(isChecked);
+                        mCurrentTags = mTagsDialog.getCheckedItems();
+                    }
+                });
+                
                 dialog = builder.create();
                 mTagsDialog = dialog;
                 break;
@@ -1164,10 +1187,11 @@ protected void onPrepareDialog(int id, Dialog dialog) {
                     dialog = null;
                     return;
                 }
-                selectedTags = new ArrayList<String>();
-                for (String s : mEditorNote.getTags()) {
-                    selectedTags.add(s);
+
+                if (mSelectedTags == null) {
+                    mSelectedTags = new ArrayList<String>();
                 }
+                mCurrentTags = new ArrayList<String>(mSelectedTags);                
                 actualizeTagDialog(ad);
                 break;
 
@@ -1222,33 +1246,40 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
 
 
     private void actualizeTagDialog(StyledDialog ad) {
+        //without this the dialog goes up the screen in a way that the user isn't able to see the full item list.
+        ad.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
         TreeSet<String> tags = new TreeSet<String>(String.CASE_INSENSITIVE_ORDER);
         for (String tag : mCol.getTags().all()) {
             tags.add(tag);
         }
-        tags.addAll(selectedTags);
+        
+        tags.addAll(mCurrentTags);
         int len = tags.size();
         allTags = new String[len];
         boolean[] checked = new boolean[len];
         int i = 0;
         for (String t : tags) {
             allTags[i++] = t;
-            if (selectedTags.contains(t)) {
-                checked[i - 1] = true;
-            }
+            checked[i - 1] = mCurrentTags.contains(t);
         }
         ad.setMultiChoiceItems(allTags, checked, new DialogInterface.OnClickListener() {
             @Override
             public void onClick(DialogInterface arg0, int which) {
                 String tag = allTags[which];
-                if (selectedTags.contains(tag)) {
+                if (mCurrentTags.contains(tag)) {
                     Log.i(AnkiDroidApp.TAG, "unchecked tag: " + tag);
-                    selectedTags.remove(tag);
+                    mCurrentTags.remove(tag);
                 } else {
                     Log.i(AnkiDroidApp.TAG, "checked tag: " + tag);
-                    selectedTags.add(tag);
+                    mCurrentTags.add(tag);
                 }
             }
+        }, new OnCheckedChangeListener() {
+            @Override
+            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                mTagsDialog.setItemListChecked(isChecked);
+                mCurrentTags = mTagsDialog.getCheckedItems();
+            }
         });
     }
 
@@ -1297,8 +1328,7 @@ private void swapText(boolean reset) {
         if (targetText != null) {
             mEditFields.get(mTargetPosition).setText(targetText);
         }
-    }
-
+    }   
 
     private void populateEditFields() {
         mFieldsLayoutContainer.removeAllViews();
@@ -1446,6 +1476,7 @@ private void updateDeck() {
 
 
     private void updateTags() {
+        mSelectedTags = new ArrayList<String>(mCurrentTags);
         mTagsButton.setText(getResources().getString(R.string.CardEditorTags,
                 mCol.getTags().join(mCol.getTags().canonify(mCurrentTags)).trim().replace(" ", ", ")));
     }
diff --git a/src/com/ichi2/anki/StudyOptionsFragment.java b/src/com/ichi2/anki/StudyOptionsFragment.java
index f4825304b2f3..2ca503e27849 100644
--- a/src/com/ichi2/anki/StudyOptionsFragment.java
+++ b/src/com/ichi2/anki/StudyOptionsFragment.java
@@ -40,8 +40,10 @@
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.ViewGroup;
+import android.view.WindowManager;
 import android.view.ViewGroup.LayoutParams;
 import android.widget.Button;
+import android.widget.CompoundButton;
 import android.widget.EditText;
 import android.widget.ImageButton;
 import android.widget.LinearLayout;
@@ -127,6 +129,7 @@ public class StudyOptionsFragment extends Fragment {
     /** Alerts to inform the user about different situations */
     private StyledProgressDialog mProgressDialog;
     private StyledOpenCollectionDialog mOpenCollectionDialog;
+    private StyledDialog mTagsDialog;
 
     /**
      * UI elements for "Study Options" view
@@ -877,7 +880,6 @@ public void onClick(DialogInterface dialog, int which) {
                 }
 
                 Context context = getActivity().getBaseContext();
-
                 /*
                  * The following RadioButtons and RadioGroup are to select the category of cards
                  * to select for the Custom Study Deck (New, Due or All cards).
@@ -905,6 +907,12 @@ public void onClick(DialogInterface dialog, int which) {
                             mSelectedTags.add(tag);
                         }
                     }
+                }, new CompoundButton.OnCheckedChangeListener() {
+                    @Override
+                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                        mTagsDialog.setItemListChecked(isChecked);
+                        mSelectedTags = new HashSet<String>(mTagsDialog.getCheckedItems());
+                    }
                 });
 
                 /*
@@ -952,6 +960,7 @@ public void onClick(DialogInterface dialog, int which) {
                 builder1.setNegativeButton(res.getString(R.string.cancel), new OnClickListener() {
                     @Override
                     public void onClick(DialogInterface dialog, int which) {
+                        mTagsDialog.setItemListChecked(false);
                         mSelectedTags.clear();
                     }
                 });
@@ -959,11 +968,16 @@ public void onClick(DialogInterface dialog, int which) {
 
                     @Override
                     public void onCancel(DialogInterface dialog) {
+                        mTagsDialog.setItemListChecked(false);
                         mSelectedTags.clear();
                     }
                 });
+                builder1.setShowFilterTags(true);
 
-                dialog = builder1.create();
+                mTagsDialog = builder1.create();
+                dialog = mTagsDialog;
+                //without this the dialog goes up the screen in a way that the user isn't able to see the full item list.
+                mTagsDialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
                 break;
             case DIALOG_CUSTOM_STUDY_DETAILS:
                 /*
@@ -1013,7 +1027,7 @@ private RadioGroup formatRGCardType(Context context, Resources res){
         	radioButtonCards[i].setGravity(Gravity.CENTER_VERTICAL);
         	rg.addView(radioButtonCards[i], lp);
         }
-        rg.check(0);
+        radioButtonCards[0].setChecked(true);
 
         rg.setOnCheckedChangeListener(new OnCheckedChangeListener() {
             @Override
diff --git a/src/com/ichi2/themes/StyledDialog.java b/src/com/ichi2/themes/StyledDialog.java
index 43952fe50b52..9961e401af80 100644
--- a/src/com/ichi2/themes/StyledDialog.java
+++ b/src/com/ichi2/themes/StyledDialog.java
@@ -21,6 +21,8 @@
 import android.app.Dialog;
 import android.content.Context;
 import android.content.DialogInterface;
+import android.text.Editable;
+import android.text.TextWatcher;
 import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -30,6 +32,10 @@
 import android.widget.AdapterView.OnItemClickListener;
 import android.widget.ArrayAdapter;
 import android.widget.Button;
+import android.widget.CheckBox;
+import android.widget.CompoundButton.OnCheckedChangeListener;
+import android.widget.EditText;
+import android.widget.Filter.FilterListener;
 import android.widget.FrameLayout;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
@@ -52,7 +58,6 @@ public class StyledDialog extends Dialog {
     private ListView mListView;
     private boolean mDoNotShow = false;
 
-
     public StyledDialog(Context context) {
         super(context, R.style.StyledDialog);
         mContext = context;
@@ -119,6 +124,7 @@ private void setItems(int type, ListView listview, String[] values, int checkedI
                 @Override
                 public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                     mListener.onClick(StyledDialog.this, position);
+                    adjustSelectAllCheckBox();
                 }
             });
         } else {
@@ -187,12 +193,20 @@ public void addMultiChoiceItems(String value, boolean checked) {
     }
 
 
-    public void setMultiChoiceItems(String[] values, boolean[] checked, DialogInterface.OnClickListener listener) {
+    public void setMultiChoiceItems(String[] values, boolean[] checked, DialogInterface.OnClickListener listener,
+            OnCheckedChangeListener selectAllListener) {
         View main = super.getWindow().getDecorView();
         mCheckedItems = checked;
         ((View) main.findViewById(R.id.listViewPanel)).setVisibility(View.VISIBLE);
         setItems(3, (ListView) super.getWindow().getDecorView().findViewById(R.id.listview), values, 0, mCheckedItems,
                 listener);
+
+        if (selectAllListener != null) {
+            CheckBox selectAll = (CheckBox) main.findViewById(R.id.SelectAllCheckbox);
+            selectAll.setVisibility(View.VISIBLE);
+            selectAll.setTag(selectAllListener);
+            adjustSelectAllCheckBox();
+        }
     }
 
 
@@ -215,6 +229,76 @@ public void changeListItem(int position, String text) {
         mItemList.add(position, text);
         mListAdapter.notifyDataSetChanged();
     }
+    
+    public void setItemListChecked(boolean checked) {
+        for (int i = 0; i < mListView.getCount(); i++) {
+            mListView.setItemChecked(i, checked);
+        }
+    }
+
+    public ArrayList<String> getCheckedItems() {
+        updateCheckedItems();
+        ArrayList<String> selecteds = new ArrayList<String>();
+        for (int i = 0; i < mItemList.size(); i++) {
+            if (mCheckedItems[i])
+                selecteds.add(mItemList.get(i));
+        }
+        
+        return selecteds;
+    }
+
+    public void updateCheckedItems() {
+        if (mCheckedItems == null) {
+            mCheckedItems = new boolean[mItemList.size()];
+        }
+        for (int i = 0; i < mItemList.size(); i++) {
+            String item = mItemList.get(i);
+            boolean is_checked = false;
+            boolean is_showing = false;
+            for (int j = 0; j < mListView.getCount(); j++) {
+                String item_in_view = (String) mListView.getItemAtPosition(j);
+                if (item.equals(item_in_view)) {
+                    is_showing = true;
+                    is_checked = mListView.isItemChecked(j);
+                    break;
+                }
+            }
+            if (is_showing) {
+                mCheckedItems[i] = is_checked;
+            }
+        }
+    }
+
+    public void filterList(String str) {
+        filterList(str, null);
+    }
+    public void filterList(String str, final FilterListener listener) {
+        updateCheckedItems();
+        mListAdapter.getFilter().filter(str, new FilterListener() {
+            @Override
+            public void onFilterComplete(int count) {
+                for (int i = 0; i < mListView.getCount(); i++) {
+                    String item = (String) mListView.getItemAtPosition(i);
+                    mListView.setItemChecked(i, mCheckedItems[mItemList.indexOf(item)]);
+                }
+                adjustSelectAllCheckBox();
+            }
+        });
+    }
+    
+    private void adjustSelectAllCheckBox() {
+        boolean check = true;
+        for (int i = 0; i < mListView.getCount(); i++) {
+            if (!mListView.isItemChecked(i)) {
+                check = false;
+                break;
+            }
+        }
+        CheckBox selectAll = (CheckBox) findViewById(R.id.SelectAllCheckbox);
+        selectAll.setOnCheckedChangeListener(null);
+        selectAll.setChecked(check);
+        selectAll.setOnCheckedChangeListener((OnCheckedChangeListener) selectAll.getTag());
+    }
 
     public static class Builder {
 
@@ -235,6 +319,7 @@ public static class Builder {
         private DialogInterface.OnClickListener neutralButtonClickListener;
         private DialogInterface.OnCancelListener cancelListener;
         private DialogInterface.OnDismissListener dismissListener;
+        private OnCheckedChangeListener selectAllListener;
         private boolean cancelable = true;
 
         private String[] itemTitels;
@@ -242,6 +327,7 @@ public static class Builder {
         private boolean[] multipleCheckedItems;
         private int listStyle = 0;
         private DialogInterface.OnClickListener itemClickListener;
+        private boolean mShowFilterEditText = false;
 
 
         public Builder(Context context) {
@@ -434,6 +520,11 @@ public Builder setOnDismissListener(DialogInterface.OnDismissListener listener)
             this.dismissListener = listener;
             return this;
         }
+        
+        public Builder setSelectAllListener(OnCheckedChangeListener listener) {
+            this.selectAllListener = listener;
+            return this;
+        }
 
 
         public Builder setCancelable(boolean cancelable) {
@@ -459,15 +550,21 @@ public Builder setSingleChoiceItems(String[] values, int checked, DialogInterfac
         }
 
 
-        public Builder setMultiChoiceItems(String[] values, boolean[] checked, DialogInterface.OnClickListener listener) {
+        public Builder setMultiChoiceItems(String[] values, boolean[] checked, DialogInterface.OnClickListener listener,
+                OnCheckedChangeListener selectAllListener) {
             this.itemTitels = values;
             this.multipleCheckedItems = checked;
             this.itemClickListener = listener;
             this.listStyle = 3;
+            this.selectAllListener = selectAllListener;
             return this;
         }
 
-
+        public Builder setShowFilterTags(boolean show) {
+            mShowFilterEditText = show;
+            return this;
+        }
+        
         /**
          * Create the styled dialog
          */
@@ -570,6 +667,34 @@ public StyledDialog create() {
                         false);
                 return null;
             }
+            if (this.listStyle == 3 && selectAllListener != null) {
+                CheckBox selectAll = (CheckBox) layout.findViewById(R.id.SelectAllCheckbox);
+                selectAll.setVisibility(View.VISIBLE);
+                selectAll.setTag(selectAllListener);
+                dialog.adjustSelectAllCheckBox();
+            }
+
+            if (mShowFilterEditText) {
+                EditText filterTags = (EditText) layout.findViewById(R.id.filterTags);
+                filterTags.setVisibility(View.VISIBLE);
+                filterTags.addTextChangedListener(new TextWatcher() {
+                    @Override
+                    public void onTextChanged(CharSequence s, int start, int before, int count) {
+                        dialog.filterList(s.toString(), new FilterListener() {
+                            @Override
+                            public void onFilterComplete(int count) {
+                                dialog.adjustSelectAllCheckBox();
+                            }
+                        });
+                    }
+                    @Override
+                    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
+                    }
+                    @Override
+                    public void afterTextChanged(Editable s) {
+                    }
+                });
+            }
 
             dialog.setContentView(layout);
             return dialog;
