diff --git a/AnkiDroid/build.gradle b/AnkiDroid/build.gradle
index 05e25219ef0e..2a022815465b 100644
--- a/AnkiDroid/build.gradle
+++ b/AnkiDroid/build.gradle
@@ -312,7 +312,7 @@ dependencies {
     configurations.configureEach {
         resolutionStrategy {
             // Timber has this as a dependency but they are not up to date. We want to force our version.
-            force 'org.jetbrains:annotations:24.1.0'
+            force libs.jetbrains.annotations
         }
     }
     api project(":api")
diff --git a/AnkiDroid/src/main/AndroidManifest.xml b/AnkiDroid/src/main/AndroidManifest.xml
index c051cf5a9d90..fce8900af1f8 100644
--- a/AnkiDroid/src/main/AndroidManifest.xml
+++ b/AnkiDroid/src/main/AndroidManifest.xml
@@ -566,7 +566,7 @@
         </activity>
 
         <receiver android:name="com.ichi2.widget.WidgetPermissionReceiver"
-            android:exported="true">
+            android:exported="false">
             <intent-filter>
                 <action android:name="com.ichi2.widget.UPDATE_WIDGET" />
             </intent-filter>
@@ -661,6 +661,7 @@
             android:authorities="${applicationId}.flashcards"
             android:enabled="true"
             android:exported="true"
+            tools:ignore="ExportedContentProvider"
             >
             <meta-data android:name="com.ichi2.anki.provider.spec" android:value="2" />
         </provider>
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.kt
index 4b3630a8d734..b86d1b22493b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.kt
@@ -34,7 +34,6 @@ import androidx.annotation.UiThread
 import androidx.appcompat.app.ActionBar
 import androidx.appcompat.app.AppCompatActivity
 import androidx.appcompat.app.AppCompatDelegate
-import androidx.appcompat.widget.ThemeUtils
 import androidx.appcompat.widget.Toolbar
 import androidx.browser.customtabs.CustomTabColorSchemeParams
 import androidx.browser.customtabs.CustomTabsIntent.COLOR_SCHEME_DARK
@@ -622,7 +621,7 @@ open class AnkiActivity : AppCompatActivity, SimpleMessageDialogListener, Shortc
 
     /** @see Window.setNavigationBarColor */
     fun setNavigationBarColor(@AttrRes attr: Int) {
-        window.navigationBarColor = ThemeUtils.getThemeAttrColor(this, attr)
+        window.navigationBarColor = Themes.getColorFromAttr(this, attr)
     }
 
     fun closeCollectionAndFinish() {
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiFragment.kt
index e92a52ca0762..8acae5051d9f 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiFragment.kt
@@ -24,13 +24,13 @@ import androidx.annotation.AttrRes
 import androidx.annotation.IdRes
 import androidx.annotation.LayoutRes
 import androidx.annotation.StringRes
-import androidx.appcompat.widget.ThemeUtils
 import androidx.appcompat.widget.Toolbar
 import androidx.fragment.app.DialogFragment
 import androidx.fragment.app.Fragment
 import com.ichi2.async.CollectionLoader
 import com.ichi2.compat.CompatV24
 import com.ichi2.libanki.Collection
+import com.ichi2.themes.Themes
 import com.ichi2.utils.increaseHorizontalPaddingOfOverflowMenuIcons
 import com.ichi2.utils.tintOverflowMenuIcons
 import timber.log.Timber
@@ -69,7 +69,7 @@ open class AnkiFragment(@LayoutRes layout: Int) : Fragment(layout), AnkiActivity
     }
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
-        requireActivity().window.statusBarColor = ThemeUtils.getThemeAttrColor(requireContext(), R.attr.appBarColor)
+        requireActivity().window.statusBarColor = Themes.getColorFromAttr(requireContext(), R.attr.appBarColor)
         super.onViewCreated(view, savedInstanceState)
     }
 
@@ -97,7 +97,8 @@ open class AnkiFragment(@LayoutRes layout: Int) : Fragment(layout), AnkiActivity
     protected suspend fun userAcceptsSchemaChange() = ankiActivity.userAcceptsSchemaChange()
 
     fun setNavigationBarColor(@AttrRes attr: Int) {
-        requireActivity().window.navigationBarColor = ThemeUtils.getThemeAttrColor(requireContext(), attr)
+        requireActivity().window.navigationBarColor =
+            Themes.getColorFromAttr(requireContext(), attr)
     }
 
     /**
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
index c4154b093914..cc909000b568 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
@@ -49,7 +49,6 @@ import androidx.annotation.ColorInt
 import androidx.annotation.MainThread
 import androidx.annotation.VisibleForTesting
 import androidx.appcompat.widget.SearchView
-import androidx.appcompat.widget.ThemeUtils
 import androidx.lifecycle.ViewModelProvider
 import androidx.lifecycle.lifecycleScope
 import anki.collection.OpChanges
@@ -131,6 +130,7 @@ import com.ichi2.libanki.Utils
 import com.ichi2.libanki.stripAvRefs
 import com.ichi2.libanki.undoableOp
 import com.ichi2.libanki.utils.TimeManager
+import com.ichi2.themes.Themes
 import com.ichi2.ui.CardBrowserSearchView
 import com.ichi2.ui.FixedTextView
 import com.ichi2.utils.HandlerUtils
@@ -2173,7 +2173,7 @@ open class CardBrowser :
             } else {
                 android.R.attr.colorBackground
             }
-            return ThemeUtils.getThemeAttrColor(context, colorAttr)
+            return Themes.getColorFromAttr(context, colorAttr)
         }
 
         fun getColumnHeaderText(key: CardBrowserColumn?): String? {
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.kt b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.kt
index dd7662c9f3e9..40402d322bcb 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.kt
@@ -39,7 +39,6 @@ import androidx.annotation.CheckResult
 import androidx.annotation.StringRes
 import androidx.annotation.VisibleForTesting
 import androidx.appcompat.app.AlertDialog
-import androidx.appcompat.widget.ThemeUtils
 import androidx.core.view.MenuHost
 import androidx.core.view.MenuProvider
 import androidx.core.view.ViewCompat
@@ -83,6 +82,7 @@ import com.ichi2.libanki.NotetypeJson
 import com.ichi2.libanki.Notetypes
 import com.ichi2.libanki.Notetypes.Companion.NOT_FOUND_NOTE_TYPE
 import com.ichi2.libanki.exception.ConfirmModSchemaException
+import com.ichi2.themes.Themes
 import com.ichi2.ui.FixedEditText
 import com.ichi2.ui.FixedTextView
 import com.ichi2.utils.KotlinCleanup
@@ -206,7 +206,7 @@ open class CardTemplateEditor : AnkiActivity(), DeckSelectionListener {
                 tags = note.tags,
                 fillEmpty = true
             )
-            val backgroundColor = ThemeUtils.getThemeAttrColor(this@CardTemplateEditor, R.attr.alternativeBackgroundColor)
+            val backgroundColor = Themes.getColorFromAttr(this@CardTemplateEditor, R.attr.alternativeBackgroundColor)
             val fragment = TemplatePreviewerFragment.newInstance(args, backgroundColor)
             supportFragmentManager.commitNow {
                 replace(R.id.fragment_container, fragment)
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Info.kt b/AnkiDroid/src/main/java/com/ichi2/anki/Info.kt
index 58a7caec61f2..ab1ea659e8a5 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Info.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Info.kt
@@ -27,11 +27,11 @@ import android.webkit.WebResourceRequest
 import android.webkit.WebView
 import android.webkit.WebViewClient
 import androidx.activity.OnBackPressedCallback
-import androidx.appcompat.widget.ThemeUtils
 import com.google.android.material.button.MaterialButton
 import com.ichi2.anki.preferences.sharedPrefs
 import com.ichi2.anki.snackbar.BaseSnackbarBuilderProvider
 import com.ichi2.anki.snackbar.SnackbarBuilder
+import com.ichi2.themes.Themes
 import com.ichi2.utils.IntentUtil.canOpenIntent
 import com.ichi2.utils.IntentUtil.tryOpenIntent
 import com.ichi2.utils.VersionUtils.appName
@@ -102,7 +102,7 @@ class Info : AnkiActivity(), BaseSnackbarBuilderProvider {
         val backgroundColor = typedArray.getColor(0, -1)
         val textColor = typedArray.getColor(1, -1).toRGBHex()
 
-        val anchorTextThemeColor = ThemeUtils.getThemeAttrColor(this, android.R.attr.colorAccent)
+        val anchorTextThemeColor = Themes.getColorFromAttr(this, android.R.attr.colorAccent)
         val anchorTextColor = anchorTextThemeColor.toRGBHex()
 
         webView.setBackgroundColor(backgroundColor)
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
index 94a82bbf944f..3e2b981b4a14 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.kt
@@ -176,7 +176,7 @@ abstract class NavigationDrawerActivity :
         drawerLayout.addDrawerListener(drawerToggle)
 
         enablePostShortcut(this)
-        val intent = Intent("com.ichi2.widget.UPDATE_WIDGET")
+        val intent = Intent("com.ichi2.widget.UPDATE_WIDGET").setClassName("com.ichi2.widget", "WidgetPermissionReceiver")
         this.sendBroadcast(intent)
     }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
index 43d450a9bcc9..8ab9d2b1490b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
@@ -850,7 +850,7 @@ class NoteEditor : AnkiFragment(R.layout.note_editor), DeckSelectionListener, Su
         val photoFile: File? = try {
             requireContext().createImageFile()
         } catch (e: Exception) {
-            Timber.w("Error creating the file", e)
+            Timber.w(e, "Error creating the file")
             return
         }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
index 11fb3f1dfca4..49bef60f6fa0 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
@@ -225,11 +225,7 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
 
                 // Return if mDownloadId does not match with the ID of the completed download.
                 if (downloadId != intent?.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, 0)) {
-                    Timber.w(
-                        "Download ID did not match with the ID of the completed download. " +
-                            "Download completion related to some other download might have been received. " +
-                            "Deck download might still be going on, when it completes then the method would be called again."
-                    )
+                    Timber.w("Download id did not match expected id. Ignoring this download completion")
                     return false
                 }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/cardviewer/CardMediaPlayer.kt b/AnkiDroid/src/main/java/com/ichi2/anki/cardviewer/CardMediaPlayer.kt
index 194ba916991a..dae409119316 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/cardviewer/CardMediaPlayer.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/cardviewer/CardMediaPlayer.kt
@@ -305,7 +305,7 @@ class CardMediaPlayer : Closeable {
                     } catch (e: CancellationException) {
                         throw e
                     } catch (e: Exception) {
-                        Timber.w("retry audio failed", e)
+                        Timber.w(e, "retry audio failed")
                     }
                 }
             }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/jsaddons/TgzPackageExtract.kt b/AnkiDroid/src/main/java/com/ichi2/anki/jsaddons/TgzPackageExtract.kt
index 2a91de84d002..1fe0a5a0669e 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/jsaddons/TgzPackageExtract.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/jsaddons/TgzPackageExtract.kt
@@ -379,7 +379,7 @@ class TgzPackageExtract(private val context: Context) {
         companion object {
             fun throwIfInsufficientSpace(context: Context, requiredMinSpace: Long, availableSpace: Long) {
                 if (requiredMinSpace > availableSpace) {
-                    Timber.w("Not enough space, need %d, available %d", Formatter.formatFileSize(context, requiredMinSpace), Formatter.formatFileSize(context, availableSpace))
+                    Timber.w("Not enough space, need %s, available %s", Formatter.formatFileSize(context, requiredMinSpace), Formatter.formatFileSize(context, availableSpace))
                     throw InsufficientSpaceException(requiredMinSpace, availableSpace, context)
                 }
             }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/multimedia/MultimediaImageFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/multimedia/MultimediaImageFragment.kt
index fa71e59beb42..06676d0666cf 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/multimedia/MultimediaImageFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/multimedia/MultimediaImageFragment.kt
@@ -336,7 +336,7 @@ class MultimediaImageFragment : MultimediaFragment(R.layout.fragment_multimedia_
         val photoFile: File? = try {
             requireContext().createImageFile()
         } catch (e: Exception) {
-            Timber.w("Error creating the file", e)
+            Timber.w(e, "Error creating the file")
             return
         }
 
@@ -497,7 +497,7 @@ class MultimediaImageFragment : MultimediaFragment(R.layout.fragment_multimedia_
         Timber.w(error, "cropImage threw an error")
         // condition can be removed if #12768 get fixed by Canhub
         if (error is CropException.Cancellation) {
-            Timber.i("CropException caught, seemingly nothing to do ", error)
+            Timber.i(error, "CropException caught, seemingly nothing to do ")
         } else {
             showErrorDialog(resources.getString(R.string.activity_result_unexpected))
             CrashReportService.sendExceptionReport(
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/multimediacard/activity/PickStringDialogFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/multimediacard/activity/PickStringDialogFragment.kt
index fb4d2b3d71a5..bf27b5fdae06 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/multimediacard/activity/PickStringDialogFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/multimediacard/activity/PickStringDialogFragment.kt
@@ -19,7 +19,6 @@
 
 package com.ichi2.anki.multimediacard.activity
 
-import android.R
 import android.app.Dialog
 import android.content.DialogInterface
 import android.os.Bundle
@@ -44,7 +43,7 @@ class PickStringDialogFragment : DialogFragment() {
         builder.setTitle(title)
         val adapter = ArrayAdapter(
             requireActivity(),
-            R.layout.simple_list_item_1,
+            android.R.layout.simple_list_item_1,
             possibleChoices!!
         )
         builder.setAdapter(adapter, listener)
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/pages/PageChromeClient.kt b/AnkiDroid/src/main/java/com/ichi2/anki/pages/PageChromeClient.kt
index db50b9a958cd..4ec2efce703b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/pages/PageChromeClient.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/pages/PageChromeClient.kt
@@ -70,7 +70,7 @@ open class PageChromeClient : WebChromeClient() {
                 cancelable(false)
             }
         } catch (e: WindowManager.BadTokenException) {
-            Timber.w("onJsConfirm", e)
+            Timber.w(e, "onJsConfirm")
             return false // unhandled - shown in WebView
         }
         return true
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/previewer/CardViewerActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/previewer/CardViewerActivity.kt
index aab84baf3e7b..7049f34f58f2 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/previewer/CardViewerActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/previewer/CardViewerActivity.kt
@@ -19,11 +19,11 @@ import android.content.Context
 import android.content.Intent
 import android.os.Bundle
 import androidx.activity.enableEdgeToEdge
-import androidx.appcompat.widget.ThemeUtils
 import androidx.fragment.app.Fragment
 import com.ichi2.anki.R
 import com.ichi2.anki.SingleFragmentActivity
 import com.ichi2.anki.utils.navBarNeedsScrim
+import com.ichi2.themes.Themes
 import kotlin.reflect.KClass
 import kotlin.reflect.jvm.jvmName
 
@@ -39,7 +39,7 @@ class CardViewerActivity : SingleFragmentActivity() {
         // use the screen background color if the nav bar doesn't need a scrim when using a
         // transparent background. e.g. when navigation gestures are enabled
         if (!navBarNeedsScrim) {
-            window.navigationBarColor = ThemeUtils.getThemeAttrColor(this, R.attr.alternativeBackgroundColor)
+            window.navigationBarColor = Themes.getColorFromAttr(this, R.attr.alternativeBackgroundColor)
         }
     }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/previewer/PreviewerHelpers.kt b/AnkiDroid/src/main/java/com/ichi2/anki/previewer/PreviewerHelpers.kt
index 115884aeed21..5f51e8061ee9 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/previewer/PreviewerHelpers.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/previewer/PreviewerHelpers.kt
@@ -15,7 +15,6 @@
  */
 package com.ichi2.anki.previewer
 
-import android.R
 import android.content.Context
 import com.google.android.material.color.MaterialColors
 import com.ichi2.anki.AnkiDroidApp
@@ -50,20 +49,20 @@ fun stdHtml(
     val colors = if (!nightMode) {
         val canvasColor = MaterialColors.getColor(
             context,
-            R.attr.colorBackground,
-            R.color.white
+            android.R.attr.colorBackground,
+            android.R.color.white
         ).toRGBHex()
         val fgColor =
-            MaterialColors.getColor(context, R.attr.textColor, R.color.black).toRGBHex()
+            MaterialColors.getColor(context, android.R.attr.textColor, android.R.color.black).toRGBHex()
         ":root { --canvas: $canvasColor ; --fg: $fgColor; }"
     } else {
         val canvasColor = MaterialColors.getColor(
             context,
-            R.attr.colorBackground,
-            R.color.black
+            android.R.attr.colorBackground,
+            android.R.color.black
         ).toRGBHex()
         val fgColor =
-            MaterialColors.getColor(context, R.attr.textColor, R.color.white).toRGBHex()
+            MaterialColors.getColor(context, android.R.attr.textColor, android.R.color.white).toRGBHex()
         ":root[class*=night-mode] { --canvas: $canvasColor; --fg: $fgColor; }"
     }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/reviewer/AnswerButtons.kt b/AnkiDroid/src/main/java/com/ichi2/anki/reviewer/AnswerButtons.kt
index 01e5d4262c10..9a49cf9bf316 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/reviewer/AnswerButtons.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/reviewer/AnswerButtons.kt
@@ -101,7 +101,7 @@ enum class AnswerButtons {
         }
 
         fun getTextColors(ctx: Context): IntArray {
-            return Themes.getColorFromAttr(
+            return Themes.getColorsFromAttrs(
                 ctx,
                 intArrayOf(
                     R.attr.againButtonTextColor,
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/services/BootService.kt b/AnkiDroid/src/main/java/com/ichi2/anki/services/BootService.kt
index 199cddc0764e..329538fd6da4 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/services/BootService.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/services/BootService.kt
@@ -23,6 +23,10 @@ import java.util.Calendar
 class BootService : BroadcastReceiver() {
     private var failedToShowNotifications = false
     override fun onReceive(context: Context, intent: Intent) {
+        if (!intent.action.equals("android.intent.action.BOOT_COMPLETED")) {
+            Timber.w("BootService - unexpected action received, ignoring: %s", intent.action)
+            return
+        }
         if (sWasRun) {
             Timber.d("BootService - Already run")
             return
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/widgets/DeckAdapter.kt b/AnkiDroid/src/main/java/com/ichi2/anki/widgets/DeckAdapter.kt
index 9010cd9dc9a4..157580b4ca01 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/widgets/DeckAdapter.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/widgets/DeckAdapter.kt
@@ -295,7 +295,7 @@ class DeckAdapter(private val layoutInflater: LayoutInflater, context: Context)
     inner class DeckFilter(private val top: DeckNode) : Filter() {
         override fun performFiltering(constraint: CharSequence?): FilterResults {
             val out = top.filterAndFlatten(constraint)
-            Timber.i("deck filter: %d", out.size, constraint)
+            Timber.i("deck filter: %d (%s)", out.size, constraint)
             return FilterResults().also {
                 it.values = out
                 it.count = out.size
diff --git a/AnkiDroid/src/main/java/com/ichi2/compat/CompatV24.kt b/AnkiDroid/src/main/java/com/ichi2/compat/CompatV24.kt
index e4220fca35a5..6e24760c8ec4 100644
--- a/AnkiDroid/src/main/java/com/ichi2/compat/CompatV24.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/compat/CompatV24.kt
@@ -48,7 +48,7 @@ open class CompatV24 : CompatV23() {
             val uLocale = ULocale(locale.language, locale.country, locale.variant)
             Locale(uLocale.language, uLocale.country, uLocale.variant)
         } catch (e: Exception) {
-            Timber.w("Failed to normalize locale %s", locale, e)
+            Timber.w(e, "Failed to normalize locale %s", locale)
             locale
         }
     }
diff --git a/AnkiDroid/src/main/java/com/ichi2/themes/Themes.kt b/AnkiDroid/src/main/java/com/ichi2/themes/Themes.kt
index e019e56b023e..a4e771cffda5 100644
--- a/AnkiDroid/src/main/java/com/ichi2/themes/Themes.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/themes/Themes.kt
@@ -23,11 +23,9 @@ import android.content.SharedPreferences
 import android.content.res.Configuration
 import android.graphics.Color
 import android.graphics.drawable.ColorDrawable
-import androidx.annotation.AttrRes
 import androidx.annotation.ColorInt
 import androidx.appcompat.app.AppCompatDelegate
 import androidx.core.view.WindowInsetsControllerCompat
-import androidx.fragment.app.Fragment
 import androidx.fragment.app.FragmentActivity
 import com.google.android.material.color.MaterialColors
 import com.ichi2.anki.AnkiDroidApp
@@ -115,21 +113,17 @@ object Themes {
 
     @JvmStatic // tests failed when removing, maybe try later
     @ColorInt
-    fun getColorFromAttr(context: Context, attrs: IntArray): IntArray {
-        val ta = context.obtainStyledAttributes(attrs)
-        for (i in attrs.indices) {
-            attrs[i] = ta.getColor(i, context.getColor(R.color.white))
-        }
-        ta.recycle()
-        return attrs
+    fun getColorFromAttr(context: Context, attr: Int): Int {
+        return MaterialColors.getColor(context, attr, 0)
     }
 
-    /**
-     * @return required color depending on the theme from the given attribute
-     */
+    @JvmStatic // tests failed when removing, maybe try later
     @ColorInt
-    fun Fragment.getColorFromAttr(@AttrRes attribute: Int): Int {
-        return MaterialColors.getColor(requireContext(), attribute, 0)
+    fun getColorsFromAttrs(context: Context, attrs: IntArray): IntArray {
+        for (i in attrs.indices) {
+            attrs[i] = getColorFromAttr(context, attrs[i])
+        }
+        return attrs
     }
 
     /**
diff --git a/AnkiDroid/src/main/java/com/ichi2/utils/SyncStatus.kt b/AnkiDroid/src/main/java/com/ichi2/utils/SyncStatus.kt
index 72eb64ef2144..791aa4ef96f7 100644
--- a/AnkiDroid/src/main/java/com/ichi2/utils/SyncStatus.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/utils/SyncStatus.kt
@@ -55,7 +55,7 @@ enum class SyncStatus {
             } catch (_: BackendNetworkException) {
                 NO_CHANGES
             } catch (e: Exception) {
-                Timber.d("error obtaining sync status: collection likely closed", e)
+                Timber.d(e, "error obtaining sync status: collection likely closed")
                 ERROR
             }
         }
diff --git a/AnkiDroid/src/main/java/com/ichi2/utils/ViewGroupUtils.kt b/AnkiDroid/src/main/java/com/ichi2/utils/ViewGroupUtils.kt
index e5f22f1d5d09..f645af245475 100644
--- a/AnkiDroid/src/main/java/com/ichi2/utils/ViewGroupUtils.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/utils/ViewGroupUtils.kt
@@ -16,7 +16,6 @@
 
 package com.ichi2.utils
 
-import android.R
 import android.app.Activity
 import android.view.View
 import android.view.ViewGroup
@@ -62,7 +61,7 @@ object ViewGroupUtils {
      * @param activity Activity containing the View hierarchy to alter
      */
     private fun setContentViewLayerTypeSoftware(activity: Activity) {
-        val rootViewGroup = (activity.findViewById<View>(R.id.content) as ViewGroup)
+        val rootViewGroup = (activity.findViewById<View>(android.R.id.content) as ViewGroup)
             .getChildAt(0) as ViewGroup
         val allViews = getAllChildrenRecursive(rootViewGroup)
         allViews.add(rootViewGroup)
diff --git a/AnkiDroid/src/main/java/com/ichi2/widget/WidgetStatus.kt b/AnkiDroid/src/main/java/com/ichi2/widget/WidgetStatus.kt
index adbba81e2116..6966901bd9f7 100644
--- a/AnkiDroid/src/main/java/com/ichi2/widget/WidgetStatus.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/widget/WidgetStatus.kt
@@ -65,7 +65,7 @@ object WidgetStatus {
             try {
                 updateStatus(context)
             } catch (exc: java.lang.Exception) {
-                Timber.w("failure in widget update: %s", exc)
+                Timber.w(exc, "failure in widget update")
             }
         }
     }
diff --git a/AnkiDroid/src/main/res/drawable/edit_text_color_enabled_selector.xml b/AnkiDroid/src/main/res/drawable/edit_text_color_enabled_selector.xml
deleted file mode 100644
index ada52ef8a461..000000000000
--- a/AnkiDroid/src/main/res/drawable/edit_text_color_enabled_selector.xml
+++ /dev/null
@@ -1,23 +0,0 @@
-<!--
-  ~  Copyright (c) 2021 David Allison <davidallisongithub@gmail.com>
-  ~
-  ~  This program is free software; you can redistribute it and/or modify it under
-  ~  the terms of the GNU General Public License as published by the Free Software
-  ~  Foundation; either version 3 of the License, or (at your option) any later
-  ~  version.
-  ~
-  ~  This program is distributed in the hope that it will be useful, but WITHOUT ANY
-  ~  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
-  ~  PARTICULAR PURPOSE. See the GNU General Public License for more details.
-  ~
-  ~  You should have received a copy of the GNU General Public License along with
-  ~  this program.  If not, see <http://www.gnu.org/licenses/>.
-  -->
-
-<!-- Usage: apply to an EditText:
-    android:textColor="@drawable/edit_text_color_enabled_selector"
--->
-<selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_enabled="false" android:color="?attr/editTextDisabled"/>
-    <item android:color="?attr/editTextColor"/>
-</selector>
\ No newline at end of file
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 517677d49a7b..60891d150972 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -51,7 +51,6 @@ androidxViewpager2 = "1.1.0"
 androidxWebkit = "1.12.1"
 # https://developer.android.com/jetpack/androidx/releases/work
 androidxWork = "2.9.1"
-annotations = "26.0.1"
 ankiBackend = '0.1.43-anki24.06.3'
 autoService = "1.1.1"
 autoServiceAnnotations = "1.1.1"
@@ -73,6 +72,7 @@ mikehardyGoogleAnalyticsJava7 = "2.0.13"
 hamcrest = "3.0"
 imageCropper = "4.6.0"
 javaSemver = "0.10.2"
+jetbrainsAnnotations = "26.0.1"
 json = "20240303"
 jsoup = "1.18.1"
 androidTestJunit = "1.2.1"
@@ -132,7 +132,7 @@ androidx-sqlite-framework = { module = "androidx.sqlite:sqlite-framework", versi
 androidx-recyclerview = { module = "androidx.recyclerview:recyclerview", version.ref = "androidxRecyclerview" }
 auto-service = { module = "com.google.auto.service:auto-service", version.ref = "autoService" }
 auto-service-annotations = { module = "com.google.auto.service:auto-service-annotations", version.ref = "autoServiceAnnotations" }
-jetbrains-annotations = { module = "org.jetbrains:annotations", version.ref = "annotations" }
+jetbrains-annotations = { module = "org.jetbrains:annotations", version.ref = "jetbrainsAnnotations" }
 colorpicker = { module = "com.github.mrudultora:Colorpicker", version.ref = "colorpicker" }
 commons-io = { module = "commons-io:commons-io", version.ref = "commonsIo" }
 commons-collections4 = { module = "org.apache.commons:commons-collections4", version.ref = "commonsCollections4" }
diff --git a/lint-release.xml b/lint-release.xml
index b4c5db7ac5f9..949cbac49f6d 100644
--- a/lint-release.xml
+++ b/lint-release.xml
@@ -28,12 +28,6 @@
     <issue id="StringFormatMatches" severity="fatal" />
     <issue id="StringFormatInvalid" severity="fatal" />
     <issue id="UnusedResources" severity="fatal">
-        <!-- Ignore as they'll be used for #7526 -->
-        <ignore regexp="content_picture\.png|device_access_mic\.png" />
-        <!-- Remove once #6772 is complete -->
-        <ignore regexp="edit_text_color_enabled_selector\.xml" />
-        <ignore regexp="multiline_spinner_item\.xml" />
-        <!-- end: Remove once #6772 is complete -->
         <ignore path="res/values/12-dont-translate.xml" />
         <!-- Ignore all translations except values - CrowdIn will handle deletions -->
         <!-- We only need to handle -af and all others are implicitly ignored -->
@@ -163,6 +157,38 @@
 
     <issue id="MonochromeLauncherIcon" severity="fatal" />
 
+    <issue id="ExpiredTargetSdkVersion" severity="fatal" />
+    <issue id="ObsoleteLintCustomCheck" severity="fatal" />
+    <issue id="UnusedQuantity" severity="fatal" />
+    <issue id="MissingQuantity" severity="fatal" />
+    <issue id="ExportedPreferenceActivity" severity="fatal" />
+    <issue id="PrivateApi" severity="fatal" />
+    <issue id="ProguardSplit" severity="fatal" />
+    <issue id="Proguard" severity="fatal" />
+    <issue id="UsingHttp" severity="fatal" />
+    <issue id="AaptCrash" severity="fatal" />
+    <issue id="SdCardPath" severity="fatal" />
+    <issue id="SecureRandom" severity="fatal" />
+    <issue id="TrulyRandom" severity="fatal" />
+    <issue id="ExportedService" severity="fatal" />
+    <issue id="SetWorldReadable" severity="fatal" />
+    <issue id="SetWorldWritable" severity="fatal" />
+    <issue id="GrantAllUris" severity="fatal" />
+    <issue id="WorldReadableFiles" severity="fatal" />
+    <issue id="WorldWriteableFiles" severity="fatal" />
+    <issue id="WifiManagerLeak" severity="fatal" />
+    <issue id="WifiManagerPotentialLeak" severity="fatal" />
+    <issue id="SignatureOrSystemPermissions" severity="fatal" />
+    <issue id="SQLiteString" severity="fatal" />
+    <issue id="SSLCertificateSocketFactoryCreateSocket" severity="fatal" />
+    <issue id="SSLCertificateSocketFactoryGetInsecure" severity="fatal" />
+    <issue id="StateListReachable" severity="fatal" />
+    <issue id="AuthLeak" severity="fatal" />
+    <issue id="UseCheckPermission" severity="fatal" />
+    <issue id="UnprotectedSMSBroadcastReceiver" severity="fatal" />
+    <issue id="WrongFolder" severity="fatal" />
+    <issue id="CustomX509TrustManager" severity="fatal" />
+
     <!-- this is temporary - needed to work with android gradle plugin 8.1 -->
     <!-- ideally commits to fix this are completed, such as in https://github.com/ankidroid/Anki-Android/pull/14158 -->
     <issue id="UnspecifiedRegisterReceiverFlag" severity="ignore" />
@@ -170,21 +196,12 @@
     <!-- this is new with AGP7.1+, does not appear to create value -->
     <issue id="IntentFilterUniqueDataAttributes" severity="ignore" />
 
-    <!-- We cannot move to targetSdk 30+ yet: https://github.com/ankidroid/Anki-Android/issues/7348 -->
-    <issue id="ExpiredTargetSdkVersion" severity="ignore" />
-
     <!-- cannot enable play store language downloads until ABB used vs APK: https://github.com/ankidroid/Anki-Android/issues/9259 -->
     <issue id="AppBundleLocaleChanges" severity="ignore" />
 
     <!-- RtlSymmetry is disabled because we already have RtlHardcoded rule enabled -->
     <issue id="RtlSymmetry" severity="ignore" />
 
-    <!-- Allows Timber issues defined for AnkiDroid without an api dependency on Timber -->
-    <issue id="UnknownIssueId" severity="ignore" />
-
-    <!-- Temporarily allows obsolete lint until https://issuetracker.google.com/issues/206855622 is resolved upstream -->
-    <issue id="ObsoleteLintCustomCheck" severity="ignore" />
-
     <issue id="UseCompatTextViewDrawableXml" severity="ignore" />
     <issue id="AcceptsUserCertificates" severity="ignore" />
     <issue id="Autofill" severity="ignore" />
@@ -379,17 +396,11 @@
     <issue id="DalvikOverride" severity="ignore" />
     <issue id="OverrideAbstract" severity="ignore" />
     <issue id="ParcelCreator" severity="ignore" />
-    <issue id="UnusedQuantity" severity="ignore" />
-    <issue id="MissingQuantity" severity="ignore" />
+    <!-- ImpliedQuantity: 03-dialogs should be tools:ignore, 07-dialogs has actual problems -->
     <issue id="ImpliedQuantity" severity="ignore" />
-    <issue id="ExportedPreferenceActivity" severity="ignore" />
-    <issue id="PrivateApi" severity="ignore" />
     <issue id="PackagedPrivateKey" severity="ignore" />
     <issue id="PrivateResource" severity="ignore" />
-    <issue id="ProguardSplit" severity="ignore" />
-    <issue id="Proguard" severity="ignore" />
     <issue id="PropertyEscape" severity="ignore" />
-    <issue id="UsingHttp" severity="ignore" />
     <issue id="SpUsage" severity="ignore" />
     <issue id="InOrMmUsage" severity="ignore" />
     <issue id="PxUsage" severity="ignore" />
@@ -400,34 +411,13 @@
     <issue id="Registered" severity="ignore" />
     <issue id="RelativeOverlap" severity="ignore" />
     <issue id="RequiredSize" severity="ignore" />
-    <issue id="AaptCrash" severity="ignore" />
     <issue id="ResourceCycle" severity="ignore" />
     <issue id="ResourceName" severity="ignore" />
     <issue id="ValidRestrictions" severity="ignore" />
     <issue id="ScrollViewSize" severity="ignore" />
-    <issue id="SdCardPath" severity="ignore" />
-    <issue id="SecureRandom" severity="ignore" />
-    <issue id="TrulyRandom" severity="ignore" />
-    <issue id="ExportedContentProvider" severity="ignore" />
-    <issue id="ExportedReceiver" severity="ignore" />
-    <issue id="ExportedService" severity="ignore" />
-    <issue id="SetWorldReadable" severity="ignore" />
-    <issue id="SetWorldWritable" severity="ignore" />
-    <issue id="GrantAllUris" severity="ignore" />
-    <issue id="WorldReadableFiles" severity="ignore" />
-    <issue id="WorldWriteableFiles" severity="ignore" />
     <issue id="ServiceCast" severity="ignore" />
-    <issue id="WifiManagerLeak" severity="ignore" />
-    <issue id="WifiManagerPotentialLeak" severity="ignore" />
     <issue id="SetJavaScriptEnabled" severity="ignore" />
-    <issue id="SignatureOrSystemPermissions" severity="ignore" />
-    <issue id="SQLiteString" severity="ignore" />
-    <issue id="SSLCertificateSocketFactoryCreateSocket" severity="ignore" />
-    <issue id="SSLCertificateSocketFactoryGetInsecure" severity="ignore" />
-    <issue id="StateListReachable" severity="ignore" />
-    <issue id="AuthLeak" severity="ignore" />
     <issue id="PluralsCandidate" severity="ignore" />
-    <issue id="UseCheckPermission" severity="ignore" />
     <issue id="ResourceAsColor" severity="ignore" />
     <issue id="MissingPermission" severity="ignore" />
     <issue id="Range" severity="ignore" />
@@ -446,12 +436,9 @@
     <issue id="MissingTranslation" severity="ignore" />
     <issue id="Typos" severity="ignore" />
     <issue id="TypographyDashes" severity="ignore" />
-    <issue id="TypographyEllipsis" severity="ignore" />
     <issue id="TypographyFractions" severity="ignore" />
     <issue id="TypographyOther" severity="ignore" />
     <issue id="TypographyQuotes" severity="ignore" />
-    <issue id="UnsafeProtectedBroadcastReceiver" severity="ignore" />
-    <issue id="UnprotectedSMSBroadcastReceiver" severity="ignore" />
     <issue id="UnusedIds" severity="ignore" />
     <issue id="UseCompoundDrawables" severity="ignore" />
     <issue id="UselessLeaf" severity="ignore" />
@@ -471,12 +458,8 @@
     <issue id="InvalidId" severity="ignore" />
     <issue id="NotSibling" severity="ignore" />
     <issue id="UnknownIdInLayout" severity="ignore" />
-    <issue id="SuspiciousImport" severity="ignore" />
-    <issue id="WrongFolder" severity="ignore" />
     <issue id="WrongThreadInterprocedural" severity="ignore" />
 
-
-    <issue id="CustomX509TrustManager" severity="ignore" />
     <!-- PERF: Could improve by not using notifyDataSetChanged() -->
     <issue id="NotifyDataSetChanged" severity="ignore" />
 </lint>
diff --git a/lint-rules/src/main/java/com/ichi2/anki/lint/rules/TranslationTypo.kt b/lint-rules/src/main/java/com/ichi2/anki/lint/rules/TranslationTypo.kt
index c86d6aa73ad7..d79d70c5a06f 100644
--- a/lint-rules/src/main/java/com/ichi2/anki/lint/rules/TranslationTypo.kt
+++ b/lint-rules/src/main/java/com/ichi2/anki/lint/rules/TranslationTypo.kt
@@ -32,9 +32,9 @@ import com.ichi2.anki.lint.utils.ext.isRightToLeftLanguage
 import org.w3c.dom.Element
 
 /**
- * Ensures that strings are cased correctly
+ * Checks for a variety of errors commonly made in CrowdIn
  *
- * `JavaScript`, not `Javascript`
+ * `JavaScript`, not `Javascript`, ellipses, empty strings, etc
  */
 class TranslationTypo : ResourceXmlDetector(), XmlScanner {
     companion object {
@@ -112,7 +112,7 @@ class TranslationTypo : ResourceXmlDetector(), XmlScanner {
         // use the unicode character instead of three dots for ellipsis
         // ignore RTL to reduce maintenance: GitHub incorrectly displays ellipsis, so hard to review
         if (element.textContent.contains("...") && !context.isRightToLeftLanguage()) {
-            element.reportIssue("should use unicode '&#8230;' instead of three dots for ellipsis")
+            element.reportIssue("should use unicode '&#8230;' for ellipsis not three dots; RTL languages best viewed on crowdin")
         }
 
         // casing of 'JavaScript'
diff --git a/testlib/src/main/java/com/ichi2/testutils/common/FailOnUnhandledExceptionRule.kt b/testlib/src/main/java/com/ichi2/testutils/common/FailOnUnhandledExceptionRule.kt
index 552b033c744f..d6449000e2e3 100644
--- a/testlib/src/main/java/com/ichi2/testutils/common/FailOnUnhandledExceptionRule.kt
+++ b/testlib/src/main/java/com/ichi2/testutils/common/FailOnUnhandledExceptionRule.kt
@@ -49,7 +49,7 @@ class FailOnUnhandledExceptionRule : TestRule {
                 Timber.v("test: applying exception handler override")
                 exceptionHandler = Thread.getDefaultUncaughtExceptionHandler()
                 Thread.setDefaultUncaughtExceptionHandler { _: Thread?, throwable: Throwable ->
-                    Timber.e("test: unhandled exception", throwable)
+                    Timber.e(throwable, "test: unhandled exception")
                     uncaughtException = throwable
                 }
 
