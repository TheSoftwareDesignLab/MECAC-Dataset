diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/FieldEditText.java b/AnkiDroid/src/main/java/com/ichi2/anki/FieldEditText.java
index ff1bdcae4fa7..93e10f8f4735 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/FieldEditText.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/FieldEditText.java
@@ -2,10 +2,14 @@
 package com.ichi2.anki;
 
 import android.content.Context;
+import android.graphics.drawable.Drawable;
 import android.util.AttributeSet;
 import android.widget.EditText;
 import android.widget.TextView;
 
+import com.ichi2.themes.Themes;
+
+
 public class FieldEditText extends EditText {
 
     public static final String NEW_LINE = System.getProperty("line.separator");
@@ -13,6 +17,7 @@ public class FieldEditText extends EditText {
 
     private String mName;
     private int mOrd;
+    private Drawable mOrigBackground;
 
 
     public FieldEditText(Context context) {
@@ -64,13 +69,24 @@ public void init(int ord, String name, String content) {
         }
         setText(content);
         setMinimumWidth(400);
+        mOrigBackground = getBackground();
+        // Fixes bug where new instances of this object have wrong colors, probably
+        // from some reuse mechanic in Android.
+        setDefaultStyle();
+    }
+
+    /**
+     * Modify the style of this view to represent a duplicate field.
+     */
+    public void setDupeStyle() {
+        setBackgroundColor(Themes.getColorFromAttr(getContext(), R.attr.duplicateColor));
     }
 
 
-    public String cleanText(String text) {
-        text = text.replaceAll("\\s*(" + NL_MARK + "\\s*)+", NEW_LINE);
-        text = text.replaceAll("^[,;:\\s\\)\\]" + NEW_LINE + "]*", "");
-        text = text.replaceAll("[,;:\\s\\(\\[" + NEW_LINE + "]*$", "");
-        return text;
+    /**
+     * Restore the default style of this view.
+     */
+    public void setDefaultStyle() {
+        setBackgroundDrawable(mOrigBackground);
     }
 }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
index b09231c5150c..16e6f27727f0 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
@@ -1303,11 +1303,10 @@ private boolean duplicateCheck() {
         Integer dupeCode = mEditorNote.dupeOrEmpty();
         // Change bottom line color of text field
         if (dupeCode != null && dupeCode == 2) {
-            field.getBackground().setColorFilter(ContextCompat.getColor(this, R.color.material_red_500),
-                    PorterDuff.Mode.SRC_ATOP);
+            field.setDupeStyle();
             isDupe = true;
         } else {
-            field.getBackground().clearColorFilter();
+            field.setDefaultStyle();
             isDupe = false;
         }
         // Put back the old value so we don't interfere with modification detection
diff --git a/AnkiDroid/src/main/res/values/attrs.xml b/AnkiDroid/src/main/res/values/attrs.xml
index 56c27cb5a1be..83f0dcad8862 100644
--- a/AnkiDroid/src/main/res/values/attrs.xml
+++ b/AnkiDroid/src/main/res/values/attrs.xml
@@ -78,6 +78,8 @@
     <!-- Browser colors -->
     <attr name="suspendedColor" format="color"/>
     <attr name="markedColor" format="color"/>
+    <!-- Note editor colors -->
+    <attr name="duplicateColor" format="color"/>
     <!-- Images -->
     <attr name="navDrawerImage" format="integer"/>
     <attr name="attachFileImage" format="integer"/>
diff --git a/AnkiDroid/src/main/res/values/theme_black.xml b/AnkiDroid/src/main/res/values/theme_black.xml
index 8e345f6088c3..c112ac7b388e 100644
--- a/AnkiDroid/src/main/res/values/theme_black.xml
+++ b/AnkiDroid/src/main/res/values/theme_black.xml
@@ -69,6 +69,8 @@
         <!-- Browser colors -->
         <item name="suspendedColor">#A8A634</item>
         <item name="markedColor">#391080</item>
+        <!-- Note editor colors -->
+        <item name="duplicateColor">#855</item>
         <!-- FAB -->
         <item name="fab_normal">#ff303030</item>
         <item name="fab_pressed">#c8303030</item> <!-- 55 less opacity than fab_normal -->
diff --git a/AnkiDroid/src/main/res/values/theme_dark.xml b/AnkiDroid/src/main/res/values/theme_dark.xml
index 153ae50f4ffe..c7bb2f69beb0 100644
--- a/AnkiDroid/src/main/res/values/theme_dark.xml
+++ b/AnkiDroid/src/main/res/values/theme_dark.xml
@@ -74,6 +74,8 @@
         <!-- Browser colors -->
         <item name="suspendedColor">@color/material_grey_700</item>
         <item name="markedColor">@color/material_deep_purple_400</item>
+        <!-- Note editor colors -->
+        <item name="duplicateColor">#855</item>
         <!-- FAB -->
         <item name="fab_normal">@color/material_light_blue_700</item>
         <item name="fab_pressed">@color/material_light_blue_900</item>
diff --git a/AnkiDroid/src/main/res/values/theme_light.xml b/AnkiDroid/src/main/res/values/theme_light.xml
index 3a39ce289f8a..9883fedd9444 100644
--- a/AnkiDroid/src/main/res/values/theme_light.xml
+++ b/AnkiDroid/src/main/res/values/theme_light.xml
@@ -87,6 +87,8 @@ APIs. It's visible when there aren't enough decks to fill the screen.
         <!-- Browser colors -->
         <item name="suspendedColor">#FFFFB2</item>
         <item name="markedColor">#D9B2E9</item>
+        <!-- Note editor colors -->
+        <item name="duplicateColor">#fcc</item>
         <!-- FAB -->
         <item name="fab_normal">@color/material_light_blue_700</item>
         <item name="fab_pressed">@color/material_light_blue_900</item>
