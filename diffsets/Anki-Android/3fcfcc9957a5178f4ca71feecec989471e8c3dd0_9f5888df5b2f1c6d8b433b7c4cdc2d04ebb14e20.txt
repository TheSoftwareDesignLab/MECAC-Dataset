diff --git a/AnkiDroid/build.gradle b/AnkiDroid/build.gradle
index e2b0a5cde31b..cdbe935175b2 100644
--- a/AnkiDroid/build.gradle
+++ b/AnkiDroid/build.gradle
@@ -247,10 +247,9 @@ apply from: "./jacoco.gradle"
 apply from: "../lint.gradle"
 
 dependencies {
-    // Can possibly remove if upstream PR merges https://github.com/JakeWharton/timber/pull/398
     configurations.all {
         resolutionStrategy {
-            force 'org.jetbrains:annotations:22.0.0'
+            force 'org.jetbrains:annotations:23.0.0'
             force 'androidx.test:core:1.4.0' // Pending fix here: https://issuetracker.google.com/issues/189353863
         }
     }
@@ -258,17 +257,17 @@ dependencies {
     lintChecks project(":lint-rules")
 
     coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'
-    compileOnly 'org.jetbrains:annotations:21.0.1'
+    compileOnly 'org.jetbrains:annotations:23.0.0'
     compileOnly "com.google.auto.service:auto-service-annotations:1.0.1"
     annotationProcessor "com.google.auto.service:auto-service:1.0.1"
 
     implementation 'androidx.activity:activity-ktx:1.4.0'
     implementation 'androidx.annotation:annotation:1.3.0'
-    implementation 'androidx.appcompat:appcompat:1.3.1'
+    implementation 'androidx.appcompat:appcompat:1.4.0'
     implementation 'androidx.browser:browser:1.4.0'
     implementation "androidx.core:core-ktx:1.7.0"
     implementation 'androidx.exifinterface:exifinterface:1.3.3'
-    implementation 'androidx.fragment:fragment-ktx:1.3.6'
+    implementation 'androidx.fragment:fragment-ktx:1.4.0'
     implementation 'androidx.localbroadcastmanager:localbroadcastmanager:1.0.0'
     implementation "androidx.preference:preference-ktx:1.1.1"
     implementation 'androidx.recyclerview:recyclerview:1.2.1'
@@ -318,7 +317,7 @@ dependencies {
     implementation 'com.drakeet.drawer:drawer:1.0.3'
     implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
     implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
-    implementation 'uk.co.samuelwall:material-tap-target-prompt:3.3.0'
+    implementation 'uk.co.samuelwall:material-tap-target-prompt:3.3.2'
     api project(":api")
 
     testImplementation 'org.junit.vintage:junit-vintage-engine:5.8.1'
@@ -326,12 +325,12 @@ dependencies {
     testImplementation "org.mockito.kotlin:mockito-kotlin:4.0.0"
     testImplementation 'org.hamcrest:hamcrest-all:1.3'
     testImplementation 'net.lachlanmckee:timber-junit-rule:1.0.1'
-    testImplementation "org.robolectric:robolectric:4.6.1"
+    testImplementation "org.robolectric:robolectric:4.7.1"
     testImplementation 'androidx.test:core:1.4.0'
     testImplementation 'androidx.test.ext:junit:1.1.3'
     testImplementation "org.jetbrains.kotlin:kotlin-reflect:$kotlin_version"
     // debugImplementation required vs testImplementation: https://issuetracker.google.com/issues/128612536
-    debugImplementation 'androidx.fragment:fragment-testing:1.3.6'
+    debugImplementation 'androidx.fragment:fragment-testing:1.4.0'
 
     // May need a resolution strategy for support libs to our versions
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
diff --git a/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/LayoutValidationTest.java b/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/LayoutValidationTest.java
index 71d9636e3bf6..53bdad330e1d 100644
--- a/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/LayoutValidationTest.java
+++ b/AnkiDroid/src/androidTest/java/com/ichi2/anki/tests/LayoutValidationTest.java
@@ -1,3 +1,19 @@
+/*
+ *  Copyright (c) 2020 David Allison <davidallisongithub@gmail.com>
+ *
+ *  This program is free software; you can redistribute it and/or modify it under
+ *  the terms of the GNU General Public License as published by the Free Software
+ *  Foundation; either version 3 of the License, or (at your option) any later
+ *  version.
+ *
+ *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
+ *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+ *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License along with
+ *  this program.  If not, see <http://www.gnu.org/licenses/>.
+ */
+
 package com.ichi2.anki.tests;
 
 import android.content.Context;
@@ -42,7 +58,6 @@ public static java.util.Collection<Object[]> initParameters() throws IllegalAcce
 
         // There are hidden public fields: abc_list_menu_item_layout for example
         HashSet<String> nonAnkiFieldNames = new HashSet<>();
-        nonAnkiFieldNames.addAll(getFieldNames(androidx.appcompat.resources.R.layout.class));
         nonAnkiFieldNames.addAll(getFieldNames(com.google.android.material.R.layout.class));
         nonAnkiFieldNames.addAll(getFieldNames(com.afollestad.materialdialogs.R.layout.class));
 
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/tags/TagsDialogTest.kt b/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/tags/TagsDialogTest.kt
index d96e60d2d372..0dddc986fb06 100644
--- a/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/tags/TagsDialogTest.kt
+++ b/AnkiDroid/src/test/java/com/ichi2/anki/dialogs/tags/TagsDialogTest.kt
@@ -209,6 +209,7 @@ class TagsDialogTest {
                     CheckBoxTriStates.State.INDETERMINATE -> foundIndeterminate.add(tag)
                     CheckBoxTriStates.State.UNCHECKED -> foundUncheckedTags.add(tag)
                     CheckBoxTriStates.State.CHECKED -> foundCheckedTags.add(tag)
+                    else -> Assert.fail("Unknown CheckBoxTriStates.State? " + vh?.checkboxState)
                 }
             }
             ListUtil.assertListEquals(expectedAllTags, foundAllTags)
diff --git a/api/build.gradle b/api/build.gradle
index bf405d2a3e3f..4bd1fd11491b 100644
--- a/api/build.gradle
+++ b/api/build.gradle
@@ -53,7 +53,7 @@ dependencies {
     implementation 'androidx.annotation:annotation:1.3.0'
     implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
     testImplementation 'org.junit.vintage:junit-vintage-engine:5.8.1'
-    testImplementation 'org.robolectric:robolectric:4.6.1'
+    testImplementation 'org.robolectric:robolectric:4.7.1'
 
     lintChecks project(":lint-rules")
 }
diff --git a/build.gradle b/build.gradle
index 7c550761945f..64e2659741f4 100644
--- a/build.gradle
+++ b/build.gradle
@@ -4,7 +4,7 @@ import org.gradle.internal.jvm.Jvm
 
 buildscript {
     // The version for the Kotlin plugin and dependencies
-    ext.kotlin_version = '1.5.31'
+    ext.kotlin_version = '1.6.0'
     ext.lint_version = '30.0.3'
     ext.acra_version = '5.7.0'
 
diff --git a/lint-release.xml b/lint-release.xml
index e68ce9df2e35..cb52c259fa64 100644
--- a/lint-release.xml
+++ b/lint-release.xml
@@ -56,6 +56,9 @@
     <!-- Allows Timber issues defined for AnkiDroid without an api dependency on Timber -->
     <issue id="UnknownIssueId" severity="ignore" />
 
+    <!-- Temporarily allows obsolete lint until https://issuetracker.google.com/issues/206855622 is resolved upstream -->
+    <issue id="ObsoleteLintCustomCheck" severity="ignore" />
+
     <issue id="UseCompatTextViewDrawableXml" severity="ignore" />
     <issue id="AcceptsUserCertificates" severity="ignore" />
     <issue id="RedundantNamespace" severity="ignore" />
