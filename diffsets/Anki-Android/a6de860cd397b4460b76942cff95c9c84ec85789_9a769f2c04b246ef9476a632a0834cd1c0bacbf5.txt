diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
index 55fb8bf3aee2..273915564031 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java
@@ -938,7 +938,6 @@ protected void onCollectionLoaded(Collection col) {
 
         updateScreenCounts();
         supportInvalidateOptionsMenu();
-        hideProgressBar();
     }
 
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.java b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.java
index b82e36e8416c..ed3ffe36082f 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/AnkiActivity.java
@@ -262,6 +262,7 @@ public Loader<Collection> onCreateLoader(int id, Bundle args) {
 
     @Override
     public void onLoadFinished(Loader<Collection> loader, Collection col) {
+        hideProgressBar();
         if (col != null && colIsOpen()) {
             onCollectionLoaded(col);
         } else {
@@ -276,18 +277,18 @@ public void onLoaderReset(Loader<Collection> arg0) {
     }
 
 
-    public void showProgressBar() {
-        ProgressBar progressBar = (ProgressBar) findViewById(R.id.progress_spinner);
+    protected void showProgressBar() {
+        ProgressBar progressBar = (ProgressBar) findViewById(R.id.progress_bar);
         if (progressBar != null) {
             progressBar.setVisibility(View.VISIBLE);
         }
     }
 
 
-    public void hideProgressBar() {
-        ProgressBar progressBar = (ProgressBar) findViewById(R.id.progress_spinner);
+    protected void hideProgressBar() {
+        ProgressBar progressBar = (ProgressBar) findViewById(R.id.progress_bar);
         if (progressBar != null) {
-          progressBar.setVisibility(View.GONE);
+            progressBar.setVisibility(View.GONE);
         }
     }
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
index 18c5111e091f..6ae266374bf5 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.java
@@ -21,14 +21,12 @@
 import android.app.Activity;
 import android.content.BroadcastReceiver;
 import android.content.Context;
-import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.IntentFilter;
 import android.content.SharedPreferences;
 import android.content.res.Resources;
 import android.content.res.TypedArray;
 import android.graphics.Typeface;
-import android.graphics.drawable.Drawable;
 import android.os.Bundle;
 import android.support.v4.app.DialogFragment;
 import android.support.v4.view.MenuItemCompat;
@@ -51,6 +49,7 @@
 import android.widget.ArrayAdapter;
 import android.widget.BaseAdapter;
 import android.widget.ListView;
+import android.widget.ProgressBar;
 import android.widget.Spinner;
 import android.widget.TextView;
 
@@ -69,7 +68,6 @@
 import com.ichi2.libanki.Collection;
 import com.ichi2.libanki.Note;
 import com.ichi2.libanki.Utils;
-import com.ichi2.themes.StyledProgressDialog;
 import com.ichi2.themes.Themes;
 import com.ichi2.upgrade.Upgrade;
 import com.ichi2.widget.WidgetStatus;
@@ -107,7 +105,6 @@ public class CardBrowser extends NavigationDrawerActivity implements
     private MenuItem mSaveSearchItem;
     private MenuItem mMySearchesItem;
 
-    private MaterialDialog mProgressDialog;
     public static Card sCardBrowserCard;
     public static boolean sSearchCancelled = false;
 
@@ -348,7 +345,6 @@ protected void onCreate(Bundle savedInstanceState) {
         setContentView(mainView);
         
         initNavigationDrawer(mainView);
-        
         startLoadingCollection();
     }
 
@@ -523,7 +519,6 @@ public boolean onItemLongClick(AdapterView<?> adapterView, View view, int positi
                 }
             }
         }
-        hideProgressBar();
     }
 
 
@@ -809,7 +804,7 @@ private void searchCards() {
         } else {
             searchText = mRestrictOnDeck + mSearchTerms;
         }
-        if (colIsOpen()) {
+        if (colIsOpen() && mCardsAdapter!= null) {
             // clear the existing card list
             getCards().clear();
             mCardsAdapter.notifyDataSetChanged();
@@ -944,11 +939,7 @@ private void deleteNote(Card card) {
     private DeckTask.TaskListener mUpdateCardHandler = new DeckTask.TaskListener() {
         @Override
         public void onPreExecute() {
-            Resources res = getResources();
-            if (mProgressDialog == null) {
-                mProgressDialog = StyledProgressDialog.show(CardBrowser.this, "",
-                        res.getString(R.string.saving_changes), false);
-            }
+            showProgressBar();
         }
 
 
@@ -968,7 +959,7 @@ public void onPostExecute(DeckTask.TaskData result) {
             if (!result.getBoolean()) {
                 closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
             }
-            dismissProgressDialog();
+            hideProgressBar();
         }
 
 
@@ -980,9 +971,7 @@ public void onCancelled() {
     private DeckTask.TaskListener mSuspendCardHandler = new DeckTask.TaskListener() {
         @Override
         public void onPreExecute() {
-            Resources res = getResources();
-            mProgressDialog = StyledProgressDialog.show(CardBrowser.this, "", res.getString(R.string.saving_changes),
-                    false);
+            showProgressBar();
         }
 
 
@@ -1002,7 +991,7 @@ public void onPostExecute(DeckTask.TaskData result) {
             } else {
                 closeCardBrowser(DeckPicker.RESULT_DB_ERROR);
             }
-            dismissProgressDialog();
+            hideProgressBar();
         }
 
 
@@ -1014,9 +1003,7 @@ public void onCancelled() {
     private DeckTask.TaskListener mDeleteNoteHandler = new DeckTask.TaskListener() {
         @Override
         public void onPreExecute() {
-            Resources res = getResources();
-            mProgressDialog = StyledProgressDialog.show(CardBrowser.this, "", res.getString(R.string.saving_changes),
-                    false);
+            showProgressBar();
         }
 
 
@@ -1027,7 +1014,7 @@ public void onProgressUpdate(DeckTask.TaskData... values) {
 
         @Override
         public void onPostExecute(DeckTask.TaskData result) {
-            dismissProgressDialog();
+            hideProgressBar();
         }
 
 
@@ -1049,41 +1036,21 @@ public void onProgressUpdate(TaskData... values) {
 
         @Override
         public void onPreExecute() {
-            Resources res = getResources();
-            sSearchCancelled = false;
-            if (mProgressDialog == null) {
-                mProgressDialog = StyledProgressDialog.show(CardBrowser.this, "",
-                        res.getString(R.string.card_browser_filtering_cards), true,
-                        new DialogInterface.OnCancelListener(){
-                            @Override
-                            public void onCancel(DialogInterface dialog){
-                                Timber.i("CardBrowser:: Search cards dialog dismissed");
-                                DeckTask.cancelTask(DeckTask.TASK_TYPE_SEARCH_CARDS);
-                                sSearchCancelled = true;
-                            }
-                });
-            } else {
-                mProgressDialog.setContent(res.getString(R.string.card_browser_filtering_cards));
-                mProgressDialog.show();
-            }
-
+            showProgressBar();
         }
 
 
         @Override
         public void onPostExecute(TaskData result) {            
+            // Launch task to continue the rendering of the second column
             if (result != null && mCards != null) {
                 Timber.i("CardBrowser:: Completed doInBackgroundSearchCards Successfuly");
                 updateList();
-                dismissProgressDialog();
                 // After the initial searchCards query, start rendering the question and answer in the background
                 DeckTask.launchDeckTask(DeckTask.TASK_TYPE_RENDER_BROWSER_QA, mRenderQAHandler,
-                        new DeckTask.TaskData(new Object[] { mCards, 0, 100 }));
-            } else {
-                // this is a hack -- see DeckTask.launchDeckTask for more info
-                Timber.w("doInBackgroundSearchCards onPostExecute() called but result was null");
-                sSearchCancelled = false;
+                        new DeckTask.TaskData(new Object[]{mCards, 0, 100}));
             }
+            hideProgressBar();
         }
         
         @Override
@@ -1213,9 +1180,10 @@ private void bindView(int position, View v) {
                 // set font for column
                 setFont(col);
                 // set background color for column
-                int[] attrs = new int[] {android.R.attr.colorBackground, R.attr.markedColor, R.attr.suspendedColor, R.attr.markedColor};
+                int[] attrs = new int[] {android.R.attr.colorBackground, R.attr.markedColor, R.attr.suspendedColor,
+                        R.attr.markedColor};
                 TypedArray ta = obtainStyledAttributes(attrs);
-                col.setBackgroundColor(ta.getColor(color, R.color.material_grey_700));
+                col.setBackgroundColor(ta.getColor(color, getResources().getColor(R.color.material_grey_700)));
                 ta.recycle();
                 // set text for column
                 col.setText(dataSet.get(mFromKeys[i]));
@@ -1285,22 +1253,9 @@ public long getItemId(int position) {
     }
 
 
-    private void dismissProgressDialog() {
-        if (mProgressDialog != null && mProgressDialog.isShowing()) {
-            try {
-                mProgressDialog.dismiss();
-            } catch (IllegalArgumentException e) {
-                // This shouldn't be neccessary, but crashes still occurring (see 4f949b11-9cdc-41fd-80b8-7c4d02b25151)
-                // TODO: Check if multithreading issue
-                Timber.w(e, "Could not dismiss mProgressDialog");
-            }
-        }
-    }
-
-
     private ArrayList<HashMap<String, String>> getCards() {
         if (mCards == null) {
-            mCards = new ArrayList<HashMap<String, String>>();
+            mCards = new ArrayList<>();
         }
         return mCards;
     }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java
index 0d48339b8f30..7d725a570434 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardTemplateEditor.java
@@ -183,7 +183,6 @@ protected void onCollectionLoaded(Collection col) {
         setTitle(getResources().getString(R.string.title_activity_template_editor, col.getModels().get(mModelId).optString("name")));
         // Close collection opening dialog if needed
         Timber.i("CardTemplateEditor:: Card template editor successfully started for model id %d", mModelId);
-        hideProgressBar();
     }
 
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
index 42683597bc76..0a1fcd6a2c63 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java
@@ -285,7 +285,6 @@ public void onPostExecute(DeckTask.TaskData result) {
                     showSimpleMessageDialog(res.getString(R.string.import_log_no_apkg));
                 }
                 updateDeckList();
-                hideProgressBar();
             } else {
                 showSimpleMessageDialog(res.getString(R.string.import_log_no_apkg), true);
             }
@@ -630,7 +629,6 @@ protected void onResume() {
             mSyncOnResume = false;
         } else if (colIsOpen()) {
             updateDeckList();
-            hideProgressBar();
         }
         setTitle(getResources().getString(R.string.app_name));
         sIsWholeCollection = !mFragmented;
@@ -762,10 +760,7 @@ public void run() {
                 }
             });
         }
-        hideProgressBar();
-
         automaticSync();
-
     }
 
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java
index 4521fc687c7f..e7b211fcec5b 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java
@@ -69,6 +69,7 @@ protected void initNavigationDrawer(View mainView){
         // enable ActionBar app icon to behave as action to toggle nav drawer
         getSupportActionBar().setDisplayHomeAsUpEnabled(true);
         getSupportActionBar().setHomeButtonEnabled(true);
+        setNightModeIcon();
 
         // ActionBarDrawerToggle ties together the the proper interactions
         // between the sliding drawer and the action bar app icon
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
index f018ab700465..8934b90e9796 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java
@@ -561,9 +561,6 @@ public void onClick(View v) {
         if (!mAddNote && mCurrentEditedCard != null) {
             Timber.i("NoteEditor:: Edit note activity successfully started with card id %d", mCurrentEditedCard.getId());
         }
-
-        // Hide opening collection progress indicator
-        hideProgressBar();
     }
 
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/StudyOptionsFragment.java b/AnkiDroid/src/main/java/com/ichi2/anki/StudyOptionsFragment.java
index f79d5cd33eba..8e225c4a1d57 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/StudyOptionsFragment.java
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/StudyOptionsFragment.java
@@ -18,8 +18,6 @@
 import android.content.Intent;
 import android.content.SharedPreferences;
 import android.content.res.Resources;
-import android.graphics.Color;
-import android.graphics.drawable.Drawable;
 import android.os.Bundle;
 import android.support.v4.app.DialogFragment;
 import android.support.v4.app.Fragment;
@@ -36,9 +34,8 @@
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.Button;
-import android.widget.ImageButton;
 import android.widget.LinearLayout;
-import android.widget.TableLayout;
+import android.widget.ProgressBar;
 import android.widget.TextView;
 import android.widget.Toast;
 
@@ -56,7 +53,6 @@
 import com.ichi2.libanki.Consts;
 import com.ichi2.libanki.Utils;
 import com.ichi2.themes.StyledProgressDialog;
-import com.ichi2.themes.Themes;
 
 import org.json.JSONArray;
 import org.json.JSONException;
@@ -246,6 +242,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa
         mFragmented = getActivity().getClass() != StudyOptionsActivity.class;
         NavigationDrawerActivity.setIsWholeCollection(false);
         startLoadingCollection();
+        showProgressBar();
         return mStudyOptionsView;
     }
     
@@ -259,7 +256,7 @@ private void onCollectionLoaded(Collection col) {
         }
         refreshInterface(true);
         setHasOptionsMenu(true);
-        ((AnkiActivity) getActivity()).hideProgressBar();
+        hideProgressBar();
     }
 
 
@@ -875,8 +872,6 @@ private boolean colOpen() {
     protected void startLoadingCollection() {
         // Initialize the open collection loader
         Timber.d("startLoadingCollection()");
-        AnkiActivity activity = (AnkiActivity) getActivity();
-        activity.showProgressBar();
         getLoaderManager().initLoader(0, null, this);  
     }
 
@@ -903,4 +898,21 @@ public void onLoadFinished(Loader<Collection> loader, Collection col) {
     public void onLoaderReset(Loader<Collection> arg0) {
         // We don't currently retain any references, so no need to free any data here
     }
+
+    private void showProgressBar() {
+        ProgressBar progressBar = (ProgressBar) mStudyOptionsView.findViewById(R.id.progress_bar);
+        if (progressBar != null) {
+            mStudyOptionsView.setVisibility(View.INVISIBLE);
+            progressBar.setVisibility(View.VISIBLE);
+        }
+    }
+
+
+    private void hideProgressBar() {
+        ProgressBar progressBar = (ProgressBar) mStudyOptionsView.findViewById(R.id.progress_bar);
+        if (progressBar != null) {
+            mStudyOptionsView.setVisibility(View.VISIBLE);
+            progressBar.setVisibility(View.GONE);
+        }
+    }
 }
diff --git a/AnkiDroid/src/main/res/layout-xlarge/deck_picker.xml b/AnkiDroid/src/main/res/layout-xlarge/deck_picker.xml
index 41d80e322518..8c4f61067d8e 100644
--- a/AnkiDroid/src/main/res/layout-xlarge/deck_picker.xml
+++ b/AnkiDroid/src/main/res/layout-xlarge/deck_picker.xml
@@ -64,6 +64,7 @@
             </LinearLayout>
         </RelativeLayout>
         <include layout="@layout/floating_add_button"/>
+        <include layout="@layout/anki_progress"/>
     </android.support.design.widget.CoordinatorLayout>
     <include layout="@layout/navigation_drawer" />
 </android.support.v4.widget.DrawerLayout>
diff --git a/AnkiDroid/src/main/res/layout/activity_anki_stats.xml b/AnkiDroid/src/main/res/layout/activity_anki_stats.xml
index 3b0179356ea6..26ca8d578b33 100644
--- a/AnkiDroid/src/main/res/layout/activity_anki_stats.xml
+++ b/AnkiDroid/src/main/res/layout/activity_anki_stats.xml
@@ -27,6 +27,7 @@
 				android:layout_height="match_parent"
 				tools:context=".Statistics"/>
 		</LinearLayout>
+		<include layout="@layout/anki_progress"/>
 	</android.support.design.widget.CoordinatorLayout>
 	<include layout="@layout/navigation_drawer"/>
 </android.support.v4.widget.DrawerLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/anki_progress.xml b/AnkiDroid/src/main/res/layout/anki_progress.xml
new file mode 100644
index 000000000000..4b5c293b53b5
--- /dev/null
+++ b/AnkiDroid/src/main/res/layout/anki_progress.xml
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<merge xmlns:android="http://schemas.android.com/apk/res/android">
+    <ProgressBar
+        android:id="@+id/progress_bar"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_vertical|center_horizontal"
+        android:visibility="gone"/>
+</merge>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/card_browser.xml b/AnkiDroid/src/main/res/layout/card_browser.xml
index 16e2fc980f00..d01cb5454a00 100644
--- a/AnkiDroid/src/main/res/layout/card_browser.xml
+++ b/AnkiDroid/src/main/res/layout/card_browser.xml
@@ -45,6 +45,7 @@
                 android:fastScrollEnabled="true" />
 
         </LinearLayout>
+        <include layout="@layout/anki_progress"/>
     </android.support.design.widget.CoordinatorLayout>
     <include layout="@layout/navigation_drawer" />
 </android.support.v4.widget.DrawerLayout>   
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/deck_picker.xml b/AnkiDroid/src/main/res/layout/deck_picker.xml
index 788d9f41798e..08cd4ece8bc0 100644
--- a/AnkiDroid/src/main/res/layout/deck_picker.xml
+++ b/AnkiDroid/src/main/res/layout/deck_picker.xml
@@ -38,8 +38,8 @@
                 android:gravity="center"/>
         </RelativeLayout>
         <include layout="@layout/floating_add_button"/>
+        <include layout="@layout/anki_progress"/>
     </android.support.design.widget.CoordinatorLayout>
-
     <include layout="@layout/navigation_drawer" />
 </android.support.v4.widget.DrawerLayout>
 
diff --git a/AnkiDroid/src/main/res/layout/flashcard.xml b/AnkiDroid/src/main/res/layout/flashcard.xml
index 86bcd05afbcf..3d6bb961f31c 100644
--- a/AnkiDroid/src/main/res/layout/flashcard.xml
+++ b/AnkiDroid/src/main/res/layout/flashcard.xml
@@ -277,6 +277,7 @@
                 </LinearLayout>
             </LinearLayout>
         </RelativeLayout>
+        <include layout="@layout/anki_progress"/>
     </android.support.design.widget.CoordinatorLayout>
 
     <include layout="@layout/navigation_drawer" />
diff --git a/AnkiDroid/src/main/res/layout/floating_add_button.xml b/AnkiDroid/src/main/res/layout/floating_add_button.xml
index f6a1bf8a9c7a..917343b4b897 100644
--- a/AnkiDroid/src/main/res/layout/floating_add_button.xml
+++ b/AnkiDroid/src/main/res/layout/floating_add_button.xml
@@ -1,43 +1,45 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!-- Floating action button -->
-<net.i2p.android.ext.floatingactionbutton.FloatingActionsMenu
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:fab="http://schemas.android.com/apk/res-auto"
-    android:id="@+id/add_content_menu"
-    android:layout_width="wrap_content"
-    android:layout_height="wrap_content"
-    android:layout_gravity="end|bottom"
-    android:layout_margin="16dp"
-    fab:fab_addButtonColorNormal="@color/fab_normal"
-    fab:fab_addButtonColorPressed="@color/fab_pressed"
-    fab:fab_icon="@drawable/ic_add_white_24dp"
-    fab:fab_labelStyle="@style/menu_labels_style"
-    fab:layout_behavior="com.ichi2.anki.widgets.FabBehavior">
-    <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
-        android:id="@+id/add_deck_action"
+<merge xmlns:android="http://schemas.android.com/apk/res/android">
+    <net.i2p.android.ext.floatingactionbutton.FloatingActionsMenu
+        xmlns:android="http://schemas.android.com/apk/res/android"
+        xmlns:fab="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/add_content_menu"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        fab:fab_colorNormal="@color/fab_normal"
-        fab:fab_icon="@drawable/ic_folder_white_24dp"
-        fab:fab_title="@string/new_deck"
-        fab:fab_size="mini"
-        fab:fab_colorPressed="@color/fab_pressed"/>
-    <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
-        android:id="@+id/add_shared_action"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        fab:fab_colorNormal="@color/fab_normal"
-        fab:fab_icon="@drawable/ic_file_download_white_24dp"
-        fab:fab_title="@string/menu_get_shared_decks"
-        fab:fab_size="mini"
-        fab:fab_colorPressed="@color/fab_pressed"/>
-    <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
-        android:id="@+id/add_note_action"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        fab:fab_colorNormal="@color/fab_normal"
+        android:layout_gravity="end|bottom"
+        android:layout_margin="16dp"
+        fab:fab_addButtonColorNormal="@color/fab_normal"
+        fab:fab_addButtonColorPressed="@color/fab_pressed"
         fab:fab_icon="@drawable/ic_add_white_24dp"
-        fab:fab_title="@string/menu_add_note"
-        fab:fab_size="mini"
-        fab:fab_colorPressed="@color/fab_pressed"/>
-</net.i2p.android.ext.floatingactionbutton.FloatingActionsMenu>
\ No newline at end of file
+        fab:fab_labelStyle="@style/menu_labels_style"
+        fab:layout_behavior="com.ichi2.anki.widgets.FabBehavior">
+        <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
+            android:id="@+id/add_deck_action"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            fab:fab_colorNormal="@color/fab_normal"
+            fab:fab_icon="@drawable/ic_folder_white_24dp"
+            fab:fab_title="@string/new_deck"
+            fab:fab_size="mini"
+            fab:fab_colorPressed="@color/fab_pressed"/>
+        <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
+            android:id="@+id/add_shared_action"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            fab:fab_colorNormal="@color/fab_normal"
+            fab:fab_icon="@drawable/ic_file_download_white_24dp"
+            fab:fab_title="@string/menu_get_shared_decks"
+            fab:fab_size="mini"
+            fab:fab_colorPressed="@color/fab_pressed"/>
+        <net.i2p.android.ext.floatingactionbutton.FloatingActionButton
+            android:id="@+id/add_note_action"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            fab:fab_colorNormal="@color/fab_normal"
+            fab:fab_icon="@drawable/ic_add_white_24dp"
+            fab:fab_title="@string/menu_add_note"
+            fab:fab_size="mini"
+            fab:fab_colorPressed="@color/fab_pressed"/>
+    </net.i2p.android.ext.floatingactionbutton.FloatingActionsMenu>
+</merge>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/note_editor.xml b/AnkiDroid/src/main/res/layout/note_editor.xml
index 10bd5838b0f5..f29698757f44 100644
--- a/AnkiDroid/src/main/res/layout/note_editor.xml
+++ b/AnkiDroid/src/main/res/layout/note_editor.xml
@@ -125,4 +125,5 @@
 
         </ScrollView>
     </LinearLayout>
+    <include layout="@layout/anki_progress"/>
 </android.support.design.widget.CoordinatorLayout>
diff --git a/AnkiDroid/src/main/res/layout/studyoptions_fragment.xml b/AnkiDroid/src/main/res/layout/studyoptions_fragment.xml
index ba168bfb405d..338f44b49d4a 100644
--- a/AnkiDroid/src/main/res/layout/studyoptions_fragment.xml
+++ b/AnkiDroid/src/main/res/layout/studyoptions_fragment.xml
@@ -1,15 +1,17 @@
 <?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<android.support.design.widget.CoordinatorLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
     android:id="@+id/studyoptions_main"
     android:layout_width="fill_parent"
     android:layout_height="fill_parent"
-    android:orientation="vertical">
+    android:orientation="vertical"
+    android:gravity="center">
 
     <LinearLayout
         android:id="@+id/studyoptions_mainframe"
         android:layout_width="fill_parent"
         android:layout_height="wrap_content"
-        android:layout_centerInParent="true"
+        android:layout_gravity="center"
         android:orientation="vertical">
 
         <ScrollView
@@ -286,4 +288,5 @@
             </LinearLayout>
         </LinearLayout>
     </LinearLayout>
-</RelativeLayout>
\ No newline at end of file
+    <include layout="@layout/anki_progress"/>
+</android.support.design.widget.CoordinatorLayout>
\ No newline at end of file
diff --git a/AnkiDroid/src/main/res/layout/toolbar.xml b/AnkiDroid/src/main/res/layout/toolbar.xml
index 97e55dfdc710..9e07c3d25282 100644
--- a/AnkiDroid/src/main/res/layout/toolbar.xml
+++ b/AnkiDroid/src/main/res/layout/toolbar.xml
@@ -1,28 +1,22 @@
 <?xml version="1.0" encoding="utf-8"?>
-<android.support.v7.widget.Toolbar
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    android:id="@+id/toolbar"
-    android:layout_width="fill_parent"
-    android:layout_height="wrap_content"
-    android:minHeight="?attr/actionBarSize"
-    android:background="?attr/colorPrimary"
-    android:layout_alignParentTop="true"
-    app:navigationContentDescription="@string/abc_action_bar_up_description"
-    app:navigationIcon="?attr/homeAsUpIndicator"
-    android:theme="?attr/actionBarThemeRef"
-    app:popupTheme="?attr/actionBarPopupThemeRef">
-    <ProgressBar
-        android:id="@+id/progress_spinner"
-        android:layout_width="wrap_content"
+<merge xmlns:android="http://schemas.android.com/apk/res/android"
+       xmlns:app="http://schemas.android.com/apk/res-auto">
+    <android.support.v7.widget.Toolbar
+        android:id="@+id/toolbar"
+        android:layout_width="fill_parent"
         android:layout_height="wrap_content"
-        android:layout_gravity="right"
-        android:indeterminate="true"
-        android:visibility="gone"/>
-    <Spinner
-        android:id="@+id/toolbar_spinner"
-        android:background="?attr/selectableItemBackground"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:visibility="gone"/>
-</android.support.v7.widget.Toolbar>
\ No newline at end of file
+        android:minHeight="?attr/actionBarSize"
+        android:background="?attr/colorPrimary"
+        android:layout_alignParentTop="true"
+        app:navigationContentDescription="@string/abc_action_bar_up_description"
+        app:navigationIcon="?attr/homeAsUpIndicator"
+        android:theme="?attr/actionBarThemeRef"
+        app:popupTheme="?attr/actionBarPopupThemeRef">
+        <Spinner
+            android:id="@+id/toolbar_spinner"
+            android:background="?attr/selectableItemBackground"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:visibility="gone"/>
+    </android.support.v7.widget.Toolbar>
+</merge>
\ No newline at end of file
