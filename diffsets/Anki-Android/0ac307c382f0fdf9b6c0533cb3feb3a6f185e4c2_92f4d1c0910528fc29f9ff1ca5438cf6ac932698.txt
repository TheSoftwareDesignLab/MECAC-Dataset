diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
index 9f17bdd957ff..186682d07eab 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/CardBrowser.kt
@@ -268,7 +268,6 @@ open class CardBrowser :
     private var oldCardTopOffset = 0
     private var shouldRestoreScroll = false
     private var postAutoScroll = false
-    private val onboarding = Onboarding.CardBrowser(this)
 
     /**
      * Broadcast that informs us when the sd card is about to be unmounted
@@ -427,7 +426,6 @@ open class CardBrowser :
                 dialogFragment.dismiss()
             }
         }
-        onboarding.onCreate()
 
         setupFlows()
     }
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/CustomMaterialTapTargetPromptBuilder.kt b/AnkiDroid/src/main/java/com/ichi2/anki/CustomMaterialTapTargetPromptBuilder.kt
deleted file mode 100644
index ff24a6070be1..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/CustomMaterialTapTargetPromptBuilder.kt
+++ /dev/null
@@ -1,90 +0,0 @@
-/****************************************************************************************
- *                                                                                      *
- * Copyright (c) 2021 Shridhar Goel <shridhar.goel@gmail.com>                           *
- *                                                                                      *
- * This program is free software; you can redistribute it and/or modify it under        *
- * the terms of the GNU General Public License as published by the Free Software        *
- * Foundation; either version 3 of the License, or (at your option) any later           *
- * version.                                                                             *
- *                                                                                      *
- * This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
- * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
- * PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
- *                                                                                      *
- * You should have received a copy of the GNU General Public License along with         *
- * this program.  If not, see <http://www.gnu.org/licenses/>.                           *
- ****************************************************************************************/
-
-package com.ichi2.anki
-
-import android.app.Activity
-import com.ichi2.anki.PromptBackgroundAdapter.Companion.toPromptBackground
-import com.ichi2.themes.Themes
-import com.ichi2.utils.DimmedPromptBackgroundDecorator
-import uk.co.samuelwall.materialtaptargetprompt.MaterialTapTargetPrompt
-import uk.co.samuelwall.materialtaptargetprompt.extras.backgrounds.CirclePromptBackground
-import uk.co.samuelwall.materialtaptargetprompt.extras.backgrounds.RectanglePromptBackground
-import uk.co.samuelwall.materialtaptargetprompt.extras.focals.CirclePromptFocal
-import uk.co.samuelwall.materialtaptargetprompt.extras.focals.RectanglePromptFocal
-
-class CustomMaterialTapTargetPromptBuilder<T>(val activity: Activity, private val featureIdentifier: T) : MaterialTapTargetPrompt.Builder(activity) where T : Enum<T>, T : OnboardingFlag {
-
-    private fun createRectangle(): CustomMaterialTapTargetPromptBuilder<T> {
-        promptFocal = RectanglePromptFocal()
-        return this
-    }
-
-    fun createRectangleWithDimmedBackground(): CustomMaterialTapTargetPromptBuilder<T> {
-        promptBackground = DimmedPromptBackgroundDecorator(RectanglePromptBackground()).toPromptBackground()
-        return createRectangle()
-    }
-
-    fun createCircle(): CustomMaterialTapTargetPromptBuilder<T> {
-        promptFocal = CirclePromptFocal()
-        return this
-    }
-
-    fun createCircleWithDimmedBackground(): CustomMaterialTapTargetPromptBuilder<T> {
-        promptBackground = DimmedPromptBackgroundDecorator(CirclePromptBackground()).toPromptBackground()
-        return createCircle()
-    }
-
-    fun setFocalColourResource(focalColourRes: Int): CustomMaterialTapTargetPromptBuilder<T> {
-        focalColour = activity.getColor(focalColourRes)
-        return this
-    }
-
-    /**
-     * Handle dismissal of a tutorial.
-     * Currently it happens when the user clicks anywhere while a tutorial is being shown.
-     * @param tutorialFunction Function which would be called when tutorial is dismissed.
-     * @return Builder object to allow chaining of method calls
-     */
-    fun setDismissedListener(tutorialFunction: () -> Unit): CustomMaterialTapTargetPromptBuilder<T> {
-        setPromptStateChangeListener { _, state ->
-            if (state == MaterialTapTargetPrompt.STATE_DISMISSED) {
-                tutorialFunction()
-            }
-        }
-
-        return this
-    }
-
-    /**
-     * Mark as visited and show the tutorial.
-     */
-    override fun show(): MaterialTapTargetPrompt? {
-        /* Keep the focal colour as transparent for night mode
-           so that the contents being highlighted are visible properly */
-        if (Themes.currentTheme.isNightMode) {
-            setFocalColourResource(R.color.transparent)
-        }
-
-        // Clicking outside the prompt area should not trigger a click on the underlying view
-        // This will prevent click on any outside view when user tries to dismiss the feature prompt
-        captureTouchEventOutsidePrompt = true
-
-        OnboardingUtils.setVisited(featureIdentifier, activity)
-        return super.show()
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
index 64374e4e0627..e9f77ab71bc7 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.kt
@@ -592,8 +592,6 @@ open class DeckPicker :
 
         shortAnimDuration = resources.getInteger(android.R.integer.config_shortAnimTime)
 
-        Onboarding.DeckPicker(this, recyclerViewLayoutManager).onCreate()
-
         launchShowingHidingEssentialFileMigrationProgressDialog()
 
         InitialActivity.checkWebviewVersion(packageManager, this)
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
index 254afa2c4231..e9c8d6a29e99 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.kt
@@ -495,9 +495,6 @@ class NoteEditor : AnkiFragment(R.layout.note_editor), DeckSelectionListener, Su
             setIconColor(MaterialColors.getColor(requireContext(), R.attr.toolbarIconColor, 0))
         }
         startLoadingCollection()
-        // Onboarding must be initialised after creating view
-        val onboarding = Onboarding.NoteEditor(this)
-        onboarding.onCreate()
         // TODO this callback doesn't handle predictive back navigation!
         // see #14678, added to temporarily fix for a bug
         requireActivity().onBackPressedDispatcher.addCallback(this) {
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Onboarding.kt b/AnkiDroid/src/main/java/com/ichi2/anki/Onboarding.kt
deleted file mode 100644
index e77341a81bfe..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Onboarding.kt
+++ /dev/null
@@ -1,338 +0,0 @@
-/****************************************************************************************
- *                                                                                      *
- * Copyright (c) 2021 Shridhar Goel <shridhar.goel@gmail.com>                           *
- *                                                                                      *
- * This program is free software; you can redistribute it and/or modify it under        *
- * the terms of the GNU General Public License as published by the Free Software        *
- * Foundation; either version 3 of the License, or (at your option) any later           *
- * version.                                                                             *
- *                                                                                      *
- * This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
- * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
- * PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
- *                                                                                      *
- * You should have received a copy of the GNU General Public License along with         *
- * this program.  If not, see <http://www.gnu.org/licenses/>.                           *
- ****************************************************************************************/
-
-package com.ichi2.anki
-
-import android.content.Context
-import android.view.View
-import android.widget.FrameLayout
-import androidx.annotation.VisibleForTesting
-import androidx.recyclerview.widget.LinearLayoutManager
-import com.ichi2.anki.OnboardingUtils.Companion.addFeatures
-import com.ichi2.anki.OnboardingUtils.Companion.isVisited
-import com.ichi2.anki.OnboardingUtils.Companion.setVisited
-import com.ichi2.utils.HandlerUtils.executeFunctionUsingHandler
-
-/**
- * Suppose a tutorial needs to be added for an activity called MyActivity.
- * Steps for doing it:
- *
- * 1. If an inner class for MyActivity exists, then use it otherwise create a new class
- * inside Onboarding and initialise an object of that class inside MyActivity. In this case,
- * call onCreate() if the tutorial needs to be displayed when the screen is opened and does not have
- * any particular time or view visibility on which it depends. If the class already exists,
- * go to step 3.
- *
- * 2. If MyActivity does not already exist, then create it by extending Onboarding and
- * then create a new enum class implementing OnboardingFlag.
- *
- * 3. Create a new method to display the tutorial.
- *
- * 4. Add the function using TutorialArgument data class to the list of tutorials in the init block
- * if it has to be invoked which the screen is opened. If the function has to be invoked at a particular
- * time, then call it from MyActivity.
- *
- * 5. For any extra condition that needs to be checked before displaying a tutorial, add it as the
- * 'mOnboardingCondition' parameter in TutorialArguments.
- */
-
-// Contains classes for various screens. Each sub-class has methods to show onboarding tutorials.
-// TODO: Move OnboardingUtils.featureConstants to a DI container rather than a mutable singleton
-abstract class Onboarding<Feature>(
-    private val context: Context,
-    val tutorials: MutableList<TutorialArguments<Feature>>
-) where Feature : Enum<Feature>, Feature : OnboardingFlag {
-
-    companion object {
-        // Constants being used for onboarding preferences should not be modified.
-        const val DECK_PICKER_ONBOARDING = "DeckPickerOnboarding"
-        const val REVIEWER_ONBOARDING = "ReviewerOnboarding"
-        const val NOTE_EDITOR_ONBOARDING = "NoteEditorOnboarding"
-        const val CARD_BROWSER_ONBOARDING = "CardBrowserOnboarding"
-
-        init {
-            addDefaultFeatures()
-        }
-
-        @VisibleForTesting
-        fun resetOnboardingForTesting() {
-            OnboardingUtils.featureConstants.clear()
-            addDefaultFeatures()
-        }
-
-        private fun addDefaultFeatures() {
-            addFeatures(
-                listOf(
-                    DECK_PICKER_ONBOARDING,
-                    REVIEWER_ONBOARDING,
-                    NOTE_EDITOR_ONBOARDING,
-                    CARD_BROWSER_ONBOARDING
-                )
-            )
-        }
-    }
-
-    /**
-     * Contains the logic for iterating through various tutorials of a screen and displaying the first one
-     * in the list which is not visited yet and condition (if any) also holds true for it.
-     *
-     */
-    fun onCreate() {
-        tutorials.forEach {
-            // If tutorial is visited or condition is false then return from the loop.
-            if (isVisited(it.featureIdentifier, context) || it.onboardingCondition?.invoke() == false) {
-                return@forEach
-            }
-
-            // Invoke the function to display the tutorial.
-            it.onboardingFunction.invoke()
-
-            // Return so that other tutorials are not displayed.
-            return
-        }
-    }
-
-    /**
-     * Arguments required to handle the tutorial for a screen.
-     *
-     * @param featureIdentifier Enum constant for the feature.
-     * @param onboardingFunction Function which has to be invoked if the tutorial needs to be displayed.
-     * @param onboardingCondition Condition to be checked before displaying the tutorial. Tutorial should
-     * be displayed only if mOnboardingCondition is not null and returns true. Default value is null
-     * which indicates that no condition is required.
-     */
-    data class TutorialArguments<Feature>(
-        val featureIdentifier: Feature,
-        val onboardingFunction: () -> Unit,
-        val onboardingCondition: (() -> Boolean)? = null
-    )
-            where Feature : Enum<Feature>, Feature : OnboardingFlag
-
-    class DeckPicker(
-        private val activityContext: com.ichi2.anki.DeckPicker,
-        private val recyclerViewLayoutManager: LinearLayoutManager
-    ) : Onboarding<DeckPicker.DeckPickerOnboardingEnum>(activityContext, mutableListOf()) {
-
-        init {
-            tutorials.add(TutorialArguments(DeckPickerOnboardingEnum.FAB, this::showTutorialForFABIfNew))
-            tutorials.add(TutorialArguments(DeckPickerOnboardingEnum.DECK_NAME, this::showTutorialForDeckIfNew, activityContext::hasAtLeastOneDeckBeingDisplayed))
-            tutorials.add(TutorialArguments(DeckPickerOnboardingEnum.COUNTS_LAYOUT, this::showTutorialForCountsLayoutIfNew, activityContext::hasAtLeastOneDeckBeingDisplayed))
-        }
-
-        private fun showTutorialForFABIfNew() {
-            CustomMaterialTapTargetPromptBuilder(activityContext, DeckPickerOnboardingEnum.FAB)
-                .createCircleWithDimmedBackground()
-                .setFocalColourResource(R.color.material_blue_500)
-                .setDismissedListener { onCreate() }
-                .setTarget(R.id.fab_main)
-                .setPrimaryText(R.string.fab_tutorial_title)
-                .setSecondaryText(R.string.fab_tutorial_desc)
-                .show()
-        }
-
-        private fun showTutorialForDeckIfNew() {
-            CustomMaterialTapTargetPromptBuilder(activityContext, DeckPickerOnboardingEnum.DECK_NAME)
-                .createRectangleWithDimmedBackground()
-                .setDismissedListener { showTutorialForCountsLayoutIfNew() }
-                .setTarget(recyclerViewLayoutManager.getChildAt(0)?.findViewById(R.id.deck_name_linear_layout))
-                .setPrimaryText(R.string.start_studying)
-                .setSecondaryText(R.string.start_studying_desc)
-                .show()
-        }
-
-        private fun showTutorialForCountsLayoutIfNew() {
-            CustomMaterialTapTargetPromptBuilder(activityContext, DeckPickerOnboardingEnum.COUNTS_LAYOUT)
-                .createRectangleWithDimmedBackground()
-                .setTarget(recyclerViewLayoutManager.getChildAt(0)?.findViewById(R.id.counts_layout))
-                .setPrimaryText(R.string.menu__study_options)
-                .setSecondaryText(R.string.study_options_desc)
-                .show()
-        }
-
-        enum class DeckPickerOnboardingEnum(var value: Int) : OnboardingFlag {
-            FAB(0), DECK_NAME(1), COUNTS_LAYOUT(2);
-
-            override fun getOnboardingEnumValue(): Int {
-                return value
-            }
-
-            override fun getFeatureConstant(): String {
-                return DECK_PICKER_ONBOARDING
-            }
-        }
-    }
-
-    class Reviewer(private val activityContext: com.ichi2.anki.Reviewer) :
-        Onboarding<Reviewer.ReviewerOnboardingEnum>(activityContext, mutableListOf()) {
-
-        init {
-            tutorials.add(TutorialArguments(ReviewerOnboardingEnum.SHOW_ANSWER, this::onQuestionShown))
-            tutorials.add(TutorialArguments(ReviewerOnboardingEnum.FLAG, this::showTutorialForFlagIfNew))
-        }
-
-        private fun onQuestionShown() {
-            CustomMaterialTapTargetPromptBuilder(activityContext, ReviewerOnboardingEnum.SHOW_ANSWER)
-                .createRectangleWithDimmedBackground()
-                .setDismissedListener { onCreate() }
-                // FIXME .setTarget(R.id.flip_card)
-                .setPrimaryText(R.string.see_answer)
-                .setSecondaryText(R.string.see_answer_desc)
-                .show()
-        }
-
-        /**
-         * Called when the difficulty buttons are displayed after clicking on 'Show Answer'.
-         */
-        fun onAnswerShown() {
-            if (isVisited(ReviewerOnboardingEnum.DIFFICULTY_RATING, activityContext)) {
-                return
-            }
-
-            CustomMaterialTapTargetPromptBuilder(activityContext, ReviewerOnboardingEnum.DIFFICULTY_RATING)
-                .createRectangleWithDimmedBackground()
-                .setTarget(R.id.ease_buttons)
-                .setPrimaryText(R.string.select_difficulty)
-                .setSecondaryText(R.string.select_difficulty_desc)
-                .show()
-        }
-
-        private fun showTutorialForFlagIfNew() {
-            // Handler is required here to show feature prompt on menu items. Reference: https://github.com/sjwall/MaterialTapTargetPrompt/issues/73#issuecomment-320681655
-            executeFunctionUsingHandler {
-                CustomMaterialTapTargetPromptBuilder(activityContext, ReviewerOnboardingEnum.FLAG)
-                    .createCircle()
-                    .setFocalColourResource(R.color.material_blue_500)
-                    .setTarget(R.id.action_flag)
-                    .setPrimaryText(R.string.menu_flag_card)
-                    .setSecondaryText(R.string.flag_card_desc)
-                    .show()
-            }
-        }
-
-        /**
-         * Show after undo button goes into enabled state
-         */
-        fun onUndoButtonEnabled() {
-            if (isVisited(ReviewerOnboardingEnum.UNDO, activityContext)) {
-                return
-            }
-
-            CustomMaterialTapTargetPromptBuilder(activityContext, ReviewerOnboardingEnum.UNDO)
-                .createCircleWithDimmedBackground()
-                .setFocalColourResource(R.color.material_blue_500)
-                .setTarget(R.id.action_undo)
-                .setPrimaryText(R.string.undo)
-                .setSecondaryText(R.string.undo_desc)
-                .show()
-        }
-
-        enum class ReviewerOnboardingEnum(var value: Int) : OnboardingFlag {
-            SHOW_ANSWER(0), DIFFICULTY_RATING(1), FLAG(2), UNDO(3);
-
-            override fun getOnboardingEnumValue(): Int {
-                return value
-            }
-
-            override fun getFeatureConstant(): String {
-                return REVIEWER_ONBOARDING
-            }
-        }
-    }
-
-    class NoteEditor(private val fragment: com.ichi2.anki.NoteEditor) :
-        Onboarding<NoteEditor.NoteEditorOnboardingEnum>(fragment.requireContext(), mutableListOf()) {
-
-        init {
-            tutorials.add(TutorialArguments(NoteEditorOnboardingEnum.FRONT_BACK, this::showTutorialForFrontAndBackIfNew))
-            tutorials.add(TutorialArguments(NoteEditorOnboardingEnum.FORMATTING_TOOLS, this::showTutorialForFormattingTools))
-        }
-
-        private fun showTutorialForFrontAndBackIfNew() {
-            CustomMaterialTapTargetPromptBuilder(fragment.requireActivity(), NoteEditorOnboardingEnum.FRONT_BACK)
-                .createRectangleWithDimmedBackground()
-                .setDismissedListener { onCreate() }
-                .setTarget(R.id.CardEditorEditFieldsLayout)
-                .setPrimaryText(R.string.card_contents)
-                .setSecondaryText(R.string.card_contents_desc)
-                .show()
-        }
-
-        private fun showTutorialForFormattingTools() {
-            CustomMaterialTapTargetPromptBuilder(fragment.requireActivity(), NoteEditorOnboardingEnum.FORMATTING_TOOLS)
-                .createRectangleWithDimmedBackground()
-                .setTarget(R.id.editor_toolbar)
-                .setPrimaryText(R.string.format_content)
-                .setSecondaryText(R.string.format_content_desc)
-                .show()
-        }
-
-        enum class NoteEditorOnboardingEnum(var value: Int) : OnboardingFlag {
-            FRONT_BACK(0), FORMATTING_TOOLS(1);
-
-            override fun getOnboardingEnumValue(): Int {
-                return value
-            }
-
-            override fun getFeatureConstant(): String {
-                return NOTE_EDITOR_ONBOARDING
-            }
-        }
-    }
-
-    class CardBrowser(private val activityContext: com.ichi2.anki.CardBrowser) :
-        Onboarding<CardBrowser.CardBrowserOnboardingEnum>(activityContext, mutableListOf()) {
-
-        init {
-            tutorials.add(TutorialArguments(CardBrowserOnboardingEnum.DECK_CHANGER, this::showTutorialForDeckChangerIfNew))
-            tutorials.add(TutorialArguments(CardBrowserOnboardingEnum.CARD_PRESS_AND_HOLD, this::showTutorialForCardClickIfNew))
-        }
-
-        private fun showTutorialForDeckChangerIfNew() {
-            CustomMaterialTapTargetPromptBuilder(activityContext, CardBrowserOnboardingEnum.DECK_CHANGER)
-                .createRectangleWithDimmedBackground()
-                .setFocalColourResource(R.color.material_blue_500)
-                .setDismissedListener { onCreate() }
-                .setTarget(R.id.toolbar_spinner)
-                .setPrimaryText(R.string.deck_changer_card_browser)
-                .setSecondaryText(R.string.deck_changer_card_browser_desc)
-                .show()
-        }
-
-        private fun showTutorialForCardClickIfNew() {
-            val cardBrowserTutorial: FrameLayout = activityContext.findViewById(R.id.card_browser_tutorial)
-            cardBrowserTutorial.apply {
-                visibility = View.VISIBLE
-                setOnClickListener {
-                    visibility = View.GONE
-                }
-            }
-            setVisited(CardBrowserOnboardingEnum.CARD_PRESS_AND_HOLD, activityContext)
-        }
-
-        enum class CardBrowserOnboardingEnum(var value: Int) : OnboardingFlag {
-            DECK_CHANGER(0), CARD_PRESS_AND_HOLD(1);
-
-            override fun getOnboardingEnumValue(): Int {
-                return value
-            }
-
-            override fun getFeatureConstant(): String {
-                return CARD_BROWSER_ONBOARDING
-            }
-        }
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingFlag.kt b/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingFlag.kt
deleted file mode 100644
index a14553127f49..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingFlag.kt
+++ /dev/null
@@ -1,42 +0,0 @@
-/****************************************************************************************
- *                                                                                      *
- * Copyright (c) 2021 Shridhar Goel <shridhar.goel@gmail.com>                           *
- *                                                                                      *
- * This program is free software; you can redistribute it and/or modify it under        *
- * the terms of the GNU General Public License as published by the Free Software        *
- * Foundation; either version 3 of the License, or (at your option) any later           *
- * version.                                                                             *
- *                                                                                      *
- * This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
- * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
- * PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
- *                                                                                      *
- * You should have received a copy of the GNU General Public License along with         *
- * this program.  If not, see <http://www.gnu.org/licenses/>.                           *
- ****************************************************************************************/
-
-package com.ichi2.anki
-
-/**
- * Enumeration related to onboarding to use fixed integral values for enum constants
- * instead of using ordinals and ensuring that the used values are distinct. Implement this
- * interface whenever an onboarding related enum is needed.
- *
- * For removing constants, comment out the constant instead of removing it so that older values
- * are not used again.
- */
-interface OnboardingFlag {
-
-    /**
-     * Distinct values should be used in a particular onboarding enum class.
-     * The returned value should be between 0 and 63, the position range of bits in Long.
-     */
-    fun getOnboardingEnumValue(): Int
-    // TODO: Add lint check.
-
-    /**
-     * Constant used to represent preference key for screens.
-     * Values once defined should not be changed.
-     */
-    fun getFeatureConstant(): String
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingUtils.kt b/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingUtils.kt
deleted file mode 100644
index 54dcd86933f5..000000000000
--- a/AnkiDroid/src/main/java/com/ichi2/anki/OnboardingUtils.kt
+++ /dev/null
@@ -1,108 +0,0 @@
-/****************************************************************************************
- *                                                                                      *
- * Copyright (c) 2021 Shridhar Goel <shridhar.goel@gmail.com>                           *
- *                                                                                      *
- * This program is free software; you can redistribute it and/or modify it under        *
- * the terms of the GNU General Public License as published by the Free Software        *
- * Foundation; either version 3 of the License, or (at your option) any later           *
- * version.                                                                             *
- *                                                                                      *
- * This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
- * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
- * PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
- *                                                                                      *
- * You should have received a copy of the GNU General Public License along with         *
- * this program.  If not, see <http://www.gnu.org/licenses/>.                           *
- ****************************************************************************************/
-
-package com.ichi2.anki
-
-import android.content.Context
-import androidx.annotation.VisibleForTesting
-import androidx.core.content.edit
-import com.ichi2.anki.IntroductionActivity.Companion.INTRODUCTION_SLIDES_SHOWN
-import com.ichi2.anki.preferences.sharedPrefs
-import timber.log.Timber
-import java.util.BitSet
-
-class OnboardingUtils {
-
-    companion object {
-        /**
-         * SHOW_ONBOARDING represents the preference key for checking if onboarding is enabled.
-         * Preference can be toggled by visiting 'Advanced' settings in the app.
-         */
-        const val SHOW_ONBOARDING = "showOnboarding"
-
-        @VisibleForTesting
-        val featureConstants: MutableSet<String> = HashSet()
-
-        /** Register this feature category as an onboarding feature.
-         * It ensures it gets reset if asked. */
-        fun addFeature(featureCategory: String) {
-            featureConstants.add(featureCategory)
-        }
-
-        /** Register all feature categories as onboarding features.
-         * They all get reset when reset is pressed. */
-        fun addFeatures(featureCategory: Iterable<String>) {
-            featureCategory.forEach(::addFeature)
-        }
-
-        /**
-         * Check if the tutorial for a feature should be displayed or not.
-         */
-        fun isVisited(featureIdentifier: OnboardingFlag, context: Context): Boolean {
-            // Return if onboarding is not enabled.
-            if (!context.sharedPrefs().getBoolean(SHOW_ONBOARDING, false)) {
-                return true
-            }
-
-            val visitedFeatures = getAllVisited(context, featureIdentifier.getFeatureConstant())
-
-            // If the bit at an index is set, then the corresponding tutorial has been seen.
-            // Return true if seen, otherwise false.
-            return visitedFeatures.get(featureIdentifier.getOnboardingEnumValue())
-        }
-
-        /**
-         * Set the tutorial for a feature as visited.
-         */
-        fun setVisited(featureIdentifier: OnboardingFlag, context: Context) {
-            val visitedFeatures = getAllVisited(context, featureIdentifier.getFeatureConstant())
-
-            // Set the bit at the index defined for a feature once the tutorial for that feature is seen by the user.
-            visitedFeatures.set(featureIdentifier.getOnboardingEnumValue())
-
-            context.sharedPrefs().edit {
-                putLong(
-                    featureIdentifier.getFeatureConstant(),
-                    visitedFeatures.toLongArray()[0]
-                )
-            }
-        }
-
-        /**
-         * Returns a BitSet where the set bits indicate the visited screens.
-         */
-        private fun getAllVisited(context: Context, featureConstant: String): BitSet {
-            val currentValue = context.sharedPrefs().getLong(featureConstant, 0)
-            return BitSet.valueOf(longArrayOf(currentValue))
-        }
-
-        fun reset(context: Context) {
-            Timber.i("Resetting all onboarding")
-            reset(context, featureConstants)
-        }
-
-        private fun reset(context: Context, featureConstants: Collection<String>) {
-            context.sharedPrefs().edit {
-                featureConstants.forEach {
-                    this@edit.putLong(it, 0)
-                }
-                // Reset introduction slides preference
-                putBoolean(INTRODUCTION_SLIDES_SHOWN, false)
-            }
-        }
-    }
-}
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.kt b/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.kt
index a7573bc14936..4a93360093aa 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.kt
@@ -193,7 +193,6 @@ open class Reviewer :
 
     @VisibleForTesting
     protected val processor = PeripheralKeymap(this, this)
-    private val onboarding = Onboarding.Reviewer(this)
 
     private val addNoteLauncher = registerForActivityResult(
         ActivityResultContracts.StartActivityForResult(),
@@ -783,9 +782,6 @@ open class Reviewer :
                 }
             }
         }
-        if (undoEnabled) {
-            onboarding.onUndoButtonEnabled()
-        }
         val toggleWhiteboardIcon = menu.findItem(R.id.action_toggle_whiteboard)
         val toggleStylusIcon = menu.findItem(R.id.action_toggle_stylus)
         val hideWhiteboardIcon = menu.findItem(R.id.action_hide_whiteboard)
@@ -865,8 +861,6 @@ open class Reviewer :
             voicePlaybackIcon.setTitle(R.string.menu_enable_voice_playback)
         }
 
-        onboarding.onCreate()
-
         increaseHorizontalPaddingOfOverflowMenuIcons(menu)
         tintOverflowMenuIcons(menu, skipIf = { isFlagItem(it) })
 
@@ -935,7 +929,6 @@ open class Reviewer :
 
     override fun displayAnswerBottomBar() {
         super.displayAnswerBottomBar()
-        onboarding.onAnswerShown()
         // Set correct label and background resource for each button
         // Note that it's necessary to set the resource dynamically as the ease2 / ease3 buttons
         // (which libanki expects ease to be 2 and 3) can either be hard, good, or easy - depending on num buttons shown
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/preferences/DevOptionsFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/preferences/DevOptionsFragment.kt
index c00e3241d5ab..b803655fcf78 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/preferences/DevOptionsFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/preferences/DevOptionsFragment.kt
@@ -21,7 +21,6 @@ import androidx.preference.Preference
 import androidx.preference.SwitchPreferenceCompat
 import com.ichi2.anki.BuildConfig
 import com.ichi2.anki.CollectionManager
-import com.ichi2.anki.OnboardingUtils
 import com.ichi2.anki.R
 import com.ichi2.anki.analytics.UsageAnalytics
 import com.ichi2.anki.launchCatchingTask
@@ -82,11 +81,6 @@ class DevOptionsFragment : SettingsFragment() {
             launchCatchingTask { CollectionManager.withCol { Thread.sleep(1000 * 86400) } }
             false
         }
-        // Reset onboarding
-        requirePreference<Preference>(R.string.pref_reset_onboarding_key).setOnPreferenceClickListener {
-            OnboardingUtils.reset(requireContext())
-            false
-        }
 
         val sizePreference = requirePreference<IncrementerNumberRangePreferenceCompat>(getString(R.string.pref_fill_collection_size_file_key))
         val numberOfFilePreference = requirePreference<IncrementerNumberRangePreferenceCompat>(getString(R.string.pref_fill_collection_number_file_key))
diff --git a/AnkiDroid/src/main/res/drawable/hand_icon.xml b/AnkiDroid/src/main/res/drawable/hand_icon.xml
deleted file mode 100644
index 737c9de803e9..000000000000
--- a/AnkiDroid/src/main/res/drawable/hand_icon.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<vector android:height="24dp" android:tint="#FFFFFF"
-    android:viewportHeight="24" android:viewportWidth="24"
-    android:width="24dp" xmlns:android="http://schemas.android.com/apk/res/android">
-    <path android:fillColor="@android:color/white" android:pathData="M23,5.5V20c0,2.2 -1.8,4 -4,4h-7.3c-1.08,0 -2.1,-0.43 -2.85,-1.19L1,14.83c0,0 1.26,-1.23 1.3,-1.25c0.22,-0.19 0.49,-0.29 0.79,-0.29c0.22,0 0.42,0.06 0.6,0.16C3.73,13.46 8,15.91 8,15.91V4c0,-0.83 0.67,-1.5 1.5,-1.5S11,3.17 11,4v7h1V1.5C12,0.67 12.67,0 13.5,0S15,0.67 15,1.5V11h1V2.5C16,1.67 16.67,1 17.5,1S19,1.67 19,2.5V11h1V5.5C20,4.67 20.67,4 21.5,4S23,4.67 23,5.5z"/>
-</vector>
diff --git a/AnkiDroid/src/main/res/layout/card_browser.xml b/AnkiDroid/src/main/res/layout/card_browser.xml
index a788ef973c73..bd29ef9e983d 100644
--- a/AnkiDroid/src/main/res/layout/card_browser.xml
+++ b/AnkiDroid/src/main/res/layout/card_browser.xml
@@ -47,35 +47,8 @@
             android:paddingBottom="72dp"
             android:drawSelectorOnTop="true"
             android:fastScrollEnabled="true" />
-
     </LinearLayout>
 
     <include layout="@layout/anki_progress"/>
-        
-    <FrameLayout
-        android:id="@+id/card_browser_tutorial"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:background="@color/semi_transparent_black"
-        android:visibility="gone">
-
-        <ImageView
-            android:layout_width="100dp"
-            android:layout_height="100dp"
-            android:src="@drawable/hand_icon"
-            android:layout_gravity="center" />
-
-        <com.ichi2.ui.FixedTextView
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:textSize="18sp"
-            android:text="@string/card_click"
-            android:textColor="@color/white"
-            android:paddingStart="8dp"
-            android:paddingEnd="8dp"
-            android:layout_gravity="center"
-            android:gravity="center"
-            android:layout_marginTop="100dp" />
 
-    </FrameLayout>
 </androidx.coordinatorlayout.widget.CoordinatorLayout>
diff --git a/AnkiDroid/src/main/res/values/19-onboarding.xml b/AnkiDroid/src/main/res/values/19-onboarding.xml
deleted file mode 100644
index 926011aa8f18..000000000000
--- a/AnkiDroid/src/main/res/values/19-onboarding.xml
+++ /dev/null
@@ -1,21 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <string name="fab_tutorial_title" comment="Tooltip for the floating action bar">Get started</string>
-    <string name="fab_tutorial_desc">Create a deck, download a pre-made deck or add a note</string>
-    <string name="start_studying">Click on a deck to start studying</string>
-    <string name="start_studying_desc">Long press on a deck to get more options related to it</string>
-    <string name="study_options_desc">Open study options to see card review details for a deck</string>
-    <string name="see_answer">See the answer</string>
-    <string name="see_answer_desc">When you are ready to view the answer, click here</string>
-    <string name="flag_card_desc">Select a coloured flag for this card</string>
-    <string name="undo_desc">Undo and go back to the previous card</string>
-    <string name="select_difficulty">Select the difficulty</string>
-    <string name="select_difficulty_desc">This will decide the time when this card will be displayed again</string>
-    <string name="card_contents">Enter card contents here</string>
-    <string name="card_contents_desc">Enter the question in \'Front\' field and the answer in \'Back\' field</string>
-    <string name="format_content">Format content</string>
-    <string name="format_content_desc">Format your card\'s content using various formatting options</string>
-    <string name="deck_changer_card_browser">Select a deck from here</string>
-    <string name="deck_changer_card_browser_desc">Cards from the selected deck will be displayed. Choose \'All Decks\' to view all cards.</string>
-    <string name="card_click">Select a card to edit it\nLong press to select multiple cards</string>
-</resources>
diff --git a/AnkiDroid/src/main/res/values/constants.xml b/AnkiDroid/src/main/res/values/constants.xml
index bdcf44777a6f..483d8263c0b0 100644
--- a/AnkiDroid/src/main/res/values/constants.xml
+++ b/AnkiDroid/src/main/res/values/constants.xml
@@ -314,10 +314,4 @@
         <item>android.permission.WRITE_EXTERNAL_STORAGE</item>
     </string-array>
 
-    <!-- Onboarding -->
-    <string name="reset_onboarding" maxLength="41">Reset onboarding walkthrough</string>
-    <string name="show_onboarding" maxLength="41">Show onboarding walkthrough</string>
-    <string name="show_onboarding_desc">Display feature tutorial to learn more about the app</string>
-    <string name="reset_onboarding_desc">Show all tutorials again</string>
-
 </resources>
diff --git a/AnkiDroid/src/main/res/values/preferences.xml b/AnkiDroid/src/main/res/values/preferences.xml
index 600385e342f5..f1d4d439f282 100644
--- a/AnkiDroid/src/main/res/values/preferences.xml
+++ b/AnkiDroid/src/main/res/values/preferences.xml
@@ -179,8 +179,6 @@
     <string name="new_congrats_screen_pref_key">new_congrats_screen</string>
     <string name="new_reviewer_pref_key">newReviewer</string>
     <string name="new_reviewer_options_key">newReviewerOptions</string>
-    <string name="pref_show_onboarding_key">showOnboarding</string>
-    <string name="pref_reset_onboarding_key">resetOnboarding</string>
     <string name="dev_options_enabled_by_user_key">devOptionsEnabledByUser</string>
     <!-- Developer options > Create fake media -->
     <string name="pref_fill_collection_key">fillCollection</string>
diff --git a/AnkiDroid/src/main/res/xml/preferences_dev_options.xml b/AnkiDroid/src/main/res/xml/preferences_dev_options.xml
index 2bc3ad8cc3e8..95967c67dde8 100644
--- a/AnkiDroid/src/main/res/xml/preferences_dev_options.xml
+++ b/AnkiDroid/src/main/res/xml/preferences_dev_options.xml
@@ -57,19 +57,6 @@
         android:title="New congrats screen"
         android:key="@string/new_congrats_screen_pref_key"
         android:defaultValue="false"/>
-    <SwitchPreferenceCompat
-        android:title="@string/show_onboarding"
-        android:summary="@string/show_onboarding_desc"
-        android:key="@string/pref_show_onboarding_key"
-        android:defaultValue="false"/>
-    <Preference
-        android:title="@string/reset_onboarding"
-        android:summary="@string/reset_onboarding_desc"
-        android:key="@string/pref_reset_onboarding_key"/>
-    <Preference
-        android:title="@string/reset_onboarding"
-        android:summary="@string/reset_onboarding_desc"
-        android:key="@string/pref_reset_onboarding_key"/>
     <PreferenceCategory
         android:title="Create fake media"
         >
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingFlagTest.kt b/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingFlagTest.kt
deleted file mode 100644
index 8e2bac1a614e..000000000000
--- a/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingFlagTest.kt
+++ /dev/null
@@ -1,133 +0,0 @@
-/****************************************************************************************
- *                                                                                      *
- * Copyright (c) 2021 Arthur Milchior <arthur@milchior.fr>                              *
- * Copyright (c) 2021 Shridhar Goel <shridhar.goel@gmail.com>                           *
- *                                                                                      *
- * This program is free software; you can redistribute it and/or modify it under        *
- * the terms of the GNU General Public License as published by the Free Software        *
- * Foundation; either version 3 of the License, or (at your option) any later           *
- * version.                                                                             *
- *                                                                                      *
- * This program is distributed in the hope that it will be useful, but WITHOUT ANY      *
- * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A      *
- * PARTICULAR PURPOSE. See the GNU General Public License for more details.             *
- *                                                                                      *
- * You should have received a copy of the GNU General Public License along with         *
- * this program.  If not, see <http://www.gnu.org/licenses/>.                           *
- ****************************************************************************************/
-
-package com.ichi2.anki
-
-import androidx.core.content.edit
-import androidx.test.ext.junit.runners.AndroidJUnit4
-import com.ichi2.anki.OnboardingUtils.Companion.SHOW_ONBOARDING
-import com.ichi2.anki.preferences.sharedPrefs
-import org.junit.After
-import org.junit.Assert.assertFalse
-import org.junit.Assert.assertTrue
-import org.junit.Before
-import org.junit.Test
-import org.junit.runner.RunWith
-
-@RunWith(AndroidJUnit4::class)
-class OnboardingFlagTest : RobolectricTest() {
-
-    companion object {
-        const val FIRST_ENUM = "FirstEnum"
-        const val SECOND_ENUM = "SecondEnum"
-    }
-
-    @Before
-    fun setShowOnboardingPreference() {
-        targetContext.sharedPrefs().edit { putBoolean(SHOW_ONBOARDING, true) }
-    }
-
-    @After
-    fun after() {
-        Onboarding.resetOnboardingForTesting() // #9597 - global needs resetting
-    }
-
-    @Test
-    fun verifyThatEnumsAreNotSet() {
-        assertFalse(isVisited(FirstEnum.FIRST))
-        assertFalse(isVisited(FirstEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.LAST))
-    }
-
-    @Test
-    fun verifyOnlyOneEnumIsSet() {
-        setVisited(FirstEnum.MIDDLE)
-
-        assertFalse(isVisited(FirstEnum.FIRST))
-        assertTrue(isVisited(FirstEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.LAST))
-    }
-
-    @Test
-    fun verifyEnumsWithSameConstantNameAreSetSeparately() {
-        setVisited(FirstEnum.MIDDLE)
-        setVisited(SecondEnum.MIDDLE)
-
-        assertFalse(isVisited(FirstEnum.FIRST))
-        assertTrue(isVisited(FirstEnum.MIDDLE))
-        assertTrue(isVisited(SecondEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.LAST))
-    }
-
-    @Test
-    fun verifyAllOfCardBrowserOnboardingEnumsAreSet() {
-        setVisited(FirstEnum.FIRST)
-        setVisited(FirstEnum.MIDDLE)
-
-        assertTrue(isVisited(FirstEnum.FIRST))
-        assertTrue(isVisited(FirstEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.MIDDLE))
-        assertFalse(isVisited(SecondEnum.LAST))
-    }
-
-    @Test
-    fun verifyReset() {
-        OnboardingUtils.addFeature(FIRST_ENUM)
-        setVisited(FirstEnum.FIRST)
-        setVisited(SecondEnum.LAST)
-        OnboardingUtils.reset(targetContext)
-        assertFalse(isVisited(FirstEnum.FIRST))
-        assertTrue(isVisited(SecondEnum.LAST))
-    }
-
-    private enum class FirstEnum(var valueFirst: Int) : OnboardingFlag {
-        FIRST(0),
-        MIDDLE(1);
-
-        override fun getOnboardingEnumValue(): Int {
-            return valueFirst
-        }
-
-        override fun getFeatureConstant(): String {
-            return FIRST_ENUM
-        }
-    }
-
-    private enum class SecondEnum(var valueSecond: Int) : OnboardingFlag {
-        MIDDLE(0),
-        LAST(1);
-
-        override fun getOnboardingEnumValue(): Int {
-            return valueSecond
-        }
-
-        override fun getFeatureConstant(): String {
-            return SECOND_ENUM
-        }
-    }
-
-    private fun isVisited(featureIdentifier: OnboardingFlag): Boolean {
-        return OnboardingUtils.isVisited(featureIdentifier, targetContext)
-    }
-
-    private fun setVisited(featureIdentifier: OnboardingFlag) {
-        OnboardingUtils.setVisited(featureIdentifier, targetContext)
-    }
-}
diff --git a/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingUtilsTest.kt b/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingUtilsTest.kt
deleted file mode 100644
index f713b429eb15..000000000000
--- a/AnkiDroid/src/test/java/com/ichi2/anki/OnboardingUtilsTest.kt
+++ /dev/null
@@ -1,45 +0,0 @@
-/*
- *  Copyright (c) 2021 Arthur Milchior <arthur@milchior.fr>
- *
- *  This program is free software; you can redistribute it and/or modify it under
- *  the terms of the GNU General Public License as published by the Free Software
- *  Foundation; either version 3 of the License, or (at your option) any later
- *  version.
- *
- *  This program is distributed in the hope that it will be useful, but WITHOUT ANY
- *  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
- *  PARTICULAR PURPOSE. See the GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License along with
- *  this program.  If not, see <http://www.gnu.org/licenses/>.
- */
-
-package com.ichi2.anki
-
-import com.ichi2.testutils.HamcrestUtils.containsInAnyOrder
-import com.ichi2.testutils.isType
-import org.hamcrest.MatcherAssert.assertThat
-import org.junit.Before
-import org.junit.Test
-import kotlin.reflect.KCallable
-import kotlin.reflect.full.companionObject
-
-class OnboardingUtilsTest {
-
-    @Before
-    fun setUp() {
-        Onboarding.resetOnboardingForTesting() // #9597 - global needs resetting
-    }
-
-    @Test
-    fun resetResetAllElementsFromOnboarding() {
-        val onboardingIdentifiers = Onboarding::class.companionObject!!.members.filter { it.isFinal && it.isType<String>() }.map { getConstantValue(it) }
-        // featureConstants is internally used in reset()
-        val featuresAvailableForReset = OnboardingUtils.featureConstants
-        assertThat("All onboarding identifiers are available for reset", onboardingIdentifiers, containsInAnyOrder(featuresAvailableForReset))
-    }
-
-    enum class Feature : OnboardingFlag
-
-    private fun getConstantValue(it: KCallable<*>): String = it.call(null) as String
-}
