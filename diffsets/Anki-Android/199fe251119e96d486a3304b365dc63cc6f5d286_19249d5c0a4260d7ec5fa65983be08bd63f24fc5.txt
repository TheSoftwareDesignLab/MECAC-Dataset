diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/servicelayer/PreferenceUpgradeService.kt b/AnkiDroid/src/main/java/com/ichi2/anki/servicelayer/PreferenceUpgradeService.kt
index d748ec942db0..e264b359ebb8 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/servicelayer/PreferenceUpgradeService.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/servicelayer/PreferenceUpgradeService.kt
@@ -51,6 +51,7 @@ import com.ichi2.anki.reviewer.FullScreenMode
 import com.ichi2.anki.reviewer.MappableBinding
 import com.ichi2.anki.reviewer.MappableBinding.Companion.toPreferenceString
 import com.ichi2.anki.reviewer.ReviewerBinding
+import com.ichi2.annotations.NeedsTest
 import com.ichi2.libanki.Consts
 import com.ichi2.utils.HashUtil.hashSetInit
 import timber.log.Timber
@@ -126,6 +127,7 @@ object PreferenceUpgradeService {
                     yield(RemoveNoCodeFormatting())
                     yield(UpgradeBrowserColumns())
                     yield(RemoveLastExportedAtTime())
+                    yield(RemoveLongTouchGesture())
                 }
 
             /** Returns a list of preference upgrade classes which have not been applied */
@@ -677,6 +679,22 @@ object PreferenceUpgradeService {
                 }
             }
         }
+
+        @NeedsTest("long touch gesture is removed from preferences")
+        internal class RemoveLongTouchGesture : PreferenceUpgrade(21) {
+            override fun upgrade(preferences: SharedPreferences) {
+                for (command in ViewerCommand.entries) {
+                    val value = preferences.getString(command.preferenceKey, null) ?: continue
+                    val bindings = ReviewerBinding.fromPreferenceString(value)
+                    val unknown = bindings.filter { it.binding is Binding.UnknownBinding }
+                    if (unknown.isEmpty()) continue
+                    val newBindings = bindings - unknown
+                    preferences.edit {
+                        putString(command.preferenceKey, newBindings.toPreferenceString())
+                    }
+                }
+            }
+        }
     }
 }
 
