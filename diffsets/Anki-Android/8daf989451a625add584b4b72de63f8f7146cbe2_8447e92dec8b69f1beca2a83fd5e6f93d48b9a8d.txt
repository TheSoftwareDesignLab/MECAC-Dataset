diff --git a/src/com/ichi2/anki/StudyOptionsFragment.java b/src/com/ichi2/anki/StudyOptionsFragment.java
index 93358ff5d79c..ff7995e665aa 100644
--- a/src/com/ichi2/anki/StudyOptionsFragment.java
+++ b/src/com/ichi2/anki/StudyOptionsFragment.java
@@ -77,8 +77,11 @@
 import org.json.JSONException;
 import org.json.JSONObject;
 
+import java.util.Collections;
+import java.util.Comparator;
 import java.util.HashMap;
 import java.util.HashSet;
+import java.util.List;
 import java.util.Locale;
 
 public class StudyOptionsFragment extends Fragment {
@@ -917,7 +920,14 @@ public void onClick(DialogInterface dialog, int which) {
                 // Here we add the list of tags for the whole collection.
                 Collection col;
                 col = AnkiDroidApp.getCol();
-                allTags = col.getTags().all().toArray(new String[0]);
+                List<String> tags_list = col.getTags().all();
+                Collections.sort(tags_list, new Comparator<String>() {
+                    @Override
+                    public int compare(String lhs, String rhs) {
+                        return lhs.compareToIgnoreCase(rhs);
+                    }
+                });
+                allTags = tags_list.toArray(new String[tags_list.size()]);
                 builder1.setTitle(R.string.studyoptions_limit_select_tags);
                 builder1.setMultiChoiceItems(allTags, new boolean[allTags.length],
                         new DialogInterface.OnClickListener() {
diff --git a/src/com/ichi2/themes/StyledDialog.java b/src/com/ichi2/themes/StyledDialog.java
index 6676f70f9de0..956441f7e2ff 100644
--- a/src/com/ichi2/themes/StyledDialog.java
+++ b/src/com/ichi2/themes/StyledDialog.java
@@ -46,9 +46,7 @@
 import com.ichi2.anki.R;
 
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.Collections;
-import java.util.Comparator;
 import java.util.List;
 
 public class StyledDialog extends Dialog {
@@ -118,14 +116,8 @@ public void setEnabled(boolean enabled) {
     private void setItems(int type, ListView listview, String[] values, int checkedItem, boolean[] checked,
             DialogInterface.OnClickListener listener) {
         mListView = listview;
-        mItemList = Arrays.asList(values);
-        Collections.sort(mItemList, new Comparator<String>() {
-            @Override
-            public int compare(String lhs, String rhs) {
-                return lhs.compareToIgnoreCase(rhs);
-            }
-        });
-
+        mItemList = new ArrayList<String>();
+        Collections.addAll(mItemList, values);
         mListener = listener;
         if (type == 3) {
             mListView.setOnItemClickListener(new OnItemClickListener() {
