diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.kt b/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.kt
index e78ee2405c29..2bf1410c8033 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/Preferences.kt
@@ -121,6 +121,8 @@ class Preferences : AnkiActivity() {
             .replace(R.id.settings_container, fragment)
             .commit()
 
+        addFragmentsToBackStack(supportFragmentManager, intent)
+
         supportFragmentManager.addOnBackStackChangedListener(mOnBackStackChangedListener)
     }
 
@@ -156,6 +158,33 @@ class Preferences : AnkiActivity() {
         }
     }
 
+    /**
+     * Adds fragments specified in [intent] extra to [fragmentManager] backstack,
+     * following the fragments array order
+     * @param intent with extra key [EXTRA_BACKSTACK_FRAGMENTS]
+     * and value of a array of fragments java class names
+     */
+    private fun addFragmentsToBackStack(fragmentManager: FragmentManager, intent: Intent?) {
+        if (intent == null) {
+            return
+        }
+        val fragmentClasses = intent.getStringArrayExtra(EXTRA_BACKSTACK_FRAGMENTS)
+            ?: return
+
+        for (fragmentClass in fragmentClasses) {
+            try {
+                val fragment = Class.forName(fragmentClass).newInstance() as Fragment
+                fragmentManager
+                    .beginTransaction()
+                    .replace(R.id.settings_container, fragment)
+                    .addToBackStack(null)
+                    .commit()
+            } catch (e: Exception) {
+                throw RuntimeException("Failed to load $fragmentClass", e)
+            }
+        }
+    }
+
     override fun onOptionsItemSelected(item: MenuItem): Boolean {
         if (item.itemId == android.R.id.home) {
             onBackPressed()
@@ -1347,6 +1376,11 @@ class Preferences : AnkiActivity() {
         )
         const val EXTRA_SHOW_FRAGMENT = ":android:show_fragment"
 
+        /**
+         * Key of intent extra used in [addFragmentsToBackStack]
+         */
+        const val EXTRA_BACKSTACK_FRAGMENTS = ":android:backstack_fragments"
+
         /** Returns the hour that the collection rolls over to the next day  */
         @JvmStatic
         fun getDayOffset(col: Collection): Int {
