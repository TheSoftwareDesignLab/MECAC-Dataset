diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksActivity.kt b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksActivity.kt
index c79ebaa5fba3..feda7e65a6ba 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksActivity.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksActivity.kt
@@ -259,44 +259,6 @@ class SharedDecksActivity : AnkiActivity() {
         onBackPressedDispatcher.addCallback(onBackPressedCallback)
     }
 
-    /**
-     * If download screen is open:
-     *      If download is in progress: Show download cancellation dialog
-     *      If download is not in progress: Close the download screen
-     * Otherwise, close the WebView.
-     */
-    @Deprecated("Deprecated in Java")
-    @Suppress("deprecation") // onBackPressed
-    override fun onBackPressed() {
-        when {
-            sharedDecksDownloadFragmentExists() -> {
-                supportFragmentManager.findFragmentByTag(SHARED_DECKS_DOWNLOAD_FRAGMENT)?.let {
-                    if ((it as SharedDecksDownloadFragment).isDownloadInProgress) {
-                        Timber.i("Back pressed when download is in progress, show cancellation confirmation dialog")
-                        // Show cancel confirmation dialog if download is in progress
-                        it.showCancelConfirmationDialog()
-                    } else {
-                        Timber.i("Back pressed when download is not in progress but download screen is open, close fragment")
-                        // Remove fragment
-                        supportFragmentManager.commit {
-                            remove(it)
-                        }
-                    }
-                }
-                supportFragmentManager.popBackStackImmediate()
-            }
-            else -> {
-                Timber.i("Back pressed which would lead to closing of the WebView")
-                super.onBackPressed()
-            }
-        }
-    }
-
-    private fun sharedDecksDownloadFragmentExists(): Boolean {
-        val sharedDecksDownloadFragment = supportFragmentManager.findFragmentByTag(SHARED_DECKS_DOWNLOAD_FRAGMENT)
-        return sharedDecksDownloadFragment != null && sharedDecksDownloadFragment.isAdded
-    }
-
     override fun onCreateOptionsMenu(menu: Menu): Boolean {
         menuInflater.inflate(R.menu.download_shared_decks_menu, menu)
 
diff --git a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
index debd0ec2ad57..1f40295a4187 100644
--- a/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
+++ b/AnkiDroid/src/main/java/com/ichi2/anki/SharedDecksDownloadFragment.kt
@@ -33,6 +33,7 @@ import android.webkit.CookieManager
 import android.widget.Button
 import android.widget.ProgressBar
 import android.widget.TextView
+import androidx.activity.OnBackPressedCallback
 import androidx.appcompat.app.AlertDialog
 import androidx.core.content.ContextCompat
 import androidx.core.content.FileProvider
@@ -82,6 +83,12 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
     var isDownloadInProgress = false
 
     private var downloadCancelConfirmationDialog: AlertDialog? = null
+    private val onBackPressedCallback =
+        object : OnBackPressedCallback(isDownloadInProgress) {
+            override fun handleOnBackPressed() {
+                showCancelConfirmationDialog()
+            }
+        }
 
     companion object {
         const val DOWNLOAD_PROGRESS_CHECK_DELAY = 1000L
@@ -136,6 +143,7 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
             cancelButton.visibility = View.VISIBLE
             tryAgainButton.visibility = View.GONE
         }
+        requireActivity().onBackPressedDispatcher.addCallback(onBackPressedCallback)
     }
 
     /**
@@ -172,6 +180,7 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
         downloadId = downloadManager.enqueue(downloadRequest)
         fileName = currentFileName
         isDownloadInProgress = true
+        onBackPressedCallback.isEnabled = isDownloadInProgress
         Timber.d("Download ID -> $downloadId")
         Timber.d("File name -> $fileName")
         view?.findViewById<TextView>(R.id.downloading_title)?.text = getString(R.string.downloading_file, fileName)
@@ -484,13 +493,13 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
 
         unregisterReceiver()
         isDownloadInProgress = false
+        onBackPressedCallback.isEnabled = isDownloadInProgress
 
         // If the cancel confirmation dialog is being shown and the download is no longer in progress, then remove the dialog.
         removeCancelConfirmationDialog()
     }
 
-    @Suppress("deprecation") // onBackPressed
-    fun showCancelConfirmationDialog() {
+    private fun showCancelConfirmationDialog() {
         downloadCancelConfirmationDialog =
             AlertDialog.Builder(requireContext()).create {
                 setTitle(R.string.cancel_download_question_title)
@@ -498,7 +507,8 @@ class SharedDecksDownloadFragment : Fragment(R.layout.fragment_shared_decks_down
                     downloadManager.remove(downloadId)
                     unregisterReceiver()
                     isDownloadInProgress = false
-                    activity?.onBackPressed()
+                    onBackPressedCallback.isEnabled = isDownloadInProgress
+                    activity?.onBackPressedDispatcher?.onBackPressed()
                 }
                 setNegativeButton(R.string.dialog_no) { _, _ ->
                     downloadCancelConfirmationDialog?.dismiss()
