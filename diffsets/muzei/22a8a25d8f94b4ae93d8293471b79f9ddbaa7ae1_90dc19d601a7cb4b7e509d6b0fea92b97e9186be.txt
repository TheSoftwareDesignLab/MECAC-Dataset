diff --git a/main/src/main/java/com/google/android/apps/muzei/widget/AppWidgetUpdateTask.kt b/main/src/main/java/com/google/android/apps/muzei/widget/AppWidgetUpdateTask.kt
index fef9f1453..d92c4fcb0 100644
--- a/main/src/main/java/com/google/android/apps/muzei/widget/AppWidgetUpdateTask.kt
+++ b/main/src/main/java/com/google/android/apps/muzei/widget/AppWidgetUpdateTask.kt
@@ -75,7 +75,7 @@ fun showWidgetPreview(context: Context) = launch {
  */
 suspend fun updateAppWidget(context: Context) {
     val widget = ComponentName(context, MuzeiAppWidgetProvider::class.java)
-    val appWidgetManager = AppWidgetManager.getInstance(context)
+    val appWidgetManager = AppWidgetManager.getInstance(context) ?: return
     val appWidgetIds = appWidgetManager.getAppWidgetIds(widget)
     if (appWidgetIds.isEmpty()) {
         // No app widgets, nothing to do
