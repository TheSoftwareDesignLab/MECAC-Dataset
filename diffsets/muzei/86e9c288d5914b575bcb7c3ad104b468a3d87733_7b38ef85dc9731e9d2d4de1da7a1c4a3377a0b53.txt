diff --git a/build.gradle b/build.gradle
index b9aa50214..c5928d8c5 100644
--- a/build.gradle
+++ b/build.gradle
@@ -27,6 +27,7 @@ buildscript {
         lifecycleVersion = "1.1.1"
         roomVersion = "1.1.1-rc1"
         pagingVersion = "1.0.0"
+        navigationVersion = "1.0.0-alpha02"
         workManagerVersion = "1.0.0-alpha02"
         playServicesWearableVersion = "15.0.1"
         firebaseCoreVersion = "16.0.0"
diff --git a/main/build.gradle b/main/build.gradle
index fcfc0a7bb..1ca4bfeee 100644
--- a/main/build.gradle
+++ b/main/build.gradle
@@ -114,6 +114,8 @@ dependencies {
     implementation "android.arch.lifecycle:runtime:$lifecycleVersion"
     implementation "android.arch.lifecycle:viewmodel:$lifecycleVersion"
     kapt "android.arch.lifecycle:compiler:$lifecycleVersion"
+    implementation "android.arch.navigation:navigation-fragment-ktx:$navigationVersion"
+    implementation "android.arch.navigation:navigation-ui-ktx:$navigationVersion"
 
     implementation project(':api')
     implementation project(':extensions')
diff --git a/main/src/main/java/com/google/android/apps/muzei/MainFragment.kt b/main/src/main/java/com/google/android/apps/muzei/MainFragment.kt
index 9154ed743..afa35d4cb 100644
--- a/main/src/main/java/com/google/android/apps/muzei/MainFragment.kt
+++ b/main/src/main/java/com/google/android/apps/muzei/MainFragment.kt
@@ -20,8 +20,6 @@ import android.os.Build
 import android.os.Bundle
 import android.support.design.widget.BottomNavigationView
 import android.support.v4.app.Fragment
-import android.support.v4.app.FragmentManager
-import android.support.v4.app.FragmentTransaction
 import android.support.v4.view.ViewCompat
 import android.support.v7.app.AppCompatActivity
 import android.support.v7.widget.Toolbar
@@ -29,6 +27,8 @@ import android.view.Gravity
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import androidx.navigation.findNavController
+import androidx.navigation.ui.setupWithNavController
 import com.google.android.apps.muzei.settings.EffectsFragment
 import com.google.android.apps.muzei.sources.ChooseSourceFragment
 import com.google.android.apps.muzei.util.makeCubicGradientScrimDrawable
@@ -39,23 +39,10 @@ import net.nurik.roman.muzei.R
  * Fragment which controls the main view of the Muzei app and handles the bottom navigation
  * between various screens.
  */
-class MainFragment : Fragment(), FragmentManager.OnBackStackChangedListener, ChooseSourceFragment.Callbacks {
+class MainFragment : Fragment(), ChooseSourceFragment.Callbacks {
 
     private lateinit var bottomNavigationView: BottomNavigationView
 
-    override fun onCreate(savedInstanceState: Bundle?) {
-        super.onCreate(savedInstanceState)
-        childFragmentManager.addOnBackStackChangedListener(this)
-    }
-
-    override fun onBackStackChanged() {
-        if (childFragmentManager.backStackEntryCount == 0) {
-            if (bottomNavigationView.selectedItemId != R.id.main_art_details) {
-                bottomNavigationView.selectedItemId = R.id.main_art_details
-            }
-        }
-    }
-
     override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
         return inflater.inflate(R.layout.main_fragment, container, false)
     }
@@ -75,60 +62,28 @@ class MainFragment : Fragment(), FragmentManager.OnBackStackChangedListener, Cho
 
         // Set up the container for the child fragments
         val container = view.findViewById<View>(R.id.container)
-        if (savedInstanceState == null) {
-            FirebaseAnalytics.getInstance(requireContext())
-                    .setCurrentScreen(requireActivity(), "ArtDetail",
-                            ArtDetailFragment::class.java.simpleName)
-            childFragmentManager.beginTransaction()
-                    .replace(R.id.container, ArtDetailFragment())
-                    .commit()
-        }
+        val navController = container.findNavController()
 
         // Set up the bottom nav
         bottomNavigationView = view.findViewById(R.id.bottom_nav)
-        bottomNavigationView.setOnNavigationItemSelectedListener { item ->
-            if (childFragmentManager.isStateSaved) {
-                // Can't navigate after the state is saved
-                return@setOnNavigationItemSelectedListener false
-            }
-            return@setOnNavigationItemSelectedListener when (item.itemId) {
+        bottomNavigationView.setupWithNavController(navController)
+        navController.addOnNavigatedListener { _, destination ->
+            when (destination.id) {
                 R.id.main_art_details -> {
                     FirebaseAnalytics.getInstance(requireContext())
                             .setCurrentScreen(requireActivity(), "ArtDetail",
                                     ArtDetailFragment::class.java.simpleName)
-                    // The ArtDetailFragment is on the back stack, so just remove
-                    // any other Fragment that has replaced it
-                    childFragmentManager.popBackStack("main",
-                            FragmentManager.POP_BACK_STACK_INCLUSIVE)
-                    true
                 }
                 R.id.main_choose_source -> {
                     FirebaseAnalytics.getInstance(requireContext())
                             .setCurrentScreen(requireActivity(), "ChooseSource",
                                     ChooseSourceFragment::class.java.simpleName)
-                    childFragmentManager.popBackStack("main",
-                            FragmentManager.POP_BACK_STACK_INCLUSIVE)
-                    childFragmentManager.beginTransaction()
-                            .replace(R.id.container, ChooseSourceFragment())
-                            .addToBackStack("main")
-                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE)
-                            .commit()
-                    true
                 }
                 R.id.main_effects -> {
                     FirebaseAnalytics.getInstance(requireContext())
                             .setCurrentScreen(requireActivity(), "Effects",
                                     EffectsFragment::class.java.simpleName)
-                    childFragmentManager.popBackStack("main",
-                            FragmentManager.POP_BACK_STACK_INCLUSIVE)
-                    childFragmentManager.beginTransaction()
-                            .replace(R.id.container, EffectsFragment())
-                            .addToBackStack("main")
-                            .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE)
-                            .commit()
-                    true
                 }
-                else -> false
             }
         }
         bottomNavigationView.setOnNavigationItemReselectedListener { item ->
@@ -206,9 +161,4 @@ class MainFragment : Fragment(), FragmentManager.OnBackStackChangedListener, Cho
         val activity = activity as AppCompatActivity?
         activity?.setSupportActionBar(null)
     }
-
-    override fun onDestroy() {
-        childFragmentManager.removeOnBackStackChangedListener(this)
-        super.onDestroy()
-    }
 }
diff --git a/main/src/main/res/layout-v21/main_fragment.xml b/main/src/main/res/layout-v21/main_fragment.xml
index 0b81acf92..9b2767872 100644
--- a/main/src/main/res/layout-v21/main_fragment.xml
+++ b/main/src/main/res/layout-v21/main_fragment.xml
@@ -33,11 +33,14 @@
             android:layout_height="?attr/actionBarSize"/>
     </FrameLayout>
 
-    <FrameLayout
+    <fragment
         android:id="@+id/container"
         android:layout_width="match_parent"
         android:layout_height="0dp"
-        android:layout_weight="1"/>
+        android:layout_weight="1"
+        android:name="androidx.navigation.fragment.NavHostFragment"
+        app:navGraph="@navigation/main_navigation"
+        app:defaultNavHost="true"/>
 
     <android.support.design.widget.BottomNavigationView
         android:id="@+id/bottom_nav"
diff --git a/main/src/main/res/layout/main_fragment.xml b/main/src/main/res/layout/main_fragment.xml
index 4d595cb54..f8ee88a32 100644
--- a/main/src/main/res/layout/main_fragment.xml
+++ b/main/src/main/res/layout/main_fragment.xml
@@ -34,11 +34,14 @@
             android:layout_height="?attr/actionBarSize"/>
     </FrameLayout>
 
-    <FrameLayout
+    <fragment
         android:id="@+id/container"
         android:layout_width="match_parent"
         android:layout_height="0dp"
-        android:layout_weight="1"/>
+        android:layout_weight="1"
+        android:name="androidx.navigation.fragment.NavHostFragment"
+        app:navGraph="@navigation/main_navigation"
+        app:defaultNavHost="true"/>
 
     <android.support.design.widget.BottomNavigationView
         android:id="@+id/bottom_nav"
diff --git a/main/src/main/res/navigation/main_navigation.xml b/main/src/main/res/navigation/main_navigation.xml
new file mode 100644
index 000000000..e6cf9268f
--- /dev/null
+++ b/main/src/main/res/navigation/main_navigation.xml
@@ -0,0 +1,38 @@
+<!--
+  Copyright 2018 Google Inc.
+
+  Licensed under the Apache License, Version 2.0 (the "License");
+  you may not use this file except in compliance with the License.
+  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+  Unless required by applicable law or agreed to in writing, software
+  distributed under the License is distributed on an "AS IS" BASIS,
+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  See the License for the specific language governing permissions and
+  limitations under the License.
+  -->
+
+<navigation
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    app:startDestination="@id/main_art_details">
+
+    <fragment
+        android:id="@+id/main_art_details"
+        android:name="com.google.android.apps.muzei.ArtDetailFragment"
+        android:label="ArtDetailFragment"
+        tools:layout="@layout/art_detail_fragment"/>
+    <fragment
+        android:id="@+id/main_choose_source"
+        android:name="com.google.android.apps.muzei.sources.ChooseSourceFragment"
+        android:label="@string/section_choose_source"
+        tools:layout="@layout/settings_choose_source_fragment"/>
+    <fragment
+        android:id="@+id/main_effects"
+        android:name="com.google.android.apps.muzei.settings.EffectsFragment"
+        android:label="@string/section_effects"
+        tools:layout="@layout/settings_advanced_fragment"/>
+</navigation>
