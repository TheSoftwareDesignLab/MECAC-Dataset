diff --git a/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GallerySettingsActivity.kt b/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GallerySettingsActivity.kt
index 6b25745d3..08e05272e 100644
--- a/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GallerySettingsActivity.kt
+++ b/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GallerySettingsActivity.kt
@@ -26,9 +26,6 @@ import android.os.Bundle
 import android.provider.DocumentsContract
 import android.provider.Settings
 import android.util.Log
-import android.view.Menu
-import android.view.MenuInflater
-import android.view.MenuItem
 import android.view.View
 import android.widget.Toast
 import androidx.activity.result.contract.ActivityResultContract
@@ -41,19 +38,25 @@ import androidx.compose.foundation.layout.WindowInsets
 import androidx.compose.foundation.layout.WindowInsetsSides
 import androidx.compose.foundation.layout.asPaddingValues
 import androidx.compose.foundation.layout.only
-import androidx.compose.foundation.layout.padding
 import androidx.compose.foundation.layout.safeDrawing
+import androidx.compose.material3.ExperimentalMaterial3Api
+import androidx.compose.material3.Scaffold
+import androidx.compose.material3.TopAppBarDefaults
+import androidx.compose.material3.rememberTopAppBarState
 import androidx.compose.runtime.LaunchedEffect
 import androidx.compose.runtime.MutableState
+import androidx.compose.runtime.collectAsState
 import androidx.compose.runtime.getValue
 import androidx.compose.runtime.mutableStateOf
 import androidx.compose.runtime.remember
 import androidx.compose.runtime.rememberCoroutineScope
 import androidx.compose.runtime.setValue
 import androidx.compose.ui.Modifier
+import androidx.compose.ui.input.nestedscroll.nestedScroll
+import androidx.compose.ui.platform.LocalContext
+import androidx.compose.ui.res.stringResource
 import androidx.compose.ui.unit.dp
 import androidx.core.content.edit
-import androidx.core.view.MenuProvider
 import androidx.lifecycle.lifecycleScope
 import androidx.paging.compose.collectAsLazyPagingItems
 import androidx.savedstate.compose.serialization.serializers.MutableStateSerializer
@@ -61,7 +64,6 @@ import androidx.savedstate.serialization.saved
 import com.google.android.apps.muzei.gallery.databinding.GalleryActivityBinding
 import com.google.android.apps.muzei.gallery.theme.GalleryTheme
 import com.google.android.apps.muzei.util.MultiSelectionController
-import com.google.android.apps.muzei.util.collectIn
 import com.google.android.apps.muzei.util.getString
 import com.google.android.apps.muzei.util.getStringOrNull
 import com.google.android.apps.muzei.util.plus
@@ -69,8 +71,6 @@ import com.google.android.apps.muzei.util.toast
 import com.google.android.material.snackbar.Snackbar
 import kotlinx.coroutines.NonCancellable
 import kotlinx.coroutines.flow.MutableStateFlow
-import kotlinx.coroutines.flow.distinctUntilChanged
-import kotlinx.coroutines.flow.map
 import kotlinx.coroutines.launch
 import java.util.LinkedList
 
@@ -111,8 +111,7 @@ private class ChooseFolder : ActivityResultContract<Unit, Uri?>() {
 }
 
 class GallerySettingsActivity : AppCompatActivity(),
-    GalleryImportPhotosDialogFragment.OnRequestContentListener,
-    MenuProvider {
+    GalleryImportPhotosDialogFragment.OnRequestContentListener {
 
     companion object {
         private const val TAG = "GallerySettingsActivity"
@@ -164,11 +163,11 @@ class GallerySettingsActivity : AppCompatActivity(),
         mutableStateOf(AddFab)
     }
 
+    @OptIn(ExperimentalMaterial3Api::class)
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         binding = GalleryActivityBinding.inflate(layoutInflater)
         setContentView(binding.root)
-        setSupportActionBar(binding.toolbar)
 
         setupMultiSelect()
 
@@ -177,28 +176,81 @@ class GallerySettingsActivity : AppCompatActivity(),
                 dynamicColor = false
             ) {
                 val photos = viewModel.chosenPhotos.collectAsLazyPagingItems()
-                val selectedItems = multiSelectionController.selection
-                LaunchedEffect(photos.loadState.isIdle) {
-                    if (photos.loadState.isIdle) {
-                        chosenPhotosCount = photos.itemCount
-                        onDataSetChanged()
-                    }
-                }
-                GalleryChosenPhotoGrid(
-                    photos = photos,
-                    modifier = Modifier.padding(bottom = 90.dp),
-                    contentPadding = WindowInsets.safeDrawing
-                        .only(WindowInsetsSides.Horizontal + WindowInsetsSides.Bottom)
-                        .asPaddingValues() + PaddingValues(bottom = 90.dp),
-                    checkedItemIds = selectedItems,
-                    onCheckedToggled = { chosenPhoto ->
-                        multiSelectionController.toggle(chosenPhoto.id)
+                val scrollBehavior =
+                    TopAppBarDefaults.enterAlwaysScrollBehavior(rememberTopAppBarState())
+
+                Scaffold(
+                    modifier = Modifier.nestedScroll(scrollBehavior.nestedScrollConnection),
+                    topBar = {
+                        val getContentActivityInfoList by viewModel.getContentActivityInfoList.collectAsState(
+                            emptyList()
+                        )
+                        val context = LocalContext.current
+                        val scope = rememberCoroutineScope()
+                        GalleryTopAppBar(
+                            importPhotoCount = getContentActivityInfoList.size,
+                            importPhotoTitle = if (getContentActivityInfoList.size == 1) {
+                                // If there's only one app that supports ACTION_GET_CONTENT, tell the user what that app is
+                                stringResource(
+                                    R.string.gallery_action_import_photos_from,
+                                    getContentActivityInfoList.first().loadLabel(packageManager)
+                                )
+                            } else {
+                                stringResource(R.string.gallery_action_import_photos)
+                            },
+                            photoCount = photos.itemCount,
+                            scrollBehavior = scrollBehavior,
+                            onImportPhotos = {
+                                when (getContentActivityInfoList.size) {
+                                    0 -> {
+                                        // Ignore
+                                    }
+
+                                    1 -> {
+                                        // Just start the one ACTION_GET_CONTENT app
+                                        requestGetContent(getContentActivityInfoList.first())
+                                    }
+
+                                    else -> {
+                                        // Let the user pick which app they want to import photos from
+                                        GalleryImportPhotosDialogFragment.show(
+                                            supportFragmentManager
+                                        )
+                                    }
+                                }
+                            },
+                            onClearPhotos = {
+                                scope.launch(NonCancellable) {
+                                    GalleryDatabase.getInstance(context)
+                                        .chosenPhotoDao().deleteAll(context)
+                                }
+                            }
+                        )
                     },
-                ) { chosenPhoto, maxImages ->
-                    if (chosenPhoto.isTreeUri)
-                        getImagesFromTreeUri(chosenPhoto.uri, maxImages)
-                    else
-                        listOf(chosenPhoto.contentUri)
+                    contentWindowInsets = WindowInsets(),
+                ) { innerPadding ->
+                    val selectedItems = multiSelectionController.selection
+                    LaunchedEffect(photos.loadState.isIdle) {
+                        if (photos.loadState.isIdle) {
+                            chosenPhotosCount = photos.itemCount
+                            onDataSetChanged()
+                        }
+                    }
+                    GalleryChosenPhotoGrid(
+                        photos = photos,
+                        contentPadding = innerPadding + WindowInsets.safeDrawing
+                            .only(WindowInsetsSides.Horizontal + WindowInsetsSides.Bottom)
+                            .asPaddingValues() + PaddingValues(bottom = 90.dp),
+                        checkedItemIds = selectedItems,
+                        onCheckedToggled = { chosenPhoto ->
+                            multiSelectionController.toggle(chosenPhoto.id)
+                        },
+                    ) { chosenPhoto, maxImages ->
+                        if (chosenPhoto.isTreeUri)
+                            getImagesFromTreeUri(chosenPhoto.uri, maxImages)
+                        else
+                            listOf(chosenPhoto.contentUri)
+                    }
                 }
             }
         }
@@ -261,12 +313,6 @@ class GallerySettingsActivity : AppCompatActivity(),
                 )
             }
         }
-        addMenuProvider(this)
-        viewModel.getContentActivityInfoList.map {
-            it.size
-        }.distinctUntilChanged().collectIn(this) {
-            invalidateMenu()
-        }
         GalleryScanWorker.enqueueRescan(this)
     }
 
@@ -286,55 +332,6 @@ class GallerySettingsActivity : AppCompatActivity(),
         onDataSetChanged()
     }
 
-    override fun onCreateMenu(menu: Menu, menuInflater: MenuInflater) {
-        menuInflater.inflate(R.menu.gallery_activity, menu)
-        // Make sure the 'Import photos' MenuItem is set up properly based on the number of
-        // activities that handle ACTION_GET_CONTENT
-        // 0 = hide the MenuItem
-        // 1 = show 'Import photos from APP_NAME' to go to the one app that exists
-        // 2 = show 'Import photos...' to have the user pick which app to import photos from
-        val getContentActivities = viewModel.getContentActivityInfoList.value
-        // Hide the 'Import photos' action if there are no activities found
-        val importPhotosMenuItem = menu.findItem(R.id.action_import_photos)
-        importPhotosMenuItem.isVisible = getContentActivities.isNotEmpty()
-        // If there's only one app that supports ACTION_GET_CONTENT, tell the user what that app is
-        if (getContentActivities.size == 1) {
-            importPhotosMenuItem.title = getString(R.string.gallery_action_import_photos_from,
-                    getContentActivities.first().loadLabel(packageManager))
-        } else {
-            importPhotosMenuItem.setTitle(R.string.gallery_action_import_photos)
-        }
-    }
-
-    override fun onMenuItemSelected(item: MenuItem): Boolean {
-        when (item.itemId) {
-            R.id.action_import_photos -> {
-                when (viewModel.getContentActivityInfoList.value.size) {
-                    0 -> {
-                        // Ignore
-                    }
-                    1 -> {
-                        // Just start the one ACTION_GET_CONTENT app
-                        requestGetContent(viewModel.getContentActivityInfoList.value.first())
-                    }
-                    else -> {
-                        // Let the user pick which app they want to import photos from
-                        GalleryImportPhotosDialogFragment.show(supportFragmentManager)
-                    }
-                }
-                return true
-            }
-            R.id.action_clear_photos -> {
-                val context = this
-                lifecycleScope.launch(NonCancellable) {
-                    GalleryDatabase.getInstance(context)
-                            .chosenPhotoDao().deleteAll(context)
-                }
-                return true
-            }
-            else -> return super.onOptionsItemSelected(item)
-        }
-    }
 
     override fun requestGetContent(info: ActivityInfo) {
         getContents.launch(info)
diff --git a/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GalleryTopAppBar.kt b/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GalleryTopAppBar.kt
new file mode 100644
index 000000000..d2189b038
--- /dev/null
+++ b/source-gallery/src/main/java/com/google/android/apps/muzei/gallery/GalleryTopAppBar.kt
@@ -0,0 +1,118 @@
+/*
+ * Copyright 2025 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.google.android.apps.muzei.gallery
+
+import androidx.compose.foundation.layout.size
+import androidx.compose.foundation.layout.wrapContentHeight
+import androidx.compose.material.icons.Icons
+import androidx.compose.material.icons.filled.MoreVert
+import androidx.compose.material3.DropdownMenu
+import androidx.compose.material3.DropdownMenuItem
+import androidx.compose.material3.ExperimentalMaterial3Api
+import androidx.compose.material3.Icon
+import androidx.compose.material3.IconButton
+import androidx.compose.material3.Text
+import androidx.compose.material3.TopAppBar
+import androidx.compose.material3.TopAppBarDefaults
+import androidx.compose.material3.TopAppBarScrollBehavior
+import androidx.compose.material3.rememberTopAppBarState
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.Alignment
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.tooling.preview.Preview
+import androidx.compose.ui.unit.dp
+import com.google.android.apps.muzei.gallery.theme.GalleryTheme
+
+@OptIn(ExperimentalMaterial3Api::class)
+@Composable
+fun GalleryTopAppBar(
+    importPhotoCount: Int,
+    importPhotoTitle: String,
+    photoCount: Int,
+    modifier: Modifier = Modifier,
+    scrollBehavior: TopAppBarScrollBehavior = TopAppBarDefaults.enterAlwaysScrollBehavior(
+        rememberTopAppBarState()
+    ),
+    onImportPhotos: () -> Unit = {},
+    onClearPhotos: () -> Unit = {},
+) {
+    TopAppBar(
+        title = { Text(text = stringResource(R.string.gallery_title)) },
+        modifier = modifier.wrapContentHeight(align = Alignment.Top),
+        actions = {
+            if (importPhotoCount == 0 && photoCount == 0) {
+                // No menu items to display
+                return@TopAppBar
+            }
+            // Show the menu items in a DropdownMenu
+            var expanded by remember { mutableStateOf(false) }
+            IconButton(onClick = { expanded = !expanded }) {
+                Icon(
+                    Icons.Default.MoreVert,
+                    contentDescription = null
+                )
+            }
+            DropdownMenu(
+                expanded = expanded,
+                onDismissRequest = { expanded = false }
+            ) {
+                // Make sure the 'Import photos' MenuItem is set up properly based on the number of
+                // activities that handle ACTION_GET_CONTENT
+                // 0 = hide the MenuItem
+                // 1 = show 'Import photos from APP_NAME' to go to the one app that exists
+                // 2 = show 'Import photos...' to have the user pick which app to import photos from
+                if (importPhotoCount > 0) {
+                    DropdownMenuItem(
+                        text = { Text(importPhotoTitle) },
+                        onClick = {
+                            expanded = false
+                            onImportPhotos()
+                        }
+                    )
+                }
+                if (photoCount > 0) {
+                    DropdownMenuItem(
+                        text = { Text(stringResource(R.string.gallery_action_clear_photos)) },
+                        onClick = onClearPhotos
+                    )
+                }
+            }
+        },
+        scrollBehavior = scrollBehavior,
+    )
+}
+
+@OptIn(ExperimentalMaterial3Api::class)
+@Preview
+@Composable
+fun GalleryTopAppBarPreview() {
+    GalleryTheme(
+        dynamicColor = false
+    ) {
+        GalleryTopAppBar(
+            importPhotoCount = 2,
+            stringResource(R.string.gallery_action_import_photos),
+            photoCount = 5,
+            modifier = Modifier.size(width = 400.dp, height = 400.dp),
+        )
+    }
+}
\ No newline at end of file
diff --git a/source-gallery/src/main/res/layout/gallery_activity.xml b/source-gallery/src/main/res/layout/gallery_activity.xml
index c8232c910..4485453a9 100644
--- a/source-gallery/src/main/res/layout/gallery_activity.xml
+++ b/source-gallery/src/main/res/layout/gallery_activity.xml
@@ -18,29 +18,13 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    android:fitsSystemWindows="true"
-    app:statusBarBackground="?android:colorBackground">
+    android:fitsSystemWindows="true">
 
     <androidx.compose.ui.platform.ComposeView
         android:id="@+id/photo_grid"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        android:fitsSystemWindows="true"
-        app:layout_behavior="@string/appbar_scrolling_view_behavior"/>
-
-    <com.google.android.material.appbar.AppBarLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content">
-
-        <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
-            android:layout_width="match_parent"
-            android:layout_height="?actionBarSize"
-            app:title="@string/gallery_title"
-            app:layout_scrollFlags="scroll|enterAlways"
-            app:popupTheme="@style/ThemeOverlay.AppCompat.DayNight"/>
-
-    </com.google.android.material.appbar.AppBarLayout>
+        android:fitsSystemWindows="true"/>
 
     <androidx.compose.ui.platform.ComposeView
         android:id="@android:id/empty"
diff --git a/source-gallery/src/main/res/menu/gallery_activity.xml b/source-gallery/src/main/res/menu/gallery_activity.xml
deleted file mode 100644
index ea147bab0..000000000
--- a/source-gallery/src/main/res/menu/gallery_activity.xml
+++ /dev/null
@@ -1,28 +0,0 @@
-<!--
-  Copyright 2014 Google Inc.
-
-  Licensed under the Apache License, Version 2.0 (the "License");
-  you may not use this file except in compliance with the License.
-  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-  Unless required by applicable law or agreed to in writing, software
-  distributed under the License is distributed on an "AS IS" BASIS,
-  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-  See the License for the specific language governing permissions and
-  limitations under the License.
-  -->
-
-<menu
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto">
-    <item
-        android:id="@+id/action_import_photos"
-        android:title="@string/gallery_action_import_photos"/>
-    <item
-        android:id="@+id/action_clear_photos"
-        android:title="@string/gallery_action_clear_photos"
-        android:orderInCategory="10000"
-        app:showAsAction="never"/>
-</menu>
