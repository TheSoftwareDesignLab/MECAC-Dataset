diff --git a/main/src/main/java/com/google/android/apps/muzei/ChooseProviderFragment.kt b/main/src/main/java/com/google/android/apps/muzei/ChooseProviderFragment.kt
index 35f310750..4f018096a 100644
--- a/main/src/main/java/com/google/android/apps/muzei/ChooseProviderFragment.kt
+++ b/main/src/main/java/com/google/android/apps/muzei/ChooseProviderFragment.kt
@@ -32,11 +32,11 @@ import android.view.View
 import android.view.ViewGroup
 import android.widget.Toast
 import androidx.activity.result.contract.ActivityResultContract
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.ui.platform.ComposeView
 import androidx.core.net.toUri
 import androidx.core.view.GravityCompat
-import androidx.core.view.isGone
-import androidx.core.view.isInvisible
-import androidx.core.view.isVisible
 import androidx.core.view.updatePadding
 import androidx.drawerlayout.widget.DrawerLayout
 import androidx.fragment.app.Fragment
@@ -48,13 +48,12 @@ import androidx.recyclerview.widget.ConcatAdapter
 import androidx.recyclerview.widget.DiffUtil
 import androidx.recyclerview.widget.ListAdapter
 import androidx.recyclerview.widget.RecyclerView
-import coil3.load
-import coil3.request.lifecycle
 import com.google.android.apps.muzei.api.provider.MuzeiArtProvider
 import com.google.android.apps.muzei.api.provider.ProviderContract
 import com.google.android.apps.muzei.legacy.BuildConfig.LEGACY_AUTHORITY
 import com.google.android.apps.muzei.notifications.NotificationSettingsDialogFragment
 import com.google.android.apps.muzei.sync.ProviderManager
+import com.google.android.apps.muzei.theme.AppTheme
 import com.google.android.apps.muzei.util.collectIn
 import com.google.android.apps.muzei.util.toast
 import com.google.android.material.snackbar.Snackbar
@@ -68,7 +67,6 @@ import kotlinx.coroutines.flow.map
 import kotlinx.coroutines.launch
 import net.nurik.roman.muzei.R
 import net.nurik.roman.muzei.databinding.ChooseProviderFragmentBinding
-import net.nurik.roman.muzei.databinding.ChooseProviderItemBinding
 
 private class StartActivityFromSettings : ActivityResultContract<ComponentName, Boolean>() {
     override fun createIntent(context: Context, input: ComponentName): Intent =
@@ -84,11 +82,6 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
         private const val TAG = "ChooseProviderFragment"
         private const val START_ACTIVITY_PROVIDER = "startActivityProvider"
 
-        private const val PAYLOAD_HEADER = "HEADER"
-        private const val PAYLOAD_DESCRIPTION = "DESCRIPTION"
-        private const val PAYLOAD_CURRENT_IMAGE_URI = "CURRENT_IMAGE_URI"
-        private const val PAYLOAD_SELECTED = "SELECTED"
-
         private const val PLAY_STORE_PACKAGE_NAME = "com.android.vending"
     }
 
@@ -269,18 +262,27 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
     }
 
     inner class ProviderViewHolder(
-            private val binding: ChooseProviderItemBinding
-    ) : RecyclerView.ViewHolder(binding.root) {
-
-        private var isSelected = false
-
-        fun bind(
-                providerInfo: ProviderInfo,
-                clickListener: (Boolean) -> Unit
-        ) = providerInfo.run {
-            itemView.setOnClickListener {
-                clickListener(isSelected)
+        composeView: ComposeView,
+        val onClick: ProviderInfo.() -> Unit,
+    ) : RecyclerView.ViewHolder(composeView) {
+
+        private var providerInfo = mutableStateOf<ProviderInfo?>(null)
+
+        init {
+            composeView.setContent {
+                AppTheme(
+                    dynamicColor = false,
+                ) {
+                    val providerInfo = providerInfo.value
+                    if (providerInfo != null) {
+                        ChooseProviderItem(providerInfo)
+                    }
+                }
             }
+        }
+
+        fun bind(providerInfo: ProviderInfo) = providerInfo.run {
+            this@ProviderViewHolder.providerInfo.value = this
             itemView.setOnLongClickListener {
                 if (packageName == requireContext().packageName) {
                     // Don't open Muzei's app info
@@ -298,69 +300,44 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
                 } catch (_: ActivityNotFoundException) {
                     return@setOnLongClickListener false
                 }
-
                 true
             }
-
-            setHeader(providerInfo)
-
-            setDescription(providerInfo)
-
-            setImage(providerInfo)
-
-            setSelected(providerInfo)
-            binding.settings.setOnClickListener {
-                Firebase.analytics.logEvent("provider_settings_open") {
-                    param(FirebaseAnalytics.Param.ITEM_LIST_ID, authority)
-                    param(FirebaseAnalytics.Param.ITEM_NAME, title)
-                    param(FirebaseAnalytics.Param.ITEM_LIST_NAME, "providers")
-                }
-                launchProviderSettings(this)
-            }
-            binding.browse.setOnClickListener {
-                val navController = findNavController()
-                if (navController.currentDestination?.id == R.id.choose_provider_fragment) {
-                    Firebase.analytics.logEvent("provider_browse_open") {
-                        param(FirebaseAnalytics.Param.ITEM_LIST_ID, authority)
-                        param(FirebaseAnalytics.Param.ITEM_NAME, title)
-                        param(FirebaseAnalytics.Param.ITEM_LIST_NAME, "providers")
-                    }
-                    navController.navigate(
-                        ChooseProviderFragmentDirections.browse(
-                            ProviderContract.getContentUri(authority)
-                        )
-                    )
-                }
-            }
-        }
-
-        fun setHeader(providerInfo: ProviderInfo) = providerInfo.run {
-            binding.icon.setImageDrawable(icon)
-            binding.title.text = title
-        }
-
-        fun setDescription(providerInfo: ProviderInfo) = providerInfo.run {
-            binding.description.text = description
-            binding.description.isGone = description.isNullOrEmpty()
         }
 
-        fun setImage(providerInfo: ProviderInfo) = providerInfo.run {
-            binding.artwork.isVisible = currentArtworkUri != null
-            binding.artwork.load(currentArtworkUri) {
-                lifecycle(viewLifecycleOwner)
-                listener(
-                        onError = { _, _ -> binding.artwork.isVisible = false },
-                        onSuccess = { _, _ -> binding.artwork.isVisible = true }
+        @Composable
+        private fun ChooseProviderItem(providerInfo: ProviderInfo) {
+            providerInfo.run {
+                ChooseProviderItem(
+                    providerInfo,
+                    onClick = {
+                        onClick(providerInfo)
+                    },
+                    onSettingsClick = {
+                        Firebase.analytics.logEvent("provider_settings_open") {
+                            param(FirebaseAnalytics.Param.ITEM_LIST_ID, authority)
+                            param(FirebaseAnalytics.Param.ITEM_NAME, title)
+                            param(FirebaseAnalytics.Param.ITEM_LIST_NAME, "providers")
+                        }
+                        launchProviderSettings(this)
+                    },
+                    onBrowseClick = {
+                        val navController = findNavController()
+                        if (navController.currentDestination?.id == R.id.choose_provider_fragment) {
+                            Firebase.analytics.logEvent("provider_browse_open") {
+                                param(FirebaseAnalytics.Param.ITEM_LIST_ID, authority)
+                                param(FirebaseAnalytics.Param.ITEM_NAME, title)
+                                param(FirebaseAnalytics.Param.ITEM_LIST_NAME, "providers")
+                            }
+                            navController.navigate(
+                                ChooseProviderFragmentDirections.browse(
+                                    ProviderContract.getContentUri(authority)
+                                )
+                            )
+                        }
+                    }
                 )
             }
         }
-
-        fun setSelected(providerInfo: ProviderInfo) = providerInfo.run {
-            isSelected = selected
-            binding.selected.isInvisible = !selected
-            binding.settings.isVisible = selected && settingsActivity != null
-            binding.browse.isVisible = selected
-        }
     }
 
     inner class ProviderListAdapter : ListAdapter<ProviderInfo, ProviderViewHolder>(
@@ -374,39 +351,11 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
                         providerInfo1: ProviderInfo,
                         providerInfo2: ProviderInfo
                 ) = providerInfo1 == providerInfo2
-
-                override fun getChangePayload(oldItem: ProviderInfo, newItem: ProviderInfo): Any? {
-                    return when {
-                        (oldItem.title != newItem.title || oldItem.icon != newItem.icon) &&
-                                oldItem.copy(title = newItem.title, icon = newItem.icon) ==
-                                newItem ->
-                            PAYLOAD_HEADER
-                        oldItem.description != newItem.description &&
-                                oldItem.copy(description = newItem.description) ==
-                                newItem ->
-                            PAYLOAD_DESCRIPTION
-                        oldItem.currentArtworkUri != newItem.currentArtworkUri &&
-                                oldItem.copy(currentArtworkUri = newItem.currentArtworkUri) ==
-                                newItem ->
-                            PAYLOAD_CURRENT_IMAGE_URI
-                        oldItem.selected != newItem.selected &&
-                                oldItem.copy(selected = newItem.selected) == newItem ->
-                            PAYLOAD_SELECTED
-                        else -> null
-                    }
-                }
             }
     ) {
         override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) =
-                ProviderViewHolder(ChooseProviderItemBinding.inflate(layoutInflater,
-                        parent, false))
-
-        override fun onBindViewHolder(
-                holder: ProviderViewHolder,
-                position: Int
-        ) = getItem(position).run {
-            holder.bind(this) { isSelected ->
-                if (isSelected) {
+            ProviderViewHolder(ComposeView(parent.context)) {
+                if (selected) {
                     val context = context
                     val parentFragment = parentFragment?.parentFragment
                     if (context is Callbacks) {
@@ -437,21 +386,12 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
                     }
                 }
             }
-        }
 
         override fun onBindViewHolder(
-                holder: ProviderViewHolder,
-                position: Int,
-                payloads: MutableList<Any>
-        ) {
-            when {
-                payloads.isEmpty() -> super.onBindViewHolder(holder, position, payloads)
-                payloads[0] == PAYLOAD_HEADER -> holder.setHeader(getItem(position))
-                payloads[0] == PAYLOAD_DESCRIPTION -> holder.setDescription(getItem(position))
-                payloads[0] == PAYLOAD_CURRENT_IMAGE_URI -> holder.setImage(getItem(position))
-                payloads[0] == PAYLOAD_SELECTED -> holder.setSelected(getItem(position))
-                else -> throw IllegalArgumentException("Forgot to handle ${payloads[0]}")
-            }
+            holder: ProviderViewHolder,
+            position: Int
+        ) = getItem(position).run {
+            holder.bind(this)
         }
     }
 
@@ -505,13 +445,7 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
             }
 
         override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) =
-                ProviderViewHolder(ChooseProviderItemBinding.inflate(layoutInflater,
-                        parent, false))
-
-        override fun getItemCount() = if (shouldShow && playStoreProviderInfo != null) 1 else 0
-
-        override fun onBindViewHolder(holder: ProviderViewHolder, position: Int) {
-            holder.bind(playStoreProviderInfo!!) {
+            ProviderViewHolder(ComposeView(parent.context)) {
                 Firebase.analytics.logEvent("more_sources_open", null)
                 try {
                     startActivity(playStoreIntent)
@@ -521,6 +455,11 @@ class ChooseProviderFragment : Fragment(R.layout.choose_provider_fragment) {
                     requireContext().toast(R.string.play_store_not_found, Toast.LENGTH_LONG)
                 }
             }
+
+        override fun getItemCount() = if (shouldShow && playStoreProviderInfo != null) 1 else 0
+
+        override fun onBindViewHolder(holder: ProviderViewHolder, position: Int) {
+            holder.bind(playStoreProviderInfo!!)
         }
     }
 
diff --git a/main/src/main/java/com/google/android/apps/muzei/ChooseProviderItem.kt b/main/src/main/java/com/google/android/apps/muzei/ChooseProviderItem.kt
new file mode 100644
index 000000000..29dbb2623
--- /dev/null
+++ b/main/src/main/java/com/google/android/apps/muzei/ChooseProviderItem.kt
@@ -0,0 +1,355 @@
+/*
+ * Copyright 2025 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.google.android.apps.muzei
+
+import android.content.ComponentName
+import androidx.compose.animation.AnimatedContent
+import androidx.compose.animation.fadeIn
+import androidx.compose.animation.fadeOut
+import androidx.compose.animation.togetherWith
+import androidx.compose.foundation.Image
+import androidx.compose.foundation.layout.IntrinsicSize
+import androidx.compose.foundation.layout.Row
+import androidx.compose.foundation.layout.Spacer
+import androidx.compose.foundation.layout.aspectRatio
+import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.height
+import androidx.compose.foundation.layout.padding
+import androidx.compose.foundation.layout.size
+import androidx.compose.material.icons.Icons
+import androidx.compose.material.icons.filled.Done
+import androidx.compose.material3.ButtonDefaults
+import androidx.compose.material3.Card
+import androidx.compose.material3.Icon
+import androidx.compose.material3.MaterialTheme
+import androidx.compose.material3.Text
+import androidx.compose.material3.TextButton
+import androidx.compose.material3.contentColorFor
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.Alignment
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.graphics.Color
+import androidx.compose.ui.graphics.painter.ColorPainter
+import androidx.compose.ui.graphics.toArgb
+import androidx.compose.ui.layout.ContentScale
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.tooling.preview.Preview
+import androidx.compose.ui.tooling.preview.PreviewParameter
+import androidx.compose.ui.tooling.preview.PreviewParameterProvider
+import androidx.compose.ui.unit.dp
+import androidx.core.graphics.drawable.toDrawable
+import androidx.core.net.toUri
+import coil3.ColorImage
+import coil3.annotation.ExperimentalCoilApi
+import coil3.compose.AsyncImage
+import coil3.compose.AsyncImagePreviewHandler
+import coil3.compose.LocalAsyncImagePreviewHandler
+import com.google.android.apps.muzei.theme.AppTheme
+import com.google.android.apps.muzei.util.rememberDrawablePainter
+import net.nurik.roman.muzei.R
+
+@Composable
+fun ChooseProviderItem(
+    providerInfo: ProviderInfo,
+    modifier: Modifier = Modifier,
+    onClick: () -> Unit = {},
+    onSettingsClick: () -> Unit = {},
+    onBrowseClick: () -> Unit = {},
+) {
+    Card(
+        onClick = onClick,
+        modifier = modifier,
+    ) {
+        // Title Row
+        Row(
+            modifier = Modifier
+                .fillMaxWidth()
+                .height(IntrinsicSize.Max)
+                .padding(16.dp),
+            verticalAlignment = Alignment.CenterVertically,
+        ) {
+            // App Icon
+            val icon = rememberDrawablePainter(drawable = providerInfo.icon)
+            Image(
+                icon,
+                contentDescription = null,
+                modifier = Modifier.size(40.dp),
+                contentScale = ContentScale.Crop,
+            )
+            // App Title
+            Text(
+                text = providerInfo.title,
+                modifier = Modifier
+                    .padding(start = 8.dp)
+                    .weight(1f),
+                style = MaterialTheme.typography.titleLarge,
+            )
+            // Selected icon
+            AnimatedContent(
+                providerInfo.selected,
+                transitionSpec = { fadeIn() togetherWith fadeOut() },
+                label = "selected",
+            ) { selected ->
+                if (selected) {
+                    Icon(
+                        Icons.Default.Done,
+                        contentDescription = null,
+                        modifier = Modifier.size(40.dp),
+                    )
+                } else {
+                    Spacer(modifier = Modifier.size(40.dp))
+                }
+            }
+        }
+        // Artwork image
+        val emptyColor = MaterialTheme.colorScheme.surfaceDim
+        val placeholderPainter = remember(emptyColor) {
+            ColorPainter(emptyColor)
+        }
+        AnimatedContent(
+            providerInfo.currentArtworkUri,
+            transitionSpec = { fadeIn() togetherWith fadeOut() },
+            label = "currentArtworkUri",
+        ) { artworkUri ->
+            if (artworkUri != null) {
+                AsyncImage(
+                    model = artworkUri,
+                    contentDescription = null,
+                    modifier = modifier
+                        .aspectRatio(16f / 9f),
+                    placeholder = placeholderPainter,
+                    contentScale = ContentScale.Crop,
+                )
+            }
+        }
+        // Description
+        AnimatedContent(
+            providerInfo.description,
+            transitionSpec = { fadeIn() togetherWith fadeOut() },
+            label = "description",
+        ) { description ->
+            if (description != null) {
+                Text(
+                    text = description,
+                    modifier = Modifier
+                        .fillMaxWidth()
+                        .padding(16.dp),
+                    style = MaterialTheme.typography.titleSmall,
+                )
+            }
+        }
+        AnimatedContent(
+            providerInfo.selected,
+            transitionSpec = { fadeIn() togetherWith fadeOut() },
+            label = "buttonRow",
+        ) { selected ->
+            if (selected) {
+                Row(
+                    modifier = Modifier
+                        .fillMaxWidth()
+                        .height(IntrinsicSize.Max)
+                        .padding(horizontal = 8.dp),
+                    verticalAlignment = Alignment.CenterVertically,
+                ) {
+                    AnimatedContent(
+                        providerInfo.settingsActivity,
+                        transitionSpec = { fadeIn() togetherWith fadeOut() },
+                        label = "settings",
+                    ) { settingsActivity ->
+                        if (settingsActivity != null) {
+                            TextButton(
+                                onClick = onSettingsClick,
+                                colors = ButtonDefaults.textButtonColors(
+                                    contentColor = contentColorFor(MaterialTheme.colorScheme.surfaceContainerHighest),
+                                ),
+                            ) {
+                                Text(text = stringResource(R.string.provider_settings))
+                            }
+                        }
+                    }
+                    TextButton(
+                        onClick = onBrowseClick,
+                        colors = ButtonDefaults.textButtonColors(
+                            contentColor = contentColorFor(MaterialTheme.colorScheme.surfaceContainerHighest),
+                        ),
+                    ) {
+                        Text(text = stringResource(R.string.provider_browse))
+                    }
+                }
+            }
+        }
+    }
+}
+
+@OptIn(ExperimentalCoilApi::class)
+@Preview(
+    device = "spec:width=400dp,height=400dp,orientation=landscape,dpi=420",
+)
+@Composable
+fun ChooseProviderItemPreview(
+    @PreviewParameter(ProviderInfoParameterProvider::class) providerInfo: ProviderInfo
+) {
+    ChooseProviderItemPreviewContent(providerInfo)
+}
+
+@OptIn(ExperimentalCoilApi::class)
+@Preview(
+    device = "spec:width=400dp,height=400dp,orientation=landscape,dpi=420",
+)
+@Composable
+fun ChooseProviderItemSelectedPreview(
+    @PreviewParameter(SelectedProviderInfoParameterProvider::class) providerInfo: ProviderInfo
+) {
+    ChooseProviderItemPreviewContent(providerInfo)
+}
+
+@Composable
+@OptIn(ExperimentalCoilApi::class)
+private fun ChooseProviderItemPreviewContent(providerInfo: ProviderInfo) {
+    val colors = listOf(Color.Red, Color.Green, Color.Blue, Color.Yellow)
+    val previewHandler = AsyncImagePreviewHandler { request ->
+        ColorImage(colors[request.data.toString().toInt().mod(colors.size)].toArgb())
+    }
+    CompositionLocalProvider(LocalAsyncImagePreviewHandler provides previewHandler) {
+        AppTheme(
+            dynamicColor = false,
+        ) {
+            var currentProviderInfo by remember { mutableStateOf(providerInfo) }
+            ChooseProviderItem(
+                providerInfo = currentProviderInfo,
+                modifier = Modifier.fillMaxWidth(),
+                onClick = {
+                    currentProviderInfo = currentProviderInfo.copy(
+                        selected = !currentProviderInfo.selected
+                    )
+                },
+            )
+        }
+    }
+}
+
+private class ProviderInfoParameterProvider : PreviewParameterProvider<ProviderInfo> {
+    override val values = sequenceOf(
+        // Default
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = "A new painting every day",
+            currentArtworkUri = "0".toUri(),
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = null,
+            selected = false
+        ),
+        // No description
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = null,
+            currentArtworkUri = "0".toUri(),
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = null,
+            selected = false
+        ),
+        // No currentArtworkUri
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = "A new painting every day",
+            currentArtworkUri = null,
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = null,
+            selected = false
+        ),
+        // No description or currentArtworkUri
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = null,
+            currentArtworkUri = null,
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = null,
+            selected = false
+        ),
+    )
+}
+
+private class SelectedProviderInfoParameterProvider : PreviewParameterProvider<ProviderInfo> {
+    override val values = sequenceOf(
+
+        // Default
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = "A new painting every day",
+            currentArtworkUri = "0".toUri(),
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = ComponentName("", ""),
+            selected = true
+        ),
+        // No description
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = null,
+            currentArtworkUri = "0".toUri(),
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = null,
+            selected = true
+        ),
+        // No currentArtworkUri
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = "A new painting every day",
+            currentArtworkUri = null,
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = ComponentName("", ""),
+            selected = true
+        ),
+        // No description or currentArtworkUri
+        ProviderInfo(
+            authority = "",
+            packageName = "",
+            title = "Muzei",
+            description = null,
+            currentArtworkUri = null,
+            icon = Color.Magenta.toArgb().toDrawable(),
+            setupActivity = null,
+            settingsActivity = ComponentName("", ""),
+            selected = true
+        ),
+    )
+}
\ No newline at end of file
diff --git a/main/src/main/java/com/google/android/apps/muzei/util/DrawablePainter.kt b/main/src/main/java/com/google/android/apps/muzei/util/DrawablePainter.kt
new file mode 100644
index 000000000..35b267fec
--- /dev/null
+++ b/main/src/main/java/com/google/android/apps/muzei/util/DrawablePainter.kt
@@ -0,0 +1,185 @@
+/*
+ * Copyright 2025 Google Inc.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.google.android.apps.muzei.util
+
+import android.graphics.drawable.Animatable
+import android.graphics.drawable.AnimatedImageDrawable
+import android.graphics.drawable.ColorDrawable
+import android.graphics.drawable.Drawable
+import android.os.Build
+import android.os.Handler
+import android.os.Looper
+import android.view.View
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.RememberObserver
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableIntStateOf
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.geometry.Size
+import androidx.compose.ui.graphics.Color
+import androidx.compose.ui.graphics.ColorFilter
+import androidx.compose.ui.graphics.asAndroidColorFilter
+import androidx.compose.ui.graphics.drawscope.DrawScope
+import androidx.compose.ui.graphics.drawscope.drawIntoCanvas
+import androidx.compose.ui.graphics.nativeCanvas
+import androidx.compose.ui.graphics.painter.ColorPainter
+import androidx.compose.ui.graphics.painter.Painter
+import androidx.compose.ui.graphics.withSave
+import androidx.compose.ui.unit.LayoutDirection
+import kotlin.math.roundToInt
+
+private val MAIN_HANDLER by lazy(LazyThreadSafetyMode.NONE) {
+    Handler(Looper.getMainLooper())
+}
+
+/**
+ * A [Painter] which draws an Android [Drawable] and supports [Animatable] drawables. Instances
+ * should be remembered to be able to start and stop [Animatable] animations.
+ *
+ * Instances are usually retrieved from [rememberDrawablePainter].
+ *
+ * Originally part of [Accompanist](https://github.com/google/accompanist/tree/main/drawablepainter).
+ */
+class DrawablePainter(
+    val drawable: Drawable
+) : Painter(), RememberObserver {
+    private var drawInvalidateTick by mutableIntStateOf(0)
+    private var drawableIntrinsicSize by mutableStateOf(drawable.intrinsicSize)
+
+    private val callback: Drawable.Callback by lazy {
+        object : Drawable.Callback {
+            override fun invalidateDrawable(d: Drawable) {
+                // Update the tick so that we get re-drawn
+                drawInvalidateTick++
+                // Update our intrinsic size too
+                drawableIntrinsicSize = drawable.intrinsicSize
+            }
+
+            override fun scheduleDrawable(d: Drawable, what: Runnable, time: Long) {
+                MAIN_HANDLER.postAtTime(what, time)
+            }
+
+            override fun unscheduleDrawable(d: Drawable, what: Runnable) {
+                MAIN_HANDLER.removeCallbacks(what)
+            }
+        }
+    }
+
+    init {
+        if (drawable.intrinsicWidth >= 0 && drawable.intrinsicHeight >= 0) {
+            // Update the drawable's bounds to match the intrinsic size
+            drawable.setBounds(0, 0, drawable.intrinsicWidth, drawable.intrinsicHeight)
+        }
+    }
+
+    override fun onRemembered() {
+        drawable.callback = callback
+        drawable.setVisible(true, true)
+        if (drawable is Animatable) drawable.start()
+    }
+
+    override fun onAbandoned(): Unit = onForgotten()
+
+    override fun onForgotten() {
+        if (drawable is Animatable) drawable.stop()
+        drawable.setVisible(false, false)
+        drawable.callback = null
+    }
+
+    override fun applyAlpha(alpha: Float): Boolean {
+        drawable.alpha = (alpha * 255).roundToInt().coerceIn(0, 255)
+        return true
+    }
+
+    override fun applyColorFilter(colorFilter: ColorFilter?): Boolean {
+        drawable.colorFilter = colorFilter?.asAndroidColorFilter()
+        return true
+    }
+
+    override fun applyLayoutDirection(layoutDirection: LayoutDirection): Boolean {
+        return drawable.setLayoutDirection(
+            when (layoutDirection) {
+                LayoutDirection.Ltr -> View.LAYOUT_DIRECTION_LTR
+                LayoutDirection.Rtl -> View.LAYOUT_DIRECTION_RTL
+            }
+        )
+    }
+
+    override val intrinsicSize: Size get() = drawableIntrinsicSize
+
+    override fun DrawScope.onDraw() {
+        drawIntoCanvas { canvas ->
+            // Reading this ensures that we invalidate when invalidateDrawable() is called
+            drawInvalidateTick
+
+            canvas.withSave {
+                // AnimatedImageDrawable is not respecting the bounds below Android 12, so this is
+                // a workaround to make the render size correct in this specific case
+                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P &&
+                    Build.VERSION.SDK_INT < Build.VERSION_CODES.S &&
+                    drawable is AnimatedImageDrawable
+                ) {
+                    canvas.scale(
+                        size.width / intrinsicSize.width,
+                        size.height / intrinsicSize.height
+                    )
+                } else {
+                    // Update the Drawable's bounds
+                    drawable.setBounds(0, 0, size.width.roundToInt(), size.height.roundToInt())
+                }
+
+                drawable.draw(canvas.nativeCanvas)
+            }
+        }
+    }
+}
+
+/**
+ * Remembers [Drawable] wrapped up as a [Painter]. This function attempts to un-wrap the
+ * drawable contents and use Compose primitives where possible.
+ *
+ * If the provided [drawable] is `null`, an empty no-op painter is returned.
+ *
+ * This function tries to dispatch lifecycle events to [drawable] as much as possible from
+ * within Compose.
+ */
+@Composable
+fun rememberDrawablePainter(drawable: Drawable?): Painter = remember(drawable) {
+    when (drawable) {
+        null -> EmptyPainter
+        is ColorDrawable -> ColorPainter(Color(drawable.color))
+        // Since the DrawablePainter will be remembered and it implements RememberObserver, it
+        // will receive the necessary events
+        else -> DrawablePainter(drawable.mutate())
+    }
+}
+
+private val Drawable.intrinsicSize: Size
+    get() = when {
+        // Only return a finite size if the drawable has an intrinsic size
+        intrinsicWidth >= 0 && intrinsicHeight >= 0 -> {
+            Size(width = intrinsicWidth.toFloat(), height = intrinsicHeight.toFloat())
+        }
+        else -> Size.Unspecified
+    }
+
+internal object EmptyPainter : Painter() {
+    override val intrinsicSize: Size get() = Size.Unspecified
+    override fun DrawScope.onDraw() {}
+}
\ No newline at end of file
diff --git a/main/src/main/res/drawable/ic_source_selected.xml b/main/src/main/res/drawable/ic_source_selected.xml
deleted file mode 100644
index 8c983394f..000000000
--- a/main/src/main/res/drawable/ic_source_selected.xml
+++ /dev/null
@@ -1,30 +0,0 @@
-<!--
-  Copyright 2019 Google Inc.
-
-  Licensed under the Apache License, Version 2.0 (the "License");
-  you may not use this file except in compliance with the License.
-  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-  Unless required by applicable law or agreed to in writing, software
-  distributed under the License is distributed on an "AS IS" BASIS,
-  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-  See the License for the specific language governing permissions and
-  limitations under the License.
-  -->
-
-<vector
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    android:width="40dp"
-    android:height="40dp"
-    android:viewportWidth="28.0"
-    android:viewportHeight="28.0">
-    <group
-        android:translateX="2"
-        android:translateY="2">
-        <path
-            android:fillColor="#FFF"
-            android:pathData="M9,16.17L4.83,12l-1.42,1.41L9,19 21,7l-1.41,-1.41z"/>
-    </group>
-</vector>
diff --git a/main/src/main/res/layout/choose_provider_item.xml b/main/src/main/res/layout/choose_provider_item.xml
deleted file mode 100644
index b308be799..000000000
--- a/main/src/main/res/layout/choose_provider_item.xml
+++ /dev/null
@@ -1,143 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.cardview.widget.CardView
-    xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="wrap_content"
-    app:cardCornerRadius="8dp"
-    >
-
-    <androidx.constraintlayout.widget.ConstraintLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content">
-
-        <ImageView
-            android:id="@+id/icon"
-            android:layout_width="40dp"
-            android:layout_height="40dp"
-            android:layout_marginBottom="16dp"
-            android:layout_marginStart="16dp"
-            android:layout_marginTop="16dp"
-            android:importantForAccessibility="no"
-            android:scaleType="centerCrop"
-            app:layout_constraintBottom_toTopOf="@+id/header"
-            app:layout_constraintEnd_toStartOf="@+id/title"
-            app:layout_constraintHorizontal_chainStyle="spread_inside"
-            app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toTopOf="parent"
-            app:srcCompat="@mipmap/ic_launcher" />
-
-        <TextView
-            android:id="@+id/title"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_marginEnd="16dp"
-            android:layout_marginStart="8dp"
-            android:layout_marginBottom="16dp"
-            android:textAppearance="@style/TextAppearance.MaterialComponents.Headline6"
-            app:layout_constraintBottom_toTopOf="@+id/header"
-            app:layout_constraintEnd_toStartOf="@+id/selected"
-            app:layout_constraintStart_toEndOf="@+id/icon"
-            app:layout_constraintTop_toTopOf="@+id/icon"
-            tools:text="Label" />
-
-        <ImageView
-            android:id="@+id/selected"
-            android:layout_width="40dp"
-            android:layout_height="40dp"
-            android:layout_marginBottom="16dp"
-            android:layout_marginEnd="16dp"
-            android:layout_marginTop="16dp"
-            app:layout_constraintBottom_toTopOf="@+id/header"
-            app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintStart_toEndOf="@+id/title"
-            app:layout_constraintTop_toTopOf="parent"
-            app:layout_constraintVertical_bias="0"
-            android:src="@drawable/ic_source_selected"
-            app:tint="?attr/colorOnSurface"
-            android:visibility="invisible"/>
-
-        <androidx.constraintlayout.widget.Barrier
-            android:id="@+id/header"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            app:barrierDirection="bottom"
-            app:constraint_referenced_ids="icon,title,selected" />
-
-        <ImageView
-            android:id="@+id/artwork"
-            android:layout_width="0dp"
-            android:layout_height="0dp"
-            android:layout_marginBottom="16dp"
-            android:cropToPadding="false"
-            android:scaleType="centerCrop"
-            android:adjustViewBounds="true"
-            app:layout_constraintBottom_toTopOf="@+id/description"
-            app:layout_constraintDimensionRatio="h,16:9"
-            app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/header"
-            app:srcCompat="@mipmap/ic_launcher" />
-
-        <androidx.constraintlayout.widget.Barrier
-            android:id="@+id/artwork_barrier"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            app:barrierDirection="bottom"
-            app:constraint_referenced_ids="artwork" />
-
-        <TextView
-            android:id="@+id/description"
-            android:layout_width="0dp"
-            android:layout_height="wrap_content"
-            android:layout_marginBottom="16dp"
-            android:layout_marginEnd="16dp"
-            android:layout_marginStart="16dp"
-            android:textAppearance="@style/TextAppearance.MaterialComponents.Subtitle1"
-            app:layout_constraintBottom_toTopOf="@+id/button_bar"
-            app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/artwork_barrier"
-            tools:text="Description" />
-
-        <androidx.constraintlayout.widget.Barrier
-            android:id="@+id/button_bar"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            app:barrierDirection="top"
-            app:constraint_referenced_ids="settings,browse" />
-
-        <Button
-            android:id="@+id/settings"
-            style="@style/Widget.MaterialComponents.Button.TextButton"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_marginStart="8dp"
-            android:text="@string/provider_settings"
-            android:textColor="?android:attr/textColorPrimary"
-            app:layout_constraintBottom_toBottomOf="parent"
-            app:layout_constraintEnd_toStartOf="@+id/browse"
-            app:layout_constraintHorizontal_bias="0.0"
-            app:layout_constraintHorizontal_chainStyle="packed"
-            app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/button_bar" />
-
-        <Button
-            android:id="@+id/browse"
-            style="@style/Widget.MaterialComponents.Button.TextButton"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_marginEnd="8dp"
-            android:layout_marginStart="8dp"
-            android:text="@string/provider_browse"
-            android:textColor="?android:attr/textColorPrimary"
-            android:visibility="gone"
-            app:layout_constraintBottom_toBottomOf="parent"
-            app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintHorizontal_bias="0.5"
-            app:layout_constraintStart_toEndOf="@+id/settings"
-            app:layout_constraintTop_toBottomOf="@+id/button_bar" />
-
-    </androidx.constraintlayout.widget.ConstraintLayout>
-</androidx.cardview.widget.CardView>
