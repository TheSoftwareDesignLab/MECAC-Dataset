diff --git a/.gitattributes b/.gitattributes
index c220ad2d79a5..cbebbba3f793 100644
--- a/.gitattributes
+++ b/.gitattributes
@@ -291,39 +291,6 @@ src/com/commonsware/cwac/thumbnail/ThumbnailActivity.java -text
 src/com/commonsware/cwac/thumbnail/ThumbnailAdapter.java -text
 src/com/commonsware/cwac/thumbnail/ThumbnailBus.java -text
 src/com/commonsware/cwac/thumbnail/ThumbnailMessage.java -text
-src/com/roundhill/androidWP/DrawableManager.java -text
-src/com/roundhill/androidWP/Entities.java -text
-src/com/roundhill/androidWP/IntHashMap.java -text
-src/com/roundhill/androidWP/ServiceUpdateUIListener.java -text
-src/com/roundhill/androidWP/broadcastReceiver.java -text
-src/com/roundhill/androidWP/categoriesDB.java -text
-src/com/roundhill/androidWP/commentService.java -text
-src/com/roundhill/androidWP/customButton.java -text
-src/com/roundhill/androidWP/customImageButton.java -text
-src/com/roundhill/androidWP/customMenuButton.java -text
-src/com/roundhill/androidWP/editPost.java -text
-src/com/roundhill/androidWP/escapeUtils.java -text
-src/com/roundhill/androidWP/eulaDB.java -text
-src/com/roundhill/androidWP/link.java -text
-src/com/roundhill/androidWP/localDraftsDB.java -text
-src/com/roundhill/androidWP/moderateComments.java -text
-src/com/roundhill/androidWP/moderateCommentsTab.java -text
-src/com/roundhill/androidWP/newAccount.java -text
-src/com/roundhill/androidWP/newPost.java -text
-src/com/roundhill/androidWP/notificationSettings.java -text
-src/com/roundhill/androidWP/postStoreDB.java -text
-src/com/roundhill/androidWP/saveName.java -text
-src/com/roundhill/androidWP/savedPostsDB.java -text
-src/com/roundhill/androidWP/selectpost.java -text
-src/com/roundhill/androidWP/settings.java -text
-src/com/roundhill/androidWP/settingsDB.java -text
-src/com/roundhill/androidWP/tabView.java -text
-src/com/roundhill/androidWP/viewComments.java -text
-src/com/roundhill/androidWP/viewLocalDrafts.java -text
-src/com/roundhill/androidWP/viewPages.java -text
-src/com/roundhill/androidWP/viewPost.java -text
-src/com/roundhill/androidWP/viewPosts.java -text
-src/com/roundhill/androidWP/wpAndroid.java -text
 src/org/wordpress/android/DrawableManager.java -text
 src/org/wordpress/android/Entities.java -text
 src/org/wordpress/android/IntHashMap.java -text
diff --git a/bin/classes.dex b/bin/classes.dex
index b673801e9ab5..16229a740e17 100644
Binary files a/bin/classes.dex and b/bin/classes.dex differ
diff --git a/bin/resources.ap_ b/bin/resources.ap_
index 995236bfc767..da3307dfac7c 100644
Binary files a/bin/resources.ap_ and b/bin/resources.ap_ differ
diff --git a/bin/wordpress-official.apk b/bin/wordpress-official.apk
index b0f1188f019e..801aea2fd15d 100644
Binary files a/bin/wordpress-official.apk and b/bin/wordpress-official.apk differ
diff --git a/src/com/roundhill/androidWP/DrawableManager.java b/src/com/roundhill/androidWP/DrawableManager.java
deleted file mode 100644
index 3d9a5cffbc63..000000000000
--- a/src/com/roundhill/androidWP/DrawableManager.java
+++ /dev/null
@@ -1,81 +0,0 @@
-package com.roundhill.androidWP;
-
-import java.io.IOException;
-import java.io.InputStream;
-import java.net.MalformedURLException;
-import java.util.HashMap;
-import java.util.Map;
-
-import org.apache.http.HttpResponse;
-import org.apache.http.client.methods.HttpGet;
-import org.apache.http.impl.client.DefaultHttpClient;
-
-import android.graphics.drawable.Drawable;
-import android.os.Handler;
-import android.os.Message;
-import android.util.Log;
-import android.widget.ImageView;
-
-public class DrawableManager {
-    private final Map drawableMap;
-
-    public DrawableManager() {
-    	drawableMap = new HashMap();
-    }
-
-    public Drawable fetchDrawable(String urlString) {
-    	if (drawableMap.containsKey(urlString)) {
-    		return (Drawable) drawableMap.get(urlString);
-    	}
-
-    	Log.d(this.getClass().getSimpleName(), "image url:" + urlString);
-    	try {
-    		InputStream is = fetch(urlString);
-    		Drawable drawable = Drawable.createFromStream(is, "src");
-    		drawableMap.put(urlString, drawable);
-    		Log.d(this.getClass().getSimpleName(), "got a thumbnail drawable: " + drawable.getBounds() + ", "
-    				+ drawable.getIntrinsicHeight() + "," + drawable.getIntrinsicWidth() + ", "
-    				+ drawable.getMinimumHeight() + "," + drawable.getMinimumWidth());
-    		return drawable;
-    	} catch (MalformedURLException e) {
-    		Log.e(this.getClass().getSimpleName(), "fetchDrawable failed", e);
-    		return null;
-    	} catch (IOException e) {
-    		Log.e(this.getClass().getSimpleName(), "fetchDrawable failed", e);
-    		return null;
-    	}
-    }
-
-    public void fetchDrawableOnThread(final String urlString, final ImageView imageView) {
-    	if (drawableMap.containsKey(urlString)) {
-    		imageView.setImageDrawable((Drawable) drawableMap.get(urlString));
-    	}
-
-    	final Handler handler = new Handler() {
-    		@Override
-    		public void handleMessage(Message message) {
-    			imageView.setImageDrawable((Drawable) message.obj);
-    		}
-    	};
-
-    	Thread thread = new Thread() {
-    		@Override
-    		public void run() {
-    			//TODO : set imageView to a "pending" image
-    			Drawable drawable = fetchDrawable(urlString);
-    			Message message = handler.obtainMessage(1, drawable);
-    			handler.sendMessage(message);
-    		}
-    	};
-    	thread.start();
-    }
-
-    private InputStream fetch(String urlString) throws MalformedURLException, IOException {
-    	DefaultHttpClient httpClient = new DefaultHttpClient();
-    	HttpGet request = new HttpGet(urlString);
-    	HttpResponse response = httpClient.execute(request);
-    	return response.getEntity().getContent();
-    }
-
-}
-
diff --git a/src/com/roundhill/androidWP/Entities.java b/src/com/roundhill/androidWP/Entities.java
deleted file mode 100644
index a02ed9296026..000000000000
--- a/src/com/roundhill/androidWP/Entities.java
+++ /dev/null
@@ -1,974 +0,0 @@
-package com.roundhill.androidWP;
-
-import java.io.IOException;
-import java.io.StringWriter;
-import java.io.Writer;
-import java.util.HashMap;
-import java.util.Map;
-import java.util.TreeMap;
-
-/**
- * <p>
- * Provides HTML and XML entity utilities.
- * </p>
- * 
- * @see <a href="http://hotwired.lycos.com/webmonkey/reference/special_characters/">ISO Entities</a>
- * @see <a href="http://www.w3.org/TR/REC-html32#latin1">HTML 3.2 Character Entities for ISO Latin-1</a>
- * @see <a href="http://www.w3.org/TR/REC-html40/sgml/entities.html">HTML 4.0 Character entity references</a>
- * @see <a href="http://www.w3.org/TR/html401/charset.html#h-5.3">HTML 4.01 Character References</a>
- * @see <a href="http://www.w3.org/TR/html401/charset.html#code-position">HTML 4.01 Code positions</a>
- * 
- * @author <a href="mailto:alex@purpletech.com">Alexander Day Chaffee</a>
- * @author <a href="mailto:ggregory@seagullsw.com">Gary Gregory</a>
- * @since 2.0
- * @version $Id: Entities.java 636641 2008-03-13 06:11:30Z bayard $
- */
-class Entities {
-
-    private static final String[][] BASIC_ARRAY = {}; //disabled for wpToGo
-    	//{{"quot", "34"}, // " - double-quote
-        //{"amp", "38"}, // & - ampersand
-        //{"lt", "60"}, // < - less-than
-        //{"gt", "62"}, // > - greater-than
-    //};
-
-    private static final String[][] APOS_ARRAY = {{"apos", "39"}, // XML apostrophe
-    };
-
-    // package scoped for testing
-    static final String[][] ISO8859_1_ARRAY = {{"nbsp", "160"}, // non-breaking space
-        {"iexcl", "161"}, // inverted exclamation mark
-        {"cent", "162"}, // cent sign
-        {"pound", "163"}, // pound sign
-        {"curren", "164"}, // currency sign
-        {"yen", "165"}, // yen sign = yuan sign
-        {"brvbar", "166"}, // broken bar = broken vertical bar
-        {"sect", "167"}, // section sign
-        {"uml", "168"}, // diaeresis = spacing diaeresis
-        {"copy", "169"}, // � - copyright sign
-        {"ordf", "170"}, // feminine ordinal indicator
-        {"laquo", "171"}, // left-pointing double angle quotation mark = left pointing guillemet
-        {"not", "172"}, // not sign
-        {"shy", "173"}, // soft hyphen = discretionary hyphen
-        {"reg", "174"}, // � - registered trademark sign
-        {"macr", "175"}, // macron = spacing macron = overline = APL overbar
-        {"deg", "176"}, // degree sign
-        {"plusmn", "177"}, // plus-minus sign = plus-or-minus sign
-        {"sup2", "178"}, // superscript two = superscript digit two = squared
-        {"sup3", "179"}, // superscript three = superscript digit three = cubed
-        {"acute", "180"}, // acute accent = spacing acute
-        {"micro", "181"}, // micro sign
-        {"para", "182"}, // pilcrow sign = paragraph sign
-        {"middot", "183"}, // middle dot = Georgian comma = Greek middle dot
-        {"cedil", "184"}, // cedilla = spacing cedilla
-        {"sup1", "185"}, // superscript one = superscript digit one
-        {"ordm", "186"}, // masculine ordinal indicator
-        {"raquo", "187"}, // right-pointing double angle quotation mark = right pointing guillemet
-        {"frac14", "188"}, // vulgar fraction one quarter = fraction one quarter
-        {"frac12", "189"}, // vulgar fraction one half = fraction one half
-        {"frac34", "190"}, // vulgar fraction three quarters = fraction three quarters
-        {"iquest", "191"}, // inverted question mark = turned question mark
-        {"Agrave", "192"}, // � - uppercase A, grave accent
-        {"Aacute", "193"}, // � - uppercase A, acute accent
-        {"Acirc", "194"}, // � - uppercase A, circumflex accent
-        {"Atilde", "195"}, // � - uppercase A, tilde
-        {"Auml", "196"}, // � - uppercase A, umlaut
-        {"Aring", "197"}, // � - uppercase A, ring
-        {"AElig", "198"}, // � - uppercase AE
-        {"Ccedil", "199"}, // � - uppercase C, cedilla
-        {"Egrave", "200"}, // � - uppercase E, grave accent
-        {"Eacute", "201"}, // � - uppercase E, acute accent
-        {"Ecirc", "202"}, // � - uppercase E, circumflex accent
-        {"Euml", "203"}, // � - uppercase E, umlaut
-        {"Igrave", "204"}, // � - uppercase I, grave accent
-        {"Iacute", "205"}, // � - uppercase I, acute accent
-        {"Icirc", "206"}, // � - uppercase I, circumflex accent
-        {"Iuml", "207"}, // � - uppercase I, umlaut
-        {"ETH", "208"}, // � - uppercase Eth, Icelandic
-        {"Ntilde", "209"}, // � - uppercase N, tilde
-        {"Ograve", "210"}, // � - uppercase O, grave accent
-        {"Oacute", "211"}, // � - uppercase O, acute accent
-        {"Ocirc", "212"}, // � - uppercase O, circumflex accent
-        {"Otilde", "213"}, // � - uppercase O, tilde
-        {"Ouml", "214"}, // � - uppercase O, umlaut
-        {"times", "215"}, // multiplication sign
-        {"Oslash", "216"}, // � - uppercase O, slash
-        {"Ugrave", "217"}, // � - uppercase U, grave accent
-        {"Uacute", "218"}, // � - uppercase U, acute accent
-        {"Ucirc", "219"}, // � - uppercase U, circumflex accent
-        {"Uuml", "220"}, // � - uppercase U, umlaut
-        {"Yacute", "221"}, // � - uppercase Y, acute accent
-        {"THORN", "222"}, // � - uppercase THORN, Icelandic
-        {"szlig", "223"}, // � - lowercase sharps, German
-        {"agrave", "224"}, // � - lowercase a, grave accent
-        {"aacute", "225"}, // � - lowercase a, acute accent
-        {"acirc", "226"}, // � - lowercase a, circumflex accent
-        {"atilde", "227"}, // � - lowercase a, tilde
-        {"auml", "228"}, // � - lowercase a, umlaut
-        {"aring", "229"}, // � - lowercase a, ring
-        {"aelig", "230"}, // � - lowercase ae
-        {"ccedil", "231"}, // � - lowercase c, cedilla
-        {"egrave", "232"}, // � - lowercase e, grave accent
-        {"eacute", "233"}, // � - lowercase e, acute accent
-        {"ecirc", "234"}, // � - lowercase e, circumflex accent
-        {"euml", "235"}, // � - lowercase e, umlaut
-        {"igrave", "236"}, // � - lowercase i, grave accent
-        {"iacute", "237"}, // � - lowercase i, acute accent
-        {"icirc", "238"}, // � - lowercase i, circumflex accent
-        {"iuml", "239"}, // � - lowercase i, umlaut
-        {"eth", "240"}, // � - lowercase eth, Icelandic
-        {"ntilde", "241"}, // � - lowercase n, tilde
-        {"ograve", "242"}, // � - lowercase o, grave accent
-        {"oacute", "243"}, // � - lowercase o, acute accent
-        {"ocirc", "244"}, // � - lowercase o, circumflex accent
-        {"otilde", "245"}, // � - lowercase o, tilde
-        {"ouml", "246"}, // � - lowercase o, umlaut
-        {"divide", "247"}, // division sign
-        {"oslash", "248"}, // � - lowercase o, slash
-        {"ugrave", "249"}, // � - lowercase u, grave accent
-        {"uacute", "250"}, // � - lowercase u, acute accent
-        {"ucirc", "251"}, // � - lowercase u, circumflex accent
-        {"uuml", "252"}, // � - lowercase u, umlaut
-        {"yacute", "253"}, // � - lowercase y, acute accent
-        {"thorn", "254"}, // � - lowercase thorn, Icelandic
-        {"yuml", "255"}, // � - lowercase y, umlaut
-    };
-
-    // http://www.w3.org/TR/REC-html40/sgml/entities.html
-    // package scoped for testing
-    static final String[][] HTML40_ARRAY = {
-    // <!-- Latin Extended-B -->
-        {"fnof", "402"}, // latin small f with hook = function= florin, U+0192 ISOtech -->
-        // <!-- Greek -->
-        {"Alpha", "913"}, // greek capital letter alpha, U+0391 -->
-        {"Beta", "914"}, // greek capital letter beta, U+0392 -->
-        {"Gamma", "915"}, // greek capital letter gamma,U+0393 ISOgrk3 -->
-        {"Delta", "916"}, // greek capital letter delta,U+0394 ISOgrk3 -->
-        {"Epsilon", "917"}, // greek capital letter epsilon, U+0395 -->
-        {"Zeta", "918"}, // greek capital letter zeta, U+0396 -->
-        {"Eta", "919"}, // greek capital letter eta, U+0397 -->
-        {"Theta", "920"}, // greek capital letter theta,U+0398 ISOgrk3 -->
-        {"Iota", "921"}, // greek capital letter iota, U+0399 -->
-        {"Kappa", "922"}, // greek capital letter kappa, U+039A -->
-        {"Lambda", "923"}, // greek capital letter lambda,U+039B ISOgrk3 -->
-        {"Mu", "924"}, // greek capital letter mu, U+039C -->
-        {"Nu", "925"}, // greek capital letter nu, U+039D -->
-        {"Xi", "926"}, // greek capital letter xi, U+039E ISOgrk3 -->
-        {"Omicron", "927"}, // greek capital letter omicron, U+039F -->
-        {"Pi", "928"}, // greek capital letter pi, U+03A0 ISOgrk3 -->
-        {"Rho", "929"}, // greek capital letter rho, U+03A1 -->
-        // <!-- there is no Sigmaf, and no U+03A2 character either -->
-        {"Sigma", "931"}, // greek capital letter sigma,U+03A3 ISOgrk3 -->
-        {"Tau", "932"}, // greek capital letter tau, U+03A4 -->
-        {"Upsilon", "933"}, // greek capital letter upsilon,U+03A5 ISOgrk3 -->
-        {"Phi", "934"}, // greek capital letter phi,U+03A6 ISOgrk3 -->
-        {"Chi", "935"}, // greek capital letter chi, U+03A7 -->
-        {"Psi", "936"}, // greek capital letter psi,U+03A8 ISOgrk3 -->
-        {"Omega", "937"}, // greek capital letter omega,U+03A9 ISOgrk3 -->
-        {"alpha", "945"}, // greek small letter alpha,U+03B1 ISOgrk3 -->
-        {"beta", "946"}, // greek small letter beta, U+03B2 ISOgrk3 -->
-        {"gamma", "947"}, // greek small letter gamma,U+03B3 ISOgrk3 -->
-        {"delta", "948"}, // greek small letter delta,U+03B4 ISOgrk3 -->
-        {"epsilon", "949"}, // greek small letter epsilon,U+03B5 ISOgrk3 -->
-        {"zeta", "950"}, // greek small letter zeta, U+03B6 ISOgrk3 -->
-        {"eta", "951"}, // greek small letter eta, U+03B7 ISOgrk3 -->
-        {"theta", "952"}, // greek small letter theta,U+03B8 ISOgrk3 -->
-        {"iota", "953"}, // greek small letter iota, U+03B9 ISOgrk3 -->
-        {"kappa", "954"}, // greek small letter kappa,U+03BA ISOgrk3 -->
-        {"lambda", "955"}, // greek small letter lambda,U+03BB ISOgrk3 -->
-        {"mu", "956"}, // greek small letter mu, U+03BC ISOgrk3 -->
-        {"nu", "957"}, // greek small letter nu, U+03BD ISOgrk3 -->
-        {"xi", "958"}, // greek small letter xi, U+03BE ISOgrk3 -->
-        {"omicron", "959"}, // greek small letter omicron, U+03BF NEW -->
-        {"pi", "960"}, // greek small letter pi, U+03C0 ISOgrk3 -->
-        {"rho", "961"}, // greek small letter rho, U+03C1 ISOgrk3 -->
-        {"sigmaf", "962"}, // greek small letter final sigma,U+03C2 ISOgrk3 -->
-        {"sigma", "963"}, // greek small letter sigma,U+03C3 ISOgrk3 -->
-        {"tau", "964"}, // greek small letter tau, U+03C4 ISOgrk3 -->
-        {"upsilon", "965"}, // greek small letter upsilon,U+03C5 ISOgrk3 -->
-        {"phi", "966"}, // greek small letter phi, U+03C6 ISOgrk3 -->
-        {"chi", "967"}, // greek small letter chi, U+03C7 ISOgrk3 -->
-        {"psi", "968"}, // greek small letter psi, U+03C8 ISOgrk3 -->
-        {"omega", "969"}, // greek small letter omega,U+03C9 ISOgrk3 -->
-        {"thetasym", "977"}, // greek small letter theta symbol,U+03D1 NEW -->
-        {"upsih", "978"}, // greek upsilon with hook symbol,U+03D2 NEW -->
-        {"piv", "982"}, // greek pi symbol, U+03D6 ISOgrk3 -->
-        // <!-- General Punctuation -->
-        {"bull", "8226"}, // bullet = black small circle,U+2022 ISOpub -->
-        // <!-- bullet is NOT the same as bullet operator, U+2219 -->
-        {"hellip", "8230"}, // horizontal ellipsis = three dot leader,U+2026 ISOpub -->
-        {"prime", "8242"}, // prime = minutes = feet, U+2032 ISOtech -->
-        {"Prime", "8243"}, // double prime = seconds = inches,U+2033 ISOtech -->
-        {"oline", "8254"}, // overline = spacing overscore,U+203E NEW -->
-        {"frasl", "8260"}, // fraction slash, U+2044 NEW -->
-        // <!-- Letterlike Symbols -->
-        {"weierp", "8472"}, // script capital P = power set= Weierstrass p, U+2118 ISOamso -->
-        {"image", "8465"}, // blackletter capital I = imaginary part,U+2111 ISOamso -->
-        {"real", "8476"}, // blackletter capital R = real part symbol,U+211C ISOamso -->
-        {"trade", "8482"}, // trade mark sign, U+2122 ISOnum -->
-        {"alefsym", "8501"}, // alef symbol = first transfinite cardinal,U+2135 NEW -->
-        // <!-- alef symbol is NOT the same as hebrew letter alef,U+05D0 although the
-        // same glyph could be used to depict both characters -->
-        // <!-- Arrows -->
-        {"larr", "8592"}, // leftwards arrow, U+2190 ISOnum -->
-        {"uarr", "8593"}, // upwards arrow, U+2191 ISOnum-->
-        {"rarr", "8594"}, // rightwards arrow, U+2192 ISOnum -->
-        {"darr", "8595"}, // downwards arrow, U+2193 ISOnum -->
-        {"harr", "8596"}, // left right arrow, U+2194 ISOamsa -->
-        {"crarr", "8629"}, // downwards arrow with corner leftwards= carriage return, U+21B5 NEW -->
-        {"lArr", "8656"}, // leftwards double arrow, U+21D0 ISOtech -->
-        // <!-- ISO 10646 does not say that lArr is the same as the 'is implied by'
-        // arrow but also does not have any other character for that function.
-        // So ? lArr canbe used for 'is implied by' as ISOtech suggests -->
-        {"uArr", "8657"}, // upwards double arrow, U+21D1 ISOamsa -->
-        {"rArr", "8658"}, // rightwards double arrow,U+21D2 ISOtech -->
-        // <!-- ISO 10646 does not say this is the 'implies' character but does not
-        // have another character with this function so ?rArr can be used for
-        // 'implies' as ISOtech suggests -->
-        {"dArr", "8659"}, // downwards double arrow, U+21D3 ISOamsa -->
-        {"hArr", "8660"}, // left right double arrow,U+21D4 ISOamsa -->
-        // <!-- Mathematical Operators -->
-        {"forall", "8704"}, // for all, U+2200 ISOtech -->
-        {"part", "8706"}, // partial differential, U+2202 ISOtech -->
-        {"exist", "8707"}, // there exists, U+2203 ISOtech -->
-        {"empty", "8709"}, // empty set = null set = diameter,U+2205 ISOamso -->
-        {"nabla", "8711"}, // nabla = backward difference,U+2207 ISOtech -->
-        {"isin", "8712"}, // element of, U+2208 ISOtech -->
-        {"notin", "8713"}, // not an element of, U+2209 ISOtech -->
-        {"ni", "8715"}, // contains as member, U+220B ISOtech -->
-        // <!-- should there be a more memorable name than 'ni'? -->
-        {"prod", "8719"}, // n-ary product = product sign,U+220F ISOamsb -->
-        // <!-- prod is NOT the same character as U+03A0 'greek capital letter pi'
-        // though the same glyph might be used for both -->
-        {"sum", "8721"}, // n-ary summation, U+2211 ISOamsb -->
-        // <!-- sum is NOT the same character as U+03A3 'greek capital letter sigma'
-        // though the same glyph might be used for both -->
-        {"minus", "8722"}, // minus sign, U+2212 ISOtech -->
-        {"lowast", "8727"}, // asterisk operator, U+2217 ISOtech -->
-        {"radic", "8730"}, // square root = radical sign,U+221A ISOtech -->
-        {"prop", "8733"}, // proportional to, U+221D ISOtech -->
-        {"infin", "8734"}, // infinity, U+221E ISOtech -->
-        {"ang", "8736"}, // angle, U+2220 ISOamso -->
-        {"and", "8743"}, // logical and = wedge, U+2227 ISOtech -->
-        {"or", "8744"}, // logical or = vee, U+2228 ISOtech -->
-        {"cap", "8745"}, // intersection = cap, U+2229 ISOtech -->
-        {"cup", "8746"}, // union = cup, U+222A ISOtech -->
-        {"int", "8747"}, // integral, U+222B ISOtech -->
-        {"there4", "8756"}, // therefore, U+2234 ISOtech -->
-        {"sim", "8764"}, // tilde operator = varies with = similar to,U+223C ISOtech -->
-        // <!-- tilde operator is NOT the same character as the tilde, U+007E,although
-        // the same glyph might be used to represent both -->
-        {"cong", "8773"}, // approximately equal to, U+2245 ISOtech -->
-        {"asymp", "8776"}, // almost equal to = asymptotic to,U+2248 ISOamsr -->
-        {"ne", "8800"}, // not equal to, U+2260 ISOtech -->
-        {"equiv", "8801"}, // identical to, U+2261 ISOtech -->
-        {"le", "8804"}, // less-than or equal to, U+2264 ISOtech -->
-        {"ge", "8805"}, // greater-than or equal to,U+2265 ISOtech -->
-        {"sub", "8834"}, // subset of, U+2282 ISOtech -->
-        {"sup", "8835"}, // superset of, U+2283 ISOtech -->
-        // <!-- note that nsup, 'not a superset of, U+2283' is not covered by the
-        // Symbol font encoding and is not included. Should it be, for symmetry?
-        // It is in ISOamsn --> <!ENTITY nsub", "8836"},
-        // not a subset of, U+2284 ISOamsn -->
-        {"sube", "8838"}, // subset of or equal to, U+2286 ISOtech -->
-        {"supe", "8839"}, // superset of or equal to,U+2287 ISOtech -->
-        {"oplus", "8853"}, // circled plus = direct sum,U+2295 ISOamsb -->
-        {"otimes", "8855"}, // circled times = vector product,U+2297 ISOamsb -->
-        {"perp", "8869"}, // up tack = orthogonal to = perpendicular,U+22A5 ISOtech -->
-        {"sdot", "8901"}, // dot operator, U+22C5 ISOamsb -->
-        // <!-- dot operator is NOT the same character as U+00B7 middle dot -->
-        // <!-- Miscellaneous Technical -->
-        {"lceil", "8968"}, // left ceiling = apl upstile,U+2308 ISOamsc -->
-        {"rceil", "8969"}, // right ceiling, U+2309 ISOamsc -->
-        {"lfloor", "8970"}, // left floor = apl downstile,U+230A ISOamsc -->
-        {"rfloor", "8971"}, // right floor, U+230B ISOamsc -->
-        {"lang", "9001"}, // left-pointing angle bracket = bra,U+2329 ISOtech -->
-        // <!-- lang is NOT the same character as U+003C 'less than' or U+2039 'single left-pointing angle quotation
-        // mark' -->
-        {"rang", "9002"}, // right-pointing angle bracket = ket,U+232A ISOtech -->
-        // <!-- rang is NOT the same character as U+003E 'greater than' or U+203A
-        // 'single right-pointing angle quotation mark' -->
-        // <!-- Geometric Shapes -->
-        {"loz", "9674"}, // lozenge, U+25CA ISOpub -->
-        // <!-- Miscellaneous Symbols -->
-        {"spades", "9824"}, // black spade suit, U+2660 ISOpub -->
-        // <!-- black here seems to mean filled as opposed to hollow -->
-        {"clubs", "9827"}, // black club suit = shamrock,U+2663 ISOpub -->
-        {"hearts", "9829"}, // black heart suit = valentine,U+2665 ISOpub -->
-        {"diams", "9830"}, // black diamond suit, U+2666 ISOpub -->
-
-        // <!-- Latin Extended-A -->
-        {"OElig", "338"}, // -- latin capital ligature OE,U+0152 ISOlat2 -->
-        {"oelig", "339"}, // -- latin small ligature oe, U+0153 ISOlat2 -->
-        // <!-- ligature is a misnomer, this is a separate character in some languages -->
-        {"Scaron", "352"}, // -- latin capital letter S with caron,U+0160 ISOlat2 -->
-        {"scaron", "353"}, // -- latin small letter s with caron,U+0161 ISOlat2 -->
-        {"Yuml", "376"}, // -- latin capital letter Y with diaeresis,U+0178 ISOlat2 -->
-        // <!-- Spacing Modifier Letters -->
-        {"circ", "710"}, // -- modifier letter circumflex accent,U+02C6 ISOpub -->
-        {"tilde", "732"}, // small tilde, U+02DC ISOdia -->
-        // <!-- General Punctuation -->
-        {"ensp", "8194"}, // en space, U+2002 ISOpub -->
-        {"emsp", "8195"}, // em space, U+2003 ISOpub -->
-        {"thinsp", "8201"}, // thin space, U+2009 ISOpub -->
-        {"zwnj", "8204"}, // zero width non-joiner,U+200C NEW RFC 2070 -->
-        {"zwj", "8205"}, // zero width joiner, U+200D NEW RFC 2070 -->
-        {"lrm", "8206"}, // left-to-right mark, U+200E NEW RFC 2070 -->
-        {"rlm", "8207"}, // right-to-left mark, U+200F NEW RFC 2070 -->
-        {"ndash", "8211"}, // en dash, U+2013 ISOpub -->
-        {"mdash", "8212"}, // em dash, U+2014 ISOpub -->
-        {"lsquo", "8216"}, // left single quotation mark,U+2018 ISOnum -->
-        {"rsquo", "8217"}, // right single quotation mark,U+2019 ISOnum -->
-        {"sbquo", "8218"}, // single low-9 quotation mark, U+201A NEW -->
-        {"ldquo", "8220"}, // left double quotation mark,U+201C ISOnum -->
-        {"rdquo", "8221"}, // right double quotation mark,U+201D ISOnum -->
-        {"bdquo", "8222"}, // double low-9 quotation mark, U+201E NEW -->
-        {"dagger", "8224"}, // dagger, U+2020 ISOpub -->
-        {"Dagger", "8225"}, // double dagger, U+2021 ISOpub -->
-        {"permil", "8240"}, // per mille sign, U+2030 ISOtech -->
-        {"lsaquo", "8249"}, // single left-pointing angle quotation mark,U+2039 ISO proposed -->
-        // <!-- lsaquo is proposed but not yet ISO standardized -->
-        {"rsaquo", "8250"}, // single right-pointing angle quotation mark,U+203A ISO proposed -->
-        // <!-- rsaquo is proposed but not yet ISO standardized -->
-        {"euro", "8364"}, // -- euro sign, U+20AC NEW -->
-    };
-
-    /**
-     * <p>
-     * The set of entities supported by standard XML.
-     * </p>
-     */
-    public static final Entities XML;
-
-    /**
-     * <p>
-     * The set of entities supported by HTML 3.2.
-     * </p>
-     */
-    public static final Entities HTML32;
-
-    /**
-     * <p>
-     * The set of entities supported by HTML 4.0.
-     * </p>
-     */
-    public static final Entities HTML40;
-
-    static {
-        XML = new Entities();
-        XML.addEntities(BASIC_ARRAY);
-        XML.addEntities(APOS_ARRAY);
-    }
-
-    static {
-        HTML32 = new Entities();
-        HTML32.addEntities(BASIC_ARRAY);
-        HTML32.addEntities(ISO8859_1_ARRAY);
-    }
-
-    static {
-        HTML40 = new Entities();
-        fillWithHtml40Entities(HTML40);
-    }
-
-    /**
-     * <p>
-     * Fills the specified entities instance with HTML 40 entities.
-     * </p>
-     * 
-     * @param entities
-     *            the instance to be filled.
-     */
-    static void fillWithHtml40Entities(Entities entities) {
-        entities.addEntities(BASIC_ARRAY);
-        entities.addEntities(ISO8859_1_ARRAY);
-        entities.addEntities(HTML40_ARRAY);
-    }
-
-    static interface EntityMap {
-        /**
-         * <p>
-         * Add an entry to this entity map.
-         * </p>
-         * 
-         * @param name
-         *            the entity name
-         * @param value
-         *            the entity value
-         */
-        void add(String name, int value);
-
-        /**
-         * <p>
-         * Returns the name of the entity identified by the specified value.
-         * </p>
-         * 
-         * @param value
-         *            the value to locate
-         * @return entity name associated with the specified value
-         */
-        String name(int value);
-
-        /**
-         * <p>
-         * Returns the value of the entity identified by the specified name.
-         * </p>
-         * 
-         * @param name
-         *            the name to locate
-         * @return entity value associated with the specified name
-         */
-        int value(String name);
-    }
-
-    static class PrimitiveEntityMap implements EntityMap {
-        private Map mapNameToValue = new HashMap();
-
-        private IntHashMap mapValueToName = new IntHashMap();
-
-        /**
-         * {@inheritDoc}
-         */
-        public void add(String name, int value) {
-            mapNameToValue.put(name, new Integer(value));
-            mapValueToName.put(value, name);
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public String name(int value) {
-            return (String) mapValueToName.get(value);
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public int value(String name) {
-            Object value = mapNameToValue.get(name);
-            if (value == null) {
-                return -1;
-            }
-            return ((Integer) value).intValue();
-        }
-    }
-
-    static abstract class MapIntMap implements Entities.EntityMap {
-        protected Map mapNameToValue;
-
-        protected Map mapValueToName;
-
-        /**
-         * {@inheritDoc}
-         */
-        public void add(String name, int value) {
-            mapNameToValue.put(name, new Integer(value));
-            mapValueToName.put(new Integer(value), name);
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public String name(int value) {
-            return (String) mapValueToName.get(new Integer(value));
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public int value(String name) {
-            Object value = mapNameToValue.get(name);
-            if (value == null) {
-                return -1;
-            }
-            return ((Integer) value).intValue();
-        }
-    }
-
-    static class HashEntityMap extends MapIntMap {
-        /**
-         * Constructs a new instance of <code>HashEntityMap</code>.
-         */
-        public HashEntityMap() {
-            mapNameToValue = new HashMap();
-            mapValueToName = new HashMap();
-        }
-    }
-
-    static class TreeEntityMap extends MapIntMap {
-        /**
-         * Constructs a new instance of <code>TreeEntityMap</code>.
-         */
-        public TreeEntityMap() {
-            mapNameToValue = new TreeMap();
-            mapValueToName = new TreeMap();
-        }
-    }
-
-    static class LookupEntityMap extends PrimitiveEntityMap {
-        private String[] lookupTable;
-
-        private int LOOKUP_TABLE_SIZE = 256;
-
-        /**
-         * {@inheritDoc}
-         */
-        public String name(int value) {
-            if (value < LOOKUP_TABLE_SIZE) {
-                return lookupTable()[value];
-            }
-            return super.name(value);
-        }
-
-        /**
-         * <p>
-         * Returns the lookup table for this entity map. The lookup table is created if it has not been previously.
-         * </p>
-         * 
-         * @return the lookup table
-         */
-        private String[] lookupTable() {
-            if (lookupTable == null) {
-                createLookupTable();
-            }
-            return lookupTable;
-        }
-
-        /**
-         * <p>
-         * Creates an entity lookup table of LOOKUP_TABLE_SIZE elements, initialized with entity names.
-         * </p>
-         */
-        private void createLookupTable() {
-            lookupTable = new String[LOOKUP_TABLE_SIZE];
-            for (int i = 0; i < LOOKUP_TABLE_SIZE; ++i) {
-                lookupTable[i] = super.name(i);
-            }
-        }
-    }
-
-    static class ArrayEntityMap implements EntityMap {
-        protected int growBy = 100;
-
-        protected int size = 0;
-
-        protected String[] names;
-
-        protected int[] values;
-
-        /**
-         * Constructs a new instance of <code>ArrayEntityMap</code>.
-         */
-        public ArrayEntityMap() {
-            names = new String[growBy];
-            values = new int[growBy];
-        }
-
-        /**
-         * Constructs a new instance of <code>ArrayEntityMap</code> specifying the size by which the array should
-         * grow.
-         * 
-         * @param growBy
-         *            array will be initialized to and will grow by this amount
-         */
-        public ArrayEntityMap(int growBy) {
-            this.growBy = growBy;
-            names = new String[growBy];
-            values = new int[growBy];
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public void add(String name, int value) {
-            ensureCapacity(size + 1);
-            names[size] = name;
-            values[size] = value;
-            size++;
-        }
-
-        /**
-         * Verifies the capacity of the entity array, adjusting the size if necessary.
-         * 
-         * @param capacity
-         *            size the array should be
-         */
-        protected void ensureCapacity(int capacity) {
-            if (capacity > names.length) {
-                int newSize = Math.max(capacity, size + growBy);
-                String[] newNames = new String[newSize];
-                System.arraycopy(names, 0, newNames, 0, size);
-                names = newNames;
-                int[] newValues = new int[newSize];
-                System.arraycopy(values, 0, newValues, 0, size);
-                values = newValues;
-            }
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public String name(int value) {
-            for (int i = 0; i < size; ++i) {
-                if (values[i] == value) {
-                    return names[i];
-                }
-            }
-            return null;
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public int value(String name) {
-            for (int i = 0; i < size; ++i) {
-                if (names[i].equals(name)) {
-                    return values[i];
-                }
-            }
-            return -1;
-        }
-    }
-
-    static class BinaryEntityMap extends ArrayEntityMap {
-
-        /**
-         * Constructs a new instance of <code>BinaryEntityMap</code>.
-         */
-        public BinaryEntityMap() {
-            super();
-        }
-
-        /**
-         * Constructs a new instance of <code>ArrayEntityMap</code> specifying the size by which the underlying array
-         * should grow.
-         * 
-         * @param growBy
-         *            array will be initialized to and will grow by this amount
-         */
-        public BinaryEntityMap(int growBy) {
-            super(growBy);
-        }
-
-        /**
-         * Performs a binary search of the entity array for the specified key. This method is based on code in
-         * {@link java.util.Arrays}.
-         * 
-         * @param key
-         *            the key to be found
-         * @return the index of the entity array matching the specified key
-         */
-        private int binarySearch(int key) {
-            int low = 0;
-            int high = size - 1;
-
-            while (low <= high) {
-                int mid = (low + high) >>> 1;
-                int midVal = values[mid];
-
-                if (midVal < key) {
-                    low = mid + 1;
-                } else if (midVal > key) {
-                    high = mid - 1;
-                } else {
-                    return mid; // key found
-                }
-            }
-            return -(low + 1); // key not found.
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public void add(String name, int value) {
-            ensureCapacity(size + 1);
-            int insertAt = binarySearch(value);
-            if (insertAt > 0) {
-                return; // note: this means you can't insert the same value twice
-            }
-            insertAt = -(insertAt + 1); // binarySearch returns it negative and off-by-one
-            System.arraycopy(values, insertAt, values, insertAt + 1, size - insertAt);
-            values[insertAt] = value;
-            System.arraycopy(names, insertAt, names, insertAt + 1, size - insertAt);
-            names[insertAt] = name;
-            size++;
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public String name(int value) {
-            int index = binarySearch(value);
-            if (index < 0) {
-                return null;
-            }
-            return names[index];
-        }
-    }
-
-    // package scoped for testing
-    EntityMap map = new Entities.LookupEntityMap();
-
-    /**
-     * <p>
-     * Adds entities to this entity.
-     * </p>
-     * 
-     * @param entityArray
-     *            array of entities to be added
-     */
-    public void addEntities(String[][] entityArray) {
-        for (int i = 0; i < entityArray.length; ++i) {
-            addEntity(entityArray[i][0], Integer.parseInt(entityArray[i][1]));
-        }
-    }
-
-    /**
-     * <p>
-     * Add an entity to this entity.
-     * </p>
-     * 
-     * @param name
-     *            name of the entity
-     * @param value
-     *            vale of the entity
-     */
-    public void addEntity(String name, int value) {
-        map.add(name, value);
-    }
-
-    /**
-     * <p>
-     * Returns the name of the entity identified by the specified value.
-     * </p>
-     * 
-     * @param value
-     *            the value to locate
-     * @return entity name associated with the specified value
-     */
-    public String entityName(int value) {
-        return map.name(value);
-    }
-
-    /**
-     * <p>
-     * Returns the value of the entity identified by the specified name.
-     * </p>
-     * 
-     * @param name
-     *            the name to locate
-     * @return entity value associated with the specified name
-     */
-    public int entityValue(String name) {
-        return map.value(name);
-    }
-
-    /**
-     * <p>
-     * Escapes the characters in a <code>String</code>.
-     * </p>
-     * 
-     * <p>
-     * For example, if you have called addEntity(&quot;foo&quot;, 0xA1), escape(&quot;\u00A1&quot;) will return
-     * &quot;&amp;foo;&quot;
-     * </p>
-     * 
-     * @param str
-     *            The <code>String</code> to escape.
-     * @return A new escaped <code>String</code>.
-     */
-    public String escape(String str) {
-        StringWriter stringWriter = createStringWriter(str);
-        try {
-            this.escape(stringWriter, str);
-        } catch (IOException e) {
-            // This should never happen because ALL the StringWriter methods called by #escape(Writer, String) do not
-            // throw IOExceptions.
-            //throw new UnhandledException(e);
-        }
-        return stringWriter.toString();
-    }
-
-    /**
-     * <p>
-     * Escapes the characters in the <code>String</code> passed and writes the result to the <code>Writer</code>
-     * passed.
-     * </p>
-     * 
-     * @param writer
-     *            The <code>Writer</code> to write the results of the escaping to. Assumed to be a non-null value.
-     * @param str
-     *            The <code>String</code> to escape. Assumed to be a non-null value.
-     * @throws IOException
-     *             when <code>Writer</code> passed throws the exception from calls to the {@link Writer#write(int)}
-     *             methods.
-     * 
-     * @see #escape(String)
-     * @see Writer
-     */
-    public void escape(Writer writer, String str) throws IOException {
-        int len = str.length();
-        for (int i = 0; i < len; i++) {
-            char c = str.charAt(i);
-            String entityName = this.entityName(c);
-            if (entityName == null) {
-                if (c > 0x7F) {
-                    writer.write("&#");
-                    writer.write(Integer.toString(c, 10));
-                    writer.write(';');
-                } else {
-                    writer.write(c);
-                }
-            } else {
-                writer.write('&');
-                writer.write(entityName);
-                writer.write(';');
-            }
-        }
-    }
-
-    /**
-     * <p>
-     * Unescapes the entities in a <code>String</code>.
-     * </p>
-     * 
-     * <p>
-     * For example, if you have called addEntity(&quot;foo&quot;, 0xA1), unescape(&quot;&amp;foo;&quot;) will return
-     * &quot;\u00A1&quot;
-     * </p>
-     * 
-     * @param str
-     *            The <code>String</code> to escape.
-     * @return A new escaped <code>String</code>.
-     */
-    public String unescape(String str) {
-        int firstAmp = str.indexOf('&');
-        if (firstAmp < 0) {
-            return str;
-        } else {
-            StringWriter stringWriter = createStringWriter(str);
-            try {
-                this.doUnescape(stringWriter, str, firstAmp);
-            } catch (IOException e) {
-                // This should never happen because ALL the StringWriter methods called by #escape(Writer, String) 
-                // do not throw IOExceptions.
-               // throw new UnhandledException(e);
-            }
-            return stringWriter.toString();
-        }
-    }
-
-    /**
-     * Make the StringWriter 10% larger than the source String to avoid growing the writer
-     *
-     * @param str The source string
-     * @return A newly created StringWriter
-     */
-    private StringWriter createStringWriter(String str) {
-        return new StringWriter((int) (str.length() + (str.length() * 0.1)));
-    }
-
-    /**
-     * <p>
-     * Unescapes the escaped entities in the <code>String</code> passed and writes the result to the
-     * <code>Writer</code> passed.
-     * </p>
-     * 
-     * @param writer
-     *            The <code>Writer</code> to write the results to; assumed to be non-null.
-     * @param str
-     *            The source <code>String</code> to unescape; assumed to be non-null.
-     * @throws IOException
-     *             when <code>Writer</code> passed throws the exception from calls to the {@link Writer#write(int)}
-     *             methods.
-     * 
-     * @see #escape(String)
-     * @see Writer
-     */
-    public void unescape(Writer writer, String str) throws IOException {
-        int firstAmp = str.indexOf('&');
-        if (firstAmp < 0) {
-            writer.write(str);
-            return;
-        } else {
-            doUnescape(writer, str, firstAmp);
-        }
-    }
-
-    /**
-     * Underlying unescape method that allows the optimisation of not starting from the 0 index again.
-     *
-     * @param writer
-     *            The <code>Writer</code> to write the results to; assumed to be non-null.
-     * @param str
-     *            The source <code>String</code> to unescape; assumed to be non-null.
-     * @param firstAmp
-     *            The <code>int</code> index of the first ampersand in the source String.
-     * @throws IOException
-     *             when <code>Writer</code> passed throws the exception from calls to the {@link Writer#write(int)}
-     *             methods.
-     */
-    private void doUnescape(Writer writer, String str, int firstAmp) throws IOException {
-        writer.write(str, 0, firstAmp);
-        int len = str.length();
-        for (int i = firstAmp; i < len; i++) {
-            char c = str.charAt(i);
-            if (c == '&') {
-                int nextIdx = i + 1;
-                int semiColonIdx = str.indexOf(';', nextIdx);
-                if (semiColonIdx == -1) {
-                    writer.write(c);
-                    continue;
-                }
-                int amphersandIdx = str.indexOf('&', i + 1);
-                if (amphersandIdx != -1 && amphersandIdx < semiColonIdx) {
-                    // Then the text looks like &...&...;
-                    writer.write(c);
-                    continue;
-                }
-                String entityContent = str.substring(nextIdx, semiColonIdx);
-                int entityValue = -1;
-                int entityContentLen = entityContent.length();
-                if (entityContentLen > 0) {
-                    if (entityContent.charAt(0) == '#') { // escaped value content is an integer (decimal or
-                        // hexidecimal)
-                        if (entityContentLen > 1) {
-                            char isHexChar = entityContent.charAt(1);
-                            try {
-                                switch (isHexChar) {
-                                    case 'X' :
-                                    case 'x' : {
-                                        entityValue = Integer.parseInt(entityContent.substring(2), 16);
-                                        break;
-                                    }
-                                    default : {
-                                        entityValue = Integer.parseInt(entityContent.substring(1), 10);
-                                    }
-                                }
-                                if (entityValue > 0xFFFF) {
-                                    entityValue = -1;
-                                }
-                            } catch (NumberFormatException e) {
-                                entityValue = -1;
-                            }
-                        }
-                    } else { // escaped value content is an entity name
-                        entityValue = this.entityValue(entityContent);
-                    }
-                }
-
-                if (entityValue == -1) {
-                    writer.write('&');
-                    writer.write(entityContent);
-                    writer.write(';');
-                } else {
-                    writer.write(entityValue);
-                }
-                i = semiColonIdx; // move index up to the semi-colon
-            } else {
-                writer.write(c);
-            }
-        }
-    }
-
-}
diff --git a/src/com/roundhill/androidWP/IntHashMap.java b/src/com/roundhill/androidWP/IntHashMap.java
deleted file mode 100644
index 470191ac467a..000000000000
--- a/src/com/roundhill/androidWP/IntHashMap.java
+++ /dev/null
@@ -1,364 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one or more
- * contributor license agreements.  See the NOTICE file distributed with
- * this work for additional information regarding copyright ownership.
- * The ASF licenses this file to You under the Apache License, Version 2.0
- * (the "License"); you may not use this file except in compliance with
- * the License.  You may obtain a copy of the License at
- * 
- *      http://www.apache.org/licenses/LICENSE-2.0
- * 
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-/*
- * Note: originally released under the GNU LGPL v2.1, 
- * but rereleased by the original author under the ASF license (above).
- */
-package com.roundhill.androidWP;
-
-/**
- * <p>A hash map that uses primitive ints for the key rather than objects.</p>
- *
- * <p>Note that this class is for internal optimization purposes only, and may
- * not be supported in future releases of Apache Commons Lang.  Utilities of
- * this sort may be included in future releases of Apache Commons Collections.</p>
- *
- * @author Justin Couch
- * @author Alex Chaffee (alex@apache.org)
- * @author Stephen Colebourne
- * @since 2.0
- * @version $Revision: 561230 $
- * @see java.util.HashMap
- */
-class IntHashMap {
-
-    /**
-     * The hash table data.
-     */
-    private transient Entry table[];
-
-    /**
-     * The total number of entries in the hash table.
-     */
-    private transient int count;
-
-    /**
-     * The table is rehashed when its size exceeds this threshold.  (The
-     * value of this field is (int)(capacity * loadFactor).)
-     *
-     * @serial
-     */
-    private int threshold;
-
-    /**
-     * The load factor for the hashtable.
-     *
-     * @serial
-     */
-    private float loadFactor;
-
-    /**
-     * <p>Innerclass that acts as a datastructure to create a new entry in the
-     * table.</p>
-     */
-    private static class Entry {
-        int hash;
-        int key;
-        Object value;
-        Entry next;
-
-        /**
-         * <p>Create a new entry with the given values.</p>
-         *
-         * @param hash The code used to hash the object with
-         * @param key The key used to enter this in the table
-         * @param value The value for this key
-         * @param next A reference to the next entry in the table
-         */
-        protected Entry(int hash, int key, Object value, Entry next) {
-            this.hash = hash;
-            this.key = key;
-            this.value = value;
-            this.next = next;
-        }
-    }
-
-    /**
-     * <p>Constructs a new, empty hashtable with a default capacity and load
-     * factor, which is <code>20</code> and <code>0.75</code> respectively.</p>
-     */
-    public IntHashMap() {
-        this(20, 0.75f);
-    }
-
-    /**
-     * <p>Constructs a new, empty hashtable with the specified initial capacity
-     * and default load factor, which is <code>0.75</code>.</p>
-     *
-     * @param  initialCapacity the initial capacity of the hashtable.
-     * @throws IllegalArgumentException if the initial capacity is less
-     *   than zero.
-     */
-    public IntHashMap(int initialCapacity) {
-        this(initialCapacity, 0.75f);
-    }
-
-    /**
-     * <p>Constructs a new, empty hashtable with the specified initial
-     * capacity and the specified load factor.</p>
-     *
-     * @param initialCapacity the initial capacity of the hashtable.
-     * @param loadFactor the load factor of the hashtable.
-     * @throws IllegalArgumentException  if the initial capacity is less
-     *             than zero, or if the load factor is nonpositive.
-     */
-    public IntHashMap(int initialCapacity, float loadFactor) {
-        super();
-        if (initialCapacity < 0) {
-            throw new IllegalArgumentException("Illegal Capacity: " + initialCapacity);
-        }
-        if (loadFactor <= 0) {
-            throw new IllegalArgumentException("Illegal Load: " + loadFactor);
-        }
-        if (initialCapacity == 0) {
-            initialCapacity = 1;
-        }
-
-        this.loadFactor = loadFactor;
-        table = new Entry[initialCapacity];
-        threshold = (int) (initialCapacity * loadFactor);
-    }
-
-    /**
-     * <p>Returns the number of keys in this hashtable.</p>
-     *
-     * @return  the number of keys in this hashtable.
-     */
-    public int size() {
-        return count;
-    }
-
-    /**
-     * <p>Tests if this hashtable maps no keys to values.</p>
-     *
-     * @return  <code>true</code> if this hashtable maps no keys to values;
-     *          <code>false</code> otherwise.
-     */
-    public boolean isEmpty() {
-        return count == 0;
-    }
-
-    /**
-     * <p>Tests if some key maps into the specified value in this hashtable.
-     * This operation is more expensive than the <code>containsKey</code>
-     * method.</p>
-     *
-     * <p>Note that this method is identical in functionality to containsValue,
-     * (which is part of the Map interface in the collections framework).</p>
-     *
-     * @param      value   a value to search for.
-     * @return     <code>true</code> if and only if some key maps to the
-     *             <code>value</code> argument in this hashtable as
-     *             determined by the <tt>equals</tt> method;
-     *             <code>false</code> otherwise.
-     * @throws  NullPointerException  if the value is <code>null</code>.
-     * @see        #containsKey(int)
-     * @see        #containsValue(Object)
-     * @see        java.util.Map
-     */
-    public boolean contains(Object value) {
-        if (value == null) {
-            throw new NullPointerException();
-        }
-
-        Entry tab[] = table;
-        for (int i = tab.length; i-- > 0;) {
-            for (Entry e = tab[i]; e != null; e = e.next) {
-                if (e.value.equals(value)) {
-                    return true;
-                }
-            }
-        }
-        return false;
-    }
-
-    /**
-     * <p>Returns <code>true</code> if this HashMap maps one or more keys
-     * to this value.</p>
-     *
-     * <p>Note that this method is identical in functionality to contains
-     * (which predates the Map interface).</p>
-     *
-     * @param value value whose presence in this HashMap is to be tested.
-     * @return boolean <code>true</code> if the value is contained
-     * @see    java.util.Map
-     * @since JDK1.2
-     */
-    public boolean containsValue(Object value) {
-        return contains(value);
-    }
-
-    /**
-     * <p>Tests if the specified object is a key in this hashtable.</p>
-     *
-     * @param  key  possible key.
-     * @return <code>true</code> if and only if the specified object is a
-     *    key in this hashtable, as determined by the <tt>equals</tt>
-     *    method; <code>false</code> otherwise.
-     * @see #contains(Object)
-     */
-    public boolean containsKey(int key) {
-        Entry tab[] = table;
-        int hash = key;
-        int index = (hash & 0x7FFFFFFF) % tab.length;
-        for (Entry e = tab[index]; e != null; e = e.next) {
-            if (e.hash == hash) {
-                return true;
-            }
-        }
-        return false;
-    }
-
-    /**
-     * <p>Returns the value to which the specified key is mapped in this map.</p>
-     *
-     * @param   key   a key in the hashtable.
-     * @return  the value to which the key is mapped in this hashtable;
-     *          <code>null</code> if the key is not mapped to any value in
-     *          this hashtable.
-     * @see     #put(int, Object)
-     */
-    public Object get(int key) {
-        Entry tab[] = table;
-        int hash = key;
-        int index = (hash & 0x7FFFFFFF) % tab.length;
-        for (Entry e = tab[index]; e != null; e = e.next) {
-            if (e.hash == hash) {
-                return e.value;
-            }
-        }
-        return null;
-    }
-
-    /**
-     * <p>Increases the capacity of and internally reorganizes this
-     * hashtable, in order to accommodate and access its entries more
-     * efficiently.</p>
-     *
-     * <p>This method is called automatically when the number of keys
-     * in the hashtable exceeds this hashtable's capacity and load
-     * factor.</p>
-     */
-    protected void rehash() {
-        int oldCapacity = table.length;
-        Entry oldMap[] = table;
-
-        int newCapacity = oldCapacity * 2 + 1;
-        Entry newMap[] = new Entry[newCapacity];
-
-        threshold = (int) (newCapacity * loadFactor);
-        table = newMap;
-
-        for (int i = oldCapacity; i-- > 0;) {
-            for (Entry old = oldMap[i]; old != null;) {
-                Entry e = old;
-                old = old.next;
-
-                int index = (e.hash & 0x7FFFFFFF) % newCapacity;
-                e.next = newMap[index];
-                newMap[index] = e;
-            }
-        }
-    }
-
-    /**
-     * <p>Maps the specified <code>key</code> to the specified
-     * <code>value</code> in this hashtable. The key cannot be
-     * <code>null</code>. </p>
-     *
-     * <p>The value can be retrieved by calling the <code>get</code> method
-     * with a key that is equal to the original key.</p>
-     *
-     * @param key     the hashtable key.
-     * @param value   the value.
-     * @return the previous value of the specified key in this hashtable,
-     *         or <code>null</code> if it did not have one.
-     * @throws  NullPointerException  if the key is <code>null</code>.
-     * @see     #get(int)
-     */
-    public Object put(int key, Object value) {
-        // Makes sure the key is not already in the hashtable.
-        Entry tab[] = table;
-        int hash = key;
-        int index = (hash & 0x7FFFFFFF) % tab.length;
-        for (Entry e = tab[index]; e != null; e = e.next) {
-            if (e.hash == hash) {
-                Object old = e.value;
-                e.value = value;
-                return old;
-            }
-        }
-
-        if (count >= threshold) {
-            // Rehash the table if the threshold is exceeded
-            rehash();
-
-            tab = table;
-            index = (hash & 0x7FFFFFFF) % tab.length;
-        }
-
-        // Creates the new entry.
-        Entry e = new Entry(hash, key, value, tab[index]);
-        tab[index] = e;
-        count++;
-        return null;
-    }
-
-    /**
-     * <p>Removes the key (and its corresponding value) from this
-     * hashtable.</p>
-     *
-     * <p>This method does nothing if the key is not present in the
-     * hashtable.</p>
-     *
-     * @param   key   the key that needs to be removed.
-     * @return  the value to which the key had been mapped in this hashtable,
-     *          or <code>null</code> if the key did not have a mapping.
-     */
-    public Object remove(int key) {
-        Entry tab[] = table;
-        int hash = key;
-        int index = (hash & 0x7FFFFFFF) % tab.length;
-        for (Entry e = tab[index], prev = null; e != null; prev = e, e = e.next) {
-            if (e.hash == hash) {
-                if (prev != null) {
-                    prev.next = e.next;
-                } else {
-                    tab[index] = e.next;
-                }
-                count--;
-                Object oldValue = e.value;
-                e.value = null;
-                return oldValue;
-            }
-        }
-        return null;
-    }
-
-    /**
-     * <p>Clears this hashtable so that it contains no keys.</p>
-     */
-    public synchronized void clear() {
-        Entry tab[] = table;
-        for (int index = tab.length; --index >= 0;) {
-            tab[index] = null;
-        }
-        count = 0;
-    }
-    
-}
diff --git a/src/com/roundhill/androidWP/ServiceUpdateUIListener.java b/src/com/roundhill/androidWP/ServiceUpdateUIListener.java
deleted file mode 100644
index be1aa550b73d..000000000000
--- a/src/com/roundhill/androidWP/ServiceUpdateUIListener.java
+++ /dev/null
@@ -1,7 +0,0 @@
-package com.roundhill.androidWP;
-
-public interface ServiceUpdateUIListener {
-
-	public void updateUI(String accountID, String accountName);
-
-	}//end interface ServiceUpdateUIListener
diff --git a/src/com/roundhill/androidWP/broadcastReceiver.java b/src/com/roundhill/androidWP/broadcastReceiver.java
deleted file mode 100644
index b169107223c2..000000000000
--- a/src/com/roundhill/androidWP/broadcastReceiver.java
+++ /dev/null
@@ -1,20 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.content.BroadcastReceiver;
-import android.content.Context;
-import android.content.Intent;
-
-public class broadcastReceiver extends BroadcastReceiver {
-
-	protected static Intent svc;
-	
-	public void onReceive(Context context, Intent intent) {
-
-		//Log.i("wpToGo", "alarm cycled");
-	context.stopService(new Intent(context, commentService.class));
-	context.startService(new Intent(context, commentService.class));
-	
-	//context.startService(svc);
-
-	}
-	}
diff --git a/src/com/roundhill/androidWP/categoriesDB.java b/src/com/roundhill/androidWP/categoriesDB.java
deleted file mode 100644
index d98cef965784..000000000000
--- a/src/com/roundhill/androidWP/categoriesDB.java
+++ /dev/null
@@ -1,83 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-
-package com.roundhill.androidWP;
-
-import java.util.Vector;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-
-public class categoriesDB {
-
-	private static final String CREATE_TABLE_CATEGORIES = "create table if not exists cats (id integer primary key autoincrement, "
-			+ "blog_id text, wp_id integer, category_name text not null);";
-
-
-	private static final String CATEGORIES_TABLE = "cats";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 2;
-
-	private SQLiteDatabase db;
-
-	public categoriesDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		//db.execSQL("DROP TABLE IF EXISTS "+ CATEGORIES_TABLE);
-		db.execSQL(CREATE_TABLE_CATEGORIES);
-		
-		db.close();
-	}
-
-	public boolean insertCategory(Context ctx, String id, int wp_id, String category_name) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("blog_id", id);
-		values.put("wp_id", wp_id);
-		values.put("category_name", category_name.toString());
-		boolean returnValue = db.insert(CATEGORIES_TABLE, null, values) > 0;
-		db.close();
-		return (returnValue);
-	}
-
-	public Vector<String> loadCategories(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(CATEGORIES_TABLE, new String[] { "id", "wp_id", "category_name" }, "blog_id=" + id, null, null, null, null);
-		int numRows = c.getCount();
-		c.moveToFirst();
-		Vector<String> returnVector = new Vector<String>();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		return returnVector;
-	}
-	
-	public String getCategoryId(Context ctx, String id, String category){
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(CATEGORIES_TABLE, new String[] {"wp_id"}, "category_name=\"" + category + "\" AND blog_id=" + id, null, null, null, null);
-		c.moveToFirst();
-		String categoryID = "";
-		categoryID = c.getString(0);
-		db.close();
-		return categoryID;
-	}
-	
-	public void clearCategories(Context ctx, String id){
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		//clear out the table since we are refreshing the whole enchilada
-		db.delete(CATEGORIES_TABLE, "blog_id=" + id, null);
-		db.close();
-	}
-
-}
-
diff --git a/src/com/roundhill/androidWP/commentService.java b/src/com/roundhill/androidWP/commentService.java
deleted file mode 100644
index 3b2e85089dd7..000000000000
--- a/src/com/roundhill/androidWP/commentService.java
+++ /dev/null
@@ -1,304 +0,0 @@
-package com.roundhill.androidWP;
-
-import java.util.Date;
-import java.util.HashMap;
-import java.util.Iterator;
-import java.util.Set;
-import java.util.Timer;
-import java.util.TimerTask;
-import java.util.Vector;
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-import com.roundhill.androidWP.editPost.XMLRPCMethodCallback;
-import android.app.AlertDialog;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.app.Service;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.os.IBinder;
-import android.os.Looper;
-import android.util.Log;
-import android.widget.ListAdapter;
-import android.widget.ListView;
-import android.widget.Toast;
-
-public class commentService extends Service {
-
-	//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
-	// constants
-	//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
-	public static final String response = "true";
-	public static ServiceUpdateUIListener UI_UPDATE_LISTENER;
-	public String accountID = "", accountName = "", updateInterval = "";
-	private XMLRPCClient client;
-	private Timer timer = new Timer();
-	private static long UPDATE_INTERVAL = 360000;  //default to hourly
-
-	//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
-	// hooks into other activities
-	//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
-	/*public static void setMainActivity(MainActivity activity) {
-	  MAIN_ACTIVITY = activity;
-	}*/
-
-	public static void setUpdateListener(ServiceUpdateUIListener l) {
-		  UI_UPDATE_LISTENER = l;
-		}
-
-	
-	/** not using ipc... dont care about this method */
-	public IBinder onBind(Intent intent) {
-	  return null;
-	}
-
-	@Override
-	public void onCreate() {
-	  super.onCreate();
-	  // init the service here
-	  _startService();
-	  
-	  
-	  // if (MAIN_ACTIVITY != null) AppUtils.showToastShort(MAIN_ACTIVITY, "MyService started");
-	}
-	
-    @Override
-    public void onStart(Intent intent, int startId) {
-        //Log.i("ServiceStartArguments","Starting #" + startId + ": " + intent.getExtras());
-       
-
-    }
-
-
-	@Override
-	public void onDestroy() {
-	  super.onDestroy();
-
-	  _shutdownService();
-
-	}
-
-
-	private void _startService() {
-
-		Thread t = new Thread() {
-			public void run() {
-	          _getUpdatedComments();
-			}	
-		};
-		t.start();
-	
-	}
-
-
-
-	/** dont forget to fire update to the ui listener */
-	private void _getUpdatedComments() {
-		
-		
-		//just notify for now
-		/*Intent appIntent = new Intent(this, com.roundhill.androidWP.wpAndroid.class); 
-		  
-		  */
-		
-
-		//Log.i(getClass().getSimpleName(), "Timer Cycled!");
-		
-		settingsDB settingsDB = new settingsDB(this);
-    	
-    	Vector notificationAccounts = settingsDB.getNotificationAccounts(this);
-    	
-    	
-    	if (notificationAccounts != null){
-    		
-    		if (notificationAccounts.size() == 0){
-
-    			this.stopSelf(); //no accounts wanted notifications, bye!
-    		}
-    		else
-    		{
-    		for (int i = 0; i < notificationAccounts.size(); i++)
-    		{
-    			
-    			accountID = notificationAccounts.get(i).toString();
-    			accountName = settingsDB.getAccountName(this, accountID);
-    			Log.i("wpToGoCommentService", "Checking Comments for " + accountName);
-
-    	Vector settings = settingsDB.loadSettings(this, accountID);
-    	final int latestCommentID = settingsDB.getLatestCommentID(this, accountID);
-    	
-    	String sURL = "";
-    	if (settings.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = settings.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = settings.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-		
-		client = new XMLRPCClient(sURL);
-    	
-        HashMap hPost = new HashMap();
-        hPost.put("status", "");
-        hPost.put("post_id", "");
-        hPost.put("number", 1);
-		
-    	//Log.i("wpToGoCommentService", "XMLRPCTIME!");
-
-        Object[] params = {
-        		1,
-        		sUsername,
-        		sPassword,
-        		hPost
-        };
-		    
-        XMLRPCMethodCallback callBack = new XMLRPCMethodCallback() {
-			public void callFinished(Object[] result) {
-				String s = "done";
-				//Log.i(getClass().getSimpleName(), "made it to callback");
-				settingsDB settingsDB = new settingsDB(commentService.this);
-				if (result.length == 0){
-
-				}
-				else{
-				s = result.toString();
-				
-				HashMap contentHash = new HashMap();
-			    
-				int ctr = 0;
-				
-				//loop this!
-				    for (Object item : result){
-				        contentHash = (HashMap) result[ctr];
-
-				        ctr++;
-				    }
-				
-
-				String commentID = contentHash.get("comment_id").toString();
-				if (latestCommentID == 0){
-					settingsDB.updateLatestCommentID(commentService.this, accountID, Integer.valueOf(commentID));
-					Log.i("wpToGoCommentService", "comment was zero");
-				}
-				else if (Integer.valueOf(commentID) > latestCommentID){
-					//UI_UPDATE_LISTENER.updateUI(accountID, accountName); //new comment!
-					final NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
-					Intent notificationIntent = new Intent(commentService.this, moderateComments.class);
-    		  		notificationIntent.setData((Uri.parse("custom://wpToGoNotificationIntent"+accountID)));
-    		  		notificationIntent.putExtra("id", accountID);
-    		  		notificationIntent.putExtra("accountName", accountName);
-    		  		notificationIntent.putExtra("fromNotification", true);
-    		  		PendingIntent pendingIntent = PendingIntent.getActivity(commentService.this, 0, notificationIntent, Intent.FLAG_ACTIVITY_CLEAR_TOP);
- 			  		
-    		  		
-    		  		Notification n = new Notification(R.drawable.wp_logo, "New Comment Received", System.currentTimeMillis());
- 			  		n.setLatestEventInfo(commentService.this, accountName, "New Comment Received", pendingIntent);
- 			  		nm.notify(22 + Integer.valueOf(accountID), n); //needs a unique id
-					
-					settingsDB.updateLatestCommentID(commentService.this, accountID, Integer.valueOf(commentID));
-					Log.i("wpToGoCommentService", "found a new comment!");
-				}
-				else{
-					Log.i("wpToGoCommentService", "no new comments");
-				}
-
-				}  
-	        
-
-			}
-        };
-        final Object[] result;
-		try {
-			result = (Object[]) client.call("wp.getComments", params);
-			callBack.callFinished(result);
-		} catch (XMLRPCException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-        
-    		} //end for loop
-    		}
-    	}  // end if
-
-	}
-
-	private void _shutdownService() {
-	  if (timer != null) timer.cancel();
-	  //Log.i(getClass().getSimpleName(), "Timer stopped!!!");
-	}
-	
-	interface XMLRPCMethodCallback {
-		void callFinished(Object[] result);
-	}
-
-	class XMLRPCMethod extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			Looper.prepare();
-			try {
-				handler = new Handler();
-			} catch (Exception e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-			
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			start();
-		}
-		@Override
-		public void run() {
-			
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object[] result;
-				result = (Object[]) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-						Looper.myLooper().quit();
-					}
-				});
-			} catch (final XMLRPCFault e) {
-				e.printStackTrace();
-			             
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						
-						Throwable couse = e.getCause();
-						e.printStackTrace();
-						//Log.d("Test", "error", e);
-						
-					}
-				});
-			}
-			
-		}
-	}
-
-	}//end class MyService
-
-
diff --git a/src/com/roundhill/androidWP/customButton.java b/src/com/roundhill/androidWP/customButton.java
deleted file mode 100644
index e880d83de390..000000000000
--- a/src/com/roundhill/androidWP/customButton.java
+++ /dev/null
@@ -1,36 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.content.Context;
-import android.graphics.Canvas;
-import android.graphics.Rect;
-import android.util.AttributeSet;
-import android.widget.Button;
-
-public class customButton extends Button{
-
-	public customButton(Context context) {
-	super(context);
-	}
-
-	public customButton(Context context, AttributeSet attrs){
-	super(context, attrs);
-	}
-
-	@Override
-	protected void onDraw(Canvas canvas) {
-		
-		if (isFocused()) 
-		{
-			setBackgroundDrawable(getResources().getDrawable(R.drawable.btn_default_selected));
-		} 
-		else 
-		{
-			setBackgroundDrawable(getResources().getDrawable(isPressed()?R.drawable.btn_default_selected : R.drawable.btn_default_normal));
-		}
-		
-	//sets the button image based on whether the button in its pressed state
-	//
-	super.onDraw(canvas);
-	}
-
-	}
diff --git a/src/com/roundhill/androidWP/customImageButton.java b/src/com/roundhill/androidWP/customImageButton.java
deleted file mode 100644
index 2e90dc7b5024..000000000000
--- a/src/com/roundhill/androidWP/customImageButton.java
+++ /dev/null
@@ -1,33 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.content.Context;
-import android.graphics.Canvas;
-import android.util.AttributeSet;
-import android.widget.Button;
-import android.widget.ImageButton;
-
-public class customImageButton extends ImageButton{
-
-	public customImageButton(Context context) {
-	super(context);
-	}
-
-	public customImageButton(Context context, AttributeSet attrs){
-	super(context, attrs);
-	}
-
-	@Override
-	protected void onDraw(Canvas canvas) {
-	//sets the button image based on whether the button in its pressed state
-		if (isFocused()) 
-		{
-			setBackgroundDrawable(getResources().getDrawable(R.drawable.btn_default_selected));
-		} 
-		else 
-		{
-			setBackgroundDrawable(getResources().getDrawable(isPressed()?R.drawable.btn_default_selected : R.drawable.btn_default_normal));
-		}
-	super.onDraw(canvas);
-	}
-
-	}
diff --git a/src/com/roundhill/androidWP/customMenuButton.java b/src/com/roundhill/androidWP/customMenuButton.java
deleted file mode 100644
index 4aa458032a92..000000000000
--- a/src/com/roundhill/androidWP/customMenuButton.java
+++ /dev/null
@@ -1,39 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.content.Context;
-import android.graphics.Canvas;
-import android.util.AttributeSet;
-import android.widget.Button;
-import android.widget.ImageButton;
-
-public class customMenuButton extends ImageButton{
-
-	public customMenuButton(Context context) {
-	super(context);
-	}
-
-	public customMenuButton(Context context, AttributeSet attrs){
-	super(context, attrs);
-	}
-
-	@Override
-	protected void onDraw(Canvas canvas) {
-	//sets the button image based on whether the button in its pressed state
-		if (isFocused()) 
-		{
-			setBackgroundDrawable(getResources().getDrawable(R.drawable.menu_button_bg));
-		} 
-		else 
-		{
-			if (isPressed()){
-				setBackgroundDrawable(getResources().getDrawable(R.drawable.menu_button_bg));
-			}
-			else{
-				setBackgroundDrawable(null);
-			}
-			
-		}
-	super.onDraw(canvas);
-	}
-
-	}
diff --git a/src/com/roundhill/androidWP/editPost.java b/src/com/roundhill/androidWP/editPost.java
deleted file mode 100644
index 4d1cdc77ab1f..000000000000
--- a/src/com/roundhill/androidWP/editPost.java
+++ /dev/null
@@ -1,1900 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-
-
-import java.io.ByteArrayOutputStream;
-import java.io.DataInputStream;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileNotFoundException;
-import java.io.FilenameFilter;
-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.Map;
-import java.util.Vector;
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ProgressDialog;
-import android.content.ContentUris;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.content.res.Configuration;
-import android.database.Cursor;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Matrix;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.provider.MediaStore.Images;
-import android.text.Editable;
-import android.text.Selection;
-import android.util.Log;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.widget.AdapterView;
-import android.widget.ArrayAdapter;
-import android.widget.BaseAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.EditText;
-import android.widget.GridView;
-import android.widget.ImageButton;
-import android.widget.ImageView;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemSelectedListener;
-
-public class editPost extends Activity {
-    /** Called when the activity is first created. */
-	public static long globalData = 0;
-	public ProgressDialog pd;
-	public boolean postStatus = false;
-	String[] mFiles=null;
-	public String thumbnailPath = null;
-	public String imagePath = null;
-	public String imageTitle = null;
-	public Vector imageUrl = new Vector();
-	public Vector thumbnailUrl = new Vector();
-	private final Handler mHandler = new Handler();
-	public String finalResult = null;
-	Vector<String> selectedCategories = new Vector();
-	public ArrayList<CharSequence> textArray = new ArrayList<CharSequence>();
-	public ArrayList<CharSequence> loadTextArray = new ArrayList<CharSequence>();
-	public Boolean newStart = true;
-	public String categoryErrorMsg = "";
-	private XMLRPCClient client;
-	public String id = "";
-	private Vector<Uri> selectedImageIDs = new Vector();
-	private int selectedImageCtr = 0;
-	private Vector imageURLs = new Vector();
-    private String accountName = "";
-    private String postID = "";
-    private boolean localDraft = false;
-    private int ID_DIALOG_POSTING = 1;
-    public String newID, imgHTML, sMaxImageWidth, sImagePlacement;
-    public Boolean centerThumbnail, xmlrpcError = false;
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        setContentView(R.layout.edit);	
-        
-        
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-         postID = extras.getString("postID");
-         localDraft = extras.getBoolean("localDraft", false); //was this activity called from viewLocalDrafts.java?
-        }
-        
-        this.setTitle(accountName + " - Edit Post");
-        
-        //loads the categories from the db if they exist
-        loadCategories();
-        
-        if (localDraft){
-        	localDraftsDB lDraftsDB = new localDraftsDB(this);
-        	Vector post = lDraftsDB.loadPost(this, postID);
-        	
-        	HashMap postHashMap = (HashMap) post.get(0);
-        	
-        	EditText titleET = (EditText)findViewById(R.id.title);
-        	EditText contentET = (EditText)findViewById(R.id.content);
-        	
-        	titleET.setText(postHashMap.get("title").toString());
-        	contentET.setText(postHashMap.get("content").toString());
-        	
-        	String picturePaths = postHashMap.get("picturePaths").toString();
-        	if (!picturePaths.equals("")){
-        		String[] pPaths = picturePaths.split(",");
-        		
-        		for (int i = 0; i < pPaths.length; i++)
-        		{
-        			Uri imagePath = Uri.parse(pPaths[i]); 
-        			selectedImageIDs.add(selectedImageCtr, imagePath);
-        	        imageUrl.add(selectedImageCtr, pPaths[i]);
-        	        selectedImageCtr++;
-        	     	  
-        	     	GridView gridview = (GridView) findViewById(R.id.gridView);
-        	     	gridview.setAdapter(new ImageAdapter(this));
-        		}
-        		
-        	}
-        	
-        	String categories = postHashMap.get("categories").toString();
-        	if (!categories.equals("")){
-        		
-        		String[] aCategories = categories.split(",");
-        		
-        		for (int i=0; i < aCategories.length; i++)
-        		{
-        			selectedCategories.add(aCategories[i]);
-        		}
-        		
-        		TextView tvCategories = (TextView) findViewById(R.id.selectedCategories);
-        		tvCategories.setText("Selected categories: " + categories);
-        		
-        	}
-        	
-        	String tags = postHashMap.get("tags").toString();
-        	if (!tags.equals("")){
-        		EditText tagsET = (EditText) findViewById(R.id.tags);
-        		tagsET.setText(tags);
-        	}
-        	
-        	int publish = Integer.valueOf(postHashMap.get("publish").toString());
-        	
-        	CheckBox publishCB = (CheckBox) findViewById(R.id.publish);
-        	if (publish == 1){
-        		publishCB.setChecked(true);
-        	}
-        	
-        	
-        	
-        }
-        else{
-        	
-        
-        
-        settingsDB settingsDB = new settingsDB(this);
-    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-    	String sURL = "";
-    	
-    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = categoriesVector.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-    	}
-    	
-		String sUsername = categoriesVector.get(2).toString();
-		String sPassword = categoriesVector.get(3).toString();
-        
-    	client = new XMLRPCClient(sURL);
-    	
-    	EditText titleET = (EditText)findViewById(R.id.title);
-    	String setTitle = titleET.getText().toString();
-    	if (setTitle.equals("")){
-    	
-    	pd = ProgressDialog.show(editPost.this,
-                "Getting Post", "Please wait while attempting to get post. (note - pictures will not be loaded)", true, false);
-    	
-    	XMLRPCMethod method = new XMLRPCMethod("metaWeblog.getPost", new XMLRPCMethodCallback() {
-			public void callFinished(Object result) {
-				String s = "done";
-				s = result.toString();
-				pd.dismiss();
-				
-				if (result == null){
-					//prompt that something went wrong
-				}
-				else{
-					HashMap contentHash = (HashMap) result;
-					
-					EditText titleET = (EditText)findViewById(R.id.title);
-			        titleET.setText(escapeUtils.unescapeHtml(contentHash.get("title").toString()));
-			        EditText contentET = (EditText)findViewById(R.id.content);
-			        if (contentHash.get("mt_text_more").toString() != ""){
-			        	contentET.setText(escapeUtils.unescapeHtml(contentHash.get("description").toString() + "<!--more-->\n" + contentHash.get("mt_text_more").toString()));
-			        }
-			        else{
-			        	contentET.setText(escapeUtils.unescapeHtml(contentHash.get("description").toString()));
-			        }
-			      
-			        EditText tagsET = (EditText)findViewById(R.id.tags);
-			        tagsET.setText(escapeUtils.unescapeHtml(contentHash.get("mt_keywords").toString()));
-			        String status = contentHash.get("post_status").toString();
-			        TextView categories = (TextView)findViewById(R.id.selectedCategories);
-			        
-			        Object categoriesArray[] = (Object[]) contentHash.get("categories");
-			        
-			        if (categoriesArray != null){
-			        	int ctr = 0;
-			        	String conCategories = "";
-					    for (Object item : categoriesArray){
-					        String category = categoriesArray[ctr].toString();
-					        if (!selectedCategories.contains(category))
-		                	{
-					        categories.setText(escapeUtils.unescapeHtml(categories.getText().toString() + category + ", "));
-		                	selectedCategories.add(category);
-		                	}
-					        ctr++;					    
-			        }			  
-			        }
-			        
-			        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-			        if (status.equals("publish")){
-			        	publishCB.setChecked(true);
-			        }
-			        else{
-			        	publishCB.setChecked(false);
-			        }
-			        
-				}
-
-	        
-				 
-
-			}
-        });
-        Object[] params = {
-        		postID,
-        		sUsername,
-        		sPassword,
-        };
-        
-        
-        method.call(params);
-    	
-    	}
-    	
-        }
-        
-        Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-        
-       
-        spinner.setOnItemSelectedListener(new OnItemSelectedListener(){
-            public void onItemSelected(AdapterView parent, View v,
-                      int position, long id) {
-            	
-            	
-            	if (newStart != true)
-            	{
-                	String selectedItem = parent.getItemAtPosition(position).toString();	
-                	TextView selectedCategoriesTV = (TextView) findViewById(R.id.selectedCategories);
-                	if (!selectedCategories.contains(selectedItem))
-                	{
-                	selectedCategoriesTV.setText(selectedCategoriesTV.getText().toString() + selectedItem + ", ");
-                	selectedCategories.add(selectedItem);
-                	}
-            	}
-            	else
-            	{
-            		newStart = false;
-            	}
-            }
-
-            public void onNothingSelected(AdapterView arg0) {
-                 
-            }
-     }); 
-        
-        
-        
-        final customButton postButton = (customButton) findViewById(R.id.post);
-        
-        postButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            
-            if(localDraft){
-            	boolean result = savePost();
-            	
-            	if (result){
-            		finish();
-            	}
-            }
-            else{
-            	
-            	showDialog(ID_DIALOG_POSTING);
-            		Thread t = new Thread() {
-            			String resultCode = "";
-        				public void run() {
-							try {
-								finalResult = submitPost();
-
-								mHandler.post(mUpdateResults);
-								
-							} catch (IOException e) {
-								// TODO Auto-generated catch block
-								e.printStackTrace();
-							}
-
-        				}
-        			};
-        			t.start();
-            }
-            		
-            }
-        });
-        final customImageButton refreshCategoriesButton = (customImageButton) findViewById(R.id.refreshCategoriesButton);
-        
-        refreshCategoriesButton.setOnClickListener(new customImageButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	pd = ProgressDialog.show(editPost.this,
-                        "Refreshing Categories", "Attempting to refresh categories from the wordpress site...", true, true);
-            	Thread th = new Thread() {
-    				public void run() {					
-    				    finalResult = getCategories();	
-    				    
-    				    mHandler.post(mUpdateResults);
-    				    
-    				}
-    			};
-    			th.start();	 
-            }
-    });
-        
-            final customButton addPictureButton = (customButton) findViewById(R.id.addPictureButton);   
-            
-            addPictureButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent photoPickerIntent = new
-                	Intent(Intent.ACTION_PICK);
-                	photoPickerIntent.setType("image/*");
-                	
-                	startActivityForResult(photoPickerIntent, 1); 
-                	 
-                }
-        });
-            
-            final customButton clearCategories = (customButton) findViewById(R.id.clearCategories);   
-            
-            clearCategories.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView selectedCategoriesTV = (TextView) findViewById(R.id.selectedCategories);
-
-                	selectedCategoriesTV.setText("Selected categories: ");
-                	
-                	selectedCategories.clear();
-                }
-        });
-            
-final customButton boldButton = (customButton) findViewById(R.id.bold);   
-            
-            boldButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text first in order to bold it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<strong>" + textToBold + "</strong>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                		
-                	}
-                }
-        });
-
-            final customButton linkButton = (customButton) findViewById(R.id.link);   
-            
-linkButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text first in order to link it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		Intent i = new Intent(editPost.this, link.class);
-
-                    	startActivityForResult(i, 2);
-                	}    	
-            
-        	
-        	
-        	
-               }
-            });
-            
-            
-final customButton emButton = (customButton) findViewById(R.id.em);   
-            
-            emButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text in order to emphasize it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<em>" + textToBold + "</em>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                	}
-                }
-        });
-            
-final customButton bquoteButton = (customButton) findViewById(R.id.bquote);   
-            
-            bquoteButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text in order to place it in a blockquote. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<blockquote>" + textToBold + "</blockquote>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                	}
-                }
-        });
-            
-            
-final customButton cancelButton = (customButton) findViewById(R.id.cancel);   
-            
-            cancelButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	finish();             	
-                	}          	
-                
-        });
-            
-final customButton clearPictureButton = (customButton) findViewById(R.id.clearPicture);   
-            
-			clearPictureButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-
-			        imageUrl.clear();
-			        thumbnailUrl.clear();
-			        selectedImageIDs = new Vector();
-			        selectedImageCtr = 0;
-			        GridView gridview = (GridView) findViewById(R.id.gridView);
-			     	 gridview.setAdapter(null);
-                	         	
-                }
-        });            
-          
-            
-            
-    }
-    
-    public void loadCategories(){
-    	//for loading categories from the DB
-    	categoriesDB categoriesDB = new categoriesDB(this);
-    	Vector categoriesVector = categoriesDB.loadCategories(this, id);
-    	if (categoriesVector != null)
-    	{
-
-	    	for(int i=0; i < categoriesVector.size(); i++)
-	        {
-	    		loadTextArray.add(categoriesVector.get(i).toString());
-	        }
-	    	
-	    	Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-	        ArrayAdapter<CharSequence> aspnCountries = new ArrayAdapter<CharSequence>(editPost.this, R.layout.spinner_textview, loadTextArray);
-	        
-	          aspnCountries.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-	          
-	          spinner.setAdapter(aspnCountries);    
-    	}
-    	
-    }
-    
-    public String getCategories(){
-    	
-    	//gets the categories via xmlrpc call to wp blog
-    	
-        String returnMessage = "";
-       
-        
-        Vector res;
-        //check for the settings
-        boolean enteredSettings = checkSettings();
-        
-        String errormsg = "";
-        if (!enteredSettings){
-        	returnMessage = "invalidSettings";
-        }
-        else{
-        	settingsDB settingsDB = new settingsDB(this);
-        	Vector categoriesVector = settingsDB.loadSettings(this, id);
-        	
-        	String sURL = "";
-        	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-        	{
-        		sURL = categoriesVector.get(0).toString();
-        	}
-        	else
-        	{
-        		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-        	}
-        		String sUsername = categoriesVector.get(2).toString();
-        		String sPassword = categoriesVector.get(3).toString();
-        	
-
-        
-        	Object result[] = null;
-        	
-        	Object[] params = {
-            		1,
-            		sUsername,
-            		sPassword,
-            };
-        	
-            client = new XMLRPCClient(sURL);
-            
-            try {
-				result = (Object[]) client.call("wp.getCategories", params);
-			} catch (XMLRPCException e) {
-				// TODO Auto-generated catch block
-				e.getMessage();
-				e.printStackTrace();
-				res = null;
-			}
-								   
-        
-        
-       // HashMap categoryNames = (HashMap) result[0];
-        
-            //Vector categoryIds = (Vector) result;
-            
-            int size = result.length;
-            
-            //initialize database
-            categoriesDB categoriesDB = new categoriesDB(this);
-            //wipe out the categories table
-            categoriesDB.clearCategories(this, id);
-            
-            for(int i=0; i<size; i++)
-            {
-              HashMap curHash = (HashMap) result[i];
-              
-              String categoryName = curHash.get("categoryName").toString();
-              String categoryID = curHash.get("categoryId").toString();
-              
-              int convertedCategoryID = Integer.parseInt(categoryID);
-              
-              categoriesDB.insertCategory(this, id, convertedCategoryID, categoryName);
-              
-              //populate the spinner with the category names
-              
-              textArray.add(categoryName);
-              
-            }
-            
-            returnMessage = "gotCategories";
-            newStart = true;
-        
-        
-        } //end valid url
-        return returnMessage;
-    	
-    }
-    
-    
-	public String submitPost() throws IOException {
-		
-		
-		//grab the form data
-        EditText titleET = (EditText)findViewById(R.id.title);
-        String title = titleET.getText().toString();
-        EditText contentET = (EditText)findViewById(R.id.content);
-        String content = contentET.getText().toString();
-        EditText tagsET = (EditText)findViewById(R.id.tags);
-        String tags = tagsET.getText().toString();
-        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-        Boolean publishThis = false;
-        String imageContent = "";
-        //upload the images and return the HTML
-        for (int it = 0; it < selectedImageCtr; it++){
-            
-            imageContent +=  uploadImage(selectedImageIDs.get(it).toString());
-
-            }
-
-        Integer blogID = 1; //never changes with wordpress, so far
-        
-        Vector<Object> myPostVector = new Vector<Object> ();
-        String res = null;
-        //before we do anything, validate that the user has entered settings
-        boolean enteredSettings = checkSettings();
-        
-        
-        
-        if (!enteredSettings){
-        	res = "invalidSettings";
-        }
-        else if (title.equals("") || content.equals(""))
-        {
-        	res = "emptyFields";
-        }
-        else {
-        Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-        
-        int itemCount = spinner.getCount();
-        String selectedCategory = "Uncategorized";
-        if (itemCount != 0){
-        	selectedCategory = spinner.getSelectedItem().toString();
-        }
-        
-        // categoryID = getCategoryId(selectedCategory);
-        String[] theCategories = new String[selectedCategories.size()];
-        
-        int catSize = selectedCategories.size();
-        
-        for(int i=0; i < selectedCategories.size(); i++)
-        {
-    		theCategories[i] = selectedCategories.get(i).toString();
-        }
-        
-      //
-        settingsDB settingsDB = new settingsDB(this);
-    	Vector categoriesVector = settingsDB.loadSettings(this, id);   	
-    	
-	    	String sURL = "";
-	    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-	    	{
-	    		sURL = categoriesVector.get(0).toString();
-	    	}
-	    	else
-	    	{
-	    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-	    	}
-    		String sUsername = categoriesVector.get(2).toString();
-    		String sPassword = categoriesVector.get(3).toString();
-    		String sImagePlacement = categoriesVector.get(4).toString();
-    		String sCenterThumbnailString = categoriesVector.get(5).toString();
-    		String sFullSizeImageString = categoriesVector.get(6).toString();
-    		boolean sFullSizeImage  = false;
-    		if (sFullSizeImageString.equals("1")){
-    			sFullSizeImage = true;
-    		}
-
-    		boolean centerThumbnail = false;
-    		if (sCenterThumbnailString.equals("1")){
-    			centerThumbnail = true;
-    		}
-    		
-    		
-
-        
-        
-        if (publishCB.isChecked())
-        {
-        	publishThis = true;
-        }
-        
-        Map<String, Object> contentStruct = new HashMap<String, Object>();
-      
-        if(imageContent != ""){
-        	if (sImagePlacement.equals("Above Text")){
-        		content = imageContent + content;
-        	}
-        	else{
-        		content = content + imageContent;
-        	}
-        }
-        
-        contentStruct.put("post_type", "post");
-        contentStruct.put("title", escapeUtils.escapeHtml(title));
-        contentStruct.put("description", escapeUtils.escapeHtml(content));
-        if (tags != ""){
-        contentStruct.put("mt_keywords", escapeUtils.escapeHtml(tags));
-        }
-        if (theCategories.length > 0){
-        contentStruct.put("categories", theCategories);
-        }
-        
-
-        
-        client = new XMLRPCClient(sURL);
-        
-        Object[] params = {
-        		postID,
-        		sUsername,
-        		sPassword,
-        		contentStruct,
-        		publishThis
-        };
-        
-        Object result = null;
-        try {
-			result = (Object) client.call("metaWeblog.editPost", params);
-		} catch (XMLRPCException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-
-				newID = result.toString();
-				res = "OK";
-			
-
-        }// if/then for valid settings
-        
-		return res;
-	}
-
-	public String uploadImage(String imageURL){
-        
-        int finalHeight = 0;
-        
-        //images variables
-
-        
-        //get the settings
-        settingsDB settingsDB = new settingsDB(editPost.this);
-    	Vector categoriesVector = settingsDB.loadSettings(editPost.this, id);   	
-    	
-	    	String sURL = "";
-	    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-	    	{
-	    		sURL = categoriesVector.get(0).toString();
-	    	}
-	    	else
-	    	{
-	    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-	    	}
-    		String sUsername = categoriesVector.get(2).toString();
-    		String sPassword = categoriesVector.get(3).toString();
-    		sImagePlacement = categoriesVector.get(4).toString();
-    		String sCenterThumbnailString = categoriesVector.get(5).toString();
-    		
-    		//removed this as a quick fix to get rid of full size upload option
-    		/*if (sFullSizeImageString.equals("1")){
-    			sFullSizeImage = true;
-    		}*/  
-
-    		
-    		if (sCenterThumbnailString.equals("1")){
-    			centerThumbnail = true;
-    		}
-    		sMaxImageWidth = categoriesVector.get(7).toString();
-
-        //new loop for multiple images
-        
-        
-
-        //check for image, and upload it
-
-           client = new XMLRPCClient(sURL);
-
-     	   String curImagePath = "";
-     	   
-     	   
-     		curImagePath = imageURL;
- 
-     	   Uri imageUri = Uri.parse(curImagePath);
-     	   
-     	   String imgID = imageUri.getLastPathSegment();
-     	   long imgID2 = Long.parseLong(imgID);
-     	   
-     	  String[] projection; 
-
-     	  projection = new String[] {
-           		    Images.Media._ID,
-           		    Images.Media.DATA
-           		};
-     	  
-     	  
-     	   Uri imgPath;
-
-     	   imgPath = ContentUris.withAppendedId(Images.Media.EXTERNAL_CONTENT_URI, imgID2);
-     	   
-     	   
-     	   
-		Cursor cur = managedQuery(imgPath, projection, null, null, null);
-     	  String thumbData = "";
-     	 
-     	  if (cur.moveToFirst()) {
-     		  
-     		int nameColumn, dataColumn, heightColumn, widthColumn;
-     		
-     			nameColumn = cur.getColumnIndex(Images.Media._ID);
-     	        dataColumn = cur.getColumnIndex(Images.Media.DATA);             	            
-           
-           thumbData = cur.getString(dataColumn);
-
-     	  }
-     	   
-     	   File jpeg = new File(thumbData);
-     	   
-     	   imageTitle = jpeg.getName();
-     	  
-     	   byte[] bytes = new byte[(int) jpeg.length()];
-     	   
-     	   DataInputStream in = null;
-		try {
-			in = new DataInputStream(new FileInputStream(jpeg));
-		} catch (FileNotFoundException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-     	   try {
-			in.readFully(bytes);
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-     	   try {
-			in.close();
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		
-		//create the thumbnail
-		BitmapFactory.Options opts = new BitmapFactory.Options();
-        opts.inJustDecodeBounds = true;
-        Bitmap bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-        
-        int width = opts.outWidth;
-        int height = opts.outHeight; 
-        
-        int finalWidth = 500;  //default to this if there's a problem
-        //Change dimensions of thumbnail
-        
-        byte[] finalBytes;
-        
-        if (sMaxImageWidth.equals("Original Size")){
-        	if (bytes.length > 1000000) //it's a biggie! don't want out of memory crash
-        	{
-        		float finWidth = 1000;
-        		int sample = 0;
-
-        		float fWidth = width;
-                sample= new Double(Math.ceil(fWidth / finWidth)).intValue();
-                
-        		if(sample == 3){
-                    sample = 4;
-        		}
-        		else if(sample > 4 && sample < 8 ){
-                    sample = 8;
-        		}
-        		
-        		opts.inSampleSize = sample;
-        		opts.inJustDecodeBounds = false;
-        		
-        		float percentage = (float) finalWidth / width;
-        		float proportionateHeight = height * percentage;
-        		finalHeight = (int) Math.rint(proportionateHeight);
-        	
-                bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-                
-                
-                ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-                bm.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-                
-                bm.recycle(); //free up memory
-                
-                finalBytes = baos.toByteArray();
-        	}
-        	else
-        	{
-        	finalBytes = bytes;
-        	} 
-        	
-        }
-        else
-        {
-           	finalWidth = Integer.parseInt(sMaxImageWidth);
-        	if (finalWidth > width){
-        		//don't resize
-        		finalBytes = bytes;
-        	}
-        	else
-            {
-            		int sample = 0;
-
-            		float fWidth = width;
-                    sample= new Double(Math.ceil(fWidth / 1200)).intValue();
-                    
-            		if(sample == 3){
-                        sample = 4;
-            		}
-            		else if(sample > 4 && sample < 8 ){
-                        sample = 8;
-            		}
-            		
-            		opts.inSampleSize = sample;
-            		opts.inJustDecodeBounds = false;
-            		
-                    bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-                    
-                    float percentage = (float) finalWidth / bm.getWidth();
-            		float proportionateHeight = bm.getHeight() * percentage;
-            		finalHeight = (int) Math.rint(proportionateHeight);
-            		
-            		float scaleWidth = ((float) finalWidth) / bm.getWidth(); 
-        	        float scaleHeight = ((float) finalHeight) / bm.getHeight(); 
-
-                    
-        	        float scaleBy = Math.min(scaleWidth, scaleHeight);
-        	        
-        	        // Create a matrix for the manipulation 
-        	        Matrix matrix = new Matrix(); 
-        	        // Resize the bitmap 
-        	        matrix.postScale(scaleBy, scaleBy); 
-
-        	        Bitmap resized = Bitmap.createBitmap(bm, 0, 0, bm.getWidth(), bm.getHeight(), matrix, true);
-
-                    ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-                    resized.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-                    
-                    bm.recycle(); //free up memory
-                    resized.recycle();
-                    
-                    finalBytes = baos.toByteArray();
-            	}
-        	
-            
-        }
-
-            //try and upload the freakin' image
-            //imageRes = service.ping(sURL + "/xmlrpc.php", sXmlRpcMethod, myPictureVector);
-            String contentType = "image/jpg";
-            Map<String, Object> m = new HashMap<String, Object>();
-
-            HashMap hPost = new HashMap();
-
-            	
-            m.put("name", imageTitle);
-            m.put("type", contentType);
-            m.put("bits", finalBytes);
-            m.put("overwrite", true);
-
-			client = new XMLRPCClient(sURL);
-        	
-        	XMLRPCMethodImages method = new XMLRPCMethodImages("wp.uploadFile", new XMLRPCMethodCallback() {
-				public void callFinished(Object result) {
-					
-					imgHTML = ""; //start fresh
-					//Looper.myLooper().quit();
-					HashMap contentHash = new HashMap();
-					    
-					contentHash = (HashMap) result;
-
-					String resultURL = contentHash.get("url").toString();
-					
-					String finalImageUrl = "";
-					
-
-		            finalImageUrl = resultURL;
-					
-					//prepare the centering css if desired from user
-			           String centerCSS = " ";
-			           if (centerThumbnail){
-			        	   centerCSS = "style=\"display:block;margin-right:auto;margin-left:auto;\" ";
-			           }
-			           
-			     	   
-				           if (resultURL != null)
-				           {
-
-				   	        	if (sImagePlacement.equals("Above Text")){
-				   	        		
-				   	        		imgHTML +=  "<img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" /><br /><br />";
-				   	        	}
-				   	        	else{
-				   	        		imgHTML +=  "<br /><img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" />";
-				   	        	}        		
-				           	
-				           		
-				           }
-					
-					
-			           
-				}
-	        });
-        	
-        	Object[] params = {
-	        		1,
-	        		sUsername,
-	        		sPassword,
-	        		m
-	        };
-        	
-        	try {
-				method.call(params);
-			} catch (InterruptedException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-        	
-					        //titles[ctr] = contentHash.get("content").toString().substring(contentHash.get("content").toString().indexOf("<title>") + 7, contentHash.get("content").toString().indexOf("</title>"));
-					       // postIDs[ctr] = contentHash.get("postid").toString();
-        	
-        	
-     	  
-     	   
-
-
-        
-		
-        return imgHTML;
-	}
-
-	
-	public boolean checkSettings(){
-		//see if the user has any saved preferences
-		 settingsDB settingsDB = new settingsDB(this);
-	    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-	    	String sURL = null, sUsername = null, sPassword = null;
-	    	if (categoriesVector != null){
-	    		sURL = categoriesVector.get(0).toString();
-	    		sUsername = categoriesVector.get(1).toString();
-	    		sPassword = categoriesVector.get(2).toString();
-	    	}
- 
-        boolean validSettings = false;
-        
-        if ((sURL != "" && sUsername != "" && sPassword != "") && (sURL != null && sUsername != null && sPassword != null)){
-        	validSettings = true;
-        }
-        
-        return validSettings;
-	}
-	
-
-    
-    class ImageFilter implements FilenameFilter
-    {
-    public boolean accept(File dir, String name)
-    {
-        return (name.endsWith(".jpg"));
-    }
-    }
-    
-
-
-	
-	interface XMLRPCMethodCallback {
-		void callFinished(Object result);
-	}
-
-	class XMLRPCMethod extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			handler = new Handler();
-			
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			start();
-		}
-		@Override
-		public void run() {
-			
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object result;
-				result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-					}
-				});
-			} catch (final XMLRPCFault e) {
-				e.printStackTrace();
-				if (pd.isShowing()){
-					pd.dismiss();
-				}
-				else{
-				dismissDialog(editPost.this.ID_DIALOG_POSTING);
-				}
-						final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("Ok",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              finish();
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			              Thread action = new Thread() 
-							{ 
-							  public void run() 
-							  {
-								  dialogBuilder.create().show();
-							  } 
-							}; 
-							runOnUiThread(action);
-			             
-			             
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						
-						Throwable couse = e.getCause();
-						if (couse instanceof HttpHostConnectException) {
-							if (pd.isShowing()){
-								pd.dismiss();
-							}
-							else{
-							dismissDialog(editPost.this.ID_DIALOG_POSTING);
-							}
-							//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-						} else {
-							if (pd.isShowing()){
-								pd.dismiss();
-							}
-							else{
-							dismissDialog(editPost.this.ID_DIALOG_POSTING);
-							}
-							final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                          public void onClick(DialogInterface dialog, int whichButton) {
-		                              finish();
-		                      
-		                          }
-		                      });
-				              dialogBuilder.setCancelable(true);
-				              Thread action = new Thread() 
-								{ 
-								  public void run() 
-								  {
-									  dialogBuilder.create().show();
-								  } 
-								}; 
-								runOnUiThread(action);
-						}
-						//Log.d("Test", "error", e);
-						
-					}
-				});
-			}
-			
-		}
-	}
-	
-	class XMLRPCMethodImages extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethodImages(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			
-			//handler = new Handler();
-			
-		}
-		public void call() throws InterruptedException {
-			call(null);
-		}
-		public void call(Object[] params) throws InterruptedException {		
-			this.params = params;
-			this.method = method;
-			//start();
-			//join();
-			final Object result;
-			try {
-				result = (Object) client.call(method, params);
-				callBack.callFinished(result);
-			} catch (XMLRPCException e) {
-
-				xmlrpcError = true;
-			}
-		}
-		@Override
-		public void run() {
-			
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object result;
-				result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-					
-					
-					}
-				});
-			} catch (final XMLRPCFault e) {
-						//pd.dismiss();
-						dismissDialog(editPost.this.ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("Ok",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-			             
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						
-						Throwable couse = e.getCause();
-						if (couse instanceof HttpHostConnectException) {
-							//pd.dismiss();
-							dismissDialog(editPost.this.ID_DIALOG_POSTING);
-							//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-						} else {
-							//pd.dismiss();
-							dismissDialog(editPost.this.ID_DIALOG_POSTING);
-							AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                          public void onClick(DialogInterface dialog, int whichButton) {
-		                              // Just close the window.
-		                      
-		                          }
-		                      });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-						}
-						//Log.d("Test", "error", e);
-						
-					}
-				});
-			}
-			
-		}
-	}
-	
-	public class ImageAdapter extends BaseAdapter {
-	    private Context mContext;
-
-	    public ImageAdapter(Context c) {
-	        mContext = c;
-	    }
-
-	    public int getCount() {
-	        return selectedImageIDs.size();
-	    }
-
-	    public Object getItem(int position) {
-	        return null;
-	    }
-
-	    public long getItemId(int position) {
-	        return 0;
-	    }
-
-	    // create a new ImageView for each item referenced by the Adapter
-	    public View getView(int position, View convertView, ViewGroup parent) {
-	        ImageView imageView;
-	        if (convertView == null) {  // if it's not recycled, initialize some attributes
-	            imageView = new ImageView(mContext);
-	            imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
-	            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
-	            imageView.setPadding(8, 8, 8, 8);
-	        } else {
-	            imageView = (ImageView) convertView;
-	        }
-	        Uri tempURI = (Uri) selectedImageIDs.get(position);
-	     	   
-	        String[] projection = new String[] {
-	      		    Images.Thumbnails._ID,
-	      		    Images.Thumbnails.DATA
-	      		};
-	     	   
-			Cursor cur = managedQuery(tempURI, projection, null, null, null);
-	     	  String thumbData = "";
-	     	 
-	     	  if (cur.moveToFirst()) {
-	     		  
-	     		int nameColumn, dataColumn, heightColumn, widthColumn;
-	     		
-	     			nameColumn = cur.getColumnIndex(Images.Media._ID);
-	     	        dataColumn = cur.getColumnIndex(Images.Media.DATA);
-	     		             	            
-	           
-	           thumbData = cur.getString(dataColumn);
-
-	     	  }
-	     	   
-	     	   File jpeg = new File(thumbData);
-	     	   
-	     	   imageTitle = jpeg.getName();
-	     	  
-	     	   byte[] bytes = new byte[(int) jpeg.length()];
-	     	   
-	     	   DataInputStream in = null;
-			try {
-				in = new DataInputStream(new FileInputStream(jpeg));
-			} catch (FileNotFoundException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-	     	   try {
-				in.readFully(bytes);
-			} catch (IOException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-	     	   try {
-				in.close();
-			} catch (IOException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-			
-			//create the thumbnail
-			
-			BitmapFactory.Options opts = new BitmapFactory.Options();
-	        opts.inJustDecodeBounds = true;
-	        Bitmap bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-	        
-	        int width = opts.outHeight;
-	        int height = opts.outWidth;
-	        
-	        float percentage = (float) 100 / width;
-       		float proportionateHeight = height * percentage;
-       		int finalHeight = (int) Math.rint(proportionateHeight);
-
-	        
-	     // calculate the scale - in this case = 0.4f
-	        float scaleWidth = ((float) 100) / width;
-	        float scaleHeight = ((float) finalHeight) / height;
-	       
-	        float finWidth = 200;
-    		int sample = 0;
-
-    		float fWidth = width;
-            sample= new Double(Math.ceil(fWidth / finWidth)).intValue();
-            
-    		if(sample == 3){
-                sample = 4;
-    		}
-    		else if(sample > 4 && sample < 8 ){
-                sample = 8;
-    		}
-	        
-    		opts.inSampleSize = sample;
-	        opts.inJustDecodeBounds = false;
-	        
-	        Bitmap resizedBitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts); 
-	        
-	        imageView.setImageBitmap(resizedBitmap);
-	        
-	        //resizedBitmap.recycle(); //free up memory
-	        
-	        return imageView;
-	    }
-	    
-	}
-
-	@Override
-	protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-		// TODO Auto-generated method stub
-		super.onActivityResult(requestCode, resultCode, data);
-		if (data != null)
-		{
-
-		Bundle extras = data.getExtras();
-
-		switch(requestCode) {
-		case 0:
-		    String title = extras.getString("returnStatus");
-		    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-		    break;
-		case 1:
-			Uri imagePath = data.getData();   
-		    String imgPath2 = imagePath.getEncodedPath();
-
-	        selectedImageIDs.add(selectedImageCtr, imagePath);
-	        imageUrl.add(selectedImageCtr, imgPath2);
-	        selectedImageCtr++;
-	     	  
-	     	GridView gridview = (GridView) findViewById(R.id.gridView);
-	     	gridview.setAdapter(new ImageAdapter(this));
-
-		    break;
-		case 2:
-			String linkText = extras.getString("linkText");
-			if (linkText.equals("http://") != true){
-				
-			
-			if (linkText.equals("CANCEL") != true){
-
-			TextView contentText = (TextView) findViewById(R.id.content);
-
-        	int selectionStart = contentText.getSelectionStart();
-        	
-        	int selectionEnd = contentText.getSelectionEnd();
-        	
-        	if (selectionStart > selectionEnd){
-        		int temp = selectionEnd;
-        		selectionEnd = selectionStart;
-        		selectionStart = temp;
-        	}
-        	
-			String textToLink = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-    		textToLink = "<a href=\"" + linkText + "\">"+ textToLink + "</a>";
-    		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-    		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-    		contentText.setText(firstHalf + textToLink + lastHalf);
-    		Editable etext = (Editable) contentText.getText(); 
-    		Selection.setSelection(etext, selectionStart + textToLink.length());
-			}
-			}
-			break;
-		case 3:
-			String saveName = extras.getString("saveName");
-			
-			if (saveName.equals("CANCEL") != true && saveName.equals("") != true && saveName.equals(null) != true){
-				
-		        EditText titleET = (EditText)findViewById(R.id.title);
-		        String postTitle = titleET.getText().toString();
-		        EditText contentET = (EditText)findViewById(R.id.content);
-		        String postContent = contentET.getText().toString();
-
-		        TextView categoriesTV = (TextView)findViewById(R.id.selectedCategories);
-			    String categoriesValue = categoriesTV.getText().toString();
-		        	
-		        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-		        boolean publish = publishCB.isChecked();
-			        
-                savedPostsDB postsDB = new savedPostsDB(editPost.this);
-                boolean savePostResult = postsDB.savePost(this, saveName, id, postTitle, postContent, categoriesValue, publish);	        	
-		        if (savePostResult == false){
-		        	AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-					  dialogBuilder.setTitle("Post Not Saved");
-		              dialogBuilder.setMessage("Duplicate post save names were found. Please save your posts with unique names.");
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            //Just close the window
-
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-		        }
-					
-			}
-			break;
-		case 4:
-			String selectedPostID = extras.getString("selectedSaveName");
-			
-				
-				if (selectedPostID.equals("noPostsFound") != true && selectedPostID.equals("CANCEL") != true){
-					savedPostsDB postsDB2 = new savedPostsDB(editPost.this);
-					Vector postFields = postsDB2.loadPost(this, selectedPostID, id);
-					EditText titleET = (EditText)findViewById(R.id.title);
-			        EditText contentET = (EditText)findViewById(R.id.content);
-			        TextView categoriesTV = (TextView)findViewById(R.id.selectedCategories);
-			        	
-			        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-			        
-			        titleET.setText(postFields.get(0).toString());
-			        contentET.setText(postFields.get(1).toString());
-			        if (postFields.get(2) != null)
-			        {
-			        	categoriesTV.setText(postFields.get(2).toString());
-			        }
-			        else
-			        {
-			        	categoriesTV.setText("Selected categories: ");
-			        }
-			        
-			        boolean publish  = false;
-			        if (postFields.get(3) != null)
-			        {
-		    		if (postFields.get(3).equals("1")){
-		    			publish = true;
-		    		}
-			        }
-			        publishCB.setChecked(publish);
-	
-				    	//get rid of the thumbnail
-			        
-			        selectedImageIDs = new Vector();
-   
-				}
-				else if (selectedPostID.equals("CANCEL"))
-				{
-					//don't do anything
-				}
-				else
-				{
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-					  dialogBuilder.setTitle("No Posts Found");
-		              dialogBuilder.setMessage("No saved posts were found.");
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              //Just close the window
-
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-				}
-		        
-		        break;
-		}
-	}//end null check
-	}
-	
-	final Runnable mUpdateResults = new Runnable() {
-		public void run() {
-			if (finalResult.equals("gotCategories"))
-			{
-		        Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-		        ArrayAdapter<CharSequence> categories = new ArrayAdapter<CharSequence>(editPost.this, R.layout.spinner_textview, textArray);
-		        
-		        textArray = new ArrayList<CharSequence>();
-		        
-		          categories.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-		         
-
-		          spinner.setAdapter(categories);
-		          if (pd.isShowing()){
-						pd.dismiss();
-						}
-				Toast.makeText(editPost.this, "Categories refreshed!", Toast.LENGTH_SHORT).show();
-			}
-			else if (finalResult.equals("categoryFault")){
-				if (pd.isShowing()){
-					pd.dismiss();
-					}		
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-							  dialogBuilder.setTitle("Category Refresh Error");
-				              dialogBuilder.setMessage(categoryErrorMsg);
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // Just close the window.
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("invalidSettings")){
-				dismissDialog(editPost.this.ID_DIALOG_POSTING);			
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-							  dialogBuilder.setTitle("Settings not found!");
-				              dialogBuilder.setMessage("Some required settings were not found.  Load settings now?");
-				              dialogBuilder.setPositiveButton("Yes",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // User clicked Yes so delete the contexts.
-		                            	Intent i = new Intent(editPost.this, settings.class);
-
-		                            	startActivityForResult(i, 0);
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setNegativeButton("No", new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // User clicked No so don't delete (do nothing).
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("emptyFields")){
-				dismissDialog(editPost.this.ID_DIALOG_POSTING);				
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-							  dialogBuilder.setTitle("Empty Fields");
-				              dialogBuilder.setMessage("Title and Post are required fields. Please enter something to your post before submitting!");
-				              dialogBuilder.setPositiveButton("OK",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                //Just close the window
-
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("OK"))
-			{
-				dismissDialog(editPost.this.ID_DIALOG_POSTING);	
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(editPost.this);
-				  dialogBuilder.setTitle("Post Edited");
-				  if (xmlrpcError){
-					  dialogBuilder.setMessage("Post edited successfully, but an error was encountered when uploading images");  
-				  }
-				  else{
-	              dialogBuilder.setMessage("Post edited successfully");
-				  }
-	              dialogBuilder.setPositiveButton("OK",  new
-	            		  DialogInterface.OnClickListener() {
-                      public void onClick(DialogInterface dialog, int whichButton) {
-                          finish();
-                      }
-                  });
-	              dialogBuilder.setCancelable(true);
-	             dialogBuilder.create().show();
-			}
-		}
-	};
-	
-	//Add settings to menu
-	@Override
-	public boolean onCreateOptionsMenu(Menu menu) {
-	    super.onCreateOptionsMenu(menu);
-	    menu.add(0, 0, 0, "Load Post");
-	    MenuItem menuItem1 = menu.findItem(0);
-	    menuItem1.setIcon(R.drawable.ic_menu_preferences);
-	    
-	    return true;
-	}
-	
-	//Menu actions
-	@Override
-	public boolean onOptionsItemSelected(final MenuItem item){
-	    switch (item.getItemId()) {
-	    case 0:
-	    	
-	    	Bundle savedPosts = new Bundle();
-	    	savedPosts.putString("id", id);
-	    	Intent in = new Intent(this, selectpost.class);
-	    	in.putExtras(savedPosts);
-        	startActivityForResult(in, 4);
-        	
-	    	
-	    	return true;
-	}
-	  return false;	
-	}
-	
-	@Override
-	protected Dialog onCreateDialog(int id) {
-	if(id == ID_DIALOG_POSTING){
-	ProgressDialog loadingDialog = new ProgressDialog(this);
-	loadingDialog.setMessage("Attempting to edit Post...");
-	loadingDialog.setIndeterminate(true);
-	loadingDialog.setCancelable(true);
-	return loadingDialog;
-	}
-
-	return super.onCreateDialog(id);
-	}
-	
-	@Override
-	public void onConfigurationChanged(Configuration newConfig) {
-		
-		super.onConfigurationChanged(newConfig); 
-	}
-	
-	public boolean savePost() {
-		
-		
-		//grab the form data
-        EditText titleET = (EditText)findViewById(R.id.title);
-        String title = titleET.getText().toString();
-        EditText contentET = (EditText)findViewById(R.id.content);
-        String content = contentET.getText().toString();
-        EditText tagsET = (EditText)findViewById(R.id.tags);
-        String tags = tagsET.getText().toString();
-        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-        boolean publishThis = false;
-        String images = "";
-        String categories = "";
-        boolean success = false;
-        
-
-        Integer blogID = 1; //never changes with wordpress, so far
-        
-        Vector<Object> myPostVector = new Vector<Object> ();
-        String res = null;
-        //before we do anything, validate that the user has entered settings
-        boolean enteredSettings = checkSettings();
-        
-        if (!enteredSettings){
-        	res = "invalidSettings";
-        }
-        else if (title.equals("") || content.equals(""))
-        {
-        	res = "emptyFields";
-        }
-        else {
-        
-        	//update the images
-        	for (int it = 0; it < selectedImageCtr; it++){
-           
-        		images += selectedImageIDs.get(it).toString() + ",";
-        		//imageContent +=  uploadImage(selectedImageIDs.get(it).toString());
-
-        	}
-        	Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-        
-        	int itemCount = spinner.getCount();
-        	String selectedCategory = "Uncategorized";
-        	if (itemCount != 0){
-        		selectedCategory = spinner.getSelectedItem().toString();
-        	}
-        
-        	// categoryID = getCategoryId(selectedCategory);
-        	String[] theCategories = new String[selectedCategories.size()];
-        
-        	int catSize = selectedCategories.size();
-        
-        	for(int i=0; i < selectedCategories.size(); i++)
-        	{
-        		categories += selectedCategories.get(i).toString() + ",";
-        		//theCategories[i] = selectedCategories.get(i).toString();
-        	}
-        
-        	if (publishCB.isChecked())
-        	{
-        		publishThis = true;
-        	}
-        
-        	//new feature, automatically save a post as a draft just in case the posting fails
-        	localDraftsDB lDraftsDB = new localDraftsDB(this);
-        	success = lDraftsDB.updateLocalDraft(this, id, postID, title, content, images, tags, categories, publishThis);
-        
-        
-        }// if/then for valid settings
-        
-		return success;
-	}
-    
-}
-
-
-
-
-
diff --git a/src/com/roundhill/androidWP/escapeUtils.java b/src/com/roundhill/androidWP/escapeUtils.java
deleted file mode 100644
index 1d17111bb95d..000000000000
--- a/src/com/roundhill/androidWP/escapeUtils.java
+++ /dev/null
@@ -1,62 +0,0 @@
-package com.roundhill.androidWP;
-
-import java.io.IOException;
-import java.io.StringWriter;
-import java.io.Writer;
-
-public class escapeUtils {
-	
-	 public static String escapeHtml(String str) {
-	        if (str == null) {
-	            return null;
-	        }
-	        try {
-	            StringWriter writer = new StringWriter ((int)(str.length() * 1.5));
-	            escapeHtml(writer, str);
-	            return writer.toString();
-	        } catch (IOException e) {
-	            //assert false;
-	            //should be impossible
-	            e.printStackTrace();
-	            return null;
-	        }
-	    }
-
-
-	    public static void escapeHtml(Writer writer, String string) throws IOException {
-	        if (writer == null ) {
-	            throw new IllegalArgumentException ("The Writer must not be null.");
-	        }
-	        if (string == null) {
-	            return;
-	        }
-	        Entities.HTML40.escape(writer, string);
-	    }
-
-    public static String unescapeHtml(String str) {
-        if (str == null) {
-            return null;
-        }
-        try {
-            StringWriter writer = new StringWriter ((int)(str.length() * 1.5));
-            unescapeHtml(writer, str);
-            return writer.toString();
-        } catch (IOException e) {
-            //assert false;
-            //should be impossible
-            e.printStackTrace();
-            return null;
-        }
-    }
-    
-    public static void unescapeHtml(Writer writer, String string) throws IOException {
-        if (writer == null ) {
-            throw new IllegalArgumentException ("The Writer must not be null.");
-        }
-        if (string == null) {
-            return;
-        }
-        Entities.HTML40.unescape(writer, string);
-    }
-	
-}
diff --git a/src/com/roundhill/androidWP/eulaDB.java b/src/com/roundhill/androidWP/eulaDB.java
deleted file mode 100644
index dd863e7909c1..000000000000
--- a/src/com/roundhill/androidWP/eulaDB.java
+++ /dev/null
@@ -1,55 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-
-public class eulaDB {
-
-	private static final String CREATE_TABLE_EULA = "create table if not exists eula (id integer primary key autoincrement, "
-			+ "read integer not null);";
-
-	private static final String EULA_TABLE = "eula";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 2;
-
-	private SQLiteDatabase db;
-
-	public eulaDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		//db.execSQL("DROP TABLE IF EXISTS "+ CATEGORIES_TABLE);
-		db.execSQL(CREATE_TABLE_EULA);
-		
-		db.close();
-	}
-
-	public boolean checkEULA(Context ctx){
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(EULA_TABLE, new String[] { "read" }, "id=0", null, null, null, null);
-		int numRows = c.getCount();
-		c.moveToFirst();
-		boolean returnValue = false;
-		if (numRows == 1){
-			returnValue = (c.getInt(0) != 0);
-		}
-		
-		db.close();
-			
-		return returnValue;
-	}
-	
-	public void setEULA(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("id", 0);
-		values.put("read", 1); //set that they've read the EULA
-		boolean returnValue = db.insert(EULA_TABLE, null, values) > 0;
-		db.close();
-
-	}
-
-}
-
diff --git a/src/com/roundhill/androidWP/link.java b/src/com/roundhill/androidWP/link.java
deleted file mode 100644
index b8feb43c74c1..000000000000
--- a/src/com/roundhill/androidWP/link.java
+++ /dev/null
@@ -1,63 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.WindowManager;
-import android.widget.Button;
-import android.widget.EditText;
-
-
-
-public class link extends Activity {
-
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		// TODO Auto-generated method stub
-		super.onCreate(savedInstanceState);
-		
-		getWindow().setFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND,
-                WindowManager.LayoutParams.FLAG_BLUR_BEHIND);
-		
-		setContentView(R.layout.link);
-		
-		final Button cancelButton = (Button) findViewById(R.id.cancel);
-        final Button okButton = (Button) findViewById(R.id.ok);
-        
-        okButton.setOnClickListener(new Button.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	EditText linkTextET = (EditText)findViewById(R.id.linkText);
-            	String linkText = linkTextET.getText().toString();
-            	
-            	
-                Bundle bundle = new Bundle();
-                
-                bundle.putString("linkText", linkText);
-                Intent mIntent = new Intent();
-                mIntent.putExtras(bundle);
-                setResult(RESULT_OK, mIntent);
-                finish();
-                
-            }
-        });   
-        
-        cancelButton.setOnClickListener(new Button.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	 Bundle bundle = new Bundle();
-                 
-                 bundle.putString("linkText", "CANCEL");
-                 Intent mIntent = new Intent();
-                 mIntent.putExtras(bundle);
-                 setResult(RESULT_OK, mIntent);
-                 finish();
-            }
-        });
-		
-	}
-	
-
-}
diff --git a/src/com/roundhill/androidWP/localDraftsDB.java b/src/com/roundhill/androidWP/localDraftsDB.java
deleted file mode 100644
index fa1b33a2ae5e..000000000000
--- a/src/com/roundhill/androidWP/localDraftsDB.java
+++ /dev/null
@@ -1,144 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-
-public class localDraftsDB {
-
-	private static final String CREATE_TABLE_LOCALDRAFTS = "create table if not exists localdrafts (id integer primary key autoincrement, blogID text, uploaded boolean, title text,content text, picturePaths text, tags text, categories text, publish boolean);";
-
-
-	private static final String LOCALDRAFTS_TABLE = "localdrafts";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 2;
-
-	private SQLiteDatabase db;
-
-	public localDraftsDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-
-		db.execSQL(CREATE_TABLE_LOCALDRAFTS);
-		
-		db.close();
-	}
-
-	public boolean saveLocalDraft(Context ctx, String blogID, String title, String content, String picturePaths, String tags, String categories, boolean publish) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-			ContentValues values = new ContentValues();
-			values.put("blogID", blogID);
-			values.put("title", title);
-			values.put("content", content);
-			values.put("picturePaths", picturePaths);
-			values.put("tags", tags);
-			values.put("categories", categories);
-			values.put("publish", publish);
-			returnValue = db.insert(LOCALDRAFTS_TABLE, null, values) > 0;
-
-		db.close();
-		return (returnValue);
-	}
-	
-	public boolean updateLocalDraft(Context ctx, String blogID, String postID, String title, String content, String picturePaths, String tags, String categories, boolean publish) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-			ContentValues values = new ContentValues();
-			values.put("blogID", blogID);
-			values.put("title", title);
-			values.put("content", content);
-			values.put("picturePaths", picturePaths);
-			values.put("tags", tags);
-			values.put("categories", categories);
-			values.put("publish", publish);
-			returnValue = db.update(LOCALDRAFTS_TABLE, values, "id=" + postID, null) > 0;
-
-		db.close();
-		return (returnValue);
-	}
-
-	public Vector loadPosts(Context ctx, String blogID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		Cursor c = db.query(LOCALDRAFTS_TABLE, new String[] { "id", "title", "publish", "uploaded"}, "blogID=" + blogID, null, null, null, "id desc");
-		int numRows = c.getCount();
-		c.moveToFirst();
-		
-		for (int i = 0; i < numRows; ++i) {
-		if (c.getString(0) != null){
-		HashMap returnHash = new HashMap();
-		returnHash.put("id", c.getInt(0));
-		returnHash.put("title", c.getString(1));
-		returnHash.put("publish", c.getInt(2));
-		returnHash.put("uploaded", c.getInt(3));
-		returnVector.add(i, returnHash);
-		}
-		c.moveToNext();
-		}
-		c.close();
-		db.close();
-
-		if (numRows == 0){
-			returnVector = null;
-		}
-		
-		return returnVector;
-	}
-	
-	public Vector loadPost(Context ctx, String postID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		Cursor c = db.query(LOCALDRAFTS_TABLE, new String[] { "title", "content", "picturePaths", "tags", "categories", "publish"}, "id=" + postID, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		
-		for (int i = 0; i < numRows; ++i) {
-		if (c.getString(0) != null){
-		HashMap returnHash = new HashMap();
-		returnHash.put("title", c.getString(0));
-		returnHash.put("content", c.getString(1));
-		returnHash.put("picturePaths", c.getString(2));
-		returnHash.put("tags", c.getString(3));
-		returnHash.put("categories", c.getString(4));
-		returnHash.put("publish", c.getInt(5));
-		returnVector.add(i, returnHash);
-		}
-		c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		if (numRows == 0){
-			returnVector = null;
-		}
-		
-		return returnVector;
-	}
-
-	public boolean deletePost(Context ctx, String postID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		
-		boolean returnValue = false;
-
-		int result = 0;
-		result = db.delete(LOCALDRAFTS_TABLE, "id=" + postID, null);
-		db.close();
-		
-		if (result == 1){
-			returnValue = true;
-		}
-		
-		return returnValue;
-	}
-
-}
-
diff --git a/src/com/roundhill/androidWP/moderateComments.java b/src/com/roundhill/androidWP/moderateComments.java
deleted file mode 100644
index ef2fbf66243b..000000000000
--- a/src/com/roundhill/androidWP/moderateComments.java
+++ /dev/null
@@ -1,902 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.io.IOException;
-import java.io.InputStream;
-import java.math.BigInteger;
-import java.net.HttpURLConnection;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.security.MessageDigest;
-import java.security.NoSuchAlgorithmException;
-import java.text.DateFormat;
-import java.text.ParseException;
-import java.text.SimpleDateFormat;
-import java.util.ArrayList;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Vector;
-
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import com.commonsware.cwac.cache.SimpleWebImageCache;
-import com.commonsware.cwac.thumbnail.ThumbnailAdapter;
-import com.commonsware.cwac.thumbnail.ThumbnailBus;
-import com.commonsware.cwac.thumbnail.ThumbnailMessage;
-
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ListActivity;
-import android.app.NotificationManager;
-import android.app.ProgressDialog;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.content.res.Configuration;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Color;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.os.Looper;
-import android.util.Log;
-import android.view.ContextMenu;
-import android.view.Gravity;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.widget.AdapterView;
-import android.widget.BaseAdapter;
-import android.widget.ImageView;
-import android.widget.LinearLayout;
-import android.widget.ListAdapter;
-import android.widget.ListView;
-import android.widget.RelativeLayout;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemClickListener;
-
-
-public class moderateComments extends ListActivity{
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	public String[] authors;
-	public String[] comments;
-	public String[] status;
-	public String[] commentID;
-	public String[] authorURL;
-	public String[] authorEmail;
-	public String[] dateCreated;
-	private String id = "";
-	private String postID = "";
-	private String accountName = "";
-	private String postTitle = "";
-	public Object[] origComments;
-	public int[] changedStatuses;
-	public HashMap allComments = new HashMap();
-	private HashMap changedComments = new HashMap();
-	public int ID_DIALOG_POSTING = 1;
-	public boolean initializing = true;
-	public int selectedID = 0;
-	public int rowID = 0;
-	public ProgressDialog pd;
-	private ThumbnailAdapter thumbs=null;
-	private static final int[] IMAGE_IDS = {R.id.selectedCategories};
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-       
-        setContentView(R.layout.moderatecomments);
-        boolean fromNotification = false;
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-         fromNotification = extras.getBoolean("fromNotification", false);       		
-        }      
-        
-        if (fromNotification) //dismiss the notification 
-        {
-        	NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
-        	nm.cancel(22 + Integer.valueOf(id));
-        }
-        
-        this.setTitle(accountName + " - Moderate Comments");
-        
-        boolean loadedComments = loadComments();
-        
-        if (!loadedComments){
-        	refreshComments();
-        }
-        
-        final customMenuButton refresh = (customMenuButton) findViewById(R.id.refreshComments);   
-        
-        refresh.setOnClickListener(new customMenuButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	refreshComments();
-            	 
-            }
-    });
-    }
-    
-    
-private boolean loadComments() {
-	postStoreDB postStoreDB = new postStoreDB(this);
-    Vector loadedPosts = postStoreDB.loadComments(moderateComments.this, id);
- 	if (loadedPosts != null){
- 	authors = new String[loadedPosts.size()];
- 	commentID = new String[loadedPosts.size()];
- 	comments = new String[loadedPosts.size()];
- 	dateCreated = new String[loadedPosts.size()];
- 	status = new String[loadedPosts.size()];
- 	authorEmail = new String[loadedPosts.size()];
-					    for (int i=0; i < loadedPosts.size(); i++){
-					        HashMap contentHash = (HashMap) loadedPosts.get(i);
-					        allComments.put(contentHash.get("commentID").toString(), contentHash);
-					        authors[i] = escapeUtils.unescapeHtml(contentHash.get("author").toString());
-					        commentID[i] = contentHash.get("commentID").toString();
-					        comments[i] = contentHash.get("comment").toString();
-					        dateCreated[i] = contentHash.get("commentDate").toString();		
-					        status[i] = contentHash.get("status").toString();
-					        authorEmail[i] = contentHash.get("email").toString();
-					    }
-					   
-					    try {
-					    	ThumbnailBus bus = new ThumbnailBus();
-							thumbs=new ThumbnailAdapter(this, new CommentListAdapter(this),new SimpleWebImageCache<ThumbnailBus, ThumbnailMessage>(null, null, 101, bus),IMAGE_IDS);
-						} catch (Exception e1) {
-							// TODO Auto-generated catch block
-							e1.printStackTrace();
-						}
-			        
-					   setListAdapter(thumbs);
-					
-					   ListView listView = (ListView) findViewById(android.R.id.list);
-					   listView.setSelector(R.layout.list_selector);
-					   
-					   listView.setOnItemClickListener(new OnItemClickListener() {
-
-							public void onNothingSelected(AdapterView<?> arg0) {
-								
-							}
-
-							public void onItemClick(AdapterView<?> arg0, View arg1,
-									int arg2, long arg3) {
-								Intent intent = new Intent(moderateComments.this, editPost.class);
-			                    //intent.putExtra("pageID", pageIDs[(int) arg3]);
-			                    //intent.putExtra("postTitle", titles[(int) arg3]);
-			                    intent.putExtra("id", id);
-			                    intent.putExtra("accountName", accountName);
-			                    startActivity(intent);
-								
-							}
-
-			            });
-					   
-	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	                   selectedID = info.targetView.getId();
-	                   rowID = info.position;
-	                   
-				 menu.setHeaderTitle("Comment Actions");
-                 menu.add(0, 0, 0, "Mark Approved");
-                 menu.add(0, 1, 0, "Mark Unapproved");
-                 menu.add(0, 2, 0, "Mark Spam");
-				}
-	          });
- 	
-	return true;
-  }
- 	else{
- 		return false;
- 	}
-	}
-
-
-private void refreshComments() {
-	
-	Thread action = new Thread() 
-	{ 
-	  public void run() 
-	  {
-		  pd = ProgressDialog.show(moderateComments.this,
-	                "Refresh Comments", "Attempting to get comments", true, false);
-	  } 
-	}; 
-	runOnUiThread(action);
-	
-	Vector settings = new Vector();
-    settingsDB settingsDB = new settingsDB(this);
-	settings = settingsDB.loadSettings(this, id); 
-   
-	String sURL = "";
-	if (settings.get(0).toString().contains("xmlrpc.php"))
-	{
-		sURL = settings.get(0).toString();
-	}
-	else
-	{
-		sURL = settings.get(0).toString() + "xmlrpc.php";
-	}
-	String sUsername = settings.get(2).toString();
-	String sPassword = settings.get(3).toString();
-        
-        HashMap hPost = new HashMap();
-        hPost.put("status", "");
-        hPost.put("post_id", "");
-        hPost.put("number", 30);
-        
-    	
-    	List<Object> list = new ArrayList<Object>();
-    	
-    	//haxor
-    	
-    	client = new XMLRPCClient(sURL);
-    	
-    	XMLRPCMethod method = new XMLRPCMethod("wp.getComments", new XMLRPCMethodCallback() {
-			public void callFinished(Object[] result) {
-				String s = "done";
-				pd.dismiss();
-				if (result.length == 0){
-					
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateComments.this);
-					  dialogBuilder.setTitle("No Comments Found");
-		              dialogBuilder.setMessage("You don't have any comments on your blog");
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // Just close the window.
-                        	
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-				}
-				else{
-				s = result.toString();
-				origComments = result;
-				comments = new String[result.length];
-				authors = new String[result.length];
-				status = new String[result.length];
-				commentID = new String[result.length];
-				authorEmail = new String[result.length];
-				dateCreated = new String[result.length];
-				authorURL = new String[result.length];
-				
-				HashMap contentHash = new HashMap();
-				    
-				    
-				    Vector dbVector = new Vector();
-					
-					//loop this!
-					    for (int ctr = 0; ctr < result.length; ctr++){
-					    	HashMap<String, String> dbValues = new HashMap();
-					        contentHash = (HashMap) result[ctr];
-					        allComments.put(contentHash.get("comment_id").toString(), contentHash);
-					        comments[ctr] = contentHash.get("content").toString();
-					        authors[ctr] = contentHash.get("author").toString();
-					        status[ctr] = contentHash.get("status").toString();
-					        commentID[ctr] = contentHash.get("comment_id").toString();
-					        dateCreated[ctr] = contentHash.get("date_created_gmt").toString();
-					        authorURL[ctr] = contentHash.get("author_url").toString();
-					        authorEmail[ctr] = contentHash.get("author_email").toString();
-					        dbValues.put("blogID", id);
-					        dbValues.put("commentID", commentID[ctr]);
-					        dbValues.put("author", authors[ctr]);
-					        dbValues.put("comment", comments[ctr]);
-					        dbValues.put("commentDate", dateCreated[ctr]);
-					        dbValues.put("status", status[ctr]);
-					        dbValues.put("url", authorURL[ctr]);
-					        dbValues.put("email", authorEmail[ctr]);
-					        dbVector.add(ctr, dbValues);
-					    }
-					    
-					    postStoreDB postStoreDB = new postStoreDB(moderateComments.this);
-					    postStoreDB.saveComments(moderateComments.this, dbVector);
-					   
-					   loadComments();
-				    
-				}  
-	        
-				
-				 
-
-			}
-        });
-        Object[] params = {
-        		1,
-        		sUsername,
-        		sPassword,
-        		hPost
-        };
-        
-        
-        method.call(params);
-		
-	}
-
-interface XMLRPCMethodCallback {
-	void callFinished(Object[] result);
-}
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		
-		handler = new Handler();
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object[] result = (Object[]) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					pd.dismiss();
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateComments.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-					pd.dismiss();
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateComments.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getMessage());
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // Just close the window.
-                    
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-					
-				}
-			});
-		}
-	}
-}
-
-interface XMLRPCMethodCallbackEditComment {
-	void callFinished(Object result);
-}
-
-class XMLRPCMethodEditComment extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallbackEditComment callBack;
-	public XMLRPCMethodEditComment(String method, XMLRPCMethodCallbackEditComment callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		handler = new Handler();
-		
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		
-		start();
-		
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object result = (Object) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-					
-					callBack.callFinished(result);
-					
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					dismissDialog(ID_DIALOG_POSTING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateComments.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-
-					Throwable couse = e.getCause();
-					dismissDialog(ID_DIALOG_POSTING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateComments.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getMessage());
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // Just close the window.
-                    
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-					
-					//Log.d("Test", "error", e);
-				}
-			});
-		}
-	}
-}
-
-private class CommentListAdapter extends BaseAdapter {
-    public CommentListAdapter(Context context) {
-        mContext = context;
-    }
-
-    /**
-     * The number of items in the list is determined by the number of speeches
-     * in our array.
-     * 
-     * @see android.widget.ListAdapter#getCount()
-     */
-    public int getCount() {
-        return authors.length;
-    }
-
-    /**
-     * Since the data comes from an array, just returning the index is
-     * sufficent to get at the data. If we were using a more complex data
-     * structure, we would return whatever object represents one row in the
-     * list.
-     * 
-     * @see android.widget.ListAdapter#getItem(int)
-     */
-    public Object getItem(int position) {
-        return position;
-    }
-
-    /**
-     * Use the array index as a unique id.
-     * 
-     * @see android.widget.ListAdapter#getItemId(int)
-     */
-    public long getItemId(int position) {
-        return position;
-    }
-
-    /**
-     * Make a SpeechView to hold each row.
-     * 
-     * @see android.widget.ListAdapter#getView(int, android.view.View,
-     *      android.view.ViewGroup)
-     */
-    public View getView(int position, View convertView, ViewGroup parent) {
-    	
-    	CommentView cv;
-        if (convertView == null) {
-            cv = new CommentView(mContext, authors[position],
-                    comments[position], status[position], commentID[position], authorEmail[position]);
-        } else {
-            cv = (CommentView) convertView;
-            cv.setGravatar(authorEmail[position]);
-            cv.setAuthor(authors[position]);
-            cv.setComment(comments[position]);
-            //cv.setStatus(status[position]);
-            cv.setId(Integer.valueOf(commentID[position]));
-        }
-        
-        changedComments.clear();
-        
-        return cv;
-    	
-    	
-    	
-    }
-    
-    /**
-     * Remember our context so we can use it when constructing views.
-     */
-    private Context mContext;
-    
-    /**
-     * Our data, part 1.
-     */
-}
-
-private class CommentView extends RelativeLayout {
-	public Vector gravatars = new Vector();
-    public CommentView(Context context, String author, String comment, String status, String commentID, String email) {
-        super(context);
-        
-        //this.setOrientation(VERTICAL);
-        this.setId(Integer.valueOf(commentID));
-        
-        // Here we build the child views in code. They could also have
-        // been specified in an XML file.
-        
-        final String gravatarURL = "http://gravatar.com/avatar/" + getMd5Hash(email.trim()) + "?s=40&d=identicon";
-        
-        
-        
-        
-        
-        ivGravatar = new ImageView(context);
-        ivGravatar.setPadding(4, 4, 4, 4);
-        ivGravatar.setId(100);
-        ivGravatar.setTag(gravatarURL);
-        LayoutParams imgRLParams = new RelativeLayout.LayoutParams(
-                LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT);
-        
-        imgRLParams.addRule(RelativeLayout.ALIGN_PARENT_TOP);
-        imgRLParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
-        imgRLParams.setMargins(0,0,6,0);
-        
-        
-        addView(ivGravatar, imgRLParams);
-        
-        
-        tvAuthor = new TextView(context);
-        tvAuthor.setTextColor(Color.parseColor("#777777"));
-        tvAuthor.setPadding(4, 4, 4, 0);
-        tvAuthor.setText(author);
-        tvAuthor.setId(1001);
-        //tvAuthor.setGravity(Gravity.CENTER_VERTICAL);
-        LayoutParams authorRLParams = new RelativeLayout.LayoutParams(
-                LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
-        
-        authorRLParams.addRule(RelativeLayout.RIGHT_OF, ivGravatar.getId());
-        authorRLParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
-        authorRLParams.addRule(RelativeLayout.ALIGN_PARENT_TOP);
-
-        tvComment = new TextView(context);
-        tvComment.setPadding(4, 4, 4, 4);
-        tvComment.setText(comment);
-
-        RelativeLayout.LayoutParams commentRLParams = new RelativeLayout.LayoutParams(
-                LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT);
-                
-        commentRLParams.addRule(RelativeLayout.RIGHT_OF, ivGravatar.getId());
-        commentRLParams.addRule(RelativeLayout.BELOW, tvAuthor.getId());
-        commentRLParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
-        
-        addView(tvComment, commentRLParams);
-        
-        
-        
-        
-        addView(tvAuthor, authorRLParams);
-        
-       /* tvStatus = new TextView(context);
-        tvStatus.setPadding(4, 4, 4, 4);
-        tvStatus.setTextSize(10);
-        if (status.equals("approve")){
-        tvStatus.setTextColor(Color.parseColor("#006505"));
-        tvStatus.setText("Approved");
-        }
-        else if (status.equals("hold")){
-            tvStatus.setTextColor(Color.parseColor("#D54E21"));
-            tvStatus.setText("Unapproved");
-            }
-        else if (status.equals("spam")){
-            tvStatus.setTextColor(Color.parseColor("#FF0000"));
-            tvStatus.setText("Spam");
-            }
-        
-        RelativeLayout.LayoutParams statusRLParams = new RelativeLayout.LayoutParams(
-                LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
-
-        statusRLParams.addRule(RelativeLayout.BELOW, ivGravatar.getId());
-        
-        addView(tvStatus, statusRLParams);*/
-    
-    }
-
-    /**
-     * Convenience methods
-     */
-   
-    public void setGravatar(final String email) {
-    	final String gravatarURL = "http://gravatar.com/avatar/" + getMd5Hash(email.trim()) + "?s=40&d=identicon";
-    	
-    	//getAvatar().setImageResource(R.drawable.placeholder);
-		ivGravatar.setTag(gravatarURL);
-    	
-    	
-    }
-    protected void refreshUI() {
-		// TODO Auto-generated method stub
-		
-	}
-
-	public void setAuthor(String authorName) {
-        tvAuthor.setText(authorName);
-    }
-    public void setComment(String comment) {
-        tvComment.setText(comment);
-    }
-    public void setStatus(String status) {
-    	tvStatus.setTextSize(10);
-    	if (status.equals("approve")){
-            tvStatus.setTextColor(Color.parseColor("#006505"));
-            tvStatus.setText("Approved");
-            }
-            else if (status.equals("hold")){
-                tvStatus.setTextColor(Color.parseColor("#D54E21"));
-                tvStatus.setText("Unapproved");
-                }
-            else if (status.equals("spam")){
-                tvStatus.setTextColor(Color.parseColor("#FF0000"));
-                tvStatus.setText("Spam");
-                }
-    }
-
-    private TextView tvAuthor;
-    private TextView tvComment;
-    private TextView tvStatus;
-    private ImageView ivGravatar;
-}
-
-@Override
-protected Dialog onCreateDialog(int id) {
-if(id == ID_DIALOG_POSTING){
-ProgressDialog loadingDialog = new ProgressDialog(this);
-loadingDialog.setMessage("Moderating Comment...");
-loadingDialog.setIndeterminate(true);
-loadingDialog.setCancelable(false);
-return loadingDialog;
-}
-
-return super.onCreateDialog(id);
-}
-
-@Override
-public void onConfigurationChanged(Configuration newConfig) {
-	
-	super.onConfigurationChanged(newConfig); 
-}
-
-
-@Override
-public boolean onContextItemSelected(MenuItem item) {
-
-     /* Switch on the ID of the item, to get what the user selected. */
-     switch (item.getItemId()) {
-          case 0:
-        	showDialog(ID_DIALOG_POSTING);
-        	  new Thread() {
-                  public void run() {
-                	  Looper.prepare();
-			changeCommentStatus("approve", selectedID);
-                  }
-              }.start();
-        	  return true;
-          case 1:
-        	  showDialog(ID_DIALOG_POSTING);
-        	  new Thread() {
-                  public void run() { 
-                	  Looper.prepare();
-        	  changeCommentStatus("hold", selectedID);
-                  }
-              }.start();
-              
-        	  return true;
-          case 2:
-        	  showDialog(ID_DIALOG_POSTING);
-        	  new Thread() {
-                  public void run() { 
-                	  Looper.prepare();
-        	  changeCommentStatus("spam", selectedID);
-                  }
-              }.start();
-             return true;
-        	  
-     }
-     return false;
-}
-
-private void changeCommentStatus(final String newStatus, final int selCommentID) {
-
-        	//Thread t = new Thread() {
-				//public void run() {
-				//Looper.prepare();
-    		String sSelCommentID = String.valueOf(selCommentID);
-        	Vector settings = new Vector();
-            settingsDB settingsDB = new settingsDB(moderateComments.this);
-        	settings = settingsDB.loadSettings(moderateComments.this, id);
-            
-        	String sURL = "";
-        	if (settings.get(0).toString().contains("xmlrpc.php"))
-        	{
-        		sURL = settings.get(0).toString();
-        	}
-        	else
-        	{
-        		sURL = settings.get(0).toString() + "xmlrpc.php";
-        	}
-    		String sUsername = settings.get(2).toString();
-    		String sPassword = settings.get(3).toString();
-        	
-        	client = new XMLRPCClient(sURL);
-        	
-        	ListView lv = getListView(); 
-        	
-        	Object curListItem;
-        	ListAdapter la = lv.getAdapter();
-        	
-            
-        		HashMap contentHash, postHash = new HashMap();
-        		contentHash = (HashMap) allComments.get(sSelCommentID);
-		        postHash.put("status", newStatus);
-		        Date d = new Date();
-		        SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");  
-		        String cDate = contentHash.get("commentDate").toString().replace("America/Los_Angeles", "PDT");
-		        try{  
-		        	d = sdf.parse(cDate);
-		        } catch (ParseException pe){  
-		            pe.printStackTrace();  
-		        }  
-		        postHash.put("date_created_gmt", d);
-		        postHash.put("content", contentHash.get("comment"));
-		        postHash.put("author", contentHash.get("author"));
-		        postHash.put("author_url", contentHash.get("url"));
-		        postHash.put("author_email", contentHash.get("email"));
-
-		        
-	        Object[] params = {
-	        		1,
-	        		sUsername,
-	        		sPassword,
-	        		sSelCommentID,
-	        		postHash
-	        };
-	        
-	        Object result = null;
-	        try {
-	    		result = (Object) client.call("wp.editComment", params);
-	    		dismissDialog(ID_DIALOG_POSTING);
-	    		Thread action = new Thread() 
-				{ 
-				  public void run() 
-				  {
-					  Toast.makeText(moderateComments.this, "Comment Moderated Succesfully", Toast.LENGTH_SHORT).show();
-				  } 
-				}; 
-				this.runOnUiThread(action);
-				Thread action2 = new Thread() 
-				{ 
-				  public void run() 
-				  {
-					  refreshComments();				  } 
-				}; 
-				this.runOnUiThread(action2);
-				
-	    	} catch (XMLRPCException e) {
-	    		dismissDialog(ID_DIALOG_POSTING);
-	    		e.printStackTrace();
-	    	}
-        
-        //}
-        
-        	
-        	
-		//};
-		//t.start();	
-		
-		
-		
- 
-	
-}
-
-public static String getMd5Hash(String input) {
-    try     {
-            MessageDigest md = MessageDigest.getInstance("MD5");
-            byte[] messageDigest = md.digest(input.getBytes());
-            BigInteger number = new BigInteger(1,messageDigest);
-            String md5 = number.toString(16);
-       
-            while (md5.length() < 32)
-                    md5 = "0" + md5;
-       
-            return md5;
-    } catch(NoSuchAlgorithmException e) {
-            Log.e("MD5", e.getMessage());
-            return null;
-    }
-}
-
-public Bitmap getGravatar( String urlstr )
-{
-    try
-    {
-        URL url;
-        url = new URL( urlstr );
-
-        HttpURLConnection c = ( HttpURLConnection ) url.openConnection();
-        c.setDoInput( true );
-        c.connect();
-        InputStream is = c.getInputStream();
-        Bitmap img;
-        img = BitmapFactory.decodeStream( is );
-        return img;
-    }
-    catch ( MalformedURLException e )
-    {
-        Log.d( "RemoteImageHandler", "fetchImage passed invalid URL: " + urlstr );
-    }
-    catch ( IOException e )
-    {
-        Log.d( "RemoteImageHandler", "fetchImage IO exception: " + e );
-    }
-    return null;
-}
-
-
-}
-
-
-
diff --git a/src/com/roundhill/androidWP/moderateCommentsTab.java b/src/com/roundhill/androidWP/moderateCommentsTab.java
deleted file mode 100644
index 187f27e9f552..000000000000
--- a/src/com/roundhill/androidWP/moderateCommentsTab.java
+++ /dev/null
@@ -1,824 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ListActivity;
-import android.app.NotificationManager;
-import android.app.ProgressDialog;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.content.IntentFilter;
-import android.content.SharedPreferences;
-import android.content.res.Configuration;
-import android.graphics.Color;
-import android.graphics.drawable.Drawable;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.os.Looper;
-import android.preference.PreferenceManager;
-import android.util.Log;
-import android.view.ContextMenu;
-import android.view.LayoutInflater;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.widget.AdapterView;
-import android.widget.ArrayAdapter;
-import android.widget.ImageView;
-import android.widget.ListAdapter;
-import android.widget.ListView;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemClickListener;
-
-import java.math.BigInteger;
-import java.net.URI;
-import java.security.MessageDigest;
-import java.security.NoSuchAlgorithmException;
-import java.text.ParseException;
-import java.text.SimpleDateFormat;
-import java.util.ArrayList;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Vector;
-
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import com.commonsware.cwac.cache.SimpleWebImageCache;
-import com.commonsware.cwac.thumbnail.ThumbnailAdapter;
-import com.commonsware.cwac.thumbnail.ThumbnailBus;
-import com.commonsware.cwac.thumbnail.ThumbnailMessage;
-import com.roundhill.androidWP.moderateComments.XMLRPCMethodCallback;
-
-public class moderateCommentsTab extends ListActivity {
-	private static final String FETCH_ACTION="com.commonsware.cwac.cache.demo.FETCH_ACTION";
-	private static final int[] IMAGE_IDS={R.id.avatar};
-	private SharedPreferences prefs=null;
-	//private Twitter client=null;
-	private ThumbnailAdapter thumbs=null;
-	private ArrayList<CommentEntry> model=null;
-	private XMLRPCClient client;
-	private String id = "";
-	private String postID = "";
-	private String accountName = "";
-	private String postTitle = "";
-	public Object[] origComments;
-	public int[] changedStatuses;
-	public HashMap allComments = new HashMap();
-	private HashMap changedComments = new HashMap();
-	public int ID_DIALOG_POSTING = 1;
-	public boolean initializing = true;
-	public int selectedID = 0;
-	public int rowID = 0;
-	public ProgressDialog pd;
-	
-	@Override
-	public void onCreate(Bundle icicle) {
-		super.onCreate(icicle);
-		setContentView(R.layout.moderatecomments);
-        boolean fromNotification = false;
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-         fromNotification = extras.getBoolean("fromNotification", false);       		
-        }      
-        
-        if (fromNotification) //dismiss the notification 
-        {
-        	NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
-        	nm.cancel(22 + Integer.valueOf(id));
-        }
-        
-        this.setTitle(accountName + " - Moderate Comments");
-        
-        boolean loadedComments = loadComments();
-        
-        if (!loadedComments){
-        	refreshComments();
-        }
-        
-        final customMenuButton refresh = (customMenuButton) findViewById(R.id.refreshComments);   
-        
-        refresh.setOnClickListener(new customMenuButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	refreshComments();
-            	 
-            }
-    });
-		
-
-	}
-	
-	@Override
-	public void onStart() {
-		super.onStart();
-		
-		loadComments();																			
-	}
-	
-	private boolean loadComments() {
-		postStoreDB postStoreDB = new postStoreDB(this);
-	    Vector loadedPosts = postStoreDB.loadComments(moderateCommentsTab.this, id);
-	 	if (loadedPosts != null){
-	 	String author, commentID, comment, dateCreated, status, authorEmail, postTitle;
-	 	model=new ArrayList<CommentEntry>();
-						    for (int i=0; i < loadedPosts.size(); i++){
-						        HashMap contentHash = (HashMap) loadedPosts.get(i);
-						        allComments.put(contentHash.get("commentID").toString(), contentHash);
-						        author = escapeUtils.unescapeHtml(contentHash.get("author").toString());
-						        commentID = contentHash.get("commentID").toString();
-						        comment = escapeUtils.unescapeHtml(contentHash.get("comment").toString());
-						        dateCreated = contentHash.get("commentDate").toString();		
-						        status = contentHash.get("status").toString();
-						        authorEmail = escapeUtils.unescapeHtml(contentHash.get("email").toString());
-						        postTitle = escapeUtils.unescapeHtml(contentHash.get("postTitle").toString());
-						        
-						        //add to model
-						        model.add(new CommentEntry(commentID, 
-						        		author,
-						        		dateCreated,
-						        		comment,
-						        		status,
-						        		postTitle,
-						        		URI.create("http://gravatar.com/avatar/" + getMd5Hash(authorEmail.trim()) + "?s=48&d=identicon")));
-						    }
-						   
-						    try {
-						    	ThumbnailBus bus = new ThumbnailBus();
-								thumbs=new ThumbnailAdapter(this, new CommentAdapter(),new SimpleWebImageCache<ThumbnailBus, ThumbnailMessage>(null, null, 101, bus),IMAGE_IDS);
-							} catch (Exception e1) {
-								// TODO Auto-generated catch block
-								e1.printStackTrace();
-							}
-				        
-							   setListAdapter(thumbs);				   
-						
-						   ListView listView = (ListView) findViewById(android.R.id.list);
-						   listView.setSelector(R.layout.list_selector);
-
-						   
-		        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-		               public void onCreateContextMenu(ContextMenu menu, View v,
-							ContextMenuInfo menuInfo) {
-						// TODO Auto-generated method stub
-		            	   AdapterView.AdapterContextMenuInfo info;
-		                   try {
-		                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-		                   } catch (ClassCastException e) {
-		                       //Log.e(TAG, "bad menuInfo", e);
-		                       return;
-		                   }
-		                   
-		                   selectedID = info.targetView.getId();
-		                   rowID = info.position;
-		                   
-					 menu.setHeaderTitle("Comment Actions");
-	                 menu.add(0, 0, 0, "Mark Approved");
-	                 menu.add(0, 1, 0, "Mark Unapproved");
-	                 menu.add(0, 2, 0, "Mark Spam");
-					}
-		          });
-	 	
-		return true;
-	  }
-	 	else{
-	 		return false;
-	 	}
-		}
-
-
-	private void refreshComments() {
-		
-		Thread action = new Thread() 
-		{ 
-		  public void run() 
-		  {
-			  pd = ProgressDialog.show(moderateCommentsTab.this,
-		                "Refresh Comments", "Attempting to get comments", true, false);
-		  } 
-		}; 
-		runOnUiThread(action);
-		
-		Vector settings = new Vector();
-	    settingsDB settingsDB = new settingsDB(this);
-		settings = settingsDB.loadSettings(this, id); 
-	   
-		String sURL = "";
-		if (settings.get(0).toString().contains("xmlrpc.php"))
-		{
-			sURL = settings.get(0).toString();
-		}
-		else
-		{
-			sURL = settings.get(0).toString() + "xmlrpc.php";
-		}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-	        
-	        HashMap hPost = new HashMap();
-	        hPost.put("status", "");
-	        hPost.put("post_id", "");
-	        hPost.put("number", 30);
-	        
-	    	
-	    	List<Object> list = new ArrayList<Object>();
-	    	
-	    	//haxor
-	    	
-	    	client = new XMLRPCClient(sURL);
-	    	
-	    	XMLRPCMethod method = new XMLRPCMethod("wp.getComments", new XMLRPCMethodCallback() {
-				public void callFinished(Object[] result) {
-					String s = "done";
-					pd.dismiss();
-					if (result.length == 0){
-						
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
-						  dialogBuilder.setTitle("No Comments Found");
-			              dialogBuilder.setMessage("You don't have any comments on your blog");
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                        public void onClick(DialogInterface dialog, int whichButton) {
-	                            // Just close the window.
-	                        	
-	                        }
-	                    });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-					}
-					else{
-					s = result.toString();
-					origComments = result;
-					String author, commentID, comment, dateCreated, status, authorEmail, authorURL, postTitle;
-					
-					HashMap contentHash = new HashMap();
-					    
-					    
-					    Vector dbVector = new Vector();
-						
-						//loop this!
-						    for (int ctr = 0; ctr < result.length; ctr++){
-						    	HashMap<String, String> dbValues = new HashMap();
-						        contentHash = (HashMap) result[ctr];
-						        allComments.put(contentHash.get("comment_id").toString(), contentHash);
-						        comment = contentHash.get("content").toString();
-						        author = contentHash.get("author").toString();
-						        status = contentHash.get("status").toString();
-						        commentID = contentHash.get("comment_id").toString();
-						        dateCreated = contentHash.get("date_created_gmt").toString();
-						        authorURL = contentHash.get("author_url").toString();
-						        authorEmail = contentHash.get("author_email").toString();
-						        postTitle = contentHash.get("post_title").toString();
-						        dbValues.put("blogID", id);
-						        dbValues.put("commentID", commentID);
-						        dbValues.put("author", author);
-						        dbValues.put("comment", comment);
-						        dbValues.put("commentDate", dateCreated);
-						        dbValues.put("status", status);
-						        dbValues.put("url", authorURL);
-						        dbValues.put("email", authorEmail);
-						        dbValues.put("postTitle", postTitle);
-						        dbVector.add(ctr, dbValues);
-						        
-						        
-						    }
-						    
-						    postStoreDB postStoreDB = new postStoreDB(moderateCommentsTab.this);
-						    postStoreDB.saveComments(moderateCommentsTab.this, dbVector);
-						   
-						   loadComments();
-					    
-					}  
-		        
-					
-					 
-
-				}
-	        });
-	        Object[] params = {
-	        		1,
-	        		sUsername,
-	        		sPassword,
-	        		hPost
-	        };
-	        
-	        
-	        method.call(params);
-			
-		}
-	
-	@Override
-	public void onDestroy() {
-		super.onDestroy();
-		
-		thumbs.close();
-	}
-	
-	@Override
-	public Object onRetainNonConfigurationInstance() {
-		return(model);
-	}
-	
-	/*private ThumbnailBus getBus() {
-		return(((Application)getApplication()).getBus());		
-	}*/
-	
-	private void goBlooey(Throwable t) {
-		Log.e("WordPress", "Exception!", t);
-		
-		AlertDialog.Builder builder=new AlertDialog.Builder(this);
-		
-		builder
-			.setTitle("UHOH")
-			.setMessage(t.toString())
-			.setPositiveButton("OK", null)
-			.show();
-	}
-	
-	class CommentEntry {
-		String commentID="";
-		String name="";
-		String createdAt="";
-		String status="";
-		String comment="";
-		String postTitle="";
-		URI profileImageUrl=null;
-		
-		CommentEntry(String commentID, String name, String createdAt,
-									String comment, String status, String postTitle, URI profileImageUrl) {
-			this.commentID=commentID;
-			this.name=name;
-			this.createdAt=createdAt;
-			this.status=status;
-			this.comment=comment;
-			this.postTitle=postTitle;
-			this.profileImageUrl=profileImageUrl;
-		}
-	}
-	
-	class CommentAdapter extends ArrayAdapter<CommentEntry> {
-		 CommentAdapter() {
-			super(moderateCommentsTab.this, R.layout.row, model);
-		}
-		
-		public View getView(int position, View convertView,
-												ViewGroup parent) {
-			View row=convertView;
-			CommentEntryWrapper wrapper=null;
-			
-			if (row==null) {													
-				LayoutInflater inflater=getLayoutInflater();
-				
-				row=inflater.inflate(R.layout.row, null);
-				wrapper=new CommentEntryWrapper(row);
-				row.setTag(wrapper);
-			}
-			else {
-				wrapper=(CommentEntryWrapper)row.getTag();
-			}
-			
-			wrapper.populateFrom(getItem(position));
-			
-			return(row);
-		}
-	}
-	
-	class CommentEntryWrapper {
-		private TextView name=null;
-		private TextView createdAt=null;
-		private TextView comment=null;
-		private TextView status=null;
-		private TextView postTitle=null;
-		private ImageView avatar=null;
-		private View row=null;
-		
-		CommentEntryWrapper(View row) {
-			this.row=row;
-			
-		}
-		
-		void populateFrom(CommentEntry s) {
-			getName().setText(s.name);
-			getCreatedAt().setText(s.createdAt);
-			getComment().setText(s.comment);
-			getPostTitle().setText("on " + s.postTitle);
-			
-			row.setId(Integer.valueOf(s.commentID));
-			
-			String prettyComment,textColor = "";
-			
-			if (s.status.equals("spam")){
-				prettyComment = "Spam";
-				textColor = "#FF0000";
-			}
-			else if (s.status.equals("hold")){
-				prettyComment = "Unapproved";
-				textColor = "#D54E21";
-			}
-			else{
-				prettyComment = "Approved";
-				textColor = "#006505";
-			}
-			
-			getStatus().setText(prettyComment);
-			getStatus().setTextColor(Color.parseColor(textColor));
-			
-			if (s.profileImageUrl!=null) {
-				try {
-					getAvatar().setImageResource(R.drawable.placeholder);
-					getAvatar().setTag(s.profileImageUrl.toString());
-				}
-				catch (Throwable t) {
-					goBlooey(t);
-				}
-			}
-		}
-		
-		TextView getName() {
-			if (name==null) {
-				name=(TextView)row.findViewById(R.id.name);
-			}
-			
-			return(name);
-		}
-		
-		TextView getCreatedAt() {
-			if (createdAt==null) {
-				createdAt=(TextView)row.findViewById(R.id.created_at);
-			}
-			
-			return(createdAt);
-		}
-		
-		TextView getComment() {
-			if (comment==null) {
-				comment=(TextView)row.findViewById(R.id.comment);
-			}
-			
-			return(comment);
-		}
-		
-		TextView getStatus() {
-			if (status==null) {
-				status=(TextView)row.findViewById(R.id.status);
-			}
-			
-			status.setTextSize(10);
-			
-			return(status);
-		}
-		
-		TextView getPostTitle() {
-			if (postTitle==null) {
-				postTitle=(TextView)row.findViewById(R.id.postTitle);
-			}
-			
-			return(postTitle);
-		}
-		
-		ImageView getAvatar() {
-			if (avatar==null) {
-				avatar=(ImageView)row.findViewById(R.id.avatar);
-			}
-			
-			return(avatar);
-		}
-	}
-	
-	public static String getMd5Hash(String input) {
-	    try     {
-	            MessageDigest md = MessageDigest.getInstance("MD5");
-	            byte[] messageDigest = md.digest(input.getBytes());
-	            BigInteger number = new BigInteger(1,messageDigest);
-	            String md5 = number.toString(16);
-	       
-	            while (md5.length() < 32)
-	                    md5 = "0" + md5;
-	       
-	            return md5;
-	    } catch(NoSuchAlgorithmException e) {
-	            Log.e("MD5", e.getMessage());
-	            return null;
-	    }
-	}
-	
-	interface XMLRPCMethodCallback {
-		void callFinished(Object[] result);
-	}
-
-	class XMLRPCMethod extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			
-			handler = new Handler();
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			start();
-		}
-		@Override
-		public void run() {
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object[] result = (Object[]) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-					}
-				});
-			} catch (final XMLRPCFault e) {
-				handler.post(new Runnable() {
-					public void run() {
-						pd.dismiss();
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-
-					}
-				});
-			} catch (final XMLRPCException e) {
-				handler.post(new Runnable() {
-					public void run() {
-						pd.dismiss();
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getMessage());
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                        public void onClick(DialogInterface dialog, int whichButton) {
-	                            // Just close the window.
-	                    
-	                        }
-	                    });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-						
-					}
-				});
-			}
-		}
-	}
-	
-	interface XMLRPCMethodCallbackEditComment {
-		void callFinished(Object result);
-	}
-
-	class XMLRPCMethodEditComment extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallbackEditComment callBack;
-		public XMLRPCMethodEditComment(String method, XMLRPCMethodCallbackEditComment callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			handler = new Handler();
-			
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			
-			start();
-			
-		}
-		@Override
-		public void run() {
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-						
-						callBack.callFinished(result);
-						
-					}
-				});
-			} catch (final XMLRPCFault e) {
-				handler.post(new Runnable() {
-					public void run() {
-						dismissDialog(ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-
-					}
-				});
-			} catch (final XMLRPCException e) {
-				handler.post(new Runnable() {
-					public void run() {
-
-						Throwable couse = e.getCause();
-						dismissDialog(ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getMessage());
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                        public void onClick(DialogInterface dialog, int whichButton) {
-	                            // Just close the window.
-	                    
-	                        }
-	                    });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-						
-						//Log.d("Test", "error", e);
-					}
-				});
-			}
-		}
-	}
-	
-	@Override
-	protected Dialog onCreateDialog(int id) {
-	if(id == ID_DIALOG_POSTING){
-	ProgressDialog loadingDialog = new ProgressDialog(this);
-	loadingDialog.setMessage("Moderating Comment...");
-	loadingDialog.setIndeterminate(true);
-	loadingDialog.setCancelable(false);
-	return loadingDialog;
-	}
-
-	return super.onCreateDialog(id);
-	}
-
-	@Override
-	public void onConfigurationChanged(Configuration newConfig) {
-		
-		super.onConfigurationChanged(newConfig); 
-	}
-
-
-	@Override
-	public boolean onContextItemSelected(MenuItem item) {
-
-	     /* Switch on the ID of the item, to get what the user selected. */
-	     switch (item.getItemId()) {
-	          case 0:
-	        	showDialog(ID_DIALOG_POSTING);
-	        	  new Thread() {
-	                  public void run() {
-	                	  Looper.prepare();
-				changeCommentStatus("approve", selectedID);
-	                  }
-	              }.start();
-	        	  return true;
-	          case 1:
-	        	  showDialog(ID_DIALOG_POSTING);
-	        	  new Thread() {
-	                  public void run() { 
-	                	  Looper.prepare();
-	        	  changeCommentStatus("hold", selectedID);
-	                  }
-	              }.start();
-	              
-	        	  return true;
-	          case 2:
-	        	  showDialog(ID_DIALOG_POSTING);
-	        	  new Thread() {
-	                  public void run() { 
-	                	  Looper.prepare();
-	        	  changeCommentStatus("spam", selectedID);
-	                  }
-	              }.start();
-	             return true;
-	        	  
-	     }
-	     return false;
-	}
-
-	private void changeCommentStatus(final String newStatus, final int selCommentID) {
-
-	        	//Thread t = new Thread() {
-					//public void run() {
-					//Looper.prepare();
-	    		String sSelCommentID = String.valueOf(selCommentID);
-	        	Vector settings = new Vector();
-	            settingsDB settingsDB = new settingsDB(moderateCommentsTab.this);
-	        	settings = settingsDB.loadSettings(moderateCommentsTab.this, id);
-	            
-	        	String sURL = "";
-	        	if (settings.get(0).toString().contains("xmlrpc.php"))
-	        	{
-	        		sURL = settings.get(0).toString();
-	        	}
-	        	else
-	        	{
-	        		sURL = settings.get(0).toString() + "xmlrpc.php";
-	        	}
-	    		String sUsername = settings.get(2).toString();
-	    		String sPassword = settings.get(3).toString();
-	        	
-	        	client = new XMLRPCClient(sURL);
-	        	
-	        	ListView lv = getListView(); 
-	        	
-	        	Object curListItem;
-	        	ListAdapter la = lv.getAdapter();
-	        	
-	            
-	        		HashMap contentHash, postHash = new HashMap();
-	        		contentHash = (HashMap) allComments.get(sSelCommentID);
-			        postHash.put("status", newStatus);
-			        Date d = new Date();
-			        SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");  
-			        String cDate = contentHash.get("commentDate").toString().replace("America/Los_Angeles", "GMT");
-			        try{  
-			        	d = sdf.parse(cDate);
-			        } catch (ParseException pe){  
-			            pe.printStackTrace();  
-			        }  
-			        postHash.put("date_created_gmt", d);
-			        postHash.put("content", contentHash.get("comment"));
-			        postHash.put("author", contentHash.get("author"));
-			        postHash.put("author_url", contentHash.get("url"));
-			        postHash.put("author_email", contentHash.get("email"));
-
-			        
-		        Object[] params = {
-		        		1,
-		        		sUsername,
-		        		sPassword,
-		        		sSelCommentID,
-		        		postHash
-		        };
-		        
-		        Object result = null;
-		        try {
-		    		result = (Object) client.call("wp.editComment", params);
-		    		dismissDialog(ID_DIALOG_POSTING);
-		    		Thread action = new Thread() 
-					{ 
-					  public void run() 
-					  {
-						  Toast.makeText(moderateCommentsTab.this, "Comment Moderated Succesfully", Toast.LENGTH_SHORT).show();
-					  } 
-					}; 
-					this.runOnUiThread(action);
-					Thread action2 = new Thread() 
-					{ 
-					  public void run() 
-					  {
-						  refreshComments();				  } 
-					}; 
-					this.runOnUiThread(action2);
-					
-		    	} catch (XMLRPCException e) {
-		    		dismissDialog(ID_DIALOG_POSTING);
-		    		e.printStackTrace();
-		    	}
-	        
-	        //}
-	        
-	        	
-	        	
-			//};
-			//t.start();	
-			
-			
-			
-	 
-		
-	}
-}
diff --git a/src/com/roundhill/androidWP/newAccount.java b/src/com/roundhill/androidWP/newAccount.java
deleted file mode 100644
index 8aaa82426c73..000000000000
--- a/src/com/roundhill/androidWP/newAccount.java
+++ /dev/null
@@ -1,347 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-
-package com.roundhill.androidWP;
-import java.util.HashMap;
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.ProgressDialog;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.os.Bundle;
-import android.os.Handler;
-import android.view.KeyEvent;
-import android.view.View;
-import android.view.WindowManager;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.EditText;
-import android.widget.RadioButton;
-import android.widget.RadioGroup;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-
-
-
-public class newAccount extends Activity {
-	private XMLRPCClient client;
-	public boolean success = false;
-	public ProgressDialog pd;
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		// TODO Auto-generated method stub
-		super.onCreate(savedInstanceState);
-		
-		setContentView(R.layout.newaccount);
-		
-		Spinner spinner = (Spinner)this.findViewById(R.id.maxImageWidth);
-		ArrayAdapter spinnerArrayAdapter = new ArrayAdapter<Object>(this,
-	        R.layout.spinner_textview,
-	            new String[] { "Original Size", "100", "150", "200" , "250", "300", "350", "400", "450", "500", "550", "600", "650", "700", "750", "800", "900", "950", "1000"});
-	    spinner.setAdapter(spinnerArrayAdapter);
-	    
-		TextView eulaTV = (TextView) this.findViewById(R.id.l_EULA);
-		
-		eulaTV.setOnClickListener(new Button.OnClickListener() {
-            public void onClick(View v) {
-            	
-    		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newAccount.this);
-  			  dialogBuilder.setTitle("End User License Agreement");
-              dialogBuilder.setMessage(R.string.EULA);
-              dialogBuilder.setPositiveButton("OK",  new
-            		  DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialog, int whichButton) {
-                        // just close the window.
-    
-                    }
-                });
-              dialogBuilder.setCancelable(true);
-             dialogBuilder.create().show();
-            }
-        });  
-        
-        final customButton cancelButton = (customButton) findViewById(R.id.cancel);
-        final customButton saveButton = (customButton) findViewById(R.id.save);
-        
-        saveButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	Thread action = new Thread() 
-				{ 
-				  public void run() 
-				  {
-					  pd = ProgressDialog.show(newAccount.this,
-				                "Account Setup", "Attempting to configure account", true, false);
-				  } 
-				}; 
-				runOnUiThread(action);
-                
-                //capture the entered fields *needs validation*
-                EditText urlET = (EditText)findViewById(R.id.url);
-                String blogURL = urlET.getText().toString();
-                EditText usernameET = (EditText)findViewById(R.id.username);
-                final String username = usernameET.getText().toString();
-                EditText passwordET = (EditText)findViewById(R.id.password);
-                final String password = passwordET.getText().toString();
-                
-                
-                RadioGroup imageRG = (RadioGroup)findViewById(R.id.imagePlacement);
-                RadioButton checkedRB = (RadioButton)findViewById(imageRG.getCheckedRadioButtonId());
-                final String buttonValue = checkedRB.getText().toString();
-                final boolean fullSizeImageValue = false;
-                
-                Spinner spinner = (Spinner)findViewById(R.id.maxImageWidth);
-                final String maxImageWidth = spinner.getSelectedItem().toString();
-                long maxImageWidthId = spinner.getSelectedItemId();
-                final int maxImageWidthIdInt = (int) maxImageWidthId;
-                CheckBox centerThumbnail = (CheckBox)findViewById(R.id.centerThumbnail);
-                final boolean centerThumbnailValue = centerThumbnail.isChecked();
-                //add http  or http to the beginning of the URL if needed
-                if (!(blogURL.toLowerCase().contains("http://")) && !(blogURL.toLowerCase().contains("https://"))){
-                	blogURL = "http://" + blogURL;  //default to http
-                }
-                
-                String lastChar = blogURL.substring(blogURL.length() - 1, blogURL.length());
-
-                if (lastChar.equals("/")){
-                	blogURL = blogURL.substring(0, blogURL.length() - 1);
-                }
-                
-                final String fBlogURL = blogURL + "/xmlrpc.php";
-                
-                //verify settings
-                client = new XMLRPCClient(fBlogURL);
-            	
-            	XMLRPCMethod method = new XMLRPCMethod("wp.getUsersBlogs", new XMLRPCMethodCallback() {
-    				public void callFinished(Object[] result) {
-    					String s = "done";
-    					s = result.toString();
-    					
-    					pd.dismiss();
-    					String[] blogNames = new String[100];
-    					String[] urls = new String[100];
-    					
-    					HashMap contentHash = new HashMap();
-    					    
-    					int ctr = 0;
-    					
-    					//loop this!
-    					    for (Object item : result){
-    					        contentHash = (HashMap) result[ctr];
-    					        blogNames[ctr] = contentHash.get("blogName").toString();
-    					        urls[ctr] = contentHash.get("xmlrpc").toString(); 					        
-    					        
-
-    					    String blogName = blogNames[ctr];
-    					    String blogURL = urls[ctr];
-    					    
-    					    ctr++;
-    					    
-    		                settingsDB settingsDB = new settingsDB(newAccount.this);
-    		                //settingsDB.saveSettings(newAccount.this, blogURL, username, password, buttonValue, centerThumbnailValue, fullSizeImageValue, maxImageWidth, maxImageWidthIdInt);
-    		                
-    		                //check if this blog is already set up
-    		                boolean noMatch = false;
-    		                noMatch = settingsDB.checkMatch(newAccount.this, blogName, blogURL, username);
-    		                
-    		                if (noMatch){
-    		                	AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newAccount.this);
-    							  dialogBuilder.setTitle("Account Already Exists");
-    				              dialogBuilder.setMessage("There is already a wpToGo account for this wordpress blog configured.");
-    				              dialogBuilder.setPositiveButton("Ok",  new
-    				            		  DialogInterface.OnClickListener() {
-    		                          public void onClick(DialogInterface dialog, int whichButton) {
-    		                        	  Bundle bundle = new Bundle();
-    	    	    		                
-    	    	    		                bundle.putString("returnStatus", "SAVE");
-    	    	    		                Intent mIntent = new Intent();
-    	    	    		                mIntent.putExtras(bundle);
-    	    	    		                setResult(RESULT_OK, mIntent);
-    	    	    		                finish();
-    		                      
-    		                          }
-    		                      });
-    				              dialogBuilder.setCancelable(true);
-    				             dialogBuilder.create().show();
-    				             
-    				             
-    		                }
-    		                else{
-    		                boolean success = false;
-    		                success = settingsDB.addAccount(newAccount.this, blogURL, blogName, username, password, buttonValue, centerThumbnailValue, fullSizeImageValue, maxImageWidth, maxImageWidthIdInt, false);
-    		                
-    		                // Don't forget to commit your edits!!!
-    		               // editor.commit();
-    		                
-    		                }
-    		                
-    				} //end loop
-    					    
-    					    if (success){
-    		                	Toast.makeText(newAccount.this, "Account/Blog added successfully!",
-    		                            Toast.LENGTH_SHORT).show();
-
-    		                }
-    		                else{
-    		               /* 	AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newAccount.this);
-  							  dialogBuilder.setTitle("Error Creating Account");
-  				              dialogBuilder.setMessage("Something bad happened while trying to create your local account.  Please check your settings and try again.");
-  				              dialogBuilder.setPositiveButton("Ok",  new
-  				            		  DialogInterface.OnClickListener() {
-  		                          public void onClick(DialogInterface dialog, int whichButton) {
-  		                              // Just close the window.
-  		                      
-  		                          }
-  		                      });
-  				              dialogBuilder.setCancelable(true);
-  				             dialogBuilder.create().show();*/
-    		                }
-    			      
-    					    Bundle bundle = new Bundle();
-    		                
-    		                bundle.putString("returnStatus", "SAVE");
-    		                Intent mIntent = new Intent();
-    		                mIntent.putExtras(bundle);
-    		                setResult(RESULT_OK, mIntent);
-    		                finish();
-    			        
-    				}
-    	        });
-    	        Object[] params = {
-    	        		username,
-    	        		password
-    	        };
-    	        
-    	        
-    	        method.call(params);
-                
-                
-            }
-        });   
-        
-        cancelButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	 Bundle bundle = new Bundle();
-                 
-                 bundle.putString("returnStatus", "CANCEL");
-                 Intent mIntent = new Intent();
-                 mIntent.putExtras(bundle);
-                 setResult(RESULT_OK, mIntent);
-                 finish();
-            }
-        });
-        
-        
-        
-     
-	}
-	
-	@Override public boolean onKeyDown(int i, KeyEvent event) {
-
-		  // only intercept back button press
-		  if (i == KeyEvent.KEYCODE_BACK) {
-         	 Bundle bundle = new Bundle();
-             
-             bundle.putString("returnStatus", "CANCEL");
-             Intent mIntent = new Intent();
-             mIntent.putExtras(bundle);
-             setResult(RESULT_OK, mIntent);
-             finish();
-		  }
-
-		  return false; // propagate this keyevent
-		}
-	
-	interface XMLRPCMethodCallback {
-		void callFinished(Object[] result);
-	}
-
-	class XMLRPCMethod extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			handler = new Handler();
-			
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			start();
-		}
-		@Override
-		public void run() {
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object[] result;
-				result = (Object[]) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-						callBack.callFinished(result);
-					}
-				});
-			} catch (final XMLRPCFault e) {
-				handler.post(new Runnable() {
-					public void run() {
-						e.printStackTrace();
-						pd.dismiss();
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newAccount.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("OK",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-					}
-				});        
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						Throwable couse = e.getCause();
-						e.printStackTrace();
-						pd.dismiss();
-						if (couse instanceof HttpHostConnectException) {
-							//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-						} else {
-							AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newAccount.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-				              dialogBuilder.setPositiveButton("OK",  new
-				            		  DialogInterface.OnClickListener() {
-		                          public void onClick(DialogInterface dialog, int whichButton) {
-		                              // Just close the window.
-		                      
-		                          }
-		                      });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-						}
-						e.printStackTrace();
-						
-					}
-				});
-			}	
-		}
-		
-	}
-}
diff --git a/src/com/roundhill/androidWP/newPost.java b/src/com/roundhill/androidWP/newPost.java
deleted file mode 100644
index 8c2f8743dfa3..000000000000
--- a/src/com/roundhill/androidWP/newPost.java
+++ /dev/null
@@ -1,1244 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.io.ByteArrayOutputStream;
-import java.io.DataInputStream;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileNotFoundException;
-import java.io.FilenameFilter;
-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.Map;
-import java.util.Vector;
-import android.net.ConnectivityManager;
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ProgressDialog;
-import android.content.ContentUris;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.database.Cursor;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Matrix;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.os.Looper;
-import android.provider.MediaStore.Images;
-import android.text.Editable;
-import android.text.Selection;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.widget.AdapterView;
-import android.widget.ArrayAdapter;
-import android.widget.BaseAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.EditText;
-import android.widget.GridView;
-import android.widget.ImageButton;
-import android.widget.ImageView;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemSelectedListener;
-
-
-public class newPost extends Activity {
-    /** Called when the activity is first created. */
-	public static long globalData = 0;
-	public ProgressDialog pd, imagePD;
-	public boolean postStatus = false;
-	String[] mFiles=null;
-	public String thumbnailPath = null;
-	public String imagePath = null;
-	public String imageTitle = null;
-	public Vector imageUrl = new Vector();
-	public Vector thumbnailUrl = new Vector();
-	private final Handler mHandler = new Handler();
-	public String finalResult = null;
-	Vector selectedCategories = new Vector();
-	public ArrayList<CharSequence> textArray = new ArrayList<CharSequence>();
-	public ArrayList<CharSequence> loadTextArray = new ArrayList<CharSequence>();
-	public Boolean newStart = true;
-	public String categoryErrorMsg = "";
-	private XMLRPCClient client;
-	public String id = "";
-	private Vector<Uri> selectedImageIDs = new Vector();
-	private int selectedImageCtr = 0;
-    private String newID = "";
-    private String accountName = "";
-    public int ID_DIALOG_POSTING = 1;
-    public String sMaxImageWidth = "";
-    public boolean centerThumbnail = false;
-    public String sImagePlacement = "";
-    public String content = "";
-    public boolean sFullSizeImage  = false;
-    String finalThumbURL = "";
-    public int imgLooper;
-    public String imageContent = "";
-    public String imgHTML = "";
-    public boolean thumbnailOnly, secondPass, xmlrpcError = false;
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        setContentView(R.layout.main);	
-        
-        
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-        }
-        
-        this.setTitle(accountName + " - New Post");
-        
-        //loads the categories from the db if they exist
-        loadCategories();
-        
-        //clear up some variables
-        selectedImageIDs.clear();
-        selectedImageCtr = 0;
-        
-        Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-        
-       
-        spinner.setOnItemSelectedListener(new OnItemSelectedListener(){
-            public void onItemSelected(AdapterView parent, View v,
-                      int position, long id) {
-            	
-            	
-            	if (newStart != true)
-            	{
-                	String selectedItem = parent.getItemAtPosition(position).toString();	
-                	TextView selectedCategoriesTV = (TextView) findViewById(R.id.selectedCategories);
-                	if (!selectedCategories.contains(selectedItem))
-                	{
-                	selectedCategoriesTV.setText(selectedCategoriesTV.getText().toString() + selectedItem + ", ");
-                	selectedCategories.add(selectedItem);
-                	}
-            	}
-            	else
-            	{
-            		newStart = false;
-            	}
-            }
-
-            public void onNothingSelected(AdapterView arg0) {
-                 
-            }
-     }); 
-        
-        
-        
-        final customButton postButton = (customButton) findViewById(R.id.post);
-        
-        postButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-
-            	boolean result = savePost();
-            	
-            	if (result){
-            		Intent intent = new Intent(newPost.this, tabView.class);
-                    intent.putExtra("id", id);
-                    intent.putExtra("accountName", accountName);
-                    intent.putExtra("activateTab", "drafts");
-                    startActivity(intent);
-
-              	  	Toast.makeText(newPost.this, "Saved to local drafts", Toast.LENGTH_SHORT).show();
-                    finish();
-            	}
-	
-            }
-        });
-        final ImageButton refreshCategoriesButton = (ImageButton) findViewById(R.id.refreshCategoriesButton);
-        
-        refreshCategoriesButton.setOnClickListener(new Button.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	pd = ProgressDialog.show(newPost.this,
-                        "Refreshing Categories", "Attempting to refresh categories from the wordpress site...", true, true);
-            	Thread th = new Thread() {
-    				public void run() {					
-    				    finalResult = getCategories();	
-    				    
-    				    mHandler.post(mUpdateResults);
-    				    
-    				}
-    			};
-    			th.start();
-            }
-    });
-        
-            final customButton addPictureButton = (customButton) findViewById(R.id.addPictureButton);   
-            
-            addPictureButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent photoPickerIntent = new
-                	Intent(Intent.ACTION_PICK);
-                	photoPickerIntent.setType("image/*");
-                	
-                	startActivityForResult(photoPickerIntent, 1); 
-                	 
-                }
-        });
-            
-            final customButton clearCategories = (customButton) findViewById(R.id.clearCategories);   
-            
-            clearCategories.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView selectedCategoriesTV = (TextView) findViewById(R.id.selectedCategories);
-
-                	selectedCategoriesTV.setText("Selected categories: ");
-                	
-                	selectedCategories.clear();
-                }
-        });
-            
-final customButton boldButton = (customButton) findViewById(R.id.bold);   
-            
-            boldButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text first in order to bold it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<strong>" + textToBold + "</strong>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                		
-                	}
-                }
-        });
-
-            final customButton linkButton = (customButton) findViewById(R.id.link);   
-            
-linkButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text first in order to link it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		Intent i = new Intent(newPost.this, link.class);
-
-                    	startActivityForResult(i, 2);
-                	}    	
-            
-        	
-        	
-        	
-               }
-            });
-            
-            
-final customButton emButton = (customButton) findViewById(R.id.em);   
-            
-            emButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text in order to emphasize it. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<em>" + textToBold + "</em>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                	}
-                }
-        });
-            
-final customButton bquoteButton = (customButton) findViewById(R.id.bquote);   
-            
-            bquoteButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	 
-                	TextView contentText = (TextView) findViewById(R.id.content);
-
-                	int selectionStart = contentText.getSelectionStart();
-                	
-                	int selectionEnd = contentText.getSelectionEnd();
-                	
-                	if (selectionStart > selectionEnd){
-                		int temp = selectionEnd;
-                		selectionEnd = selectionStart;
-                		selectionStart = temp;
-                	}
-                	
-                	if (selectionStart == -1 || selectionStart == contentText.getText().toString().length() || (selectionStart == selectionEnd)){
-                		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-          			  dialogBuilder.setTitle("No text selected");
-                      dialogBuilder.setMessage("Please select some text in order to place it in a blockquote. You can select text by holding the shift key and scrolling.");
-                      dialogBuilder.setPositiveButton("OK",  new
-                    		  DialogInterface.OnClickListener() {
-                            public void onClick(DialogInterface dialog, int whichButton) {
-                                // just close the dialog
-                            	
-                        
-                            }
-                        });
-                      dialogBuilder.setCancelable(true);
-                     dialogBuilder.create().show();
-                	}
-                	else
-                	{
-                		String textToBold = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-                		textToBold = "<blockquote>" + textToBold + "</blockquote>";
-                		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-                		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-                		contentText.setText(firstHalf + textToBold + lastHalf);
-                		Editable etext = (Editable) contentText.getText();
-                		Selection.setSelection(etext, selectionStart + textToBold.length());
-                	}
-                }
-        });
-            
-final customButton clearPictureButton = (customButton) findViewById(R.id.clearPicture);   
-            
-			clearPictureButton.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-
-			        imageUrl.clear();
-			        thumbnailUrl.clear();
-			        selectedImageIDs.clear();
-			        selectedImageCtr = 0;
-			        GridView gridview = (GridView) findViewById(R.id.gridView);
-			     	 gridview.setAdapter(null);
-                	         	
-                }
-        });            
-          
-            
-            
-    }
-    
-    public void loadCategories(){
-    	//for loading categories from the DB
-    	categoriesDB categoriesDB = new categoriesDB(this);
-    	Vector categoriesVector = categoriesDB.loadCategories(this, id);
-    	if (categoriesVector != null)
-    	{
-
-	    	for(int i=0; i < categoriesVector.size(); i++)
-	        {
-	    		loadTextArray.add(categoriesVector.get(i).toString());
-	        }
-	    	
-	    	Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-	        ArrayAdapter<CharSequence> aspnCountries = new ArrayAdapter<CharSequence>(newPost.this, R.layout.spinner_textview, loadTextArray);
-	        
-	          aspnCountries.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-	          
-	          spinner.setAdapter(aspnCountries);    
-    	}
-    	
-    }
-    
-    public String getCategories(){
-    	
-    	//gets the categories via xmlrpc call to wp blog
-    	Vector res;
-        String returnMessage = "";
-
-        //check for the settings
-        boolean enteredSettings = checkSettings();
-
-        if (!enteredSettings){
-        	returnMessage = "invalidSettings";
-        }
-        else{
-        	settingsDB settingsDB = new settingsDB(this);
-        	Vector categoriesVector = settingsDB.loadSettings(this, id);
-        	
-        	
-	        	String sURL = "";
-	        	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-	        	{
-	        		sURL = categoriesVector.get(0).toString();
-	        	}
-	        	else
-	        	{
-	        		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-	        	}
-        		String sUsername = categoriesVector.get(2).toString();
-        		String sPassword = categoriesVector.get(3).toString();
-        	
-
-        
-        	Object result[] = null;
-        	
-        	Object[] params = {
-            		1,
-            		sUsername,
-            		sPassword,
-            };
-        	
-            client = new XMLRPCClient(sURL);
-            
-            try {
-				result = (Object[]) client.call("wp.getCategories", params);
-			} catch (XMLRPCException e) {
-				// TODO Auto-generated catch block
-				e.getMessage();
-				e.printStackTrace();
-				res = null;
-			}
-								   
-        
-        
-       // HashMap categoryNames = (HashMap) result[0];
-        
-            //Vector categoryIds = (Vector) result;
-            
-            int size = result.length;
-            
-            //initialize database
-            categoriesDB categoriesDB = new categoriesDB(this);
-            //wipe out the categories table
-            categoriesDB.clearCategories(this, id);
-            
-            for(int i=0; i<size; i++)
-            {
-              HashMap curHash = (HashMap) result[i];
-              
-              String categoryName = curHash.get("categoryName").toString();
-              String categoryID = curHash.get("categoryId").toString();
-              
-              int convertedCategoryID = Integer.parseInt(categoryID);
-              
-              categoriesDB.insertCategory(this, id, convertedCategoryID, categoryName);
-              
-              //populate the spinner with the category names
-              
-              textArray.add(categoryName);
-              
-            }
-            
-            returnMessage = "gotCategories";
-            newStart = true;
-        
-        
-        } //end valid url
-        return returnMessage;
-    	
-    }
-    
-    
-	public boolean savePost() {
-		
-		
-		//grab the form data
-        EditText titleET = (EditText)findViewById(R.id.title);
-        String title = titleET.getText().toString();
-        EditText contentET = (EditText)findViewById(R.id.content);
-        String content = contentET.getText().toString();
-        EditText tagsET = (EditText)findViewById(R.id.tags);
-        String tags = tagsET.getText().toString();
-        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-        boolean publishThis = false;
-        String images = "";
-        String categories = "";
-        boolean success = false;
-        
-
-        Integer blogID = 1; //never changes with wordpress, so far
-        
-        Vector<Object> myPostVector = new Vector<Object> ();
-        String res = null;
-        //before we do anything, validate that the user has entered settings
-        boolean enteredSettings = checkSettings();
-        
-        if (!enteredSettings){
-        	res = "invalidSettings";
-        }
-        else if (title.equals("") || content.equals(""))
-        {
-        	res = "emptyFields";
-        }
-        else {
-        
-        	//upload the images and return the HTML
-        	for (int it = 0; it < selectedImageCtr; it++){
-           
-        		images += selectedImageIDs.get(it).toString() + ",";
-        		//imageContent +=  uploadImage(selectedImageIDs.get(it).toString());
-
-        	}
-        	Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-        
-        	int itemCount = spinner.getCount();
-        	String selectedCategory = "Uncategorized";
-        	if (itemCount != 0){
-        		selectedCategory = spinner.getSelectedItem().toString();
-        	}
-        
-        	// categoryID = getCategoryId(selectedCategory);
-        	String[] theCategories = new String[selectedCategories.size()];
-        
-        	int catSize = selectedCategories.size();
-        
-        	for(int i=0; i < selectedCategories.size(); i++)
-        	{
-        		categories += selectedCategories.get(i).toString() + ",";
-        		//theCategories[i] = selectedCategories.get(i).toString();
-        	}
-        
-        	if (publishCB.isChecked())
-        	{
-        		publishThis = true;
-        	}
-        
-        	//new feature, automatically save a post as a draft just in case the posting fails
-        	localDraftsDB lDraftsDB = new localDraftsDB(this);
-        	success = lDraftsDB.saveLocalDraft(this, id, title, content, images, tags, categories, publishThis);
-        
-        
-        }// if/then for valid settings
-        
-		return success;
-	}
-	
-	public boolean checkSettings(){
-		//see if the user has any saved preferences
-		 settingsDB settingsDB = new settingsDB(this);
-	    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-	    	String sURL = null, sUsername = null, sPassword = null;
-	    	if (categoriesVector != null){
-	    		sURL = categoriesVector.get(0).toString();
-	    		sUsername = categoriesVector.get(1).toString();
-	    		sPassword = categoriesVector.get(2).toString();
-	    	}
- 
-        boolean validSettings = false;
-        
-        if ((sURL != "" && sUsername != "" && sPassword != "") && (sURL != null && sUsername != null && sPassword != null)){
-        	validSettings = true;
-        }
-        
-        return validSettings;
-	}
-	
-
-    
-    class ImageFilter implements FilenameFilter
-    {
-    public boolean accept(File dir, String name)
-    {
-        return (name.endsWith(".jpg"));
-    }
-    }
-    
-
-
-	
-	interface XMLRPCMethodCallback {
-		void callFinished(Object result);
-	}
-
-	class XMLRPCMethod extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			
-			handler = new Handler();
-			
-		}
-		public void call() {
-			call(null);
-		}
-		public void call(Object[] params) {
-			this.params = params;
-			start();
-		}
-		@Override
-		public void run() {
-			
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object result;
-				result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-					}
-				});
-			} catch (final XMLRPCFault e) {
-						//pd.dismiss();
-						dismissDialog(newPost.this.ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("Ok",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-			             
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						
-						Throwable couse = e.getCause();
-						if (couse instanceof HttpHostConnectException) {
-							//pd.dismiss();
-							dismissDialog(newPost.this.ID_DIALOG_POSTING);
-							//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-						} else {
-							//pd.dismiss();
-							AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                          public void onClick(DialogInterface dialog, int whichButton) {
-		                              // Just close the window.
-		                      
-		                          }
-		                      });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-						}
-						//Log.d("Test", "error", e);
-						
-					}
-				});
-			}
-			
-		}
-	}
-	
-	class XMLRPCMethodImages extends Thread {
-		private String method;
-		private Object[] params;
-		private Handler handler;
-		private XMLRPCMethodCallback callBack;
-		public XMLRPCMethodImages(String method, XMLRPCMethodCallback callBack) {
-			this.method = method;
-			this.callBack = callBack;
-			
-			//handler = new Handler();
-			
-		}
-		public void call() throws InterruptedException {
-			call(null);
-		}
-		public void call(Object[] params) throws InterruptedException {		
-			this.params = params;
-			this.method = method;
-			//start();
-			//join();
-			final Object result;
-			try {
-				result = (Object) client.call(method, params);
-				callBack.callFinished(result);
-			} catch (XMLRPCException e) {
-				xmlrpcError = true;
-				e.printStackTrace();
-			}
-		}
-		@Override
-		public void run() {
-			
-			try {
-				final long t0 = System.currentTimeMillis();
-				final Object result;
-				result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
-				handler.post(new Runnable() {
-					public void run() {
-
-						callBack.callFinished(result);
-					
-					
-					}
-				});
-			} catch (final XMLRPCFault e) {
-						//pd.dismiss();
-						dismissDialog(newPost.this.ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getFaultString());
-			              dialogBuilder.setPositiveButton("Ok",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-			             
-					
-			} catch (final XMLRPCException e) {
-				
-				handler.post(new Runnable() {
-					public void run() {
-						
-						Throwable couse = e.getCause();
-						if (couse instanceof HttpHostConnectException) {
-							dismissDialog(newPost.this.ID_DIALOG_POSTING);
-						} else {
-							AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                          public void onClick(DialogInterface dialog, int whichButton) {
-		                              // Just close the window.
-		                      
-		                          }
-		                      });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-						}
-						//Log.d("Test", "error", e);
-						
-					}
-				});
-			}
-			
-		}
-	}
-	
-	
-	public class ImageAdapter extends BaseAdapter {
-	    private Context mContext;
-
-	    public ImageAdapter(Context c) {
-	        mContext = c;
-	    }
-
-	    public int getCount() {
-	        return selectedImageIDs.size();
-	    }
-
-	    public Object getItem(int position) {
-	        return null;
-	    }
-
-	    public long getItemId(int position) {
-	        return 0;
-	    }
-
-	    // create a new ImageView for each item referenced by the Adapter
-	    public View getView(int position, View convertView, ViewGroup parent) {
-	        ImageView imageView;
-	        if (convertView == null) {  // if it's not recycled, initialize some attributes
-	            imageView = new ImageView(mContext);
-	            imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
-	            imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
-	            imageView.setPadding(8, 8, 8, 8);
-	        } else {
-	            imageView = (ImageView) convertView;
-	        }
-	        Uri tempURI = (Uri) selectedImageIDs.get(position);
-	     	   
-	        String[] projection = new String[] {
-	      		    Images.Thumbnails._ID,
-	      		    Images.Thumbnails.DATA
-	      		};
-	     	   
-			Cursor cur = managedQuery(tempURI, projection, null, null, null);
-	     	  String thumbData = "";
-	     	 
-	     	  if (cur.moveToFirst()) {
-	     		  
-	     		int nameColumn, dataColumn, heightColumn, widthColumn;
-	     		
-	     			nameColumn = cur.getColumnIndex(Images.Media._ID);
-	     	        dataColumn = cur.getColumnIndex(Images.Media.DATA);
-	     		             	            
-	           
-	           thumbData = cur.getString(dataColumn);
-
-	     	  }
-	     	   
-	     	   File jpeg = new File(thumbData);
-	     	   
-	     	   imageTitle = jpeg.getName();
-	     	  
-	     	   byte[] bytes = new byte[(int) jpeg.length()];
-	     	   
-	     	   DataInputStream in = null;
-			try {
-				in = new DataInputStream(new FileInputStream(jpeg));
-			} catch (FileNotFoundException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-	     	   try {
-				in.readFully(bytes);
-			} catch (IOException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-	     	   try {
-				in.close();
-			} catch (IOException e) {
-				// TODO Auto-generated catch block
-				e.printStackTrace();
-			}
-			
-			//create the thumbnail
-			
-			BitmapFactory.Options opts = new BitmapFactory.Options();
-	        opts.inJustDecodeBounds = true;
-	        Bitmap bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-	        
-	        int width = opts.outHeight;
-	        int height = opts.outWidth;
-	        
-	        float percentage = (float) 100 / width;
-       		float proportionateHeight = height * percentage;
-       		int finalHeight = (int) Math.rint(proportionateHeight);
-
-	        
-	     // calculate the scale - in this case = 0.4f
-	        float scaleWidth = ((float) 100) / width;
-	        float scaleHeight = ((float) finalHeight) / height;
-	       
-	        float finWidth = 200;
-    		int sample = 0;
-
-    		float fWidth = width;
-            sample= new Double(Math.ceil(fWidth / finWidth)).intValue();
-            
-    		if(sample == 3){
-                sample = 4;
-    		}
-    		else if(sample > 4 && sample < 8 ){
-                sample = 8;
-    		}
-	        
-    		opts.inSampleSize = sample;
-	        opts.inJustDecodeBounds = false;
-	        
-	        Bitmap resizedBitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts); 
-	        
-	        imageView.setImageBitmap(resizedBitmap);
-	        
-	        //resizedBitmap.recycle(); //free up memory
-	        
-	        return imageView;
-	    }
-	    
-	}
-
-	@Override
-	protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-		// TODO Auto-generated method stub
-		super.onActivityResult(requestCode, resultCode, data);
-		if (data != null)
-		{
-
-		Bundle extras = data.getExtras();
-
-		switch(requestCode) {
-		case 0:
-		    String title = extras.getString("returnStatus");
-		    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-		    break;
-		case 1:
-		    Uri imagePath = data.getData();   
-		    String imgPath2 = imagePath.getEncodedPath();
-		   
-	           
-	           //for gridview
-	           selectedImageIDs.add(selectedImageCtr, imagePath);
-	           //for submission
-	           imageUrl.add(selectedImageCtr, imgPath2);
-	           //thumbnailUrl.add(selectedImageCtr, Images.Thumbnails.EXTERNAL_CONTENT_URI.toString() + "/" + thumbIdString);
-	           //new
-	           //thumbnailUrl.add(selectedImageCtr, thumbPath);
-	           selectedImageCtr++;
-	           //thumbData = cur.getString(dataColumn);
-	     	 // }
-	     	  
-	     	 GridView gridview = (GridView) findViewById(R.id.gridView);
-	     	 gridview.setAdapter(new ImageAdapter(this));
-
-		    
-		    break;
-		case 2:
-			String linkText = extras.getString("linkText");
-			if (linkText.equals("http://") != true){
-				
-			
-			if (linkText.equals("CANCEL") != true){
-
-			TextView contentText = (TextView) findViewById(R.id.content);
-
-        	int selectionStart = contentText.getSelectionStart();
-        	
-        	int selectionEnd = contentText.getSelectionEnd();
-        	
-        	if (selectionStart > selectionEnd){
-        		int temp = selectionEnd;
-        		selectionEnd = selectionStart;
-        		selectionStart = temp;
-        	}
-        	
-			String textToLink = contentText.getText().toString().substring(selectionStart, selectionEnd); 
-    		textToLink = "<a href=\"" + linkText + "\">"+ textToLink + "</a>";
-    		String firstHalf = contentText.getText().toString().substring(0, selectionStart);
-    		String lastHalf = contentText.getText().toString().substring(selectionEnd, contentText.getText().toString().length());
-    		contentText.setText(firstHalf + textToLink + lastHalf);
-    		Editable etext = (Editable) contentText.getText(); 
-    		Selection.setSelection(etext, selectionStart + textToLink.length());
-			}
-			}
-			break;
-		case 3:
-			String saveName = extras.getString("saveName");
-			
-			if (saveName.equals("CANCEL") != true && saveName.equals("") != true && saveName.equals(null) != true){
-				
-		        EditText titleET = (EditText)findViewById(R.id.title);
-		        String postTitle = titleET.getText().toString();
-		        EditText contentET = (EditText)findViewById(R.id.content);
-		        String postContent = contentET.getText().toString();
-
-		        TextView categoriesTV = (TextView)findViewById(R.id.selectedCategories);
-			    String categoriesValue = categoriesTV.getText().toString();
-		        	
-		        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-		        boolean publish = publishCB.isChecked();
-			        
-                savedPostsDB postsDB = new savedPostsDB(newPost.this);
-                boolean savePostResult = postsDB.savePost(this, saveName, id, postTitle, postContent, categoriesValue, publish);	        	
-		        if (savePostResult == false){
-		        	AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-					  dialogBuilder.setTitle("Post Not Saved");
-		              dialogBuilder.setMessage("Duplicate post save names were found. Please save your posts with unique names.");
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            //Just close the window
-
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-		        }
-					
-			}
-			break;
-		case 4:
-			String selectedPostID = extras.getString("selectedSaveName");
-			
-				
-				if (selectedPostID.equals("noPostsFound") != true && selectedPostID.equals("CANCEL") != true){
-					savedPostsDB postsDB2 = new savedPostsDB(newPost.this);
-					Vector postFields = postsDB2.loadPost(this, selectedPostID, id);
-					EditText titleET = (EditText)findViewById(R.id.title);
-			        EditText contentET = (EditText)findViewById(R.id.content);
-			        TextView categoriesTV = (TextView)findViewById(R.id.selectedCategories);
-			        	
-			        CheckBox publishCB = (CheckBox)findViewById(R.id.publish);
-			        
-			        titleET.setText(postFields.get(0).toString());
-			        contentET.setText(postFields.get(1).toString());
-			        if (postFields.get(2) != null)
-			        {
-			        	categoriesTV.setText(postFields.get(2).toString());
-			        }
-			        else
-			        {
-			        	categoriesTV.setText("Selected categories: ");
-			        }
-			        
-			        boolean publish  = false;
-			        if (postFields.get(3) != null)
-			        {
-		    		if (postFields.get(3).equals("1")){
-		    			publish = true;
-		    		}
-			        }
-			        publishCB.setChecked(publish);
-	
-				    	//get rid of the thumbnail
-			        
-			        selectedImageIDs.clear();
-   
-				}
-				else if (selectedPostID.equals("CANCEL"))
-				{
-					//don't do anything
-				}
-				else
-				{
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-					  dialogBuilder.setTitle("No Posts Found");
-		              dialogBuilder.setMessage("No saved posts were found.");
-		              dialogBuilder.setPositiveButton("OK",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              //Just close the window
-
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-				}
-		        
-		        break;
-		}
-	}//end null check
-	}
-	
-	final Runnable mUpdateResults = new Runnable() {
-		public void run() {
-			if (finalResult.equals("gotCategories"))
-			{
-		        Spinner spinner = (Spinner) findViewById(R.id.spinner1);
-		        ArrayAdapter<CharSequence> categories = new ArrayAdapter<CharSequence>(newPost.this, R.layout.spinner_textview, textArray);
-		        
-		        textArray = new ArrayList<CharSequence>();
-		        
-		          categories.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-		         
-
-		          spinner.setAdapter(categories);
-		          if (pd.isShowing()){
-						pd.dismiss();
-						}
-		         
-				Toast.makeText(newPost.this, "Categories refreshed!", Toast.LENGTH_SHORT).show();
-			}
-			else if (finalResult.equals("categoryFault")){
-				if (pd.isShowing()){
-					pd.dismiss();
-					}	
-				
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Category Refresh Error");
-				              dialogBuilder.setMessage(categoryErrorMsg);
-				              dialogBuilder.setPositiveButton("Ok",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // Just close the window.
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("invalidSettings")){
-				dismissDialog(newPost.this.ID_DIALOG_POSTING);
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Settings not found!");
-				              dialogBuilder.setMessage("Some required settings were not found.  Load settings now?");
-				              dialogBuilder.setPositiveButton("Yes",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // User clicked Yes so delete the contexts.
-		                            	Intent i = new Intent(newPost.this, settings.class);
-
-		                            	startActivityForResult(i, 0);
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setNegativeButton("No", new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                // User clicked No so don't delete (do nothing).
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("emptyFields")){
-
-				dismissDialog(newPost.this.ID_DIALOG_POSTING);
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Empty Fields");
-				              dialogBuilder.setMessage("Title and Post are required fields. Please enter something to your post before submitting!");
-				              dialogBuilder.setPositiveButton("OK",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                //Just close the window
-
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("noConnection")){
-
-				dismissDialog(newPost.this.ID_DIALOG_POSTING);
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-							  dialogBuilder.setTitle("Connection Error");
-				              dialogBuilder.setMessage("A connection error as orrcured. Please try again later.");
-				              dialogBuilder.setPositiveButton("OK",  new
-				            		  DialogInterface.OnClickListener() {
-		                            public void onClick(DialogInterface dialog, int whichButton) {
-		                                //Just close the window
-
-		                        
-		                            }
-		                        });
-				              dialogBuilder.setCancelable(true);
-				             dialogBuilder.create().show();
-			
-			}
-			else if (finalResult.equals("OK"))
-			{
-
-				dismissDialog(newPost.this.ID_DIALOG_POSTING);
-				AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(newPost.this);
-				  dialogBuilder.setTitle("Post Added");
-				  if (xmlrpcError){
-					  dialogBuilder.setMessage("Post ID# " + newID + " added successfully, but an error was encountered when uploading images");  
-				  }
-				  else{
-	              dialogBuilder.setMessage("Post ID# " + newID + " added successfully");
-				  }
-	              dialogBuilder.setPositiveButton("OK",  new
-	            		  DialogInterface.OnClickListener() {
-                      public void onClick(DialogInterface dialog, int whichButton) {
-                    	  finish();
-                          
-                      }
-                  });
-	              dialogBuilder.setCancelable(true);
-	             dialogBuilder.create().show();
-			}
-		}
-	};
-	
-	@Override
-	protected Dialog onCreateDialog(int id) {
-	if(id == ID_DIALOG_POSTING){
-	ProgressDialog loadingDialog = new ProgressDialog(this);
-	loadingDialog.setMessage("Attempting to add post...");
-	loadingDialog.setIndeterminate(true);
-	loadingDialog.setCancelable(true);
-	return loadingDialog;
-	}
-
-	return super.onCreateDialog(id);
-	}
-	
-}
-
-
-
-
-
diff --git a/src/com/roundhill/androidWP/notificationSettings.java b/src/com/roundhill/androidWP/notificationSettings.java
deleted file mode 100644
index 2b0b42efd14e..000000000000
--- a/src/com/roundhill/androidWP/notificationSettings.java
+++ /dev/null
@@ -1,262 +0,0 @@
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-import org.apache.commons.*;
-import android.app.Activity;
-import android.app.AlarmManager;
-import android.app.AlertDialog;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.content.ComponentName;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.database.sqlite.SQLiteDatabase;
-import android.database.sqlite.SQLiteOpenHelper;
-import android.database.sqlite.SQLiteDatabase.CursorFactory;
-import android.graphics.Color;
-import android.net.Uri;
-import android.os.Bundle;
-import android.util.Log;
-import android.view.ContextMenu;
-import android.view.Gravity;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.view.ViewGroup.LayoutParams;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.LinearLayout;
-import android.widget.ScrollView;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-
-
-public class notificationSettings extends Activity {
-    /** Called when the activity is first created. */
-	public Vector accounts;
-	public Vector accountNames = new Vector();
-	private String selectedID = "";
-	public int checkCtr = 0;
-	protected static Intent svc = null;
-	
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        displayAccounts();
-
-    }
-    
-public void displayAccounts(){
-	//settings time!
-    final settingsDB settingsDB = new settingsDB(this);
-	accounts = settingsDB.getAccounts(this);
-	
-	
-	if (accounts.size() > 0){
-		ScrollView sv = new ScrollView(this);
-		sv.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
-                LayoutParams.WRAP_CONTENT));
-		sv.setBackgroundColor(Color.parseColor("#e8e8e8"));
-		LinearLayout layout = new LinearLayout(this);
-		
-		layout.setPadding(10, 10, 10, 0);
-		layout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
-                LayoutParams.WRAP_CONTENT));
-
-		layout.setOrientation(LinearLayout.VERTICAL);
-		layout.setGravity(Gravity.LEFT);
-		
-		final LinearLayout cbLayout = new LinearLayout(this);
-		
-		cbLayout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
-                LayoutParams.WRAP_CONTENT));
-
-		cbLayout.setOrientation(LinearLayout.VERTICAL);
-		
-        TextView textView = new TextView(this);
-        textView.setTextColor(Color.parseColor("#444444"));
-        textView.setTextSize(12);
-        textView.setPadding(0, 20, 0, 0);
-        textView.setGravity(Gravity.CENTER_HORIZONTAL);
-        textView.setText("Select which blogs to receive comment notifications:");
-
-        layout.addView(textView);
-        
-        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams 
-        (LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
-        
-        for (int i = 0; i < accounts.size(); i++) {
-            
-        	HashMap curHash = (HashMap) accounts.get(i);
-        	String curBlogName = curHash.get("blogName").toString();
-        	String curUsername = curHash.get("username").toString();
-        	String accountID = curHash.get("id").toString();
-        	int runService = Integer.valueOf(curHash.get("runService").toString());
-        	accountNames.add(i, curBlogName);
-        	cbLayout.setBackgroundColor(Color.parseColor("#e8e8e8"));
-            
-            final CheckBox checkBox = new CheckBox(this);
-            checkBox.setTextColor(Color.parseColor("#444444"));
-            checkBox.setTextSize(18);
-            checkBox.setText(escapeUtils.unescapeHtml(curBlogName));
-            checkBox.setId(Integer.valueOf(accountID));
-            params.setMargins(0, 0, 0, 6);
-            checkBox.setButtonDrawable(R.layout.btn_check);
-            checkBox.setLayoutParams(params);
-            
-            if (runService == 1){
-            	checkBox.setChecked(true);
-            }
-
-            cbLayout.addView(checkBox);  
-        } 
-        
-        if (cbLayout.getChildCount() > 0){
-        	layout.addView(cbLayout);
-        }
-        
-        //add spinner and buttons
-        TextView textView2 = new TextView(this);
-        textView2.setTextColor(Color.parseColor("#444444"));
-        textView2.setTextSize(12);
-        textView2.setPadding(0, 20, 0, 0);
-        textView2.setGravity(Gravity.CENTER_HORIZONTAL);
-        textView2.setText("Update interval:");
-
-        layout.addView(textView2);
-        
-        final Spinner sInterval = new Spinner(this);
-        sInterval.setLayoutParams(params);
-        sInterval.setBackgroundResource(R.layout.spinner_selector);
-	    ArrayAdapter<Object> sIntervalArrayAdapter = new ArrayAdapter<Object>(this,
-	    		R.layout.spinner_textview,
-	            new String[] { "5 Minutes", "10 Minutes", "15 Minutes", "30 Minutes" , "1 Hour", "3 Hours", "6 Hours", "12 Hours", "Daily"});
-	    sInterval.setAdapter(sIntervalArrayAdapter);
-	    
-	    String interval = settingsDB.getInterval(this);
-	    
-	    if (interval != ""){
-            sInterval.setSelection(sIntervalArrayAdapter.getPosition(interval));
-	    }
-	    
-	    layout.addView(sInterval);
-	    
-	    LinearLayout.LayoutParams params2 = new LinearLayout.LayoutParams 
-        (LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.FILL_PARENT);
-	    
-	    final customButton save = new customButton(this);
-	    save.setLayoutParams(params2);
-	    save.setTextColor(Color.parseColor("#444444"));
-        save.setTextSize(18);
-        save.setWidth(80);
-        save.setHeight(60);
-	    save.setText("Save");
-	    
-	    save.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	checkCtr = 0;
-            	
-            	int listItemCount = cbLayout.getChildCount();
-            	for( int i=0;i<listItemCount;i++ ) {
-            	    CheckBox cbox = (CheckBox) ((View)cbLayout.getChildAt(i));
-            	    int id = cbox.getId();
-            	    if( cbox.isChecked() ) {   
-            	    	checkCtr++;
-            	        settingsDB.updateNotificationFlag(notificationSettings.this, id, true);
-            	        Log.i("CommentService", "Service enabled for " + cbox.getText());
-            	    }
-            	    else{
-            	        settingsDB.updateNotificationFlag(notificationSettings.this, id, false);
-            	    }
-
-            	}
-            	
-            	settingsDB.updateInterval(notificationSettings.this, sInterval.getSelectedItem().toString());
-            	
-            	if (checkCtr > 0){
-
-        	        String updateInterval = sInterval.getSelectedItem().toString();
-        	        int UPDATE_INTERVAL = 3600000;
-        	        
-        	      //configure time interval
-        	         if (updateInterval.equals("5 Minutes")){
-        	        	 UPDATE_INTERVAL = 300000;
-        	         }
-        	         else if (updateInterval.equals("10 Minutes")){
-        	        	 UPDATE_INTERVAL = 600000;
-        	         }
-        	         else if (updateInterval.equals("15 Minutes")){
-        	        	 UPDATE_INTERVAL = 900000;
-        	         }
-        	         else if (updateInterval.equals("30 Minutes")){
-        	        	 UPDATE_INTERVAL = 1800000;
-        	         }
-        	         else if (updateInterval.equals("1 Hour")){
-        	        	 UPDATE_INTERVAL = 3600000;
-        	         }
-        	         else if (updateInterval.equals("3 Hours")){
-        	        	 UPDATE_INTERVAL = 10800000;
-        	         }
-        	         else if (updateInterval.equals("6 Hours")){
-        	        	 UPDATE_INTERVAL = 21600000;
-        	         }
-        	         else if (updateInterval.equals("12 Hours")){
-        	        	 UPDATE_INTERVAL = 43200000;
-        	         }
-        	         else if (updateInterval.equals("Daily")){
-        	        	 UPDATE_INTERVAL = 86400000;
-        	         }
-        	        
-        	        Intent intent = new Intent(notificationSettings.this, broadcastReceiver.class);
-                	PendingIntent pIntent = PendingIntent.getBroadcast(notificationSettings.this, 0, intent, 0);
-                	
-                	AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
-                	
-                	alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + (5 * 1000), UPDATE_INTERVAL, pIntent);
-        			  
-        		}
-        		else{
-
-        						Intent stopIntent = new Intent(notificationSettings.this, broadcastReceiver.class);
-                            	PendingIntent stopPIntent = PendingIntent.getBroadcast(notificationSettings.this, 0, stopIntent, 0);
-                            	//Log.i("wpToGo", "stopping alarm");
-                            	AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
-                            	alarmManager.cancel(stopPIntent);
-        				
-        				
-        			
-        			
-        			//Toast.makeText(settings.this, "Comment Notification Service Stopped", Toast.LENGTH_LONG);
-
-        		
-            	}
-            	
-            	finish();
-            }
-        });
-	    
-	    
-	    layout.addView(save);
-        
-        sv.addView(layout);
-        
-        setContentView(sv);
-	}
-}
-
-
-}
-
-
-
-
-
diff --git a/src/com/roundhill/androidWP/postStoreDB.java b/src/com/roundhill/androidWP/postStoreDB.java
deleted file mode 100644
index a44aa1d22eda..000000000000
--- a/src/com/roundhill/androidWP/postStoreDB.java
+++ /dev/null
@@ -1,232 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-
-public class postStoreDB {
-
-	private static final String CREATE_TABLE_POSTSTORE = "create table if not exists poststore (blogID text, postID text, title text, postDate text);";
-	private static final String CREATE_TABLE_PAGES = "create table if not exists pages (blogID text, pageID text, parentID text, title text, pageDate text);";
-	private static final String CREATE_TABLE_COMMENTS = "create table if not exists comments (blogID text, commentID text, author text, comment text, commentDate text, status text, url text, email text, postTitle text);";
-	private static final String POSTSTORE_TABLE = "poststore";
-	private static final String PAGES_TABLE = "pages";
-	private static final String COMMENTS_TABLE = "comments";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 2;
-
-	private SQLiteDatabase db;
-
-	public postStoreDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-
-		db.execSQL(CREATE_TABLE_POSTSTORE);
-		db.execSQL(CREATE_TABLE_PAGES);
-		db.execSQL(CREATE_TABLE_COMMENTS);
-		db.close();
-	}
-
-	public boolean savePosts(Context ctx, Vector postValues) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		HashMap firstHash = (HashMap) postValues.get(0);
-		String blogID = firstHash.get("blogID").toString();
-		//delete existing values
-		db.delete(POSTSTORE_TABLE, "blogID=" + blogID, null);
-
-		for (int i = 0; i < postValues.size(); i++){
-			ContentValues values = new ContentValues();
-			HashMap thisHash = (HashMap) postValues.get(i);
-			values.put("blogID", thisHash.get("blogID").toString());
-			values.put("postID", thisHash.get("postID").toString());
-			values.put("title", thisHash.get("title").toString());
-			values.put("postDate", thisHash.get("postDate").toString());
-			returnValue = db.insert(POSTSTORE_TABLE, null, values) > 0;
-		}
-		
-		
-		db.close();
-		return (returnValue);
-	}
-
-	public Vector loadPosts(Context ctx, String blogID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		Cursor c = db.query(POSTSTORE_TABLE, new String[] { "blogID", "postID", "title", "postDate"}, "blogID=" + blogID, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
-		
-		for (int i = 0; i < numRows; ++i) {
-		if (c.getString(0) != null){
-		HashMap returnHash = new HashMap();
-		returnHash.put("blogID", c.getString(0));
-		returnHash.put("postID", c.getString(1));
-		returnHash.put("title", c.getString(2));
-		returnHash.put("postDate", c.getString(3));
-		returnVector.add(i, returnHash);
-		}
-		c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		if (numRows == 0){
-			returnVector = null;
-		}
-		
-		return returnVector;
-	}
-
-	public Vector loadPages(Context ctx, String blogID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		Cursor c = db.query(PAGES_TABLE, new String[] { "blogID", "pageID", "title", "pageDate"}, "blogID=" + blogID, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
-		
-		for (int i = 0; i < numRows; ++i) {
-		if (c.getString(0) != null){
-		HashMap returnHash = new HashMap();
-		returnHash.put("blogID", c.getString(0));
-		returnHash.put("pageID", c.getString(1));
-		returnHash.put("title", c.getString(2));
-		returnHash.put("pageDate", c.getString(3));
-		returnVector.add(i, returnHash);
-		}
-		c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		if (numRows == 0){
-			returnVector = null;
-		}
-		
-		return returnVector;
-	}
-
-	public boolean savePages(Context ctx, Vector pageValues) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		HashMap firstHash = (HashMap) pageValues.get(0);
-		String blogID = firstHash.get("blogID").toString();
-		//delete existing values
-		db.delete(PAGES_TABLE, "blogID=" + blogID, null);
-
-		for (int i = 0; i < pageValues.size(); i++){
-			ContentValues values = new ContentValues();
-			HashMap thisHash = (HashMap) pageValues.get(i);
-			values.put("blogID", thisHash.get("blogID").toString());
-			values.put("pageID", thisHash.get("pageID").toString());
-			values.put("parentID", thisHash.get("parentID").toString());
-			values.put("title", thisHash.get("title").toString());
-			values.put("pageDate", thisHash.get("pageDate").toString());
-			returnValue = db.insert(PAGES_TABLE, null, values) > 0;
-		}
-		
-		
-		db.close();
-		return (returnValue);
-		
-	}
-	
-	public Vector loadComments(Context ctx, String blogID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Vector returnVector = new Vector();
-		Cursor c = db.query(COMMENTS_TABLE, new String[] { "blogID", "commentID", "author", "comment", "commentDate", "status", "url", "email", "postTitle"}, "blogID=" + blogID, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
-		
-		for (int i = 0; i < numRows; ++i) {
-		if (c.getString(0) != null){
-		HashMap returnHash = new HashMap();
-		returnHash.put("blogID", c.getString(0));
-		returnHash.put("commentID", c.getString(1));
-		returnHash.put("author", c.getString(2));
-		returnHash.put("comment", c.getString(3));
-		returnHash.put("commentDate", c.getString(4));
-		returnHash.put("status", c.getString(5));
-		returnHash.put("url", c.getString(6));
-		returnHash.put("email", c.getString(7));
-		returnHash.put("postTitle", c.getString(8));
-		returnVector.add(i, returnHash);
-		}
-		c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		if (numRows == 0){
-			returnVector = null;
-		}
-		
-		return returnVector;
-	}
-
-	public boolean saveComments(Context ctx, Vector pageValues) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		HashMap firstHash = (HashMap) pageValues.get(0);
-		String blogID = firstHash.get("blogID").toString();
-		//delete existing values
-		db.delete(COMMENTS_TABLE, "blogID=" + blogID, null);
-
-		for (int i = 0; i < pageValues.size(); i++){
-			ContentValues values = new ContentValues();
-			HashMap thisHash = (HashMap) pageValues.get(i);
-			values.put("blogID", thisHash.get("blogID").toString());
-			values.put("commentID", thisHash.get("commentID").toString());
-			values.put("author", thisHash.get("author").toString());
-			values.put("comment", thisHash.get("comment").toString());
-			values.put("commentDate", thisHash.get("commentDate").toString());
-			values.put("status", thisHash.get("status").toString());
-			values.put("url", thisHash.get("url").toString());
-			values.put("email", thisHash.get("email").toString());
-			values.put("postTitle", thisHash.get("postTitle").toString());
-			returnValue = db.insert(COMMENTS_TABLE, null, values) > 0;
-		}
-		
-		
-		db.close();
-		return (returnValue);
-		
-	}
-
-
-}
-
diff --git a/src/com/roundhill/androidWP/saveName.java b/src/com/roundhill/androidWP/saveName.java
deleted file mode 100644
index fd26e6b5513d..000000000000
--- a/src/com/roundhill/androidWP/saveName.java
+++ /dev/null
@@ -1,63 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.WindowManager;
-import android.widget.Button;
-import android.widget.EditText;
-
-
-
-public class saveName extends Activity {
-
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		// TODO Auto-generated method stub
-		super.onCreate(savedInstanceState);
-		
-		getWindow().setFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND,
-                WindowManager.LayoutParams.FLAG_BLUR_BEHIND);
-		
-		setContentView(R.layout.savename);
-		
-		final customButton cancelButton = (customButton) findViewById(R.id.cancel);
-        final customButton okButton = (customButton) findViewById(R.id.ok);
-        
-        okButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	EditText linkTextET = (EditText)findViewById(R.id.linkText);
-            	String linkText = linkTextET.getText().toString();
-            	
-            	
-                Bundle bundle = new Bundle();
-                
-                bundle.putString("saveName", linkText);
-                Intent mIntent = new Intent();
-                mIntent.putExtras(bundle);
-                setResult(RESULT_OK, mIntent);
-                finish();
-                
-            }
-        });   
-        
-        cancelButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	 Bundle bundle = new Bundle();
-                 
-                 bundle.putString("saveName", "CANCEL");
-                 Intent mIntent = new Intent();
-                 mIntent.putExtras(bundle);
-                 setResult(RESULT_OK, mIntent);
-                 finish();
-            }
-        });
-		
-	}
-	
-
-}
diff --git a/src/com/roundhill/androidWP/savedPostsDB.java b/src/com/roundhill/androidWP/savedPostsDB.java
deleted file mode 100644
index 5876b1ff0475..000000000000
--- a/src/com/roundhill/androidWP/savedPostsDB.java
+++ /dev/null
@@ -1,124 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.Vector;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-
-public class savedPostsDB {
-
-	private static final String CREATE_TABLE_POSTS = "create table if not exists drafts ("
-			+ "savedName text primary key, id text, title text, content text, categories text, publish boolean);";
-
-
-	private static final String POSTS_TABLE = "drafts";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 2;
-
-	private SQLiteDatabase db;
-
-	public savedPostsDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-
-		db.execSQL(CREATE_TABLE_POSTS);
-		
-		db.close();
-	}
-
-	public boolean savePost(Context ctx, String savedName, String id, String title, String content, String categories, boolean publish) {
-		boolean returnValue = false;
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		//same name check
-		Cursor c = db.query(POSTS_TABLE, new String[] { "title", "id", "content", "categories", "publish"}, "savedName='" + savedName + "' AND id=" + id, null, null, null, null);
-		int numRows = c.getCount();
-		if (numRows == 1){
-			//it's a match!
-			returnValue = false;
-		}
-		else
-		{
-		ContentValues values = new ContentValues();
-		values.put("savedName", savedName);
-		values.put("id", id);
-		values.put("title", title);
-		values.put("content", content);
-		values.put("categories", categories);
-		values.put("publish", publish);
-		returnValue = db.insert(POSTS_TABLE, null, values) > 0;
-		}
-		db.close();
-		return (returnValue);
-	}
-
-	public Vector loadPost(Context ctx, String postSavedName, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(POSTS_TABLE, new String[] { "title", "content", "categories", "publish"}, "savedName='" + postSavedName + "' AND id=" + id, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
-		Vector returnVector = new Vector();
-		if (c.getString(0) != null){
-		returnVector.add(c.getString(0));
-		returnVector.add(c.getString(1));
-		returnVector.add(c.getString(2));
-		returnVector.add(c.getInt(3));
-		}
-		else
-		{
-			returnVector = null;
-		}
-		c.close();
-		db.close();
-		
-		return returnVector;
-	}
-
-	public Vector getPosts(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(POSTS_TABLE, new String[] {"savedName"}, "id=" + id, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String saveName = c.getString(0);
-			if (saveName != null)
-			{	
-			returnVector.add(saveName);
-			}
-			c.moveToNext();
-		}
-
-
-		c.close();
-		db.close();
-		
-		return returnVector;
-	}
-	
-	public void clearPosts(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		//clear out the table since we are refreshing the whole enchilada
-		db.delete(POSTS_TABLE, "id=" + id, null);
-		
-		db.close();
-	}
-
-
-}
-
diff --git a/src/com/roundhill/androidWP/selectpost.java b/src/com/roundhill/androidWP/selectpost.java
deleted file mode 100644
index e3bc7accbf34..000000000000
--- a/src/com/roundhill/androidWP/selectpost.java
+++ /dev/null
@@ -1,129 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.ArrayList;
-import java.util.Vector;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.View;
-import android.view.WindowManager;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
-import android.widget.Spinner;
-
-
-
-public class selectpost extends Activity {
-private String id = "";
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		// TODO Auto-generated method stub
-		super.onCreate(savedInstanceState);
-		
-		getWindow().setFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND,
-                WindowManager.LayoutParams.FLAG_BLUR_BEHIND);
-		
-		setContentView(R.layout.selectpost);
-		
-		Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-        }
-		
-		final Spinner postSpinner = (Spinner) findViewById(R.id.selectPost);
-		
-		savedPostsDB postsDB2 = new savedPostsDB(this);
-		Vector postFields = postsDB2.getPosts(this, id);
-		
-		ArrayList<CharSequence> textArray = new ArrayList<CharSequence>();
-		
-		if (postFields.size() > 0)
-		{
-			for(int i = 0; i < postFields.size(); i++)
-			{				
-		    		textArray.add(postFields.get(i).toString()); 	
-			}
-			
-			
-	        ArrayAdapter<CharSequence> aspnPosts = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item, textArray);
-	        
-	          aspnPosts.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-	          
-	          postSpinner.setAdapter(aspnPosts); 
-		} 
-		else
-		{
-			Bundle bundle = new Bundle();
-  
-                bundle.putString("selectedSaveName", "noPostsFound");
-                Intent mIntent2 = new Intent();
-                mIntent2.putExtras(bundle);
-                setResult(RESULT_OK, mIntent2);
-                finish();
-		}
-        
-final customButton okButton = (customButton) findViewById(R.id.selectPostOk);
-        
-        okButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-         	 Bundle bundle = new Bundle();
-         	 
-         	 String selectedPostId = postSpinner.getSelectedItem().toString();
-         	 
-
-                 bundle.putString("selectedSaveName", selectedPostId);
-                 Intent mIntent2 = new Intent();
-                 mIntent2.putExtras(bundle);
-                 setResult(RESULT_OK, mIntent2);
-                 finish();
-            		
-            }
-        });
-        
-final customButton delPostsButton = (customButton) findViewById(R.id.deletePosts);
-        
-		delPostsButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(selectpost.this);
-  			  dialogBuilder.setTitle("Delete Saved Posts");
-              dialogBuilder.setMessage("Are you sure you want to delete all saved posts?");
-              dialogBuilder.setPositiveButton("Yes",  new
-            		  DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialog, int whichButton) {
-                        // User clicked Yes so load the URL in the browser.
-                	  
-                  	savedPostsDB postsDB = new savedPostsDB(selectpost.this);
-                    postsDB.clearPosts(selectpost.this, id);
-                    Bundle bundle = new Bundle();
-                    bundle.putString("selectedSaveName", "CANCEL");
-                    Intent mIntent2 = new Intent();
-                    mIntent2.putExtras(bundle);
-                    setResult(RESULT_OK, mIntent2);
-                    finish();
-
-                    }
-                });
-              dialogBuilder.setNegativeButton("No", new
-            		  DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialog, int whichButton) {
-                        // User clicked No so don't delete posts (do nothing).
-                    }
-                });
-              dialogBuilder.setCancelable(true);
-             dialogBuilder.create().show();
-            		
-            }
-        });       
-		
-		
-	}
-	
-
-}
diff --git a/src/com/roundhill/androidWP/settings.java b/src/com/roundhill/androidWP/settings.java
deleted file mode 100644
index 61d63de7dbc6..000000000000
--- a/src/com/roundhill/androidWP/settings.java
+++ /dev/null
@@ -1,214 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-import java.util.Vector;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.content.ComponentName;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.KeyEvent;
-import android.view.View;
-import android.view.WindowManager;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.EditText;
-import android.widget.RadioButton;
-import android.widget.RadioGroup;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.Toast;
-
-
-public class settings extends Activity {
-	protected static Intent svc = null;
-	private String id = "", accountName = "";
-	private String xmlrpcPath;
-	@Override
-	protected void onCreate(Bundle savedInstanceState) {
-		// TODO Auto-generated method stub
-		super.onCreate(savedInstanceState);
-		
-		getWindow().setFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND,
-                WindowManager.LayoutParams.FLAG_BLUR_BEHIND);
-		
-		setContentView(R.layout.settings);
-		
-		
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-        }
-		
-		Spinner spinner = (Spinner)this.findViewById(R.id.maxImageWidth);
-	    ArrayAdapter spinnerArrayAdapter = new ArrayAdapter<Object>(this,
-	    		R.layout.spinner_textview,
-	            new String[] { "Original Size", "100", "150", "200" , "250", "300", "350", "400", "450", "500", "550", "600", "650", "700", "750", "800", "850", "900", "950", "1000"});
-	    spinner.setAdapter(spinnerArrayAdapter);
-
-		TextView eulaTV = (TextView) this.findViewById(R.id.l_EULA);
-		
-		eulaTV.setOnClickListener(new Button.OnClickListener() {
-            public void onClick(View v) {
-            	
-    		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(settings.this);
-  			  dialogBuilder.setTitle("End User License Agreement");
-              dialogBuilder.setMessage(R.string.EULA);
-              dialogBuilder.setPositiveButton("OK",  new
-            		  DialogInterface.OnClickListener() {
-                    public void onClick(DialogInterface dialog, int whichButton) {
-                        // just close the window.
-    
-                    }
-                });
-              dialogBuilder.setCancelable(true);
-             dialogBuilder.create().show();
-            }
-        });
-		
-		
-    	settingsDB settingsDB = new settingsDB(this);
-    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-    	if (categoriesVector != null)
-    	{
-    		xmlrpcPath = categoriesVector.get(0).toString();
-    		//String savedBlogName = categoriesVector.get(1).toString();
-    		String savedUsername = categoriesVector.get(2).toString();
-    		String savedPassword = categoriesVector.get(3).toString();
-    		String imagePlacement = categoriesVector.get(4).toString();
-    		String sCenterThumbnailString = categoriesVector.get(5).toString();
-    		String sFullSizeImageString = categoriesVector.get(6).toString();
-    			
-    		boolean sFullSizeImage  = false;
-    		if (sFullSizeImageString.equals("1")){
-    			sFullSizeImage = true;
-    		}
-    		
-    		boolean sCenterThumbnail = false;
-    		if (sCenterThumbnailString.equals("1")){
-    			sCenterThumbnail = true;
-    		}
-    		
-    		String maxImageWidth = categoriesVector.get(7).toString();
-    		
-    		String maxImageWidthId = categoriesVector.get(8).toString();
-    		int maxImageWidthIdInt = Integer.parseInt(maxImageWidthId);
-    		//int maxImageWidthId = Integer.parseInt(maxImageWidthIdString);
-            
-            EditText usernameET = (EditText)findViewById(R.id.username);
-            usernameET.setText(savedUsername);
-            
-            EditText passwordET = (EditText)findViewById(R.id.password);
-            passwordET.setText(savedPassword);
-            //radio buttons for image placement
-
-            RadioButton aboveTextRB = (RadioButton)findViewById(R.id.aboveText);
-            RadioButton belowTextRB = (RadioButton)findViewById(R.id.belowText);
-            
-            CheckBox centerThumbnail = (CheckBox)findViewById(R.id.centerThumbnail);
-            centerThumbnail.setChecked(sCenterThumbnail);
-            
-      
-            spinner.setSelection(maxImageWidthIdInt);
-            
-            
-            if (imagePlacement != null){
-            if (imagePlacement.equals("Above Text")){
-            	aboveTextRB.setChecked(true);
-            }
-            else
-            {
-            	belowTextRB.setChecked(true);
-            }
-            }
-    		
-    	}
-    
-
-        
-        
-        final customButton cancelButton = (customButton) findViewById(R.id.cancel);
-        final customButton saveButton = (customButton) findViewById(R.id.save);
-        
-        saveButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-               // SharedPreferences settings = getSharedPreferences("wpAndroidSettings", 0);
-               // SharedPreferences.Editor editor = settings.edit();
-                
-                //capture the entered fields *needs validation*
-                EditText usernameET = (EditText)findViewById(R.id.username);
-                String username = usernameET.getText().toString();
-                EditText passwordET = (EditText)findViewById(R.id.password);
-                String password = passwordET.getText().toString();
-                
-                
-                RadioGroup imageRG = (RadioGroup)findViewById(R.id.imagePlacement);
-                RadioButton checkedRB = (RadioButton)findViewById(imageRG.getCheckedRadioButtonId());
-                String buttonValue = checkedRB.getText().toString();
-                boolean fullSizeImageValue = false;
-                
-                Spinner spinner = (Spinner)findViewById(R.id.maxImageWidth);
-                String maxImageWidth = spinner.getSelectedItem().toString();
-                long maxImageWidthId = spinner.getSelectedItemId();
-                int maxImageWidthIdInt = (int) maxImageWidthId;
-                CheckBox centerThumbnail = (CheckBox)findViewById(R.id.centerThumbnail);
-                boolean centerThumbnailValue = centerThumbnail.isChecked();
-
-                settingsDB settingsDB = new settingsDB(settings.this);
-                settingsDB.saveSettings(settings.this, id, xmlrpcPath, username, password, buttonValue, centerThumbnailValue, fullSizeImageValue, maxImageWidth, maxImageWidthIdInt);
-                
-        		//exit settings screen
-                Bundle bundle = new Bundle();
-                
-                bundle.putString("returnStatus", "SAVE");
-                Intent mIntent = new Intent();
-                mIntent.putExtras(bundle);
-                setResult(RESULT_OK, mIntent);
-                finish();
-                
-            }
-        });   
-        
-        cancelButton.setOnClickListener(new customButton.OnClickListener() {
-            public void onClick(View v) {
-            	
-            	 Bundle bundle = new Bundle();
-                 
-                 bundle.putString("returnStatus", "CANCEL");
-                 Intent mIntent = new Intent();
-                 mIntent.putExtras(bundle);
-                 setResult(RESULT_OK, mIntent);
-                 finish();
-            }
-        });
-        
-        
-        
-     
-	}
-	
-	@Override public boolean onKeyDown(int i, KeyEvent event) {
-
-		  // only intercept back button press
-		  if (i == KeyEvent.KEYCODE_BACK) {
-         	 Bundle bundle = new Bundle();
-             
-             bundle.putString("returnStatus", "CANCEL");
-             Intent mIntent = new Intent();
-             mIntent.putExtras(bundle);
-             setResult(RESULT_OK, mIntent);
-             finish();
-		  }
-
-		  return false; // propagate this keyevent
-		}
-	
-
-}
diff --git a/src/com/roundhill/androidWP/settingsDB.java b/src/com/roundhill/androidWP/settingsDB.java
deleted file mode 100644
index a754c8fe32e7..000000000000
--- a/src/com/roundhill/androidWP/settingsDB.java
+++ /dev/null
@@ -1,317 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.text.StringCharacterIterator;
-import java.util.HashMap;
-import java.util.Vector;
-
-import android.content.ContentValues;
-import android.content.Context;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-import android.util.Log;
-import android.view.View.OnClickListener;
-
-public class settingsDB {
-
-	private static final String CREATE_TABLE_SETTINGS = "create table if not exists accounts (id integer primary key autoincrement, "
-			+ "url text, blogName text, username text, password text, imagePlacement text, centerThumbnail boolean, fullSizeImage boolean, maxImageWidth text, maxImageWidthId integer);";
-	private static final String ADD_COLUMNID = "ALTER TABLE accounts ADD lastCommentId integer";
-	private static final String ADD_RUNSERVICE = "ALTER TABLE accounts ADD runService boolean";
-	private static final String ADD_INTERVAL = "ALTER TABLE eula ADD interval text";
-	private static final String SETTINGS_TABLE = "accounts";
-	private static final String DATABASE_NAME = "wpToGo";
-	private static final int DATABASE_VERSION = 3;
-
-	private SQLiteDatabase db;
-
-	public settingsDB(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		//db.execSQL("DROP TABLE IF EXISTS "+ SETTINGS_TABLE);
-		db.execSQL(CREATE_TABLE_SETTINGS);
-		int version = db.getVersion();
-		if (version == 0)
-		{
-			db.execSQL(ADD_COLUMNID);
-			db.execSQL(ADD_RUNSERVICE);
-			db.execSQL(ADD_INTERVAL);
-			db.setVersion(1);
-		}
-		db.close();
-		
-	}
-
-	
-	public boolean addAccount(Context ctx, String url, String blogName, String username, String password, String imagePlacement, boolean centerThumbnail, boolean fullSizeImage, String maxImageWidth, int maxImageWidthId, boolean runService) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("url", url);
-		values.put("blogName", blogName);
-		values.put("username", username);
-		values.put("password", password);
-		values.put("imagePlacement", imagePlacement);
-		values.put("centerThumbnail", centerThumbnail);
-		values.put("fullSizeImage", fullSizeImage);
-		values.put("maxImageWidth", maxImageWidth);
-		values.put("maxImageWidthId", maxImageWidthId);
-		values.put("runService", runService);
-		boolean returnValue = db.insert(SETTINGS_TABLE, null, values) > 0;
-		db.close();
-		return (returnValue);
-	}	
-	public Vector getAccounts(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Cursor c = db.query(SETTINGS_TABLE, new String[] { "id", "blogName", "username", "runService"}, null, null, null, null, null);
-		String id;
-		String blogName, username;
-		int runService;
-		int numRows = c.getCount();
-		c.moveToFirst();
-		Vector accounts = new Vector();
-		for (int i = 0; i < numRows; i++) {
-			
-			id = c.getString(0);
-			blogName = c.getString(1);
-			username = c.getString(2);
-			runService = c.getInt(3);
-			if (id != null)
-			{	
-				HashMap thisHash = new HashMap();
-				
-				thisHash.put("id", id);
-				thisHash.put("blogName", blogName);
-				thisHash.put("username", username);
-				thisHash.put("runService", runService);
-				accounts.add(thisHash);
-			}
-			c.moveToNext();
-		}
-		c.close();
-		db.close();
-		
-		return accounts;
-	}
-	
-	public boolean checkMatch(Context ctx, String blogName, String blogURL, String username) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		Cursor c = db.query(SETTINGS_TABLE, new String[] {"blogName", "url"}, "blogName='" + addSlashes(blogName) + "' AND url='" + addSlashes(blogURL) + "'" + " AND username='" + username + "'", null, null, null, null);
-		int numRows = c.getCount();
-		boolean result = false;
-		
-		if (numRows > 0){
-			//this account is already saved, yo!
-			result = true;
-		}
-		
-		c.close();
-		db.close();
-		
-		return result;
-	}
-	
-	public static String addSlashes( String text ){    	
-        final StringBuffer sb                   = new StringBuffer( text.length() * 2 );
-        final StringCharacterIterator iterator  = new StringCharacterIterator( text );
-        
-  	  	char character = iterator.current();
-        
-        while( character != StringCharacterIterator.DONE ){
-            if( character == '"' ) sb.append( "\\\"" );
-            else if( character == '\'' ) sb.append( "\'\'" );
-            else if( character == '\\' ) sb.append( "\\\\" );
-            else if( character == '\n' ) sb.append( "\\n" );
-            else if( character == '{'  ) sb.append( "\\{" );
-            else if( character == '}'  ) sb.append( "\\}" );
-            else sb.append( character );
-            
-            character = iterator.next();
-        }
-        
-        return sb.toString();
-    }
-
-	public boolean saveSettings(Context ctx, String id, String url, String username, String password, String imagePlacement, boolean centerThumbnail, boolean fullSizeImage, String maxImageWidth, int maxImageWidthId) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("url", url);
-		values.put("username", username);
-		values.put("password", password);
-		values.put("imagePlacement", imagePlacement);
-		values.put("centerThumbnail", centerThumbnail);
-		values.put("fullSizeImage", fullSizeImage);
-		values.put("maxImageWidth", maxImageWidth);
-		values.put("maxImageWidthId", maxImageWidthId);
-		boolean returnValue = db.update(SETTINGS_TABLE, values, "id=" + id, null) > 0;
-		db.close();
-		return (returnValue);
-	}
-	
-	public boolean deleteAccount(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		int rowsAffected = db.delete(SETTINGS_TABLE, "id=" + id, null);
-		
-		boolean returnValue = false;
-		if (rowsAffected > 0){
-			returnValue = true;
-		}
-		db.close();
-		return (returnValue);
-	}
-
-	public Vector loadSettings(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query(SETTINGS_TABLE, new String[] { "url", "blogName", "username", "password", "imagePlacement", "centerThumbnail", "fullSizeImage", "maxImageWidth", "maxImageWidthId", "runService"}, "id=" + id, null, null, null, null);
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
-		Vector returnVector = new Vector();
-		if (c.getString(0) != null){
-		returnVector.add(c.getString(0));
-		returnVector.add(c.getString(1));
-		returnVector.add(c.getString(2));
-		returnVector.add(c.getString(3));
-		returnVector.add(c.getString(4));
-		returnVector.add(c.getInt(5));
-		returnVector.add(c.getString(6));
-		returnVector.add(c.getString(7));
-		returnVector.add(c.getInt(8));
-		returnVector.add(c.getInt(9));
-		}
-		else
-		{
-			returnVector = null;
-		}
-		c.close();
-		db.close();
-		
-		return returnVector;
-	}
-
-
-	public int getLatestCommentID(Context ctx, String id) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		int returnInt = 0;
-		Cursor c = db.query(SETTINGS_TABLE, new String[] { "lastCommentId"  }, "id=" + id, null, null, null, null);
-		int blah = c.getCount();
-		c.moveToFirst();
-		if (c.getString(0) != null){
-			returnInt = Integer.valueOf(c.getString(0));
-		}
-		c.close();
-		db.close();
-		return returnInt;
-	}
-
-
-	public boolean updateLatestCommentID(Context ctx, String id, Integer newCommentID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("lastCommentId", newCommentID);
-
-		boolean returnValue = db.update(SETTINGS_TABLE, values, "id=" + id, null) > 0;
-		db.close();
-		return (returnValue);
-		
-	}
-
-
-	public Vector getNotificationAccounts(Context ctx) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = null;
-		try {
-			c = db.query(SETTINGS_TABLE, new String[] { "id" }, "runService=1", null, null, null, null);
-		} catch (Exception e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		
-		int numRows = c.getCount();
-		c.moveToFirst();
-		
-		Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			int tempID = c.getInt(0);	
-			returnVector.add(tempID);
-			c.moveToNext();
-		}
-		
-		c.close();
-		db.close();
-		return returnVector;
-	}
-
-
-	public String getAccountName(Context ctx, String accountID) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		int returnInt = 0;
-		String accountName = "";
-		Cursor c = db.query(SETTINGS_TABLE, new String[] { "blogName"  }, "id=" + accountID, null, null, null, null);
-		int blah = c.getCount();
-		c.moveToFirst();
-		if (c.getString(0) != null){
-			accountName = c.getString(0);
-		}
-		c.close();
-		db.close();
-		return accountName;
-	}
-
-
-	public void updateNotificationFlag(Context ctx, int id, boolean flag) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		int iFlag = 0;
-		if (flag){
-			iFlag = 1;
-		}
-		values.put("runService", iFlag);
-
-		boolean returnValue = db.update(SETTINGS_TABLE, values, "id=" + String.valueOf(id), null) > 0;
-		
-		db.close();
-		
-	}
-	
-	public void updateInterval(Context ctx, String interval) {
-		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		ContentValues values = new ContentValues();
-		values.put("interval", interval);
-
-		boolean returnValue = db.update("eula", values, null, null) > 0;
-		
-		db.close();
-		
-	}
-	
-	public String getInterval(Context ctx) {
-db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		
-		Cursor c = db.query("eula", new String[] { "interval" }, "id=0", null, null, null, null);
-		int numRows = c.getCount();
-		c.moveToFirst();
-		String returnValue = "";
-		if (numRows == 1){
-			if (c.getString(0) != null){
-			returnValue = c.getString(0);
-			}
-		}
-		
-		db.close();
-
-		return returnValue;
-		
-	}
-
-}
-
diff --git a/src/com/roundhill/androidWP/tabView.java b/src/com/roundhill/androidWP/tabView.java
deleted file mode 100644
index 30baae3be484..000000000000
--- a/src/com/roundhill/androidWP/tabView.java
+++ /dev/null
@@ -1,53 +0,0 @@
-package com.roundhill.androidWP;
-
-import android.app.TabActivity;
-import android.content.Intent;
-import android.os.Bundle;
-import android.view.Window;
-import android.widget.TabHost;
-
-public class tabView extends TabActivity {
-	private String id = "";
-	private String accountName = "";
-	private String activateTab = "";
-	
-	     @Override  
-     public void onCreate(Bundle savedInstanceState) {  
-         super.onCreate(savedInstanceState);
-         requestWindowFeature(Window.FEATURE_NO_TITLE); 
-   
-         Bundle extras = getIntent().getExtras();
-         if(extras !=null)
-         {
-          id = extras.getString("id");
-          accountName = extras.getString("accountName");
-          activateTab = extras.getString("activateTab");
-         }
-         
-         Intent tab1 = new Intent(this, moderateCommentsTab.class);
-         Intent tab2 = new Intent(this, viewPosts.class);
-         Intent tab3 = new Intent(this, viewPages.class);
-         
-        Bundle bundle = new Bundle();
- 		bundle.putString("accountName", accountName);
- 		bundle.putString("id", id);
- 		
- 		tab1.putExtras(bundle);
- 		tab2.putExtras(bundle);
- 		tab3.putExtras(bundle);
-         
-         TabHost host = getTabHost();  
-         
-         host.addTab(host.newTabSpec("one").setIndicator("Comments", getResources().getDrawable(R.layout.comment_tab_selector)).setContent(tab1));  
-         host.addTab(host.newTabSpec("two").setIndicator("Posts", getResources().getDrawable(R.layout.posts_tab_selector)).setContent(tab2));
-         host.addTab(host.newTabSpec("three").setIndicator("Pages", getResources().getDrawable(R.layout.pages_tab_selector)).setContent(tab3));
-
-         if (activateTab != null){
-        	 if (activateTab.equals("drafts")){
-        	 host.setCurrentTab(1);
-        	 }
-         }
-         
-
-     }  
- }
diff --git a/src/com/roundhill/androidWP/viewComments.java b/src/com/roundhill/androidWP/viewComments.java
deleted file mode 100644
index 378c6b952157..000000000000
--- a/src/com/roundhill/androidWP/viewComments.java
+++ /dev/null
@@ -1,310 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Vector;
-
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.AlertDialog;
-import android.app.ListActivity;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.graphics.Color;
-import android.os.Bundle;
-import android.os.Handler;
-import android.view.View;
-import android.view.ViewGroup;
-import android.widget.BaseAdapter;
-import android.widget.LinearLayout;
-import android.widget.TextView;
-
-
-public class viewComments extends ListActivity {
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	public String[] authors;
-	public String[] comments;
-	public String[] status;
-	private String id = "";
-	private String postID = "";
-	private String accountName = "";
-	private String postTitle = "";
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-       
-        setContentView(R.layout.viewcomments);
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         postID = extras.getString("postID");
-         accountName = extras.getString("accountName");
-         postTitle = extras.getString("postTitle");
-        }      
-        
-        this.setTitle(postTitle + " - View Comments");
-        Vector settings = new Vector();
-        settingsDB settingsDB = new settingsDB(this);
-    	settings = settingsDB.loadSettings(this, id);
-        
-    	String sURL = "";
-    	if (settings.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = settings.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = settings.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-            
-            HashMap hPost = new HashMap();
-            hPost.put("status", "approve");
-            hPost.put("post_id", postID);
-            hPost.put("number", 10);
-            
-            Object[] commentStruct = {
-	        		postID,
-	        		"",
-	        		"",
-	        		""
-	        };
-        	
-        	List<Object> list = new ArrayList<Object>();
-        	
-        	//haxor
-        	
-        	client = new XMLRPCClient(sURL);
-        	
-        	XMLRPCMethod method = new XMLRPCMethod("wp.getComments", new XMLRPCMethodCallback() {
-				public void callFinished(Object[] result) {
-					String s = "done";
-					s = result.toString();
-					
-					if (result.length == 0){
-						comments = new String[1];
-						authors = new String[1];
-						comments[0] = "There are no approved comments for this post";
-						authors[0] = "";
-					}
-					else{
-					comments = new String[result.length];
-					authors = new String[result.length];
-					
-					HashMap contentHash = new HashMap();
-					    
-					int ctr = 0;
-					
-					//loop this!
-					    for (Object item : result){
-					        contentHash = (HashMap) result[ctr];
-					        comments[ctr] = contentHash.get("content").toString();
-					        authors[ctr] = contentHash.get("author").toString();
-					        ctr++;
-					    }
-					}  
-		        
-					 setListAdapter(new CommentListAdapter(viewComments.this));
-
-				}
-	        });
-	        Object[] params = {
-	        		1,
-	        		sUsername,
-	        		sPassword,
-	        		hPost
-	        };
-	        
-	        
-	        method.call(params);
-        	  
-        
-        
-        
-    }
-
-
-interface XMLRPCMethodCallback {
-	void callFinished(Object[] result);
-}
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		handler = new Handler();
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object[] result = (Object[]) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewComments.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-
-					Throwable couse = e.getCause();
-					if (couse instanceof HttpHostConnectException) {
-						//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-					} else {
-						//status.setText("Error " + e.getMessage());
-					}
-					//Log.d("Test", "error", e);
-				}
-			});
-		}
-	}
-}
-
-private class CommentListAdapter extends BaseAdapter {
-    public CommentListAdapter(Context context) {
-        mContext = context;
-    }
-
-    /**
-     * The number of items in the list is determined by the number of speeches
-     * in our array.
-     * 
-     * @see android.widget.ListAdapter#getCount()
-     */
-    public int getCount() {
-        return authors.length;
-    }
-
-    /**
-     * Since the data comes from an array, just returning the index is
-     * sufficent to get at the data. If we were using a more complex data
-     * structure, we would return whatever object represents one row in the
-     * list.
-     * 
-     * @see android.widget.ListAdapter#getItem(int)
-     */
-    public Object getItem(int position) {
-        return position;
-    }
-
-    /**
-     * Use the array index as a unique id.
-     * 
-     * @see android.widget.ListAdapter#getItemId(int)
-     */
-    public long getItemId(int position) {
-        return position;
-    }
-
-    /**
-     * Make a SpeechView to hold each row.
-     * 
-     * @see android.widget.ListAdapter#getView(int, android.view.View,
-     *      android.view.ViewGroup)
-     */
-    public View getView(int position, View convertView, ViewGroup parent) {
-        CommentView cv;
-        if (convertView == null) {
-            cv = new CommentView(mContext, authors[position],
-                    comments[position]);
-        } else {
-            cv = (CommentView) convertView;
-            cv.setAuthor(authors[position]);
-            cv.setComment(comments[position]);
-        }
-
-        return cv;
-    }
-
-    /**
-     * Remember our context so we can use it when constructing views.
-     */
-    private Context mContext;
-    
-    /**
-     * Our data, part 1.
-     */
-}
-
-private class CommentView extends LinearLayout {
-    public CommentView(Context context, String author, String comment) {
-        super(context);
-
-        this.setOrientation(VERTICAL);
-
-        // Here we build the child views in code. They could also have
-        // been specified in an XML file.
-
-        tvAuthor = new TextView(context);
-        tvAuthor.setTextColor(Color.parseColor("#444444"));
-        tvAuthor.setPadding(4, 4, 4, 4);
-        tvAuthor.setText(author);
-        addView(tvAuthor, new LinearLayout.LayoutParams(
-                LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-
-        tvComment = new TextView(context);
-        tvComment.setTextColor(Color.parseColor("#444444"));
-        tvComment.setPadding(4, 4, 4, 4);
-        tvComment.setText(comment);
-        addView(tvComment, new LinearLayout.LayoutParams(
-                LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-        
-    }
-
-    /**
-     * Convenience methods
-     */
-    public void setAuthor(String authorName) {
-        tvAuthor.setText(authorName);
-    }
-    public void setComment(String comment) {
-        tvComment.setText(comment);
-    }
-
-    private TextView tvAuthor;
-    private TextView tvComment;
-}
-
-}
-
-
diff --git a/src/com/roundhill/androidWP/viewLocalDrafts.java b/src/com/roundhill/androidWP/viewLocalDrafts.java
deleted file mode 100644
index 8bf19a453cbe..000000000000
--- a/src/com/roundhill/androidWP/viewLocalDrafts.java
+++ /dev/null
@@ -1,1110 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.io.ByteArrayOutputStream;
-import java.io.DataInputStream;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.Map;
-import java.util.Vector;
-
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ListActivity;
-import android.app.ProgressDialog;
-import android.content.ContentUris;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.database.Cursor;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Color;
-import android.graphics.Matrix;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.os.Looper;
-import android.provider.MediaStore.Images;
-import android.view.ContextMenu;
-import android.view.Gravity;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.widget.AdapterView;
-import android.widget.BaseAdapter;
-import android.widget.EditText;
-import android.widget.ListView;
-import android.widget.RelativeLayout;
-import android.widget.Spinner;
-import android.widget.TextView;
-import android.widget.AdapterView.OnItemClickListener;
-
-
-public class viewLocalDrafts extends ListActivity {
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	private Integer[] postIDs;
-	private String[] titles;
-	private Integer[] publish;
-	private Integer[] uploaded;
-	private String id = "";
-	private String accountName = "";
-	Vector postNames = new Vector();
-	int selectedID = 0;
-	int rowID = 0;
-	private int ID_DIALOG_POSTING = 1;
-	public static long globalData = 0;
-	public ProgressDialog pd, imagePD;
-	public boolean postStatus = false;
-	String[] mFiles=null;
-	public String thumbnailPath = null;
-	public String imagePath = null;
-	public String imageTitle = null;
-	public Vector imageUrl = new Vector();
-	public Vector thumbnailUrl = new Vector();
-	private final Handler mHandler = new Handler();
-	public String finalResult = null;
-	Vector selectedCategories = new Vector();
-	public ArrayList<CharSequence> textArray = new ArrayList<CharSequence>();
-	public ArrayList<CharSequence> loadTextArray = new ArrayList<CharSequence>();
-	public Boolean newStart = true;
-	public String categoryErrorMsg = "";
-	private Vector<Uri> selectedImageIDs = new Vector();
-	private int selectedImageCtr = 0;
-    private String newID = "";
-    public String sMaxImageWidth = "";
-    public boolean centerThumbnail = false;
-    public String sImagePlacement = "";
-    public String content = "";
-    public boolean sFullSizeImage  = false;
-    String finalThumbURL = "";
-    public int imgLooper;
-    public String imageContent = "";
-    public String imgHTML = "";
-    public boolean thumbnailOnly, secondPass, xmlrpcError = false;
-    public String submitResult = "";
-	
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        setContentView(R.layout.viewlocaldrafts);
-        
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-        }
-        
-        this.setTitle(escapeUtils.unescapeHtml(accountName) + " - Local Drafts");
-        //query for posts and refresh view
-
-
-        boolean loadedPosts = loadPosts();
-        
-
-         /*   final customImageButton addNewPost = (customImageButton) findViewById(R.id.newPost);   
-            
-            addNewPost.setOnClickListener(new customImageButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent i = new Intent(viewLocalDrafts.this, newPost.class);
-                	i.putExtra("accountName", accountName);
- 	                i.putExtra("id", id);
- 	                startActivityForResult(i, 0);
-                	 
-                }
-        });
-            
-            
-final customImageButton moderate = (customImageButton) findViewById(R.id.moderate);   
-            
-            moderate.setOnClickListener(new customImageButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent i = new Intent(viewLocalDrafts.this, moderateComments.class);
-                	i.putExtra("accountName", accountName);
- 	                i.putExtra("id", id);
- 	                startActivityForResult(i, 0);
-                	 
-                }
-        });*/
-        
-        
-    }
-    
-    private boolean loadPosts(){ //loads posts from the db
-   	
-       localDraftsDB lDraftsDB = new localDraftsDB(this);
-   	Vector loadedPosts = lDraftsDB.loadPosts(viewLocalDrafts.this, id);
-   	if (loadedPosts != null){
-   	postIDs = new Integer[loadedPosts.size()];
-   	titles = new String[loadedPosts.size()];
-   	publish = new Integer[loadedPosts.size()];
-   	uploaded = new Integer[loadedPosts.size()];
-   	
-					    for (int i=0; i < loadedPosts.size(); i++){
-					        HashMap contentHash = (HashMap) loadedPosts.get(i);
-					        postIDs[i] = (Integer) contentHash.get("id");
-					        titles[i] = escapeUtils.unescapeHtml(contentHash.get("title").toString());
-					        publish[i] = (Integer) contentHash.get("publish");
-					        uploaded[i] = (Integer) contentHash.get("uploaded");
-					    }
-					   
-			        
-					   setListAdapter(new CommentListAdapter(viewLocalDrafts.this));
-					
-					   ListView listView = (ListView) findViewById(android.R.id.list);
-					   listView.setSelector(R.layout.list_selector);
-					   
-					   listView.setOnItemClickListener(new OnItemClickListener() {
-
-							public void onNothingSelected(AdapterView<?> arg0) {
-								
-							}
-
-							public void onItemClick(AdapterView<?> arg0, View arg1,
-									int arg2, long arg3) {
-								Intent intent = new Intent(viewLocalDrafts.this, editPost.class);
-			                    intent.putExtra("postID", postIDs[(int) arg3]);
-			                    intent.putExtra("postTitle", titles[(int) arg3]);
-			                    intent.putExtra("id", id);
-			                    intent.putExtra("accountName", accountName);
-			                    intent.putExtra("localDraft", true);
-			                    startActivity(intent);
-								
-							}
-
-			            });
-					   
-	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	                   
-	                   
-	                   selectedID = info.targetView.getId();
-	                   rowID = info.position;
-	                   
-				 menu.setHeaderTitle("Post Actions");
-                 menu.add(0, 0, 0, "Edit Draft");
-                 menu.add(0, 1, 0, "Upload Draft to Blog");
-                 menu.add(0, 2, 0, "Delete Draft");
-				}
-	          });
-   	
-	return true;
-    }
-   	else{
-   		return false;
-   	}
-   }
-
-    private class CommentListAdapter extends BaseAdapter {
-        public CommentListAdapter(Context context) {
-            mContext = context;
-        }
-
-        /**
-         * The number of items in the list is determined by the number of speeches
-         * in our array.
-         * 
-         * @see android.widget.ListAdapter#getCount()
-         */
-        public int getCount() {
-            return postIDs.length;
-        }
-
-        /**
-         * Since the data comes from an array, just returning the index is
-         * sufficent to get at the data. If we were using a more complex data
-         * structure, we would return whatever object represents one row in the
-         * list.
-         * 
-         * @see android.widget.ListAdapter#getItem(int)
-         */
-        public Object getItem(int position) {
-            return position;
-        }
-
-        /**
-         * Use the array index as a unique id.
-         * 
-         * @see android.widget.ListAdapter#getItemId(int)
-         */
-        public long getItemId(int position) {
-            return position;
-        }
-        
-        public long getListId(int position){
-        	return postIDs[position];
-        }
-
-        /**
-         * Make a SpeechView to hold each row.
-         * 
-         * @see android.widget.ListAdapter#getView(int, android.view.View,
-         *      android.view.ViewGroup)
-         */
-        public View getView(int position, View convertView, ViewGroup parent) {
-        	
-            CommentView cv;
-            if (convertView == null) {
-                cv = new CommentView(mContext, postIDs[position], titles[position], publish[position]);
-            } else {
-                cv = (CommentView) convertView;
-                cv.setId(postIDs[position]);
-                cv.setTitle(titles[position]);
-                cv.setPublished(publish[position]);
-            }
-
-            return cv;
-        }
-
-        /**
-         * Remember our context so we can use it when constructing views.
-         */
-        private Context mContext;
-        
-        /**
-         * Our data, part 1.
-         */
-    }
-
-    private class CommentView extends RelativeLayout {
-        public CommentView(Context context, final Integer postID, String title, Integer published) {
-            super(context);
-
-            
-            this.setPadding(4, 4, 4, 4);
-            this.setId(postID);
-
-            // Here we build the child views in code. They could also have
-            // been specified in an XML file.
-            
-            tvTitle = new TextView(context);
-            tvTitle.setText(title);
-            tvTitle.setTextSize(20);
-            tvTitle.setTextColor(Color.parseColor("#444444"));
-            tvTitle.setGravity(Gravity.LEFT);
-            tvTitle.setId(100001);
-            
-            RelativeLayout.LayoutParams param2 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.FILL_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);  
-            //param2.addRule(RelativeLayout.LEFT_OF,100000);
-            //param2.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
-            
-            addView(tvTitle, param2);
-            
-            tvPublish = new TextView(context);
-            if (published == 1){
-            tvPublish.setTextColor(Color.parseColor(("#73B646")));
-            tvPublish.setText("Publish");
-            }
-            else{
-            	tvPublish.setTextColor(Color.parseColor(("#ABABAB")));
-            	tvPublish.setText("Will not publish");
-            }
-            
-            tvPublish.setTextSize(12);
-            
-            RelativeLayout.LayoutParams param3 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);  
-            param3.addRule(RelativeLayout.BELOW,100001);
-            
-            addView(tvPublish, param3);
-            
-            
-       
-        }
-
-        /**
-         * Convenience method to set the title of a postView
-         */
-        public void setTitle(String titleName) {
-            tvTitle.setText(titleName);
-        }
-        
-        public void setPublished(Integer published) {
-        	if (published == 1){
-                tvPublish.setTextColor(Color.parseColor(("#73B646")));
-                tvPublish.setText("Published");
-                }
-                else{
-                	tvPublish.setTextColor(Color.parseColor(("#ABABAB")));
-                	tvPublish.setText("Unpublished");
-                }
-        }
-
-        private TextView tvTitle;
-        private TextView tvPublish;
-    }
-    
-
-@Override
-protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-	// TODO Auto-generated method stub
-	super.onActivityResult(requestCode, resultCode, data);
-
-	switch(requestCode) {
-	case 0:
-	    //displayAccounts();
-	    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-		//refreshPosts();
-	    break;
-	}
-
-}
-
-@Override
-public boolean onContextItemSelected(MenuItem item) {
-
-     /* Switch on the ID of the item, to get what the user selected. */
-     switch (item.getItemId()) {
-          case 0:
-        	  Intent i2 = new Intent(viewLocalDrafts.this, editPost.class);
-              i2.putExtra("postID", String.valueOf(selectedID));
-              i2.putExtra("postTitle", titles[rowID]);
-              i2.putExtra("id", id);
-              i2.putExtra("accountName", accountName);
-              i2.putExtra("localDraft", true);
-              startActivity(i2);
-        	  return true;
-          case 1:
-        	  showDialog(ID_DIALOG_POSTING);
-        	  
-        	  
-        	  new Thread() {
-                  public void run() { 	  
-        	  
-		try {
-			submitResult = submitPost();
-			
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		
-                  }
-              }.start(); 
-              	
-              
-              
-              
-        	  return true;
-          case 2:
-        	  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewLocalDrafts.this);
-  			  dialogBuilder.setTitle("Delete Post?");
-              dialogBuilder.setMessage("Are you sure you want to delete the draft '" + titles[rowID] + "'?");
-              dialogBuilder.setPositiveButton("OK",  new
-            		  DialogInterface.OnClickListener() {
-                  public void onClick(DialogInterface dialog, int whichButton) {
-                	  localDraftsDB lDraftsDB = new localDraftsDB(viewLocalDrafts.this);
-                	  
-                	  lDraftsDB.deletePost(viewLocalDrafts.this, String.valueOf(selectedID));
-                	  loadPosts();
-              
-                  }
-              });
-              dialogBuilder.setNegativeButton("Cancel",  new
-            		  DialogInterface.OnClickListener() {
-                  public void onClick(DialogInterface dialog, int whichButton) {
-                      // Just close the window.
-              
-                  }
-              });
-              dialogBuilder.setCancelable(true);
-             dialogBuilder.create().show();
-        	  
-     }
-     return false;
-}
-
-public String submitPost() throws IOException {
-	
-	
-	//grab the form data
-	localDraftsDB lDraftsDB = new localDraftsDB(this);
-	Vector post = lDraftsDB.loadPost(this, String.valueOf(selectedID));
-	
-	HashMap postHashMap = (HashMap) post.get(0);
-	
-	EditText titleET = (EditText)findViewById(R.id.title);
-	EditText contentET = (EditText)findViewById(R.id.content);
-	
-	String title = postHashMap.get("title").toString();
-	String content = postHashMap.get("content").toString();
-	
-	String picturePaths = postHashMap.get("picturePaths").toString();
-	
-	if (!picturePaths.equals("")){
-		String[] pPaths = picturePaths.split(",");
-		
-		for (int i = 0; i < pPaths.length; i++)
-		{
-			Uri imagePath = Uri.parse(pPaths[i]); 
-			selectedImageIDs.add(selectedImageCtr, imagePath);
-	        imageUrl.add(selectedImageCtr, pPaths[i]);
-	        selectedImageCtr++;
-		}
-		
-	}
-	
-	String categories = postHashMap.get("categories").toString();
-	if (!categories.equals("")){
-		
-		String[] aCategories = categories.split(",");
-		
-		for (int i=0; i < aCategories.length; i++)
-		{
-			selectedCategories.add(aCategories[i]);
-		}
-		
-	}
-	
-	String tags = postHashMap.get("tags").toString();
-	
-	int publish = Integer.valueOf(postHashMap.get("publish").toString());
-	
-	
-    Boolean publishThis = false;
-    
-    if (publish == 1){
-    	publishThis = true;
-    }
-    String imageContent = "";
-    //upload the images and return the HTML
-    for (int it = 0; it < selectedImageCtr; it++){
-        
-        imageContent +=  uploadImage(selectedImageIDs.get(it).toString());
-
-        }
-
-    Integer blogID = 1; //never changes with wordpress, so far
-    
-    Vector<Object> myPostVector = new Vector<Object> ();
-    String res = null;
-    //before we do anything, validate that the user has entered settings
-    boolean enteredSettings = checkSettings();
- 
-    if (!enteredSettings){
-    	res = "invalidSettings";
-    }
-    else if (title.equals("") || content.equals(""))
-    {
-    	res = "emptyFields";
-    }
-    else {
-    
-    // categoryID = getCategoryId(selectedCategory);
-    String[] theCategories = new String[selectedCategories.size()];
-    
-    int catSize = selectedCategories.size();
-    
-    for(int i=0; i < selectedCategories.size(); i++)
-    {
-		theCategories[i] = selectedCategories.get(i).toString();
-    }
-    
-  //
-    settingsDB settingsDB = new settingsDB(this);
-	Vector categoriesVector = settingsDB.loadSettings(this, id);   	
-	
-    	String sURL = "";
-    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = categoriesVector.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = categoriesVector.get(2).toString();
-		String sPassword = categoriesVector.get(3).toString();
-		String sImagePlacement = categoriesVector.get(4).toString();
-		String sCenterThumbnailString = categoriesVector.get(5).toString();
-		String sFullSizeImageString = categoriesVector.get(6).toString();
-		boolean sFullSizeImage  = false;
-		if (sFullSizeImageString.equals("1")){
-			sFullSizeImage = true;
-		}
-
-		boolean centerThumbnail = false;
-		if (sCenterThumbnailString.equals("1")){
-			centerThumbnail = true;
-		}
-    
-    Map<String, Object> contentStruct = new HashMap<String, Object>();
-  
-    if(imageContent != ""){
-    	if (sImagePlacement.equals("Above Text")){
-    		content = imageContent + content;
-    	}
-    	else{
-    		content = content + imageContent;
-    	}
-    }
-    
-    contentStruct.put("post_type", "post");
-    contentStruct.put("title", escapeUtils.escapeHtml(title));
-    contentStruct.put("description", escapeUtils.escapeHtml(content));
-    if (tags != ""){
-    contentStruct.put("mt_keywords", escapeUtils.escapeHtml(tags));
-    }
-    if (theCategories.length > 0){
-    contentStruct.put("categories", theCategories);
-    }
-    
-
-    
-    client = new XMLRPCClient(sURL);
-    
-    Object[] params = {
-    		1,
-    		sUsername,
-    		sPassword,
-    		contentStruct,
-    		publishThis
-    };
-    
-    Object result = null;
-    try {
-		result = (Object) client.call("metaWeblog.newPost", params);
-	} catch (XMLRPCException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
-
-			newID = result.toString();
-			res = "OK";
-			dismissDialog(ID_DIALOG_POSTING);
-			
-			Thread action = new Thread() 
-			{ 
-			  public void run() 
-			  {
-				  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewLocalDrafts.this);
-	  			  dialogBuilder.setTitle("Success");
-	              dialogBuilder.setMessage("Post #" + newID + " added successfully");
-	              dialogBuilder.setPositiveButton("OK",  new
-	            		  DialogInterface.OnClickListener() {
-	                  public void onClick(DialogInterface dialog, int whichButton) {
-	                      // Just close the window.
-	              
-	                  }
-	              });
-	              dialogBuilder.setCancelable(true);
-	             dialogBuilder.create().show();
-
-			  } 
-			}; 
-			this.runOnUiThread(action);
-          	  
-            
-
-    }// if/then for valid settings
-    
-	return res;
-}
-
-public boolean checkSettings(){
-	//see if the user has any saved preferences
-	 settingsDB settingsDB = new settingsDB(this);
-    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-    	String sURL = null, sUsername = null, sPassword = null;
-    	if (categoriesVector != null){
-    		sURL = categoriesVector.get(0).toString();
-    		sUsername = categoriesVector.get(1).toString();
-    		sPassword = categoriesVector.get(2).toString();
-    	}
-
-    boolean validSettings = false;
-    
-    if ((sURL != "" && sUsername != "" && sPassword != "") && (sURL != null && sUsername != null && sPassword != null)){
-    	validSettings = true;
-    }
-    
-    return validSettings;
-}
-
-@Override
-protected Dialog onCreateDialog(int id) {
-if(id == ID_DIALOG_POSTING){
-ProgressDialog loadingDialog = new ProgressDialog(this);
-loadingDialog.setMessage("Attempting to submit post...");
-loadingDialog.setIndeterminate(true);
-loadingDialog.setCancelable(false);
-return loadingDialog;
-}
-
-return super.onCreateDialog(id);
-}
-public String uploadImage(String imageURL){
-    
-    int finalHeight = 0;
-    
-    //images variables
-
-    
-    //get the settings
-    settingsDB settingsDB = new settingsDB(viewLocalDrafts.this);
-	Vector categoriesVector = settingsDB.loadSettings(viewLocalDrafts.this, id);   	
-	
-    	String sURL = "";
-    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = categoriesVector.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = categoriesVector.get(2).toString();
-		String sPassword = categoriesVector.get(3).toString();
-		sImagePlacement = categoriesVector.get(4).toString();
-		String sCenterThumbnailString = categoriesVector.get(5).toString();
-		
-		//removed this as a quick fix to get rid of full size upload option
-		/*if (sFullSizeImageString.equals("1")){
-			sFullSizeImage = true;
-		}*/  
-
-		
-		if (sCenterThumbnailString.equals("1")){
-			centerThumbnail = true;
-		}
-		sMaxImageWidth = categoriesVector.get(7).toString();
-
-    //new loop for multiple images
-    
-    
-
-    //check for image, and upload it
-
-       client = new XMLRPCClient(sURL);
-
- 	   String curImagePath = "";
- 	   
- 	   
- 		curImagePath = imageURL;
-
- 	   Uri imageUri = Uri.parse(curImagePath);
- 	   
- 	   String imgID = imageUri.getLastPathSegment();
- 	   long imgID2 = Long.parseLong(imgID);
- 	   
- 	  String[] projection; 
-
- 	  projection = new String[] {
-       		    Images.Media._ID,
-       		    Images.Media.DATA
-       		};
- 	  
- 	  
- 	   Uri imgPath;
-
- 	   imgPath = ContentUris.withAppendedId(Images.Media.EXTERNAL_CONTENT_URI, imgID2);
- 	   
- 	   
- 	   
-	Cursor cur = managedQuery(imgPath, projection, null, null, null);
- 	  String thumbData = "";
- 	 
- 	  if (cur.moveToFirst()) {
- 		  
- 		int nameColumn, dataColumn, heightColumn, widthColumn;
- 		
- 			nameColumn = cur.getColumnIndex(Images.Media._ID);
- 	        dataColumn = cur.getColumnIndex(Images.Media.DATA);             	            
-       
-       thumbData = cur.getString(dataColumn);
-
- 	  }
- 	   
- 	   File jpeg = new File(thumbData);
- 	   
- 	   imageTitle = jpeg.getName();
- 	  
- 	   byte[] bytes = new byte[(int) jpeg.length()];
- 	   
- 	   DataInputStream in = null;
-	try {
-		in = new DataInputStream(new FileInputStream(jpeg));
-	} catch (FileNotFoundException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
- 	   try {
-		in.readFully(bytes);
-	} catch (IOException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
- 	   try {
-		in.close();
-	} catch (IOException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
-	
-	//create the thumbnail
-	BitmapFactory.Options opts = new BitmapFactory.Options();
-    opts.inJustDecodeBounds = true;
-    Bitmap bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-    
-    int width = opts.outWidth;
-    int height = opts.outHeight; 
-    
-    int finalWidth = 500;  //default to this if there's a problem
-    //Change dimensions of thumbnail
-    
-    byte[] finalBytes;
-    
-    if (sMaxImageWidth.equals("Original Size")){
-    	if (bytes.length > 1000000) //it's a biggie! don't want out of memory crash
-    	{
-    		float finWidth = 1000;
-    		int sample = 0;
-
-    		float fWidth = width;
-            sample= new Double(Math.ceil(fWidth / finWidth)).intValue();
-            
-    		if(sample == 3){
-                sample = 4;
-    		}
-    		else if(sample > 4 && sample < 8 ){
-                sample = 8;
-    		}
-    		
-    		opts.inSampleSize = sample;
-    		opts.inJustDecodeBounds = false;
-    		
-    		float percentage = (float) finalWidth / width;
-    		float proportionateHeight = height * percentage;
-    		finalHeight = (int) Math.rint(proportionateHeight);
-    	
-            bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-            
-            
-            ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-            bm.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-            
-            bm.recycle(); //free up memory
-            
-            finalBytes = baos.toByteArray();
-    	}
-    	else
-    	{
-    	finalBytes = bytes;
-    	} 
-    	
-    }
-    else
-    {
-       	finalWidth = Integer.parseInt(sMaxImageWidth);
-    	if (finalWidth > width){
-    		//don't resize
-    		finalBytes = bytes;
-    	}
-    	else
-        {
-        		int sample = 0;
-
-        		float fWidth = width;
-                sample= new Double(Math.ceil(fWidth / 1200)).intValue();
-                
-        		if(sample == 3){
-                    sample = 4;
-        		}
-        		else if(sample > 4 && sample < 8 ){
-                    sample = 8;
-        		}
-        		
-        		opts.inSampleSize = sample;
-        		opts.inJustDecodeBounds = false;
-        		
-                bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-                
-                float percentage = (float) finalWidth / bm.getWidth();
-        		float proportionateHeight = bm.getHeight() * percentage;
-        		finalHeight = (int) Math.rint(proportionateHeight);
-        		
-        		float scaleWidth = ((float) finalWidth) / bm.getWidth(); 
-    	        float scaleHeight = ((float) finalHeight) / bm.getHeight(); 
-
-                
-    	        float scaleBy = Math.min(scaleWidth, scaleHeight);
-    	        
-    	        // Create a matrix for the manipulation 
-    	        Matrix matrix = new Matrix(); 
-    	        // Resize the bitmap 
-    	        matrix.postScale(scaleBy, scaleBy); 
-
-    	        Bitmap resized = Bitmap.createBitmap(bm, 0, 0, bm.getWidth(), bm.getHeight(), matrix, true);
-
-                ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-                resized.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-                
-                bm.recycle(); //free up memory
-                resized.recycle();
-                
-                finalBytes = baos.toByteArray();
-        	}
-    	
-        
-    }
-
-        //try and upload the freakin' image
-        //imageRes = service.ping(sURL + "/xmlrpc.php", sXmlRpcMethod, myPictureVector);
-        String contentType = "image/jpg";
-        Map<String, Object> m = new HashMap<String, Object>();
-
-        HashMap hPost = new HashMap();
-
-        	
-        m.put("name", imageTitle);
-        m.put("type", contentType);
-        m.put("bits", finalBytes);
-        m.put("overwrite", true);
-
-		client = new XMLRPCClient(sURL);
-    	
-    	XMLRPCMethodImages method = new XMLRPCMethodImages("wp.uploadFile", new XMLRPCMethodCallback() {
-			public void callFinished(Object result) {
-				
-				imgHTML = ""; //start fresh
-				//Looper.myLooper().quit();
-				HashMap contentHash = new HashMap();
-				    
-				contentHash = (HashMap) result;
-
-				String resultURL = contentHash.get("url").toString();
-				
-				String finalImageUrl = "";
-				
-
-	            finalImageUrl = resultURL;
-				
-				//prepare the centering css if desired from user
-		           String centerCSS = " ";
-		           if (centerThumbnail){
-		        	   centerCSS = "style=\"display:block;margin-right:auto;margin-left:auto;\" ";
-		           }
-		           
-		     	   
-			           if (resultURL != null)
-			           {
-
-			   	        	if (sImagePlacement.equals("Above Text")){
-			   	        		
-			   	        		imgHTML +=  "<img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" /><br /><br />";
-			   	        	}
-			   	        	else{
-			   	        		imgHTML +=  "<br /><img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" />";
-			   	        	}        		
-			           	
-			           		
-			           }
-				
-				
-		           
-			}
-        });
-    	
-    	Object[] params = {
-        		1,
-        		sUsername,
-        		sPassword,
-        		m
-        };
-    	
-    	try {
-			method.call(params);
-		} catch (InterruptedException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-    	
-				        //titles[ctr] = contentHash.get("content").toString().substring(contentHash.get("content").toString().indexOf("<title>") + 7, contentHash.get("content").toString().indexOf("</title>"));
-				       // postIDs[ctr] = contentHash.get("postid").toString();
-
-    return imgHTML;
-}
-
-interface XMLRPCMethodCallback {
-	void callFinished(Object result);
-}
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		
-		handler = new Handler();
-		
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object result;
-			result = (Object) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-				dismissDialog(ID_DIALOG_POSTING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewLocalDrafts.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-		             
-				
-		} catch (final XMLRPCException e) {
-			
-			handler.post(new Runnable() {
-				public void run() {
-					
-					Throwable couse = e.getCause();
-					if (couse instanceof HttpHostConnectException) {
-						//pd.dismiss();
-						dismissDialog(ID_DIALOG_POSTING);
-						//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-					} else {
-						dismissDialog(ID_DIALOG_POSTING);
-						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewLocalDrafts.this);
-						  dialogBuilder.setTitle("Connection Error");
-			              dialogBuilder.setMessage(e.getMessage() + e.getLocalizedMessage());
-			              dialogBuilder.setPositiveButton("Ok",  new
-			            		  DialogInterface.OnClickListener() {
-	                          public void onClick(DialogInterface dialog, int whichButton) {
-	                              // Just close the window.
-	                      
-	                          }
-	                      });
-			              dialogBuilder.setCancelable(true);
-			             dialogBuilder.create().show();
-					}
-					//Log.d("Test", "error", e);
-					
-				}
-			});
-		}
-		
-	}
-}
-
-class XMLRPCMethodImages extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethodImages(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		
-		//handler = new Handler();
-		
-	}
-	public void call() throws InterruptedException {
-		call(null);
-	}
-	public void call(Object[] params) throws InterruptedException {		
-		this.params = params;
-		this.method = method;
-		//start();
-		//join();
-		final Object result;
-		try {
-			result = (Object) client.call(method, params);
-			callBack.callFinished(result);
-		} catch (XMLRPCException e) {
-			xmlrpcError = true;
-			e.printStackTrace();
-		}
-	}
-	@Override
-	public void run() {
-		
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object result;
-			result = (Object) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				
-				
-				}
-			});
-		} catch (final XMLRPCFault e) {
-					//pd.dismiss();
-					e.printStackTrace();
-		             
-				
-		} catch (final XMLRPCException e) {
-			
-			handler.post(new Runnable() {
-				public void run() {
-					
-					Throwable couse = e.getCause();
-					e.printStackTrace();
-					
-					//Log.d("Test", "error", e);
-					
-				}
-			});
-		}
-		
-	}
-}
-
-}
-
-
diff --git a/src/com/roundhill/androidWP/viewPages.java b/src/com/roundhill/androidWP/viewPages.java
deleted file mode 100644
index 048388d82372..000000000000
--- a/src/com/roundhill/androidWP/viewPages.java
+++ /dev/null
@@ -1,684 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ListActivity;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.app.ProgressDialog;
-import android.content.ComponentName;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.graphics.Color;
-import android.os.Bundle;
-import android.os.Handler;
-import android.view.ContextMenu;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.view.View.OnLongClickListener;
-import android.widget.AdapterView;
-import android.widget.BaseAdapter;
-import android.widget.Button;
-import android.widget.ImageButton;
-import android.widget.LinearLayout;
-import android.widget.ListView;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemClickListener;
-
-
-public class viewPages extends ListActivity {
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	private String[] pageIDs;
-	private String[] titles;
-	private String[] dateCreated;
-	private String[] parentIDs;
-	private String id = "";
-	private String accountName = "";
-	Vector postNames = new Vector();
-	int selectedID = 0;
-	private int ID_DIALOG_REFRESHING = 1;
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        setContentView(R.layout.viewposts);
-        
-        TextView longPress = (TextView) findViewById(R.id.longPress);
-        longPress.setText("Long press on a page to view actions");
-        
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-        }
-        
-        this.setTitle(escapeUtils.unescapeHtml(accountName) + " - View Pages");
-        //query for posts and refresh view
-
-
-        boolean loadedPages = loadPages();
-        
-        if (!loadedPages){
-        	refreshPages();
-        }
-        
-
-            final customMenuButton addNewPost = (customMenuButton) findViewById(R.id.newPost);   
-            
-            addNewPost.setOnClickListener(new customMenuButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent i = new Intent(viewPages.this, newPost.class);
-                	i.putExtra("accountName", accountName);
- 	                i.putExtra("id", id);
- 	                startActivityForResult(i, 0);
-                	 
-                }
-        });
-            
-final customMenuButton refresh = (customMenuButton) findViewById(R.id.refresh);   
-            
-            refresh.setOnClickListener(new customMenuButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	refreshPages();
-                	 
-                }
-        });
-        
-        
-    }
-    
-    private void refreshPages(){
-    	showDialog(ID_DIALOG_REFRESHING);
-    	Vector settings = new Vector();
-        settingsDB settingsDB = new settingsDB(this);
-    	settings = settingsDB.loadSettings(this, id);
-        
-    	
-    	String sURL = "";
-    	if (settings.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = settings.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = settings.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-        
-        	
-        	client = new XMLRPCClient(sURL);
-        	
-        	XMLRPCMethod method = new XMLRPCMethod("wp.getPageList", new XMLRPCMethodCallback() {
-				public void callFinished(Object[] result) {
-					String s = "done";
-					s = result.toString();
-
-					HashMap contentHash = new HashMap();
-					    
-					titles = new String[result.length];
-					pageIDs = new String[result.length];
-					dateCreated = new String[result.length];
-					parentIDs = new String[result.length];
-					Vector dbVector = new Vector();
-					
-					//loop this!
-					    for (int ctr = 0; ctr < result.length; ctr++){
-					    	HashMap<String, String> dbValues = new HashMap();
-					        contentHash = (HashMap) result[ctr];
-					        titles[ctr] = escapeUtils.unescapeHtml(contentHash.get("page_title").toString());
-					        pageIDs[ctr] = contentHash.get("page_id").toString();
-					        dateCreated[ctr] = contentHash.get("dateCreated").toString();	
-					        parentIDs[ctr] = contentHash.get("page_parent_id").toString();	
-					        dbValues.put("blogID", id);
-					        dbValues.put("pageID", pageIDs[ctr]);
-					        dbValues.put("parentID", parentIDs[ctr]);
-					        dbValues.put("title", titles[ctr]);
-					        dbValues.put("pageDate", dateCreated[ctr]);
-					        dbVector.add(ctr, dbValues);
-					    }
-					    
-					    postStoreDB postStoreDB = new postStoreDB(viewPages.this);
-					    postStoreDB.savePages(viewPages.this, dbVector);
-					   
-			        
-					   setListAdapter(new CommentListAdapter(viewPages.this));
-					   dismissDialog(viewPages.this.ID_DIALOG_REFRESHING);
-			        
-				}
-	        });
-	        Object[] params = {
-	        		1,
-	        		sUsername,
-	        		sPassword
-	        };
-	        
-	        
-	        method.call(params);
-	        
-	        ListView listView = (ListView) findViewById(android.R.id.list);
-	        
-	        listView.setOnLongClickListener(new OnLongClickListener(){
-				public boolean onLongClick(View v)  {
-					// TODO Auto-generated method stub
-					
-					return false;
-				}
-		           
-	        });
-	        
-	        
-	        listView.setOnItemClickListener(new OnItemClickListener() {
-
-				public void onNothingSelected(AdapterView<?> arg0) {
-					// TODO Auto-generated method stub
-					
-				}
-
-				public void onItemClick(AdapterView<?> arg0, View arg1,
-						int arg2, long arg3) {
-					Intent intent = new Intent(viewPages.this, editPost.class);
-                    intent.putExtra("postID", pageIDs[(int) arg3]);
-                    intent.putExtra("postTitle", titles[(int) arg3]);
-                    intent.putExtra("id", id);
-                    intent.putExtra("accountName", accountName);
-                    startActivity(intent);
-					
-				}
-
-            });
-	        
-	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	             selectedID = info.position;
-	            	   menu.add(0, 0, 0, "Preview Post");
-	                   menu.add(0, 1, 0, "View Comments");
-	                   menu.add(0, 2, 0, "Edit Post");
-				}
-	          }); 
-    }
-    
-    private boolean loadPages(){ //loads posts from the db
-   	
-       postStoreDB postStoreDB = new postStoreDB(this);
-      Vector loadedPosts = postStoreDB.loadPages(viewPages.this, id);
-   	if (loadedPosts != null){
-   	titles = new String[loadedPosts.size()];
-   	pageIDs = new String[loadedPosts.size()];
-   	dateCreated = new String[loadedPosts.size()];
-					    for (int i=0; i < loadedPosts.size(); i++){
-					        HashMap contentHash = (HashMap) loadedPosts.get(i);
-					        titles[i] = escapeUtils.unescapeHtml(contentHash.get("title").toString());
-					        pageIDs[i] = contentHash.get("pageID").toString();
-					        dateCreated[i] = contentHash.get("pageDate").toString();					        
-					    }
-					   
-			        
-					   setListAdapter(new CommentListAdapter(viewPages.this));
-					
-					   ListView listView = (ListView) findViewById(android.R.id.list);
-					   listView.setSelector(R.layout.list_selector);
-					   
-					   listView.setOnItemClickListener(new OnItemClickListener() {
-
-							public void onNothingSelected(AdapterView<?> arg0) {
-								
-							}
-
-							public void onItemClick(AdapterView<?> arg0, View arg1,
-									int arg2, long arg3) {
-								Intent intent = new Intent(viewPages.this, editPost.class);
-			                    intent.putExtra("pageID", pageIDs[(int) arg3]);
-			                    intent.putExtra("postTitle", titles[(int) arg3]);
-			                    intent.putExtra("id", id);
-			                    intent.putExtra("accountName", accountName);
-			                    startActivity(intent);
-								
-							}
-
-			            });
-					   
-	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	             selectedID = info.position;
-	                   
-				 menu.setHeaderTitle("Post Actions");
-				 menu.add(0, 0, 0, "Preview Page");
-                 menu.add(0, 1, 0, "View Comments");
-                 menu.add(0, 2, 0, "Edit Page");
-				}
-	          });
-   	
-	return true;
-    }
-   	else{
-   		return false;
-   	}
-   }
-
-    private class CommentListAdapter extends BaseAdapter {
-        public CommentListAdapter(Context context) {
-            mContext = context;
-        }
-
-        /**
-         * The number of items in the list is determined by the number of speeches
-         * in our array.
-         * 
-         * @see android.widget.ListAdapter#getCount()
-         */
-        public int getCount() {
-            return pageIDs.length;
-        }
-
-        /**
-         * Since the data comes from an array, just returning the index is
-         * sufficent to get at the data. If we were using a more complex data
-         * structure, we would return whatever object represents one row in the
-         * list.
-         * 
-         * @see android.widget.ListAdapter#getItem(int)
-         */
-        public Object getItem(int position) {
-            return position;
-        }
-
-        /**
-         * Use the array index as a unique id.
-         * 
-         * @see android.widget.ListAdapter#getItemId(int)
-         */
-        public long getItemId(int position) {
-            return position;
-        }
-
-        /**
-         * Make a SpeechView to hold each row.
-         * 
-         * @see android.widget.ListAdapter#getView(int, android.view.View,
-         *      android.view.ViewGroup)
-         */
-        public View getView(int position, View convertView, ViewGroup parent) {
-        	
-            CommentView cv;
-            if (convertView == null) {
-                cv = new CommentView(mContext, titles[position],
-                        dateCreated[position]);
-            } else {
-                cv = (CommentView) convertView;
-                cv.setTitle(titles[position]);
-                cv.setDate(dateCreated[position]);
-            }
-
-            return cv;
-        }
-
-        /**
-         * Remember our context so we can use it when constructing views.
-         */
-        private Context mContext;
-        
-        /**
-         * Our data, part 1.
-         */
-    }
-
-    private class CommentView extends LinearLayout {
-        public CommentView(Context context, String title, String date) {
-            super(context);
-
-            this.setOrientation(VERTICAL);
-            this.setPadding(4, 4, 4, 4);
-
-            // Here we build the child views in code. They could also have
-            // been specified in an XML file.
-
-            tvTitle = new TextView(context);
-            tvTitle.setText(title);
-            tvTitle.setTextSize(20);
-            tvTitle.setTextColor(Color.parseColor("#444444"));
-            addView(tvTitle, new LinearLayout.LayoutParams(
-                    LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-
-            tvDate = new TextView(context);
-            
-            String customDate = date;
-            tvDate.setText(customDate);
-            addView(tvDate, new LinearLayout.LayoutParams(
-                    LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-        }
-
-        /**
-         * Convenience method to set the title of a SpeechView
-         */
-        public void setTitle(String titleName) {
-            tvTitle.setText(titleName);
-        }
-
-        /**
-         * Convenience method to set the dialogue of a SpeechView
-         */
-        public void setDate(String date) {
-            tvDate.setText(date);
-        }
-
-        private TextView tvTitle;
-        private TextView tvDate;
-    }
-    
-    
-interface XMLRPCMethodCallback {
-	void callFinished(Object[] result);
-}
-
-public String parseDate(String date){
-	int hour = Integer.parseInt(date.substring(11, 13));
-    
-    String amPM = "AM";
-    if (hour >= 12){
-    	if (hour > 12){
-    		hour = hour - 12;
-    	}
-    	amPM = "PM";
-    }
-    else if (hour == 0){
-    	hour = 24;
-    	amPM = "AM";
-    }
-    
-    String monthName = date.substring(4, 7);
-    
-    if (monthName.equals("Jan")){
-    	monthName = "January";
-    }
-    else if (monthName.equals("Feb")){
-    	monthName = "February";
-    }
-    else if (monthName.equals("Mar")){
-    	monthName = "March";
-    }
-    else if (monthName.equals("Apr")){
-    	monthName = "April";
-    }
-    else if (monthName.equals("May")){
-    	monthName = "May";
-    }
-    else if (monthName.equals("Jun")){
-    	monthName = "June";
-    }
-    else if (monthName.equals("Jul")){
-    	monthName = "July";
-    }
-    else if (monthName.equals("Aug")){
-    	monthName = "August";
-    }
-    else if (monthName.equals("Sep")){
-    	monthName = "September";
-    }
-    else if (monthName.equals("Oct")){
-    	monthName = "October";
-    }
-    else if (monthName.equals("Nov")){
-    	monthName = "November";
-    }
-    else if (monthName.equals("Dec")){
-    	monthName = "December";
-    }
-    
-    String customDate =  monthName + " " + date.substring(8, 10) + ", " + date.substring(24) + " " + hour + ":" + date.substring(14, 16) + " " + amPM;
-    return customDate;
-}
-
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		handler = new Handler();
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object[] result = (Object[]) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					dismissDialog(viewPages.this.ID_DIALOG_REFRESHING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPages.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-					dismissDialog(viewPages.this.ID_DIALOG_REFRESHING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPages.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getMessage());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // Just close the window.
-                    
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-				}
-			});
-		}
-	}
-}
-//Add settings to menu
-@Override
-public boolean onCreateOptionsMenu(Menu menu) {
-    super.onCreateOptionsMenu(menu);
-    menu.add(0, 0, 0, "Blog Settings");
-    MenuItem menuItem1 = menu.findItem(0);
-    menuItem1.setIcon(R.drawable.ic_menu_preferences);
-    menu.add(0, 1, 0, "Delete Blog");
-    MenuItem menuItem2 = menu.findItem(1);
-    menuItem2.setIcon(R.drawable.ic_notification_clear_all);
-    
-    return true;
-}
-//Menu actions
-@Override
-public boolean onOptionsItemSelected(final MenuItem item){
-    switch (item.getItemId()) {
-    case 0:
-    	
-    	Bundle bundle = new Bundle();
-		bundle.putString("id", id);
-		bundle.putString("accountName", accountName);
-    	Intent i = new Intent(this, settings.class);
-    	i.putExtras(bundle);
-    	startActivityForResult(i, 0);
-    	
-    	return true;
-	case 1:
-		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPages.this);
-		  dialogBuilder.setTitle("Delete Account");
-      dialogBuilder.setMessage("Are you sure you want to delete this blog from wpToGo?");
-      dialogBuilder.setPositiveButton("Yes",  new
-    		  DialogInterface.OnClickListener() {
-            public void onClick(DialogInterface dialog, int whichButton) {
-                // User clicked Accept so set that they've agreed to the eula.
-            	settingsDB settingsDB = new settingsDB(viewPages.this);
-              boolean deleteSuccess = settingsDB.deleteAccount(viewPages.this, id);
-              if (deleteSuccess)
-              {
-            	  Toast.makeText(viewPages.this, "Blog deleted successfully",
-                          Toast.LENGTH_SHORT).show();
-            	  finish();
-              }
-              else
-              {
-            	  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPages.this);
-      			  dialogBuilder.setTitle("Error");
-                  dialogBuilder.setMessage("Could not delete blog, you may need to reinstall wpToGo.");
-                  dialogBuilder.setPositiveButton("OK",  new
-                		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // just close the dialog
-                        	
-                    
-                        }
-                    });
-                  dialogBuilder.setCancelable(true);
-                 dialogBuilder.create().show();
-              }
-        
-            }
-        });
-      dialogBuilder.setNegativeButton("No", new
-    		  DialogInterface.OnClickListener() {
-            public void onClick(DialogInterface dialog, int whichButton) {
-                finish();  //goodbye!
-            }
-        });
-      dialogBuilder.setCancelable(false);
-     dialogBuilder.create().show();
-	
-	
-	return true;
-}
-  return false;	
-}
-
-@Override
-protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-	// TODO Auto-generated method stub
-	super.onActivityResult(requestCode, resultCode, data);
-
-	switch(requestCode) {
-	case 0:
-	    //displayAccounts();
-	    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-		//refreshPosts();
-	    break;
-	}
-
-}
-
-@Override
-public boolean onContextItemSelected(MenuItem item) {
-
-     /* Switch on the ID of the item, to get what the user selected. */
-     switch (item.getItemId()) {
-     	  case 0:
-     		 Intent i0 = new Intent(viewPages.this, viewPost.class);
-             i0.putExtra("postID", pageIDs[selectedID]);
-             i0.putExtra("postTitle", titles[selectedID]);
-             i0.putExtra("id", id);
-             i0.putExtra("accountName", accountName);
-             startActivity(i0);
-             return true;
-          case 1:     
-        	  Intent i = new Intent(viewPages.this, viewComments.class);
-              i.putExtra("postID", pageIDs[selectedID]);
-              i.putExtra("postTitle", titles[selectedID]);
-              i.putExtra("id", id);
-              i.putExtra("accountName", accountName);
-              startActivity(i);
-              return true; 
-          case 2:
-        	  Intent i2 = new Intent(viewPages.this, editPost.class);
-              i2.putExtra("postID", pageIDs[selectedID]);
-              i2.putExtra("postTitle", titles[selectedID]);
-              i2.putExtra("id", id);
-              i2.putExtra("accountName", accountName);
-              startActivity(i2);
-        	  return true;
-     }
-     return false;
-}
-
-@Override
-protected Dialog onCreateDialog(int id) {
-if(id == ID_DIALOG_REFRESHING){
-ProgressDialog loadingDialog = new ProgressDialog(this);
-loadingDialog.setMessage("Please wait while refreshing pages...");
-loadingDialog.setIndeterminate(true);
-loadingDialog.setCancelable(true);
-return loadingDialog;
-}
-
-return super.onCreateDialog(id);
-}
-
-}
-
-
diff --git a/src/com/roundhill/androidWP/viewPost.java b/src/com/roundhill/androidWP/viewPost.java
deleted file mode 100644
index 4cb607fb6249..000000000000
--- a/src/com/roundhill/androidWP/viewPost.java
+++ /dev/null
@@ -1,177 +0,0 @@
-//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.ProgressDialog;
-import android.content.DialogInterface;
-import android.os.Bundle;
-import android.os.Handler;
-import android.webkit.WebView;
-
-
-public class viewPost extends Activity {
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	public String[] authors;
-	public String[] comments;
-	private String id = "";
-	private String postID = "";
-	private String accountName = "";
-	private String postTitle = "";
-	public ProgressDialog pd;
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-       
-        setContentView(R.layout.viewpost);
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         postID = extras.getString("postID");
-         accountName = extras.getString("accountName");
-         postTitle = extras.getString("postTitle");
-        }   
-        
-        pd = ProgressDialog.show(viewPost.this,
-                "Getting Preview", "Getting post preview...", true, false);
-        
-        this.setTitle(postTitle + " - View Post");
-        Vector settings = new Vector();
-        settingsDB settingsDB = new settingsDB(this);
-    	settings = settingsDB.loadSettings(this, id);
-        
-    	
-    	String sURL = "";
-    	if (settings.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = settings.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = settings.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-
-        	
-        	client = new XMLRPCClient(sURL);
-        	
-        	XMLRPCMethod method = new XMLRPCMethod("metaWeblog.getPost", new XMLRPCMethodCallback() {
-				public void callFinished(Object result) {
-					pd.dismiss();
-					String s = "done";
-					s = result.toString();
-					
-					HashMap resultHash = (HashMap) result;
-					
-					String HTML = resultHash.get("description").toString();
-					
-					WebView wv = (WebView) findViewById(R.id.webView);
-					
-					String mimetype = "text/html";
-					String encoding = "UTF-8";
-
-					wv.loadData(HTML, mimetype, encoding);
-					wv.clearCache(true);
-
-				}
-	        });
-        	
-	        Object[] params = {
-	        		postID,
-	        		sUsername,
-	        		sPassword
-	        };
-	        
-	        
-	        method.call(params);
-        	  
-        
-        
-        
-    }
-
-
-interface XMLRPCMethodCallback {
-	void callFinished(Object result);
-}
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		handler = new Handler();
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object result = (Object) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					pd.dismiss();
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPost.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-					pd.dismiss();
-					Throwable couse = e.getCause();
-					if (couse instanceof HttpHostConnectException) {
-						//status.setText("Cannot connect to " + uri.getHost() + "\nMake sure server.py on your development host is running !!!");
-					} else {
-						//status.setText("Error " + e.getMessage());
-					}
-					//Log.d("Test", "error", e);
-				}
-			});
-		}
-	}
-}
-
-
-}
-
-
diff --git a/src/com/roundhill/androidWP/viewPosts.java b/src/com/roundhill/androidWP/viewPosts.java
deleted file mode 100644
index 9973c58c3683..000000000000
--- a/src/com/roundhill/androidWP/viewPosts.java
+++ /dev/null
@@ -1,1503 +0,0 @@
-	//by Dan Roundhill, danroundhill.com/wptogo
-package com.roundhill.androidWP;
-
-import java.io.ByteArrayOutputStream;
-import java.io.DataInputStream;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.Arrays;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Map;
-import java.util.Vector;
-
-import org.apache.http.conn.HttpHostConnectException;
-import org.xmlrpc.android.XMLRPCClient;
-import org.xmlrpc.android.XMLRPCException;
-import org.xmlrpc.android.XMLRPCFault;
-
-import com.roundhill.androidWP.viewLocalDrafts.XMLRPCMethodCallback;
-import com.roundhill.androidWP.viewLocalDrafts.XMLRPCMethodImages;
-
-import android.app.AlertDialog;
-import android.app.Dialog;
-import android.app.ListActivity;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.app.ProgressDialog;
-import android.content.ComponentName;
-import android.content.ContentUris;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.database.Cursor;
-import android.graphics.Bitmap;
-import android.graphics.BitmapFactory;
-import android.graphics.Color;
-import android.graphics.Matrix;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Handler;
-import android.provider.MediaStore.Images;
-import android.view.ContextMenu;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ViewGroup;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.view.View.OnLongClickListener;
-import android.widget.AdapterView;
-import android.widget.BaseAdapter;
-import android.widget.Button;
-import android.widget.EditText;
-import android.widget.ImageButton;
-import android.widget.LinearLayout;
-import android.widget.ListView;
-import android.widget.TabHost;
-import android.widget.TextView;
-import android.widget.Toast;
-import android.widget.AdapterView.OnItemClickListener;
-
-
-public class viewPosts extends ListActivity {
-    /** Called when the activity is first created. */
-	private XMLRPCClient client;
-	private String[] postIDs;
-	private String[] titles;
-	private String[] dateCreated;
-	private String[] draftIDs;
-	private String[] draftTitles;
-	private String[] publish;
-	private Integer[] uploaded;
-	private String id = "";
-	private String accountName = "";
-	private String newID = "";
-	Vector postNames = new Vector();
-	int selectedID = 0;
-	int rowID = 0;
-	private int ID_DIALOG_REFRESHING = 1;
-	private int ID_DIALOG_POSTING = 2;
-	Vector selectedCategories = new Vector();
-	private boolean inDrafts = false;
-	private Vector<Uri> selectedImageIDs = new Vector();
-	private int selectedImageCtr = 0;
-    public String imgHTML = "";
-    public String sImagePlacement = "";
-    public String sMaxImageWidth = "";
-    public boolean centerThumbnail = false;
-    public Vector imageUrl = new Vector();
-    public String imageTitle = null;
-    public boolean thumbnailOnly, secondPass, xmlrpcError = false;
-    public String submitResult = "";
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        setContentView(R.layout.viewposts);
-        
-        Bundle extras = getIntent().getExtras();
-        if(extras !=null)
-        {
-         id = extras.getString("id");
-         accountName = extras.getString("accountName");
-        }
-        
-        this.setTitle(escapeUtils.unescapeHtml(accountName) + " - Recent Posts");
-        //query for posts and refresh view
-
-
-        boolean loadedPosts = loadPosts();
-        
-        if (!loadedPosts){
-        	refreshPosts();
-        }
-        
-
-            final customMenuButton addNewPost = (customMenuButton) findViewById(R.id.newPost);   
-            
-            addNewPost.setOnClickListener(new customMenuButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	Intent i = new Intent(viewPosts.this, newPost.class);
-                	i.putExtra("accountName", accountName);
- 	                i.putExtra("id", id);
- 	                startActivityForResult(i, 0);
-                	 
-                }
-        });
-            
-final customMenuButton refresh = (customMenuButton) findViewById(R.id.refresh);   
-            
-            refresh.setOnClickListener(new customMenuButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	refreshPosts();
-                	 
-                }
-        });
-        
-        
-    }
-    
-    private void refreshPosts(){
-    	showDialog(ID_DIALOG_REFRESHING);
-    	Vector settings = new Vector();
-        settingsDB settingsDB = new settingsDB(this);
-    	settings = settingsDB.loadSettings(this, id);
-        
-    	
-    	String sURL = "";
-    	if (settings.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = settings.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = settings.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-        
-        	
-        	client = new XMLRPCClient(sURL);
-        	
-        	XMLRPCMethod method = new XMLRPCMethod("blogger.getRecentPosts", new XMLRPCMethodCallback() {
-				public void callFinished(Object[] result) {
-					String s = "done";
-					s = result.toString();
-
-					HashMap contentHash = new HashMap();
-					    
-					titles = new String[result.length];
-					postIDs = new String[result.length];
-					dateCreated = new String[result.length];
-					Vector dbVector = new Vector();
-					
-					//loop this!
-					    for (int ctr = 0; ctr < result.length; ctr++){
-					    	HashMap<String, String> dbValues = new HashMap();
-					        contentHash = (HashMap) result[ctr];
-					        titles[ctr] = escapeUtils.unescapeHtml(contentHash.get("content").toString().substring(contentHash.get("content").toString().indexOf("<title>") + 7, contentHash.get("content").toString().indexOf("</title>")));
-					        postIDs[ctr] = contentHash.get("postid").toString();
-					        dateCreated[ctr] = contentHash.get("dateCreated").toString();					        
-					        dbValues.put("blogID", id);
-					        dbValues.put("postID", postIDs[ctr]);
-					        dbValues.put("title", titles[ctr]);
-					        dbValues.put("postDate", dateCreated[ctr]);
-					        dbVector.add(ctr, dbValues);
-					    }
-					    
-					    postStoreDB postStoreDB = new postStoreDB(viewPosts.this);
-					    postStoreDB.savePosts(viewPosts.this, dbVector);
-					    
-					    
-					   dismissDialog(viewPosts.this.ID_DIALOG_REFRESHING);
-					   loadPosts();
-			        
-				}
-	        });
-	        Object[] params = {
-	        		"spacer",
-	        		1,
-	        		sUsername,
-	        		sPassword,
-	        		30
-	        };
-	        
-	        
-	        method.call(params);
-	        
-	        ListView listView = (ListView) findViewById(android.R.id.list);
-	        
-	        listView.setOnLongClickListener(new OnLongClickListener(){
-				public boolean onLongClick(View v)  {
-					// TODO Auto-generated method stub
-					
-					return false;
-				}
-		           
-	        });
-	        
-	        
-	        listView.setOnItemClickListener(new OnItemClickListener() {
-
-				public void onNothingSelected(AdapterView<?> arg0) {
-					// TODO Auto-generated method stub
-					
-				}
-
-				public void onItemClick(AdapterView<?> arg0, View arg1,
-						int arg2, long arg3) {
-					Intent intent = new Intent(viewPosts.this, editPost.class);
-                    intent.putExtra("postID", postIDs[(int) arg3]);
-                    intent.putExtra("postTitle", titles[(int) arg3]);
-                    intent.putExtra("id", id);
-                    intent.putExtra("accountName", accountName);
-                    startActivity(intent);
-					
-				}
-
-            });
-	        
-	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	             selectedID = info.position;
-	             
-	             menu.clear();
-	            	   menu.add(0, 0, 0, "Preview Post");
-	                   menu.add(0, 1, 0, "View Comments");
-	                   menu.add(0, 2, 0, "Edit Post");
-				}
-	          }); 
-    }
-    
-    private boolean loadPosts(){ //loads posts from the db
-   	
-       postStoreDB postStoreDB = new postStoreDB(this);
-   	Vector loadedPosts = postStoreDB.loadPosts(viewPosts.this, id);
-   	if (loadedPosts != null){
-   	titles = new String[loadedPosts.size()];
-   	postIDs = new String[loadedPosts.size()];
-   	dateCreated = new String[loadedPosts.size()];
-					    for (int i=0; i < loadedPosts.size(); i++){
-					        HashMap contentHash = (HashMap) loadedPosts.get(i);
-					        titles[i] = escapeUtils.unescapeHtml(contentHash.get("title").toString());
-					        postIDs[i] = contentHash.get("postID").toString();
-					        dateCreated[i] = contentHash.get("postDate").toString();					        
-					    }
-					    
-					    //add the header
-					    List postIDList = Arrays.asList(postIDs);  
-				    	List newPostIDList = new ArrayList();   
-				    	newPostIDList.add("postsHeader");
-				    	newPostIDList.addAll(postIDList);
-				    	postIDs = (String[]) newPostIDList.toArray(new String[newPostIDList.size()]);
-				    	
-				    	List postTitleList = Arrays.asList(titles);  
-				    	List newPostTitleList = new ArrayList();   
-				    	newPostTitleList.add("Posts");
-				    	newPostTitleList.addAll(postTitleList);
-				    	titles = (String[]) newPostTitleList.toArray(new String[newPostTitleList.size()]);
-				    	
-				    	List dateList = Arrays.asList(dateCreated);  
-				    	List newDateList = new ArrayList();   
-				    	newDateList.add("postsHeader");
-				    	newDateList.addAll(dateList);
-				    	dateCreated = (String[]) newDateList.toArray(new String[newDateList.size()]);
-					    
-					    
-					    //load drafts
-					    boolean drafts = loadDrafts();
-					    
-					    if (drafts){
-					    	
-					    	List draftIDList = Arrays.asList(draftIDs);  
-					    	List newDraftIDList = new ArrayList();   
-					    	newDraftIDList.add("draftsHeader");
-					    	newDraftIDList.addAll(draftIDList);
-					    	draftIDs = (String[]) newDraftIDList.toArray(new String[newDraftIDList.size()]);
-					    	
-					    	List titleList = Arrays.asList(draftTitles);  
-					    	List newTitleList = new ArrayList();   
-					    	newTitleList.add("Local Drafts");
-					    	newTitleList.addAll(titleList);
-					    	draftTitles = (String[]) newTitleList.toArray(new String[newTitleList.size()]);
-					    	
-					    	List publishList = Arrays.asList(publish);  
-					    	List newPublishList = new ArrayList();   
-					    	newPublishList.add("draftsHeader");
-					    	newPublishList.addAll(publishList);
-					    	publish = (String[]) newPublishList.toArray(new String[newPublishList.size()]);
-					    	
-					    	postIDs = mergeStringArrays(draftIDs, postIDs);
-					    	titles = mergeStringArrays(draftTitles, titles);
-					    	dateCreated = mergeStringArrays(publish, dateCreated);
-					    }
-					   
-					   setListAdapter(new CommentListAdapter(viewPosts.this));
-					
-					   ListView listView = (ListView) findViewById(android.R.id.list);
-					   listView.setSelector(R.layout.list_selector);
-   
-   	
-	return true;
-    }
-   	else{
-   		return false;
-   	}
-   }
-    
-    
-    private boolean loadDrafts(){ //loads posts from the db
-       	
-        localDraftsDB lDraftsDB = new localDraftsDB(this);
-    	Vector loadedPosts = lDraftsDB.loadPosts(viewPosts.this, id);
-    	if (loadedPosts != null){
-    	draftIDs = new String[loadedPosts.size()];
-    	draftTitles = new String[loadedPosts.size()];
-    	publish = new String[loadedPosts.size()];
-    	uploaded = new Integer[loadedPosts.size()];
-    	
- 					    for (int i=0; i < loadedPosts.size(); i++){
- 					        HashMap contentHash = (HashMap) loadedPosts.get(i);
- 					        draftIDs[i] = contentHash.get("id").toString();
- 					        draftTitles[i] = escapeUtils.unescapeHtml(contentHash.get("title").toString());
- 					        publish[i] = contentHash.get("publish").toString();
- 					        uploaded[i] = (Integer) contentHash.get("uploaded");
- 					    }
- 					   
- 			        /*
- 					   setListAdapter(new CommentListAdapter(viewPosts.this));
- 					
- 					   ListView listView = (ListView) findViewById(android.R.id.list);
- 					   listView.setSelector(R.layout.list_selector);
- 					   
- 					   listView.setOnItemClickListener(new OnItemClickListener() {
-
- 							public void onNothingSelected(AdapterView<?> arg0) {
- 								
- 							}
-
- 							public void onItemClick(AdapterView<?> arg0, View arg1,
- 									int arg2, long arg3) {
- 								Intent intent = new Intent(viewPosts.this, editPost.class);
- 			                    intent.putExtra("postID", postIDs[(int) arg3]);
- 			                    intent.putExtra("postTitle", titles[(int) arg3]);
- 			                    intent.putExtra("id", id);
- 			                    intent.putExtra("accountName", accountName);
- 			                    intent.putExtra("localDraft", true);
- 			                    startActivity(intent);
- 								
- 							}
-
- 			            });
- 					   
- 	        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
- 	               public void onCreateContextMenu(ContextMenu menu, View v,
- 						ContextMenuInfo menuInfo) {
- 					// TODO Auto-generated method stub
- 	            	   AdapterView.AdapterContextMenuInfo info;
- 	                   try {
- 	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
- 	                   } catch (ClassCastException e) {
- 	                       //Log.e(TAG, "bad menuInfo", e);
- 	                       return;
- 	                   }
- 	                   
- 	                   
- 	                   
- 	                   selectedID = info.targetView.getId();
- 	                   rowID = info.position;
- 	                   
- 				 menu.setHeaderTitle("Post Actions");
-                  menu.add(0, 0, 0, "Edit Draft");
-                  menu.add(0, 1, 0, "Upload Draft to Blog");
-                  menu.add(0, 2, 0, "Delete Draft");
- 				}
- 	          });*/
-    	
- 	return true;
-     }
-    	else{
-    		return false;
-    	}
-    }
-
-    private class CommentListAdapter extends BaseAdapter {
-    	
-        public CommentListAdapter(Context context) {
-            mContext = context;
-        }
-
-        /**
-         * The number of items in the list is determined by the number of speeches
-         * in our array.
-         * 
-         * @see android.widget.ListAdapter#getCount()
-         */
-        public int getCount() {
-            return postIDs.length;
-        }
-
-        /**
-         * Since the data comes from an array, just returning the index is
-         * sufficent to get at the data. If we were using a more complex data
-         * structure, we would return whatever object represents one row in the
-         * list.
-         * 
-         * @see android.widget.ListAdapter#getItem(int)
-         */
-        public Object getItem(int position) {
-            return position;
-        }
-
-        /**
-         * Use the array index as a unique id.
-         * 
-         * @see android.widget.ListAdapter#getItemId(int)
-         */
-        public long getItemId(int position) {
-            return position;
-        }
-
-        /**
-         * Make a SpeechView to hold each row.
-         * 
-         * @see android.widget.ListAdapter#getView(int, android.view.View,
-         *      android.view.ViewGroup)
-         */
-        public View getView(int position, View convertView, ViewGroup parent) {
-        	
-            CommentView cv;
-                cv = new CommentView(mContext, postIDs[position], titles[position],
-                        dateCreated[position]);
-
-            return cv;
-        }
-
-        /**
-         * Remember our context so we can use it when constructing views.
-         */
-        private Context mContext;
-        
-        /**
-         * Our data, part 1.
-         */
-    }
-
-    private class CommentView extends LinearLayout {
-        public CommentView(Context context, String postID, String title, String date) {
-            super(context);
-
-            this.setOrientation(VERTICAL);
-            this.setPadding(4, 4, 4, 4);
-            
-            if (date.equals("postsHeader") || date.equals("draftsHeader")){
-            	
-            	
-            	this.setPadding(8, 0, 0, 0);
-            	this.setBackgroundColor(Color.parseColor("#999999"));
-            	
-            	tvTitle = new TextView(context);
-                tvTitle.setText(title);
-                tvTitle.setTextSize(21);
-                tvTitle.setShadowLayer(1, 1, 1, Color.parseColor("#444444"));
-                tvTitle.setTextColor(Color.parseColor("#EEEEEE"));
-                addView(tvTitle, new LinearLayout.LayoutParams(
-                        LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-                
-                tvDate = new TextView(context);
-                
-                if (date.equals("draftsHeader")){
-                	inDrafts = true;
-                }
-                else if (date.equals("postsHeader")){
-                	inDrafts = false;
-                }
-            }
-            else{
-            // Here we build the child views in code. They could also have
-            // been specified in an XML file.
-            	
-            	
-
-            tvTitle = new TextView(context);
-            tvTitle.setText(title);
-            tvTitle.setTextSize(20);
-            tvTitle.setTextColor(Color.parseColor("#444444"));
-            addView(tvTitle, new LinearLayout.LayoutParams(
-                    LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-
-            tvDate = new TextView(context);
-            
-            String customDate = date;
-            tvDate.setText(customDate);
-            addView(tvDate, new LinearLayout.LayoutParams(
-                    LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
-            
-            if (inDrafts){  
-            	//listener for drafts
-            	this.setId(Integer.valueOf(postID));
-        		this.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-  	               public void onCreateContextMenu(ContextMenu menu, View v,
-  						ContextMenuInfo menuInfo) {
-  					// TODO Auto-generated method stub
-  	            	   AdapterView.AdapterContextMenuInfo info;
-  	                   try {
-  	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-  	                   } catch (ClassCastException e) {
-  	                       //Log.e(TAG, "bad menuInfo", e);
-  	                       return;
-  	                   }
-  	                   
-  	                   //rowID = (int) info.id;
-  	                   //rowID = info.position;
-  	                   
-  	                   selectedID = v.getId();
-  	                   
-  	             menu.clear();
-  	             
-  				 menu.setHeaderTitle("Draft Actions");
-                   menu.add(1, 0, 0, "Edit Draft");
-                   menu.add(1, 1, 0, "Upload Draft to Blog");
-                   menu.add(1, 2, 0, "Delete Draft");
-  				}
-  	          });
-        	}
-            else{
-            //selection listeners for posts
-            	this.setId(Integer.valueOf(postID));
-            this.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-	      
-					// TODO Auto-generated method stub
-	            	   AdapterView.AdapterContextMenuInfo info;
-	                   try {
-	                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-	                   } catch (ClassCastException e) {
-	                       //Log.e(TAG, "bad menuInfo", e);
-	                       return;
-	                   }
-	                   
-	                   selectedID = v.getId();
-	                   
-				 menu.setHeaderTitle("Post Actions");
-				 menu.add(0, 0, 0, "Preview Post");
-               menu.add(0, 1, 0, "View Comments");
-               menu.add(0, 2, 0, "Edit Post");
-				}
-	          });
-            
-            }
-            
-            }
-        }
-
-        /**
-         * Convenience method to set the title of a SpeechView
-         */
-        public void setTitle(String titleName) {
-            tvTitle.setText(titleName);
-        }
-
-        /**
-         * Convenience method to set the dialogue of a SpeechView
-         */
-        public void setDate(String date) {
-            tvDate.setText(date);
-        }
-
-        private TextView tvTitle;
-        private TextView tvDate;
-    }
-    
-   
-interface XMLRPCMethodCallback {
-	void callFinished(Object[] result);
-}
-
-
-class XMLRPCMethod extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallback callBack;
-	public XMLRPCMethod(String method, XMLRPCMethodCallback callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		handler = new Handler();
-	}
-	public void call() {
-		call(null);
-	}
-	public void call(Object[] params) {
-		this.params = params;
-		start();
-	}
-	@Override
-	public void run() {
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object[] result = (Object[]) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				}
-			});
-		} catch (final XMLRPCFault e) {
-			handler.post(new Runnable() {
-				public void run() {
-					dismissDialog(viewPosts.this.ID_DIALOG_REFRESHING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getFaultString());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                          public void onClick(DialogInterface dialog, int whichButton) {
-                              // Just close the window.
-                      
-                          }
-                      });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-
-				}
-			});
-		} catch (final XMLRPCException e) {
-			handler.post(new Runnable() {
-				public void run() {
-					dismissDialog(viewPosts.this.ID_DIALOG_REFRESHING);
-					AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-					  dialogBuilder.setTitle("Connection Error");
-		              dialogBuilder.setMessage(e.getMessage());
-		              dialogBuilder.setPositiveButton("Ok",  new
-		            		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // Just close the window.
-                    
-                        }
-                    });
-		              dialogBuilder.setCancelable(true);
-		             dialogBuilder.create().show();
-				}
-			});
-		}
-	}
-}
-//Add settings to menu
-@Override
-public boolean onCreateOptionsMenu(Menu menu) {
-    super.onCreateOptionsMenu(menu);
-    menu.add(0, 0, 0, "Blog Settings");
-    MenuItem menuItem1 = menu.findItem(0);
-    menuItem1.setIcon(R.drawable.ic_menu_preferences);
-    menu.add(0, 1, 0, "Delete Blog");
-    MenuItem menuItem2 = menu.findItem(1);
-    menuItem2.setIcon(R.drawable.ic_notification_clear_all);
-    
-    return true;
-}
-//Menu actions
-@Override
-public boolean onOptionsItemSelected(final MenuItem item){
-    switch (item.getItemId()) {
-    case 0:
-    	
-    	Bundle bundle = new Bundle();
-		bundle.putString("id", id);
-		bundle.putString("accountName", accountName);
-    	Intent i = new Intent(this, settings.class);
-    	i.putExtras(bundle);
-    	startActivityForResult(i, 0);
-    	
-    	return true;
-	case 1:
-		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-		  dialogBuilder.setTitle("Delete Account");
-      dialogBuilder.setMessage("Are you sure you want to delete this blog from wpToGo?");
-      dialogBuilder.setPositiveButton("Yes",  new
-    		  DialogInterface.OnClickListener() {
-            public void onClick(DialogInterface dialog, int whichButton) {
-                // User clicked Accept so set that they've agreed to the eula.
-            	settingsDB settingsDB = new settingsDB(viewPosts.this);
-              boolean deleteSuccess = settingsDB.deleteAccount(viewPosts.this, id);
-              if (deleteSuccess)
-              {
-            	  Toast.makeText(viewPosts.this, "Blog deleted successfully",
-                          Toast.LENGTH_SHORT).show();
-            	  finish();
-              }
-              else
-              {
-            	  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-      			  dialogBuilder.setTitle("Error");
-                  dialogBuilder.setMessage("Could not delete blog, you may need to reinstall wpToGo.");
-                  dialogBuilder.setPositiveButton("OK",  new
-                		  DialogInterface.OnClickListener() {
-                        public void onClick(DialogInterface dialog, int whichButton) {
-                            // just close the dialog
-                        	
-                    
-                        }
-                    });
-                  dialogBuilder.setCancelable(true);
-                 dialogBuilder.create().show();
-              }
-        
-            }
-        });
-      dialogBuilder.setNegativeButton("No", new
-    		  DialogInterface.OnClickListener() {
-            public void onClick(DialogInterface dialog, int whichButton) {
-                finish();  //goodbye!
-            }
-        });
-      dialogBuilder.setCancelable(false);
-     dialogBuilder.create().show();
-	
-	
-	return true;
-}
-  return false;	
-}
-
-@Override
-protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-	// TODO Auto-generated method stub
-	super.onActivityResult(requestCode, resultCode, data);
-
-	switch(requestCode) {
-	case 0:
-	    //displayAccounts();
-	    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-		//refreshPosts();
-	    break;
-	}
-
-}
-
-@Override
-public boolean onContextItemSelected(MenuItem item) {
-
-	
-	
-     /* Switch on the ID of the item, to get what the user selected. */
-	if (item.getGroupId() == 0){
-     switch (item.getItemId()) {
-     	  case 0:
-     		 Intent i0 = new Intent(viewPosts.this, viewPost.class);
-             i0.putExtra("postID", String.valueOf(selectedID));
-             //i0.putExtra("postTitle", titles[selectedID]);
-             i0.putExtra("id", id);
-             i0.putExtra("accountName", accountName);
-             startActivity(i0);
-             return true;
-          case 1:     
-        	  Intent i = new Intent(viewPosts.this, viewComments.class);
-              i.putExtra("postID", String.valueOf(selectedID));
-              //i.putExtra("postTitle", titles[selectedID]);
-              i.putExtra("id", id);
-              i.putExtra("accountName", accountName);
-              startActivity(i);
-              return true; 
-          case 2:
-        	  Intent i2 = new Intent(viewPosts.this, editPost.class);
-              i2.putExtra("postID", String.valueOf(selectedID));
-              //i2.putExtra("postTitle", titles[selectedID]);
-              i2.putExtra("id", id);
-              i2.putExtra("accountName", accountName);
-              startActivity(i2);
-        	  return true;
-     }
-     
-	}
-	else{
-		switch (item.getItemId()) {
-        case 0:
-      	  Intent i2 = new Intent(viewPosts.this, editPost.class);
-            i2.putExtra("postID", String.valueOf(selectedID));
-            //i2.putExtra("postTitle", titles[rowID]);
-            i2.putExtra("id", id);
-            i2.putExtra("accountName", accountName);
-            i2.putExtra("localDraft", true);
-            startActivity(i2);
-      	  return true;
-        case 1:
-      	  showDialog(ID_DIALOG_POSTING);
-      	  
-      	  
-      	  new Thread() {
-                public void run() { 	  
-      	  
-		try {
-			submitResult = submitPost();
-			
-		} catch (IOException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-		
-                }
-            }.start(); 
-            	
-            
-            
-            
-      	  return true;
-        case 2:
-      	  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-			  dialogBuilder.setTitle("Delete Post?");
-            dialogBuilder.setMessage("Are you sure you want to delete the draft '" + titles[rowID] + "'?");
-            dialogBuilder.setPositiveButton("OK",  new
-          		  DialogInterface.OnClickListener() {
-                public void onClick(DialogInterface dialog, int whichButton) {
-              	  localDraftsDB lDraftsDB = new localDraftsDB(viewPosts.this);
-              	  
-              	  lDraftsDB.deletePost(viewPosts.this, String.valueOf(selectedID));
-              	  loadPosts();
-            
-                }
-            });
-            dialogBuilder.setNegativeButton("Cancel",  new
-          		  DialogInterface.OnClickListener() {
-                public void onClick(DialogInterface dialog, int whichButton) {
-                    // Just close the window.
-            
-                }
-            });
-            dialogBuilder.setCancelable(true);
-           dialogBuilder.create().show();
-      	  
-		}
-	}
-	
-	
-	return false;
-}
-
-@Override
-protected Dialog onCreateDialog(int id) {
-if(id == ID_DIALOG_REFRESHING){
-ProgressDialog loadingDialog = new ProgressDialog(this);
-loadingDialog.setMessage("Please wait while refreshing posts...");
-loadingDialog.setIndeterminate(true);
-loadingDialog.setCancelable(true);
-return loadingDialog;
-}
-else if (id == ID_DIALOG_POSTING){
-	ProgressDialog loadingDialog = new ProgressDialog(this);
-	loadingDialog.setMessage("Attempting to upload post...");
-	loadingDialog.setIndeterminate(true);
-	loadingDialog.setCancelable(true);
-	return loadingDialog;
-	}
-
-return super.onCreateDialog(id);
-}
-
-public static String[] mergeStringArrays(String array1[], String array2[]) {  
-	if (array1 == null || array1.length == 0)  
-	return array2;  
-	if (array2 == null || array2.length == 0)  
-	return array1;  
-	List array1List = Arrays.asList(array1);  
-	List array2List = Arrays.asList(array2);  
-	List result = new ArrayList(array1List);    
-	List tmp = new ArrayList(array1List);  
-	tmp.retainAll(array2List);  
-	result.addAll(array2List);    
-	return ((String[]) result.toArray(new String[result.size()]));  
-	}
-
-
-public String submitPost() throws IOException {
-	
-	
-	//grab the form data
-	final localDraftsDB lDraftsDB = new localDraftsDB(this);
-	Vector post = lDraftsDB.loadPost(this, String.valueOf(selectedID));
-	
-	HashMap postHashMap = (HashMap) post.get(0);
-	
-	EditText titleET = (EditText)findViewById(R.id.title);
-	EditText contentET = (EditText)findViewById(R.id.content);
-	
-	String title = postHashMap.get("title").toString();
-	String content = postHashMap.get("content").toString();
-	
-	String picturePaths = postHashMap.get("picturePaths").toString();
-	
-	if (!picturePaths.equals("")){
-		String[] pPaths = picturePaths.split(",");
-		
-		for (int i = 0; i < pPaths.length; i++)
-		{
-			Uri imagePath = Uri.parse(pPaths[i]); 
-			selectedImageIDs.add(selectedImageCtr, imagePath);
-	        imageUrl.add(selectedImageCtr, pPaths[i]);
-	        selectedImageCtr++;
-		}
-		
-	}
-	
-	String categories = postHashMap.get("categories").toString();
-	if (!categories.equals("")){
-		
-		String[] aCategories = categories.split(",");
-		
-		for (int i=0; i < aCategories.length; i++)
-		{
-			selectedCategories.add(aCategories[i]);
-		}
-		
-	}
-	
-	String tags = postHashMap.get("tags").toString();
-	
-	int publish = Integer.valueOf(postHashMap.get("publish").toString());
-	
-	
-    Boolean publishThis = false;
-    
-    if (publish == 1){
-    	publishThis = true;
-    }
-    String imageContent = "";
-    //upload the images and return the HTML
-    for (int it = 0; it < selectedImageCtr; it++){
-        
-        imageContent +=  uploadImage(selectedImageIDs.get(it).toString());
-
-        }
-
-    Integer blogID = 1; //never changes with wordpress, so far
-    
-    Vector<Object> myPostVector = new Vector<Object> ();
-    String res = null;
-    //before we do anything, validate that the user has entered settings
-    boolean enteredSettings = checkSettings();
- 
-    if (!enteredSettings){
-    	res = "invalidSettings";
-    }
-    else if (title.equals("") || content.equals(""))
-    {
-    	res = "emptyFields";
-    }
-    else {
-    
-    // categoryID = getCategoryId(selectedCategory);
-    String[] theCategories = new String[selectedCategories.size()];
-    
-    int catSize = selectedCategories.size();
-    
-    for(int i=0; i < selectedCategories.size(); i++)
-    {
-		theCategories[i] = selectedCategories.get(i).toString();
-    }
-    
-  //
-    settingsDB settingsDB = new settingsDB(this);
-	Vector categoriesVector = settingsDB.loadSettings(this, id);   	
-	
-    	String sURL = "";
-    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = categoriesVector.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = categoriesVector.get(2).toString();
-		String sPassword = categoriesVector.get(3).toString();
-		String sImagePlacement = categoriesVector.get(4).toString();
-		String sCenterThumbnailString = categoriesVector.get(5).toString();
-		String sFullSizeImageString = categoriesVector.get(6).toString();
-		boolean sFullSizeImage  = false;
-		if (sFullSizeImageString.equals("1")){
-			sFullSizeImage = true;
-		}
-
-		boolean centerThumbnail = false;
-		if (sCenterThumbnailString.equals("1")){
-			centerThumbnail = true;
-		}
-    
-    Map<String, Object> contentStruct = new HashMap<String, Object>();
-  
-    if(imageContent != ""){
-    	if (sImagePlacement.equals("Above Text")){
-    		content = imageContent + content;
-    	}
-    	else{
-    		content = content + imageContent;
-    	}
-    }
-    
-    contentStruct.put("post_type", "post");
-    contentStruct.put("title", escapeUtils.escapeHtml(title));
-    contentStruct.put("description", escapeUtils.escapeHtml(content));
-    if (tags != ""){
-    contentStruct.put("mt_keywords", escapeUtils.escapeHtml(tags));
-    }
-    if (theCategories.length > 0){
-    contentStruct.put("categories", theCategories);
-    }
-    
-
-    
-    client = new XMLRPCClient(sURL);
-    
-    Object[] params = {
-    		1,
-    		sUsername,
-    		sPassword,
-    		contentStruct,
-    		publishThis
-    };
-    
-    Object result = null;
-    try {
-		result = (Object) client.call("metaWeblog.newPost", params);
-	} catch (XMLRPCException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
-
-			newID = result.toString();
-			res = "OK";
-			dismissDialog(ID_DIALOG_POSTING);
-			
-			Thread action = new Thread() 
-			{ 
-			  public void run() 
-			  {
-				  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
-	  			  dialogBuilder.setTitle("Success");
-	              dialogBuilder.setMessage("Post #" + newID + " added successfully");
-	              dialogBuilder.setPositiveButton("OK",  new
-	            		  DialogInterface.OnClickListener() {
-	                  public void onClick(DialogInterface dialog, int whichButton) {
-	                      // Just close the window.
-	                	  
-	                	  boolean isInteger = false;
-	                	  
-	                	  try {
-							int i = Integer.parseInt(newID);
-							isInteger = true;
-						} catch (NumberFormatException e) {
-							
-						}
-	                	  
-	                	  if (isInteger)
-	                	  {
-	                		  //post made it, so let's delete the draft
-	                	  lDraftsDB.deletePost(viewPosts.this, String.valueOf(selectedID));
-	                	  refreshPosts();
-	                	  }
-	              
-	                  }
-	              });
-	              dialogBuilder.setCancelable(true);
-	             dialogBuilder.create().show();
-
-			  } 
-			}; 
-			this.runOnUiThread(action);
-          	  
-            
-
-    }// if/then for valid settings
-    
-	return res;
-}
-
-public boolean checkSettings(){
-	//see if the user has any saved preferences
-	 settingsDB settingsDB = new settingsDB(this);
-    	Vector categoriesVector = settingsDB.loadSettings(this, id);
-    	String sURL = null, sUsername = null, sPassword = null;
-    	if (categoriesVector != null){
-    		sURL = categoriesVector.get(0).toString();
-    		sUsername = categoriesVector.get(1).toString();
-    		sPassword = categoriesVector.get(2).toString();
-    	}
-
-    boolean validSettings = false;
-    
-    if ((sURL != "" && sUsername != "" && sPassword != "") && (sURL != null && sUsername != null && sPassword != null)){
-    	validSettings = true;
-    }
-    
-    return validSettings;
-}
-
-public String uploadImage(String imageURL){
-    
-    int finalHeight = 0;
-    
-    //images variables
-
-    
-    //get the settings
-    settingsDB settingsDB = new settingsDB(viewPosts.this);
-	Vector categoriesVector = settingsDB.loadSettings(viewPosts.this, id);   	
-	
-    	String sURL = "";
-    	if (categoriesVector.get(0).toString().contains("xmlrpc.php"))
-    	{
-    		sURL = categoriesVector.get(0).toString();
-    	}
-    	else
-    	{
-    		sURL = categoriesVector.get(0).toString() + "xmlrpc.php";
-    	}
-		String sUsername = categoriesVector.get(2).toString();
-		String sPassword = categoriesVector.get(3).toString();
-		sImagePlacement = categoriesVector.get(4).toString();
-		String sCenterThumbnailString = categoriesVector.get(5).toString();
-		
-		//removed this as a quick fix to get rid of full size upload option
-		/*if (sFullSizeImageString.equals("1")){
-			sFullSizeImage = true;
-		}*/  
-
-		
-		if (sCenterThumbnailString.equals("1")){
-			centerThumbnail = true;
-		}
-		sMaxImageWidth = categoriesVector.get(7).toString();
-
-    //new loop for multiple images
-    
-    
-
-    //check for image, and upload it
-
-       client = new XMLRPCClient(sURL);
-
- 	   String curImagePath = "";
- 	   
- 	   
- 		curImagePath = imageURL;
-
- 	   Uri imageUri = Uri.parse(curImagePath);
- 	   
- 	   String imgID = imageUri.getLastPathSegment();
- 	   long imgID2 = Long.parseLong(imgID);
- 	   
- 	  String[] projection; 
-
- 	  projection = new String[] {
-       		    Images.Media._ID,
-       		    Images.Media.DATA
-       		};
- 	  
- 	  
- 	   Uri imgPath;
-
- 	   imgPath = ContentUris.withAppendedId(Images.Media.EXTERNAL_CONTENT_URI, imgID2);
- 	   
- 	   
- 	   
-	Cursor cur = managedQuery(imgPath, projection, null, null, null);
- 	  String thumbData = "";
- 	 
- 	  if (cur.moveToFirst()) {
- 		  
- 		int nameColumn, dataColumn, heightColumn, widthColumn;
- 		
- 			nameColumn = cur.getColumnIndex(Images.Media._ID);
- 	        dataColumn = cur.getColumnIndex(Images.Media.DATA);             	            
-       
-       thumbData = cur.getString(dataColumn);
-
- 	  }
- 	   
- 	   File jpeg = new File(thumbData);
- 	   
- 	   imageTitle = jpeg.getName();
- 	  
- 	   byte[] bytes = new byte[(int) jpeg.length()];
- 	   
- 	   DataInputStream in = null;
-	try {
-		in = new DataInputStream(new FileInputStream(jpeg));
-	} catch (FileNotFoundException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
- 	   try {
-		in.readFully(bytes);
-	} catch (IOException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
- 	   try {
-		in.close();
-	} catch (IOException e) {
-		// TODO Auto-generated catch block
-		e.printStackTrace();
-	}
-	
-	//create the thumbnail
-	BitmapFactory.Options opts = new BitmapFactory.Options();
-    opts.inJustDecodeBounds = true;
-    Bitmap bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-    
-    int width = opts.outWidth;
-    int height = opts.outHeight; 
-    
-    int finalWidth = 500;  //default to this if there's a problem
-    //Change dimensions of thumbnail
-    
-    byte[] finalBytes;
-    
-    if (sMaxImageWidth.equals("Original Size")){
-    	if (bytes.length > 1000000) //it's a biggie! don't want out of memory crash
-    	{
-    		float finWidth = 1000;
-    		int sample = 0;
-
-    		float fWidth = width;
-            sample= new Double(Math.ceil(fWidth / finWidth)).intValue();
-            
-    		if(sample == 3){
-                sample = 4;
-    		}
-    		else if(sample > 4 && sample < 8 ){
-                sample = 8;
-    		}
-    		
-    		opts.inSampleSize = sample;
-    		opts.inJustDecodeBounds = false;
-    		
-    		float percentage = (float) finalWidth / width;
-    		float proportionateHeight = height * percentage;
-    		finalHeight = (int) Math.rint(proportionateHeight);
-    	
-            bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-            
-            
-            ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-            bm.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-            
-            bm.recycle(); //free up memory
-            
-            finalBytes = baos.toByteArray();
-    	}
-    	else
-    	{
-    	finalBytes = bytes;
-    	} 
-    	
-    }
-    else
-    {
-       	finalWidth = Integer.parseInt(sMaxImageWidth);
-    	if (finalWidth > width){
-    		//don't resize
-    		finalBytes = bytes;
-    	}
-    	else
-        {
-        		int sample = 0;
-
-        		float fWidth = width;
-                sample= new Double(Math.ceil(fWidth / 1200)).intValue();
-                
-        		if(sample == 3){
-                    sample = 4;
-        		}
-        		else if(sample > 4 && sample < 8 ){
-                    sample = 8;
-        		}
-        		
-        		opts.inSampleSize = sample;
-        		opts.inJustDecodeBounds = false;
-        		
-                bm = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, opts);
-                
-                float percentage = (float) finalWidth / bm.getWidth();
-        		float proportionateHeight = bm.getHeight() * percentage;
-        		finalHeight = (int) Math.rint(proportionateHeight);
-        		
-        		float scaleWidth = ((float) finalWidth) / bm.getWidth(); 
-    	        float scaleHeight = ((float) finalHeight) / bm.getHeight(); 
-
-                
-    	        float scaleBy = Math.min(scaleWidth, scaleHeight);
-    	        
-    	        // Create a matrix for the manipulation 
-    	        Matrix matrix = new Matrix(); 
-    	        // Resize the bitmap 
-    	        matrix.postScale(scaleBy, scaleBy); 
-
-    	        Bitmap resized = Bitmap.createBitmap(bm, 0, 0, bm.getWidth(), bm.getHeight(), matrix, true);
-
-                ByteArrayOutputStream baos = new ByteArrayOutputStream();  
-                resized.compress(Bitmap.CompressFormat.JPEG, 75, baos);
-                
-                bm.recycle(); //free up memory
-                resized.recycle();
-                
-                finalBytes = baos.toByteArray();
-        	}
-    	
-        
-    }
-
-        //try and upload the freakin' image
-        //imageRes = service.ping(sURL + "/xmlrpc.php", sXmlRpcMethod, myPictureVector);
-        String contentType = "image/jpg";
-        Map<String, Object> m = new HashMap<String, Object>();
-
-        HashMap hPost = new HashMap();
-
-        	
-        m.put("name", imageTitle);
-        m.put("type", contentType);
-        m.put("bits", finalBytes);
-        m.put("overwrite", true);
-
-		client = new XMLRPCClient(sURL);
-    	
-    	XMLRPCMethodImages method = new XMLRPCMethodImages("wp.uploadFile", new XMLRPCMethodCallbackImages() {
-			public void callFinished(Object result) {
-				
-				imgHTML = ""; //start fresh
-				//Looper.myLooper().quit();
-				HashMap contentHash = new HashMap();
-				    
-				contentHash = (HashMap) result;
-
-				String resultURL = contentHash.get("url").toString();
-				
-				String finalImageUrl = "";
-				
-
-	            finalImageUrl = resultURL;
-				
-				//prepare the centering css if desired from user
-		           String centerCSS = " ";
-		           if (centerThumbnail){
-		        	   centerCSS = "style=\"display:block;margin-right:auto;margin-left:auto;\" ";
-		           }
-		           
-		     	   
-			           if (resultURL != null)
-			           {
-
-			   	        	if (sImagePlacement.equals("Above Text")){
-			   	        		
-			   	        		imgHTML +=  "<img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" /><br /><br />";
-			   	        	}
-			   	        	else{
-			   	        		imgHTML +=  "<br /><img " + centerCSS + "alt=\"image\" src=\"" + finalImageUrl + "\" />";
-			   	        	}        		
-			           	
-			           		
-			           }
-				
-				
-		           
-			}
-        });
-    	
-    	Object[] params = {
-        		1,
-        		sUsername,
-        		sPassword,
-        		m
-        };
-    	
-    	try {
-			method.call(params);
-		} catch (InterruptedException e) {
-			// TODO Auto-generated catch block
-			e.printStackTrace();
-		}
-    	
-				        //titles[ctr] = contentHash.get("content").toString().substring(contentHash.get("content").toString().indexOf("<title>") + 7, contentHash.get("content").toString().indexOf("</title>"));
-				       // postIDs[ctr] = contentHash.get("postid").toString();
-
-    return imgHTML;
-}
-
-interface XMLRPCMethodCallbackImages {
-	void callFinished(Object result);
-}
-
-class XMLRPCMethodImages extends Thread {
-	private String method;
-	private Object[] params;
-	private Handler handler;
-	private XMLRPCMethodCallbackImages callBack;
-	public XMLRPCMethodImages(String method, XMLRPCMethodCallbackImages callBack) {
-		this.method = method;
-		this.callBack = callBack;
-		
-		//handler = new Handler();
-		
-	}
-	public void call() throws InterruptedException {
-		call(null);
-	}
-	public void call(Object[] params) throws InterruptedException {		
-		this.params = params;
-		this.method = method;
-		//start();
-		//join();
-		final Object result;
-		try {
-			result = (Object) client.call(method, params);
-			callBack.callFinished(result);
-		} catch (XMLRPCException e) {
-			xmlrpcError = true;
-			e.printStackTrace();
-		}
-	}
-	@Override
-	public void run() {
-		
-		try {
-			final long t0 = System.currentTimeMillis();
-			final Object result;
-			result = (Object) client.call(method, params);
-			final long t1 = System.currentTimeMillis();
-			handler.post(new Runnable() {
-				public void run() {
-
-					callBack.callFinished(result);
-				
-				
-				}
-			});
-		} catch (final XMLRPCFault e) {
-					//pd.dismiss();
-					e.printStackTrace();
-		             
-				
-		} catch (final XMLRPCException e) {
-			
-			handler.post(new Runnable() {
-				public void run() {
-					
-					Throwable couse = e.getCause();
-					e.printStackTrace();
-					
-					//Log.d("Test", "error", e);
-					
-				}
-			});
-		}
-		
-	}
-}
-
-}
-
-
diff --git a/src/com/roundhill/androidWP/wpAndroid.java b/src/com/roundhill/androidWP/wpAndroid.java
deleted file mode 100644
index f7a3252aa74a..000000000000
--- a/src/com/roundhill/androidWP/wpAndroid.java
+++ /dev/null
@@ -1,313 +0,0 @@
-//copyright Dan Roundhill, 11/10/2008
-package com.roundhill.androidWP;
-
-import java.util.HashMap;
-import java.util.Vector;
-import org.apache.commons.*;
-import android.app.Activity;
-import android.app.AlertDialog;
-import android.app.Notification;
-import android.app.NotificationManager;
-import android.app.PendingIntent;
-import android.content.ComponentName;
-import android.content.Context;
-import android.content.DialogInterface;
-import android.content.Intent;
-import android.database.sqlite.SQLiteDatabase;
-import android.database.sqlite.SQLiteOpenHelper;
-import android.database.sqlite.SQLiteDatabase.CursorFactory;
-import android.graphics.Color;
-import android.net.Uri;
-import android.os.Bundle;
-import android.view.ContextMenu;
-import android.view.Gravity;
-import android.view.Menu;
-import android.view.MenuItem;
-import android.view.View;
-import android.view.ContextMenu.ContextMenuInfo;
-import android.view.View.OnCreateContextMenuListener;
-import android.view.ViewGroup.LayoutParams;
-import android.widget.Button;
-import android.widget.LinearLayout;
-import android.widget.ScrollView;
-import android.widget.TextView;
-import android.widget.Toast;
-
-
-public class wpAndroid extends Activity {
-    /** Called when the activity is first created. */
-	public Vector accounts;
-	public Vector accountNames = new Vector();
-	private String selectedID = "";
-	
-    @Override
-    public void onCreate(Bundle icicle) {
-        super.onCreate(icicle);
-      
-        //verify that the user has accepted the EULA
-        boolean eula = checkEULA();
-        if (eula == false){
-			AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(wpAndroid.this);
-			  dialogBuilder.setTitle("End User License Agreement");
-            dialogBuilder.setMessage(R.string.EULA);
-            dialogBuilder.setPositiveButton("Accept",  new
-          		  DialogInterface.OnClickListener() {
-                  public void onClick(DialogInterface dialog, int whichButton) {
-                      // User clicked Accept so set that they've agreed to the eula.
-                  	eulaDB eulaDB = new eulaDB(wpAndroid.this);
-                    eulaDB.setEULA(wpAndroid.this);
-                    displayAccounts();
-              
-                  }
-              });
-            dialogBuilder.setNegativeButton("Decline", new
-          		  DialogInterface.OnClickListener() {
-                  public void onClick(DialogInterface dialog, int whichButton) {
-                      finish();  //goodbye!
-                  }
-              });
-            dialogBuilder.setCancelable(false);
-           dialogBuilder.create().show();	
-        }
-        else{
-        displayAccounts();
-        }
-         
-    		
-    }
-    
-    
-    
-    public boolean checkEULA(){
-    	eulaDB eulaDB = new eulaDB(this);
-        boolean sEULA = eulaDB.checkEULA(this);
-        
-    	return sEULA;
-    	
-    }
-    
-public void displayAccounts(){
-	//settings time!
-    settingsDB settingsDB = new settingsDB(this);
-	accounts = settingsDB.getAccounts(this);
-	
-	
-	if (accounts.size() > 0){
-		ScrollView sv = new ScrollView(this);
-		sv.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
-                LayoutParams.WRAP_CONTENT));
-		sv.setBackgroundColor(Color.parseColor("#e8e8e8"));
-		LinearLayout layout = new LinearLayout(this);
-		layout.setPadding(10, 10, 10, 0);
-		layout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
-                LayoutParams.WRAP_CONTENT));
-
-		layout.setOrientation(LinearLayout.VERTICAL);
-        
-        for (int i = 0; i < accounts.size(); i++) {
-            
-        	HashMap curHash = (HashMap) accounts.get(i);
-        	String curBlogName = curHash.get("blogName").toString();
-        	String curUsername = curHash.get("username").toString();
-        	String accountID = curHash.get("id").toString();
-        	accountNames.add(i, curBlogName);
-        	layout.setBackgroundColor(Color.parseColor("#e8e8e8"));
-            
-            final customButton buttonView = new customButton(this);
-            buttonView.setTextColor(Color.parseColor("#444444"));
-            buttonView.setTextSize(18);
-            buttonView.setText(escapeUtils.unescapeHtml(curBlogName) + "\n" + "(" + curUsername + ")");
-            buttonView.setId(i);
-            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams 
-            (LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
-            //params.setMargins(0, 0, 0, 6);
-            buttonView.setLayoutParams(params);
-
-            
-            buttonView.setOnClickListener(new customButton.OnClickListener() {
-                public void onClick(View v) {
-                	
-                	for (int i = 0; i < accounts.size(); i++) {
-                	HashMap btnHash = (HashMap) accounts.get(i);
-                	String btnText = buttonView.getText().toString();
-                	
-                	if (i == buttonView.getId()){
-                		
-                		Bundle bundle = new Bundle();
-                		bundle.putString("accountName", accountNames.get(i).toString());
-                		bundle.putString("id", btnHash.get("id").toString());
-                		Intent viewPostsIntent = new Intent(wpAndroid.this, tabView.class);
-                		viewPostsIntent.putExtras(bundle);
-                    	startActivityForResult(viewPostsIntent , 1);
-                		
-                	}
-                	}
-                	
-                }
-            });
-            
-            
-            buttonView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-	               public void onCreateContextMenu(ContextMenu menu, View v,
-						ContextMenuInfo menuInfo) {
-
-	                   for (int i = 0; i < accounts.size(); i++) {
-	                   	HashMap btnHash = (HashMap) accounts.get(i);
-	                   	String btnText = buttonView.getText().toString();
-	                   	
-	                   	if (i == buttonView.getId()){
-	                   		
-	                   		selectedID = btnHash.get("id").toString();
-	                   		
-	                   	}
-	                   	}
-	                   
-	             
-	            	   menu.add(0, 0, 0, "Remove Account");
-				}
-	          });
-            
-            layout.addView(buttonView);  
-        } 
-        TextView textView = new TextView(this);
-        textView.setTextColor(Color.parseColor("#444444"));
-        textView.setTextSize(12);
-        textView.setPadding(0, 20, 0, 0);
-        textView.setGravity(Gravity.CENTER_HORIZONTAL);
-        textView.setText("Select 'Menu' to add another account or to configure comment notifications.");
-        
-        
-        
-        layout.addView(textView);
-        
-        sv.addView(layout);
-        
-        setContentView(sv);
-	}
-	else{
-		//no account, load new account view
-		Intent i = new Intent(wpAndroid.this, newAccount.class);
-
-    	startActivityForResult(i, 0);
-
-	}
-}
-//Add settings to menu
-@Override
-public boolean onCreateOptionsMenu(Menu menu) {
-    super.onCreateOptionsMenu(menu);
-    menu.add(0, 0, 0, "Add Account");
-    MenuItem menuItem1 = menu.findItem(0);
-    menuItem1.setIcon(R.drawable.ic_menu_preferences);
-    
-    menu.add(0, 1, 0, "Notification Settings");
-    MenuItem menuItem2 = menu.findItem(1);
-    menuItem2.setIcon(R.drawable.ic_menu_notifications);
-    
-    return true;
-}
-//Menu actions
-@Override
-public boolean onOptionsItemSelected(final MenuItem item){
-    switch (item.getItemId()) {
-    case 0:
-    	Intent i = new Intent(this, newAccount.class);
-
-    	startActivityForResult(i, 0);
-    	
-    	return true;
-	case 1:
-		Intent i2 = new Intent(this, notificationSettings.class);
-
-		startActivity(i2);
-	
-		return true;
-	}
-    return false;
-    	
-}
-
-@Override
-protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-	// TODO Auto-generated method stub
-	super.onActivityResult(requestCode, resultCode, data);
-	if (data != null)
-	{
-
-	Bundle extras = data.getExtras();
-
-	switch(requestCode) {
-	case 0:
-	    displayAccounts();
-	    //Toast.makeText(wpAndroid.this, title, Toast.LENGTH_SHORT).show();
-	    break;
-	}
-}//end null check
-	else{
-		displayAccounts();
-	}
-}
-
-
-@Override
-public boolean onContextItemSelected(MenuItem item) {
-
-     /* Switch on the ID of the item, to get what the user selected. */
-     switch (item.getItemId()) {
-     	  case 0:
-     		 AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(wpAndroid.this);
-   		  dialogBuilder.setTitle("Remove Account");
-         dialogBuilder.setMessage("Are you sure you want to remove this account?");
-         dialogBuilder.setPositiveButton("Yes",  new
-       		  DialogInterface.OnClickListener() {
-               public void onClick(DialogInterface dialog, int whichButton) {
-                   // User clicked Accept so set that they've agreed to the eula.
-               	settingsDB settingsDB = new settingsDB(wpAndroid.this);
-                 boolean deleteSuccess = settingsDB.deleteAccount(wpAndroid.this, selectedID);
-                 if (deleteSuccess)
-                 {
-               	  Toast.makeText(wpAndroid.this, "Account removed successfully",
-                             Toast.LENGTH_SHORT).show();
-               	  displayAccounts();
-                 }
-                 else
-                 {
-               	  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(wpAndroid.this);
-         			  dialogBuilder.setTitle("Error");
-                     dialogBuilder.setMessage("Could not remove account, you may need to reinstall WordPress for Android�.");
-                     dialogBuilder.setPositiveButton("OK",  new
-                   		  DialogInterface.OnClickListener() {
-                           public void onClick(DialogInterface dialog, int whichButton) {
-                               // just close the dialog
-                           	
-                       
-                           }
-                       });
-                     dialogBuilder.setCancelable(true);
-                    dialogBuilder.create().show();
-                 }
-           
-               }
-           });
-         dialogBuilder.setNegativeButton("No", new
-       		  DialogInterface.OnClickListener() {
-               public void onClick(DialogInterface dialog, int whichButton) {
-                   finish();  //goodbye!
-               }
-           });
-         dialogBuilder.setCancelable(false);
-        dialogBuilder.create().show();
-   	
-   	
-   	return true;      
-     }
-     return false;
-}
-
-
-}
-
-
-
-
