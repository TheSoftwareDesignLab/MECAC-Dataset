diff --git a/WordPressUtils/build.gradle b/WordPressUtils/build.gradle
index 60f4e40adee4..2defa83d4da3 100644
--- a/WordPressUtils/build.gradle
+++ b/WordPressUtils/build.gradle
@@ -3,8 +3,8 @@ buildscript {
         jcenter()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:2.3.2'
-        classpath 'com.novoda:bintray-release:0.3.4'
+        classpath 'com.android.tools.build:gradle:2.3.3'
+        classpath 'com.novoda:bintray-release:0.5.0'
     }
 }
 
@@ -12,13 +12,17 @@ apply plugin: 'com.android.library'
 apply plugin: 'com.novoda.bintray-release'
 
 repositories {
+    google()
     jcenter()
 }
 
 dependencies {
-    compile 'org.apache.commons:commons-lang3:3.5'
+    compile 'org.apache.commons:commons-text:1.1'
     compile 'com.mcxiaoke.volley:library:1.0.18'
-    compile 'com.android.support:support-v13:25.3.1'
+    compile 'com.android.support:support-v13:26.1.0'
+    compile 'com.android.support:design:26.1.0'
+    compile 'com.android.support:recyclerview-v7:26.1.0'
+    compile 'org.greenrobot:eventbus:3.0.0'
 }
 
 android {
@@ -26,11 +30,11 @@ android {
 
     publishNonDefault true
 
-    compileSdkVersion 25
+    compileSdkVersion 26
     buildToolsVersion "25.0.3"
 
     defaultConfig {
-        versionName "1.17.0"
+        versionName "1.19.0"
         minSdkVersion 14
         targetSdkVersion 25
     }
diff --git a/WordPressUtils/src/androidTest/java/org/wordpress/android/util/ImageUtilsTest.java b/WordPressUtils/src/androidTest/java/org/wordpress/android/util/ImageUtilsTest.java
new file mode 100644
index 000000000000..4974ad03af4f
--- /dev/null
+++ b/WordPressUtils/src/androidTest/java/org/wordpress/android/util/ImageUtilsTest.java
@@ -0,0 +1,78 @@
+package org.wordpress.android.util;
+
+import android.graphics.BitmapFactory;
+import android.test.InstrumentationTestCase;
+
+public class ImageUtilsTest extends InstrumentationTestCase {
+    public void testGetScaleForResizingReturnsOneWhenMaxSizeIsZero() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        int scale = ImageUtils.getScaleForResizing(0, options);
+
+        assertEquals(1, scale);
+    }
+
+    public void testGetScaleForResizingSameSizeReturnsOne() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 100;
+        options.outWidth = 100;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(1, scale);
+    }
+
+    public void testGetScaleForResizingPortraitMaxHeightSameAsMaxSizeReturnsOne() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 100;
+        options.outWidth = 1;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(1, scale);
+    }
+
+    public void testGetScaleForResizingLandscapeMaxWidthSameAsMaxSizeReturnsOne() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 1;
+        options.outWidth = 100;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(1, scale);
+    }
+
+    public void testGetScaleForResizingDoubleSizeReturnsTwo() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 100;
+        options.outWidth = 200;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(2, scale);
+    }
+    public void testGetScaleForResizingThreeTimesSizeReturnsTwo() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 100;
+        options.outWidth = 300;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(2, scale);
+    }
+
+    public void testGetScaleForResizingEightTimesSizeReturnsEight() {
+        BitmapFactory.Options options = new BitmapFactory.Options();
+        options.outHeight = 100;
+        options.outWidth = 800;
+        int maxSize = 100;
+
+        int scale = ImageUtils.getScaleForResizing(maxSize, options);
+
+        assertEquals(8, scale);
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/ActivityUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/ActivityUtils.java
index 396e06c37459..f4fab5c4fa08 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/ActivityUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/ActivityUtils.java
@@ -2,9 +2,16 @@
 
 import android.app.Activity;
 import android.content.Context;
+import android.support.annotation.Nullable;
+import android.view.View;
 import android.view.inputmethod.InputMethodManager;
 
 public class ActivityUtils {
+    /**
+     * Hides the keyboard in the given {@link Activity}'s current focus using the
+     * {@link InputMethodManager#HIDE_NOT_ALWAYS} flag, which will hide the keyboard unless it was originally shown
+     * with {@link InputMethodManager#SHOW_FORCED}.
+     */
     public static void hideKeyboard(Activity activity) {
         if (activity != null && activity.getCurrentFocus() != null) {
             InputMethodManager inputManager = (InputMethodManager) activity.getSystemService(
@@ -13,4 +20,15 @@ public static void hideKeyboard(Activity activity) {
                     InputMethodManager.HIDE_NOT_ALWAYS);
         }
     }
+
+    /**
+     * Hides the keyboard for the given {@link View}. No {@link InputMethodManager} flag is used, therefore the
+     * keyboard is forcibly hidden regardless of the circumstances.
+     */
+    public static void hideKeyboardForced(@Nullable final View view) {
+        if (view == null) return;
+        InputMethodManager inputMethodManager = (InputMethodManager) view.getContext()
+                .getSystemService(Context.INPUT_METHOD_SERVICE);
+        inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);
+    }
 }
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/AppLog.java b/WordPressUtils/src/main/java/org/wordpress/android/util/AppLog.java
index b0f0975c181d..677a33903528 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/AppLog.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/AppLog.java
@@ -25,7 +25,7 @@
 public class AppLog {
     // T for Tag
     public enum T {READER, EDITOR, MEDIA, NUX, API, STATS, UTILS, NOTIFS, DB, POSTS, COMMENTS, THEMES, TESTS, PROFILING,
-        SIMPERIUM, SUGGESTION, MAIN, SETTINGS, PLANS, PEOPLE}
+        SIMPERIUM, SUGGESTION, MAIN, SETTINGS, PLANS, PEOPLE, SHARING}
 
     public static final String TAG = "WordPress";
     public static final int HEADER_LINE_COUNT = 2;
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/AutoForeground.java b/WordPressUtils/src/main/java/org/wordpress/android/util/AutoForeground.java
new file mode 100644
index 000000000000..669b0a7ff4c2
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/AutoForeground.java
@@ -0,0 +1,165 @@
+package org.wordpress.android.util;
+
+import android.app.Notification;
+import android.app.Service;
+import android.content.ComponentName;
+import android.content.Context;
+import android.content.Intent;
+import android.content.ServiceConnection;
+import android.os.Binder;
+import android.os.IBinder;
+import android.support.annotation.CallSuper;
+import android.support.annotation.Nullable;
+import android.support.v4.app.NotificationManagerCompat;
+
+import org.greenrobot.eventbus.EventBus;
+
+public abstract class AutoForeground<EventClass> extends Service {
+
+    public static final int NOTIFICATION_ID_PROGRESS = 1;
+    public static final int NOTIFICATION_ID_SUCCESS = 2;
+    public static final int NOTIFICATION_ID_FAILURE = 3;
+
+    public static class ServiceEventConnection {
+        private final ServiceConnection mServiceConnection;
+
+        public ServiceEventConnection(Context context, Class<? extends AutoForeground> clazz, Object client) {
+            EventBus.getDefault().register(client);
+
+            mServiceConnection = new ServiceConnection() {
+                @Override
+                public void onServiceConnected(ComponentName componentName, IBinder iBinder) {
+                    // nothing here
+                }
+
+                @Override
+                public void onServiceDisconnected(ComponentName componentName) {
+                    // nothing here
+                }
+            };
+
+            context.bindService(new Intent(context, clazz), mServiceConnection, Context.BIND_AUTO_CREATE);
+        }
+
+        public void disconnect(Context context, Object client) {
+            context.unbindService(mServiceConnection);
+            EventBus.getDefault().unregister(client);
+        }
+    }
+
+    private class LocalBinder extends Binder {}
+
+    private final IBinder mBinder = new LocalBinder();
+
+    private final Class<EventClass> mEventClass;
+
+    private boolean mIsForeground;
+
+    protected abstract EventClass getCurrentStateEvent();
+    protected abstract Notification getNotification();
+    protected abstract boolean isIdle();
+    protected abstract boolean isInProgress();
+    protected abstract boolean isError();
+
+    protected AutoForeground(Class<EventClass> eventClass) {
+        mEventClass = eventClass;
+    }
+
+    public boolean isForeground() {
+        return mIsForeground;
+    }
+
+    @Override
+    public void onCreate() {
+        super.onCreate();
+
+        notifyState();
+    }
+
+    @Nullable
+    @CallSuper
+    @Override
+    public IBinder onBind(Intent intent) {
+        clearAllNotifications();
+        return mBinder;
+    }
+
+    @CallSuper
+    @Override
+    public void onRebind(Intent intent) {
+        super.onRebind(intent);
+
+        clearAllNotifications();
+        background();
+    }
+
+    @CallSuper
+    @Override
+    public boolean onUnbind(Intent intent) {
+        if (!hasConnectedClients()) {
+            promoteForeground();
+        }
+
+        return true; // call onRebind() if new clients connect
+    }
+
+    protected void clearAllNotifications() {
+        NotificationManagerCompat.from(this).cancel(NOTIFICATION_ID_PROGRESS);
+        NotificationManagerCompat.from(this).cancel(NOTIFICATION_ID_SUCCESS);
+        NotificationManagerCompat.from(this).cancel(NOTIFICATION_ID_FAILURE);
+    }
+
+    private EventBus getEventBus() {
+        return EventBus.getDefault();
+    }
+
+    private boolean hasConnectedClients() {
+        return getEventBus().hasSubscriberForEvent(mEventClass);
+    }
+
+    private void promoteForeground() {
+        if (isInProgress()) {
+            startForeground(NOTIFICATION_ID_PROGRESS, getNotification());
+            mIsForeground = true;
+        }
+    }
+
+    private void background() {
+        stopForeground(true);
+        mIsForeground = false;
+    }
+
+    @CallSuper
+    protected void notifyState() {
+        // sticky emit the state. The stickiness serves as a state keeping mechanism for clients to re-read upon connect
+        getEventBus().postSticky(getCurrentStateEvent());
+
+        if (hasConnectedClients()) {
+            // there are connected clients so, nothing more to do here
+            return;
+        }
+
+        // ok, no connected clients so, update might need to be delivered to a notification as well
+
+        if (isIdle()) {
+            // no need to have a notification when idle
+            return;
+        }
+
+        if (isInProgress()) {
+            // operation still is progress so, update the notification
+            NotificationManagerCompat.from(this).notify(NOTIFICATION_ID_PROGRESS, getNotification());
+            return;
+        }
+
+        // operation has ended so, demote the Service to a background one
+        background();
+
+        // dismiss the sticky notification
+        NotificationManagerCompat.from(this).cancel(NOTIFICATION_ID_PROGRESS);
+
+        // put out a simple success/failure notification
+        NotificationManagerCompat.from(this).notify(isError() ? NOTIFICATION_ID_FAILURE : NOTIFICATION_ID_SUCCESS,
+                getNotification());
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/FileUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/FileUtils.java
new file mode 100644
index 000000000000..002b2ea43710
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/FileUtils.java
@@ -0,0 +1,60 @@
+package org.wordpress.android.util;
+
+import android.text.TextUtils;
+
+import java.io.File;
+
+public class FileUtils {
+    /**
+     * Returns the length of the file denoted by this abstract pathname.
+     * The return value is unspecified if this pathname denotes a directory.
+     *
+     * @return  The length, in bytes, of the file denoted by this abstract
+     *          pathname, or <code>-1L</code> if the file does not exist, or an
+     *          exception is thrown accessing the file.
+     *          Some operating systems may return <code>0L</code> for pathnames
+     *          denoting system-dependent entities such as devices or pipes.
+     */
+    public static long length(String path) {
+        // File not found
+        File file = new File(path);
+        try {
+            if (!file.exists()) {
+                AppLog.w(AppLog.T.MEDIA, "Can't access the file. It doesn't exists anymore?");
+                return -1L;
+            }
+
+            return file.length();
+        } catch (SecurityException e) {
+            AppLog.e(AppLog.T.MEDIA, "Can't access the file.", e);
+            return -1L;
+        }
+    }
+
+    /**
+     * Given the full file path, or the filename with extension (i.e. my-picture.jpg), returns the filename part only (my-picture).
+     *
+     * @param filePath The path to the file or the full filename
+     * @return filename part only or null
+     */
+    public static String getFileNameFromPath(String filePath) {
+        if (TextUtils.isEmpty(filePath)) {
+            return null;
+        }
+        if (filePath.contains("/")) {
+            if (filePath.lastIndexOf("/") + 1 >= filePath.length()) {
+                filePath = filePath.substring(0, filePath.length() - 1);
+            }
+            filePath = filePath.substring(filePath.lastIndexOf("/") + 1);
+        }
+
+        String filename;
+        int dotPos = filePath.indexOf('.');
+        if (dotPos > 0) {
+            filename = filePath.substring(0, dotPos);
+        } else {
+            filename = filePath;
+        }
+        return filename;
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/GravatarUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/GravatarUtils.java
index 1fbfb3e56025..d029d1f0aaca 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/GravatarUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/GravatarUtils.java
@@ -11,7 +11,7 @@ public class GravatarUtils {
     // it's up to the caller to catch the 404 and provide a suitable default image
     private static final DefaultImage DEFAULT_GRAVATAR = DefaultImage.STATUS_404;
 
-    public static enum DefaultImage {
+    private enum DefaultImage {
         MYSTERY_MAN,
         STATUS_404,
         IDENTICON,
@@ -65,6 +65,7 @@ public static String fixGravatarUrl(final String imageUrl, int avatarSz, Default
     public static String gravatarFromEmail(final String email, int size) {
         return gravatarFromEmail(email, size, DEFAULT_GRAVATAR);
     }
+
     public static String gravatarFromEmail(final String email, int size, DefaultImage defaultImage) {
         return "http://gravatar.com/avatar/"
               + StringUtils.getMd5Hash(StringUtils.notNullStr(email))
@@ -75,6 +76,7 @@ public static String gravatarFromEmail(final String email, int size, DefaultImag
     public static String blavatarFromUrl(final String url, int size) {
         return blavatarFromUrl(url, size, DEFAULT_GRAVATAR);
     }
+
     public static String blavatarFromUrl(final String url, int size, DefaultImage defaultImage) {
         return "http://gravatar.com/blavatar/"
                 + StringUtils.getMd5Hash(UrlUtils.getHost(url))
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/HtmlUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/HtmlUtils.java
index f8846de31a2f..2b97caf57067 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/HtmlUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/HtmlUtils.java
@@ -9,7 +9,7 @@
 import android.text.style.ForegroundColorSpan;
 import android.text.style.QuoteSpan;
 
-import org.apache.commons.lang3.StringEscapeUtils;
+import org.apache.commons.text.StringEscapeUtils;
 import org.wordpress.android.util.helpers.WPHtmlTagHandler;
 import org.wordpress.android.util.helpers.WPImageGetter;
 import org.wordpress.android.util.helpers.WPQuoteSpan;
@@ -51,7 +51,7 @@ public static String fastStripHtml(String str) {
         }
 
         // use regex to strip tags, then convert entities in the result
-        return trimStart(fastUnescapeHtml(str.replaceAll("<(.|\n)*?>", "")));
+        return trimStart(StringEscapeUtils.unescapeHtml4(str.replaceAll("<(.|\n)*?>", "")));
     }
 
     /*
@@ -70,18 +70,6 @@ private static String trimStart(final String str) {
         return str.substring(start);
     }
 
-    /**
-     * Convert html entities to actual Unicode characters - relies on commons apache lang
-     * @param text String to be decoded to Unicode
-     * @return String containing unicode characters
-     */
-    public static String fastUnescapeHtml(final String text) {
-        if (text == null || !text.contains("&")) {
-            return text;
-        }
-        return StringEscapeUtils.unescapeHtml4(text);
-    }
-
     /**
      * Converts an R.color.xxx resource to an HTML hex color
      * @param context Android Context
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/ImageUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/ImageUtils.java
index 47ddc9b4409a..6594ddd49c7c 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/ImageUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/ImageUtils.java
@@ -15,6 +15,8 @@
 import android.graphics.Rect;
 import android.graphics.RectF;
 import android.media.ExifInterface;
+import android.media.MediaMetadataRetriever;
+import android.media.ThumbnailUtils;
 import android.net.Uri;
 import android.os.AsyncTask;
 import android.provider.MediaStore;
@@ -37,6 +39,7 @@
 import java.io.InputStream;
 import java.io.OutputStream;
 import java.lang.ref.WeakReference;
+import java.util.HashMap;
 
 public class ImageUtils {
     public static int[] getImageSize(Uri uri, Context context){
@@ -109,7 +112,7 @@ public static int getImageOrientation(Context ctx, String filePath) {
     }
 
 
-    public static int getExifOrientation(String path) {
+    private static int getExifOrientation(String path) {
         if (TextUtils.isEmpty(path)) {
             AppLog.w(AppLog.T.UTILS, "Can't read EXIF orientation. Passed path is empty.");
             return 0;
@@ -281,7 +284,6 @@ protected void onPostExecute(Bitmap bitmap) {
         }
     }
 
-
     public static String getTitleForWPImageSpan(Context ctx, String filePath) {
         if (filePath == null)
             return null;
@@ -381,7 +383,7 @@ public static Bitmap getWPImageSpanThumbnailFromFilePath(Context context, String
      Resize a bitmap to the targetSize on its longest side.
      */
     public static Bitmap getScaledBitmapAtLongestSide(Bitmap bitmap, int targetSize) {
-        if (bitmap.getWidth() <= targetSize && bitmap.getHeight() <= targetSize) {
+        if (bitmap == null || bitmap.getWidth() <= targetSize && bitmap.getHeight() <= targetSize) {
             // Do not resize.
             return bitmap;
         }
@@ -405,7 +407,7 @@ public static Bitmap getScaledBitmapAtLongestSide(Bitmap bitmap, int targetSize)
     private static boolean resizeImageAndWriteToStream(Context context,
                                                     Uri imageUri,
                                                     String fileExtension,
-                                                    int maxWidth,
+                                                    int maxSize,
                                                     int orientation,
                                                     int quality,
                                                     OutputStream outStream) throws OutOfMemoryError, IOException {
@@ -423,13 +425,7 @@ private static boolean resizeImageAndWriteToStream(Context context,
             throw e;
         }
 
-        // determine correct scale value (should be power of 2)
-        // http://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue/3549021#3549021
-        int scale = 1;
-        if (maxWidth > 0 && optBounds.outWidth > maxWidth) {
-            double d = Math.pow(2, (int) Math.round(Math.log(maxWidth / (double) optBounds.outWidth) / Math.log(0.5)));
-            scale = (int) d;
-        }
+        int scale = getScaleForResizing(maxSize, optBounds);
 
         BitmapFactory.Options optActual = new BitmapFactory.Options();
         optActual.inSampleSize = scale;
@@ -449,14 +445,7 @@ private static boolean resizeImageAndWriteToStream(Context context,
         }
 
         // Resize the bitmap to exact size: calculate exact scale in order to resize accurately
-        float percentage = (float) maxWidth / bmpResized.getWidth();
-        float proportionateHeight = bmpResized.getHeight() * percentage;
-        int finalHeight = (int) Math.rint(proportionateHeight);
-
-        float scaleWidth = ((float) maxWidth) / bmpResized.getWidth();
-        float scaleHeight = ((float) finalHeight) / bmpResized.getHeight();
-
-        float scaleBy = Math.min(scaleWidth, scaleHeight);
+        float scaleBy = getScaleImageBy(maxSize, bmpResized);
 
         Matrix matrix = new Matrix();
         matrix.postScale(scaleBy, scaleBy);
@@ -500,11 +489,11 @@ private static boolean resizeImageAndWriteToStream(Context context,
      * Given the path to an image, compress and resize it.
      * @param context the passed context
      * @param path the path to the original image
-     * @param maxImageWidth the maximum allowed width
+     * @param maxImageSize the maximum allowed width
      * @param quality the encoder quality
      * @return the path to the optimized image
      */
-    public static String optimizeImage(Context context, String path, int maxImageWidth, int quality) {
+    public static String optimizeImage(Context context, String path, int maxImageSize, int quality) {
         if (context == null || TextUtils.isEmpty(path)) {
             return path;
         }
@@ -528,19 +517,20 @@ public static String optimizeImage(Context context, String path, int maxImageWid
         String fileName = MediaUtils.getMediaFileName(file, mimeType);
         String fileExtension = MimeTypeMap.getFileExtensionFromUrl(fileName).toLowerCase();
 
-        int selectedWidth = getImageSize(srcImageUri, context)[0];
-        if (selectedWidth == 0) {
+        int[] imageDimensions = getImageSize(srcImageUri, context);
+        int selectedMaxSize = Math.max(imageDimensions[0], imageDimensions[1]);
+        if (selectedMaxSize == 0) {
             // Can't read the src dimensions.
             return path;
         }
 
         // do not optimize if original-size and 100% quality are set.
-        if (maxImageWidth == Integer.MAX_VALUE && quality == 100) {
+        if (maxImageSize == Integer.MAX_VALUE && quality == 100) {
             return path;
         }
 
-        if (selectedWidth > maxImageWidth) {
-            selectedWidth = maxImageWidth;
+        if (selectedMaxSize > maxImageSize) {
+            selectedMaxSize = maxImageSize;
         }
 
         int orientation = getImageOrientation(context, path);
@@ -549,7 +539,15 @@ public static String optimizeImage(Context context, String path, int maxImageWid
         FileOutputStream out;
 
         try {
-            resizedImageFile = File.createTempFile("wp-image-", "." + fileExtension);
+            // try to re-use the same name as prefix of the temp file
+            String prefix = FileUtils.getFileNameFromPath(fileName);
+
+            if (TextUtils.isEmpty(prefix) || prefix.length() < 3) {
+                // prefix must be at least 3 characters
+                prefix = "wp-image";
+            }
+
+            resizedImageFile = File.createTempFile(prefix, "." + fileExtension);
             out = new FileOutputStream(resizedImageFile);
         } catch (IOException e) {
             AppLog.e(AppLog.T.MEDIA, "Failed to create the temp file on storage. Use the original picture instead.");
@@ -560,7 +558,7 @@ public static String optimizeImage(Context context, String path, int maxImageWid
         }
 
         try {
-            boolean res = resizeImageAndWriteToStream(context, srcImageUri, fileExtension, selectedWidth, orientation, quality, out);
+            boolean res = resizeImageAndWriteToStream(context, srcImageUri, fileExtension, selectedMaxSize, orientation, quality, out);
             if (!res) {
                 AppLog.w(AppLog.T.MEDIA, "Failed to compress the optimized image. Use the original picture instead.");
                 return path;
@@ -591,6 +589,48 @@ public static String optimizeImage(Context context, String path, int maxImageWid
         return path;
     }
 
+    /**
+     * Generate a thumbnail from a video url.
+     * Note that this method could take time if network url.
+     *
+     * @param videoPath The path to the video on internet
+     * @return the path to the picture on disk
+     */
+    public static Bitmap getVideoFrameFromVideo(String videoPath, int maxWidth) {
+        if (TextUtils.isEmpty(videoPath) || maxWidth <= 0) {
+            return null;
+        }
+
+        if (new File(videoPath).exists()) {
+            // Local file
+            Bitmap thumb = ThumbnailUtils.createVideoThumbnail(videoPath, MediaStore.Images.Thumbnails.FULL_SCREEN_KIND);
+            return ImageUtils.getScaledBitmapAtLongestSide(thumb, maxWidth);
+        }
+
+        // Not a local file. 
+        MediaMetadataRetriever mediaMetadataRetriever = new MediaMetadataRetriever();
+        Bitmap bitmap = null;
+        try {
+            mediaMetadataRetriever.setDataSource(videoPath, new HashMap<String, String>());
+            bitmap = mediaMetadataRetriever.getFrameAtTime();
+        } catch (IllegalArgumentException e) {
+            AppLog.e(AppLog.T.MEDIA, "The passed video path is invalid: " + videoPath);
+        } catch (java.lang.RuntimeException e) {
+            // I've see this kind of error on one of my testing device
+            AppLog.e(AppLog.T.MEDIA, "The passed video path is invalid: " + videoPath);
+        }
+        finally {
+            mediaMetadataRetriever.release();
+        }
+
+        if (bitmap == null) {
+            AppLog.w(AppLog.T.MEDIA, "Failed to retrieve frame from the passed video path: " + videoPath);
+            return null;
+        }
+
+        return getScaledBitmapAtLongestSide(bitmap, maxWidth);
+    }
+
     /**
      * nbradbury - 21-Feb-2014 - similar to createThumbnail but more efficient since it doesn't
      * require passing the full-size image as an array of bytes[]
@@ -739,15 +779,9 @@ public static String rotateImageIfNecessary(Context context, String path) {
 
         try {
             // try to re-use the same name as prefix of the temp file
-            String prefix;
-            int dotPos = fileName.indexOf('.');
-            if (dotPos > 0) {
-                prefix = fileName.substring(0, dotPos);
-            } else {
-                prefix = fileName;
-            }
+            String prefix = FileUtils.getFileNameFromPath(fileName);
 
-            if (prefix.length() < 3) {
+            if (TextUtils.isEmpty(prefix) || prefix.length() < 3) {
                 // prefix must be at least 3 characters
                 prefix = "wp-image";
             }
@@ -794,7 +828,6 @@ public static String rotateImageIfNecessary(Context context, String path) {
         return null;
     }
 
-
     /**
      * This is a wrapper around MediaStore.Images.Thumbnails.getThumbnail that takes in consideration
      * the orientation of the picture.
@@ -831,4 +864,33 @@ public static Bitmap getThumbnail(ContentResolver contentResolver, long id, int
 
         return null;
     }
+
+    // determine correct scale value (should be power of 2)
+    // http://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue/3549021#3549021
+    protected static int getScaleForResizing(int maxSize, BitmapFactory.Options optBounds) {
+        if (maxSize < 1) {
+            return 1;
+        }
+
+        int maxDimension = Math.max(optBounds.outWidth, optBounds.outHeight);
+        int scale = 1;
+        
+        while (maxDimension / scale / 2 >= maxSize) {
+            scale *= 2;
+        }
+        return scale;
+    }
+
+    private static float getScaleImageBy(float maxSize, Bitmap bmpResized) {
+        int divideBy = Math.max(bmpResized.getHeight(), bmpResized.getWidth());
+        float percentage = maxSize / divideBy;
+
+        float proportionateHeight = bmpResized.getHeight() * percentage;
+        int finalHeight = (int) Math.rint(proportionateHeight);
+
+        float scaleWidth = maxSize / bmpResized.getWidth();
+        float scaleHeight = ((float) finalHeight) / bmpResized.getHeight();
+
+        return Math.min(scaleWidth, scaleHeight);
+    }
 }
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/JSONUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/JSONUtils.java
index 196a7b1f3993..49ab1c656f84 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/JSONUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/JSONUtils.java
@@ -2,6 +2,7 @@
 
 import android.text.TextUtils;
 
+import org.apache.commons.text.StringEscapeUtils;
 import org.json.JSONArray;
 import org.json.JSONException;
 import org.json.JSONObject;
@@ -195,7 +196,7 @@ public static String getString(JSONObject json, String name) {
      */
     public static String getStringDecoded(JSONObject json, String name) {
         String value = getString(json, name);
-        return HtmlUtils.fastUnescapeHtml(value);
+        return StringEscapeUtils.unescapeHtml4(value);
     }
 
     /*
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/MediaUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/MediaUtils.java
index 60880a89efdf..ca09db361973 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/MediaUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/MediaUtils.java
@@ -7,7 +7,6 @@
 import android.content.CursorLoader;
 import android.database.Cursor;
 import android.graphics.BitmapFactory;
-import android.media.MediaMetadataRetriever;
 import android.net.Uri;
 import android.os.Build;
 import android.os.Environment;
@@ -38,8 +37,6 @@
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
-import static android.os.Environment.isExternalStorageRemovable;
-
 public class MediaUtils {
     private static final int DEFAULT_MAX_IMAGE_WIDTH = 1024;
     private static final Pattern FILE_EXISTS_PATTERN = Pattern.compile("(.*?)(-([0-9]+))?(\\..*$)?");
@@ -134,22 +131,22 @@ public static Uri getLastRecordedVideoUri(Activity activity) {
     }
 
     /**
-     * Get image width setting from the image width site setting string. This string can be an int, in this case it's
+     * Get image max size setting from the image max size setting string. This string can be an int, in this case it's
      * the maximum image width defined by the site.
      * Examples:
      *   "1000" will return 1000
      *   "Original Size" will return Integer.MAX_VALUE
      *   "Largeur originale" will return Integer.MAX_VALUE
      *   null will return Integer.MAX_VALUE
-     * @param imageWidthSiteSettingString Image width site setting string
+     * @param imageMaxSizeSiteSettingString Image max size site setting string
      * @return Integer.MAX_VALUE if image width is not defined or invalid, maximum image width in other cases.
      */
-    public static int getImageWidthSettingFromString(String imageWidthSiteSettingString) {
-        if (imageWidthSiteSettingString == null) {
+    public static int getImageMaxSizeSettingFromString(String imageMaxSizeSiteSettingString) {
+        if (imageMaxSizeSiteSettingString == null) {
             return Integer.MAX_VALUE;
         }
         try {
-            return Integer.valueOf(imageWidthSiteSettingString);
+            return Integer.valueOf(imageMaxSizeSiteSettingString);
         } catch (NumberFormatException e) {
             return Integer.MAX_VALUE;
         }
@@ -158,25 +155,25 @@ public static int getImageWidthSettingFromString(String imageWidthSiteSettingStr
     /**
      * Calculate and return the maximum allowed image width by comparing the width of the image at its full size with
      * the maximum upload width set in the blog settings
-     * @param imageWidth the image's natural (full) width
-     * @param imageWidthSiteSettingString the maximum upload width set in the site settings
+     * @param imageSize the image's natural (full) width
+     * @param imageMaxSizeSiteSettingString the maximum upload width set in the site settings
      * @return maximum allowed image width
      */
-    public static int getMaximumImageWidth(int imageWidth, String imageWidthSiteSettingString) {
-        int imageWidthBlogSetting = getImageWidthSettingFromString(imageWidthSiteSettingString);
-        int imageWidthPictureSetting = imageWidth == 0 ? Integer.MAX_VALUE : imageWidth;
+    public static int getMaximumImageSize(int imageSize, String imageMaxSizeSiteSettingString) {
+        int imageMaxSizeBlogSetting = getImageMaxSizeSettingFromString(imageMaxSizeSiteSettingString);
+        int imageWidthPictureSetting = imageSize == 0 ? Integer.MAX_VALUE : imageSize;
 
-        if (Math.min(imageWidthPictureSetting, imageWidthBlogSetting) == Integer.MAX_VALUE) {
+        if (Math.min(imageWidthPictureSetting, imageMaxSizeBlogSetting) == Integer.MAX_VALUE) {
             // Default value in case of errors reading the picture size or the blog settings is set to Original size
             return DEFAULT_MAX_IMAGE_WIDTH;
         } else {
-            return Math.min(imageWidthPictureSetting, imageWidthBlogSetting);
+            return Math.min(imageWidthPictureSetting, imageMaxSizeBlogSetting);
         }
     }
 
-    public static int getMaximumImageWidth(Context context, Uri curStream, String imageWidthBlogSettingString) {
+    public static int getMaximumImageSize(Context context, Uri curStream, String imageMaxSizeBlogSettingString) {
         int[] dimensions = ImageUtils.getImageSize(curStream, context);
-        return getMaximumImageWidth(dimensions[0], imageWidthBlogSettingString);
+        return getMaximumImageSize(dimensions[0], imageMaxSizeBlogSettingString);
     }
 
     public static boolean isInMediaStore(Uri mediaUri) {
@@ -207,20 +204,12 @@ public static boolean isInMediaStore(Uri mediaUri) {
         }
     }
 
-    public static File getDiskCacheDir(Context context) {
-        // Check if media is mounted or storage is built-in, if so, try and use external cache dir
-        // otherwise use internal cache dir
-        return Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState()) ||
-                !isExternalStorageRemovable() ? context.getApplicationContext().getExternalCacheDir() :
-                context.getCacheDir();
-    }
-
     public static Uri downloadExternalMedia(Context context, Uri imageUri) {
         if (context == null || imageUri == null) {
             return null;
         }
         String mimeType = context.getContentResolver().getType(imageUri);
-        File cacheDir = getDiskCacheDir(context);
+        File cacheDir = context.getCacheDir();
 
         if (cacheDir != null && !cacheDir.exists()) {
             cacheDir.mkdirs();
@@ -290,7 +279,7 @@ private static File getUniqueCacheFileForName(String fileName, File cacheDir, St
         return file;
     }
 
-    private static String generateTimeStampedFileName(String mimeType) {
+    public static String generateTimeStampedFileName(String mimeType) {
         return "wp-" + System.currentTimeMillis() + "." + getExtensionForMimeType(mimeType);
     }
 
@@ -550,36 +539,4 @@ public static boolean isDownloadsDocument(Uri uri) {
     public static boolean isMediaDocument(Uri uri) {
         return "com.android.providers.media.documents".equals(uri.getAuthority());
     }
-
-    public static long getVideoDurationMS(Context context, File file) {
-        if(context == null || file == null) {
-            AppLog.e(AppLog.T.MEDIA, "context and file can't be null.");
-            return 0L;
-        }
-        return getVideoDurationMS(context, Uri.fromFile(file));
-    }
-
-    public static long getVideoDurationMS(Context context, Uri videoUri) {
-        if(context == null || videoUri == null) {
-            AppLog.e(AppLog.T.MEDIA, "context and videoUri can't be null.");
-            return 0L;
-        }
-        MediaMetadataRetriever retriever = new MediaMetadataRetriever();
-        try {
-            retriever.setDataSource(context, videoUri);
-        } catch (IllegalArgumentException | SecurityException e) {
-            AppLog.e(AppLog.T.MEDIA, "Can't read duration of the video.", e);
-            return 0L;
-        } catch (RuntimeException e) {
-            // Ref: https://github.com/wordpress-mobile/WordPress-Android/issues/5431
-            AppLog.e(AppLog.T.MEDIA, "Can't read duration of the video due to a Runtime Exception happened setting the datasource", e);
-            return 0L;
-        }
-
-        String time = retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_DURATION);
-        if (time == null) {
-            return 0L;
-        }
-        return Long.parseLong(time);
-    }
 }
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/StringUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/StringUtils.java
index b15e8d824fa1..73d0b80723cd 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/StringUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/StringUtils.java
@@ -2,7 +2,6 @@
 
 import android.content.Context;
 import android.support.annotation.StringRes;
-import android.text.Html;
 import android.text.TextUtils;
 
 import org.wordpress.android.util.AppLog.T;
@@ -98,14 +97,6 @@ public static String getMd5Hash(String input) {
         return md5;
     }
 
-    public static String unescapeHTML(String html) {
-        if (html != null) {
-            return Html.fromHtml(html).toString();
-        } else {
-            return "";
-        }
-    }
-
     /*
      * nbradbury - adapted from Html.escapeHtml(), which was added in API Level 16
      * TODO: not thoroughly tested yet, so marked as private - not sure I like the way
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/UrlUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/UrlUtils.java
index 82e363451840..c6f593c4b8ed 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/UrlUtils.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/UrlUtils.java
@@ -271,4 +271,12 @@ public static String extractSubDomain(String domain) {
         }
         return "";
     }
+
+    public static String removeXmlrpcSuffix(String siteAddress) {
+        if (siteAddress.toLowerCase().endsWith("/xmlrpc.php")) {
+            return siteAddress.substring(0, siteAddress.lastIndexOf("xmlrpc.php"));
+        } else {
+            return siteAddress;
+        }
+    }
 }
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/VideoUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/VideoUtils.java
new file mode 100644
index 000000000000..efdc594a1b6e
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/VideoUtils.java
@@ -0,0 +1,42 @@
+package org.wordpress.android.util;
+
+
+import android.content.Context;
+import android.media.MediaMetadataRetriever;
+import android.net.Uri;
+
+import java.io.File;
+
+public class VideoUtils {
+    public static long getVideoDurationMS(Context context, File file) {
+        if(context == null || file == null) {
+            AppLog.e(AppLog.T.MEDIA, "context and file can't be null.");
+            return 0L;
+        }
+        return getVideoDurationMS(context, Uri.fromFile(file));
+    }
+
+    public static long getVideoDurationMS(Context context, Uri videoUri) {
+        if(context == null || videoUri == null) {
+            AppLog.e(AppLog.T.MEDIA, "context and videoUri can't be null.");
+            return 0L;
+        }
+        MediaMetadataRetriever retriever = new MediaMetadataRetriever();
+        try {
+            retriever.setDataSource(context, videoUri);
+        } catch (IllegalArgumentException | SecurityException e) {
+            AppLog.e(AppLog.T.MEDIA, "Can't read duration of the video.", e);
+            return 0L;
+        } catch (RuntimeException e) {
+            // Ref: https://github.com/wordpress-mobile/WordPress-Android/issues/5431
+            AppLog.e(AppLog.T.MEDIA, "Can't read duration of the video due to a Runtime Exception happened setting the datasource", e);
+            return 0L;
+        }
+
+        String time = retriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_DURATION);
+        if (time == null) {
+            return 0L;
+        }
+        return Long.parseLong(time);
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/ViewUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/ViewUtils.java
new file mode 100644
index 000000000000..b95d6eeb1ba1
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/ViewUtils.java
@@ -0,0 +1,78 @@
+package org.wordpress.android.util;
+
+import android.annotation.TargetApi;
+import android.content.Context;
+import android.content.res.ColorStateList;
+import android.content.res.TypedArray;
+import android.graphics.Outline;
+import android.os.Build;
+import android.support.annotation.AttrRes;
+import android.support.annotation.NonNull;
+import android.support.annotation.StyleRes;
+import android.support.v4.view.ViewCompat;
+import android.view.View;
+import android.view.ViewOutlineProvider;
+
+import java.util.concurrent.atomic.AtomicInteger;
+
+public class ViewUtils {
+    /**
+     * Generate a value suitable for use in {@link View#setId(int)}.
+     * This value will not collide with ID values generated at build time by aapt for R.id.
+     *  Uses the native implementation if API 17 or above, otherwise uses a copied implementation.
+     *
+     * @return a generated ID value
+     */
+    public static int generateViewId() {
+        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN_MR1) {
+            return View.generateViewId();
+        } else {
+            return copiedGenerateViewId();
+        }
+    }
+
+    private static final AtomicInteger sNextGeneratedId = new AtomicInteger(1);
+
+    /**
+     * Copied from {@link View#generateViewId()}
+     * Generate a value suitable for use in {@link View#setId(int)}.
+     * This value will not collide with ID values generated at build time by aapt for R.id.
+     *
+     * @return a generated ID value
+     */
+    private static int copiedGenerateViewId() {
+        for (;;) {
+            final int result = sNextGeneratedId.get();
+            // aapt-generated IDs have the high byte nonzero; clamp to the range under that.
+            int newValue = result + 1;
+            if (newValue > 0x00FFFFFF) newValue = 1; // Roll over to 1, not 0.
+            if (sNextGeneratedId.compareAndSet(result, newValue)) {
+                return result;
+            }
+        }
+    }
+
+    public static void setButtonBackgroundColor(Context context, View button, @StyleRes int styleId,
+            @AttrRes int colorAttribute) {
+        TypedArray a = context.obtainStyledAttributes(styleId, new int[] { colorAttribute } );
+        ColorStateList color = a.getColorStateList(0);
+        a.recycle();
+        ViewCompat.setBackgroundTintList(button, color);
+    }
+
+    /**
+     * adds an inset circular shadow outline the passed view (Lollipop+ only) - note that
+     * the view should have its elevation set prior to calling this
+     */
+    @TargetApi(Build.VERSION_CODES.LOLLIPOP)
+    public static void addCircularShadowOutline(@NonNull View view) {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            view.setOutlineProvider(new ViewOutlineProvider() {
+                @Override
+                public void getOutline(View view, Outline outline) {
+                    outline.setOval(0, 0, view.getWidth(), view.getHeight());
+                }
+            });
+        }
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/WebViewUtils.java b/WordPressUtils/src/main/java/org/wordpress/android/util/WebViewUtils.java
new file mode 100644
index 000000000000..6247957819dc
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/WebViewUtils.java
@@ -0,0 +1,22 @@
+package org.wordpress.android.util;
+
+import android.os.Build;
+import android.webkit.CookieManager;
+import android.webkit.ValueCallback;
+
+public class WebViewUtils {
+    public static void clearCookiesAsync() {
+        clearCookiesAsync(null);
+    }
+
+    public static void clearCookiesAsync(ValueCallback<Boolean> callback) {
+        CookieManager cookieManager = CookieManager.getInstance();
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            cookieManager.removeAllCookies(callback);
+        } else {
+            //noinspection deprecation
+            cookieManager.removeAllCookie();
+        }
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/LocationHelper.java b/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/LocationHelper.java
deleted file mode 100644
index ff472c2ed429..000000000000
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/LocationHelper.java
+++ /dev/null
@@ -1,144 +0,0 @@
-//This Handy-Dandy class acquired and tweaked from http://stackoverflow.com/a/3145655/309558
-package org.wordpress.android.util.helpers;
-
-import android.annotation.SuppressLint;
-import android.app.Activity;
-import android.content.Context;
-import android.location.Location;
-import android.location.LocationListener;
-import android.location.LocationManager;
-import android.os.Bundle;
-
-import java.util.Timer;
-import java.util.TimerTask;
-
-public class LocationHelper {
-    Timer mTimer;
-    LocationManager mLocationManager;
-    LocationResult mLocationResult;
-    boolean mGpsEnabled = false;
-    boolean mNetworkEnabled = false;
-
-    @SuppressLint("MissingPermission")
-    public boolean getLocation(Activity activity, LocationResult result) {
-        mLocationResult = result;
-        if (mLocationManager == null) {
-            mLocationManager = (LocationManager) activity.getSystemService(Context.LOCATION_SERVICE);
-        }
-
-        // exceptions will be thrown if provider is not permitted.
-        try {
-            mGpsEnabled = mLocationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);
-        } catch (Exception ex) {
-        }
-        try {
-            mNetworkEnabled = mLocationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);
-        } catch (Exception ex) {
-        }
-
-        // don't start listeners if no provider is enabled
-        if (!mGpsEnabled && !mNetworkEnabled) {
-            return false;
-        }
-
-        if (mGpsEnabled) {
-            mLocationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);
-        }
-
-        if (mNetworkEnabled) {
-            mLocationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);
-        }
-
-        mTimer = new Timer();
-        mTimer.schedule(new GetLastLocation(), 30000);
-        return true;
-    }
-
-    LocationListener locationListenerGps = new LocationListener() {
-        @SuppressLint("MissingPermission")
-        public void onLocationChanged(Location location) {
-            mTimer.cancel();
-            mLocationResult.gotLocation(location);
-            mLocationManager.removeUpdates(this);
-            mLocationManager.removeUpdates(locationListenerNetwork);
-        }
-
-        public void onProviderDisabled(String provider) {
-        }
-
-        public void onProviderEnabled(String provider) {
-        }
-
-        public void onStatusChanged(String provider, int status, Bundle extras) {
-        }
-    };
-
-    LocationListener locationListenerNetwork = new LocationListener() {
-        @SuppressLint("MissingPermission")
-        public void onLocationChanged(Location location) {
-            mTimer.cancel();
-            mLocationResult.gotLocation(location);
-            mLocationManager.removeUpdates(this);
-            mLocationManager.removeUpdates(locationListenerGps);
-        }
-
-        public void onProviderDisabled(String provider) {
-        }
-
-        public void onProviderEnabled(String provider) {
-        }
-
-        public void onStatusChanged(String provider, int status, Bundle extras) {
-        }
-    };
-
-    class GetLastLocation extends TimerTask {
-        @Override
-        @SuppressLint("MissingPermission")
-        public void run() {
-            mLocationManager.removeUpdates(locationListenerGps);
-            mLocationManager.removeUpdates(locationListenerNetwork);
-
-            Location net_loc = null, gps_loc = null;
-            if (mGpsEnabled) {
-                gps_loc = mLocationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
-            }
-            if (mNetworkEnabled) {
-                net_loc = mLocationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
-            }
-
-            // if there are both values use the latest one
-            if (gps_loc != null && net_loc != null) {
-                if (gps_loc.getTime() > net_loc.getTime()) {
-                    mLocationResult.gotLocation(gps_loc);
-                } else {
-                    mLocationResult.gotLocation(net_loc);
-                }
-                return;
-            }
-
-            if (gps_loc != null) {
-                mLocationResult.gotLocation(gps_loc);
-                return;
-            }
-            if (net_loc != null) {
-                mLocationResult.gotLocation(net_loc);
-                return;
-            }
-            mLocationResult.gotLocation(null);
-        }
-    }
-
-    public static abstract class LocationResult {
-        public abstract void gotLocation(Location location);
-    }
-
-    @SuppressLint("MissingPermission")
-    public void cancelTimer() {
-        if (mTimer != null) {
-            mTimer.cancel();
-            mLocationManager.removeUpdates(locationListenerGps);
-            mLocationManager.removeUpdates(locationListenerNetwork);
-        }
-    }
-}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/RecyclerViewScrollPositionManager.java b/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/RecyclerViewScrollPositionManager.java
new file mode 100644
index 000000000000..03f1b1fadb7d
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/RecyclerViewScrollPositionManager.java
@@ -0,0 +1,38 @@
+package org.wordpress.android.util.helpers;
+
+import android.os.Bundle;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.view.View;
+
+
+public class RecyclerViewScrollPositionManager {
+    private static final String RV_POSITION = "rv_position";
+    private static final String RV_OFFSET = "rv_offset";
+    private int mRVPosition = 0;
+    private int mRVOffset = 0;
+
+    public void onSaveInstanceState(Bundle outState, RecyclerView recyclerView) {
+        // make sure the layout manager is assigned to the RecyclerView
+        // also take into account this needs to be a LinearLayoutManager, otherwise ClassCastException occurs
+        outState.putInt(RV_POSITION,
+                ((LinearLayoutManager)recyclerView.getLayoutManager()).findFirstVisibleItemPosition());
+        View firstItemView = recyclerView.getChildAt(0);
+        int offset = (firstItemView == null) ? 0 : (firstItemView.getTop() - recyclerView.getPaddingTop());
+        outState.putInt(RV_OFFSET, offset);
+    }
+
+    public void onRestoreInstanceState(Bundle savedInstanceState) {
+        mRVPosition = savedInstanceState.getInt(RV_POSITION);
+        mRVOffset = savedInstanceState.getInt(RV_OFFSET);
+    }
+
+    public void restoreScrollOffset(RecyclerView recyclerView) {
+        if (mRVPosition > 0 || mRVOffset > 0) {
+            ((LinearLayoutManager)recyclerView.getLayoutManager())
+                    .scrollToPositionWithOffset(mRVPosition, mRVOffset);
+        }
+        mRVPosition = 0;
+        mRVOffset = 0;
+    }
+}
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/SwipeToRefreshHelper.java b/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/SwipeToRefreshHelper.java
index e6f4bf323285..ee85a512d3a6 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/SwipeToRefreshHelper.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/helpers/SwipeToRefreshHelper.java
@@ -1,12 +1,9 @@
 package org.wordpress.android.util.helpers;
 
-import android.app.Activity;
 import android.content.Context;
-import android.content.res.TypedArray;
+import android.support.annotation.ColorRes;
 import android.support.v4.widget.SwipeRefreshLayout.OnRefreshListener;
-import android.util.TypedValue;
 
-import org.wordpress.android.util.R;
 import org.wordpress.android.util.widgets.CustomSwipeRefreshLayout;
 
 public class SwipeToRefreshHelper implements OnRefreshListener {
@@ -18,19 +15,58 @@ public interface RefreshListener {
         public void onRefreshStarted();
     }
 
+    /**
+     * Helps {@link org.wordpress.android.util.widgets.CustomSwipeRefreshLayout} by passing the
+     * {@link android.support.v4.widget.SwipeRefreshLayout}, {@link RefreshListener}, and color.
+     *
+     * @param context               {@link Context} in which this layout is used.
+     * @param swipeRefreshLayout    {@link CustomSwipeRefreshLayout} for refreshing the contents
+     *                              of a view via a vertical swipe gesture.
+     * @param listener              {@link RefreshListener} notified when a refresh is triggered
+     *                              via the swipe gesture.
+     *
+     * @deprecated Use {@link #SwipeToRefreshHelper(CustomSwipeRefreshLayout, RefreshListener, int...)} instead.
+     */
+    @Deprecated
     public SwipeToRefreshHelper(Context context, CustomSwipeRefreshLayout swipeRefreshLayout, RefreshListener listener) {
-        init(context, swipeRefreshLayout, listener);
+        init(swipeRefreshLayout, listener, android.R.color.holo_blue_dark);
     }
 
-    public void init(Context context, CustomSwipeRefreshLayout swipeRefreshLayout, RefreshListener listener) {
+    /**
+     * Helps {@link org.wordpress.android.util.widgets.CustomSwipeRefreshLayout} by passing the
+     * {@link android.support.v4.widget.SwipeRefreshLayout}, {@link RefreshListener}, and color(s).
+     *
+     * @param swipeRefreshLayout    {@link CustomSwipeRefreshLayout} for refreshing the contents
+     *                              of a view via a vertical swipe gesture.
+     * @param listener              {@link RefreshListener} notified when a refresh is triggered
+     *                              via the swipe gesture.
+     * @param colorResIds           Comma-separated color resource integers used in the progress
+     *                              animation. The first color will also be the color of the bar
+     *                              that grows in response to a user swipe gesture.
+     */
+    public SwipeToRefreshHelper(CustomSwipeRefreshLayout swipeRefreshLayout, RefreshListener listener,
+                                @ColorRes int... colorResIds) {
+        init(swipeRefreshLayout, listener, colorResIds);
+    }
+
+    /**
+     * Initializes {@link org.wordpress.android.util.widgets.CustomSwipeRefreshLayout} by assigning
+     * {@link android.support.v4.widget.SwipeRefreshLayout}, {@link RefreshListener}, and color(s).
+     *
+     * @param swipeRefreshLayout    {@link CustomSwipeRefreshLayout} for refreshing the contents
+     *                              of a view via a vertical swipe gesture.
+     * @param listener              {@link RefreshListener} notified when a refresh is triggered
+     *                              via the swipe gesture.
+     * @param colorResIds           Comma-separated color resource integers used in the progress
+     *                              animation. The first color will also be the color of the bar
+     *                              that grows in response to a user swipe gesture.
+     */
+    public void init(CustomSwipeRefreshLayout swipeRefreshLayout, RefreshListener listener,
+                     @ColorRes int... colorResIds) {
         mRefreshListener = listener;
         mSwipeRefreshLayout = swipeRefreshLayout;
         mSwipeRefreshLayout.setOnRefreshListener(this);
-        final TypedArray styleAttrs = obtainStyledAttrsFromThemeAttr(context, R.attr.swipeToRefreshStyle,
-                R.styleable.RefreshIndicator);
-        int color = styleAttrs.getColor(R.styleable.RefreshIndicator_refreshIndicatorColor, context.getResources()
-                .getColor(android.R.color.holo_blue_dark));
-        mSwipeRefreshLayout.setColorSchemeColors(color, color, color, color);
+        mSwipeRefreshLayout.setColorSchemeResources(colorResIds);
     }
 
     public void setRefreshing(boolean refreshing) {
@@ -62,11 +98,4 @@ public void onRefresh() {
     public void setEnabled(boolean enabled) {
         mSwipeRefreshLayout.setEnabled(enabled);
     }
-
-    public static TypedArray obtainStyledAttrsFromThemeAttr(Context context, int themeAttr, int[] styleAttrs) {
-        TypedValue outValue = new TypedValue();
-        context.getTheme().resolveAttribute(themeAttr, outValue, true);
-        int styleResId = outValue.resourceId;
-        return context.obtainStyledAttributes(styleResId, styleAttrs);
-    }
 }
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/AutoResizeTextView.java b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/AutoResizeTextView.java
index b0b4dc017545..33c4c15d27a5 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/AutoResizeTextView.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/AutoResizeTextView.java
@@ -1,6 +1,7 @@
 package org.wordpress.android.util.widgets;
 
 import android.content.Context;
+import android.support.v7.widget.AppCompatTextView;
 import android.text.Layout;
 import android.text.StaticLayout;
 import android.text.TextPaint;
@@ -16,7 +17,7 @@
  * See http://stackoverflow.com/a/5535672
  *
  */
-public class AutoResizeTextView extends TextView {
+public class AutoResizeTextView extends AppCompatTextView {
     // Minimum text size for this text view
     private static final float MIN_TEXT_SIZE = 20;
 
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPEditText.java b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPEditText.java
index 0468cf807b5f..75194e6e2aa5 100644
--- a/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPEditText.java
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPEditText.java
@@ -1,5 +1,6 @@
 package org.wordpress.android.util.widgets;
 
+import android.annotation.SuppressLint;
 import android.content.Context;
 import android.util.AttributeSet;
 import android.view.KeyEvent;
@@ -9,6 +10,7 @@
  * @deprecated This custom EditText is used solely by the "legacy" editor in WP Android.
  * It will be removed when we drop the legacy editor and should not be used in new code.
  */
+@SuppressLint("AppCompatCustomView")
 @Deprecated
 public class WPEditText extends EditText {
     private EditTextImeBackListener mOnImeBack;
diff --git a/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPTextInputLayout.java b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPTextInputLayout.java
new file mode 100644
index 000000000000..01180c6ce903
--- /dev/null
+++ b/WordPressUtils/src/main/java/org/wordpress/android/util/widgets/WPTextInputLayout.java
@@ -0,0 +1,46 @@
+package org.wordpress.android.util.widgets;
+
+import android.content.Context;
+import android.support.design.widget.TextInputLayout;
+import android.util.AttributeSet;
+import android.view.View;
+import android.widget.EditText;
+
+import org.wordpress.android.util.R;
+
+/**
+ * Custom TextInputLayout to provide a usable getBaseline() and error view padding
+ */
+public class WPTextInputLayout extends TextInputLayout {
+    public WPTextInputLayout(Context context) {
+        super(context);
+    }
+
+    public WPTextInputLayout(Context context, AttributeSet attrs) {
+        super(context, attrs);
+    }
+
+    public WPTextInputLayout(Context context, AttributeSet attrs, int defStyleAttr) {
+        super(context, attrs, defStyleAttr);
+    }
+
+    @Override
+    public int getBaseline() {
+        EditText editText = getEditText();
+        return editText != null ? editText.getBaseline() - editText.getPaddingBottom() +
+                getResources().getDimensionPixelSize(R.dimen.textinputlayout_baseline_correction) : 0;
+    }
+
+    @Override
+    public void setErrorEnabled(boolean enabled) {
+        super.setErrorEnabled(enabled);
+
+        // remove hardcoded side padding of the error view
+        if (enabled) {
+            View errorView = findViewById(android.support.design.R.id.textinput_error);
+            if (errorView != null && errorView.getParent() != null) {
+                ((View) errorView.getParent()).setPadding(0, errorView.getPaddingTop(), 0, errorView.getPaddingBottom());
+            }
+        }
+    }
+}
diff --git a/WordPressUtils/src/main/res/values/attrs.xml b/WordPressUtils/src/main/res/values/attrs.xml
deleted file mode 100644
index dd1fa5cbfd48..000000000000
--- a/WordPressUtils/src/main/res/values/attrs.xml
+++ /dev/null
@@ -1,7 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<resources>
-    <attr name="swipeToRefreshStyle" format="reference"/>
-    <declare-styleable name="RefreshIndicator">
-        <attr name="refreshIndicatorColor" format="reference|color"/>
-    </declare-styleable>
-</resources>
diff --git a/WordPressUtils/src/main/res/values/dimens.xml b/WordPressUtils/src/main/res/values/dimens.xml
new file mode 100644
index 000000000000..f27790259f7e
--- /dev/null
+++ b/WordPressUtils/src/main/res/values/dimens.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <dimen name="textinputlayout_baseline_correction">2dp</dimen>
+    <dimen name="textinputlayout_correction_padding">4.3dp</dimen>
+    <dimen name="textinputlayout_correction_margin_right">-8.6dp</dimen>
+</resources>
\ No newline at end of file
diff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar
index 98d1b88688c0..a118be48be88 100644
Binary files a/gradle/wrapper/gradle-wrapper.jar and b/gradle/wrapper/gradle-wrapper.jar differ
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
index 2d55cf5703ba..1c30081dabbc 100644
--- a/gradle/wrapper/gradle-wrapper.properties
+++ b/gradle/wrapper/gradle-wrapper.properties
@@ -1,6 +1,6 @@
-#Tue Mar 21 13:08:23 CET 2017
+#Tue Jul 11 13:17:12 EEST 2017
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-3.3-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-4.0.1-all.zip
