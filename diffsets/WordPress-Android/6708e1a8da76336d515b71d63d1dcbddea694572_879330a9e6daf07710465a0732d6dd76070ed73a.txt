diff --git a/.gitattributes b/.gitattributes
index 7628e194a7bc..695c0011a2b1 100644
--- a/.gitattributes
+++ b/.gitattributes
@@ -213,6 +213,9 @@ res/drawable-hdpi-v4/btn_check_off_pressed.png -text
 res/drawable-hdpi-v4/btn_check_off_selected.png -text
 res/drawable-hdpi-v4/btn_check_on_pressed.png -text
 res/drawable-hdpi-v4/btn_check_on_selected.png -text
+res/drawable-hdpi-v4/check.png -text
+res/drawable-hdpi-v4/comments_tab.png -text
+res/drawable-hdpi-v4/comments_tab_active.png -text
 res/drawable-hdpi-v4/content_bg.9.png -text
 res/drawable-hdpi-v4/grey_wp_button.9.png -text
 res/drawable-hdpi-v4/grey_wp_button_active.9.png -text
@@ -220,6 +223,10 @@ res/drawable-hdpi-v4/grey_wp_button_down.9.png -text
 res/drawable-hdpi-v4/ic_menu_add.png -text
 res/drawable-hdpi-v4/ic_menu_close_clear_cancel.png -text
 res/drawable-hdpi-v4/ic_menu_prefs.png -text
+res/drawable-hdpi-v4/pages_tab.png -text
+res/drawable-hdpi-v4/pages_tab_active.png -text
+res/drawable-hdpi-v4/posts_tab.png -text
+res/drawable-hdpi-v4/posts_tab_active.png -text
 res/drawable-hdpi-v4/refresh.png -text
 res/drawable-hdpi-v4/wp_check_off.png -text
 res/drawable-hdpi-v4/wp_check_on.png -text
@@ -290,6 +297,8 @@ res/layout/global_settings.xml -text
 res/layout/home.xml -text
 res/layout/home_row.xml -text
 res/layout/link.xml -text
+res/layout/list_footer_btn.xml -text
+res/layout/list_footer_progress.xml -text
 res/layout/main.xml -text
 res/layout/main_page.xml -text
 res/layout/moderatecomments.xml -text
@@ -303,7 +312,10 @@ res/layout/select_categories.xml -text
 res/layout/settings.xml -text
 res/layout/spinner_textview.xml -text
 res/layout/splashscreen.xml -text
+res/layout/table_row.xml -text
+res/layout/table_row_header.xml -text
 res/layout/view_comment.xml -text
+res/layout/view_stats.xml -text
 res/layout/viewcomments.xml -text
 res/layout/viewpost.xml -text
 res/layout/viewposts.xml -text
@@ -319,6 +331,7 @@ res/values-nb/strings.xml -text
 res/values-ru/strings.xml -text
 res/values-sk/strings.xml -text
 res/values-ta/strings.xml -text
+res/values/arrays.xml -text
 res/values/strings.xml -text
 res/values/styles.xml -text
 src/com/commonsware/cwac/cache/AsyncCache.java -text
@@ -363,6 +376,7 @@ src/org/wordpress/android/viewComment.java -text
 src/org/wordpress/android/viewComments.java -text
 src/org/wordpress/android/viewPost.java -text
 src/org/wordpress/android/viewPosts.java -text
+src/org/wordpress/android/viewStats.java -text
 src/org/wordpress/android/wpAndroid.java -text
 src/org/xmlrpc/android/Base64.java -text
 src/org/xmlrpc/android/Base64Coder.java -text
diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index bf90976b2ee7..fdc6aaf073f5 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -1,8 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
-<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="org.wordpress.android" android:versionName="1.2.1" android:versionCode="18">
-	<uses-sdk android:minSdkVersion="3" android:targetSdkVersion="4"></uses-sdk>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="org.wordpress.android" android:installLocation="auto" android:versionName="1.2.2 Beta" android:versionCode="19">
+	<uses-sdk android:minSdkVersion="3" android:targetSdkVersion="8"></uses-sdk>
 	<application android:icon="@drawable/app_icon" android:theme="@style/WordPress"
-		android:label="WordPress" android:name="WordPress" android:debuggable="false">
+		android:label="WordPress" android:name="WordPress" android:debuggable="true">
 		<activity android:name=".wpAndroid" android:icon="@drawable/app_icon" android:configChanges="orientation|keyboardHidden"/>
 		<activity android:name=".settings" android:label="Settings"
 			android:configChanges="orientation|keyboardHidden" />
@@ -46,6 +46,7 @@
 <activity android:theme="@android:style/Theme.Dialog" android:name="addCategory" android:label="@string/add_new_category" android:configChanges="orientation|keyboardHidden"></activity>
 <activity android:name="signup" android:configChanges="orientation|keyboardHidden"></activity>
 <activity android:name="newAccount" android:screenOrientation="portrait"></activity>
+<activity android:name="viewStats"></activity>
 </application>
 
 	<supports-screens android:smallScreens="true"
diff --git a/bin/WordPress.apk b/bin/WordPress.apk
index 22da01c6ccae..33e0e1e82fef 100644
Binary files a/bin/WordPress.apk and b/bin/WordPress.apk differ
diff --git a/bin/classes.dex b/bin/classes.dex
index 35ad1542f03c..2d69dafe67b6 100644
Binary files a/bin/classes.dex and b/bin/classes.dex differ
diff --git a/bin/resources.ap_ b/bin/resources.ap_
index ce9c3de69026..1085f4fb804c 100644
Binary files a/bin/resources.ap_ and b/bin/resources.ap_ differ
diff --git a/default.properties b/default.properties
index 08ad68f11912..c5d5335eec8d 100644
--- a/default.properties
+++ b/default.properties
@@ -10,5 +10,5 @@
 # Indicates whether an apk should be generated for each density.
 split.density=false
 # Project target.
-target=android-4
+target=android-8
 apk-configurations=
diff --git a/res/drawable-hdpi-v4/check.png b/res/drawable-hdpi-v4/check.png
new file mode 100644
index 000000000000..4d3d7ebfb3b8
Binary files /dev/null and b/res/drawable-hdpi-v4/check.png differ
diff --git a/res/drawable-hdpi-v4/comments_tab.png b/res/drawable-hdpi-v4/comments_tab.png
new file mode 100644
index 000000000000..5bf1820ffbca
Binary files /dev/null and b/res/drawable-hdpi-v4/comments_tab.png differ
diff --git a/res/drawable-hdpi-v4/comments_tab_active.png b/res/drawable-hdpi-v4/comments_tab_active.png
new file mode 100644
index 000000000000..96e88904a877
Binary files /dev/null and b/res/drawable-hdpi-v4/comments_tab_active.png differ
diff --git a/res/drawable-hdpi-v4/pages_tab.png b/res/drawable-hdpi-v4/pages_tab.png
new file mode 100644
index 000000000000..96d8f3bbb41b
Binary files /dev/null and b/res/drawable-hdpi-v4/pages_tab.png differ
diff --git a/res/drawable-hdpi-v4/pages_tab_active.png b/res/drawable-hdpi-v4/pages_tab_active.png
new file mode 100644
index 000000000000..bf78cdb8597e
Binary files /dev/null and b/res/drawable-hdpi-v4/pages_tab_active.png differ
diff --git a/res/drawable-hdpi-v4/posts_tab.png b/res/drawable-hdpi-v4/posts_tab.png
new file mode 100644
index 000000000000..1c7f44b99cc4
Binary files /dev/null and b/res/drawable-hdpi-v4/posts_tab.png differ
diff --git a/res/drawable-hdpi-v4/posts_tab_active.png b/res/drawable-hdpi-v4/posts_tab_active.png
new file mode 100644
index 000000000000..0ff669b6f4e3
Binary files /dev/null and b/res/drawable-hdpi-v4/posts_tab_active.png differ
diff --git a/res/layout/edit.xml b/res/layout/edit.xml
index 1f9606c15d72..54886a60a54b 100644
--- a/res/layout/edit.xml
+++ b/res/layout/edit.xml
@@ -51,7 +51,6 @@
               android:layout_height="wrap_content" 
               android:background="@android:drawable/editbox_background"
               android:minLines="5"
-              android:maxLines="20"
               android:autoText="true"
               android:capitalize="sentences"
               android:layout_below="@id/l_content"/>
diff --git a/res/layout/edit_page.xml b/res/layout/edit_page.xml
index b582ae919d37..fb40fac3bb96 100644
--- a/res/layout/edit_page.xml
+++ b/res/layout/edit_page.xml
@@ -50,7 +50,6 @@
               android:layout_height="wrap_content" 
               android:background="@android:drawable/editbox_background"
               android:minLines="5"
-              android:maxLines="20"
               android:autoText="true"
               android:capitalize="sentences"
               android:layout_below="@id/l_content"/>
diff --git a/res/layout/list_footer_btn.xml b/res/layout/list_footer_btn.xml
new file mode 100644
index 000000000000..68a49df7a825
--- /dev/null
+++ b/res/layout/list_footer_btn.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<Button xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/btn_loadmorecontacts"
+    android:text="Load More"
+    android:layout_width="fill_parent" 
+    android:layout_height="wrap_content"
+    android:textSize="16dip"
+    android:minHeight="50dip"
+    android:textColor="#FF464646"
+    android:background="@android:drawable/list_selector_background" 
+    android:clickable="true" 
+    android:onClick="onClick" />
\ No newline at end of file
diff --git a/res/layout/list_footer_progress.xml b/res/layout/list_footer_progress.xml
new file mode 100644
index 000000000000..9e83ea7c891a
--- /dev/null
+++ b/res/layout/list_footer_progress.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="wrap_content" 
+    android:layout_height="wrap_content"
+    android:gravity="center_horizontal" 
+    android:minHeight="50dip">
+
+    <ProgressBar 
+        android:id="@+id/progressbar"
+        android:layout_width="20dip" 
+        android:layout_height="20dip" 
+        android:layout_centerVertical="true"
+        style="?android:attr/progressBarStyleInverse"/>
+
+    <TextView 
+        android:text="@string/loading"
+        android:textSize="16dip"
+        android:layout_height="wrap_content" 
+        android:layout_width="wrap_content"
+        android:layout_toRightOf="@+id/progressbar" 
+        android:layout_centerVertical="true" 
+        android:gravity="center"
+        android:padding="10dip"
+        android:textColor="#FF464646" />
+</RelativeLayout>
\ No newline at end of file
diff --git a/res/layout/main.xml b/res/layout/main.xml
index cb6bed6fbc76..03cbb53cd9e2 100644
--- a/res/layout/main.xml
+++ b/res/layout/main.xml
@@ -47,7 +47,6 @@
               android:layout_height="wrap_content" 
               android:background="@android:drawable/editbox_background"
               android:minLines="5"
-              android:maxLines="5"
               android:autoText="true"
               android:capitalize="sentences"
               android:layout_below="@id/l_content"/>
diff --git a/res/layout/main_page.xml b/res/layout/main_page.xml
index 9045bc674194..e6916eb58885 100644
--- a/res/layout/main_page.xml
+++ b/res/layout/main_page.xml
@@ -51,7 +51,6 @@
               android:layout_height="wrap_content" 
               android:background="@android:drawable/editbox_background"
               android:minLines="5"
-              android:maxLines="20"
               android:autoText="true"
               android:capitalize="sentences"
               android:layout_below="@id/l_content"/>
diff --git a/res/layout/moderatecomments.xml b/res/layout/moderatecomments.xml
index eb878245e397..d531f26f31a8 100644
--- a/res/layout/moderatecomments.xml
+++ b/res/layout/moderatecomments.xml
@@ -2,7 +2,6 @@
 <LinearLayout  xmlns:android="http://schemas.android.com/apk/res/android"
                 android:layout_width="fill_parent" 
                 android:layout_height="fill_parent"
-                
                 android:orientation="vertical">    
 <RelativeLayout  
 			  android:id="@+id/mainRL" 
@@ -50,6 +49,46 @@ android:scrollingCache="true">
                 android:layout_alignParentTop="true"/>
  				</LinearLayout>
 </RelativeLayout> 
+	<RelativeLayout android:id="@+id/moderationBar" 
+				  android:layout_below="@id/mainRL"
+				  android:layout_alignParentBottom="true"
+				  android:layout_width="fill_parent" 
+	              android:layout_height="wrap_content"
+	              android:background="#AA111111"
+	              android:paddingTop="4dip"
+	              android:visibility="invisible">       
+	<ImageButton android:id="@+id/deleteComment" 
+			android:layout_width="48dip" 
+			android:layout_height="48dip"
+			android:padding="2dip"
+			android:background="@drawable/wp_button_small"
+			android:src="@drawable/ic_menu_delete"
+			android:layout_alignParentLeft="true"/>
+	<Button android:id="@+id/approveComment" 
+			android:textSize="12dip"
+			android:layout_width="wrap_content" 
+			android:layout_height="wrap_content"
+			android:background="@drawable/wp_button_small"
+			android:text="@string/approve"
+			android:textColor="#FF006505"
+			android:layout_alignParentRight="true"/>
+	<Button android:id="@+id/unapproveComment" 
+	android:textSize="12dip"
+			android:layout_width="wrap_content" 
+			android:layout_height="wrap_content"
+			android:background="@drawable/wp_button_small"
+			android:text="@string/unapprove"
+			android:textColor="#FFD98500"
+			android:layout_toLeftOf="@id/approveComment"/>
+	<Button android:id="@+id/markSpam" 
+	android:textSize="12dip"
+			android:layout_width="wrap_content" 
+			android:layout_height="wrap_content"
+			android:background="@drawable/wp_button_small"
+			android:text="@string/spam"
+			android:textColor="#FFBC0B0B"
+			android:layout_toLeftOf="@id/unapproveComment"/>
+	</RelativeLayout>
 </RelativeLayout>  
 <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="fill_parent"
@@ -57,6 +96,20 @@ android:scrollingCache="true">
     android:background="@drawable/bottom_bar"
     android:padding="2dip"
    >
+<Button android:id="@+id/bulkEdit"
+android:layout_width="wrap_content" 
+		android:background="@drawable/menu_button_selector"
+		android:layout_height="wrap_content"
+		android:text="Edit"
+		android:layout_marginTop="2dip"
+		android:padding="2dip"
+		android:textStyle="bold"
+		android:textSize="20dip"
+		android:textColor="#F4F4F4"
+		android:shadowColor="#000000"
+  		android:shadowDx="0"
+  		android:shadowDy="-.5"
+  		android:shadowRadius="1"/>
 <ImageButton
 android:id="@+id/refreshComments"
 android:background="@drawable/menu_button_selector"
diff --git a/res/layout/row.xml b/res/layout/row.xml
index 506672ed5dc9..f0686f135ee9 100644
--- a/res/layout/row.xml
+++ b/res/layout/row.xml
@@ -3,6 +3,27 @@
 	android:layout_height="fill_parent"
 	android:orientation="vertical"
 	>
+<RelativeLayout
+		android:id="@+id/bulkEditGroup"
+		android:layout_width="wrap_content"
+		android:layout_height="119dip"
+		android:layout_alignParentRight="true"
+		android:gravity="right|center"
+		android:padding="4dip"
+		android:background="#FF888888"
+		android:layout_centerVertical="true"
+		android:visibility="gone">
+			<CheckBox android:id="@+id/bulkCheck"
+			android:layout_width="wrap_content"
+					android:layout_height="fill_parent"
+					android:focusable="false"
+					android:button="@drawable/wp_checkbox"/>	
+		</RelativeLayout>
+	<RelativeLayout android:id="@+id/commentWrapper"
+	android:layout_width="fill_parent"
+	android:layout_height="fill_parent"
+	android:layout_toLeftOf="@id/bulkEditGroup"
+	android:orientation="vertical">
 	<ImageView android:id="@+id/avatar"
 		android:layout_width="54dip"
 		android:layout_height="54dip"
@@ -11,6 +32,7 @@
 		android:layout_marginLeft="8dip"
 		android:layout_marginBottom="4dip"
 	/>
+	
 	<LinearLayout
 		android:layout_width="fill_parent"
 		android:layout_height="wrap_content"
@@ -84,5 +106,6 @@
 				android:paddingBottom="4dip"
 				android:layout_below="@id/comment"
 				android:paddingLeft="8dip"
-		/>
+		/>	
+</RelativeLayout>
 </RelativeLayout>
\ No newline at end of file
diff --git a/res/layout/table_row.xml b/res/layout/table_row.xml
new file mode 100644
index 000000000000..2a7aee06e609
--- /dev/null
+++ b/res/layout/table_row.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<TableRow xmlns:android="http://schemas.android.com/apk/res/android"
+android:layout_width="fill_parent"
+    android:layout_height="fill_parent">
+          <TextView android:id="@+id/col1"
+          android:maxWidth="200dip"
+          android:layout_marginRight="2dip"
+          android:textColorLink="#FF21759b"
+          android:text="Column 1"
+          android:padding="4dip"
+          android:textColor="#FF464646"/>
+          <TextView android:id="@+id/col2" android:text="Column 2"
+          android:textColor="#FF464646"
+          android:padding="4dip"/>
+</TableRow> 
\ No newline at end of file
diff --git a/res/layout/table_row_header.xml b/res/layout/table_row_header.xml
new file mode 100644
index 000000000000..acb122a7e1f1
--- /dev/null
+++ b/res/layout/table_row_header.xml
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<TableRow xmlns:android="http://schemas.android.com/apk/res/android"
+android:background="#FFCCCCCC" android:layout_marginBottom="2dip" android:layout_width="fill_parent"
+    android:layout_height="fill_parent">
+          <TextView android:id="@+id/col1"
+          android:paddingRight="2dip"
+          android:textColorLink="#FF21759b"
+          android:text="Column 1"
+          android:layout_marginBottom="2dip"
+          android:background="#FFFFFFFF"
+          android:textColor="#FF464646"/>
+          <TextView android:id="@+id/col2" android:text="Column 2"
+          android:textColor="#FF464646"
+          android:layout_marginBottom="2dip"
+          android:background="#FFFFFFFF"
+          android:paddingRight="2dip"/>
+</TableRow> 
\ No newline at end of file
diff --git a/res/layout/view_stats.xml b/res/layout/view_stats.xml
new file mode 100644
index 000000000000..2c0d60e150aa
--- /dev/null
+++ b/res/layout/view_stats.xml
@@ -0,0 +1,148 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:background="#FFFFFFFF">
+<RelativeLayout 
+	android:id="@+id/mainRL"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent">
+    <RelativeLayout android:layout_above="@id/mainRL"
+			  android:id="@+id/loading" 
+			  android:layout_width="fill_parent" 
+              android:layout_height="wrap_content"
+              android:visibility="invisible">  
+              <LinearLayout android:layout_width="fill_parent" 
+              android:layout_height="wrap_content" 
+              android:background="#AA111111"
+              android:padding="8dip"
+              android:gravity="center">     
+	<ProgressBar 
+				android:id="@+id/progress"
+				android:layout_width="24dip" 
+                android:layout_height="24dip"
+                android:layout_marginTop="6dip"
+                android:layout_marginBottom="6dip"
+                android:indeterminate="true"/>
+                <TextView 	
+                android:textColor="#FFFFFF"
+                android:shadowColor="#000000"
+		  		android:shadowDx="0"
+		  		android:shadowDy=".5"
+		  		android:shadowRadius="1"
+				android:layout_toRightOf="@id/progress"
+				android:layout_marginLeft="8dip"
+				android:text="@string/loading"
+				android:layout_width="wrap_content" 
+                android:layout_height="wrap_content"
+                android:layout_alignParentTop="true"/>
+ 				</LinearLayout>
+	</RelativeLayout>
+	<RelativeLayout android:layout_below="@id/mainRL"
+			  android:id="@+id/filters" 
+			  android:layout_width="fill_parent" 
+              android:layout_height="wrap_content"
+              android:visibility="invisible"
+              android:background="#AA111111"
+              android:padding="4dip"
+              android:gravity="center_horizontal"
+              android:layout_gravity="center">  
+     <Spinner android:id="@+id/reportType" 
+     		  android:entries="@array/reportTypes"
+     		  android:layout_width="140dip" 
+              android:layout_height="wrap_content">
+     </Spinner>
+     <Spinner android:id="@+id/reportInterval" 
+     		  android:entries="@array/reportIntervals"
+     		  android:layout_alignTop="@id/reportType"
+     		  android:layout_toRightOf="@id/reportType"
+     		  android:layout_width="130dip"
+              android:layout_height="wrap_content">
+     </Spinner>
+     <Button android:id="@+id/go"
+    		  android:layout_alignTop="@id/reportInterval"
+     		  android:layout_toRightOf="@id/reportInterval"
+     		  android:layout_width="wrap_content" 
+              android:layout_height="wrap_content"
+              android:background="@drawable/wp_button_small"
+              android:text="GO"/>
+     </RelativeLayout>
+<TextView android:id="@+id/chartTitle"
+android:layout_below="@id/filters"
+android:textColor="#464646"
+android:textSize="16dip"
+android:typeface="serif"
+android:textStyle="bold"
+android:layout_width="fill_parent"
+    android:layout_height="wrap_content"
+    android:text="A Report"
+    android:gravity="center_horizontal"
+    android:visibility="invisible">
+</TextView>
+<ImageView android:id="@+id/chart"
+	android:layout_width="fill_parent"
+    android:layout_height="wrap_content"
+    android:scaleType="fitXY"
+    android:layout_below="@id/chartTitle"
+    android:paddingLeft="6dip"
+    android:paddingRight="6dip"
+    android:layout_marginBottom="6dip"
+    android:visibility="invisible"
+    />  
+ <TableLayout android:id="@+id/dataTable"
+ 	android:layout_width="fill_parent"
+ 	android:layout_height="fill_parent"
+    android:layout_below="@id/chart"
+	android:stretchColumns="*"
+    android:shrinkColumns="*"
+    android:padding="6dip">  
+ </TableLayout>
+    <RelativeLayout android:id="@+id/dotcomLogin"
+    android:layout_alignParentBottom="true"
+    android:layout_width="fill_parent"
+    android:layout_height="wrap_content"
+    android:background="#AA111111"
+    android:layout_gravity="bottom"
+    android:gravity="bottom"
+	android:padding="4dip"
+    android:visibility="invisible"> 
+	<TextView android:id="@+id/dotcom"
+	android:layout_below="@id/chart"
+	android:layout_width="fill_parent" 
+    android:layout_height="wrap_content"
+    android:textColor="#FFFFFFFF"
+    android:shadowColor="#000000"
+	android:shadowDx="0"
+	android:shadowDy=".5"
+	android:shadowRadius="1"
+	android:text="Please enter your WordPress.com login:"/>
+	<EditText android:id="@+id/dotcomUsername"
+	android:layout_below="@id/dotcom"
+	android:layout_width="fill_parent" 
+    android:layout_height="wrap_content"
+	/>
+	<EditText android:id="@+id/dotcomPassword"
+	android:layout_below="@id/dotcomUsername"
+	android:layout_width="fill_parent" 
+    android:layout_height="wrap_content"
+	/>
+	<Button android:id="@+id/saveDotcom"
+	android:layout_below="@id/dotcomPassword"
+	android:layout_alignParentRight="true"
+	android:layout_width="wrap_content" 
+    android:layout_height="wrap_content"
+    android:text="@string/save"
+	/>
+	<TextView 
+	android:layout_toLeftOf="@id/saveDotcom"
+	android:layout_alignBottom="@id/saveDotcom"
+	android:layout_width="wrap_content" 
+    android:layout_height="wrap_content"
+    android:textColor="#FFFFFFFF"
+	android:shadowDx="0"
+	android:shadowDy=".5"
+	android:shadowRadius="1"
+	android:text="Help with WordPress.com stats"/>
+	</RelativeLayout>
+</RelativeLayout>
+</ScrollView>
diff --git a/res/values/arrays.xml b/res/values/arrays.xml
new file mode 100644
index 000000000000..e49d435725f0
--- /dev/null
+++ b/res/values/arrays.xml
@@ -0,0 +1,18 @@
+<resources>
+
+<string-array name="reportTypes">
+	<item>@string/report_views</item>
+	<item>@string/report_postviews</item>
+	<item>@string/report_referrers</item>
+	<item>@string/report_searchterms</item>
+</string-array>
+
+<string-array name="reportIntervals">
+	<item>@string/seven_days</item>
+	<item>@string/thirty_days</item>
+	<item>@string/quarter</item>
+	<item>@string/year</item>
+	<item>@string/all</item>
+</string-array>
+
+</resources>
\ No newline at end of file
diff --git a/res/values/strings.xml b/res/values/strings.xml
index dd19494fbc86..ddbf04a489df 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -87,11 +87,13 @@
   <string name="new_account">New Account</string>
   <string name="upload_full_size_image">Upload and link to full image:</string>
   <string name="uploading_content">Uploading Content</string>
+  <string name="load_more">Load More</string>
   
   <!--  tab titles -->
   <string name="tab_comments">Comments</string>
   <string name="tab_posts">Posts</string>
   <string name="tab_pages">Pages</string>
+  <string name="tab_stats">Stats</string>
   
   
   <!--  link view -->
@@ -148,9 +150,12 @@
   <string name="spam">Spam</string>
   <string name="moderate_comments">Moderate Comments</string>
   <string name="moderating_comment">Moderating comment</string>
+  <string name="moderating_comments">Moderating comments</string>
   <string name="replying_comment">Replying to comment</string>
   <string name="deleting_comment">Deleting comment</string>
+  <string name="deleting_comments">Deleting comments</string>
   <string name="comment_moderated">Comment Moderated Successfully</string>
+  <string name="comments_moderated">Comments Moderated Successfully</string>
   <string name="reply_added">Reply Added Successfully</string>
   <string name="view_comment_from">View Comment from</string>
   
@@ -262,4 +267,16 @@
   
   <!--  preferences -->
   <string name="preferences">Preferences</string>
+  
+  <!--  stats -->
+  <string name="report_views">Views</string>
+  <string name="report_postviews">Post Views</string>
+  <string name="report_referrers">Referrers</string>
+  <string name="report_searchterms">Search Terms</string>
+  <string name="report_videoplays">Video Plays</string>
+  <string name="seven_days">7 Days</string>
+  <string name="thirty_days">30 Days</string>
+  <string name="quarter">Quarter</string>
+  <string name="year">Year</string>
+  <string name="all">All Time</string>
 </resources>
\ No newline at end of file
diff --git a/src/org/wordpress/android/WordPressDB.java b/src/org/wordpress/android/WordPressDB.java
index 1cd264328095..81c58faa998f 100644
--- a/src/org/wordpress/android/WordPressDB.java
+++ b/src/org/wordpress/android/WordPressDB.java
@@ -12,7 +12,7 @@
 
 public class WordPressDB {
 
-	private static final int DATABASE_VERSION = 6;
+	private static final int DATABASE_VERSION = 7;
 	
 	private static final String CREATE_TABLE_SETTINGS = "create table if not exists accounts (id integer primary key autoincrement, "
 			+ "url text, blogName text, username text, password text, imagePlacement text, centerThumbnail boolean, fullSizeImage boolean, maxImageWidth text, maxImageWidthId integer, lastCommentId integer, runService boolean);";
@@ -34,7 +34,7 @@ public class WordPressDB {
 	//postStore
 	private static final String CREATE_TABLE_POSTSTORE = "create table if not exists poststore (blogID text, postID text, title text, postDate text, postDateFormatted text);";
 	private static final String CREATE_TABLE_PAGES = "create table if not exists pages (blogID text, pageID text, parentID text, title text, pageDate text, pageDateFormatted text);";
-	private static final String CREATE_TABLE_COMMENTS = "create table if not exists comments (blogID text, postID text, commentID text, author text, comment text, commentDate text, commentDateFormatted text, status text, url text, email text, postTitle text);";
+	private static final String CREATE_TABLE_COMMENTS = "create table if not exists comments (blogID text, postID text, iCommentID integer, author text, comment text, commentDate text, commentDateFormatted text, status text, url text, email text, postTitle text);";
 	private static final String POSTSTORE_TABLE = "poststore";
 	private static final String PAGES_TABLE = "pages";
 	private static final String COMMENTS_TABLE = "comments";
@@ -61,6 +61,16 @@ public class WordPressDB {
 	//for capturing blogID, trac ticket #
 	private static final String ADD_LOCATION_FLAG = "alter table accounts add location boolean default false;";
 	
+	//fix commentID data type
+	private static final String ADD_NEW_COMMENT_ID = "ALTER TABLE comments ADD iCommentID INTEGER;";
+	private static final String COPY_COMMENT_IDS = "UPDATE comments SET iCommentID = commentID;";
+	
+	//add wordpress.com stats login info
+	private static final String ADD_DOTCOM_USERNAME = "alter table accounts add dotcom_username text;";
+	private static final String ADD_DOTCOM_PASSWORD = "alter table accounts add dotcom_password text;";
+	private static final String ADD_API_KEY = "alter table accounts add api_key text;";
+	private static final String ADD_API_BLOGID = "alter table accounts add api_blogid text;";
+	
 	private SQLiteDatabase db;
 
 	public WordPressDB(Context ctx) {
@@ -96,6 +106,10 @@ public WordPressDB(Context ctx) {
 				db.execSQL(ADD_LONGITUDE);
 				db.execSQL(ADD_TAGLINE);
 				db.execSQL(ADD_TAGLINE_FLAG);
+				db.execSQL(ADD_DOTCOM_USERNAME);
+				db.execSQL(ADD_DOTCOM_PASSWORD);
+				db.execSQL(ADD_API_KEY);
+				db.execSQL(ADD_API_BLOGID);
 				db.setVersion(DATABASE_VERSION); //set to latest revision
 		}
 		else if (db.getVersion()  == 2){
@@ -107,6 +121,12 @@ else if (db.getVersion()  == 2){
 				db.execSQL(ADD_LONGITUDE);
 				db.execSQL(ADD_TAGLINE);
 				db.execSQL(ADD_TAGLINE_FLAG);
+				db.execSQL(ADD_NEW_COMMENT_ID);
+				db.execSQL(COPY_COMMENT_IDS);
+				db.execSQL(ADD_DOTCOM_USERNAME);
+				db.execSQL(ADD_DOTCOM_PASSWORD);
+				db.execSQL(ADD_API_KEY);
+				db.execSQL(ADD_API_BLOGID);
 				db.setVersion(DATABASE_VERSION); 
 		}
 		else if (db.getVersion() == 3){
@@ -115,6 +135,12 @@ else if (db.getVersion() == 3){
 				db.execSQL(ADD_LONGITUDE);
 				db.execSQL(ADD_TAGLINE);
 				db.execSQL(ADD_TAGLINE_FLAG);
+				db.execSQL(ADD_NEW_COMMENT_ID);
+				db.execSQL(COPY_COMMENT_IDS);
+				db.execSQL(ADD_DOTCOM_USERNAME);
+				db.execSQL(ADD_DOTCOM_PASSWORD);
+				db.execSQL(ADD_API_KEY);
+				db.execSQL(ADD_API_BLOGID);
 				db.setVersion(DATABASE_VERSION); 
 		}
 		else if (db.getVersion() == 4){
@@ -127,12 +153,33 @@ else if (db.getVersion() == 4){
 			db.execSQL(ADD_LONGITUDE);
 			db.execSQL(ADD_TAGLINE);
 			db.execSQL(ADD_TAGLINE_FLAG);
+			db.execSQL(ADD_NEW_COMMENT_ID);
+			db.execSQL(COPY_COMMENT_IDS);
+			db.execSQL(ADD_DOTCOM_USERNAME);
+			db.execSQL(ADD_DOTCOM_PASSWORD);
+			db.execSQL(ADD_API_KEY);
+			db.execSQL(ADD_API_BLOGID);
 			db.setVersion(DATABASE_VERSION);
 		}
 		else if (db.getVersion() == 5){
-				db.execSQL(ADD_TAGLINE);
-				db.execSQL(ADD_TAGLINE_FLAG);
-				db.setVersion(DATABASE_VERSION);
+			db.execSQL(ADD_TAGLINE);
+			db.execSQL(ADD_TAGLINE_FLAG);
+			db.execSQL(ADD_NEW_COMMENT_ID);
+			db.execSQL(COPY_COMMENT_IDS);
+			db.execSQL(ADD_DOTCOM_USERNAME);
+			db.execSQL(ADD_DOTCOM_PASSWORD);
+			db.execSQL(ADD_API_KEY);
+			db.execSQL(ADD_API_BLOGID);
+			db.setVersion(DATABASE_VERSION);
+		}
+		else if (db.getVersion() == 6){
+			db.execSQL(ADD_NEW_COMMENT_ID);
+			db.execSQL(COPY_COMMENT_IDS);
+			db.execSQL(ADD_DOTCOM_USERNAME);
+			db.execSQL(ADD_DOTCOM_PASSWORD);
+			db.execSQL(ADD_API_KEY);
+			db.execSQL(ADD_API_BLOGID);
+			db.setVersion(DATABASE_VERSION);
 		}
 
 		db.close();
@@ -296,6 +343,75 @@ public Vector loadSettings(Context ctx, String id) {
 		return returnVector;
 	}
 
+	public Vector loadStatsLogin(Context ctx, String id) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		
+		Cursor c = db.query(SETTINGS_TABLE, new String[] { "dotcom_username", "dotcom_password"}, "id=" + id, null, null, null, null);
+		
+		int numRows = c.getCount();
+		c.moveToFirst();
+
+		Vector returnVector = new Vector();
+		if (c.getString(0) != null){
+		returnVector.add(c.getString(0));
+		returnVector.add(c.getString(1));
+		}
+		else
+		{
+			returnVector = null;
+		}
+		c.close();
+		db.close();
+		
+		return returnVector;
+	}
+	
+	public boolean saveStatsLogin(Context ctx, String id, String statsUsername, String statsPassword) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		ContentValues values = new ContentValues();
+		values.put("dotcom_username", statsUsername);
+		values.put("dotcom_password", statsPassword);
+		boolean returnValue = db.update(SETTINGS_TABLE, values, "id=" + id, null) > 0;
+		db.close();
+		
+		return (returnValue);
+		
+	}
+	
+	public Vector loadAPIData(Context ctx, String id) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		
+		Cursor c = db.query(SETTINGS_TABLE, new String[] { "api_key", "api_blogid"}, "id=" + id, null, null, null, null);
+		
+		int numRows = c.getCount();
+		c.moveToFirst();
+
+		Vector returnVector = new Vector();
+		if (c.getString(0) != null){
+		returnVector.add(c.getString(0));
+		returnVector.add(c.getString(1));
+		}
+		else
+		{
+			returnVector = null;
+		}
+		c.close();
+		db.close();
+		
+		return returnVector;
+	}
+	
+	public boolean saveAPIData(Context ctx, String id, String apiKey, String apiBlogID) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		ContentValues values = new ContentValues();
+		values.put("api_key", apiKey);
+		values.put("api_blogid", apiBlogID);
+		boolean returnValue = db.update(SETTINGS_TABLE, values, "id=" + id, null) > 0;
+		db.close();
+		
+		return (returnValue);
+		
+	}
 
 	public int getLatestCommentID(Context ctx, String id) {
 		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
@@ -743,15 +859,6 @@ public Vector loadSavedPosts(Context ctx, String blogID) {
 		
 		int numRows = c.getCount();
 		c.moveToFirst();
-		/*Vector returnVector = new Vector();
-		for (int i = 0; i < numRows; ++i) {
-			String category_name = c.getString(2);
-			if (category_name != null)
-			{	
-			returnVector.add(category_name);
-			}
-			c.moveToNext();
-		}*/
 		
 		for (int i = 0; i < numRows; ++i) {
 		if (c.getString(0) != null){
@@ -834,17 +941,65 @@ public boolean savePages(Context ctx, Vector pageValues) {
 	public Vector loadComments(Context ctx, String blogID) {
 		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
 		Vector returnVector = new Vector();
-		Cursor c = db.query(COMMENTS_TABLE, new String[] { "blogID", "postID", "commentID", "author", "comment", "commentDate", "commentDateFormatted", "status", "url", "email", "postTitle"}, "blogID=" + blogID, null, null, null, null);
+		Cursor c = db.query(COMMENTS_TABLE, new String[] { "blogID", "postID", "iCommentID", "author", "comment", "commentDate", "commentDateFormatted", "status", "url", "email", "postTitle"}, "blogID=" + blogID, null, null, null, null);
 		
 		int numRows = c.getCount();
 		c.moveToFirst();
 		
-		for (int i = 0; i < numRows; ++i) {
+		HashMap numRecords = new HashMap();
+		//add the number of stored records so the offset can be computed
+		if (numRows > 0){
+			numRecords.put("numRecords", numRows);
+			returnVector.add(0, numRecords);
+		}
+		
+		for (int i = 1; i < (numRows + 1); ++i) {
+		if (c.getString(0) != null){
+		HashMap returnHash = new HashMap();
+		returnHash.put("blogID", c.getString(0));
+		returnHash.put("postID", c.getInt(1));
+		returnHash.put("commentID", c.getInt(2));
+		returnHash.put("author", c.getString(3));
+		returnHash.put("comment", c.getString(4));
+		returnHash.put("commentDate", c.getString(5));
+		returnHash.put("commentDateFormatted", c.getString(6));
+		returnHash.put("status", c.getString(7));
+		returnHash.put("url", c.getString(8));
+		returnHash.put("email", c.getString(9));
+		returnHash.put("postTitle", c.getString(10));
+		returnVector.add(i, returnHash);
+		}
+		c.moveToNext();
+		}
+		c.close();
+		db.close();
+		
+		if (numRows == 0){
+			returnVector = null;
+		}
+		
+		return returnVector;
+	}
+	
+	public Vector loadMoreComments(Context ctx, String blogID, int limit) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		Vector returnVector = new Vector();
+		Cursor c = db.query(COMMENTS_TABLE, new String[] { "blogID", "postID", "iCommentID", "author", "comment", "commentDate", "commentDateFormatted", "status", "url", "email", "postTitle"}, "blogID=" + blogID, null, null, null, "iCommentID ASC", String.valueOf(limit));
+		int numRows = c.getCount();
+		c.moveToFirst();
+		
+		//HashMap numRecords = new HashMap();
+		//add the number of stored records so the offset can be computed
+		/*if (numRows > 0){
+			numRecords.put("numRecords", numRows);
+			returnVector.add(0, numRecords);
+		}*/
+		for (int i = 0; i < numRows; i++) {
 		if (c.getString(0) != null){
 		HashMap returnHash = new HashMap();
 		returnHash.put("blogID", c.getString(0));
 		returnHash.put("postID", c.getInt(1));
-		returnHash.put("commentID", c.getString(2));
+		returnHash.put("commentID", c.getInt(2));
 		returnHash.put("author", c.getString(3));
 		returnHash.put("comment", c.getString(4));
 		returnHash.put("commentDate", c.getString(5));
@@ -867,20 +1022,22 @@ public Vector loadComments(Context ctx, String blogID) {
 		return returnVector;
 	}
 
-	public boolean saveComments(Context ctx, Vector pageValues) {
+	public boolean saveComments(Context ctx, Vector commentValues, boolean loadMore) {
 		boolean returnValue = false;
 		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
-		HashMap firstHash = (HashMap) pageValues.get(0);
+		HashMap firstHash = (HashMap) commentValues.get(0);
 		String blogID = firstHash.get("blogID").toString();
-		//delete existing values
-		db.delete(COMMENTS_TABLE, "blogID=" + blogID, null);
+		//delete existing values, if user hit refresh button
+		if (!loadMore){
+			db.delete(COMMENTS_TABLE, "blogID=" + blogID, null);
+		}
 
-		for (int i = 0; i < pageValues.size(); i++){
+		for (int i = 0; i < commentValues.size(); i++){
 			ContentValues values = new ContentValues();
-			HashMap thisHash = (HashMap) pageValues.get(i);
+			HashMap thisHash = (HashMap) commentValues.get(i);
 			values.put("blogID", thisHash.get("blogID").toString());
 			values.put("postID", thisHash.get("postID").toString());
-			values.put("commentID", thisHash.get("commentID").toString());
+			values.put("iCommentID", thisHash.get("commentID").toString());
 			values.put("author", thisHash.get("author").toString());
 			values.put("comment", thisHash.get("comment").toString());
 			values.put("commentDate", thisHash.get("commentDate").toString());
@@ -897,6 +1054,17 @@ public boolean saveComments(Context ctx, Vector pageValues) {
 		return (returnValue);
 		
 	}
+	
+	public void updateCommentStatus(Context ctx, String blogID, String id, String newStatus) {
+		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
+		
+		ContentValues values = new ContentValues();
+		values.put("status", newStatus);
+		boolean returnValue = db.update(COMMENTS_TABLE, values, "blogID=" + blogID + " AND iCommentID=" + id, null) > 0;
+
+	db.close();
+		
+	}
 
 	public void clearPages(Context ctx, String blogID) {
 		db = ctx.openOrCreateDatabase(DATABASE_NAME, 0, null);
diff --git a/src/org/wordpress/android/moderateCommentsTab.java b/src/org/wordpress/android/moderateCommentsTab.java
index 25829ea78e74..aee22c77af19 100644
--- a/src/org/wordpress/android/moderateCommentsTab.java
+++ b/src/org/wordpress/android/moderateCommentsTab.java
@@ -28,7 +28,6 @@
 import android.content.SharedPreferences;
 import android.content.res.Configuration;
 import android.graphics.Color;
-import android.graphics.PixelFormat;
 import android.os.Bundle;
 import android.os.Handler;
 import android.os.Looper;
@@ -39,25 +38,26 @@
 import android.view.MenuItem;
 import android.view.View;
 import android.view.ViewGroup;
-import android.view.WindowManager;
 import android.view.ContextMenu.ContextMenuInfo;
+import android.view.View.OnClickListener;
 import android.view.View.OnCreateContextMenuListener;
 import android.view.animation.AlphaAnimation;
 import android.view.animation.Animation;
 import android.view.animation.AnimationSet;
 import android.view.animation.LayoutAnimationController;
 import android.view.animation.TranslateAnimation;
-import android.view.animation.Animation.AnimationListener;
 import android.widget.AdapterView;
 import android.widget.ArrayAdapter;
+import android.widget.Button;
+import android.widget.CheckBox;
 import android.widget.ImageButton;
 import android.widget.ImageView;
-import android.widget.LinearLayout;
 import android.widget.ListAdapter;
 import android.widget.ListView;
 import android.widget.RelativeLayout;
 import android.widget.TextView;
 import android.widget.Toast;
+import android.widget.ViewSwitcher;
 import android.widget.AdapterView.OnItemClickListener;
 
 import com.commonsware.cwac.cache.SimpleWebImageCache;
@@ -73,12 +73,13 @@ public class moderateCommentsTab extends ListActivity {
 	private XMLRPCClient client;
 	private String id = "";
 	private String accountName = "";
-	private String postTitle = "";
+	private String postTitle = "", sUsername = "", sPassword = "";
+	int sBlogId;
 	public Object[] origComments;
 	public int[] changedStatuses;
 	public HashMap allComments = new HashMap();
 	private HashMap changedComments = new HashMap();
-	public int ID_DIALOG_POSTING = 1;
+	public int ID_DIALOG_MODERATING = 1;
 	public int ID_DIALOG_REPLYING = 2;
 	public int ID_DIALOG_DELETING = 3;
 	public boolean initializing = true;
@@ -86,7 +87,15 @@ public class moderateCommentsTab extends ListActivity {
 	public int rowID = 0;
 	private String selectedPostID = "";
 	public ProgressDialog pd;
-	
+	private ViewSwitcher switcher;
+	private int numRecords = 0;
+	boolean loadMore = false;
+	int totalComments = 0;
+	int commentsToLoad = 30;
+	private Vector checkedComments;
+	private int checkedCommentTotal = 0; 
+	private boolean inModeration = false;
+	private String moderateErrorMsg = "";
 	@Override
 	public void onCreate(Bundle icicle) {
 		super.onCreate(icicle);
@@ -100,21 +109,31 @@ public void onCreate(Bundle icicle) {
          pd = new ProgressDialog(this);
          fromNotification = extras.getBoolean("fromNotification", false);       		
         }      
+
+		//create the ViewSwitcher in the current context
+        switcher = new ViewSwitcher(this);
+		  Button footer = (Button)View.inflate(this, R.layout.list_footer_btn, null);
+		  footer.setText(getResources().getText(R.string.load_more) + " " + getResources().getText(R.string.tab_comments));
+
+		  View progress = View.inflate(this, R.layout.list_footer_progress, null);
+		  
+		  switcher.addView(footer);
+		  switcher.addView(progress);
         
         if (fromNotification) //dismiss the notification 
         {
         	NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
         	nm.cancel(22 + Integer.valueOf(id));
-        	refreshComments();
+        	refreshComments(false, false, false);
         }
         
         this.setTitle(accountName + " - Moderate Comments");
         
-        boolean loadedComments = loadComments();
+        boolean loadedComments = loadComments(false, false);
         
         if (!loadedComments){
         	        	
-        	refreshComments();
+        	refreshComments(false, false, false);
         }
         
        final ImageButton refresh = (ImageButton) findViewById(R.id.refreshComments);   
@@ -122,129 +141,538 @@ public void onCreate(Bundle icicle) {
         refresh.setOnClickListener(new ImageButton.OnClickListener() {
             public void onClick(View v) {
 
-            	refreshComments();
+            	refreshComments(false, true, false);
+            	 
+            }
+    });
+        Button bulkEdit = (Button) findViewById(R.id.bulkEdit);   
+        
+		bulkEdit.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	inModeration = !inModeration;
+            	
+            	showOrHideBulkCheckBoxes();
+            	 
+            }
+    }); 
+		
+		ImageButton deleteComments = (ImageButton) findViewById(R.id.deleteComment);   
+        
+        deleteComments.setOnClickListener(new ImageButton.OnClickListener() {
+            public void onClick(View v) {
+            	showDialog(ID_DIALOG_DELETING);
+	        	  new Thread() {
+	                  public void run() { 
+	                	  Looper.prepare();
+            	deleteComments();
+	                  }
+	        	  }.start();
+            	 
+            }
+    });
+        
+        Button approveComments = (Button) findViewById(R.id.approveComment);   
+        
+        approveComments.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	showDialog(ID_DIALOG_MODERATING);
+	        	  new Thread() {
+	                  public void run() { 
+	                	  Looper.prepare();
+	                	  moderateComments("approve");
+	                  }
+
+					
+	        	  }.start();
+            	 
+            }
+    });
+        
+        Button unapproveComments = (Button) findViewById(R.id.unapproveComment);   
+        
+        unapproveComments.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	showDialog(ID_DIALOG_MODERATING);
+	        	  new Thread() {
+	                  public void run() { 
+	                	  Looper.prepare();
+	                	  moderateComments("hold");
+	                  }
+
+					
+	        	  }.start();
             	 
             }
     });
+        
+        Button spamComments = (Button) findViewById(R.id.markSpam);   
+        
+        spamComments.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	showDialog(ID_DIALOG_MODERATING);
+	        	  new Thread() {
+	                  public void run() { 
+	                	  Looper.prepare();
+	                	  moderateComments("spam");
+	                  }
+
+					
+	        	  }.start();
+            	 
+            }
+    });
+        
+	}
+	
+	protected void showOrHideBulkCheckBoxes() {
+		ListView listView = getListView();
+		int loopMax = 0;
+		if (listView.getFooterViewsCount() >= 1){
+			//we don't want a checkmark on the footer view 
+			int test = thumbs.getCount();
+			int test2 = listView.getLastVisiblePosition();
+			if (listView.getLastVisiblePosition() == thumbs.getCount()){
+				
+				loopMax = listView.getChildCount() - 1;
+			}
+			else{
+				loopMax = listView.getChildCount();
+			}
+		}
+		else{
+			loopMax = listView.getChildCount();
+		}
+    	for (int i=0; i < loopMax;i++){
+    		RelativeLayout rl = (RelativeLayout) (View)listView.getChildAt(i).findViewById(R.id.bulkEditGroup);
+    		if (inModeration){
+    			
+    			showBulkCheckBoxes(rl);
+    			
+    		}
+    		else{
+    			
+    			hideBulkCheckBoxes(rl);
+
+    		}
+    	}
+		
+	}
+
+	protected void moderateComments(String newStatus) {
+		Vector settings = new Vector();
+        WordPressDB settingsDB = new WordPressDB(moderateCommentsTab.this);
+    	settings = settingsDB.loadSettings(moderateCommentsTab.this, id);
+    	
+    	String sURL = "";
+    	if (settings.get(0).toString().contains("xmlrpc.php"))
+    	{
+    		sURL = settings.get(0).toString();
+    	}
+    	else
+    	{
+    		sURL = settings.get(0).toString() + "xmlrpc.php";
+    	}
+		String sUsername = settings.get(2).toString();
+		String sPassword = settings.get(3).toString();
+		int sBlogId = Integer.parseInt(settings.get(10).toString());
 		
+		for (int i=0;i < checkedComments.size(); i++)
+		{
+		if (checkedComments.get(i).toString().equals("true")){
 
+			client = new XMLRPCClient(sURL);
+			
+			CommentEntry listRow = (CommentEntry) getListView().getItemAtPosition(i);
+	    	String curCommentID = listRow.commentID;
+			 
+    		HashMap contentHash, postHash = new HashMap();
+    		contentHash = (HashMap) allComments.get(curCommentID);
+	        postHash.put("status", newStatus);
+	        Date d = new Date();
+	        SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM dd HH:mm:ss z yyyy");  
+	        String cDate = contentHash.get("commentDate").toString().replace("America/Los_Angeles", "PST");
+	        try{  
+	        	d = sdf.parse(cDate);
+	        } catch (ParseException pe){  
+	            pe.printStackTrace();  
+	        }  
+	        postHash.put("date_created_gmt", d);
+	        postHash.put("content", contentHash.get("comment"));
+	        postHash.put("author", contentHash.get("author"));
+	        postHash.put("author_url", contentHash.get("url"));
+	        postHash.put("author_email", contentHash.get("email"));
+
+	        
+        Object[] params = {
+        		sBlogId,
+        		sUsername,
+        		sPassword,
+        		curCommentID,
+        		postHash
+        };
+        
+        Object result = null;
+        try {
+    		result = (Object) client.call("wp.editComment", params);
+    		boolean bResult = Boolean.parseBoolean(result.toString());
+    		if (bResult){
+    			checkedComments.set(i, "false");
+    			listRow.status = newStatus;
+    			model.set(i, listRow);
+    			settingsDB.updateCommentStatus(moderateCommentsTab.this, id, listRow.commentID, newStatus);
+    		}
+    	} catch (XMLRPCException e) {
+    		moderateErrorMsg = e.getMessage();
+    	}	
+		}
+		}
+		dismissDialog(ID_DIALOG_MODERATING);
+		Thread action = new Thread() 
+		{ 
+		  public void run() 
+		  {
+			  if (moderateErrorMsg == ""){
+				  Toast.makeText(moderateCommentsTab.this, getResources().getText(R.string.comments_moderated), Toast.LENGTH_SHORT).show();
+			  }
+			  else{
+				  //there was an xmlrpc error
+				  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
+				  dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
+	            dialogBuilder.setMessage(moderateErrorMsg);
+	            dialogBuilder.setPositiveButton("OK",  new
+	          		  DialogInterface.OnClickListener() {
+	              public void onClick(DialogInterface dialog, int whichButton) {
+	                  // Just close the window.
+	              	
+	              }
+	          });
+	            dialogBuilder.setCancelable(true);
+	           dialogBuilder.create().show();
+			  }
+		  } 
+		}; 
+		this.runOnUiThread(action);
+		if (moderateErrorMsg == ""){
+			//no errors, refresh list
+			checkedCommentTotal = 0;
+			inModeration = false;
+			Thread action2 = new Thread() 
+			{ 
+			  public void run() 
+			  {
+				  pd = new ProgressDialog(moderateCommentsTab.this);  // to avoid crash
+				  showOrHideBulkCheckBoxes();
+				  hideModerationBar();
+				  thumbs.notifyDataSetChanged();
+			  } 
+			}; 
+			this.runOnUiThread(action2);
+		}
 	}
 	
-	private boolean loadComments() {
+	protected void hideBulkCheckBoxes(RelativeLayout rl) {
+		AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(1.0f, 0.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 1.0f,
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        rl.startAnimation(set);
+		rl.setVisibility(View.GONE);
+		if (checkedCommentTotal > 0){
+			hideModerationBar();
+		}
+		
+	}
+
+	protected void showBulkCheckBoxes(RelativeLayout rl) {
+		AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(0.0f, 1.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 1.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+		rl.setVisibility(View.VISIBLE);
+		rl.startAnimation(set);
+		if (checkedCommentTotal > 0){
+			showModerationBar();
+		}
+		
+	}
+
+	protected void deleteComments() {
+		
+		Vector settings = new Vector();
+        WordPressDB settingsDB = new WordPressDB(moderateCommentsTab.this);
+    	settings = settingsDB.loadSettings(moderateCommentsTab.this, id);
+    	
+    	String sURL = "";
+    	if (settings.get(0).toString().contains("xmlrpc.php"))
+    	{
+    		sURL = settings.get(0).toString();
+    	}
+    	else
+    	{
+    		sURL = settings.get(0).toString() + "xmlrpc.php";
+    	}
+		String sUsername = settings.get(2).toString();
+		String sPassword = settings.get(3).toString();
+		int sBlogId = Integer.parseInt(settings.get(10).toString());
+		
+		for (int i=0;i < checkedComments.size(); i++)
+		{
+		if (checkedComments.get(i).toString().equals("true")){
+
+    	client = new XMLRPCClient(sURL);
+    	
+    	CommentEntry listRow = (CommentEntry) getListView().getItemAtPosition(i);
+    	String curCommentID = listRow.commentID;
+	        
+        Object[] params = {
+        		sBlogId,
+        		sUsername,
+        		sPassword,
+        		curCommentID
+        };
+        
+        Object result = null;
+        try {
+    		result = (Object) client.call("wp.deleteComment", params);
+    	} catch (final XMLRPCException e) {
+    		/*dismissDialog(ID_DIALOG_DELETING);
+    		Thread action3 = new Thread() 
+			{ 
+			  public void run() 
+			  {
+    		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
+			  dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
+            dialogBuilder.setMessage(e.getMessage());
+            dialogBuilder.setPositiveButton("OK",  new
+          		  DialogInterface.OnClickListener() {
+              public void onClick(DialogInterface dialog, int whichButton) {
+                  // Just close the window.
+              	
+              }
+          });
+            dialogBuilder.setCancelable(true);
+           dialogBuilder.create().show();
+			  }
+			  }; 
+				this.runOnUiThread(action3);*/
+    	}
+		}
+		}
+		dismissDialog(ID_DIALOG_DELETING);
+		Thread action = new Thread() 
+		{ 
+		  public void run() 
+		  {
+			  Toast.makeText(moderateCommentsTab.this, getResources().getText(R.string.comment_moderated), Toast.LENGTH_SHORT).show();
+		  } 
+		}; 
+		this.runOnUiThread(action);
+		Thread action2 = new Thread() 
+		{ 
+		  public void run() 
+		  {
+			  pd = new ProgressDialog(moderateCommentsTab.this);  // to avoid crash
+			  refreshComments(false, true, true);
+			  } 
+		}; 
+		this.runOnUiThread(action2);
+		checkedCommentTotal = 0;
+		inModeration = false;
+		
+	}
+
+	private boolean loadComments(boolean addMore, boolean refreshOnly) {
 		WordPressDB postStoreDB = new WordPressDB(this);
+		String author, postID, commentID, comment, dateCreated, dateCreatedFormatted, status, authorEmail, authorURL, postTitle;
+		if (!addMore){
 	    Vector loadedPosts = postStoreDB.loadComments(moderateCommentsTab.this, id);
 	 	if (loadedPosts != null){
-	 	String author, postID, commentID, comment, dateCreated, dateCreatedFormatted, status, authorEmail, authorURL, postTitle;
-	 	model=new ArrayList<CommentEntry>();
-						    for (int i=0; i < loadedPosts.size(); i++){
-						        HashMap contentHash = (HashMap) loadedPosts.get(i);
-						        allComments.put(contentHash.get("commentID").toString(), contentHash);
-						        author = escapeUtils.unescapeHtml(contentHash.get("author").toString());
-						        commentID = contentHash.get("commentID").toString();
-						        postID = contentHash.get("postID").toString();
-						        comment = escapeUtils.unescapeHtml(contentHash.get("comment").toString());
-						        dateCreated = contentHash.get("commentDate").toString();
-						        dateCreatedFormatted = contentHash.get("commentDateFormatted").toString();
-						        status = contentHash.get("status").toString();
-						        authorEmail = escapeUtils.unescapeHtml(contentHash.get("email").toString());
-						        authorURL = escapeUtils.unescapeHtml(contentHash.get("url").toString());
-						        postTitle = escapeUtils.unescapeHtml(contentHash.get("postTitle").toString());
-						        
-						        //add to model
-						        model.add(new CommentEntry(postID,
-						        		commentID, 
-						        		author,
-						        		dateCreatedFormatted,
-						        		comment,
-						        		status,
-						        		postTitle,
-						        		authorURL,
-						        		authorEmail,
-						        		URI.create("http://gravatar.com/avatar/" + getMd5Hash(authorEmail.trim()) + "?s=60&d=identicon")));
-						    }
-						   
-						    try {
-						    	ThumbnailBus bus = new ThumbnailBus();
-								thumbs=new ThumbnailAdapter(this, new CommentAdapter(),new SimpleWebImageCache<ThumbnailBus, ThumbnailMessage>(null, null, 101, bus),IMAGE_IDS);
-							} catch (Exception e1) {
-								// TODO Auto-generated catch block
-								e1.printStackTrace();
-							}
-							
-							ListView listView = (ListView) findViewById(android.R.id.list);
-							/*TextView tv = new TextView(this);
-							   tv.setText("Load more comments");
-							   
-							   listView.addFooterView(tv);*/
-							
-							   setListAdapter(thumbs);	
-							   
-						   listView.setOnItemClickListener(new OnItemClickListener() {
-							   
-								public void onNothingSelected(AdapterView<?> arg0) {
-									
-								}
-
-								public void onItemClick(AdapterView<?> arg0, View arg1,
-										int arg2, long arg3) {
-									Intent intent = new Intent(moderateCommentsTab.this, viewComment.class);
-				                    //intent.putExtra("pageID", pageIDs[(int) arg3]);
-				                    //intent.putExtra("postTitle", titles[(int) arg3]);
-				                    intent.putExtra("id", id);
-				                    intent.putExtra("accountName", accountName);
-				                    intent.putExtra("comment", model.get((int) arg3).comment);
-				                    intent.putExtra("name", model.get((int) arg3).name);
-				                    intent.putExtra("email", model.get((int) arg3).authorEmail);
-				                    intent.putExtra("url", model.get((int) arg3).authorURL);
-				                    intent.putExtra("date", model.get((int) arg3).dateCreatedFormatted);
-				                    intent.putExtra("status", model.get((int) arg3).status);
-				                    intent.putExtra("comment_id", model.get((int) arg3).commentID);
-				                    intent.putExtra("post_id", model.get((int) arg3).postID);
-				                    startActivityForResult(intent, 1);
-									
-								}
-
-				            });
-						   
-		        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-		        	
-		               public void onCreateContextMenu(ContextMenu menu, View v,
-							ContextMenuInfo menuInfo) {
-						// TODO Auto-generated method stub
-		            	   AdapterView.AdapterContextMenuInfo info;
-		                   try {
-		                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-		                   } catch (ClassCastException e) {
-		                       //Log.e(TAG, "bad menuInfo", e);
-		                       return;
-		                   }
-		                   
-		                   selectedID = info.targetView.getId();
-		                   rowID = info.position;
-		                   selectedPostID = model.get(info.position).postID;
-		                   
-					 menu.setHeaderTitle(getResources().getText(R.string.comment_actions));
-	                 menu.add(0, 0, 0, getResources().getText(R.string.mark_approved));
-	                 menu.add(0, 1, 0, getResources().getText(R.string.mark_unapproved));
-	                 menu.add(0, 2, 0, getResources().getText(R.string.mark_spam));
-	                 menu.add(0, 3, 0, getResources().getText(R.string.reply));
-	                 menu.add(0, 4, 0, getResources().getText(R.string.delete));
-	                 
-					}
-		          });
-	 	
-		return true;
-	  }
+	 	HashMap countHash = new HashMap();
+	 	countHash = (HashMap) loadedPosts.get(0);
+	 	numRecords = Integer.parseInt(countHash.get("numRecords").toString());
+	 	if (refreshOnly){
+	 		model.clear();
+	 	}
 	 	else{
-	 		return false;
+	 		model=new ArrayList<CommentEntry>();
 	 	}
+	 	checkedComments = new Vector();
+	    for (int i=1; i < loadedPosts.size(); i++){
+	    	checkedComments.add(i-1, "false");
+	        HashMap contentHash = (HashMap) loadedPosts.get(i);
+	        allComments.put(contentHash.get("commentID").toString(), contentHash);
+	        author = escapeUtils.unescapeHtml(contentHash.get("author").toString());
+	        commentID = contentHash.get("commentID").toString();
+	        postID = contentHash.get("postID").toString();
+	        comment = escapeUtils.unescapeHtml(contentHash.get("comment").toString());
+	        dateCreated = contentHash.get("commentDate").toString();
+	        dateCreatedFormatted = contentHash.get("commentDateFormatted").toString();
+	        status = contentHash.get("status").toString();
+	        authorEmail = escapeUtils.unescapeHtml(contentHash.get("email").toString());
+	        authorURL = escapeUtils.unescapeHtml(contentHash.get("url").toString());
+	        postTitle = escapeUtils.unescapeHtml(contentHash.get("postTitle").toString());
+	        
+	        //add to model
+	        model.add(new CommentEntry(postID,
+	        		commentID, 
+	        		author,
+	        		dateCreatedFormatted,
+	        		comment,
+	        		status,
+	        		postTitle,
+	        		authorURL,
+	        		authorEmail,
+	        		URI.create("http://gravatar.com/avatar/" + getMd5Hash(authorEmail.trim()) + "?s=60&d=identicon")));
+	    }
+		
+	    if (!refreshOnly){
+	    try {
+	    	ThumbnailBus bus = new ThumbnailBus();
+			thumbs=new ThumbnailAdapter(this, new CommentAdapter(),new SimpleWebImageCache<ThumbnailBus, ThumbnailMessage>(null, null, 101, bus),IMAGE_IDS);
+		} catch (Exception e1) {
+			// TODO Auto-generated catch block
+			e1.printStackTrace();
 		}
+		
 
+	   ListView listView = (ListView) findViewById(android.R.id.list);
+		  
+	   listView.removeFooterView(switcher);
 
-	private void refreshComments() {
+	   listView.addFooterView(switcher);
 
-        showProgressBar();
-        
+	   setListAdapter(thumbs);
+		   
+	   listView.setOnItemClickListener(new OnItemClickListener() {
+		   
+			public void onNothingSelected(AdapterView<?> arg0) {
+				
+			}
+
+			public void onItemClick(AdapterView<?> arg0, View arg1,
+					int position, long arg3) {
+				Intent intent = new Intent(moderateCommentsTab.this, viewComment.class);
+                //intent.putExtra("pageID", pageIDs[(int) arg3]);
+                //intent.putExtra("postTitle", titles[(int) arg3]);
+                intent.putExtra("id", id);
+                intent.putExtra("accountName", accountName);
+                intent.putExtra("comment", model.get((int) arg3).comment);
+                intent.putExtra("name", model.get((int) arg3).name);
+                intent.putExtra("email", model.get((int) arg3).authorEmail);
+                intent.putExtra("url", model.get((int) arg3).authorURL);
+                intent.putExtra("date", model.get((int) arg3).dateCreatedFormatted);
+                intent.putExtra("status", model.get((int) arg3).status);
+                intent.putExtra("comment_id", model.get((int) arg3).commentID);
+                intent.putExtra("post_id", model.get((int) arg3).postID);
+                intent.putExtra("position", position);
+                startActivityForResult(intent, 1);
+				
+			}
+
+        });
+				   
+        listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
+        	
+               public void onCreateContextMenu(ContextMenu menu, View v,
+					ContextMenuInfo menuInfo) {
+				// TODO Auto-generated method stub
+            	   AdapterView.AdapterContextMenuInfo info;
+                   try {
+                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
+                   } catch (ClassCastException e) {
+                       //Log.e(TAG, "bad menuInfo", e);
+                       return;
+                   }
+                   
+                   selectedID = info.targetView.getId();
+                   rowID = info.position;
+                   selectedPostID = model.get(info.position).postID;
+                   
+			 menu.setHeaderTitle(getResources().getText(R.string.comment_actions));
+             menu.add(0, 0, 0, getResources().getText(R.string.mark_approved));
+             menu.add(0, 1, 0, getResources().getText(R.string.mark_unapproved));
+             menu.add(0, 2, 0, getResources().getText(R.string.mark_spam));
+             menu.add(0, 3, 0, getResources().getText(R.string.reply));
+             menu.add(0, 4, 0, getResources().getText(R.string.delete));
+             
+			}
+          });
+		}
+	   else{
+		   thumbs.notifyDataSetChanged();
+	   }
+	   return true;
+	}
+ 	else{
+ 		return false;
+ 	}
+}
+else{
+	Vector latestComments = postStoreDB.loadMoreComments(moderateCommentsTab.this, id, commentsToLoad);
+	if (latestComments != null){
+		numRecords += latestComments.size();
+		Toast.makeText(this, "numRecords is now " + numRecords, Toast.LENGTH_LONG).show();
+		for (int i=latestComments.size(); i > 0; i--){
+	        HashMap contentHash = (HashMap) latestComments.get(i-1);
+	        allComments.put(contentHash.get("commentID").toString(), contentHash);
+	        author = escapeUtils.unescapeHtml(contentHash.get("author").toString());
+	        commentID = contentHash.get("commentID").toString();
+	        postID = contentHash.get("postID").toString();
+	        comment = escapeUtils.unescapeHtml(contentHash.get("comment").toString());
+	        dateCreated = contentHash.get("commentDate").toString();
+	        dateCreatedFormatted = contentHash.get("commentDateFormatted").toString();
+	        status = contentHash.get("status").toString();
+	        authorEmail = escapeUtils.unescapeHtml(contentHash.get("email").toString());
+	        authorURL = escapeUtils.unescapeHtml(contentHash.get("url").toString());
+	        postTitle = escapeUtils.unescapeHtml(contentHash.get("postTitle").toString());
+	        
+	        //add to model
+	        model.add(new CommentEntry(postID,
+	        		commentID, 
+	        		author,
+	        		dateCreatedFormatted,
+	        		comment,
+	        		status,
+	        		postTitle,
+	        		authorURL,
+	        		authorEmail,
+	        		URI.create("http://gravatar.com/avatar/" + getMd5Hash(authorEmail.trim()) + "?s=60&d=identicon")));
+	    }
+		thumbs.notifyDataSetChanged();
+	}
+	return true;
+}
+}
+
+	   public void onClick(View arg0) {
+			//first view is showing, show the second progress view
+			switcher.showNext();
+			refreshComments(true, false, false);
+		}
+
+	private void refreshComments(final boolean loadMore, final boolean refreshOnly, final boolean doInBackground) {
+
+		if (!loadMore && !doInBackground){
+			showProgressBar();
+		}
         
 		Vector settings = new Vector();
 	    WordPressDB settingsDB = new WordPressDB(this);
@@ -259,26 +687,37 @@ private void refreshComments() {
 		{
 			sURL = settings.get(0).toString() + "xmlrpc.php";
 		}
-		String sUsername = settings.get(2).toString();
-		String sPassword = settings.get(3).toString();
-		int sBlogId = Integer.parseInt(settings.get(10).toString());
-	        
+		sUsername = settings.get(2).toString();
+		sPassword = settings.get(3).toString();
+		sBlogId = Integer.parseInt(settings.get(10).toString());
+
+		client = new XMLRPCClient(sURL);
+
 	        HashMap hPost = new HashMap();
 	        hPost.put("status", "");
 	        hPost.put("post_id", "");
-	        hPost.put("number", 30);
-	        
-	    	
+	        if (loadMore){
+	        	hPost.put("offset", numRecords);
+	        }
+	        if (totalComments != 0 && ((totalComments - numRecords) < 30)){
+	        	commentsToLoad = totalComments - numRecords;
+	        	hPost.put("number", commentsToLoad);
+	        }
+	        else{
+	        	hPost.put("number", 30);
+	        }
+
 	    	List<Object> list = new ArrayList<Object>();
 	    	
-	    	//haxor
-	    	
-	    	client = new XMLRPCClient(sURL);
-	    	
 	    	XMLRPCMethod method = new XMLRPCMethod("wp.getComments", new XMLRPCMethodCallback() {
 				public void callFinished(Object[] result) {
 					String s = "done";
-					closeProgressBar();
+					if (!loadMore && !doInBackground){
+						closeProgressBar();
+					}
+					else if (loadMore){
+						switcher.showPrevious();
+					}
 					if (result.length == 0){
 						// no comments found
 						if (pd.isShowing())
@@ -300,9 +739,15 @@ public void callFinished(Object[] result) {
 					TimeZone tz = cal.getTimeZone();
 					String shortDisplayName = "";
 					shortDisplayName = tz.getDisplayName(true, TimeZone.SHORT);
-					    
+					if (result.length < 30){
+						//end of list reached
+						getListView().removeFooterView(switcher);
+					}
 						//loop this!
 						    for (int ctr = 0; ctr < result.length; ctr++){
+						    	if (loadMore){
+						    		checkedComments.add("false"); 
+						    	}
 						    	HashMap<String, String> dbValues = new HashMap();
 						        contentHash = (HashMap) result[ctr];
 						        allComments.put(contentHash.get("comment_id").toString(), contentHash);
@@ -344,9 +789,11 @@ public void callFinished(Object[] result) {
 						    }
 						    
 						    WordPressDB postStoreDB = new WordPressDB(moderateCommentsTab.this);
-						    postStoreDB.saveComments(moderateCommentsTab.this, dbVector);
-
-						   loadComments();
+						    postStoreDB.saveComments(moderateCommentsTab.this, dbVector, loadMore);
+						   
+						    if (!doInBackground){
+						    	loadComments(loadMore, refreshOnly);
+						    }
 						   
 						   if (pd.isShowing())
 							{
@@ -393,7 +840,7 @@ public void closeProgressBar() {
 
         AnimationSet set = new AnimationSet(true);
 
-        Animation animation = new AlphaAnimation(0.0f, 1.0f);
+        Animation animation = new AlphaAnimation(1.0f, 0.0f);
         animation.setDuration(500);
         set.addAnimation(animation);
 
@@ -408,8 +855,7 @@ public void closeProgressBar() {
                 new LayoutAnimationController(set, 0.5f);
         RelativeLayout loading = (RelativeLayout) findViewById(R.id.loading);       
         
-        loading.setLayoutAnimation(controller);
-        
+        loading.startAnimation(set);
         loading.setVisibility(View.INVISIBLE);
 	}
 
@@ -487,7 +933,7 @@ public View getView(int position, View convertView,
 				wrapper=(CommentEntryWrapper)row.getTag();
 			}
 			row.setBackgroundDrawable(getResources().getDrawable(R.drawable.list_bg_selector));
-			wrapper.populateFrom(getItem(position));
+			wrapper.populateFrom(getItem(position), position);
 			
 			return(row);
 		}
@@ -501,13 +947,15 @@ class CommentEntryWrapper {
 		private TextView postTitle=null;
 		private ImageView avatar=null;
 		private View row=null;
+		private CheckBox bulkCheck=null;
+		private RelativeLayout bulkEditGroup=null;
 		
 		CommentEntryWrapper(View row) {
 			this.row=row;
 			
 		}
 		
-		void populateFrom(CommentEntry s) {
+		void populateFrom(CommentEntry s, final int position) {
 			getName().setText(s.name);
 		
 			String fEmailURL = s.authorURL;
@@ -537,9 +985,27 @@ else if (s.status.equals("hold")){
 				textColor = "#006505";
 			}
 			
+			if (inModeration){
+				getBulkEditGroup().setVisibility(View.VISIBLE);
+			}
+			else{
+				getBulkEditGroup().setVisibility(View.GONE);
+			}
+			
 			getStatus().setText(prettyComment);
 			getStatus().setTextColor(Color.parseColor(textColor));
 			
+			getBulkCheck().setChecked(Boolean.parseBoolean(checkedComments.get(position).toString()));
+			getBulkCheck().setTag(position);
+			getBulkCheck().setOnClickListener(new OnClickListener() { 
+
+					public void onClick(View arg0) {
+                    //Toast.makeText(moderateCommentsTab.this, "CLICK: " + getBulkCheck().getTag(), Toast.LENGTH_SHORT).show(); 
+					checkedComments.set(position, String.valueOf(getBulkCheck().isChecked()));
+					showOrHideModerateButtons();
+					} 
+			}); 
+			
 			if (s.profileImageUrl!=null) {
 				try {
 					getAvatar().setImageResource(R.drawable.placeholder);
@@ -550,7 +1016,7 @@ else if (s.status.equals("hold")){
 				}
 			}
 		}
-		
+
 		TextView getName() {
 			if (name==null) {
 				name=(TextView)row.findViewById(R.id.name);
@@ -600,6 +1066,41 @@ ImageView getAvatar() {
 			
 			return(avatar);
 		}
+		
+		CheckBox getBulkCheck() {
+			if (bulkCheck==null) {
+				bulkCheck=(CheckBox)row.findViewById(R.id.bulkCheck);
+			}
+			
+			return(bulkCheck);
+		}
+		
+		RelativeLayout getBulkEditGroup() {
+			if (bulkEditGroup==null) {
+				bulkEditGroup=(RelativeLayout)row.findViewById(R.id.bulkEditGroup);
+			}
+			
+			return(bulkEditGroup);
+		}
+		
+		protected void showOrHideModerateButtons() {
+			int previousTotal = checkedCommentTotal;
+			checkedCommentTotal = 0;
+			for (int i=0;i < checkedComments.size();i++){
+				if (checkedComments.get(i).equals("true")){
+					checkedCommentTotal++;
+				}
+			}
+			if (checkedCommentTotal > 0 && previousTotal == 0){
+				showModerationBar();
+			}
+			if (checkedCommentTotal == 0 && previousTotal > 0){
+				
+				hideModerationBar();
+				
+			}
+			
+		}
 	}
 	
 	public static String getMd5Hash(String input) {
@@ -619,6 +1120,46 @@ public static String getMd5Hash(String input) {
 	    }
 	}
 	
+	public void hideModerationBar() {
+		AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(1.0f, 0.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 1.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+;
+        RelativeLayout moderationBar = (RelativeLayout) findViewById(R.id.moderationBar);       
+        moderationBar.clearAnimation();
+        moderationBar.startAnimation(set);
+        moderationBar.setVisibility(View.INVISIBLE);
+		
+	}
+	
+	public void showModerationBar(){
+		AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(0.0f, 1.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+            Animation.RELATIVE_TO_SELF, 1.0f,Animation.RELATIVE_TO_SELF, 0.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        RelativeLayout moderationBar = (RelativeLayout) findViewById(R.id.moderationBar);       
+        moderationBar.setVisibility(View.VISIBLE);
+        moderationBar.startAnimation(set);
+	}
+
 	//Add settings to menu
 	@Override
 	public boolean onCreateOptionsMenu(Menu menu) {
@@ -721,9 +1262,22 @@ public void call(Object[] params) {
 		@Override
 		public void run() {
 			try {
-				final long t0 = System.currentTimeMillis();
+				//get the total comments
+				HashMap countResult = new HashMap();
+				Object[] countParams = {
+		        		sBlogId,
+		        		sUsername,
+		        		sPassword,
+		        		0
+		        };
+				try {
+					countResult = (HashMap) client.call("wp.getCommentCount", countParams);
+					totalComments = Integer.valueOf(countResult.get("awaiting_moderation").toString()) + Integer.valueOf(countResult.get("approved").toString());
+				} catch (XMLRPCException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
 				final Object[] result = (Object[]) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
 				handler.post(new Runnable() {
 					public void run() {
 
@@ -807,9 +1361,7 @@ public void call(Object[] params) {
 		@Override
 		public void run() {
 			try {
-				final long t0 = System.currentTimeMillis();
 				final Object result = (Object) client.call(method, params);
-				final long t1 = System.currentTimeMillis();
 				handler.post(new Runnable() {
 					public void run() {
 						
@@ -820,7 +1372,7 @@ public void run() {
 			} catch (final XMLRPCFault e) {
 				handler.post(new Runnable() {
 					public void run() {
-						dismissDialog(ID_DIALOG_POSTING);
+						dismissDialog(ID_DIALOG_MODERATING);
 						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
 						  dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
 			              dialogBuilder.setMessage(e.getFaultString());
@@ -841,7 +1393,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
 					public void run() {
 
 						Throwable couse = e.getCause();
-						dismissDialog(ID_DIALOG_POSTING);
+						dismissDialog(ID_DIALOG_MODERATING);
 						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
 						  dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
 			              dialogBuilder.setMessage(e.getMessage());
@@ -862,9 +1414,14 @@ public void onClick(DialogInterface dialog, int whichButton) {
 	
 	@Override
 	protected Dialog onCreateDialog(int id) {
-	if(id == ID_DIALOG_POSTING){
+	if(id == ID_DIALOG_MODERATING){
 	ProgressDialog loadingDialog = new ProgressDialog(this);
-	loadingDialog.setMessage(getResources().getText(R.string.moderating_comment));
+	if (checkedCommentTotal <= 1){
+		loadingDialog.setMessage(getResources().getText(R.string.moderating_comment));
+	}
+	else{
+		loadingDialog.setMessage(getResources().getText(R.string.moderating_comments));
+	}
 	loadingDialog.setIndeterminate(true);
 	loadingDialog.setCancelable(false);
 	return loadingDialog;
@@ -878,7 +1435,12 @@ else if (id == ID_DIALOG_REPLYING){
 	}
 	else if (id == ID_DIALOG_DELETING){
 		ProgressDialog loadingDialog = new ProgressDialog(this);
-		loadingDialog.setMessage(getResources().getText(R.string.deleting_comment));
+		if (checkedCommentTotal <= 1){
+			loadingDialog.setMessage(getResources().getText(R.string.deleting_comment));
+		}
+		else{
+			loadingDialog.setMessage(getResources().getText(R.string.deleting_comments));
+		}
 		loadingDialog.setIndeterminate(true);
 		loadingDialog.setCancelable(false);
 		return loadingDialog;
@@ -900,30 +1462,30 @@ public boolean onContextItemSelected(MenuItem item) {
 	     /* Switch on the ID of the item, to get what the user selected. */
 	     switch (item.getItemId()) {
 	          case 0:
-	        	showDialog(ID_DIALOG_POSTING);
+	        	showDialog(ID_DIALOG_MODERATING);
 	        	  new Thread() {
 	                  public void run() {
 	                	  Looper.prepare();
-				changeCommentStatus("approve", selectedID);
+				changeCommentStatus("approve", selectedID, rowID);
 	                  }
 	              }.start();
 	        	  return true;
 	          case 1:
-	        	  showDialog(ID_DIALOG_POSTING);
+	        	  showDialog(ID_DIALOG_MODERATING);
 	        	  new Thread() {
 	                  public void run() { 
 	                	  Looper.prepare();
-	        	  changeCommentStatus("hold", selectedID);
+	        	  changeCommentStatus("hold", selectedID, rowID);
 	                  }
 	              }.start();
 	              
 	        	  return true;
 	          case 2:
-	        	  showDialog(ID_DIALOG_POSTING);
+	        	  showDialog(ID_DIALOG_MODERATING);
 	        	  new Thread() {
 	                  public void run() { 
 	                	  Looper.prepare();
-	        	  changeCommentStatus("spam", selectedID);
+	        	  changeCommentStatus("spam", selectedID, rowID);
 	                  }
 	              }.start();
 	             return true;
@@ -949,13 +1511,14 @@ public void run() {
 	     return false;
 	}
 
-	private void changeCommentStatus(final String newStatus, final int selCommentID) {
+	private void changeCommentStatus(final String newStatus, final int selCommentID, int position) {
 
 	    		String sSelCommentID = String.valueOf(selCommentID);
+	    		ListView lv = getListView();
+	    		CommentEntry ce = (CommentEntry)lv.getItemAtPosition(position);
 	        	Vector settings = new Vector();
 	            WordPressDB settingsDB = new WordPressDB(moderateCommentsTab.this);
 	        	settings = settingsDB.loadSettings(moderateCommentsTab.this, id);
-	            
 	        	String sURL = "";
 	        	if (settings.get(0).toString().contains("xmlrpc.php"))
 	        	{
@@ -970,13 +1533,7 @@ private void changeCommentStatus(final String newStatus, final int selCommentID)
 	    		int sBlogId = Integer.parseInt(settings.get(10).toString());
 	        	
 	        	client = new XMLRPCClient(sURL);
-	        	
-	        	ListView lv = getListView(); 
-	        	
-	        	Object curListItem;
-	        	ListAdapter la = lv.getAdapter();
-	        	
-	            
+ 
 	        		HashMap contentHash, postHash = new HashMap();
 	        		contentHash = (HashMap) allComments.get(sSelCommentID);
 			        postHash.put("status", newStatus);
@@ -1006,7 +1563,13 @@ private void changeCommentStatus(final String newStatus, final int selCommentID)
 		        Object result = null;
 		        try {
 		    		result = (Object) client.call("wp.editComment", params);
-		    		dismissDialog(ID_DIALOG_POSTING);
+		    		boolean bResult = Boolean.parseBoolean(result.toString());
+		    		if (bResult){
+		    			ce.status = newStatus;
+		    			model.set(position, ce);
+		    			settingsDB.updateCommentStatus(moderateCommentsTab.this, id, ce.commentID, newStatus);
+		    		}
+		    		dismissDialog(ID_DIALOG_MODERATING);
 		    		Thread action = new Thread() 
 					{ 
 					  public void run() 
@@ -1019,14 +1582,32 @@ public void run()
 					{ 
 					  public void run() 
 					  {
-						  pd = new ProgressDialog(moderateCommentsTab.this);  // to avoid crash
-						  refreshComments();				  } 
+						  thumbs.notifyDataSetChanged();				  
+					  } 
 					}; 
 					this.runOnUiThread(action2);
 					
-		    	} catch (XMLRPCException e) {
-		    		dismissDialog(ID_DIALOG_POSTING);
-		    		e.printStackTrace();
+		    	} catch (final XMLRPCException e) {
+		    		dismissDialog(ID_DIALOG_MODERATING);
+		    		Thread action3 = new Thread() 
+					{ 
+					  public void run() 
+					  {
+						  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(moderateCommentsTab.this);
+						  dialogBuilder.setTitle(getResources().getText(R.string.connection_error));
+						  dialogBuilder.setMessage(e.getMessage());
+						  dialogBuilder.setPositiveButton("OK",  new
+		          		  DialogInterface.OnClickListener() {
+							  public void onClick(DialogInterface dialog, int whichButton) {
+		                  // Just close the window.
+		              	
+							  }
+						  });
+						  dialogBuilder.setCancelable(true);
+						  dialogBuilder.create().show();
+					  	}
+					  }; 
+					  this.runOnUiThread(action3);
 		    	}	
 	}
 	
@@ -1076,7 +1657,7 @@ public void run()
 			  public void run() 
 			  {
 				  pd = new ProgressDialog(moderateCommentsTab.this);  // to avoid crash
-				  refreshComments();				  } 
+				  refreshComments(false, true, false);				  } 
 			}; 
 			this.runOnUiThread(action2);
 			
@@ -1165,7 +1746,7 @@ public void run()
 			  public void run() 
 			  {
 				  pd = new ProgressDialog(moderateCommentsTab.this);  // to avoid crash
-				  refreshComments();				  } 
+				  refreshComments(false, true, false);				  } 
 			}; 
 			this.runOnUiThread(action2);
 			
@@ -1230,15 +1811,16 @@ public void run(){
 		    	String comment_id;
 				final String action;
 		    	comment_id = extras.getString("comment_id");
+		    	final int position = extras.getInt("position");
 		    	
 		    	action = extras.getString("action");
 		    	if (action.equals("approve") || action.equals("hold") || action.equals("spam")){
 		    		final int commentID = Integer.parseInt(comment_id);
-		    		showDialog(ID_DIALOG_POSTING);
+		    		showDialog(ID_DIALOG_MODERATING);
 		        	  new Thread() {
 		                  public void run() {
 		                	  Looper.prepare();
-		                	  changeCommentStatus(action, commentID);
+		                	  changeCommentStatus(action, commentID, position);
 		                  }
 		        	  	}.start();
 		    	}
diff --git a/src/org/wordpress/android/splashScreen.java b/src/org/wordpress/android/splashScreen.java
index a4855db993a4..299467ead669 100644
--- a/src/org/wordpress/android/splashScreen.java
+++ b/src/org/wordpress/android/splashScreen.java
@@ -44,7 +44,7 @@ public void run() {
                  splashScreen.this.startActivity(mainIntent); 
                  splashScreen.this.finish(); 
             } 
-       }, 3250); //3250 for release
+       }, 0); //3250 for release
         
 }
 }
diff --git a/src/org/wordpress/android/tabView.java b/src/org/wordpress/android/tabView.java
index 0d1747c66c81..d59fd30bae0a 100644
--- a/src/org/wordpress/android/tabView.java
+++ b/src/org/wordpress/android/tabView.java
@@ -36,6 +36,7 @@ public void onCreate(Bundle savedInstanceState) {
          Intent tab1 = new Intent(this, moderateCommentsTab.class);
          Intent tab2 = new Intent(this, viewPosts.class);
          Intent tab3 = new Intent(this, viewPosts.class);
+         Intent tab4 = new Intent(this, viewStats.class);
          
         Bundle bundle = new Bundle();
  		bundle.putString("accountName", accountName);
@@ -46,6 +47,7 @@ public void onCreate(Bundle savedInstanceState) {
  		}
  		
  		tab1.putExtras(bundle);
+ 		tab4.putExtras(bundle);
  		
  		if (action != null){
  			bundle.putString("action", action);
@@ -57,11 +59,10 @@ public void onCreate(Bundle savedInstanceState) {
  		tab3.putExtras(bundle);
          
          TabHost host = getTabHost();  
-         
          host.addTab(host.newTabSpec("one").setIndicator(getResources().getText(R.string.tab_comments), getResources().getDrawable(R.layout.comment_tab_selector)).setContent(tab1));  
          host.addTab(host.newTabSpec("two").setIndicator(getResources().getText(R.string.tab_posts), getResources().getDrawable(R.layout.posts_tab_selector)).setContent(tab2));
          host.addTab(host.newTabSpec("three").setIndicator(getResources().getText(R.string.tab_pages), getResources().getDrawable(R.layout.pages_tab_selector)).setContent(tab3));
-
+         host.addTab(host.newTabSpec("four").setIndicator(getResources().getText(R.string.tab_stats), null).setContent(tab4));
          if (activateTab != null){
         	 if(activateTab.equals("posts")){
         		 host.setCurrentTab(1);
diff --git a/src/org/wordpress/android/viewComment.java b/src/org/wordpress/android/viewComment.java
index 4b90fedc585d..c4d58631ad73 100644
--- a/src/org/wordpress/android/viewComment.java
+++ b/src/org/wordpress/android/viewComment.java
@@ -34,9 +34,10 @@ public class viewComment extends Activity {
 	private String url = "";
 	private String date = "";
 	private String status = "";
-	private String comment_id="";
-	private String post_id="";
+	private String comment_id = "";
+	private String post_id = "";
 	private Drawable d;
+	private int position = 0;
 	
 	private Handler handler = new Handler() {
 
@@ -86,6 +87,7 @@ protected void onCreate(Bundle savedInstanceState) {
          status = extras.getString("status");
          comment_id = extras.getString("comment_id");
          post_id = extras.getString("post_id");
+         position = extras.getInt("position");
         } 
         
         setContentView(R.layout.view_comment);
@@ -135,6 +137,7 @@ public void onClick(View v) {
             	Bundle bundle = new Bundle();
 				bundle.putString("comment_id", comment_id);
 				bundle.putString("action", "delete");
+				bundle.putInt("position", position);
 		    	Intent i = new Intent();
 		    	i.putExtras(bundle);
 		    	setResult(RESULT_OK, i);
@@ -150,6 +153,7 @@ public void onClick(View v) {
             	Bundle bundle = new Bundle();
 				bundle.putString("comment_id", comment_id);
 				bundle.putString("action", "spam");
+				bundle.putInt("position", position);
 		    	Intent i = new Intent();
 		    	i.putExtras(bundle);
 		    	setResult(RESULT_OK, i);
@@ -165,6 +169,7 @@ public void onClick(View v) {
             	Bundle bundle = new Bundle();
 				bundle.putString("comment_id", comment_id);
 				bundle.putString("action", "hold");
+				bundle.putInt("position", position);
 		    	Intent i = new Intent();
 		    	i.putExtras(bundle);
 		    	setResult(RESULT_OK, i);
@@ -180,6 +185,7 @@ public void onClick(View v) {
             	Bundle bundle = new Bundle();
 				bundle.putString("comment_id", comment_id);
 				bundle.putString("action", "approve");
+				bundle.putInt("position", position);
 		    	Intent i = new Intent();
 		    	i.putExtras(bundle);
 		    	setResult(RESULT_OK, i);
@@ -196,6 +202,7 @@ public void onClick(View v) {
 				bundle.putString("comment_id", comment_id);
 				bundle.putString("action", "reply");
 				bundle.putString("post_id", post_id);
+				bundle.putInt("position", position);
 		    	Intent i = new Intent();
 		    	i.putExtras(bundle);
 		    	setResult(RESULT_OK, i);
diff --git a/src/org/wordpress/android/viewPosts.java b/src/org/wordpress/android/viewPosts.java
index d2f081fa0211..d247117c55a2 100644
--- a/src/org/wordpress/android/viewPosts.java
+++ b/src/org/wordpress/android/viewPosts.java
@@ -57,11 +57,13 @@
 import android.view.animation.TranslateAnimation;
 import android.widget.AdapterView;
 import android.widget.BaseAdapter;
+import android.widget.Button;
 import android.widget.ImageButton;
 import android.widget.ListView;
 import android.widget.RelativeLayout;
 import android.widget.TextView;
 import android.widget.Toast;
+import android.widget.ViewSwitcher;
 import android.widget.AdapterView.OnItemClickListener;
 
 
@@ -95,6 +97,9 @@ public class viewPosts extends ListActivity{
     public boolean isPage = false;
     public Vector thumbnailUrl = new Vector();
     boolean largeScreen = false;
+    int numRecords = 30;
+    private ViewSwitcher switcher;
+    private PostListAdapter pla;
     @Override
     public void onCreate(Bundle icicle) {
         super.onCreate(icicle);
@@ -131,19 +136,35 @@ public void run() {
 				}.start();
         	}
         	else{
-        		boolean loadedPosts = loadPosts();
+        		boolean loadedPosts = loadPosts(false);
         		if (!loadedPosts){
-                	refreshPosts();
+                	refreshPosts(false);
                 }
         	}
         }
         else{
+        	
+        	//add footer view
+    	    if (!isPage){
+    	    	//create the ViewSwitcher in the current context
+    	        switcher = new ViewSwitcher(this);
+    			  //footer Button: see XML1
+    			  Button footer = (Button)View.inflate(this, R.layout.list_footer_btn, null);
+    			  footer.setText(getResources().getText(R.string.load_more) + " " + getResources().getText(R.string.tab_posts));
+    			  
+    			  //progress View: see XML2
+    			  View progress = View.inflate(this, R.layout.list_footer_progress, null);
+    			  
+    			  //add the views (first added will show first)
+    			  switcher.addView(footer);
+    			  switcher.addView(progress);  
+    	    }
 	        
 	        //query for posts and refresh view
-	        boolean loadedPosts = loadPosts();
+	        boolean loadedPosts = loadPosts(false);
 	        
 	        if (!loadedPosts){
-	        	refreshPosts();
+	        	refreshPosts(false);
 	        }
         }
         
@@ -176,17 +197,26 @@ public void onClick(View v) {
             refresh.setOnClickListener(new ImageButton.OnClickListener() {
                 public void onClick(View v) {
                 	
-                	refreshPosts();
+                	refreshPosts(false);
                 	 
                 }
         });
         
-        
     }
     
-    private void refreshPosts(){
+   public void onClick(View arg0) {
+		//first view is showing, show the second progress view
+		switcher.showNext();
+		//get 30 more posts
+		numRecords += 30;
+		refreshPosts(true);
+	}
+    
+    private void refreshPosts(final boolean loadMore){
 
-    	showProgressBar();
+    	if (!loadMore){
+    		showProgressBar();
+    	}
 
     	Vector settings = new Vector();
         WordPressDB settingsDB = new WordPressDB(this);
@@ -215,7 +245,12 @@ public void callFinished(Object[] result) {
 					s = result.toString();
 					
 					if (result.length == 0){
-						closeProgressBar();
+						if (!loadMore){
+							closeProgressBar();
+						}
+						else{
+				    		switcher.showPrevious();
+				    	}
 						AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewPosts.this);
 						  dialogBuilder.setTitle(getResources().getText((isPage) ? R.string.pages_not_found: R.string.posts_not_found));
 			              dialogBuilder.setMessage(getResources().getText((isPage) ? R.string.pages_no_pages: R.string.posts_no_posts));
@@ -308,8 +343,13 @@ public void onClick(DialogInterface dialog, int whichButton) {
 					    }
 					    
 
-					   loadPosts();
-					   closeProgressBar();
+					   loadPosts(loadMore);
+					   if (!loadMore){
+							closeProgressBar();
+						}
+						else{
+				    		switcher.showPrevious();
+				    	}
 					}
 			        
 				}
@@ -328,7 +368,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
         				sBlogId,
         				sUsername,
         				sPassword,
-        				30
+        				numRecords
         		};
         		method.call(params);
         	}
@@ -346,7 +386,7 @@ public Map<String,?> createItem(String title, String caption) {
         return item;  
     } 
     
-    private boolean loadPosts(){ //loads posts from the db
+    private boolean loadPosts(boolean loadMore){ //loads posts from the db
    	
     	WordPressDB postStoreDB = new WordPressDB(this);
     	Vector loadedPosts;
@@ -441,69 +481,79 @@ private boolean loadPosts(){ //loads posts from the db
 					    
 					    if (loadedPosts != null || drafts == true )
 					    {
-					   setListAdapter(new PostListAdapter(viewPosts.this));
+					    ListView listView = (ListView) findViewById(android.R.id.list);
 
-					   ListView listView = (ListView) findViewById(android.R.id.list);
-					   
-					   listView.setOnItemClickListener(new OnItemClickListener() {
+					    if (!isPage){
+					    	listView.removeFooterView(switcher);
+					    	listView.addFooterView(switcher);
+					    }				    
+					    
+					   if (loadMore){
+						   pla.notifyDataSetChanged();
+					   }
+					   else{
+						   pla = new PostListAdapter(viewPosts.this);
+						   setListAdapter(pla);
 						   
+						   listView.setOnItemClickListener(new OnItemClickListener() {
+							   
 
-							public void onItemClick(AdapterView<?> arg0, View arg1,
-									int arg2, long arg3) {
-								arg1.performLongClick();
-								
-							}
+								public void onItemClick(AdapterView<?> arg0, View arg1,
+										int arg2, long arg3) {
+									arg1.performLongClick();
+									
+								}
 
-			            });
-					   
-					   listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
-
-			               public void onCreateContextMenu(ContextMenu menu, View v,
-								ContextMenuInfo menuInfo) {
-							// TODO Auto-generated method stub
-			            	   AdapterView.AdapterContextMenuInfo info;
-			                   try {
-			                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
-			                   } catch (ClassCastException e) {
-			                       //Log.e(TAG, "bad menuInfo", e);
-			                       return;
-			                   }
-			                   
-			                   selectedID = info.targetView.getId();
-			                   rowID = info.position;
-			                   
-			                   if (totalDrafts > 0 && rowID <= totalDrafts && rowID != 0){
-			                	   menu.clear();
-			                	   menu.setHeaderTitle(getResources().getText(R.string.draft_actions));
-			                	   menu.add(1, 0, 0, getResources().getText(R.string.edit_draft));
-			                	   menu.add(1, 1, 0, getResources().getText(R.string.upload));
-			                	   menu.add(1, 2, 0, getResources().getText(R.string.delete_draft));            	             
-			                   }
-			                   else if(rowID == 1 || ((rowID != (totalDrafts + 1)) && rowID != 0)){
-			                	   menu.clear();
-			                	   
-			                	   if (isPage){
-			                		   menu.setHeaderTitle(getResources().getText(R.string.page_actions));
-				                	   menu.add(2, 0, 0, getResources().getText(R.string.preview_page));
-				                	   menu.add(2, 1, 0, getResources().getText(R.string.view_comments));
-				                	   menu.add(2, 2, 0, getResources().getText(R.string.edit_page));
-				                	   menu.add(2, 3, 0, getResources().getText(R.string.delete_page));
-			                	   }
-			                	   else{
-			                		   menu.setHeaderTitle(getResources().getText(R.string.post_actions));
-			                		   menu.add(0, 0, 0, getResources().getText(R.string.preview_post));
-			                		   menu.add(0, 1, 0, getResources().getText(R.string.view_comments));
-				                	   menu.add(0, 2, 0, getResources().getText(R.string.edit_post));
-				                	   menu.add(0, 3, 0, getResources().getText(R.string.delete_post));
-			                	   }
-			                	   
-			                	   
-			                   }
-
-			                   
-						}
-			          });
-   
+				            });
+						   
+						   listView.setOnCreateContextMenuListener(new OnCreateContextMenuListener() {
+
+				               public void onCreateContextMenu(ContextMenu menu, View v,
+									ContextMenuInfo menuInfo) {
+								// TODO Auto-generated method stub
+				            	   AdapterView.AdapterContextMenuInfo info;
+				                   try {
+				                        info = (AdapterView.AdapterContextMenuInfo) menuInfo;
+				                   } catch (ClassCastException e) {
+				                       //Log.e(TAG, "bad menuInfo", e);
+				                       return;
+				                   }
+				                   
+				                   selectedID = info.targetView.getId();
+				                   rowID = info.position;
+				                   
+				                   if (totalDrafts > 0 && rowID <= totalDrafts && rowID != 0){
+				                	   menu.clear();
+				                	   menu.setHeaderTitle(getResources().getText(R.string.draft_actions));
+				                	   menu.add(1, 0, 0, getResources().getText(R.string.edit_draft));
+				                	   menu.add(1, 1, 0, getResources().getText(R.string.upload));
+				                	   menu.add(1, 2, 0, getResources().getText(R.string.delete_draft));            	             
+				                   }
+				                   else if(rowID == 1 || ((rowID != (totalDrafts + 1)) && rowID != 0)){
+				                	   menu.clear();
+				                	   
+				                	   if (isPage){
+				                		   menu.setHeaderTitle(getResources().getText(R.string.page_actions));
+					                	   menu.add(2, 0, 0, getResources().getText(R.string.preview_page));
+					                	   menu.add(2, 1, 0, getResources().getText(R.string.view_comments));
+					                	   menu.add(2, 2, 0, getResources().getText(R.string.edit_page));
+					                	   menu.add(2, 3, 0, getResources().getText(R.string.delete_page));
+				                	   }
+				                	   else{
+				                		   menu.setHeaderTitle(getResources().getText(R.string.post_actions));
+				                		   menu.add(0, 0, 0, getResources().getText(R.string.preview_post));
+				                		   menu.add(0, 1, 0, getResources().getText(R.string.view_comments));
+					                	   menu.add(0, 2, 0, getResources().getText(R.string.edit_post));
+					                	   menu.add(0, 3, 0, getResources().getText(R.string.delete_post));
+				                	   }
+				                	   
+				                	   
+				                   }
+
+				                   
+							}
+				          });
+					   }
 		        return true;
 		    }
 			else{
@@ -725,7 +775,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
 					else{
 						WordPressDB postStoreDB = new WordPressDB(viewPosts.this);
 						postStoreDB.clearPosts(viewPosts.this, id);
-						loadPosts();
+						loadPosts(false);
 					}
 				}
 			});
@@ -862,13 +912,13 @@ public void run() {
 
 				}
 				else{
-					loadPosts();
+					loadPosts(false);
 				}
 			}
 			break;
 		case 1:
 			if (returnResult.equals("OK")){
-				refreshPosts();
+				refreshPosts(false);
 			}
 			break;
 		}
@@ -1040,7 +1090,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
               	  else{
               		  lDraftsDB.deletePost(viewPosts.this, String.valueOf(selectedID));
               	  }
-              	  loadPosts();
+              	  loadPosts(false);
             
                 }
             });
@@ -1113,7 +1163,7 @@ public void run()
 			{ 
 			  public void run() 
 			  {
-				  refreshPosts();				  } 
+				  refreshPosts(false);				  } 
 			}; 
 			this.runOnUiThread(action2);
 			
@@ -1447,7 +1497,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
 		              	      else {
 		              	    	  lDraftsDB.deletePost(viewPosts.this, String.valueOf(selectedID));
 		              	      }
-	                	  refreshPosts();
+	                	  refreshPosts(false);
 	                	  }
 	              
 	                  }
@@ -1639,9 +1689,16 @@ public void run()
 	 			   yRes = resx[1];
  			   }
  			   else{
- 				   // set to droid/nexus one video resolution by default
- 				   xRes = "720";
- 				   yRes = "480";
+ 				   // set the width of the video to the thumbnail width, else 640x480
+ 				   if (!sMaxImageWidth.equals("Original Size")){
+ 					  xRes = sMaxImageWidth;
+ 					  yRes = String.valueOf(Math.round(Integer.valueOf(sMaxImageWidth) * 0.75));
+ 				   }
+ 				   else{
+ 					   xRes = "640";
+ 					   yRes = "480";
+ 				   }
+ 				   
  			   }
  				
 
@@ -1690,7 +1747,7 @@ public void run()
  					resultURL = contentHash.get("videopress_shortcode").toString() + "\n";
  				}
  				else{
- 					resultURL = "<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" width=\"" + xRes + "\" height=\"" + (Integer.valueOf(yRes) + 16) + "\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\"><param name=\"src\" value=\"" + resultURL + "\" /><param name=\"autoplay\" value=\"false\" /><param name=\"controller\" value=\"true\" /><object type=\"video/quicktime\" data=\"" + resultURL + "\" width=\"" + xRes + "\" height=\"" + (Integer.valueOf(yRes) + 16) + "\"><param name=\"autoplay\" value=\"false\" /><param name=\"controller\" value=\"true\" /></object></object>\n";
+ 					resultURL = "<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" width=\"" + xRes + "\" height=\"" + (Integer.valueOf(yRes) + 16) + "\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\"><param name=\"scale\" value=\"aspect\"><param name=\"src\" value=\"" + resultURL + "\" /><param name=\"autoplay\" value=\"false\" /><param name=\"controller\" value=\"true\" /><object type=\"video/quicktime\" data=\"" + resultURL + "\" width=\"" + xRes + "\" height=\"" + (Integer.valueOf(yRes) + 16) + "\"><param name=\"scale\" value=\"aspect\"><param name=\"autoplay\" value=\"false\" /><param name=\"controller\" value=\"true\" /></object></object>\n";
  				}
  				
  				content = content + resultURL;
@@ -1949,7 +2006,6 @@ public void run() {
 				}
 			});
 		} catch (final XMLRPCFault e) {
-					//pd.dismiss();
 					e.printStackTrace();
 		             
 				
diff --git a/src/org/wordpress/android/viewStats.java b/src/org/wordpress/android/viewStats.java
new file mode 100644
index 000000000000..8dbdce82224d
--- /dev/null
+++ b/src/org/wordpress/android/viewStats.java
@@ -0,0 +1,1037 @@
+package org.wordpress.android;
+/**
+ * In order to make requests for WPCOM stats for a given blog you need some specific information. 
+ * In order to get this additional info a new URL was created:
+
+https://public-api.wordpress.com/getuserblogs.php
+http://stats.wordpress.com/csv.php
+
+It requires SSL, uses HTTP BASIC AUTHENTICATION and returns XML data
+that looks like:
+
+<?xml version="1.0" encoding="UTF-8"?>
+<userinfo>
+       <apikey>XXXXXXXXXXX</apikey>
+       <blog>
+               <id>XYXYXY</id>
+               <url>http://example.wordpress.com/</url>
+       </blog>
+       <blog>
+               <id>XYXYXY</id>
+               <url>http://myblog.example.com/</url>
+       </blog>
+</userinfo>
+
+Optionally you can get the data in JSON format -
+https://public-api.wordpress.com/getuserblogs.php?f=json
+ */
+
+import java.io.BufferedInputStream;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.PushbackInputStream;
+import java.net.MalformedURLException;
+import java.net.URI;
+import java.net.URL;
+import java.net.URLConnection;
+import java.security.KeyManagementException;
+import java.security.KeyStoreException;
+import java.security.NoSuchAlgorithmException;
+import java.security.UnrecoverableKeyException;
+import java.text.SimpleDateFormat;
+import java.util.Arrays;
+import java.util.Calendar;
+import java.util.HashMap;
+import java.util.Vector;
+
+import org.apache.http.HttpEntity;
+import org.apache.http.HttpResponse;
+import org.apache.http.auth.UsernamePasswordCredentials;
+import org.apache.http.client.ClientProtocolException;
+import org.apache.http.client.methods.HttpPost;
+import org.apache.http.params.HttpParams;
+import org.apache.http.params.HttpProtocolParams;
+import org.xmlpull.v1.XmlPullParser;
+import org.xmlpull.v1.XmlPullParserException;
+import org.xmlpull.v1.XmlPullParserFactory;
+
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.app.Dialog;
+import android.app.ProgressDialog;
+import android.content.DialogInterface;
+import android.content.res.Configuration;
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.graphics.Color;
+import android.graphics.Typeface;
+import android.os.AsyncTask;
+import android.os.Bundle;
+import android.text.util.Linkify;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup.LayoutParams;
+import android.view.animation.AlphaAnimation;
+import android.view.animation.Animation;
+import android.view.animation.AnimationSet;
+import android.view.animation.LayoutAnimationController;
+import android.view.animation.TranslateAnimation;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.ImageView;
+import android.widget.RelativeLayout;
+import android.widget.Spinner;
+import android.widget.TableLayout;
+import android.widget.TableRow;
+import android.widget.TextView;
+import android.widget.ViewSwitcher;
+
+public class viewStats extends Activity {
+	public boolean success = false;
+	public String blogURL, xmlrpcURL;
+	private ConnectionClient client;
+	private HttpPost postMethod;
+	private HttpParams httpParams;
+	String id = "";
+	boolean loginShowing = false;
+    ProgressDialog loadingDialog;
+    private int ID_DIALOG_GET_STATS = 0;
+
+	@Override
+	protected void onCreate(Bundle savedInstanceState) {
+		// TODO Auto-generated method stub
+		super.onCreate(savedInstanceState);
+		
+		setContentView(R.layout.view_stats);  
+		
+		Bundle extras = getIntent().getExtras();
+        if(extras !=null)
+        {
+         id = extras.getString("id");    		
+        }  
+        
+        //get the ball rolling...
+		initStats();
+		
+		Button saveStatsLogin = (Button) findViewById(R.id.saveDotcom);   
+        
+        saveStatsLogin.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	 
+            	EditText dotcomUsername = (EditText) findViewById(R.id.dotcomUsername);
+            	EditText dotcomPassword = (EditText) findViewById(R.id.dotcomPassword);
+            	
+            	String dcUsername = dotcomUsername.getText().toString();
+            	String dcPassword = dotcomPassword.getText().toString();
+            	
+            	if (dcUsername.equals("") || dcPassword.equals("")){
+            		AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewStats.this);
+	      			  dialogBuilder.setTitle(getResources().getText(R.string.error));
+	                  dialogBuilder.setMessage("Username and Password are required fields.");
+	                  dialogBuilder.setPositiveButton("OK",  new
+	                		  DialogInterface.OnClickListener() {
+	                        public void onClick(DialogInterface dialog, int whichButton) {
+	                            // just close the dialog
+
+	                        }
+	                    });
+	                  dialogBuilder.setCancelable(true);
+	                 dialogBuilder.create().show();
+            	}
+            	else{           	
+            		//store the login data
+            		WordPressDB settingsDB = new WordPressDB(viewStats.this);
+            		settingsDB.saveStatsLogin(viewStats.this, id, dcUsername, dcPassword);
+            		showOrHideLoginForm();
+            		initStats();  //start over again now that we have the login
+            	}
+            }
+        });
+        
+Button go = (Button) findViewById(R.id.go);   
+        
+        go.setOnClickListener(new Button.OnClickListener() {
+            public void onClick(View v) {
+            	 
+            	Spinner reportType = (Spinner) findViewById(R.id.reportType);
+            	Spinner reportInterval = (Spinner) findViewById(R.id.reportInterval);
+            
+            	final String type = parseType(reportType.getSelectedItemPosition());
+            	final int interval = parseInterval(reportInterval.getSelectedItemPosition());
+            	
+            	WordPressDB settingsDB = new WordPressDB(viewStats.this);
+            	Vector apiData = settingsDB.loadAPIData(viewStats.this, id);
+            	
+            	final String apiKey = apiData.get(0).toString();
+            	final String apiBlogID = apiData.get(1).toString();
+            	showDialog(ID_DIALOG_GET_STATS);
+            	Thread action = new Thread() 
+				{ 
+				  public void run() 
+				  {
+					  getStatsData(apiKey, apiBlogID, type, interval);
+				  } 
+				}; 
+				action.start();
+            	
+            	
+            }
+        });
+		
+	}
+	
+	protected int parseInterval(int position) {
+		// TODO Auto-generated method stub
+		int interval = 0;
+		switch (position){
+    	
+    	case 0:
+    		interval = 7;
+    		break;
+    	case 1:
+    		interval = 30;
+    		break;
+    	case 2:
+    		interval = 90;
+    		break;
+    	case 3:
+    		interval = 365;
+    		break;
+    	case 4:
+    		interval = -1;
+    		break;
+    	};
+		
+		return interval;
+	}
+
+	protected String parseType(int position) {
+		// TODO Auto-generated method stub
+		String type = "";
+		switch (position){
+    	
+    	case 0:
+    		type = "views";
+    		break;
+    	case 1:
+    		type = "postviews";
+    		break;
+    	case 2:
+    		type = "referrers";
+    		break;
+    	case 3:
+    		type = "searchterms";
+    		break;
+    	case 4:
+    		type = "clicks";
+    		break;
+    	case 5: 
+    		type = "videoplays";
+    		break;
+    	};
+		
+		return type;
+	}
+
+	private void initStats() {
+		
+		WordPressDB settingsDB = new WordPressDB(this);
+		Vector settings = settingsDB.loadSettings(this, id);
+		final Vector statsData = settingsDB.loadAPIData(this, id);
+		
+		if (statsData == null){
+			String sUsername = "";
+			String sPassword = "";
+			Vector apiLogin = settingsDB.loadStatsLogin(this, id);
+			if (apiLogin != null){
+				//we have an alternate login, use that instead
+				sUsername = apiLogin.get(0).toString();
+				sPassword = apiLogin.get(1).toString();
+			}
+			else{
+				sUsername = settings.get(2).toString();
+				sPassword = settings.get(3).toString();
+			}
+			
+			//no apiKey found in db, go get it
+			String sURL = "";
+	    	if (settings.get(0).toString().contains("xmlrpc.php"))
+	    	{
+	    		sURL = settings.get(0).toString().replace("xmlrpc.php", "");
+	    	}
+	  
+	    	if (!sURL.endsWith("/")){
+	    		sURL += "/";
+	    	}
+	    	
+	    	sURL = sURL.replace("https://", "http://");
+	    	
+			String blogID = settings.get(10).toString();
+	        showProgressBar();
+			new statsUserDataTask().execute(sUsername, sPassword, sURL, blogID);
+		}
+		else{
+			//apiKey found, load default views chart and table
+			showDialog(ID_DIALOG_GET_STATS);
+        	Thread action = new Thread() 
+			{ 
+			  public void run() 
+			  {
+				  getStatsData(statsData.get(0).toString(), statsData.get(1).toString(), "views", 7);
+			  } 
+			}; 
+			action.start();
+			
+		}
+		
+	}
+
+	private void getStatsData(String apiKey, String blogID, final String reportType, int interval) {
+		Vector apiInfo = null;
+		String DATE_FORMAT = "yyyy-MM-dd";
+	    SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);
+	    Calendar c1 = Calendar.getInstance(); // today
+	    String uriString = "http://stats.wordpress.com/csv.php" + "?api_key=" + apiKey + "&blog_id=" + blogID + "&format=xml&table=" 
+		+ reportType + "&end=" + sdf.format(c1.getTime()) + "&days=" + interval + "&limit=-1";
+	    if (!reportType.equals("views")){
+			uriString += "&summarize";
+		}
+		URI uri = URI.create(uriString);
+		
+		configureClient(uri, null, null);
+		
+		// execute HTTP POST request
+		try {
+			HttpResponse response;
+				response = client.execute(postMethod);
+				Log.i("WordPress", "response = " + response.getStatusLine());
+				/*ByteArrayOutputStream outstream = new ByteArrayOutputStream();
+				response.getEntity().writeTo(outstream);
+				String text = outstream.toString();
+				Log.i("WordPress", text);*/
+			
+			// setup pull parser
+
+				XmlPullParser pullParser = XmlPullParserFactory.newInstance().newPullParser();
+				HttpEntity entity = response.getEntity();
+				//change to pushbackinput stream 1/18/2010 to handle self installed wp sites that insert the BOM
+
+				PushbackInputStream is = new PushbackInputStream(entity.getContent());
+				
+				
+				//get rid of junk characters before xml response.  60 = '<'.  Added stopper to prevent infinite loop
+				int bomCheck = is.read();
+				int stopper = 0;
+				while (bomCheck != 60 && stopper < 20){
+					bomCheck = is.read();
+					stopper++;
+				}
+				is.unread(bomCheck);
+				
+				pullParser.setInput(is, "UTF-8");
+				
+				int eventType = pullParser.getEventType();
+				HashMap statsData = new HashMap();
+				 boolean foundRoot = false;
+				 boolean foundDataItem = false;
+				 final Vector dataSet = new Vector();
+				 final Vector numDataSet = new Vector();
+				 String curCol1 = "";
+				 int rowCount = 0;
+				 //parse the xml response
+				 //most replies follow the same xml structure, so the data is stored in a vector for display after parsing
+		         while (eventType != XmlPullParser.END_DOCUMENT) {
+		          if(eventType == XmlPullParser.START_DOCUMENT) {
+		              System.out.println("Start document");
+		          } else if(eventType == XmlPullParser.END_DOCUMENT) {
+		              System.out.println("End document");
+		          } else if(eventType == XmlPullParser.START_TAG) {
+		        	  String name = pullParser.getName();
+		              if (name.equals("views") || name.equals("postviews") || name.equals("referrers") || name.equals("clicks") 
+		            		  || name.equals("searchterms") || name.equals("videoplays")){
+		            	  foundRoot = true;
+		              }
+		              else if (pullParser.getName().equals("total")){
+		            	  //that'll do, pig. that'll do.
+		            	  break;
+		              }
+		              else{
+		            	  foundDataItem = true;
+		            	  //loop through the attributes, add them to the hashmap
+		            	  HashMap dataRow = new HashMap();
+		            	  for (int i=0; i<pullParser.getAttributeCount();i++){
+		            		  dataRow.put(pullParser.getAttributeName(i).toString(), pullParser.getAttributeValue(i).toString());
+		            	  }
+		            	  if (dataRow != null){
+		            		  dataSet.add(rowCount, dataRow);
+		            	  }
+		              }
+
+		          } else if(eventType == XmlPullParser.END_TAG) {
+		              System.out.println("End tag "+pullParser.getName());
+		          } else if(eventType == XmlPullParser.TEXT) {
+		              if (foundDataItem){
+		            	  String temp = pullParser.getText();
+		            	  numDataSet.add(rowCount, Integer.parseInt(pullParser.getText().toString()));
+		            	  rowCount++;
+		            	  foundDataItem = false;
+		              }
+		          }
+		          eventType = pullParser.next();
+		         }
+		         
+				 if (dataSet.size() > 0){
+					 //only continue if we received data from the api
+				 
+					 //ui thread
+					 Thread uiThread = new Thread() 
+						{ 
+						  public void run() 
+						  {
+							  
+					    RelativeLayout filters = (RelativeLayout) findViewById(R.id.filters);
+						filters.setVisibility(View.VISIBLE);
+							
+						TextView reportTitle = (TextView) findViewById(R.id.chartTitle);
+						reportTitle.setVisibility(View.VISIBLE);
+						ImageView iv = (ImageView) findViewById(R.id.chart);
+				 if (reportType.equals("views")){
+					 iv.setVisibility(View.VISIBLE);
+					 reportTitle.setText(getResources().getText(R.string.report_views));
+					 String dataValues = "", dateStrings = "";
+			         Object[] key = numDataSet.toArray();
+			         Arrays.sort(key);
+
+			         //also adding data to table for display here
+						TableLayout tl = (TableLayout) findViewById(R.id.dataTable);
+						//clear out all existing rows
+						tl.removeAllViews();
+						
+						//add header row
+						LayoutInflater inflater = getLayoutInflater();
+			            TableRow table_row = (TableRow) inflater.inflate(R.layout.table_row_header, tl, false);
+			            
+	                    //Create a Button to be the row-content. 
+	                    TextView col_1 = (TextView)table_row.findViewById(R.id.col1);
+	                    col_1.setText("Date");
+	                    col_1.setTypeface(Typeface.DEFAULT_BOLD);
+	                    
+	                    TextView col_2 = (TextView)table_row.findViewById(R.id.col2);
+	                    col_2.setText("Views");
+	                    col_2.setTypeface(Typeface.DEFAULT_BOLD);
+	                    //Add row to TableLayout.
+	                    tl.addView(table_row);
+			         
+						HashMap row;
+			         for   (int   i   =   0;   i   <   dataSet.size();   i++)   { 
+			                 row = (HashMap) dataSet.get(i);
+			                 String date = row.get("date").toString();
+			                 String value = numDataSet.get(i).toString();
+			                 dateStrings += date + ",";
+			                 dataValues += value + ",";
+
+						//table display work
+						
+						// Create a new row to be added.
+				            TableRow tr = (TableRow) inflater.inflate(R.layout.table_row, tl, false);
+				            
+			                    //Create a Button to be the row-content. 
+			                    TextView col1 = (TextView)tr.findViewById(R.id.col1);
+			                   col1.setText(date);
+			                    
+			                    TextView col2 = (TextView)tr.findViewById(R.id.col2);
+				                   col2.setText(value);
+				                   
+				                   if (i % 2 == 0){
+				                	   //different background color for alternating rows
+				                	   col1.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+				                	   col2.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+				                   }
+			          //Add row to TableLayout.
+			          tl.addView(tr);
+			         }
+			         
+			         int maxValue = Integer.parseInt(key[key.length - 1].toString());
+			         int minValue = Integer.parseInt(key[0].toString());
+			         
+			         dataValues = dataValues.substring(0, dataValues.length() - 1);
+			         dateStrings = dateStrings.substring(0, dateStrings.length() - 1);
+			         
+			         String[] dateArray = dateStrings.split(",");
+			         
+			         long minBuffer = Math.round(minValue - (maxValue *.10));
+			         if (minBuffer < 0){
+			        	 minBuffer = 0;
+			         }
+			         long maxBuffer = Math.round(maxValue + (maxValue *.10));
+			         //round to the lowest 10 for prettier charts
+			         for(int i = 0; i < 9; i++) {
+			        	 if(minBuffer % 10 == 0)
+			        	 break;
+			        	 else{
+			        	 minBuffer--;
+			        	 }
+			        	 }
+			         
+			         for(int i = 0; i < 9; i++) {
+			        	 if(maxBuffer % 10 == 0)
+			        	 break;
+			        	 else{
+			        	 maxBuffer++;
+			        	 }
+			        	 }
+			         
+			         long yInterval = maxBuffer / 10;
+			         //round the gap in y axis of the chart
+			         for(int i = 0; i < 9; i++) {
+			        	 if(yInterval % 10 == 0)
+			        	 break;
+			        	 else{
+			        	 yInterval++;
+			        	 }
+			        	 }
+			         
+			         //calculate the grid spacing variables
+			         float xGrid = 100.00f / 6;
+			         long numRows = (maxBuffer - minBuffer) / yInterval;
+			         float yGrid = 100.00f / numRows;
+
+			    	 final String chartViewURL = "http://chart.apis.google.com/chart?chts=464646,20&cht=lc&chd=t:"+ dataValues + "&chs=480x360&chl=" + dateArray[0].toString() + "|" + dateArray[dateArray.length - 1].toString() + "&chxt=y" + 
+			    	 "&chds=" + minBuffer + "," + maxBuffer + "&chxr=0," + minBuffer + "," + maxBuffer + "," + yInterval + 
+			    	 "&chf=c,lg,90,E2E2E2,0,FEFEFE,0.5&chm=o,14568A,0,-1,10.0&chco=14568A&chls=4&chg=" + xGrid + "," + yGrid;
+			    	 
+			    	 Log.i("WordPress", chartViewURL);
+						
+
+							  try {
+								URL url = new URL(chartViewURL); 
+								    URLConnection conn = url.openConnection(); 
+								    conn.connect(); 
+								    InputStream is = conn.getInputStream(); 
+								    BufferedInputStream bis = new BufferedInputStream(is); 
+								    Bitmap bm = BitmapFactory.decodeStream(bis); 
+								    bis.close(); 
+								    is.close();
+								    iv.setImageBitmap(bm);
+							} catch (MalformedURLException e) {
+								// TODO Auto-generated catch block
+								e.printStackTrace();
+							} catch (IOException e) {
+								// TODO Auto-generated catch block
+								e.printStackTrace();
+							}				  
+	
+				 
+				 }
+				 else if (reportType.equals("postviews")){
+					 reportTitle.setText(getResources().getText(R.string.report_postviews));
+					 iv.setVisibility(View.GONE);
+					 
+			         Object[] key = numDataSet.toArray();
+			         Arrays.sort(key);
+
+			         //also adding data to table for display here
+						TableLayout tl = (TableLayout) findViewById(R.id.dataTable);
+						//clear out all existing rows
+						tl.removeAllViews();
+						
+						//add header row
+						LayoutInflater inflater = getLayoutInflater();
+			            TableRow table_row = (TableRow) inflater.inflate(R.layout.table_row, tl, false);
+			            
+	                    //Create a Button to be the row-content. 
+	                    TextView col_1 = (TextView)table_row.findViewById(R.id.col1);
+	                    col_1.setText("Post Title");
+	                    col_1.setTypeface(Typeface.DEFAULT_BOLD);
+	                    
+	                    TextView col_2 = (TextView)table_row.findViewById(R.id.col2);
+	                    col_2.setText("Views");
+	                    col_2.setTypeface(Typeface.DEFAULT_BOLD);
+	                    //Add row to TableLayout.
+	                    tl.addView(table_row);
+			         
+						HashMap row;
+			         for   (int   i   =   0;   i   <   dataSet.size();   i++)   { 
+			                 row = (HashMap) dataSet.get(i);
+			                 String date = row.get("title").toString();
+			                 String value = numDataSet.get(i).toString();
+	
+
+						//table display work
+						
+						// Create a new row to be added.
+				            TableRow tr = (TableRow) inflater.inflate(R.layout.table_row, tl, false);
+				            
+			                    //Create a Button to be the row-content. 
+			                    TextView col1 = (TextView)tr.findViewById(R.id.col1);
+			                   col1.setText(date);
+			                    
+			                    TextView col2 = (TextView)tr.findViewById(R.id.col2);
+				                   col2.setText(value);
+				                   
+				                   if (i % 2 == 0){
+				                	   //different background color for alternating rows
+				                	   col1.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+				                	   col2.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+				                   }
+			          //Add row to TableLayout.
+			          tl.addView(tr);
+			         }			  
+
+				 }
+				 else if (reportType.equals("referrers") || reportType.equals("searchterms")){
+					 iv.setVisibility(View.GONE);
+					 
+			         Object[] key = numDataSet.toArray();
+			         Arrays.sort(key);
+
+			         //also adding data to table for display here
+						TableLayout tl = (TableLayout) findViewById(R.id.dataTable);
+						//clear out all existing rows
+						tl.removeAllViews();
+						
+						//add header row
+						LayoutInflater inflater = getLayoutInflater();
+			            TableRow table_row = (TableRow) inflater.inflate(R.layout.table_row, tl, false);
+			            
+	                    //Create a Button to be the row-content. 
+	                    TextView col_1 = (TextView)table_row.findViewById(R.id.col1);
+	                    if (reportType.equals("referrers")){
+	                    	col_1.setText("Referrer");
+	                    	reportTitle.setText(getResources().getText(R.string.report_referrers));
+	                    }
+	                    else{
+	                    	reportTitle.setText(getResources().getText(R.string.report_searchterms));
+	                    	col_1.setText("Views");
+	                    }
+	                    col_1.setTypeface(Typeface.DEFAULT_BOLD);
+	                    
+	                    TextView col_2 = (TextView)table_row.findViewById(R.id.col2);
+	                    col_2.setText("Views");
+	                    col_2.setTypeface(Typeface.DEFAULT_BOLD);
+	                    //Add row to TableLayout.
+	                    tl.addView(table_row);
+			         
+						HashMap row;
+			         for   (int   i   =   0;   i   <   dataSet.size();   i++)   { 
+			                 row = (HashMap) dataSet.get(i);
+			                 String date = row.get("value").toString();
+			                 String value = numDataSet.get(i).toString();
+	
+
+						//table display work
+						
+						// Create a new row to be added.
+				            TableRow tr = (TableRow) inflater.inflate(R.layout.table_row, tl, false);
+				            
+		                    //Create a Button to be the row-content. 
+		                    TextView col1 = (TextView)tr.findViewById(R.id.col1);
+		                   col1.setText(date);
+		                   Linkify.addLinks(col1, Linkify.WEB_URLS);
+		                    
+		                    TextView col2 = (TextView)tr.findViewById(R.id.col2);
+			                col2.setText(value);
+			                   
+		                   if (i % 2 == 0){
+		                	   //different background color for alternating rows
+		                	   col1.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+		                	   col2.setBackgroundColor(Color.parseColor("#FFE6F0FF"));
+		                   }
+		                   //Add row to TableLayout.
+		                   tl.addView(tr);
+			         }			  
+	
+				 }
+				 
+				 dismissDialog(ID_DIALOG_GET_STATS);
+						  }
+						  }; 
+						this.runOnUiThread(uiThread);
+				 
+				 }
+				 else{
+					 Thread alertDialog = new Thread() 
+						{ 
+						  public void run() 
+						  {
+							  dismissDialog(ID_DIALOG_GET_STATS); 
+							  RelativeLayout filters = (RelativeLayout) findViewById(R.id.filters);
+							  filters.setVisibility(View.VISIBLE);
+							  AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(viewStats.this);
+			      			  dialogBuilder.setTitle(getResources().getText(R.string.error));
+			                  dialogBuilder.setMessage("No data was found, please try again.");
+			                  dialogBuilder.setPositiveButton("OK",  new
+			                		  DialogInterface.OnClickListener() {
+			                        public void onClick(DialogInterface dialog, int whichButton) {
+			                            // just close the dialog
+		
+			                        }
+			                    });
+			                  dialogBuilder.setCancelable(true);
+			                  dialogBuilder.create().show();
+				 	}
+		  			}; 
+		  			this.runOnUiThread(alertDialog);
+				 }
+
+		} catch (ClientProtocolException e) {
+			dismissDialog(ID_DIALOG_GET_STATS);
+		} catch (IllegalStateException e) {
+			dismissDialog(ID_DIALOG_GET_STATS);
+		} catch (IOException e) {
+			dismissDialog(ID_DIALOG_GET_STATS);
+		} catch (XmlPullParserException e) {
+			dismissDialog(ID_DIALOG_GET_STATS);
+		}
+	
+		
+	}
+
+	private Vector getAPIInfo(String username, String password, String url, String storedBlogID) {
+		
+		Vector apiInfo = null;
+		URI uri = URI.create("https://public-api.wordpress.com/getuserblogs.php");
+		
+		configureClient(uri, username, password);
+		
+		// execute HTTP POST request
+		HttpResponse response;
+		try {
+			response = client.execute(postMethod);
+			Log.i("WordPress", "response = " + response.getStatusLine());
+			/*ByteArrayOutputStream outstream = new ByteArrayOutputStream();
+			response.getEntity().writeTo(outstream);
+			String text = outstream.toString();
+			Log.i("WordPress", text);*/
+		
+		// setup pull parser
+		try {
+			XmlPullParser pullParser = XmlPullParserFactory.newInstance().newPullParser();
+			HttpEntity entity = response.getEntity();
+			//change to pushbackinput stream 1/18/2010 to handle self installed wp sites that insert the BOM
+			PushbackInputStream is = new PushbackInputStream(entity.getContent());
+			
+			//get rid of junk characters before xml response.  60 = '<'.  Added stopper to prevent infinite loop
+			int bomCheck = is.read();
+			int stopper = 0;
+			while (bomCheck != 60 && stopper < 20){
+				bomCheck = is.read();
+				stopper++;
+			}
+			is.unread(bomCheck);
+			
+			pullParser.setInput(is, "UTF-8");
+			
+			 int eventType = pullParser.getEventType();
+			 String apiKey = "";
+			 String blogID = "";
+			 boolean foundKey = false;
+			 boolean foundID = false;
+			 boolean foundURL = false;
+			 String curBlogID = "";
+			 String curBlogURL = "";
+	         while (eventType != XmlPullParser.END_DOCUMENT) {
+	          if(eventType == XmlPullParser.START_DOCUMENT) {
+	              System.out.println("Start document");
+	          } else if(eventType == XmlPullParser.END_DOCUMENT) {
+	              System.out.println("End document");
+	          } else if(eventType == XmlPullParser.START_TAG) {
+	        	  String test = pullParser.getName();
+	              if (pullParser.getName().equals("apikey")){
+	            	  foundKey = true;
+	              }
+	              else if (pullParser.getName().equals("id")){
+	            	  foundID = true;
+	              }
+	              else if (pullParser.getName().equals("url")){
+	            	  foundURL = true;
+	              }
+	          } else if(eventType == XmlPullParser.END_TAG) {
+	              System.out.println("End tag "+pullParser.getName());
+	          } else if(eventType == XmlPullParser.TEXT) {
+	        	  System.out.println("Text "+pullParser.getText().toString());
+	              if (foundKey){
+	            	  apiKey = pullParser.getText();
+	            	  foundKey = false;
+	              }
+	              else if (foundID){
+	            	  curBlogID = pullParser.getText();
+	            	  foundID = false;
+	              }
+	              else if (foundURL){
+	            	  curBlogURL = pullParser.getText();
+	            	  foundURL = false;
+	            	  if (curBlogURL.equals(url) || storedBlogID.equals(curBlogID)){
+	            		  //yay, found a match
+	            		  blogID = curBlogID;
+	            		  apiInfo = new Vector();
+	            		  apiInfo.add(apiKey);
+	            		  apiInfo.add(blogID);
+	            		  return apiInfo;
+	            	  }
+	            	  
+	              }
+	          }
+	          eventType = pullParser.next();
+	         }
+	
+		} catch (XmlPullParserException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+		
+		} catch (ClientProtocolException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		} catch (IOException e) {
+			// TODO Auto-generated catch block
+			e.printStackTrace();
+		}
+
+		return apiInfo;
+	}
+	
+	private void configureClient(URI uri, String username, String password) {
+		postMethod = new HttpPost(uri);
+		//postMethod.addHeader("Content-Type", "text/xml");
+		
+		postMethod.addHeader("charset", "UTF-8");
+		//UPDATE THE VERSION NUMBER BEFORE RELEASE! <3 Dan
+		postMethod.addHeader("User-Agent", "wp-android/1.2");
+		
+		httpParams = postMethod.getParams();
+		HttpProtocolParams.setUseExpectContinue(httpParams, false);
+		UsernamePasswordCredentials creds;
+		//username & password for basic http auth
+		if (username != null){
+			 creds = new UsernamePasswordCredentials(username, password);
+		}
+		else{
+			creds = new UsernamePasswordCredentials("", "");
+		}
+		
+		//this gets connections working over https
+		if (uri.getScheme() != null){
+			if(uri.getScheme().equals("https")) { 
+				if(uri.getPort() == -1)
+					try {
+						client = new ConnectionClient(creds, 443);
+					} catch (KeyManagementException e) {
+						client = new ConnectionClient(creds); 
+					} catch (NoSuchAlgorithmException e) {
+						client = new ConnectionClient(creds); 
+					} catch (KeyStoreException e) {
+						client = new ConnectionClient(creds); 
+					} catch (UnrecoverableKeyException e) {
+						client = new ConnectionClient(creds); 
+					}
+					else
+						try {
+							client = new ConnectionClient(creds, uri.getPort());
+						} catch (KeyManagementException e) {
+							client = new ConnectionClient(creds); 
+						} catch (NoSuchAlgorithmException e) {
+							client = new ConnectionClient(creds); 
+						} catch (KeyStoreException e) {
+							client = new ConnectionClient(creds); 
+						} catch (UnrecoverableKeyException e) {
+							client = new ConnectionClient(creds); 
+						} 
+			} 
+			else {
+				client = new ConnectionClient(creds); 
+			}
+		}
+		else{
+			client = new ConnectionClient(creds);
+		}
+		
+	}
+	
+	private class statsUserDataTask extends AsyncTask<String, Void, Vector> {
+
+	     protected void onProgressUpdate() {
+	     }
+
+	     protected void onPostExecute(Vector result) {
+	    	 closeProgressBar();
+    		 WordPressDB settingsDB = new WordPressDB(viewStats.this);
+	    	 if (result != null){
+	    		 //user's original login data worked
+	    		 //store the api key and blog id
+	    		 final String apiKey = result.get(0).toString();
+	    		 final String apiBlogID = result.get(1).toString();
+	    		 settingsDB.saveAPIData(viewStats.this, id, apiKey, apiBlogID);
+	    		 showDialog(ID_DIALOG_GET_STATS);
+	            	Thread action = new Thread() 
+					{ 
+					  public void run() 
+					  {
+						  getStatsData(apiKey, apiBlogID, "views", 7);
+					  } 
+					}; 
+					action.start();
+	    		 
+	    	 }
+	    	 else{
+	    		 //we need to use the other login info for stats
+	    		 Vector dotcomLogin = settingsDB.loadStatsLogin(viewStats.this, id);
+	    		 if (dotcomLogin  == null){
+	    			 //prompt for the username and password
+	    			 showOrHideLoginForm();	 
+	    		 }
+	    	 }
+	     }
+	     @Override
+		protected Vector doInBackground(String... args) {
+	    	 	
+	    	Vector apiInfo = getAPIInfo(args[0], args[1], args[2], args[3]);
+
+	 		return apiInfo;
+
+		}
+
+	 }
+	
+	private class getStatsDataTask extends AsyncTask<String, Void, Vector> {
+
+	     protected void onProgressUpdate() {
+	     }
+
+	     protected void onPostExecute(Vector result) {
+	    	 closeProgressBar();
+   		 WordPressDB settingsDB = new WordPressDB(viewStats.this);
+	    	 if (result != null){
+	    		 //user's original login data worked
+	    		 //store the api key and blog id
+	    		 String apiKey = result.get(0).toString();
+	    		 String apiBlogID = result.get(1).toString();
+	    		 settingsDB.saveAPIData(viewStats.this, id, apiKey, apiBlogID);
+	    		 //getStatsData(apiKey, apiBlogID, "views", 7);
+	    	 }
+	    	 else{
+	    		 //we need to use the other login info for stats
+	    		 Vector dotcomLogin = settingsDB.loadStatsLogin(viewStats.this, id);
+	    		 if (dotcomLogin  == null){
+	    			 //prompt for the username and password
+	    			 showOrHideLoginForm();	 
+	    		 }
+	    		 else{
+	    			 //try with the stored login details
+	    			 //getStatsData(apiKey, apiBlogID, "views", 7);
+	    		 }
+	    	 }
+	     }
+	     @Override
+		protected Vector doInBackground(String... args) {
+	    	 	
+	    	Vector apiInfo = getAPIInfo(args[0], args[1], args[2], args[3]);
+
+	 		return apiInfo;
+
+		}
+
+	 }
+
+	public void showOrHideLoginForm() {
+		AnimationSet set = new AnimationSet(true);
+		if (loginShowing){
+			loginShowing = !loginShowing;
+
+	        Animation animation = new AlphaAnimation(1.0f, 0.0f);
+	        animation.setDuration(500);
+	        set.addAnimation(animation);
+
+	        animation = new TranslateAnimation(
+	            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+	            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 1.0f
+	        );
+	        animation.setDuration(500);
+	        set.addAnimation(animation);
+	;
+	        RelativeLayout moderationBar = (RelativeLayout) findViewById(R.id.dotcomLogin);       
+	        moderationBar.clearAnimation();
+	        moderationBar.startAnimation(set);
+	        moderationBar.setVisibility(View.INVISIBLE);
+		}
+		else{
+			loginShowing = !loginShowing;
+
+	        Animation animation = new AlphaAnimation(0.0f, 1.0f);
+	        animation.setDuration(500);
+	        set.addAnimation(animation);
+
+	        animation = new TranslateAnimation(
+	            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+	            Animation.RELATIVE_TO_SELF, 1.0f,Animation.RELATIVE_TO_SELF, 0.0f
+	        );
+	        animation.setDuration(500);
+	        set.addAnimation(animation);
+
+	        RelativeLayout moderationBar = (RelativeLayout) findViewById(R.id.dotcomLogin);       
+	        moderationBar.setVisibility(View.VISIBLE);
+	        moderationBar.startAnimation(set);
+		}
+		
+	}
+	
+	public void showProgressBar() {
+		AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(0.0f, 1.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+            Animation.RELATIVE_TO_SELF, -1.0f,Animation.RELATIVE_TO_SELF, 0.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        LayoutAnimationController controller =
+                new LayoutAnimationController(set, 0.5f);
+        RelativeLayout loading = (RelativeLayout) findViewById(R.id.loading);       
+        loading.setVisibility(View.VISIBLE);
+        loading.setLayoutAnimation(controller);
+	}
+
+	public void closeProgressBar() {
+
+        AnimationSet set = new AnimationSet(true);
+
+        Animation animation = new AlphaAnimation(1.0f, 0.0f);
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        animation = new TranslateAnimation(
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, 0.0f,
+            Animation.RELATIVE_TO_SELF, 0.0f,Animation.RELATIVE_TO_SELF, -1.0f
+        );
+        animation.setDuration(500);
+        set.addAnimation(animation);
+
+        LayoutAnimationController controller =
+                new LayoutAnimationController(set, 0.5f);
+        RelativeLayout loading = (RelativeLayout) findViewById(R.id.loading);       
+        
+        loading.startAnimation(set);
+        loading.setVisibility(View.INVISIBLE);
+	}
+	
+	@Override
+	protected Dialog onCreateDialog(int id) {
+	if (id == ID_DIALOG_GET_STATS){
+		loadingDialog = new ProgressDialog(this);
+		loadingDialog.setTitle("Retrieving Stats");
+		loadingDialog.setMessage("Attempting to retrieve stats");
+		loadingDialog.setCancelable(true);
+		loadingDialog.setIndeterminate(true);
+		return loadingDialog;
+		}
+
+	return super.onCreateDialog(id);
+	}
+	
+}
\ No newline at end of file
