diff --git a/res/color/media_grid_item_checkstate_text_selector.xml b/res/color/media_grid_item_checkstate_text_selector.xml
new file mode 100644
index 000000000000..e0ff141f7229
--- /dev/null
+++ b/res/color/media_grid_item_checkstate_text_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <item android:color="@color/media_gallery_option_default" android:state_checked="true"/>
+    <item android:color="@color/media_gallery_option_default" android:state_pressed="true"/>
+    <item android:color="@color/media_gallery_option_selected"/>
+
+</selector> 
\ No newline at end of file
diff --git a/res/drawable-hdpi/gallery_checkbox_empty.png b/res/drawable-hdpi/gallery_checkbox_empty.png
new file mode 100644
index 000000000000..984b21b18705
Binary files /dev/null and b/res/drawable-hdpi/gallery_checkbox_empty.png differ
diff --git a/res/drawable-hdpi/gallery_checkbox_filled.png b/res/drawable-hdpi/gallery_checkbox_filled.png
new file mode 100644
index 000000000000..48ccf10d8a38
Binary files /dev/null and b/res/drawable-hdpi/gallery_checkbox_filled.png differ
diff --git a/res/drawable-hdpi/gallery_icon_circles.png b/res/drawable-hdpi/gallery_icon_circles.png
new file mode 100644
index 000000000000..4cc4ac4b2092
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_circles.png differ
diff --git a/res/drawable-hdpi/gallery_icon_circles_selected.png b/res/drawable-hdpi/gallery_icon_circles_selected.png
new file mode 100644
index 000000000000..50b4f1e0153e
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_circles_selected.png differ
diff --git a/res/drawable-hdpi/gallery_icon_slideshow.png b/res/drawable-hdpi/gallery_icon_slideshow.png
new file mode 100644
index 000000000000..43ed49e9faff
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_slideshow.png differ
diff --git a/res/drawable-hdpi/gallery_icon_slideshow_selected.png b/res/drawable-hdpi/gallery_icon_slideshow_selected.png
new file mode 100644
index 000000000000..654c427db9b7
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_slideshow_selected.png differ
diff --git a/res/drawable-hdpi/gallery_icon_squares.png b/res/drawable-hdpi/gallery_icon_squares.png
new file mode 100644
index 000000000000..b772930f318f
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_squares.png differ
diff --git a/res/drawable-hdpi/gallery_icon_squares_selected.png b/res/drawable-hdpi/gallery_icon_squares_selected.png
new file mode 100644
index 000000000000..1a10d319d695
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_squares_selected.png differ
diff --git a/res/drawable-hdpi/gallery_icon_thumbnailgrid.png b/res/drawable-hdpi/gallery_icon_thumbnailgrid.png
new file mode 100644
index 000000000000..8b196bd02153
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_thumbnailgrid.png differ
diff --git a/res/drawable-hdpi/gallery_icon_thumbnailgrid_selected.png b/res/drawable-hdpi/gallery_icon_thumbnailgrid_selected.png
new file mode 100644
index 000000000000..422f26c0b4f8
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_thumbnailgrid_selected.png differ
diff --git a/res/drawable-hdpi/gallery_icon_tiled.png b/res/drawable-hdpi/gallery_icon_tiled.png
new file mode 100644
index 000000000000..97ebc61b14f9
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_tiled.png differ
diff --git a/res/drawable-hdpi/gallery_icon_tiled_selected.png b/res/drawable-hdpi/gallery_icon_tiled_selected.png
new file mode 100644
index 000000000000..f0e68ba11e81
Binary files /dev/null and b/res/drawable-hdpi/gallery_icon_tiled_selected.png differ
diff --git a/res/drawable-ldpi/gallery_checkbox_empty.png b/res/drawable-ldpi/gallery_checkbox_empty.png
new file mode 100644
index 000000000000..f05ea55da3ca
Binary files /dev/null and b/res/drawable-ldpi/gallery_checkbox_empty.png differ
diff --git a/res/drawable-ldpi/gallery_checkbox_filled.png b/res/drawable-ldpi/gallery_checkbox_filled.png
new file mode 100644
index 000000000000..d5b31f556450
Binary files /dev/null and b/res/drawable-ldpi/gallery_checkbox_filled.png differ
diff --git a/res/drawable-ldpi/gallery_icon_circles.png b/res/drawable-ldpi/gallery_icon_circles.png
new file mode 100644
index 000000000000..88a157558638
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_circles.png differ
diff --git a/res/drawable-ldpi/gallery_icon_circles_selected.png b/res/drawable-ldpi/gallery_icon_circles_selected.png
new file mode 100644
index 000000000000..bfbfaf1b3526
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_circles_selected.png differ
diff --git a/res/drawable-ldpi/gallery_icon_slideshow.png b/res/drawable-ldpi/gallery_icon_slideshow.png
new file mode 100644
index 000000000000..b9e1fa5baed7
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_slideshow.png differ
diff --git a/res/drawable-ldpi/gallery_icon_slideshow_selected.png b/res/drawable-ldpi/gallery_icon_slideshow_selected.png
new file mode 100644
index 000000000000..51c80e359139
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_slideshow_selected.png differ
diff --git a/res/drawable-ldpi/gallery_icon_squares.png b/res/drawable-ldpi/gallery_icon_squares.png
new file mode 100644
index 000000000000..963d4fd10633
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_squares.png differ
diff --git a/res/drawable-ldpi/gallery_icon_squares_selected.png b/res/drawable-ldpi/gallery_icon_squares_selected.png
new file mode 100644
index 000000000000..8abb57a6bfa9
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_squares_selected.png differ
diff --git a/res/drawable-ldpi/gallery_icon_thumbnailgrid.png b/res/drawable-ldpi/gallery_icon_thumbnailgrid.png
new file mode 100644
index 000000000000..faeb09c9cb14
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_thumbnailgrid.png differ
diff --git a/res/drawable-ldpi/gallery_icon_thumbnailgrid_selected.png b/res/drawable-ldpi/gallery_icon_thumbnailgrid_selected.png
new file mode 100644
index 000000000000..87dfb19cb9ba
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_thumbnailgrid_selected.png differ
diff --git a/res/drawable-ldpi/gallery_icon_tiled.png b/res/drawable-ldpi/gallery_icon_tiled.png
new file mode 100644
index 000000000000..8f287f275fdf
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_tiled.png differ
diff --git a/res/drawable-ldpi/gallery_icon_tiled_selected.png b/res/drawable-ldpi/gallery_icon_tiled_selected.png
new file mode 100644
index 000000000000..0f2c866f67d6
Binary files /dev/null and b/res/drawable-ldpi/gallery_icon_tiled_selected.png differ
diff --git a/res/drawable-mdpi/gallery_checkbox_empty.png b/res/drawable-mdpi/gallery_checkbox_empty.png
new file mode 100644
index 000000000000..b5aa9ebd0b38
Binary files /dev/null and b/res/drawable-mdpi/gallery_checkbox_empty.png differ
diff --git a/res/drawable-mdpi/gallery_checkbox_filled.png b/res/drawable-mdpi/gallery_checkbox_filled.png
new file mode 100644
index 000000000000..393e4ff2c9f4
Binary files /dev/null and b/res/drawable-mdpi/gallery_checkbox_filled.png differ
diff --git a/res/drawable-mdpi/gallery_icon_circles.png b/res/drawable-mdpi/gallery_icon_circles.png
new file mode 100644
index 000000000000..bdb0e790ef4a
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_circles.png differ
diff --git a/res/drawable-mdpi/gallery_icon_circles_selected.png b/res/drawable-mdpi/gallery_icon_circles_selected.png
new file mode 100644
index 000000000000..93eef4b2e6df
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_circles_selected.png differ
diff --git a/res/drawable-mdpi/gallery_icon_slideshow.png b/res/drawable-mdpi/gallery_icon_slideshow.png
new file mode 100644
index 000000000000..cb659d019085
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_slideshow.png differ
diff --git a/res/drawable-mdpi/gallery_icon_slideshow_selected.png b/res/drawable-mdpi/gallery_icon_slideshow_selected.png
new file mode 100644
index 000000000000..b2c432c6775f
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_slideshow_selected.png differ
diff --git a/res/drawable-mdpi/gallery_icon_squares.png b/res/drawable-mdpi/gallery_icon_squares.png
new file mode 100644
index 000000000000..bc04c50bc895
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_squares.png differ
diff --git a/res/drawable-mdpi/gallery_icon_squares_selected.png b/res/drawable-mdpi/gallery_icon_squares_selected.png
new file mode 100644
index 000000000000..f76e78603f94
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_squares_selected.png differ
diff --git a/res/drawable-mdpi/gallery_icon_thumbnailgrid.png b/res/drawable-mdpi/gallery_icon_thumbnailgrid.png
new file mode 100644
index 000000000000..faeb09c9cb14
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_thumbnailgrid.png differ
diff --git a/res/drawable-mdpi/gallery_icon_thumbnailgrid_selected.png b/res/drawable-mdpi/gallery_icon_thumbnailgrid_selected.png
new file mode 100644
index 000000000000..87dfb19cb9ba
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_thumbnailgrid_selected.png differ
diff --git a/res/drawable-mdpi/gallery_icon_tiled.png b/res/drawable-mdpi/gallery_icon_tiled.png
new file mode 100644
index 000000000000..130bd312779b
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_tiled.png differ
diff --git a/res/drawable-mdpi/gallery_icon_tiled_selected.png b/res/drawable-mdpi/gallery_icon_tiled_selected.png
new file mode 100644
index 000000000000..ae3aec7aab07
Binary files /dev/null and b/res/drawable-mdpi/gallery_icon_tiled_selected.png differ
diff --git a/res/drawable-xhdpi/gallery_checkbox_empty.png b/res/drawable-xhdpi/gallery_checkbox_empty.png
new file mode 100644
index 000000000000..aa9edd6c256b
Binary files /dev/null and b/res/drawable-xhdpi/gallery_checkbox_empty.png differ
diff --git a/res/drawable-xhdpi/gallery_checkbox_filled.png b/res/drawable-xhdpi/gallery_checkbox_filled.png
new file mode 100644
index 000000000000..7b8df92dc5dc
Binary files /dev/null and b/res/drawable-xhdpi/gallery_checkbox_filled.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_circles.png b/res/drawable-xhdpi/gallery_icon_circles.png
new file mode 100644
index 000000000000..8d71b61e5596
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_circles.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_circles_selected.png b/res/drawable-xhdpi/gallery_icon_circles_selected.png
new file mode 100644
index 000000000000..233b7cd9aff9
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_circles_selected.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_slideshow.png b/res/drawable-xhdpi/gallery_icon_slideshow.png
new file mode 100644
index 000000000000..eed4402e80b0
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_slideshow.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_slideshow_selected.png b/res/drawable-xhdpi/gallery_icon_slideshow_selected.png
new file mode 100644
index 000000000000..6e4e3f40609c
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_slideshow_selected.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_squares.png b/res/drawable-xhdpi/gallery_icon_squares.png
new file mode 100644
index 000000000000..b48bc7d6b318
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_squares.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_squares_selected.png b/res/drawable-xhdpi/gallery_icon_squares_selected.png
new file mode 100644
index 000000000000..6c799b996299
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_squares_selected.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_thumbnailgrid.png b/res/drawable-xhdpi/gallery_icon_thumbnailgrid.png
new file mode 100644
index 000000000000..a1400c781a48
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_thumbnailgrid.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_thumbnailgrid_selected.png b/res/drawable-xhdpi/gallery_icon_thumbnailgrid_selected.png
new file mode 100644
index 000000000000..39b0a1215698
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_thumbnailgrid_selected.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_tiled.png b/res/drawable-xhdpi/gallery_icon_tiled.png
new file mode 100644
index 000000000000..e96d3851918c
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_tiled.png differ
diff --git a/res/drawable-xhdpi/gallery_icon_tiled_selected.png b/res/drawable-xhdpi/gallery_icon_tiled_selected.png
new file mode 100644
index 000000000000..ffdb6f433cb3
Binary files /dev/null and b/res/drawable-xhdpi/gallery_icon_tiled_selected.png differ
diff --git a/res/drawable-xxhdpi/gallery_checkbox_empty.png b/res/drawable-xxhdpi/gallery_checkbox_empty.png
new file mode 100644
index 000000000000..97b5297342fb
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_checkbox_empty.png differ
diff --git a/res/drawable-xxhdpi/gallery_checkbox_filled.png b/res/drawable-xxhdpi/gallery_checkbox_filled.png
new file mode 100644
index 000000000000..715f335f0e4f
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_checkbox_filled.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_circles.png b/res/drawable-xxhdpi/gallery_icon_circles.png
new file mode 100644
index 000000000000..75e6db836542
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_circles.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_circles_selected.png b/res/drawable-xxhdpi/gallery_icon_circles_selected.png
new file mode 100644
index 000000000000..087b21bbf5cb
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_circles_selected.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_slideshow.png b/res/drawable-xxhdpi/gallery_icon_slideshow.png
new file mode 100644
index 000000000000..f4f4f977645e
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_slideshow.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_slideshow_selected.png b/res/drawable-xxhdpi/gallery_icon_slideshow_selected.png
new file mode 100644
index 000000000000..68f48d21c1b8
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_slideshow_selected.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_squares.png b/res/drawable-xxhdpi/gallery_icon_squares.png
new file mode 100644
index 000000000000..79da1567ea26
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_squares.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_squares_selected.png b/res/drawable-xxhdpi/gallery_icon_squares_selected.png
new file mode 100644
index 000000000000..7cc37b8e6404
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_squares_selected.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_thumbnailgrid.png b/res/drawable-xxhdpi/gallery_icon_thumbnailgrid.png
new file mode 100644
index 000000000000..dfe19614fb45
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_thumbnailgrid.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_thumbnailgrid_selected.png b/res/drawable-xxhdpi/gallery_icon_thumbnailgrid_selected.png
new file mode 100644
index 000000000000..4b44b5aa8e8c
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_thumbnailgrid_selected.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_tiled.png b/res/drawable-xxhdpi/gallery_icon_tiled.png
new file mode 100644
index 000000000000..5e3bd7ab00ca
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_tiled.png differ
diff --git a/res/drawable-xxhdpi/gallery_icon_tiled_selected.png b/res/drawable-xxhdpi/gallery_icon_tiled_selected.png
new file mode 100644
index 000000000000..58b8f5c74a43
Binary files /dev/null and b/res/drawable-xxhdpi/gallery_icon_tiled_selected.png differ
diff --git a/res/drawable/gallery_circles_selector.xml b/res/drawable/gallery_circles_selector.xml
new file mode 100644
index 000000000000..54faf5d9fa4c
--- /dev/null
+++ b/res/drawable/gallery_circles_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_icon_circles_selected"></item>
+    <item android:state_pressed="true" android:drawable="@drawable/gallery_icon_circles_selected"></item> 
+    <item android:drawable="@drawable/gallery_icon_circles"></item>
+
+</selector>
diff --git a/res/drawable/gallery_slideshow_selector.xml b/res/drawable/gallery_slideshow_selector.xml
new file mode 100644
index 000000000000..e1f071e86dab
--- /dev/null
+++ b/res/drawable/gallery_slideshow_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_icon_slideshow_selected"></item>
+    <item android:state_pressed="true" android:drawable="@drawable/gallery_icon_slideshow_selected"></item>
+    <item android:drawable="@drawable/gallery_icon_slideshow"></item> 
+
+</selector>
diff --git a/res/drawable/gallery_squares_selector.xml b/res/drawable/gallery_squares_selector.xml
new file mode 100644
index 000000000000..4edcfb6e3368
--- /dev/null
+++ b/res/drawable/gallery_squares_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_icon_squares_selected"></item>
+    <item android:state_pressed="true" android:drawable="@drawable/gallery_icon_squares_selected"></item> 
+    <item android:drawable="@drawable/gallery_icon_squares"></item> 
+
+</selector>
diff --git a/res/drawable/gallery_thumbnail_grid_selector.xml b/res/drawable/gallery_thumbnail_grid_selector.xml
new file mode 100644
index 000000000000..66f98ad125b3
--- /dev/null
+++ b/res/drawable/gallery_thumbnail_grid_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_icon_thumbnailgrid_selected"></item>
+    <item android:state_pressed="true" android:drawable="@drawable/gallery_icon_thumbnailgrid_selected"></item>  
+    <item android:drawable="@drawable/gallery_icon_thumbnailgrid"></item>
+
+</selector>
diff --git a/res/drawable/gallery_tiled_selector.xml b/res/drawable/gallery_tiled_selector.xml
new file mode 100644
index 000000000000..4e6c3a1830d4
--- /dev/null
+++ b/res/drawable/gallery_tiled_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_icon_tiled_selected"></item>
+    <item android:state_pressed="true" android:drawable="@drawable/gallery_icon_tiled_selected"></item> 
+    <item android:drawable="@drawable/gallery_icon_tiled"></item> 
+
+</selector>
diff --git a/res/drawable/media_gallery_checkbox_selector.xml b/res/drawable/media_gallery_checkbox_selector.xml
new file mode 100644
index 000000000000..14206d802135
--- /dev/null
+++ b/res/drawable/media_gallery_checkbox_selector.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_checked="true" android:drawable="@drawable/gallery_checkbox_filled" />
+    <item android:drawable="@drawable/gallery_checkbox_empty" />
+
+</selector>
diff --git a/res/drawable/media_gallery_option_default.xml b/res/drawable/media_gallery_option_default.xml
new file mode 100644
index 000000000000..209743a1ee21
--- /dev/null
+++ b/res/drawable/media_gallery_option_default.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android" >
+
+    <solid android:color="@color/media_gallery_option_default" />
+
+    <corners android:radius="2dp" />
+
+</shape>
\ No newline at end of file
diff --git a/res/drawable/media_gallery_option_selected.xml b/res/drawable/media_gallery_option_selected.xml
new file mode 100644
index 000000000000..9de5f2932f54
--- /dev/null
+++ b/res/drawable/media_gallery_option_selected.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android" >
+
+    <solid android:color="@color/media_gallery_option_selected" />
+
+    <corners android:radius="2dp" />
+
+</shape>
\ No newline at end of file
diff --git a/res/drawable/media_gallery_option_selector.xml b/res/drawable/media_gallery_option_selector.xml
new file mode 100644
index 000000000000..2dfafb6a72ba
--- /dev/null
+++ b/res/drawable/media_gallery_option_selector.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android" >
+    
+    <item android:state_pressed="true" android:drawable="@drawable/media_gallery_option_selected" ></item>
+    <item android:state_checked="true" android:drawable="@drawable/media_gallery_option_selected" ></item>
+    <item android:drawable="@drawable/media_gallery_option_default" ></item>
+
+</selector>
diff --git a/res/layout/media_gallery_column_checkbox.xml b/res/layout/media_gallery_column_checkbox.xml
new file mode 100644
index 000000000000..40ff9fde6525
--- /dev/null
+++ b/res/layout/media_gallery_column_checkbox.xml
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<CheckBox xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/media_gallery_column_checkbox"
+    style="@style/MediaGalleryNumOfColumns"
+    android:layout_width="32dp"
+    android:layout_height="32dp"
+    android:layout_gravity="center"
+    android:gravity="center"
+    android:text="0" >
+
+</CheckBox>
\ No newline at end of file
diff --git a/res/layout/media_gallery_settings_fragment.xml b/res/layout/media_gallery_settings_fragment.xml
index 5dcd4116696f..7fe3730be903 100644
--- a/res/layout/media_gallery_settings_fragment.xml
+++ b/res/layout/media_gallery_settings_fragment.xml
@@ -27,80 +27,33 @@
         android:layout_height="wrap_content"
         android:text="@string/media_gallery_image_order" />
 
-    <View
-        android:layout_width="match_parent"
-        android:layout_height="0.5dp"
-        android:layout_marginBottom="16dp"
-        android:layout_marginTop="16dp"
-        android:background="@color/white" />
-
-    <TextView
-        style="@style/MediaGalleryText"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="@string/media_gallery_num_columns" />
-
-    
     <LinearLayout
-        android:id="@+id/media_gallery_num_columns_view"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
+        android:layout_marginTop="16dp"
         android:orientation="horizontal" >
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col1"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="1"/>
-        
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col2"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="2"/>
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col3"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="3"/>
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col4"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="4"/>
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col5"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="5"/>
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col6"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="6"/>
-        <Button
-            style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col7"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="7"/>
-        <Button
+
+        <CheckBox
+            android:id="@+id/media_gallery_random_checkbox"
             style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col8"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:text="8"/>
+            android:layout_gravity="left|center_vertical"
+            android:layout_weight="2"
+            android:button="@drawable/media_gallery_checkbox_selector"
+            android:padding="4dp"
+            android:text="@string/media_gallery_image_order_random" />
+
         <Button
+            android:id="@+id/media_gallery_reverse_button"
             style="@style/MediaGalleryText"
-            android:id="@+id/media_gallery_col9"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:text="9"/>
+            android:layout_gravity="right"
+            android:layout_weight="1"
+            android:background="@drawable/media_gallery_option_selector"
+            android:text="@string/media_gallery_image_order_reverse"
+            android:textColor="@color/media_grid_item_checkstate_text_selector" />
     </LinearLayout>
 
     <View
@@ -116,56 +69,108 @@
         android:layout_height="wrap_content"
         android:text="@string/media_gallery_type" />
 
-    <RadioGroup
+    <LinearLayout
         android:id="@+id/media_gallery_type_group"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:layout_marginTop="16dp"
         android:orientation="horizontal"
-        android:weightSum="4" >
+        android:weightSum="3" >
 
-        <RadioButton
-            android:id="@+id/media_gallery_type_squares"
-            style="@style/MediaGalleryTypeRadioButton"
+        <CheckBox
+            android:id="@+id/media_gallery_type_thumbnail_grid"
+            style="@style/MediaGalleryTypeCheckbox"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_weight="1"
-            android:drawableTop="@drawable/ab_icon_edit"
-            android:text="@string/media_gallery_type_squares" />
+            android:drawableTop="@drawable/gallery_thumbnail_grid_selector"
+            android:text="@string/media_gallery_type_thumbnail_grid" />
 
-        <RadioButton
+        <CheckBox
             android:id="@+id/media_gallery_type_tiled"
-            style="@style/MediaGalleryTypeRadioButton"
+            style="@style/MediaGalleryTypeCheckbox"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_weight="1"
-            android:drawableTop="@drawable/ab_icon_edit"
+            android:drawableTop="@drawable/gallery_tiled_selector"
             android:text="@string/media_gallery_type_tiled" />
 
-        <RadioButton
+        <CheckBox
+            android:id="@+id/media_gallery_type_squares"
+            style="@style/MediaGalleryTypeCheckbox"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_weight="1"
+            android:drawableTop="@drawable/gallery_squares_selector"
+            android:text="@string/media_gallery_type_squares" />
+    </LinearLayout>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="16dp"
+        android:orientation="horizontal" >
+
+        <CheckBox
             android:id="@+id/media_gallery_type_circles"
-            style="@style/MediaGalleryTypeRadioButton"
+            style="@style/MediaGalleryTypeCheckbox"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_weight="1"
-            android:drawableTop="@drawable/ab_icon_edit"
+            android:drawableTop="@drawable/gallery_circles_selector"
             android:text="@string/media_gallery_type_circles" />
 
-        <RadioButton
+        <CheckBox
             android:id="@+id/media_gallery_type_slideshow"
-            style="@style/MediaGalleryTypeRadioButton"
+            style="@style/MediaGalleryTypeCheckbox"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_weight="1"
-            android:drawableTop="@drawable/ab_icon_edit"
+            android:drawableTop="@drawable/gallery_slideshow_selector"
             android:text="@string/media_gallery_type_slideshow" />
-    </RadioGroup>
+
+        <View
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            android:layout_weight="1" />
+    </LinearLayout>
 
     <View
         android:layout_width="match_parent"
         android:layout_height="0.5dp"
-        android:layout_marginBottom="8dp"
-        android:layout_marginTop="8dp"
+        android:layout_marginBottom="16dp"
+        android:layout_marginTop="16dp"
         android:background="@color/white" />
 
+    <LinearLayout
+        android:id="@+id/media_gallery_settings_num_columns_container"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical" >
+
+        <TextView
+            style="@style/MediaGalleryText"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/media_gallery_num_columns" />
+
+        <GridView
+            android:id="@+id/media_gallery_num_columns_grid"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="16dp"
+            android:columnWidth="32dp"
+            android:horizontalSpacing="8dp"
+            android:numColumns="auto_fit"
+            android:verticalSpacing="8dp" >
+        </GridView>
+
+        <View
+            android:layout_width="match_parent"
+            android:layout_height="0.5dp"
+            android:layout_marginBottom="16dp"
+            android:layout_marginTop="16dp"
+            android:background="@color/white" />
+    </LinearLayout>
+
 </LinearLayout>
\ No newline at end of file
diff --git a/res/values/colors.xml b/res/values/colors.xml
index dff2926738c6..0331db51409d 100644
--- a/res/values/colors.xml
+++ b/res/values/colors.xml
@@ -28,6 +28,9 @@
     <color name="media_gallery_image_bg">#FFFFFF</color>
     <color name="media_gallery_shadow">#E2E2E2</color>
 	<color name="media_gallery_bg">#75797C</color>
+	<color name="media_gallery_option_selected">#333333</color>
+	<color name="media_gallery_option_default">#EEEEEE</color>
+	
     
     <!-- Theme Details colors -->
     <color name="theme_details_name">@color/black</color>
diff --git a/res/values/strings.xml b/res/values/strings.xml
index 9dcfc18654f6..960d6a88facb 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -115,11 +115,11 @@
   <!-- Media Gallery -->
   <string name="media_gallery_settings_title">Gallery Settings</string>
   <string name="media_gallery_image_order">Image Order</string>
-  <string name="media_gallery_image_order_custom">Custom</string>
   <string name="media_gallery_image_order_random">Random</string>
   <string name="media_gallery_image_order_reverse">Reverse</string>
   <string name="media_gallery_num_columns">Number of Columns</string>
   <string name="media_gallery_type">Type</string>
+  <string name="media_gallery_type_thumbnail_grid">Thumbnail Grid</string>
   <string name="media_gallery_type_squares">Squares</string>
   <string name="media_gallery_type_tiled">Tiled</string>
   <string name="media_gallery_type_circles">Circles</string>
diff --git a/res/values/styles.xml b/res/values/styles.xml
index d4d07cdf8bcb..b1dc07e5a391 100644
--- a/res/values/styles.xml
+++ b/res/values/styles.xml
@@ -1,5 +1,4 @@
 <?xml version="1.0" encoding="utf-8"?>
-
 <resources xmlns:android="http://schemas.android.com/apk/res/android">
 
     <style name="WordPress" parent="Theme.Sherlock.Light.DarkActionBar">
@@ -7,36 +6,26 @@
         <item name="android:buttonStyle">@style/WordPressButtonAppearance</item>
         <item name="android:editTextStyle">@style/WordPressEditTextStyle</item>
         <item name="android:checkboxStyle">@style/WordPressCheckBoxStyle</item>
-        
         <item name="actionBarItemBackground">@drawable/selectable_background_wordpress</item>
-        
         <item name="popupMenuStyle">@style/wordpress_PopupMenu</item>
-        
         <item name="android:dropDownListViewStyle">@style/wordpress_DropDownListView</item>
         <item name="dropDownListViewStyle">@style/wordpress_DropDownListView</item>
-        
         <item name="actionBarTabStyle">@style/wordpress_ActionBarTabStyle</item>
-        
         <item name="actionDropDownStyle">@style/wordpress_DropDownNav</item>
-        
         <item name="actionBarStyle">@style/wordpress_solid_ActionBar</item>
-        
         <item name="android:panelBackground">@drawable/menu_hardkey_panel_wordpress</item>
-                <!-- Light.DarkActionBar specific -->
+        <!-- Light.DarkActionBar specific -->
         <item name="actionBarWidgetTheme">@style/Theme.wordpress.widget</item>
-        
         <item name="menuDrawerStyle">@style/MenuDrawer</item>
     </style>
-    
+
     <style name="wordpress_solid_ActionBar" parent="Widget.Sherlock.Light.ActionBar.Solid.Inverse">
         <item name="android:background">@drawable/ab_solid_wordpress</item>
         <item name="background">@drawable/ab_solid_wordpress</item>
         <item name="android:icon">@drawable/ab_icon_wp</item>
         <item name="icon">@drawable/ab_icon_wp</item>
         <item name="backgroundStacked">@drawable/ab_stacked_solid_wordpress</item>
-        
         <item name="backgroundSplit">@drawable/ab_bottom_solid_wordpress</item>
-        
         <item name="android:progressBarStyle">@style/wordpress_ProgressBar</item>
         <item name="progressBarStyle">@style/wordpress_ProgressBar</item>
     </style>
@@ -44,13 +33,12 @@
     <style name="wordpress_transparent_ActionBar" parent="Widget.Sherlock.ActionBar">
         <item name="android:background">@drawable/ab_transparent_wordpress</item>
         <item name="background">@drawable/ab_transparent_wordpress</item>
-        
         <item name="android:progressBarStyle">@style/wordpress_ProgressBar</item>
         <item name="progressBarStyle">@style/wordpress_ProgressBar</item>
     </style>
 
     <style name="wordpress_PopupMenu" parent="Widget.Sherlock.ListPopupWindow">
-        <item name="android:popupBackground">@drawable/menu_dropdown_panel_wordpress</item> 
+        <item name="android:popupBackground">@drawable/menu_dropdown_panel_wordpress</item>
     </style>
 
     <style name="wordpress_DropDownListView" parent="Widget.Sherlock.ListView.DropDown">
@@ -65,11 +53,10 @@
     <style name="wordpress_DropDownNav" parent="Widget.Sherlock.Spinner.DropDown.ActionBar">
         <item name="android:background">@drawable/spinner_background_ab_wordpress</item>
         <item name="background">@drawable/spinner_background_ab_wordpress</item>
-        
         <item name="android:popupBackground">@drawable/menu_dropdown_panel_wordpress</item>
         <item name="android:dropDownSelector">@drawable/selectable_background_wordpress</item>
     </style>
-    
+
     <style name="wordpress_ProgressBar" parent="Widget.Sherlock.ProgressBar.Horizontal">
         <item name="android:progressDrawable">@drawable/progress_horizontal_wordpress</item>
     </style>
@@ -77,13 +64,12 @@
     <!-- this style is only referenced in a Light.DarkActionBar based theme -->
     <style name="Theme.wordpress.widget" parent="Theme.Sherlock">
         <item name="popupMenuStyle">@style/wordpress_PopupMenu</item>
-        
         <item name="android:dropDownListViewStyle">@style/wordpress_DropDownListView</item>
         <item name="dropDownListViewStyle">@style/wordpress_DropDownListView</item>
     </style>
-    
+
     <style name="WordPress.Dialog" parent="@android:style/Theme.Dialog"></style>
-    
+
     <style name="WordPressSectionHeader">
         <item name="android:layout_marginTop">8dp</item>
         <item name="android:layout_marginLeft">4dp</item>
@@ -94,13 +80,13 @@
         <item name="android:textSize">14sp</item>
         <item name="android:textStyle">bold</item>
     </style>
-    
+
     <style name="WordPressSettingsSectionHeader" parent="WordPressSectionHeader">
         <item name="android:background">@drawable/section_header</item>
         <item name="android:textColor">#323232</item>
         <item name="android:paddingBottom">6dp</item>
     </style>
-    
+
     <style name="WordPressSubHeader">
         <item name="android:textSize">14sp</item>
         <item name="android:layout_marginTop">8dp</item>
@@ -108,7 +94,7 @@
         <item name="android:textColor">#AAAAAA</item>
         <item name="android:layout_marginBottom">-4dp</item>
     </style>
-    
+
     <style name="WordPress.ToggleButton">
         <item name="android:textSize">@dimen/format_bar_font_size</item>
         <item name="android:minWidth">26dp</item>
@@ -121,11 +107,11 @@
     <style name="WordPressTextAppearance" parent="@android:style/TextAppearance">
         <item name="android:textColor">#FF464646</item>
     </style>
-    
+
     <style name="WordPressEditTextStyle" parent="@android:style/Widget.EditText">
         <item name="android:textColor">#464646</item>
     </style>
-    
+
     <style name="WordPressCheckBoxStyle" parent="@android:style/Widget.CompoundButton.CheckBox">
         <item name="android:textColor">#464646</item>
     </style>
@@ -142,7 +128,7 @@
     <style name="WordPressButtonAppearance" parent="@android:style/Widget.Button">
         <item name="android:textColor">#FF464646</item>
     </style>
-    
+
     <style name="WordPressListRowBackground">
         <item name="android:background">@null</item>
     </style>
@@ -178,15 +164,15 @@
         <item name="android:paddingRight">10dp</item>
         <item name="android:layout_marginLeft">10dp</item>
     </style>
-    
+
     <style name="WordPressWelcomeStyle">
         <item name="android:layout_gravity">center</item>
     </style>
-    
+
     <style name="ThemeDetailsHeader">
         <item name="android:textStyle">bold</item>
     </style>
-    
+
     <style name="StatsWhiteBackground">
         <item name="android:background">@drawable/stats_white_background</item>
     </style>
@@ -196,7 +182,7 @@
         <item name="android:textSize">12sp</item>
         <item name="android:textAllCaps">true</item>
     </style>
-    
+
     <style name="StatsHeaderTotals">
         <item name="android:textSize">24sp</item>
         <item name="android:layout_centerHorizontal">true</item>
@@ -204,32 +190,39 @@
         <item name="android:singleLine">true</item>
         <item name="android:fontFamily">sans-serif-light</item>
     </style>
-    
+
     <style name="StatsHeaderTotalsLabel">
         <item name="android:textSize">16sp</item>
         <item name="android:layout_centerHorizontal">true</item>
         <item name="android:layout_gravity">bottom</item>
         <item name="android:fontFamily">sans-serif-light</item>
     </style>
-    
+
     <style name="StatsTabletRadioButton">
-       <item name="android:background">@drawable/stats_button_selector</item>
-       <item name="android:button">@android:color/transparent</item>
-       <item name="android:padding">8dp</item>
-       <item name="android:textColor">@color/white</item>
-       <item name="android:textSize">12sp</item>
-    </style>
-    
-   <style name="MediaGalleryText">
-       <item name="android:textColor">@color/white</item>
-       <item name="android:textSize">16sp</item>
-   </style>
-   
-   <style name="MediaGalleryTypeRadioButton">
-       <item name="android:textColor">@color/white</item>
-       <item name="android:drawablePadding">8dp</item>
-       <item name="android:textSize">14sp</item>
-       <item name="android:button">@null</item>
-       <item name="android:gravity">center</item>
-   </style>
+        <item name="android:background">@drawable/stats_button_selector</item>
+        <item name="android:button">@android:color/transparent</item>
+        <item name="android:padding">8dp</item>
+        <item name="android:textColor">@color/white</item>
+        <item name="android:textSize">12sp</item>
+    </style>
+
+    <style name="MediaGalleryText">
+        <item name="android:textColor">@color/white</item>
+        <item name="android:textSize">16sp</item>
+    </style>
+
+    <style name="MediaGalleryNumOfColumns" parent="@style/MediaGalleryText">
+        <item name="android:textColor">@color/media_grid_item_checkstate_text_selector</item>
+        <item name="android:background">@drawable/media_gallery_option_selector</item>
+        <item name="android:button">@null</item>
+    </style>
+
+    <style name="MediaGalleryTypeCheckbox">
+        <item name="android:textColor">@color/white</item>
+        <item name="android:drawablePadding">8dp</item>
+        <item name="android:textSize">14sp</item>
+        <item name="android:button">@null</item>
+        <item name="android:gravity">center</item>
+    </style>
+
 </resources>
\ No newline at end of file
diff --git a/src/org/wordpress/android/ui/media/MediaGallerySettingsFragment.java b/src/org/wordpress/android/ui/media/MediaGallerySettingsFragment.java
index 9d39d41e0702..5059ae7051e5 100644
--- a/src/org/wordpress/android/ui/media/MediaGallerySettingsFragment.java
+++ b/src/org/wordpress/android/ui/media/MediaGallerySettingsFragment.java
@@ -1,24 +1,268 @@
 package org.wordpress.android.ui.media;
 
+import java.util.ArrayList;
+
 import android.os.Bundle;
+import android.util.Log;
+import android.util.SparseBooleanArray;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.LinearLayout;
+import android.widget.BaseAdapter;
+import android.widget.CheckBox;
+import android.widget.CompoundButton;
+import android.widget.CompoundButton.OnCheckedChangeListener;
+import android.widget.GridView;
 
 import com.actionbarsherlock.app.SherlockFragment;
 
 import org.wordpress.android.R;
 
-public class MediaGallerySettingsFragment extends SherlockFragment {
+public class MediaGallerySettingsFragment extends SherlockFragment implements OnCheckedChangeListener {
+
+    private static final int DEFAULT_THUMBNAIL_COLUMN_COUNT = 3;
+
+    private static final String STATE_NUM_COLUMNS = "STATE_NUM_COLUMNS";
+    private static final String STATE_GALLERY_TYPE_ORD = "GALLERY_TYPE_ORD";
+    private static final String STATE_RANDOM_ORDER = "STATE_RANDOM_ORDER";
+    
+    private CheckBox mThumbnailCheckbox;
+    private CheckBox mSquaresCheckbox;
+    private CheckBox mTiledCheckbox;
+    private CheckBox mCirclesCheckbox;
+    private CheckBox mSlideshowCheckbox;
+    
+    private GalleryType mType;
+    private int mNumColumns;
+    private boolean mIsRandomOrder;
+    
+    private GridView mNumColumnsGrid;
+    private View mNumColumnsContainer;
+
+    private CheckBox mRandomOrderCheckbox;
+
+    private boolean mAllowCheckChanged;
+
+    private enum GalleryType {
+        DEFAULT(""),
+        TILED("rectangular"),
+        SQUARES("square"),
+        CIRCLES("circle"),
+        SLIDESHOW("slideshow");
+        
+        private String mTag;
+
+        private GalleryType(String tag) {
+            mTag = tag;
+        }
+        
+        public String getTag() {
+            return mTag;
+        }
+    }
+    
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
 
+        mAllowCheckChanged = true;
+        mType = GalleryType.DEFAULT;
+        mNumColumns = DEFAULT_THUMBNAIL_COLUMN_COUNT;
+        mIsRandomOrder = false;
+        
+        restoreState(savedInstanceState);
+        
         View view = inflater.inflate(R.layout.media_gallery_settings_fragment, container, false);
         
-        LinearLayout colLayout = (LinearLayout) view.findViewById(R.id.media_gallery_num_columns_view);
+        mNumColumnsContainer = view.findViewById(R.id.media_gallery_settings_num_columns_container);
+        int visible = (mType == GalleryType.DEFAULT) ? View.VISIBLE : View.GONE;
+        mNumColumnsContainer.setVisibility(visible);
+        
+        mNumColumnsGrid = (GridView) view.findViewById(R.id.media_gallery_num_columns_grid);
+        ArrayList<String> list = new ArrayList<String>(9);
+        for (int i = 1; i <= 9; i++) {
+            list.add(i + "");
+        }
+        mNumColumnsGrid.setAdapter(new CustomGridAdapter(mNumColumns));
+        
+        
+        mThumbnailCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_type_thumbnail_grid);
+        mThumbnailCheckbox.setChecked(mType == GalleryType.DEFAULT);
+        mThumbnailCheckbox.setOnCheckedChangeListener(this);
+        
+        mTiledCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_type_tiled);
+        mTiledCheckbox.setChecked(mType == GalleryType.TILED);
+        mTiledCheckbox.setOnCheckedChangeListener(this);
+        
+        mSquaresCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_type_squares);
+        mSquaresCheckbox.setChecked(mType == GalleryType.SQUARES);
+        mSquaresCheckbox.setOnCheckedChangeListener(this);
+        
+        mCirclesCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_type_circles);
+        mCirclesCheckbox.setChecked(mType == GalleryType.CIRCLES);
+        mCirclesCheckbox.setOnCheckedChangeListener(this);
+        
+        mSlideshowCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_type_slideshow);
+        mSlideshowCheckbox.setChecked(mType == GalleryType.SLIDESHOW);
+        mSlideshowCheckbox.setOnCheckedChangeListener(this);
+        
+        mRandomOrderCheckbox = (CheckBox) view.findViewById(R.id.media_gallery_random_checkbox);
+        mRandomOrderCheckbox.setChecked(mIsRandomOrder);
+        mRandomOrderCheckbox.setOnCheckedChangeListener(this);
         
         return view;
     }
     
+    private void restoreState(Bundle savedInstanceState) {
+        if (savedInstanceState == null)
+            return;
+        
+        mNumColumns = savedInstanceState.getInt(STATE_NUM_COLUMNS);
+        int galleryTypeOrdinal = savedInstanceState.getInt(STATE_GALLERY_TYPE_ORD);
+        mType = GalleryType.values()[galleryTypeOrdinal];
+        Log.d("ASDF", "restored ordinal: " + mType.ordinal());
+        mIsRandomOrder = savedInstanceState.getBoolean(STATE_RANDOM_ORDER);
+    }
+
+    @Override
+    public void onSaveInstanceState(Bundle outState) {
+        super.onSaveInstanceState(outState);
+        outState.putInt(STATE_NUM_COLUMNS, mNumColumns);
+        outState.putBoolean(STATE_RANDOM_ORDER, mIsRandomOrder);
+        Log.d("ASDF", "saving ordinal: " + mType.ordinal());
+        outState.putInt(STATE_GALLERY_TYPE_ORD, mType.ordinal());
+    }
+
+    @Override
+    public void onCheckedChanged(CompoundButton button, boolean checked) {
+        
+        if (!mAllowCheckChanged)
+            return;
+        
+        mAllowCheckChanged = false;
+        
+        int numColumnsContainerVisible = View.GONE;
+        switch (button.getId()) {
+            case R.id.media_gallery_type_thumbnail_grid:
+                numColumnsContainerVisible = View.VISIBLE;
+                
+                mType = GalleryType.DEFAULT;
+                mThumbnailCheckbox.setChecked(true);
+                mSquaresCheckbox.setChecked(false);
+                mTiledCheckbox.setChecked(false);
+                mCirclesCheckbox.setChecked(false);
+                mSlideshowCheckbox.setChecked(false);
+                break;
+            case R.id.media_gallery_type_tiled:
+                mType = GalleryType.TILED;
+                mThumbnailCheckbox.setChecked(false);
+                mTiledCheckbox.setChecked(true);
+                mSquaresCheckbox.setChecked(false);
+                mCirclesCheckbox.setChecked(false);
+                mSlideshowCheckbox.setChecked(false);
+                break;
+            case R.id.media_gallery_type_squares:
+                mType = GalleryType.SQUARES;
+                mThumbnailCheckbox.setChecked(false);
+                mTiledCheckbox.setChecked(false);
+                mSquaresCheckbox.setChecked(true);
+                mCirclesCheckbox.setChecked(false);
+                mSlideshowCheckbox.setChecked(false);
+                break;
+            case R.id.media_gallery_type_circles:
+                mType = GalleryType.CIRCLES;
+                mThumbnailCheckbox.setChecked(false);
+                mSquaresCheckbox.setChecked(false);
+                mTiledCheckbox.setChecked(false);
+                mCirclesCheckbox.setChecked(true);
+                mSlideshowCheckbox.setChecked(false);
+                break;
+            case R.id.media_gallery_type_slideshow:
+                mType = GalleryType.SLIDESHOW;
+                mThumbnailCheckbox.setChecked(false);
+                mSquaresCheckbox.setChecked(false);
+                mTiledCheckbox.setChecked(false);
+                mCirclesCheckbox.setChecked(false);
+                mSlideshowCheckbox.setChecked(true);
+                break;
+            case R.id.media_gallery_random_checkbox:
+                numColumnsContainerVisible = mNumColumnsContainer.getVisibility();
+                mIsRandomOrder = checked;
+                break;
+        }
+        
+        Log.d("ASDF", "type changed, ordinal: " + mType.ordinal());
+        
+        mNumColumnsContainer.setVisibility(numColumnsContainerVisible);
+        
+        mAllowCheckChanged = true;
+    }
+
+    private class CustomGridAdapter extends BaseAdapter implements OnCheckedChangeListener {
+
+        private boolean mAllowCheckChanged;
+        private SparseBooleanArray mCheckedPositions;
+        
+        public CustomGridAdapter(int selection) {
+            mAllowCheckChanged = true;
+            mCheckedPositions = new SparseBooleanArray(9);
+            for (int i = 0; i < 9; i++){
+                if (i + 1 <= selection)
+                    mCheckedPositions.put(i, true);
+                else
+                    mCheckedPositions.put(i, false);
+            }
+        }
+        
+        @Override
+        public int getCount() {
+            return 9;
+        }
+
+        @Override
+        public Object getItem(int position) {
+            return position;
+        }
+
+        @Override
+        public long getItemId(int position) {
+            return position;
+        }
+
+        @Override
+        public View getView(int position, View convertView, ViewGroup parent) {
+            
+            LayoutInflater inflater = LayoutInflater.from(parent.getContext());
+            CheckBox checkbox = (CheckBox) inflater.inflate(R.layout.media_gallery_column_checkbox, parent, false);
+            checkbox.setChecked(mCheckedPositions.get(position));
+            checkbox.setTag(position);
+            checkbox.setText(String.valueOf(position + 1));
+            checkbox.setOnCheckedChangeListener(this);
+            
+            return checkbox;
+        }
+
+        @Override
+        public void onCheckedChanged(CompoundButton button, boolean checked) {
+            
+            if (mAllowCheckChanged) {
+            
+                mAllowCheckChanged = false;
+                
+                int position = (Integer) button.getTag();
+                mNumColumns = position + 1;
+                
+                int count = mCheckedPositions.size();
+                for (int i = 0; i < count; i++) {
+                    if (i <= position)
+                        mCheckedPositions.put(i, true);
+                    else
+                        mCheckedPositions.put(i, false);
+                }
+                notifyDataSetChanged();
+                mAllowCheckChanged = true;
+            }
+        }
+        
+    }
+    
 }
