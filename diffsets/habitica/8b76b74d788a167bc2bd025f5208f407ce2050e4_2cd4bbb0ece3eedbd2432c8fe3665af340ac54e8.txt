diff --git a/Gruntfile.js b/Gruntfile.js
index d44646817f8..5667a60ad14 100644
--- a/Gruntfile.js
+++ b/Gruntfile.js
@@ -25,7 +25,7 @@ module.exports = function(grunt) {
             'public/bower_components/angular/angular.min.js',
             'public/bower_components/angular-sanitize/angular-sanitize.min.js',
             'public/bower_components/marked/lib/marked.js',
-            'public/bower_components/angular-route/angular-route.min.js',
+            'public/bower_components/angular-ui-router/angular-ui-router.min.js',
             'public/bower_components/angular-resource/angular-resource.min.js',
             'public/bower_components/angular-ui/build/angular-ui.min.js',
             'public/bower_components/angular-ui-utils/modules/keypress/keypress.js',
diff --git a/migrations/20131028_task_subdocs_tags_invites.js b/migrations/20131028_task_subdocs_tags_invites.js
index fac6acb838d..19ce289e837 100644
--- a/migrations/20131028_task_subdocs_tags_invites.js
+++ b/migrations/20131028_task_subdocs_tags_invites.js
@@ -24,6 +24,15 @@ db.users.find().forEach(function(user){
     });
   });
 
+  // Add username
+  if (_.isEmpty(user.profile.name)) {
+    var fb = user.auth.facebook;
+    user.profile.name =
+      (user.auth.local && user.auth.local.username) ||
+        (fb && (fb.displayName || fb.name || fb.username || (fb.first_name && fb.first_name + ' ' + fb.last_name))) ||
+        'Anonymous';
+  }
+
   // Migrate to TaskSchema subdocs!!
   if (!user.tasks) {
     // FIXME before deploying!
