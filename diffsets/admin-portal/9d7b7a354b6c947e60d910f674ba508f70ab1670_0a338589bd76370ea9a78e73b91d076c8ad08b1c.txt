diff --git a/lib/constants.dart b/lib/constants.dart
index ed636f2f35d..206322395e8 100644
--- a/lib/constants.dart
+++ b/lib/constants.dart
@@ -663,6 +663,7 @@ const String kSettingsTransactionRulesEdit = 'transaction_rules/edit';
 const String kSettingsSchedules = 'schedules';
 const String kSettingsSchedulesView = 'schedules/view';
 const String kSettingsSchedulesEdit = 'schedules/edit';
+const String kSettingsEInvoiceSettings = 'e_invoice_settings';
 
 const List<String> kAdvancedSettings = [
   kSettingsCustomDesigns,
diff --git a/lib/ui/settings/e_invoice_settings.dart b/lib/ui/settings/e_invoice_settings.dart
new file mode 100644
index 00000000000..f13a4e410cf
--- /dev/null
+++ b/lib/ui/settings/e_invoice_settings.dart
@@ -0,0 +1,287 @@
+// Flutter imports:
+import 'package:flutter/material.dart';
+
+// Package imports:
+import 'package:invoiceninja_flutter/ui/settings/e_invoice_settings_vm.dart';
+import 'package:invoiceninja_flutter/utils/files.dart';
+import 'package:material_design_icons_flutter/material_design_icons_flutter.dart';
+
+// Project imports:
+import 'package:invoiceninja_flutter/constants.dart';
+import 'package:invoiceninja_flutter/ui/app/edit_scaffold.dart';
+import 'package:invoiceninja_flutter/ui/app/form_card.dart';
+import 'package:invoiceninja_flutter/ui/app/forms/app_dropdown_button.dart';
+import 'package:invoiceninja_flutter/ui/app/forms/app_form.dart';
+import 'package:invoiceninja_flutter/ui/app/forms/bool_dropdown_button.dart';
+import 'package:invoiceninja_flutter/ui/app/forms/decorated_form_field.dart';
+import 'package:invoiceninja_flutter/utils/localization.dart';
+
+class EInvoiceSettings extends StatefulWidget {
+  const EInvoiceSettings({
+    Key? key,
+    required this.viewModel,
+  }) : super(key: key);
+
+  final EInvoiceSettingsVM viewModel;
+
+  @override
+  _EInvoiceSettingsState createState() => _EInvoiceSettingsState();
+}
+
+class _EInvoiceSettingsState extends State<EInvoiceSettings> {
+  static final GlobalKey<FormState> _formKey =
+      GlobalKey<FormState>(debugLabel: '_emailSettings');
+
+  FocusScopeNode? _focusNode;
+
+  final _eInvoiceCertificatePassphraseController = TextEditingController();
+
+  List<TextEditingController> _controllers = [];
+
+  @override
+  void initState() {
+    super.initState();
+
+    _focusNode = FocusScopeNode();
+  }
+
+  @override
+  void dispose() {
+    _focusNode!.dispose();
+    _controllers.forEach((dynamic controller) {
+      controller.removeListener(_onChanged);
+      controller.dispose();
+    });
+    super.dispose();
+  }
+
+  @override
+  void didChangeDependencies() {
+    _controllers = [
+      _eInvoiceCertificatePassphraseController,
+    ];
+
+    _controllers
+        .forEach((dynamic controller) => controller.removeListener(_onChanged));
+
+    final viewModel = widget.viewModel;
+    final company = viewModel.company;
+
+    _eInvoiceCertificatePassphraseController.text =
+        company.eInvoiceCertificatePassphrase;
+
+    _controllers
+        .forEach((dynamic controller) => controller.addListener(_onChanged));
+
+    super.didChangeDependencies();
+  }
+
+  void _onChanged() {
+    final eInvoiceCertificatePassphrase =
+        _eInvoiceCertificatePassphraseController.text.trim();
+
+    final viewModel = widget.viewModel;
+    final isFiltered = viewModel.state.settingsUIState.isFiltered;
+
+    /*8
+    final settings = viewModel.settings.rebuild((b) => b
+      ..customSendingEmail =
+          isFiltered && customSendingEmail.isEmpty ? null : customSendingEmail);
+    if (settings != viewModel.settings) {
+      viewModel.onSettingsChanged(settings);
+    }
+    */
+
+    final company = viewModel.company.rebuild((b) => b
+      ..eInvoiceCertificatePassphrase =
+          isFiltered && eInvoiceCertificatePassphrase.isEmpty
+              ? null
+              : eInvoiceCertificatePassphrase);
+    if (company != viewModel.company) {
+      viewModel.onCompanyChanged(company);
+    }
+  }
+
+  void _onSavePressed(BuildContext context) {
+    final bool isValid = _formKey.currentState!.validate();
+
+    if (!isValid) {
+      return;
+    }
+
+    widget.viewModel.onSavePressed(context);
+  }
+
+  @override
+  Widget build(BuildContext context) {
+    final localization = AppLocalization.of(context)!;
+    final viewModel = widget.viewModel;
+    final state = viewModel.state;
+    final company = viewModel.state.company;
+    final settings = viewModel.settings;
+    final settingsUIState = state.settingsUIState;
+
+    return EditScaffold(
+      title: localization.emailSettings,
+      onSavePressed: _onSavePressed,
+      body: AppForm(
+        formKey: _formKey,
+        focusNode: _focusNode,
+        children: <Widget>[
+          FormCard(
+            isLast: true,
+            crossAxisAlignment: CrossAxisAlignment.stretch,
+            children: <Widget>[
+              BoolDropdownButton(
+                label: localization.enableEInvoice,
+                value: settings.enableEInvoice,
+                iconData: MdiIcons.fileXmlBox,
+                onChanged: (value) => viewModel.onSettingsChanged(
+                    settings.rebuild((b) => b..enableEInvoice = value)),
+              ),
+              if (settings.enableEInvoice == true) ...[
+                Padding(
+                  padding:
+                      EdgeInsets.only(top: settingsUIState.isFiltered ? 0 : 12),
+                  child: AppDropdownButton<String>(
+                      labelText: localization.eInvoiceType,
+                      showBlank: settingsUIState.isFiltered,
+                      value: settings.eInvoiceType,
+                      onChanged: (dynamic value) {
+                        viewModel.onSettingsChanged(
+                            settings.rebuild((b) => b..eInvoiceType = value));
+                      },
+                      items: kEInvoiceTypes
+                          .map((type) => DropdownMenuItem<String>(
+                                child: Text(type
+                                    .replaceFirst('_', ' ')
+                                    .replaceAll('_', '.')),
+                                value: type,
+                              ))
+                          .toList()),
+                ),
+                AppDropdownButton<String>(
+                    labelText: localization.eQuoteType,
+                    showBlank: settingsUIState.isFiltered,
+                    value: settings.eQuoteType,
+                    onChanged: (dynamic value) {
+                      viewModel.onSettingsChanged(
+                          settings.rebuild((b) => b..eQuoteType = value));
+                    },
+                    items: kEQuoteTypes
+                        .map((type) => DropdownMenuItem<String>(
+                              child: Text(type
+                                  .replaceFirst('_', ' ')
+                                  .replaceAll('_', '.')),
+                              value: type,
+                            ))
+                        .toList()),
+                if (!settingsUIState.isFiltered) ...[
+                  SizedBox(height: 22),
+                  Row(
+                    children: [
+                      Expanded(
+                        flex: 2,
+                        child: OutlinedButton(
+                          onPressed: () async {
+                            final files = await pickFiles(
+                              fileIndex: 'e_invoice_certificate',
+                              allowMultiple: false,
+                              allowedExtensions: [
+                                'p12',
+                                'pfx',
+                                'pem',
+                                'cer',
+                                'crt',
+                                'der',
+                                'txt',
+                                'p7b',
+                                'spc',
+                                'bin',
+                              ],
+                            );
+
+                            if (files != null && files.isNotEmpty) {
+                              viewModel
+                                  .onEInvoiceCertificateSelected(files.first);
+                            }
+                          },
+                          child: Padding(
+                            padding: const EdgeInsets.all(12),
+                            child: Text(
+                                localization.uploadCertificate.toUpperCase()),
+                          ),
+                        ),
+                      ),
+                      SizedBox(width: kTableColumnGap),
+                      Expanded(
+                        child: Row(
+                          children: [
+                            Icon(
+                              company.hasEInvoiceCertificate
+                                  ? Icons.check_circle_outline
+                                  : Icons.circle_outlined,
+                              size: 16,
+                              color: company.hasEInvoiceCertificate
+                                  ? Colors.green
+                                  : Colors.grey,
+                            ),
+                            SizedBox(width: 8),
+                            Flexible(
+                              child: Text(
+                                company.hasEInvoiceCertificate
+                                    ? localization.certificateSet
+                                    : localization.certificateNotSet,
+                                maxLines: 2,
+                              ),
+                            ),
+                          ],
+                        ),
+                      ),
+                    ],
+                  ),
+                  Row(
+                    children: [
+                      Expanded(
+                        flex: 2,
+                        child: DecoratedFormField(
+                          label: localization.certificatePassphrase,
+                          controller: _eInvoiceCertificatePassphraseController,
+                          keyboardType: TextInputType.text,
+                          onSavePressed: _onSavePressed,
+                        ),
+                      ),
+                      SizedBox(width: kTableColumnGap),
+                      Expanded(
+                        child: Row(children: [
+                          Icon(
+                            company.hasEInvoiceCertificatePassphrase
+                                ? Icons.check_circle_outline
+                                : Icons.circle_outlined,
+                            size: 16,
+                            color: company.hasEInvoiceCertificatePassphrase
+                                ? Colors.green
+                                : Colors.grey,
+                          ),
+                          SizedBox(width: 8),
+                          Flexible(
+                            child: Text(
+                              company.hasEInvoiceCertificatePassphrase
+                                  ? localization.passphraseSet
+                                  : localization.passphraseNotSet,
+                              maxLines: 2,
+                            ),
+                          ),
+                        ]),
+                      )
+                    ],
+                  )
+                ],
+              ],
+            ],
+          ),
+        ],
+      ),
+    );
+  }
+}
diff --git a/lib/ui/settings/e_invoice_settings_vm.dart b/lib/ui/settings/e_invoice_settings_vm.dart
new file mode 100644
index 00000000000..3451cb6b035
--- /dev/null
+++ b/lib/ui/settings/e_invoice_settings_vm.dart
@@ -0,0 +1,121 @@
+// Flutter imports:
+import 'package:flutter/material.dart';
+import 'package:flutter/widgets.dart';
+
+// Package imports:
+import 'package:flutter_redux/flutter_redux.dart';
+import 'package:http/http.dart';
+import 'package:invoiceninja_flutter/data/models/company_model.dart';
+import 'package:invoiceninja_flutter/main_app.dart';
+import 'package:invoiceninja_flutter/ui/settings/e_invoice_settings.dart';
+import 'package:redux/redux.dart';
+
+// Project imports:
+import 'package:invoiceninja_flutter/constants.dart';
+import 'package:invoiceninja_flutter/data/models/client_model.dart';
+import 'package:invoiceninja_flutter/data/models/entities.dart';
+import 'package:invoiceninja_flutter/data/models/group_model.dart';
+import 'package:invoiceninja_flutter/data/models/settings_model.dart';
+import 'package:invoiceninja_flutter/redux/app/app_state.dart';
+import 'package:invoiceninja_flutter/redux/client/client_actions.dart';
+import 'package:invoiceninja_flutter/redux/company/company_actions.dart';
+import 'package:invoiceninja_flutter/redux/group/group_actions.dart';
+import 'package:invoiceninja_flutter/redux/settings/settings_actions.dart';
+import 'package:invoiceninja_flutter/utils/completers.dart';
+import 'package:invoiceninja_flutter/utils/localization.dart';
+
+class EInvoiceSettingsScreen extends StatelessWidget {
+  const EInvoiceSettingsScreen({Key? key}) : super(key: key);
+  static const String route = '/$kSettings/$kSettingsEInvoiceSettings';
+
+  @override
+  Widget build(BuildContext context) {
+    return StoreConnector<AppState, EInvoiceSettingsVM>(
+      converter: EInvoiceSettingsVM.fromStore,
+      builder: (context, viewModel) {
+        return EInvoiceSettings(
+          viewModel: viewModel,
+          key: ValueKey(viewModel.state.settingsUIState.updatedAt),
+        );
+      },
+    );
+  }
+}
+
+class EInvoiceSettingsVM {
+  EInvoiceSettingsVM({
+    required this.state,
+    required this.company,
+    required this.onCompanyChanged,
+    required this.settings,
+    required this.onSettingsChanged,
+    required this.onSavePressed,
+    required this.onEInvoiceCertificateSelected,
+  });
+
+  static EInvoiceSettingsVM fromStore(Store<AppState> store) {
+    final state = store.state;
+
+    return EInvoiceSettingsVM(
+        state: state,
+        company: state.uiState.settingsUIState.company,
+        settings: state.uiState.settingsUIState.settings,
+        onCompanyChanged: (company) =>
+            store.dispatch(UpdateCompany(company: company)),
+        onSettingsChanged: (settings) {
+          store.dispatch(UpdateSettings(settings: settings));
+        },
+        onSavePressed: (
+          context,
+        ) {
+          if (!state.isProPlan && !state.isTrial) {
+            return;
+          }
+
+          Debouncer.runOnComplete(() {
+            final settingsUIState = store.state.uiState.settingsUIState;
+            switch (settingsUIState.entityType) {
+              case EntityType.company:
+                final completer = snackBarCompleter<Null>(
+                    AppLocalization.of(context)!.savedSettings);
+                store.dispatch(SaveCompanyRequest(
+                  completer: completer,
+                  company: settingsUIState.company,
+                ));
+                break;
+              case EntityType.group:
+                final completer = snackBarCompleter<GroupEntity>(
+                    AppLocalization.of(context)!.savedSettings);
+                store.dispatch(SaveGroupRequest(
+                    completer: completer, group: settingsUIState.group));
+                break;
+              case EntityType.client:
+                final completer = snackBarCompleter<ClientEntity>(
+                    AppLocalization.of(context)!.savedSettings);
+                store.dispatch(SaveClientRequest(
+                    completer: completer, client: settingsUIState.client));
+                break;
+            }
+          });
+        },
+        onEInvoiceCertificateSelected: (eInvoiceCertificate) {
+          final completer = snackBarCompleter<Null>(
+              AppLocalization.of(navigatorKey.currentContext!)!
+                  .uploadedCertificate);
+          store.dispatch(
+            SaveEInvoiceCertificateRequest(
+                completer: completer,
+                company: state.company,
+                eInvoiceCertificate: eInvoiceCertificate),
+          );
+        });
+  }
+
+  final AppState state;
+  final Function(BuildContext) onSavePressed;
+  final CompanyEntity company;
+  final SettingsEntity settings;
+  final Function(SettingsEntity) onSettingsChanged;
+  final Function(CompanyEntity) onCompanyChanged;
+  final Function(MultipartFile) onEInvoiceCertificateSelected;
+}
diff --git a/lib/ui/settings/email_settings.dart b/lib/ui/settings/email_settings.dart
index 364c0829434..b9c6b855e58 100644
--- a/lib/ui/settings/email_settings.dart
+++ b/lib/ui/settings/email_settings.dart
@@ -9,7 +9,6 @@ import 'package:flutter_redux/flutter_redux.dart';
 import 'package:invoiceninja_flutter/data/web_client.dart';
 import 'package:invoiceninja_flutter/redux/app/app_actions.dart';
 import 'package:invoiceninja_flutter/utils/dialogs.dart';
-import 'package:invoiceninja_flutter/utils/files.dart';
 import 'package:invoiceninja_flutter/utils/formatting.dart';
 import 'package:material_design_icons_flutter/material_design_icons_flutter.dart';
 
@@ -59,7 +58,6 @@ class _EmailSettingsState extends State<EmailSettings> {
   final _mailgunSecretController = TextEditingController();
   final _mailgunDomainController = TextEditingController();
   final _customSendingEmailController = TextEditingController();
-  final _eInvoiceCertificatePassphraseController = TextEditingController();
   final _smtpHostController = TextEditingController();
   final _smtpPortController = TextEditingController();
   final _smtpUsernameController = TextEditingController();
@@ -99,7 +97,6 @@ class _EmailSettingsState extends State<EmailSettings> {
       _mailgunSecretController,
       _mailgunDomainController,
       _customSendingEmailController,
-      _eInvoiceCertificatePassphraseController,
       _smtpHostController,
       _smtpPortController,
       _smtpUsernameController,
@@ -125,8 +122,6 @@ class _EmailSettingsState extends State<EmailSettings> {
     _brevoSecretController.text = settings.brevoSecret ?? '';
     _mailgunSecretController.text = settings.mailgunSecret ?? '';
     _mailgunDomainController.text = settings.mailgunDomain ?? '';
-    _eInvoiceCertificatePassphraseController.text =
-        company.eInvoiceCertificatePassphrase;
     _smtpHostController.text = company.smtpHost;
     _smtpPortController.text = company.smtpPort.toString();
     _smtpUsernameController.text = company.smtpUsername;
@@ -151,8 +146,6 @@ class _EmailSettingsState extends State<EmailSettings> {
     final mailgunSecret = _mailgunSecretController.text.trim();
     final mailgunDomain = _mailgunDomainController.text.trim();
     final customSendingEmail = _customSendingEmailController.text.trim();
-    final eInvoiceCertificatePassphrase =
-        _eInvoiceCertificatePassphraseController.text.trim();
 
     final viewModel = widget.viewModel;
     final isFiltered = viewModel.state.settingsUIState.isFiltered;
@@ -180,10 +173,6 @@ class _EmailSettingsState extends State<EmailSettings> {
     }
 
     final company = viewModel.company.rebuild((b) => b
-      ..eInvoiceCertificatePassphrase =
-          isFiltered && eInvoiceCertificatePassphrase.isEmpty
-              ? null
-              : eInvoiceCertificatePassphrase
       ..smtpHost = _smtpHostController.text.trim()
       ..smtpPort = parseInt(_smtpPortController.text.trim())
       ..smtpUsername = _smtpUsernameController.text.trim()
@@ -209,7 +198,6 @@ class _EmailSettingsState extends State<EmailSettings> {
     final localization = AppLocalization.of(context)!;
     final viewModel = widget.viewModel;
     final state = viewModel.state;
-    final company = viewModel.state.company;
     final settings = viewModel.settings;
     final settingsUIState = state.settingsUIState;
     final gmailUserIds = memoizedGmailUserList(viewModel.state.userState.map);
@@ -702,152 +690,6 @@ class _EmailSettingsState extends State<EmailSettings> {
                 onChanged: (value) => viewModel.onSettingsChanged(
                     settings.rebuild((b) => b..ublEmailAttachment = value)),
               ),
-              BoolDropdownButton(
-                label: localization.enableEInvoice,
-                value: settings.enableEInvoice,
-                iconData: MdiIcons.fileXmlBox,
-                onChanged: (value) => viewModel.onSettingsChanged(
-                    settings.rebuild((b) => b..enableEInvoice = value)),
-              ),
-              if (settings.enableEInvoice == true) ...[
-                Padding(
-                  padding:
-                      EdgeInsets.only(top: settingsUIState.isFiltered ? 0 : 12),
-                  child: AppDropdownButton<String>(
-                      labelText: localization.eInvoiceType,
-                      showBlank: settingsUIState.isFiltered,
-                      value: settings.eInvoiceType,
-                      onChanged: (dynamic value) {
-                        viewModel.onSettingsChanged(
-                            settings.rebuild((b) => b..eInvoiceType = value));
-                      },
-                      items: kEInvoiceTypes
-                          .map((type) => DropdownMenuItem<String>(
-                                child: Text(type
-                                    .replaceFirst('_', ' ')
-                                    .replaceAll('_', '.')),
-                                value: type,
-                              ))
-                          .toList()),
-                ),
-                AppDropdownButton<String>(
-                    labelText: localization.eQuoteType,
-                    showBlank: settingsUIState.isFiltered,
-                    value: settings.eQuoteType,
-                    onChanged: (dynamic value) {
-                      viewModel.onSettingsChanged(
-                          settings.rebuild((b) => b..eQuoteType = value));
-                    },
-                    items: kEQuoteTypes
-                        .map((type) => DropdownMenuItem<String>(
-                              child: Text(type
-                                  .replaceFirst('_', ' ')
-                                  .replaceAll('_', '.')),
-                              value: type,
-                            ))
-                        .toList()),
-                if (!settingsUIState.isFiltered) ...[
-                  SizedBox(height: 22),
-                  Row(
-                    children: [
-                      Expanded(
-                        flex: 2,
-                        child: OutlinedButton(
-                          onPressed: () async {
-                            final files = await pickFiles(
-                              fileIndex: 'e_invoice_certificate',
-                              allowMultiple: false,
-                              allowedExtensions: [
-                                'p12',
-                                'pfx',
-                                'pem',
-                                'cer',
-                                'crt',
-                                'der',
-                                'txt',
-                                'p7b',
-                                'spc',
-                                'bin',
-                              ],
-                            );
-
-                            if (files != null && files.isNotEmpty) {
-                              viewModel
-                                  .onEInvoiceCertificateSelected(files.first);
-                            }
-                          },
-                          child: Padding(
-                            padding: const EdgeInsets.all(12),
-                            child: Text(
-                                localization.uploadCertificate.toUpperCase()),
-                          ),
-                        ),
-                      ),
-                      SizedBox(width: kTableColumnGap),
-                      Expanded(
-                        child: Row(
-                          children: [
-                            Icon(
-                              company.hasEInvoiceCertificate
-                                  ? Icons.check_circle_outline
-                                  : Icons.circle_outlined,
-                              size: 16,
-                              color: company.hasEInvoiceCertificate
-                                  ? Colors.green
-                                  : Colors.grey,
-                            ),
-                            SizedBox(width: 8),
-                            Flexible(
-                              child: Text(
-                                company.hasEInvoiceCertificate
-                                    ? localization.certificateSet
-                                    : localization.certificateNotSet,
-                                maxLines: 2,
-                              ),
-                            ),
-                          ],
-                        ),
-                      ),
-                    ],
-                  ),
-                  Row(
-                    children: [
-                      Expanded(
-                        flex: 2,
-                        child: DecoratedFormField(
-                          label: localization.certificatePassphrase,
-                          controller: _eInvoiceCertificatePassphraseController,
-                          keyboardType: TextInputType.text,
-                          onSavePressed: _onSavePressed,
-                        ),
-                      ),
-                      SizedBox(width: kTableColumnGap),
-                      Expanded(
-                        child: Row(children: [
-                          Icon(
-                            company.hasEInvoiceCertificatePassphrase
-                                ? Icons.check_circle_outline
-                                : Icons.circle_outlined,
-                            size: 16,
-                            color: company.hasEInvoiceCertificatePassphrase
-                                ? Colors.green
-                                : Colors.grey,
-                          ),
-                          SizedBox(width: 8),
-                          Flexible(
-                            child: Text(
-                              company.hasEInvoiceCertificatePassphrase
-                                  ? localization.passphraseSet
-                                  : localization.passphraseNotSet,
-                              maxLines: 2,
-                            ),
-                          ),
-                        ]),
-                      )
-                    ],
-                  )
-                ],
-              ],
             ],
           ),
         ],
diff --git a/lib/ui/settings/email_settings_vm.dart b/lib/ui/settings/email_settings_vm.dart
index 1af6d15f693..b24096f9a4f 100644
--- a/lib/ui/settings/email_settings_vm.dart
+++ b/lib/ui/settings/email_settings_vm.dart
@@ -4,9 +4,7 @@ import 'package:flutter/widgets.dart';
 
 // Package imports:
 import 'package:flutter_redux/flutter_redux.dart';
-import 'package:http/http.dart';
 import 'package:invoiceninja_flutter/data/models/company_model.dart';
-import 'package:invoiceninja_flutter/main_app.dart';
 import 'package:redux/redux.dart';
 
 // Project imports:
@@ -51,75 +49,64 @@ class EmailSettingsVM {
     required this.settings,
     required this.onSettingsChanged,
     required this.onSavePressed,
-    required this.onEInvoiceCertificateSelected,
   });
 
   static EmailSettingsVM fromStore(Store<AppState> store) {
     final state = store.state;
 
     return EmailSettingsVM(
-        state: state,
-        company: state.uiState.settingsUIState.company,
-        settings: state.uiState.settingsUIState.settings,
-        onCompanyChanged: (company) =>
-            store.dispatch(UpdateCompany(company: company)),
-        onSettingsChanged: (settings) {
-          store.dispatch(UpdateSettings(settings: settings));
-        },
-        onSavePressed: (
-          context,
-        ) {
-          if (!state.isProPlan && !state.isTrial) {
+      state: state,
+      company: state.uiState.settingsUIState.company,
+      settings: state.uiState.settingsUIState.settings,
+      onCompanyChanged: (company) =>
+          store.dispatch(UpdateCompany(company: company)),
+      onSettingsChanged: (settings) {
+        store.dispatch(UpdateSettings(settings: settings));
+      },
+      onSavePressed: (
+        context,
+      ) {
+        if (!state.isProPlan && !state.isTrial) {
+          return;
+        }
+
+        Debouncer.runOnComplete(() {
+          final settingsUIState = store.state.uiState.settingsUIState;
+          final settings = settingsUIState.settings;
+          if (settings.emailStyle == kEmailDesignCustom &&
+              !settings.emailStyleCustom!.contains('\$body')) {
+            showErrorDialog(
+                message: AppLocalization.of(context)!
+                    .bodyVariableMissing
+                    .replaceFirst(':body', '\$body'));
             return;
           }
 
-          Debouncer.runOnComplete(() {
-            final settingsUIState = store.state.uiState.settingsUIState;
-            final settings = settingsUIState.settings;
-            if (settings.emailStyle == kEmailDesignCustom &&
-                !settings.emailStyleCustom!.contains('\$body')) {
-              showErrorDialog(
-                  message: AppLocalization.of(context)!
-                      .bodyVariableMissing
-                      .replaceFirst(':body', '\$body'));
-              return;
-            }
-
-            switch (settingsUIState.entityType) {
-              case EntityType.company:
-                final completer = snackBarCompleter<Null>(
-                    AppLocalization.of(context)!.savedSettings);
-                store.dispatch(SaveCompanyRequest(
-                  completer: completer,
-                  company: settingsUIState.company,
-                ));
-                break;
-              case EntityType.group:
-                final completer = snackBarCompleter<GroupEntity>(
-                    AppLocalization.of(context)!.savedSettings);
-                store.dispatch(SaveGroupRequest(
-                    completer: completer, group: settingsUIState.group));
-                break;
-              case EntityType.client:
-                final completer = snackBarCompleter<ClientEntity>(
-                    AppLocalization.of(context)!.savedSettings);
-                store.dispatch(SaveClientRequest(
-                    completer: completer, client: settingsUIState.client));
-                break;
-            }
-          });
-        },
-        onEInvoiceCertificateSelected: (eInvoiceCertificate) {
-          final completer = snackBarCompleter<Null>(
-              AppLocalization.of(navigatorKey.currentContext!)!
-                  .uploadedCertificate);
-          store.dispatch(
-            SaveEInvoiceCertificateRequest(
+          switch (settingsUIState.entityType) {
+            case EntityType.company:
+              final completer = snackBarCompleter<Null>(
+                  AppLocalization.of(context)!.savedSettings);
+              store.dispatch(SaveCompanyRequest(
                 completer: completer,
-                company: state.company,
-                eInvoiceCertificate: eInvoiceCertificate),
-          );
+                company: settingsUIState.company,
+              ));
+              break;
+            case EntityType.group:
+              final completer = snackBarCompleter<GroupEntity>(
+                  AppLocalization.of(context)!.savedSettings);
+              store.dispatch(SaveGroupRequest(
+                  completer: completer, group: settingsUIState.group));
+              break;
+            case EntityType.client:
+              final completer = snackBarCompleter<ClientEntity>(
+                  AppLocalization.of(context)!.savedSettings);
+              store.dispatch(SaveClientRequest(
+                  completer: completer, client: settingsUIState.client));
+              break;
+          }
         });
+      },
+    );
   }
 
   final AppState state;
@@ -128,5 +115,4 @@ class EmailSettingsVM {
   final SettingsEntity settings;
   final Function(SettingsEntity) onSettingsChanged;
   final Function(CompanyEntity) onCompanyChanged;
-  final Function(MultipartFile) onEInvoiceCertificateSelected;
 }
