diff --git a/lib/redux/app/app_actions.dart b/lib/redux/app/app_actions.dart
index b45ffcc216e..120734f0ed8 100644
--- a/lib/redux/app/app_actions.dart
+++ b/lib/redux/app/app_actions.dart
@@ -306,11 +306,13 @@ void viewEntityById({
   String entityId,
   EntityType entityType,
   bool force = false,
+  bool showError = true,
 }) {
   final store = StoreProvider.of<AppState>(context);
   final navigator = Navigator.of(context);
 
   if (entityId != null &&
+      showError &&
       !store.state.getEntityMap(entityType).containsKey(entityId)) {
     showErrorDialog(
         context: context,
diff --git a/lib/redux/app/app_state.dart b/lib/redux/app/app_state.dart
index b0d3ad9a354..7a36538ca6a 100644
--- a/lib/redux/app/app_state.dart
+++ b/lib/redux/app/app_state.dart
@@ -117,8 +117,18 @@ abstract class AppState implements Built<AppState, AppStateBuilder> {
   String get accentColor =>
       user?.userCompany?.settings?.accentColor ?? kDefaultAccentColor;
 
-  BuiltList<HistoryRecord> get historyList =>
-      prefState.companyPrefs[uiState.selectedCompanyIndex].historyList;
+  List<HistoryRecord> get historyList =>
+      prefState.companyPrefs[uiState.selectedCompanyIndex].historyList
+          .where((history) {
+        final entityMap = getEntityMap(history.entityType);
+        if (entityMap != null) {
+          final entity = entityMap[history.id] as BaseEntity;
+          if (entity?.isDeleted == true) {
+            return false;
+          }
+        }
+        return true;
+      }).toList();
 
   bool shouldSelectEntity({EntityType entityType, bool hasRecords}) {
     final entityList = getEntityList(entityType);
diff --git a/lib/ui/app/history_drawer.dart b/lib/ui/app/history_drawer.dart
index c817d082d29..0fd635880ac 100644
--- a/lib/ui/app/history_drawer.dart
+++ b/lib/ui/app/history_drawer.dart
@@ -37,16 +37,6 @@ class HistoryDrawer extends StatelessWidget {
 
     final widgets = <Widget>[];
     for (var history in state.historyList) {
-      final entityMap = state.getEntityMap(history.entityType);
-
-      if (entityMap != null) {
-        final entity = entityMap[history.id] as BaseEntity;
-
-        if (entity?.isDeleted == true) {
-          continue;
-        }
-      }
-
       widgets.add(HistoryListTile(
         history: history,
       ));
@@ -128,8 +118,7 @@ class _HistoryListTileState extends State<HistoryListTile> {
       } else if (history.entityType == EntityType.settings) {
         var section = state.uiState.settingsUIState.section;
         section = section.replaceAll('_edit', '').replaceAll('_view', '');
-        subtitle =
-            Text(localization.lookup(section));
+        subtitle = Text(localization.lookup(section));
       }
     } else {
       entity = state.getEntityMap(history.entityType)[history.id] as BaseEntity;
diff --git a/lib/ui/app/main_screen.dart b/lib/ui/app/main_screen.dart
index d085099717d..c0315f39ea4 100644
--- a/lib/ui/app/main_screen.dart
+++ b/lib/ui/app/main_screen.dart
@@ -189,9 +189,11 @@ class MainScreen extends StatelessWidget {
                   break;
                 default:
                   viewEntityById(
-                      context: context,
-                      entityId: history.id,
-                      entityType: history.entityType);
+                    context: context,
+                    entityId: history.id,
+                    entityType: history.entityType,
+                    showError: false,
+                  );
               }
 
               return false;
