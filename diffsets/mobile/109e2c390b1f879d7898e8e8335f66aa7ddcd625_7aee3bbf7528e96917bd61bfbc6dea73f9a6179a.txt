diff --git a/lib/src/view/analysis/analysis_layout.dart b/lib/src/view/analysis/analysis_layout.dart
index 948b660c36..7b7cdf1413 100644
--- a/lib/src/view/analysis/analysis_layout.dart
+++ b/lib/src/view/analysis/analysis_layout.dart
@@ -184,6 +184,7 @@ class AnalysisLayout extends StatelessWidget {
                         Expanded(
                           child: Column(
                             mainAxisAlignment: MainAxisAlignment.start,
+                            crossAxisAlignment: CrossAxisAlignment.stretch,
                             children: [
                               if (engineLines != null) engineLines!,
                               Expanded(
diff --git a/test/test_helpers.dart b/test/test_helpers.dart
index dfedcc6b3c..3256f9b2ab 100644
--- a/test/test_helpers.dart
+++ b/test/test_helpers.dart
@@ -11,6 +11,29 @@ import 'package:http/http.dart' as http;
 const double _kTestScreenWidth = 390.0;
 const double _kTestScreenHeight = 844.0;
 
+const kTestSurfaces = [
+  // https://www.browserstack.com/guide/common-screen-resolutions
+  // phones
+  Size(360, 800),
+  Size(390, 844),
+  Size(393, 873),
+  Size(412, 915),
+  Size(414, 896),
+  Size(360, 780),
+  // tablets
+  Size(600, 1024),
+  Size(810, 1080),
+  Size(820, 1180),
+  Size(1280, 800),
+  Size(800, 1280),
+  Size(601, 962),
+  // folded motorola
+  Size(564.7, 482.6),
+  // pixel fold unfolded
+  Size(701.0, 841.1),
+  Size(841.1, 701.0),
+];
+
 /// iPhone 14 screen size.
 const kTestSurfaceSize = Size(_kTestScreenWidth, _kTestScreenHeight);
 
diff --git a/test/view/analysis/analysis_layout_test.dart b/test/view/analysis/analysis_layout_test.dart
new file mode 100644
index 0000000000..fd0c130feb
--- /dev/null
+++ b/test/view/analysis/analysis_layout_test.dart
@@ -0,0 +1,146 @@
+import 'dart:math';
+
+import 'package:chessground/chessground.dart';
+import 'package:dartchess/dartchess.dart';
+import 'package:flutter/material.dart';
+import 'package:flutter_test/flutter_test.dart';
+import 'package:lichess_mobile/src/constants.dart';
+import 'package:lichess_mobile/src/view/analysis/analysis_layout.dart';
+
+import '../../test_helpers.dart';
+import '../../test_provider_scope.dart';
+
+void main() {
+  testWidgets(
+    'board background size should match board size on all surfaces',
+    (WidgetTester tester) async {
+      for (final surface in kTestSurfaces) {
+        final app = await makeTestProviderScope(
+          key: ValueKey(surface),
+          tester,
+          child: MaterialApp(
+            home: DefaultTabController(
+              length: 1,
+              child: AnalysisLayout(
+                boardBuilder: (context, boardSize, boardRadius) {
+                  return Chessboard.fixed(
+                    size: boardSize,
+                    fen: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR',
+                    orientation: Side.white,
+                  );
+                },
+                bottomBar: const SizedBox(height: kBottomBarHeight),
+                children: const [
+                  Center(child: Text('Analysis tab')),
+                ],
+              ),
+            ),
+          ),
+          surfaceSize: surface,
+        );
+        await tester.pumpWidget(app);
+
+        final backgroundSize = tester.getSize(
+          find.byType(SolidColorChessboardBackground),
+        );
+
+        expect(
+          backgroundSize.width,
+          backgroundSize.height,
+          reason: 'Board background size is square on $surface',
+        );
+
+        final boardSize = tester.getSize(find.byType(Chessboard));
+
+        expect(
+          boardSize.width,
+          boardSize.height,
+          reason: 'Board size is square on $surface',
+        );
+
+        expect(
+          boardSize,
+          backgroundSize,
+          reason: 'Board size should match background size on $surface',
+        );
+      }
+    },
+    variant: kPlatformVariant,
+  );
+
+  testWidgets(
+    'board size and table side size should be harmonious on all surfaces',
+    (WidgetTester tester) async {
+      for (final surface in kTestSurfaces) {
+        final app = await makeTestProviderScope(
+          key: ValueKey(surface),
+          tester,
+          child: MaterialApp(
+            home: DefaultTabController(
+              length: 1,
+              child: AnalysisLayout(
+                boardBuilder: (context, boardSize, boardRadius) {
+                  return Chessboard.fixed(
+                    size: boardSize,
+                    fen: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR',
+                    orientation: Side.white,
+                  );
+                },
+                bottomBar: const SizedBox(height: kBottomBarHeight),
+                children: const [
+                  Center(child: Text('Analysis tab')),
+                ],
+              ),
+            ),
+          ),
+          surfaceSize: surface,
+        );
+        await tester.pumpWidget(app);
+
+        final isPortrait = surface.aspectRatio < 1.0;
+        final isTablet = surface.shortestSide > 600;
+        final boardSize = tester.getSize(find.byType(Chessboard));
+
+        if (isPortrait) {
+          final expectedBoardSize =
+              isTablet ? surface.width - 32.0 : surface.width;
+          expect(
+            boardSize,
+            Size(expectedBoardSize, expectedBoardSize),
+            reason: 'Board size should match surface width on $surface',
+          );
+        } else {
+          final tabBarViewSize = tester.getSize(find.byType(TabBarView));
+          final goldenBoardSize = (surface.longestSide / kGoldenRatio) - 32.0;
+          final defaultBoardSize =
+              surface.shortestSide - kBottomBarHeight - 32.0;
+          final minBoardSize = min(goldenBoardSize, defaultBoardSize);
+          final maxBoardSize = max(goldenBoardSize, defaultBoardSize);
+          // TabBarView is inside a Card so we need to account for its padding
+          const cardPadding = 8.0;
+          final minSideWidth = min(
+            surface.longestSide - goldenBoardSize - 16.0 * 3 - cardPadding,
+            250.0,
+          );
+          expect(
+            boardSize.width,
+            greaterThanOrEqualTo(minBoardSize),
+            reason: 'Board size should be at least $minBoardSize on $surface',
+          );
+          expect(
+            boardSize.width,
+            lessThanOrEqualTo(maxBoardSize),
+            reason: 'Board size should be at most $maxBoardSize on $surface',
+          );
+          expect(
+            tabBarViewSize.width,
+            greaterThanOrEqualTo(minSideWidth),
+            reason:
+                'Tab bar view width should be at least $minSideWidth on $surface',
+          );
+        }
+      }
+    },
+    variant: kPlatformVariant,
+  );
+}
diff --git a/test/widgets/board_table_test.dart b/test/widgets/board_table_test.dart
index 5701a463df..f49bf98090 100644
--- a/test/widgets/board_table_test.dart
+++ b/test/widgets/board_table_test.dart
@@ -10,34 +10,11 @@ import 'package:lichess_mobile/src/widgets/board_table.dart';
 import '../test_helpers.dart';
 import '../test_provider_scope.dart';
 
-const surfaces = [
-  // https://www.browserstack.com/guide/common-screen-resolutions
-  // phones
-  Size(360, 800),
-  Size(390, 844),
-  Size(393, 873),
-  Size(412, 915),
-  Size(414, 896),
-  Size(360, 780),
-  // tablets
-  Size(600, 1024),
-  Size(810, 1080),
-  Size(820, 1180),
-  Size(1280, 800),
-  Size(800, 1280),
-  Size(601, 962),
-  // folded motorola
-  Size(564.7, 482.6),
-  // pixel fold unfolded
-  Size(701.0, 841.1),
-  Size(841.1, 701.0),
-];
-
 void main() {
   testWidgets(
     'board background size should match board size on all surfaces',
     (WidgetTester tester) async {
-      for (final surface in surfaces) {
+      for (final surface in kTestSurfaces) {
         final app = await makeTestProviderScope(
           key: ValueKey(surface),
           tester,
@@ -96,7 +73,7 @@ void main() {
   testWidgets(
     'board size and table side size should be harmonious on all surfaces',
     (WidgetTester tester) async {
-      for (final surface in surfaces) {
+      for (final surface in kTestSurfaces) {
         final app = await makeTestProviderScope(
           key: ValueKey(surface),
           tester,
@@ -141,10 +118,12 @@ void main() {
               tester.getSize(find.byKey(const ValueKey('top_table')));
           final bottomTableSize =
               tester.getSize(find.byKey(const ValueKey('bottom_table')));
-          final minBoardSize = (surface.longestSide / kGoldenRatio) - 32.0;
-          final maxBoardSize = surface.longestSide - 32.0;
+          final goldenBoardSize = (surface.longestSide / kGoldenRatio) - 32.0;
+          final defaultBoardSize = surface.shortestSide - 32.0;
+          final minBoardSize = min(goldenBoardSize, defaultBoardSize);
+          final maxBoardSize = max(goldenBoardSize, defaultBoardSize);
           final minSideWidth =
-              min(surface.longestSide - minBoardSize - 16.0 * 3, 250.0);
+              min(surface.longestSide - goldenBoardSize - 16.0 * 3, 250.0);
           expect(
             boardSize.width,
             greaterThanOrEqualTo(minBoardSize),
