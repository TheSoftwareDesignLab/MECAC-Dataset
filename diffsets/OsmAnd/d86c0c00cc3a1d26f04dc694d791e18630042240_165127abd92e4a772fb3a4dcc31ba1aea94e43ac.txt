diff --git a/OsmAnd/res/layout/profile_list_item.xml b/OsmAnd/res/layout/profile_list_item.xml
index 98a95cdf43a..1056d60f6d7 100644
--- a/OsmAnd/res/layout/profile_list_item.xml
+++ b/OsmAnd/res/layout/profile_list_item.xml
@@ -10,9 +10,9 @@
 
   <ImageView
     android:id="@+id/icon"
-    android:layout_width="wrap_content"
+    android:layout_width="@dimen/standard_icon_size"
     android:layout_height="@dimen/standard_icon_size"
-    android:layout_marginLeft="@dimen/setting_profile_image_margin"
+    android:layout_marginLeft="16dp"
     android:layout_marginRight="@dimen/setting_profile_image_margin"
     tools:src="@drawable/ic_action_bicycle_dark"/>
 
@@ -21,22 +21,18 @@
     android:layout_height="match_parent"
     android:orientation="vertical">
 
-    <View
-        android:layout_width="match_parent"
-        android:layout_height="1dp"
-        android:background="@color/settings_divider"/>
 
     <LinearLayout
       android:layout_width="match_parent"
-      android:layout_height="match_parent"
+      android:layout_height="63dp"
       android:orientation="horizontal">
 
       <LinearLayout
         android:layout_width="0dp"
         android:layout_height="match_parent"
+        android:layout_weight="3"
         android:gravity="center"
-        android:orientation="vertical"
-        android:layout_weight="5">
+        android:orientation="vertical">
 
         <TextView
           android:id="@+id/title"
@@ -64,35 +60,43 @@
 
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
-          android:src="@drawable/ic_action_additional_option"
-          android:tint="?attr/primary_icon_color"
           android:layout_gravity="center_vertical"
-          android:paddingLeft="@dimen/setting_profile_item_switch_margin"
-          android:paddingRight="10dp"
-          android:paddingBottom="@dimen/setting_profile_item_switch_margin"
           android:paddingTop="@dimen/setting_profile_item_switch_margin"
+          android:paddingBottom="@dimen/setting_profile_item_switch_margin"
           android:paddingStart="@dimen/setting_profile_item_switch_margin"
-          android:paddingEnd="10dp"/>
+          android:paddingEnd="10dp"
+          android:paddingLeft="@dimen/setting_profile_item_switch_margin"
+          android:paddingRight="10dp"
+          android:src="@drawable/ic_action_additional_option"
+          android:tint="?attr/primary_icon_color"/>
 
         <android.support.v7.widget.SwitchCompat
           android:id="@+id/compound_button"
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:layout_gravity="center_vertical|end"
-          android:paddingRight="16dp"
-          android:paddingEnd="16dp"
           android:paddingTop="@dimen/setting_profile_item_switch_margin"
           android:paddingBottom="@dimen/setting_profile_item_switch_margin"
-          android:paddingLeft="16dp"
           android:paddingStart="16dp"
+          android:paddingEnd="16dp"
+          android:paddingLeft="16dp"
+          android:paddingRight="16dp"
           android:background="@null"
           android:clickable="false"
           android:focusable="false"
           android:focusableInTouchMode="false"/>
       </LinearLayout>
 
+
     </LinearLayout>
 
+    <View
+      android:layout_width="match_parent"
+      android:layout_height="1dp"
+      android:layout_weight="2"
+      android:background="@color/settings_divider"/>
+
+
   </LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
index 83e827ed752..65d8cf45f59 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
@@ -6,11 +6,15 @@
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.os.Bundle;
+import android.support.annotation.NonNull;
+import android.support.annotation.Nullable;
 import android.support.v7.widget.LinearLayoutManager;
 import android.support.v7.widget.RecyclerView;
 import android.util.TypedValue;
 import android.view.ContextThemeWrapper;
+import android.view.LayoutInflater;
 import android.view.View;
+import android.view.ViewGroup;
 import android.widget.TextView;
 import java.util.ArrayList;
 import java.util.HashSet;
@@ -30,7 +34,7 @@ public class AppModesBottomSheetDialogFragment extends MenuBottomSheetDialogFrag
 	private Set<ApplicationMode> selectedModes = new HashSet<>();
 
 	protected boolean nightMode;
-
+	private int themeRes;
 	private ProfileMenuAdapter adapter;
 	private RecyclerView recyclerView;
 
@@ -46,6 +50,20 @@ public void onCreate(Bundle savedInstanceState) {
 		selectedModes.remove(ApplicationMode.DEFAULT);
 	}
 
+	@Nullable
+	@Override
+	public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup parent,
+		Bundle savedInstanceState) {
+		themeRes = nightMode ? R.style.OsmandDarkTheme : R.style.OsmandLightTheme;
+		adapter = new ProfileMenuAdapter(allModes, selectedModes, getMyApplication(), listener);
+		recyclerView = new RecyclerView(getContext());
+		recyclerView = (RecyclerView) View
+			.inflate(new ContextThemeWrapper(getContext(), themeRes), R.layout.recyclerview, null);
+		recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));
+		recyclerView.setAdapter(adapter);
+		return super.onCreateView(inflater, parent, savedInstanceState);
+	}
+
 	@Override
 	public void onDismiss(DialogInterface dialog) {
 		super.onDismiss(dialog);
@@ -85,14 +103,8 @@ public void editProfile(ApplicationMode item) {
 	@Override
 	public void createMenuItems(Bundle savedInstanceState) {
 
-		adapter = new ProfileMenuAdapter(allModes, selectedModes, getMyApplication(), listener);
 
-		recyclerView = new RecyclerView(getContext());
-		final int themeRes = nightMode ? R.style.OsmandDarkTheme : R.style.OsmandLightTheme;
-		recyclerView = (RecyclerView) View
-			.inflate(new ContextThemeWrapper(getContext(), themeRes), R.layout.recyclerview, null);
-		recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));
-		recyclerView.setAdapter(adapter);
+
 
 		final View textButtonView = View.inflate(new ContextThemeWrapper(getContext(), themeRes),
 			R.layout.bottom_sheet_item_simple, null);
@@ -116,6 +128,7 @@ public void onClick(View v) {
 				}
 			})
 			.create());
+
 	}
 
 	public void setUpdateMapRouteMenuListener(
diff --git a/OsmAnd/src/net/osmand/plus/profiles/EditProfileActivity.java b/OsmAnd/src/net/osmand/plus/profiles/EditProfileActivity.java
index 021f21c60d0..4f7f6042336 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/EditProfileActivity.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/EditProfileActivity.java
@@ -45,7 +45,7 @@ public boolean onOptionsItemSelected(MenuItem item) {
 		int itemId = item.getItemId();
 		switch (itemId) {
 			case android.R.id.home:
-				finish();
+				onBackPressed();
 				return true;
 			case DELETE_ID:
 				((EditProfileFragment) getSupportFragmentManager().findFragmentByTag(
diff --git a/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java b/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
index f44daad6ea2..81bda62d767 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
@@ -87,6 +87,14 @@ public void onBindViewHolder(@NonNull final ProfileViewHolder holder, int positi
 			? item.getSmallIconDark()
 			: ApplicationMode.getIconResFromName(app, item.getIconName(), app.getPackageName());
 
+		if (iconRes == 0 || iconRes == -1) {
+			if (item.getParent() != null) {
+				iconRes = item.getParent().getSmallIconDark();
+			} else {
+				iconRes = R.drawable.ic_action_world_globe;
+			}
+		}
+
 		if (selectedItems.contains(item)) {
 			holder.aSwitch.setChecked(true);
 			holder.icon.setImageDrawable(app.getUIUtilities().getIcon(iconRes, selectedIconColorRes));
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
index 5862bf86256..2098deb2ba6 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
@@ -732,6 +732,7 @@ public void onClick(View v) {
 			mainView.findViewById(R.id.app_modes_options).setOnClickListener(new OnClickListener() {
 				@Override
 				public void onClick(View v) {
+
 					showProfileBottomSheetDialog(mapActivity);
 					//todo clear (+ method's body) before final commit
 					//availableProfileDialog();
@@ -761,6 +762,7 @@ public void updateAppModeMenu() {
 			.add(fragment, "app_profile_settings").commitAllowingStateLoss();
 
 
+
 	}
 
 	private void availableProfileDialog() {
