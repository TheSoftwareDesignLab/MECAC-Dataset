diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 95084627d2a..bada979412e 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -17,9 +17,9 @@
 import static net.osmand.render.RenderingRuleStorageProperties.A_BASE_APP_MODE;
 
 import android.annotation.SuppressLint;
+import android.app.UiModeManager;
 import android.content.Context;
 import android.content.SharedPreferences;
-import android.content.res.Configuration;
 import android.net.ConnectivityManager;
 import android.net.NetworkInfo;
 import android.os.Build;
@@ -3058,9 +3058,9 @@ public boolean isLightContentForMode(ApplicationMode appMode) {
 	}
 
 	public boolean isLightSystemTheme() {
-		Configuration config = ctx.getResources().getConfiguration();
-		int systemNightState = config.uiMode & Configuration.UI_MODE_NIGHT_MASK;
-		return systemNightState != Configuration.UI_MODE_NIGHT_YES;
+		UiModeManager uiModeManager = (UiModeManager) ctx.getSystemService(Context.UI_MODE_SERVICE);
+		int mode = uiModeManager.getNightMode();
+		return mode != UiModeManager.MODE_NIGHT_YES;
 	}
 
 	public boolean isSystemThemeUsed(@NonNull ApplicationMode appMode) {
