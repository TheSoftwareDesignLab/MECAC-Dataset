diff --git a/OsmAnd/res/drawable-hdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-hdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..7a84c52ecc6
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-hdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-hdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..dfe6808cada
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-hdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-hdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..5bc3ca2e176
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-hdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-hdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..f4df4542722
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-hdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-hdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..a0001ebe324
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-hdpi/map_small_group.png b/OsmAnd/res/drawable-hdpi/map_small_group.png
new file mode 100644
index 00000000000..1ca12287f98
Binary files /dev/null and b/OsmAnd/res/drawable-hdpi/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-large-hdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..65f24663bc5
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-large-hdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..9613a43ad6e
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-large-hdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..e61d74d4e9d
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-large-hdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..c49eca17c4d
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_osm_resolved.png b/OsmAnd/res/drawable-large-hdpi/map_osm_resolved.png
new file mode 100644
index 00000000000..5850ea04660
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_osm_resolved.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_osm_resolved_small.png b/OsmAnd/res/drawable-large-hdpi/map_osm_resolved_small.png
new file mode 100644
index 00000000000..cabf5388ea5
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_osm_resolved_small.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved.png b/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved.png
new file mode 100644
index 00000000000..4475cda0ab0
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved_small.png b/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved_small.png
new file mode 100644
index 00000000000..4038709e717
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_osm_unresolved_small.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-large-hdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..67673adab6c
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-large-hdpi/map_small_group.png b/OsmAnd/res/drawable-large-hdpi/map_small_group.png
new file mode 100644
index 00000000000..a440f345c76
Binary files /dev/null and b/OsmAnd/res/drawable-large-hdpi/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-large-xhdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..42eec822b56
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-large-xhdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..d2407408a19
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-large-xhdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..7b41a25dfbe
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-large-xhdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..f862a3f3f5b
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved.png b/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved.png
new file mode 100644
index 00000000000..3f016cf2160
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved_small.png b/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved_small.png
new file mode 100644
index 00000000000..15a0b462e2d
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_osm_resolved_small.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved.png b/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved.png
new file mode 100644
index 00000000000..dd70e4bfbbc
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved_small.png b/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved_small.png
new file mode 100644
index 00000000000..d9afeef173a
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_osm_unresolved_small.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-large-xhdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..2dedaef71fb
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-large-xhdpi/map_small_group.png b/OsmAnd/res/drawable-large-xhdpi/map_small_group.png
new file mode 100644
index 00000000000..7c4b45d02e7
Binary files /dev/null and b/OsmAnd/res/drawable-large-xhdpi/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-large/map_action_edit_dark.png b/OsmAnd/res/drawable-large/map_action_edit_dark.png
new file mode 100644
index 00000000000..7a84c52ecc6
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-large/map_action_fav_dark.png b/OsmAnd/res/drawable-large/map_action_fav_dark.png
new file mode 100644
index 00000000000..dfe6808cada
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-large/map_action_flag_dark.png b/OsmAnd/res/drawable-large/map_action_flag_dark.png
new file mode 100644
index 00000000000..5bc3ca2e176
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-large/map_action_gshare_dark.png b/OsmAnd/res/drawable-large/map_action_gshare_dark.png
new file mode 100644
index 00000000000..f4df4542722
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-large/map_osm_resolved.png b/OsmAnd/res/drawable-large/map_osm_resolved.png
new file mode 100644
index 00000000000..a2fd06e3f56
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_osm_resolved.png differ
diff --git a/OsmAnd/res/drawable-large/map_osm_resolved_small.png b/OsmAnd/res/drawable-large/map_osm_resolved_small.png
new file mode 100644
index 00000000000..b34a4af881e
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_osm_resolved_small.png differ
diff --git a/OsmAnd/res/drawable-large/map_osm_unresolved.png b/OsmAnd/res/drawable-large/map_osm_unresolved.png
new file mode 100644
index 00000000000..d590a5283a1
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_osm_unresolved.png differ
diff --git a/OsmAnd/res/drawable-large/map_osm_unresolved_small.png b/OsmAnd/res/drawable-large/map_osm_unresolved_small.png
new file mode 100644
index 00000000000..92dc738c0af
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_osm_unresolved_small.png differ
diff --git a/OsmAnd/res/drawable-large/map_overflow_menu_white.png b/OsmAnd/res/drawable-large/map_overflow_menu_white.png
new file mode 100644
index 00000000000..a0001ebe324
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-large/map_small_group.png b/OsmAnd/res/drawable-large/map_small_group.png
new file mode 100644
index 00000000000..1ca12287f98
Binary files /dev/null and b/OsmAnd/res/drawable-large/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-mdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..d1b7340b569
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-mdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..04044ab479b
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-mdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..8e75e65563c
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-mdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..fe0882eec6a
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-mdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..eb2b0d75d81
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-mdpi/map_small_group.png b/OsmAnd/res/drawable-mdpi/map_small_group.png
new file mode 100644
index 00000000000..0e35fadf799
Binary files /dev/null and b/OsmAnd/res/drawable-mdpi/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-xhdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..65f24663bc5
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-xhdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..9613a43ad6e
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-xhdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..e61d74d4e9d
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-xhdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..c49eca17c4d
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-xhdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..67673adab6c
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-xhdpi/map_small_group.png b/OsmAnd/res/drawable-xhdpi/map_small_group.png
new file mode 100644
index 00000000000..a440f345c76
Binary files /dev/null and b/OsmAnd/res/drawable-xhdpi/map_small_group.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_action_edit_dark.png b/OsmAnd/res/drawable-xxhdpi/map_action_edit_dark.png
new file mode 100644
index 00000000000..42eec822b56
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_action_edit_dark.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_action_fav_dark.png b/OsmAnd/res/drawable-xxhdpi/map_action_fav_dark.png
new file mode 100644
index 00000000000..d2407408a19
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_action_fav_dark.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_action_flag_dark.png b/OsmAnd/res/drawable-xxhdpi/map_action_flag_dark.png
new file mode 100644
index 00000000000..7b41a25dfbe
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_action_flag_dark.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_action_gshare_dark.png b/OsmAnd/res/drawable-xxhdpi/map_action_gshare_dark.png
new file mode 100644
index 00000000000..f862a3f3f5b
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_action_gshare_dark.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_overflow_menu_white.png b/OsmAnd/res/drawable-xxhdpi/map_overflow_menu_white.png
new file mode 100644
index 00000000000..2dedaef71fb
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_overflow_menu_white.png differ
diff --git a/OsmAnd/res/drawable-xxhdpi/map_small_group.png b/OsmAnd/res/drawable-xxhdpi/map_small_group.png
new file mode 100644
index 00000000000..7c4b45d02e7
Binary files /dev/null and b/OsmAnd/res/drawable-xxhdpi/map_small_group.png differ
diff --git a/OsmAnd/res/layout/map_context_menu_fragment.xml b/OsmAnd/res/layout/map_context_menu_fragment.xml
index fa2d1d9cdd4..75c14dd8a00 100644
--- a/OsmAnd/res/layout/map_context_menu_fragment.xml
+++ b/OsmAnd/res/layout/map_context_menu_fragment.xml
@@ -16,7 +16,7 @@
         <LinearLayout
             android:id="@+id/context_menu_top_shadow"
             android:layout_width="match_parent"
-            android:layout_height="20dp"
+            android:layout_height="@dimen/context_menu_top_shadow_h"
             android:orientation="horizontal">
 
         </LinearLayout>
@@ -32,22 +32,22 @@
                 android:id="@+id/context_menu_top_view"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:layout_marginBottom="16dp"
+                android:layout_marginBottom="@dimen/context_menu_first_line_bottom_margin"
                 android:baselineAligned="false"
                 android:orientation="horizontal">
 
                 <LinearLayout
                     android:id="@+id/context_menu_icon_layout"
-                    android:layout_width="42dp"
+                    android:layout_width="52dp"
                     android:layout_height="match_parent">
 
                     <ImageView
                         android:id="@+id/context_menu_icon_view"
-                        android:layout_width="@dimen/standard_icon_size"
-                        android:layout_height="@dimen/standard_icon_size"
+                        android:layout_width="@dimen/map_widget_icon"
+                        android:layout_height="@dimen/map_widget_icon"
                         android:layout_marginLeft="16dp"
                         android:layout_marginStart="12dp"
-                        android:layout_marginTop="17dp"
+                        android:layout_marginTop="@dimen/context_menu_icon_top_padding"
                         android:src="@drawable/ic_action_building_number"/>
 
                 </LinearLayout>
@@ -60,13 +60,13 @@
                     <LinearLayout
                         android:layout_width="match_parent"
                         android:layout_height="wrap_content"
-                        android:layout_marginLeft="30dp"
+                        android:layout_marginLeft="20dp"
                         android:orientation="horizontal">
 
                         <LinearLayout
                             android:layout_width="0dp"
                             android:layout_height="wrap_content"
-                            android:layout_marginTop="14dp"
+                            android:layout_marginTop="@dimen/context_menu_first_line_top_margin"
                             android:layout_weight="1">
 
                             <TextView
@@ -85,7 +85,7 @@
                             android:id="@+id/context_menu_close_btn_layout"
                             android:layout_width="wrap_content"
                             android:layout_height="match_parent"
-                            android:minWidth="76dp"
+                            android:minWidth="@dimen/context_menu_top_right_button_min_width"
                             android:orientation="horizontal">
 
                             <Button
@@ -94,8 +94,8 @@
                                 android:layout_height="wrap_content"
                                 android:background="?android:selectableItemBackground"
                                 android:gravity="center"
-                                android:paddingLeft="10dp"
-                                android:paddingRight="10dp"
+                                android:paddingLeft="@dimen/context_menu_button_padding_x"
+                                android:paddingRight="@dimen/context_menu_button_padding_x"
                                 android:text="@string/shared_string_others"
                                 android:textColor="?attr/contextMenuButtonColor"
                                 android:textSize="@dimen/default_desc_text_size"/>
@@ -107,8 +107,8 @@
                     <LinearLayout
                         android:layout_width="match_parent"
                         android:layout_height="wrap_content"
-                        android:layout_marginLeft="30dp"
-                        android:layout_marginTop="4dp"
+                        android:layout_marginLeft="20dp"
+                        android:layout_marginTop="@dimen/context_menu_second_line_top_margin"
                         android:orientation="horizontal">
 
                         <LinearLayout
@@ -136,7 +136,7 @@
                                 android:id="@+id/compass_layout"
                                 android:layout_width="wrap_content"
                                 android:layout_height="match_parent"
-                                android:minWidth="76dp"
+                                android:minWidth="@dimen/context_menu_top_right_button_min_width"
                                 android:orientation="horizontal">
 
                                 <ImageView
@@ -170,10 +170,10 @@
                 android:id="@+id/title_button_container"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
-                android:layout_marginTop="-16dp"
+                android:layout_marginTop="@dimen/context_menu_buttons_top_margin"
                 android:clickable="true"
                 android:orientation="horizontal"
-                android:paddingBottom="4dp"
+                android:paddingBottom="@dimen/context_menu_buttons_padding_bottom"
                 android:paddingLeft="62dp"
                 android:paddingRight="2dp"
                 android:visibility="gone"
@@ -185,8 +185,8 @@
                     android:layout_height="wrap_content"
                     android:background="?android:selectableItemBackground"
                     android:gravity="left|center_vertical"
-                    android:paddingLeft="10dp"
-                    android:paddingRight="10dp"
+                    android:paddingLeft="@dimen/context_menu_button_padding_x"
+                    android:paddingRight="@dimen/context_menu_button_padding_x"
                     android:text="@string/recording_context_menu_play"
                     android:textColor="?attr/contextMenuButtonColor"
                     android:textSize="@dimen/default_desc_text_size"/>
@@ -209,8 +209,8 @@
                     android:background="?android:selectableItemBackground"
                     android:drawableLeft="@drawable/ic_action_delete_dark"
                     android:gravity="center"
-                    android:paddingLeft="10dp"
-                    android:paddingRight="10dp"
+                    android:paddingLeft="@dimen/context_menu_button_padding_x"
+                    android:paddingRight="@dimen/context_menu_button_padding_x"
                     android:text="@string/shared_string_delete"
                     android:textColor="?attr/contextMenuButtonColor"
                     android:textSize="@dimen/default_desc_text_size"/>
@@ -221,12 +221,12 @@
                 android:id="@+id/title_progress_container"
                 android:layout_width="fill_parent"
                 android:layout_height="wrap_content"
-                android:layout_marginTop="-16dp"
+                android:layout_marginTop="@dimen/context_menu_buttons_top_margin"
                 android:clickable="true"
                 android:gravity="center_vertical"
-                android:minHeight="52dp"
+                android:minHeight="@dimen/context_menu_progress_min_height"
                 android:orientation="horizontal"
-                android:paddingBottom="4dp"
+                android:paddingBottom="@dimen/context_menu_buttons_padding_bottom"
                 android:paddingLeft="72dp"
                 android:paddingRight="2dp"
                 android:visibility="gone"
@@ -264,12 +264,12 @@
 
                     <ImageView
                         android:id="@+id/progressButton"
-                        android:layout_width="44dp"
-                        android:layout_height="44dp"
+                        android:layout_width="@dimen/context_menu_progress_cancel_button_size"
+                        android:layout_height="@dimen/context_menu_progress_cancel_button_size"
                         android:layout_gravity="center_vertical"
                         android:background="?android:selectableItemBackground"
                         android:scaleType="center"
-                        tools:src="@drawable/ic_action_remove_dark"/>
+                        tools:src="@drawable/map_action_cancel"/>
 
                 </LinearLayout>
 
@@ -285,7 +285,7 @@
                 android:id="@+id/context_menu_buttons"
                 xmlns:android="http://schemas.android.com/apk/res/android"
                 android:layout_width="match_parent"
-                android:layout_height="54dp">
+                android:layout_height="@dimen/context_menu_action_buttons_h">
 
                 <ImageButton
                     android:id="@+id/context_menu_fav_button"
@@ -295,7 +295,7 @@
                     android:layout_weight="1"
                     android:background="?attr/dashboard_button"
                     android:scaleType="center"
-                    android:src="@drawable/ic_action_fav_dark"/>
+                    android:src="@drawable/map_action_fav_dark"/>
 
                 <View
                     android:layout_width="1dp"
@@ -310,7 +310,7 @@
                     android:layout_weight="1"
                     android:background="?attr/dashboard_button"
                     android:scaleType="center"
-                    android:src="@drawable/map_action_waypoints"/>
+                    android:src="@drawable/map_action_flag_dark"/>
 
                 <View
                     android:layout_width="1dp"
@@ -325,7 +325,7 @@
                     android:layout_weight="1"
                     android:background="?attr/dashboard_button"
                     android:scaleType="center"
-                    android:src="@drawable/abc_ic_menu_share_mtrl_alpha"/>
+                    android:src="@drawable/map_action_gshare_dark"/>
 
                 <View
                     android:layout_width="1dp"
@@ -340,7 +340,7 @@
                     android:layout_weight="1"
                     android:background="?attr/dashboard_button"
                     android:scaleType="center"
-                    android:src="@drawable/ic_overflow_menu_white"/>
+                    android:src="@drawable/map_overflow_menu_white"/>
 
             </LinearLayout>
 
@@ -382,7 +382,7 @@
             android:layout_width="@dimen/fab_size_with_shadow"
             android:layout_height="@dimen/fab_size_with_shadow"
             android:layout_gravity="right"
-            android:layout_marginRight="12dp"
+            android:layout_marginRight="@dimen/fab_margin_right"
             android:background="@drawable/fab_background_style"
             android:scaleType="center"
             android:src="@drawable/map_directions"/>
diff --git a/OsmAnd/res/values-large/sizes.xml b/OsmAnd/res/values-large/sizes.xml
index caa6b3251e9..690e645b5f5 100644
--- a/OsmAnd/res/values-large/sizes.xml
+++ b/OsmAnd/res/values-large/sizes.xml
@@ -41,6 +41,25 @@
 	
 
 	<dimen name="map_widget_icon_margin">6dp</dimen>
+
+
+	<!-- ContextMenu -->
+	<dimen name="context_menu_top_shadow_h">30dp</dimen>
+	<dimen name="context_menu_icon_top_padding">25dp</dimen>
+	<dimen name="context_menu_first_line_top_margin">21dp</dimen>
+	<dimen name="context_menu_first_line_bottom_margin">24dp</dimen>
+	<dimen name="context_menu_second_line_top_margin">6dp</dimen>
+	<dimen name="context_menu_top_right_button_min_width">114dp</dimen>
+	<dimen name="context_menu_button_padding_x">15dp</dimen>
+	<dimen name="context_menu_buttons_top_margin">-24dp</dimen>
+	<dimen name="context_menu_buttons_padding_bottom">6dp</dimen>
+	<dimen name="context_menu_progress_min_height">78dp</dimen>
+	<dimen name="context_menu_progress_cancel_button_size">66dp</dimen>
+	<dimen name="context_menu_action_buttons_h">80dp</dimen>
+
+	<dimen name="fab_size_with_shadow">90dp</dimen>
+	<dimen name="fab_margin_right">18dp</dimen>
+
 	<!-- General -->
 	
 	<dimen name="list_item_height">65dp</dimen>
diff --git a/OsmAnd/res/values/sizes.xml b/OsmAnd/res/values/sizes.xml
index d6bdfc359f3..3282a0f8ed3 100644
--- a/OsmAnd/res/values/sizes.xml
+++ b/OsmAnd/res/values/sizes.xml
@@ -101,7 +101,23 @@
 	<dimen name="dash_margin">2dp</dimen>
 	<dimen name="dash_margin_h">6dp</dimen>
 
+
+	<!-- ContextMenu -->
+	<dimen name="context_menu_top_shadow_h">20dp</dimen>
+    <dimen name="context_menu_icon_top_padding">17dp</dimen>
+    <dimen name="context_menu_first_line_top_margin">14dp</dimen>
+    <dimen name="context_menu_first_line_bottom_margin">16dp</dimen>
+    <dimen name="context_menu_second_line_top_margin">4dp</dimen>
+    <dimen name="context_menu_top_right_button_min_width">76dp</dimen>
+    <dimen name="context_menu_button_padding_x">10dp</dimen>
+    <dimen name="context_menu_buttons_top_margin">-16dp</dimen>
+    <dimen name="context_menu_buttons_padding_bottom">4dp</dimen>
+    <dimen name="context_menu_progress_min_height">52dp</dimen>
+    <dimen name="context_menu_progress_cancel_button_size">44dp</dimen>
+    <dimen name="context_menu_action_buttons_h">54dp</dimen>
+
 	<dimen name="fab_size_with_shadow">62dp</dimen>
+    <dimen name="fab_margin_right">12dp</dimen>
 
     <!-- TextSizes -->
     <dimen name="default_list_text_size_large">19sp</dimen>
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenu.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenu.java
index 78970ed3461..99c5e767f8b 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenu.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenu.java
@@ -53,6 +53,7 @@ public class MapContextMenu extends MenuTitleController {
 	private LatLon myLocation;
 	private Float heading;
 	private boolean inLocationUpdate = false;
+	private long locationUpdateTime;
 
 	private int favActionIconId;
 
@@ -348,7 +349,7 @@ protected void acquireIcons() {
 		if (menuController != null) {
 			favActionIconId = menuController.getFavActionIconId();
 		} else {
-			favActionIconId = R.drawable.ic_action_fav_dark;
+			favActionIconId = R.drawable.map_action_fav_dark;
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenuFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenuFragment.java
index a315f64db5c..a7eae34304f 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenuFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MapContextMenuFragment.java
@@ -360,13 +360,8 @@ public void onClick(View v) {
 		});
 
 		final ImageButton buttonWaypoint = (ImageButton) view.findViewById(R.id.context_menu_route_button);
-		if (getMyApplication().getTargetPointsHelper().getPointToNavigate() == null) {
-			buttonWaypoint.setImageDrawable(iconsCache.getIcon(R.drawable.ic_action_flag_dark,
+		buttonWaypoint.setImageDrawable(iconsCache.getIcon(R.drawable.map_action_flag_dark,
 				light ? R.color.icon_color : R.color.dashboard_subheader_text_dark));
-		} else {
-			buttonWaypoint.setImageDrawable(iconsCache.getIcon(R.drawable.map_action_waypoints,
-				light ? R.color.icon_color : R.color.dashboard_subheader_text_dark));
-		}
 		buttonWaypoint.setOnClickListener(new View.OnClickListener() {
 			@Override
 			public void onClick(View v) {
@@ -375,7 +370,7 @@ public void onClick(View v) {
 		});
 
 		final ImageButton buttonShare = (ImageButton) view.findViewById(R.id.context_menu_share_button);
-		buttonShare.setImageDrawable(iconsCache.getIcon(R.drawable.abc_ic_menu_share_mtrl_alpha,
+		buttonShare.setImageDrawable(iconsCache.getIcon(R.drawable.map_action_gshare_dark,
 				light ? R.color.icon_color : R.color.dashboard_subheader_text_dark));
 		buttonShare.setOnClickListener(new View.OnClickListener() {
 			@Override
@@ -385,7 +380,7 @@ public void onClick(View v) {
 		});
 
 		final ImageButton buttonMore = (ImageButton) view.findViewById(R.id.context_menu_more_button);
-		buttonMore.setImageDrawable(iconsCache.getIcon(R.drawable.ic_overflow_menu_white,
+		buttonMore.setImageDrawable(iconsCache.getIcon(R.drawable.map_overflow_menu_white,
 				light ? R.color.icon_color : R.color.dashboard_subheader_text_dark));
 		buttonMore.setOnClickListener(new View.OnClickListener() {
 			@Override
@@ -758,7 +753,8 @@ private void setAddressLocation() {
 
 	private void updateCompassVisibility() {
 		View compassView = view.findViewById(R.id.compass_layout);
-		if (menu.displayDistanceDirection() && menu.getCurrentMenuState() != MenuState.FULL_SCREEN) {
+		boolean gpsFixed = getMyApplication().getLocationProvider().getGPSInfo().fixed;
+		if (gpsFixed && menu.displayDistanceDirection() && menu.getCurrentMenuState() != MenuState.FULL_SCREEN) {
 			updateDistanceDirection();
 			compassView.setVisibility(View.VISIBLE);
 		} else {
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MenuController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MenuController.java
index 7b28f7f0001..f80f1583ebb 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/MenuController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/MenuController.java
@@ -138,7 +138,7 @@ public void addPlainMenuItems(String typeStr, PointDescription pointDescription,
 
 	protected void addMyLocationToPlainItems(PointDescription pointDescription, LatLon latLon) {
 		if (pointDescription != null) {
-			addPlainMenuItem(R.drawable.map_my_location, PointDescription.getLocationName(getMapActivity(),
+			addPlainMenuItem(R.drawable.ic_action_get_my_location, PointDescription.getLocationName(getMapActivity(),
 					latLon.getLatitude(), latLon.getLongitude(), true).replaceAll("\n", ""), false);
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/FavouritePointMenuController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/FavouritePointMenuController.java
index ed1424de4c3..53509302589 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/FavouritePointMenuController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/FavouritePointMenuController.java
@@ -67,12 +67,12 @@ public Drawable getLeftIcon() {
 
 	@Override
 	public Drawable getSecondLineTypeIcon() {
-		return getIcon(R.drawable.ic_small_group);
+		return getIcon(R.drawable.map_small_group);
 	}
 
 	@Override
 	public int getFavActionIconId() {
-		return R.drawable.ic_action_edit_dark;
+		return R.drawable.map_action_edit_dark;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/WptPtMenuController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/WptPtMenuController.java
index 852959b4b7c..098b385091b 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/WptPtMenuController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/WptPtMenuController.java
@@ -66,7 +66,7 @@ public Drawable getSecondLineTypeIcon() {
 		if (Algorithms.isEmpty(getTypeStr())) {
 			return null;
 		} else {
-			return getIcon(R.drawable.ic_small_group);
+			return getIcon(R.drawable.map_small_group);
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoritePointEditorFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoritePointEditorFragment.java
index 9098dbe39c9..b0336dccc56 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoritePointEditorFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoritePointEditorFragment.java
@@ -120,7 +120,7 @@ protected void save(final boolean needDismiss) {
 				Algorithms.stringsEqual(favorite.getDescription(), point.getDescription())) {
 
 			if (needDismiss) {
-				dismiss(true);
+				dismiss(false);
 			}
 			return;
 		}
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/PointEditorFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/PointEditorFragment.java
index 6feff03e63f..5337cf0d8e2 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/PointEditorFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/PointEditorFragment.java
@@ -161,9 +161,9 @@ public void onStop() {
 
 	@Override
 	public void onDestroyView() {
-//		if (!wasSaved() && !getEditor().isNew()) {
-//			save(false);
-//		}
+		if (!wasSaved() && !getEditor().isNew()) {
+			save(false);
+		}
 		super.onDestroyView();
 		getActivity().findViewById(R.id.MapHudButtonsOverlay).setVisibility(View.VISIBLE);
 	}
