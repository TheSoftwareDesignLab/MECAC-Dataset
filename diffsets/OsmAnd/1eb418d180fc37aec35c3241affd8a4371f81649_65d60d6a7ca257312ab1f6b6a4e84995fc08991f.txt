diff --git a/OsmAnd/res/layout/bottom_sheet_item_with_switch.xml b/OsmAnd/res/layout/bottom_sheet_item_with_switch.xml
new file mode 100644
index 00000000000..365bc4a467a
--- /dev/null
+++ b/OsmAnd/res/layout/bottom_sheet_item_with_switch.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+	xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/bottom_sheet_list_item_height"
+	android:background="?attr/selectableItemBackground"
+	android:gravity="center_vertical"
+	android:minHeight="@dimen/bottom_sheet_list_item_height"
+	android:paddingLeft="@dimen/content_padding"
+	android:paddingRight="@dimen/content_padding">
+
+	<ImageView
+		android:id="@+id/icon"
+		android:layout_width="wrap_content"
+		android:layout_height="wrap_content"
+		android:layout_marginEnd="@dimen/bottom_sheet_icon_margin"
+		android:layout_marginRight="@dimen/bottom_sheet_icon_margin"
+		tools:src="@drawable/ic_action_coordinates_latitude"/>
+
+	<TextView
+		android:id="@+id/title"
+		android:layout_width="0dp"
+		android:layout_height="wrap_content"
+		android:layout_marginEnd="@dimen/content_padding"
+		android:layout_marginRight="@dimen/content_padding"
+		android:layout_weight="1"
+		android:ellipsize="end"
+		android:maxLines="1"
+		android:textAppearance="@style/TextAppearance.ListItemTitle"
+		tools:text="Some Title"/>
+
+	<android.support.v7.widget.SwitchCompat
+		android:id="@+id/compound_button"
+		android:layout_width="wrap_content"
+		android:layout_height="wrap_content"
+		android:layout_gravity="center_vertical|end"
+		android:background="@null"
+		android:clickable="false"
+		android:focusable="false"
+		android:focusableInTouchMode="false"/>
+
+</LinearLayout>
diff --git a/OsmAnd/res/layout/fragment_marker_coordinate_input_options_bottom_sheet_dialog.xml b/OsmAnd/res/layout/fragment_marker_coordinate_input_options_bottom_sheet_dialog.xml
deleted file mode 100644
index 887d3c7a072..00000000000
--- a/OsmAnd/res/layout/fragment_marker_coordinate_input_options_bottom_sheet_dialog.xml
+++ /dev/null
@@ -1,168 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout
-	xmlns:android="http://schemas.android.com/apk/res/android"
-	xmlns:osmand="http://schemas.android.com/apk/res-auto"
-	xmlns:tools="http://schemas.android.com/tools"
-	android:layout_width="match_parent"
-	android:layout_height="wrap_content"
-	android:background="?attr/bg_color"
-	android:orientation="vertical">
-
-	<ScrollView
-		android:id="@+id/marker_coordinate_input_scroll_view"
-		android:layout_width="match_parent"
-		android:layout_height="wrap_content">
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:orientation="vertical"
-			android:paddingBottom="@dimen/bottom_sheet_content_padding_small">
-
-			<net.osmand.plus.widgets.TextViewEx
-				android:id="@+id/coordinate_input_title"
-				android:layout_width="match_parent"
-				android:layout_height="@dimen/bottom_sheet_title_height"
-				android:gravity="center_vertical"
-				android:paddingEnd="@dimen/content_padding"
-				android:paddingLeft="@dimen/content_padding"
-				android:paddingRight="@dimen/content_padding"
-				android:paddingStart="@dimen/content_padding"
-				android:text="@string/shared_string_options"
-				android:textAppearance="@style/TextAppearance.ListItemTitle"
-				osmand:typeface="@string/font_roboto_medium"/>
-
-			<LinearLayout
-				android:id="@+id/use_system_keyboard_row"
-				android:layout_width="match_parent"
-				android:layout_height="@dimen/bottom_sheet_list_item_height"
-				android:background="?attr/selectableItemBackground"
-				android:descendantFocusability="blocksDescendants"
-				android:minHeight="@dimen/bottom_sheet_list_item_height"
-				android:paddingLeft="@dimen/content_padding"
-				android:paddingRight="@dimen/content_padding">
-
-				<ImageView
-					android:id="@+id/use_system_keyboard_icon"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical"
-					android:layout_marginEnd="@dimen/bottom_sheet_icon_margin"
-					android:layout_marginRight="@dimen/bottom_sheet_icon_margin"
-					tools:src="@drawable/ic_action_keyboard"/>
-
-				<TextView
-					android:layout_width="0dp"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical"
-					android:layout_marginEnd="@dimen/content_padding"
-					android:layout_marginRight="@dimen/content_padding"
-					android:layout_weight="1"
-					android:ellipsize="end"
-					android:maxLines="1"
-					android:text="@string/use_system_keyboard"
-					android:textAppearance="@style/TextAppearance.ListItemTitle"/>
-
-				<android.support.v7.widget.SwitchCompat
-					android:id="@+id/use_system_keyboard_switch"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical|end"
-					android:background="@null"
-					android:clickable="false"
-					android:focusable="false"
-					android:focusableInTouchMode="false"/>
-			</LinearLayout>
-
-			<LinearLayout
-				android:id="@+id/hand_row"
-				android:layout_width="match_parent"
-				android:layout_height="@dimen/bottom_sheet_list_item_height"
-				android:background="?attr/selectableItemBackground"
-				android:descendantFocusability="blocksDescendants"
-				android:minHeight="@dimen/bottom_sheet_list_item_height"
-				android:paddingLeft="@dimen/content_padding"
-				android:paddingRight="@dimen/content_padding">
-
-				<ImageView
-					android:id="@+id/hand_icon"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical"
-					android:layout_marginEnd="@dimen/bottom_sheet_icon_margin"
-					android:layout_marginRight="@dimen/bottom_sheet_icon_margin"
-					tools:src="@drawable/ic_action_show_keypad_right"/>
-
-				<TextView
-					android:layout_width="0dp"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical"
-					android:layout_marginEnd="@dimen/content_padding"
-					android:layout_marginRight="@dimen/content_padding"
-					android:layout_weight="1"
-					android:ellipsize="end"
-					android:maxLines="1"
-					android:text="@string/show_number_pad"
-					android:textAppearance="@style/TextAppearance.ListItemTitle"/>
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/hand_text_view"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical|end"
-					android:maxLines="1"
-					android:textSize="@dimen/default_list_text_size"
-					osmand:typeface="@string/font_roboto_medium"
-					tools:text="Right"
-					tools:textColor="@color/map_widget_blue_pressed"/>
-			</LinearLayout>
-
-			<View
-				android:layout_width="match_parent"
-				android:layout_height="1dp"
-				android:background="?attr/dashboard_divider"/>
-
-			<TextView
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:paddingBottom="@dimen/content_padding_small"
-				android:paddingLeft="@dimen/content_padding"
-				android:paddingRight="@dimen/content_padding"
-				android:paddingTop="@dimen/content_padding_small"
-				android:text="@string/coordinates_format"
-				android:textColor="?android:textColorSecondary"
-				android:textSize="@dimen/default_desc_text_size"/>
-
-			<LinearLayout
-				android:id="@+id/formats_container"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:orientation="vertical"/>
-
-		</LinearLayout>
-
-	</ScrollView>
-
-	<View
-		android:layout_width="match_parent"
-		android:layout_height="1dp"
-		android:background="?attr/dashboard_divider"/>
-
-	<FrameLayout
-		android:id="@+id/cancel_row"
-		android:layout_width="match_parent"
-		android:layout_height="@dimen/bottom_sheet_cancel_button_height"
-		android:background="?attr/selectableItemBackground">
-
-		<TextView
-			android:layout_width="wrap_content"
-			android:layout_height="wrap_content"
-			android:layout_gravity="center"
-			android:text="@string/shared_string_close"
-			android:textAllCaps="true"
-			android:textColor="?attr/color_dialog_buttons"
-			android:textSize="@dimen/default_desc_text_size"
-			android:textStyle="bold"/>
-	</FrameLayout>
-
-</LinearLayout>
diff --git a/OsmAnd/src/net/osmand/plus/base/bottomsheetmenu/BottomSheetItemWithCompoundButton.java b/OsmAnd/src/net/osmand/plus/base/bottomsheetmenu/BottomSheetItemWithCompoundButton.java
index 68ba49f35e9..8a967beab4f 100644
--- a/OsmAnd/src/net/osmand/plus/base/bottomsheetmenu/BottomSheetItemWithCompoundButton.java
+++ b/OsmAnd/src/net/osmand/plus/base/bottomsheetmenu/BottomSheetItemWithCompoundButton.java
@@ -1,8 +1,10 @@
 package net.osmand.plus.base.bottomsheetmenu;
 
+import android.content.res.ColorStateList;
 import android.graphics.drawable.Drawable;
 import android.support.annotation.ColorRes;
 import android.support.annotation.LayoutRes;
+import android.support.v4.widget.CompoundButtonCompat;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.CompoundButton;
@@ -13,6 +15,7 @@
 public class BottomSheetItemWithCompoundButton extends BottomSheetItemWithDescription {
 
 	private boolean checked;
+	private ColorStateList buttonTintList;
 
 	public BottomSheetItemWithCompoundButton(View customView,
 											 @LayoutRes int layoutId,
@@ -25,7 +28,8 @@ public BottomSheetItemWithCompoundButton(View customView,
 											 @ColorRes int titleColorId,
 											 CharSequence description,
 											 @ColorRes int descriptionColorId,
-											 boolean checked) {
+											 boolean checked,
+											 ColorStateList buttonTintList) {
 		super(customView,
 				layoutId,
 				tag,
@@ -38,23 +42,32 @@ public BottomSheetItemWithCompoundButton(View customView,
 				description,
 				descriptionColorId);
 		this.checked = checked;
+		this.buttonTintList = buttonTintList;
 	}
 
 	@Override
 	public void inflate(OsmandApplication app, ViewGroup container, boolean nightMode) {
 		super.inflate(app, container, nightMode);
-		((CompoundButton) view.findViewById(R.id.compound_button)).setChecked(checked);
+		CompoundButton compoundButton = (CompoundButton) view.findViewById(R.id.compound_button);
+		compoundButton.setChecked(checked);
+		CompoundButtonCompat.setButtonTintList(compoundButton, buttonTintList);
 	}
 
 	public static class Builder extends BottomSheetItemWithDescription.Builder {
 
 		protected boolean checked;
+		protected ColorStateList buttonTintList;
 
 		public Builder setChecked(boolean checked) {
 			this.checked = checked;
 			return this;
 		}
 
+		public Builder setButtonTintList(ColorStateList buttonTintList) {
+			this.buttonTintList = buttonTintList;
+			return this;
+		}
+
 		public BottomSheetItemWithCompoundButton create() {
 			return new BottomSheetItemWithCompoundButton(customView,
 					layoutId,
@@ -67,7 +80,8 @@ public BottomSheetItemWithCompoundButton create() {
 					titleColorId,
 					description,
 					descriptionColorId,
-					checked);
+					checked,
+					buttonTintList);
 		}
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputBottomSheetDialogFragment.java
index 1e5e81cbc54..1c155d29c84 100644
--- a/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputBottomSheetDialogFragment.java
@@ -4,23 +4,22 @@
 import android.content.res.ColorStateList;
 import android.graphics.drawable.Drawable;
 import android.os.Bundle;
-import android.support.annotation.ColorInt;
+import android.support.annotation.ColorRes;
 import android.support.annotation.Nullable;
 import android.support.v4.content.ContextCompat;
-import android.support.v4.widget.CompoundButtonCompat;
-import android.view.ContextThemeWrapper;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.CompoundButton;
-import android.widget.ImageView;
-import android.widget.LinearLayout;
-import android.widget.RadioButton;
-import android.widget.TextView;
 
 import net.osmand.plus.OsmandSettings;
 import net.osmand.plus.R;
 import net.osmand.plus.base.MenuBottomSheetDialogFragment;
+import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
+import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithCompoundButton;
+import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithDescription;
+import net.osmand.plus.base.bottomsheetmenu.simpleitems.SubtitleDividerItem;
+import net.osmand.plus.base.bottomsheetmenu.simpleitems.SubtitleItem;
+import net.osmand.plus.base.bottomsheetmenu.simpleitems.TitleItem;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.mapmarkers.CoordinateInputFormats.CoordinateInputFormatDef;
 
@@ -55,53 +54,58 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 	public View createMenuItems(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
 		final Context context = getContext();
 		final OsmandSettings settings = getMyApplication().getSettings();
-		final int themeRes = nightMode ? R.style.OsmandDarkTheme : R.style.OsmandLightTheme;
-		boolean portrait = AndroidUiHelper.isOrientationPortrait(getActivity());
 
-		View mainView = View.inflate(new ContextThemeWrapper(context, themeRes),
-				R.layout.fragment_marker_coordinate_input_options_bottom_sheet_dialog, container);
-
-		if (nightMode) {
-			((TextView) mainView.findViewById(R.id.coordinate_input_title))
-					.setTextColor(ContextCompat.getColor(context, R.color.ctx_menu_info_text_dark));
-		}
-
-		((ImageView) mainView.findViewById(R.id.use_system_keyboard_icon)).setImageDrawable(getContentIcon(R.drawable.ic_action_keyboard));
-		((CompoundButton) mainView.findViewById(R.id.use_system_keyboard_switch)).setChecked(!useOsmandKeyboard);
-
-		View.OnClickListener itemsOnClickListener = new View.OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				if (listener != null) {
-					int id = v.getId();
-					if (id == R.id.use_system_keyboard_row) {
-						listener.onKeyboardChanged(!useOsmandKeyboard);
-					} else if (id == R.id.hand_row) {
-						OsmandSettings.CommonPreference<Boolean> pref = settings.COORDS_INPUT_USE_RIGHT_SIDE;
-						pref.set(!pref.get());
-						listener.onHandChanged();
+		items.add(new TitleItem(getString(R.string.shared_string_options)));
+
+		BaseBottomSheetItem useSystemKeyboardItem = new BottomSheetItemWithCompoundButton.Builder()
+				.setChecked(!useOsmandKeyboard)
+				.setIcon(getContentIcon(R.drawable.ic_action_keyboard))
+				.setTitle(getString(R.string.use_system_keyboard))
+				.setLayoutId(R.layout.bottom_sheet_item_with_switch)
+				.setOnClickListener(new View.OnClickListener() {
+					@Override
+					public void onClick(View v) {
+						if (listener != null) {
+							listener.onKeyboardChanged(!useOsmandKeyboard);
+						}
+						dismiss();
 					}
-				}
-				dismiss();
-			}
-		};
-
-		mainView.findViewById(R.id.use_system_keyboard_row).setOnClickListener(itemsOnClickListener);
-		mainView.findViewById(R.id.cancel_row).setOnClickListener(itemsOnClickListener);
+				})
+				.create();
+		items.add(useSystemKeyboardItem);
 
-		View handRow = mainView.findViewById(R.id.hand_row);
-		if (portrait) {
-			handRow.setVisibility(View.GONE);
-		} else {
+		if (!AndroidUiHelper.isOrientationPortrait(getActivity())) {
 			boolean rightHand = settings.COORDS_INPUT_USE_RIGHT_SIDE.get();
-			((ImageView) mainView.findViewById(R.id.hand_icon)).setImageDrawable(getContentIcon(rightHand
-					? R.drawable.ic_action_show_keypad_right : R.drawable.ic_action_show_keypad_left));
-			((TextView) mainView.findViewById(R.id.hand_text_view)).setText(getString(rightHand
-					? R.string.shared_string_right : R.string.shared_string_left));
-			((TextView) mainView.findViewById(R.id.hand_text_view)).setTextColor(getResolvedActiveColor());
-			handRow.setOnClickListener(itemsOnClickListener);
+
+			BaseBottomSheetItem showNumberPadItem = new BottomSheetItemWithDescription.Builder()
+					.setDescription(getString(rightHand ? R.string.shared_string_right : R.string.shared_string_left))
+					.setDescriptionColorId(getActiveColorId())
+					.setIcon(getContentIcon(rightHand
+							? R.drawable.ic_action_show_keypad_right
+							: R.drawable.ic_action_show_keypad_left))
+					.setTitle(getString(R.string.show_number_pad))
+					.setLayoutId(R.layout.bottom_sheet_item_with_right_descr)
+					.setOnClickListener(new View.OnClickListener() {
+						@Override
+						public void onClick(View v) {
+							if (listener != null) {
+								OsmandSettings.CommonPreference<Boolean> pref = settings.COORDS_INPUT_USE_RIGHT_SIDE;
+								pref.set(!pref.get());
+								listener.onHandChanged();
+							}
+							dismiss();
+						}
+					})
+					.create();
+			items.add(showNumberPadItem);
 		}
 
+		items.add(new SubtitleDividerItem(context));
+
+		items.add(new SubtitleItem(getString(R.string.coordinates_format)));
+
+		int selectedFormat = settings.COORDS_INPUT_FORMAT.get();
+		Drawable formatIcon = getContentIcon(R.drawable.ic_action_coordinates_latitude);
 		View.OnClickListener formatsOnClickListener = new View.OnClickListener() {
 			@Override
 			public void onClick(View v) {
@@ -114,34 +118,25 @@ public void onClick(View v) {
 			}
 		};
 
-		LinearLayout formatsContainer = (LinearLayout) mainView.findViewById(R.id.formats_container);
-		Drawable formatIcon = getContentIcon(R.drawable.ic_action_coordinates_latitude);
-		int selectedFormat = settings.COORDS_INPUT_FORMAT.get();
 		for (@CoordinateInputFormatDef int format : CoordinateInputFormats.VALUES) {
-			boolean selectedRow = format == selectedFormat;
-
-			View row = View.inflate(new ContextThemeWrapper(context, themeRes),
-					R.layout.bottom_sheet_item_with_radio_btn, null);
-			row.setTag(format);
-			row.setOnClickListener(formatsOnClickListener);
-
-			((ImageView) row.findViewById(R.id.icon)).setImageDrawable(selectedRow
-					? getActiveIcon(R.drawable.ic_action_coordinates_latitude) : formatIcon);
-			TextView nameTv = (TextView) row.findViewById(R.id.title);
-			nameTv.setText(CoordinateInputFormats.formatToHumanString(context, format));
-			if (selectedRow) {
-				nameTv.setTextColor(getResolvedActiveColor());
-				RadioButton rb = (RadioButton) row.findViewById(R.id.compound_button);
-				rb.setChecked(true);
-				CompoundButtonCompat.setButtonTintList(rb, ColorStateList.valueOf(getResolvedActiveColor()));
-			}
-
-			formatsContainer.addView(row);
+			boolean selectedItem = format == selectedFormat;
+
+			BaseBottomSheetItem formatItem = new BottomSheetItemWithCompoundButton.Builder()
+					.setChecked(selectedItem)
+					.setButtonTintList(selectedItem
+							? ColorStateList.valueOf(ContextCompat.getColor(context, getActiveColorId()))
+							: null)
+					.setIcon(selectedItem ? getActiveIcon(R.drawable.ic_action_coordinates_latitude) : formatIcon)
+					.setTitle(CoordinateInputFormats.formatToHumanString(context, format))
+					.setTitleColorId(selectedItem ? getActiveColorId() : BaseBottomSheetItem.INVALID_ID)
+					.setLayoutId(R.layout.bottom_sheet_item_with_radio_btn)
+					.setOnClickListener(formatsOnClickListener)
+					.setTag(format)
+					.create();
+			items.add(formatItem);
 		}
 
-		setupHeightAndBackground(mainView, R.id.marker_coordinate_input_scroll_view);
-
-		return mainView;
+		return null;
 	}
 
 	@Override
@@ -150,9 +145,14 @@ public void onSaveInstanceState(Bundle outState) {
 		super.onSaveInstanceState(outState);
 	}
 
-	@ColorInt
-	private int getResolvedActiveColor() {
-		return ContextCompat.getColor(getContext(), nightMode ? R.color.osmand_orange : R.color.color_myloc_distance);
+	@Override
+	protected int getCloseRowTextId() {
+		return R.string.shared_string_close;
+	}
+
+	@ColorRes
+	private int getActiveColorId() {
+		return nightMode ? R.color.osmand_orange : R.color.color_myloc_distance;
 	}
 
 	interface CoordinateInputFormatChangeListener {
