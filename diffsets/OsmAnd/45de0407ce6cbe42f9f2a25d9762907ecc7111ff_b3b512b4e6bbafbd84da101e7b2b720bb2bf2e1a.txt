diff --git a/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml b/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
index 4aee8969874..6ef6ae258bf 100644
--- a/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
+++ b/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
@@ -9,52 +9,83 @@
 	android:minHeight="@dimen/bottom_sheet_list_item_height"
 	android:orientation="horizontal">
 
-	<ImageButton
-		android:id="@+id/delete_widget_button"
-		style="@style/Widget.AppCompat.ActionButton"
-		android:layout_width="@dimen/standard_icon_size"
-		android:layout_height="@dimen/standard_icon_size"
-		android:layout_gravity="center"
-		android:layout_marginStart="@dimen/content_padding"
-		tools:src="@drawable/ic_action_remove"
-		tools:tint="@color/color_osm_edit_delete"
-		tools:ignore="ContentDescription" />
-
-	<androidx.appcompat.widget.AppCompatImageView
-		android:id="@+id/icon"
-		android:layout_width="@dimen/standard_icon_size"
-		android:layout_height="@dimen/standard_icon_size"
-		android:layout_gravity="center"
-		android:layout_marginStart="@dimen/list_content_padding_large"
-		tools:src="@drawable/mm_air_transport"
-		tools:tint="@color/poi_background" />
-
-	<net.osmand.plus.widgets.TextViewEx
-		android:id="@+id/title"
-		android:layout_width="0dp"
+	<LinearLayout
+		android:id="@+id/selectable_widget_background"
+		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:layout_gravity="center_vertical"
-		android:layout_marginStart="@dimen/title_padding"
-		android:layout_marginEnd="@dimen/content_padding"
-		android:layout_weight="1"
-		android:ellipsize="marquee"
-		android:paddingTop="@dimen/content_padding_half"
-		android:paddingBottom="@dimen/content_padding_half"
-		android:textColor="?android:textColorPrimary"
-		android:textSize="@dimen/default_list_text_size"
-		android:textStyle="normal"
-		tools:text="@string/poi_aerialway_transport" />
-
-	<androidx.appcompat.widget.AppCompatImageView
-		android:id="@+id/move_icon"
-		android:layout_width="wrap_content"
-		android:layout_height="match_parent"
-		android:layout_gravity="center"
-		android:paddingStart="@dimen/content_padding"
-		android:paddingLeft="@dimen/content_padding"
-		android:paddingEnd="@dimen/content_padding"
-		android:paddingRight="@dimen/content_padding"
-		android:tint="?attr/secondary_icon_color"
-		app:srcCompat="@drawable/ic_action_item_move" />
+		android:orientation="horizontal">
+
+		<ImageButton
+			android:id="@+id/delete_widget_button"
+			style="@style/Widget.AppCompat.ActionButton"
+			android:layout_width="@dimen/standard_icon_size"
+			android:layout_height="@dimen/standard_icon_size"
+			android:layout_gravity="center"
+			android:layout_marginStart="@dimen/content_padding"
+			tools:ignore="ContentDescription"
+			tools:src="@drawable/ic_action_remove"
+			tools:tint="@color/color_osm_edit_delete" />
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:orientation="vertical">
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical"
+				android:minHeight="@dimen/bottom_sheet_list_item_height"
+				android:orientation="horizontal">
+
+				<androidx.appcompat.widget.AppCompatImageView
+					android:id="@+id/icon"
+					android:layout_width="@dimen/standard_icon_size"
+					android:layout_height="@dimen/standard_icon_size"
+					android:layout_gravity="center"
+					android:layout_marginStart="@dimen/list_content_padding_large"
+					tools:src="@drawable/mm_air_transport"
+					tools:tint="@color/poi_background" />
+
+				<net.osmand.plus.widgets.TextViewEx
+					android:id="@+id/title"
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center_vertical"
+					android:layout_marginStart="@dimen/title_padding"
+					android:layout_marginEnd="@dimen/content_padding"
+					android:layout_weight="1"
+					android:ellipsize="marquee"
+					android:paddingTop="@dimen/content_padding_half"
+					android:paddingBottom="@dimen/content_padding_half"
+					android:textColor="?android:textColorPrimary"
+					android:textSize="@dimen/default_list_text_size"
+					android:textStyle="normal"
+					tools:text="@string/poi_aerialway_transport" />
+
+				<androidx.appcompat.widget.AppCompatImageView
+					android:id="@+id/move_icon"
+					android:layout_width="wrap_content"
+					android:layout_height="match_parent"
+					android:layout_gravity="center"
+					android:paddingStart="@dimen/content_padding"
+					android:paddingLeft="@dimen/content_padding"
+					android:paddingEnd="@dimen/content_padding"
+					android:paddingRight="@dimen/content_padding"
+					android:tint="?attr/secondary_icon_color"
+					app:srcCompat="@drawable/ic_action_item_move" />
+
+			</LinearLayout>
+
+			<View
+				android:id="@+id/bottom_divider"
+				android:layout_width="match_parent"
+				android:layout_height="1dp"
+				android:layout_marginStart="@dimen/setting_list_item_large_height"
+				android:background="?attr/divider_color_basic" />
+
+		</LinearLayout>
+
+	</LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/fragment_widgets_list_v2.xml b/OsmAnd/res/layout/fragment_widgets_list_v2.xml
new file mode 100644
index 00000000000..a11538421f0
--- /dev/null
+++ b/OsmAnd/res/layout/fragment_widgets_list_v2.xml
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent">
+
+	<androidx.recyclerview.widget.RecyclerView
+		android:id="@+id/recycler_view"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"/>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/widgets_list_empty_state.xml b/OsmAnd/res/layout/widgets_list_empty_state.xml
new file mode 100644
index 00000000000..6b20524c029
--- /dev/null
+++ b/OsmAnd/res/layout/widgets_list_empty_state.xml
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:background="?attr/list_background_color">
+
+	<LinearLayout
+		android:id="@+id/no_widgets_container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:gravity="center_horizontal"
+		android:orientation="vertical"
+		android:paddingHorizontal="@dimen/list_header_height">
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/no_widgets_image"
+			android:layout_width="@dimen/list_content_padding_large"
+			android:layout_height="@dimen/list_content_padding_large"
+			android:layout_marginTop="@dimen/card_content_padding_large"
+			tools:srcCompat="@drawable/ic_action_screen_side_left" />
+
+		<net.osmand.plus.widgets.TextViewEx
+			style="@style/TitleStyle.Medium"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_marginTop="@dimen/content_padding_half"
+			android:text="@string/no_widgets_here_yet"
+			android:textColor="?android:textColorPrimary" />
+
+		<net.osmand.plus.widgets.TextViewEx
+			style="@style/DescStyle"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_marginTop="@dimen/content_padding_small_half"
+			android:layout_marginBottom="@dimen/list_content_padding_large"
+			android:gravity="center_horizontal"
+			android:text="@string/no_widgets_descr"
+			android:textColor="?android:textColorSecondary" />
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:orientation="vertical"
+			android:paddingBottom="20dp">
+
+			<net.osmand.plus.widgets.dialogbutton.DialogButton
+				android:id="@+id/add_button"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginBottom="16dp"
+				app:dialogButtonTitle="@string/shared_string_add"
+				app:dialogButtonType="secondary" />
+
+		</LinearLayout>
+
+	</LinearLayout>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java
new file mode 100644
index 00000000000..6dd5402e8af
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java
@@ -0,0 +1,503 @@
+package net.osmand.plus.views.mapwidgets.configure.panel;
+
+import static net.osmand.plus.views.mapwidgets.WidgetType.isComplexWidget;
+
+import android.annotation.SuppressLint;
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.ItemTouchHelper;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback.OnItemMoveCallback;
+import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
+import net.osmand.plus.views.mapwidgets.configure.WidgetIconsHelper;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.AddPageViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.DividerViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.EmptyStateViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.PageViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.ShadowViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.SpaceViewHolder;
+import net.osmand.plus.views.mapwidgets.configure.panel.holders.WidgetViewHolder;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class WidgetsListAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> implements OnItemMoveCallback {
+
+	private static final int VIEW_TYPE_PAGE = 0;
+	private static final int VIEW_TYPE_WIDGET = 1;
+	private static final int VIEW_TYPE_DIVIDER = 2;
+	private static final int VIEW_TYPE_ADD_PAGE = 3;
+	private static final int VIEW_TYPE_SPACE = 4;
+	private static final int VIEW_TYPE_EMPTY_STATE = 5;
+	private static final int VIEW_TYPE_SHADOW = 6;
+
+	private final List<Object> items = new ArrayList<>();
+	private final List<Object> itemsBeforeAction = new ArrayList<>();
+	private final OsmandApplication app;
+	private final MapActivity mapActivity;
+	private final boolean nightMode;
+	private final WidgetsAdapterListener listener;
+	private final ItemTouchHelper itemTouchHelper;
+	private final boolean isVerticalPanel;
+	private final WidgetIconsHelper iconsHelper;
+
+	public interface WidgetsAdapterListener {
+		void onPageDeleted(int position, Object item);
+
+		void onWidgetDeleted(int position, Object item);
+
+		void onAddPageClicked();
+
+		void addNewWidget();
+
+		void onWidgetClick(@NonNull MapWidgetInfo widgetInfo);
+
+		boolean isEditMode();
+
+		void onMoveStarted();
+	}
+
+	public WidgetsListAdapter(@NonNull MapActivity mapActivity, boolean nightMode,
+	                          @NonNull WidgetsAdapterListener listener, boolean isVerticalPanel, @NonNull ApplicationMode selectedAppMode) {
+		this.mapActivity = mapActivity;
+		this.app = mapActivity.getMyApplication();
+		this.nightMode = nightMode;
+		this.listener = listener;
+		this.isVerticalPanel = isVerticalPanel;
+		this.iconsHelper = new WidgetIconsHelper(app, selectedAppMode.getProfileColor(nightMode), nightMode);
+
+		ItemTouchHelper.Callback callback = new ReorderItemTouchHelperCallback(this);
+		this.itemTouchHelper = new ItemTouchHelper(callback);
+	}
+
+	public void attachToRecyclerView(RecyclerView recyclerView) {
+		itemTouchHelper.attachToRecyclerView(recyclerView);
+	}
+
+	public List<Object> getItems() {
+		return items;
+	}
+
+	@Override
+	public boolean onItemMove(int fromPosition, int toPosition) {
+		if (isFirstPage(toPosition)) {
+			return false;
+		}
+
+		if (isVerticalPanel) {
+			List<Object> tempItems = new ArrayList<>(items);
+
+			if (fromPosition < toPosition) {
+				for (int i = fromPosition; i < toPosition; i++) {
+					Object temp = tempItems.get(i);
+					tempItems.set(i, tempItems.get(i + 1));
+					tempItems.set(i + 1, temp);
+				}
+			} else {
+				for (int i = fromPosition; i > toPosition; i--) {
+					Object temp = tempItems.get(i);
+					tempItems.set(i, tempItems.get(i - 1));
+					tempItems.set(i - 1, temp);
+				}
+			}
+
+			if (!isValidPageStructure(tempItems)) {
+				return false;
+			}
+		}
+
+		if (fromPosition < toPosition) {
+			for (int i = fromPosition; i < toPosition; i++) {
+				swapItems(i, i + 1);
+			}
+		} else {
+			for (int i = fromPosition; i > toPosition; i--) {
+				swapItems(i, i - 1);
+			}
+		}
+
+		notifyItemMoved(fromPosition, toPosition);
+		return true;
+	}
+
+	private void swapItems(int i, int j) {
+		Object temp = items.get(i);
+		items.set(i, items.get(j));
+		items.set(j, temp);
+	}
+
+	private boolean isValidPageStructure(@NonNull List<Object> itemsList) {
+		boolean hasComplexWidgetInCurrentPage = false;
+		boolean hasRegularWidgetInCurrentPage = false;
+
+		for (Object item : itemsList) {
+			if (item instanceof PageItem) {
+				hasComplexWidgetInCurrentPage = false;
+				hasRegularWidgetInCurrentPage = false;
+			} else if (item instanceof MapWidgetInfo widget) {
+				if (isComplexWidget(widget.key)) {
+					if (hasComplexWidgetInCurrentPage) {
+						return false;
+					}
+					hasComplexWidgetInCurrentPage = true;
+					if (hasRegularWidgetInCurrentPage) {
+						return false;
+					}
+				} else {
+					hasRegularWidgetInCurrentPage = true;
+					if (hasComplexWidgetInCurrentPage) {
+						return false;
+					}
+				}
+			}
+		}
+
+		return true;
+	}
+
+	@SuppressLint("NotifyDataSetChanged")
+	@Override
+	public void onItemDismiss(@NonNull RecyclerView.ViewHolder holder) {
+		if (isVerticalPanel) {
+			Integer multipleComplexIndex = multipleComplexWidgetsInRowIndex(items);
+			if (multipleComplexIndex != null) {
+				app.showToastMessage(app.getString(R.string.complex_widget_alert, getComplexWidgetName(multipleComplexIndex, items)));
+				items.clear();
+				items.addAll(itemsBeforeAction);
+			}
+		}
+		updatePageIndexes();
+		notifyDataSetChanged();
+	}
+
+	@Nullable
+	private Integer multipleComplexWidgetsInRowIndex(@NonNull List<Object> checkItems) {
+		for (int index = 0; index < checkItems.size(); index++) {
+			Object item = checkItems.get(index);
+			if (item instanceof PageItem && rowHasComplexWidget(index, checkItems) && getRowWidgetIds(index, checkItems).size() > 1) {
+				return index;
+			}
+		}
+		return null;
+	}
+
+	@Nullable
+	private String getComplexWidgetName(int rowPosition, @NonNull List<Object> checkItems) {
+		ArrayList<MapWidgetInfo> rowWidgetIds = getRowWidgetIds(rowPosition, checkItems);
+		for (MapWidgetInfo widgetUiInfo : rowWidgetIds) {
+			if (isComplexWidget(widgetUiInfo.key)) {
+				return widgetUiInfo.getTitle(app);
+			}
+		}
+		return null;
+	}
+
+	private void updatePageIndexes() {
+		int pageNumber = 1;
+		for (Object item : items) {
+			if (item instanceof PageItem pageItem) {
+				pageItem.pageNumber = pageNumber;
+				pageNumber++;
+			}
+		}
+	}
+
+	@SuppressLint("NotifyDataSetChanged")
+	private void updateItemsForEditMode(List<List<MapWidgetInfo>> pagedWidgets) {
+		boolean isEmpty = pagedWidgets.stream().allMatch(List::isEmpty);
+		if (isEmpty) {
+			items.clear();
+			items.add(VIEW_TYPE_DIVIDER);
+			items.add(VIEW_TYPE_EMPTY_STATE);
+			items.add(VIEW_TYPE_SHADOW);
+			notifyDataSetChanged();
+			return;
+		}
+
+		if (listener.isEditMode()) {
+			items.clear();
+			items.add(VIEW_TYPE_DIVIDER);
+
+			int pageNumber = 1;
+			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
+				PageItem pageItem = new PageItem(pageNumber);
+				items.add(pageItem);
+				items.addAll(widgetsOnPage);
+
+				pageNumber++;
+			}
+
+			items.add(VIEW_TYPE_ADD_PAGE);
+			items.add(VIEW_TYPE_SHADOW);
+			items.add(VIEW_TYPE_SPACE);
+		} else {
+			items.clear();
+
+			int pageNumber = 1;
+			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
+				items.add(VIEW_TYPE_DIVIDER);
+
+				PageItem pageItem = new PageItem(pageNumber);
+				items.add(pageItem);
+				items.addAll(widgetsOnPage);
+
+				pageNumber++;
+			}
+
+			items.add(VIEW_TYPE_SHADOW);
+			items.add(VIEW_TYPE_SPACE);
+		}
+		notifyDataSetChanged();
+	}
+
+	public void setData(List<List<MapWidgetInfo>> pagedWidgets) {
+		updateItemsForEditMode(pagedWidgets);
+	}
+
+	@SuppressLint("NotifyDataSetChanged")
+	public void setItems(@NonNull List<Object> items) {
+		this.items.clear();
+		this.items.addAll(items);
+		notifyDataSetChanged();
+	}
+
+	@NonNull
+	public List<List<MapWidgetInfo>> getWidgetsData() {
+		List<List<MapWidgetInfo>> result = new ArrayList<>();
+		List<MapWidgetInfo> currentPage = null;
+
+		for (Object item : items) {
+			if (item instanceof PageItem) {
+				if (currentPage != null) {
+					result.add(currentPage);
+				}
+				currentPage = new ArrayList<>();
+			} else if (item instanceof MapWidgetInfo widgetInfo && currentPage != null) {
+				widgetInfo.priority = 0;
+				currentPage.add(widgetInfo);
+			}
+		}
+
+		if (currentPage != null && !currentPage.isEmpty()) {
+			result.add(currentPage);
+		}
+
+		return result;
+	}
+
+	@NonNull
+	@Override
+	public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+		Context ctx = parent.getContext();
+		LayoutInflater inflater = UiUtilities.getInflater(ctx, nightMode);
+		return switch (viewType) {
+			case VIEW_TYPE_PAGE -> {
+				View pageView = inflater.inflate(R.layout.configure_screen_list_item_page_reorder, parent, false);
+				yield new PageViewHolder(pageView);
+			}
+			case VIEW_TYPE_WIDGET -> {
+				View widgetView = inflater.inflate(R.layout.configure_screen_list_item_widget_reorder, parent, false);
+				yield new WidgetViewHolder(widgetView);
+			}
+			case VIEW_TYPE_DIVIDER -> {
+				View dividerView = inflater.inflate(R.layout.list_item_divider, parent, false);
+				yield new DividerViewHolder(dividerView);
+			}
+			case VIEW_TYPE_ADD_PAGE -> {
+				View addPageView = inflater.inflate(R.layout.configure_screen_list_item_add_page, parent, false);
+				yield new AddPageViewHolder(addPageView);
+			}
+			case VIEW_TYPE_SPACE -> new SpaceViewHolder(new View(mapActivity));
+			case VIEW_TYPE_SHADOW -> {
+				View shadowViewHolder = inflater.inflate(R.layout.card_bottom_divider, parent, false);
+				yield new ShadowViewHolder(shadowViewHolder);
+			}
+			case VIEW_TYPE_EMPTY_STATE -> {
+				View emptyStateView = inflater.inflate(R.layout.widgets_list_empty_state, parent, false);
+				yield new EmptyStateViewHolder(emptyStateView);
+			}
+			default -> throw new IllegalArgumentException("Unknown view type: " + viewType);
+		};
+	}
+
+	@Override
+	public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {
+		Object item = items.get(position);
+
+		if (holder instanceof PageViewHolder pageViewHolder) {
+			pageViewHolder.bind(mapActivity, listener, itemTouchHelper, this, position, (PageItem) item, isVerticalPanel, nightMode);
+		} else if (holder instanceof WidgetViewHolder widgetViewHolder) {
+			boolean showDivider = false;
+			int nextItemIndex = position + 1;
+			if (items.size() > nextItemIndex && items.get(nextItemIndex) instanceof MapWidgetInfo) {
+				showDivider = true;
+			}
+			widgetViewHolder.bind(mapActivity, listener, itemTouchHelper, (MapWidgetInfo) item, iconsHelper, position, nightMode, showDivider);
+		} else if (holder instanceof AddPageViewHolder addPageViewHolder) {
+			addPageViewHolder.bind(listener);
+		} else if (holder instanceof SpaceViewHolder spaceViewHolder) {
+			spaceViewHolder.bind(mapActivity);
+		} else if (holder instanceof EmptyStateViewHolder emptyStateViewHolder) {
+			emptyStateViewHolder.bind(app, listener, nightMode);
+		}
+	}
+
+	@NonNull
+	public ArrayList<MapWidgetInfo> getRowWidgetIds(int rowPosition, @Nullable List<Object> searchItems) {
+		List<Object> list = searchItems != null ? searchItems : items;
+		ArrayList<MapWidgetInfo> rowWidgetIds = new ArrayList<>();
+		Object item = list.get(++rowPosition);
+
+		while (rowPosition < list.size() && item instanceof MapWidgetInfo) {
+			item = list.get(rowPosition);
+			if (item instanceof MapWidgetInfo) {
+				rowWidgetIds.add((MapWidgetInfo) item);
+			}
+			rowPosition++;
+		}
+		return rowWidgetIds;
+	}
+
+	public int getPreviousRowPosition(int currentRowPosition) {
+		currentRowPosition--;
+		while (currentRowPosition >= 0) {
+			if (items.get(currentRowPosition) instanceof PageItem) {
+				return currentRowPosition;
+			}
+			currentRowPosition--;
+		}
+		return -1;
+	}
+
+	public boolean rowHasComplexWidget(int rowPosition, @Nullable List<Object> searchItems) {
+		ArrayList<MapWidgetInfo> rowWidgetIds = getRowWidgetIds(rowPosition, searchItems != null ? searchItems : items);
+		for (MapWidgetInfo widgetUiInfo : rowWidgetIds) {
+			if (isComplexWidget(widgetUiInfo.key)) {
+				return true;
+			}
+		}
+		return false;
+	}
+
+	public void actionStarted() {
+		if (isVerticalPanel) {
+			itemsBeforeAction.clear();
+			itemsBeforeAction.addAll(items);
+		}
+	}
+
+	public boolean isFirstPage(int position) {
+		for (int i = 0; i < position; i++) {
+			if (items.get(i) instanceof PageItem) {
+				return false;
+			}
+		}
+		return true;
+	}
+
+	public void removeItem(int position) {
+		if (position >= 0 && position < items.size()) {
+			if (isVerticalPanel) {
+				List<Object> tempItems = new ArrayList<>(items);
+				tempItems.remove(position);
+				Integer multipleComplexIndex = multipleComplexWidgetsInRowIndex(tempItems);
+				if (multipleComplexIndex != null) {
+					app.showToastMessage(app.getString(R.string.complex_widget_alert, getComplexWidgetName(multipleComplexIndex, tempItems)));
+					return;
+				}
+			}
+			items.remove(position);
+			notifyItemRemoved(position);
+			updatePageIndexes();
+			notifyItemRangeChanged(0, items.size());
+		}
+	}
+
+	public void addPage() {
+		int page = getLastPage();
+		page++;
+		insertToEndOfAddedWidgets(new PageItem(page));
+	}
+
+	public void addWidget(@NonNull MapWidgetInfo widgetInfo) {
+		int page = getLastPage();
+		if (isVerticalPanel) {
+			page++;
+			insertToEndOfAddedWidgets(new PageItem(page));
+		}
+
+		insertToEndOfAddedWidgets(widgetInfo);
+	}
+
+	@SuppressLint("NotifyDataSetChanged")
+	private void insertToEndOfAddedWidgets(@NonNull Object listItem) {
+		int insertIndex = getIndexOfLastWidgetOrPageItem() + 1;
+		items.add(insertIndex, listItem);
+		notifyItemInserted(insertIndex);
+		notifyDataSetChanged();
+	}
+
+	private int getIndexOfLastWidgetOrPageItem() {
+		int index = -1;
+		for (int i = 0; i < items.size(); i++) {
+			Object item = items.get(i);
+			boolean suitableIndex = (index == -1 && item instanceof Integer integer && VIEW_TYPE_DIVIDER == integer)
+					|| item instanceof PageItem || item instanceof MapWidgetInfo;
+			if (suitableIndex) {
+				index = i;
+			}
+		}
+
+		return index;
+	}
+
+	private int getLastPage() {
+		int maximumPageIndex = 0;
+		for (Object item : items) {
+			if (item instanceof PageItem pageItem && pageItem.pageNumber > maximumPageIndex) {
+				maximumPageIndex = pageItem.pageNumber;
+			}
+		}
+		return maximumPageIndex;
+	}
+
+	@Override
+	public int getItemCount() {
+		return items.size();
+	}
+
+	@Override
+	public int getItemViewType(int position) {
+		Object item = items.get(position);
+
+		if (item instanceof PageItem) {
+			return VIEW_TYPE_PAGE;
+		} else if (item instanceof MapWidgetInfo) {
+			return VIEW_TYPE_WIDGET;
+		} else if (item instanceof Integer integer) {
+			return integer;
+		}
+
+		return -1;
+	}
+
+	public static class PageItem {
+		public int pageNumber;
+
+		public PageItem(int pageNumber) {
+			this.pageNumber = pageNumber;
+		}
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragmentV2.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragmentV2.java
new file mode 100644
index 00000000000..37b5eadcbb8
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragmentV2.java
@@ -0,0 +1,326 @@
+package net.osmand.plus.views.mapwidgets.configure.panel;
+
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.AVAILABLE_MODE;
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.ENABLED_MODE;
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.MATCHING_PANELS_MODE;
+
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+import androidx.recyclerview.widget.LinearLayoutManager;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.base.dialog.DialogManager;
+import net.osmand.plus.profiles.SelectCopyAppModeBottomSheet;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.settings.bottomsheets.ConfirmationBottomSheet;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.views.layers.MapInfoLayer;
+import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
+import net.osmand.plus.views.mapwidgets.MapWidgetRegistry;
+import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.configure.WidgetsSettingsHelper;
+import net.osmand.plus.views.mapwidgets.configure.dialogs.AddWidgetFragment;
+import net.osmand.plus.views.mapwidgets.configure.settings.WidgetInfoBaseFragment;
+import net.osmand.util.Algorithms;
+
+import java.util.ArrayList;
+import java.util.List;
+import java.util.Set;
+
+public class WidgetsListFragmentV2 extends Fragment implements ConfirmationBottomSheet.ConfirmationDialogListener,
+		SelectCopyAppModeBottomSheet.CopyAppModePrefsListener, WidgetsListAdapter.WidgetsAdapterListener, AddWidgetFragment.AddWidgetListener {
+
+	private static final String SELECTED_PANEL_KEY = "selected_panel_key";
+
+	private OsmandApplication app;
+	private OsmandSettings settings;
+	private MapWidgetRegistry widgetRegistry;
+	private ConfigureWidgetsController controller;
+
+	private WidgetsPanel selectedPanel;
+	private ApplicationMode selectedAppMode;
+	private List<List<MapWidgetInfo>> originalWidgetsData;
+
+	private RecyclerView recyclerView;
+	private WidgetsListAdapter adapter;
+
+	private boolean nightMode;
+
+	public void setSelectedPanel(@NonNull WidgetsPanel panel) {
+		this.selectedPanel = panel;
+	}
+
+	@Override
+	public void onCreate(@Nullable Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		app = (OsmandApplication) requireContext().getApplicationContext();
+		settings = app.getSettings();
+		nightMode = !settings.isLightContent();
+		selectedAppMode = settings.getApplicationMode();
+		widgetRegistry = app.getOsmandMap().getMapLayers().getMapWidgetRegistry();
+
+		DialogManager dialogManager = app.getDialogManager();
+		controller = (ConfigureWidgetsController) dialogManager.findController(ConfigureWidgetsController.PROCESS_ID);
+		if (savedInstanceState != null) {
+			selectedPanel = WidgetsPanel.valueOf(savedInstanceState.getString(SELECTED_PANEL_KEY));
+		}
+	}
+
+	@Nullable
+	@Override
+	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
+		inflater = UiUtilities.getInflater(requireContext(), nightMode);
+		View view = inflater.inflate(R.layout.fragment_widgets_list_v2, container, false);
+
+		recyclerView = view.findViewById(R.id.recycler_view);
+		setupRecyclerView();
+
+		return view;
+	}
+
+	private void setupRecyclerView() {
+		originalWidgetsData = getPagedWidgets();
+
+		adapter = new WidgetsListAdapter(requireMapActivity(), nightMode, this, selectedPanel.isPanelVertical(), selectedAppMode);
+
+		recyclerView.setLayoutManager(new LinearLayoutManager(requireContext()));
+		recyclerView.setAdapter(adapter);
+		adapter.attachToRecyclerView(recyclerView);
+
+		if (isEditMode()) {
+			adapter.setItems(controller.getReorderList());
+		} else {
+			adapter.setData(originalWidgetsData);
+		}
+	}
+
+	@Override
+	public void onResume() {
+		super.onResume();
+
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof ConfigureWidgetsFragment) {
+			((ConfigureWidgetsFragment) fragment).setSelectedFragment(this);
+		}
+	}
+
+	@Override
+	public void onPause() {
+		super.onPause();
+
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof ConfigureWidgetsFragment) {
+			((ConfigureWidgetsFragment) fragment).setSelectedFragment(null);
+		}
+	}
+
+	public void updateAdapter() {
+		adapter.setData(originalWidgetsData);
+	}
+
+	public void updateContent() {
+		if (adapter != null) {
+			List<List<MapWidgetInfo>> newData = getPagedWidgets();
+			originalWidgetsData = newData;
+			adapter.setData(newData);
+		}
+	}
+
+	@NonNull
+	private List<List<MapWidgetInfo>> getPagedWidgets() {
+		MapActivity mapActivity = requireMapActivity();
+
+		List<List<MapWidgetInfo>> result = new ArrayList<>();
+		int enabledWidgetsFilter = AVAILABLE_MODE | ENABLED_MODE | MATCHING_PANELS_MODE;
+		for (Set<MapWidgetInfo> set : widgetRegistry.getPagedWidgetsForPanel(mapActivity, selectedAppMode, selectedPanel, enabledWidgetsFilter)) {
+			result.add(new ArrayList<>(set));
+		}
+		return result;
+	}
+
+	public void onApplyChanges() {
+		applyWidgetsConfiguration();
+
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof WidgetsConfigurationChangeListener) {
+			((WidgetsConfigurationChangeListener) fragment).onWidgetsConfigurationChanged();
+		}
+	}
+
+	@NonNull
+	private List<MapWidgetInfo> getFlatWidgetsList(@NonNull List<List<MapWidgetInfo>> widgetsData) {
+		List<MapWidgetInfo> flatWidgetsList = new ArrayList<>();
+		for (List<MapWidgetInfo> page : widgetsData) {
+			if (!Algorithms.isEmpty(page)) {
+				flatWidgetsList.addAll(page);
+			}
+		}
+		return flatWidgetsList;
+	}
+
+	private void applyWidgetsConfiguration() {
+		List<List<MapWidgetInfo>> widgetsData = adapter.getWidgetsData();
+		List<String> enabledWidgetsIds = new ArrayList<>();
+		List<MapWidgetInfo> newWidgetToCreate = new ArrayList<>();
+
+		for (MapWidgetInfo widgetInfo : getFlatWidgetsList(widgetsData)) {
+			String key = widgetInfo.key;
+			MapWidgetInfo info = widgetRegistry.getWidgetInfoById(key);
+			if (info == null) {
+				newWidgetToCreate.add(widgetInfo);
+			}
+			enabledWidgetsIds.add(key);
+		}
+
+		applyWidgetsPanel(newWidgetToCreate);
+		applyWidgetsVisibility(enabledWidgetsIds);
+
+		List<List<String>> orderList = new ArrayList<>();
+		for (List<MapWidgetInfo> page : widgetsData) {
+			List<String> orderIds = new ArrayList<>();
+			for (MapWidgetInfo widgetInfo : page) {
+				orderIds.add(widgetInfo.key);
+			}
+			orderList.add(orderIds);
+		}
+
+		applyWidgetsOrder(orderList);
+
+		MapInfoLayer mapInfoLayer = app.getOsmandMap().getMapLayers().getMapInfoLayer();
+		if (mapInfoLayer != null) {
+			mapInfoLayer.recreateControls();
+		}
+	}
+
+	private void applyWidgetsPanel(@NonNull List<MapWidgetInfo> enabledWidgetsIds) {
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof ConfigureWidgetsFragment) {
+			((ConfigureWidgetsFragment) fragment).createWidgets(enabledWidgetsIds);
+		}
+	}
+
+	private void applyWidgetsVisibility(@NonNull List<String> enabledWidgetsIds) {
+		WidgetsPanel panel = selectedPanel;
+		for (MapWidgetInfo widget : widgetRegistry.getWidgetsForPanel(panel)) {
+			boolean enabledFromApply = enabledWidgetsIds.contains(widget.key);
+			if (widget.isEnabledForAppMode(selectedAppMode) != enabledFromApply) {
+				widgetRegistry.enableDisableWidgetForMode(selectedAppMode, widget, enabledFromApply, false);
+			}
+		}
+	}
+
+	private void applyWidgetsOrder(@NonNull List<List<String>> pagedOrder) {
+		selectedPanel.setWidgetsOrder(selectedAppMode, pagedOrder, settings);
+		widgetRegistry.reorderWidgets();
+	}
+
+	@Override
+	public void onSaveInstanceState(@NonNull Bundle outState) {
+		super.onSaveInstanceState(outState);
+		outState.putString(SELECTED_PANEL_KEY, selectedPanel.name());
+		if (isEditMode()) {
+			controller.setReorderList(adapter.getItems());
+		}
+	}
+
+	@NonNull
+	public MapActivity requireMapActivity() {
+		FragmentActivity activity = getActivity();
+		if (!(activity instanceof MapActivity)) {
+			throw new IllegalStateException("Fragment " + this + " not attached to an activity.");
+		}
+		return (MapActivity) activity;
+	}
+
+	@Override
+	public void onPageDeleted(int position, Object item) {
+		if (adapter != null) {
+			adapter.removeItem(position);
+		}
+	}
+
+	@Override
+	public void onWidgetDeleted(int position, Object item) {
+		if (adapter != null) {
+			adapter.removeItem(position);
+		}
+	}
+
+	@Override
+	public void onAddPageClicked() {
+		if (adapter != null) {
+			adapter.addPage();
+		}
+	}
+
+	@Override
+	public void onWidgetClick(@NonNull MapWidgetInfo widgetInfo) {
+		WidgetType widgetType = widgetInfo.getWidgetType();
+
+		WidgetInfoBaseFragment settingsBaseFragment = widgetType.getSettingsFragment(app, widgetInfo);
+		if (settingsBaseFragment != null) {
+			FragmentManager manager = requireMapActivity().getSupportFragmentManager();
+			WidgetInfoBaseFragment.showFragment(manager, settingsBaseFragment, requireParentFragment(), selectedAppMode, widgetInfo.key, selectedPanel);
+		}
+	}
+
+	@Override
+	public boolean isEditMode() {
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof ConfigureWidgetsFragment configureWidgetsFragment) {
+			return configureWidgetsFragment.isEditMode;
+		}
+		return false;
+	}
+
+	@Override
+	public void onMoveStarted() {
+		adapter.actionStarted();
+	}
+
+	@Override
+	public void addNewWidget() {
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof ConfigureWidgetsFragment) {
+			((ConfigureWidgetsFragment) fragment).addNewWidget();
+		}
+	}
+
+	public void addWidget(@NonNull MapWidgetInfo widgetInfo) {
+		adapter.addWidget(widgetInfo);
+	}
+
+	@Override
+	public void onWidgetSelectedToAdd(@NonNull String widgetId, @NonNull WidgetsPanel widgetsPanel, boolean recreateControls) {
+		MapWidgetInfo widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
+		if (widgetInfo != null) {
+			adapter.addWidget(widgetInfo);
+		}
+	}
+
+	@Override
+	public void copyAppModePrefs(@NonNull ApplicationMode appMode) {
+		int filter = ENABLED_MODE | AVAILABLE_MODE | MATCHING_PANELS_MODE;
+		WidgetsSettingsHelper helper = new WidgetsSettingsHelper(requireMapActivity(), appMode);
+		List<List<MapWidgetInfo>> widgetsOrder = helper.getWidgetInfoPagedOrder(appMode, selectedAppMode, selectedPanel, filter);
+		adapter.setData(widgetsOrder);
+	}
+
+	@Override
+	public void onActionConfirmed(int actionId) {
+
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/AddPageViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/AddPageViewHolder.java
new file mode 100644
index 00000000000..ef9bd745f45
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/AddPageViewHolder.java
@@ -0,0 +1,27 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback.UnmovableItem;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter;
+
+public class AddPageViewHolder extends RecyclerView.ViewHolder implements UnmovableItem {
+
+	public AddPageViewHolder(@NonNull View itemView) {
+		super(itemView);
+	}
+
+	@Override
+	public boolean isMovingDisabled() {
+		return true;
+	}
+
+	public void bind(@NonNull WidgetsListAdapter.WidgetsAdapterListener listener) {
+		itemView.setOnClickListener(v -> {
+			listener.onAddPageClicked();
+		});
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/DividerViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/DividerViewHolder.java
new file mode 100644
index 00000000000..5191ebbd701
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/DividerViewHolder.java
@@ -0,0 +1,19 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback;
+
+public class DividerViewHolder extends RecyclerView.ViewHolder implements ReorderItemTouchHelperCallback.UnmovableItem {
+	public DividerViewHolder(@NonNull View itemView) {
+		super(itemView);
+	}
+
+	@Override
+	public boolean isMovingDisabled() {
+		return true;
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/EmptyStateViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/EmptyStateViewHolder.java
new file mode 100644
index 00000000000..ba01d462840
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/EmptyStateViewHolder.java
@@ -0,0 +1,37 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.appcompat.widget.AppCompatImageView;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback.UnmovableItem;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetsAdapterListener;
+import net.osmand.plus.widgets.dialogbutton.DialogButton;
+
+public class EmptyStateViewHolder extends RecyclerView.ViewHolder implements UnmovableItem {
+
+	private final DialogButton addButton;
+	private final AppCompatImageView icon;
+
+	public EmptyStateViewHolder(@NonNull View itemView) {
+		super(itemView);
+		addButton = itemView.findViewById(R.id.add_button);
+		icon = itemView.findViewById(R.id.no_widgets_image);
+	}
+
+	@Override
+	public boolean isMovingDisabled() {
+		return true;
+	}
+
+	public void bind(@NonNull OsmandApplication app, @NonNull WidgetsAdapterListener listener, boolean nightMode) {
+		icon.setImageDrawable(app.getUIUtilities().getPaintedIcon(R.drawable.ic_action_screen_side_left, ColorUtilities.getDefaultIconColor(app, nightMode)));
+		addButton.setOnClickListener(view -> listener.addNewWidget());
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java
new file mode 100644
index 00000000000..1269bde1a98
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java
@@ -0,0 +1,102 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.annotation.SuppressLint;
+import android.graphics.drawable.Drawable;
+import android.view.MotionEvent;
+import android.view.View;
+import android.view.View.OnClickListener;
+import android.widget.ImageButton;
+
+import androidx.annotation.NonNull;
+import androidx.appcompat.widget.AppCompatImageView;
+import androidx.recyclerview.widget.ItemTouchHelper;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.PageItem;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetsAdapterListener;
+import net.osmand.plus.widgets.TextViewEx;
+
+public class PageViewHolder extends RecyclerView.ViewHolder {
+
+	private final TextViewEx page;
+	private final ImageButton deleteButton;
+	private final AppCompatImageView moveButton;
+
+	public PageViewHolder(@NonNull View itemView) {
+		super(itemView);
+		page = itemView.findViewById(R.id.page);
+		deleteButton = itemView.findViewById(R.id.delete_page_button);
+		moveButton = itemView.findViewById(R.id.move_button);
+	}
+
+	@SuppressLint("ClickableViewAccessibility")
+	public void bind(@NonNull MapActivity mapActivity, @NonNull WidgetsAdapterListener listener,
+	                 @NonNull ItemTouchHelper itemTouchHelper, @NonNull WidgetsListAdapter adapter,
+	                 int position, @NonNull PageItem pageItem, boolean isVerticalPanel, boolean nightMode) {
+		OsmandApplication app = mapActivity.getMyApplication();
+
+		String text = app.getString(isVerticalPanel ? R.string.row_number : R.string.page_number, String.valueOf(pageItem.pageNumber));
+		page.setText(text);
+
+		OnClickListener deletePageListener;
+		Drawable deleteIcon;
+
+		int previousRowPosition = adapter.getPreviousRowPosition(position);
+		boolean rowHasComplexWidget = adapter.rowHasComplexWidget(position, null);
+		boolean previousRowHasComplexWidget = adapter.rowHasComplexWidget(previousRowPosition, null);
+		boolean isRowEmpty = adapter.getRowWidgetIds(position, null).isEmpty();
+		boolean isPreviousRowEmpty = adapter.getRowWidgetIds(previousRowPosition, null).isEmpty();
+
+		boolean hideMoveIcon;
+		if (adapter.isFirstPage(position)) {
+			deletePageListener = null;
+			deleteIcon = getDeleteIcon(app, nightMode, true);
+			hideMoveIcon = true;
+		} else if (isVerticalPanel) {
+			if (rowHasComplexWidget && !isPreviousRowEmpty) {
+				deletePageListener = v -> app.showToastMessage(app.getString(R.string.remove_widget_first));
+				deleteIcon = getDeleteIcon(app, nightMode, true);
+				hideMoveIcon = true;
+			} else if (previousRowHasComplexWidget && !isRowEmpty) {
+				deletePageListener = v -> app.showToastMessage(app.getString(R.string.previous_row_has_complex_widget));
+				deleteIcon = getDeleteIcon(app, nightMode, true);
+				hideMoveIcon = true;
+			} else {
+				deletePageListener = v -> listener.onPageDeleted(position, pageItem);
+				deleteIcon = getDeleteIcon(app, nightMode, false);
+				hideMoveIcon = false;
+			}
+		} else {
+			deletePageListener = v -> listener.onPageDeleted(position, pageItem);
+			deleteIcon = getDeleteIcon(app, nightMode, false);
+			hideMoveIcon = false;
+		}
+
+		boolean editMode = listener.isEditMode();
+
+		deleteButton.setVisibility(editMode ? View.VISIBLE : View.GONE);
+		deleteButton.setImageDrawable(deleteIcon);
+		deleteButton.setOnClickListener(deletePageListener);
+
+		moveButton.setVisibility(editMode && !hideMoveIcon ? View.VISIBLE : View.GONE);
+		moveButton.setOnTouchListener((v, event) -> {
+			if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
+				listener.onMoveStarted();
+				itemTouchHelper.startDrag(this);
+			}
+			return false;
+		});
+	}
+
+	@NonNull
+	private Drawable getDeleteIcon(@NonNull OsmandApplication app, boolean nightMode, boolean disabled) {
+		return disabled
+				? app.getUIUtilities().getIcon(R.drawable.ic_action_remove, nightMode)
+				: app.getUIUtilities().getIcon(R.drawable.ic_action_remove, R.color.color_osm_edit_delete);
+	}
+
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/ShadowViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/ShadowViewHolder.java
new file mode 100644
index 00000000000..7a84c8453f8
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/ShadowViewHolder.java
@@ -0,0 +1,21 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback.UnmovableItem;
+
+public class ShadowViewHolder extends RecyclerView.ViewHolder implements UnmovableItem {
+
+	public ShadowViewHolder(@NonNull View itemView) {
+		super(itemView);
+	}
+
+	@Override
+	public boolean isMovingDisabled() {
+		return true;
+	}
+
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/SpaceViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/SpaceViewHolder.java
new file mode 100644
index 00000000000..6c64a801ad6
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/SpaceViewHolder.java
@@ -0,0 +1,31 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.FrameLayout;
+
+import androidx.annotation.NonNull;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback;
+import net.osmand.plus.views.controls.ReorderItemTouchHelperCallback.UnmovableItem;
+
+public class SpaceViewHolder extends RecyclerView.ViewHolder implements UnmovableItem {
+
+	public SpaceViewHolder(@NonNull View itemView) {
+		super(itemView);
+	}
+
+	@Override
+	public boolean isMovingDisabled() {
+		return true;
+	}
+
+	public void bind(@NonNull MapActivity mapActivity) {
+		int height = mapActivity.getResources().getDimensionPixelSize(R.dimen.bottom_space_height);
+		itemView.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, height));
+	}
+
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java
new file mode 100644
index 00000000000..897030f192d
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java
@@ -0,0 +1,87 @@
+package net.osmand.plus.views.mapwidgets.configure.panel.holders;
+
+import android.annotation.SuppressLint;
+import android.graphics.drawable.Drawable;
+import android.view.MotionEvent;
+import android.view.View;
+import android.widget.ImageButton;
+import android.widget.ImageView;
+
+import androidx.annotation.NonNull;
+import androidx.appcompat.widget.AppCompatImageView;
+import androidx.recyclerview.widget.ItemTouchHelper;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
+import net.osmand.plus.views.mapwidgets.configure.WidgetIconsHelper;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetsAdapterListener;
+import net.osmand.plus.widgets.TextViewEx;
+
+public class WidgetViewHolder extends RecyclerView.ViewHolder {
+	private final TextViewEx title;
+	private final ImageView icon;
+	private final ImageButton deleteButton;
+	private final AppCompatImageView moveIcon;
+	private final View bottomDivider;
+	private final View selectableBackground;
+
+	public WidgetViewHolder(@NonNull View itemView) {
+		super(itemView);
+		title = itemView.findViewById(R.id.title);
+		icon = itemView.findViewById(R.id.icon);
+		deleteButton = itemView.findViewById(R.id.delete_widget_button);
+		moveIcon = itemView.findViewById(R.id.move_icon);
+		bottomDivider = itemView.findViewById(R.id.bottom_divider);
+		selectableBackground = itemView.findViewById(R.id.selectable_widget_background);
+	}
+
+	@SuppressLint("ClickableViewAccessibility")
+	public void bind(@NonNull MapActivity mapActivity, @NonNull WidgetsAdapterListener listener,
+	                 @NonNull ItemTouchHelper itemTouchHelper, @NonNull MapWidgetInfo widgetInfo,
+	                 @NonNull WidgetIconsHelper iconsHelper, int position, boolean nightMode, boolean showDivider) {
+		OsmandApplication app = mapActivity.getMyApplication();
+		boolean editMode = listener.isEditMode();
+
+		Drawable drawable = editMode ? null : UiUtilities.getSelectableDrawable(app);
+		AndroidUtils.setBackground(selectableBackground, drawable);
+
+		title.setText(widgetInfo.getTitle(app));
+
+		iconsHelper.updateWidgetIcon(icon, widgetInfo);
+		moveIcon.setVisibility(View.VISIBLE);
+
+		deleteButton.setVisibility(editMode ? View.VISIBLE : View.GONE);
+		deleteButton.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_remove, R.color.color_osm_edit_delete));
+		deleteButton.setOnClickListener(v -> {
+			listener.onWidgetDeleted(position, widgetInfo);
+		});
+
+		itemView.setOnClickListener(view -> {
+			if (!editMode) {
+				listener.onWidgetClick(widgetInfo);
+			}
+		});
+
+		if (editMode) {
+			moveIcon.setImageDrawable(app.getUIUtilities().getPaintedIcon(R.drawable.ic_action_item_move, ColorUtilities.getDefaultIconColor(app, nightMode)));
+		} else {
+			int iconId = nightMode ? R.drawable.ic_action_info_dark : R.drawable.ic_action_info;
+			moveIcon.setImageDrawable(app.getUIUtilities().getIcon(iconId));
+		}
+		moveIcon.setOnTouchListener((v, event) -> {
+			if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
+				listener.onMoveStarted();
+				itemTouchHelper.startDrag(this);
+			}
+			return false;
+		});
+
+		bottomDivider.setVisibility(showDivider ? View.VISIBLE : View.INVISIBLE);
+	}
+}
\ No newline at end of file
