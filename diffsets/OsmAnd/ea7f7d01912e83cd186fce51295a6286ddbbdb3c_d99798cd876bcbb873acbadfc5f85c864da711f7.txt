diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
index a61505013db..feb49269d89 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
@@ -2236,15 +2236,11 @@ public void onConfigurationChanged(@NonNull Configuration newConfig) {
 		app.getLocaleHelper().setLanguage(this);
 
 		app.runInUIThread(() -> {
-			List<Fragment> fragments = getSupportFragmentManager().getFragments();
-			for (Fragment fragment : fragments) {
-				getSupportFragmentManager()
-						.beginTransaction()
-						.detach(fragment)
-						.attach(fragment)
-						.commitAllowingStateLoss();
+			FragmentManager manager = getSupportFragmentManager();
+			for (Fragment fragment : manager.getFragments()) {
+				manager.beginTransaction().detach(fragment).commitAllowingStateLoss();
+				manager.beginTransaction().attach(fragment).commitAllowingStateLoss();
 			}
-
 			DashboardOnMap dashboard = getDashboard();
 			if (dashboard.isVisible() && !dashboard.isCurrentTypeHasIndividualFragment()) {
 				dashboard.refreshContent(true);
diff --git a/OsmAnd/src/net/osmand/plus/track/fragments/TrackMenuFragment.java b/OsmAnd/src/net/osmand/plus/track/fragments/TrackMenuFragment.java
index 925a0e7f7d2..035fada04f4 100644
--- a/OsmAnd/src/net/osmand/plus/track/fragments/TrackMenuFragment.java
+++ b/OsmAnd/src/net/osmand/plus/track/fragments/TrackMenuFragment.java
@@ -468,7 +468,7 @@ private void shiftMapControls(int shift) {
 	}
 
 	private void initContent(@NonNull View view) {
-		setupCards();
+		setupCards(false);
 		setupToolbar();
 		updateHeader();
 		updateHeadersBottomShadow();
@@ -700,13 +700,13 @@ public void onPointGroupsVisibilityChanged() {
 		}
 	}
 
-	private void setupCards() {
+	private void setupCards(boolean shouldReattachCards) {
 		MapActivity mapActivity = getMapActivity();
 		if (mapActivity != null) {
 			ViewGroup cardsContainer = getCardsContainer();
 			cardsContainer.removeAllViews();
 			if (menuType == TrackMenuTab.TRACK) {
-				if (segmentsCard != null && segmentsCard.getView() != null) {
+				if (shouldReattachCards && segmentsCard != null && segmentsCard.getView() != null) {
 					reattachCard(cardsContainer, segmentsCard);
 				} else {
 					segmentsCard = new SegmentsCard(mapActivity, displayHelper, gpxPoint, selectedGpxFile,
@@ -715,7 +715,7 @@ private void setupCards() {
 					cardsContainer.addView(segmentsCard.build(mapActivity));
 				}
 			} else if (menuType == TrackMenuTab.OPTIONS) {
-				if (optionsCard != null && optionsCard.getView() != null) {
+				if (shouldReattachCards && optionsCard != null && optionsCard.getView() != null) {
 					reattachCard(cardsContainer, optionsCard);
 				} else {
 					optionsCard = new OptionsCard(mapActivity, displayHelper, selectedGpxFile);
@@ -723,7 +723,7 @@ private void setupCards() {
 					cardsContainer.addView(optionsCard.build(mapActivity));
 				}
 			} else if (menuType == TrackMenuTab.OVERVIEW) {
-				if (overviewCard != null && overviewCard.getView() != null) {
+				if (shouldReattachCards && overviewCard != null && overviewCard.getView() != null) {
 					reattachCard(cardsContainer, overviewCard);
 				} else {
 					overviewCard = new OverviewCard(mapActivity, this, selectedGpxFile,
@@ -735,28 +735,28 @@ private void setupCards() {
 					}
 				}
 
-				if (descriptionCard != null && descriptionCard.getView() != null) {
+				if (shouldReattachCards && descriptionCard != null && descriptionCard.getView() != null) {
 					reattachCard(cardsContainer, descriptionCard);
 				} else {
-					descriptionCard = new DescriptionCard(getMapActivity(), this, displayHelper.getGpx());
+					descriptionCard = new DescriptionCard(getMapActivity(), this, selectedGpxFile.getGpxFile());
 					cardsContainer.addView(descriptionCard.build(mapActivity));
 				}
 				if (routeKey != null) {
-					if (routeInfoCard != null && routeInfoCard.getView() != null) {
+					if (shouldReattachCards && routeInfoCard != null && routeInfoCard.getView() != null) {
 						reattachCard(cardsContainer, routeInfoCard);
 					} else {
-						routeInfoCard = new RouteInfoCard(getMapActivity(), routeKey, displayHelper.getGpx());
+						routeInfoCard = new RouteInfoCard(getMapActivity(), routeKey, selectedGpxFile.getGpxFile());
 						cardsContainer.addView(routeInfoCard.build(mapActivity));
 					}
 				}
-				if (gpxInfoCard != null && gpxInfoCard.getView() != null) {
+				if (shouldReattachCards && gpxInfoCard != null && gpxInfoCard.getView() != null) {
 					reattachCard(cardsContainer, gpxInfoCard);
 				} else {
-					gpxInfoCard = new GpxInfoCard(getMapActivity(), displayHelper.getGpx());
+					gpxInfoCard = new GpxInfoCard(getMapActivity(), selectedGpxFile.getGpxFile());
 					cardsContainer.addView(gpxInfoCard.build(mapActivity));
 				}
 			} else if (menuType == TrackMenuTab.POINTS) {
-				if (pointsCard != null && pointsCard.getView() != null) {
+				if (shouldReattachCards && pointsCard != null && pointsCard.getView() != null) {
 					reattachCard(cardsContainer, pointsCard);
 				} else {
 					pointsCard = new TrackPointsCard(mapActivity, displayHelper, selectedGpxFile);
@@ -1302,7 +1302,7 @@ private void setupButtons(View view) {
 					TrackMenuTab prevMenuType = menuType;
 					menuType = type;
 					menuTypeChanged = prevMenuType != type;
-					setupCards();
+					setupCards(true);
 					updateHeader();
 					updateHeadersBottomShadow();
 					updateControlsVisibility(isVisible());
@@ -1374,7 +1374,7 @@ public void updateContent() {
 			pointsCard.updateContent();
 		}
 		updatePointGroupsCard();
-		setupCards();
+		setupCards(true);
 		updateDisplayGroupsWidget();
 	}
 
