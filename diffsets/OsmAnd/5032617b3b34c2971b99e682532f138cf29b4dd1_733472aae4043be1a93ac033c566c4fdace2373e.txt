diff --git a/OsmAnd/res/layout/favorite_save_bottom_sheet_buttons.xml b/OsmAnd/res/layout/favorite_save_bottom_sheet_buttons.xml
index 7e302355a5c..23bdc01efba 100644
--- a/OsmAnd/res/layout/favorite_save_bottom_sheet_buttons.xml
+++ b/OsmAnd/res/layout/favorite_save_bottom_sheet_buttons.xml
@@ -36,7 +36,7 @@
 
 	<View
 		android:layout_width="match_parent"
-		android:layout_height="@dimen/content_padding"
+		android:layout_height="@dimen/horizontal_divider_height"
 		tools:visibility="visible" />
 
 	<net.osmand.plus.widgets.dialogbutton.DialogButton
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/favorite/FavoriteAppearanceController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/favorite/FavoriteAppearanceController.java
index 20ae35c0b17..94d32d27ef0 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/favorite/FavoriteAppearanceController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/favorite/FavoriteAppearanceController.java
@@ -3,21 +3,18 @@
 import static net.osmand.shared.gpx.GpxParameter.COLOR;
 import static net.osmand.shared.gpx.GpxParameter.COLORING_TYPE;
 
+
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
-import androidx.fragment.app.FragmentActivity;
 
 import net.osmand.data.BackgroundType;
 import net.osmand.data.FavouritePoint;
 import net.osmand.plus.OsmandApplication;
-import net.osmand.plus.base.dialog.DialogManager;
 import net.osmand.plus.base.dialog.interfaces.controller.IDialogController;
 import net.osmand.plus.card.color.ColoringStyle;
 import net.osmand.plus.card.color.ColoringStyleCardController.IColorCardControllerListener;
 import net.osmand.plus.card.color.palette.main.data.PaletteColor;
 import net.osmand.plus.card.icon.OnIconsPaletteListener;
-import net.osmand.plus.configmap.tracks.appearance.DefaultAppearanceController;
-import net.osmand.plus.configmap.tracks.appearance.DefaultAppearanceFragment;
 import net.osmand.plus.configmap.tracks.appearance.data.AppearanceData;
 import net.osmand.plus.mapcontextmenu.editors.FavoriteShapesCardController;
 import net.osmand.plus.mapcontextmenu.editors.ShapesCard;
@@ -25,7 +22,6 @@
 import net.osmand.plus.myplaces.favorites.FavoriteGroup;
 import net.osmand.plus.routepreparationmenu.cards.BaseCard;
 import net.osmand.plus.routepreparationmenu.cards.BaseCard.CardListener;
-import net.osmand.shared.gpx.data.TrackFolder;
 import net.osmand.shared.routing.ColoringType;
 
 public class FavoriteAppearanceController implements IDialogController, IColorCardControllerListener, CardListener, OnIconsPaletteListener<String> {
@@ -59,7 +55,7 @@ public FavoriteAppearanceController(@NonNull OsmandApplication app, @NonNull Fav
 		colorCardController = new FavoriteColorCardController(app, appearanceData, this);
 		colorCardController.setListener(this);
 
-		editorIconController = new FavoriteEditorIconController(app);
+		editorIconController = new FavoriteEditorIconController(app, this);
 		if (selectedIconName != null) {
 			editorIconController.setSelectedIconKey(selectedIconName);
 		}
@@ -142,6 +138,11 @@ public String getIcon() {
 		return selectedIconName;
 	}
 
+	@NonNull
+	public String requireIcon() {
+		return selectedIconName != null ? selectedIconName : favoriteListener.getOriginalIconKey();
+	}
+
 	public void setColor(@Nullable Integer color) {
 		selectedColor = color;
 		updateCards();
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/DefaultFavoriteAppearanceSaveBottomSheet.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/DefaultFavoriteAppearanceSaveBottomSheet.java
index 0f006df42cc..38cee687117 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/DefaultFavoriteAppearanceSaveBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/DefaultFavoriteAppearanceSaveBottomSheet.java
@@ -83,6 +83,11 @@ protected void onThirdBottomButtonClick() {
 		dismiss();
 	}
 
+	@Override
+	public int getSecondDividerHeight() {
+		return getResources().getDimensionPixelSize(R.dimen.content_padding);
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager, @Nullable Fragment target,
 	                                @NonNull String editorTag, int pointsSize) {
 		if (!manager.isStateSaved()) {
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteAppearanceFragment.java
index 5ce197a5a19..b5bf5f91b9d 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteAppearanceFragment.java
@@ -37,6 +37,7 @@
 import net.osmand.plus.widgets.dialogbutton.DialogButton;
 import net.osmand.plus.widgets.dialogbutton.DialogButtonType;
 import net.osmand.shared.gpx.GpxUtilities.PointsGroup;
+import net.osmand.util.Algorithms;
 
 public class FavoriteAppearanceFragment extends BaseOsmAndFragment {
 
@@ -123,7 +124,6 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 
 		MultiStateCard shapeCard = new MultiStateCard(requireMapActivity(), controller.getShapesController());
 		cardContainer.addView(shapeCard.build());
-		inflate(R.layout.list_item_divider, cardContainer, true);
 
 		return view;
 	}
@@ -168,6 +168,11 @@ public void setBackgroundType(@NonNull BackgroundType backgroundType) {
 		this.backgroundType = backgroundType;
 	}
 
+	@Override
+	public int getStatusBarColorId() {
+		return ColorUtilities.getStatusBarColorId(nightMode);
+	}
+
 	@Nullable
 	protected PointEditor getEditor() {
 		return requireMapActivity().getContextMenu().getFavoritePointEditor();
@@ -224,10 +229,12 @@ public void editPointsGroup(@NonNull SaveOption saveOption) {
 			if (controller.getColor() != null) {
 				favouritesHelper.updateGroupColor(favoriteGroup, controller.getColor(), saveOption, false);
 				shouldSave = true;
+				controller.getColorCardController().getColorsPaletteController().refreshLastUsedTime();
 			}
 			if (controller.getIcon() != null) {
 				favouritesHelper.updateGroupIconName(favoriteGroup, controller.getIcon(), saveOption, false);
 				shouldSave = true;
+				controller.getIconController().addIconToLastUsed(controller.getIcon());
 			}
 			if (controller.getShape() != null) {
 				favouritesHelper.updateGroupBackgroundType(favoriteGroup, controller.getShape(), saveOption, false);
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteShapesCardController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteShapesCardController.java
index 515b36974b0..9856d4e6385 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteShapesCardController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/FavoriteShapesCardController.java
@@ -1,10 +1,13 @@
 package net.osmand.plus.mapcontextmenu.editors;
 
 import android.content.res.Resources;
+import android.graphics.drawable.Drawable;
 import android.view.LayoutInflater;
 import android.view.ViewGroup;
+import android.widget.ImageView;
 import android.widget.LinearLayout;
 
+import androidx.annotation.DrawableRes;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.fragment.app.FragmentActivity;
@@ -17,6 +20,7 @@
 import net.osmand.plus.card.base.multistate.CardState;
 import net.osmand.plus.card.base.simple.DescriptionCard;
 import net.osmand.plus.configmap.tracks.appearance.favorite.FavoriteAppearanceController;
+import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
 
 import java.util.ArrayList;
@@ -93,7 +97,24 @@ public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewG
 			BackgroundType type = (BackgroundType) selectedState.getTag();
 			if (type != null) {
 				MapActivity mapActivity = (MapActivity) activity;
-				shapesCard = new ShapesCard(mapActivity, type, centralController.requireColor());
+				shapesCard = new ShapesCard(mapActivity, type, centralController.requireColor()){
+
+					@Override
+					protected Drawable getOutlineDrawable(@DrawableRes int shapeIconId) {
+						Resources resources = app.getResources();
+						String shapeIconName = resources.getResourceName(shapeIconId);
+						String shapeBackgroundIconName = shapeIconName + "_contour";
+						int iconRes = resources.getIdentifier(shapeBackgroundIconName, "drawable", app.getPackageName());
+						return getColoredIcon(iconRes, ColorUtilities.getActiveColorId(nightMode));
+					}
+
+					@Override
+					public void setUnselectedBackground(@NonNull BackgroundType backgroundType, @NonNull ImageView background) {
+						Drawable inactiveIcon = getPaintedIcon(backgroundType.getIconId(), selectedColor);
+						background.setImageDrawable(inactiveIcon);
+					}
+
+				};
 				shapesCard.setListener(centralController);
 
 				Resources resources = app.getResources();
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/ShapesCard.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/ShapesCard.java
index 0e2f9cff799..0305d59baa8 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/ShapesCard.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/ShapesCard.java
@@ -22,7 +22,7 @@ public class ShapesCard extends MapBaseCard {
 	@NonNull
 	private BackgroundType selectedShape;
 	@ColorInt
-	private int selectedColor;
+	protected int selectedColor;
 
 	public ShapesCard(@NonNull MapActivity mapActivity, @NonNull BackgroundType shape, @ColorInt int color) {
 		super(mapActivity);
@@ -74,7 +74,7 @@ private View createShapeItemView(@NonNull BackgroundType shape) {
 		return shapeItemView;
 	}
 
-	private Drawable getOutlineDrawable(@DrawableRes int shapeIconId) {
+	protected Drawable getOutlineDrawable(@DrawableRes int shapeIconId) {
 		Resources resources = app.getResources();
 		String shapeIconName = resources.getResourceName(shapeIconId);
 		String shapeBackgroundIconName = shapeIconName + "_contour";
@@ -109,7 +109,7 @@ private void selectNewShape(@NonNull BackgroundType newShape) {
 		}
 	}
 
-	private void setUnselectedBackground(@NonNull BackgroundType backgroundType, @NonNull ImageView background) {
+	protected void setUnselectedBackground(@NonNull BackgroundType backgroundType, @NonNull ImageView background) {
 		int inactiveColorId = ColorUtilities.getInactiveButtonsAndLinksColorId(nightMode);
 		Drawable inactiveIcon = getColoredIcon(backgroundType.getIconId(), inactiveColorId);
 		background.setImageDrawable(inactiveIcon);
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconController.java
index ca3fd08e4f5..8ec211e0689 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconController.java
@@ -53,7 +53,7 @@ public class EditorIconController extends BaseDialogController {
 	protected List<String> lastUsedIcons;
 	private String selectedIconKey;
 
-	private EditorIconCardController cardController;
+	protected EditorIconCardController cardController;
 	private EditorIconScreenController screenController;
 	private IconsPaletteElements<String> paletteElements;
 	private Fragment targetFragment;
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/FavoriteEditorIconController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/FavoriteEditorIconController.java
index ebd16fd38a7..4be71b0276b 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/FavoriteEditorIconController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/FavoriteEditorIconController.java
@@ -10,6 +10,7 @@
 import net.osmand.plus.R;
 import net.osmand.plus.card.base.simple.DescriptionCard;
 import net.osmand.plus.card.icon.IconsPaletteCard;
+import net.osmand.plus.configmap.tracks.appearance.favorite.FavoriteAppearanceController;
 import net.osmand.plus.mapcontextmenu.editors.icon.data.IconsCategory;
 import net.osmand.plus.utils.UiUtilities;
 
@@ -18,11 +19,14 @@
 
 public class FavoriteEditorIconController extends EditorIconController {
 
+	private final FavoriteAppearanceController favoriteAppearanceController;
+
 	public static final String ORIGINAL_KEY = "original";
 	public static final String PROCESS_ID = "favorite_editor_process_select_icon";
 
-	public FavoriteEditorIconController(@NonNull OsmandApplication app) {
+	public FavoriteEditorIconController(@NonNull OsmandApplication app, @NonNull FavoriteAppearanceController favoriteAppearanceController) {
 		super(app);
+		this.favoriteAppearanceController = favoriteAppearanceController;
 	}
 
 	@Override
@@ -45,6 +49,9 @@ public void setSelectedCategory(@NonNull IconsCategory category) {
 			}
 		} else if (getSelectedIconKey() != null) {
 			onIconSelectedFromPalette(getSelectedIconKey(), null);
+		} else if (getSelectedIconKey() == null) {
+			onIconSelectedFromPalette(favoriteAppearanceController.requireIcon(), null);
+			cardController.updateIconsSelection();
 		}
 	}
 
