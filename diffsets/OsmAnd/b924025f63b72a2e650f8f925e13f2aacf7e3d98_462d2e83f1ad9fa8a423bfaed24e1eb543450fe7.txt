diff --git a/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java b/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
index 11388c335ec..71141672e80 100644
--- a/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
+++ b/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
@@ -275,32 +275,40 @@ public MapActivity getMapActivity() {
 	public void setMapActivity(@Nullable MapActivity mapActivity) {
 		this.mapActivity = mapActivity;
 		if (mapActivity != null) {
-			gestureDetector = new GestureDetector(mapActivity, new MapTileViewOnGestureListener());
-			multiTouchSupport = new MultiTouchSupport(application, new MapTileViewMultiTouchZoomListener());
-			doubleTapScaleDetector = new DoubleTapScaleDetector(this, new MapTileViewMultiTouchZoomListener());
-			twoFingersTapDetector = new TwoFingerTapDetector() {
-				@Override
-				public void onTwoFingerTap() {
-					//afterTwoFingersTap = true;
-					if (!mapGestureAllowed(OsmandMapLayer.MapGestureType.TWO_POINTERS_ZOOM_OUT)) {
-						return;
-					}
-					if (isZoomingAllowed(getZoom(), -1.1f)) {
-						getAnimatedDraggingThread().startZooming(getZoom() - 1, currentViewport.getZoomFloatPart(), false);
-						if (wasMapLinkedBeforeGesture) {
-							application.getMapViewTrackingUtilities().setMapLinkedToLocation(true);
-						}
-					}
-				}
-			};
+			setupTouchDetectors(mapActivity);
 		} else {
-			gestureDetector = null;
-			multiTouchSupport = null;
-			doubleTapScaleDetector = null;
-			twoFingersTapDetector = null;
+			clearTouchDetectors();
 		}
 	}
 
+	public void setupTouchDetectors(@NonNull Context ctx) {
+		gestureDetector = new GestureDetector(ctx, new MapTileViewOnGestureListener());
+		multiTouchSupport = new MultiTouchSupport(application, new MapTileViewMultiTouchZoomListener());
+		doubleTapScaleDetector = new DoubleTapScaleDetector(this, new MapTileViewMultiTouchZoomListener());
+		twoFingersTapDetector = new TwoFingerTapDetector() {
+			@Override
+			public void onTwoFingerTap() {
+				//afterTwoFingersTap = true;
+				if (!mapGestureAllowed(OsmandMapLayer.MapGestureType.TWO_POINTERS_ZOOM_OUT)) {
+					return;
+				}
+				if (isZoomingAllowed(getZoom(), -1.1f)) {
+					getAnimatedDraggingThread().startZooming(getZoom() - 1, currentViewport.getZoomFloatPart(), false);
+					if (wasMapLinkedBeforeGesture) {
+						application.getMapViewTrackingUtilities().setMapLinkedToLocation(true);
+					}
+				}
+			}
+		};
+	}
+
+	public void clearTouchDetectors() {
+		gestureDetector = null;
+		multiTouchSupport = null;
+		doubleTapScaleDetector = null;
+		twoFingersTapDetector = null;
+	}
+
 	@NonNull
 	public MapActivity requireMapActivity() {
 		MapActivity mapActivity = getMapActivity();
@@ -1289,12 +1297,12 @@ public void moveTo(int toX31, int toY31, boolean notify) {
 	}
 
 	public void fitRectToMap(double left, double right, double top, double bottom,
-							 int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx) {
+	                         int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx) {
 		fitRectToMap(left, right, top, bottom, tileBoxWidthPx, tileBoxHeightPx, marginTopPx, 0);
 	}
 
 	public void fitRectToMap(double left, double right, double top, double bottom,
-							 int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx, int marginLeftPx) {
+	                         int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx, int marginLeftPx) {
 		RotatedTileBox tb = currentViewport.copy();
 		double border = 0.8;
 		int dx = 0;
@@ -1356,7 +1364,7 @@ public RotatedTileBox getTileBox(int tileBoxWidthPx, int tileBoxHeightPx, int ma
 	}
 
 	public void fitLocationToMap(double clat, double clon, int zoom,
-								 int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx, boolean animated) {
+	                             int tileBoxWidthPx, int tileBoxHeightPx, int marginTopPx, boolean animated) {
 		RotatedTileBox tb = currentViewport.copy();
 		int dy = 0;
 
