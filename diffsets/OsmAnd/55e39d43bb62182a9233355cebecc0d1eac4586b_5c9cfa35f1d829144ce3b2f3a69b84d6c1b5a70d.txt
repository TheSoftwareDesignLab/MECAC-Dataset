diff --git a/OsmAnd/res/layout/bottom_sheet_item_edit_with_chips_view.xml b/OsmAnd/res/layout/bottom_sheet_item_edit_with_chips_view.xml
index f7da3cdff42..86c0334fd49 100644
--- a/OsmAnd/res/layout/bottom_sheet_item_edit_with_chips_view.xml
+++ b/OsmAnd/res/layout/bottom_sheet_item_edit_with_chips_view.xml
@@ -73,8 +73,9 @@
 				android:id="@+id/text_caption"
 				android:layout_width="0dp"
 				android:layout_height="wrap_content"
-				osmand:hintEnabled="false"
 				android:layout_weight="1"
+				osmand:hintEnabled="false"
+				osmand:errorIconDrawable="@null"
 				osmand:boxBackgroundColor="@color/material_text_input_layout_bg">
 
 				<com.google.android.material.textfield.TextInputEditText
@@ -85,28 +86,24 @@
 					android:inputType="numberDecimal"
 					android:maxLines="1"
 					android:maxLength="5"
-					android:paddingTop="0dp"
-					android:paddingBottom="0dp"
-					android:paddingStart="@dimen/content_padding_small"
-					android:paddingLeft="@dimen/content_padding_small"
-					android:paddingRight="@dimen/content_padding_small"
-					android:paddingEnd="@dimen/content_padding_small"
+					android:paddingVertical="0dp"
+					android:paddingHorizontal="@dimen/content_padding_small"
 					android:textSize="@dimen/default_list_text_size"/>
 
 			</com.google.android.material.textfield.TextInputLayout>
+
 		</LinearLayout>
 
 		<TextView
 			android:id="@+id/metric"
 			android:layout_width="wrap_content"
-			android:layout_height="wrap_content"
-			android:layout_gravity="start|center_vertical"
-			android:paddingStart="@dimen/content_padding_small"
-			android:paddingRight="@dimen/content_padding_small"
-			android:paddingEnd="@dimen/content_padding_small"
-			android:paddingLeft="@dimen/content_padding_small"
+			android:layout_height="@dimen/favorites_list_item_height"
+			android:layout_gravity="start|top"
+			android:gravity="center_vertical"
+			android:paddingHorizontal="@dimen/content_padding_small"
 			android:textColor="?android:textColorSecondary"
 			android:text="@string/shared_string_meters" />
+
 	</FrameLayout>
 
 	<net.osmand.plus.widgets.chips.HorizontalChipsView
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index f594b3314cb..842ae94ada1 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,8 @@
 	Thx - Hardy
 -->
 
+    <string name="shared_string_kilograms">kilograms</string>
+    <string name="shared_string_yards">yards</string>
     <string name="change_default_tracks_appearance_confirmation_description">Change the appearance of %1$s tracks?</string>
     <string name="shared_string_apply_changes">Apply changes</string>
     <string name="default_tracks_appearance_description">These appearance settings are applied to all tracks selected on the previous screen.\n\nThey are also saved as \"%1$s\" to be applied by %2$s for all other tracks without implicit or specifically set appearance.</string>
diff --git a/OsmAnd/src/net/osmand/plus/base/BottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/base/BottomSheetDialogFragment.java
index 59f74f0f110..bf7bdd6fa63 100644
--- a/OsmAnd/src/net/osmand/plus/base/BottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/base/BottomSheetDialogFragment.java
@@ -82,6 +82,16 @@ protected OsmandApplication requiredMyApplication() {
 		return (OsmandApplication) requireActivity().getApplication();
 	}
 
+	@Nullable
+	protected Drawable getIcon(@DrawableRes int drawableRes) {
+		OsmandApplication app = getMyApplication();
+		if (app != null) {
+			return app.getUIUtilities().getIcon(drawableRes);
+		} else {
+			return null;
+		}
+	}
+
 	@Nullable
 	protected Drawable getIcon(@DrawableRes int drawableRes, @ColorRes int colorRes) {
 		OsmandApplication app = getMyApplication();
diff --git a/OsmAnd/src/net/osmand/plus/base/wrapper/Assets.java b/OsmAnd/src/net/osmand/plus/base/wrapper/Assets.java
new file mode 100644
index 00000000000..18e6533618c
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/base/wrapper/Assets.java
@@ -0,0 +1,26 @@
+package net.osmand.plus.base.wrapper;
+
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.StringRes;
+
+public class Assets {
+
+	private ThemedIconId themedIconId;
+	private int descriptionId;
+
+	public Assets(@NonNull ThemedIconId themedIconId, int descriptionId) {
+		this.themedIconId = themedIconId;
+		this.descriptionId = descriptionId;
+	}
+
+	@DrawableRes
+	public int getIconId(boolean nightMode) {
+		return themedIconId.getIconId(nightMode);
+	}
+
+	@StringRes
+	public int getDescriptionId() {
+		return descriptionId;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/base/wrapper/Limits.java b/OsmAnd/src/net/osmand/plus/base/wrapper/Limits.java
new file mode 100644
index 00000000000..159907da2dc
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/base/wrapper/Limits.java
@@ -0,0 +1,19 @@
+package net.osmand.plus.base.wrapper;
+
+public class Limits {
+	private final float min;
+	private final float max;
+
+	public Limits(float min, float max) {
+		this.min = min;
+		this.max = max;
+	}
+
+	public float getMin() {
+		return min;
+	}
+
+	public float getMax() {
+		return max;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/base/wrapper/ThemedIconId.java b/OsmAnd/src/net/osmand/plus/base/wrapper/ThemedIconId.java
new file mode 100644
index 00000000000..e75ff437d10
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/base/wrapper/ThemedIconId.java
@@ -0,0 +1,19 @@
+package net.osmand.plus.base.wrapper;
+
+import androidx.annotation.DrawableRes;
+
+public class ThemedIconId {
+
+	private int iconDayId;
+	private int iconNightId;
+
+	public ThemedIconId(@DrawableRes int iconDayId, @DrawableRes int iconNightId) {
+		this.iconDayId = iconDayId;
+		this.iconNightId = iconNightId;
+	}
+
+	@DrawableRes
+	public int getIconId(boolean nightMode) {
+		return nightMode ? iconNightId : iconDayId;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleParametersBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleParametersBottomSheet.java
index 486fb624918..524e1602013 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleParametersBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleParametersBottomSheet.java
@@ -2,11 +2,10 @@
 
 import android.annotation.SuppressLint;
 import android.graphics.Rect;
+import android.graphics.drawable.Drawable;
 import android.os.Bundle;
 import android.text.Editable;
-import android.text.TextWatcher;
 import android.view.LayoutInflater;
-import android.view.MotionEvent;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.ViewTreeObserver;
@@ -20,11 +19,17 @@
 import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentManager;
 
+import com.google.android.material.textfield.TextInputLayout;
+
 import net.osmand.PlatformUtil;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.vehiclesize.DimensionData;
+import net.osmand.plus.settings.vehiclesize.DimensionType;
+import net.osmand.plus.settings.vehiclesize.VehicleSizes;
+import net.osmand.plus.settings.enums.MetricsConstants;
 import net.osmand.plus.settings.fragments.ApplyQueryType;
 import net.osmand.plus.settings.fragments.OnConfirmPreferenceChange;
 import net.osmand.plus.settings.preferences.SizePreference;
@@ -32,13 +37,13 @@
 import net.osmand.plus.utils.UiUtilities.DialogButtonType;
 import net.osmand.plus.widgets.chips.ChipItem;
 import net.osmand.plus.widgets.chips.HorizontalChipsView;
+import net.osmand.plus.widgets.tools.TextWatcherAdapter;
 import net.osmand.util.Algorithms;
 
 import org.apache.commons.logging.Log;
 
 import java.text.DecimalFormat;
 import java.text.DecimalFormatSymbols;
-import java.util.ArrayList;
 import java.util.List;
 import java.util.Locale;
 
@@ -46,137 +51,107 @@ public class VehicleParametersBottomSheet extends BasePreferenceBottomSheet {
 
 	private static final Log LOG = PlatformUtil.getLog(VehicleParametersBottomSheet.class);
 	public static final String TAG = VehicleParametersBottomSheet.class.getSimpleName();
-	private static final float MIN_TRUCK_WEIGHT = 3.5f;
 
-	private String selectedItem;
 	private float currentValue;
 	private int contentHeightPrevious;
-	private EditText text;
+	private TextInputLayout tilCaption;
+	private EditText etText;
 	private int buttonsHeight;
 	private int shadowHeight;
 	private ScrollView scrollView;
+	private SizePreference sizePreference;
+	private HorizontalChipsView chipsView;
+	private List<ChipItem> chips;
+
+	@Nullable
+	@Override
+	public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {
+		View view = super.onCreateView(inflater, parent, savedInstanceState);
+		if (view != null) {
+			view.getViewTreeObserver().addOnGlobalLayoutListener(getOnGlobalLayoutListener());
+		}
+		return view;
+	}
 
 	@Override
 	public void createMenuItems(Bundle savedInstanceState) {
 		OsmandApplication app = getMyApplication();
-		if (app == null) {
-			return;
+		if (app != null) {
+			items.add(createBottomSheetItem(app));
 		}
-		items.add(createBottomSheetItem(app));
 	}
 
 	@SuppressLint("ClickableViewAccessibility")
 	private BaseBottomSheetItem createBottomSheetItem(OsmandApplication app) {
-		SizePreference preference = (SizePreference) getPreference();
-		View mainView = UiUtilities.getInflater(getContext(), nightMode)
-				.inflate(R.layout.bottom_sheet_item_edit_with_chips_view, null);
+		LayoutInflater inflater = UiUtilities.getInflater(getContext(), nightMode);
+		View mainView = inflater.inflate(R.layout.bottom_sheet_item_edit_with_chips_view, null);
+
+		sizePreference = (SizePreference) getPreference();
+		VehicleSizes vehicleSizes = sizePreference.getVehicleSizes();
+		MetricsConstants lengthMetric = sizePreference.getLengthMetricSystem();
+		DimensionType dimensionType = sizePreference.getDimensionType();
+		DimensionData data = vehicleSizes.getDimensionData(dimensionType);
+		chips = vehicleSizes.collectChipItems(app, dimensionType, lengthMetric);
+
 		TextView title = mainView.findViewById(R.id.title);
-		title.setText(preference.getTitle().toString());
-		VehicleSizeAssets vehicleSizeAssets = preference.getAssets();
-		if (vehicleSizeAssets != null) {
-			ImageView imageView = mainView.findViewById(R.id.image_view);
-			imageView.setImageDrawable(app.getUIUtilities()
-					.getIcon(!nightMode ? vehicleSizeAssets.getDayIconId() : vehicleSizeAssets.getNightIconId()));
-			TextView description = mainView.findViewById(R.id.description);
-			description.setText(app.getString(vehicleSizeAssets.getDescriptionRes()));
-		}
-		HorizontalChipsView chipsView = mainView.findViewById(R.id.chips_view);
-		TextView metric = mainView.findViewById(R.id.metric);
-		metric.setText(app.getString(preference.getAssets().getMetricRes()));
-		DecimalFormat df = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US));
-		text = mainView.findViewById(R.id.text_edit);
-		try {
-			currentValue = Float.parseFloat(preference.getValue());
-		} catch (NumberFormatException e) {
-			currentValue = 0.0f;
-		}
-		selectedItem = preference.getEntryFromValue(preference.getValue());
-		String currentValueStr = currentValue == 0.0f ? "" : df.format(currentValue + 0.01f);
-		text.setText(currentValueStr);
-		text.clearFocus();
-		text.setOnTouchListener(new View.OnTouchListener() {
-			@Override
-			public boolean onTouch(View v, MotionEvent event) {
-				text.onTouchEvent(event);
-				text.setSelection(text.getText().length());
-				return true;
-			}
-		});
+		title.setText(sizePreference.getTitle().toString());
 
-		boolean isTruckMode = getAppMode().isDerivedRoutingFrom(ApplicationMode.TRUCK);
-		boolean isWeightParameter = vehicleSizeAssets == VehicleSizeAssets.WEIGHT;
+		ImageView ivImage = mainView.findViewById(R.id.image_view);
+		Drawable icon = getIcon(data.getAssets().getIconId(nightMode));
+		ivImage.setImageDrawable(icon);
 
-		text.addTextChangedListener(new TextWatcher() {
-			@Override
-			public void beforeTextChanged(CharSequence s, int start, int count, int after) {
-			}
+		TextView tvDescription = mainView.findViewById(R.id.description);
+		String description = getString(data.getAssets().getDescriptionId());
+		tvDescription.setText(description);
 
-			@Override
-			public void onTextChanged(CharSequence s, int start, int before, int count) {
-			}
+		TextView tvMetric = mainView.findViewById(R.id.metric);
+		int metricStringId = vehicleSizes.getMetricStringId(dimensionType, lengthMetric);
+		tvMetric.setText(metricStringId);
 
+		chipsView = mainView.findViewById(R.id.chips_view);
+		etText = mainView.findViewById(R.id.text_edit);
+		tilCaption = mainView.findViewById(R.id.text_caption);
+
+		currentValue = vehicleSizes.readSavedValue(sizePreference);
+		etText.setText(formatInputValue(currentValue));
+		etText.clearFocus();
+		etText.setOnTouchListener((v, event) -> {
+			etText.onTouchEvent(event);
+			etText.setSelection(etText.getText().length());
+			return true;
+		});
+
+		etText.addTextChangedListener(new TextWatcherAdapter() {
 			@Override
 			public void afterTextChanged(Editable s) {
-				if (!Algorithms.isEmpty(s)) {
-					try {
-						currentValue = Float.parseFloat(s.toString()) - 0.01f;
-					} catch (NumberFormatException e) {
-						currentValue = 0.0f;
-					}
+				currentValue = (float) Algorithms.parseDoubleSilently(s.toString(), 0.0f);
+				StringBuilder error = new StringBuilder();
+				if (currentValue == 0.0f || vehicleSizes.verifyValue(dimensionType, app, currentValue, error)) {
+					onCorrectInput();
+					updateChips();
 				} else {
-					currentValue = 0.0f;
-				}
-				if (isTruckMode && isWeightParameter &&
-						currentValue <= MIN_TRUCK_WEIGHT - 0.02f && currentValue > 0f) {
-					updateApplyButton(false);
-					text.setError(getString(R.string.weight_limit_error, String.format(Locale.US, "%.1f", MIN_TRUCK_WEIGHT), getString(ApplicationMode.CAR.getNameKeyResource())));
-				} else {
-					updateApplyButton(true);
-					selectedItem = preference.getEntryFromValue(String.valueOf(currentValue));
-					ChipItem selected = chipsView.getChipById(selectedItem);
-					chipsView.setSelected(selected);
-					if (selected != null) {
-						chipsView.notifyDataSetChanged();
-						chipsView.smoothScrollTo(selected);
-					}
+					onWrongInput(error.toString());
 				}
 			}
 		});
 
-		List<ChipItem> chips = new ArrayList<>();
-		for (String entry : preference.getEntries()) {
-			ChipItem chip = new ChipItem(entry);
-			chip.title = entry;
-			chips.add(chip);
-		}
 		chipsView.setItems(chips);
-
 		chipsView.setOnSelectChipListener(chip -> {
-			selectedItem = chip.id;
-			currentValue = preference.getValueFromEntries(selectedItem);
-			String currentValueStr1 = currentValue == 0.0f
-					? "" : df.format(currentValue + 0.01f);
-			text.setText(currentValueStr1);
-			if (text.hasFocus()) {
-				text.setSelection(text.getText().length());
+			currentValue = (float) chip.tag;
+			etText.setText(formatInputValue(currentValue));
+			if (etText.hasFocus()) {
+				etText.setSelection(etText.getText().length());
 			}
 			return true;
 		});
-		ChipItem selected = chipsView.getChipById(selectedItem);
+
+		ChipItem selected = findChipByValue(currentValue);
 		chipsView.setSelected(selected);
 		return new BaseBottomSheetItem.Builder()
 				.setCustomView(mainView)
 				.create();
 	}
 
-	@Nullable
-	@Override
-	public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {
-		View view = super.onCreateView(inflater, parent, savedInstanceState);
-		view.getViewTreeObserver().addOnGlobalLayoutListener(getOnGlobalLayoutListener());
-		return view;
-	}
-
 	private ViewTreeObserver.OnGlobalLayoutListener getOnGlobalLayoutListener() {
 		return () -> {
 			Rect visibleDisplayFrame = new Rect();
@@ -202,9 +177,43 @@ private ViewTreeObserver.OnGlobalLayoutListener getOnGlobalLayoutListener() {
 		};
 	}
 
+	private void updateChips() {
+		ChipItem selected = findChipByValue(currentValue);
+		chipsView.setSelected(selected);
+		if (selected != null) {
+			chipsView.notifyDataSetChanged();
+			chipsView.smoothScrollTo(selected);
+		}
+	}
+
+	@Nullable
+	private ChipItem findChipByValue(Object value) {
+		if (chips != null) {
+			for (ChipItem chip : chips) {
+				if (Algorithms.objectEquals(chip.tag, value)) {
+					return chip;
+				}
+			}
+		}
+		return null;
+	}
+
+	private void onCorrectInput() {
+		tilCaption.setErrorEnabled(false);
+		updateApplyButton(true);
+	}
+
+	private void onWrongInput(@NonNull String message) {
+		tilCaption.setErrorEnabled(true);
+		tilCaption.setError(message);
+		updateApplyButton(false);
+	}
+
 	private void updateApplyButton(boolean enable) {
 		rightButton.setEnabled(enable);
-		UiUtilities.setupDialogButton(nightMode, rightButton, enable ? DialogButtonType.PRIMARY : DialogButtonType.STROKED, getString(R.string.shared_string_apply));
+		DialogButtonType btnType = enable ? DialogButtonType.PRIMARY : DialogButtonType.STROKED;
+		String btnTitle = getString(getRightBottomButtonTextId());
+		UiUtilities.setupDialogButton(nightMode, rightButton, btnType, btnTitle);
 	}
 
 	@Override
@@ -216,13 +225,23 @@ protected int getRightBottomButtonTextId() {
 	protected void onRightBottomButtonClick() {
 		Fragment target = getTargetFragment();
 		if (target instanceof OnConfirmPreferenceChange) {
-
-			((OnConfirmPreferenceChange) target).onConfirmPreferenceChange(
-					getPreference().getKey(), String.valueOf(currentValue), ApplyQueryType.SNACK_BAR);
+			String preferenceId = getPreference().getKey();
+			VehicleSizes vehicleSizes = sizePreference.getVehicleSizes();
+			String value = String.valueOf(vehicleSizes.prepareValueToSave(sizePreference, currentValue));
+			OnConfirmPreferenceChange callback = (OnConfirmPreferenceChange) target;
+			callback.onConfirmPreferenceChange(preferenceId, value, ApplyQueryType.SNACK_BAR);
 		}
 		dismiss();
 	}
 
+	private String formatInputValue(float input) {
+		if (input == 0.0f) {
+			return "";
+		}
+		DecimalFormat formatter = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US));
+		return formatter.format(input);
+	}
+
 	public static void showInstance(@NonNull FragmentManager fm, String key, Fragment target,
 	                                boolean usedOnMap, @Nullable ApplicationMode appMode) {
 		try {
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleSizeAssets.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleSizeAssets.java
deleted file mode 100644
index 31d019b8f56..00000000000
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/VehicleSizeAssets.java
+++ /dev/null
@@ -1,74 +0,0 @@
-package net.osmand.plus.settings.bottomsheets;
-
-import net.osmand.plus.R;
-
-import static net.osmand.router.GeneralRouter.*;
-
-public enum VehicleSizeAssets {
-	BOAT_HEIGHT(VEHICLE_HEIGHT, GeneralRouterProfile.BOAT, R.drawable.img_help_vessel_height_day,
-			R.drawable.img_help_vessel_height_night,
-			R.string.vessel_height_limit_description, R.string.shared_string_meters, R.string.m),
-	BOAT_WIDTH(VEHICLE_WIDTH, GeneralRouterProfile.BOAT, R.drawable.img_help_vessel_width_day,
-			R.drawable.img_help_vessel_width_night,
-			R.string.vessel_width_limit_description, R.string.shared_string_meters, R.string.m),
-	WIDTH(VEHICLE_WIDTH, GeneralRouterProfile.CAR, R.drawable.img_help_width_limit_day,
-			R.drawable.img_help_width_limit_night,
-			R.string.width_limit_description, R.string.shared_string_meters, R.string.m),
-	HEIGHT(VEHICLE_HEIGHT, GeneralRouterProfile.CAR, R.drawable.img_help_height_limit_day,
-			R.drawable.img_help_height_limit_night,
-			R.string.height_limit_description, R.string.shared_string_meters, R.string.m),
-	WEIGHT(VEHICLE_WEIGHT, GeneralRouterProfile.CAR, R.drawable.img_help_weight_limit_day,
-			R.drawable.img_help_weight_limit_night,
-			R.string.weight_limit_description, R.string.shared_string_tones, R.string.metric_ton),
-	LENGTH(VEHICLE_LENGTH, GeneralRouterProfile.CAR, R.drawable.img_help_length_limit_day,
-			R.drawable.img_help_length_limit_night,
-			R.string.lenght_limit_description, R.string.shared_string_meters, R.string.m);
-
-	String routerParameterName;
-	GeneralRouterProfile routerProfile;
-	int dayIconId;
-	int nightIconId;
-	int descriptionRes;
-	int metricRes;
-	int metricShortRes;
-
-	VehicleSizeAssets(String routerParameterName, GeneralRouterProfile routerProfile, int dayIconId, int nightIconId,
-	                  int descriptionRes, int metricRes, int metricShortRes) {
-		this.routerParameterName = routerParameterName;
-		this.routerProfile = routerProfile;
-		this.dayIconId = dayIconId;
-		this.nightIconId = nightIconId;
-		this.descriptionRes = descriptionRes;
-		this.metricRes = metricRes;
-		this.metricShortRes = metricShortRes;
-	}
-
-	public static VehicleSizeAssets getAssets(String parameterName, GeneralRouterProfile routerProfile) {
-		for (VehicleSizeAssets type : values()) {
-			if (type.routerParameterName.equals(parameterName) && type.routerProfile == routerProfile) {
-				return type;
-			}
-		}
-		return null;
-	}
-
-	public int getDayIconId() {
-		return dayIconId;
-	}
-
-	public int getNightIconId() {
-		return nightIconId;
-	}
-
-	public int getDescriptionRes() {
-		return descriptionRes;
-	}
-
-	public int getMetricRes() {
-		return metricRes;
-	}
-
-	public int getMetricShortRes() {
-		return metricShortRes;
-	}
-}
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/ProfileAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/ProfileAppearanceFragment.java
index 1ff4ac976b0..28617932fb8 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/ProfileAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/ProfileAppearanceFragment.java
@@ -66,6 +66,7 @@
 import net.osmand.plus.utils.UiUtilities.DialogButtonType;
 import net.osmand.plus.widgets.FlowLayout;
 import net.osmand.plus.widgets.OsmandTextFieldBoxes;
+import net.osmand.plus.widgets.tools.TextWatcherAdapter;
 import net.osmand.util.Algorithms;
 
 import org.apache.commons.logging.Log;
@@ -355,14 +356,7 @@ protected void onBindPreferenceViewHolder(Preference preference, PreferenceViewH
 			profileName.setImeOptions(EditorInfo.IME_ACTION_DONE);
 			profileName.setRawInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_SENTENCES);
 			profileName.setText(changedProfile.name);
-			profileName.addTextChangedListener(new TextWatcher() {
-				@Override
-				public void beforeTextChanged(CharSequence s, int start, int count, int after) {
-				}
-
-				@Override
-				public void onTextChanged(CharSequence s, int start, int before, int count) {
-				}
+			profileName.addTextChangedListener(new TextWatcherAdapter() {
 
 				@Override
 				public void afterTextChanged(Editable s) {
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
index eb480d6de88..68e8dc63ac6 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
@@ -5,7 +5,6 @@
 import static net.osmand.router.GeneralRouter.DEFAULT_SPEED;
 import static net.osmand.router.GeneralRouter.MOTOR_TYPE;
 import static net.osmand.router.GeneralRouter.RoutingParameter;
-import static net.osmand.router.GeneralRouter.RoutingParameterType;
 import static net.osmand.router.GeneralRouter.VEHICLE_HEIGHT;
 import static net.osmand.router.GeneralRouter.VEHICLE_LENGTH;
 import static net.osmand.router.GeneralRouter.VEHICLE_WEIGHT;
@@ -26,6 +25,7 @@
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
 import androidx.preference.Preference;
+import androidx.preference.PreferenceScreen;
 import androidx.preference.PreferenceViewHolder;
 
 import com.google.android.material.slider.Slider;
@@ -38,7 +38,9 @@
 import net.osmand.plus.settings.backend.preferences.StringPreference;
 import net.osmand.plus.settings.bottomsheets.SimpleSingleSelectionBottomSheet;
 import net.osmand.plus.settings.bottomsheets.VehicleParametersBottomSheet;
-import net.osmand.plus.settings.bottomsheets.VehicleSizeAssets;
+import net.osmand.plus.settings.vehiclesize.DimensionType;
+import net.osmand.plus.settings.vehiclesize.VehicleSizes;
+import net.osmand.plus.settings.enums.MetricsConstants;
 import net.osmand.plus.settings.enums.SpeedConstants;
 import net.osmand.plus.settings.preferences.ListPreferenceEx;
 import net.osmand.plus.settings.preferences.SizePreference;
@@ -47,7 +49,6 @@
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.GeneralRouterProfile;
-import net.osmand.util.Algorithms;
 
 import java.util.Map;
 
@@ -72,11 +73,12 @@ protected void setupPreferences() {
 			GeneralRouter router = app.getRouter(mode);
 			if (router != null) {
 				GeneralRouterProfile routerProfile = router.getProfile();
+				String derivedProfile = mode.getDerivedProfile();
 				Map<String, RoutingParameter> parameters = RoutingHelperUtils.getParametersForDerivedProfile(mode, router);
-				setupVehiclePropertyPref(parameters.get(VEHICLE_HEIGHT), routerProfile);
-				setupVehiclePropertyPref(parameters.get(VEHICLE_WEIGHT), routerProfile);
-				setupVehiclePropertyPref(parameters.get(VEHICLE_WIDTH), routerProfile);
-				setupVehiclePropertyPref(parameters.get(VEHICLE_LENGTH), routerProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_HEIGHT), routerProfile, derivedProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_WEIGHT), routerProfile, derivedProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_WIDTH), routerProfile, derivedProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_LENGTH), routerProfile, derivedProfile);
 
 				setupRoutingParameterPref(parameters.get(MOTOR_TYPE));
 				if (routerProfile != GeneralRouterProfile.PUBLIC_TRANSPORT) {
@@ -88,40 +90,40 @@ protected void setupPreferences() {
 		}
 	}
 
-	private void setupVehiclePropertyPref(@Nullable RoutingParameter parameter, @Nullable GeneralRouterProfile profile) {
-		if (parameter == null) {
+	private void setupVehiclePropertyPref(@Nullable RoutingParameter parameter,
+	                                      @Nullable GeneralRouterProfile profile,
+	                                      @Nullable String derivedProfile) {
+		if (parameter == null || profile == null) {
 			return;
 		}
+
 		String parameterId = parameter.getId();
+		VehicleSizes vehicle = VehicleSizes.newInstance(profile, derivedProfile);
+		DimensionType type = DimensionType.getByKey(parameterId);
+		if (vehicle == null || type == null) {
+			return;
+		}
+
 		String title = AndroidUtils.getRoutingStringPropertyName(app, parameterId, parameter.getName());
 		String description = AndroidUtils.getRoutingStringPropertyDescription(app, parameterId, parameter.getDescription());
 		String defValue = parameter.getDefaultString();
-		StringPreference pref = (StringPreference) app.getSettings().getCustomRoutingProperty(parameterId, defValue);
-		VehicleSizeAssets assets = VehicleSizeAssets.getAssets(parameterId, profile);
-		Object[] values = parameter.getPossibleValues();
-		String[] valuesStr = new String[values.length];
-		for (int i = 0; i < values.length; i++) {
-			valuesStr[i] = values[i].toString();
-		}
-		String[] entriesStr = parameter.getPossibleValueDescriptions().clone();
-		entriesStr[0] = app.getString(R.string.shared_string_none);
-		for (int i = 1; i < entriesStr.length; i++) {
-			int firstCharIndex = Algorithms.findFirstNumberEndIndex(entriesStr[i]);
-			entriesStr[i] = String.format(app.getString(R.string.ltr_or_rtl_combine_via_space),
-					entriesStr[i].substring(0, firstCharIndex), getString(assets.getMetricShortRes()));
-		}
-
-		SizePreference vehicleSizePref = new SizePreference(requireContext());
-		vehicleSizePref.setKey(pref.getId());
-		vehicleSizePref.setAssets(assets);
-		vehicleSizePref.setDefaultValue(defValue);
-		vehicleSizePref.setTitle(title);
-		vehicleSizePref.setEntries(entriesStr);
-		vehicleSizePref.setEntryValues(valuesStr);
-		vehicleSizePref.setSummary(description);
-		vehicleSizePref.setIcon(getPreferenceIcon(parameterId));
-		vehicleSizePref.setLayoutResource(R.layout.preference_with_descr);
-		getPreferenceScreen().addPreference(vehicleSizePref);
+		ApplicationMode appMode = getSelectedAppMode();
+		MetricsConstants lengthMetric = settings.METRIC_SYSTEM.getModeValue(appMode);
+		StringPreference preference = (StringPreference) settings.getCustomRoutingProperty(parameterId, defValue);
+
+		SizePreference uiPreference = new SizePreference(requireContext());
+		uiPreference.setKey(preference.getId());
+		uiPreference.setDimensionType(type);
+		uiPreference.setVehicleSizes(vehicle);
+		uiPreference.setDefaultValue(defValue);
+		uiPreference.setLengthMetricSystem(lengthMetric);
+		uiPreference.setTitle(title);
+		uiPreference.setSummary(description);
+		uiPreference.setIcon(getPreferenceIcon(parameterId));
+		uiPreference.setLayoutResource(R.layout.preference_with_descr);
+
+		PreferenceScreen screen = getPreferenceScreen();
+		screen.addPreference(uiPreference);
 	}
 
 	private void setupDefaultSpeedPref() {
diff --git a/OsmAnd/src/net/osmand/plus/settings/preferences/SizePreference.java b/OsmAnd/src/net/osmand/plus/settings/preferences/SizePreference.java
index 42c092c7125..3e69245e0ca 100644
--- a/OsmAnd/src/net/osmand/plus/settings/preferences/SizePreference.java
+++ b/OsmAnd/src/net/osmand/plus/settings/preferences/SizePreference.java
@@ -2,111 +2,78 @@
 
 import android.content.Context;
 
+import androidx.annotation.NonNull;
 import androidx.preference.DialogPreference;
 
 import net.osmand.plus.R;
-import net.osmand.plus.settings.bottomsheets.VehicleSizeAssets;
-import net.osmand.util.Algorithms;
+import net.osmand.plus.settings.vehiclesize.DimensionType;
+import net.osmand.plus.settings.vehiclesize.VehicleSizes;
+import net.osmand.plus.settings.enums.MetricsConstants;
 
-import java.math.BigDecimal;
 import java.text.DecimalFormat;
 import java.text.DecimalFormatSymbols;
 import java.util.Locale;
 
 public class SizePreference extends DialogPreference {
 
-	private String[] entries;
-	private String[] entryValues;
-	private String description;
-	private VehicleSizeAssets assets;
-
-	public VehicleSizeAssets getAssets() {
-		return assets;
-	}
-
-	public void setAssets(VehicleSizeAssets assets) {
-		this.assets = assets;
-	}
-
-	public void setDefaultValue(String defaultValue) {
-		this.defaultValue = defaultValue;
-	}
-
+	private DimensionType dimensionType;
+	private MetricsConstants lengthMetricSystem;
+	private VehicleSizes vehicleSizes;
 	private String defaultValue;
 
 	public SizePreference(Context context) {
 		super(context);
 	}
 
-	public String[] getEntries() {
-		return entries;
-	}
-
-	public void setEntries(String[] entries) {
-		this.entries = entries;
+	@NonNull
+	public VehicleSizes getVehicleSizes() {
+		return vehicleSizes;
 	}
 
-	public String[] getEntryValues() {
-		return entryValues;
+	public void setVehicleSizes(VehicleSizes vehicleSizes) {
+		this.vehicleSizes = vehicleSizes;
 	}
 
-	public void setEntryValues(String[] entryValues) {
-		this.entryValues = entryValues;
+	public DimensionType getDimensionType() {
+		return dimensionType;
 	}
 
-	public String getDescription() {
-		return description;
+	public void setDimensionType(DimensionType dimensionType) {
+		this.dimensionType = dimensionType;
 	}
 
-	public void setDescription(String description) {
-		this.description = description;
+	public MetricsConstants getLengthMetricSystem() {
+		return lengthMetricSystem;
 	}
 
-	public String getEntryFromValue(String value) {
-		for (int i = 0; i < entryValues.length; i++) {
-			if (entryValues[i].equals(value)) {
-				return entries[i];
-			}
-		}
-		return "";
+	public void setLengthMetricSystem(@NonNull MetricsConstants lengthMetric) {
+		this.lengthMetricSystem = lengthMetric;
 	}
 
-	public float getValueFromEntries(String item) {
-		String[] entries = getEntries();
-		for (int i = 0; i < entries.length; i++) {
-			if (entries[i].equals(item)) {
-				try {
-					return Float.parseFloat(entryValues[i]);
-				} catch (NumberFormatException e) {
-					return 0.0f;
-				}
-			}
-		}
-		return 0.0f;
+	public void setDefaultValue(String defaultValue) {
+		this.defaultValue = defaultValue;
 	}
 
 	@Override
 	public CharSequence getSummary() {
-		String summary = entries[0];
-		String persistedString = getValue();
-		if (Algorithms.isBlank(persistedString)) {
-			return summary;
+		float value = vehicleSizes.readSavedValue(this);
+		String none = getString(R.string.shared_string_none);
+		if (value == 0.0f) {
+			return none;
 		}
-		if (!isPersistedStringEqualsZero(persistedString)) {
-			try {
-				DecimalFormat df = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US));
-				persistedString = df.format(Double.parseDouble(persistedString) + 0.01d);
-				summary = String.format(getContext().getString(R.string.ltr_or_rtl_combine_via_space),
-						persistedString, getContext().getString(assets.getMetricShortRes()));
-			} catch (NumberFormatException e) {
-				summary = entries[0];
-			}
+		try {
+			DecimalFormat formatter = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US));
+			String valueStr = formatter.format(value);
+			String pattern = getString(R.string.ltr_or_rtl_combine_via_space);
+			String metricShort = getString(vehicleSizes.getMetricShortStringId(dimensionType, lengthMetricSystem));
+			return String.format(pattern, valueStr, metricShort);
+		} catch (NumberFormatException e) {
+			return none;
 		}
-		return summary;
 	}
 
-	private boolean isPersistedStringEqualsZero(String persistedString) {
-		return BigDecimal.ZERO.compareTo(new BigDecimal(persistedString)) == 0;
+	private String getString(int stringId) {
+		return getContext().getString(stringId);
 	}
 
 	public String getValue () {
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/BoatSizes.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/BoatSizes.java
new file mode 100644
index 00000000000..60be885b067
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/BoatSizes.java
@@ -0,0 +1,29 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import net.osmand.plus.R;
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.base.wrapper.ThemedIconId;
+
+public class BoatSizes extends VehicleSizes {
+
+	private static final int EXTENDED_PROPOSED_VALUES_COUNT = 12;
+
+	@Override
+	protected void collectDimensionsData() {
+		ThemedIconId icon = new ThemedIconId(R.drawable.img_help_vessel_width_day, R.drawable.img_help_vessel_width_night);
+		Assets assets = new Assets(icon, R.string.vessel_width_limit_description);
+		Limits limits = new Limits(1.5f, 15f);
+		add(DimensionType.WIDTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_vessel_height_day, R.drawable.img_help_vessel_height_night);
+		assets = new Assets(icon, R.string.vessel_height_limit_description);
+		limits = new Limits(1.5f, 30f);
+		add(DimensionType.HEIGHT, assets, limits);
+	}
+
+	@Override
+	protected int getMinProposedValuesCount() {
+		return EXTENDED_PROPOSED_VALUES_COUNT;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/CarSizes.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/CarSizes.java
new file mode 100644
index 00000000000..75078f72e14
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/CarSizes.java
@@ -0,0 +1,35 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import static net.osmand.plus.settings.vehiclesize.DimensionType.*;
+
+import net.osmand.plus.R;
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.base.wrapper.ThemedIconId;
+
+public class CarSizes extends VehicleSizes {
+
+	@Override
+	protected void collectDimensionsData() {
+		ThemedIconId icon = new ThemedIconId(R.drawable.img_help_width_limit_day, R.drawable.img_help_width_limit_night);
+		Assets assets = new Assets(icon, R.string.width_limit_description);
+		Limits limits = new Limits(1.5f, 2f); // 1.7 -> 2
+		add(WIDTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_height_limit_day, R.drawable.img_help_height_limit_night);
+		assets = new Assets(icon, R.string.height_limit_description);
+		limits = new Limits(1.5f, 4.3f);
+		add(HEIGHT, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_length_limit_day, R.drawable.img_help_length_limit_night);
+		assets = new Assets(icon, R.string.lenght_limit_description);
+		limits = new Limits(1.5f, 6f); // 4.5 -> 6
+		add(LENGTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_weight_limit_day, R.drawable.img_help_weight_limit_night);
+		assets = new Assets(icon, R.string.weight_limit_description);
+		limits = new Limits(0.7f, 3.5f); // 0.75 -> 3.5
+		add(WEIGHT, assets, limits);
+	}
+
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionData.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionData.java
new file mode 100644
index 00000000000..18b69fe7377
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionData.java
@@ -0,0 +1,25 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+
+public class DimensionData {
+	private Assets assets;
+	private Limits limits;
+
+	public DimensionData(@NonNull Assets assets,
+	                     @NonNull Limits limits) {
+		this.assets = assets;
+		this.limits = limits;
+	}
+
+	public Assets getAssets() {
+		return assets;
+	}
+
+	public Limits getLimits() {
+		return limits;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionType.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionType.java
new file mode 100644
index 00000000000..f3860b1cf02
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/DimensionType.java
@@ -0,0 +1,33 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import static net.osmand.router.GeneralRouter.VEHICLE_HEIGHT;
+import static net.osmand.router.GeneralRouter.VEHICLE_LENGTH;
+import static net.osmand.router.GeneralRouter.VEHICLE_WEIGHT;
+import static net.osmand.router.GeneralRouter.VEHICLE_WIDTH;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+public enum DimensionType {
+
+	WIDTH(VEHICLE_WIDTH),
+	HEIGHT(VEHICLE_HEIGHT),
+	LENGTH(VEHICLE_LENGTH),
+	WEIGHT(VEHICLE_WEIGHT);
+
+	private String key;
+
+	DimensionType(String key) {
+		this.key = key;
+	}
+
+	@Nullable
+	public static DimensionType getByKey(@NonNull String key) {
+		for (DimensionType type : values()) {
+			if (key.equals(type.key)) {
+				return type;
+			}
+		}
+		return null;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/MotorcycleSizes.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/MotorcycleSizes.java
new file mode 100644
index 00000000000..551ced8f155
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/MotorcycleSizes.java
@@ -0,0 +1,79 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import static net.osmand.plus.settings.vehiclesize.DimensionType.HEIGHT;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.LENGTH;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.WEIGHT;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.WIDTH;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.R;
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.base.wrapper.ThemedIconId;
+import net.osmand.plus.settings.enums.MetricsConstants;
+import net.osmand.plus.settings.preferences.SizePreference;
+import net.osmand.util.Algorithms;
+
+public class MotorcycleSizes extends VehicleSizes {
+
+	private static final int KILOGRAMS_IN_ONE_TON = 1000;
+
+	@Override
+	protected void collectDimensionsData() {
+		ThemedIconId icon = new ThemedIconId(R.drawable.img_help_width_limit_day, R.drawable.img_help_width_limit_night);
+		Assets assets = new Assets(icon, R.string.width_limit_description);
+		Limits limits = new Limits(0.7f, 1f);
+		add(WIDTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_height_limit_day, R.drawable.img_help_height_limit_night);
+		assets = new Assets(icon, R.string.height_limit_description);
+		limits = new Limits(0.6f, 2f); // 0.9 -> 2
+		add(HEIGHT, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_length_limit_day, R.drawable.img_help_length_limit_night);
+		assets = new Assets(icon, R.string.lenght_limit_description);
+		limits = new Limits(1.5f, 2.5f); // 2.3 -> 2.5
+		add(LENGTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_weight_limit_day, R.drawable.img_help_weight_limit_night);
+		assets = new Assets(icon, R.string.weight_limit_description);
+		limits = new Limits(60.0f, 300.0f); // in kilograms
+		add(WEIGHT, assets, limits);
+	}
+
+	@Override
+	public int getMetricStringId(@NonNull DimensionType type, @NonNull MetricsConstants mc) {
+		return type == WEIGHT ? R.string.shared_string_kilograms : super.getMetricStringId(type, mc);
+	}
+
+	@Override
+	public int getMetricShortStringId(@NonNull DimensionType type, @NonNull MetricsConstants mc) {
+		return type == WEIGHT ? R.string.kg : super.getMetricShortStringId(type, mc);
+	}
+
+	@Override
+	public float readSavedValue(@NonNull SizePreference preference) {
+		if (preference.getDimensionType() == WEIGHT) {
+			float value = (float) Algorithms.parseDoubleSilently(preference.getValue(), 0.0f);
+			if (value != 0.0f) {
+				value += 0.001f;
+			}
+			value *= KILOGRAMS_IN_ONE_TON;
+			return value;
+		}
+		return super.readSavedValue(preference);
+	}
+
+	@Override
+	public float prepareValueToSave(@NonNull SizePreference preference, float value) {
+		if (preference.getDimensionType() == WEIGHT) {
+			value /= KILOGRAMS_IN_ONE_TON;
+			if (value != 0.0f) {
+				value -= 0.001f;
+			}
+			return value;
+		}
+		return super.prepareValueToSave(preference, value);
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/TruckSizes.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/TruckSizes.java
new file mode 100644
index 00000000000..231bcbd4ade
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/TruckSizes.java
@@ -0,0 +1,62 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import static net.osmand.plus.settings.vehiclesize.DimensionType.HEIGHT;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.LENGTH;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.WEIGHT;
+import static net.osmand.plus.settings.vehiclesize.DimensionType.WIDTH;
+
+import android.content.Context;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.R;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.base.wrapper.ThemedIconId;
+
+import java.util.Locale;
+
+public class TruckSizes extends VehicleSizes {
+
+	@Override
+	protected void collectDimensionsData() {
+		ThemedIconId icon = new ThemedIconId(R.drawable.img_help_width_limit_day, R.drawable.img_help_width_limit_night);
+		Assets assets = new Assets(icon, R.string.width_limit_description);
+		Limits limits = new Limits(1.7f, 2.5f);
+		add(WIDTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_height_limit_day, R.drawable.img_help_height_limit_night);
+		assets = new Assets(icon, R.string.height_limit_description);
+		limits = new Limits(1.5f, 4.5f);
+		add(HEIGHT, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_length_limit_day, R.drawable.img_help_length_limit_night);
+		assets = new Assets(icon, R.string.lenght_limit_description);
+		limits = new Limits(4.5f, 12f);
+		add(LENGTH, assets, limits);
+
+		icon = new ThemedIconId(R.drawable.img_help_weight_limit_day, R.drawable.img_help_weight_limit_night);
+		assets = new Assets(icon, R.string.weight_limit_description);
+		limits = new Limits(3.5f, 16f);
+		add(WEIGHT, assets, limits);
+	}
+
+	@Override
+	public boolean verifyValue(@NonNull DimensionType type, @NonNull Context ctx,
+	                           float value, @NonNull StringBuilder error) {
+		if (type == WEIGHT) {
+			DimensionData dimension = getDimensionData(type);
+			float min = dimension.getLimits().getMin();
+			if (value < min) {
+				String errorMessagePattern = ctx.getString(R.string.weight_limit_error);
+				String minWeightFormatted = String.format(Locale.US, "%.1f", min);
+				String drivingProfileName = ctx.getString(ApplicationMode.CAR.getNameKeyResource());
+				String message = String.format(errorMessagePattern, minWeightFormatted, drivingProfileName);
+				error.append(message);
+				return false;
+			}
+		}
+		return true;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleAlgorithms.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleAlgorithms.java
new file mode 100644
index 00000000000..cdd5876a164
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleAlgorithms.java
@@ -0,0 +1,123 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import static net.osmand.plus.utils.OsmAndFormatter.FEET_IN_ONE_METER;
+import static net.osmand.plus.utils.OsmAndFormatter.YARDS_IN_ONE_METER;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.settings.enums.MetricsConstants;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class VehicleAlgorithms {
+
+	public static Limits convertLimitsByMetricSystem(@NonNull Limits limits,
+	                                                 @NonNull MetricsConstants lengthMetric) {
+		float min = limits.getMin();
+		float max = limits.getMax();
+		// Convert to appropriate length metric system
+		min = convertLengthFromMeters(lengthMetric, min);
+		max = convertLengthFromMeters(lengthMetric, max);
+		if (lengthMetric != MetricsConstants.KILOMETERS_AND_METERS) {
+			// Round min / max
+			int multiplier = 10;
+			float scaledMin = min * multiplier;
+			float scaledMax = max * multiplier;
+			min = (float) (Math.floor(scaledMin)) / multiplier;
+			max = (float) (Math.ceil(scaledMax)) / multiplier;
+		}
+		return new Limits(min, max);
+	}
+
+	public static List<Float> collectProposedValues(@NonNull Limits limits, int upscale,
+	                                                int minValuesCount) {
+		int multiplier = (int) Math.pow(10, upscale);
+		int scaledMin = (int) (limits.getMin() * multiplier);
+		int scaledMax = (int) (limits.getMax() * multiplier);
+
+		// Find appropriate step size
+		int maxScale = (int) Math.log10(scaledMax);
+		int[] possibleSteps = collectPossibleSteps(maxScale);
+		int step = (int) Math.pow(10, maxScale);
+		for (int i = 0; i < possibleSteps.length; i++) {
+			step = possibleSteps[i];
+			int roundedMin = roundToMultipleOf(scaledMin, step, false);
+			int roundedMax = roundToMultipleOf(scaledMax, step, true);
+			int range = roundedMax - roundedMin;
+			int count = (range / step) + 1;
+			count += scaledMin % step == 0 ? 1 : 0;
+			count += scaledMax % step == 0 ? 1 : 0;
+			if (count >= minValuesCount) {
+				break;
+			}
+		}
+
+		// Collect suggested values
+		int value = scaledMin;
+		List<Float> result = new ArrayList<>();
+		while (value <= scaledMax) {
+			result.add((float) value / multiplier);
+			if (value % step != 0) {
+				value = roundToMultipleOf(scaledMin, step, false);
+			} else {
+				value += step;
+			}
+		}
+		if (scaledMax % step != 0) {
+			result.add((float) scaledMax / multiplier);
+		}
+		return result;
+	}
+
+	private static int roundToMultipleOf(int number, int multipleOf, boolean roundDown) {
+		int result = (int) (Math.floor((number + (float) multipleOf / 2) / multipleOf) * multipleOf);
+		if (roundDown && result > number) {
+			result -= multipleOf;
+		} else if (!roundDown && result < number) {
+			result += multipleOf;
+		}
+		return result;
+	}
+
+	private static int[] collectPossibleSteps(int scale) {
+		int[] coefficients = new int[]{5, 2, 1};
+		int[] result = new int[scale * coefficients.length + 1];
+		result[0] = (int) Math.pow(10, scale);
+		scale--;
+		int index = 0;
+		while (scale >= 0) {
+			for (int coefficient : coefficients) {
+				result[++index] = (int) (Math.pow(10, scale) * coefficient);
+			}
+			scale--;
+		}
+		return result;
+	}
+
+	public static float convertLengthToMeters(@NonNull MetricsConstants mc, float value) {
+		float resultValue;
+		if (mc == MetricsConstants.MILES_AND_FEET || mc == MetricsConstants.NAUTICAL_MILES_AND_FEET) {
+			resultValue = value / FEET_IN_ONE_METER;
+		} else if (mc == MetricsConstants.MILES_AND_YARDS) {
+			resultValue = value / YARDS_IN_ONE_METER;
+		} else {
+			resultValue = value;
+		}
+		return resultValue;
+	}
+
+	public static float convertLengthFromMeters(@NonNull MetricsConstants mc, float valueInMeters) {
+		float result;
+		if (mc == MetricsConstants.MILES_AND_FEET || mc == MetricsConstants.NAUTICAL_MILES_AND_FEET) {
+			result = valueInMeters * FEET_IN_ONE_METER;
+		} else if (mc == MetricsConstants.MILES_AND_YARDS) {
+			result = valueInMeters * YARDS_IN_ONE_METER;
+		} else {
+			result = valueInMeters;
+		}
+		return result;
+	}
+
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleSizes.java b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleSizes.java
new file mode 100644
index 00000000000..331cd2b2349
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/vehiclesize/VehicleSizes.java
@@ -0,0 +1,159 @@
+package net.osmand.plus.settings.vehiclesize;
+
+import android.content.Context;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.base.wrapper.Assets;
+import net.osmand.plus.base.wrapper.Limits;
+import net.osmand.plus.settings.enums.MetricsConstants;
+import net.osmand.plus.settings.preferences.SizePreference;
+import net.osmand.plus.widgets.chips.ChipItem;
+import net.osmand.router.GeneralRouter.GeneralRouterProfile;
+import net.osmand.util.Algorithms;
+
+import java.text.DecimalFormat;
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+public abstract class VehicleSizes {
+
+	public static final int DEFAULT_PROPOSED_VALUES_COUNT = 7;
+
+	private Map<DimensionType, DimensionData> dimensions = new HashMap<>();
+
+	protected VehicleSizes() {
+		collectDimensionsData();
+	}
+
+	protected abstract void collectDimensionsData();
+
+	protected void add(@NonNull DimensionType type,
+	                   @NonNull Assets assets, @NonNull Limits limits) {
+		dimensions.put(type, new DimensionData(assets, limits));
+	}
+
+	public DimensionData getDimensionData(@NonNull DimensionType type) {
+		return dimensions.get(type);
+	}
+
+	public boolean verifyValue(@NonNull DimensionType type, @NonNull Context ctx,
+	                           float value, @NonNull StringBuilder error) {
+		return true;
+	}
+
+	public int getMetricStringId(@NonNull DimensionType type, @NonNull MetricsConstants mc) {
+		if (type == DimensionType.WEIGHT) {
+			return R.string.shared_string_tones;
+		} else {
+			if (mc == MetricsConstants.MILES_AND_FEET || mc == MetricsConstants.NAUTICAL_MILES_AND_FEET) {
+				return R.string.shared_string_feet;
+			}
+			if (mc == MetricsConstants.MILES_AND_YARDS) {
+				return R.string.shared_string_yards;
+			}
+			return R.string.shared_string_meters;
+		}
+	}
+
+	public int getMetricShortStringId(@NonNull DimensionType type, @NonNull MetricsConstants mc) {
+		if (type == DimensionType.WEIGHT) {
+			return R.string.metric_ton;
+		} else {
+			if (mc == MetricsConstants.MILES_AND_FEET || mc == MetricsConstants.NAUTICAL_MILES_AND_FEET) {
+				return R.string.foot;
+			}
+			if (mc == MetricsConstants.MILES_AND_YARDS) {
+				return R.string.yard;
+			}
+			return R.string.m;
+		}
+	}
+
+	public float readSavedValue(@NonNull SizePreference preference) {
+		float value = (float) Algorithms.parseDoubleSilently(preference.getValue(), 0.0f);
+		if (value != 0.0f) {
+			value += 0.01f;
+		}
+		if (preference.getDimensionType() != DimensionType.WEIGHT) {
+			// Convert display value to selected metric system
+			value = VehicleAlgorithms.convertLengthFromMeters(preference.getLengthMetricSystem(), value);
+		}
+		return value;
+	}
+
+	public float prepareValueToSave(@NonNull SizePreference preference, float value) {
+		if (preference.getDimensionType() != DimensionType.WEIGHT) {
+			// Convert length to meters before save
+			value = VehicleAlgorithms.convertLengthToMeters(preference.getLengthMetricSystem(), value);
+		}
+		if (value != 0.0f) {
+			value -= 0.01f;
+		}
+		return value;
+	}
+
+	public List<ChipItem> collectChipItems(@NonNull OsmandApplication app, @NonNull DimensionType type,
+	                                       @NonNull MetricsConstants lengthMetric) {
+		List<ChipItem> chips = new ArrayList<>();
+
+		// Add "None"
+		String none = app.getString(R.string.shared_string_none);
+		ChipItem chip = new ChipItem(none);
+		chip.title = none;
+		chip.tag = 0.0f;
+		chips.add(chip);
+
+		// Add other variants
+		for (Float value : collectProposedValues(type, lengthMetric)) {
+			String pattern = app.getString(R.string.ltr_or_rtl_combine_via_space);
+			DecimalFormat formatter = new DecimalFormat("#.#");
+			String valueStr = formatter.format(value);
+			String metricShort = app.getString(getMetricShortStringId(type, lengthMetric));
+			String title = String.format(pattern, valueStr, metricShort);
+			chip = new ChipItem(title);
+			chip.title = title;
+			chip.tag = value;
+			chips.add(chip);
+		}
+		return chips;
+	}
+
+	private List<Float> collectProposedValues(@NonNull DimensionType type,
+	                                          @NonNull MetricsConstants lengthMetric) {
+		DimensionData data = getDimensionData(type);
+		Limits limits = data.getLimits();
+		if (type != DimensionType.WEIGHT) {
+			limits = VehicleAlgorithms.convertLimitsByMetricSystem(limits, lengthMetric);
+		}
+		return VehicleAlgorithms.collectProposedValues(limits, 1, getMinProposedValuesCount());
+	}
+
+	protected int getMinProposedValuesCount() {
+		return DEFAULT_PROPOSED_VALUES_COUNT;
+	}
+
+	@Nullable
+	public static VehicleSizes newInstance(@NonNull GeneralRouterProfile routerProfile,
+	                                       @Nullable String derivedProfile) {
+		if (routerProfile == GeneralRouterProfile.BOAT) {
+			return new BoatSizes();
+		}
+		if (routerProfile == GeneralRouterProfile.CAR) {
+			if ("Truck".equalsIgnoreCase(derivedProfile)) {
+				return new TruckSizes();
+			} else if ("Motorcycle".equalsIgnoreCase(derivedProfile)) {
+				return new MotorcycleSizes();
+			} else {
+				return new CarSizes();
+			}
+		}
+		return null;
+	}
+
+}
