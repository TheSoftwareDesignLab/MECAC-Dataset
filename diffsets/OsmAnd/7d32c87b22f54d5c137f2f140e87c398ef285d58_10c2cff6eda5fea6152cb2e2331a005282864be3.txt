diff --git a/OsmAnd/res/layout/fragment_nearby_places.xml b/OsmAnd/res/layout/fragment_nearby_places.xml
index ea4cf5840cc..75e39e05594 100644
--- a/OsmAnd/res/layout/fragment_nearby_places.xml
+++ b/OsmAnd/res/layout/fragment_nearby_places.xml
@@ -38,6 +38,7 @@
 				android:src="@drawable/ic_action_marker_dark" />
 
 			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/show_on_map"
 				android:layout_width="wrap_content"
 				android:layout_height="wrap_content"
 				android:layout_gravity="center_vertical|start"
diff --git a/OsmAnd/res/layout/nearby_places_card.xml b/OsmAnd/res/layout/nearby_places_card.xml
new file mode 100644
index 00000000000..4d2e4bc4081
--- /dev/null
+++ b/OsmAnd/res/layout/nearby_places_card.xml
@@ -0,0 +1,103 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:background="?attr/activity_background_color"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/nearby_title_container"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:background="?attr/list_background_color"
+		android:orientation="horizontal">
+
+		<net.osmand.plus.widgets.TextViewEx
+			style="@style/TitleStyle.Medium"
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_marginStart="@dimen/content_padding"
+			android:layout_marginTop="@dimen/content_padding_small"
+			android:layout_marginBottom="@dimen/content_padding_small"
+			android:layout_weight="1"
+			android:text="@string/popular_places_nearby"
+			android:textColor="?android:textColorPrimary" />
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/explicit_indicator"
+			android:layout_width="@dimen/context_menu_padding_margin_large"
+			android:layout_height="match_parent"
+			android:layout_gravity="center_vertical"
+			android:layout_marginStart="@dimen/content_padding"
+			android:layout_marginEnd="@dimen/content_padding"
+			android:scaleType="center" />
+	</LinearLayout>
+
+	<me.zhanghai.android.materialprogressbar.MaterialProgressBar
+		android:id="@+id/progress_bar"
+		style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
+		android:layout_width="match_parent"
+		android:layout_height="4dp"
+		android:layout_gravity="center"
+		android:indeterminate="true"
+		android:visibility="gone"
+		app:mpb_progressStyle="horizontal"
+		app:mpb_useIntrinsicPadding="false"
+		tools:visibility="visible" />
+
+	<androidx.recyclerview.widget.RecyclerView
+		android:id="@+id/nearByList"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:background="?attr/list_background_color"
+		android:padding="0dp" />
+
+	<FrameLayout
+		android:id="@+id/show_all_button"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:background="?attr/list_background_color"
+		android:minHeight="@dimen/route_info_list_item_height"
+		android:orientation="vertical">
+
+		<View
+			android:id="@+id/divider_list"
+			android:layout_width="match_parent"
+			android:layout_height="1dp"
+			android:layout_gravity="top"
+			android:layout_marginStart="@dimen/content_padding"
+			android:background="?attr/divider_color_basic" />
+
+		<net.osmand.plus.widgets.TextViewEx
+			android:id="@+id/show_all_btn"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical|start"
+			android:layout_marginStart="@dimen/content_padding"
+			android:paddingTop="@dimen/list_header_padding"
+			android:paddingBottom="@dimen/list_header_padding"
+			android:text="@string/shared_string_show_all"
+			android:textAllCaps="true"
+			android:textColor="?attr/active_color_basic"
+			android:textSize="@dimen/default_sub_text_size"
+			app:typefaceWeight="medium"
+			tools:text="SHOW ALL"
+			tools:visibility="visible" />
+	</FrameLayout>
+
+	<include layout="@layout/list_item_divider" />
+
+	<net.osmand.plus.widgets.TextViewEx
+		style="@style/TitleStyle.Medium"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:background="?attr/list_background_color"
+		android:paddingStart="@dimen/content_padding"
+		android:paddingTop="@dimen/content_padding_small"
+		android:paddingBottom="@dimen/content_padding_small"
+		android:text="@string/recently_visited"
+		android:textColor="?android:textColorPrimary" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/search_explore_fragment_layout.xml b/OsmAnd/res/layout/search_explore_fragment_layout.xml
index a4ce999aec1..23ce0acaa60 100644
--- a/OsmAnd/res/layout/search_explore_fragment_layout.xml
+++ b/OsmAnd/res/layout/search_explore_fragment_layout.xml
@@ -13,112 +13,103 @@
 		android:orientation="vertical">
 
 		<include layout="@layout/list_item_divider" />
-
-		<LinearLayout
-			android:id="@+id/nearBy_container"
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:background="?attr/list_background_color"
-			android:orientation="vertical">
-
-			<LinearLayout
-				android:id="@+id/nearby_title_container"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:orientation="horizontal">
-
-				<net.osmand.plus.widgets.TextViewEx
-					style="@style/TitleStyle.Medium"
-					android:layout_width="0dp"
-					android:layout_height="wrap_content"
-					android:layout_marginStart="@dimen/content_padding"
-					android:layout_marginTop="@dimen/content_padding_small"
-					android:layout_marginBottom="@dimen/content_padding_small"
-					android:layout_weight="1"
-					android:text="@string/popular_places_nearby"
-					android:textColor="?android:textColorPrimary" />
-
-				<androidx.appcompat.widget.AppCompatImageView
-					android:id="@+id/explicit_indicator"
-					android:layout_width="@dimen/context_menu_padding_margin_large"
-					android:layout_height="match_parent"
-					android:layout_gravity="center_vertical"
-					android:layout_marginStart="@dimen/content_padding"
-					android:layout_marginEnd="@dimen/content_padding"
-					android:scaleType="center" />
-			</LinearLayout>
-
-			<me.zhanghai.android.materialprogressbar.MaterialProgressBar
-				android:id="@+id/progress_bar"
-				style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
-				android:layout_width="match_parent"
-				android:layout_height="4dp"
-				android:layout_gravity="center"
-				android:indeterminate="true"
-				android:visibility="gone"
-				app:mpb_progressStyle="horizontal"
-				app:mpb_useIntrinsicPadding="false"
-				tools:visibility="visible" />
-
-			<androidx.recyclerview.widget.RecyclerView
-				android:id="@+id/nearByList"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:padding="0dp" />
-
-			<FrameLayout
-				android:id="@+id/show_all_button"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:background="?attr/selectableItemBackground"
-				android:minHeight="@dimen/route_info_list_item_height"
-				android:orientation="vertical">
-
-				<View
-					android:id="@+id/divider_list"
-					android:layout_width="match_parent"
-					android:layout_height="1dp"
-					android:layout_gravity="top"
-					android:layout_marginStart="@dimen/content_padding"
-					android:background="?attr/divider_color_basic" />
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/show_all_btn"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_gravity="center_vertical|start"
-					android:layout_marginStart="@dimen/content_padding"
-					android:paddingTop="@dimen/list_header_padding"
-					android:paddingBottom="@dimen/list_header_padding"
-					android:text="@string/shared_string_show_all"
-					android:textAllCaps="true"
-					android:textColor="?attr/active_color_basic"
-					android:textSize="@dimen/default_sub_text_size"
-					app:typefaceWeight="medium"
-					tools:text="SHOW ALL"
-					tools:visibility="visible" />
-
-			</FrameLayout>
-
-		</LinearLayout>
-
-		<include layout="@layout/list_item_divider" />
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="match_parent"
-			android:background="?attr/list_background_color"
-			android:orientation="vertical">
-
-			<net.osmand.plus.widgets.TextViewEx
-				style="@style/TitleStyle.Medium"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:layout_marginStart="@dimen/content_padding"
-				android:layout_marginTop="@dimen/content_padding_small"
-				android:layout_marginBottom="@dimen/content_padding_small"
-				android:text="@string/recently_visited"
-				android:textColor="?android:textColorPrimary" />
+<!--		<include layout="@layout/nearby_places_card" />-->
+
+<!--		<LinearLayout-->
+<!--			android:id="@+id/nearBy_container"-->
+<!--			android:layout_width="match_parent"-->
+<!--			android:layout_height="wrap_content"-->
+<!--			android:background="?attr/list_background_color"-->
+<!--			android:orientation="vertical">-->
+
+<!--			<LinearLayout-->
+<!--				android:id="@+id/nearby_title_container"-->
+<!--				android:layout_width="match_parent"-->
+<!--				android:layout_height="wrap_content"-->
+<!--				android:orientation="horizontal">-->
+
+<!--				<net.osmand.plus.widgets.TextViewEx-->
+<!--					style="@style/TitleStyle.Medium"-->
+<!--					android:layout_width="0dp"-->
+<!--					android:layout_height="wrap_content"-->
+<!--					android:layout_marginStart="@dimen/content_padding"-->
+<!--					android:layout_marginTop="@dimen/content_padding_small"-->
+<!--					android:layout_marginBottom="@dimen/content_padding_small"-->
+<!--					android:layout_weight="1"-->
+<!--					android:text="@string/popular_places_nearby"-->
+<!--					android:textColor="?android:textColorPrimary" />-->
+
+<!--				<androidx.appcompat.widget.AppCompatImageView-->
+<!--					android:id="@+id/explicit_indicator"-->
+<!--					android:layout_width="@dimen/context_menu_padding_margin_large"-->
+<!--					android:layout_height="match_parent"-->
+<!--					android:layout_gravity="center_vertical"-->
+<!--					android:layout_marginStart="@dimen/content_padding"-->
+<!--					android:layout_marginEnd="@dimen/content_padding"-->
+<!--					android:scaleType="center" />-->
+<!--			</LinearLayout>-->
+
+<!--			<me.zhanghai.android.materialprogressbar.MaterialProgressBar-->
+<!--				android:id="@+id/progress_bar"-->
+<!--				style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"-->
+<!--				android:layout_width="match_parent"-->
+<!--				android:layout_height="4dp"-->
+<!--				android:layout_gravity="center"-->
+<!--				android:indeterminate="true"-->
+<!--				android:visibility="gone"-->
+<!--				app:mpb_progressStyle="horizontal"-->
+<!--				app:mpb_useIntrinsicPadding="false"-->
+<!--				tools:visibility="visible" />-->
+
+<!--			<androidx.recyclerview.widget.RecyclerView-->
+<!--				android:id="@+id/nearByList"-->
+<!--				android:layout_width="match_parent"-->
+<!--				android:layout_height="wrap_content"-->
+<!--				android:padding="0dp" />-->
+
+<!--			<FrameLayout-->
+<!--				android:id="@+id/show_all_button"-->
+<!--				android:layout_width="match_parent"-->
+<!--				android:layout_height="wrap_content"-->
+<!--				android:background="?attr/selectableItemBackground"-->
+<!--				android:minHeight="@dimen/route_info_list_item_height"-->
+<!--				android:orientation="vertical">-->
+
+<!--				<View-->
+<!--					android:id="@+id/divider_list"-->
+<!--					android:layout_width="match_parent"-->
+<!--					android:layout_height="1dp"-->
+<!--					android:layout_gravity="top"-->
+<!--					android:layout_marginStart="@dimen/content_padding"-->
+<!--					android:background="?attr/divider_color_basic" />-->
+
+<!--				<net.osmand.plus.widgets.TextViewEx-->
+<!--					android:id="@+id/show_all_btn"-->
+<!--					android:layout_width="wrap_content"-->
+<!--					android:layout_height="wrap_content"-->
+<!--					android:layout_gravity="center_vertical|start"-->
+<!--					android:layout_marginStart="@dimen/content_padding"-->
+<!--					android:paddingTop="@dimen/list_header_padding"-->
+<!--					android:paddingBottom="@dimen/list_header_padding"-->
+<!--					android:text="@string/shared_string_show_all"-->
+<!--					android:textAllCaps="true"-->
+<!--					android:textColor="?attr/active_color_basic"-->
+<!--					android:textSize="@dimen/default_sub_text_size"-->
+<!--					app:typefaceWeight="medium"-->
+<!--					tools:text="SHOW ALL"-->
+<!--					tools:visibility="visible" />-->
+
+<!--			</FrameLayout>-->
+
+<!--		</LinearLayout>-->
+
+<!--		<include layout="@layout/list_item_divider" />-->
+
+<!--		<LinearLayout-->
+<!--			android:layout_width="match_parent"-->
+<!--			android:layout_height="match_parent"-->
+<!--			android:background="?attr/list_background_color"-->
+<!--			android:orientation="vertical">-->
 
 			<ListView
 				android:id="@android:id/list"
@@ -126,7 +117,8 @@
 				android:layout_height="match_parent"
 				android:divider="@null"
 				android:dividerHeight="0dp"
+				android:background="?attr/activity_background_color"
 				android:drawSelectorOnTop="true" />
-		</LinearLayout>
+<!--		</LinearLayout>-->
 	</LinearLayout>
 </FrameLayout>
diff --git a/OsmAnd/src/net/osmand/plus/nearbyplaces/NearbyPlacesFragment.kt b/OsmAnd/src/net/osmand/plus/nearbyplaces/NearbyPlacesFragment.kt
index 57006d0948b..e647e5ff7fa 100644
--- a/OsmAnd/src/net/osmand/plus/nearbyplaces/NearbyPlacesFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/nearbyplaces/NearbyPlacesFragment.kt
@@ -16,6 +16,7 @@ import net.osmand.plus.R
 import net.osmand.plus.activities.MapActivity
 import net.osmand.plus.base.BaseOsmAndFragment
 import net.osmand.plus.helpers.AndroidUiHelper
+import net.osmand.plus.nearbyplaces.NearbyPlacesHelper.getDataCollection
 import net.osmand.plus.nearbyplaces.NearbyPlacesHelper.showPointInContextMenu
 import net.osmand.plus.search.NearbyPlacesAdapter
 import net.osmand.plus.search.ShowQuickSearchMode
@@ -49,30 +50,36 @@ class NearbyPlacesFragment : BaseOsmAndFragment(), NearbyPlacesAdapter.NearbyIte
 		setupToolBar(view)
 		setupVerticalNearbyList(view)
 
-		requireActivity().onBackPressedDispatcher.addCallback(viewLifecycleOwner, object : OnBackPressedCallback(true) {
-			override fun handleOnBackPressed() {
-				if (isHidden) {
-					parentFragmentManager.beginTransaction()
-						.show(this@NearbyPlacesFragment)
-						.commit()
-					mapActivity?.contextMenu?.hideMenus()
-				} else {
-					fragmentManager?.popBackStack()
-					val fragmentsHelper = mapActivity?.fragmentsHelper
-					val quickSearchDialogFragment = fragmentsHelper?.quickSearchDialogFragment
-					quickSearchDialogFragment?.let {
-						if (quickSearchDialogFragment.isSearchHidden) {
-							fragmentsHelper.showQuickSearch(ShowQuickSearchMode.CURRENT, false)
+		requireActivity().onBackPressedDispatcher.addCallback(
+			viewLifecycleOwner,
+			object : OnBackPressedCallback(true) {
+				override fun handleOnBackPressed() {
+					if (isHidden) {
+						parentFragmentManager.beginTransaction()
+							.show(this@NearbyPlacesFragment)
+							.commit()
+						mapActivity?.contextMenu?.hideMenus()
+					} else {
+						fragmentManager?.popBackStack()
+						val fragmentsHelper = mapActivity?.fragmentsHelper
+						val quickSearchDialogFragment = fragmentsHelper?.quickSearchDialogFragment
+						quickSearchDialogFragment?.let {
+							if (quickSearchDialogFragment.isSearchHidden) {
+								fragmentsHelper.showQuickSearch(ShowQuickSearchMode.CURRENT, false)
+							}
 						}
 					}
 				}
-			}
-		})
+			})
 	}
 
 	private fun setupShowAll(view: View) {
 		view.findViewById<ImageView>(R.id.location_icon)
 			.setImageDrawable(uiUtilities.getIcon(R.drawable.ic_action_marker_dark, nightMode))
+		view.findViewById<View>(R.id.show_on_map).setOnClickListener {
+			app.osmandMap.mapLayers.nearbyPlacesLayer.setCustomMapObjects(getDataCollection())
+			hide()
+		}
 	}
 
 	@ColorRes
@@ -131,9 +138,13 @@ class NearbyPlacesFragment : BaseOsmAndFragment(), NearbyPlacesAdapter.NearbyIte
 	override fun onNearbyItemClicked(item: WikiCoreHelper.OsmandApiFeatureData) {
 		mapActivity?.let {
 			showPointInContextMenu(it, item)
-			val transaction = fragmentManager?.beginTransaction()
-			transaction?.hide(this)
-			transaction?.commit()
+			hide()
 		}
 	}
+
+	fun hide() {
+		val transaction = fragmentManager?.beginTransaction()
+		transaction?.hide(this)
+		transaction?.commit()
+	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchHistoryListFragment.java b/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchHistoryListFragment.java
index 7103dd6530d..9ad07799b29 100644
--- a/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchHistoryListFragment.java
+++ b/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchHistoryListFragment.java
@@ -1,6 +1,7 @@
 package net.osmand.plus.search.dialogs;
 
 import android.os.Bundle;
+import android.view.LayoutInflater;
 import android.view.View;
 import android.widget.CheckBox;
 import android.widget.ImageView;
@@ -22,6 +23,7 @@
 import net.osmand.plus.search.NearbyPlacesAdapter;
 import net.osmand.plus.search.listitems.QuickSearchListItem;
 import net.osmand.plus.settings.fragments.HistoryItemsFragment;
+import net.osmand.plus.utils.UiUtilities;
 import net.osmand.wiki.WikiCoreHelper;
 import net.osmand.wiki.WikiCoreHelper.OsmandApiFeatureData;
 
@@ -135,15 +137,15 @@ public void updateListAdapter(List<QuickSearchListItem> listItems, boolean appen
 	public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {
 		super.onViewCreated(view, savedInstanceState);
 		progressBar = view.findViewById(R.id.progress_bar);
+		setupNearByCard(view);
 		setupShowAllNearbyPlacesBtn(view);
 		setupExpandNearbyPlacesIndicator(view);
-		setupNearByCard(view);
 		updateExpandState();
 	}
 
 	private void setupShowAllNearbyPlacesBtn(@NonNull View view) {
-		showAllBtnContainer = view.findViewById(R.id.show_all_button);
-		view.findViewById(R.id.show_all_btn).setOnClickListener(v -> {
+		showAllBtnContainer = nearByContainer.findViewById(R.id.show_all_button);
+		nearByContainer.findViewById(R.id.show_all_btn).setOnClickListener(v -> {
 			MapActivity activity = getMapActivity();
 			if (activity != null) {
 				NearbyPlacesFragment.Companion.showInstance(activity.getSupportFragmentManager());
@@ -173,13 +175,15 @@ private void onNearbyPlacesCollapseChanged() {
 	}
 
 	private void setupNearByCard(@NonNull View view) {
-		nearByContainer = view.findViewById(R.id.nearBy_container);
-		nearByList = view.findViewById(R.id.nearByList);
+		LayoutInflater themedInflater = UiUtilities.getInflater(view.getContext(), !app.getSettings().isLightContent());
+		nearByContainer = themedInflater.inflate(R.layout.nearby_places_card, getListView(), false);
+		nearByList = nearByContainer.findViewById(R.id.nearByList);
 		LinearLayoutManager layoutManager = new LinearLayoutManager(app);
 		layoutManager.setOrientation(RecyclerView.HORIZONTAL);
 		nearByList.setLayoutManager(layoutManager);
 		nearByList.setItemAnimator(null);
 		nearByList.setAdapter(getNearbyAdapter());
+		getListView().addHeaderView(nearByContainer, null, false);
 	}
 
 	@Override
