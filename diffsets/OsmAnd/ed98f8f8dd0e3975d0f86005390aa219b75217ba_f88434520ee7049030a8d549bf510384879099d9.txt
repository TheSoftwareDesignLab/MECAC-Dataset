diff --git a/OsmAnd/res/layout/select_track_folder_fragment.xml b/OsmAnd/res/layout/select_track_folder_fragment.xml
new file mode 100644
index 00000000000..ca4517d0eb6
--- /dev/null
+++ b/OsmAnd/res/layout/select_track_folder_fragment.xml
@@ -0,0 +1,72 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent"
+	android:background="?attr/activity_background_color"
+	android:clickable="true"
+	android:focusable="true"
+	android:orientation="vertical">
+
+	<com.google.android.material.appbar.AppBarLayout
+		android:id="@+id/appbar"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content">
+
+		<androidx.appcompat.widget.Toolbar
+			android:id="@+id/toolbar"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content">
+
+			<LinearLayout
+				android:id="@+id/toolbar_container"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:minHeight="@dimen/toolbar_height"
+				android:orientation="horizontal">
+
+				<ImageButton
+					android:id="@+id/back_button"
+					style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
+					android:layout_width="@dimen/toolbar_height"
+					android:layout_height="@dimen/toolbar_height"
+					android:layout_gravity="center"
+					android:contentDescription="@string/shared_string_back"
+					android:tint="?attr/primary_icon_color"
+					osmand:srcCompat="@drawable/ic_arrow_back" />
+
+				<net.osmand.plus.widgets.TextViewEx
+					android:id="@+id/toolbar_title"
+					style="@style/TitleStyle.Medium"
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center"
+					android:layout_marginHorizontal="@dimen/content_padding"
+					android:layout_weight="1"
+					android:text="@string/shared_string_gpx_tracks"
+					android:textSize="@dimen/dialog_header_text_size" />
+
+			</LinearLayout>
+
+		</androidx.appcompat.widget.Toolbar>
+
+	</com.google.android.material.appbar.AppBarLayout>
+
+	<FrameLayout
+		android:layout_width="match_parent"
+		android:layout_height="match_parent">
+
+		<androidx.recyclerview.widget.RecyclerView
+			android:id="@+id/recycler_view"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:clipToPadding="false"
+			android:orientation="vertical"
+			android:paddingBottom="@dimen/bottom_sheet_title_height"
+			android:scrollbars="vertical"
+			tools:listitem="@layout/track_list_item" />
+
+	</FrameLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/select_track_fragment.xml b/OsmAnd/res/layout/select_track_fragment.xml
new file mode 100644
index 00000000000..0f30c478f61
--- /dev/null
+++ b/OsmAnd/res/layout/select_track_fragment.xml
@@ -0,0 +1,84 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent"
+	android:background="?attr/activity_background_color"
+	android:clickable="true"
+	android:focusable="true"
+	android:orientation="vertical">
+
+	<com.google.android.material.appbar.AppBarLayout
+		android:id="@+id/appbar"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content">
+
+		<androidx.appcompat.widget.Toolbar
+			android:id="@+id/toolbar"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content">
+
+			<LinearLayout
+				android:id="@+id/toolbar_container"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:minHeight="@dimen/toolbar_height"
+				android:orientation="horizontal">
+
+				<ImageButton
+					android:id="@+id/back_button"
+					style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
+					android:layout_width="@dimen/toolbar_height"
+					android:layout_height="@dimen/toolbar_height"
+					android:layout_gravity="center"
+					android:contentDescription="@string/shared_string_back"
+					android:tint="?attr/primary_icon_color"
+					osmand:srcCompat="@drawable/ic_action_close" />
+
+				<net.osmand.plus.widgets.TextViewEx
+					android:id="@+id/toolbar_title"
+					style="@style/TitleStyle.Medium"
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center"
+					android:layout_marginHorizontal="@dimen/content_padding"
+					android:layout_weight="1"
+					android:text="@string/shared_string_gpx_tracks"
+					android:textSize="@dimen/dialog_header_text_size" />
+
+			</LinearLayout>
+
+		</androidx.appcompat.widget.Toolbar>
+
+		<net.osmand.plus.views.controls.PagerSlidingTabStrip
+			android:id="@+id/sliding_tabs"
+			android:layout_width="match_parent"
+			android:layout_height="@dimen/list_item_height"
+			osmand:pstsTabBackground="@color/color_transparent" />
+
+	</com.google.android.material.appbar.AppBarLayout>
+
+	<FrameLayout
+		android:layout_width="match_parent"
+		android:layout_height="match_parent">
+
+		<androidx.viewpager.widget.ViewPager
+			android:id="@+id/view_pager"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent" />
+
+		<me.zhanghai.android.materialprogressbar.MaterialProgressBar
+			android:id="@+id/progress_bar"
+			style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
+			android:layout_width="match_parent"
+			android:layout_height="4dp"
+			android:indeterminate="true"
+			android:visibility="gone"
+			osmand:mpb_progressStyle="horizontal"
+			osmand:mpb_setBothDrawables="true"
+			osmand:mpb_useIntrinsicPadding="false" />
+
+	</FrameLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index cb9076791f5..13162c3daa3 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,6 +10,7 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
+    <string name="shared_string_all_tracks">All tracks</string>
     <string name="precise_distance_numbers">Precise distance numbers</string>
     <string name="any_connected">Any connected</string>
     <string name="any_connected_with_device">Any connected: %s</string>
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackItemsFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackItemsFragment.java
index 6793d2a022a..06dbf1625f8 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackItemsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackItemsFragment.java
@@ -17,6 +17,7 @@
 import net.osmand.plus.OsmAndLocationProvider.OsmAndLocationListener;
 import net.osmand.plus.R;
 import net.osmand.plus.base.BaseOsmAndFragment;
+import net.osmand.plus.track.BaseTracksFragment;
 import net.osmand.util.MapUtils;
 
 import java.util.Set;
@@ -68,14 +69,15 @@ public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newStat
 	}
 
 	private void setupAdapter(@NonNull TrackTab trackTab) {
-		TracksFragment fragment = (TracksFragment) requireParentFragment();
+		BaseTracksFragment fragment = (BaseTracksFragment) requireParentFragment();
 		adapter = new TracksAdapter(requireContext(), trackTab, fragment, nightMode);
+		adapter.setSelectionMode(fragment.selectionMode());
 		recyclerView.setAdapter(adapter);
 	}
 
 	@Nullable
 	public TrackTab getTrackTab() {
-		TracksFragment fragment = (TracksFragment) requireParentFragment();
+		BaseTracksFragment fragment = (BaseTracksFragment) requireParentFragment();
 		return fragment.getTab(trackTabName);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTab.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTab.java
index 33e3ed0a258..35ae5c2d774 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTab.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTab.java
@@ -7,6 +7,7 @@
 
 import net.osmand.plus.settings.enums.TracksSortMode;
 import net.osmand.plus.track.data.SmartFolder;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.track.helpers.GpxUiHelper;
 
 import java.io.File;
@@ -98,6 +99,17 @@ public List<TrackItem> getTrackItems() {
 		return trackItems;
 	}
 
+	@NonNull
+	public List<TrackFolder> getTrackFolders() {
+		List<TrackFolder> trackFolders = new ArrayList<>();
+		for (Object object : items) {
+			if (object instanceof TrackFolder) {
+				trackFolders.add((TrackFolder) object);
+			}
+		}
+		return trackFolders;
+	}
+
 	@NonNull
 	@Override
 	public String toString() {
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabType.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabType.java
index 8d92a54ca78..63b4ed63c5c 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabType.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabType.java
@@ -10,7 +10,9 @@ public enum TrackTabType {
 	ON_MAP(R.string.shared_string_on_map, R.drawable.ic_show_on_map),
 	ALL(R.string.shared_string_all, R.drawable.ic_action_list_header),
 	FOLDER(-1, R.drawable.ic_action_folder),
-	SMART_FOLDER(-1, R.drawable.ic_action_folder_smart);
+	SMART_FOLDER(-1, R.drawable.ic_action_folder_smart),
+	FOLDERS(R.string.shared_string_folders, R.drawable.ic_action_folder);
+
 
 	@DrawableRes
 	public final int iconId;
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabsHelper.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabsHelper.java
index 2cb3d6877d9..982b82da2a9 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabsHelper.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TrackTabsHelper.java
@@ -11,12 +11,14 @@
 import net.osmand.data.LatLon;
 import net.osmand.gpx.GPXFile;
 import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
 import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper;
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.monitoring.OsmandMonitoringPlugin;
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.enums.TracksSortMode;
 import net.osmand.plus.track.data.SmartFolder;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.track.helpers.GpxSelectionHelper;
 import net.osmand.plus.track.helpers.SelectedGpxFile;
 import net.osmand.util.Algorithms;
@@ -80,6 +82,17 @@ public void updateTrackItems(@NonNull List<TrackItem> trackItems) {
 		updateTrackTabs(trackTabs);
 	}
 
+	public void updateItems(@NonNull TrackFolder folder){
+		List<TrackItem> allTrackItems = new ArrayList<>(folder.getFlattenedTrackItems());
+		if (settings.SAVE_GLOBAL_TRACK_TO_GPX.get() || gpxSelectionHelper.getSelectedCurrentRecordingTrack() != null) {
+			SelectedGpxFile selectedGpxFile = app.getSavingTrackHelper().getCurrentTrack();
+			TrackItem trackItem = new TrackItem(app, selectedGpxFile.getGpxFile());
+			allTrackItems.add(trackItem);
+		}
+		itemsSelectionHelper.setAllItems(allTrackItems);
+		updateSelectTrackTabs(folder);
+	}
+
 	private void updateTrackTabs(@NonNull Map<String, TrackTab> folderTabs) {
 		processVisibleTracks();
 		processRecentlyVisibleTracks();
@@ -92,6 +105,17 @@ private void updateTrackTabs(@NonNull Map<String, TrackTab> folderTabs) {
 		sortTrackTabs();
 	}
 
+	private void updateSelectTrackTabs(@NonNull TrackFolder folder) {
+		processVisibleTracks();
+		processRecentlyVisibleTracks();
+		trackTabs.clear();
+		trackTabs.put(app.getString(R.string.shared_string_visible), getTracksOnMapTab());
+		trackTabs.put(app.getString(R.string.shared_string_all_tracks), getAllTracksTab());
+		trackTabs.put(app.getString(R.string.shared_string_folders), getFoldersTab(folder));
+		loadTabsSortModes();
+		sortTrackTabs();
+	}
+
 	@NonNull
 	private TrackTab getTracksOnMapTab() {
 		TrackTab trackTab = new TrackTab(TrackTabType.ON_MAP);
@@ -135,6 +159,15 @@ private List<Object> getAllTabItems() {
 		return items;
 	}
 
+	@NonNull
+	private TrackTab getFoldersTab(TrackFolder folder) {
+		TrackTab trackTab = new TrackTab(TrackTabType.FOLDERS);
+		trackTab.items.add(TYPE_SORT_TRACKS);
+		trackTab.items.addAll(folder.getSubFolders());
+		trackTab.items.addAll(folder.getTrackItems());
+		return trackTab;
+	}
+
 	@NonNull
 	private List<Object> getRecentlyVisibleItems() {
 		List<Object> items = new ArrayList<>();
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
index 8ad7dafc564..3bc9dd8d1d5 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
@@ -11,10 +11,16 @@
 
 import net.osmand.plus.R;
 import net.osmand.plus.configmap.tracks.viewholders.EmptyTracksViewHolder;
+import net.osmand.plus.configmap.tracks.viewholders.EmptyTracksViewHolder.EmptyTracksListener;
+import net.osmand.plus.configmap.tracks.viewholders.FolderViewHolder;
 import net.osmand.plus.configmap.tracks.viewholders.NoVisibleTracksViewHolder;
 import net.osmand.plus.configmap.tracks.viewholders.RecentlyVisibleViewHolder;
 import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder;
+import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder.SortTracksListener;
 import net.osmand.plus.configmap.tracks.viewholders.TrackViewHolder;
+import net.osmand.plus.configmap.tracks.viewholders.TrackViewHolder.TrackSelectionListener;
+import net.osmand.plus.track.BaseTracksFragment;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.utils.UpdateLocationUtils;
@@ -32,19 +38,48 @@ public class TracksAdapter extends RecyclerView.Adapter<ViewHolder> {
 	public static final int TYPE_NO_VISIBLE_TRACKS = 2;
 	public static final int TYPE_RECENTLY_VISIBLE_TRACKS = 3;
 	public static final int TYPE_TRACK = 4;
+	public static final int TYPE_FOLDER = 5;
 
 	private final UpdateLocationViewCache locationViewCache;
+	private boolean selectionMode = true;
+	private boolean selectTrackMode;
 	private TrackTab trackTab;
-	private final TracksFragment fragment;
+	private final BaseTracksFragment fragment;
 	protected final boolean nightMode;
+	private EmptyTracksListener emptyTracksListener;
+	private TrackSelectionListener trackSelectionListener;
+	private SortTracksListener sortTracksListener;
 
-	public TracksAdapter(@NonNull Context context, @NonNull TrackTab trackTab, @NonNull TracksFragment fragment, boolean nightMode) {
+	public TracksAdapter(@NonNull Context context, @NonNull TrackTab trackTab, @NonNull BaseTracksFragment fragment, boolean nightMode) {
 		this.trackTab = trackTab;
 		this.fragment = fragment;
 		this.nightMode = nightMode;
 		this.locationViewCache = UpdateLocationUtils.getUpdateLocationViewCache(context);
 		locationViewCache.arrowResId = R.drawable.ic_direction_arrow;
 		locationViewCache.arrowColor = ColorUtilities.getActiveIconColorId(nightMode);
+		emptyTracksListener = fragment;
+		trackSelectionListener = fragment;
+		sortTracksListener = fragment;
+	}
+
+	public void setSelectionMode(boolean selectionMode) {
+		this.selectionMode = selectionMode;
+	}
+
+	public void setSelectTrackMode(boolean selectTrackMode) {
+		this.selectTrackMode = selectTrackMode;
+	}
+
+	public void setEmptyTracksListener(EmptyTracksListener emptyTracksListener) {
+		this.emptyTracksListener = emptyTracksListener;
+	}
+
+	public void setTrackSelectionListener(TrackSelectionListener trackSelectionListener) {
+		this.trackSelectionListener = trackSelectionListener;
+	}
+
+	public void setSortTracksListener(SortTracksListener sortTracksListener) {
+		this.sortTracksListener = sortTracksListener;
 	}
 
 	@NonNull
@@ -64,10 +99,13 @@ public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
 		switch (viewType) {
 			case TYPE_TRACK:
 				View view = inflater.inflate(R.layout.track_list_item, parent, false);
-				return new TrackViewHolder(view, fragment, locationViewCache, nightMode);
+				return new TrackViewHolder(view, trackSelectionListener, locationViewCache, nightMode);
+			case TYPE_FOLDER:
+				view = inflater.inflate(R.layout.track_list_item, parent, false);
+				return new FolderViewHolder(view, trackSelectionListener, nightMode);
 			case TYPE_NO_TRACKS:
 				view = inflater.inflate(R.layout.track_folder_empty_state, parent, false);
-				return new EmptyTracksViewHolder(view, fragment);
+				return new EmptyTracksViewHolder(view, emptyTracksListener);
 			case TYPE_NO_VISIBLE_TRACKS:
 				view = inflater.inflate(R.layout.track_folder_empty_state, parent, false);
 				return new NoVisibleTracksViewHolder(view, fragment);
@@ -84,7 +122,7 @@ public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
 	@NonNull
 	protected SortTracksViewHolder createSortTracksViewHolder(@NonNull ViewGroup parent, LayoutInflater inflater) {
 		View view = inflater.inflate(R.layout.sort_type_view, parent, false);
-		return new SortTracksViewHolder(view, fragment, nightMode);
+		return new SortTracksViewHolder(view, sortTracksListener, nightMode);
 	}
 
 	@Override
@@ -92,6 +130,8 @@ public int getItemViewType(int position) {
 		Object object = getItems().get(position);
 		if (object instanceof TrackItem) {
 			return TYPE_TRACK;
+		} else if (object instanceof TrackFolder) {
+			return TYPE_FOLDER;
 		} else if (object instanceof Integer) {
 			int item = (Integer) object;
 			if (TYPE_NO_TRACKS == item) {
@@ -115,24 +155,30 @@ protected List<Object> getItems() {
 	public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
 		if (holder instanceof TrackViewHolder) {
 			TrackItem item = (TrackItem) getItems().get(position);
-
 			boolean shouldShowFolder = trackTab.type.shouldShowFolder();
-			boolean hideDivider = position == getItemCount() - 1
-					|| Algorithms.objectEquals(getItems().get(position + 1), TYPE_RECENTLY_VISIBLE_TRACKS);
 			TrackViewHolder viewHolder = (TrackViewHolder) holder;
-			viewHolder.bindView(trackTab.getSortMode(), item, !hideDivider, shouldShowFolder, true);
+			viewHolder.bindView(trackTab.getSortMode(), item, !hideDivider(position), shouldShowFolder, selectionMode, selectTrackMode);
+		} else if (holder instanceof FolderViewHolder) {
+			TrackFolder folder = (TrackFolder) getItems().get(position);
+			FolderViewHolder viewHolder = (FolderViewHolder) holder;
+			viewHolder.bindView(folder, !hideDivider(position));
 		} else if (holder instanceof NoVisibleTracksViewHolder) {
 			((NoVisibleTracksViewHolder) holder).bindView();
 		} else if (holder instanceof EmptyTracksViewHolder) {
 			((EmptyTracksViewHolder) holder).bindView();
 		} else if (holder instanceof RecentlyVisibleViewHolder) {
-			((RecentlyVisibleViewHolder) holder).bindView();
+			((RecentlyVisibleViewHolder) holder).bindView(selectionMode);
 		} else if (holder instanceof SortTracksViewHolder) {
-			boolean enabled = !Algorithms.isEmpty(trackTab.getTrackItems());
+			boolean enabled = !Algorithms.isEmpty(trackTab.getTrackItems()) || (selectTrackMode && !Algorithms.isEmpty(trackTab.getTrackFolders()));
 			((SortTracksViewHolder) holder).bindView(enabled, null);
 		}
 	}
 
+	private boolean hideDivider(int position) {
+		return position == getItemCount() - 1
+				|| Algorithms.objectEquals(getItems().get(position + 1), TYPE_RECENTLY_VISIBLE_TRACKS);
+	}
+
 	public void updateItems(@NonNull Set<TrackItem> trackItems) {
 		for (TrackItem trackItem : trackItems) {
 			updateItem(trackItem);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
index 71c5577dd47..7b8e1acede1 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
@@ -1,55 +1,37 @@
 package net.osmand.plus.configmap.tracks;
 
-import static net.osmand.IndexConstants.GPX_INDEX_DIR;
-import static net.osmand.plus.importfiles.ImportHelper.IMPORT_FILE_REQUEST;
-import static net.osmand.plus.importfiles.OnSuccessfulGpxImport.OPEN_GPX_CONTEXT_MENU;
 import static net.osmand.plus.track.fragments.TrackMenuFragment.TrackMenuTab.OVERVIEW;
 import static net.osmand.plus.utils.FileUtils.RenameCallback;
 
 import android.app.Activity;
 import android.app.Dialog;
-import android.content.Intent;
 import android.content.res.ColorStateList;
-import android.net.Uri;
 import android.os.AsyncTask;
-import android.os.AsyncTask.Status;
 import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.Window;
 import android.widget.ImageView;
-import android.widget.ProgressBar;
-import android.widget.TextView;
 
-import androidx.annotation.ColorRes;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.appcompat.app.AlertDialog;
 import androidx.appcompat.widget.Toolbar;
 import androidx.core.content.ContextCompat;
 import androidx.core.view.ViewCompat;
-import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
-import androidx.viewpager.widget.ViewPager;
 import androidx.viewpager.widget.ViewPager.SimpleOnPageChangeListener;
 
 import net.osmand.gpx.GPXFile;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.BaseOsmAndDialogFragment;
 import net.osmand.plus.configmap.tracks.TrackFolderLoaderTask.LoadTracksListener;
 import net.osmand.plus.configmap.tracks.viewholders.EmptyTracksViewHolder.EmptyTracksListener;
 import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder.SortTracksListener;
 import net.osmand.plus.configmap.tracks.viewholders.TrackViewHolder.TrackSelectionListener;
 import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.helpers.IntentHelper;
-import net.osmand.plus.importfiles.GpxImportListener;
-import net.osmand.plus.importfiles.ImportHelper;
-import net.osmand.plus.importfiles.MultipleTracksImportListener;
-import net.osmand.plus.importfiles.OnSuccessfulGpxImport;
-import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper;
 import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper.SelectionHelperProvider;
 import net.osmand.plus.myplaces.tracks.dialogs.MoveGpxFileBottomSheet;
 import net.osmand.plus.myplaces.tracks.dialogs.MoveGpxFileBottomSheet.OnTrackFileMoveListener;
@@ -60,19 +42,16 @@
 import net.osmand.plus.plugins.monitoring.SavingTrackHelper;
 import net.osmand.plus.plugins.osmedit.OsmEditingPlugin;
 import net.osmand.plus.settings.enums.TracksSortMode;
+import net.osmand.plus.track.BaseTracksFragment;
 import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.track.fragments.TrackMenuFragment;
 import net.osmand.plus.track.helpers.GpxSelectionHelper;
 import net.osmand.plus.track.helpers.GpxUiHelper;
 import net.osmand.plus.track.helpers.SelectGpxTask.SelectGpxTaskListener;
-import net.osmand.plus.track.helpers.SelectedGpxFile;
 import net.osmand.plus.track.helpers.save.SaveGpxHelper;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.FileUtils;
-import net.osmand.plus.utils.UiUtilities;
-import net.osmand.plus.views.controls.PagerSlidingTabStrip;
-import net.osmand.plus.views.controls.PagerSlidingTabStrip.CustomTabProvider;
 import net.osmand.plus.widgets.dialogbutton.DialogButton;
 import net.osmand.plus.widgets.popup.PopUpMenu;
 import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
@@ -86,22 +65,12 @@
 import java.util.List;
 import java.util.Set;
 
-public class TracksFragment extends BaseOsmAndDialogFragment implements LoadTracksListener,
+public class TracksFragment extends BaseTracksFragment implements LoadTracksListener,
 		SelectionHelperProvider<TrackItem>, OnTrackFileMoveListener, RenameCallback,
 		TrackSelectionListener, SortTracksListener, EmptyTracksListener, SelectGpxTaskListener {
 
 	public static final String TAG = TracksFragment.class.getSimpleName();
 
-	private ImportHelper importHelper;
-	private TrackTabsHelper trackTabsHelper;
-	private GpxSelectionHelper gpxSelectionHelper;
-	private ItemsSelectionHelper<TrackItem> itemsSelectionHelper;
-	private TrackFolderLoaderTask asyncLoader;
-
-	private ViewPager viewPager;
-	private PagerSlidingTabStrip tabLayout;
-	private ProgressBar progressBar;
-	private TracksTabAdapter adapter;
 	private ImageView searchButton;
 
 	private DialogButton applyButton;
@@ -109,43 +78,11 @@ public class TracksFragment extends BaseOsmAndDialogFragment implements LoadTrac
 
 	@Nullable
 	private PreselectedTabParams preselectedTabParams;
-	private int tabSize;
-
-	@NonNull
-	public TrackTabsHelper getTrackTabsHelper() {
-		return trackTabsHelper;
-	}
-
-	@NonNull
-	@Override
-	public ItemsSelectionHelper<TrackItem> getSelectionHelper() {
-		return itemsSelectionHelper;
-	}
-
-	@ColorRes
-	public int getStatusBarColorId() {
-		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
-		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
-	}
 
 	public boolean getContentStatusBarNightMode() {
 		return nightMode;
 	}
 
-	@Override
-	public void onCreate(@Nullable Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		importHelper = app.getImportHelper();
-		trackTabsHelper = new TrackTabsHelper(app);
-		gpxSelectionHelper = app.getSelectedGpxHelper();
-		itemsSelectionHelper = trackTabsHelper.getItemsSelectionHelper();
-	}
-
-	@Override
-	protected boolean isUsedOnMap() {
-		return true;
-	}
-
 	@NonNull
 	@Override
 	public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {
@@ -237,49 +174,7 @@ private void showOptionsMenu(@NonNull View view) {
 		PopUpMenu.show(displayData);
 	}
 
-	private void setupTabLayout(@NonNull View view) {
-		viewPager = view.findViewById(R.id.view_pager);
-		List<TrackTab> tabs = getTrackTabs();
-		tabLayout = view.findViewById(R.id.sliding_tabs);
-		tabLayout.setTabBackground(nightMode ? R.color.app_bar_main_dark : R.color.card_and_list_background_light);
-		tabLayout.setCustomTabProvider(new CustomTabProvider() {
-			@Override
-			public View getCustomTabView(@NonNull ViewGroup parent, int position) {
-				TrackTab trackTab = getTrackTabs().get(position);
-
-				int activeColor = ColorUtilities.getActiveColor(app, nightMode);
-				int textColor = ColorUtilities.getPrimaryTextColor(app, nightMode);
-				int sidePadding = AndroidUtils.dpToPx(app, 12);
-
-				LayoutInflater inflater = UiUtilities.getInflater(parent.getContext(), nightMode);
-				View customView = inflater.inflate(R.layout.tab_title_view, parent, false);
-				TextView textView = customView.findViewById(android.R.id.text1);
-				textView.setPadding(sidePadding, textView.getPaddingTop(), sidePadding, textView.getPaddingBottom());
-				textView.setTextColor(AndroidUtils.createColorStateList(android.R.attr.state_selected, activeColor, textColor));
-				textView.setText(trackTab.getName(app));
-				return customView;
-			}
-
-			@Override
-			public void select(View tab) {
-				tab.setSelected(true);
-			}
-
-			@Override
-			public void deselect(View tab) {
-				tab.setSelected(false);
-			}
-
-			@Override
-			public void tabStylesUpdated(View tabsContainer, int currentPosition) {
-
-			}
-		});
-		setTabs(tabs);
-
-	}
-
-	private void setTabs(@NonNull List<TrackTab> tabs) {
+	protected void setTabs(@NonNull List<TrackTab> tabs) {
 		tabSize = tabs.size();
 		setViewPagerAdapter(viewPager, tabs);
 		tabLayout.setViewPager(viewPager);
@@ -292,11 +187,6 @@ public void onPageSelected(int position) {
 		});
 	}
 
-	protected void setViewPagerAdapter(@NonNull ViewPager pager, List<TrackTab> items) {
-		adapter = new TracksTabAdapter(app, getChildFragmentManager(), items);
-		pager.setAdapter(adapter);
-	}
-
 	private void setupButtons(@NonNull View view) {
 		applyButton = view.findViewById(R.id.apply_button);
 		applyButton.setOnClickListener(v -> {
@@ -346,84 +236,6 @@ private View.OnClickListener getSelectionButtonClickListener() {
 		};
 	}
 
-	@NonNull
-	public List<TrackTab> getTrackTabs() {
-		return new ArrayList<>(trackTabsHelper.getTrackTabs().values());
-	}
-
-	@Nullable
-	public TrackTab getSelectedTab() {
-		List<TrackTab> trackTabs = getTrackTabs();
-		return trackTabs.isEmpty() ? null : trackTabs.get(viewPager.getCurrentItem());
-	}
-
-	public void setSelectedTab(@NonNull String name) {
-		List<TrackTab> trackTabs = getTrackTabs();
-		for (int i = 0; i < trackTabs.size(); i++) {
-			TrackTab tab = trackTabs.get(i);
-			if (Algorithms.stringsEqual(tab.getTypeName(), name)) {
-				viewPager.setCurrentItem(i);
-				break;
-			}
-		}
-	}
-
-	@Nullable
-	public TrackTab getTab(@NonNull String name) {
-		for (TrackTab trackTab : getTrackTabs()) {
-			if (Algorithms.stringsEqual(name, trackTab.getTypeName())) {
-				return trackTab;
-			}
-		}
-		return null;
-	}
-
-	@Override
-	public void showSortByDialog() {
-		FragmentActivity activity = getActivity();
-		if (activity != null) {
-			FragmentManager manager = activity.getSupportFragmentManager();
-			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
-		}
-	}
-
-	@NonNull
-	@Override
-	public TracksSortMode getTracksSortMode() {
-		return getSelectedTab().getSortMode();
-	}
-
-	@Override
-	public void onResume() {
-		super.onResume();
-		List<TrackTab> tabs = getTrackTabs();
-		if (tabs.size() != tabSize) {
-			setTabs(tabs);
-		}
-		if (asyncLoader == null) {
-			reloadTracks();
-		}
-		gpxSelectionHelper.addListener(this);
-	}
-
-	@Override
-	public void onPause() {
-		super.onPause();
-		gpxSelectionHelper.removeListener(this);
-	}
-
-	private void reloadTracks() {
-		File gpxDir = FileUtils.getExistingDir(app, GPX_INDEX_DIR);
-		TrackFolder folder = new TrackFolder(gpxDir, null);
-		asyncLoader = new TrackFolderLoaderTask(app, folder, this);
-		asyncLoader.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
-	}
-
-	@Override
-	public void loadTracksStarted() {
-		AndroidUiHelper.updateVisibility(progressBar, true);
-	}
-
 	@Override
 	public void tracksLoaded(@NonNull TrackFolder folder) {
 		trackTabsHelper.updateTrackItems(folder.getFlattenedTrackItems());
@@ -453,58 +265,11 @@ private void applyPreselectedParams() {
 		}
 	}
 
-	private void updateTrackTabs() {
-		adapter.setTrackTabs(trackTabsHelper.getTrackTabs());
-	}
-
 	public void saveChanges() {
 		trackTabsHelper.saveTabsSortModes();
 		trackTabsHelper.saveTracksVisibility();
 	}
 
-	@Override
-	public void onGpxSelectionInProgress(@NonNull SelectedGpxFile selectedGpxFile) {
-		AndroidUiHelper.updateVisibility(progressBar, true);
-		TrackItem item = findTrackItem(selectedGpxFile);
-		if (item != null) {
-			itemsSelectionHelper.addItemToOriginalSelected(item);
-			itemsSelectionHelper.onItemsSelected(Collections.singleton(item), true);
-			updateItems(Collections.singleton(item));
-		}
-	}
-
-	@Nullable
-	private TrackItem findTrackItem(@NonNull SelectedGpxFile selectedGpxFile) {
-		for (TrackItem item : itemsSelectionHelper.getAllItems()) {
-			if (Algorithms.stringsEqual(selectedGpxFile.getGpxFile().path, item.getPath())) {
-				return item;
-			}
-		}
-		return null;
-	}
-
-	@Override
-	public void onGpxSelectionFinished() {
-		AndroidUiHelper.updateVisibility(progressBar, isLoadingTracks());
-		trackTabsHelper.processVisibleTracks();
-		trackTabsHelper.processRecentlyVisibleTracks();
-		trackTabsHelper.updateTracksOnMap();
-		updateTabsContent();
-	}
-
-	@Override
-	public void onDestroy() {
-		super.onDestroy();
-
-		if (isLoadingTracks() && !requireActivity().isChangingConfigurations()) {
-			asyncLoader.cancel(false);
-		}
-	}
-
-	public boolean isLoadingTracks() {
-		return asyncLoader != null && asyncLoader.getStatus() == Status.RUNNING;
-	}
-
 	public void changeAppearance() {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
@@ -512,59 +277,7 @@ public void changeAppearance() {
 		}
 	}
 
-	@Override
-	public void importTracks() {
-		Intent intent = ImportHelper.getImportFileIntent();
-		intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);
-		AndroidUtils.startActivityForResultIfSafe(this, intent, IMPORT_FILE_REQUEST);
-	}
-
-	@Override
-	public void onActivityResult(int requestCode, int resultCode, Intent data) {
-		if (requestCode == IMPORT_FILE_REQUEST && resultCode == Activity.RESULT_OK) {
-			if (data != null) {
-				List<Uri> filesUri = IntentHelper.getIntentUris(data);
-				if (!Algorithms.isEmpty(filesUri)) {
-					int filesSize = filesUri.size();
-					boolean singleTrack = filesSize == 1;
-					File dir = ImportHelper.getGpxDestinationDir(app, true);
-					OnSuccessfulGpxImport onGpxImport = singleTrack ? OPEN_GPX_CONTEXT_MENU : null;
-
-					importHelper.setGpxImportListener(getGpxImportListener(filesSize));
-					importHelper.handleGpxFilesImport(filesUri, dir, onGpxImport, true, singleTrack);
-				}
-			}
-		} else {
-			super.onActivityResult(requestCode, resultCode, data);
-		}
-	}
-
-	@NonNull
-	private GpxImportListener getGpxImportListener(int filesSize) {
-		return new MultipleTracksImportListener(filesSize) {
-
-			@Override
-			public void onImportStarted() {
-				AndroidUiHelper.updateVisibility(progressBar, true);
-			}
-
-			@Override
-			public void onImportFinished() {
-				importHelper.setGpxImportListener(null);
-				AndroidUiHelper.updateVisibility(progressBar, false);
-			}
-
-			@Override
-			public void onSaveComplete(boolean success, GPXFile gpxFile) {
-				if (isAdded() && success) {
-					addTrackItem(new TrackItem(new File(gpxFile.path)));
-				}
-				super.onSaveComplete(success, gpxFile);
-			}
-		};
-	}
-
-	private void addTrackItem(@NonNull TrackItem item) {
+	protected void addTrackItem(@NonNull TrackItem item) {
 		trackTabsHelper.addTrackItem(item);
 		updateTrackTabs();
 		setSelectedTab("import");
@@ -738,22 +451,6 @@ public void fileRenamed(@NonNull File src, @NonNull File dest) {
 		reloadTracks();
 	}
 
-	private void updateItems(@NonNull Set<TrackItem> trackItems) {
-		for (Fragment fragment : getChildFragmentManager().getFragments()) {
-			if (fragment instanceof TrackItemsContainer) {
-				((TrackItemsContainer) fragment).updateItems(trackItems);
-			}
-		}
-	}
-
-	public void updateTabsContent() {
-		for (Fragment fragment : getChildFragmentManager().getFragments()) {
-			if (fragment instanceof TrackItemsContainer) {
-				((TrackItemsContainer) fragment).updateContent();
-			}
-		}
-	}
-
 	public static void showInstance(@NonNull FragmentManager manager) {
 		showInstance(manager, null);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/FolderViewHolder.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/FolderViewHolder.java
new file mode 100644
index 00000000000..12a3cc59022
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/FolderViewHolder.java
@@ -0,0 +1,75 @@
+package net.osmand.plus.configmap.tracks.viewholders;
+
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.track.data.TrackFolder;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.OsmAndFormatter;
+
+import java.text.DateFormat;
+import java.util.Date;
+
+public class FolderViewHolder extends RecyclerView.ViewHolder {
+	private final OsmandApplication app;
+	private final TrackViewHolder.TrackSelectionListener listener;
+	private final boolean nightMode;
+
+	private final TextView title;
+	private final TextView description;
+	private final ImageView imageView;
+	private final View menuButton;
+	private final View divider;
+	private final ImageView directionIcon;
+
+	public FolderViewHolder(@NonNull View itemView, @Nullable TrackViewHolder.TrackSelectionListener listener, boolean nightMode) {
+		super(itemView);
+		this.app = (OsmandApplication) itemView.getContext().getApplicationContext();
+
+		this.listener = listener;
+		this.nightMode = nightMode;
+
+		title = itemView.findViewById(R.id.title);
+		description = itemView.findViewById(R.id.description);
+		directionIcon = itemView.findViewById(R.id.direction_icon);
+		menuButton = itemView.findViewById(R.id.menu_button);
+		imageView = itemView.findViewById(R.id.icon);
+		divider = itemView.findViewById(R.id.divider);
+	}
+
+	public void bindView(@NonNull TrackFolder trackFolder, boolean showDivider) {
+		title.setText(trackFolder.getName(app));
+		imageView.setImageDrawable(app.getUIUtilities().getPaintedIcon(R.drawable.ic_action_folder, ColorUtilities.getDefaultIconColor(app, nightMode)));
+
+		AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.checkbox_container), false);
+		AndroidUiHelper.updateVisibility(menuButton, false);
+		AndroidUiHelper.updateVisibility(directionIcon, false);
+
+		int margin = app.getResources().getDimensionPixelSize(R.dimen.content_padding);
+		ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) imageView.getLayoutParams();
+		AndroidUtils.setMargins(params, margin, 0, margin, 0);
+
+		itemView.setOnClickListener(v -> {
+			if (listener != null) {
+				listener.onTrackFolderSelected(trackFolder);
+			}
+		});
+		AndroidUiHelper.updateVisibility(divider, showDivider);
+
+		long lastModified = trackFolder.getLastModified();
+		if (lastModified > 0) {
+			DateFormat format = OsmAndFormatter.getDateFormat(app);
+			description.setText(format.format(new Date(lastModified)));
+		}
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/NoVisibleTracksViewHolder.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/NoVisibleTracksViewHolder.java
index 86a74400b79..e90eb7e368b 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/NoVisibleTracksViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/NoVisibleTracksViewHolder.java
@@ -10,7 +10,7 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.configmap.tracks.TrackTabType;
-import net.osmand.plus.configmap.tracks.TracksFragment;
+import net.osmand.plus.track.BaseTracksFragment;
 import net.osmand.plus.widgets.dialogbutton.DialogButton;
 
 public class NoVisibleTracksViewHolder extends RecyclerView.ViewHolder {
@@ -21,7 +21,7 @@ public class NoVisibleTracksViewHolder extends RecyclerView.ViewHolder {
 	private final ImageView icon;
 	private final DialogButton button;
 
-	public NoVisibleTracksViewHolder(@NonNull View view, @NonNull TracksFragment fragment) {
+	public NoVisibleTracksViewHolder(@NonNull View view, @NonNull BaseTracksFragment fragment) {
 		super(view);
 		app = (OsmandApplication) itemView.getContext().getApplicationContext().getApplicationContext();
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/RecentlyVisibleViewHolder.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/RecentlyVisibleViewHolder.java
index 136bc84968d..d9cc37dc38d 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/RecentlyVisibleViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/RecentlyVisibleViewHolder.java
@@ -11,8 +11,9 @@
 import net.osmand.plus.R;
 import net.osmand.plus.configmap.tracks.TrackTabsHelper;
 import net.osmand.plus.configmap.tracks.TrackItem;
-import net.osmand.plus.configmap.tracks.TracksFragment;
+import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper;
+import net.osmand.plus.track.BaseTracksFragment;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
 
@@ -23,10 +24,10 @@ public class RecentlyVisibleViewHolder extends RecyclerView.ViewHolder {
 	private final OsmandApplication app;
 	private final TextView title;
 	private final CheckBox checkbox;
-	private final TracksFragment fragment;
+	private final BaseTracksFragment fragment;
 	private final boolean nightMode;
 
-	public RecentlyVisibleViewHolder(@NonNull View view, @NonNull TracksFragment fragment, boolean nightMode) {
+	public RecentlyVisibleViewHolder(@NonNull View view, @NonNull BaseTracksFragment fragment, boolean nightMode) {
 		super(view);
 		this.fragment = fragment;
 		this.nightMode = nightMode;
@@ -36,17 +37,23 @@ public RecentlyVisibleViewHolder(@NonNull View view, @NonNull TracksFragment fra
 		checkbox = view.findViewById(R.id.checkbox);
 	}
 
-	public void bindView() {
+	public void bindView(boolean selectionMode) {
 		TrackTabsHelper helper = fragment.getTrackTabsHelper();
 		Set<TrackItem> recentlyVisibleTracks = helper.getRecentlyVisibleTracks();
 		title.setText(app.getString(R.string.recently_visible, "(" + recentlyVisibleTracks.size() + ")"));
 
-		ItemsSelectionHelper<TrackItem> selectionHelper =  helper.getItemsSelectionHelper();
-		boolean selected = selectionHelper.isItemsSelected(recentlyVisibleTracks);
-		checkbox.setChecked(selected);
-		int color = ColorUtilities.getAppModeColor(app, nightMode);
-		UiUtilities.setupCompoundButton(selected, color, checkbox);
+		if (selectionMode) {
+			ItemsSelectionHelper<TrackItem> selectionHelper = helper.getItemsSelectionHelper();
+			boolean selected = selectionHelper.isItemsSelected(recentlyVisibleTracks);
+			checkbox.setChecked(selected);
+			int color = ColorUtilities.getAppModeColor(app, nightMode);
+			UiUtilities.setupCompoundButton(selected, color, checkbox);
 
-		itemView.setOnClickListener(v -> fragment.onTrackItemsSelected(recentlyVisibleTracks, !selected));
+			itemView.setOnClickListener(v -> fragment.onTrackItemsSelected(recentlyVisibleTracks, !selected));
+		}
+		AndroidUiHelper.updateVisibility(checkbox, selectionMode);
+	}
+	public void bindView() {
+		bindView(true);
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
index bc885eab925..210b4223e0b 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
@@ -39,6 +39,7 @@
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.enums.TracksSortMode;
 import net.osmand.plus.track.GpxAppearanceAdapter;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.track.helpers.GpxDataItem;
 import net.osmand.plus.track.helpers.GpxDbHelper;
 import net.osmand.plus.track.helpers.SelectedGpxFile;
@@ -96,14 +97,19 @@ public TrackViewHolder(@NonNull View itemView, @Nullable TrackSelectionListener
 	}
 
 	public void bindView(@NonNull TracksSortMode sortMode, @NonNull TrackItem trackItem,
-	                     boolean showDivider, boolean shouldShowFolder, boolean selectionMode) {
+						 boolean showDivider, boolean shouldShowFolder, boolean selectionMode){
+		bindView(sortMode, trackItem, showDivider, shouldShowFolder, selectionMode, false);
+	}
+
+	public void bindView(@NonNull TracksSortMode sortMode, @NonNull TrackItem trackItem,
+	                     boolean showDivider, boolean shouldShowFolder, boolean selectionMode, boolean hideOptionsButton) {
 		title.setText(trackItem.getName());
 
 		boolean selected = listener != null && listener.isTrackItemSelected(trackItem);
 		checkbox.setChecked(selected);
 		UiUtilities.setupCompoundButton(nightMode, ColorUtilities.getActiveColor(app, nightMode), checkbox);
 		AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.checkbox_container), selectionMode);
-		AndroidUiHelper.updateVisibility(menuButton, !selectionMode);
+		AndroidUiHelper.updateVisibility(menuButton, !selectionMode && !hideOptionsButton);
 
 		int margin = app.getResources().getDimensionPixelSize(R.dimen.content_padding);
 		ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) imageView.getLayoutParams();
@@ -335,6 +341,10 @@ default void onTrackItemsSelected(@NonNull Set<TrackItem> trackItems, boolean se
 
 		}
 
+		default void onTrackFolderSelected(@NonNull TrackFolder trackFolder) {
+
+		}
+
 		default void onTrackItemLongClick(@NonNull View view, @NonNull TrackItem trackItem) {
 
 		}
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
index 5010fae89f0..fb044e326e7 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
@@ -96,6 +96,7 @@
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.enums.MapPosition;
 import net.osmand.plus.track.GpxSelectionParams;
+import net.osmand.plus.track.SelectTrackFragment;
 import net.osmand.plus.track.fragments.GpsFilterFragment;
 import net.osmand.plus.track.fragments.GpsFilterFragment.GpsFilterFragmentLister;
 import net.osmand.plus.track.fragments.TrackAltitudeBottomSheet;
@@ -143,7 +144,7 @@
 public class MeasurementToolFragment extends BaseOsmAndFragment implements RouteBetweenPointsFragmentListener,
 		OptionsFragmentListener, GpxApproximationFragmentListener, SelectedPointFragmentListener,
 		SaveAsNewTrackFragmentListener, MapControlsThemeProvider, GpsFilterFragmentLister,
-		OnFileUploadCallback, CalculateAltitudeListener, IMapDisplayPositionProvider {
+		OnFileUploadCallback, CalculateAltitudeListener, IMapDisplayPositionProvider, CallbackWithObject<String> {
 
 	public static final String TAG = MeasurementToolFragment.class.getSimpleName();
 	public static final String TAPS_DISABLED_KEY = "taps_disabled_key";
@@ -1593,11 +1594,24 @@ private void openSaveAsNewTrackMenu(MapActivity mapActivity) {
 
 	private void showAddToTrackDialog(MapActivity mapActivity) {
 		if (mapActivity != null) {
-			SelectFileBottomSheet.showInstance(mapActivity.getSupportFragmentManager(),
-					createAddToTrackFileListener(), ADD_TO_TRACK);
+			SelectTrackFragment.showInstance(mapActivity.getSupportFragmentManager(), this);
 		}
 	}
 
+	@Override
+	public boolean processResult(String filePath) {
+		MapActivity mapActivity = getMapActivity();
+		if (mapActivity != null) {
+			getGpxFile(filePath, gpxFile -> {
+				SelectedGpxFile selectedGpxFile = app.getSelectedGpxHelper().getSelectedFileByPath(gpxFile.path);
+				boolean showOnMap = selectedGpxFile != null;
+				saveExistingGpx(gpxFile, showOnMap, false, true, FinalSaveAction.SHOW_IS_SAVED_FRAGMENT);
+				return true;
+			});
+		}
+		return true;
+	}
+
 	private void applyMovePointMode() {
 		switchMovePointMode(false);
 
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/StartPlanRouteBottomSheet.java b/OsmAnd/src/net/osmand/plus/measurementtool/StartPlanRouteBottomSheet.java
index ea89ac627c2..84ec9c6aab8 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/StartPlanRouteBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/StartPlanRouteBottomSheet.java
@@ -16,6 +16,7 @@
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
+import net.osmand.CallbackWithObject;
 import net.osmand.IndexConstants;
 import net.osmand.PlatformUtil;
 import net.osmand.plus.OsmandApplication;
@@ -30,6 +31,7 @@
 import net.osmand.plus.importfiles.ImportHelper;
 import net.osmand.plus.measurementtool.SelectFileBottomSheet.SelectFileListener;
 import net.osmand.plus.track.GpxTrackAdapter;
+import net.osmand.plus.track.SelectTrackFragment;
 import net.osmand.plus.track.data.GPXInfo;
 import net.osmand.plus.utils.AndroidUtils;
 
@@ -39,7 +41,7 @@
 import java.util.Collections;
 import java.util.List;
 
-public class StartPlanRouteBottomSheet extends BottomSheetBehaviourDialogFragment {
+public class StartPlanRouteBottomSheet extends BottomSheetBehaviourDialogFragment implements CallbackWithObject<String> {
 
 	public static final String TAG = StartPlanRouteBottomSheet.class.getSimpleName();
 	private static final Log LOG = PlatformUtil.getLog(StartPlanRouteBottomSheet.class);
@@ -85,8 +87,7 @@ public void createMenuItems(Bundle savedInstanceState) {
 					MapActivity mapActivity = (MapActivity) getActivity();
 					if (mapActivity != null) {
 						hideBottomSheet();
-						SelectFileBottomSheet.showInstance(mapActivity.getSupportFragmentManager(),
-								createSelectFileListener(), OPEN_TRACK);
+						SelectTrackFragment.showInstance(mapActivity.getSupportFragmentManager(), this);
 					}
 				})
 				.create();
@@ -165,27 +166,6 @@ void finishImport(boolean success) {
 		}
 	}
 
-	private SelectFileListener createSelectFileListener() {
-		return new SelectFileListener() {
-			@Override
-			public void selectFileOnCLick(String filePath) {
-				dismiss();
-				MapActivity mapActivity = (MapActivity) getActivity();
-				if (mapActivity != null) {
-					MeasurementToolFragment.showInstance(mapActivity.getSupportFragmentManager(), filePath, true);
-				}
-			}
-
-			@Override
-			public void dismissButtonOnClick() {
-				MapActivity mapActivity = (MapActivity) getActivity();
-				if (mapActivity != null) {
-					showBottomSheet();
-				}
-			}
-		};
-	}
-
 	public static void showInstance(FragmentManager fragmentManager) {
 		if (!fragmentManager.isStateSaved()) {
 			StartPlanRouteBottomSheet fragment = new StartPlanRouteBottomSheet();
@@ -218,4 +198,14 @@ protected void showBottomSheet() {
 	protected int getDismissButtonTextId() {
 		return R.string.shared_string_cancel;
 	}
+
+	@Override
+	public boolean processResult(String filePath) {
+		dismiss();
+		MapActivity mapActivity = (MapActivity) getActivity();
+		if (mapActivity != null) {
+			MeasurementToolFragment.showInstance(mapActivity.getSupportFragmentManager(), filePath, true);
+		}
+		return true;
+	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/quickaction/actions/LocationSimulationAction.java b/OsmAnd/src/net/osmand/plus/quickaction/actions/LocationSimulationAction.java
index 7bc62136b6b..7f69e8e140e 100644
--- a/OsmAnd/src/net/osmand/plus/quickaction/actions/LocationSimulationAction.java
+++ b/OsmAnd/src/net/osmand/plus/quickaction/actions/LocationSimulationAction.java
@@ -33,6 +33,7 @@
 import net.osmand.plus.quickaction.QuickAction;
 import net.osmand.plus.quickaction.QuickActionType;
 import net.osmand.plus.quickaction.SelectTrackFileDialogFragment;
+import net.osmand.plus.track.SelectTrackFragment;
 import net.osmand.plus.track.helpers.GpxDataItem;
 import net.osmand.plus.track.helpers.GpxUiHelper;
 import net.osmand.plus.track.helpers.SelectedGpxFile;
@@ -264,7 +265,7 @@ private void setupGpxTrackInfo(@NonNull View trackInfoContainer,
 	}
 
 	private void showSelectTrackFileDialog(@NonNull MapActivity mapActivity, CallbackWithObject<String> onFileSelect) {
-		SelectTrackFileDialogFragment.showInstance(mapActivity.getSupportFragmentManager(), getDialog(mapActivity), onFileSelect);
+		SelectTrackFragment.showInstance(mapActivity.getSupportFragmentManager(), onFileSelect != null ? onFileSelect : getDialog(mapActivity));
 	}
 
 	private void setupSpeedUpSlider(@NonNull View container, @NonNull OsmandApplication app) {
diff --git a/OsmAnd/src/net/osmand/plus/simulation/SimulateLocationFragment.java b/OsmAnd/src/net/osmand/plus/simulation/SimulateLocationFragment.java
index 327d3c65106..d07428bfc41 100644
--- a/OsmAnd/src/net/osmand/plus/simulation/SimulateLocationFragment.java
+++ b/OsmAnd/src/net/osmand/plus/simulation/SimulateLocationFragment.java
@@ -24,13 +24,14 @@
 import net.osmand.plus.base.BaseOsmAndFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.track.GpxDialogs;
+import net.osmand.plus.track.SelectTrackFragment;
 import net.osmand.plus.track.fragments.TrackMenuFragment;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.widgets.alert.AlertDialogData;
 import net.osmand.plus.widgets.alert.CustomAlert;
 
-public class SimulateLocationFragment extends BaseOsmAndFragment {
+public class SimulateLocationFragment extends BaseOsmAndFragment implements SelectTrackFragment.GpxFileSelectionListener {
 
 	public static final String TAG = SimulateLocationFragment.class.getSimpleName();
 
@@ -160,6 +161,7 @@ private void setupCard(@NonNull View view) {
 			updateCard();
 			return true;
 		}, nightMode));
+		trackButton.setOnClickListener(v -> SelectTrackFragment.showInstance(requireActivity().getSupportFragmentManager(), this));
 		TextView trackTextview = trackItem.findViewById(R.id.title);
 		trackTextview.setText(R.string.shared_string_gpx_track);
 
@@ -276,4 +278,10 @@ public static void showInstance(@NonNull FragmentManager manager, @Nullable GPXF
 					.commitAllowingStateLoss();
 		}
 	}
+
+	@Override
+	public void onSelectGpxFile(GPXFile gpxFile) {
+		this.gpxFile = gpxFile;
+		updateCard();
+	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/track/BaseTracksFragment.java b/OsmAnd/src/net/osmand/plus/track/BaseTracksFragment.java
new file mode 100644
index 00000000000..49213f4c1d8
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/track/BaseTracksFragment.java
@@ -0,0 +1,370 @@
+package net.osmand.plus.track;
+
+import static net.osmand.IndexConstants.GPX_INDEX_DIR;
+import static net.osmand.plus.configmap.tracks.TrackFolderLoaderTask.*;
+import static net.osmand.plus.importfiles.ImportHelper.IMPORT_FILE_REQUEST;
+import static net.osmand.plus.importfiles.OnSuccessfulGpxImport.OPEN_GPX_CONTEXT_MENU;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.net.Uri;
+import android.os.AsyncTask;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ProgressBar;
+import android.widget.TextView;
+
+import androidx.annotation.ColorRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+import androidx.viewpager.widget.ViewPager;
+
+import net.osmand.gpx.GPXFile;
+import net.osmand.plus.R;
+import net.osmand.plus.base.BaseOsmAndDialogFragment;
+import net.osmand.plus.configmap.tracks.SortByBottomSheet;
+import net.osmand.plus.configmap.tracks.TrackFolderLoaderTask;
+import net.osmand.plus.configmap.tracks.TrackItem;
+import net.osmand.plus.configmap.tracks.TrackItemsContainer;
+import net.osmand.plus.configmap.tracks.TrackTab;
+import net.osmand.plus.configmap.tracks.TrackTabsHelper;
+import net.osmand.plus.configmap.tracks.TracksTabAdapter;
+import net.osmand.plus.configmap.tracks.viewholders.EmptyTracksViewHolder.EmptyTracksListener;
+import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder.SortTracksListener;
+import net.osmand.plus.configmap.tracks.viewholders.TrackViewHolder.TrackSelectionListener;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.helpers.IntentHelper;
+import net.osmand.plus.importfiles.GpxImportListener;
+import net.osmand.plus.importfiles.ImportHelper;
+import net.osmand.plus.importfiles.MultipleTracksImportListener;
+import net.osmand.plus.importfiles.OnSuccessfulGpxImport;
+import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper;
+import net.osmand.plus.myplaces.tracks.ItemsSelectionHelper.SelectionHelperProvider;
+import net.osmand.plus.myplaces.tracks.dialogs.MoveGpxFileBottomSheet.OnTrackFileMoveListener;
+import net.osmand.plus.settings.enums.TracksSortMode;
+import net.osmand.plus.track.data.TrackFolder;
+import net.osmand.plus.track.helpers.GpxSelectionHelper;
+import net.osmand.plus.track.helpers.SelectGpxTask.SelectGpxTaskListener;
+import net.osmand.plus.track.helpers.SelectedGpxFile;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.FileUtils;
+import net.osmand.plus.utils.FileUtils.RenameCallback;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.views.controls.PagerSlidingTabStrip;
+import net.osmand.util.Algorithms;
+
+import java.io.File;
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+public abstract class BaseTracksFragment extends BaseOsmAndDialogFragment implements LoadTracksListener,
+		SelectionHelperProvider<TrackItem>, OnTrackFileMoveListener, RenameCallback,
+		TrackSelectionListener, SortTracksListener, EmptyTracksListener, SelectGpxTaskListener {
+
+	protected ImportHelper importHelper;
+	protected TrackTabsHelper trackTabsHelper;
+	protected GpxSelectionHelper gpxSelectionHelper;
+	protected ItemsSelectionHelper<TrackItem> itemsSelectionHelper;
+	protected TrackFolderLoaderTask asyncLoader;
+
+	protected ViewPager viewPager;
+	protected PagerSlidingTabStrip tabLayout;
+	protected ProgressBar progressBar;
+	protected TracksTabAdapter adapter;
+	protected int tabSize;
+
+	@Override
+	public void onCreate(@Nullable Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		importHelper = app.getImportHelper();
+		trackTabsHelper = new TrackTabsHelper(app);
+		gpxSelectionHelper = app.getSelectedGpxHelper();
+		itemsSelectionHelper = trackTabsHelper.getItemsSelectionHelper();
+	}
+
+	protected void setupTabLayout(@NonNull View view) {
+		viewPager = view.findViewById(R.id.view_pager);
+		List<TrackTab> tabs = getTrackTabs();
+		tabLayout = view.findViewById(R.id.sliding_tabs);
+		tabLayout.setTabBackground(nightMode ? R.color.app_bar_main_dark : R.color.card_and_list_background_light);
+		tabLayout.setCustomTabProvider(new PagerSlidingTabStrip.CustomTabProvider() {
+			@Override
+			public View getCustomTabView(@NonNull ViewGroup parent, int position) {
+				TrackTab trackTab = getTrackTabs().get(position);
+
+				int activeColor = ColorUtilities.getActiveColor(app, nightMode);
+				int textColor = ColorUtilities.getPrimaryTextColor(app, nightMode);
+				int sidePadding = AndroidUtils.dpToPx(app, 12);
+
+				LayoutInflater inflater = UiUtilities.getInflater(parent.getContext(), nightMode);
+				View customView = inflater.inflate(R.layout.tab_title_view, parent, false);
+				TextView textView = customView.findViewById(android.R.id.text1);
+				textView.setPadding(sidePadding, textView.getPaddingTop(), sidePadding, textView.getPaddingBottom());
+				textView.setTextColor(AndroidUtils.createColorStateList(android.R.attr.state_selected, activeColor, textColor));
+				textView.setText(trackTab.getName(app));
+				return customView;
+			}
+
+			@Override
+			public void select(View tab) {
+				tab.setSelected(true);
+			}
+
+			@Override
+			public void deselect(View tab) {
+				tab.setSelected(false);
+			}
+
+			@Override
+			public void tabStylesUpdated(View tabsContainer, int currentPosition) {
+
+			}
+		});
+		setTabs(tabs);
+	}
+
+	@NonNull
+	public List<TrackTab> getTrackTabs() {
+		return new ArrayList<>(trackTabsHelper.getTrackTabs().values());
+	}
+
+	protected void setViewPagerAdapter(@NonNull ViewPager pager, List<TrackTab> items) {
+		adapter = new TracksTabAdapter(app, getChildFragmentManager(), items);
+		pager.setAdapter(adapter);
+	}
+
+	@Nullable
+	public TrackTab getSelectedTab() {
+		List<TrackTab> trackTabs = getTrackTabs();
+		return trackTabs.isEmpty() ? null : trackTabs.get(viewPager.getCurrentItem());
+	}
+
+	public void setSelectedTab(@NonNull String name) {
+		List<TrackTab> trackTabs = getTrackTabs();
+		for (int i = 0; i < trackTabs.size(); i++) {
+			TrackTab tab = trackTabs.get(i);
+			if (Algorithms.stringsEqual(tab.getTypeName(), name)) {
+				viewPager.setCurrentItem(i);
+				break;
+			}
+		}
+	}
+
+	@Nullable
+	public TrackTab getTab(@NonNull String name) {
+		for (TrackTab trackTab : getTrackTabs()) {
+			if (Algorithms.stringsEqual(name, trackTab.getTypeName())) {
+				return trackTab;
+			}
+		}
+		return null;
+	}
+
+	@Override
+	public void showSortByDialog() {
+		FragmentActivity activity = getActivity();
+		if (activity != null) {
+			FragmentManager manager = activity.getSupportFragmentManager();
+			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
+		}
+	}
+
+	@NonNull
+	@Override
+	public TracksSortMode getTracksSortMode() {
+		return getSelectedTab().getSortMode();
+	}
+
+	@Override
+	public void onResume() {
+		super.onResume();
+		List<TrackTab> tabs = getTrackTabs();
+		if (tabs.size() != tabSize) {
+			setTabs(tabs);
+		}
+		if (asyncLoader == null) {
+			reloadTracks();
+		}
+		gpxSelectionHelper.addListener(this);
+	}
+
+	@Override
+	public void onPause() {
+		super.onPause();
+		gpxSelectionHelper.removeListener(this);
+	}
+
+	protected void reloadTracks() {
+		File gpxDir = FileUtils.getExistingDir(app, GPX_INDEX_DIR);
+		TrackFolder folder = new TrackFolder(gpxDir, null);
+		asyncLoader = new TrackFolderLoaderTask(app, folder, this);
+		asyncLoader.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
+	}
+
+	@Override
+	public void loadTracksStarted() {
+		AndroidUiHelper.updateVisibility(progressBar, true);
+	}
+
+	protected void updateTrackTabs() {
+		adapter.setTrackTabs(trackTabsHelper.getTrackTabs());
+	}
+
+	@Override
+	public void onGpxSelectionInProgress(@NonNull SelectedGpxFile selectedGpxFile) {
+		AndroidUiHelper.updateVisibility(progressBar, true);
+		TrackItem item = findTrackItem(selectedGpxFile);
+		if (item != null) {
+			itemsSelectionHelper.addItemToOriginalSelected(item);
+			itemsSelectionHelper.onItemsSelected(Collections.singleton(item), true);
+			updateItems(Collections.singleton(item));
+		}
+	}
+
+	protected void updateItems(@NonNull Set<TrackItem> trackItems) {
+		for (Fragment fragment : getChildFragmentManager().getFragments()) {
+			if (fragment instanceof TrackItemsContainer) {
+				((TrackItemsContainer) fragment).updateItems(trackItems);
+			}
+		}
+	}
+
+	@Nullable
+	private TrackItem findTrackItem(@NonNull SelectedGpxFile selectedGpxFile) {
+		for (TrackItem item : itemsSelectionHelper.getAllItems()) {
+			if (Algorithms.stringsEqual(selectedGpxFile.getGpxFile().path, item.getPath())) {
+				return item;
+			}
+		}
+		return null;
+	}
+
+	@Override
+	public void onGpxSelectionFinished() {
+		AndroidUiHelper.updateVisibility(progressBar, isLoadingTracks());
+		trackTabsHelper.processVisibleTracks();
+		trackTabsHelper.processRecentlyVisibleTracks();
+		trackTabsHelper.updateTracksOnMap();
+		updateTabsContent();
+	}
+
+	public void updateTabsContent() {
+		for (Fragment fragment : getChildFragmentManager().getFragments()) {
+			if (fragment instanceof TrackItemsContainer) {
+				((TrackItemsContainer) fragment).updateContent();
+			}
+		}
+	}
+
+	public boolean isLoadingTracks() {
+		return asyncLoader != null && asyncLoader.getStatus() == Status.RUNNING;
+	}
+
+	@Override
+	public void onDestroy() {
+		super.onDestroy();
+
+		if (isLoadingTracks() && !requireActivity().isChangingConfigurations()) {
+			asyncLoader.cancel(false);
+		}
+	}
+
+	@Override
+	public void importTracks() {
+		Intent intent = ImportHelper.getImportFileIntent();
+		intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);
+		AndroidUtils.startActivityForResultIfSafe(this, intent, IMPORT_FILE_REQUEST);
+	}
+
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data) {
+		if (requestCode == IMPORT_FILE_REQUEST && resultCode == Activity.RESULT_OK) {
+			if (data != null) {
+				List<Uri> filesUri = IntentHelper.getIntentUris(data);
+				if (!Algorithms.isEmpty(filesUri)) {
+					int filesSize = filesUri.size();
+					boolean singleTrack = filesSize == 1;
+					File dir = ImportHelper.getGpxDestinationDir(app, true);
+					OnSuccessfulGpxImport onGpxImport = singleTrack ? OPEN_GPX_CONTEXT_MENU : null;
+
+					importHelper.setGpxImportListener(getGpxImportListener(filesSize));
+					importHelper.handleGpxFilesImport(filesUri, dir, onGpxImport, true, singleTrack);
+				}
+			}
+		} else {
+			super.onActivityResult(requestCode, resultCode, data);
+		}
+	}
+
+	@NonNull
+	private GpxImportListener getGpxImportListener(int filesSize) {
+		return new MultipleTracksImportListener(filesSize) {
+
+			@Override
+			public void onImportStarted() {
+				AndroidUiHelper.updateVisibility(progressBar, true);
+			}
+
+			@Override
+			public void onImportFinished() {
+				importHelper.setGpxImportListener(null);
+				AndroidUiHelper.updateVisibility(progressBar, false);
+			}
+
+			@Override
+			public void onSaveComplete(boolean success, GPXFile gpxFile) {
+				if (isAdded() && success) {
+					addTrackItem(new TrackItem(new File(gpxFile.path)));
+				}
+				super.onSaveComplete(success, gpxFile);
+			}
+		};
+	}
+
+	abstract protected void addTrackItem(@NonNull TrackItem item);
+
+	abstract protected void setTabs(@NonNull List<TrackTab> tabs);
+
+	public boolean selectionMode() {
+		return true;
+	}
+
+	@Override
+	public void onFileMove(@Nullable File src, @NonNull File dest) {
+	}
+
+	@Override
+	public void fileRenamed(@NonNull File src, @NonNull File dest) {
+	}
+
+	@NonNull
+	public TrackTabsHelper getTrackTabsHelper() {
+		return trackTabsHelper;
+	}
+
+	@NonNull
+	@Override
+	public ItemsSelectionHelper<TrackItem> getSelectionHelper() {
+		return itemsSelectionHelper;
+	}
+
+	@ColorRes
+	public int getStatusBarColorId() {
+		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
+		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
+	}
+
+	@Override
+	protected boolean isUsedOnMap() {
+		return true;
+	}
+
+}
diff --git a/OsmAnd/src/net/osmand/plus/track/SelectTrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/track/SelectTrackFolderFragment.java
new file mode 100644
index 00000000000..6f2f87d402b
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/track/SelectTrackFolderFragment.java
@@ -0,0 +1,317 @@
+package net.osmand.plus.track;
+
+import static net.osmand.plus.configmap.tracks.TracksAdapter.TYPE_NO_TRACKS;
+import static net.osmand.plus.configmap.tracks.TracksAdapter.TYPE_SORT_TRACKS;
+
+import android.app.Activity;
+import android.app.Dialog;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.Window;
+import android.widget.TextView;
+
+import androidx.annotation.ColorRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.widget.Toolbar;
+import androidx.core.content.ContextCompat;
+import androidx.core.view.ViewCompat;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+import androidx.recyclerview.widget.LinearLayoutManager;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.CallbackWithObject;
+import net.osmand.Location;
+import net.osmand.data.LatLon;
+import net.osmand.plus.OsmAndLocationProvider;
+import net.osmand.plus.R;
+import net.osmand.plus.base.BaseOsmAndDialogFragment;
+import net.osmand.plus.configmap.tracks.SortByBottomSheet;
+import net.osmand.plus.configmap.tracks.TrackItem;
+import net.osmand.plus.configmap.tracks.TrackItemsContainer;
+import net.osmand.plus.configmap.tracks.TrackTab;
+import net.osmand.plus.configmap.tracks.TrackTabType;
+import net.osmand.plus.configmap.tracks.TracksAdapter;
+import net.osmand.plus.configmap.tracks.TracksComparator;
+import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder;
+import net.osmand.plus.configmap.tracks.viewholders.TrackViewHolder;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.enums.TracksSortMode;
+import net.osmand.plus.track.data.TrackFolder;
+import net.osmand.plus.track.helpers.GpxSelectionHelper;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.util.Algorithms;
+import net.osmand.util.MapUtils;
+
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+public class SelectTrackFolderFragment extends BaseOsmAndDialogFragment implements OsmAndLocationProvider.OsmAndCompassListener, OsmAndLocationProvider.OsmAndLocationListener, TrackItemsContainer, TrackViewHolder.TrackSelectionListener, SortTracksViewHolder.SortTracksListener {
+
+	public static final String TAG = SelectTrackFolderFragment.class.getSimpleName();
+
+	private View view;
+	private TracksAdapter adapter;
+	private RecyclerView recyclerView;
+	private TextView toolbarTitle;
+
+	private Location location;
+	private Float heading;
+	private boolean locationUpdateStarted;
+	private boolean compassUpdateAllowed = true;
+	private TracksSortMode sortMode;
+	private TrackFolder baseTrackFolder;
+	private TrackFolder currentTrackFolder;
+	private Object fileSelectionListener;
+
+	@Override
+	protected boolean isUsedOnMap() {
+		return true;
+	}
+
+	@NonNull
+	@Override
+	public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {
+		Activity activity = requireActivity();
+		int themeId = nightMode ? R.style.OsmandDarkTheme_DarkActionbar : R.style.OsmandLightTheme_DarkActionbar_LightStatusBar;
+		Dialog dialog = new Dialog(activity, themeId);
+		Window window = dialog.getWindow();
+		if (window != null) {
+			if (!settings.DO_NOT_USE_ANIMATIONS.get()) {
+				window.getAttributes().windowAnimations = R.style.Animations_Alpha;
+			}
+			window.setStatusBarColor(ContextCompat.getColor(app, getStatusBarColorId()));
+		}
+		return dialog;
+	}
+
+	@ColorRes
+	public int getStatusBarColorId() {
+		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
+		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
+	}
+
+	@Nullable
+	@Override
+	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
+		updateNightMode();
+		view = themedInflater.inflate(R.layout.select_track_folder_fragment, container, false);
+		view.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.activity_background_color_dark : R.color.list_background_color_light));
+
+		toolbarTitle = view.findViewById(R.id.toolbar_title);
+		recyclerView = view.findViewById(R.id.recycler_view);
+		recyclerView.setLayoutManager(new LinearLayoutManager(app));
+		recyclerView.setItemAnimator(null);
+		recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {
+			@Override
+			public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {
+				super.onScrollStateChanged(recyclerView, newState);
+				compassUpdateAllowed = newState == RecyclerView.SCROLL_STATE_IDLE;
+			}
+		});
+
+		setupToolbar();
+		setupAdapter();
+		updateToolBarTitle();
+		return view;
+	}
+
+	private void setupToolbar() {
+		View appbar = view.findViewById(R.id.appbar);
+		ViewCompat.setElevation(appbar, 5.0f);
+		appbar.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.app_bar_main_dark : R.color.card_and_list_background_light));
+
+		Toolbar toolbar = view.findViewById(R.id.toolbar);
+		toolbar.findViewById(R.id.back_button).setOnClickListener(v -> {
+			if (currentTrackFolder.getParentFolder() == baseTrackFolder) {
+				dismiss();
+			} else {
+				currentTrackFolder = currentTrackFolder.getParentFolder();
+				updateAdapter();
+			}
+		});
+	}
+
+	private void setupAdapter() {
+		BaseTracksFragment fragment = (BaseTracksFragment) getTargetFragment();
+		if (fragment != null) {
+			adapter = new TracksAdapter(requireContext(), getUpdatedTrackTab(), fragment, nightMode);
+			adapter.setSelectionMode(fragment.selectionMode());
+			adapter.setSelectTrackMode(true);
+			adapter.setTrackSelectionListener(this);
+			adapter.setSortTracksListener(this);
+		}
+		recyclerView.setAdapter(adapter);
+	}
+
+	private void updateAdapter() {
+		if (adapter != null) {
+			adapter.setTrackTab(getUpdatedTrackTab());
+		}
+		updateToolBarTitle();
+	}
+
+	private TrackTab getUpdatedTrackTab() {
+		TrackTab trackTab = new TrackTab(TrackTabType.FOLDERS);
+		List<TrackFolder> subFolder = currentTrackFolder.getSubFolders();
+		List<TrackItem> trackItems = currentTrackFolder.getTrackItems();
+		if (Algorithms.isEmpty(subFolder) && Algorithms.isEmpty(trackItems)) {
+			trackTab.items.add(TYPE_NO_TRACKS);
+		} else {
+			trackTab.items.add(TYPE_SORT_TRACKS);
+			trackTab.items.addAll(currentTrackFolder.getSubFolders());
+			trackTab.items.addAll(currentTrackFolder.getTrackItems());
+			trackTab.setSortMode(sortMode);
+		}
+		return trackTab;
+	}
+
+	private void updateToolBarTitle() {
+		toolbarTitle.setText(currentTrackFolder.getDirFile().getName());
+	}
+
+	@Override
+	public void updateItems(@NonNull Set<TrackItem> trackItems) {
+		if (adapter != null) {
+			adapter.updateItems(trackItems);
+		}
+	}
+
+	@Override
+	public void updateContent() {
+		updateAdapter();
+	}
+
+	@Override
+	public void onResume() {
+		super.onResume();
+		startLocationUpdate();
+	}
+
+	@Override
+	public void onPause() {
+		super.onPause();
+		stopLocationUpdate();
+	}
+
+	@Override
+	public void updateLocation(Location location) {
+		if (!MapUtils.areLatLonEqual(this.location, location)) {
+			this.location = location;
+			updateLocationUi();
+		}
+	}
+
+	@Override
+	public void updateCompassValue(float value) {
+		// 99 in next line used to one-time initialize arrows (with reference vs. fixed-north direction)
+		// on non-compass devices
+		float lastHeading = heading != null ? heading : 99;
+		heading = value;
+		if (Math.abs(MapUtils.degreesDiff(lastHeading, heading)) > 5) {
+			updateLocationUi();
+		} else {
+			heading = lastHeading;
+		}
+	}
+
+	private void updateLocationUi() {
+		if (compassUpdateAllowed && adapter != null) {
+			app.runInUIThread(() -> {
+				if (location == null) {
+					location = app.getLocationProvider().getLastKnownLocation();
+				}
+				adapter.notifyDataSetChanged();
+			});
+		}
+	}
+
+	public void startLocationUpdate() {
+		if (!locationUpdateStarted) {
+			locationUpdateStarted = true;
+			OsmAndLocationProvider locationProvider = app.getLocationProvider();
+			locationProvider.removeCompassListener(locationProvider.getNavigationInfo());
+			locationProvider.addCompassListener(this);
+			locationProvider.addLocationListener(this);
+			updateLocationUi();
+		}
+	}
+
+	public void stopLocationUpdate() {
+		if (locationUpdateStarted) {
+			locationUpdateStarted = false;
+			OsmAndLocationProvider locationProvider = app.getLocationProvider();
+			locationProvider.removeLocationListener(this);
+			locationProvider.removeCompassListener(this);
+			locationProvider.addCompassListener(locationProvider.getNavigationInfo());
+		}
+	}
+
+	@Override
+	public void onTrackFolderSelected(@NonNull TrackFolder trackFolder) {
+		currentTrackFolder = trackFolder;
+		updateAdapter();
+	}
+
+	@Override
+	public void onTrackItemsSelected(@NonNull Set<TrackItem> trackItems, boolean selected) {
+		TrackItem firstTrackItem = trackItems.iterator().next();
+		if (fileSelectionListener instanceof CallbackWithObject) {
+			((CallbackWithObject<String>) fileSelectionListener).processResult(firstTrackItem.getPath());
+		} else if (fileSelectionListener instanceof SelectTrackFragment.GpxFileSelectionListener) {
+			GpxSelectionHelper.getGpxFile(requireActivity(), firstTrackItem.getFile(), true, result -> {
+				((SelectTrackFragment.GpxFileSelectionListener) fileSelectionListener).onSelectGpxFile(result);
+				return true;
+			});
+		}
+		dismiss();
+		Fragment selectTrackFragment = requireActivity().getSupportFragmentManager().findFragmentByTag(SelectTrackFragment.TAG);
+		if (selectTrackFragment instanceof SelectTrackFragment) {
+			((SelectTrackFragment) selectTrackFragment).dismiss();
+		}
+	}
+
+	@Override
+	public void showSortByDialog() {
+		FragmentActivity activity = getActivity();
+		if (activity != null) {
+			FragmentManager manager = activity.getSupportFragmentManager();
+			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
+		}
+	}
+
+	@NonNull
+	@Override
+	public TracksSortMode getTracksSortMode() {
+		return sortMode;
+	}
+
+	@Override
+	public void setTracksSortMode(@NonNull TracksSortMode sortMode) {
+		this.sortMode = sortMode;
+		TrackTab trackTab = adapter.getTrackTab();
+		trackTab.setSortMode(sortMode);
+		LatLon latLon = app.getMapViewTrackingUtilities().getDefaultLocation();
+		Collections.sort(trackTab.items, new TracksComparator(trackTab, latLon));
+		adapter.notifyDataSetChanged();
+	}
+
+	public static void showInstance(@NonNull FragmentManager manager, BaseTracksFragment selectTrackFragment, @Nullable TracksSortMode sortMode,
+									Object fileSelectionListener, TrackFolder baseTrackFolder, TrackFolder currentTrackFolder) {
+		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
+			SelectTrackFolderFragment fragment = new SelectTrackFolderFragment();
+			fragment.sortMode = sortMode;
+			fragment.baseTrackFolder = baseTrackFolder;
+			fragment.currentTrackFolder = currentTrackFolder;
+			fragment.fileSelectionListener = fileSelectionListener;
+			fragment.setTargetFragment(selectTrackFragment, 0);
+			fragment.setRetainInstance(true);
+			fragment.show(manager, TAG);
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/track/SelectTrackFragment.java b/OsmAnd/src/net/osmand/plus/track/SelectTrackFragment.java
new file mode 100644
index 00000000000..b50cf40b3fe
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/track/SelectTrackFragment.java
@@ -0,0 +1,158 @@
+package net.osmand.plus.track;
+
+import android.app.Activity;
+import android.app.Dialog;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.Window;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.widget.Toolbar;
+import androidx.core.content.ContextCompat;
+import androidx.core.view.ViewCompat;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.CallbackWithObject;
+import net.osmand.gpx.GPXFile;
+import net.osmand.plus.R;
+import net.osmand.plus.configmap.tracks.TrackItem;
+import net.osmand.plus.configmap.tracks.TrackTab;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.enums.TracksSortMode;
+import net.osmand.plus.track.data.TrackFolder;
+import net.osmand.plus.track.helpers.GpxSelectionHelper;
+import net.osmand.plus.utils.AndroidUtils;
+
+import java.io.File;
+import java.util.List;
+import java.util.Set;
+
+public class SelectTrackFragment extends BaseTracksFragment {
+
+	public static final String TAG = SelectTrackFragment.class.getSimpleName();
+
+	private Object fileSelectionListener;
+
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
+	@NonNull
+	@Override
+	public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {
+		Activity activity = requireActivity();
+		int themeId = nightMode ? R.style.OsmandDarkTheme_DarkActionbar : R.style.OsmandLightTheme_DarkActionbar_LightStatusBar;
+		Dialog dialog = new Dialog(activity, themeId);
+		Window window = dialog.getWindow();
+		if (window != null) {
+			if (!settings.DO_NOT_USE_ANIMATIONS.get()) {
+				window.getAttributes().windowAnimations = R.style.Animations_Alpha;
+			}
+			window.setStatusBarColor(ContextCompat.getColor(app, getStatusBarColorId()));
+		}
+		return dialog;
+	}
+
+	@Nullable
+	@Override
+	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
+		updateNightMode();
+		View view = themedInflater.inflate(R.layout.select_track_fragment, container, false);
+
+		setupToolbar(view);
+		setupTabLayout(view);
+
+		return view;
+	}
+
+	private void setupToolbar(@NonNull View view) {
+		progressBar = view.findViewById(R.id.progress_bar);
+		View appbar = view.findViewById(R.id.appbar);
+		ViewCompat.setElevation(appbar, 5.0f);
+		appbar.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.app_bar_main_dark : R.color.card_and_list_background_light));
+
+		Toolbar toolbar = view.findViewById(R.id.toolbar);
+		toolbar.findViewById(R.id.back_button).setOnClickListener(v -> dismiss());
+	}
+
+	protected void setTabs(@NonNull List<TrackTab> tabs) {
+		tabSize = tabs.size();
+		setViewPagerAdapter(viewPager, tabs);
+		tabLayout.setViewPager(viewPager);
+		viewPager.setCurrentItem(0);
+	}
+
+	@Override
+	public void tracksLoaded(@NonNull TrackFolder folder) {
+		trackTabsHelper.updateItems(folder);
+	}
+
+	@Override
+	public void loadTracksFinished(@NonNull TrackFolder folder) {
+		AndroidUiHelper.updateVisibility(progressBar, false);
+		updateTrackTabs();
+		updateTabsContent();
+	}
+
+	@Override
+	public void onTrackFolderSelected(@NonNull TrackFolder trackFolder) {
+		FragmentActivity activity = getActivity();
+		if (activity != null) {
+			FragmentManager manager = activity.getSupportFragmentManager();
+			SelectTrackFolderFragment.showInstance(manager, this, getTracksSortMode(), fileSelectionListener, trackFolder.getParentFolder(), trackFolder);
+		}
+	}
+
+	protected void addTrackItem(@NonNull TrackItem item) {
+		trackTabsHelper.addTrackItem(item);
+		updateTrackTabs();
+		setSelectedTab("import");
+		updateTabsContent();
+	}
+
+	@Override
+	public void setTracksSortMode(@NonNull TracksSortMode sortMode) {
+		TrackTab trackTab = getSelectedTab();
+		if (trackTab != null) {
+			trackTab.setSortMode(sortMode);
+			trackTabsHelper.sortTrackTab(trackTab);
+			updateTabsContent();
+		}
+	}
+
+	@Override
+	public void onTrackItemsSelected(@NonNull Set<TrackItem> trackItems, boolean selected) {
+		TrackItem firstTrackItem = trackItems.iterator().next();
+		if (fileSelectionListener instanceof CallbackWithObject) {
+			((CallbackWithObject<String>) fileSelectionListener).processResult(firstTrackItem.getPath());
+		} else if (fileSelectionListener instanceof GpxFileSelectionListener) {
+			GpxSelectionHelper.getGpxFile(requireActivity(), firstTrackItem.getFile(), true, result -> {
+				((GpxFileSelectionListener) fileSelectionListener).onSelectGpxFile(result);
+				return true;
+			});
+		}
+		dismiss();
+	}
+
+	@Override
+	public boolean selectionMode() {
+		return false;
+	}
+
+	public static void showInstance(@NonNull FragmentManager manager, Object fileSelectionListener) {
+		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
+			SelectTrackFragment fragment = new SelectTrackFragment();
+			fragment.fileSelectionListener = fileSelectionListener;
+			fragment.setRetainInstance(true);
+			fragment.show(manager, TAG);
+		}
+	}
+
+	public interface GpxFileSelectionListener {
+		void onSelectGpxFile(GPXFile gpxFile);
+	}
+}
\ No newline at end of file
