diff --git a/OsmAnd-java/src/main/java/net/osmand/map/WorldRegion.java b/OsmAnd-java/src/main/java/net/osmand/map/WorldRegion.java
index 96715e17f0f..91879c8132d 100644
--- a/OsmAnd-java/src/main/java/net/osmand/map/WorldRegion.java
+++ b/OsmAnd-java/src/main/java/net/osmand/map/WorldRegion.java
@@ -25,6 +25,8 @@ public class WorldRegion implements Serializable {
 	public static final String NORTH_AMERICA_REGION_ID = "northamerica";
 	public static final String RUSSIA_REGION_ID = "russia";
 	public static final String JAPAN_REGION_ID = "japan_asia";
+	public static final String GERMANY_REGION_ID = "europe_germany";
+	public static final String FRANCE_REGION_ID = "europe_france";
 	public static final String SOUTH_AMERICA_REGION_ID = "southamerica";
 	protected static final String WORLD = "world";
 
diff --git a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
index 20264dfecd0..d72266120a8 100644
--- a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
+++ b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
@@ -45,6 +45,7 @@ public class GeneralRouter implements VehicleRouter {
 	public static final String VEHICLE_WEIGHT = "weight";
 	public static final String VEHICLE_WIDTH = "width";
 	public static final String VEHICLE_LENGTH = "length";
+	public static final String MOTOR_TYPE = "motor_type";
 	public static final String CHECK_ALLOW_PRIVATE_NEEDED = "check_allow_private_needed";
 
 	private static boolean USE_CACHE = true;
diff --git a/OsmAnd/res/drawable/ic_co2_24dp.xml b/OsmAnd/res/drawable/ic_co2_24dp.xml
deleted file mode 100644
index 34dbbbe13b2..00000000000
--- a/OsmAnd/res/drawable/ic_co2_24dp.xml
+++ /dev/null
@@ -1,10 +0,0 @@
-<vector xmlns:android="http://schemas.android.com/apk/res/android"
-    android:width="24dp"
-    android:height="24dp"
-    android:viewportWidth="24"
-    android:viewportHeight="24">
-  <path
-      android:pathData="m14.1361,7.6395h-3.7998c-0.6966,0 -1.2666,0.57 -1.2666,1.2666v5.0664c0,0.6966 0.57,1.2666 1.2666,1.2666h3.7998c0.6966,0 1.2666,-0.57 1.2666,-1.2666L15.4027,8.9061c0,-0.6966 -0.57,-1.2666 -1.2666,-1.2666zM13.5027,13.3392L10.9695,13.3392L10.9695,9.5394h2.5332zM6.5364,12.7059v1.2666c0,0.6966 -0.57,1.2666 -1.2666,1.2666L1.47,15.2391c-0.6966,0 -1.2666,-0.57 -1.2666,-1.2666L0.2034,8.9061c0,-0.6966 0.57,-1.2666 1.2666,-1.2666h3.7998c0.6966,0 1.2666,0.57 1.2666,1.2666L6.5364,10.1727L4.6365,10.1727L4.6365,9.5394L2.1033,9.5394v3.7998h2.5332v-0.6333zM22.369,15.8724h-2.5332v1.2666h3.7998v1.8999h-5.6997v-3.1665c0,-0.6966 0.57,-1.2666 1.2666,-1.2666h2.5332v-1.2666h-3.7998v-1.8999h4.4331c0.6966,0 1.2666,0.57 1.2666,1.2666v1.8999c0,0.6966 -0.57,1.2666 -1.2666,1.2666z"
-      android:strokeWidth="1.26660562"
-      android:fillColor="#FFFFFF"/>
-</vector>
diff --git a/OsmAnd/res/layout/route_info_header.xml b/OsmAnd/res/layout/route_info_header.xml
index ebeb8fe2586..256cfb683e1 100644
--- a/OsmAnd/res/layout/route_info_header.xml
+++ b/OsmAnd/res/layout/route_info_header.xml
@@ -20,21 +20,21 @@
 			android:layout_height="wrap_content"
 			android:layout_weight="1"
 			android:orientation="horizontal"
-			android:paddingStart="10dp"
-			android:paddingLeft="10dp">
+			android:paddingStart="16dp"
+			android:paddingLeft="16dp">
 
 			<androidx.appcompat.widget.AppCompatImageView
 				android:id="@+id/distance_icon"
 				android:layout_width="wrap_content"
 				android:layout_height="wrap_content"
-				android:layout_gravity="top"
+				android:layout_gravity="center"
 				osmand:srcCompat="@drawable/ic_action_route_distance" />
 
 			<LinearLayout
 				android:layout_width="wrap_content"
 				android:layout_height="wrap_content"
-				android:layout_marginStart="@dimen/list_content_padding_small"
-				android:layout_marginLeft="@dimen/list_content_padding_small"
+				android:layout_marginStart="18dp"
+				android:layout_marginLeft="18dp"
 				android:orientation="vertical">
 
 				<net.osmand.plus.widgets.TextViewEx
@@ -60,33 +60,26 @@
 
 		</LinearLayout>
 
-		<View
-			android:id="@+id/info_divider3"
-			android:layout_width="1dp"
-			android:layout_height="match_parent"
-			android:background="?attr/divider_color_basic"
-			android:paddingBottom="@dimen/list_item_button_padding" />
-
 		<LinearLayout
 			android:layout_width="0dp"
 			android:layout_height="wrap_content"
 			android:layout_weight="1"
 			android:orientation="horizontal"
-			android:paddingStart="10dp"
-			android:paddingLeft="10dp">
+			android:paddingStart="16dp"
+			android:paddingLeft="16dp">
 
 			<androidx.appcompat.widget.AppCompatImageView
 				android:id="@+id/time_icon"
 				android:layout_width="wrap_content"
 				android:layout_height="wrap_content"
-				android:layout_gravity="top"
+				android:layout_gravity="center"
 				osmand:srcCompat="@drawable/ic_action_time_span" />
 
 			<LinearLayout
 				android:layout_width="wrap_content"
 				android:layout_height="wrap_content"
-				android:layout_marginStart="@dimen/list_content_padding_small"
-				android:layout_marginLeft="@dimen/list_content_padding_small"
+				android:layout_marginStart="18dp"
+				android:layout_marginLeft="18dp"
 				android:orientation="vertical">
 
 				<net.osmand.plus.widgets.TextViewEx
@@ -97,7 +90,7 @@
 					android:textColor="@color/description_font_and_bottom_sheet_icons"
 					android:textSize="@dimen/default_list_text_size"
 					osmand:typeface="@string/font_roboto_medium"
-					tools:text="1 h 20 min" />
+					tools:text="20 min" />
 
 				<TextView
 					android:id="@+id/time_desc"
@@ -112,61 +105,6 @@
 
 		</LinearLayout>
 
-		<View
-			android:id="@+id/info_divider4"
-			android:layout_width="1dp"
-			android:layout_height="match_parent"
-			android:background="?attr/divider_color_basic"
-			android:paddingBottom="@dimen/list_item_button_padding" />
-
-		<LinearLayout
-			android:id="@+id/co2_container_bis"
-			android:layout_width="0dp"
-			android:layout_height="wrap_content"
-			android:layout_weight="1"
-			android:minHeight="36dp"
-			android:orientation="horizontal"
-			android:paddingEnd="10dp"
-			android:paddingRight="10dp">
-
-			<androidx.appcompat.widget.AppCompatImageView
-				android:id="@+id/CO2Icon_bis"
-				android:layout_width="wrap_content"
-				android:layout_height="wrap_content"
-				android:layout_gravity="top"
-				android:layout_marginStart="@dimen/list_content_padding_small"
-				android:layout_marginLeft="@dimen/list_content_padding_small"
-				android:layout_marginEnd="@dimen/list_content_padding_small"
-				android:layout_marginRight="@dimen/list_content_padding_small"
-				android:contentDescription="@string/info_button"
-				osmand:srcCompat="@drawable/ic_co2_24dp" />
-
-			<LinearLayout
-				android:id="@+id/InfoCO2_bis"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:orientation="vertical">
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/CO2Text_bis"
-					android:layout_width="match_parent"
-					android:layout_height="wrap_content"
-					android:background="@null"
-					android:textColor="@color/description_font_and_bottom_sheet_icons"
-					android:textSize="@dimen/default_list_text_size"
-					osmand:typeface="@string/font_roboto_medium"
-					tools:text="100,2 kg" />
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/CO2Title_bis"
-					android:layout_width="match_parent"
-					android:layout_height="wrap_content"
-					android:gravity="start"
-					android:textColor="@color/description_font_and_bottom_sheet_icons"
-					android:textSize="@dimen/default_sub_text_size"
-					android:text="@string/approxEmissions" />
-			</LinearLayout>
-		</LinearLayout>
 	</LinearLayout>
 
 	<LinearLayout
diff --git a/OsmAnd/res/layout/route_info_statistic.xml b/OsmAnd/res/layout/route_info_statistic.xml
index d8b7f72329f..2987c77e359 100644
--- a/OsmAnd/res/layout/route_info_statistic.xml
+++ b/OsmAnd/res/layout/route_info_statistic.xml
@@ -2,7 +2,6 @@
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 	xmlns:osmand="http://schemas.android.com/apk/res-auto"
 	xmlns:tools="http://schemas.android.com/tools"
-	android:id="@+id/route_info_details_card"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
 	android:orientation="vertical">
@@ -15,7 +14,7 @@
 		android:focusable="false" />
 
 	<LinearLayout
-		android:id="@+id/RouteInfoControls"
+		android:id="@+id/route_info_controls"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
 		android:background="?attr/card_and_list_background_basic"
@@ -25,221 +24,130 @@
 			android:id="@+id/info_container"
 			android:layout_width="match_parent"
 			android:layout_height="wrap_content"
-			android:orientation="vertical">
+			android:orientation="vertical"
+			android:paddingHorizontal="@dimen/content_padding"
+			android:paddingTop="@dimen/content_padding_small"
+			android:paddingBottom="@dimen/content_padding_small_half">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/firstRow"
+				style="@style/TitleStyle"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				tools:text="34,2 km  •  39 min (17:47)" />
 
 			<LinearLayout
-				android:id="@+id/Info"
+				android:id="@+id/secondRow"
 				android:layout_width="match_parent"
 				android:layout_height="wrap_content"
-				android:minHeight="@dimen/route_info_list_item_height"
-				android:orientation="horizontal"
-				android:paddingTop="@dimen/route_info_details_padding"
-				android:paddingBottom="@dimen/route_info_details_padding">
+				android:layout_marginTop="@dimen/text_margin_small"
+				android:orientation="horizontal">
 
 				<LinearLayout
-					android:layout_width="0dp"
+					android:id="@+id/uphill_container"
+					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
-					android:layout_weight="1"
-					android:minHeight="36dp"
-					android:orientation="horizontal"
-					android:paddingStart="10dp"
-					android:paddingLeft="10dp"
-					android:paddingEnd="5dp"
-					android:paddingRight="5dp">
+					android:layout_marginEnd="@dimen/content_padding"
+					android:orientation="horizontal">
 
 					<androidx.appcompat.widget.AppCompatImageView
-						android:id="@+id/InfoIcon"
+						android:layout_width="@dimen/content_padding"
+						android:layout_height="@dimen/content_padding"
+						android:layout_gravity="center_vertical"
+						android:layout_marginVertical="@dimen/text_margin_small"
+						android:layout_marginEnd="@dimen/context_menu_subtitle_margin"
+						osmand:srcCompat="@drawable/ic_action_altitude_ascent_16"
+						osmand:tint="?attr/secondary_icon_color" />
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:id="@+id/uphill"
+						style="@style/DescStyle"
 						android:layout_width="wrap_content"
 						android:layout_height="wrap_content"
-						android:layout_marginLeft="0dp"
-						android:layout_marginRight="@dimen/list_content_padding_small"
-						android:contentDescription="@string/info_button"
-						osmand:srcCompat="@drawable/ic_action_info_dark"
-						android:layout_marginEnd="@dimen/list_content_padding_small"
-						android:layout_marginStart="0dp" />
-
-					<LinearLayout
-						android:id="@+id/InfoDistance"
-						android:layout_width="match_parent"
-						android:layout_height="wrap_content"
-						android:orientation="vertical">
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/DistanceText"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:singleLine="true"
-							android:textColor="?android:textColorPrimary"
-							android:textSize="@dimen/default_list_text_size"
-							tools:text="1000000 km" />
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/DistanceTitle"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:text="@string/distance"
-							android:textColor="@color/description_font_and_bottom_sheet_icons"
-							android:textSize="@dimen/default_sub_text_size" />
-
-					</LinearLayout>
+						android:layout_gravity="center_vertical"
+						android:textColor="?android:textColorSecondary"
+						tools:text="168 m" />
 
 				</LinearLayout>
 
-				<View
-					android:id="@+id/info_divider"
-					android:layout_width="1dp"
-					android:layout_height="match_parent"
-					android:background="?attr/divider_color_basic"
-					android:paddingBottom="@dimen/list_item_button_padding" />
-
 				<LinearLayout
-					android:layout_width="0dp"
+					android:id="@+id/downhill_container"
+					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
-					android:layout_weight="1"
-					android:minHeight="36dp"
-					android:orientation="horizontal"
-					android:paddingStart="0dp"
-					android:paddingLeft="0dp"
-					android:paddingEnd="5dp"
-					android:paddingRight="5dp">
+					android:layout_marginEnd="@dimen/content_padding"
+					android:orientation="horizontal">
 
 					<androidx.appcompat.widget.AppCompatImageView
-						android:id="@+id/DurationIcon"
+						android:layout_width="@dimen/content_padding"
+						android:layout_height="@dimen/content_padding"
+						android:layout_gravity="center_vertical"
+						android:layout_marginVertical="@dimen/text_margin_small"
+						android:layout_marginEnd="@dimen/context_menu_subtitle_margin"
+						osmand:srcCompat="@drawable/ic_action_altitude_descent_16"
+						osmand:tint="?attr/secondary_icon_color" />
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:id="@+id/downhill"
+						style="@style/DescStyle"
 						android:layout_width="wrap_content"
 						android:layout_height="wrap_content"
-						android:layout_marginLeft="@dimen/list_content_padding_small"
-						android:layout_marginRight="@dimen/list_content_padding_small"
-						android:contentDescription="@string/info_button"
-						osmand:srcCompat="@drawable/ic_action_time"
-						android:layout_marginEnd="@dimen/list_content_padding_small"
-						android:layout_marginStart="@dimen/list_content_padding_small" />
-
-					<LinearLayout
-						android:id="@+id/InfoDuration"
-						android:layout_width="match_parent"
-						android:layout_height="wrap_content"
-						android:orientation="vertical">
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/DurationText"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:textColor="?android:textColorPrimary"
-							android:textSize="@dimen/default_list_text_size"
-							tools:text="11 h 23 min" />
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/DurationTitle"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:textColor="@color/description_font_and_bottom_sheet_icons"
-							android:textSize="@dimen/default_sub_text_size"
-							tools:text="@string/arrive_at_time" />
-
-					</LinearLayout>
+						android:layout_gravity="center_vertical"
+						android:textColor="?android:textColorSecondary"
+						tools:text="12 m" />
 
 				</LinearLayout>
 
-				<View
-					android:id="@+id/info_divider2"
-					android:layout_width="1dp"
-					android:layout_height="match_parent"
-					android:background="?attr/divider_color_basic"
-					android:paddingBottom="@dimen/list_item_button_padding" />
-
 				<LinearLayout
-					android:id="@+id/co2_container"
-					android:layout_width="0dp"
-					android:layout_height="wrap_content"
-					android:layout_weight="1"
-					android:minHeight="36dp"
+					android:id="@+id/emission_container"
+					android:layout_width="wrap_content"
+					android:layout_height="match_parent"
+					android:layout_marginEnd="@dimen/content_padding"
 					android:orientation="horizontal"
-					android:paddingStart="0dp"
-					android:paddingLeft="0dp"
-					android:paddingEnd="10dp"
-					android:paddingRight="10dp">
-
-					<androidx.appcompat.widget.AppCompatImageView
-						android:id="@+id/CO2Icon"
+					android:visibility="gone">
+
+					<View
+						android:layout_width="1dp"
+						android:layout_height="match_parent"
+						android:layout_gravity="center_vertical"
+						android:layout_marginVertical="@dimen/content_padding_small_half"
+						android:layout_marginEnd="@dimen/content_padding"
+						android:background="?attr/divider_color_basic" />
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:id="@+id/emission"
+						style="@style/DescStyle"
 						android:layout_width="wrap_content"
 						android:layout_height="wrap_content"
-						android:layout_marginStart="@dimen/list_content_padding_small"
-						android:layout_marginLeft="@dimen/list_content_padding_small"
-						android:layout_marginEnd="@dimen/list_content_padding_small"
-						android:layout_marginRight="@dimen/list_content_padding_small"
-						android:contentDescription="@string/info_button"
-						osmand:srcCompat="@drawable/ic_co2_24dp" />
-
-					<LinearLayout
-						android:id="@+id/InfoCO2"
-						android:layout_width="match_parent"
-						android:layout_height="wrap_content"
-						android:orientation="vertical">
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/CO2Text"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:singleLine="true"
-							android:textColor="?android:textColorPrimary"
-							android:textSize="@dimen/default_list_text_size"
-							tools:text="10.2 kg" />
-
-						<net.osmand.plus.widgets.TextViewEx
-							android:id="@+id/CO2Title"
-							android:layout_width="match_parent"
-							android:layout_height="wrap_content"
-							android:gravity="start"
-							android:textColor="@color/description_font_and_bottom_sheet_icons"
-							android:textSize="@dimen/default_sub_text_size"
-							android:text="@string/approxEmissions" />
-
-					</LinearLayout>
+						android:layout_gravity="center_vertical"
+						android:textColor="?android:textColorSecondary"
+						tools:text="14 kg CO2 emission" />
 
 				</LinearLayout>
 
 			</LinearLayout>
 
-			<com.github.mikephil.charting.charts.LineChart
-				android:id="@+id/chart"
-				android:layout_width="match_parent"
-				android:layout_height="72dp"
-				android:layout_gravity="center_vertical" />
-
 		</LinearLayout>
 
-		<FrameLayout
-			android:id="@+id/details_button"
+		<com.github.mikephil.charting.charts.LineChart
+			android:id="@+id/chart"
 			android:layout_width="match_parent"
-			android:layout_height="@dimen/route_info_buttons_height"
+			android:layout_height="72dp"
 			android:layout_gravity="center_vertical"
-			android:layout_marginLeft="@dimen/route_info_buttons_padding_top_bottom"
-			android:layout_marginTop="@dimen/route_info_details_padding"
-			android:layout_marginRight="@dimen/route_info_buttons_padding_top_bottom"
-			android:layout_marginBottom="@dimen/route_info_details_padding"
-			android:orientation="horizontal"
-			android:layout_marginEnd="@dimen/route_info_buttons_padding_top_bottom"
-			android:layout_marginStart="@dimen/route_info_buttons_padding_top_bottom">
+			android:paddingHorizontal="@dimen/content_padding" />
 
-			<net.osmand.plus.widgets.TextViewEx
-				android:id="@+id/details_button_descr"
+		<FrameLayout
+			android:id="@+id/button_container"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:paddingHorizontal="@dimen/content_padding"
+			android:paddingTop="@dimen/content_padding_small"
+			android:paddingBottom="@dimen/content_padding">
+
+			<include
+				android:id="@+id/details_button"
+				layout="@layout/bottom_sheet_dialog_button"
 				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_gravity="center"
-				android:ellipsize="end"
-				android:gravity="center"
-				android:letterSpacing="@dimen/text_button_letter_spacing"
-				android:maxLines="1"
-				android:text="@string/rendering_category_details"
-				android:textColor="?attr/active_color_basic"
-				android:textSize="@dimen/text_button_text_size"
-				osmand:typeface="@string/font_roboto_medium"
-				tools:ignore="UnusedAttribute" />
+				android:layout_height="@dimen/route_info_buttons_height" />
 
 		</FrameLayout>
 
diff --git a/OsmAnd/res/values-fr/strings.xml b/OsmAnd/res/values-fr/strings.xml
index 5d77ecc4a89..f37881851f2 100644
--- a/OsmAnd/res/values-fr/strings.xml
+++ b/OsmAnd/res/values-fr/strings.xml
@@ -1,15 +1,13 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
-    <string name="vehicle_parameters_descr">Poids, hauteur, longueur, vitesse, motorisation</string>
-    <string name="motor_setting_title">Motorisation</string>
-    <string name="motor_setting_descr">Pour les calculs de CO2</string>
-    <string name="approxEmissions">Émissions approx.</string>
-    <string name="diesel">Diesel</string>
-    <string name="petrol">Essence</string>
-    <string name="LPG">GPL</string>
-    <string name="electric">Électrique</string>
-    <string name="gas">GNV</string>
-    <string name="hybrid">Hybride</string>
+    <string name="routing_attr_motor_type_name">Motorisation</string>
+    <string name="routing_attr_motor_type_description">Pour les calculs de CO2</string>
+    <string name="routing_attr_motor_type_diesel_name">Diesel</string>
+    <string name="routing_attr_motor_type_petrol_name">Essence</string>
+    <string name="routing_attr_motor_type_lpg_name">GPL</string>
+    <string name="routing_attr_motor_type_electric_name">Électrique</string>
+    <string name="routing_attr_motor_type_gas_name">GNV</string>
+    <string name="routing_attr_motor_type_hybrid_name">Hybride</string>
     <string name="offline_edition">Modifications hors-ligne</string>
     <string name="offline_edition_descr">Si le mode d\'édition hors-ligne est activé, les modifications seront enregistrées localement puis envoyées à la demande. Sinon, les modifications seront envoyées immédiatement.</string>
     <string name="update_poi_does_not_change_indexes">Les modifications de points d\'intérêt dans l\'application sont sans effet sur les cartes téléchargées, les modifications sont enregistrées dans un fichier de votre appareil.</string>
@@ -3139,6 +3137,7 @@
     <string name="map_during_navigation_info">Carte pendant le guidage</string>
     <string name="map_during_navigation">Carte pendant le guidage</string>
     <string name="shared_string_other">Autre</string>
+    <string name="vehicle_parameters_descr">Poids, hauteur, longueur, vitesse</string>
     <string name="vehicle_parameters">Caractéristiques du véhicule</string>
     <string name="voice_announces_info">Les annonces vocales n\'ont lieu que pendant la navigation.</string>
     <string name="voice_announces_descr">Instructions de guidage et annonces</string>
diff --git a/OsmAnd/res/values/dimens.xml b/OsmAnd/res/values/dimens.xml
index 2a45f629234..b2da8d042f0 100644
--- a/OsmAnd/res/values/dimens.xml
+++ b/OsmAnd/res/values/dimens.xml
@@ -19,6 +19,4 @@
 	<dimen name="price_button_bottom_padding">2dp</dimen>
     <dimen name="price_bottom_title_bottom_padding">1dp</dimen>
 	<dimen name="backup_icons_view_height">150dp</dimen>
-    <dimen name="list_content_padding_small">10dp</dimen>
-
 </resources>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index f8f9812abf0..b09bd0ab623 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,16 @@
 	Thx - Hardy
 -->
 
+    <string name="co2_mission">CO2 emission</string>
+    <string name="kg">kg</string>
+    <string name="routing_attr_motor_type_diesel_name">Diesel</string>
+    <string name="routing_attr_motor_type_petrol_name">Petrol</string>
+    <string name="routing_attr_motor_type_lpg_name">LPG</string>
+    <string name="routing_attr_motor_type_electric_name">Electric</string>
+    <string name="routing_attr_motor_type_gas_name">CNG</string>
+    <string name="routing_attr_motor_type_hybrid_name">Hybrid</string>
+    <string name="routing_attr_motor_type_name">Motor type</string>
+    <string name="routing_attr_motor_type_description">For CO2 computation</string>
     <string name="import_as_one_track">Import as one track</string>
     <string name="use_latin_name_if_missing">Use latin name if missing</string>
     <string name="transport_hazmat_yes_desc">You need to choose proper category. </string>
@@ -349,16 +359,6 @@
     <string name="horseback_riding">Horseback riding</string>
     <string name="shared_string_mini">mini</string>
     <string name="sample_wikivoyage">Wikivoyage example</string>
-    <string name="motor_setting_title">Motor type</string>
-    <string name="motor_setting_descr">For CO2 computation</string>
-    <string name="approxEmissions">Approx. emissions</string>
-    <string name="diesel">Diesel</string>
-    <string name="petrol">Petrol</string>
-    <string name="LPG">LPG</string>
-    <string name="electric">Electric</string>
-    <string name="gas">CNG</string>
-    <string name="hybrid">Hybrid</string>
-    <string name="vehicle_parameters_descr">Weight, height, length, speed, motor type</string>
     <string name="travel_route_types">Route types</string>
     <string name="shared_string_files">Files</string>
     <string name="service_is_not_available_please_try_later">Service unavailable. Please try again later.</string>
@@ -1452,6 +1452,7 @@
     <string name="map_during_navigation_info">Map during navigation</string>
     <string name="map_during_navigation">Map during navigation</string>
     <string name="shared_string_other">Other</string>
+    <string name="vehicle_parameters_descr">Weight, height, length, speed</string>
     <string name="vehicle_parameters">Vehicle parameters</string>
     <string name="voice_announces_info">Voice announcements only occur during navigation.</string>
     <string name="voice_announces_descr">Navigation instructions and announcements</string>
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/Co2Computer.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/Co2Computer.java
deleted file mode 100644
index bf003768a0e..00000000000
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/Co2Computer.java
+++ /dev/null
@@ -1,86 +0,0 @@
-package net.osmand.plus.routepreparationmenu;
-
-import android.content.Context;
-import net.osmand.plus.R;
-import net.osmand.data.LatLon;
-import net.osmand.plus.OsmandApplication;
-import net.osmand.plus.settings.backend.ApplicationMode;
-import static net.osmand.plus.settings.backend.ApplicationMode.CAR;
-import java.text.DecimalFormat;
-
-public class Co2Computer {
-    public static final String MOTOR_TYPE = "motor_type";
-
-    /*
-    Here I considered the CO2 footprint of the use only, not the whole life cycle
-    I copied methodology of https://www.youtube.com/watch?v=zjaUqUozwdc&t=3000s
-    which is to take the average consumption of all "automobile" of all years that rode > 1500 km on
-    https://www.spritmonitor.de/en/overview/0-All_manufactures/0-All_models.html?powerunit=2
-    and multiply by the emission factor found at p.16 of
-    "Information GES des prestations de transport - Guide méthodologique" version September 2018
-    https://www.ecologie.gouv.fr/sites/default/files/Info%20GES_Guide%20m%C3%A9thodo.pdf
-    For electricity, the default CO2/kWh number is "Europe (except France)"
-    Specific number for France is at 7min25s in the video.
-    I took the kWh/100km number of the video because the spritmonitor average was very close
-    to the one used in the video for the Renault Clio.
-    For natural gas, I took 1 m^3 = 1.266 kg from  https://www.grdf.fr/acteurs-gnv/accompagnement-grdf-gnv/concevoir-projet/reservoir-gnc
-    Only fossil fuel are counted for hybrid cars since their consumption is given in liter
-     */
-
-    public enum MotorType {
-        PETROL(R.string.petrol,     7.85f, 2.80f), // L
-        DIESEL(R.string.diesel,     6.59f, 3.17f), // L
-        LPG(R.string.LPG,           10.60f,1.86f), // L
-        GAS(R.string.gas,           4.90f, 2.28f), // kg
-        ELECTRIC(R.string.electric, 21.1f, 0.42f), // kWh fuelEmissionFactor "UE except France"
-        HYBRID(R.string.hybrid,     5.61f, 2.80f); // L, hybrid petrol
-
-        public final int key;
-        public final float fuelConsumptionForCar; // unit (L/kwH/kg)/100km
-        public final float fuelEmissionFactor; // kg CO2/unit (L/kwH/kg)
-
-        MotorType(int key, float fuelConsumptionForCar, float fuelEmissionFactor) {
-            this.key = key;
-            this.fuelConsumptionForCar = fuelConsumptionForCar;
-            this.fuelEmissionFactor = fuelEmissionFactor;
-        }
-        public String toHumanString(Context ctx) {
-            return ctx.getString(key);
-        }
-    }
-
-    public static boolean modeEmitCo2(ApplicationMode am) {
-        return am == CAR;
-    }
-
-    public static String getFormattedCO2(float meters, OsmandApplication app) {
-
-        MotorType motor = app.getSettings().MOTOR_TYPE.get();
-        double lat = app.getRoutingHelper().getLastFixedLocation().getLatitude();
-        double lon = app.getRoutingHelper().getLastFixedLocation().getLongitude();
-        LatLon lastFixedLocationLatLon = new LatLon(lat,lon);
-        String locationCountry = app.getRegions().getCountryName(lastFixedLocationLatLon);
-        ApplicationMode am = app.getSettings().getApplicationMode();
-
-        float emissionsGramsByKm = 0;
-        float fuelEmissionFactor = motor.fuelEmissionFactor;
-        if (motor.equals(MotorType.ELECTRIC)) {
-            if (locationCountry.equals("France")) {
-                fuelEmissionFactor = 0.055f;
-            } else if (locationCountry.equals("Deutschland")) {
-                fuelEmissionFactor = 0.4f;
-            }
-        }
-        if (am == CAR) {
-            emissionsGramsByKm = motor.fuelConsumptionForCar * fuelEmissionFactor * 10;
-        }
-        double totalEmissions_kg = meters/1000. * emissionsGramsByKm/1000.;
-        if (totalEmissions_kg/10. > 1) {
-            DecimalFormat fixed1 = new DecimalFormat("0");
-            return fixed1.format(totalEmissions_kg) + " kg";
-        } else {
-            DecimalFormat fixed1 = new DecimalFormat("0.0");
-            return fixed1.format(totalEmissions_kg) + " kg";
-        }
-    }
-}
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java
new file mode 100644
index 00000000000..c5103910970
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java
@@ -0,0 +1,162 @@
+package net.osmand.plus.routepreparationmenu;
+
+import static net.osmand.map.WorldRegion.FRANCE_REGION_ID;
+import static net.osmand.map.WorldRegion.GERMANY_REGION_ID;
+import static net.osmand.plus.routing.RoutingHelperUtils.getParameterForDerivedProfile;
+import static net.osmand.plus.settings.fragments.RouteParametersFragment.populateListParameters;
+import static net.osmand.router.GeneralRouter.MOTOR_TYPE;
+
+import android.os.AsyncTask;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.CallbackWithObject;
+import net.osmand.data.LatLon;
+import net.osmand.map.WorldRegion;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.helpers.TargetPointsHelper;
+import net.osmand.plus.helpers.TargetPointsHelper.TargetPoint;
+import net.osmand.plus.resources.DetectRegionTask;
+import net.osmand.plus.routing.RouteService;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.settings.fragments.RouteParametersFragment.ListParameters;
+import net.osmand.router.GeneralRouter;
+import net.osmand.router.GeneralRouter.RoutingParameter;
+import net.osmand.router.GeneralRouter.RoutingParameterType;
+import net.osmand.util.Algorithms;
+
+import java.text.DecimalFormat;
+
+/*
+Here I considered the CO2 footprint of the use only, not the whole life cycle
+I copied methodology of https://www.youtube.com/watch?v=zjaUqUozwdc&t=3000s
+which is to take the average consumption of all "automobile" of all years that rode > 1500 km on
+https://www.spritmonitor.de/en/overview/0-All_manufactures/0-All_models.html?powerunit=2
+and multiply by the emission factor found at p.16 of
+"Information GES des prestations de transport - Guide méthodologique" version September 2018
+https://www.ecologie.gouv.fr/sites/default/files/Info%20GES_Guide%20m%C3%A9thodo.pdf
+For electricity, the default CO2/kWh number is "Europe (except France)"
+Specific number for France is at 7min25s in the video.
+I took the kWh/100km number of the video because the spritmonitor average was very close
+to the one used in the video for the Renault Clio.
+For natural gas, I took 1 m^3 = 1.266 kg from  https://www.grdf.fr/acteurs-gnv/accompagnement-grdf-gnv/concevoir-projet/reservoir-gnc
+Only fossil fuel are counted for hybrid cars since their consumption is given in liter
+ */
+
+public class EmissionHelper {
+
+	private final OsmandApplication app;
+	private final OsmandSettings settings;
+	private final TargetPointsHelper targetPointsHelper;
+
+	public EmissionHelper(@NonNull OsmandApplication app) {
+		this.app = app;
+		this.settings = app.getSettings();
+		targetPointsHelper = app.getTargetPointsHelper();
+	}
+
+	public enum MotorType {
+		PETROL(7.85f, 2.80f), // L
+		DIESEL(6.59f, 3.17f), // L
+		LPG(10.60f, 1.86f), // L
+		GAS(4.90f, 2.28f), // kg
+		ELECTRIC(21.1f, 0.42f), // kWh fuelEmissionFactor "UE except France"
+		HYBRID(5.61f, 2.80f); // L, hybrid petrol
+
+		public final float fuelConsumption; // unit (L/kwH/kg)/100km
+		public final float fuelEmissionFactor; // kg CO2/unit (L/kwH/kg)
+
+		MotorType(float fuelConsumption, float fuelEmissionFactor) {
+			this.fuelConsumption = fuelConsumption;
+			this.fuelEmissionFactor = fuelEmissionFactor;
+		}
+
+		@Nullable
+		public static MotorType getMotorTypeByName(@NonNull String name) {
+			for (MotorType type : MotorType.values()) {
+				if (type.name().equalsIgnoreCase(name)) {
+					return type;
+				}
+			}
+			return null;
+		}
+
+		public boolean shouldCheckRegion() {
+			return this == MotorType.ELECTRIC;
+		}
+	}
+
+	@Nullable
+	public MotorType getMotorTypeForMode(@NonNull ApplicationMode mode) {
+		GeneralRouter router = app.getRouter(mode);
+		if (router != null && mode.getRouteService() == RouteService.OSMAND) {
+			RoutingParameter parameter = getParameterForDerivedProfile(MOTOR_TYPE, mode, router);
+			if (parameter != null) {
+				OsmandPreference<String> pref = settings.getCustomRoutingProperty(parameter.getId(),
+						parameter.getType() == RoutingParameterType.NUMERIC ? "0.0" : "-");
+				ListParameters parameters = populateListParameters(app, parameter);
+				int index = parameters.findIndexOfValue(pref.getModeValue(mode));
+				if (index != -1) {
+					return MotorType.getMotorTypeByName(parameters.names[index]);
+				}
+			}
+		}
+		return null;
+	}
+
+	public void getEmission(@NonNull MotorType motorType, float meters, @NonNull CallbackWithObject<String> callback) {
+		if (motorType.shouldCheckRegion()) {
+			LatLon latLon = getLatLon();
+			if (latLon != null) {
+				CallbackWithObject<WorldRegion> onRegionDetected = region -> {
+					float emissionFactor = getEmissionFactorForRegion(region, motorType.fuelEmissionFactor);
+					callback.processResult(getFormattedEmission(motorType, meters, emissionFactor));
+					return true;
+				};
+				DetectRegionTask task = new DetectRegionTask(app, onRegionDetected);
+				task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, latLon);
+			}
+		} else {
+			callback.processResult(getFormattedEmission(motorType, meters, motorType.fuelEmissionFactor));
+		}
+	}
+
+	private String getFormattedEmission(@NonNull MotorType motorType, float meters, float fuelEmissionFactor) {
+		float emissionsGramsByKm = motorType.fuelConsumption * fuelEmissionFactor * 10;
+		double totalEmissionsKg = meters / 1000 * emissionsGramsByKm / 1000;
+
+		String pattern = totalEmissionsKg / 10 > 1 ? "0" : "0.0";
+		String emission = new DecimalFormat(pattern).format(totalEmissionsKg);
+		String text = app.getString(R.string.ltr_or_rtl_combine_via_space, emission, app.getString(R.string.kg));
+		return app.getString(R.string.ltr_or_rtl_combine_via_space, text, app.getString(R.string.co2_mission));
+	}
+
+	private float getEmissionFactorForRegion(@Nullable WorldRegion region, float defaultEmissionFactor) {
+		if (region != null) {
+			String id = region.getRegionId();
+			if (Algorithms.stringsEqual(id, FRANCE_REGION_ID)) {
+				return 0.055f;
+			} else if (Algorithms.stringsEqual(id, GERMANY_REGION_ID)) {
+				return 0.4f;
+			}
+			WorldRegion parent = region.getSuperregion();
+			if (!parent.isContinent()) {
+				return getEmissionFactorForRegion(parent, defaultEmissionFactor);
+			}
+		}
+		return defaultEmissionFactor;
+	}
+
+	@Nullable
+	private LatLon getLatLon() {
+		TargetPoint targetPoint = targetPointsHelper.getPointToStart();
+		if (targetPoint == null) {
+			targetPoint = targetPointsHelper.getMyLocationToStart();
+		}
+		return targetPoint != null ? targetPoint.point : null;
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
index 33ed8e3c7a2..0ba78df39fd 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenu.java
@@ -1,6 +1,9 @@
 package net.osmand.plus.routepreparationmenu;
 
 
+import static net.osmand.aidlapi.OsmAndCustomizationConstants.NAVIGATION_APP_MODES_OPTIONS_ID;
+import static net.osmand.aidlapi.OsmAndCustomizationConstants.NAVIGATION_OPTIONS_MENU_ID;
+
 import android.content.Context;
 import android.content.DialogInterface.OnDismissListener;
 import android.graphics.PointF;
@@ -141,9 +144,6 @@
 import java.util.Set;
 import java.util.Stack;
 
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.NAVIGATION_APP_MODES_OPTIONS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.NAVIGATION_OPTIONS_MENU_ID;
-
 public class MapRouteInfoMenu implements IRouteInformationListener, CardListener, FavoritesListener {
 
 	private static final Log LOG = PlatformUtil.getLog(MapRouteInfoMenu.class);
@@ -847,9 +847,6 @@ public void onCardButtonPressed(@NonNull BaseCard card, int buttonIndex) {
 				} else if (buttonIndex == PublicTransportCard.SHOW_BUTTON_INDEX) {
 					showRouteOnMap(mapActivity, ((PublicTransportCard) card).getRouteId());
 				}
-			} else if (card instanceof SimpleRouteCard) {
-				hide();
-				ChooseRouteFragment.showInstance(mapActivity.getSupportFragmentManager(), 0, MenuState.FULL_SCREEN);
 			} else if (card instanceof PublicTransportNotFoundWarningCard) {
 				updateApplicationMode(null, ApplicationMode.PEDESTRIAN);
 			} else if (card instanceof PublicTransportNotFoundSettingsWarningCard) {
@@ -1224,9 +1221,9 @@ private void createRoutingParametersButtons(MapActivity mapActivity, final Route
 	}
 
 	private void createMuteSoundRoutingParameterButton(final MapActivity mapActivity,
-													   final MuteSoundRoutingParameter parameter,
-													   final RouteMenuAppModes mode,
-													   LinearLayout optionsContainer) {
+	                                                   final MuteSoundRoutingParameter parameter,
+	                                                   final RouteMenuAppModes mode,
+	                                                   LinearLayout optionsContainer) {
 		final ApplicationMode appMode = mapActivity.getRoutingHelper().getAppMode();
 		final int colorActive = ContextCompat.getColor(mapActivity, ColorUtilities.getActiveColorId(nightMode));
 		final int colorDisabled = ContextCompat.getColor(mapActivity, R.color.description_font_and_bottom_sheet_icons);
@@ -1363,7 +1360,7 @@ private List<RoutingParameter> getAvoidedParameters(OsmandApplication app) {
 	}
 
 	private void createImpassableRoadsItems(MapActivity mapActivity, Map<LatLon, AvoidRoadInfo> impassableRoads,
-											final LocalRoutingParameter parameter, final RouteMenuAppModes mode, final LinearLayout item) {
+	                                        final LocalRoutingParameter parameter, final RouteMenuAppModes mode, final LinearLayout item) {
 		Iterator<AvoidRoadInfo> it = impassableRoads.values().iterator();
 		while (it.hasNext()) {
 			final AvoidRoadInfo avoidRoadInfo = it.next();
@@ -1391,13 +1388,13 @@ private void createImpassableRoadsItems(MapActivity mapActivity, Map<LatLon, Avo
 	}
 
 	private void createAvoidParametersItems(MapActivity mapActivity, final List<RoutingParameter> avoidedParameters,
-											final LocalRoutingParameter parameter, final RouteMenuAppModes mode,
-											final LinearLayout item) {
+	                                        final LocalRoutingParameter parameter, final RouteMenuAppModes mode,
+	                                        final LinearLayout item) {
 		final OsmandSettings settings = mapActivity.getMyApplication().getSettings();
 		for (int i = 0; i < avoidedParameters.size(); i++) {
 			final RoutingParameter routingParameter = avoidedParameters.get(i);
 			final View container = createToolbarSubOptionView(false, AndroidUtils.getRoutingStringPropertyName(
-					app, routingParameter.getId(), routingParameter.getName()), R.drawable.ic_action_remove_dark,
+							app, routingParameter.getId(), routingParameter.getName()), R.drawable.ic_action_remove_dark,
 					i == avoidedParameters.size() - 1, v -> {
 						OsmandApplication app = getApp();
 						if (app == null) {
@@ -1496,7 +1493,7 @@ private LinearLayout.LayoutParams getContainerButtonLayoutParams(Context context
 
 	@Nullable
 	private LinearLayout createToolbarOptionView(boolean active, String title, @DrawableRes int activeIconId,
-												 @DrawableRes int disabledIconId, OnClickListener listener) {
+	                                             @DrawableRes int disabledIconId, OnClickListener listener) {
 		MapActivity mapActivity = getMapActivity();
 		if (mapActivity == null) {
 			return null;
@@ -1543,7 +1540,7 @@ private LinearLayout createToolbarOptionView(boolean active, String title, @Draw
 
 	@Nullable
 	private View createToolbarSubOptionView(boolean hideTextLine, String title, @DrawableRes int iconId,
-											boolean lastItem, OnClickListener listener) {
+	                                        boolean lastItem, OnClickListener listener) {
 		MapActivity mapActivity = getMapActivity();
 		if (mapActivity == null) {
 			return null;
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/RouteStatisticCard.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/RouteStatisticCard.java
index 6f0dc536290..4f7c8354577 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/RouteStatisticCard.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/RouteStatisticCard.java
@@ -28,8 +28,6 @@
 import net.osmand.plus.helpers.GpxUiHelper.GPXDataSetAxisType;
 import net.osmand.plus.helpers.GpxUiHelper.OrderedLineDataSet;
 import net.osmand.plus.mapcontextmenu.other.TrackDetailsMenu.ChartPointLayer;
-import net.osmand.plus.measurementtool.graph.CommonGraphAdapter;
-import net.osmand.plus.routepreparationmenu.Co2Computer;
 import net.osmand.plus.measurementtool.graph.CommonChartAdapter;
 import net.osmand.plus.routing.RoutingHelper;
 
@@ -81,9 +79,6 @@ protected void updateContent() {
 		((ImageView) view.findViewById(R.id.distance_icon)).setImageDrawable(app.getUIUtilities().getThemedIcon(R.drawable.ic_action_route_distance));
 		((ImageView) view.findViewById(R.id.time_icon)).setImageDrawable(app.getUIUtilities().getThemedIcon(R.drawable.ic_action_time_span));
 
-		ImageView co2Icon = (ImageView) view.findViewById(R.id.CO2Icon_bis);
-		co2Icon.setImageDrawable(getContentIcon(R.drawable.ic_co2_24dp));
-
 		int dist = routingHelper.getLeftDistance();
 		String text = OsmAndFormatter.getFormattedDistance(dist, app);
 		SpannableStringBuilder distanceStr = new SpannableStringBuilder(text);
@@ -108,24 +103,6 @@ protected void updateContent() {
 		String arriveStr = app.getString(R.string.arrive_at_time, OsmAndFormatter.getFormattedTime(time, true));
 		arriveTimeTv.setText(arriveStr);
 
-		final View co2Layout = view.findViewById(R.id.co2_container_bis);
-		boolean emitCO2 = Co2Computer.modeEmitCo2(routingHelper.getAppMode());
-		if (emitCO2) {
-			SpannableStringBuilder co2Str = new SpannableStringBuilder();
-			co2Str.append(Co2Computer.getFormattedCO2(dist, app));
-			spaceIndex = co2Str.toString().lastIndexOf(" ");
-			if (spaceIndex != -1) {
-				co2Str.setSpan(new ForegroundColorSpan(getMainFontColor()), 0, spaceIndex, 0);
-			}
-			TextView co2Tv = view.findViewById(R.id.CO2Text_bis);
-			co2Tv.setText(co2Str);
-			co2Layout.setVisibility(View.VISIBLE);
-			co2Icon.setVisibility(View.VISIBLE);
-		} else {
-			co2Layout.setVisibility(View.GONE);
-			co2Icon.setVisibility(View.GONE);
-		}
-
 		buildSlopeInfo();
 		updateButtons();
 
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/SimpleRouteCard.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/SimpleRouteCard.java
index 041fb7b0bdb..0c5760a6966 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/SimpleRouteCard.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/cards/SimpleRouteCard.java
@@ -1,10 +1,29 @@
 package net.osmand.plus.routepreparationmenu.cards;
 
+import static net.osmand.plus.helpers.FontCache.getRobotoMedium;
+import static net.osmand.plus.helpers.FontCache.getRobotoRegular;
+import static net.osmand.plus.helpers.GpxUiHelper.GPXDataSetAxisType.DISTANCE;
+import static net.osmand.plus.helpers.GpxUiHelper.createGPXElevationDataSet;
+import static net.osmand.plus.helpers.GpxUiHelper.createGPXSlopeDataSet;
+import static net.osmand.plus.utils.AndroidUtils.spToPx;
+import static net.osmand.plus.utils.ColorUtilities.getPrimaryTextColor;
+import static net.osmand.plus.utils.ColorUtilities.getSecondaryIconColor;
+import static net.osmand.plus.utils.ColorUtilities.getSecondaryTextColor;
+import static net.osmand.plus.utils.OsmAndFormatter.getFormattedAlt;
+import static net.osmand.plus.utils.OsmAndFormatter.getFormattedDistanceValue;
+import static net.osmand.plus.utils.OsmAndFormatter.getFormattedDuration;
+import static net.osmand.plus.utils.OsmAndFormatter.getFormattedTime;
+import static net.osmand.plus.utils.UiUtilities.DialogButtonType.STROKED;
+
+import android.text.SpannableStringBuilder;
+import android.text.TextUtils;
+import android.text.style.AbsoluteSizeSpan;
+import android.text.style.ForegroundColorSpan;
 import android.view.View;
-import android.widget.FrameLayout;
-import android.widget.ImageView;
 import android.widget.TextView;
 
+import androidx.annotation.NonNull;
+
 import com.github.mikephil.charting.charts.LineChart;
 import com.github.mikephil.charting.data.LineData;
 import com.github.mikephil.charting.interfaces.datasets.ILineDataSet;
@@ -13,26 +32,33 @@
 import net.osmand.GPXUtilities.GPXTrackAnalysis;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.helpers.GpxUiHelper;
 import net.osmand.plus.helpers.GpxUiHelper.OrderedLineDataSet;
-import net.osmand.plus.routepreparationmenu.Co2Computer;
+import net.osmand.plus.routepreparationmenu.EmissionHelper;
+import net.osmand.plus.routepreparationmenu.EmissionHelper.MotorType;
 import net.osmand.plus.routing.RoutingHelper;
+import net.osmand.plus.settings.enums.MetricsConstants;
 import net.osmand.plus.utils.AndroidUtils;
-import net.osmand.plus.utils.OsmAndFormatter;
+import net.osmand.plus.utils.OsmAndFormatter.FormattedValue;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.widgets.style.CustomTypefaceSpan;
+import net.osmand.util.Algorithms;
 
 import java.util.ArrayList;
 import java.util.List;
 
 public class SimpleRouteCard extends MapBaseCard {
 
-	private MapActivity mapActivity;
-	private GPXFile gpx;
-	private LineData data;
+	private final GPXFile gpxFile;
+	private final RoutingHelper routingHelper;
+
+	private LineData lineData;
 
-	public SimpleRouteCard(MapActivity mapActivity, GPXFile gpx) {
+	public SimpleRouteCard(@NonNull MapActivity mapActivity, @NonNull GPXFile gpxFile) {
 		super(mapActivity);
-		this.mapActivity = mapActivity;
-		this.gpx = gpx;
+		this.gpxFile = gpxFile;
+		routingHelper = mapActivity.getRoutingHelper();
 	}
 
 	@Override
@@ -42,91 +68,144 @@ public int getCardLayoutId() {
 
 	@Override
 	protected void updateContent() {
-		RoutingHelper routingHelper = mapActivity.getRoutingHelper();
-
-		view.findViewById(R.id.dividerToDropDown).setVisibility(View.VISIBLE);
-		view.findViewById(R.id.route_info_details_card).setVisibility(View.VISIBLE);
-
-		View info = view.findViewById(R.id.info_container);
-		info.setOnClickListener(v -> notifyCardPressed());
-
-		ImageView infoIcon = (ImageView) view.findViewById(R.id.InfoIcon);
-		ImageView durationIcon = (ImageView) view.findViewById(R.id.DurationIcon);
-		View infoDistanceView = view.findViewById(R.id.InfoDistance);
-		View infoDurationView = view.findViewById(R.id.InfoDuration);
-
-		infoIcon.setImageDrawable(getContentIcon(R.drawable.ic_action_route_distance));
-		infoIcon.setVisibility(View.VISIBLE);
-		durationIcon.setImageDrawable(getContentIcon(R.drawable.ic_action_time_span));
-		durationIcon.setVisibility(View.VISIBLE);
-		infoDistanceView.setVisibility(View.VISIBLE);
-		infoDurationView.setVisibility(View.VISIBLE);
-
-		TextView distanceText = (TextView) view.findViewById(R.id.DistanceText);
-		TextView durationText = (TextView) view.findViewById(R.id.DurationText);
-		TextView durationTitle = (TextView) view.findViewById(R.id.DurationTitle);
-
-		distanceText.setText(OsmAndFormatter.getFormattedDistance(routingHelper.getLeftDistance(), app));
-		durationText.setText(OsmAndFormatter.getFormattedDuration(routingHelper.getLeftTime(), app));
-		durationTitle.setText(app.getString(R.string.arrive_at_time, OsmAndFormatter.getFormattedTime(routingHelper.getLeftTime(), true)));
-
-		ImageView co2Icon = (ImageView) view.findViewById(R.id.CO2Icon);
-		co2Icon.setImageDrawable(getContentIcon(R.drawable.ic_co2_24dp));
-		final View co2Layout = view.findViewById(R.id.co2_container);
-		final TextView co2Text = view.findViewById(R.id.CO2Text);
-		boolean emitCO2 = Co2Computer.modeEmitCo2(routingHelper.getAppMode());
-		if (emitCO2) {
-			co2Text.setText(Co2Computer.getFormattedCO2(routingHelper.getLeftDistance(), app));
-			co2Layout.setVisibility(View.VISIBLE);
-			co2Icon.setVisibility(View.VISIBLE);
-		} else {
-			co2Layout.setVisibility(View.GONE);
-			co2Icon.setVisibility(View.GONE);
-		}
+		setupChart();
+		setupInfoRows();
+		setupDetailsButton();
+		view.findViewById(R.id.route_info_controls).setOnClickListener(v -> notifyCardPressed());
+	}
 
-		view.findViewById(R.id.details_button).setOnClickListener(new View.OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				CardListener listener = getListener();
-				if (listener != null) {
-					listener.onCardButtonPressed(SimpleRouteCard.this, 0);
-				}
-			}
-		});
-		view.findViewById(R.id.details_button).setOnClickListener(v -> notifyButtonPressed(0));
+	private void setupInfoRows() {
+		setupFirstRow();
+		setupSecondRow();
+	}
+
+	private void setupSecondRow() {
+		GPXTrackAnalysis analysis = gpxFile.getAnalysis(0);
+		if (analysis.hasElevationData) {
+			TextView uphill = view.findViewById(R.id.uphill);
+			TextView downhill = view.findViewById(R.id.downhill);
 
-		FrameLayout detailsButton = view.findViewById(R.id.details_button);
-		AndroidUtils.setBackground(app, detailsButton, nightMode, R.drawable.btn_border_light, R.drawable.btn_border_dark);
-		AndroidUtils.setBackground(app, view.findViewById(R.id.details_button_descr), nightMode, R.drawable.ripple_light, R.drawable.ripple_dark);
+			uphill.setText(getFormattedAlt(analysis.diffElevationUp, app));
+			downhill.setText(getFormattedAlt(analysis.diffElevationDown, app));
+		}
+		AndroidUiHelper.updateVisibility(view.findViewById(R.id.uphill_container), analysis.hasElevationData);
+		AndroidUiHelper.updateVisibility(view.findViewById(R.id.downhill_container), analysis.hasElevationData);
+		setupEmission();
+	}
 
-		buildHeader(view);
+	private void setupEmission() {
+		EmissionHelper emissionHelper = new EmissionHelper(app);
+		MotorType motorType = emissionHelper.getMotorTypeForMode(routingHelper.getAppMode());
+		if (motorType != null) {
+			emissionHelper.getEmission(motorType, routingHelper.getLeftDistance(), result -> {
+				TextView textView = view.findViewById(R.id.emission);
+				textView.setText(result);
+				AndroidUiHelper.updateVisibility(view.findViewById(R.id.emission_container), true);
+				return true;
+			});
+		}
 	}
 
-	private void buildHeader(View headerView) {
-		final LineChart mChart = headerView.findViewById(R.id.chart);
-		final GPXTrackAnalysis analysis = gpx.getAnalysis(0);
+	private void setupChart() {
+		LineChart chart = view.findViewById(R.id.chart);
+		GPXTrackAnalysis analysis = gpxFile.getAnalysis(0);
 
-		GpxUiHelper.setupGPXChart(mChart, 10f, 4f, false);
 		if (analysis.hasElevationData) {
-			LineData data = this.data;
+			GpxUiHelper.setupGPXChart(chart, 10f, 4f, false);
+
+			LineData data = lineData;
 			if (data == null) {
 				List<ILineDataSet> dataSets = new ArrayList<>();
 				OrderedLineDataSet slopeDataSet;
-				OrderedLineDataSet elevationDataSet = GpxUiHelper.createGPXElevationDataSet(app, mChart, analysis,
-						GpxUiHelper.GPXDataSetAxisType.DISTANCE, false, true, false);
+				OrderedLineDataSet elevationDataSet = createGPXElevationDataSet(app, chart, analysis,
+						DISTANCE, false, true, false);
 				dataSets.add(elevationDataSet);
-				slopeDataSet = GpxUiHelper.createGPXSlopeDataSet(app, mChart, analysis,
-						GpxUiHelper.GPXDataSetAxisType.DISTANCE, elevationDataSet.getValues(), true, true, false);
+				slopeDataSet = createGPXSlopeDataSet(app, chart, analysis, DISTANCE,
+						elevationDataSet.getValues(), true, true, false);
 				if (slopeDataSet != null) {
 					dataSets.add(slopeDataSet);
 				}
 				data = new LineData(dataSets);
-				this.data = data;
+				lineData = data;
 			}
-			mChart.setData(data);
-			mChart.setVisibility(View.VISIBLE);
-		} else {
-			mChart.setVisibility(View.GONE);
+			chart.setData(data);
 		}
+		AndroidUiHelper.updateVisibility(chart, analysis.hasElevationData);
+	}
+
+	private void setupDetailsButton() {
+		View button = view.findViewById(R.id.details_button);
+		button.setOnClickListener(v -> notifyCardPressed());
+		UiUtilities.setupDialogButton(nightMode, button, STROKED, R.string.shared_string_details);
+		AndroidUtils.setBackground(app, button, nightMode, R.drawable.btn_border_light, R.drawable.btn_border_dark);
+	}
+
+	private void setupFirstRow() {
+		SpannableStringBuilder builder = new SpannableStringBuilder();
+		setupDistance(builder);
+		setupBullet(builder);
+		setupDuration(builder);
+		setupArrivalTime(builder);
+
+		TextView textView = view.findViewById(R.id.firstRow);
+		textView.setText(builder);
+	}
+
+	private void setupArrivalTime(@NonNull SpannableStringBuilder builder) {
+		int index = builder.length();
+		String arriveTime = getFormattedTime(routingHelper.getLeftTime(), true);
+
+		builder.append(" (").append(arriveTime).append(")");
+		builder.setSpan(new AbsoluteSizeSpan(spToPx(app, 20)), index, builder.length(), 0);
+		builder.setSpan(new CustomTypefaceSpan(getRobotoRegular(app)), index, builder.length(), 0);
+		builder.setSpan(new ForegroundColorSpan(getSecondaryTextColor(app, nightMode)), index, builder.length(), 0);
+	}
+
+	private void setupBullet(@NonNull SpannableStringBuilder builder) {
+		int index = builder.length();
+		builder.append(" • ");
+		builder.setSpan(new AbsoluteSizeSpan(spToPx(app, 20)), index, builder.length(), 0);
+		builder.setSpan(new CustomTypefaceSpan(getRobotoRegular(app)), index, builder.length(), 0);
+		builder.setSpan(new ForegroundColorSpan(getSecondaryIconColor(app, nightMode)), index, builder.length(), 0);
+	}
+
+	private void setupDuration(@NonNull SpannableStringBuilder builder) {
+		String duration = getFormattedDuration(routingHelper.getLeftTime(), app);
+		String[] items = duration.split(" ");
+		for (String item : items) {
+			int index = builder.length();
+			builder.append(item).append(" ");
+			if (TextUtils.isDigitsOnly(item) || Algorithms.stringsEqual("<1", item)) {
+				setupNumberSpans(builder, index);
+			} else {
+				setupTextSpans(builder, index);
+			}
+		}
+	}
+
+	private void setupDistance(@NonNull SpannableStringBuilder builder) {
+		int distance = routingHelper.getLeftDistance();
+		MetricsConstants constants = app.getSettings().METRIC_SYSTEM.get();
+		FormattedValue value = getFormattedDistanceValue(distance, app, true, constants);
+
+		int index = builder.length();
+		builder.append(value.value);
+		setupNumberSpans(builder, index);
+
+		index = builder.length();
+		builder.append(" ").append(value.unit);
+		setupTextSpans(builder, index);
+	}
+
+	private void setupTextSpans(@NonNull SpannableStringBuilder builder, int index) {
+		builder.setSpan(new AbsoluteSizeSpan(spToPx(app, 16)), index, builder.length(), 0);
+		builder.setSpan(new CustomTypefaceSpan(getRobotoRegular(app)), index, builder.length(), 0);
+		builder.setSpan(new ForegroundColorSpan(getSecondaryTextColor(app, nightMode)), index, builder.length(), 0);
+	}
+
+	private void setupNumberSpans(@NonNull SpannableStringBuilder builder, int index) {
+		builder.setSpan(new AbsoluteSizeSpan(spToPx(app, 20)), index, builder.length(), 0);
+		builder.setSpan(new CustomTypefaceSpan(getRobotoMedium(app)), index, builder.length(), 0);
+		builder.setSpan(new ForegroundColorSpan(getPrimaryTextColor(app, nightMode)), index, builder.length(), 0);
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/routing/RoutingHelperUtils.java b/OsmAnd/src/net/osmand/plus/routing/RoutingHelperUtils.java
index 88cb676b63a..57dbcf548af 100644
--- a/OsmAnd/src/net/osmand/plus/routing/RoutingHelperUtils.java
+++ b/OsmAnd/src/net/osmand/plus/routing/RoutingHelperUtils.java
@@ -189,6 +189,7 @@ public static RoutingParameter getParameterForDerivedProfile(@NonNull String id,
 		return getParametersForDerivedProfile(appMode, router).get(id);
 	}
 
+	@NonNull
 	public static Map<String, RoutingParameter> getParametersForDerivedProfile(@NonNull ApplicationMode appMode, @NonNull GeneralRouter router) {
 		String derivedProfile = appMode.getDerivedProfile();
 		Map<String, RoutingParameter> parameters = new HashMap<>();
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 18facd1b919..e2ede1d70dd 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -35,14 +35,6 @@
 import net.osmand.plus.helpers.ColorDialogs;
 import net.osmand.plus.helpers.RateUsHelper.RateUsState;
 import net.osmand.plus.helpers.SearchHistoryHelper;
-import net.osmand.plus.helpers.enums.AngularConstants;
-import net.osmand.plus.helpers.enums.AutoZoomMap;
-import net.osmand.plus.helpers.enums.DayNightMode;
-import net.osmand.plus.helpers.enums.DrivingRegion;
-import net.osmand.plus.helpers.enums.MetricsConstants;
-import net.osmand.plus.routepreparationmenu.Co2Computer.MotorType;
-import net.osmand.plus.helpers.enums.SpeedConstants;
-import net.osmand.plus.helpers.enums.TracksSortByMode;
 import net.osmand.plus.inapp.InAppPurchases.InAppSubscription.SubscriptionState;
 import net.osmand.plus.mapmarkers.CoordinateInputFormats.Format;
 import net.osmand.plus.plugins.accessibility.AccessibilityMode;
@@ -377,11 +369,6 @@ public void copyProfilePreferences(ApplicationMode modeFrom, ApplicationMode mod
 		}
 	}
 
-	public void removePreferenceForProfile(String prefId, ApplicationMode mode) {
-		Object preferences =  getProfilePreferences(mode);
-		settingsAPI.edit(preferences).remove(prefId).commit();
-	}
-
 	public void resetPreferencesForProfile(ApplicationMode mode) {
 		resetProfilePreferences(mode, new ArrayList<>(registeredPreferences.values()));
 	}
@@ -1104,9 +1091,6 @@ public SpeedConstants getProfileDefaultValue(ApplicationMode mode) {
 	public final OsmandPreference<Float> MAX_SPEED = new FloatPreference(this,
 			"max_speed", 0f).makeProfile().cache();
 
-	public final OsmandPreference<MotorType> MOTOR_TYPE = new EnumStringPreference<MotorType>(this,
-			"motor_type", MotorType.PETROL, MotorType.values()).makeProfile().cache();
-
 	public final CommonPreference<String> ICON_RES_NAME = new StringPreference(this, "app_mode_icon_res_name", "ic_world_globe_dark").makeProfile().cache();
 
 	{
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
index dc23ccfc53b..ee758b92963 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
@@ -1,7 +1,11 @@
 package net.osmand.plus.settings.fragments;
 
+import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_SETTINGS_ID;
+import static net.osmand.aidlapi.OsmAndCustomizationConstants.SETTINGS_ID;
+
 import android.annotation.SuppressLint;
 import android.app.Activity;
+import android.content.Context;
 import android.graphics.Typeface;
 import android.graphics.drawable.Drawable;
 import android.graphics.drawable.LayerDrawable;
@@ -86,9 +90,6 @@
 import java.io.Serializable;
 import java.util.Set;
 
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_SETTINGS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.SETTINGS_ID;
-
 public abstract class BaseSettingsFragment extends PreferenceFragmentCompat implements OnPreferenceChangeListener,
 		OnPreferenceClickListener, AppModeChangedListener, OnConfirmPreferenceChange {
 
@@ -872,7 +873,12 @@ public SwitchPreferenceEx createSwitchPreferenceEx(String prefId, int title, int
 	}
 
 	public SwitchPreferenceEx createSwitchPreferenceEx(String prefId, String title, String summary, int layoutId) {
-		SwitchPreferenceEx p = new SwitchPreferenceEx(getContext());
+		return createSwitchPreferenceEx(requireContext(), prefId, title, summary, layoutId);
+	}
+
+	public static SwitchPreferenceEx createSwitchPreferenceEx(@NonNull Context ctx, @NonNull String prefId,
+	                                                          String title, String summary, int layoutId) {
+		SwitchPreferenceEx p = new SwitchPreferenceEx(ctx);
 		p.setKey(prefId);
 		p.setTitle(title);
 		p.setSummary(summary);
@@ -886,7 +892,13 @@ public ListPreferenceEx createListPreferenceEx(String prefId, String[] names, Ob
 	}
 
 	public ListPreferenceEx createListPreferenceEx(String prefId, String[] names, Object[] values, String title, int layoutId) {
-		ListPreferenceEx listPreference = new ListPreferenceEx(getContext());
+		return createListPreferenceEx(requireContext(), prefId, names, values, title, layoutId);
+	}
+
+	public static ListPreferenceEx createListPreferenceEx(@NonNull Context ctx, @NonNull String prefId,
+	                                                      @NonNull String[] names, @NonNull Object[] values,
+	                                                      String title, int layoutId) {
+		ListPreferenceEx listPreference = new ListPreferenceEx(ctx);
 		listPreference.setKey(prefId);
 		listPreference.setTitle(title);
 		listPreference.setDialogTitle(title);
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
index 2e42f8c62c8..5f84b42b087 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
@@ -1,5 +1,11 @@
 package net.osmand.plus.settings.fragments;
 
+import static net.osmand.plus.routepreparationmenu.RoutingOptionsHelper.DRIVING_STYLE;
+import static net.osmand.plus.settings.backend.OsmandSettings.ROUTING_PREFERENCE_PREFIX;
+import static net.osmand.plus.utils.AndroidUtils.getRoutingStringPropertyName;
+import static net.osmand.router.GeneralRouter.HAZMAT_CATEGORY;
+import static net.osmand.router.GeneralRouter.USE_HEIGHT_OBSTACLES;
+
 import android.app.Activity;
 import android.content.Context;
 import android.graphics.drawable.Drawable;
@@ -17,6 +23,7 @@
 import androidx.preference.PreferenceCategory;
 import androidx.preference.PreferenceScreen;
 import androidx.preference.PreferenceViewHolder;
+import androidx.preference.TwoStatePreference;
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.google.android.material.slider.Slider;
@@ -56,12 +63,6 @@
 import java.util.Map;
 import java.util.Set;
 
-import static net.osmand.plus.routepreparationmenu.RoutingOptionsHelper.DRIVING_STYLE;
-import static net.osmand.plus.settings.backend.OsmandSettings.ROUTING_PREFERENCE_PREFIX;
-import static net.osmand.plus.utils.AndroidUtils.getRoutingStringPropertyName;
-import static net.osmand.router.GeneralRouter.HAZMAT_CATEGORY;
-import static net.osmand.router.GeneralRouter.USE_HEIGHT_OBSTACLES;
-
 public class RouteParametersFragment extends BaseSettingsFragment implements OnPreferenceChanged {
 
 	public static final String TAG = RouteParametersFragment.class.getSimpleName();
@@ -286,49 +287,66 @@ private void setupOsmAndRouteServicePrefs(@NonNull ApplicationMode am, @NonNull
 				MultiSelectBooleanPreference preferRouting = createRoutingBooleanMultiSelectPref(PREFER_ROUTING_PARAMETER_PREFIX, title, "", preferParameters);
 				screen.addPreference(preferRouting);
 			}
+			Context ctx = requireContext();
 			for (RoutingParameter p : otherRoutingParameters) {
-				String title = getRoutingStringPropertyName(app, p.getId(), p.getName());
-				String description = AndroidUtils.getRoutingStringPropertyDescription(app, p.getId(), p.getDescription());
 				if (HAZMAT_CATEGORY.equals(p.getId())) {
 					setupHazmatCategoryPreference(p, screen);
-				} else if (p.getType() == RoutingParameterType.BOOLEAN) {
-					OsmandPreference preference = settings.getCustomRoutingBooleanProperty(p.getId(), p.getDefaultBoolean());
-					SwitchPreferenceEx switchPreferenceEx = createSwitchPreferenceEx(preference.getId(), title, description, R.layout.preference_with_descr_dialog_and_switch);
-					switchPreferenceEx.setDescription(description);
-					switchPreferenceEx.setIcon(getRoutingPrefIcon(p.getId()));
-					screen.addPreference(switchPreferenceEx);
-					setupOtherBooleanParameterSummary(am, p, switchPreferenceEx);
 				} else {
-					ListParameters listParameters = populateListParameters(p);
-					OsmandPreference<String> preference = settings.getCustomRoutingProperty(p.getId(), p.getType() == RoutingParameterType.NUMERIC ? "0.0" : "-");
-					ListPreferenceEx listPreferenceEx = createListPreferenceEx(preference.getId(), listParameters.names, listParameters.values, title, R.layout.preference_with_descr);
-					listPreferenceEx.setDescription(description);
-					listPreferenceEx.setIcon(getRoutingPrefIcon(p.getId()));
-					screen.addPreference(listPreferenceEx);
+					Preference preference = createRoutingParameterPref(ctx, p);
+					preference.setIcon(getRoutingPrefIcon(p.getId()));
+					if (p.getType() == RoutingParameterType.BOOLEAN) {
+						setupOtherBooleanParameterSummary(am, p, (SwitchPreferenceEx) preference);
+					}
+					screen.addPreference(preference);
 				}
 			}
 		}
 		setupTimeConditionalRoutingPref();
 	}
 
-	private ListParameters populateListParameters(@NonNull RoutingParameter p) {
-		Object[] vls = p.getPossibleValues();
+	public static Preference createRoutingParameterPref(@NonNull Context ctx, @NonNull RoutingParameter p) {
+		OsmandApplication app = (OsmandApplication) ctx.getApplicationContext();
+		OsmandSettings settings = app.getSettings();
+
+		String title = getRoutingStringPropertyName(ctx, p.getId(), p.getName());
+		String description = AndroidUtils.getRoutingStringPropertyDescription(ctx, p.getId(), p.getDescription());
+
+		if (p.getType() == RoutingParameterType.BOOLEAN) {
+			CommonPreference<Boolean> pref = settings.getCustomRoutingBooleanProperty(p.getId(), p.getDefaultBoolean());
+			SwitchPreferenceEx preference = createSwitchPreferenceEx(ctx, pref.getId(), title, description, R.layout.preference_with_descr_dialog_and_switch);
+			preference.setDescription(description);
+			return preference;
+		} else {
+			ListParameters listParameters = populateListParameters(ctx, p);
+			OsmandPreference<String> pref = settings.getCustomRoutingProperty(p.getId(), p.getType() == RoutingParameterType.NUMERIC ? "0.0" : "-");
+			ListPreferenceEx preference = createListPreferenceEx(ctx, pref.getId(), listParameters.names, listParameters.values, title, R.layout.preference_with_descr);
+			preference.setDescription(description);
+			return preference;
+		}
+	}
+
+	public static ListParameters populateListParameters(@NonNull Context ctx, @NonNull RoutingParameter parameter) {
+		Object[] vls = parameter.getPossibleValues();
 		String[] sVls = new String[vls.length];
 		int i = 0;
 		for (Object o : vls) {
 			sVls[i++] = o.toString();
 		}
-		String[] descriptions = p.getPossibleValueDescriptions();
+		String[] descriptions = parameter.getPossibleValueDescriptions();
 		String[] names = new String[descriptions.length];
 		for (int j = 0; j < descriptions.length; j++) {
 			String name = descriptions[j];
-			String id = p.getId() + "_" + name.toLowerCase().replace(" ", "_");
-			names[j] = getRoutingStringPropertyName(app, id, name);
+			if (Algorithms.stringsEqual(name, "-")) {
+				names[j] = ctx.getString(R.string.shared_string_none);
+			} else {
+				String id = parameter.getId() + "_" + name.toLowerCase().replace(" ", "_");
+				names[j] = getRoutingStringPropertyName(ctx, id, name);
+			}
 		}
 		return new ListParameters(names, sVls);
 	}
 
-	private void setupOtherBooleanParameterSummary(ApplicationMode am, RoutingParameter p, SwitchPreferenceEx switchPreferenceEx) {
+	private void setupOtherBooleanParameterSummary(ApplicationMode am, RoutingParameter p, TwoStatePreference preference) {
 		if (USE_HEIGHT_OBSTACLES.equals(p.getId()) && !Algorithms.isEmpty(reliefFactorParameters)) {
 			String summaryOn = getString(R.string.shared_string_enabled);
 			for (RoutingParameter parameter : reliefFactorParameters) {
@@ -336,11 +354,11 @@ private void setupOtherBooleanParameterSummary(ApplicationMode am, RoutingParame
 					summaryOn = getString(R.string.ltr_or_rtl_combine_via_comma, summaryOn, getRoutingParameterTitle(app, parameter));
 				}
 			}
-			switchPreferenceEx.setSummaryOn(summaryOn);
-			switchPreferenceEx.setSummaryOff(R.string.shared_string_disabled);
+			preference.setSummaryOn(summaryOn);
+			preference.setSummaryOff(R.string.shared_string_disabled);
 		} else {
-			switchPreferenceEx.setSummaryOn(R.string.shared_string_on);
-			switchPreferenceEx.setSummaryOff(R.string.shared_string_off);
+			preference.setSummaryOn(R.string.shared_string_on);
+			preference.setSummaryOff(R.string.shared_string_off);
 		}
 	}
 
@@ -458,9 +476,9 @@ private void showSeekbarSettingsDialog(Activity activity, final ApplicationMode
 	}
 
 	private static void setupAngleSlider(final float[] angleValue,
-										 View sliderView,
-										 final boolean nightMode,
-										 final int activeColor) {
+	                                     View sliderView,
+	                                     final boolean nightMode,
+	                                     final int activeColor) {
 
 		final Slider angleBar = sliderView.findViewById(R.id.angle_slider);
 		final TextView angleTv = sliderView.findViewById(R.id.angle_text);
@@ -500,13 +518,13 @@ private void updateRouteRecalcDistancePref() {
 		switchPref.setChecked(enabled);
 	}
 
-	private void setupHazmatCategoryPreference(@NonNull RoutingParameter p, @NonNull PreferenceScreen screen) {
+	private void setupHazmatCategoryPreference(@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen) {
 		Preference uiPreference = new Preference(app);
 		uiPreference.setKey(HAZMAT_TRANSPORTING_ENABLED);
 		uiPreference.setTitle(R.string.transport_hazmat_title);
 		uiPreference.setLayoutResource(R.layout.preference_with_descr);
 		screen.addPreference(uiPreference);
-		hazmatParameters = populateListParameters(p);
+		hazmatParameters = populateListParameters(app, parameter);
 		updateHazmatCategoryPreference();
 	}
 
@@ -731,7 +749,7 @@ public static boolean isRoutingParameterSelected(OsmandSettings settings, Applic
 	}
 
 	public static void updateSelectedParameters(OsmandApplication app, ApplicationMode mode,
-												List<RoutingParameter> parameters, String selectedParameterId) {
+	                                            List<RoutingParameter> parameters, String selectedParameterId) {
 		for (RoutingParameter p : parameters) {
 			String parameterId = p.getId();
 			setRoutingParameterSelected(app.getSettings(), mode, parameterId, p.getDefaultBoolean(), parameterId.equals(selectedParameterId));
@@ -740,7 +758,7 @@ public static void updateSelectedParameters(OsmandApplication app, ApplicationMo
 	}
 
 	private static void setRoutingParameterSelected(OsmandSettings settings, ApplicationMode mode,
-													String parameterId, boolean defaultBoolean, boolean isChecked) {
+	                                                String parameterId, boolean defaultBoolean, boolean isChecked) {
 		CommonPreference<Boolean> property = settings.getCustomRoutingBooleanProperty(parameterId, defaultBoolean);
 		if (mode != null) {
 			property.setModeValue(mode, isChecked);
@@ -788,9 +806,10 @@ private Drawable getRoutingPrefIcon(String prefId) {
 		}
 	}
 
-	private static class ListParameters {
-		private final String[] names;
-		private final Object[] values;
+	public static class ListParameters {
+
+		public final String[] names;
+		public final Object[] values;
 
 		public ListParameters(String[] names, Object[] values) {
 			this.names = names;
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
index 5fb65b12962..20068596747 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/VehicleParametersFragment.java
@@ -1,5 +1,15 @@
 package net.osmand.plus.settings.fragments;
 
+import static net.osmand.plus.settings.fragments.RouteParametersFragment.createRoutingParameterPref;
+import static net.osmand.router.GeneralRouter.DEFAULT_SPEED;
+import static net.osmand.router.GeneralRouter.MOTOR_TYPE;
+import static net.osmand.router.GeneralRouter.RoutingParameter;
+import static net.osmand.router.GeneralRouter.RoutingParameterType;
+import static net.osmand.router.GeneralRouter.VEHICLE_HEIGHT;
+import static net.osmand.router.GeneralRouter.VEHICLE_LENGTH;
+import static net.osmand.router.GeneralRouter.VEHICLE_WEIGHT;
+import static net.osmand.router.GeneralRouter.VEHICLE_WIDTH;
+
 import android.app.Activity;
 import android.content.Context;
 import android.content.DialogInterface;
@@ -19,35 +29,25 @@
 
 import com.google.android.material.slider.Slider;
 
-import net.osmand.plus.routing.RoutingHelperUtils;
-import net.osmand.plus.utils.AndroidUtils;
-import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.R;
-import net.osmand.plus.utils.UiUtilities;
-import net.osmand.plus.settings.enums.SpeedConstants;
 import net.osmand.plus.routing.RouteService;
+import net.osmand.plus.routing.RoutingHelperUtils;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.preferences.StringPreference;
 import net.osmand.plus.settings.bottomsheets.VehicleParametersBottomSheet;
 import net.osmand.plus.settings.bottomsheets.VehicleSizeAssets;
+import net.osmand.plus.settings.enums.SpeedConstants;
 import net.osmand.plus.settings.preferences.ListPreferenceEx;
 import net.osmand.plus.settings.preferences.SizePreference;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.OsmAndFormatter;
+import net.osmand.plus.utils.UiUtilities;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.GeneralRouterProfile;
 import net.osmand.util.Algorithms;
 
 import java.util.Map;
 
-import static net.osmand.router.GeneralRouter.DEFAULT_SPEED;
-import static net.osmand.router.GeneralRouter.RoutingParameter;
-import static net.osmand.router.GeneralRouter.RoutingParameterType;
-import static net.osmand.router.GeneralRouter.VEHICLE_HEIGHT;
-import static net.osmand.router.GeneralRouter.VEHICLE_LENGTH;
-import static net.osmand.router.GeneralRouter.VEHICLE_WEIGHT;
-import static net.osmand.router.GeneralRouter.VEHICLE_WIDTH;
-import static net.osmand.plus.routepreparationmenu.Co2Computer.MotorType;
-import static net.osmand.plus.routepreparationmenu.Co2Computer.MOTOR_TYPE;
-
 public class VehicleParametersFragment extends BaseSettingsFragment implements OnPreferenceChanged {
 
 	public static final String TAG = VehicleParametersFragment.class.getSimpleName();
@@ -68,24 +68,22 @@ protected void setupPreferences() {
 			if (router != null) {
 				GeneralRouterProfile routerProfile = router.getProfile();
 				Map<String, RoutingParameter> parameters = RoutingHelperUtils.getParametersForDerivedProfile(mode, router);
-				setupCustomRoutingPropertyPref(parameters.get(VEHICLE_HEIGHT), routerProfile);
-				setupCustomRoutingPropertyPref(parameters.get(VEHICLE_WEIGHT), routerProfile);
-				setupCustomRoutingPropertyPref(parameters.get(VEHICLE_WIDTH), routerProfile);
-				setupCustomRoutingPropertyPref(parameters.get(VEHICLE_LENGTH), routerProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_HEIGHT), routerProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_WEIGHT), routerProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_WIDTH), routerProfile);
+				setupVehiclePropertyPref(parameters.get(VEHICLE_LENGTH), routerProfile);
+
+				setupRoutingParameterPref(parameters.get(MOTOR_TYPE));
 				if (routerProfile != GeneralRouterProfile.PUBLIC_TRANSPORT) {
 					setupDefaultSpeedPref();
 				}
-				if (routerProfile == GeneralRouterProfile.CAR) {
-					setupMotorPref();
-				}
 			}
 		} else {
 			setupDefaultSpeedPref();
 		}
 	}
 
-	private void setupCustomRoutingPropertyPref(@Nullable RoutingParameter parameter,
-												GeneralRouterProfile routerProfile) {
+	private void setupVehiclePropertyPref(@Nullable RoutingParameter parameter, @Nullable GeneralRouterProfile profile) {
 		if (parameter == null) {
 			return;
 		}
@@ -97,7 +95,7 @@ private void setupCustomRoutingPropertyPref(@Nullable RoutingParameter parameter
 				? ROUTING_PARAMETER_NUMERIC_DEFAULT : ROUTING_PARAMETER_SYMBOLIC_DEFAULT;
 		StringPreference pref = (StringPreference) app.getSettings()
 				.getCustomRoutingProperty(parameterId, defValue);
-		VehicleSizeAssets assets = VehicleSizeAssets.getAssets(parameterId, routerProfile);
+		VehicleSizeAssets assets = VehicleSizeAssets.getAssets(parameterId, profile);
 		Object[] values = parameter.getPossibleValues();
 		String[] valuesStr = new String[values.length];
 		for (int i = 0; i < values.length; i++) {
@@ -111,11 +109,7 @@ private void setupCustomRoutingPropertyPref(@Nullable RoutingParameter parameter
 					entriesStr[i].substring(0, firstCharIndex), getString(assets.getMetricShortRes()));
 		}
 
-		Context ctx = getContext();
-		if (ctx == null) {
-			return;
-		}
-		SizePreference vehicleSizePref = new SizePreference(ctx);
+		SizePreference vehicleSizePref = new SizePreference(requireContext());
 		vehicleSizePref.setKey(pref.getId());
 		vehicleSizePref.setAssets(assets);
 		vehicleSizePref.setDefaultValue(defValue);
@@ -142,26 +136,12 @@ private void setupDefaultSpeedPref() {
 		getPreferenceScreen().addPreference(defaultSpeedPref);
 	}
 
-	private void setupMotorPref() {
-		Context ctx = getContext();
-		if (ctx == null) {
-			return;
-		}
-		ListPreferenceEx motorPref = new ListPreferenceEx(ctx);
-		MotorType[] motorTypes = MotorType.values(); //remove class import above if removed
-		String[] entries = new String[motorTypes.length];
-		Integer[] entryValues = new Integer[motorTypes.length];
-		for (int i = 0; i < entries.length; i++) {
-			entries[i] = motorTypes[i].toHumanString(ctx);
-			entryValues[i] = motorTypes[i].ordinal();
+	private void setupRoutingParameterPref(@Nullable RoutingParameter parameter) {
+		if (parameter != null) {
+			Preference preference = createRoutingParameterPref(requireContext(), parameter);
+			preference.setIcon(getPreferenceIcon(parameter.getId()));
+			getPreferenceScreen().addPreference(preference);
 		}
-		motorPref.setKey(MOTOR_TYPE);
-		motorPref.setTitle(R.string.motor_setting_title);
-		motorPref.setSummary(R.string.motor_setting_descr);
-		motorPref.setIcon(getPreferenceIcon(MOTOR_TYPE));
-		motorPref.setEntries(entries);
-		motorPref.setEntryValues(entryValues);
-		getPreferenceScreen().addPreference(motorPref);
 	}
 
 	@Override
@@ -330,8 +310,8 @@ private enum SpeedSliderType {
 	}
 
 	private void setupSpeedSlider(final SpeedSliderType type, String speedUnits, final int[] defaultValue,
-								  final int[] minValue, final int[] maxValue, final int min, int max,
-								  View seekbarView, int activeColor) {
+	                              final int[] minValue, final int[] maxValue, final int min, int max,
+	                              View seekbarView, int activeColor) {
 		View sliderLayout;
 		int titleId;
 		final int[] speedValue;
@@ -371,40 +351,37 @@ private void setupSpeedSlider(final SpeedSliderType type, String speedUnits, fin
 		speedUnitsTv.setText(speedUnits);
 		slider.setValueTo(max - min);
 		slider.setValue(Math.max(speedValue[0] - min, 0));
-		slider.addOnChangeListener(new Slider.OnChangeListener() {
-			@Override
-			public void onValueChange(@NonNull Slider slider, float val, boolean fromUser) {
-				int progress = (int) val;
-				int value = progress + min;
-				switch (type) {
-					case DEFAULT_SPEED:
-					case DEFAULT_SPEED_ONLY:
-						if (value > maxValue[0]) {
-							value = maxValue[0];
-							slider.setValue(Math.max(value - min, 0));
-						} else if (value < minValue[0]) {
-							value = minValue[0];
-							slider.setValue(Math.max(value - min, 0));
-						}
-						break;
-					case MIN_SPEED:
-						if (value > defaultValue[0]) {
-							value = defaultValue[0];
-							slider.setValue(Math.max(value - min, 0));
-						}
-						break;
-					case MAX_SPEED:
-						if (value < defaultValue[0]) {
-							value = defaultValue[0];
-							slider.setValue(Math.max(value - min, 0));
-						}
-						break;
-					default:
-						break;
-				}
-				speedValue[0] = value;
-				speedTv.setText(String.valueOf(value));
+		slider.addOnChangeListener((slider1, val, fromUser) -> {
+			int progress = (int) val;
+			int value = progress + min;
+			switch (type) {
+				case DEFAULT_SPEED:
+				case DEFAULT_SPEED_ONLY:
+					if (value > maxValue[0]) {
+						value = maxValue[0];
+						slider1.setValue(Math.max(value - min, 0));
+					} else if (value < minValue[0]) {
+						value = minValue[0];
+						slider1.setValue(Math.max(value - min, 0));
+					}
+					break;
+				case MIN_SPEED:
+					if (value > defaultValue[0]) {
+						value = defaultValue[0];
+						slider1.setValue(Math.max(value - min, 0));
+					}
+					break;
+				case MAX_SPEED:
+					if (value < defaultValue[0]) {
+						value = defaultValue[0];
+						slider1.setValue(Math.max(value - min, 0));
+					}
+					break;
+				default:
+					break;
 			}
+			speedValue[0] = value;
+			speedTv.setText(String.valueOf(value));
 		});
 		UiUtilities.setupSlider(slider, isNightMode(), activeColor);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/widgets/style/CustomTypefaceSpan.java b/OsmAnd/src/net/osmand/plus/widgets/style/CustomTypefaceSpan.java
index a06c7a30da3..50a69b3a4db 100644
--- a/OsmAnd/src/net/osmand/plus/widgets/style/CustomTypefaceSpan.java
+++ b/OsmAnd/src/net/osmand/plus/widgets/style/CustomTypefaceSpan.java
@@ -4,16 +4,18 @@
 import android.text.TextPaint;
 import android.text.style.MetricAffectingSpan;
 
+import androidx.annotation.NonNull;
+
 public class CustomTypefaceSpan extends MetricAffectingSpan {
 
-	private Typeface typeface;
+	private final Typeface typeface;
 
 	public CustomTypefaceSpan(Typeface typeface) {
 		this.typeface = typeface;
 	}
 
 	@Override
-	public void updateMeasureState(TextPaint p) {
+	public void updateMeasureState(@NonNull TextPaint p) {
 		update(p);
 	}
 
diff --git a/gradle.properties b/gradle.properties
index a417b66b901..dffb2e0a798 100644
--- a/gradle.properties
+++ b/gradle.properties
@@ -6,7 +6,7 @@
 # Specifies the JVM arguments used for the daemon process.
 # The setting is particularly useful for tweaking memory settings.
 # Default value: -Xmx10248m -XX:MaxPermSize=256m
-org.gradle.jvmargs=-Xmx2g -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -Dfile.encoding=UTF-8 -Duser.country=EN -Duser.language=en -Duser.variant=EN
+# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
 #
 # When configured, Gradle will run in incubating parallel mode.
 # This option should only be used with decoupled projects. More details, visit
@@ -21,5 +21,4 @@ org.gradle.jvmargs=-Xmx2g -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -
 # UPDATE 3: Turn on D8 to recover builds with new gradle 6.5 and pluigin 4.1.1
 #android.enableD8=false
 android.enableJetifier=true
-android.useAndroidX=true
-
+android.useAndroidX=true
\ No newline at end of file
