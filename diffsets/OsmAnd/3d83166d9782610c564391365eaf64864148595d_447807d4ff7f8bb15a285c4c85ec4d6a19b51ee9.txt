diff --git a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
index fe5b47e16e2..92d3303d63e 100644
--- a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
+++ b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
@@ -59,7 +59,7 @@ private RouteLineColorController(@NonNull OsmandApplication app,
 	public ModedColorsPaletteController getColorsPaletteController() {
 		if (colorsPaletteController == null) {
 			OsmandSettings settings = app.getSettings();
-			List<PaletteColor> predefinedColors = Arrays.asList(DefaultColors.values());
+			List<PaletteColor> predefinedColors = getPredefinedColors();
 			ColorsCollection colorsCollection = new ColorsCollection(predefinedColors, settings.ROUTE_LINE_COLORS_PALETTE);
 			colorsPaletteController = new ModedColorsPaletteController(app, colorsCollection) {
 
@@ -97,7 +97,6 @@ private PaletteMode createPaletteMode(boolean night) {
 		}
 		colorsPaletteController.setPaletteListener(getControllerListener());
 		colorsPaletteController.setPaletteModeSelectedListener((OnPaletteModeSelectedListener) getControllerListener());
-		setMapThemeProvider(this);
 		return colorsPaletteController;
 	}
 
@@ -198,6 +197,13 @@ public void onDestroy(@Nullable FragmentActivity activity) {
 			DialogManager manager = app.getDialogManager();
 			manager.unregister(PROCESS_ID);
 		}
+	}
+
+	public void onResume() {
+		setMapThemeProvider(this);
+	}
+
+	public void onPause() {
 		setMapThemeProvider(null);
 	}
 
@@ -206,8 +212,10 @@ private void setMapThemeProvider(@Nullable MapThemeProvider provider) {
 		helper.setMapThemeProvider(provider);
 	}
 
-	public interface IRouteLineColorControllerListener
-			extends IColorCardControllerListener, OnPaletteModeSelectedListener { }
+	@NonNull
+	public static List<PaletteColor> getPredefinedColors() {
+		return Arrays.asList(DefaultColors.values());
+	}
 
 	@NonNull
 	public static RouteLineColorController getInstance(@NonNull OsmandApplication app,
@@ -222,4 +230,7 @@ public static RouteLineColorController getInstance(@NonNull OsmandApplication ap
 		controller.setListener(listener);
 		return controller;
 	}
+
+	public interface IRouteLineColorControllerListener
+			extends IColorCardControllerListener, OnPaletteModeSelectedListener { }
 }
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
index 448d53e841f..6c22789dd53 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
@@ -423,12 +423,14 @@ private void initVisibleRect() {
 	public void onResume() {
 		super.onResume();
 		setDrawInfoOnRouteLayer(previewRouteLineInfo);
+		getColorCardController().onResume();
 	}
 
 	@Override
 	public void onPause() {
 		super.onPause();
 		setDrawInfoOnRouteLayer(null);
+		getColorCardController().onPause();
 	}
 
 	private void setDrawInfoOnRouteLayer(@Nullable PreviewRouteLineInfo drawInfo) {
