diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
index 2c765bb84f9..e4e478417a0 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
@@ -459,7 +459,7 @@ public int getStatusBarColorForTopWidget(boolean night) {
 		Set<MapWidgetInfo> topWidgetsInfo = getWidgetsForPanel(WidgetsPanel.TOP);
 		for (MapWidgetInfo widgetInfo : topWidgetsInfo) {
 			MapWidget widget = widgetInfo.widget;
-			if (widget.getView().getVisibility() != View.VISIBLE) {
+			if (!widget.isViewVisible()) {
 				continue;
 			}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MarkersWidgetsHelper.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MarkersWidgetsHelper.java
index a4627c88599..fe352758dc3 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MarkersWidgetsHelper.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MarkersWidgetsHelper.java
@@ -46,9 +46,7 @@ public int getMapMarkersBarWidgetHeight() {
 	}
 
 	public boolean isMapMarkersBarWidgetVisible() {
-		View view = mapMarkersBarWidget.getView();
-		return view.getVisibility() == View.VISIBLE
-				&& view.getParent() != null
+		return mapMarkersBarWidget.isViewVisible()
 				&& mapActivity.findViewById(R.id.MapHudButtonsOverlay).getVisibility() == View.VISIBLE;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
index 147a2fb6c16..d04f7d2f500 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
@@ -230,8 +230,9 @@ public void attachView(@NonNull ViewGroup container, int order, @NonNull List<Ma
 		super.attachView(container, order, followingWidgets);
 
 		boolean showBottomShadow = true;
+		boolean coordinatedVisible = mapActivity.getWidgetsVisibilityHelper().shouldShowTopCoordinatesWidget();
 		for (MapWidget widget : followingWidgets) {
-			if (widget instanceof CoordinatesWidget) {
+			if (widget instanceof CoordinatesWidget && coordinatedVisible) {
 				showBottomShadow = false;
 				break;
 			}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
index 9083574aa51..05f153f9cbc 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
@@ -76,6 +76,10 @@ protected boolean updateVisibility(boolean visible) {
 		return AndroidUiHelper.updateVisibility(view, visible);
 	}
 
+	public boolean isViewVisible() {
+		return view.getVisibility() == View.VISIBLE;
+	}
+
 	public static void updateTextColor(@NonNull TextView text, @Nullable TextView textShadow,
 	                                   @ColorInt int textColor, @ColorInt int textShadowColor,
 	                                   boolean boldText, int shadowRadius) {
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
index 5b70620c805..35c8229135b 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
@@ -360,8 +360,9 @@ public void attachView(@NonNull ViewGroup container, int order, @NonNull List<Ma
 		if (specialPosition) {
 			specialContainer.removeAllViews();
 
+			boolean coordinatesVisible = mapActivity.getWidgetsVisibilityHelper().shouldShowTopCoordinatesWidget();
 			for (MapWidget widget : followingWidgets) {
-				if (widget instanceof CoordinatesWidget) {
+				if (widget instanceof CoordinatesWidget && coordinatesVisible) {
 					specialPosition = false;
 					break;
 				}
