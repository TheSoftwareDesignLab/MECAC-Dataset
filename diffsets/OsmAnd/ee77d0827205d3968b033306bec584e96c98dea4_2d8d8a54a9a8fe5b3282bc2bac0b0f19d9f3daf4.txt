diff --git a/OsmAnd/res/layout/fragment_coordinates_grid.xml b/OsmAnd/res/layout/fragment_coordinates_grid.xml
index c9edfbd8161..3b3f08102df 100644
--- a/OsmAnd/res/layout/fragment_coordinates_grid.xml
+++ b/OsmAnd/res/layout/fragment_coordinates_grid.xml
@@ -1,7 +1,172 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:descendantFocusability="blocksDescendants"
     android:orientation="vertical">
 
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+        <include layout="@layout/shadow_on_map" />
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:background="?attr/activity_background_basic"
+            android:orientation="vertical">
+
+            <include
+                android:id="@+id/main_toggle"
+                layout="@layout/item_title_with_description_icon_switch" />
+
+            <include
+                android:id="@+id/titleBottomDivider"
+                layout="@layout/card_bottom_divider"
+                tools:visibility="gone" />
+
+            <LinearLayout
+                android:id="@+id/content_container"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="vertical">
+
+                <include layout="@layout/card_bottom_divider" />
+
+                <include layout="@layout/card_top_divider" />
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:background="?attr/bg_color"
+                    android:orientation="vertical">
+
+                    <LinearLayout
+                        android:id="@+id/format_button"
+                        android:layout_width="match_parent"
+                        android:layout_height="@dimen/bottom_sheet_large_list_item_height"
+                        android:background="?attr/selectableItemBackground"
+                        android:gravity="center_vertical"
+                        android:orientation="horizontal">
+
+                        <androidx.appcompat.widget.AppCompatImageView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:layout_margin="@dimen/content_padding"
+                            android:src="@drawable/ic_action_layers"
+                            app:tint="?attr/default_icon_color" />
+
+                        <TextView
+                            android:layout_width="0dp"
+                            android:layout_height="wrap_content"
+                            android:layout_weight="1"
+                            android:paddingHorizontal="@dimen/content_padding"
+                            android:text="@string/navigate_point_format"
+                            android:textColor="?android:textColorPrimary"
+                            android:textSize="@dimen/default_list_text_size"
+                            android:textStyle="normal" />
+
+                        <LinearLayout
+                            android:id="@+id/format_selector"
+                            android:layout_width="wrap_content"
+                            android:layout_height="@dimen/bottom_sheet_list_item_height"
+                            android:layout_gravity="center_vertical"
+                            android:layout_marginEnd="@dimen/text_margin_small"
+                            android:orientation="horizontal"
+                            android:paddingHorizontal="@dimen/content_padding_small">
+
+                            <net.osmand.plus.widgets.TextViewEx
+                                android:id="@+id/format_value"
+                                style="@style/TitleStyle"
+                                android:layout_width="wrap_content"
+                                android:layout_height="wrap_content"
+                                android:layout_gravity="center_vertical"
+                                android:ellipsize="end"
+                                android:maxLines="1"
+                                android:textColor="?android:textColorSecondary"
+                                tools:text="Solid" />
+
+                            <androidx.appcompat.widget.AppCompatImageButton
+                                android:id="@+id/drop_down_icon"
+                                style="@style/Widget.AppCompat.ActionButton"
+                                android:layout_width="@dimen/standard_icon_size"
+                                android:layout_height="@dimen/standard_icon_size"
+                                android:layout_gravity="center_vertical"
+                                android:layout_marginStart="@dimen/dashFavIconMargin"
+                                android:clickable="false"
+                                android:duplicateParentState="true"
+                                android:scaleType="center"
+                                android:src="@drawable/ic_action_arrow_down"
+                                android:tint="?attr/default_icon_color" />
+
+                        </LinearLayout>
+
+                    </LinearLayout>
+
+                    <View
+                        android:layout_width="match_parent"
+                        android:layout_height="1dp"
+                        android:layout_marginStart="72dp"
+                        android:background="?attr/dashboard_divider"
+                        android:focusable="false" />
+
+                    <LinearLayout
+                        android:id="@+id/zoom_levels_button"
+                        android:layout_width="match_parent"
+                        android:layout_height="@dimen/bottom_sheet_large_list_item_height"
+                        android:background="?attr/selectableItemBackground"
+                        android:gravity="center_vertical"
+                        android:orientation="horizontal">
+
+                        <androidx.appcompat.widget.AppCompatImageView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:layout_margin="@dimen/content_padding"
+                            android:src="@drawable/ic_action_layers"
+                            app:tint="?attr/default_icon_color" />
+
+                        <TextView
+                            android:layout_width="0dp"
+                            android:layout_height="wrap_content"
+                            android:layout_weight="1"
+                            android:paddingHorizontal="@dimen/content_padding"
+                            android:text="@string/shared_string_zoom_levels"
+                            android:textColor="?android:textColorPrimary"
+                            android:textSize="@dimen/default_list_text_size"
+                            android:textStyle="normal" />
+
+                        <TextView
+                            android:id="@+id/zoom_value"
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:gravity="end"
+                            android:paddingHorizontal="@dimen/content_padding"
+                            android:textColor="?android:textColorSecondary"
+                            android:textSize="@dimen/default_list_text_size"
+                            tools:text="25%" />
+
+                    </LinearLayout>
+
+                    <include layout="@layout/card_bottom_divider" />
+
+                </LinearLayout>
+
+            </LinearLayout>
+
+            <View
+                android:id="@+id/bottom_empty_space"
+                android:layout_width="match_parent"
+                android:layout_height="0dp"
+                android:layout_weight="1"
+                android:focusable="false"
+                android:minHeight="@dimen/toolbar_height" />
+
+        </LinearLayout>
+
+    </LinearLayout>
+
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 923fb4c9bee..5f4d8dc3060 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -17,7 +17,7 @@
     <string name="shared_string_map_center">Map center</string>
     <string name="choose_location_on_map">Choose a location on the map.</string>
     <string name="popular_places">Popular places</string>
-    <string name="layer_coordinates_grid">Coordinates Grid</string>
+    <string name="layer_coordinates_grid">Coordinates grid</string>
     <string name="show_list">Show list</string>
     <string name="save_favorite_default_appearance">Apply changes to the existing points in the folder or only to new ones?</string>
     <string name="original_color_description">Each point would keep its own color.</string>
diff --git a/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java b/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
index b558ab46ab6..389b2a35627 100644
--- a/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
+++ b/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
@@ -49,7 +49,7 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 
 	protected void updateNightMode() {
 		nightMode = isNightMode(isUsedOnMap());
-		themedInflater = UiUtilities.getInflater(getContext(), nightMode);
+		themedInflater = UiUtilities.getInflater(requireContext(), nightMode);
 	}
 
 	public boolean isNightMode() {
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
index 524100b6bbf..1492cdb38ed 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
@@ -215,7 +215,7 @@ private void createLayersItems(@NonNull List<RenderingRuleProperty> customRules,
 				.setTitleId(R.string.layer_coordinates_grid, activity)
 				.setSelected(selected)
 				.setColor(app, selected ? R.color.osmand_orange : INVALID_ID)
-				.setIcon(getCoordinatesGridIcon(selected))
+				.setIcon(CoordinatesGridController.getStateIcon(selected))
 				.setSecondaryIcon(R.drawable.ic_action_additional_option)
 				.setItemDeleteAction(settings.SHOW_COORDINATES_GRID)
 				.setListener(listener));
diff --git a/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridController.java b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridController.java
new file mode 100644
index 00000000000..f4712a7f194
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridController.java
@@ -0,0 +1,169 @@
+package net.osmand.plus.configmap;
+
+import static net.osmand.plus.utils.ColorUtilities.getPrimaryTextColor;
+
+import android.view.View;
+
+import androidx.annotation.ColorInt;
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.base.containers.Limits;
+import net.osmand.plus.base.dialog.BaseDialogController;
+import net.osmand.plus.base.dialog.DialogManager;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.settings.enums.GridFormat;
+import net.osmand.plus.widgets.popup.PopUpMenu;
+import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
+import net.osmand.plus.widgets.popup.PopUpMenuItem;
+import net.osmand.plus.widgets.popup.PopUpMenuWidthMode;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class CoordinatesGridController extends BaseDialogController {
+
+	private static final String PROCESS_ID = "configure_coordinates_grid";
+
+	private final OsmandSettings settings;
+	private ICoordinatesGridScreen screen;
+
+	/**
+	 * If true, the controller remains active when the zoom levels screen opens
+	 */
+	private boolean keepActive;
+
+	public void bindScreen(@NonNull ICoordinatesGridScreen screen) {
+		this.screen = screen;
+		keepActive = false;
+	}
+
+	public CoordinatesGridController(@NonNull OsmandApplication app) {
+		super(app);
+		settings = app.getSettings();
+	}
+
+	@NonNull
+	@Override
+	public String getProcessId() {
+		return PROCESS_ID;
+	}
+
+	@NonNull
+	public String getSelectedFormatName() {
+		GridFormat gridFormat = getGridFormat();
+		return gridFormat.getTitle(app);
+	}
+
+	public void onFormatSelectorClicked(@NonNull View anchorView,
+	                                    @ColorInt int activeColor, boolean nightMode) {
+		GridFormat gridFormat = getGridFormat();
+		List<PopUpMenuItem> items = new ArrayList<>();
+		for (GridFormat format : GridFormat.values()) {
+			items.add(new PopUpMenuItem.Builder(app)
+					.setTitle(format.getTitle(app))
+					.showTopDivider(format == GridFormat.UTM)
+					.setTitleColor(getPrimaryTextColor(app, nightMode))
+					.setSelected(gridFormat == format)
+					.showCompoundBtn(activeColor)
+					.setTag(format)
+					.create()
+			);
+		}
+		PopUpMenuDisplayData data = new PopUpMenuDisplayData();
+		data.widthMode = PopUpMenuWidthMode.STANDARD;
+		data.anchorView = anchorView;
+		data.menuItems = items;
+		data.nightMode = nightMode;
+		data.onItemClickListener = item -> onSelectFormat((GridFormat) item.getTag());
+		PopUpMenu.show(data);
+	}
+
+	private void onSelectFormat(@NonNull GridFormat format) {
+		setGridFormat(format);
+		if (screen != null) {
+			screen.updateFormatButton();
+		}
+	}
+
+	@NonNull
+	public String getFormattedZoomLevels() {
+		Limits<Integer> zoomLevels = getZoomLevels();
+		String min = String.valueOf(zoomLevels.min());
+		String max = String.valueOf(zoomLevels.max());
+		return getString(R.string.ltr_or_rtl_combine_via_dash, min, max);
+	}
+
+	public void onZoomLevelsClicked(@NonNull MapActivity activity) {
+		keepActive = true;
+		GridZoomLevelsController.showDialog(activity);
+	}
+
+	public boolean isEnabled() {
+		return settings.SHOW_COORDINATES_GRID.get();
+	}
+
+	public void setEnabled(boolean enabled) {
+		settings.SHOW_COORDINATES_GRID.set(enabled);
+	}
+
+	@NonNull
+	public GridFormat getGridFormat() {
+		return settings.COORDINATE_GRID_FORMAT.get();
+	}
+
+	public void setGridFormat(@Nullable GridFormat format) {
+		settings.COORDINATE_GRID_FORMAT.set(format);
+	}
+
+	@NonNull
+	public Limits<Integer> getZoomLevels() {
+		int min = settings.COORDINATE_GRID_MIN_ZOOM.get();
+		int max = settings.COORDINATE_GRID_MAX_ZOOM.get();
+		return new Limits<>(min, max);
+	}
+
+	@Override
+	public void finishProcessIfNeeded(@Nullable FragmentActivity activity) {
+		if (!keepActive) {
+			super.finishProcessIfNeeded(activity);
+		}
+		screen = null;
+	}
+
+	@DrawableRes
+	public static int getStateIcon(boolean selected) {
+		return selected ?
+				R.drawable.ic_action_world_globe :
+				R.drawable.ic_action_coordinates_grid_disabled;
+	}
+
+	@NonNull
+	public static CoordinatesGridController getOrCreateInstance(@NonNull OsmandApplication app) {
+		CoordinatesGridController controller = getExistedInstance(app);
+		return controller != null ? controller : new CoordinatesGridController(app);
+	}
+
+	@Nullable
+	public static CoordinatesGridController getExistedInstance(@NonNull OsmandApplication app) {
+		DialogManager dialogManager = app.getDialogManager();
+		return (CoordinatesGridController) dialogManager.findController(PROCESS_ID);
+	}
+
+	public static void showDialog(@NonNull FragmentActivity activity) {
+		OsmandApplication app = (OsmandApplication) activity.getApplicationContext();
+		CoordinatesGridController controller = getOrCreateInstance(app);
+
+		DialogManager dialogManager = app.getDialogManager();
+		dialogManager.register(controller.getProcessId(), controller);
+
+		FragmentManager manager = activity.getSupportFragmentManager();
+		CoordinatesGridFragment.showInstance(manager);
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
index 5c4c954d57d..cd54a2f07ef 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
@@ -1,28 +1,173 @@
 package net.osmand.plus.configmap;
 
+import android.app.Activity;
+import android.graphics.drawable.Drawable;
 import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.CompoundButton;
+import android.widget.ImageView;
+import android.widget.TextView;
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
+import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
 
 import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.base.BaseOsmAndFragment;
+import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
 
-public class CoordinatesGridFragment extends BaseOsmAndFragment {
+public class CoordinatesGridFragment extends BaseOsmAndFragment implements ICoordinatesGridScreen {
 
 	public static final String TAG = CoordinatesGridFragment.class.getSimpleName();
 
+	private View view;
+	private int profileColor;
+
+	private CoordinatesGridController controller;
+
+	@Override
+	public void onCreate(@Nullable Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		controller = CoordinatesGridController.getExistedInstance(app);
+		if (controller != null) {
+			controller.bindScreen(this);
+		} else {
+			dismiss();
+		}
+	}
+
 	@Nullable
 	@Override
 	public View onCreateView(@NonNull LayoutInflater inflater,
 	                         @Nullable ViewGroup container,
 	                         @Nullable Bundle savedInstanceState) {
-		return inflate(R.layout.fragment_coordinates_grid, container);
+		updateNightMode();
+		view = inflate(R.layout.fragment_coordinates_grid, container);
+		profileColor = settings.getApplicationMode().getProfileColor(nightMode);
+		showHideTopShadow();
+
+		setupMainToggle();
+		setupFormatButton();
+		setupZoomLevelsButton();
+		return view;
+	}
+
+	private void showHideTopShadow() {
+		boolean portrait = AndroidUiHelper.isOrientationPortrait(requireActivity());
+		AndroidUiHelper.updateVisibility(view.findViewById(R.id.shadow_on_map), portrait);
+	}
+
+	private void setupMainToggle() {
+		View button = view.findViewById(R.id.main_toggle);
+		boolean enabled = controller.isEnabled();
+
+		TextView tvTitle = button.findViewById(R.id.title_tv);
+		tvTitle.setText(R.string.layer_coordinates_grid);
+		updateMainToggle();
+
+		CompoundButton cb = button.findViewById(R.id.switch_compat);
+		cb.setChecked(enabled);
+		cb.setVisibility(View.VISIBLE);
+		UiUtilities.setupCompoundButton(nightMode, profileColor, cb);
+
+		cb.setOnCheckedChangeListener((buttonView, isChecked) -> {
+			controller.setEnabled(isChecked);
+			updateMainToggle();
+			updateScreenMode(isChecked);
+		});
+
+		button.setOnClickListener(v -> {
+			boolean newState = !cb.isChecked();
+			cb.setChecked(newState);
+		});
+
+		updateScreenMode(enabled);
+		setupSelectableBackground(button);
+	}
+
+	private void updateMainToggle() {
+		boolean enabled = controller.isEnabled();
+		View button = view.findViewById(R.id.main_toggle);
+		int defIconColor = ColorUtilities.getDefaultIconColor(app, nightMode);
+
+		ImageView ivIcon = button.findViewById(R.id.icon_iv);
+		ivIcon.setImageResource(CoordinatesGridController.getStateIcon(enabled));
+		ivIcon.setColorFilter(enabled ? profileColor : defIconColor);
+
+		TextView tvSummary = button.findViewById(R.id.state_tv);
+		tvSummary.setText(enabled ? R.string.shared_string_on : R.string.shared_string_off);
+	}
+
+	private void setupFormatButton() {
+		View button = view.findViewById(R.id.format_button);
+		View selector = button.findViewById(R.id.format_selector);
+		selector.setOnClickListener(v -> controller.onFormatSelectorClicked(selector, profileColor, nightMode));
+		updateFormatButton();
+	}
+
+	@Override
+	public void updateFormatButton() {
+		View button = view.findViewById(R.id.format_button);
+		TextView tvFormatValue = button.findViewById(R.id.format_value);
+		tvFormatValue.setText(controller.getSelectedFormatName());
+	}
+
+	private void setupZoomLevelsButton() {
+		View button = view.findViewById(R.id.zoom_levels_button);
+		updateZoomLevelsButton();
+		button.setOnClickListener(v -> {
+			FragmentActivity activity = getActivity();
+			if (activity instanceof MapActivity mapActivity) {
+				mapActivity.getDashboard().hideDashboard(); // todo
+				controller.onZoomLevelsClicked(mapActivity);
+			}
+		});
+		setupSelectableBackground(button);
+	}
+
+	private void updateZoomLevelsButton() {
+		View button = view.findViewById(R.id.zoom_levels_button);
+		TextView tvZoomValue = button.findViewById(R.id.zoom_value);
+		tvZoomValue.setText(controller.getFormattedZoomLevels());
+	}
+
+	private void updateScreenMode(boolean enabled) {
+		AndroidUiHelper.updateVisibility(view.findViewById(R.id.content_container), enabled);
+		AndroidUiHelper.updateVisibility(view.findViewById(R.id.titleBottomDivider), !enabled);
+	}
+
+	private void setupSelectableBackground(@NonNull View view) {
+		Drawable background = UiUtilities.getColoredSelectableDrawable(app, profileColor, 0.3f);
+		AndroidUtils.setBackground(view, background);
+	}
+
+	@Override
+	public void onDestroy() {
+		super.onDestroy();
+		controller.finishProcessIfNeeded(getActivity());
+	}
+
+	private void dismiss() {
+		MapActivity mapActivity = getMapActivity();
+		if (mapActivity != null) {
+			mapActivity.getDashboard().onBackPressed();
+		}
+	}
+
+	@Nullable
+	private MapActivity getMapActivity() {
+		Activity activity = getActivity();
+		if (activity instanceof MapActivity && !activity.isFinishing()) {
+			return (MapActivity) activity;
+		}
+		return null;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/configmap/GridZoomLevelsController.java b/OsmAnd/src/net/osmand/plus/configmap/GridZoomLevelsController.java
index 8b491b4d0c7..8b3d1826b6a 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/GridZoomLevelsController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/GridZoomLevelsController.java
@@ -20,9 +20,10 @@ public class GridZoomLevelsController extends ZoomLevelsController {
 
 	private final CommonPreference<Integer> minZoomPreference;
 	private final CommonPreference<Integer> maxZoomPreference;
+	private boolean applyChanges = false;
 
 	public GridZoomLevelsController(@NonNull OsmandApplication app) {
-		super(app, createInitialLimits(app));
+		super(app, createInitialLimits(app), new Limits<>(MIN_ZOOM, MAX_ZOOM));
 		OsmandSettings settings = app.getSettings();
 		this.minZoomPreference = settings.COORDINATE_GRID_MIN_ZOOM;
 		this.maxZoomPreference = settings.COORDINATE_GRID_MAX_ZOOM;
@@ -30,20 +31,34 @@ public GridZoomLevelsController(@NonNull OsmandApplication app) {
 
 	@Override
 	public void onCloseScreen(@NonNull MapActivity activity) {
+		setSavedZoomLimits(applyChanges ? selectedLimits : initialLimits);
+
 		activity.getSupportFragmentManager().popBackStack();
 		activity.getDashboard().setDashboardVisibility(true, COORDINATE_GRID, false);
 	}
 
+	@Override
+	public void onResetToDefault() {
+		minZoomPreference.resetToDefault();
+		maxZoomPreference.resetToDefault();
+		selectedLimits = getSavedZoomLimits();
+	}
+
 	@Override
 	public void onApplyChanges() {
-		minZoomPreference.set(selectedLimits.min());
-		maxZoomPreference.set(selectedLimits.max());
+		applyChanges = true;
+		selectedLimits = getSavedZoomLimits();
+	}
+
+	protected void setSavedZoomLimits(@NonNull Limits<Integer> limits) {
+		minZoomPreference.set(limits.min());
+		maxZoomPreference.set(limits.max());
 	}
 
 	@Override
-	public void onResetToDefault() {
-		minZoomPreference.resetToDefault();
-		maxZoomPreference.resetToDefault();
+	@NonNull
+	protected Limits<Integer> getSavedZoomLimits() {
+		return new Limits<>(minZoomPreference.get(), maxZoomPreference.get());
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ICoordinatesGridScreen.java b/OsmAnd/src/net/osmand/plus/configmap/ICoordinatesGridScreen.java
new file mode 100644
index 00000000000..e1fc1316b07
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/configmap/ICoordinatesGridScreen.java
@@ -0,0 +1,5 @@
+package net.osmand.plus.configmap;
+
+public interface ICoordinatesGridScreen {
+	void updateFormatButton();
+}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/MapLayerMenuListener.java b/OsmAnd/src/net/osmand/plus/configmap/MapLayerMenuListener.java
index a5cd3a75a7c..dfaf0ab7ab4 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/MapLayerMenuListener.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/MapLayerMenuListener.java
@@ -111,7 +111,7 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter, @Nu
 			settings.SHOW_BORDERS_OF_DOWNLOADED_MAPS.set(isChecked);
 		} else if (itemId == R.string.layer_coordinates_grid) {
 			settings.SHOW_COORDINATES_GRID.set(isChecked);
-			item.setIcon(ConfigureMapMenu.getCoordinatesGridIcon(isChecked));
+			item.setIcon(CoordinatesGridController.getStateIcon(isChecked));
 			item.setColor(app, isChecked ? R.color.osmand_orange : ContextMenuItem.INVALID_ID);
 		}
 		if (uiAdapter != null) {
diff --git a/OsmAnd/src/net/osmand/plus/configmap/TerrainZoomLevelsController.java b/OsmAnd/src/net/osmand/plus/configmap/TerrainZoomLevelsController.java
index dbbc482bb67..37217298932 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/TerrainZoomLevelsController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/TerrainZoomLevelsController.java
@@ -25,7 +25,7 @@ public TerrainZoomLevelsController(@NonNull OsmandApplication app,
 
 	@Override
 	public void onCloseScreen(@NonNull MapActivity activity) {
-		setTerrainZoomLimits(applyChanges ? selectedLimits : initialLimits);
+		setSavedZoomLimits(applyChanges ? selectedLimits : initialLimits);
 
 		activity.getSupportFragmentManager().popBackStack();
 		activity.getDashboard().setDashboardVisibility(true, TERRAIN, false);
@@ -34,27 +34,23 @@ public void onCloseScreen(@NonNull MapActivity activity) {
 	@Override
 	public void onResetToDefault() {
 		plugin.resetZoomLevelsToDefault();
-		selectedLimits = getSavedTerrainZoomLimits();
+		selectedLimits = getSavedZoomLimits();
 	}
 
 	@Override
 	public void onApplyChanges() {
 		applyChanges = true;
-		selectedLimits = getSavedTerrainZoomLimits();
+		selectedLimits = getSavedZoomLimits();
 	}
 
 	@Override
-	public void setSelectedLimits(float min, float max) {
-		super.setSelectedLimits(min, max);
-		setTerrainZoomLimits(selectedLimits);
-	}
-
-	private void setTerrainZoomLimits(@NonNull Limits<Integer> limits) {
+	protected void setSavedZoomLimits(@NonNull Limits<Integer> limits) {
 		plugin.setTerrainZoomValues(limits.min(), limits.max(), plugin.getTerrainMode());
 	}
 
+	@Override
 	@NonNull
-	private Limits<Integer> getSavedTerrainZoomLimits() {
+	protected Limits<Integer> getSavedZoomLimits() {
 		return new Limits<>(plugin.getTerrainMinZoom(), plugin.getTerrainMaxZoom());
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsController.java b/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsController.java
index e1d093ad7f2..48b028f83d5 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsController.java
@@ -18,11 +18,6 @@ public abstract class ZoomLevelsController extends BaseDialogController {
 	protected final Limits<Integer> initialLimits;
 	protected Limits<Integer> selectedLimits;
 
-	public ZoomLevelsController(@NonNull OsmandApplication app,
-	                            @NonNull Limits<Integer> initialLimits) {
-		this(app, initialLimits, initialLimits);
-	}
-
 	public ZoomLevelsController(@NonNull OsmandApplication app,
 	                            @NonNull Limits<Integer> initialLimits,
 	                            @NonNull Limits<Integer> supportedLimits) {
@@ -45,11 +40,6 @@ public String getDialogTitle() {
 		return getString(R.string.shared_string_zoom_levels);
 	}
 
-	@NonNull
-	public String getDialogSummary() {
-		return app.getString(R.string.terrain_slider_description);
-	}
-
 	public abstract void onApplyChanges();
 
 	public abstract void onResetToDefault();
@@ -72,8 +62,14 @@ public void setSelectedLimits(float min, float max) {
 		int clampedMin = (int) Math.max(supportedLimits.min(), Math.min(supportedLimits.max(), min));
 		int clampedMax = (int) Math.max(supportedLimits.min(), Math.min(supportedLimits.max(), max));
 		selectedLimits = new Limits<>(clampedMin, clampedMax);
+		setSavedZoomLimits(selectedLimits);
 	}
 
+	protected abstract void setSavedZoomLimits(@NonNull Limits<Integer> limits);
+
+	@NonNull
+	protected abstract Limits<Integer> getSavedZoomLimits();
+
 	@Nullable
 	public static ZoomLevelsController getExistedInstance(@NonNull OsmandApplication app) {
 		DialogManager dialogManager = app.getDialogManager();
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsFragment.java b/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsFragment.java
index df432a63a82..cef03c80734 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ZoomLevelsFragment.java
@@ -102,6 +102,12 @@ protected void applyChanges() {
 		controller.onApplyChanges();
 	}
 
+	@Override
+	public void onDestroy() {
+		super.onDestroy();
+		controller.finishProcessIfNeeded(getActivity());
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			manager.beginTransaction()
diff --git a/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java b/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
index afed55f9149..fd6fc5e1264 100644
--- a/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
+++ b/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
@@ -44,7 +44,7 @@
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.configmap.ConfigureMapFragment;
-import net.osmand.plus.configmap.CoordinatesGridFragment;
+import net.osmand.plus.configmap.CoordinatesGridController;
 import net.osmand.plus.configmap.routes.MapRoutesFragment;
 import net.osmand.plus.configmap.routes.RenderingClassFragment;
 import net.osmand.plus.configmap.routes.RouteLayersHelper;
@@ -584,7 +584,7 @@ public void setDashboardVisibility(boolean visible, DashboardType type, boolean
 						RenderingClassFragment.showInstance(mapActivity, renderingClass);
 					}
 				} else if (isCurrentType(COORDINATE_GRID)) {
-					CoordinatesGridFragment.showInstance(mapActivity.getSupportFragmentManager());
+					CoordinatesGridController.showDialog(mapActivity);
 				}
 				scrollView.setVisibility(View.VISIBLE);
 				listViewLayout.setVisibility(View.GONE);
@@ -650,7 +650,8 @@ private void applyDayNightMode() {
 			listView.setBackgroundColor(backgroundColor);
 		}
 		if (isNoCurrentType(CONFIGURE_MAP, CONTOUR_LINES, TERRAIN, MAP_ROUTES, RENDERING_CLASS, TRAVEL_ROUTES,
-				OSM_NOTES, WIKIPEDIA, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH)) {
+				OSM_NOTES, WIKIPEDIA, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH,
+				COORDINATE_GRID)) {
 			listView.setDivider(dividerDrawable);
 			listView.setDividerHeight(AndroidUtils.dpToPx(mapActivity, 1f));
 		} else {
@@ -988,7 +989,8 @@ public boolean isNoCurrentType(@NonNull DashboardType... types) {
 	public boolean isCurrentTypeHasIndividualFragment() {
 		return isCurrentType(
 				CONFIGURE_MAP, MAPILLARY, TERRAIN, RELIEF_3D, MAP_ROUTES, RENDERING_CLASS,
-				TRAVEL_ROUTES, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH
+				TRAVEL_ROUTES, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS,
+				NAUTICAL_DEPTH, COORDINATE_GRID
 		);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/srtm/TerrainFragment.java b/OsmAnd/src/net/osmand/plus/plugins/srtm/TerrainFragment.java
index 2f9073d4fcf..be48486229a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/srtm/TerrainFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/srtm/TerrainFragment.java
@@ -109,7 +109,7 @@ private MapActivity getMapActivity() {
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
-		srtmPlugin = PluginsHelper.getPlugin(SRTMPlugin.class);
+		srtmPlugin = PluginsHelper.requirePlugin(SRTMPlugin.class);
 		terrainEnabled = srtmPlugin.isTerrainLayerEnabled();
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index b6d502089a5..c21ed764c79 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -3326,6 +3326,15 @@ public boolean isSupportSystemTheme() {
 	public final CommonPreference<Boolean> SHOW_COORDINATES_GRID =
 			new BooleanPreference(this, "show_coordinates_grid", false).makeProfile();
 
+	public final OsmandPreference<GridFormat> COORDINATE_GRID_FORMAT =
+			new EnumStringPreference<>(this, "coordinates_grid_format", GridFormat.DMS, GridFormat.values()) {
+				@Override
+				public GridFormat getProfileDefaultValue(@Nullable ApplicationMode mode) {
+					int formatId = COORDINATES_FORMAT.getModeValue(mode);
+					return GridFormat.valueOf(formatId);
+				}
+			}.makeProfile();
+
 	public final CommonPreference<Integer> COORDINATE_GRID_MIN_ZOOM =
 			new IntPreference(this, "coordinate_grid_min_zoom", GridZoomLevelsController.MIN_ZOOM).makeProfile();
 
diff --git a/OsmAnd/src/net/osmand/plus/settings/enums/GridFormat.java b/OsmAnd/src/net/osmand/plus/settings/enums/GridFormat.java
new file mode 100644
index 00000000000..a5af9c1d71c
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/enums/GridFormat.java
@@ -0,0 +1,63 @@
+package net.osmand.plus.settings.enums;
+
+import android.content.Context;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.LocationConvert;
+import net.osmand.core.jni.GridConfiguration.Format;
+import net.osmand.core.jni.GridConfiguration.Projection;
+import net.osmand.plus.R;
+
+public enum GridFormat {
+
+	DMS(LocationConvert.FORMAT_SECONDS, R.string.dd_mm_ss_format),
+	DM(LocationConvert.FORMAT_MINUTES, R.string.dd_mm_mmm_format),
+	DIGITAL(LocationConvert.FORMAT_DEGREES, R.string.dd_ddddd_format),
+	UTM(LocationConvert.UTM_FORMAT, R.string.navigate_point_format_utm);
+
+	private final int id;
+	private final int titleId;
+
+	GridFormat(int id, int titleId) {
+		this.id = id;
+		this.titleId = titleId;
+	}
+
+	@NonNull
+	public String getTitle(@NonNull Context context) {
+		return context.getString(titleId);
+	}
+
+	@NonNull
+	public Projection getProjection() {
+		return switch (this) {
+			case DMS, DM, DIGITAL -> Projection.WGS84;
+			case UTM -> Projection.UTM;
+			default -> throw new IllegalArgumentException("Unknown GridFormat: " + this);
+		};
+	}
+
+	@Nullable
+	public Format getFormat() {
+		return switch (this) {
+			case DMS -> Format.DMS;
+			case DM -> Format.DM;
+			case DIGITAL -> Format.Decimal;
+			case UTM -> Format.values()[0];
+			default -> throw new IllegalArgumentException("Unknown GridFormat: " + this);
+		};
+	}
+
+	@NonNull
+	public static GridFormat valueOf(int formatId) {
+		for (GridFormat format : values()) {
+			if (format.id == formatId) {
+				return format;
+			}
+		}
+		return values()[0];
+	}
+}
+
diff --git a/OsmAnd/src/net/osmand/plus/transport/TransportLinesFragment.java b/OsmAnd/src/net/osmand/plus/transport/TransportLinesFragment.java
index 89515a338bd..7a18fde18f0 100644
--- a/OsmAnd/src/net/osmand/plus/transport/TransportLinesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/transport/TransportLinesFragment.java
@@ -37,7 +37,6 @@ public class TransportLinesFragment extends BaseOsmAndFragment {
 	private TransportLinesMenu menu;
 
 	private View view;
-	private LayoutInflater themedInflater;
 	private boolean isShowAnyTransport;
 
 	@Override
@@ -53,8 +52,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 		isShowAnyTransport = menu.isShowAnyTransport();
 
 		updateNightMode();
-		themedInflater = UiUtilities.getInflater(getContext(), nightMode);
-		view = themedInflater.inflate(R.layout.fragment_transport_lines, container, false);
+		view = inflate(R.layout.fragment_transport_lines, container);
 
 		setupMainToggle();
 		setupTransportStopsToggle();
diff --git a/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java b/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
index 9b3a882b470..e0a8bf18587 100644
--- a/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
+++ b/OsmAnd/src/net/osmand/plus/views/OsmandMapTileView.java
@@ -70,6 +70,7 @@
 import net.osmand.plus.render.UpdateRendererAsyncTask;
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.enums.CompassMode;
+import net.osmand.plus.settings.enums.GridFormat;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.NativeUtilities;
 import net.osmand.plus.utils.OsmAndFormatter;
@@ -128,7 +129,8 @@ public class OsmandMapTileView implements IMapDownloaderCallback {
 	private StateChangedListener<Boolean> disableMapLayersListener;
 
 	private StateChangedListener<Boolean> showCoordinatesGridListener;
-	private StateChangedListener<Object> gridFormatListener;
+	private StateChangedListener<GridFormat> gridFormatListener;
+	private StateChangedListener<Integer> gridZoomListener;
 
 	private View view;
 	private final Context ctx;
@@ -320,10 +322,13 @@ public void init(@NonNull Context ctx, int width, int height) {
 		// Grid settings listeners
 		showCoordinatesGridListener = change -> applyGridSettings();
 		gridFormatListener = change -> applyGridSettings();
+		gridZoomListener = change -> applyGridSettings();
 
 		// Register Grid settings listeners
 		settings.SHOW_COORDINATES_GRID.addListener(showCoordinatesGridListener);
-//		settings.COORDINATE_GRID_FORMAT.addListener(gridFormatListener);
+		settings.COORDINATE_GRID_FORMAT.addListener(gridFormatListener);
+		settings.COORDINATE_GRID_MIN_ZOOM.addListener(gridZoomListener);
+		settings.COORDINATE_GRID_MAX_ZOOM.addListener(gridZoomListener);
 	}
 
 	public void updateDisplayMetrics(DisplayMetrics dm, int width, int height) {
@@ -657,6 +662,7 @@ public void changeZoomManually(int zoomStep, boolean adjustTiltAngle) {
 		if (app.accessibilityEnabled()) {
 			app.showShortToastMessage(app.getString(R.string.zoomIs) + " " + zoom.getBaseZoom());
 		}
+		applyGridSettings(); // todo
 
 		for (ManualZoomListener listener : manualZoomListeners) {
 			listener.onManualZoomChange();
@@ -2571,58 +2577,55 @@ public void applyGridSettings() {
 	}
 
 	public void applyGridSettings(MapRendererView mapRenderer) {
-		OsmandDevelopmentPlugin plugin = PluginsHelper.getPlugin(OsmandDevelopmentPlugin.class);
-		if (plugin != null) {
-			float textScale = app.getSettings().TEXT_SCALE.get() * getDensity();
-			boolean show = settings.SHOW_COORDINATES_GRID.get();
-			boolean useUTM = plugin.SHOW_UTM_GRID.get();
-			boolean useMercator = plugin.SHOW_MERCATOR_GRID.get();
-			boolean useDMS = plugin.SHOW_DMS_GRID.get();
-			boolean useDM = plugin.SHOW_DM_GRID.get();
-			FColorARGB color = new FColorARGB(1.0f, 0.1f, 0.0f, 0.8f);
-			GridConfiguration gridConfiguration = new GridConfiguration();
-			gridConfiguration.setPrimaryGrid(show);
-			gridConfiguration.setPrimaryProjection(Projection.WGS84);
-			gridConfiguration.setPrimaryColor(color);
-			gridConfiguration.setSecondaryGrid(show);
-			gridConfiguration.setSecondaryProjection(useMercator ? Projection.Mercator
-					: (useUTM ? Projection.UTM : Projection.WGS84));
-			gridConfiguration.setSecondaryFormat(useDM ? GridConfiguration.Format.DM
-					: (useDMS ? GridConfiguration.Format.DMS : GridConfiguration.Format.Decimal));
-			gridConfiguration.setSecondaryColor(color);
-			mapRenderer.setGridConfiguration(gridConfiguration);
-			if (gridMarksProvider != null) {
-				mapRenderer.removeSymbolsProvider(gridMarksProvider);
-				gridMarksProvider = null;
-			}
-			if (show) {
-				gridMarksProvider = new GridMarksProvider();
-				FColorARGB haloColor = new FColorARGB(0.5f, 1.0f, 1.0f, 1.0f);
-				TextRasterizer.Style primaryMarksStyle = new TextRasterizer.Style();
-				primaryMarksStyle.setColor(new ColorARGB(color));
-				primaryMarksStyle.setHaloColor(new ColorARGB(haloColor));
-				primaryMarksStyle.setHaloRadius((int) (3.0f * textScale));
-				primaryMarksStyle.setSize(16.0f * textScale);
-				primaryMarksStyle.setBold(true);
-				primaryMarksStyle.setTextAlignment(TextRasterizer.Style.TextAlignment.Under);
-				gridMarksProvider.setPrimaryStyle(primaryMarksStyle, 2.0f * textScale);
-				gridMarksProvider.setPrimary(false, "Equator", "", "Prime meridian", "180th meridian");
-				TextRasterizer.Style secondaryMarksStyle = new TextRasterizer.Style();
-				secondaryMarksStyle.setColor(new ColorARGB(color));
-				secondaryMarksStyle.setHaloColor(new ColorARGB(haloColor));
-				secondaryMarksStyle.setHaloRadius((int) (3.0f * textScale));
-				secondaryMarksStyle.setSize(16.0f * textScale);
-				secondaryMarksStyle.setBold(true);
-				gridMarksProvider.setSecondaryStyle(secondaryMarksStyle, 2.0f * textScale);
-				if (useMercator) {
-					gridMarksProvider.setSecondary(true, "km", "km", "km", "km");
-				} else if (useUTM) {
-					gridMarksProvider.setSecondary(true, "", "", "", "");
-				} else {
-					gridMarksProvider.setSecondary(true, "N", "S", "E", "W");
-				}
-				mapRenderer.addSymbolsProvider(gridMarksProvider);
+		float textScale = app.getSettings().TEXT_SCALE.get() * getDensity();
+		int zoom = getZoom();
+		int minZoom = settings.COORDINATE_GRID_MIN_ZOOM.get();
+		int maxZoom = settings.COORDINATE_GRID_MAX_ZOOM.get();
+		boolean zoomPassed = zoom >= minZoom && zoom <= maxZoom;
+		boolean show = settings.SHOW_COORDINATES_GRID.get() && zoomPassed;
+		GridFormat gridFormat = settings.COORDINATE_GRID_FORMAT.get();
+		FColorARGB color = new FColorARGB(1.0f, 0.1f, 0.0f, 0.8f);
+		GridConfiguration gridConfiguration = new GridConfiguration();
+		gridConfiguration.setPrimaryGrid(show);
+		gridConfiguration.setPrimaryProjection(Projection.WGS84);
+		gridConfiguration.setPrimaryColor(color);
+		gridConfiguration.setSecondaryGrid(show);
+		gridConfiguration.setSecondaryProjection(gridFormat.getProjection());
+		gridConfiguration.setSecondaryFormat(gridFormat.getFormat());
+		gridConfiguration.setSecondaryColor(color);
+		mapRenderer.setGridConfiguration(gridConfiguration);
+		if (gridMarksProvider != null) {
+			mapRenderer.removeSymbolsProvider(gridMarksProvider);
+			gridMarksProvider = null;
+		}
+		if (show) {
+			gridMarksProvider = new GridMarksProvider();
+			FColorARGB haloColor = new FColorARGB(0.5f, 1.0f, 1.0f, 1.0f);
+			TextRasterizer.Style primaryMarksStyle = new TextRasterizer.Style();
+			primaryMarksStyle.setColor(new ColorARGB(color));
+			primaryMarksStyle.setHaloColor(new ColorARGB(haloColor));
+			primaryMarksStyle.setHaloRadius((int) (3.0f * textScale));
+			primaryMarksStyle.setSize(16.0f * textScale);
+			primaryMarksStyle.setBold(true);
+			primaryMarksStyle.setTextAlignment(TextRasterizer.Style.TextAlignment.Under);
+			gridMarksProvider.setPrimaryStyle(primaryMarksStyle, 2.0f * textScale);
+			gridMarksProvider.setPrimary(false, "Equator", "", "Prime meridian", "180th meridian");
+			TextRasterizer.Style secondaryMarksStyle = new TextRasterizer.Style();
+			secondaryMarksStyle.setColor(new ColorARGB(color));
+			secondaryMarksStyle.setHaloColor(new ColorARGB(haloColor));
+			secondaryMarksStyle.setHaloRadius((int) (3.0f * textScale));
+			secondaryMarksStyle.setSize(16.0f * textScale);
+			secondaryMarksStyle.setBold(true);
+			gridMarksProvider.setSecondaryStyle(secondaryMarksStyle, 2.0f * textScale);
+//			if (useMercator) {
+//				gridMarksProvider.setSecondary(true, "km", "km", "km", "km");
+//			} else
+			if (gridFormat.getProjection() == Projection.UTM) {
+				gridMarksProvider.setSecondary(true, "", "", "", "");
+			} else {
+				gridMarksProvider.setSecondary(true, "N", "S", "E", "W");
 			}
+			mapRenderer.addSymbolsProvider(gridMarksProvider);
 		}
 	}
 
