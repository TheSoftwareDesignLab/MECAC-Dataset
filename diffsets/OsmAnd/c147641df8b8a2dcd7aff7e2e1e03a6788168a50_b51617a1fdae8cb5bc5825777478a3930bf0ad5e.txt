diff --git a/OsmAnd/test/java/net/osmand/test/common/SystemDialogInteractions.java b/OsmAnd/test/java/net/osmand/test/common/SystemDialogInteractions.java
index 409c1204f4c..a1ebb84a642 100644
--- a/OsmAnd/test/java/net/osmand/test/common/SystemDialogInteractions.java
+++ b/OsmAnd/test/java/net/osmand/test/common/SystemDialogInteractions.java
@@ -13,13 +13,17 @@
 
 import androidx.annotation.IdRes;
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.test.espresso.NoMatchingViewException;
+import androidx.test.espresso.Root;
 import androidx.test.espresso.UiController;
 import androidx.test.espresso.ViewAction;
 import androidx.test.espresso.ViewAssertion;
+import androidx.test.espresso.ViewInteraction;
 import androidx.test.espresso.action.GeneralClickAction;
 import androidx.test.espresso.action.Press;
 import androidx.test.espresso.action.Tap;
+import androidx.test.espresso.matcher.RootMatchers;
 
 import org.hamcrest.Matcher;
 import org.hamcrest.Matchers;
@@ -90,14 +94,22 @@ public static <T extends View> T findDescendantOfType(View parent, Class<T> targ
 		return null;
 	}
 
-
 	public static void waitForAnyView(long timeoutMs, long pollIntervalMs, Matcher<View>... matchers) {
+		waitForAnyView(timeoutMs, pollIntervalMs, null, matchers);
+	}
+
+	public static void waitForAnyView(long timeoutMs, long pollIntervalMs,
+	                                  @Nullable Matcher<Root> inRoot, Matcher<View>... matchers) {
 		long startTime = System.currentTimeMillis();
 
 		while (System.currentTimeMillis() - startTime < timeoutMs) {
 			for (Matcher<View> matcher : matchers) {
 				try {
-					onView(matcher).check(matches(isDisplayed()));
+					ViewInteraction interaction = onView(matcher);
+					if (inRoot != null) {
+						interaction.inRoot(inRoot);
+					}
+					interaction.check(matches(isDisplayed()));
 					return; // One of the views is displayed
 				} catch (NoMatchingViewException | AssertionError e) {
 					// Ignore and try next
diff --git a/OsmAnd/test/java/net/osmand/test/ui/poi/EditPoiTypeSuggestionsTest.java b/OsmAnd/test/java/net/osmand/test/ui/poi/EditPoiTypeSuggestionsTest.java
index d1f2bd47107..eac9739ffd7 100644
--- a/OsmAnd/test/java/net/osmand/test/ui/poi/EditPoiTypeSuggestionsTest.java
+++ b/OsmAnd/test/java/net/osmand/test/ui/poi/EditPoiTypeSuggestionsTest.java
@@ -40,6 +40,8 @@
 
 import java.io.File;
 import java.io.IOException;
+import static org.hamcrest.Matchers.allOf;
+import java.util.EnumSet;
 import java.util.Locale;
 
 public class EditPoiTypeSuggestionsTest extends AndroidTest {
@@ -91,6 +93,8 @@ public void testPoiTypeSuggestions() throws InterruptedException {
 
 		//check: magasin de v
 		writeText(R.id.poiTypeEditText, "magasin de v");
+		waitForAnyView(1000, 10, RootMatchers.isPlatformPopup(), allOf(withText("Magasin de vélos"), isDisplayed()));
+//		Thread.sleep(100)
 		onView(withText("Magasin de vélos"))
 				.inRoot(RootMatchers.isPlatformPopup())
 				.check(ViewAssertions.matches(isDisplayed()));
@@ -98,6 +102,7 @@ public void testPoiTypeSuggestions() throws InterruptedException {
 		clearText(R.id.poiTypeEditText);
 		//check: magasin de ve
 		writeText(R.id.poiTypeEditText, "magasin de ve");
+		waitForAnyView(1000, 10, RootMatchers.isPlatformPopup(), allOf(withText("Magasin de vélos"), isDisplayed()));
 		onView(withText("Magasin de vélos"))
 				.inRoot(RootMatchers.isPlatformPopup())
 				.check(ViewAssertions.matches(isDisplayed()));
@@ -107,6 +112,7 @@ public void testPoiTypeSuggestions() throws InterruptedException {
 		//check: magasin de vé
 		replaceText(R.id.poiTypeEditText, "magasin de vé");
 		writeText(R.id.poiTypeEditText, "l");
+		waitForAnyView(1000, 10, RootMatchers.isPlatformPopup(), allOf(withText("Magasin de vélos"), isDisplayed()));
 		onView(withText("Magasin de vélos"))
 				.inRoot(RootMatchers.isPlatformPopup())
 				.check(ViewAssertions.matches(isDisplayed()));
