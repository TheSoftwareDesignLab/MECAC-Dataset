diff --git a/OsmAnd/src/net/osmand/plus/keyevent/InputDeviceHelper.java b/OsmAnd/src/net/osmand/plus/keyevent/InputDeviceHelper.java
index d39a2c6c76a..37d1ab56ca1 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/InputDeviceHelper.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/InputDeviceHelper.java
@@ -234,6 +234,10 @@ public InputDevicesCollection reloadInputDevicesCollection(int cacheId, @NonNull
 		return collection;
 	}
 
+	public void releaseInputDevicesCache(int cacheId) {
+		cachedDevicesCollections.remove(cacheId);
+	}
+
 	@NonNull
 	private List<InputDeviceProfile> loadCustomDevices(@NonNull ApplicationMode appMode) {
 		String json = settings.CUSTOM_EXTERNAL_INPUT_DEVICES.getModeValue(appMode);
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
index e6b6cb230cb..b66bfa37020 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
@@ -431,6 +431,15 @@ public void onPreferenceChanged(@NonNull String prefId) {
 		}
 	}
 
+	@Override
+	public void onDestroy() {
+		super.onDestroy();
+		if (!requireActivity().isChangingConfigurations()) {
+			InputDeviceHelper deviceHelper = app.getInputDeviceHelper();
+			deviceHelper.releaseInputDevicesCache(CUSTOMIZATION_CACHE_ID);
+		}
+	}
+
 	@Override
 	public void updateSetting(String prefId) {
 		if (settings.OSMAND_THEME.getId().equals(prefId)) {
