diff --git a/OsmAnd-java/src/main/java/net/osmand/osm/OsmRouteType.java b/OsmAnd-java/src/main/java/net/osmand/osm/OsmRouteType.java
index c22a7334777..79ce575116b 100644
--- a/OsmAnd-java/src/main/java/net/osmand/osm/OsmRouteType.java
+++ b/OsmAnd-java/src/main/java/net/osmand/osm/OsmRouteType.java
@@ -1,6 +1,6 @@
 package net.osmand.osm;
 
-import static net.osmand.osm.OsmRouteType.RenderingPropertyAttr.*;
+import static net.osmand.osm.RenderingPropertyAttr.*;
 
 import net.osmand.binary.BinaryMapDataObject;
 import net.osmand.binary.BinaryMapIndexReader;
@@ -448,18 +448,4 @@ private OsmRouteType reg() {
 			return osmRouteType;
 		}
 	}
-
-	protected static class RenderingPropertyAttr {
-		static final String HIKING_ROUTES = "hikingRoutesOSMC";
-		static final String CYCLE_ROUTES = "showCycleRoutes";
-		static final String MTB_ROUTES = "showMtbRoutes";
-		static final String ALPINE_HIKING = "alpineHiking";
-		static final String HORSE_ROUTES = "horseRoutes";
-		static final String PISTE_ROUTES = "pisteRoutes";
-		static final String WHITE_WATER_SPORTS = "whiteWaterSports";
-		static final String RUNNING_ROUTES = "showRunningRoutes";
-		static final String FITNESS_TRAILS = "showFitnessTrails";
-		static final String DIRTBIKE_ROUTES = "showDirtbikeTrails";
-		static final String CLIMBING_ROUTES = "showClimbingRoutes";
-	}
 }
diff --git a/OsmAnd-java/src/main/java/net/osmand/osm/RenderingPropertyAttr.java b/OsmAnd-java/src/main/java/net/osmand/osm/RenderingPropertyAttr.java
new file mode 100644
index 00000000000..0ee99e1255a
--- /dev/null
+++ b/OsmAnd-java/src/main/java/net/osmand/osm/RenderingPropertyAttr.java
@@ -0,0 +1,15 @@
+package net.osmand.osm;
+
+public class RenderingPropertyAttr {
+	public static final String HIKING_ROUTES = "hikingRoutesOSMC";
+	public static final String CYCLE_ROUTES = "showCycleRoutes";
+	public static final String MTB_ROUTES = "showMtbRoutes";
+	public static final String ALPINE_HIKING = "alpineHiking";
+	public static final String HORSE_ROUTES = "horseRoutes";
+	public static final String PISTE_ROUTES = "pisteRoutes";
+	public static final String WHITE_WATER_SPORTS = "whiteWaterSports";
+	public static final String RUNNING_ROUTES = "showRunningRoutes";
+	public static final String FITNESS_TRAILS = "showFitnessTrails";
+	public static final String DIRTBIKE_ROUTES = "showDirtbikeTrails";
+	public static final String CLIMBING_ROUTES = "showClimbingRoutes";
+}
diff --git a/OsmAnd-java/src/main/java/net/osmand/render/RenderingClass.java b/OsmAnd-java/src/main/java/net/osmand/render/RenderingClass.java
index ee995b45af2..13fbf03e101 100644
--- a/OsmAnd-java/src/main/java/net/osmand/render/RenderingClass.java
+++ b/OsmAnd-java/src/main/java/net/osmand/render/RenderingClass.java
@@ -2,28 +2,78 @@
 
 public class RenderingClass {
 
-	private final String name;
 	private final String title;
+	private final String description;
+	private final String category;
+	private final String legendObject;
+	private final String innerLegendObject;
+	private final String innerTitle;
+	private final String innerDescription;
+	private final String innerCategory;
+	private final String innerNames;
 	private final boolean enabledByDefault;
+	private final String name;
 
-	public RenderingClass(String name, String title, boolean enabledByDefault) {
-		this.name = name;
+	public RenderingClass(String title, String description, String category, String legendObject,
+			String innerLegendObject, String innerTitle, String innerDescription,
+			String innerCategory, String innerNames, boolean enabledByDefault, String name) {
 		this.title = title;
+		this.description = description;
+		this.category = category;
+		this.legendObject = legendObject;
+		this.innerLegendObject = innerLegendObject;
+		this.innerTitle = innerTitle;
+		this.innerDescription = innerDescription;
+		this.innerCategory = innerCategory;
+		this.innerNames = innerNames;
 		this.enabledByDefault = enabledByDefault;
-	}
-
-	public String getName() {
-		return name;
+		this.name = name;
 	}
 
 	public String getTitle() {
 		return title;
 	}
 
+	public String getDescription() {
+		return description;
+	}
+
+	public String getCategory() {
+		return category;
+	}
+
+	public String getLegendObject() {
+		return legendObject;
+	}
+
+	public String getInnerLegendObject() {
+		return innerLegendObject;
+	}
+
+	public String getInnerTitle() {
+		return innerTitle;
+	}
+
+	public String getInnerDescription() {
+		return innerDescription;
+	}
+
+	public String getInnerCategory() {
+		return innerCategory;
+	}
+
+	public String getInnerNames() {
+		return innerNames;
+	}
+
 	public boolean isEnabledByDefault() {
 		return enabledByDefault;
 	}
 
+	public String getName() {
+		return name;
+	}
+
 	@Override
 	public String toString() {
 		return name;
diff --git a/OsmAnd-java/src/main/java/net/osmand/render/RenderingRulesStorage.java b/OsmAnd-java/src/main/java/net/osmand/render/RenderingRulesStorage.java
index d6881497c9a..1c06f3828c2 100644
--- a/OsmAnd-java/src/main/java/net/osmand/render/RenderingRulesStorage.java
+++ b/OsmAnd-java/src/main/java/net/osmand/render/RenderingRulesStorage.java
@@ -177,6 +177,34 @@ public void mergeDependsOrAddon(RenderingRulesStorage depends) {
 				tagValueGlobalRules[i] = depends.tagValueGlobalRules[i];
 			}
 		}
+		for (Entry<String, RenderingClass> entry : depends.renderingClasses.entrySet()) {
+			String className = entry.getKey();
+			RenderingClass renderingClass = entry.getValue();
+
+			if (renderingClasses.containsKey(className)) {
+				RenderingClass existingClass = renderingClasses.get(className);
+				RenderingClass mergedClass = mergeRenderingClasses(existingClass, renderingClass);
+				renderingClasses.put(className, mergedClass);
+			} else {
+				renderingClasses.put(className, renderingClass);
+			}
+		}
+	}
+
+	private RenderingClass mergeRenderingClasses(RenderingClass existing, RenderingClass depends) {
+		return new RenderingClass(
+				existing.getTitle() != null ? existing.getTitle() : depends.getTitle(),
+				existing.getDescription() != null ? existing.getDescription() : depends.getDescription(),
+				existing.getCategory() != null ? existing.getCategory() : depends.getCategory(),
+				existing.getLegendObject() != null ? existing.getLegendObject() : depends.getLegendObject(),
+				existing.getInnerLegendObject() != null ? existing.getInnerLegendObject() : depends.getInnerLegendObject(),
+				existing.getInnerTitle() != null ? existing.getInnerTitle() : depends.getInnerTitle(),
+				existing.getInnerDescription() != null ? existing.getInnerDescription() : depends.getInnerDescription(),
+				existing.getInnerCategory() != null ? existing.getInnerCategory() : depends.getInnerCategory(),
+				existing.getInnerNames() != null ? existing.getInnerNames() : depends.getInnerNames(),
+				existing.isEnabledByDefault() || depends.isEnabledByDefault(),
+				existing.getName() != null ? existing.getName() : depends.getName()
+		);
 	}
 
 	public static String colorToString(int color) {
@@ -250,6 +278,7 @@ private class RenderingRulesHandler {
 		private final XmlPullParser parser;
 		private int state;
 		private Stack<RenderingRule> stack = new Stack<RenderingRule>();
+		private Stack<String> nodeNamesStack = new Stack<String>();
 		private final RenderingRulesStorageResolver resolver;
 		private final boolean addon;
 		private RenderingRulesStorage dependsStorage;
@@ -402,10 +431,7 @@ public void startElement(Map<String, String> attrsMap, String name) throws XmlPu
 			} else if ("renderer".equals(name)) { //$NON-NLS-1$
 				throw new XmlPullParserException("Rendering style is deprecated and no longer supported.");
 			} else if ("renderingClass".equals(name)) {
-				String title = attrsMap.get("title");
-				String className = attrsMap.get("name");
-				boolean enable = Boolean.parseBoolean(attrsMap.get("enable"));
-				renderingClasses.put(className, new RenderingClass(className, title, enable));
+				parseRenderingClass(attrsMap);
 			} else {
 				log.warn("Unknown tag : " + name); //$NON-NLS-1$
 			}
@@ -415,6 +441,83 @@ public void startElement(Map<String, String> attrsMap, String name) throws XmlPu
 			}
 		}
 
+		private void parseRenderingClass(Map<String, String> attrsMap) {
+			StringBuilder path = new StringBuilder();
+			if (!nodeNamesStack.isEmpty()) {
+				for (String nodeName : nodeNamesStack) {
+					path.append(nodeName);
+				}
+			}
+
+			String name = attrsMap.get("name");
+			String title = attrsMap.get("title");
+			boolean enable = Boolean.parseBoolean(attrsMap.get("enable"));
+			String description = attrsMap.get("description");
+			String category = attrsMap.get("category");
+			String legendObject = attrsMap.get("legend-object");
+			String innerLegendObject = attrsMap.get("inner-legend-object");
+			String innerTitle = attrsMap.get("inner-title");
+			String innerDescription = attrsMap.get("inner-description");
+			String innerCategory = attrsMap.get("inner-category");
+			String innerNames = attrsMap.get("inner-names");
+
+			path.append(name);
+
+			RenderingClass renderingClass = new RenderingClass(title, description, category, legendObject,
+					innerLegendObject, innerTitle, innerDescription, innerCategory, innerNames, enable, path.toString());
+
+			nodeNamesStack.push(name);
+			renderingClasses.put(renderingClass.getName(), renderingClass);
+
+			parseInnerRenderingClasses(renderingClass);
+		}
+
+		private void parseInnerRenderingClasses(RenderingClass parentClass) {
+			String innerNames = parentClass.getInnerNames();
+			if (innerNames != null && !innerNames.isEmpty()) {
+				List<String> classNames = new ArrayList<>();
+				String nextPart = innerNames;
+				int splitPosition = 1;
+
+				while (splitPosition > 0) {
+					if (!nextPart.isEmpty() && !nextPart.startsWith(",")) {
+						splitPosition = nextPart.indexOf(',');
+						String symbolClassName = (splitPosition > 0) ? nextPart.substring(0, splitPosition) : nextPart;
+						if (!symbolClassName.isEmpty()) {
+							classNames.add(symbolClassName);
+						}
+					} else {
+						log.error(String.format("'%s' contains an empty name for inner class definition", innerNames));
+						break;
+					}
+					if (splitPosition > 0) {
+						nextPart = nextPart.substring(splitPosition + 1);
+					}
+				}
+
+				String temp = "$class";
+				String path = parentClass.getName();
+				boolean enabled = parentClass.isEnabledByDefault();
+				String innerLegendObject = parentClass.getInnerLegendObject();
+				String innerTitle = parentClass.getInnerTitle();
+				String innerDescription = parentClass.getInnerDescription();
+				String innerCategory = parentClass.getInnerCategory();
+
+				for (String className : classNames) {
+					String classTitle = innerTitle != null ? innerTitle.replace(temp, className) : null;
+					String classDescription = innerDescription != null ? innerDescription.replace(temp, className) : null;
+					String classCategory = innerCategory != null ? innerCategory.replace(temp, className) : null;
+					String classLegendObject = innerLegendObject != null ? innerLegendObject.replace(temp, className) : null;
+
+					RenderingClass newClass = new RenderingClass(classTitle, classDescription,
+							classCategory, classLegendObject, "", "",
+							"", "", "", enabled,
+							path.toString() + "." + className);
+					renderingClasses.put(newClass.getName(), newClass);
+				}
+			}
+		}
+
 		protected boolean isCase(String name) {
 			return "filter".equals(name) || "case".equals(name);
 		}
@@ -456,6 +559,8 @@ public void endElement(String name) throws XmlPullParserException {
 				stack.pop();
 			} else if ("renderingAttribute".equals(name)) {
 				stack.pop();
+			} else if ("renderingClass".equals(name)) {
+				nodeNamesStack.pop();
 			}
 		}
 	}
@@ -541,6 +646,10 @@ public RenderingRule[] getRenderingAttributeValues() {
 		return renderingAttributes.values().toArray(new RenderingRule[0]);
 	}
 
+	public RenderingClass getRenderingClass(String name) {
+		return renderingClasses.get(name);
+	}
+
 	public Map<String, RenderingClass> getRenderingClasses() {
 		return renderingClasses;
 	}
diff --git a/OsmAnd/res/layout/rendering_classes_card.xml b/OsmAnd/res/layout/rendering_classes_card.xml
index ee033b2031f..166efec3209 100644
--- a/OsmAnd/res/layout/rendering_classes_card.xml
+++ b/OsmAnd/res/layout/rendering_classes_card.xml
@@ -7,22 +7,10 @@
 	android:background="?attr/list_background_color"
 	android:orientation="vertical">
 
-	<net.osmand.plus.widgets.TextViewEx
-		android:id="@+id/header"
-		style="@style/TitleStyle.Medium"
-		android:layout_width="match_parent"
-		android:layout_height="wrap_content"
-		android:layout_marginHorizontal="@dimen/content_padding"
-		android:layout_marginVertical="@dimen/content_padding_small"
-		android:textColor="?android:textColorPrimary"
-		tools:text="@string/mtb_scale" />
-
 	<LinearLayout
 		android:id="@+id/container"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:orientation="vertical">
-
-	</LinearLayout>
+		android:orientation="vertical" />
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
index f82ac50856d..249bb7ebff4 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
@@ -1,5 +1,6 @@
 package net.osmand.plus.configmap;
 
+import static net.osmand.osm.RenderingPropertyAttr.*;
 import static net.osmand.plus.dialogs.DetailsBottomSheet.STREET_LIGHTING;
 import static net.osmand.plus.dialogs.DetailsBottomSheet.STREET_LIGHTING_NIGHT;
 import static net.osmand.plus.settings.backend.OsmandSettings.RENDERER_PREFERENCE_PREFIX;
@@ -22,14 +23,18 @@
 import net.osmand.render.RenderingRulesStorage;
 import net.osmand.util.Algorithms;
 
-import java.util.*;
+import java.util.ArrayList;
+import java.util.Comparator;
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+import java.util.TreeMap;
+import java.util.stream.Collectors;
 
 public class ConfigureMapUtils {
 
 	public static final String[] MAP_LANGUAGES_IDS = {"", "en", "af", "als", "ar", "az", "be", "ber", "bg", "bn", "bpy", "br", "bs", "ca", "ceb", "ckb", "cs", "cy", "da", "de", "el", "eo", "es", "et", "eu", "fa", "fi", "fr", "fy", "ga", "gl", "he", "hi", "hsb", "hr", "ht", "hu", "hy", "id", "is", "it", "ja", "ka", "kab", "kk", "kn", "ko", "ku", "la", "lb", "lo", "lt", "lv", "mk", "ml", "mr", "ms", "nds", "new", "nl", "nn", "no", "nv", "oc", "os", "pl", "pms", "pt", "ro", "ru", "sat", "sc", "sh", "sk", "sl", "sq", "sr", "sr-latn", "sv", "sw", "ta", "te", "th", "tl", "tr", "uk", "vi", "vo", "zh", "zh-Hans", "zh-Hant"};
 
-	public static final String ROUTE_CLASS_PREFIX = ".route.";
-
 	@NonNull
 	public static Map<String, String> getSorterMapLanguages(@NonNull OsmandApplication app) {
 		Map<String, String> mapLanguages = new HashMap<>();
@@ -51,7 +56,8 @@ public static Map<String, String> getSorterMapLanguages(@NonNull OsmandApplicati
 	 * @param unsortedLanguages map of entries like en:English. Empty key stands for device locale or default locale
 	 */
 	@NonNull
-	public static Comparator<String> getLanguagesComparator(@NonNull Map<String, String> unsortedLanguages) {
+	public static Comparator<String> getLanguagesComparator(
+			@NonNull Map<String, String> unsortedLanguages) {
 		return (leftKey, rightKey) -> {
 			int i1 = Algorithms.isEmpty(leftKey) ? 0 : (leftKey.equals("en") ? 1 : 2);
 			int i2 = Algorithms.isEmpty(rightKey) ? 0 : (rightKey.equals("en") ? 1 : 2);
@@ -66,7 +72,8 @@ public static Comparator<String> getLanguagesComparator(@NonNull Map<String, Str
 	}
 
 	@Nullable
-	public static RenderingRuleProperty getPropertyForAttr(@NonNull OsmandApplication app, @NonNull String attrName) {
+	public static RenderingRuleProperty getPropertyForAttr(@NonNull OsmandApplication app,
+			@NonNull String attrName) {
 		return getPropertyForAttr(getCustomRules(app), attrName);
 	}
 
@@ -81,7 +88,8 @@ public static RenderingRuleProperty getPropertyForAttr(
 		return null;
 	}
 
-	public static List<RenderingRuleProperty> getCustomRules(@NonNull OsmandApplication app, String... skipCategories) {
+	public static List<RenderingRuleProperty> getCustomRules(@NonNull OsmandApplication app,
+			String... skipCategories) {
 		RenderingRulesStorage renderer = app.getRendererRegistry().getCurrentSelectedRenderer();
 		if (renderer == null) {
 			return new ArrayList<>();
@@ -104,50 +112,81 @@ public static List<RenderingRuleProperty> getCustomRules(@NonNull OsmandApplicat
 		return customRules;
 	}
 
-	@NonNull
-	public static Map<String, RenderingClass> getRenderingClasses(@NonNull OsmandApplication app) {
-		RenderingRulesStorage renderer = app.getRendererRegistry().getCurrentSelectedRenderer();
-		if (renderer == null) {
-			return new LinkedHashMap<>();
+	protected static String[] getRenderingPropertyPossibleValues(@NonNull OsmandApplication app,
+			@NonNull RenderingRuleProperty p) {
+		String[] possibleValuesString = new String[p.getPossibleValues().length + 1];
+		possibleValuesString[0] = AndroidUtils.getRenderingStringPropertyValue(app, p.getDefaultValueDescription());
+
+		for (int j = 0; j < p.getPossibleValues().length; j++) {
+			possibleValuesString[j + 1] = AndroidUtils.getRenderingStringPropertyValue(app, p.getPossibleValues()[j]);
 		}
-		return renderer.getRenderingClasses();
+		return possibleValuesString;
 	}
 
 	@NonNull
-	public static Pair<RenderingClass, List<RenderingClass>> getRenderingClassesForKey(
+	public static Pair<RenderingClass, List<RenderingClass>> getRenderingClassWithChildren(
 			@NonNull OsmandApplication app, @NonNull String attrName) {
 		RenderingRulesStorage renderer = app.getRendererRegistry().getCurrentSelectedRenderer();
-		if (renderer == null) {
-			return null;
-		}
-		String key = ROUTE_CLASS_PREFIX + attrName.replace("show", "");
-		RenderingClass mainClass = renderer.getRenderingClass(key);
-		if (mainClass != null) {
-			List<RenderingClass> list = new ArrayList<>();
-			for (Map.Entry<String, RenderingClass> entry : renderer.getRenderingClasses().entrySet()) {
-				RenderingClass renderingClass = entry.getValue();
-				if (renderingClass.getName().startsWith(key + ".")) {
-					list.add(renderingClass);
-				}
+		if (renderer != null) {
+			String key = getRenderingClassNameForAttr(app, attrName);
+			RenderingClass renderingClass = renderer.getRenderingClass(key);
+			if (renderingClass != null) {
+				List<RenderingClass> children = getChildrenRenderingClasses(app, renderingClass);
+				return Pair.create(renderingClass, children);
 			}
-			return Pair.create(mainClass, list);
 		}
 		return null;
 	}
 
-	protected static String[] getRenderingPropertyPossibleValues(OsmandApplication app,
-			RenderingRuleProperty p) {
-		String[] possibleValuesString = new String[p.getPossibleValues().length + 1];
-		possibleValuesString[0] = AndroidUtils.getRenderingStringPropertyValue(app, p.getDefaultValueDescription());
+	@NonNull
+	public static List<RenderingClass> getChildrenRenderingClasses(@NonNull OsmandApplication app,
+			@NonNull RenderingClass parentClass) {
+		RenderingRulesStorage renderer = app.getRendererRegistry().getCurrentSelectedRenderer();
+		if (renderer != null) {
+			String key = parentClass.getName();
+			return renderer.getRenderingClasses().values().stream()
+					.filter(renderingClass -> {
+						String name = renderingClass.getName();
+						return name.startsWith(key + ".") && name.lastIndexOf('.') == key.length();
+					})
+					.collect(Collectors.toList());
+		}
+		return null;
+	}
 
-		for (int j = 0; j < p.getPossibleValues().length; j++) {
-			possibleValuesString[j + 1] = AndroidUtils.getRenderingStringPropertyValue(app, p.getPossibleValues()[j]);
+	@NonNull
+	public static String getRenderingClassNameForAttr(@NonNull OsmandApplication app,
+			@NonNull String attrName) {
+		switch (attrName) {
+			case HIKING_ROUTES:
+				return ".route.hiking";
+			case CYCLE_ROUTES:
+				return ".route.bicycle";
+			case MTB_ROUTES:
+				return ".route.mtb";
+			case "showMtbScale":
+				return ".route.mtb.mtb_scale";
+			case "showMtbScaleIMBATrails":
+				return ".route.mtb.mtb_scale_imba";
+			case ALPINE_HIKING:
+				return ".road.alpinehiking";
+			case HORSE_ROUTES:
+				return ".route.horse";
+			case PISTE_ROUTES:
+				return ".route.piste";
+			case RUNNING_ROUTES:
+				return ".route.running";
+			case FITNESS_TRAILS:
+				return ".route.fitness_trail";
+			case DIRTBIKE_ROUTES:
+				return ".route.dirtbike";
+			default:
+				return attrName;
 		}
-		return possibleValuesString;
 	}
 
 	protected static String getDescription(@NonNull OsmandSettings settings,
-	                                       @NonNull List<CommonPreference<Boolean>> prefs) {
+			@NonNull List<CommonPreference<Boolean>> prefs) {
 		int count = 0;
 		int enabled = 0;
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/AlpineHikingScaleFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/AlpineHikingScaleFragment.java
index e5e61feef62..83c23cb46df 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/AlpineHikingScaleFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/AlpineHikingScaleFragment.java
@@ -10,7 +10,6 @@
 
 import net.osmand.plus.R;
 import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.routepreparationmenu.cards.BaseCard;
 import net.osmand.plus.utils.AndroidUtils;
 
 public class AlpineHikingScaleFragment extends MapRoutesFragment {
@@ -27,12 +26,6 @@ protected void toggleMainPreference(@NonNull View view) {
 		routeLayersHelper.toggleAlpineHikingRoutes();
 	}
 
-	@NonNull
-	@Override
-	protected String getSelectedAttrName() {
-		return ALPINE.getRenderingPropertyAttr();
-	}
-
 	protected void setupHeader(@NonNull View view) {
 		super.setupHeader(view);
 
@@ -43,14 +36,14 @@ protected void setupHeader(@NonNull View view) {
 		title.setText(R.string.rendering_attr_alpineHiking_name);
 
 		TextView description = container.findViewById(R.id.description);
-		description.setText(routeLayersHelper.getRoutesTypeDescription(getSelectedAttrName()));
+		description.setText(routeLayersHelper.getRoutesTypeDescription(ALPINE.getRenderingPropertyAttr()));
 		AndroidUiHelper.updateVisibility(description, enabled);
 
 		int selectedColor = settings.getApplicationMode().getProfileColor(nightMode);
 		int disabledColor = AndroidUtils.getColorFromAttr(app, R.attr.default_icon_color);
 		ImageView icon = container.findViewById(R.id.icon);
-		icon.setImageDrawable(getPaintedContentIcon(RouteUtils.getIconIdForAttr(getSelectedAttrName()),
-				enabled ? selectedColor : disabledColor));
+		icon.setImageDrawable(getPaintedContentIcon(RouteUtils.getIconIdForAttr(
+				ALPINE.getRenderingPropertyAttr()), enabled ? selectedColor : disabledColor));
 	}
 
 	@Override
@@ -58,10 +51,6 @@ protected void createCards(@NonNull View view) {
 		super.createCards(view);
 
 		addCard(new AlpineHikingCard(getMapActivity()));
-
-		BaseCard card = createRenderingClassCard(getSelectedAttrName());
-		if (card != null) {
-			addCard(card);
-		}
+		addRenderingClassCard(ALPINE.getRenderingPropertyAttr());
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/CustomRoutesFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/CustomRoutesFragment.java
index 7650bd3b3a4..d5fa3ba65f1 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/CustomRoutesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/CustomRoutesFragment.java
@@ -1,5 +1,7 @@
 package net.osmand.plus.configmap.routes;
 
+import static net.osmand.osm.OsmRouteType.MTB;
+
 import android.os.Bundle;
 import android.util.Pair;
 import android.view.View;
@@ -36,12 +38,6 @@ protected void toggleMainPreference(@NonNull View view) {
 		routeLayersHelper.toggleRoutesType(attrName);
 	}
 
-	@NonNull
-	@Override
-	protected @NotNull String getSelectedAttrName() {
-		return attrName;
-	}
-
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
@@ -72,9 +68,6 @@ protected void setupHeader(@NonNull View view) {
 	protected void createCards(@NonNull View view) {
 		super.createCards(view);
 
-		BaseCard card = createRenderingClassCard(getSelectedAttrName());
-		if (card != null) {
-			addCard(card);
-		}
+		addRenderingClassCard(attrName);
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/CycleRoutesFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/CycleRoutesFragment.java
index 7b5400d088a..fcae8c180b7 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/CycleRoutesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/CycleRoutesFragment.java
@@ -9,12 +9,9 @@
 import androidx.annotation.NonNull;
 
 import net.osmand.plus.R;
-import net.osmand.plus.routepreparationmenu.cards.BaseCard;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 
-import org.jetbrains.annotations.NotNull;
-
 public class CycleRoutesFragment extends MapRoutesFragment {
 
 	public static final String TAG = CycleRoutesFragment.class.getSimpleName();
@@ -29,12 +26,6 @@ protected void toggleMainPreference(@NonNull View view) {
 		routeLayersHelper.toggleCycleRoutes();
 	}
 
-	@NonNull
-	@Override
-	protected String getSelectedAttrName() {
-		return BICYCLE.getRenderingPropertyAttr();
-	}
-
 	protected void setupHeader(@NonNull View view) {
 		super.setupHeader(view);
 
@@ -57,11 +48,8 @@ protected void setupHeader(@NonNull View view) {
 	@Override
 	protected void createCards(@NonNull View view) {
 		super.createCards(view);
-		addCard(new CycleRouteTypesCard(getMapActivity()));
 
-		BaseCard card = createRenderingClassCard(getSelectedAttrName());
-		if (card != null) {
-			addCard(card);
-		}
+		addCard(new CycleRouteTypesCard(getMapActivity()));
+		addRenderingClassCard(BICYCLE.getRenderingPropertyAttr());
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/HikingRoutesFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/HikingRoutesFragment.java
index 655c2716417..46d68d6f8bf 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/HikingRoutesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/HikingRoutesFragment.java
@@ -9,7 +9,6 @@
 import androidx.annotation.NonNull;
 
 import net.osmand.plus.R;
-import net.osmand.plus.routepreparationmenu.cards.BaseCard;
 import net.osmand.plus.utils.AndroidUtils;
 
 public class HikingRoutesFragment extends MapRoutesFragment {
@@ -28,12 +27,6 @@ protected void toggleMainPreference(@NonNull View view) {
 		routeLayersHelper.toggleHikingRoutes();
 	}
 
-	@NonNull
-	@Override
-	protected String getSelectedAttrName() {
-		return HIKING.getRenderingPropertyAttr();
-	}
-
 	protected void setupHeader(@NonNull View view) {
 		super.setupHeader(view);
 
@@ -55,11 +48,8 @@ protected void setupHeader(@NonNull View view) {
 	@Override
 	protected void createCards(@NonNull View view) {
 		super.createCards(view);
-		addCard(new HikingRoutesCard(getMapActivity()));
 
-		BaseCard card = createRenderingClassCard(getSelectedAttrName());
-		if (card != null) {
-			addCard(card);
-		}
+		addCard(new HikingRoutesCard(getMapActivity()));
+		addRenderingClassCard(HIKING.getRenderingPropertyAttr());
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/MapRoutesFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/MapRoutesFragment.java
index ea96e000f14..4517a1eee48 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/MapRoutesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/MapRoutesFragment.java
@@ -59,9 +59,6 @@ protected boolean isUsedOnMap() {
 
 	protected abstract void toggleMainPreference(@NonNull View view);
 
-	@NonNull
-	protected abstract String getSelectedAttrName();
-
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
@@ -108,9 +105,10 @@ protected void setupHeader(@NonNull View view) {
 		AndroidUiHelper.updateVisibility(view.findViewById(R.id.header_divider), !enabled);
 	}
 
-	protected void addCard(@NonNull BaseCard card) {
-		cards.add(card);
-		card.setListener(this);
+	protected void setupContent(@NonNull View view) {
+		createCards(view);
+		inflateCards(view);
+		AndroidUiHelper.updateVisibility(cardsContainer, isEnabled());
 	}
 
 	protected void createCards(@NonNull View view) {
@@ -134,27 +132,25 @@ protected void inflateCards(@NonNull View view) {
 		}
 	}
 
-	@Nullable
-	protected BaseCard createRenderingClassCard(@NonNull String attrName) {
-		Pair<RenderingClass, List<RenderingClass>> pair = ConfigureMapUtils.getRenderingClassesForKey(app, attrName);
-		if (pair != null) {
-			addCard(new RenderingClassesCard(getMapActivity(), pair.first, pair.second));
-		}
-		return null;
+	protected void addCard(@NonNull BaseCard card) {
+		cards.add(card);
+		card.setListener(this);
 	}
 
-	protected void setupContent(@NonNull View view) {
-		createCards(view);
-		inflateCards(view);
-		AndroidUiHelper.updateVisibility(cardsContainer, isEnabled());
+	protected void addRenderingClassCard(@NonNull String attrName) {
+		BaseCard card = createRenderingClassCard(attrName);
+		if (card != null) {
+			addCard(card);
+		}
 	}
 
-	protected void refreshMap() {
-		MapActivity mapActivity = (MapActivity) getMyActivity();
-		if (mapActivity != null) {
-			mapActivity.refreshMapComplete();
-			mapActivity.updateLayers();
+	@Nullable
+	protected BaseCard createRenderingClassCard(@NonNull String attrName) {
+		Pair<RenderingClass, List<RenderingClass>> pair = ConfigureMapUtils.getRenderingClassWithChildren(app, attrName);
+		if (pair != null) {
+			return new RenderingClassesCard(getMapActivity(), pair.first, pair.second);
 		}
+		return null;
 	}
 
 	@NonNull
@@ -176,6 +172,14 @@ public void onCardPressed(@NonNull BaseCard card) {
 		}
 	}
 
+	protected void refreshMap() {
+		MapActivity mapActivity = (MapActivity) getMyActivity();
+		if (mapActivity != null) {
+			mapActivity.refreshMapComplete();
+			mapActivity.updateLayers();
+		}
+	}
+
 	@Nullable
 	protected MapActivity getMapActivity() {
 		FragmentActivity activity = getActivity();
@@ -199,7 +203,7 @@ public static boolean shouldShow(@NonNull OsmandApplication app, @NonNull String
 				BICYCLE.getRenderingPropertyAttr(), MTB.getRenderingPropertyAttr(),
 				HIKING.getRenderingPropertyAttr(), ALPINE.getRenderingPropertyAttr());
 
-		Pair<RenderingClass, List<RenderingClass>> pair = ConfigureMapUtils.getRenderingClassesForKey(app, attrName);
+		Pair<RenderingClass, List<RenderingClass>> pair = ConfigureMapUtils.getRenderingClassWithChildren(app, attrName);
 		return defaultScreens || pair != null;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/MtbRoutesFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/MtbRoutesFragment.java
index 4b203d2d5f9..9b401bcf999 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/MtbRoutesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/MtbRoutesFragment.java
@@ -10,7 +10,6 @@
 
 import net.osmand.plus.R;
 import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.routepreparationmenu.cards.BaseCard;
 import net.osmand.plus.utils.AndroidUtils;
 
 public class MtbRoutesFragment extends MapRoutesFragment {
@@ -27,13 +26,6 @@ protected void toggleMainPreference(@NonNull View view) {
 		routeLayersHelper.toggleMtbRoutes();
 	}
 
-	@NonNull
-	@Override
-	protected String getSelectedAttrName() {
-		MtbClassification classification = routeLayersHelper.getSelectedMtbClassification();
-		return classification != null ? classification.attrName : MTB.getRenderingPropertyAttr();
-	}
-
 	protected void setupHeader(@NonNull View view) {
 		super.setupHeader(view);
 
@@ -54,11 +46,8 @@ protected void setupHeader(@NonNull View view) {
 	@Override
 	protected void createCards(@NonNull View view) {
 		super.createCards(view);
-		addCard(new MtbRoutesCard(getMapActivity()));
 
-		BaseCard card = createRenderingClassCard(getSelectedAttrName());
-		if (card != null) {
-			addCard(card);
-		}
+		addCard(new MtbRoutesCard(getMapActivity()));
+		addRenderingClassCard(MTB.getRenderingPropertyAttr());
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassFragment.java b/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassFragment.java
new file mode 100644
index 00000000000..dbef2e89c8d
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassFragment.java
@@ -0,0 +1,81 @@
+package net.osmand.plus.configmap.routes;
+
+import android.os.Bundle;
+import android.util.Pair;
+import android.view.View;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.plus.R;
+import net.osmand.plus.configmap.ConfigureMapUtils;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.backend.preferences.CommonPreference;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.render.RenderingClass;
+
+import java.util.List;
+
+public class RenderingClassFragment extends MapRoutesFragment {
+
+	public static final String TAG = RenderingClassFragment.class.getSimpleName();
+
+	private RenderingClass renderingClass;
+	private CommonPreference<Boolean> preference;
+
+	@Override
+	protected boolean isEnabled() {
+		return preference.get();
+	}
+
+	@Override
+	protected void toggleMainPreference(@NonNull View view) {
+		preference.set(!isEnabled());
+	}
+
+	@Override
+	public void onCreate(@Nullable Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+
+		renderingClass = app.getRouteLayersHelper().getSelectedRenderingClass();
+		preference = settings.getСustomBooleanRenderClassProperty(renderingClass.getName(), renderingClass.isEnabledByDefault());
+	}
+
+	protected void setupHeader(@NonNull View view) {
+		super.setupHeader(view);
+
+		boolean enabled = isEnabled();
+		View container = view.findViewById(R.id.preference_container);
+
+		TextView title = container.findViewById(R.id.title);
+		title.setText(renderingClass.getTitle());
+
+		AndroidUiHelper.updateVisibility(container.findViewById(R.id.icon), false);
+		AndroidUiHelper.updateVisibility(container.findViewById(R.id.description), false);
+	}
+
+	@Override
+	protected void createCards(@NonNull View view) {
+		super.createCards(view);
+
+		Pair<RenderingClass, List<RenderingClass>> pair = ConfigureMapUtils.getRenderingClassWithChildren(app, renderingClass.getName());
+		if (pair != null) {
+			addCard(new RenderingClassesCard(getMapActivity(), null, pair.second));
+		}
+	}
+
+	public static void showInstance(@NonNull FragmentActivity activity,
+			@NonNull RenderingClass renderingClass) {
+		FragmentManager manager = activity.getSupportFragmentManager();
+		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
+			RenderingClassFragment fragment = new RenderingClassFragment();
+			fragment.renderingClass = renderingClass;
+			manager.beginTransaction()
+					.replace(R.id.content, fragment, fragment.getTag())
+					.commitAllowingStateLoss();
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassesCard.java b/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassesCard.java
index c583bafac62..0f5216af524 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassesCard.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/RenderingClassesCard.java
@@ -1,31 +1,40 @@
 package net.osmand.plus.configmap.routes;
 
-import android.graphics.drawable.Drawable;
+import static net.osmand.plus.dashboard.DashboardType.RENDERING_CLASS;
+import static net.osmand.plus.widgets.ctxmenu.data.ContextMenuItem.INVALID_ID;
+
 import android.view.View;
+import android.view.View.OnClickListener;
 import android.view.ViewGroup;
 import android.widget.CompoundButton;
-import android.widget.ImageView;
+import android.widget.CompoundButton.OnCheckedChangeListener;
 import android.widget.TextView;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.configmap.ConfigureMapUtils;
 import net.osmand.plus.routepreparationmenu.cards.MapBaseCard;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.utils.AndroidUtils;
-import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.FontCache;
 import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.widgets.ctxmenu.ViewCreator;
+import net.osmand.plus.widgets.ctxmenu.data.ContextMenuItem;
 import net.osmand.render.RenderingClass;
+import net.osmand.util.Algorithms;
 
 import java.util.List;
 
 public class RenderingClassesCard extends MapBaseCard {
 
-	private final RenderingClass mainClass;
-	private final List<RenderingClass> list;
+	private final RouteLayersHelper routeLayersHelper;
+	private final RenderingClass renderingClass;
+	private final List<RenderingClass> subclasses;
 
+	private ViewCreator viewCreator;
 	private ViewGroup container;
 
 	@Override
@@ -33,59 +42,88 @@ public int getCardLayoutId() {
 		return R.layout.rendering_classes_card;
 	}
 
-	public RenderingClassesCard(@NonNull MapActivity activity, @NonNull RenderingClass mainClass,
-			@NonNull List<RenderingClass> list) {
+	public RenderingClassesCard(@NonNull MapActivity activity,
+			@Nullable RenderingClass renderingClass,
+			@Nullable List<RenderingClass> subclasses) {
 		super(activity, true);
-		this.mainClass = mainClass;
-		this.list = list;
-	}
+		this.renderingClass = renderingClass;
+		this.subclasses = subclasses;
 
-	@Override
-	protected void updateContent() {
-		setupHeader();
-		setupRenderingClasses();
-	}
+		routeLayersHelper = app.getRouteLayersHelper();
 
-	private void setupHeader() {
-		TextView header = view.findViewById(R.id.header);
-		header.setText(mainClass.getTitle());
+		viewCreator = new ViewCreator(activity, nightMode);
+		viewCreator.setDefaultLayoutId(R.layout.list_item_icon_and_menu);
+		viewCreator.setCustomControlsColor(settings.getApplicationMode().getProfileColor(nightMode));
 	}
 
-	private void setupRenderingClasses() {
+	@Override
+	protected void updateContent() {
 		container = view.findViewById(R.id.container);
 		container.removeAllViews();
 
-		for (int i = 0; i < list.size(); i++) {
-			RenderingClass renderingClass = list.get(i);
-			container.addView(createRadioButton(renderingClass, i == list.size() - 1));
+		if (renderingClass != null) {
+			container.addView(createHeaderRow(renderingClass));
+		}
+
+		if (!Algorithms.isEmpty(subclasses)) {
+			container.addView(themedInflater.inflate(R.layout.simple_divider_item, container, false));
+
+			for (int i = 0; i < subclasses.size(); i++) {
+				RenderingClass renderingClass = subclasses.get(i);
+				boolean lastItem = i == subclasses.size() - 1;
+				List<RenderingClass> children = ConfigureMapUtils.getChildrenRenderingClasses(app, renderingClass);
+				container.addView(createItemRow(renderingClass, !Algorithms.isEmpty(children), !lastItem));
+			}
 		}
 	}
 
 	@NonNull
-	private View createRadioButton(@NonNull RenderingClass renderingClass, boolean lastItem) {
-		CommonPreference<Boolean> pref = settings.getСustomBooleanRenderClassProperty(renderingClass.getName(), renderingClass.isEnabledByDefault());
-		View view = themedInflater.inflate(R.layout.bottom_sheet_item_with_switch_56dp, container, false);
-
-		ImageView icon = view.findViewById(R.id.icon);
-		AndroidUiHelper.updateVisibility(icon, false);
+	private View createHeaderRow(@NonNull RenderingClass renderingClass) {
+		View view = createItemRow(renderingClass, false, false);
 
 		TextView title = view.findViewById(R.id.title);
-		title.setText(renderingClass.getTitle());
+		title.setTypeface(FontCache.getMediumFont(title.getTypeface()));
 
-		CompoundButton button = view.findViewById(R.id.compound_button);
-		UiUtilities.setupCompoundButton(nightMode, ColorUtilities.getActiveColor(app, nightMode), button);
-		button.setChecked(pref.get());
+		return view;
+	}
 
-		view.setOnClickListener(v -> {
-			boolean checked = !pref.get();
-			pref.set(checked);
-			button.setChecked(checked);
-			notifyCardPressed();
+	@NonNull
+	private View createItemRow(@NonNull RenderingClass renderingClass, boolean showSubscreen, boolean showDivider) {
+		CommonPreference<Boolean> pref = settings.getСustomBooleanRenderClassProperty(
+				renderingClass.getName(), renderingClass.isEnabledByDefault());
+		boolean enabled = pref.get();
+
+		ContextMenuItem item = new ContextMenuItem(renderingClass.getName())
+				.setSelected(enabled)
+				.setHideDivider(!showDivider)
+				.setTitle(renderingClass.getTitle())
+				.setColor(enabled ? settings.getApplicationMode().getProfileColor(nightMode) : null)
+				.setSecondaryIcon(showSubscreen ? R.drawable.ic_action_additional_option : INVALID_ID);
+
+		View view = viewCreator.getView(item, null);
+
+		CompoundButton compoundButton = view.findViewById(R.id.toggle_item);
+		compoundButton.setOnCheckedChangeListener(new OnCheckedChangeListener() {
+			@Override
+			public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+				pref.set(isChecked);
+				notifyCardPressed();
+			}
+		});
+		view.setOnClickListener(new OnClickListener() {
+			@Override
+			public void onClick(View v) {
+				if (showSubscreen) {
+					routeLayersHelper.setSelectedRenderingClass(renderingClass);
+					mapActivity.getDashboard().setDashboardVisibility(true,
+							RENDERING_CLASS, AndroidUtils.getCenterViewCoordinates(view));
+				} else {
+					compoundButton.toggle();
+				}
+			}
 		});
-
 		int profileColor = settings.getApplicationMode().getProfileColor(nightMode);
-		Drawable background = UiUtilities.getColoredSelectableDrawable(app, profileColor, 0.3f);
-		AndroidUtils.setBackground(view, background);
+		AndroidUtils.setBackground(view, UiUtilities.getColoredSelectableDrawable(app, profileColor, 0.3f));
 
 		return view;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java b/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
index 40045f52109..e116fbd0762 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
@@ -19,6 +19,7 @@
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.render.RenderingClass;
 import net.osmand.render.RenderingRuleProperty;
 import net.osmand.util.Algorithms;
 
@@ -46,6 +47,8 @@ public class RouteLayersHelper {
 
 	@Nullable
 	private String selectedAttrName;
+	@Nullable
+	private RenderingClass selectedRenderingClass;
 
 	public RouteLayersHelper(@NonNull OsmandApplication app) {
 		this.app = app;
@@ -74,6 +77,15 @@ public void setSelectedAttrName(@Nullable String selectedAttrName) {
 		this.selectedAttrName = selectedAttrName;
 	}
 
+	@Nullable
+	public RenderingClass getSelectedRenderingClass() {
+		return selectedRenderingClass;
+	}
+
+	public void setSelectedRenderingClass(@Nullable RenderingClass renderingClass) {
+		this.selectedRenderingClass = renderingClass;
+	}
+
 	public void toggleRoutesType(@NonNull String attrName) {
 		if (BICYCLE.getRenderingPropertyAttr().equals(attrName)) {
 			toggleCycleRoutes();
@@ -186,13 +198,8 @@ public void updateSelectedMtbClassification(@Nullable String classificationId) {
 
 	@NonNull
 	public String getSelectedMtbClassificationName(@NonNull Context context) {
-		String selectedId = getSelectedMtbClassificationId();
-		for (MtbClassification classification : MtbClassification.values()) {
-			if (Objects.equals(classification.attrName, selectedId)) {
-				return context.getString(classification.nameId);
-			}
-		}
-		return "";
+		MtbClassification classification = getSelectedMtbClassification();
+		return classification != null ? context.getString(classification.nameId) : "";
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java b/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
index e314ab40911..59221b9cc7e 100644
--- a/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
+++ b/OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java
@@ -43,8 +43,11 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.configmap.routes.*;
 import net.osmand.plus.configmap.ConfigureMapFragment;
+import net.osmand.plus.configmap.routes.MapRoutesFragment;
+import net.osmand.plus.configmap.routes.RenderingClassFragment;
+import net.osmand.plus.configmap.routes.RouteLayersHelper;
+import net.osmand.plus.configmap.routes.TravelRoutesFragment;
 import net.osmand.plus.dashboard.tools.DashFragmentData;
 import net.osmand.plus.dashboard.tools.DashboardSettingsDialogFragment;
 import net.osmand.plus.dashboard.tools.TransactionBuilder;
@@ -87,6 +90,7 @@
 import net.osmand.plus.widgets.ctxmenu.callback.OnRowItemClick;
 import net.osmand.plus.widgets.ctxmenu.data.ContextMenuItem;
 import net.osmand.plus.wikipedia.WikipediaPoiMenu;
+import net.osmand.render.RenderingClass;
 
 import java.lang.ref.WeakReference;
 import java.util.ArrayList;
@@ -321,6 +325,12 @@ private void updateToolbarActions() {
 		} else if (isCurrentType(MAP_ROUTES)) {
 			RouteLayersHelper helper = getMyApplication().getRouteLayersHelper();
 			tv.setText(helper.getRoutesTypeName(helper.getSelectedAttrName()));
+		} else if (isCurrentType(RENDERING_CLASS)) {
+			RouteLayersHelper helper = getMyApplication().getRouteLayersHelper();
+			RenderingClass renderingClass = helper.getSelectedRenderingClass();
+			if (renderingClass != null) {
+				tv.setText(renderingClass.getTitle());
+			}
 		}
 		ImageView edit = dashboardView.findViewById(R.id.toolbar_edit);
 		edit.setVisibility(View.GONE);
@@ -559,7 +569,17 @@ public void setDashboardVisibility(boolean visible, DashboardType type, boolean
 				} else if (isCurrentType(WEATHER_CONTOURS)) {
 					WeatherContoursFragment.showInstance(fragmentManager);
 				} else if (isCurrentType(MAP_ROUTES)) {
-					MapRoutesFragment.showInstance(mapActivity, getMyApplication().getRouteLayersHelper().getSelectedAttrName());
+					RouteLayersHelper helper = getMyApplication().getRouteLayersHelper();
+					String attrName = helper.getSelectedAttrName();
+					if (attrName != null) {
+						MapRoutesFragment.showInstance(mapActivity, attrName);
+					}
+				} else if (isCurrentType(RENDERING_CLASS)) {
+					RouteLayersHelper helper = getMyApplication().getRouteLayersHelper();
+					RenderingClass renderingClass = helper.getSelectedRenderingClass();
+					if (renderingClass != null) {
+						RenderingClassFragment.showInstance(mapActivity, renderingClass);
+					}
 				}
 				scrollView.setVisibility(View.VISIBLE);
 				listViewLayout.setVisibility(View.GONE);
@@ -624,7 +644,7 @@ private void applyDayNightMode() {
 		} else {
 			listView.setBackgroundColor(backgroundColor);
 		}
-		if (isNoCurrentType(CONFIGURE_MAP, CONTOUR_LINES, TERRAIN, MAP_ROUTES, TRAVEL_ROUTES,
+		if (isNoCurrentType(CONFIGURE_MAP, CONTOUR_LINES, TERRAIN, MAP_ROUTES, RENDERING_CLASS, TRAVEL_ROUTES,
 				OSM_NOTES, WIKIPEDIA, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH)) {
 			listView.setDivider(dividerDrawable);
 			listView.setDividerHeight(AndroidUtils.dpToPx(mapActivity, 1f));
@@ -962,8 +982,8 @@ public boolean isNoCurrentType(@NonNull DashboardType... types) {
 
 	public boolean isCurrentTypeHasIndividualFragment() {
 		return isCurrentType(
-				CONFIGURE_MAP, MAPILLARY, TERRAIN, RELIEF_3D, MAP_ROUTES, TRAVEL_ROUTES,
-				TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH
+				CONFIGURE_MAP, MAPILLARY, TERRAIN, RELIEF_3D, MAP_ROUTES, RENDERING_CLASS,
+				TRAVEL_ROUTES, TRANSPORT_LINES, WEATHER, WEATHER_LAYER, WEATHER_CONTOURS, NAUTICAL_DEPTH
 		);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/dashboard/DashboardType.java b/OsmAnd/src/net/osmand/plus/dashboard/DashboardType.java
index 11a0661d87f..2a792eeb9f7 100644
--- a/OsmAnd/src/net/osmand/plus/dashboard/DashboardType.java
+++ b/OsmAnd/src/net/osmand/plus/dashboard/DashboardType.java
@@ -18,4 +18,5 @@ public enum DashboardType {
 	WEATHER_CONTOURS,
 	NAUTICAL_DEPTH,
 	MAP_ROUTES,
+	RENDERING_CLASS
 }
