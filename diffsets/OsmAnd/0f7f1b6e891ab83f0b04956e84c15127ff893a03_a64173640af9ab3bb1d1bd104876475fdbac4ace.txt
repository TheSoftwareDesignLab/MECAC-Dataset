diff --git a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
index 1f72d908df6..6cd9683f9dd 100644
--- a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
+++ b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
@@ -44,6 +44,7 @@ public class GeneralRouter implements VehicleRouter {
 	private boolean shortestRoute;
 	private boolean heightObstacles;
 	private boolean allowPrivate;
+	private String filename;
 
 	private Map<RouteRegion, Map<Integer, Integer>> regionConvert = new LinkedHashMap<RouteRegion, Map<Integer,Integer>>();
 	
@@ -120,7 +121,15 @@ public GeneralRouter(GeneralRouterProfile profile, Map<String, String> attribute
 		ruleToValue = new ArrayList<Object>();
 		parameters = new LinkedHashMap<String, GeneralRouter.RoutingParameter>();
 	}
-	
+
+	public String getFilename() {
+		return filename;
+	}
+
+	public void setFilename(String filename) {
+		this.filename = filename;
+	}
+
 	public GeneralRouter(GeneralRouter parent, Map<String, String> params) {
 		this.profile = parent.profile;
 		this.attributes = new LinkedHashMap<String, String>();
diff --git a/OsmAnd-java/src/main/java/net/osmand/router/RoutingConfiguration.java b/OsmAnd-java/src/main/java/net/osmand/router/RoutingConfiguration.java
index 42b58affadb..cddb8b09651 100644
--- a/OsmAnd-java/src/main/java/net/osmand/router/RoutingConfiguration.java
+++ b/OsmAnd-java/src/main/java/net/osmand/router/RoutingConfiguration.java
@@ -22,6 +22,7 @@
 public class RoutingConfiguration {
 
 	private static final Log LOG = PlatformUtil.getLog(RoutingConfiguration.class);
+
 	
 	public static final int DEFAULT_MEMORY_LIMIT = 30;
 	public final float DEVIATION_RADIUS = 3000;
@@ -54,9 +55,9 @@ public class RoutingConfiguration {
 	public static class Builder {
 		// Design time storage
 		private static String defaultRouter = "";
-		private static Map<String, GeneralRouter> routers = new LinkedHashMap<String, GeneralRouter>();
-		private static Map<String, String> attributes = new LinkedHashMap<String, String>();
-		private static HashMap<Long, Location> impassableRoadLocations = new HashMap<Long, Location>();
+		private static Map<String, GeneralRouter> routers = new LinkedHashMap<>();
+		private static Map<String, String> attributes = new LinkedHashMap<>();
+		private static HashMap<Long, Location> impassableRoadLocations = new HashMap<>();
 
 		// Example
 //		{
@@ -164,8 +165,7 @@ public static float parseSilentFloat(String t, float v) {
 	public static RoutingConfiguration.Builder getDefault() {
 		if (DEFAULT == null) {
 			try {
-				DEFAULT = parseFromInputStream(RoutingConfiguration.class.getResourceAsStream("routing.xml"),
-					new RoutingConfiguration.Builder());
+				DEFAULT = parseFromInputStream(RoutingConfiguration.class.getResourceAsStream("routing.xml"));
 			} catch (Exception e) {
 				throw new IllegalStateException(e);
 			}
@@ -173,15 +173,14 @@ public static RoutingConfiguration.Builder getDefault() {
 		return DEFAULT;
 	}
 
-	public static RoutingConfiguration.Builder parseFromInputStream(InputStream is, RoutingConfiguration.Builder config, String filename) throws IOException, XmlPullParserException {
+	public static RoutingConfiguration.Builder parseFromInputStream(InputStream is) throws IOException, XmlPullParserException {
 
-		//todo add file name to profile description.
-		return parseFromInputStream(is, config);
+		return parseFromInputStream(is, null);
 	}
 
-	public static RoutingConfiguration.Builder parseFromInputStream(InputStream is, RoutingConfiguration.Builder config) throws IOException, XmlPullParserException {
+	public static RoutingConfiguration.Builder parseFromInputStream(InputStream is, String filename) throws IOException, XmlPullParserException {
 		XmlPullParser parser = PlatformUtil.newXMLPullParser();
-//		final RoutingConfiguration.Builder config = new RoutingConfiguration.Builder();
+		RoutingConfiguration.Builder config = new RoutingConfiguration.Builder();
 		GeneralRouter currentRouter = null;
 		RouteDataObjectAttribute currentAttribute = null;
 		String preType = null;
@@ -194,7 +193,7 @@ public static RoutingConfiguration.Builder parseFromInputStream(InputStream is,
 				if ("osmand_routing_config".equals(name)) {
 					Builder.defaultRouter = parser.getAttributeValue("", "defaultProfile");
 				} else if ("routingProfile".equals(name)) {
-					currentRouter = parseRoutingProfile(parser, config);
+					currentRouter = parseRoutingProfile(parser, config, filename);
 				} else if ("attribute".equals(name)) {
 					parseAttribute(parser, config, currentRouter);
 				} else if ("parameter".equals(name)) {
@@ -311,7 +310,7 @@ private static void addSubclause(RoutingRule rr, RouteAttributeContext ctx) {
 
 	
 
-	private static GeneralRouter parseRoutingProfile(XmlPullParser parser, final RoutingConfiguration.Builder config) {
+	private static GeneralRouter parseRoutingProfile(XmlPullParser parser, final RoutingConfiguration.Builder config, String filename) {
 		String currentSelectedRouter = parser.getAttributeValue("", "name");
 		Map<String, String> attrs = new LinkedHashMap<String, String>();
 		for(int i=0; i< parser.getAttributeCount(); i++) {
@@ -320,6 +319,9 @@ private static GeneralRouter parseRoutingProfile(XmlPullParser parser, final Rou
 		GeneralRouterProfile c = Algorithms.parseEnumValue(GeneralRouterProfile.values(), 
 				parser.getAttributeValue("", "baseProfile"), GeneralRouterProfile.CAR);
 		GeneralRouter currentRouter = new GeneralRouter(c, attrs);
+		if (filename != null) {
+			currentRouter.setFilename(filename);
+		}
 		Builder.routers.put(currentSelectedRouter, currentRouter);
 		return currentRouter;
 	}
diff --git a/OsmAnd-java/src/main/java/net/osmand/router/TestRouting.java b/OsmAnd-java/src/main/java/net/osmand/router/TestRouting.java
index 461fb2e3019..78222819d98 100644
--- a/OsmAnd-java/src/main/java/net/osmand/router/TestRouting.java
+++ b/OsmAnd-java/src/main/java/net/osmand/router/TestRouting.java
@@ -85,7 +85,7 @@ public static Parameters init(String[] args) throws IOException, XmlPullParserEx
 			if (routingXmlFile == null || routingXmlFile.equals("routing.xml")) {
 				p.configBuilder = RoutingConfiguration.getDefault();
 			} else {
-				p.configBuilder = RoutingConfiguration.parseFromInputStream(new FileInputStream(routingXmlFile), new RoutingConfiguration.Builder());
+				p.configBuilder = RoutingConfiguration.parseFromInputStream(new FileInputStream(routingXmlFile));
 			}
 
 			return p;
diff --git a/OsmAnd/src/net/osmand/plus/AppInitializer.java b/OsmAnd/src/net/osmand/plus/AppInitializer.java
index 92f0cbf3f17..43ca411903d 100644
--- a/OsmAnd/src/net/osmand/plus/AppInitializer.java
+++ b/OsmAnd/src/net/osmand/plus/AppInitializer.java
@@ -552,32 +552,31 @@ private <T> T startupInit(T object, Class<T> class1) {
 
 
 	@SuppressLint("StaticFieldLeak")
-	public net.osmand.router.RoutingConfiguration.Builder getLazyDefaultRoutingConfig() {
+	net.osmand.router.RoutingConfiguration.Builder getLazyDefaultRoutingConfig() {
 		long tm = System.currentTimeMillis();
 		try {
-			final File routingFolder = app.getAppPath(IndexConstants.ROUTING_PROFILES_DIR);
-			if (routingFolder.isDirectory() && routingFolder.listFiles().length > 0) {
-				new AsyncTask<Void, Void, Void>() {
-					@Override
-					protected Void doInBackground(Void... voids) {
+			new AsyncTask<Void, Void, Void>() {
+				@Override
+				protected Void doInBackground(Void... voids) {
+					RoutingConfiguration.getDefault();
+					final File routingFolder = app.getAppPath(IndexConstants.ROUTING_PROFILES_DIR);
+					if (routingFolder.isDirectory() && routingFolder.listFiles().length > 0) {
 						File[] fl = routingFolder.listFiles();
 						for (File f : fl) {
 							if (f.isFile() && f.canRead()) {
 								try {
-									RoutingConfiguration.parseFromInputStream(
-										new FileInputStream(f), new RoutingConfiguration.Builder());
+									RoutingConfiguration.parseFromInputStream(new FileInputStream(f), f.getName());
 								} catch (XmlPullParserException | IOException e) {
 									throw new IllegalStateException(e);
 								}
 							}
 						}
-						return null;
 					}
-				}.executeOnExecutor(Executors.newSingleThreadExecutor(), (Void) null);
-
-			}
+					return null;
+				}
+			}.executeOnExecutor(Executors.newSingleThreadExecutor(), (Void) null);
 
-			return RoutingConfiguration.getDefault();
+			return new RoutingConfiguration.Builder();
 
 		} finally {
 			long te = System.currentTimeMillis();
diff --git a/OsmAnd/src/net/osmand/plus/profiles/ProfileBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/profiles/ProfileBottomSheetDialogFragment.java
index 724dc035075..a71aab86f65 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/ProfileBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/ProfileBottomSheetDialogFragment.java
@@ -158,13 +158,13 @@ public void onBindViewHolder(@NonNull final ItemViewHolder holder, int position)
 				public void onClick(View v) {
 					listener.onSelectedType(pos);
 					holder.radioButton.setChecked(true);
-					notifyItemChanged(previousSelection);
-					previousSelection = pos;
 
 					if (item instanceof RoutingProfile) {
 						items.get(pos).setSelected(true);
 						items.get(previousSelection).setSelected(false);
 					}
+					notifyItemChanged(previousSelection);
+					previousSelection = pos;
 				}
 			});
 
