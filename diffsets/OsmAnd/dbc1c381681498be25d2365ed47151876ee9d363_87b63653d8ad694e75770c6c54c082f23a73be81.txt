diff --git a/OsmAnd/src/net/osmand/plus/helpers/WaypointDialogHelper.java b/OsmAnd/src/net/osmand/plus/helpers/WaypointDialogHelper.java
index f4c4c3f1195..d5c25f5067e 100644
--- a/OsmAnd/src/net/osmand/plus/helpers/WaypointDialogHelper.java
+++ b/OsmAnd/src/net/osmand/plus/helpers/WaypointDialogHelper.java
@@ -371,7 +371,7 @@ public void onClick(View v) {
 
 				@Override
 				public void onClick(View v) {
-					IntermediatePointsDialog.openIntermediatePointsDialog(app.getMapActivity(), app, true);
+					IntermediatePointsDialog.openIntermediatePointsDialog(a, app, true);
 					if (dlg != null) {
 						dlg.dismiss();
 					} else if(a instanceof MapActivity){
