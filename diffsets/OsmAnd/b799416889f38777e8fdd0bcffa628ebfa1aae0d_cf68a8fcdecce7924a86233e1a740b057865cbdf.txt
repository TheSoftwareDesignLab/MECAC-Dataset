diff --git a/OsmAnd/res/drawable/bg_empty_external_device_list_icon_day.xml b/OsmAnd/res/drawable/bg_empty_external_device_list_icon_day.xml
new file mode 100644
index 00000000000..f800cda1643
--- /dev/null
+++ b/OsmAnd/res/drawable/bg_empty_external_device_list_icon_day.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+	<solid
+		android:color="@color/external_device_empty_icon_bg_day" />
+	<corners
+		android:radius="5dp" />
+</shape>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/bg_empty_external_device_list_icon_night.xml b/OsmAnd/res/drawable/bg_empty_external_device_list_icon_night.xml
new file mode 100644
index 00000000000..ae9fba9bb09
--- /dev/null
+++ b/OsmAnd/res/drawable/bg_empty_external_device_list_icon_night.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+	<solid
+		android:color="@color/external_device_empty_icon_bg_night" />
+	<corners
+		android:radius="5dp" />
+</shape>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/fragment_ant_plus_search.xml b/OsmAnd/res/layout/fragment_ant_plus_search.xml
index 0986c82a0e7..882a20f7c3e 100644
--- a/OsmAnd/res/layout/fragment_ant_plus_search.xml
+++ b/OsmAnd/res/layout/fragment_ant_plus_search.xml
@@ -1,257 +1,280 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:osmand="http://schemas.android.com/apk/res-auto"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    android:background="?attr/bg_color"
-    android:clipChildren="false"
-    android:clipToPadding="false"
-    android:orientation="vertical"
-    android:clickable="true"
-    android:focusable="true">
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent"
+	android:background="?attr/bg_color"
+	android:clipChildren="false"
+	android:clipToPadding="false"
+	android:orientation="vertical">
 
-    <com.google.android.material.appbar.AppBarLayout
-        android:id="@+id/appbar"
-        android:layout_width="match_parent"
-        android:layout_height="@dimen/toolbar_height"
-        android:background="?attr/actionModeBackground">
+	<com.google.android.material.appbar.AppBarLayout
+		android:id="@+id/appbar"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/toolbar_height"
+		android:background="?attr/actionModeBackground">
 
-        <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
-            android:layout_width="match_parent"
-            android:layout_height="@dimen/toolbar_height"
-            android:minHeight="@dimen/toolbar_height"
-            osmand:layout_collapseMode="pin"
-            osmand:title="@string/ant_plus_searching"
-            osmand:titleMarginEnd="0dp"
-            osmand:titleMarginStart="0dp"
-            osmand:titleTextColor="?attr/app_bar_primary_item_color">
+		<androidx.appcompat.widget.Toolbar
+			android:id="@+id/toolbar"
+			android:layout_width="match_parent"
+			android:layout_height="@dimen/toolbar_height"
+			android:minHeight="@dimen/toolbar_height"
+			osmand:layout_collapseMode="pin"
+			osmand:title="@string/ant_plus_searching"
+			osmand:titleMarginEnd="0dp"
+			osmand:titleMarginStart="0dp"
+			osmand:titleTextAppearance="@style/AppBarTitle"
+			osmand:titleTextColor="?attr/app_bar_primary_item_color">
 
-        </androidx.appcompat.widget.Toolbar>
+		</androidx.appcompat.widget.Toolbar>
 
-    </com.google.android.material.appbar.AppBarLayout>
+	</com.google.android.material.appbar.AppBarLayout>
 
-    <FrameLayout
-        android:id="@+id/content"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:clipChildren="false"
-        android:clipToPadding="false">
+	<FrameLayout
+		android:id="@+id/content"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:clipChildren="false"
+		android:clipToPadding="false">
 
-        <androidx.constraintlayout.widget.ConstraintLayout
-            android:id="@+id/state_searching"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:clipChildren="false"
-            android:clipToPadding="false"
-            android:orientation="vertical">
+		<androidx.constraintlayout.widget.ConstraintLayout
+			android:id="@+id/state_searching"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:clipChildren="false"
+			android:clipToPadding="false"
+			android:orientation="vertical"
+			android:visibility="visible">
 
-            <View
-                android:id="@+id/guideline"
-                android:layout_width="match_parent"
-                android:layout_height="1dp"
-                android:layout_marginBottom="48dp"
-                osmand:layout_constraintBottom_toTopOf="@+id/searching_text" />
+			<View
+				android:id="@+id/guideline"
+				android:layout_width="match_parent"
+				android:layout_height="1dp"
+				android:layout_marginBottom="48dp"
+				osmand:layout_constraintBottom_toTopOf="@+id/searching_text" />
 
-            <androidx.appcompat.widget.AppCompatImageView
-                android:layout_width="0dp"
-                android:layout_height="wrap_content"
-                android:clipToOutline="false"
-                android:padding="0dp"
-                android:scaleType="centerCrop"
-                android:src="@drawable/ic_sensors_search"
-                android:tint="?attr/secondary_icon_color"
-                osmand:layout_constraintBottom_toBottomOf="@+id/guideline"
-                osmand:layout_constraintLeft_toLeftOf="parent"
-                osmand:layout_constraintRight_toRightOf="parent"
-                osmand:layout_constraintTop_toTopOf="@+id/guideline" />
+			<androidx.appcompat.widget.AppCompatImageView
+				android:layout_width="0dp"
+				android:layout_height="wrap_content"
+				android:clipToOutline="false"
+				android:padding="0dp"
+				android:scaleType="centerCrop"
+				android:src="@drawable/ic_sensors_search"
+				android:tint="?attr/list_divider"
+				osmand:layout_constraintBottom_toBottomOf="@+id/guideline"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toTopOf="@+id/guideline" />
 
-            <me.zhanghai.android.materialprogressbar.MaterialProgressBar
-                android:id="@+id/progressBar"
-                style="@style/Widget.MaterialProgressBar.ProgressBar.NoPadding"
-                android:layout_width="@dimen/acceptable_touch_radius"
-                android:layout_height="@dimen/acceptable_touch_radius"
-                android:layout_gravity="center_vertical"
-                android:indeterminate="true"
-                android:visibility="visible"
-                osmand:layout_constraintBottom_toBottomOf="@+id/guideline"
-                osmand:layout_constraintLeft_toLeftOf="parent"
-                osmand:layout_constraintRight_toRightOf="parent"
-                osmand:layout_constraintTop_toTopOf="@+id/guideline"
-                osmand:mpb_progressStyle="circular"
-                osmand:mpb_setBothDrawables="true"
-                osmand:mpb_useIntrinsicPadding="false" />
+			<me.zhanghai.android.materialprogressbar.MaterialProgressBar
+				android:id="@+id/progressBar"
+				style="@style/Widget.MaterialProgressBar.ProgressBar.NoPadding"
+				android:layout_width="@dimen/acceptable_touch_radius"
+				android:layout_height="@dimen/acceptable_touch_radius"
+				android:layout_gravity="center_vertical"
+				android:indeterminate="true"
+				android:visibility="visible"
+				osmand:layout_constraintBottom_toBottomOf="@+id/guideline"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toTopOf="@+id/guideline"
+				osmand:mpb_progressStyle="circular"
+				osmand:mpb_setBothDrawables="true"
+				osmand:mpb_useIntrinsicPadding="false" />
 
-            <TextView
-                android:id="@+id/searching_text"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_searching_text"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_list_text_size"
-                android:textStyle="bold"
-                osmand:layout_constraintBottom_toBottomOf="parent"
-                osmand:layout_constraintLeft_toLeftOf="parent"
-                osmand:layout_constraintRight_toRightOf="parent"
-                osmand:layout_constraintTop_toTopOf="parent"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/searching_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginTop="@dimen/external_devices_empty_content_centre_margin"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_searching_text"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_list_text_size"
+				android:textStyle="bold"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toTopOf="parent"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <TextView
-                android:id="@+id/no_bluetooth_description"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginTop="@dimen/content_padding_small_half"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:gravity="center"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_searching_text_description"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_desc_text_size"
-                osmand:layout_constraintTop_toBottomOf="@+id/searching_text"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/no_bluetooth_description_searching"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginLeft="@dimen/content_padding_small"
+				android:layout_marginTop="@dimen/content_padding_small_half"
+				android:layout_marginRight="@dimen/content_padding_small"
+				android:gravity="center"
+				android:lineSpacingExtra="5sp"
+				android:paddingStart="@dimen/content_padding_small"
+				android:paddingEnd="@dimen/content_padding_small"
+				android:text="@string/ant_plus_searching_text_description"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_desc_text_size"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toBottomOf="@+id/searching_text"
+				osmand:typeface="@string/font_roboto_medium" />
 
 
-        </androidx.constraintlayout.widget.ConstraintLayout> <!--SEARCHING-->
+		</androidx.constraintlayout.widget.ConstraintLayout> <!--SEARCHING-->
 
-        <RelativeLayout
-            android:id="@+id/state_no_bluetooth"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:orientation="vertical">
+		<androidx.constraintlayout.widget.ConstraintLayout
+			android:id="@+id/state_no_bluetooth"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:orientation="vertical"
+			android:paddingLeft="@dimen/content_padding_small"
+			android:paddingRight="@dimen/content_padding_small"
+			android:visibility="visible">
 
-            <androidx.appcompat.widget.AppCompatImageView
-                android:layout_width="48dp"
-                android:layout_height="48dp"
-                android:layout_above="@+id/no_bluetooth_text"
-                android:layout_centerHorizontal="true"
-                android:layout_marginBottom="@dimen/horizontal_divider_height"
-                android:src="@drawable/ic_action_bluetooth_disabled"
-                android:tint="?attr/default_icon_color" />
+			<androidx.appcompat.widget.AppCompatImageView
+				android:layout_width="48dp"
+				android:layout_height="48dp"
+				android:layout_centerHorizontal="true"
+				android:layout_marginBottom="@dimen/horizontal_divider_height"
+				android:src="@drawable/ic_action_bluetooth_disabled"
+				android:tint="?attr/default_icon_color"
+				osmand:layout_constraintBottom_toTopOf="@+id/no_bluetooth_text"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent" />
 
-            <TextView
-                android:id="@+id/no_bluetooth_text"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_centerInParent="true"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_bluetooth_off"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_list_text_size"
-                android:textStyle="bold"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/no_bluetooth_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginTop="@dimen/external_devices_empty_content_centre_margin"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_bluetooth_off"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_list_text_size"
+				android:textStyle="bold"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toTopOf="parent"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <TextView
-                android:id="@+id/no_bluetooth_description"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_below="@+id/no_bluetooth_text"
-                android:layout_centerInParent="true"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginTop="@dimen/content_padding_small_half"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_bluetooth_off_description"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_desc_text_size"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/no_bluetooth_description"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding_small"
+				android:layout_marginTop="@dimen/content_padding"
+				android:layout_marginEnd="@dimen/content_padding_small"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_bluetooth_off_description"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_desc_text_size"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toBottomOf="@+id/no_bluetooth_text"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <include
-                android:id="@+id/button_container"
-                layout="@layout/bottom_buttons"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_below="@+id/no_bluetooth_description"
-                android:layout_centerHorizontal="true"
-                android:layout_marginTop="@dimen/content_padding" />
+			<include
+				android:id="@+id/button_container"
+				layout="@layout/bottom_buttons"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginTop="@dimen/content_padding"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toBottomOf="@+id/no_bluetooth_description" />
 
-        </RelativeLayout> <!--NO_BLUETOOTH-->
+		</androidx.constraintlayout.widget.ConstraintLayout> <!--NO_BLUETOOTH-->
 
-        <RelativeLayout
-            android:id="@+id/state_nothing_found"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent">
+		<androidx.constraintlayout.widget.ConstraintLayout
+			android:id="@+id/state_nothing_found"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:paddingLeft="@dimen/content_padding_small"
+			android:paddingRight="@dimen/content_padding_small"
+			android:visibility="gone">
 
-            <androidx.appcompat.widget.AppCompatImageView
-                android:layout_width="48dp"
-                android:layout_height="48dp"
-                android:layout_above="@+id/nothing_found_text"
-                android:layout_centerHorizontal="true"
-                android:layout_marginBottom="@dimen/horizontal_divider_height"
-                android:src="@drawable/ic_action_sensor_find"
-                android:tint="?attr/default_icon_color" />
+			<androidx.appcompat.widget.AppCompatImageView
+				android:layout_width="48dp"
+				android:layout_height="48dp"
+				android:layout_marginBottom="@dimen/horizontal_divider_height"
+				android:src="@drawable/ic_action_sensor_find"
+				android:tint="?attr/default_icon_color"
+				osmand:layout_constraintBottom_toTopOf="@+id/nothing_found_text"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent" />
 
-            <TextView
-                android:id="@+id/nothing_found_text"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_centerInParent="true"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_nothing_found_text"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_list_text_size"
-                android:textStyle="bold"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/nothing_found_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginTop="@dimen/external_devices_empty_content_centre_margin"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_nothing_found_text"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_list_text_size"
+				android:textStyle="bold"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toTopOf="parent"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <TextView
-                android:id="@+id/nothing_found_description"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_below="@+id/nothing_found_text"
-                android:layout_centerInParent="true"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginTop="@dimen/content_padding_small_half"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:gravity="center"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_nothing_found_description"
-                android:textColor="?android:textColor"
-                android:textSize="@dimen/default_desc_text_size"
-                osmand:typeface="@string/font_roboto_medium" />
+			<TextView
+				android:id="@+id/nothing_found_description"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginTop="@dimen/content_padding_small_half"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:gravity="center"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_nothing_found_description"
+				android:textColor="?android:textColor"
+				android:textSize="@dimen/default_desc_text_size"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toBottomOf="@+id/nothing_found_text"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <include
-                android:id="@+id/button_container"
-                layout="@layout/bottom_buttons"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_below="@+id/nothing_found_description"
-                android:layout_centerHorizontal="true"
-                android:layout_marginTop="@dimen/content_padding" />
+			<include
+				android:id="@+id/button_container"
+				layout="@layout/bottom_buttons"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginTop="@dimen/content_padding"
+				osmand:layout_constraintLeft_toLeftOf="parent"
+				osmand:layout_constraintRight_toRightOf="parent"
+				osmand:layout_constraintTop_toBottomOf="@+id/nothing_found_description" />
 
-        </RelativeLayout> <!--NOTHING_FOUND-->
+		</androidx.constraintlayout.widget.ConstraintLayout> <!--NOTHING_FOUND-->
 
-        <LinearLayout
-            android:id="@+id/state_found_devices_list"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:orientation="vertical">
+		<LinearLayout
+			android:id="@+id/state_found_devices_list"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:orientation="vertical"
+			android:visibility="gone">
 
-            <TextView
-                android:id="@+id/found_devices_count"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_alignParentTop="true"
-                android:layout_marginStart="@dimen/content_padding_extra_large"
-                android:layout_marginTop="@dimen/content_padding_medium"
-                android:lineSpacingExtra="3sp"
-                android:text="Found: "
-                android:textColor="@color/preference_category_title"
-                android:textSize="@dimen/default_desc_text_size" />
+			<TextView
+				android:id="@+id/found_devices_count"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding_extra_large"
+				android:layout_marginTop="@dimen/content_padding_medium"
+				android:lineSpacingExtra="3sp"
+				android:textColor="@color/preference_category_title"
+				android:textSize="@dimen/default_desc_text_size"
+				osmand:typeface="@string/font_roboto_medium" />
 
-            <androidx.recyclerview.widget.RecyclerView
-                android:id="@+id/found_devices_list"
-                android:layout_width="match_parent"
-                android:layout_height="match_parent" />
+			<androidx.recyclerview.widget.RecyclerView
+				android:id="@+id/found_devices_list"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
 
-        </LinearLayout> <!--FOUND DEVICES-->
+		</LinearLayout> <!--FOUND DEVICES-->
 
-    </FrameLayout>
+	</FrameLayout>
 
 </LinearLayout>
diff --git a/OsmAnd/res/layout/fragment_ant_plus_sensors_list.xml b/OsmAnd/res/layout/fragment_ant_plus_sensors_list.xml
index a845e1c1236..697529490bf 100644
--- a/OsmAnd/res/layout/fragment_ant_plus_sensors_list.xml
+++ b/OsmAnd/res/layout/fragment_ant_plus_sensors_list.xml
@@ -1,235 +1,229 @@
 <?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:osmand="http://schemas.android.com/apk/res-auto"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    android:background="?attr/bg_color"
-    android:orientation="vertical"
-    android:clickable="true"
-    android:focusable="true">
-
-    <com.google.android.material.appbar.AppBarLayout
-        android:id="@+id/appbar"
-        android:layout_width="match_parent"
-        android:layout_height="@dimen/toolbar_height_expanded">
-
-        <com.google.android.material.appbar.CollapsingToolbarLayout
-            android:id="@+id/toolbar_layout"
-            android:layout_width="match_parent"
-            android:layout_height="@dimen/toolbar_height_expanded"
-            android:background="?attr/actionModeBackground"
-            osmand:collapsedTitleTextAppearance="@style/AppBarTitle"
-            osmand:expandedTitleGravity="start|bottom"
-            osmand:expandedTitleMarginBottom="@dimen/content_padding_small"
-            osmand:expandedTitleMarginEnd="@dimen/content_padding"
-            osmand:expandedTitleMarginStart="@dimen/content_padding"
-            osmand:expandedTitleTextAppearance="@style/AppBarTitle"
-            osmand:layout_scrollFlags="scroll|exitUntilCollapsed"
-
-            osmand:title="@string/external_sensors_plugin_name">
-
-            <androidx.appcompat.widget.Toolbar
-                android:id="@+id/toolbar"
-                android:layout_width="match_parent"
-                android:layout_height="@dimen/toolbar_height"
-                android:minHeight="@dimen/toolbar_height"
-                osmand:layout_collapseMode="none"
-                osmand:layout_scrollFlags="noScroll"
-                osmand:menu="@menu/ble_sensors_menu"
-                osmand:titleMarginEnd="0dp"
-                osmand:titleMarginStart="0dp">
-
-            </androidx.appcompat.widget.Toolbar>
-
-        </com.google.android.material.appbar.CollapsingToolbarLayout>
-
-    </com.google.android.material.appbar.AppBarLayout>
-
-    <FrameLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:layout_weight="1">
-
-        <LinearLayout
-            android:id="@+id/empty_view"
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical">
-
-            <ImageView
-                android:id="@+id/sensor_icon"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginLeft="16dp"
-                android:layout_marginTop="24dp"
-                android:layout_marginRight="16dp" />
-
-            <net.osmand.plus.widgets.TextViewEx
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginStart="@dimen/content_padding"
-                android:layout_marginTop="@dimen/content_padding"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:lineSpacingExtra="5sp"
-                android:text="@string/ant_plus_pair_bluetooth_prompt"
-                android:textColor="?android:textColorSecondary"
-                android:textSize="@dimen/default_desc_text_size"
-                osmand:typeface="@string/font_roboto_medium" />
-
-            <net.osmand.plus.widgets.TextViewEx
-                android:id="@+id/learn_more_button"
-                style="@style/DescStyle"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_marginHorizontal="@dimen/content_padding"
-                android:layout_marginTop="@dimen/content_padding_small"
-                android:text="@string/terms_of_service_desc"
-                android:textColor="?android:textColorSecondary" />
-
-            <include
-                android:id="@+id/pair_btn_empty"
-                layout="@layout/bottom_buttons" />
-
-        </LinearLayout> <!--Empty view-->
-
-        <LinearLayout
-            android:id="@+id/devices_content"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:orientation="vertical">
-
-            <LinearLayout
-                android:id="@+id/no_bluetooth_card"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginTop="@dimen/content_padding_small"
-                android:orientation="vertical">
-
-                <LinearLayout
-                    android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:layout_marginHorizontal="@dimen/content_padding"
-                    android:layout_marginVertical="@dimen/content_padding_small"
-                    android:orientation="horizontal">
-
-                    <androidx.appcompat.widget.AppCompatImageView
-                        android:layout_width="22dp"
-                        android:layout_height="22dp"
-                        android:layout_above="@+id/no_bluetooth_text"
-                        android:layout_centerHorizontal="true"
-                        android:src="@drawable/ic_action_bluetooth_disabled"
-                        android:tint="?attr/default_icon_color" />
-
-                    <LinearLayout
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:orientation="vertical">
-
-                        <TextView
-                            android:id="@+id/no_bluetooth_text"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:layout_centerInParent="true"
-                            android:layout_marginStart="@dimen/content_padding"
-                            android:layout_marginEnd="@dimen/content_padding"
-                            android:lineSpacingExtra="5sp"
-                            android:text="@string/ant_plus_bluetooth_off"
-                            android:textColor="?android:textColor"
-                            android:textSize="@dimen/default_list_text_size"
-                            android:textStyle="bold"
-                            osmand:typeface="@string/font_roboto_medium" />
-
-                        <TextView
-                            android:id="@+id/no_bluetooth_description"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:layout_below="@+id/no_bluetooth_text"
-                            android:layout_centerInParent="true"
-                            android:layout_marginStart="@dimen/content_padding"
-                            android:layout_marginTop="@dimen/content_padding_small_half"
-                            android:layout_marginEnd="@dimen/content_padding"
-                            android:lineSpacingExtra="5sp"
-                            android:text="@string/ant_plus_bluetooth_off_description"
-                            android:textColor="?android:textColor"
-                            android:textSize="@dimen/default_desc_text_size"
-                            osmand:typeface="@string/font_roboto_medium" />
-
-                    </LinearLayout>
-
-                </LinearLayout>
-
-
-                <include
-                    android:id="@+id/bt_settings_button_container"
-                    layout="@layout/bottom_buttons"
-                    android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:layout_below="@+id/no_bluetooth_description"
-                    android:layout_centerHorizontal="true"
-                    android:layout_marginTop="@dimen/content_padding"
-                    android:layout_marginBottom="@dimen/content_padding" />
-
-                <include layout="@layout/divider" />
-
-            </LinearLayout> <!--NO_BLUETOOTH-->
-
-
-            <androidx.core.widget.NestedScrollView
-                android:layout_width="match_parent"
-                android:layout_height="0dp"
-                android:layout_weight="1">
-
-                <LinearLayout
-                    android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:orientation="vertical">
-
-                    <TextView
-                        android:id="@+id/connected_prompt"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_alignParentTop="true"
-                        android:layout_marginStart="@dimen/content_padding_extra_large"
-                        android:layout_marginTop="@dimen/content_padding_medium"
-                        android:lineSpacingExtra="3sp"
-                        android:text="@string/external_device_connected"
-                        android:textColor="@color/preference_category_title"
-                        android:textSize="@dimen/default_desc_text_size" />
-
-                    <androidx.recyclerview.widget.RecyclerView
-                        android:id="@+id/connected_devices_list"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager" />
-
-                    <TextView
-                        android:id="@+id/disconnected_prompt"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_alignParentTop="true"
-                        android:layout_marginStart="@dimen/content_padding_extra_large"
-                        android:layout_marginTop="@dimen/content_padding_medium"
-                        android:lineSpacingExtra="3sp"
-                        android:text="@string/external_device_disconnected"
-                        android:textColor="@color/preference_category_title"
-                        android:textSize="@dimen/default_desc_text_size" />
-
-                    <androidx.recyclerview.widget.RecyclerView
-                        android:id="@+id/disconnected_devices_list"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager" />
-
-                </LinearLayout>
-
-            </androidx.core.widget.NestedScrollView>
-
-            <include
-                android:id="@+id/pair_btn_additional"
-                layout="@layout/bottom_buttons" />
-
-        </LinearLayout>
-
-    </FrameLayout>
-
-</LinearLayout>
+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent"
+	android:background="?attr/bg_color"
+	android:fitsSystemWindows="true">
+
+	<com.google.android.material.appbar.AppBarLayout
+		android:id="@+id/appbar"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/toolbar_height_expanded"
+		android:background="?attr/actionModeBackground">
+
+		<com.google.android.material.appbar.CollapsingToolbarLayout
+			android:id="@+id/toolbar_layout"
+			android:layout_width="match_parent"
+			android:layout_height="@dimen/toolbar_height_expanded"
+			android:background="?attr/actionModeBackground"
+			osmand:collapsedTitleTextAppearance="@style/AppBarTitle"
+			osmand:expandedTitleGravity="start|bottom"
+			osmand:expandedTitleMargin="@dimen/content_padding"
+			osmand:expandedTitleTextAppearance="@style/AppBarTitle"
+			osmand:layout_scrollFlags="scroll|exitUntilCollapsed|snap"
+			osmand:title="@string/external_sensors_plugin_name">
+
+			<androidx.appcompat.widget.Toolbar
+				android:id="@+id/toolbar"
+				android:layout_width="match_parent"
+				android:layout_height="@dimen/toolbar_height"
+				android:fitsSystemWindows="true"
+				osmand:layout_collapseMode="pin"
+				osmand:menu="@menu/ble_sensors_menu">
+
+			</androidx.appcompat.widget.Toolbar>
+
+		</com.google.android.material.appbar.CollapsingToolbarLayout>
+
+	</com.google.android.material.appbar.AppBarLayout>
+
+	<FrameLayout
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		osmand:layout_behavior="com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior">
+
+		<LinearLayout
+			android:id="@+id/empty_view"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:orientation="vertical">
+
+			<ImageView
+				android:id="@+id/sensor_icon"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginLeft="16dp"
+				android:layout_marginTop="24dp"
+				android:layout_marginRight="16dp"
+				android:scaleType="fitCenter" />
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginTop="@dimen/content_padding"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:lineSpacingExtra="5sp"
+				android:text="@string/ant_plus_pair_bluetooth_prompt"
+				android:textColor="?android:textColorSecondary"
+				android:textSize="@dimen/default_list_text_size"
+				osmand:typeface="@string/font_roboto_regular" />
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/learn_more_button"
+				style="@style/DescStyle"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginHorizontal="@dimen/content_padding"
+				android:layout_marginTop="@dimen/content_padding_small"
+				android:text="@string/terms_of_service_desc"
+				android:textColor="?android:textColorSecondary"
+				android:textSize="@dimen/default_list_text_size" />
+
+			<include
+				android:id="@+id/pair_btn_empty"
+				layout="@layout/bottom_buttons" />
+
+		</LinearLayout> <!--Empty view-->
+
+		<LinearLayout
+			android:id="@+id/devices_content"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:orientation="vertical">
+
+			<LinearLayout
+				android:id="@+id/no_bluetooth_card"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_marginTop="@dimen/content_padding_small"
+				android:orientation="vertical">
+
+				<LinearLayout
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginHorizontal="@dimen/content_padding"
+					android:layout_marginVertical="@dimen/content_padding_small"
+					android:orientation="horizontal">
+
+					<androidx.appcompat.widget.AppCompatImageView
+						android:layout_width="22dp"
+						android:layout_height="22dp"
+						android:layout_above="@+id/no_bluetooth_text"
+						android:layout_centerHorizontal="true"
+						android:src="@drawable/ic_action_bluetooth_disabled"
+						android:tint="?attr/default_icon_color" />
+
+					<LinearLayout
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:orientation="vertical">
+
+						<TextView
+							android:id="@+id/no_bluetooth_text"
+							android:layout_width="wrap_content"
+							android:layout_height="wrap_content"
+							android:layout_centerInParent="true"
+							android:layout_marginStart="@dimen/content_padding"
+							android:layout_marginEnd="@dimen/content_padding"
+							android:lineSpacingExtra="5sp"
+							android:text="@string/ant_plus_bluetooth_off"
+							android:textColor="?android:textColor"
+							android:textSize="@dimen/default_list_text_size"
+							android:textStyle="bold"
+							osmand:typeface="@string/font_roboto_medium" />
+
+						<TextView
+							android:id="@+id/no_bluetooth_description"
+							android:layout_width="wrap_content"
+							android:layout_height="wrap_content"
+							android:layout_below="@+id/no_bluetooth_text"
+							android:layout_centerInParent="true"
+							android:layout_marginStart="@dimen/content_padding"
+							android:layout_marginTop="@dimen/content_padding_small_half"
+							android:layout_marginEnd="@dimen/content_padding"
+							android:lineSpacingExtra="5sp"
+							android:text="@string/ant_plus_bluetooth_off_description"
+							android:textColor="?android:textColor"
+							android:textSize="@dimen/default_desc_text_size"
+							osmand:typeface="@string/font_roboto_medium" />
+
+					</LinearLayout>
+
+				</LinearLayout>
+
+
+				<include
+					android:id="@+id/bt_settings_button_container"
+					layout="@layout/bottom_buttons"
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:layout_below="@+id/no_bluetooth_description"
+					android:layout_centerHorizontal="true"
+					android:layout_marginTop="@dimen/content_padding"
+					android:layout_marginBottom="@dimen/content_padding" />
+
+				<include layout="@layout/divider" />
+
+			</LinearLayout> <!--NO_BLUETOOTH-->
+
+
+			<androidx.core.widget.NestedScrollView
+				android:layout_width="match_parent"
+				android:layout_height="0dp"
+				android:layout_weight="1">
+
+				<LinearLayout
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:orientation="vertical">
+
+					<TextView
+						android:id="@+id/connected_prompt"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:layout_marginStart="@dimen/content_padding_extra_large"
+						android:layout_marginTop="@dimen/content_padding_medium"
+						android:lineSpacingExtra="3sp"
+						android:text="@string/external_device_connected"
+						android:textColor="@color/preference_category_title"
+						android:textSize="@dimen/default_desc_text_size"
+						osmand:typeface="@string/font_roboto_medium" />
+
+					<androidx.recyclerview.widget.RecyclerView
+						android:id="@+id/connected_devices_list"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager" />
+
+					<TextView
+						android:id="@+id/disconnected_prompt"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:layout_marginStart="@dimen/content_padding_extra_large"
+						android:layout_marginTop="@dimen/content_padding_medium"
+						android:lineSpacingExtra="3sp"
+						android:text="@string/external_device_disconnected"
+						android:textColor="@color/preference_category_title"
+						android:textSize="@dimen/default_desc_text_size"
+						osmand:typeface="@string/font_roboto_medium" />
+
+					<androidx.recyclerview.widget.RecyclerView
+						android:id="@+id/disconnected_devices_list"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager" />
+
+				</LinearLayout>
+
+			</androidx.core.widget.NestedScrollView>
+
+			<include
+				android:id="@+id/pair_btn_additional"
+				layout="@layout/bottom_buttons" />
+
+		</LinearLayout>
+	</FrameLayout>
+
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
diff --git a/OsmAnd/res/layout/fragment_external_device_details.xml b/OsmAnd/res/layout/fragment_external_device_details.xml
index b842581201f..71ef68c6e0a 100644
--- a/OsmAnd/res/layout/fragment_external_device_details.xml
+++ b/OsmAnd/res/layout/fragment_external_device_details.xml
@@ -1,298 +1,226 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:osmand="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    android:background="?attr/activity_background_color"
-    android:orientation="vertical"
-    android:clickable="true"
-    android:focusable="true">
-
-    <LinearLayout
-        android:id="@+id/content"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:orientation="vertical">
-
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:layout_marginBottom="@dimen/content_padding_small"
-            android:background="?attr/card_and_list_background_basic"
-            android:orientation="vertical">
-
-            <ImageButton
-                android:id="@+id/close_button"
-                style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
-                android:layout_width="@dimen/toolbar_height"
-                android:layout_height="@dimen/toolbar_height"
-                android:contentDescription="@string/access_shared_string_navigate_up"
-                android:tint="?attr/default_icon_color"
-                osmand:srcCompat="@drawable/ic_arrow_back" />
-
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:orientation="horizontal">
-
-                <ImageView
-                    android:id="@+id/widget_icon"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_margin="@dimen/content_padding"
-                    android:background="@drawable/bg_widget_type_icon"
-                    android:scaleType="center"
-                    tools:src="@drawable/widget_sensor_distance_day" />
-
-                <LinearLayout
-                    android:layout_width="match_parent"
-                    android:layout_height="match_parent"
-                    android:layout_marginTop="@dimen/content_padding"
-                    android:layout_marginBottom="@dimen/content_padding"
-                    android:orientation="vertical">
-
-                    <TextView
-                        android:id="@+id/device_name"
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
-                        android:text="Wohoo"
-                        android:textSize="@dimen/dialog_header_text_size" />
-
-                    <LinearLayout
-                        android:layout_width="wrap_content"
-                        android:layout_height="match_parent"
-                        android:layout_weight="1"
-                        android:orientation="horizontal">
-
-                        <ImageView
-                            android:id="@+id/connection_state_icon"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:layout_gravity="bottom"
-                            tools:src="@drawable/ic_action_signal_high" />
-
-                        <TextView
-                            android:id="@+id/connection_state"
-                            android:layout_width="match_parent"
-                            android:layout_height="match_parent"
-                            android:layout_marginStart="@dimen/content_padding_small_half"
-                            android:gravity="bottom|start"
-                            android:textColor="?android:textColorSecondary"
-                            android:textSize="@dimen/default_desc_text_size"
-                            tools:text="Disconnected" />
-
-                    </LinearLayout>
-
-                </LinearLayout>
-
-            </LinearLayout>
-
-            <FrameLayout
-                android:id="@+id/pair_btn"
-                android:layout_width="match_parent"
-                android:layout_height="@dimen/dialog_button_height"
-                android:layout_margin="@dimen/content_padding">
-
-                <FrameLayout
-                    android:id="@+id/button_container"
-                    android:layout_width="match_parent"
-                    android:layout_height="match_parent"
-                    android:duplicateParentState="true"
-                    tools:ignore="UselessParent">
-
-                    <net.osmand.plus.widgets.TextViewEx
-                        android:id="@+id/button_text"
-                        android:layout_width="match_parent"
-                        android:layout_height="match_parent"
-                        android:layout_gravity="center"
-                        android:drawablePadding="@dimen/content_padding_half"
-                        android:duplicateParentState="true"
-                        android:gravity="center"
-                        android:paddingStart="@dimen/content_padding_small"
-                        android:paddingLeft="@dimen/content_padding_small"
-                        android:paddingEnd="@dimen/content_padding_small"
-                        android:paddingRight="@dimen/content_padding_small"
-                        android:textSize="@dimen/default_desc_text_size"
-                        osmand:typeface="@string/font_roboto_medium"
-                        tools:text="Pair" />
-
-                </FrameLayout>
-            </FrameLayout>
-        </LinearLayout> <!--HEADER-->
-
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:layout_marginTop="@dimen/content_padding_small"
-            android:layout_marginBottom="@dimen/content_padding_small"
-            android:background="?attr/card_and_list_background_basic"
-            android:orientation="vertical">
-
-            <net.osmand.plus.widgets.TextViewEx
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:gravity="center_vertical"
-                android:padding="@dimen/content_padding"
-                android:text="@string/external_device_details_information"
-                android:textSize="@dimen/default_list_text_size"
-                osmand:typeface="@string/font_roboto_medium" />
-
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:orientation="horizontal">
-
-                <TextView
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:gravity="center_vertical"
-                    android:lineSpacingExtra="5sp"
-                    android:padding="@dimen/content_padding"
-                    android:text="@string/external_device_details_connection"
-                    android:textSize="@dimen/default_list_text_size" />
-
-                <TextView
-                    android:id="@+id/connection_type"
-                    android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:gravity="center_vertical|right"
-                    android:lineSpacingExtra="5sp"
-                    android:padding="@dimen/content_padding"
-                    android:text="-"
-                    android:textSize="@dimen/default_list_text_size" />
-
-            </LinearLayout>
-
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:orientation="horizontal">
-
-                <TextView
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:gravity="center_vertical"
-                    android:lineSpacingExtra="5sp"
-                    android:padding="@dimen/content_padding"
-                    android:text="@string/external_device_details_battery"
-                    android:textSize="@dimen/default_list_text_size" />
-
-                <TextView
-                    android:id="@+id/battery_level"
-                    android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:gravity="center_vertical|right"
-                    android:lineSpacingExtra="5sp"
-                    android:padding="@dimen/content_padding"
-                    android:text="-"
-                    android:textSize="@dimen/default_list_text_size" />
-
-            </LinearLayout>
-
-        </LinearLayout>
-
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:layout_marginTop="@dimen/content_padding_small"
-            android:background="?attr/card_and_list_background_basic"
-            android:orientation="vertical">
-
-            <net.osmand.plus.widgets.TextViewEx
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:gravity="center_vertical"
-                android:padding="@dimen/content_padding"
-                android:text="@string/external_device_details_received_data"
-                android:textSize="@dimen/default_list_text_size"
-                osmand:typeface="@string/font_roboto_medium" />
-
-            <androidx.recyclerview.widget.RecyclerView
-                android:id="@+id/received_data"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
-                tools:listitem="@layout/device_characteristic_item" />
-
-            <!--            <LinearLayout-->
-            <!--                android:layout_width="match_parent"-->
-            <!--                android:layout_height="wrap_content"-->
-            <!--                android:orientation="horizontal">-->
-
-            <!--                <TextView-->
-            <!--                    android:layout_width="wrap_content"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="@string/external_device_details_speed"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--                <TextView-->
-            <!--                    android:id="@+id/speed"-->
-            <!--                    android:layout_width="match_parent"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical|right"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="-"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--            </LinearLayout>-->
-            <!--            <LinearLayout-->
-            <!--                android:layout_width="match_parent"-->
-            <!--                android:layout_height="wrap_content"-->
-            <!--                android:orientation="horizontal">-->
-
-            <!--                <net.osmand.plus.widgets.TextViewEx-->
-            <!--                    android:layout_width="wrap_content"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="@string/external_device_details_total_distance"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--                <TextView-->
-            <!--                    android:id="@+id/total_distance"-->
-            <!--                    android:layout_width="match_parent"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical|right"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="-"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--            </LinearLayout>-->
-            <!--            <LinearLayout-->
-            <!--                android:layout_width="match_parent"-->
-            <!--                android:layout_height="wrap_content"-->
-            <!--                android:orientation="horizontal">-->
-
-            <!--                <TextView-->
-            <!--                    android:layout_width="wrap_content"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="@string/external_device_details_distance"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--                <TextView-->
-            <!--                    android:id="@+id/distance"-->
-            <!--                    android:layout_width="match_parent"-->
-            <!--                    android:layout_height="wrap_content"-->
-            <!--                    android:gravity="center_vertical|right"-->
-            <!--                    android:lineSpacingExtra="5sp"-->
-            <!--                    android:padding="@dimen/content_padding"-->
-            <!--                    android:text="-"-->
-            <!--                    android:textSize="@dimen/default_list_text_size" />-->
-
-            <!--            </LinearLayout>-->
-
-        </LinearLayout>
-
-    </LinearLayout>
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="match_parent"
+	android:background="?attr/activity_background_color"
+	android:clickable="true"
+	android:focusable="true"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/content"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="vertical">
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:layout_marginBottom="@dimen/content_padding_small"
+			android:background="?attr/card_and_list_background_basic"
+			android:elevation="2dp"
+			android:orientation="vertical">
+
+			<ImageButton
+				android:id="@+id/close_button"
+				style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
+				android:layout_width="@dimen/toolbar_height"
+				android:layout_height="@dimen/toolbar_height"
+				android:contentDescription="@string/access_shared_string_navigate_up"
+				android:tint="?attr/default_icon_color"
+				osmand:srcCompat="@drawable/ic_arrow_back" />
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:orientation="horizontal">
+
+				<ImageView
+					android:id="@+id/widget_icon"
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:layout_margin="@dimen/content_padding"
+					android:background="@drawable/bg_widget_type_icon"
+					android:scaleType="center"
+					tools:src="@drawable/widget_sensor_distance_day" />
+
+				<LinearLayout
+					android:layout_width="match_parent"
+					android:layout_height="match_parent"
+					android:layout_marginTop="@dimen/content_padding"
+					android:layout_marginBottom="@dimen/content_padding"
+					android:orientation="vertical">
+
+					<TextView
+						android:id="@+id/device_name"
+						android:layout_width="wrap_content"
+						android:layout_height="wrap_content"
+						android:textSize="@dimen/dialog_header_text_size"
+						osmand:typeface="@string/font_roboto_medium"
+						tools:text="Wohoo" />
+
+					<LinearLayout
+						android:layout_width="wrap_content"
+						android:layout_height="match_parent"
+						android:layout_weight="1"
+						android:orientation="horizontal">
+
+						<ImageView
+							android:id="@+id/connection_state_icon"
+							android:layout_width="wrap_content"
+							android:layout_height="wrap_content"
+							android:layout_gravity="bottom"
+							tools:src="@drawable/ic_action_signal_high" />
+
+						<TextView
+							android:id="@+id/connection_state"
+							android:layout_width="match_parent"
+							android:layout_height="match_parent"
+							android:layout_marginStart="@dimen/content_padding_small_half"
+							android:gravity="bottom|start"
+							android:textColor="?android:textColorSecondary"
+							android:textSize="@dimen/default_desc_text_size"
+							tools:text="Disconnected" />
+
+					</LinearLayout>
+
+				</LinearLayout>
+
+			</LinearLayout>
+
+			<FrameLayout
+				android:id="@+id/pair_btn"
+				android:layout_width="match_parent"
+				android:layout_height="@dimen/dialog_button_height"
+				android:layout_margin="@dimen/content_padding">
+
+				<FrameLayout
+					android:id="@+id/button_container"
+					android:layout_width="match_parent"
+					android:layout_height="match_parent"
+					android:duplicateParentState="true"
+					tools:ignore="UselessParent">
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:id="@+id/button_text"
+						android:layout_width="match_parent"
+						android:layout_height="match_parent"
+						android:layout_gravity="center"
+						android:drawablePadding="@dimen/content_padding_half"
+						android:duplicateParentState="true"
+						android:gravity="center"
+						android:paddingStart="@dimen/content_padding_small"
+						android:paddingLeft="@dimen/content_padding_small"
+						android:paddingEnd="@dimen/content_padding_small"
+						android:paddingRight="@dimen/content_padding_small"
+						android:textSize="@dimen/default_desc_text_size"
+						osmand:typeface="@string/font_roboto_medium"
+						tools:text="Pair" />
+
+				</FrameLayout>
+			</FrameLayout>
+		</LinearLayout> <!--HEADER-->
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:layout_marginTop="@dimen/content_padding_small"
+			android:layout_marginBottom="@dimen/content_padding_small"
+			android:background="?attr/card_and_list_background_basic"
+			android:elevation="2dp"
+			android:orientation="vertical">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:gravity="center_vertical"
+				android:padding="@dimen/content_padding"
+				android:text="@string/external_device_details_information"
+				android:textSize="@dimen/default_list_text_size"
+				osmand:typeface="@string/font_roboto_medium" />
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:orientation="horizontal">
+
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:gravity="center_vertical"
+					android:lineSpacingExtra="5sp"
+					android:padding="@dimen/content_padding"
+					android:text="@string/external_device_details_connection"
+					android:textSize="@dimen/default_list_text_size" />
+
+				<TextView
+					android:id="@+id/connection_type"
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:gravity="center_vertical|right"
+					android:lineSpacingExtra="5sp"
+					android:padding="@dimen/content_padding"
+					android:text="-"
+					android:textSize="@dimen/default_list_text_size" />
+
+			</LinearLayout>
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:orientation="horizontal">
+
+				<TextView
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:gravity="center_vertical"
+					android:lineSpacingExtra="5sp"
+					android:padding="@dimen/content_padding"
+					android:text="@string/external_device_details_battery"
+					android:textSize="@dimen/default_list_text_size" />
+
+				<TextView
+					android:id="@+id/battery_level"
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:gravity="center_vertical|right"
+					android:lineSpacingExtra="5sp"
+					android:padding="@dimen/content_padding"
+					android:text="-"
+					android:textSize="@dimen/default_list_text_size" />
+
+			</LinearLayout>
+
+		</LinearLayout>
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:layout_marginTop="@dimen/content_padding_small"
+			android:background="?attr/card_and_list_background_basic"
+			android:elevation="2dp"
+			android:orientation="vertical">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:gravity="center_vertical"
+				android:padding="@dimen/content_padding"
+				android:text="@string/external_device_details_received_data"
+				android:textSize="@dimen/default_list_text_size"
+				osmand:typeface="@string/font_roboto_medium" />
+
+			<androidx.recyclerview.widget.RecyclerView
+				android:id="@+id/received_data"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				osmand:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
+				tools:listitem="@layout/device_characteristic_item" />
+
+		</LinearLayout>
+
+	</LinearLayout>
 
 </LinearLayout>
diff --git a/OsmAnd/res/layout/item_external_device.xml b/OsmAnd/res/layout/item_external_device.xml
index f0fa0763712..3aa1a68637d 100644
--- a/OsmAnd/res/layout/item_external_device.xml
+++ b/OsmAnd/res/layout/item_external_device.xml
@@ -64,13 +64,15 @@
 
                 <androidx.appcompat.widget.AppCompatImageView
                     android:id="@+id/menu_icon"
-                    android:layout_width="@dimen/standard_icon_size"
-                    android:layout_height="@dimen/standard_icon_size"
+                    android:layout_width="@dimen/icon_size_double"
+                    android:layout_height="@dimen/icon_size_double"
                     android:layout_gravity="center"
+                    android:scaleType="center"
                     android:layout_marginHorizontal="@dimen/content_padding"
                     android:layout_marginVertical="@dimen/content_padding_small"
                     android:src="@drawable/ic_overflow_menu_white"
-                    android:tint="?attr/secondary_icon_color" />
+                    android:tint="?attr/secondary_icon_color"
+                    android:visibility="gone"/>
 
 
             </LinearLayout>
diff --git a/OsmAnd/res/menu/ble_sensors_menu.xml b/OsmAnd/res/menu/ble_sensors_menu.xml
index 2e4877f6fe6..89cc8ce08d8 100644
--- a/OsmAnd/res/menu/ble_sensors_menu.xml
+++ b/OsmAnd/res/menu/ble_sensors_menu.xml
@@ -5,6 +5,7 @@
         android:id="@+id/action_add"
         android:icon="@drawable/ic_action_add_no_bg"
         android:title="@string/ant_plus_pair_new_sensor"
+        android:contentDescription="@string/ant_plus_pair_new_sensor"
         osmand:showAsAction="always" />
 
 </menu>
\ No newline at end of file
diff --git a/OsmAnd/res/values/colors.xml b/OsmAnd/res/values/colors.xml
index f36988d3ddc..a97026ea05c 100644
--- a/OsmAnd/res/values/colors.xml
+++ b/OsmAnd/res/values/colors.xml
@@ -515,4 +515,6 @@
 	<color name="track_gradient_end">#F3374D</color>
 
 	<color name="ble_unpaired_device_btn_bg">#14CC70</color>
+	<color name="external_device_empty_icon_bg_night">#121212</color>
+	<color name="external_device_empty_icon_bg_day">#F3F4F6</color>
 </resources>
\ No newline at end of file
diff --git a/OsmAnd/res/values/links.xml b/OsmAnd/res/values/links.xml
index 6c1385c8f9b..272a12e035f 100644
--- a/OsmAnd/res/values/links.xml
+++ b/OsmAnd/res/values/links.xml
@@ -23,6 +23,7 @@
     <string name="docs_widget_trip_recording" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets/#-trip-recording-widgets</string>
     <string name="docs_widget_current_time" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets/#current-time</string>
     <string name="docs_widget_battery" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets/#battery-level</string>
+    <string name="docs_widget_rssi" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets</string>
     <string name="docs_widget_radius_ruler" translatable="false">https://docs.osmand.net/docs/user/widgets/radius-ruler</string>
     <string name="docs_widget_fps" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets/#-fps-info-android</string>
     <string name="docs_widget_mapillary" translatable="false">https://docs.osmand.net/docs/user/widgets/info-widgets/#-mapillary-widget</string>
@@ -38,6 +39,7 @@
     <string name="docs_legal_terms_of_use" translatable="false">https://osmand.net/docs/legal/terms-of-use</string>
     <string name="docs_legal_privacy_policy" translatable="false">https://osmand.net/docs/legal/privacy-policy</string>
     <string name="docs_external_sensors" translatable="false">https://docs.osmand.net/docs/user/plugins/external-sensors</string>
+    <string name="docs_external_sensors_unknown_type" translatable="false">https://docs.osmand.net/docs/intro</string>
     <string name="docs_proxy_settings" translatable="false">https://osmand.net/docs/user/personal/global-settings/#proxy</string>
 
     <string name="community_twitter" translatable="false">https://twitter.com/osmandapp</string>
diff --git a/OsmAnd/res/values/sizes.xml b/OsmAnd/res/values/sizes.xml
index 4ee1662dc3a..ae275c3f9cb 100644
--- a/OsmAnd/res/values/sizes.xml
+++ b/OsmAnd/res/values/sizes.xml
@@ -447,5 +447,6 @@
 	<dimen name="radius_double_large">18dp</dimen>
 
 	<dimen name="bottom_space_height">160dp</dimen>
+	<dimen name="external_devices_empty_content_centre_margin">131dp</dimen>
 
 </resources>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 299e813b5c2..1d9d1a416e6 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,7 +10,8 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
-
+    <string name="rssi_widget_desc">Shows the RSSI level of your external device.</string>
+    <string name="map_widget_rssi">Rssi</string>
     <string name="map_2d_mode_action">2D mode</string>
     <string name="map_3d_mode_action">3D mode</string>
     <string name="map_3d_mode_hint">Long tap on button allows to change button position.</string>
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
index 65c02f1dce4..83925531579 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
@@ -17,7 +17,6 @@
 import android.content.ActivityNotFoundException;
 import android.content.Context;
 import android.content.Intent;
-import android.content.SharedPreferences;
 import android.content.pm.PackageManager;
 import android.net.Uri;
 import android.os.Build;
@@ -26,7 +25,6 @@
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.core.app.ActivityCompat;
-import androidx.preference.PreferenceManager;
 
 import com.dsi.ant.plugins.antplus.pcc.AntPlusHeartRatePcc;
 import com.dsi.ant.plugins.antplus.pccbase.AntPluginPcc;
@@ -73,16 +71,10 @@ public class DevicesHelper implements DeviceListener, DevicePreferencesListener
 
 	public static final int ENABLE_BLUETOOTH_REQUEST_CODE = 400;
 
-	public final static String SCAN_MODE_PREFERENCE = "SCAN_MODE";
-	public final static String MATCH_MODE_PREFERENCE = "MATCH_MODE";
-	public final static String CALLBACK_TYPE_PREFERENCE = "CALLBACK_TYPE";
-	public final static String MATCH_NUM_PREFERENCE = "MATCH_NUM";
-
 	private static final Log LOG = PlatformUtil.getLog(DevicesHelper.class);
 
 	private final static List<UUID> SUPPORTED_BLE_SERVICE_UUIDS = Arrays.asList(
 			BLEBikeSCDDevice.getServiceUUID(),
-			BLEBPICPDevice.getServiceUUID(),
 			BLEHeartRateDevice.getServiceUUID(),
 			BLERunningSCDDevice.getServiceUUID(),
 			BLETemperatureDevice.getServiceUUID());
@@ -231,6 +223,7 @@ private void addScanResult(ScanResult result) {
 		@Override
 		public void onScanFailed(int errorCode) {
 			super.onScanFailed(errorCode);
+			LOG.error("BLE scan failed. Error " + errorCode);
 		}
 	};
 
@@ -557,31 +550,18 @@ public void scanBLEDevices(boolean enable) {
 				return;
 			}
 
-			List<ScanFilter> filters = null;
-			/*
-			ArrayList<UUID> serviceUUIDs = new ArrayList<>();
-			// TODO: filterList always empty?
-			for (DeviceType type : filterList) {
-				serviceUUIDs.add(UUID.fromString(type.getUUIDService()));
-			}
-			if (!serviceUUIDs.isEmpty()) {
-				filters = new ArrayList<>();
-				for (UUID serviceUUID : serviceUUIDs) {
-					ScanFilter filter = new ScanFilter.Builder()
-							.setServiceUuid(new ParcelUuid(serviceUUID))
-							.build();
-					filters.add(filter);
-				}
+			ArrayList<ScanFilter> filters = new ArrayList<>();
+			for (UUID serviceUUID : SUPPORTED_BLE_SERVICE_UUIDS) {
+				ScanFilter filter = new ScanFilter.Builder()
+						.setServiceUuid(new ParcelUuid(serviceUUID))
+						.build();
+				filters.add(filter);
 			}
-			 */
-
-			SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(activity);
-			// TODO: Are preferences needed? Will constants be enough?
 			ScanSettings scanSettings = new ScanSettings.Builder()
-					.setScanMode(Integer.parseInt(preferences.getString(SCAN_MODE_PREFERENCE, "1")))
-					.setCallbackType(Integer.parseInt(preferences.getString(CALLBACK_TYPE_PREFERENCE, "1")))
-					.setMatchMode(Integer.parseInt(preferences.getString(MATCH_MODE_PREFERENCE, "2")))
-					.setNumOfMatches(Integer.parseInt(preferences.getString(MATCH_NUM_PREFERENCE, "1")))
+					.setScanMode(ScanSettings.SCAN_MODE_LOW_POWER)
+					.setCallbackType(ScanSettings.CALLBACK_TYPE_ALL_MATCHES)
+					.setMatchMode(ScanSettings.MATCH_MODE_AGGRESSIVE)
+					.setNumOfMatches(ScanSettings.MATCH_NUM_ONE_ADVERTISEMENT)
 					.setReportDelay(0L)
 					.build();
 
@@ -595,24 +575,24 @@ private boolean requestBLEPermissions() {
 		if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R) {
 			if (!AndroidUtils.hasPermission(activity, Manifest.permission.BLUETOOTH_SCAN)) {
 				hasNeededPermissions = false;
-				ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 4);
+				ActivityCompat.requestPermissions(activity, new String[] {Manifest.permission.BLUETOOTH_SCAN}, 4);
 			}
 			if (!AndroidUtils.hasPermission(activity, Manifest.permission.BLUETOOTH_CONNECT)) {
 				hasNeededPermissions = false;
 				ActivityCompat.requestPermissions(
 						activity,
-						new String[]{Manifest.permission.BLUETOOTH_CONNECT},
+						new String[] {Manifest.permission.BLUETOOTH_CONNECT},
 						5
 				);
 			}
 		} else {
 			if (!AndroidUtils.hasPermission(activity, Manifest.permission.BLUETOOTH)) {
 				hasNeededPermissions = false;
-				ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.BLUETOOTH}, 2);
+				ActivityCompat.requestPermissions(activity, new String[] {Manifest.permission.BLUETOOTH}, 2);
 			}
 			if (!AndroidUtils.hasPermission(activity, Manifest.permission.BLUETOOTH_ADMIN)) {
 				hasNeededPermissions = false;
-				ActivityCompat.requestPermissions(activity, new String[]{Manifest.permission.BLUETOOTH_ADMIN}, 3);
+				ActivityCompat.requestPermissions(activity, new String[] {Manifest.permission.BLUETOOTH_ADMIN}, 3);
 			}
 		}
 		return hasNeededPermissions;
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/PairedDevicesAdapter.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/PairedDevicesAdapter.java
index 2584785e58b..47b364b3dfb 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/PairedDevicesAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/PairedDevicesAdapter.java
@@ -8,6 +8,7 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.view.menu.MenuBuilder;
 import androidx.appcompat.widget.PopupMenu;
+import androidx.core.view.MenuCompat;
 
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
@@ -28,15 +29,14 @@ public PairedDevicesAdapter(@NonNull OsmandApplication app, boolean nightMode,
 	public void onBindViewHolder(@NonNull FoundDeviceViewHolder holder, int position) {
 		super.onBindViewHolder(holder, position);
 		AbstractDevice<?> device = items.get(position);
+		holder.menuIcon.setVisibility(View.VISIBLE);
 		holder.menuIcon.setOnClickListener(v -> showOptionsMenu(v, device));
-
 	}
 
 	private void showOptionsMenu(View view, AbstractDevice<?> device) {
 		PopupMenu optionsMenu = new PopupMenu(view.getContext(), view);
 		((MenuBuilder) optionsMenu.getMenu()).setOptionalIconsVisible(true);
-		// TODO: 28 API
-		//optionsMenu.getMenu().setGroupDividerEnabled(true);
+		MenuCompat.setGroupDividerEnabled(optionsMenu.getMenu(), true);
 		MenuItem enableDisableItem = optionsMenu.getMenu().add(1, 1, Menu.NONE,
 				device.isConnected()
 						? R.string.external_device_details_disconnect
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikePowerDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikePowerDevice.java
index 61e43436f80..76e27cfcba4 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikePowerDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikePowerDevice.java
@@ -12,7 +12,7 @@
 import net.osmand.plus.plugins.externalsensors.DeviceType;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikePowerSensor;
 
-public class AntBikePowerDevice extends AntAbstractDevice<AntPlusBikePowerPcc> {
+public class AntBikePowerDevice extends AntCommonDevice<AntPlusBikePowerPcc> {
 
 	public AntBikePowerDevice(@NonNull String deviceId) {
 		super(deviceId);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedCadenceDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedCadenceDevice.java
index 167f024fc18..d1a11d26fba 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedCadenceDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedCadenceDevice.java
@@ -16,7 +16,7 @@
 import net.osmand.plus.plugins.externalsensors.DeviceType;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikeCadenceSensor;
 
-public class AntBikeSpeedCadenceDevice extends AntAbstractDevice<AntPlusBikeCadencePcc> {
+public class AntBikeSpeedCadenceDevice extends AntLegacyDevice<AntPlusBikeCadencePcc> {
 
 	private AntBikeSpeedDistanceDevice spdDistDevice;
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
index 5440439cc49..23483a71a78 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
@@ -17,7 +17,7 @@
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikeDistanceSensor;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikeSpeedSensor;
 
-public class AntBikeSpeedDistanceDevice extends AntAbstractDevice<AntPlusBikeSpeedDistancePcc> {
+public class AntBikeSpeedDistanceDevice extends AntLegacyDevice<AntPlusBikeSpeedDistancePcc> {
 
 	private AntBikeSpeedCadenceDevice spdCadDevice;
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntCommonDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntCommonDevice.java
new file mode 100644
index 00000000000..f754d96774c
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntCommonDevice.java
@@ -0,0 +1,30 @@
+package net.osmand.plus.plugins.externalsensors.devices.ant;
+
+import androidx.annotation.NonNull;
+
+import com.dsi.ant.plugins.antplus.pccbase.AntPlusCommonPcc;
+
+import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBatterySensor;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntRssiCommonSensor;
+
+public abstract class AntCommonDevice<T extends AntPlusCommonPcc> extends AntAbstractDevice<T> {
+
+	public AntCommonDevice(@NonNull String deviceId) {
+		super(deviceId);
+		sensors.add(new AntRssiCommonSensor<>(this));
+		sensors.add(new AntBatterySensor<>(this));
+	}
+
+	@Override
+	public void fireSensorDataEvent(@NonNull AbstractSensor sensor, @NonNull SensorData data) {
+		if (sensor instanceof AntRssiCommonSensor) {
+			AntRssiCommonSensor.RssiData rssiData = ((AntRssiCommonSensor<?>) sensor).getRssiData();
+			if (rssiData != null) {
+				rssi = (int) rssiData.getRssi();
+			}
+		}
+		super.fireSensorDataEvent(sensor, data);
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntLegacyDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntLegacyDevice.java
new file mode 100644
index 00000000000..7c7feb708fd
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntLegacyDevice.java
@@ -0,0 +1,28 @@
+package net.osmand.plus.plugins.externalsensors.devices.ant;
+
+import androidx.annotation.NonNull;
+
+import com.dsi.ant.plugins.antplus.pccbase.AntPlusLegacyCommonPcc;
+
+import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntRssiLegacySensor;
+
+public abstract class AntLegacyDevice<T extends AntPlusLegacyCommonPcc> extends AntAbstractDevice<T> {
+
+	public AntLegacyDevice(@NonNull String deviceId) {
+		super(deviceId);
+		sensors.add(new AntRssiLegacySensor<>(this));
+	}
+
+	@Override
+	public void fireSensorDataEvent(@NonNull AbstractSensor sensor, @NonNull SensorData data) {
+		if (sensor instanceof AntRssiLegacySensor) {
+			AntRssiLegacySensor.RssiData rssiData = ((AntRssiLegacySensor<?>) sensor).getRssiData();
+			if (rssiData != null) {
+				rssi = (int) rssiData.getRssi();
+			}
+		}
+		super.fireSensorDataEvent(sensor, data);
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorBatteryTimeWidgetDataField.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorBatteryTimeWidgetDataField.java
new file mode 100644
index 00000000000..851f2ac8634
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorBatteryTimeWidgetDataField.java
@@ -0,0 +1,25 @@
+package net.osmand.plus.plugins.externalsensors.devices.sensors;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.utils.OsmAndFormatter;
+
+public class SensorBatteryTimeWidgetDataField extends SensorWidgetDataField {
+
+	public SensorBatteryTimeWidgetDataField(int nameId, int unitNameId, @NonNull Number distanceValue) {
+		super(SensorWidgetDataFieldType.BATTERY, nameId, unitNameId, distanceValue);
+	}
+
+	@Nullable
+	@Override
+	public OsmAndFormatter.FormattedValue getFormattedValue(@NonNull OsmandApplication app) {
+		long time = getNumberValue().intValue();
+		if (time > 0) {
+			return new OsmAndFormatter.FormattedValue(time, String.valueOf(time), app.getString(R.string.shared_string_sec));
+		}
+		return null;
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorTextWidget.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorTextWidget.java
index 8430a8e3417..b2046ca1d51 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorTextWidget.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorTextWidget.java
@@ -1,9 +1,14 @@
 package net.osmand.plus.plugins.externalsensors.devices.sensors;
 
+import android.os.Handler;
+import android.os.Looper;
+
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice;
+import net.osmand.plus.plugins.externalsensors.devices.DeviceConnectionResult;
 import net.osmand.plus.utils.OsmAndFormatter.FormattedValue;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
@@ -16,10 +21,26 @@ public class SensorTextWidget extends TextInfoWidget {
 	private final AbstractSensor sensor;
 	private final SensorWidgetDataFieldType fieldType;
 	private Number cachedNumber;
+	private Handler mainHandler = new Handler(Looper.getMainLooper());
 
 	public SensorTextWidget(@NonNull MapActivity mapActivity, @NonNull AbstractSensor sensor,
 	                        @NonNull SensorWidgetDataFieldType fieldType) {
 		super(mapActivity, fieldType.getWidgetType());
+		sensor.device.addListener(new AbstractDevice.DeviceListener() {
+			@Override
+			public void onDeviceConnect(@NonNull AbstractDevice<?> device, @NonNull DeviceConnectionResult result, @Nullable String error) {
+				mainHandler.post(() -> updateInfo(null));
+			}
+
+			@Override
+			public void onDeviceDisconnect(@NonNull AbstractDevice<?> device) {
+			}
+
+			@Override
+			public void onSensorData(@NonNull AbstractSensor sensor, @NonNull SensorData data) {
+				mainHandler.post(() -> updateInfo(null));
+			}
+		});
 		this.sensor = sensor;
 		this.fieldType = fieldType;
 		updateInfo(null);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorWidgetDataFieldType.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorWidgetDataFieldType.java
index 91b789a376c..5c70fe41ade 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorWidgetDataFieldType.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/SensorWidgetDataFieldType.java
@@ -8,6 +8,7 @@ public enum SensorWidgetDataFieldType {
 	TEMPERATURE(WidgetType.WEATHER_TEMPERATURE_WIDGET),
 	HEART_RATE(WidgetType.ANT_HEART_RATE),
 	BATTERY(WidgetType.BATTERY),
+	RSSI(WidgetType.RSSI),
 	BIKE_POWER(WidgetType.ANT_BICYCLE_POWER),
 	BIKE_SPEED(WidgetType.ANT_BICYCLE_SPEED),
 	BIKE_CADENCE(WidgetType.ANT_BICYCLE_CADENCE),
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntBatterySensor.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntBatterySensor.java
new file mode 100644
index 00000000000..ddd4825418f
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntBatterySensor.java
@@ -0,0 +1,125 @@
+package net.osmand.plus.plugins.externalsensors.devices.sensors.ant;
+
+import static net.osmand.gpx.GPXUtilities.DECIMAL_FORMAT;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import com.dsi.ant.plugins.antplus.pccbase.AntPlusCommonPcc;
+
+import net.osmand.plus.R;
+import net.osmand.plus.plugins.externalsensors.devices.ant.AntCommonDevice;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorBatteryTimeWidgetDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import java.util.Collections;
+import java.util.List;
+
+public class AntBatterySensor<T extends AntPlusCommonPcc> extends AntAbstractSensor<T> {
+
+	private BatteryData batteryData;
+
+	public static class BatteryData implements SensorData {
+
+		// The estimated timestamp of when this event was triggered.
+		// Useful for correlating multiple events and determining when data was sent for more accurate data records.
+		private final long timestamp;
+
+		private final long cumulativeOperatingTime;
+
+		public BatteryData(long timestamp, long cumulativeOperatingTime) {
+			this.timestamp = timestamp;
+			this.cumulativeOperatingTime = cumulativeOperatingTime;
+		}
+
+		public long getTimestamp() {
+			return timestamp;
+		}
+
+		public double getBatteryTime() {
+			return cumulativeOperatingTime;
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.map_widget_battery, -1, cumulativeOperatingTime));
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getExtraDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.shared_string_time, -1, timestamp));
+		}
+
+		@Nullable
+		@Override
+		public List<SensorWidgetDataField> getWidgetFields() {
+			return Collections.singletonList(
+					new SensorBatteryTimeWidgetDataField(R.string.shared_string_time, -1, cumulativeOperatingTime));
+		}
+
+		@NonNull
+		@Override
+		public String toString() {
+			return "BatteryData {" +
+					"timestamp=" + timestamp +
+					", batteryTime=" + cumulativeOperatingTime +
+					'}';
+		}
+	}
+
+	public AntBatterySensor(@NonNull AntCommonDevice<T> device) {
+		super(device, device.getDeviceId() + "_battery_time");
+	}
+
+	public AntBatterySensor(@NonNull AntCommonDevice<T> device, @NonNull String sensorId) {
+		super(device, sensorId);
+	}
+
+	@NonNull
+	@Override
+	public String getName() {
+		return "Battery time";
+	}
+
+	@NonNull
+	@Override
+	public List<SensorWidgetDataFieldType> getSupportedWidgetDataFieldTypes() {
+		return Collections.emptyList();
+	}
+
+	@Nullable
+	@Override
+	public List<SensorData> getLastSensorDataList() {
+		return Collections.singletonList(batteryData);
+	}
+
+	@Override
+	public void subscribeToEvents() {
+		getAntDevice().getPcc().subscribeBatteryStatusEvent((estTimestamp,
+		                                                     eventFlags, cumulativeOperatingTime,
+		                                                     batteryVoltage, batteryStatus,
+		                                                     cumulativeOperatingTimeResolution, numberOfBatteries,
+		                                                     batteryIdentifier) -> {
+			batteryData = new BatteryData(estTimestamp, cumulativeOperatingTime);
+		});
+	}
+
+	@Override
+	public void writeSensorDataToJson(@NonNull JSONObject json) throws JSONException {
+		BatteryData data = batteryData;
+		double rssi = data != null ? data.getBatteryTime() : 0;
+		if (rssi > 0) {
+			json.put(getSensorId(), DECIMAL_FORMAT.format(rssi));
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiCommonSensor.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiCommonSensor.java
new file mode 100644
index 00000000000..d34cbde6e4d
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiCommonSensor.java
@@ -0,0 +1,125 @@
+package net.osmand.plus.plugins.externalsensors.devices.sensors.ant;
+
+import static net.osmand.gpx.GPXUtilities.DECIMAL_FORMAT;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import com.dsi.ant.plugins.antplus.pccbase.AntPlusCommonPcc;
+
+import net.osmand.plus.R;
+import net.osmand.plus.plugins.externalsensors.devices.ant.AntCommonDevice;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import java.util.Collections;
+import java.util.List;
+
+public class AntRssiCommonSensor<T extends AntPlusCommonPcc> extends AntAbstractSensor<T> {
+
+	private RssiData rssiData;
+
+	public static class RssiData implements SensorData {
+
+		// The estimated timestamp of when this event was triggered.
+		// Useful for correlating multiple events and determining when data was sent for more accurate data records.
+		private final long timestamp;
+
+		private final double rssi;
+
+		public RssiData(long timestamp, double rssi) {
+			this.timestamp = timestamp;
+			this.rssi = rssi;
+		}
+
+		public long getTimestamp() {
+			return timestamp;
+		}
+
+		public double getRssi() {
+			return rssi;
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.map_widget_rssi, -1, rssi));
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getExtraDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.shared_string_time, -1, timestamp));
+		}
+
+		@Nullable
+		@Override
+		public List<SensorWidgetDataField> getWidgetFields() {
+			return Collections.emptyList();
+		}
+
+		@NonNull
+		@Override
+		public String toString() {
+			return "RssiData {" +
+					"timestamp=" + timestamp +
+					", rssi=" + rssi +
+					'}';
+		}
+	}
+
+	@Nullable
+	public RssiData getRssiData() {
+		return rssiData;
+	}
+
+	public AntRssiCommonSensor(@NonNull AntCommonDevice<T> device) {
+		super(device, device.getDeviceId() + "_rssi");
+	}
+
+	public AntRssiCommonSensor(@NonNull AntCommonDevice<T> device, @NonNull String sensorId) {
+		super(device, sensorId);
+	}
+
+	@NonNull
+	@Override
+	public String getName() {
+		return "Rssi level";
+	}
+
+	@NonNull
+	@Override
+	public List<SensorWidgetDataFieldType> getSupportedWidgetDataFieldTypes() {
+		return Collections.emptyList();
+	}
+
+	@Nullable
+	@Override
+	public List<SensorData> getLastSensorDataList() {
+		return Collections.singletonList(rssiData);
+	}
+
+	@Override
+	public void subscribeToEvents() {
+		getAntDevice().getPcc().subscribeRssiEvent((estTimestamp, enumSet, rssi) -> {
+			rssiData = new RssiData(estTimestamp, rssi);
+			getDevice().fireSensorDataEvent(AntRssiCommonSensor.this, rssiData);
+		});
+	}
+
+	@Override
+	public void writeSensorDataToJson(@NonNull JSONObject json) throws JSONException {
+		RssiData data = rssiData;
+		double rssi = data != null ? data.getRssi() : 0;
+		if (rssi > 0) {
+			json.put(getSensorId(), DECIMAL_FORMAT.format(rssi));
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiLegacySensor.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiLegacySensor.java
new file mode 100644
index 00000000000..bc03a44b105
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ant/AntRssiLegacySensor.java
@@ -0,0 +1,127 @@
+package net.osmand.plus.plugins.externalsensors.devices.sensors.ant;
+
+import static net.osmand.gpx.GPXUtilities.DECIMAL_FORMAT;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import com.dsi.ant.plugins.antplus.pccbase.AntPlusLegacyCommonPcc;
+
+import net.osmand.plus.R;
+import net.osmand.plus.plugins.externalsensors.devices.ant.AntLegacyDevice;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorSpeedWidgetDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataField;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
+
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import java.util.Collections;
+import java.util.List;
+
+public class AntRssiLegacySensor<T extends AntPlusLegacyCommonPcc> extends AntAbstractSensor<T> {
+
+	private RssiData rssiData;
+
+
+	public static class RssiData implements SensorData {
+
+		// The estimated timestamp of when this event was triggered.
+		// Useful for correlating multiple events and determining when data was sent for more accurate data records.
+		private final long timestamp;
+
+		private final double rssi;
+
+		public RssiData(long timestamp, double rssi) {
+			this.timestamp = timestamp;
+			this.rssi = rssi;
+		}
+
+		public long getTimestamp() {
+			return timestamp;
+		}
+
+		public double getRssi() {
+			return rssi;
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.map_widget_rssi, -1, rssi));
+		}
+
+		@NonNull
+		@Override
+		public List<SensorDataField> getExtraDataFields() {
+			return Collections.singletonList(
+					new SensorDataField(R.string.shared_string_time, -1, timestamp));
+		}
+
+		@Nullable
+		@Override
+		public List<SensorWidgetDataField> getWidgetFields() {
+			return Collections.emptyList();
+		}
+
+		@NonNull
+		@Override
+		public String toString() {
+			return "RssiData {" +
+					"timestamp=" + timestamp +
+					", rssi=" + rssi +
+					'}';
+		}
+	}
+
+	@Nullable
+	public RssiData getRssiData() {
+		return rssiData;
+	}
+
+	public AntRssiLegacySensor(@NonNull AntLegacyDevice<T> device) {
+		super(device, device.getDeviceId() + "_rssi");
+	}
+
+	public AntRssiLegacySensor(@NonNull AntLegacyDevice<T> device, @NonNull String sensorId) {
+		super(device, sensorId);
+	}
+
+	@NonNull
+	@Override
+	public String getName() {
+		return "Rssi level";
+	}
+
+	@NonNull
+	@Override
+	public List<SensorWidgetDataFieldType> getSupportedWidgetDataFieldTypes() {
+		return Collections.emptyList();
+	}
+
+	@Nullable
+	@Override
+	public List<SensorData> getLastSensorDataList() {
+		return Collections.singletonList(rssiData);
+	}
+
+	@Override
+	public void subscribeToEvents() {
+		getAntDevice().getPcc().subscribeRssiEvent((estTimestamp, enumSet, rssi) -> {
+			rssiData = new RssiData(estTimestamp, rssi);
+			getDevice().fireSensorDataEvent(AntRssiLegacySensor.this, rssiData);
+		});
+	}
+
+	@Override
+	public void writeSensorDataToJson(@NonNull JSONObject json) throws JSONException {
+		RssiData data = rssiData;
+		double rssi = data != null ? data.getRssi() : 0;
+		if (rssi > 0) {
+			json.put(getSensorId(), DECIMAL_FORMAT.format(rssi));
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ble/BLEBloodPressureSensor.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ble/BLEBloodPressureSensor.java
index 22f91af4d7a..1ba21e236a9 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ble/BLEBloodPressureSensor.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/ble/BLEBloodPressureSensor.java
@@ -167,7 +167,7 @@ private void decodeBloodPressureCharacteristic(@NonNull BluetoothGatt gatt,
 		boolean timestampPresent = (flag & 0x02) == 0x02;
 		boolean pulseRatePresent = (flag & 0x04) == 0x04;
 
-		// TODO: Looks like wrong reading according to GATT spec v8: "Present if bit 0 of Flags field is set to 0"
+		// TODO (BLE): Looks like wrong reading according to GATT spec v8: "Present if bit 0 of Flags field is set to 0"
 		float systolic = characteristic.getFloatValue(BluetoothGattCharacteristic.FORMAT_SFLOAT, 1);
 		float diastolic = characteristic.getFloatValue(BluetoothGattCharacteristic.FORMAT_SFLOAT, 3);
 		float arterialPressure = characteristic.getFloatValue(BluetoothGattCharacteristic.FORMAT_SFLOAT, 5);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
index cde9df8b39f..b253e56853a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
@@ -4,10 +4,12 @@ import android.os.Bundle
 import android.view.View
 import android.widget.ImageView
 import android.widget.TextView
+import androidx.annotation.ColorRes
 import androidx.core.content.ContextCompat
 import androidx.fragment.app.FragmentManager
 import androidx.recyclerview.widget.RecyclerView
 import net.osmand.plus.R
+import net.osmand.plus.helpers.AndroidUiHelper
 import net.osmand.plus.plugins.externalsensors.adapters.DeviceCharacteristicsAdapter
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice.DeviceListener
@@ -15,6 +17,7 @@ import net.osmand.plus.plugins.externalsensors.devices.DeviceConnectionResult
 import net.osmand.plus.plugins.externalsensors.devices.ble.BLEAbstractDevice
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData
+import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField
 import net.osmand.plus.utils.AndroidUtils
 import net.osmand.plus.utils.ColorUtilities
 import net.osmand.plus.utils.UiUtilities
@@ -98,9 +101,7 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         return device is BLEAbstractDevice
     }
 
-    private fun updateConnectedState(
-        view: View
-    ) {
+    private fun updateConnectedState(view: View) {
         val isConnected = device.isConnected
         val rssi = device.rssi
         val signalLevelIcon: Int = if (rssi > -50) {
@@ -118,6 +119,7 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         )
         val connectionStateIcon: ImageView = view.findViewById(R.id.connection_state_icon)
         connectionStateIcon.setImageResource(signalLevelIcon)
+        batteryLevel?.text = device.batteryLevel.toString()
     }
 
     private fun getConnectionTypeName() = if (isBle()) getBleText() else getAntText()
@@ -220,7 +222,10 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         plugin.disconnectDevice(device)
     }
 
-    override fun onDeviceConnect(device: AbstractDevice<out AbstractSensor>, result: DeviceConnectionResult, error: String?) {
+    override fun onDeviceConnect(
+        device: AbstractDevice<out AbstractSensor>,
+        result: DeviceConnectionResult,
+        error: String?) {
         app.runInUIThread {
             updateConnectedState()
             updateButtonState()
@@ -236,7 +241,19 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
 
     override fun onSensorData(sensor: AbstractSensor, data: SensorData) {
         app.runInUIThread {
-            receivedDataAdapter.setItems(data.dataFields)
+            updateConnectedState()
+            val dataFields = ArrayList<SensorDataField>()
+            for (sensor in device.sensors) {
+                val sensorDataList = sensor.lastSensorDataList
+                sensorDataList?.let {
+                    for (sensorData in sensorDataList) {
+                        sensorData?.let {
+                            dataFields.addAll(sensorData.dataFields)
+                        }
+                    }
+                }
+            }
+            receivedDataAdapter.setItems(dataFields)
             if (device.isBatteryLow) {
                 app.showShortToastMessage(R.string.external_device_low_battery)
             }
@@ -249,4 +266,10 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         batteryLevel = null
         receivedDataView = null
     }
+
+    @ColorRes
+    override fun getStatusBarColorId(): Int {
+        AndroidUiHelper.setStatusBarContentColor(view, nightMode)
+        return if (nightMode) R.color.status_bar_color_dark else R.color.activity_background_color_light
+    }
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
index 11933fe2008..efcd8ea7524 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
@@ -93,7 +93,7 @@ public void onBackPressed() {
 	}
 
 	@ColorRes
-	private int getStatusBarColorId() {
+	protected int getStatusBarColorId() {
 		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
 		return nightMode ? R.color.status_bar_color_dark : R.color.status_bar_color_light;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
index 114751bfbe8..19ac458f69d 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
@@ -17,6 +17,7 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.google.android.material.appbar.AppBarLayout;
+import com.google.android.material.appbar.CollapsingToolbarLayout;
 
 import net.osmand.CallbackWithObject;
 import net.osmand.plus.R;
@@ -68,19 +69,16 @@ protected void setupUI(@NonNull View view) {
 		noBluetoothCard = view.findViewById(R.id.no_bluetooth_card);
 
 		ImageView sensorIcon = view.findViewById(R.id.sensor_icon);
-		sensorIcon.setBackgroundResource(nightMode ? R.drawable.img_help_sensors_night : R.drawable.img_help_sensors_day);
+		sensorIcon.setBackgroundResource(nightMode ? R.drawable.bg_empty_external_device_list_icon_night : R.drawable.bg_empty_external_device_list_icon_day);
+		sensorIcon.setImageResource(nightMode ? R.drawable.img_help_sensors_night : R.drawable.img_help_sensors_day);
 		TextView learnMore = view.findViewById(R.id.learn_more_button);
 		String docsLinkText = app.getString(R.string.learn_more_about_sensors_link);
 		UiUtilities.setupClickableText(app, learnMore, docsLinkText, docsLinkText, nightMode, new CallbackWithObject<Void>() {
 			@Override
 			public boolean processResult(Void unused) {
 				FragmentActivity activity = getActivity();
-				if (activity != null) {
-					Intent intent = new Intent(Intent.ACTION_VIEW);
-					String docsUrl = getString(R.string.docs_external_sensors);
-					intent.setData(Uri.parse(docsUrl));
-					AndroidUtils.startActivityIfSafe(activity, intent);
-				}
+				boolean nightMode = !app.getSettings().isLightContent();
+				AndroidUtils.openUrl(activity, Uri.parse(getString(R.string.docs_external_sensors)), nightMode);
 				return false;
 			}
 		});
@@ -122,7 +120,6 @@ private void setupOpenBtSettingsButton(@NonNull View view) {
 	}
 
 	private void showPairNewSensorBottomSheet() {
-		dismiss();
 		PairNewDeviceBottomSheet.showInstance(requireActivity().getSupportFragmentManager());
 	}
 
@@ -191,7 +188,7 @@ private void updatePairedSensorsList() {
 			emptyView.setVisibility(View.VISIBLE);
 			contentView.setVisibility(View.GONE);
 			requireActivity().runOnUiThread(() -> {
-				appBar.setExpanded(false);
+				appBar.setExpanded(true);
 			});
 		} else {
 			requireActivity().runOnUiThread(() -> {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/PairNewDeviceBottomSheet.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/PairNewDeviceBottomSheet.java
index 2b4524f1800..18106ed7669 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/PairNewDeviceBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/PairNewDeviceBottomSheet.java
@@ -1,7 +1,9 @@
 package net.osmand.plus.plugins.externalsensors.dialogs;
 
+import android.net.Uri;
 import android.os.Bundle;
 
+import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
 
 import net.osmand.plus.R;
@@ -59,10 +61,10 @@ public void createMenuItems(Bundle savedInstanceState) {
 				.setTitle(getString(R.string.ant_plus_help_title))
 				.setLayoutId(R.layout.bottom_sheet_item_simple_pad_32dp)
 				.setOnClickListener(v -> {
-					MapActivity mapActivity = (MapActivity) getActivity();
-					if (mapActivity != null) {
-						hideBottomSheet();
-					}
+					dismiss();
+					FragmentActivity activity = getActivity();
+					boolean nightMode = getMyApplication().getDaynightHelper().isNightMode(false);
+					AndroidUtils.openUrl(activity, Uri.parse(getString(R.string.docs_external_sensors)), nightMode);
 				})
 				.create();
 		items.add(helpItem);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
index c0f4cbaef1f..a1d42625443 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
@@ -103,6 +103,7 @@ public enum WidgetType {
 	ANT_BICYCLE_CADENCE("ant_bicycle_cadence", R.string.map_widget_ant_bicycle_cadence, R.string.map_widget_ant_bicycle_cadence_desc, R.drawable.widget_sensor_cadence_day, R.drawable.widget_sensor_cadence_night, 0, ANT_PLUS, RIGHT),
 	ANT_BICYCLE_SPEED("ant_bicycle_speed", R.string.map_widget_ant_bicycle_speed, R.string.map_widget_ant_bicycle_speed_desc, R.drawable.widget_sensor_speed_day, R.drawable.widget_sensor_speed_night, 0, ANT_PLUS, RIGHT),
 	ANT_BICYCLE_DISTANCE("ant_bicycle_distance", R.string.map_widget_ant_bicycle_dist, R.string.map_widget_ant_bicycle_dist_desc, R.drawable.widget_sensor_distance_day, R.drawable.widget_sensor_distance_night, 0, ANT_PLUS, RIGHT),
+	RSSI("rssi", R.string.map_widget_rssi, R.string.rssi_widget_desc, R.drawable.widget_sensor_speed_day, R.drawable.widget_sensor_speed_night, R.string.docs_widget_rssi, null, RIGHT),
 
 	WEATHER_TEMPERATURE_WIDGET("weather_temp", R.string.map_settings_weather_temp, R.string.temperature_widget_desc, R.drawable.widget_weather_temperature_day, R.drawable.widget_weather_temperature_night, 0, WEATHER, RIGHT),
 	WEATHER_PRECIPITATION_WIDGET("weather_precip", R.string.map_settings_weather_precip, R.string.precipitation_widget_desc, R.drawable.widget_weather_precipitation_day, R.drawable.widget_weather_precipitation_night, 0, WEATHER, RIGHT),
