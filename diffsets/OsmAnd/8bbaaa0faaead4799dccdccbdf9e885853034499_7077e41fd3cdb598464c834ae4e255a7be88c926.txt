diff --git a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
index d7805217693..03aca5513cb 100644
--- a/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
+++ b/OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java
@@ -47,6 +47,7 @@ public class GeneralRouter implements VehicleRouter {
 	public static final String VEHICLE_WIDTH = "width";
 	public static final String VEHICLE_LENGTH = "length";
 	public static final String MOTOR_TYPE = "motor_type";
+	public static final String ALLOW_VIA_FERRATA = "allow_via_ferrata";
 	public static final String CHECK_ALLOW_PRIVATE_NEEDED = "check_allow_private_needed";
 
 	private static boolean USE_CACHE = true;
diff --git a/OsmAnd/res/layout/bottom_sheet_item_with_descr_and_left_radio_btn.xml b/OsmAnd/res/layout/bottom_sheet_item_with_descr_and_left_radio_btn.xml
new file mode 100644
index 00000000000..0e41358d26e
--- /dev/null
+++ b/OsmAnd/res/layout/bottom_sheet_item_with_descr_and_left_radio_btn.xml
@@ -0,0 +1,77 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/bottom_sheet_large_list_item_height"
+	android:background="?attr/selectableItemBackground"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/descriptionContainer"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/bottom_sheet_large_list_item_height"
+		android:gravity="center_vertical"
+		android:orientation="horizontal"
+		android:paddingHorizontal="@dimen/list_content_padding">
+
+		<androidx.appcompat.widget.AppCompatRadioButton
+			android:id="@+id/compound_button"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_marginEnd="@dimen/bottom_sheet_icon_margin"
+			android:layout_marginRight="@dimen/bottom_sheet_icon_margin"
+			android:background="@null"
+			android:clickable="false"
+			android:focusable="false"
+			android:saveEnabled="false" />
+
+		<LinearLayout
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_marginEnd="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
+			android:layout_weight="1"
+			android:gravity="center_vertical"
+			android:orientation="vertical">
+
+			<TextView
+				android:id="@+id/title"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:ellipsize="end"
+				android:maxLines="2"
+				android:textAppearance="@style/TextAppearance.ListItemTitle"
+				android:textColor="?android:textColorPrimary"
+				tools:text="Item Title" />
+
+			<TextView
+				android:id="@+id/description"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:ellipsize="end"
+				android:maxLines="1"
+				android:textColor="?android:textColorSecondary"
+				tools:text="Item additional desription" />
+
+		</LinearLayout>
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/icon"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			tools:src="@drawable/ic_action_coordinates_latitude"
+			tools:tint="?attr/default_icon_color" />
+
+	</LinearLayout>
+
+	<View
+		android:id="@+id/divider_bottom"
+		android:layout_width="match_parent"
+		android:layout_height="1dp"
+		android:layout_marginStart="@dimen/bottom_sheet_divider_margin_start"
+		android:layout_marginLeft="@dimen/bottom_sheet_divider_margin_start"
+		android:background="?attr/divider_color"
+		android:visibility="gone"
+		tools:visibility="visible" />
+
+</LinearLayout>
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index e52e3e81aee..3697cb6fbb3 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,10 @@
 	Thx - Hardy
 -->
 
+    <string name="shared_string_avoid">Avoid</string>
+    <string name="may_be_used_if_there_is_shortcut">May be used if there is a shortcut</string>
+    <string name="allow_via_ferrata_desc">A mountain route equipped with fixed cables, stemples, ladders, and bridges.</string>
+    <string name="allow_via_ferrata_title">Mountainside route (Via ferrata)</string>
     <string name="release_4_5">
     • BLE/ANT+ sensors: reworked connection, writing and viewing received data to GPX \n\n
     • Free backup for favorites and settings to \"OsmAnd Cloud\" \n\n
diff --git a/OsmAnd/src/net/osmand/plus/base/dialog/data/DialogExtra.java b/OsmAnd/src/net/osmand/plus/base/dialog/data/DialogExtra.java
index 8def4339401..3c95d36e4fc 100644
--- a/OsmAnd/src/net/osmand/plus/base/dialog/data/DialogExtra.java
+++ b/OsmAnd/src/net/osmand/plus/base/dialog/data/DialogExtra.java
@@ -8,5 +8,6 @@ public enum DialogExtra {
 	SUBTITLE,
 	SELECTED_INDEX,
 	CONTROLS_COLOR,
-	BACKGROUND_COLOR
+	BACKGROUND_COLOR,
+	SHOW_BOTTOM_BUTTONS
 }
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/CustomizableSingleSelectionBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/CustomizableSingleSelectionBottomSheet.java
index 4a3e21ed27b..89be1d960a9 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/CustomizableSingleSelectionBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/CustomizableSingleSelectionBottomSheet.java
@@ -1,6 +1,7 @@
 package net.osmand.plus.settings.bottomsheets;
 
 import static net.osmand.plus.base.dialog.data.DialogExtra.SELECTED_INDEX;
+import static net.osmand.plus.base.dialog.data.DialogExtra.SHOW_BOTTOM_BUTTONS;
 import static net.osmand.plus.base.dialog.data.DialogExtra.SUBTITLE;
 import static net.osmand.plus.base.dialog.data.DialogExtra.TITLE;
 
@@ -83,7 +84,8 @@ public void createMenuItems(Bundle savedInstanceState) {
 
 	@Override
 	protected boolean hideButtonsContainer() {
-		return true;
+		Boolean showBottomButtons = (Boolean) displayData.getExtra(SHOW_BOTTOM_BUTTONS);
+		return showBottomButtons == null || !showBottomButtons;
 	}
 
 	public static boolean showInstance(@NonNull FragmentManager fragmentManager,
diff --git a/OsmAnd/src/net/osmand/plus/settings/controllers/ViaFerrataDialogController.java b/OsmAnd/src/net/osmand/plus/settings/controllers/ViaFerrataDialogController.java
new file mode 100644
index 00000000000..3655008162a
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/controllers/ViaFerrataDialogController.java
@@ -0,0 +1,107 @@
+package net.osmand.plus.settings.controllers;
+
+import static net.osmand.plus.base.dialog.data.DialogExtra.BACKGROUND_COLOR;
+import static net.osmand.plus.base.dialog.data.DialogExtra.SELECTED_INDEX;
+import static net.osmand.plus.base.dialog.data.DialogExtra.SHOW_BOTTOM_BUTTONS;
+import static net.osmand.plus.base.dialog.data.DialogExtra.SUBTITLE;
+import static net.osmand.plus.base.dialog.data.DialogExtra.TITLE;
+import static net.osmand.plus.settings.fragments.ApplyQueryType.SNACK_BAR;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.base.dialog.BaseDialogController;
+import net.osmand.plus.base.dialog.data.DisplayData;
+import net.osmand.plus.base.dialog.data.DisplayItem;
+import net.osmand.plus.base.dialog.interfaces.controller.IDialogItemSelected;
+import net.osmand.plus.base.dialog.interfaces.controller.IDisplayDataProvider;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.settings.backend.preferences.CommonPreference;
+import net.osmand.plus.settings.fragments.OnConfirmPreferenceChange;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.router.GeneralRouter.RoutingParameter;
+
+public class ViaFerrataDialogController extends BaseDialogController
+		implements IDisplayDataProvider, IDialogItemSelected {
+
+	public static final String PROCESS_ID = "via_ferrata";
+
+	private final ApplicationMode appMode;
+	private final OsmandSettings settings;
+	private final RoutingParameter parameter;
+	private OnConfirmPreferenceChange preferenceChangeCallback;
+
+	public ViaFerrataDialogController(@NonNull OsmandApplication app,
+	                                  @NonNull ApplicationMode appMode,
+	                                  @NonNull RoutingParameter parameter) {
+		super(app);
+		this.appMode = appMode;
+		this.settings = app.getSettings();
+		this.parameter = parameter;
+	}
+
+	@NonNull
+	@Override
+	public String getProcessId() {
+		return PROCESS_ID;
+	}
+
+	public void setCallback(@NonNull OnConfirmPreferenceChange preferenceChangeCallback) {
+		this.preferenceChangeCallback = preferenceChangeCallback;
+	}
+
+	@Nullable
+	@Override
+	public DisplayData getDisplayData(@NonNull String processId) {
+		boolean nightMode = isNightMode();
+		int profileColor = appMode.getProfileColor(nightMode);
+		int profileColorAlpha = ColorUtilities.getColorWithAlpha(profileColor, 0.3f);
+
+		DisplayData displayData = new DisplayData();
+		displayData.putExtra(TITLE, getString(R.string.allow_via_ferrata_title));
+		displayData.putExtra(SUBTITLE, getString(R.string.allow_via_ferrata_desc));
+		displayData.putExtra(BACKGROUND_COLOR, profileColorAlpha);
+		displayData.putExtra(SHOW_BOTTOM_BUTTONS, true);
+
+		String[] titles = new String[] {
+				getString(R.string.shared_string_avoid),
+				getString(R.string.shared_string_allow)
+		};
+		String[] descriptions = new String[] {
+				null,
+				getString(R.string.may_be_used_if_there_is_shortcut)
+		};
+
+		for (int i = 0; i < titles.length; i++) {
+			displayData.addDisplayItem(new DisplayItem()
+					.setTitle(titles[i])
+					.setDescription(descriptions[i])
+					.setLayoutId(R.layout.bottom_sheet_item_with_descr_and_left_radio_btn)
+					.setControlsColor(profileColor)
+					.setTag(i == 1)
+			);
+		}
+
+		boolean isAllowed = getPreference().getModeValue(appMode);
+		displayData.putExtra(SELECTED_INDEX, isAllowed ? 1 : 0);
+		return displayData;
+	}
+
+	@Override
+	public void onDialogItemSelected(@NonNull String processId, @NonNull DisplayItem selected) {
+		Object newValue = selected.getTag();
+		if (newValue instanceof Boolean) {
+			Boolean value = (Boolean) newValue;
+			String prefId = getPreference().getId();
+			preferenceChangeCallback.onConfirmPreferenceChange(prefId, value, SNACK_BAR);
+		}
+	}
+
+	@NonNull
+	private CommonPreference<Boolean> getPreference() {
+		return settings.getCustomRoutingBooleanProperty(parameter.getId(), parameter.getDefaultBoolean());
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
index 62b48291273..9c90c253296 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
@@ -54,6 +54,8 @@
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.activities.OsmandActionBarActivity;
+import net.osmand.plus.base.dialog.DialogManager;
+import net.osmand.plus.base.dialog.interfaces.controller.IDialogController;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.profiles.SelectAppModesBottomSheetDialogFragment;
 import net.osmand.plus.profiles.SelectAppModesBottomSheetDialogFragment.AppModeChangedListener;
@@ -64,6 +66,7 @@
 import net.osmand.plus.settings.backend.preferences.OsmandPreference;
 import net.osmand.plus.settings.bottomsheets.BooleanPreferenceBottomSheet;
 import net.osmand.plus.settings.bottomsheets.ChangeGeneralProfilesPrefBottomSheet;
+import net.osmand.plus.settings.bottomsheets.CustomizableSingleSelectionBottomSheet;
 import net.osmand.plus.settings.bottomsheets.EditTextPreferenceBottomSheet;
 import net.osmand.plus.settings.bottomsheets.MultiSelectPreferencesBottomSheet;
 import net.osmand.plus.settings.bottomsheets.SingleSelectPreferenceBottomSheet;
@@ -788,6 +791,17 @@ protected Drawable getPersistentPrefIcon(Drawable enabled, Drawable disabled) {
 		return AndroidUtils.createEnabledStateListDrawable(disabled, enabled);
 	}
 
+	protected void showSingleSelectionDialog(@NonNull String processId,
+	                                         @NonNull IDialogController controller) {
+		FragmentActivity activity = getActivity();
+		if (activity != null) {
+			DialogManager dialogManager = app.getDialogManager();
+			dialogManager.register(processId, controller);
+			FragmentManager fm = activity.getSupportFragmentManager();
+			CustomizableSingleSelectionBottomSheet.showInstance(fm, processId, false);
+		}
+	}
+
 	public SwitchPreferenceCompat createSwitchPreference(OsmandPreference<Boolean> b, int title, int summary, int layoutId) {
 		return createSwitchPreference(b, getString(title), getString(summary), layoutId);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
index 104b25fdbf0..3ed1c511672 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/GeneralProfileSettingsFragment.java
@@ -403,17 +403,6 @@ public boolean onPreferenceClick(Preference preference) {
 		return super.onPreferenceClick(preference);
 	}
 
-	private void showSingleSelectionDialog(@NonNull String processId,
-	                                       @NonNull IDialogController controller) {
-		FragmentActivity activity = getActivity();
-		if (activity != null) {
-			DialogManager dialogManager = app.getDialogManager();
-			dialogManager.register(processId, controller);
-			FragmentManager fm = activity.getSupportFragmentManager();
-			CustomizableSingleSelectionBottomSheet.showInstance(fm, processId, false);
-		}
-	}
-
 	private void updateDialogControllerCallbacks() {
 		IDialogController controller;
 		DialogManager dialogManager = app.getDialogManager();
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
index d701c190ce9..1e6742180ea 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
@@ -7,6 +7,7 @@
 import static net.osmand.router.GeneralRouter.HAZMAT_CATEGORY;
 import static net.osmand.router.GeneralRouter.USE_HEIGHT_OBSTACLES;
 import static net.osmand.router.GeneralRouter.USE_SHORTEST_WAY;
+import static net.osmand.router.GeneralRouter.ALLOW_VIA_FERRATA;
 
 import android.app.Activity;
 import android.content.Context;
@@ -35,6 +36,8 @@
 import net.osmand.StateChangedListener;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
+import net.osmand.plus.base.dialog.DialogManager;
+import net.osmand.plus.base.dialog.interfaces.controller.IDialogController;
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.development.OsmandDevelopmentPlugin;
 import net.osmand.plus.routing.RouteService;
@@ -50,6 +53,7 @@
 import net.osmand.plus.settings.bottomsheets.GoodsRestrictionsBottomSheet;
 import net.osmand.plus.settings.bottomsheets.HazmatCategoryBottomSheet;
 import net.osmand.plus.settings.bottomsheets.RecalculateRouteInDeviationBottomSheet;
+import net.osmand.plus.settings.controllers.ViaFerrataDialogController;
 import net.osmand.plus.settings.preferences.ListPreferenceEx;
 import net.osmand.plus.settings.preferences.MultiSelectBooleanPreference;
 import net.osmand.plus.settings.preferences.SwitchPreferenceEx;
@@ -83,6 +87,7 @@ public class RouteParametersFragment extends BaseSettingsFragment {
 	private static final String HAZMAT_TRANSPORTING_ENABLED = "hazmat_transporting_enabled";
 	private static final String HAZMAT_ROUTING_PREFERENCE = ROUTING_PREFERENCE_PREFIX + HAZMAT_CATEGORY;
 	private static final String GOODS_RESTRICTIONS_PREFERENCE = ROUTING_PREFERENCE_PREFIX + GOODS_RESTRICTIONS;
+	private static final String ALLOW_VIA_FERRATA_PREFERENCE = ROUTING_PREFERENCE_PREFIX + "allow_via_ferrata";
 
 	public static final float DISABLE_MODE = -1.0f;
 	public static final float DEFAULT_MODE = 0.0f;
@@ -93,6 +98,7 @@ public class RouteParametersFragment extends BaseSettingsFragment {
 	private final List<RoutingParameter> reliefFactorParameters = new ArrayList<>();
 	private final List<RoutingParameter> otherRoutingParameters = new ArrayList<>();
 	private ListParameters hazmatParameters;
+	private RoutingParameter viaFerrataParameter;
 
 	private StateChangedListener<Boolean> booleanRoutingPrefListener;
 	private StateChangedListener<String> customRoutingPrefListener;
@@ -120,6 +126,7 @@ protected void setupPreferences() {
 		routeParametersInfo.setTitle(getString(R.string.route_parameters_info, getSelectedAppMode().toHumanString()));
 
 		setupRoutingPrefs();
+		updateDialogController();
 	}
 
 	@Override
@@ -296,7 +303,9 @@ private void setupOsmAndRouteServicePrefs(@NonNull ApplicationMode am, @NonNull
 			}
 			Context ctx = requireContext();
 			for (RoutingParameter p : otherRoutingParameters) {
-				if (HAZMAT_CATEGORY.equals(p.getId())) {
+				if (ALLOW_VIA_FERRATA.equals(p.getId())) {
+					setupViaFerrataPreference(p, screen);
+				} else if (HAZMAT_CATEGORY.equals(p.getId())) {
 					setupHazmatCategoryPreference(p, screen);
 				} else if (GOODS_RESTRICTIONS.equals(p.getId())) {
 					setupGoodsRestrictionsPreference(p, screen);
@@ -420,12 +429,12 @@ private void setupDevelopmentCategoryHeader(PreferenceScreen screen) {
 	@Override
 	public boolean onPreferenceClick(Preference preference) {
 		String prefId = preference.getKey();
+		ApplicationMode appMode = getSelectedAppMode();
 		if (settings.ROUTE_STRAIGHT_ANGLE.getId().equals(prefId)) {
 			showSeekbarSettingsDialog(getActivity(), getSelectedAppMode());
 		} else if (HAZMAT_TRANSPORTING_ENABLED.equals(prefId)) {
 			FragmentManager manager = getFragmentManager();
 			if (manager != null && hazmatParameters != null) {
-				ApplicationMode appMode = getSelectedAppMode();
 				OsmandPreference<String> hazmatPreference = getHazmatPreference();
 				String selectedValue = hazmatPreference.getModeValue(appMode);
 				boolean enabled = settings.HAZMAT_TRANSPORTING_ENABLED.getModeValue(appMode);
@@ -435,10 +444,16 @@ public boolean onPreferenceClick(Preference preference) {
 		} else if (GOODS_RESTRICTIONS_PREFERENCE.equals(prefId)) {
 			FragmentManager manager = getFragmentManager();
 			if (manager != null) {
-				ApplicationMode appMode = getSelectedAppMode();
 				OsmandPreference<Boolean> pref = getGoodsRestrictionPreference();
 				GoodsRestrictionsBottomSheet.showInstance(manager, this, GOODS_RESTRICTIONS_PREFERENCE, appMode, false, pref.getModeValue(appMode));
 			}
+		} else if (ALLOW_VIA_FERRATA_PREFERENCE.equals(prefId)) {
+			FragmentManager manager = getFragmentManager();
+			if (manager != null) {
+				ViaFerrataDialogController controller = new ViaFerrataDialogController(app, appMode, viaFerrataParameter);
+				showSingleSelectionDialog(ViaFerrataDialogController.PROCESS_ID, controller);
+				controller.setCallback(this);
+			}
 		}
 		return super.onPreferenceClick(preference);
 	}
@@ -535,7 +550,28 @@ private void updateRouteRecalcDistancePref() {
 		switchPref.setChecked(enabled);
 	}
 
-	private void setupHazmatCategoryPreference(@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen) {
+	private void setupViaFerrataPreference(
+			@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen
+	) {
+		viaFerrataParameter = parameter;
+		CommonPreference<Boolean> preference = settings.getCustomRoutingBooleanProperty(
+				parameter.getId(), parameter.getDefaultBoolean()
+		);
+		ApplicationMode appMode = getSelectedAppMode();
+		Preference uiPreference = new Preference(app);
+		uiPreference.setKey(ALLOW_VIA_FERRATA_PREFERENCE);
+		uiPreference.setTitle(R.string.allow_via_ferrata_title);
+		int iconId = R.drawable.ic_action_mountain_ladder;
+		boolean allowed = preference.getModeValue(appMode);
+		uiPreference.setIcon(allowed ? getActiveIcon(iconId) : getContentIcon(iconId));
+		uiPreference.setLayoutResource(R.layout.preference_with_descr);
+		uiPreference.setSummary(allowed ? R.string.shared_string_allow : R.string.shared_string_avoid);
+		screen.addPreference(uiPreference);
+	}
+
+	private void setupHazmatCategoryPreference(
+			@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen
+	) {
 		Preference uiPreference = new Preference(app);
 		uiPreference.setKey(HAZMAT_TRANSPORTING_ENABLED);
 		uiPreference.setTitle(R.string.transport_hazmat_title);
@@ -571,7 +607,9 @@ private void updateHazmatCategoryPreference() {
 		uiPreference.setIcon(icon);
 	}
 
-	private void setupGoodsRestrictionsPreference(@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen) {
+	private void setupGoodsRestrictionsPreference(
+			@NonNull RoutingParameter parameter, @NonNull PreferenceScreen screen
+	) {
 		Preference uiPreference = new Preference(app);
 		uiPreference.setKey(GOODS_RESTRICTIONS_PREFERENCE);
 		String title = getRoutingStringPropertyName(app, parameter.getId(), parameter.getName());
@@ -588,6 +626,14 @@ private void setupGoodsRestrictionsPreference(@NonNull RoutingParameter paramete
 		screen.addPreference(uiPreference);
 	}
 
+	private void updateDialogController() {
+		DialogManager dialogManager = app.getDialogManager();
+		IDialogController controller = dialogManager.findController(ViaFerrataDialogController.PROCESS_ID);
+		if (controller instanceof ViaFerrataDialogController) {
+			((ViaFerrataDialogController) controller).setCallback(this);
+		}
+	}
+
 	@Override
 	public void onResume() {
 		super.onResume();
