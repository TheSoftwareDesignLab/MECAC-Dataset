diff --git a/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java b/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
index 07707d5fb79..6be59afa2c8 100644
--- a/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
@@ -52,6 +52,8 @@ public class RadiusRulerControlLayer extends OsmandMapLayer {
 	private MapWidgetRegistry widgetRegistry;
 	private View rightWidgetsPanel;
 	private View leftWidgetsPanel;
+	private View topWidgetsPanel;
+	private View bottomWidgetsPanel;
 
 	private TextAlignment textAlignment;
 	private int maxRadiusInDp;
@@ -172,9 +174,13 @@ public void setMapActivity(@Nullable MapActivity mapActivity) {
 		if (mapActivity != null) {
 			rightWidgetsPanel = mapActivity.findViewById(R.id.map_right_widgets_panel);
 			leftWidgetsPanel = mapActivity.findViewById(R.id.map_left_widgets_panel);
+			topWidgetsPanel = mapActivity.findViewById(R.id.top_widgets_panel);
+			bottomWidgetsPanel = mapActivity.findViewById(R.id.map_bottom_widgets_panel);
 		} else {
 			rightWidgetsPanel = null;
 			leftWidgetsPanel = null;
+			topWidgetsPanel = null;
+			bottomWidgetsPanel = null;
 		}
 	}
 
@@ -234,11 +240,7 @@ public boolean isRulerWidgetOn() {
 		boolean isWidgetVisible = false;
 		List<MapWidgetInfo> widgets = widgetRegistry.getWidgetInfoForType(RADIUS_RULER);
 		for (MapWidgetInfo widget : widgets) {
-			if (WidgetsPanel.RIGHT == widget.getWidgetPanel()) {
-				isWidgetVisible = isWidgetVisible(widget) && isRightPanelVisible();
-			} else {
-				isWidgetVisible = isWidgetVisible(widget) && isLeftPanelVisible();
-			}
+			isWidgetVisible = isWidgetVisible(widget) && isPanelVisible(widget.getWidgetPanel());
 			if (isWidgetVisible) break;
 		}
 		return isWidgetVisible;
@@ -248,12 +250,15 @@ private boolean isWidgetVisible(@NonNull MapWidgetInfo widgetInfo) {
 		return widgetRegistry.isWidgetVisible(widgetInfo);
 	}
 
-	private boolean isLeftPanelVisible() {
-		return leftWidgetsPanel == null || leftWidgetsPanel.getVisibility() == View.VISIBLE;
-	}
-
-	private boolean isRightPanelVisible() {
-		return rightWidgetsPanel == null || rightWidgetsPanel.getVisibility() == View.VISIBLE;
+	private boolean isPanelVisible(WidgetsPanel widgetsPanel) {
+		View panel = null;
+		switch (widgetsPanel) {
+			case TOP -> panel = topWidgetsPanel;
+			case BOTTOM -> panel = bottomWidgetsPanel;
+			case LEFT -> panel = leftWidgetsPanel;
+			case RIGHT -> panel = rightWidgetsPanel;
+		}
+		return panel == null || panel.getVisibility() == View.VISIBLE;
 	}
 
 	private int getCompassCircleIndex(RotatedTileBox tb, QuadPoint center) {
