diff --git a/OsmAnd/src/net/osmand/plus/ApplicationMode.java b/OsmAnd/src/net/osmand/plus/ApplicationMode.java
index 8cf375e7b8f..5729d2ae806 100644
--- a/OsmAnd/src/net/osmand/plus/ApplicationMode.java
+++ b/OsmAnd/src/net/osmand/plus/ApplicationMode.java
@@ -72,13 +72,12 @@ public class ApplicationMode {
 	private String routingProfile = "";
 	private RouteService routeService = RouteService.OSMAND;
 
-
 	private float defaultSpeed = 10f;
 	private float initialDefaultSpeed = defaultSpeed;
 	private int minDistanceForTurn = 50;
 	private int arrivalDistance = 90;
 	private int offRouteDistance = 350;
-	private NavigationIcon bearingIcon = NavigationIcon.CAR;
+	private NavigationIcon navigationIcon = NavigationIcon.CAR;
 	private LocationIcon locationIcon = LocationIcon.DEFAULT;
 
 	private ApplicationMode(int key, String stringKey) {
@@ -86,25 +85,28 @@ private ApplicationMode(int key, String stringKey) {
 		this.stringKey = stringKey;
 	}
 
-
 	/*
 	 * DEFAULT("Browse map"), CAR("Car"), BICYCLE("Bicycle"), PEDESTRIAN("Pedestrian"); NAUTICAL("boat"); PUBLIC_TRANSPORT("Public transport"); AIRCRAFT("Aircraft")
 	 */
-	public static final ApplicationMode DEFAULT = createBase(R.string.app_mode_default, "default").speed(1.5f, 5).arrivalDistance(90)
+	public static final ApplicationMode DEFAULT = createBase(R.string.app_mode_default, "default")
+			.speed(1.5f, 5).arrivalDistance(90)
 			.locationIcon(LocationIcon.DEFAULT).navigationIcon(NavigationIcon.CAR)
 			.icon(R.drawable.ic_world_globe_dark, R.drawable.map_world_globe_dark, "ic_world_globe_dark").reg();
 
-	public static final ApplicationMode CAR = createBase(R.string.app_mode_car, "car").speed(12.5f, 35)
+	public static final ApplicationMode CAR = createBase(R.string.app_mode_car, "car")
+			.speed(12.5f, 35)
 			.locationIcon(LocationIcon.CAR).navigationIcon(NavigationIcon.CAR)
 			.icon(R.drawable.ic_action_car_dark, R.drawable.map_action_car_dark, "ic_action_car_dark")
 			.setRoutingProfile("car").description(R.string.base_profile_descr_car).reg();
 
-	public static final ApplicationMode BICYCLE = createBase(R.string.app_mode_bicycle, "bicycle").speed(2.77f, 15).arrivalDistance(60).offRouteDistance(50)
+	public static final ApplicationMode BICYCLE = createBase(R.string.app_mode_bicycle, "bicycle")
+			.speed(2.77f, 15).arrivalDistance(60).offRouteDistance(50)
 			.locationIcon(LocationIcon.BICYCLE).navigationIcon(NavigationIcon.CAR)
 			.icon(R.drawable.ic_action_bicycle_dark, R.drawable.map_action_bicycle_dark,"ic_action_bicycle_dark")
 			.setRoutingProfile("bicycle").description(R.string.base_profile_descr_bicycle).reg();
 
-	public static final ApplicationMode PEDESTRIAN = createBase(R.string.app_mode_pedestrian, "pedestrian").speed(1.11f, 5).arrivalDistance(45).offRouteDistance(20)
+	public static final ApplicationMode PEDESTRIAN = createBase(R.string.app_mode_pedestrian, "pedestrian")
+			.speed(1.11f, 5).arrivalDistance(45).offRouteDistance(20)
 			.icon(R.drawable.ic_action_pedestrian_dark, R.drawable.map_action_pedestrian_dark, "ic_action_pedestrian_dark")
 			.setRoutingProfile("pedestrian").description(R.string.base_profile_descr_pedestrian).reg();
 
@@ -112,22 +114,24 @@ private ApplicationMode(int key, String stringKey) {
 			.icon(R.drawable.ic_action_bus_dark, R.drawable.map_action_bus_dark,"ic_action_bus_dark")
 			.setRoutingProfile("public_transport").description(R.string.base_profile_descr_public_transport).reg();
 
-	public static final ApplicationMode BOAT = createBase(R.string.app_mode_boat, "boat").speed(1.38f, 20)
+	public static final ApplicationMode BOAT = createBase(R.string.app_mode_boat, "boat")
+			.speed(1.38f, 20)
 			.locationIcon(LocationIcon.DEFAULT).navigationIcon(NavigationIcon.NAUTICAL)
 			.icon(R.drawable.ic_action_sail_boat_dark, R.drawable.map_action_sail_boat_dark, "ic_action_sail_boat_dark")
 			.setRoutingProfile("boat").description(R.string.base_profile_descr_boat).reg();
 
-	public static final ApplicationMode AIRCRAFT = createBase(R.string.app_mode_aircraft, "aircraft").speed(40f, 100)
+	public static final ApplicationMode AIRCRAFT = createBase(R.string.app_mode_aircraft, "aircraft")
+			.speed(40f, 100)
 			.locationIcon(LocationIcon.CAR).navigationIcon(NavigationIcon.CAR)
 			.icon(R.drawable.ic_action_aircraft, R.drawable.map_action_aircraft,"ic_action_aircraft").setRouteService(RouteService.STRAIGHT)
 			.setRoutingProfile("STRAIGHT_LINE_MODE").description(R.string.base_profile_descr_aircraft).reg();
 
-	public static final ApplicationMode SKI = createBase(R.string.app_mode_skiing, "ski").speed(1.38f, 15).arrivalDistance(60).offRouteDistance(50)
+	public static final ApplicationMode SKI = createBase(R.string.app_mode_skiing, "ski")
+			.speed(1.38f, 15).arrivalDistance(60).offRouteDistance(50)
 			.locationIcon(LocationIcon.BICYCLE).navigationIcon(NavigationIcon.CAR)
 			.icon(R.drawable.ic_action_skiing,  R.drawable.ic_action_skiing,"ic_action_skiing")
 			.setRoutingProfile("ski").description(R.string.base_profile_descr_ski).reg();
 
-
 	private static class ApplicationModeBean {
 		@Expose String stringKey;
 		@Expose String userProfileName;
@@ -136,6 +140,8 @@ private static class ApplicationModeBean {
 		@Expose ProfileIconColors iconColor = ProfileIconColors.DEFAULT;
 		@Expose String routingProfile = null;
 		@Expose RouteService routeService = RouteService.OSMAND;
+		@Expose LocationIcon locationIcon = LocationIcon.DEFAULT;
+		@Expose NavigationIcon navigationIcon = NavigationIcon.CAR;
 		@Expose int order;
 	}
 
@@ -172,7 +178,6 @@ private static void initRegVisibility() {
 		regWidgetAvailability(WIDGET_MAX_SPEED, CAR);
 		regWidgetAvailability(WIDGET_ALTITUDE, all);
 
-
 		// all = null everything
 		regWidgetAvailability(WIDGET_COMPASS, all);
 		regWidgetAvailability(WIDGET_MARKER_1, none);
@@ -189,7 +194,6 @@ private static void initRegVisibility() {
 //		regWidgetAvailability(WIDGET_STREET_NAME, all);
 	}
 
-
 	public static class ApplicationModeBuilder {
 		private ApplicationMode applicationMode;
 
@@ -213,7 +217,7 @@ private ApplicationMode customReg() {
 			m.minDistanceForTurn = m.parentAppMode.minDistanceForTurn;
 			m.arrivalDistance = m.parentAppMode.arrivalDistance;
 			m.offRouteDistance = m.parentAppMode.offRouteDistance;
-			m.bearingIcon = m.parentAppMode.bearingIcon;
+			m.navigationIcon = m.parentAppMode.navigationIcon;
 			m.locationIcon = m.parentAppMode.locationIcon;
 			values.add(applicationMode);
 			if (applicationMode.getOrder() == 0 && !values.isEmpty()) {
@@ -251,45 +255,19 @@ public ApplicationModeBuilder icon(Context app, String iconResName) {
 
 		public ApplicationModeBuilder parent(ApplicationMode parent) {
 			applicationMode.parentAppMode = parent;
-			applicationMode.locationIcon=parent.locationIcon;
-			applicationMode.bearingIcon=parent.bearingIcon;
 			return this;
 		}
 
-		ApplicationModeBuilder locationIcon(LocationIcon locationIcon){
+		public ApplicationModeBuilder locationIcon(LocationIcon locationIcon){
 			applicationMode.locationIcon = locationIcon;
 			return this;
 		}
 
-		ApplicationModeBuilder navigationIcon(NavigationIcon navigationIcon){
-			applicationMode.bearingIcon = navigationIcon;
+		public ApplicationModeBuilder navigationIcon(NavigationIcon navigationIcon){
+			applicationMode.navigationIcon = navigationIcon;
 			return this;
 		}
 
-//		public ApplicationModeBuilder carLocation() {
-//			applicationMode.bearingIcon = NavigationIcon.CAR;
-//			applicationMode.locationIcon = LocationIcon.CAR;
-//			return this;
-//		}
-//
-//		public ApplicationModeBuilder bicycleLocation() {
-//			applicationMode.bearingIcon =  NavigationIcon.CAR;
-//			applicationMode.locationIcon =LocationIcon.BICYCLE;
-//			return this;
-//		}
-//
-//		public ApplicationModeBuilder defLocation() {
-//			applicationMode.bearingIcon =  NavigationIcon.CAR;
-//			applicationMode.locationIcon = LocationIcon.DEFAULT;
-//			return this;
-//		}
-//
-//		public ApplicationModeBuilder nauticalLocation() {
-//			applicationMode.bearingIcon =NavigationIcon.NAUTICAL;
-//			applicationMode.locationIcon = LocationIcon.DEFAULT;
-//			return this;
-//		}
-
 		public ApplicationModeBuilder speed(float defSpeed, int distForTurn) {
 			applicationMode.defaultSpeed = defSpeed;
 			applicationMode.initialDefaultSpeed = defSpeed;
@@ -491,7 +469,7 @@ public boolean hasFastSpeed() {
 	}
 
 	public NavigationIcon getNavigationIcon() {
-		return bearingIcon;
+		return navigationIcon;
 	}
 
 	public LocationIcon getLocationIcon() {
@@ -506,7 +484,6 @@ public int getNameKeyResource() {
 		return keyName;
 	}
 
-
 	public String getCustomProfileName() {
 		return userProfileName;
 	}
@@ -577,7 +554,6 @@ public String getRoutingProfile() {
 		return routingProfile;
 	}
 
-
 	@DrawableRes public int getIconRes() {
 		return iconRes;
 	}
@@ -651,6 +627,8 @@ public static ApplicationModeBuilder fromJson(OsmandApplication app, String json
 		b.icon(app, mb.iconName);
 		b.setColor(mb.iconColor);
 		b.setOrder(mb.order);
+		b.locationIcon(mb.locationIcon);
+		b.navigationIcon(mb.navigationIcon);
 		return b;
 	}
 
@@ -663,6 +641,8 @@ public String toJson() {
 		mb.stringKey = stringKey;
 		mb.routeService = routeService;
 		mb.routingProfile = routingProfile;
+		mb.locationIcon = locationIcon;
+		mb.navigationIcon = navigationIcon;
 		mb.order = order;
 		Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();
 		return gson.toJson(mb);
@@ -682,6 +662,8 @@ private static void initDefaultModesParams(OsmandApplication app) {
 					applicationMode.iconColor = modeBean.iconColor;
 					applicationMode.routingProfile = modeBean.routingProfile;
 					applicationMode.routeService = modeBean.routeService;
+					applicationMode.locationIcon = modeBean.locationIcon;
+					applicationMode.navigationIcon = modeBean.navigationIcon;
 					applicationMode.order = modeBean.order;
 				}
 			}
@@ -701,6 +683,8 @@ private static void initCustomModes(OsmandApplication app){
 						.setRoutingProfile(m.routingProfile)
 						.icon(app, m.iconName)
 						.setColor(m.iconColor)
+						.locationIcon(m.locationIcon)
+						.navigationIcon(m.navigationIcon)
 						.setOrder(m.order)
 						.customReg();
 			}
@@ -745,9 +729,10 @@ private static List<ApplicationModeBean> createApplicationModeBeans(List<Applica
 			mb.routeService = mode.routeService;
 			mb.routingProfile = mode.routingProfile;
 			mb.order = mode.order;
+			mb.locationIcon = mode.locationIcon;
+			mb.navigationIcon = mode.navigationIcon;
 			modeBeans.add(mb);
 		}
-
 		return modeBeans;
 	}
 
@@ -762,13 +747,14 @@ public static ApplicationMode saveProfile(ApplicationModeBuilder builder, Osmand
 			mode.routingProfile = builder.applicationMode.routingProfile;
 			mode.routeService = builder.applicationMode.routeService;
 			mode.iconColor = builder.applicationMode.iconColor;
+			mode.locationIcon = builder.applicationMode.locationIcon;
+			mode.navigationIcon = builder.applicationMode.navigationIcon;
 			mode.order = builder.applicationMode.order;
 		} else {
 			mode = builder.customReg();
 			initRegVisibility();
 		}
 		saveAppModesToSettings(app.getSettings(), mode.isCustomProfile());
-
 		return mode;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/settings/ProfileAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/settings/ProfileAppearanceFragment.java
index 2d65869ecfa..843068960d8 100644
--- a/OsmAnd/src/net/osmand/plus/settings/ProfileAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/ProfileAppearanceFragment.java
@@ -7,11 +7,13 @@
 import android.graphics.Matrix;
 import android.graphics.PorterDuff;
 import android.graphics.drawable.GradientDrawable;
+import android.graphics.drawable.LayerDrawable;
 import android.os.Bundle;
 import android.support.annotation.Nullable;
 import android.support.v4.app.Fragment;
 import android.support.v4.app.FragmentActivity;
 import android.support.v4.content.ContextCompat;
+import android.support.v4.graphics.drawable.DrawableCompat;
 import android.support.v7.app.AlertDialog;
 import android.support.v7.preference.Preference;
 import android.support.v7.preference.PreferenceViewHolder;
@@ -26,7 +28,6 @@
 import android.widget.EditText;
 import android.widget.FrameLayout;
 import android.widget.ImageView;
-import android.widget.LinearLayout;
 
 import net.osmand.AndroidUtils;
 import net.osmand.PlatformUtil;
@@ -72,6 +73,8 @@ public class ProfileAppearanceFragment extends BaseSettingsFragment {
 	public static final String PROFILE_ICON_RES_KEY = "profile_icon_res_key";
 	public static final String PROFILE_COLOR_KEY = "profile_color_key";
 	public static final String PROFILE_PARENT_KEY = "profile_parent_key";
+	public static final String PROFILE_LOCATION_ICON_KEY = "profile_location_icon_key";
+	public static final String PROFILE_NAVIGATION_ICON_KEY = "profile_navigation_icon_key";
 	public static final String BASE_PROFILE_FOR_NEW = "base_profile_for_new";
 	private SelectProfileBottomSheetDialogFragment.SelectProfileListener parentProfileListener;
 	private EditText baseProfileName;
@@ -80,7 +83,7 @@ public class ProfileAppearanceFragment extends BaseSettingsFragment {
 	private EditText profileName;
 	private FlowLayout colorItems;
 	private FlowLayout iconItems;
-	private FlowLayout mapIconItems;
+	private FlowLayout locationIconItems;
 	private FlowLayout navIconItems;
 	private OsmandTextFieldBoxes profileNameOtfb;
 	private View saveButton;
@@ -108,6 +111,8 @@ public void onCreate(Bundle savedInstanceState) {
 			profile.iconRes = baseModeForNewProfile.getIconRes();
 			profile.routingProfile = baseModeForNewProfile.getRoutingProfile();
 			profile.routeService = baseModeForNewProfile.getRouteService();
+			profile.locationIcon = baseModeForNewProfile.getLocationIcon();
+			profile.navigationIcon = baseModeForNewProfile.getNavigationIcon();
 		} else {
 			profile.stringKey = getSelectedAppMode().getStringKey();
 			profile.parent = getSelectedAppMode().getParent();
@@ -116,6 +121,8 @@ public void onCreate(Bundle savedInstanceState) {
 			profile.iconRes = getSelectedAppMode().getIconRes();
 			profile.routingProfile = getSelectedAppMode().getRoutingProfile();
 			profile.routeService = getSelectedAppMode().getRouteService();
+			profile.locationIcon = getSelectedAppMode().getLocationIcon();
+			profile.navigationIcon = getSelectedAppMode().getNavigationIcon();
 		}
 		changedProfile = new ApplicationProfileObject();
 		if (savedInstanceState != null) {
@@ -132,6 +139,8 @@ public void onCreate(Bundle savedInstanceState) {
 			changedProfile.iconRes = profile.iconRes;
 			changedProfile.routingProfile = profile.routingProfile;
 			changedProfile.routeService = profile.routeService;
+			changedProfile.locationIcon = profile.locationIcon;
+			changedProfile.navigationIcon = profile.navigationIcon;
 		}
 	}
 
@@ -255,6 +264,8 @@ private void saveState(Bundle outState) {
 		if (changedProfile.parent != null) {
 			outState.putString(PROFILE_PARENT_KEY, changedProfile.parent.getStringKey());
 		}
+		outState.putSerializable(PROFILE_LOCATION_ICON_KEY, changedProfile.locationIcon);
+		outState.putSerializable(PROFILE_NAVIGATION_ICON_KEY, changedProfile.navigationIcon);
 	}
 
 	private void restoreState(Bundle savedInstanceState) {
@@ -264,6 +275,8 @@ private void restoreState(Bundle savedInstanceState) {
 		changedProfile.color = (ApplicationMode.ProfileIconColors) savedInstanceState.getSerializable(PROFILE_COLOR_KEY);
 		String parentStringKey = savedInstanceState.getString(PROFILE_PARENT_KEY);
 		changedProfile.parent = ApplicationMode.valueOfStringKey(parentStringKey, null);
+		changedProfile.locationIcon = (ApplicationMode.LocationIcon) savedInstanceState.getSerializable(PROFILE_LOCATION_ICON_KEY);
+		changedProfile.navigationIcon = (ApplicationMode.NavigationIcon) savedInstanceState.getSerializable(PROFILE_NAVIGATION_ICON_KEY);
 	}
 
 	@Override
@@ -284,11 +297,6 @@ protected void updateProfileButton() {
 		}
 	}
 
-	@Override
-	protected void updatePreference(Preference preference) {
-		super.updatePreference(preference);
-	}
-
 	@Override
 	protected void onBindPreferenceViewHolder(Preference preference, PreferenceViewHolder holder) {
 		super.onBindPreferenceViewHolder(preference, holder);
@@ -353,16 +361,7 @@ public void onClick(View v) {
 			for (ApplicationMode.ProfileIconColors color : ApplicationMode.ProfileIconColors.values()) {
 				View colorItem = createColorItemView(color, colorItems);
 				colorItems.addView(colorItem, new FlowLayout.LayoutParams(0, 0));
-				ImageView outlineCircle = colorItem.findViewById(R.id.outlineCircle);
-				ImageView checkMark = colorItem.findViewById(R.id.checkMark);
-				GradientDrawable gradientDrawable = (GradientDrawable) ContextCompat.getDrawable(app, R.drawable.circle_contour_bg_light);
-				if (gradientDrawable != null) {
-					gradientDrawable.setStroke(AndroidUtils.dpToPx(app, 2),
-							UiUtilities.getColorWithAlpha(ContextCompat.getColor(app, color.getColor(isNightMode())), 0.3f));
-					outlineCircle.setImageDrawable(gradientDrawable);
-				}
-				checkMark.setVisibility(View.GONE);
-				outlineCircle.setVisibility(View.GONE);
+
 			}
 			updateColorSelector(changedProfile.color);
 		} else if (ICON_ITEMS.equals(preference.getKey())) {
@@ -375,20 +374,21 @@ public void onClick(View v) {
 			}
 			setIconNewColor(changedProfile.iconRes);
 		} else if (LOCATION_ICON_ITEMS.equals(preference.getKey())) {
-			mapIconItems = (FlowLayout) holder.findViewById(R.id.color_items);
-			mapIconItems.removeAllViews();
-			for (ApplicationMode.LocationIcon iconRes : ApplicationMode.LocationIcon.values()) {
-				View iconItemView = createLocationIconView(iconRes, mapIconItems);
-				mapIconItems.addView(iconItemView, new FlowLayout.LayoutParams(0, 0));
+			locationIconItems = (FlowLayout) holder.findViewById(R.id.color_items);
+			locationIconItems.removeAllViews();
+			for (ApplicationMode.LocationIcon locationIcon : ApplicationMode.LocationIcon.values()) {
+				View iconItemView = createLocationIconView(locationIcon, locationIconItems);
+				locationIconItems.addView(iconItemView, new FlowLayout.LayoutParams(0, 0));
 			}
-
+			updateLocationIconSelector(changedProfile.locationIcon);
 		} else if (NAV_ICON_ITEMS.equals(preference.getKey())) {
 			navIconItems = (FlowLayout) holder.findViewById(R.id.color_items);
 			navIconItems.removeAllViews();
-			for (ApplicationMode.NavigationIcon iconRes : ApplicationMode.NavigationIcon.values()) {
-				View iconItemView = createNavigationIconView(iconRes, navIconItems);
+			for (ApplicationMode.NavigationIcon navigationIcon : ApplicationMode.NavigationIcon.values()) {
+				View iconItemView = createNavigationIconView(navigationIcon, navIconItems);
 				navIconItems.addView(iconItemView, new FlowLayout.LayoutParams(0, 0));
 			}
+			updateNavigationIconSelector(changedProfile.navigationIcon);
 		}
 	}
 
@@ -404,9 +404,22 @@ private View createColorItemView(final ApplicationMode.ProfileIconColors colorRe
 			public void onClick(View v) {
 				if (colorRes != changedProfile.color) {
 					updateColorSelector(colorRes);
+					updatePreference(findPreference(MASTER_PROFILE));
+					updatePreference(findPreference(LOCATION_ICON_ITEMS));
 				}
 			}
 		});
+
+		ImageView outlineCircle = colorItemView.findViewById(R.id.outlineCircle);
+		ImageView checkMark = colorItemView.findViewById(R.id.checkMark);
+		GradientDrawable gradientDrawable = (GradientDrawable) ContextCompat.getDrawable(app, R.drawable.circle_contour_bg_light);
+		if (gradientDrawable != null) {
+			gradientDrawable.setStroke(AndroidUtils.dpToPx(app, 2),
+					UiUtilities.getColorWithAlpha(ContextCompat.getColor(app, colorRes.getColor(isNightMode())), 0.3f));
+			outlineCircle.setImageDrawable(gradientDrawable);
+		}
+		checkMark.setVisibility(View.GONE);
+		outlineCircle.setVisibility(View.GONE);
 		colorItemView.setTag(colorRes);
 		return colorItemView;
 	}
@@ -422,8 +435,7 @@ private void updateColorSelector(ApplicationMode.ProfileIconColors color) {
 		if (iconItems != null) {
 			setIconNewColor(changedProfile.iconRes);
 		}
-		int selectedColor = ContextCompat.getColor(app,
-				changedProfile.color.getColor(isNightMode()));
+		int selectedColor = ContextCompat.getColor(app, changedProfile.color.getColor(isNightMode()));
 		profileNameOtfb.setPrimaryColor(selectedColor);
 		profileName.getBackground().mutate().setColorFilter(selectedColor, PorterDuff.Mode.SRC_ATOP);
 		updateProfileButton();
@@ -462,14 +474,15 @@ private void updateIconSelector(int iconRes) {
 						UiUtilities.getColorWithAlpha(ContextCompat.getColor(app, R.color.icon_color_default_light), 0.1f)));
 		changedProfile.iconRes = iconRes;
 		updateProfileButton();
-		updateLocationIconSelector();
 	}
 
-	private View createLocationIconView(ApplicationMode.LocationIcon locationIcon, ViewGroup rootView) {
+	private View createLocationIconView(final ApplicationMode.LocationIcon locationIcon, ViewGroup rootView) {
 		FrameLayout locationIconView = (FrameLayout) UiUtilities.getInflater(getContext(), isNightMode())
 				.inflate(R.layout.preference_select_icon_button, rootView, false);
-		locationIconView.<ImageView>findViewById(R.id.icon)
-				.setImageDrawable(ContextCompat.getDrawable(app, locationIcon.getIconId()));
+		LayerDrawable locationIconDrawable = (LayerDrawable) app.getResources().getDrawable(locationIcon.getIconId());
+		DrawableCompat.setTint(locationIconDrawable.getDrawable(1), ContextCompat.getColor(app, changedProfile.color.getColor(
+				app.getDaynightHelper().isNightModeForMapControls())));
+		locationIconView.<ImageView>findViewById(R.id.icon).setImageDrawable(locationIconDrawable);
 		locationIconView.<ImageView>findViewById(R.id.headingIcon)
 				.setImageDrawable(ContextCompat.getDrawable(app, locationIcon.getHeadingIconId()));
 		ImageView coloredRect = locationIconView.findViewById(R.id.backgroundRect);
@@ -479,9 +492,9 @@ private View createLocationIconView(ApplicationMode.LocationIcon locationIcon, V
 		coloredRect.setOnClickListener(new View.OnClickListener() {
 			@Override
 			public void onClick(View v) {
-//						if (locationIcon != changedProfile.locationIcon) {
-//							updateIconSelector(locationIcon);
-//						}
+				if (locationIcon != changedProfile.locationIcon) {
+					updateLocationIconSelector(locationIcon);
+				}
 			}
 		});
 		ImageView outlineRect = locationIconView.findViewById(R.id.outlineRect);
@@ -493,17 +506,26 @@ public void onClick(View v) {
 		}
 		outlineRect.setImageDrawable(rectContourDrawable);
 		outlineRect.setVisibility(View.GONE);
+		locationIconView.setTag(locationIcon);
 		return locationIconView;
 	}
 
-	private void updateLocationIconSelector() {
+	private void updateLocationIconSelector(ApplicationMode.LocationIcon locationIcon) {
+		View viewWithTag = locationIconItems.findViewWithTag(changedProfile.locationIcon);
+		viewWithTag.findViewById(R.id.outlineRect).setVisibility(View.GONE);
+		viewWithTag = locationIconItems.findViewWithTag(locationIcon);
+		viewWithTag.findViewById(R.id.outlineRect).setVisibility(View.VISIBLE);
+		changedProfile.locationIcon = locationIcon;
 	}
 
-	private View createNavigationIconView(ApplicationMode.NavigationIcon navigationIcon, ViewGroup rootView) {
+	private View createNavigationIconView(final ApplicationMode.NavigationIcon navigationIcon, ViewGroup rootView) {
 		FrameLayout navigationIconView = (FrameLayout) UiUtilities.getInflater(getContext(), isNightMode())
 				.inflate(R.layout.preference_select_icon_button, rootView, false);
+		LayerDrawable navigationIconDrawable = (LayerDrawable) app.getResources().getDrawable(navigationIcon.getIconId());
+		DrawableCompat.setTint(navigationIconDrawable.getDrawable(1), ContextCompat.getColor(app, changedProfile.color.getColor(
+				app.getDaynightHelper().isNightModeForMapControls())));
 		ImageView imageView = navigationIconView.findViewById(R.id.icon);
-		imageView.setImageDrawable(ContextCompat.getDrawable(app, navigationIcon.getIconId()));
+		imageView.setImageDrawable(navigationIconDrawable);
 		Matrix matrix = new Matrix();
 		imageView.setScaleType(ImageView.ScaleType.MATRIX);
 		matrix.postRotate((float) -90, imageView.getDrawable().getIntrinsicWidth() / 2,
@@ -516,9 +538,9 @@ private View createNavigationIconView(ApplicationMode.NavigationIcon navigationI
 		coloredRect.setOnClickListener(new View.OnClickListener() {
 			@Override
 			public void onClick(View v) {
-//						if (navigationIcon != changedProfile.navigationIcon) {
-//							updateIconSelector(navigationIcon);
-//						}
+				if (navigationIcon != changedProfile.navigationIcon) {
+					updateNavigationIconSelector(navigationIcon);
+				}
 			}
 		});
 		ImageView outlineRect = navigationIconView.findViewById(R.id.outlineRect);
@@ -530,12 +552,16 @@ public void onClick(View v) {
 		}
 		outlineRect.setImageDrawable(rectContourDrawable);
 		outlineRect.setVisibility(View.GONE);
-		LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(164, AndroidUtils.dpToPx(app, 80));
-		navigationIconView.setLayoutParams(params);
+		navigationIconView.setTag(navigationIcon);
 		return navigationIconView;
 	}
 
-	private void updateNavigationIconSelector() {
+	private void updateNavigationIconSelector(ApplicationMode.NavigationIcon navigationIcon) {
+		View viewWithTag = navIconItems.findViewWithTag(changedProfile.navigationIcon);
+		viewWithTag.findViewById(R.id.outlineRect).setVisibility(View.GONE);
+		viewWithTag = navIconItems.findViewWithTag(navigationIcon);
+		viewWithTag.findViewById(R.id.outlineRect).setVisibility(View.VISIBLE);
+		changedProfile.navigationIcon = navigationIcon;
 	}
 
 	private void setIconNewColor(int iconRes) {
@@ -611,7 +637,9 @@ private boolean saveProfile(boolean isNew) {
 				.icon(app, ApplicationMode.ProfileIcons.getResStringByResId(changedProfile.iconRes))
 				.setRouteService(changedProfile.routeService)
 				.setRoutingProfile(changedProfile.routingProfile)
-				.setColor(changedProfile.color);
+				.setColor(changedProfile.color)
+				.locationIcon(changedProfile.locationIcon)
+				.navigationIcon(changedProfile.navigationIcon);
 
 		ApplicationMode mode = ApplicationMode.saveProfile(builder, getMyApplication());
 		if (!ApplicationMode.values(app).contains(mode)) {
@@ -688,6 +716,8 @@ class ApplicationProfileObject {
 		int iconRes;
 		String routingProfile;
 		RouteProvider.RouteService routeService;
+		ApplicationMode.NavigationIcon navigationIcon;
+		ApplicationMode.LocationIcon locationIcon;
 
 		@Override
 		public boolean equals(Object o) {
@@ -704,7 +734,9 @@ public boolean equals(Object o) {
 			if (color != that.color) return false;
 			if (routingProfile != null ? !routingProfile.equals(that.routingProfile) : that.routingProfile != null)
 				return false;
-			return routeService == that.routeService;
+			if (routeService != that.routeService) return false;
+			if (navigationIcon != that.navigationIcon) return false;
+			return locationIcon == that.locationIcon;
 		}
 
 		@Override
@@ -716,6 +748,8 @@ public int hashCode() {
 			result = 31 * result + iconRes;
 			result = 31 * result + (routingProfile != null ? routingProfile.hashCode() : 0);
 			result = 31 * result + (routeService != null ? routeService.hashCode() : 0);
+			result = 31 * result + (navigationIcon != null ? navigationIcon.hashCode() : 0);
+			result = 31 * result + (locationIcon != null ? locationIcon.hashCode() : 0);
 			return result;
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java b/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
index 379a9ef2a31..08ae85afbaf 100644
--- a/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
@@ -41,8 +41,8 @@ public class PointLocationLayer extends OsmandMapLayer implements ContextMenuLay
 	private OsmandMapTileView view;
 
 	private ApplicationMode appMode;
-	private int color;
-	private LayerDrawable bearingIcon;
+	private int colorId;
+	private LayerDrawable navigationIcon;
 	private LayerDrawable locationIcon;
 	private Bitmap headingIcon;
 	private OsmAndLocationProvider locationProvider;
@@ -127,12 +127,16 @@ public void onDraw(Canvas canvas, RotatedTileBox box, DrawSettings nightMode) {
 			if (!locationOutdated && isBearing) {
 				float bearing = lastKnownLocation.getBearing();
 				canvas.rotate(bearing - 90, locationX, locationY);
-				bearingIcon.setBounds(locationX - bearingIcon.getIntrinsicWidth() / 2, locationY - bearingIcon.getIntrinsicHeight() / 2,
-						locationX + bearingIcon.getIntrinsicWidth() / 2, locationY + bearingIcon.getIntrinsicHeight() / 2);
-				bearingIcon.draw(canvas);
+				navigationIcon.setBounds(locationX - navigationIcon.getIntrinsicWidth() / 2,
+						locationY - navigationIcon.getIntrinsicHeight() / 2,
+						locationX + navigationIcon.getIntrinsicWidth() / 2,
+						locationY + navigationIcon.getIntrinsicHeight() / 2);
+				navigationIcon.draw(canvas);
 			} else {
-				locationIcon.setBounds(locationX - locationIcon.getIntrinsicWidth() / 2, locationY - locationIcon.getIntrinsicHeight() / 2,
-						locationX + locationIcon.getIntrinsicWidth() / 2, locationY + locationIcon.getIntrinsicHeight() / 2);
+				locationIcon.setBounds(locationX - locationIcon.getIntrinsicWidth() / 2,
+						locationY - locationIcon.getIntrinsicHeight() / 2,
+						locationX + locationIcon.getIntrinsicWidth() / 2,
+						locationY + locationIcon.getIntrinsicHeight() / 2);
 				locationIcon.draw(canvas);
 			}
 		}
@@ -148,16 +152,16 @@ public void destroyLayer() {
 
 	private void updateIcons(ApplicationMode appMode, boolean nighMode, boolean locationOutdated) {
 		if (appMode != this.appMode || this.nm != nighMode || this.locationOutdated != locationOutdated ||
-				color != appMode.getIconColorInfo().getColor(nighMode)) {
+				colorId != appMode.getIconColorInfo().getColor(nighMode)) {
 			this.appMode = appMode;
-			this.color = appMode.getIconColorInfo().getColor(nighMode);
+			this.colorId = appMode.getIconColorInfo().getColor(nighMode);
 			this.nm = nighMode;
 			this.locationOutdated = locationOutdated;
-			bearingIcon = (LayerDrawable) view.getResources().getDrawable(appMode.getNavigationIcon().getIconId());
-			DrawableCompat.setTint(bearingIcon.getDrawable(1), ContextCompat.getColor(view.getContext(), color));
+			navigationIcon = (LayerDrawable) view.getResources().getDrawable(appMode.getNavigationIcon().getIconId());
+			DrawableCompat.setTint(navigationIcon.getDrawable(1), ContextCompat.getColor(view.getContext(), colorId));
 			headingIcon = BitmapFactory.decodeResource(view.getResources(), appMode.getLocationIcon().getHeadingIconId());
 			locationIcon = (LayerDrawable) view.getResources().getDrawable(appMode.getLocationIcon().getIconId());
-			DrawableCompat.setTint(locationIcon.getDrawable(1), ContextCompat.getColor(view.getContext(), color));
+			DrawableCompat.setTint(locationIcon.getDrawable(1), ContextCompat.getColor(view.getContext(), colorId));
 			area.setColor(view.getResources().getColor(!nm ? R.color.pos_area : R.color.pos_area_night));
 		}
 	}
