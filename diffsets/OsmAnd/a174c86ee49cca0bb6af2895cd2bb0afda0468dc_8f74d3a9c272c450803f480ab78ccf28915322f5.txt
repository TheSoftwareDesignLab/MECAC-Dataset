diff --git a/OsmAnd/res/layout/current_gpx_item.xml b/OsmAnd/res/layout/current_gpx_item.xml
index 71d881b3f58..210d225dc83 100644
--- a/OsmAnd/res/layout/current_gpx_item.xml
+++ b/OsmAnd/res/layout/current_gpx_item.xml
@@ -18,8 +18,8 @@
 		android:layout_height="wrap_content"
 		android:layout_marginTop="@dimen/content_padding_small_half_inverted"
 		android:paddingStart="@dimen/settings_divider_margin_start"
-		android:paddingEnd="@dimen/content_padding"
 		android:paddingTop="@dimen/content_padding_small_half"
+		android:paddingEnd="@dimen/content_padding"
 		android:paddingBottom="@dimen/content_padding_small">
 
 		<net.osmand.plus.widgets.dialogbutton.DialogButton
@@ -27,7 +27,7 @@
 			android:layout_width="wrap_content"
 			android:layout_height="wrap_content"
 			app:dialogButtonType="secondaryActive"
-			tools:dialogButtonTitle="@string/shortcut_start_recording"/>
+			tools:dialogButtonTitle="@string/shortcut_start_recording" />
 
 		<Space
 			android:layout_width="@dimen/content_padding_round_medium"
@@ -38,7 +38,7 @@
 			android:layout_width="wrap_content"
 			android:layout_height="wrap_content"
 			app:dialogButtonType="secondaryActive"
-			tools:dialogButtonTitle="@string/shared_string_save"/>
+			tools:dialogButtonTitle="@string/shared_string_save" />
 
 	</LinearLayout>
 
diff --git a/OsmAnd/res/layout/track_folder_fragment.xml b/OsmAnd/res/layout/track_folder_fragment.xml
index 3747828ed74..ca1d1ed5c79 100644
--- a/OsmAnd/res/layout/track_folder_fragment.xml
+++ b/OsmAnd/res/layout/track_folder_fragment.xml
@@ -5,6 +5,8 @@
 	android:layout_width="match_parent"
 	android:layout_height="match_parent"
 	android:background="?attr/list_background_color"
+	android:clickable="true"
+	android:focusable="true"
 	android:orientation="vertical">
 
 	<com.google.android.material.appbar.AppBarLayout
diff --git a/OsmAnd/res/menu/myplaces_tracks_menu.xml b/OsmAnd/res/menu/myplaces_tracks_menu.xml
index f505a2c9124..720b7041619 100644
--- a/OsmAnd/res/menu/myplaces_tracks_menu.xml
+++ b/OsmAnd/res/menu/myplaces_tracks_menu.xml
@@ -9,6 +9,6 @@
 	<item
 		android:id="@+id/action_menu"
 		android:icon="@drawable/ic_overflow_menu_white"
-		android:title="@string/shared_string_menu"
+		android:title="@string/shared_string_more_actions"
 		app:showAsAction="always" />
 </menu>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 7370f5af43f..d6779ff5818 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,7 @@
 	Thx - Hardy
 -->
 
+    <string name="ltr_or_rtl_triple_combine_via_bold_point">%1$s • %2$s • %3$s</string>
     <string name="routing_attr_hazmat_category_usa_1_name">Explosives</string>
     <string name="routing_attr_hazmat_category_usa_2_name">Gases</string>
     <string name="routing_attr_hazmat_category_usa_3_name">Flammable Liquids</string>
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
index 4f9a704fac9..fb1657a46f6 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
@@ -70,11 +70,12 @@ public class SearchTrackItemsFragment extends BaseOsmAndDialogFragment implement
 	private boolean locationUpdateStarted;
 	private boolean compassUpdateAllowed = true;
 
+	private boolean usedOnMap;
 	private boolean selectionMode;
 
 	@Override
 	protected boolean isUsedOnMap() {
-		return true;
+		return usedOnMap;
 	}
 
 	@Override
@@ -306,7 +307,7 @@ public void stopLocationUpdate() {
 	public void showSortByDialog() {
 		FragmentManager manager = getFragmentManager();
 		if (manager != null) {
-			SortByBottomSheet.showInstance(manager, this);
+			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
 		}
 	}
 
@@ -388,9 +389,11 @@ private void showTrackOnMap(@NonNull TrackItem trackItem) {
 		};
 	}
 
-	public static void showInstance(@NonNull FragmentManager manager, @Nullable Fragment target, boolean selectionMode) {
+	public static void showInstance(@NonNull FragmentManager manager, @Nullable Fragment target,
+	                                boolean selectionMode, boolean usedOnMap) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			SearchTrackItemsFragment fragment = new SearchTrackItemsFragment();
+			fragment.usedOnMap = usedOnMap;
 			fragment.selectionMode = selectionMode;
 			fragment.setRetainInstance(true);
 			fragment.setTargetFragment(target, 0);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/SortByBottomSheet.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/SortByBottomSheet.java
index 051fff131ef..5ed02ea1db6 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/SortByBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/SortByBottomSheet.java
@@ -21,7 +21,8 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import net.osmand.plus.R;
-import net.osmand.plus.base.BaseBottomSheetDialogFragment;
+import net.osmand.plus.base.MenuBottomSheetDialogFragment;
+import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder.SortTracksListener;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.enums.TracksSortMode;
@@ -32,29 +33,25 @@
 import java.util.Arrays;
 import java.util.List;
 
-public class SortByBottomSheet extends BaseBottomSheetDialogFragment {
+public class SortByBottomSheet extends MenuBottomSheetDialogFragment {
 
 	private static final String TAG = SortByBottomSheet.class.getSimpleName();
 
-	private TracksSortMode tracksSortMode;
+	private static final String TRACKS_SORT_MODE_KEY = "tracks_sort_mode_key";
 
-	private boolean nightMode;
+	private TracksSortMode tracksSortMode;
 
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
-		nightMode = isNightMode(true);
 
-		Fragment target = getTargetFragment();
-		if (target instanceof SortTracksListener) {
-			tracksSortMode = ((SortTracksListener) target).getTracksSortMode();
+		if (savedInstanceState != null) {
+			tracksSortMode = AndroidUtils.getSerializable(savedInstanceState, TRACKS_SORT_MODE_KEY, TracksSortMode.class);
 		}
 	}
 
-	@Nullable
 	@Override
-	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,
-	                         @Nullable Bundle savedInstanceState) {
+	public void createMenuItems(Bundle savedInstanceState) {
 		Context context = requireContext();
 		LayoutInflater themedInflater = UiUtilities.getInflater(context, nightMode);
 		View view = themedInflater.inflate(R.layout.bottom_sheet_track_group_list, null);
@@ -67,7 +64,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 		recyclerView.setLayoutManager(new LinearLayoutManager(context));
 		recyclerView.setAdapter(new SortModesAdapter(Arrays.asList(TracksSortMode.values())));
 
-		return view;
+		items.add(new BaseBottomSheetItem.Builder().setCustomView(view).create());
 	}
 
 	public class SortModesAdapter extends RecyclerView.Adapter<SortModeViewHolder> {
@@ -97,7 +94,7 @@ public void onBindViewHolder(@NonNull SortModeViewHolder holder, int position) {
 
 			boolean selected = sortMode == tracksSortMode;
 			int colorId = selected ? activeColorId : defaultColorId;
-			holder.groupTypeIcon.setImageDrawable(uiUtilities.getIcon(sortMode.getIconId(), colorId));
+			holder.groupTypeIcon.setImageDrawable(getIcon(sortMode.getIconId(), colorId));
 
 			holder.itemView.setOnClickListener(view -> {
 				Fragment target = getTargetFragment();
@@ -139,9 +136,18 @@ private static class SortModeViewHolder extends RecyclerView.ViewHolder {
 		}
 	}
 
-	public static void showInstance(@NonNull FragmentManager manager, @NonNull Fragment target) {
+	@Override
+	public void onSaveInstanceState(@NonNull Bundle outState) {
+		super.onSaveInstanceState(outState);
+		outState.putSerializable(TRACKS_SORT_MODE_KEY, tracksSortMode);
+	}
+
+	public static void showInstance(@NonNull FragmentManager manager, @NonNull TracksSortMode sortMode,
+	                                @NonNull Fragment target, boolean usedOnMap) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			SortByBottomSheet fragment = new SortByBottomSheet();
+			fragment.tracksSortMode = sortMode;
+			fragment.setUsedOnMap(usedOnMap);
 			fragment.setTargetFragment(target, 0);
 			fragment.show(manager, TAG);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksComparator.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksComparator.java
index e346dc5230f..640b56bec17 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksComparator.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksComparator.java
@@ -15,6 +15,7 @@
 import net.osmand.plus.myplaces.tracks.VisibleTracksGroup;
 import net.osmand.plus.settings.enums.TracksSortMode;
 import net.osmand.plus.track.data.TrackFolder;
+import net.osmand.plus.track.data.TrackFolderAnalysis;
 import net.osmand.plus.track.helpers.GPXDatabase.GpxDataItem;
 import net.osmand.util.MapUtils;
 
@@ -73,13 +74,36 @@ public int compare(Object o1, Object o2) {
 	}
 
 	private int compareTrackFolders(@NonNull TrackFolder folder1, @NonNull TrackFolder folder2) {
+		TrackFolderAnalysis folderAnalysis1 = folder1.getFolderAnalysis();
+		TrackFolderAnalysis folderAnalysis2 = folder2.getFolderAnalysis();
+
 		switch (sortMode) {
 			case NAME_ASCENDING:
 				return compareTrackFolderNames(folder1, folder2);
 			case NAME_DESCENDING:
 				return -compareTrackFolderNames(folder1, folder2);
+			case DATE_ASCENDING:
+				return -compareFolderFilesByLastModified(folder1, folder2);
+			case DATE_DESCENDING:
+				return compareFolderFilesByLastModified(folder1, folder2);
 			case LAST_MODIFIED:
 				return compareFolderFilesByLastModified(folder1, folder2);
+			case DISTANCE_DESCENDING:
+				if (Math.abs(folderAnalysis1.totalDistance - folderAnalysis2.totalDistance) >= EQUIVALENT_TOLERANCE) {
+					return -Float.compare(folderAnalysis1.totalDistance, folderAnalysis2.totalDistance);
+				}
+			case DISTANCE_ASCENDING:
+				if (Math.abs(folderAnalysis1.totalDistance - folderAnalysis2.totalDistance) >= EQUIVALENT_TOLERANCE) {
+					return Float.compare(folderAnalysis1.totalDistance, folderAnalysis2.totalDistance);
+				}
+			case DURATION_DESCENDING:
+				if (folderAnalysis1.timeSpan != folderAnalysis2.timeSpan) {
+					return -Long.compare(folderAnalysis1.timeSpan, folderAnalysis2.timeSpan);
+				}
+			case DURATION_ASCENDING:
+				if (folderAnalysis1.timeSpan != folderAnalysis2.timeSpan) {
+					return Long.compare(folderAnalysis1.timeSpan, folderAnalysis2.timeSpan);
+				}
 		}
 		return compareTrackFolderNames(folder1, folder2);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
index d03c923a55f..ef917fff57f 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
@@ -197,7 +197,7 @@ private void setupToolbar(@NonNull View view) {
 		searchButton.setOnClickListener((v) -> {
 			FragmentActivity activity = getActivity();
 			if (activity != null) {
-				SearchTrackItemsFragment.showInstance(activity.getSupportFragmentManager(), this, true);
+				SearchTrackItemsFragment.showInstance(activity.getSupportFragmentManager(), this, true, isUsedOnMap());
 			}
 		});
 		toolbar.findViewById(R.id.back_button).setOnClickListener(v -> dismiss());
@@ -350,7 +350,8 @@ public TrackTab getTab(@NonNull String name) {
 	public void showSortByDialog() {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
-			SortByBottomSheet.showInstance(activity.getSupportFragmentManager(), this);
+			FragmentManager manager = activity.getSupportFragmentManager();
+			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/importfiles/ImportHelper.java b/OsmAnd/src/net/osmand/plus/importfiles/ImportHelper.java
index 4c7b51be1f2..ef58fbf4ac9 100644
--- a/OsmAnd/src/net/osmand/plus/importfiles/ImportHelper.java
+++ b/OsmAnd/src/net/osmand/plus/importfiles/ImportHelper.java
@@ -496,7 +496,8 @@ private void handleResult(GPXFile result, String name, OnSuccessfulGpxImport onG
 				int tracksCount = result.getTracksCount();
 				if (singleImport && (tracksCount > 1 && tracksCount < 50)) {
 					FragmentManager manager = activity.getSupportFragmentManager();
-					ImportTracksFragment.showInstance(manager, result, name, destinationDir.getName(), gpxImportListener, fileSize);
+					ImportTracksFragment.showInstance(manager, result, name,
+							destinationDir.getAbsolutePath(), gpxImportListener, fileSize);
 				} else {
 					importAsOneTrack(result, name, destinationDir, showSnackbar, onGpxImport);
 				}
diff --git a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksAdapter.java b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksAdapter.java
index 52a31b9ab91..cde7be26e62 100644
--- a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksAdapter.java
@@ -175,7 +175,7 @@ public interface ImportTracksListener {
 
 		void onFoldersListSelected();
 
-		void onFolderSelected(@NonNull String folderName);
+		void onFolderSelected(@NonNull String folderPath);
 
 		void onTrackItemSelected(@NonNull ImportTrackItem item, boolean selected);
 
diff --git a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
index 7f259ca7e5a..a5740997924 100644
--- a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
@@ -108,10 +108,11 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 
 		if (savedInstanceState == null) {
 			collectTracks();
+		} else {
+			selectedFolder = savedInstanceState.getString(SELECTED_DIRECTORY_KEY);
 		}
-		if (selectedFolder == null) {
-			String importDir = app.getAppPath(GPX_IMPORT_DIR).getName();
-			selectedFolder = savedInstanceState != null ? savedInstanceState.getString(SELECTED_DIRECTORY_KEY) : importDir;
+		if (Algorithms.isEmpty(selectedFolder)) {
+			selectedFolder = app.getAppPath(GPX_IMPORT_DIR).getAbsolutePath();
 		}
 
 		FragmentActivity activity = requireActivity();
@@ -295,7 +296,7 @@ private boolean isCollectingTracks() {
 	}
 
 	private void importTracks() {
-		File folder = getFolderFile(selectedFolder);
+		File folder = new File(selectedFolder);
 		SaveImportedGpxListener saveGpxListener = getSaveGpxListener(() -> saveTracksTask = null);
 		saveTracksTask = new SaveTracksTask(new ArrayList<>(selectedTracks), folder, saveGpxListener);
 		saveTracksTask.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
@@ -326,35 +327,31 @@ public void onImportAsOneTrackClicked() {
 			app.showToastMessage(R.string.file_already_imported);
 			dismissAndOpenTracks();
 		} else {
-			File destinationDir = getFolderFile(selectedFolder);
+			File destinationDir = new File(selectedFolder);
 			SaveImportedGpxListener saveGpxListener = getSaveGpxListener(() -> saveAsOneTrackTask = null);
 			saveAsOneTrackTask = new SaveGpxAsyncTask(app, gpxFile, destinationDir, fileName, saveGpxListener, false);
 			saveAsOneTrackTask.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
 		}
 	}
 
-	@NonNull
-	private File getFolderFile(@NonNull String folderName) {
-		File gpxDir = app.getAppPath(GPX_INDEX_DIR);
-		return Algorithms.stringsEqual(folderName, gpxDir.getName()) ? gpxDir : new File(gpxDir, folderName);
-	}
-
 	@Override
-	public void onFolderSelected(@NonNull String folderName) {
-		selectedFolder = folderName;
+	public void onFolderSelected(@NonNull String folderPath) {
+		selectedFolder = folderPath;
 		adapter.setSelectedFolder(selectedFolder);
 	}
 
 	@Override
 	public void onFolderSelected(@NonNull File folder) {
-		selectedFolder = folder.getName();
+		selectedFolder = folder.getAbsolutePath();
 		adapter.setSelectedFolder(selectedFolder);
 		adapter.notifyItemChanged(adapter.getItemCount() - 1);
 	}
 
 	@Override
 	public void onTrackFolderAdd(String folderName) {
-		File folder = getFolderFile(folderName);
+		File gpxDir = app.getAppPath(GPX_INDEX_DIR);
+		File folder = new File(gpxDir, folderName);
+
 		folder.mkdirs();
 		onFolderSelected(folder);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
index dfe99005b69..10bb5b7601c 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
@@ -1461,8 +1461,8 @@ private void removePoint(MeasurementToolLayer measurementLayer, int position) {
 	}
 
 	@Override
-	public void onSaveAsNewTrack(String folderName, String fileName, boolean showOnMap, boolean simplified) {
-		saveNewGpx(folderName, fileName, showOnMap, simplified, FinalSaveAction.SHOW_IS_SAVED_FRAGMENT);
+	public void onSaveAsNewTrack(@NonNull String folderPath, @NonNull String fileName, boolean showOnMap, boolean simplified) {
+		saveNewGpx(folderPath, fileName, showOnMap, simplified, FinalSaveAction.SHOW_IS_SAVED_FRAGMENT);
 	}
 
 	MeasurementAdapterListener createMeasurementAdapterListener(ItemTouchHelper touchHelper) {
@@ -1585,8 +1585,8 @@ private void openSelectedPointMenu(MapActivity mapActivity) {
 	private void openSaveAsNewTrackMenu(MapActivity mapActivity) {
 		if (mapActivity != null) {
 			if (editingCtx.getPointsCount() > 0) {
-				SaveAsNewTrackBottomSheetDialogFragment.showInstance(mapActivity.getSupportFragmentManager(),
-						this, "", getSuggestedFileName(), null, true, true);
+				FragmentManager manager = mapActivity.getSupportFragmentManager();
+				SaveAsNewTrackBottomSheetDialogFragment.showInstance(manager, getSuggestedFileName(), this, true, true);
 			} else {
 				Toast.makeText(mapActivity, getString(R.string.none_point_error), Toast.LENGTH_SHORT).show();
 			}
@@ -1812,13 +1812,10 @@ public static String getSuggestedFileName(@NonNull OsmandApplication app, @Nulla
 		return displayedName;
 	}
 
-	private void saveNewGpx(String folderName, String fileName, boolean showOnMap,
+	private void saveNewGpx(String folderPath, String fileName, boolean showOnMap,
 	                        boolean simplified, FinalSaveAction finalSaveAction) {
-		File dir = app.getAppPath(GPX_INDEX_DIR);
-		if (!Algorithms.isEmpty(folderName) && !dir.getName().equals(folderName)) {
-			dir = new File(dir, folderName);
-		}
 		fileName += GPX_FILE_EXT;
+		File dir = Algorithms.isEmpty(folderPath) ? app.getAppPath(GPX_INDEX_DIR) : new File(folderPath);
 		saveNewGpx(dir, fileName, showOnMap, simplified, finalSaveAction);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
index 44a87f17be7..9c1e357d6cc 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
@@ -1,5 +1,6 @@
 package net.osmand.plus.measurementtool;
 
+import static net.osmand.IndexConstants.GPX_FILE_EXT;
 import static net.osmand.plus.measurementtool.adapter.FolderListAdapter.VIEW_TYPE_ADD;
 import static net.osmand.plus.measurementtool.adapter.FolderListAdapter.getFolders;
 
@@ -51,10 +52,8 @@ public class SaveAsNewTrackBottomSheetDialogFragment extends MenuBottomSheetDial
 	public static final String TAG = SaveAsNewTrackBottomSheetDialogFragment.class.getSimpleName();
 	public static final String SHOW_ON_MAP_KEY = "show_on_map_key";
 	public static final String SIMPLIFIED_TRACK_KEY = "simplified_track_key";
-	public static final String DEST_FOLDER_NAME_KEY = "dest_folder_name_key";
+	public static final String DEST_FOLDER_PATH_KEY = "dest_folder_path_key";
 	public static final String DEST_FILE_NAME_KEY = "dest_file_name_key";
-	public static final String SOURCE_FILE_NAME_KEY = "source_file_name_key";
-	public static final String SOURCE_FOLDER_NAME_KEY = "source_folder_name_key";
 	public static final String SHOW_SIMPLIFIED_BUTTON_KEY = "show_simplified_button_key";
 
 	private OsmandApplication app;
@@ -64,9 +63,7 @@ public class SaveAsNewTrackBottomSheetDialogFragment extends MenuBottomSheetDial
 	private RecyclerView recyclerView;
 
 	private String destFileName;
-	private String sourceFileName;
-	private String sourceFolderName;
-	private String folderName;
+	private String folderPath;
 	private boolean showOnMap;
 	private boolean simplifiedTrack;
 	private boolean rightButtonEnabled = true;
@@ -74,23 +71,19 @@ public class SaveAsNewTrackBottomSheetDialogFragment extends MenuBottomSheetDial
 
 	@Override
 	public void createMenuItems(Bundle savedInstanceState) {
-		app = getMyApplication();
-		if (app == null) {
-			return;
-		}
+		app = requiredMyApplication();
 
-		Context themedCtx = UiUtilities.getThemedContext(app, nightMode);
+		Context themedCtx = UiUtilities.getThemedContext(requireContext(), nightMode);
 		int highlightColorId = nightMode ? R.color.list_background_color_dark : R.color.activity_background_color_light;
 		if (savedInstanceState != null) {
 			showOnMap = savedInstanceState.getBoolean(SHOW_ON_MAP_KEY);
 			simplifiedTrack = savedInstanceState.getBoolean(SIMPLIFIED_TRACK_KEY);
-			folderName = savedInstanceState.getString(DEST_FOLDER_NAME_KEY);
+			folderPath = savedInstanceState.getString(DEST_FOLDER_PATH_KEY);
 			destFileName = savedInstanceState.getString(DEST_FILE_NAME_KEY);
-			sourceFileName = savedInstanceState.getString(SOURCE_FILE_NAME_KEY);
-			sourceFolderName = savedInstanceState.getString(SOURCE_FOLDER_NAME_KEY);
 			showSimplifiedButton = savedInstanceState.getBoolean(SHOW_SIMPLIFIED_BUTTON_KEY);
-		} else {
-			folderName = app.getAppPath(IndexConstants.GPX_INDEX_DIR).getName();
+		}
+		if (Algorithms.isEmpty(folderPath)) {
+			folderPath = app.getAppPath(IndexConstants.GPX_INDEX_DIR).getAbsolutePath();
 		}
 
 		items.add(new TitleItem(getString(R.string.save_as_new_track)));
@@ -125,7 +118,7 @@ public void afterTextChanged(Editable s) {
 		selectFolderView.findViewById(R.id.select_folder_button).setOnClickListener(v -> {
 			FragmentActivity activity = getActivity();
 			if (activity != null) {
-				File dest = getFile(app, folderName, destFileName);
+				File dest = getFile(folderPath, destFileName);
 				MoveGpxFileBottomSheet.showInstance(activity.getSupportFragmentManager(),
 						dest, SaveAsNewTrackBottomSheetDialogFragment.this, usedOnMap, true);
 			}
@@ -135,7 +128,7 @@ public void afterTextChanged(Editable s) {
 				.create();
 		items.add(selectFolderItem);
 
-		adapter = new FolderListAdapter(app, folderName, nightMode);
+		adapter = new FolderListAdapter(app, folderPath, nightMode);
 		adapter.setItems(getAdapterItems());
 		if (adapter.getItemCount() > 0) {
 			adapter.setListener(createFolderSelectListener());
@@ -214,7 +207,7 @@ private FolderListAdapterListener createFolderSelectListener() {
 		return new FolderListAdapterListener() {
 			@Override
 			public void onItemSelected(String item) {
-				folderName = item;
+				folderPath = item;
 				EditText editText = nameTextBox.getEditText();
 				if (editText != null) {
 					updateFileNameFromEditText(editText.getText().toString());
@@ -236,10 +229,8 @@ public void onAddNewItemSelected() {
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		outState.putBoolean(SHOW_ON_MAP_KEY, showOnMap);
 		outState.putBoolean(SIMPLIFIED_TRACK_KEY, simplifiedTrack);
-		outState.putString(DEST_FOLDER_NAME_KEY, folderName);
+		outState.putString(DEST_FOLDER_PATH_KEY, folderPath);
 		outState.putString(DEST_FILE_NAME_KEY, destFileName);
-		outState.putString(SOURCE_FILE_NAME_KEY, sourceFileName);
-		outState.putString(SOURCE_FOLDER_NAME_KEY, sourceFolderName);
 		outState.putBoolean(SHOW_SIMPLIFIED_BUTTON_KEY, showSimplifiedButton);
 		super.onSaveInstanceState(outState);
 	}
@@ -254,19 +245,15 @@ protected void onRightBottomButtonClick() {
 		Fragment targetFragment = getTargetFragment();
 		if (targetFragment instanceof SaveAsNewTrackFragmentListener) {
 			((SaveAsNewTrackFragmentListener) targetFragment)
-					.onSaveAsNewTrack(folderName, destFileName, showOnMap, simplifiedTrack);
+					.onSaveAsNewTrack(folderPath, destFileName, showOnMap, simplifiedTrack);
 		}
 		dismiss();
 	}
 
-	private File getFile(OsmandApplication app, String folderName, String fileName) {
-		File dir = app.getAppPath(IndexConstants.GPX_INDEX_DIR);
-		File source = dir;
-		if (folderName != null && !dir.getName().equals(folderName)) {
-			source = new File(dir, folderName);
-		}
-		source = new File(source, fileName + IndexConstants.GPX_FILE_EXT);
-		return source;
+	@NonNull
+	private File getFile(@NonNull String folderName, @NonNull String fileName) {
+		File dir = new File(folderName);
+		return new File(dir, fileName + GPX_FILE_EXT);
 	}
 
 	@Override
@@ -291,28 +278,23 @@ private void updateFileNameFromEditText(String name) {
 	}
 
 	private boolean isFileExist(String name) {
-		OsmandApplication app = getMyApplication();
-		if (app != null) {
-			File file = getFile(app, folderName, name);
-			return file.exists();
-		}
-		return false;
+		return getFile(folderPath, name).exists();
 	}
 
 	@Override
 	public void onFileMove(@Nullable File src, @NonNull File dest) {
 		File destFolder = dest.getParentFile();
 		if (destFolder != null) {
-			folderName = destFolder.getName();
+			folderPath = destFolder.getAbsolutePath();
 			boolean newFolder = destFolder.mkdirs();
 			List<Object> items = getAdapterItems();
 			if (newFolder) {
 				adapter.setItems(items);
 			}
-			adapter.setSelectedItem(folderName);
+			adapter.setSelectedItem(folderPath);
 			adapter.notifyDataSetChanged();
 
-			int position = items.indexOf(folderName);
+			int position = items.indexOf(folderPath);
 			if (position != -1) {
 				recyclerView.scrollToPosition(position);
 			}
@@ -327,33 +309,29 @@ protected int getBgColorId() {
 
 	@Override
 	public void onTrackFolderAdd(String folderName) {
-		File file = getFile(app, this.folderName, destFileName);
+		File file = getFile(folderPath, destFileName);
 		File destFolder = new File(app.getAppPath(IndexConstants.GPX_INDEX_DIR), folderName);
 		this.onFileMove(file, new File(destFolder, file.getName()));
 	}
 
-	public static void showInstance(@NonNull FragmentManager fragmentManager,
-	                                @Nullable Fragment targetFragment,
-	                                @Nullable String sourceFolderName,
-	                                @NonNull String sourceFileName,
-	                                @Nullable String destFileName,
+	public static void showInstance(@NonNull FragmentManager manager,
+	                                @NonNull String destFileName,
+	                                @Nullable Fragment target,
 	                                boolean showSimplifiedButton,
 	                                boolean showOnMap) {
-		if (AndroidUtils.isFragmentCanBeAdded(fragmentManager, TAG)) {
+		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			SaveAsNewTrackBottomSheetDialogFragment fragment = new SaveAsNewTrackBottomSheetDialogFragment();
-			fragment.setTargetFragment(targetFragment, 0);
-			fragment.sourceFileName = sourceFileName;
-			fragment.sourceFolderName = sourceFolderName;
-			fragment.destFileName = destFileName == null ? sourceFileName : destFileName;
+			fragment.setTargetFragment(target, 0);
+			fragment.destFileName = destFileName;
 			fragment.showSimplifiedButton = showSimplifiedButton;
 			fragment.showOnMap = showOnMap;
-			fragment.show(fragmentManager, TAG);
+			fragment.show(manager, TAG);
 		}
 	}
 
 	public interface SaveAsNewTrackFragmentListener {
 
-		void onSaveAsNewTrack(String folderName, String fileName, boolean showOnMap, boolean simplifiedTrack);
+		void onSaveAsNewTrack(@NonNull String folderPath, @NonNull String fileName, boolean showOnMap, boolean simplifiedTrack);
 
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/adapter/FolderListAdapter.java b/OsmAnd/src/net/osmand/plus/measurementtool/adapter/FolderListAdapter.java
index 0bd21fd5f72..f9b750d1d0c 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/adapter/FolderListAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/adapter/FolderListAdapter.java
@@ -119,7 +119,8 @@ protected void bindFolderItem(@NonNull FolderViewHolder holder, @NonNull String
 				listener.onItemSelected(selectedItem);
 			}
 		});
-		holder.groupName.setText(Algorithms.capitalizeFirstLetter(item));
+		String name = Algorithms.getFileWithoutDirs(item);
+		holder.groupName.setText(Algorithms.capitalizeFirstLetter(name));
 
 		int activeColorId = ColorUtilities.getActiveColorId(nightMode);
 		GradientDrawable drawable = (GradientDrawable) AppCompatResources.getDrawable(app, R.drawable.bg_select_group_button_outline);
@@ -173,15 +174,17 @@ protected Object getItem(int position) {
 		return items.get(position);
 	}
 
+	@NonNull
 	public static List<String> getFolders(@NonNull File parentDir) {
 		List<File> folders = new ArrayList<>();
 		folders.add(parentDir);
 		Algorithms.collectDirs(parentDir, folders);
-		List<String> folderNames = new ArrayList<>();
+
+		List<String> folderPaths = new ArrayList<>();
 		for (File dir : folders) {
-			folderNames.add(dir.getName());
+			folderPaths.add(dir.getAbsolutePath());
 		}
-		return folderNames;
+		return folderPaths;
 	}
 
 	public static class FolderViewHolder extends RecyclerView.ViewHolder {
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/TrackFoldersHelper.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/TrackFoldersHelper.java
index 66f1ce31a0e..fee3daeec44 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/TrackFoldersHelper.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/TrackFoldersHelper.java
@@ -422,7 +422,7 @@ public boolean isImporting() {
 	}
 
 	public boolean isLoadingTracks() {
-		return asyncLoader == null || asyncLoader.getStatus() != Status.RUNNING;
+		return asyncLoader != null && asyncLoader.getStatus() == Status.RUNNING;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
index 8fb5847b35a..039410ec6a7 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
@@ -85,6 +85,9 @@ public void afterTextChanged(Editable s) {
 				updateFileNameFromEditText(s.toString().trim());
 			}
 		});
+		editText.requestFocus();
+		AndroidUtils.softKeyboardDelayed(requireActivity(), editText);
+
 		BaseBottomSheetItem editFolderName = new BaseBottomSheetItem.Builder()
 				.setCustomView(view)
 				.create();
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
index a94039d0fe2..66ca94e6d9c 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
@@ -15,6 +15,7 @@
 import androidx.annotation.Nullable;
 import androidx.core.content.ContextCompat;
 import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
 import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
 
 import net.osmand.plus.R;
@@ -32,7 +33,6 @@
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.monitoring.OsmandMonitoringPlugin;
 import net.osmand.plus.track.data.TrackFolder;
-import net.osmand.plus.track.data.TrackFolderAnalysis;
 import net.osmand.plus.track.data.TracksGroup;
 import net.osmand.plus.track.helpers.SelectedGpxFile;
 import net.osmand.util.Algorithms;
@@ -122,7 +122,7 @@ public void onResume() {
 		super.onResume();
 
 		if (!trackFoldersHelper.isImporting()) {
-			if (rootFolder == null && trackFoldersHelper.isLoadingTracks()) {
+			if (rootFolder == null && !trackFoldersHelper.isLoadingTracks()) {
 				reloadTracks();
 			} else {
 				updateContent();
@@ -133,6 +133,7 @@ public void onResume() {
 		updateEnable = true;
 		startHandler();
 		restoreState(getArguments());
+		updateProgressVisibility();
 	}
 
 	private void startHandler() {
@@ -164,7 +165,8 @@ public boolean onOptionsItemSelected(MenuItem item) {
 		if (itemId == R.id.action_search) {
 			FragmentActivity activity = getActivity();
 			if (activity != null) {
-				SearchTrackItemsFragment.showInstance(activity.getSupportFragmentManager(), this, false);
+				FragmentManager manager = activity.getSupportFragmentManager();
+				SearchTrackItemsFragment.showInstance(manager, this, false, isUsedOnMap());
 			}
 		}
 		if (itemId == R.id.action_menu) {
@@ -189,7 +191,7 @@ protected List<Object> getAdapterItems() {
 		items.addAll(rootFolder.getTrackItems());
 
 		if (rootFolder.getFlattenedTrackItems().size() != 0) {
-			items.add(TrackFolderAnalysis.getFolderAnalysis(rootFolder));
+			items.add(rootFolder.getFolderAnalysis());
 		}
 		return items;
 	}
@@ -237,7 +239,13 @@ public void onImportFinished() {
 		updateProgressVisibility(false);
 	}
 
-	public void updateProgressVisibility(boolean visible) {
+	private void updateProgressVisibility() {
+		boolean importing = trackFoldersHelper.isImporting();
+		boolean loadingTracks = trackFoldersHelper.isLoadingTracks();
+		updateProgressVisibility(importing || loadingTracks);
+	}
+
+	private void updateProgressVisibility(boolean visible) {
 		MyPlacesActivity activity = getMyActivity();
 		if (activity != null) {
 			activity.setSupportProgressBarIndeterminateVisibility(visible);
@@ -247,7 +255,8 @@ public void updateProgressVisibility(boolean visible) {
 	private void openTrackFolder(@NonNull TrackFolder trackFolder) {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
-			TrackFolderFragment.showInstance(activity.getSupportFragmentManager(), trackFolder, this);
+			FragmentManager manager = activity.getSupportFragmentManager();
+			TrackFolderFragment.showInstance(manager, trackFolder, this);
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
index 20658b36ed2..6f2851c58a3 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
@@ -48,7 +48,6 @@
 import net.osmand.plus.plugins.osmedit.oauth.OsmOAuthHelper.OsmAuthorizationListener;
 import net.osmand.plus.settings.enums.TracksSortMode;
 import net.osmand.plus.track.data.TrackFolder;
-import net.osmand.plus.track.data.TrackFolderAnalysis;
 import net.osmand.plus.track.data.TracksGroup;
 import net.osmand.plus.track.fragments.TrackMenuFragment;
 import net.osmand.plus.track.helpers.GpxSelectionHelper;
@@ -198,7 +197,7 @@ protected List<Object> getAdapterItems() {
 			items.addAll(trackItems);
 
 			if (shouldShowFolderStats()) {
-				items.add(TrackFolderAnalysis.getFolderAnalysis(selectedFolder));
+				items.add(selectedFolder.getFolderAnalysis());
 			}
 		}
 		return items;
@@ -267,7 +266,7 @@ public void onTracksGroupOptionsSelected(@NonNull View view, @NonNull TracksGrou
 	public void showSortByDialog() {
 		FragmentManager manager = getFragmentManager();
 		if (manager != null) {
-			SortByBottomSheet.showInstance(manager, this);
+			SortByBottomSheet.showInstance(manager, getTracksSortMode(), this, isUsedOnMap());
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
index e3d05c0bf23..a35703a9713 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
@@ -79,7 +79,10 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 
 	private void setupProgressBar(@NonNull View view) {
 		progressBar = view.findViewById(R.id.progress_bar);
+		updateProgress();
+	}
 
+	private void updateProgress() {
 		TrackFoldersHelper foldersHelper = getTrackFoldersHelper();
 		boolean importing = foldersHelper != null && foldersHelper.isImporting();
 		AndroidUiHelper.updateVisibility(progressBar, importing);
@@ -117,7 +120,8 @@ private void setupSearchButton(@NonNull LayoutInflater inflater, @NonNull ViewGr
 		button.setOnClickListener(v -> {
 			FragmentActivity activity = getActivity();
 			if (activity != null) {
-				SearchTrackItemsFragment.showInstance(activity.getSupportFragmentManager(), getTargetFragment(), false);
+				FragmentManager manager = activity.getSupportFragmentManager();
+				SearchTrackItemsFragment.showInstance(manager, getTargetFragment(), false, isUsedOnMap());
 			}
 		});
 		button.setContentDescription(getString(R.string.shared_string_search));
@@ -155,6 +159,7 @@ public void updateContent() {
 	@Override
 	public void onResume() {
 		super.onResume();
+		updateProgress();
 		updateActionBar(false);
 		restoreState(getArguments());
 	}
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/FolderStatsViewHolder.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/FolderStatsViewHolder.java
index 9849c942170..7624f71acab 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/FolderStatsViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/FolderStatsViewHolder.java
@@ -34,7 +34,7 @@ private String getFormattedStats(@NonNull TrackFolderAnalysis analysis) {
 		appendField(builder, app.getString(R.string.distance), OsmAndFormatter.getFormattedDistance(analysis.totalDistance, app), false);
 		appendField(builder, app.getString(R.string.shared_string_uphill), OsmAndFormatter.getFormattedAlt(analysis.diffElevationUp, app), false);
 		appendField(builder, app.getString(R.string.shared_string_downhill), OsmAndFormatter.getFormattedAlt(analysis.diffElevationDown, app), false);
-		appendField(builder, app.getString(R.string.duration), Algorithms.formatDuration(analysis.duration, app.accessibilityEnabled()), false);
+		appendField(builder, app.getString(R.string.duration), Algorithms.formatDuration(analysis.timeSpan, app.accessibilityEnabled()), false);
 		appendField(builder, app.getString(R.string.shared_string_size), AndroidUtils.formatSize(app, analysis.fileSize), true);
 		return builder.toString();
 	}
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/RecordingTrackViewHolder.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/RecordingTrackViewHolder.java
index c47c0a8cd11..0815270cbc6 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/RecordingTrackViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/viewholders/RecordingTrackViewHolder.java
@@ -18,10 +18,13 @@
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.plugins.monitoring.SavingTrackHelper;
 import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.widgets.dialogbutton.DialogButton;
 
+import java.util.Collections;
+
 public class RecordingTrackViewHolder extends RecyclerView.ViewHolder {
 
 	protected final OsmandApplication app;
@@ -41,8 +44,7 @@ public class RecordingTrackViewHolder extends RecyclerView.ViewHolder {
 
 	protected final boolean nightMode;
 
-	public RecordingTrackViewHolder(@NonNull View view, @Nullable TrackSelectionListener selectionListener,
-	                                @Nullable RecordingTrackListener recordingListener, boolean nightMode) {
+	public RecordingTrackViewHolder(@NonNull View view, @Nullable TrackSelectionListener selectionListener, @Nullable RecordingTrackListener recordingListener, boolean nightMode) {
 		super(view);
 		this.selectionListener = selectionListener;
 		this.recordingListener = recordingListener;
@@ -67,6 +69,12 @@ public RecordingTrackViewHolder(@NonNull View view, @Nullable TrackSelectionList
 	}
 
 	public void bindView(@NonNull TrackItem trackItem) {
+		boolean selected = selectionListener != null && selectionListener.isTrackItemSelected(trackItem);
+		itemView.setOnClickListener(v -> {
+			if (selectionListener != null) {
+				selectionListener.onTrackItemsSelected(Collections.singleton(trackItem), !selected);
+			}
+		});
 		menuButton.setOnClickListener(v -> {
 			if (selectionListener != null) {
 				selectionListener.onTrackItemOptionsSelected(v, trackItem);
@@ -109,7 +117,7 @@ private void setupDescription(boolean hasDataToSave) {
 			String distance = OsmAndFormatter.getFormattedDistance(savingTrackHelper.getDistance(), app);
 			String duration = OsmAndFormatter.getFormattedDurationShort((int) (savingTrackHelper.getDuration() / 1000));
 			String pointsCount = String.valueOf(savingTrackHelper.getPoints());
-			description.setText(distance + " • " + duration + " • " + pointsCount);
+			description.setText(app.getString(R.string.ltr_or_rtl_triple_combine_via_bold_point, distance, duration, pointsCount));
 		} else {
 			description.setText(R.string.track_not_recorded);
 		}
@@ -119,7 +127,14 @@ private void setupButton(@NonNull DialogButton button, @StringRes int titleId, @
 		Context context = button.getContext();
 		button.setTitleId(titleId);
 		button.setIconId(iconId);
-		saveButton.setContentDescription(context.getString(descriptionId));
+		button.setContentDescription(context.getString(descriptionId));
+
+		int paddingHalf = context.getResources().getDimensionPixelSize(R.dimen.content_padding_half);
+		int paddingSmall = context.getResources().getDimensionPixelSize(R.dimen.content_padding_small);
+
+		TextView title = button.findViewById(R.id.button_text);
+		title.setCompoundDrawablePadding(paddingSmall);
+		AndroidUtils.setPadding(title, paddingHalf, 0, paddingSmall, 0);
 	}
 
 	public interface RecordingTrackListener {
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
index 51cbd65789a..4c8c0b5b106 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
@@ -479,8 +479,8 @@ private void buildMenuButtons(@NonNull View view) {
 					String suggestedName = new SimpleDateFormat("EEE dd MMM yyyy", Locale.US).format(new Date());
 					fileName = FileUtils.createUniqueFileName(app, suggestedName, IndexConstants.GPX_INDEX_DIR, GPX_FILE_EXT);
 				}
-				SaveAsNewTrackBottomSheetDialogFragment.showInstance(mapActivity.getSupportFragmentManager(),
-						this, null, fileName, null, false, true);
+				FragmentManager manager = mapActivity.getSupportFragmentManager();
+				SaveAsNewTrackBottomSheetDialogFragment.showInstance(manager, fileName, this, false, true);
 			}
 		};
 		saveRoute.setOnClickListener(saveOnClick);
@@ -893,11 +893,8 @@ public void onNavigationRequested() {
 	}
 
 	@Override
-	public void onSaveAsNewTrack(String folderName, String fileName, boolean showOnMap, boolean simplifiedTrack) {
-		File fileDir = app.getAppPath(IndexConstants.GPX_INDEX_DIR);
-		if (folderName != null && !fileDir.getName().equals(folderName)) {
-			fileDir = new File(fileDir, folderName);
-		}
+	public void onSaveAsNewTrack(@NonNull String folderPath, @NonNull String fileName, boolean showOnMap, boolean simplifiedTrack) {
+		File fileDir = new File(folderPath);
 		File toSave = new File(fileDir, fileName + GPX_FILE_EXT);
 		new SaveDirectionsAsyncTask(app, showOnMap).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, toSave);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/track/cards/GpsFilterBaseCard.java b/OsmAnd/src/net/osmand/plus/track/cards/GpsFilterBaseCard.java
index bc84dd937d3..069958bfc21 100644
--- a/OsmAnd/src/net/osmand/plus/track/cards/GpsFilterBaseCard.java
+++ b/OsmAnd/src/net/osmand/plus/track/cards/GpsFilterBaseCard.java
@@ -5,21 +5,29 @@
 import android.view.ViewGroup;
 import android.widget.ScrollView;
 
-import net.osmand.plus.track.helpers.save.SaveGpxHelper;
-import net.osmand.plus.utils.AndroidUtils;
+import androidx.annotation.DrawableRes;
+import androidx.annotation.LayoutRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.StringRes;
+import androidx.appcompat.widget.AppCompatImageView;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentManager;
+
 import net.osmand.gpx.GPXFile;
-import net.osmand.plus.utils.ColorUtilities;
-import net.osmand.plus.track.helpers.FilteredSelectedGpxFile;
 import net.osmand.plus.R;
-import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.base.bottomsheetmenu.SimpleBottomSheetItem;
 import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.track.helpers.GpsFilterHelper;
 import net.osmand.plus.measurementtool.SaveAsNewTrackBottomSheetDialogFragment;
 import net.osmand.plus.measurementtool.SaveAsNewTrackBottomSheetDialogFragment.SaveAsNewTrackFragmentListener;
 import net.osmand.plus.routepreparationmenu.cards.MapBaseCard;
+import net.osmand.plus.track.helpers.FilteredSelectedGpxFile;
+import net.osmand.plus.track.helpers.GpsFilterHelper;
+import net.osmand.plus.track.helpers.save.SaveGpxHelper;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
 import net.osmand.util.Algorithms;
 
 import java.io.File;
@@ -27,13 +35,6 @@
 import java.util.ArrayList;
 import java.util.List;
 
-import androidx.annotation.DrawableRes;
-import androidx.annotation.LayoutRes;
-import androidx.annotation.NonNull;
-import androidx.annotation.StringRes;
-import androidx.appcompat.widget.AppCompatImageView;
-import androidx.fragment.app.Fragment;
-
 public abstract class GpsFilterBaseCard extends MapBaseCard {
 
 	public static final int RESET_FILTERS_BUTTON_INDEX = 0;
@@ -103,8 +104,8 @@ private void saveAsCopy() {
 		String sourceFileName = Algorithms.getFileNameWithoutExtension(sourceFileNameWithExtension);
 		String destFileName = sourceFileName + "-copy";
 		if (target instanceof SaveAsNewTrackFragmentListener) {
-			SaveAsNewTrackBottomSheetDialogFragment.showInstance(mapActivity.getSupportFragmentManager(),
-					target, null, sourceFileName, destFileName, false, true);
+			FragmentManager manager = mapActivity.getSupportFragmentManager();
+			SaveAsNewTrackBottomSheetDialogFragment.showInstance(manager, destFileName, target, false, true);
 		}
 	}
 
@@ -115,12 +116,10 @@ private void saveIntoFile() {
 		File outFile = new File(newGpxFile.path);
 
 		SaveGpxHelper.saveGpx(outFile, newGpxFile, errorMessage -> {
-			if (app != null) {
-				String toastMessage = errorMessage == null
-						? MessageFormat.format(app.getString(R.string.gpx_saved_sucessfully), newGpxFile.path)
-						: errorMessage.getMessage();
-				app.showToastMessage(toastMessage);
-			}
+			String toastMessage = errorMessage == null
+					? MessageFormat.format(app.getString(R.string.gpx_saved_sucessfully), newGpxFile.path)
+					: errorMessage.getMessage();
+			app.showToastMessage(toastMessage);
 			if (target instanceof SaveIntoFileListener) {
 				((SaveIntoFileListener) target).onSavedIntoFile(newGpxFile.path);
 			}
diff --git a/OsmAnd/src/net/osmand/plus/track/data/TrackFolder.java b/OsmAnd/src/net/osmand/plus/track/data/TrackFolder.java
index e88dc869b99..cdb284e55ce 100644
--- a/OsmAnd/src/net/osmand/plus/track/data/TrackFolder.java
+++ b/OsmAnd/src/net/osmand/plus/track/data/TrackFolder.java
@@ -23,6 +23,8 @@ public class TrackFolder implements TracksGroup {
 
 	private List<TrackItem> flattenedTrackItems;
 	private List<TrackFolder> flattenedSubFolders;
+
+	private TrackFolderAnalysis folderAnalysis;
 	private long lastModified = -1;
 
 	public TrackFolder(@NonNull File dirFile, @Nullable TrackFolder parentFolder) {
@@ -117,6 +119,14 @@ public List<TrackFolder> getFlattenedSubFolders() {
 		return flattenedSubFolders;
 	}
 
+	@NonNull
+	public TrackFolderAnalysis getFolderAnalysis() {
+		if (folderAnalysis == null) {
+			folderAnalysis = new TrackFolderAnalysis(this);
+		}
+		return folderAnalysis;
+	}
+
 	public long getLastModified() {
 		if (lastModified < 0) {
 			lastModified = dirFile.lastModified();
@@ -134,6 +144,7 @@ public void resetCashedData() {
 		lastModified = -1;
 		flattenedTrackItems = null;
 		flattenedSubFolders = null;
+		folderAnalysis = null;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/track/data/TrackFolderAnalysis.java b/OsmAnd/src/net/osmand/plus/track/data/TrackFolderAnalysis.java
index ee1af85a8ed..f0ae28ed1ca 100644
--- a/OsmAnd/src/net/osmand/plus/track/data/TrackFolderAnalysis.java
+++ b/OsmAnd/src/net/osmand/plus/track/data/TrackFolderAnalysis.java
@@ -1,7 +1,6 @@
 package net.osmand.plus.track.data;
 
 import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
 
 import net.osmand.gpx.GPXTrackAnalysis;
 import net.osmand.plus.configmap.tracks.TrackItem;
@@ -14,42 +13,34 @@ public class TrackFolderAnalysis {
 
 	public int tracksCount;
 	public float totalDistance;
-	public int duration;
+	public int timeSpan;
 	public long fileSize;
 	public double diffElevationUp;
 	public double diffElevationDown;
 
-	@NonNull
-	public static TrackFolderAnalysis getFolderAnalysis(@NonNull TrackFolder trackFolder) {
-		TrackFolderAnalysis folderAnalysis = new TrackFolderAnalysis();
+	public TrackFolderAnalysis(@NonNull TrackFolder folder) {
+		prepareInformation(folder);
+	}
 
-		List<TrackItem> items = trackFolder.getFlattenedTrackItems();
+	private void prepareInformation(@NonNull TrackFolder folder) {
+		List<TrackItem> items = folder.getFlattenedTrackItems();
 		for (TrackItem trackItem : items) {
-			GPXTrackAnalysis analysis = getTrackAnalysis(trackItem);
+			GpxDataItem dataItem = trackItem.getDataItem();
+			GPXTrackAnalysis analysis = dataItem != null ? dataItem.getAnalysis() : null;
 			if (analysis != null) {
-				folderAnalysis.totalDistance += analysis.totalDistance;
-				folderAnalysis.diffElevationUp += analysis.diffElevationUp;
-				folderAnalysis.diffElevationDown += analysis.diffElevationDown;
+				totalDistance += analysis.totalDistance;
+				diffElevationUp += analysis.diffElevationUp;
+				diffElevationDown += analysis.diffElevationDown;
 
 				File file = trackItem.getFile();
 				if (file != null && file.exists()) {
-					folderAnalysis.fileSize += file.length();
+					fileSize += file.length();
 				}
 				if (analysis.isTimeSpecified()) {
-					folderAnalysis.duration += analysis.timeSpan / 1000.0f;
+					timeSpan += analysis.timeSpan / 1000.0f;
 				}
 			}
 		}
-		folderAnalysis.tracksCount = items.size();
-		return folderAnalysis;
-	}
-
-	@Nullable
-	private static GPXTrackAnalysis getTrackAnalysis(@NonNull TrackItem trackItem) {
-		GpxDataItem gpxDataItem = trackItem.getDataItem();
-		if (gpxDataItem != null) {
-			return gpxDataItem.getAnalysis();
-		}
-		return null;
+		tracksCount = items.size();
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/track/fragments/GpsFilterFragment.java b/OsmAnd/src/net/osmand/plus/track/fragments/GpsFilterFragment.java
index 4010f2777a1..b31de438b5b 100644
--- a/OsmAnd/src/net/osmand/plus/track/fragments/GpsFilterFragment.java
+++ b/OsmAnd/src/net/osmand/plus/track/fragments/GpsFilterFragment.java
@@ -1,7 +1,6 @@
 package net.osmand.plus.track.fragments;
 
 import static net.osmand.IndexConstants.GPX_FILE_EXT;
-import static net.osmand.IndexConstants.GPX_INDEX_DIR;
 
 import android.graphics.Color;
 import android.graphics.drawable.Drawable;
@@ -414,14 +413,11 @@ protected String getThemeInfoProviderTag() {
 	}
 
 	@Override
-	public void onSaveAsNewTrack(@Nullable String folderName, @NonNull String fileName,
+	public void onSaveAsNewTrack(@NonNull String folderPath, @NonNull String fileName,
 	                             boolean showOnMap, boolean simplifiedTrack) {
 		if (selectedGpxFile.getFilteredSelectedGpxFile() != null) {
-			File destFile = app.getAppPath(GPX_INDEX_DIR);
-			if (!Algorithms.isEmpty(folderName) && !destFile.getName().equals(folderName)) {
-				destFile = new File(destFile, folderName);
-			}
-			destFile = new File(destFile, fileName + GPX_FILE_EXT);
+			File fileDir = new File(folderPath);
+			File destFile = new File(fileDir, fileName + GPX_FILE_EXT);
 
 			GPXFile filteredGpxFile = selectedGpxFile.getFilteredSelectedGpxFile().getGpxFile();
 			GPXFile gpxFileToWrite = GpsFilterHelper.copyGpxFile(app, filteredGpxFile);
diff --git a/OsmAnd/src/net/osmand/plus/widgets/dialogbutton/DialogButtonViewHolder.java b/OsmAnd/src/net/osmand/plus/widgets/dialogbutton/DialogButtonViewHolder.java
index 5da6042f3e7..7d2d9769190 100644
--- a/OsmAnd/src/net/osmand/plus/widgets/dialogbutton/DialogButtonViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/widgets/dialogbutton/DialogButtonViewHolder.java
@@ -17,7 +17,6 @@
 
 import androidx.annotation.ColorInt;
 import androidx.annotation.ColorRes;
-import androidx.annotation.DimenRes;
 import androidx.annotation.NonNull;
 
 import net.osmand.plus.R;
@@ -109,7 +108,7 @@ public void updateIcon() {
 			int contentColor = getColorFromAttr(ctx, buttonType.getContentColorAttr());
 			Drawable icon = createTintedDrawable(ctx, iconResId, contentColor);
 			tvTitle.setCompoundDrawablesWithIntrinsicBounds(icon, null, null, null);
-			tvTitle.setCompoundDrawablePadding(AndroidUtils.dpToPx(ctx, getDimension(ctx, R.dimen.content_padding_half)));
+			tvTitle.setCompoundDrawablePadding(ctx.getResources().getDimensionPixelSize(R.dimen.content_padding_half));
 		}
 	}
 
@@ -173,8 +172,4 @@ private static int resolveAttribute(@NonNull Context ctx, int attr) {
 	private static int getColor(@NonNull Context ctx, @ColorRes int colorId) {
 		return ColorUtilities.getColor(ctx, colorId);
 	}
-
-	private static int getDimension(@NonNull Context ctx, @DimenRes int resId) {
-		return ctx.getResources().getDimensionPixelSize(resId);
-	}
 }
