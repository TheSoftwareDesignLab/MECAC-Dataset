diff --git a/OsmAnd/res/drawable/ripple_tetriary_light.xml b/OsmAnd/res/drawable/ripple_tetriary_light.xml
new file mode 100644
index 00000000000..1fba2287273
--- /dev/null
+++ b/OsmAnd/res/drawable/ripple_tetriary_light.xml
@@ -0,0 +1,9 @@
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+	android:color="@color/switch_button_active_light">
+	<item android:id="@android:id/mask">
+		<shape android:shape="rectangle">
+			<solid android:color="@color/button_color_active_light" />
+			<corners android:radius="4dp" />
+		</shape>
+	</item>
+</ripple>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/tracks_empty_state.xml b/OsmAnd/res/layout/empty_state.xml
similarity index 90%
rename from OsmAnd/res/layout/tracks_empty_state.xml
rename to OsmAnd/res/layout/empty_state.xml
index cfbb86b76ae..d0d56b852d6 100644
--- a/OsmAnd/res/layout/tracks_empty_state.xml
+++ b/OsmAnd/res/layout/empty_state.xml
@@ -5,7 +5,7 @@
 	android:layout_height="wrap_content"
 	android:gravity="center_horizontal"
 	android:orientation="vertical"
-	android:paddingVertical="@dimen/content_padding_small">
+	android:padding="@dimen/dialog_content_margin">
 
 	<ImageView
 		android:id="@+id/icon"
@@ -36,8 +36,8 @@
 	<include
 		android:id="@+id/action_button"
 		layout="@layout/bottom_sheet_dialog_button"
-		android:layout_width="wrap_content"
+		android:layout_width="match_parent"
 		android:layout_height="@dimen/dialog_button_height"
-		android:layout_marginBottom="@dimen/dialog_content_margin" />
+		android:layout_marginBottom="@dimen/content_padding_small" />
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/tab_title_view.xml b/OsmAnd/res/layout/tab_title_view.xml
new file mode 100644
index 00000000000..522a192fcff
--- /dev/null
+++ b/OsmAnd/res/layout/tab_title_view.xml
@@ -0,0 +1,23 @@
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	android:layout_width="wrap_content"
+	android:layout_height="wrap_content"
+	android:gravity="center">
+
+	<ImageView
+		android:id="@android:id/icon"
+		android:layout_width="wrap_content"
+		android:layout_height="wrap_content" />
+
+	<net.osmand.plus.widgets.TextViewEx
+		android:id="@android:id/text1"
+		style="@style/TitleStyle.Medium"
+		android:layout_width="wrap_content"
+		android:layout_height="wrap_content"
+		android:ellipsize="end"
+		android:maxLength="15"
+		android:maxLines="1"
+		android:textSize="@dimen/default_desc_text_size"
+		app:lineHeight="@dimen/default_desc_line_height" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/track_list_item.xml b/OsmAnd/res/layout/track_list_item.xml
index 8b0556b87e9..1499afa201e 100644
--- a/OsmAnd/res/layout/track_list_item.xml
+++ b/OsmAnd/res/layout/track_list_item.xml
@@ -36,7 +36,7 @@
 		<LinearLayout
 			android:layout_width="match_parent"
 			android:layout_height="wrap_content"
-			android:layout_marginHorizontal="@dimen/content_padding"
+			android:layout_marginStart="@dimen/content_padding"
 			android:orientation="horizontal">
 
 			<androidx.appcompat.widget.AppCompatImageView
@@ -61,7 +61,9 @@
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:layout_marginTop="@dimen/content_padding_small"
+					android:layout_marginBottom="@dimen/text_margin_small"
 					android:maxLines="2"
+					android:paddingEnd="@dimen/content_padding"
 					android:textColor="?android:textColorPrimary"
 					tools:text="Track name" />
 
@@ -69,7 +71,8 @@
 					android:layout_width="wrap_content"
 					android:layout_height="wrap_content"
 					android:layout_marginBottom="@dimen/content_padding_small"
-					android:orientation="horizontal">
+					android:orientation="horizontal"
+					android:paddingEnd="@dimen/content_padding">
 
 					<LinearLayout
 						android:id="@+id/analysis_row"
@@ -139,6 +142,8 @@
 						style="@style/DescStyle"
 						android:layout_width="match_parent"
 						android:layout_height="wrap_content"
+						android:ellipsize="end"
+						android:maxLines="1"
 						android:textColor="?android:textColorSecondary"
 						tools:text="Folder" />
 
diff --git a/OsmAnd/res/layout/tracks_fragment.xml b/OsmAnd/res/layout/tracks_fragment.xml
index fb486fc03c7..6ffa13761a6 100644
--- a/OsmAnd/res/layout/tracks_fragment.xml
+++ b/OsmAnd/res/layout/tracks_fragment.xml
@@ -3,7 +3,7 @@
 	xmlns:osmand="http://schemas.android.com/apk/res-auto"
 	android:layout_width="match_parent"
 	android:layout_height="match_parent"
-	android:background="?attr/appbar_and_list_background_color"
+	android:background="?attr/activity_background_color"
 	android:orientation="vertical">
 
 	<com.google.android.material.appbar.AppBarLayout
@@ -98,48 +98,41 @@
 			android:paddingBottom="@dimen/dialog_button_ex_height" />
 
 		<LinearLayout
-			android:id="@+id/buttons_container"
 			android:layout_width="match_parent"
 			android:layout_height="wrap_content"
 			android:layout_gravity="bottom"
-			android:clickable="true"
-			android:focusable="true"
 			android:orientation="vertical">
 
-			<androidx.appcompat.widget.AppCompatImageView
-				android:id="@+id/buttons_shadow"
-				android:layout_width="match_parent"
-				android:layout_height="@dimen/content_padding_half"
-				android:background="@drawable/shadow" />
+			<include layout="@layout/simple_divider_item" />
 
 			<LinearLayout
+				android:id="@+id/buttons_container"
 				android:layout_width="match_parent"
-				android:layout_height="@dimen/dialog_button_ex_height"
-				android:orientation="horizontal">
-
-				<net.osmand.plus.widgets.TextViewEx
+				android:layout_height="wrap_content"
+				android:layout_gravity="bottom"
+				android:background="?attr/list_background_color"
+				android:gravity="center"
+				android:minHeight="@dimen/bottom_sheet_title_height"
+				android:orientation="horizontal"
+				android:padding="@dimen/content_padding_half">
+
+				<include
 					android:id="@+id/selection_button"
-					style="@style/DescStyle.Medium"
+					layout="@layout/bottom_sheet_dialog_button"
+					android:layout_width="wrap_content"
+					android:layout_height="@dimen/dialog_button_height" />
+
+				<View
 					android:layout_width="0dp"
 					android:layout_height="match_parent"
-					android:layout_weight="1"
-					android:background="?attr/selectableItemBackground"
-					android:gravity="start|center_vertical"
-					android:paddingHorizontal="@dimen/content_padding"
-					android:text="@string/shared_string_select_recent"
-					android:textAllCaps="true" />
+					android:layout_weight="1" />
 
-				<net.osmand.plus.widgets.TextViewEx
+				<include
 					android:id="@+id/apply_button"
-					style="@style/DescStyle.Medium"
-					android:layout_width="0dp"
-					android:layout_height="match_parent"
-					android:layout_weight="1"
-					android:background="?attr/selectableItemBackground"
-					android:gravity="end|center_vertical"
-					android:paddingHorizontal="@dimen/content_padding"
-					android:text="@string/shared_string_apply"
-					android:textAllCaps="true" />
+					layout="@layout/bottom_sheet_dialog_button"
+					android:layout_width="wrap_content"
+					android:layout_height="@dimen/dialog_button_height" />
+
 
 			</LinearLayout>
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
index 8d4a683ef28..f573b743aa7 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAdapter.java
@@ -56,10 +56,10 @@ public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
 				View view = inflater.inflate(R.layout.track_list_item, parent, false);
 				return new TrackViewHolder(view, fragment, nightMode);
 			case TYPE_NO_TRACKS:
-				view = inflater.inflate(R.layout.tracks_empty_state, parent, false);
+				view = inflater.inflate(R.layout.empty_state, parent, false);
 				return new EmptyTracksViewHolder(view, fragment, nightMode);
 			case TYPE_NO_VISIBLE_TRACKS:
-				view = inflater.inflate(R.layout.tracks_empty_state, parent, false);
+				view = inflater.inflate(R.layout.empty_state, parent, false);
 				return new NoVisibleTracksViewHolder(view, fragment, nightMode);
 			case TYPE_RECENTLY_VISIBLE_TRACKS:
 				view = inflater.inflate(R.layout.list_header_switch_item, parent, false);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
index d3de79dd999..8ee6918fcc6 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
@@ -92,7 +92,7 @@ public class TracksAppearanceFragment extends BaseOsmAndDialogFragment implement
 	@ColorRes
 	public int getStatusBarColorId() {
 		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
-		return ColorUtilities.getActivityBgColorId(nightMode);
+		return nightMode ? R.color.status_bar_color_dark : R.color.activity_background_color_light;
 	}
 
 	@Override
@@ -138,6 +138,7 @@ public void onBackPressed() {
 	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
 		inflater = UiUtilities.getInflater(requireActivity(), nightMode);
 		View view = inflater.inflate(R.layout.tracks_appearance_fragment, container, false);
+		view.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.activity_background_color_dark : R.color.list_background_color_light));
 
 		setupToolbar(view);
 		setupButtons(view);
@@ -148,7 +149,11 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	}
 
 	private void setupToolbar(@NonNull View view) {
-		Toolbar toolbar = view.findViewById(R.id.toolbar);
+		View appbar = view.findViewById(R.id.appbar);
+		ViewCompat.setElevation(appbar, 5.0f);
+		appbar.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.app_bar_color_dark : R.color.card_and_list_background_light));
+
+		Toolbar toolbar = appbar.findViewById(R.id.toolbar);
 		toolbar.setBackgroundColor(ColorUtilities.getListBgColor(app, nightMode));
 
 		TextView toolbarTitle = toolbar.findViewById(R.id.toolbar_title);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
index a6ecc2cc481..7a37fcd8ac6 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
@@ -1,11 +1,11 @@
 package net.osmand.plus.configmap.tracks;
 
 import static net.osmand.plus.importfiles.ImportHelper.IMPORT_FILE_REQUEST;
+import static net.osmand.plus.utils.UiUtilities.DialogButtonType.TERTIARY;
 
 import android.app.Activity;
 import android.app.Dialog;
 import android.content.Intent;
-import android.content.res.ColorStateList;
 import android.os.AsyncTask;
 import android.os.AsyncTask.Status;
 import android.os.Bundle;
@@ -73,8 +73,8 @@ public class TracksFragment extends BaseOsmAndDialogFragment implements LoadTrac
 	private ProgressBar progressBar;
 	private TracksTabAdapter adapter;
 
-	private TextView applyButton;
-	private TextView selectionButton;
+	private View applyButton;
+	private View selectionButton;
 
 	private boolean nightMode;
 	private boolean trackImported;
@@ -87,7 +87,7 @@ public SelectedTracksHelper getSelectedTracksHelper() {
 	@ColorRes
 	public int getStatusBarColorId() {
 		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
-		return ColorUtilities.getActivityBgColorId(nightMode);
+		return nightMode ? R.color.status_bar_color_dark : R.color.activity_background_color_light;
 	}
 
 	@Override
@@ -126,6 +126,7 @@ public void onBackPressed() {
 	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
 		inflater = UiUtilities.getInflater(requireActivity(), nightMode);
 		View view = inflater.inflate(R.layout.tracks_fragment, container, false);
+		view.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.activity_background_color_dark : R.color.list_background_color_light));
 
 		setupToolbar(view);
 		setupTabLayout(view);
@@ -136,7 +137,9 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 
 	private void setupToolbar(@NonNull View view) {
 		progressBar = view.findViewById(R.id.progress_bar);
-		ViewCompat.setElevation(view.findViewById(R.id.appbar), 5.0f);
+		View appbar = view.findViewById(R.id.appbar);
+		ViewCompat.setElevation(appbar, 5.0f);
+		appbar.setBackgroundColor(ContextCompat.getColor(app, nightMode ? R.color.app_bar_color_dark : R.color.card_and_list_background_light));
 
 		Toolbar toolbar = view.findViewById(R.id.toolbar);
 		toolbar.findViewById(R.id.back_button).setOnClickListener(v -> dismiss());
@@ -172,29 +175,29 @@ private void setupTabLayout(@NonNull View view) {
 		viewPager = view.findViewById(R.id.view_pager);
 		viewPager.setAdapter(adapter);
 
+		int activeColor = ColorUtilities.getActiveColor(app, nightMode);
+		int textColor = ColorUtilities.getPrimaryTextColor(app, nightMode);
+
 		TabLayout tabLayout = view.findViewById(R.id.tab_layout);
+		tabLayout.setSelectedTabIndicatorColor(activeColor);
+
+		LayoutInflater inflater = UiUtilities.getInflater(view.getContext(), nightMode);
 		TabLayoutMediator mediator = new TabLayoutMediator(tabLayout, viewPager,
-				(tab, position) -> tab.setText(Algorithms.getFileWithoutDirs(getTrackTabs().get(position).name)));
-		mediator.attach();
+				(tab, position) -> {
+					View customView = inflater.inflate(R.layout.tab_title_view, tabLayout, false);
+					TextView textView = customView.findViewById(android.R.id.text1);
+					textView.setTextColor(AndroidUtils.createColorStateList(android.R.attr.state_selected, activeColor, textColor));
 
-		int color = ColorUtilities.getSelectedProfileColor(app, nightMode);
-		tabLayout.setSelectedTabIndicatorColor(color);
-		tabLayout.setTabTextColors(ColorUtilities.getPrimaryTextColor(app, nightMode), color);
+					tab.setCustomView(customView);
+					tab.setText(Algorithms.getFileWithoutDirs(getTrackTabs().get(position).name));
+				});
+		mediator.attach();
 	}
 
 	private void setupButtons(@NonNull View view) {
-		setupApplyButton(view);
-		setupSelectionButton(view);
-		updateButtonsState();
-	}
-
-	private void setupApplyButton(@NonNull View view) {
 		applyButton = view.findViewById(R.id.apply_button);
-		applyButton.setTextColor(getButtonColorStateList());
 		applyButton.setOnClickListener(v -> updateTracksVisibility());
-	}
 
-	private void setupSelectionButton(@NonNull View view) {
 		selectionButton = view.findViewById(R.id.selection_button);
 		selectionButton.setOnClickListener(v -> {
 			if (selectedTracksHelper.hasSelectedTracks()) {
@@ -203,21 +206,19 @@ private void setupSelectionButton(@NonNull View view) {
 				onGpxInfosSelected(selectedTracksHelper.getRecentlyVisibleTracks(), true);
 			}
 		});
-		selectionButton.setTextColor(getButtonColorStateList());
+		updateButtonsState();
 	}
 
 	private void updateButtonsState() {
+		boolean anySelected = selectedTracksHelper.hasSelectedTracks();
+		String apply = getString(R.string.shared_string_apply).toUpperCase();
+		String select = getString(anySelected ? R.string.shared_string_hide_all : R.string.shared_string_select_recent).toUpperCase();
+
 		applyButton.setEnabled(selectedTracksHelper.hasItemsToApply());
-		boolean hasSelectedTracks = selectedTracksHelper.hasSelectedTracks();
-		selectionButton.setEnabled(selectedTracksHelper.hasRecentlyVisibleTracks() || hasSelectedTracks);
-		selectionButton.setText(hasSelectedTracks ? R.string.shared_string_hide_all : R.string.shared_string_select_recent);
-	}
+		selectionButton.setEnabled(selectedTracksHelper.hasRecentlyVisibleTracks() || anySelected);
 
-	@NonNull
-	private ColorStateList getButtonColorStateList() {
-		int disabledColor = ColorUtilities.getSecondaryTextColorId(nightMode);
-		int activeColor = nightMode ? R.color.active_color_primary_dark : R.color.button_color_active_light;
-		return AndroidUtils.createEnabledColorStateList(app, disabledColor, activeColor);
+		UiUtilities.setupDialogButton(nightMode, applyButton, TERTIARY, apply);
+		UiUtilities.setupDialogButton(nightMode, selectionButton, TERTIARY, select);
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
index fed2e188c44..7b999a455aa 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/viewholders/TrackViewHolder.java
@@ -14,12 +14,12 @@
 import net.osmand.gpx.GPXTrackAnalysis;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
-import net.osmand.plus.track.helpers.GPXInfo;
 import net.osmand.plus.configmap.tracks.SelectedTracksHelper;
 import net.osmand.plus.configmap.tracks.TracksFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.track.GpxAppearanceAdapter;
 import net.osmand.plus.track.helpers.GPXDatabase.GpxDataItem;
+import net.osmand.plus.track.helpers.GPXInfo;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.UiUtilities;
@@ -63,7 +63,7 @@ public TrackViewHolder(@NonNull View itemView, @NonNull TracksFragment fragment,
 
 	public void bindView(@NonNull GPXInfo gpxInfo, @Nullable String folderName, boolean lastItem) {
 		title.setText(gpxInfo.getName());
-		folder.setText(folderName);
+		folder.setText(Algorithms.capitalizeFirstLetter(folderName));
 
 		SelectedTracksHelper helper = fragment.getSelectedTracksHelper();
 		boolean selected = helper.getSelectedTracks().contains(gpxInfo);
diff --git a/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java b/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
index 38e46e303cc..6bd2788b279 100644
--- a/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
+++ b/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
@@ -388,18 +388,20 @@ public static ColorStateList createPressedColorStateList(Context ctx, boolean ni
 				lightNormal, lightPressed, darkNormal, darkPressed);
 	}
 
+	@NonNull
 	private static ColorStateList createColorStateList(Context ctx, boolean night, int state,
 	                                                   @ColorRes int lightNormal, @ColorRes int lightState,
 	                                                   @ColorRes int darkNormal, @ColorRes int darkState) {
+		int normalColor = ContextCompat.getColor(ctx, night ? darkNormal : lightNormal);
+		int stateColor = ContextCompat.getColor(ctx, night ? darkState : lightState);
+		return createColorStateList(state, stateColor, normalColor);
+	}
+
+	@NonNull
+	public static ColorStateList createColorStateList(int state, @ColorInt int stateColor, @ColorInt int normal) {
 		return new ColorStateList(
-				new int[][] {
-						new int[] {state},
-						new int[] {}
-				},
-				new int[] {
-						ContextCompat.getColor(ctx, night ? darkState : lightState),
-						ContextCompat.getColor(ctx, night ? darkNormal : lightNormal)
-				}
+				new int[][] {new int[] {state}, new int[] {}},
+				new int[] {stateColor, normal}
 		);
 	}
 
@@ -626,7 +628,7 @@ public static int getStatusBarHeight(Context ctx) {
 		return result;
 	}
 
-	public static int getCutoutHeight(Activity activity){
+	public static int getCutoutHeight(Activity activity) {
 		int cutoutHeight = 0;
 
 		if (activity != null && android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.Q) {
diff --git a/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java b/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
index 190868a9ce1..b5c4b09cbab 100644
--- a/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
+++ b/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
@@ -79,7 +79,8 @@ public enum DialogButtonType {
 		SECONDARY,
 		SECONDARY_HARMFUL,
 		SECONDARY_ACTIVE,
-		STROKED
+		STROKED,
+		TERTIARY
 	}
 
 	public enum CompoundButtonType {
@@ -689,6 +690,7 @@ public static void setupDialogButton(boolean nightMode, View buttonView, DialogB
 		Context ctx = buttonView.getContext();
 		TextViewEx buttonTextView = buttonView.findViewById(R.id.button_text);
 		View buttonContainer = buttonView.findViewById(R.id.button_container);
+		ColorStateList colorStateList = null;
 		int textAndIconColorResId = INVALID_ID;
 		switch (buttonType) {
 			case PRIMARY:
@@ -721,9 +723,17 @@ public static void setupDialogButton(boolean nightMode, View buttonView, DialogB
 				AndroidUtils.setBackground(ctx, buttonView, nightMode, R.drawable.dlg_btn_stroked_light, R.drawable.dlg_btn_stroked_dark);
 				textAndIconColorResId = ColorUtilities.getButtonSecondaryTextColorId(nightMode);
 				break;
+			case TERTIARY:
+				AndroidUtils.setBackground(ctx, buttonContainer, nightMode, R.drawable.ripple_tetriary_light, R.drawable.ripple_dark);
+				textAndIconColorResId = nightMode ? R.color.active_color_primary_dark : R.color.button_color_active_light;
+				int disabledColor = ColorUtilities.getSecondaryTextColorId(nightMode);
+				colorStateList = AndroidUtils.createEnabledColorStateList(ctx, disabledColor, textAndIconColorResId);
+				break;
 		}
 		if (textAndIconColorResId != INVALID_ID) {
-			ColorStateList colorStateList = ContextCompat.getColorStateList(ctx, textAndIconColorResId);
+			if (colorStateList == null) {
+				colorStateList = ContextCompat.getColorStateList(ctx, textAndIconColorResId);
+			}
 			buttonTextView.setText(buttonText);
 			buttonTextView.setTextColor(colorStateList);
 			buttonTextView.setEnabled(buttonView.isEnabled());
