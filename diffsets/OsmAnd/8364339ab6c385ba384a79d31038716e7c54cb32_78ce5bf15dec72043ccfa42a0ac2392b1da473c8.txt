diff --git a/OsmAnd/res/layout-land/map_hud_bottom.xml b/OsmAnd/res/layout-land/map_hud_bottom.xml
index 78b37115492..ec9b4e0c4ad 100644
--- a/OsmAnd/res/layout-land/map_hud_bottom.xml
+++ b/OsmAnd/res/layout-land/map_hud_bottom.xml
@@ -242,13 +242,6 @@
         android:layout_gravity="bottom|start"
         tools:visibility="visible"/>
 
-    <include
-        layout="@layout/elevation_profile_widget"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:layout_gravity="bottom|start"
-        tools:visibility="gone" />
-
     <include
         layout="@layout/add_gpx_point_bottom_sheet"
         android:layout_width="match_parent"
diff --git a/OsmAnd/res/layout/elevation_profile_widget.xml b/OsmAnd/res/layout/elevation_profile_widget.xml
index 4226cee7a1d..fbe8f3a0fac 100644
--- a/OsmAnd/res/layout/elevation_profile_widget.xml
+++ b/OsmAnd/res/layout/elevation_profile_widget.xml
@@ -2,10 +2,9 @@
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:id="@+id/elevation_profile_widget_layout"
     android:layout_width="match_parent"
-    android:layout_height="match_parent"
+    android:layout_height="wrap_content"
     android:clickable="true"
-    android:focusable="true"
-    android:background="?attr/bottom_menu_view_bg">
+    android:focusable="true">
 
     <LinearLayout
         android:layout_width="match_parent"
diff --git a/OsmAnd/res/layout/main.xml b/OsmAnd/res/layout/main.xml
index 4fc81e3ab43..707ca4b2ff3 100644
--- a/OsmAnd/res/layout/main.xml
+++ b/OsmAnd/res/layout/main.xml
@@ -1,122 +1,143 @@
 <?xml version="1.0" encoding="utf-8"?>
 <androidx.drawerlayout.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
 	android:id="@+id/drawer_layout"
 	android:layout_width="match_parent"
 	android:layout_height="match_parent"
-	android:background="?attr/mapBackground"
-	android:layout_gravity="start">
-
-    <FrameLayout
-        android:layout_width="match_parent"
-        android:layout_height="match_parent">
-
-        <FrameLayout
-            android:id="@+id/MapViewWithLayers"
-            android:layout_width="fill_parent"
-            android:layout_height="fill_parent"
-            android:orientation="vertical">
-
-            <ViewStub
-                android:id="@+id/atlasMapRendererViewStub"
-                android:layout_width="match_parent"
-                android:layout_height="match_parent"
-                android:inflatedId="@+id/atlasMapRendererView"
-                android:layout="@layout/atlas_map_renderer_view"/>
-
-            <net.osmand.plus.views.OsmAndMapSurfaceView
-                android:id="@+id/MapView"
-                android:layout_width="fill_parent"
-                android:layout_height="fill_parent"
-                android:contentDescription="@string/shared_string_map"
-                android:visibility="gone"/>
-
-            <net.osmand.plus.views.OsmAndMapLayersView
-                android:id="@+id/MapLayersView"
-                android:layout_width="fill_parent"
-                android:layout_height="fill_parent"
-                android:contentDescription="@string/shared_string_map"
-                android:visibility="gone"/>
-
-            <include
-                android:id="@+id/AndroidAutoPlaceholder"
-                layout="@layout/android_auto_map_placeholder"
-                android:visibility="gone"/>
-
-        </FrameLayout>
-
-        <FrameLayout
-            android:id="@+id/MapHudButtonsOverlay"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:fitsSystemWindows="true">
-
-            <include layout="@layout/map_hud_top"
-                android:id="@+id/MapHudButtonsOverlayTop"/>
-
-            <FrameLayout
-                android:id="@+id/left_side_menu"
-                android:layout_width="0dp"
-                android:layout_height="0dp"/>
-
-            <include layout="@layout/map_hud_bottom"
-                android:id="@+id/MapHudButtonsOverlayBottom"/>
-
-            <include layout="@layout/map_hud_quick_actions"
-                android:id="@+id/MapHudButtonsOverlayQuickActions"/>
-        </FrameLayout>
-
-        <FrameLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:layout_gravity="bottom">
-
-            <View
-                android:layout_width="match_parent"
-                android:layout_height="1px"/>
-
-        </FrameLayout>
-
-        <FrameLayout
-            android:id="@+id/topFragmentContainer"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
-
-        <FrameLayout
-            android:id="@+id/routeMenuContainer"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
-
-        <include
-            layout="@layout/dashboard_over_map"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
-
-        <FrameLayout
-            android:id="@+id/fragmentContainer"
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
-
-        <View
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"/>
-
-    </FrameLayout>
-
-    <RelativeLayout
-        android:id="@+id/drawer_relative_layout"
-        android:layout_width="280dp"
-        android:layout_height="match_parent"
-        android:layout_gravity="start">
-
-        <ListView
-            android:id="@+id/menuItems"
-            android:layout_width="280dp"
-            android:layout_height="match_parent"
-            android:background="?attr/bg_color"
-            android:clipToPadding="false"
-            android:drawSelectorOnTop="false"
-            android:layout_gravity="start"/>
-
-    </RelativeLayout>
+	android:layout_gravity="start"
+	android:background="?attr/mapBackground">
+
+	<LinearLayout
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="vertical">
+
+		<FrameLayout
+			android:layout_width="match_parent"
+			android:layout_height="0dp"
+			android:layout_weight="1">
+
+			<FrameLayout
+				android:id="@+id/MapViewWithLayers"
+				android:layout_width="fill_parent"
+				android:layout_height="fill_parent"
+				android:orientation="vertical">
+
+				<ViewStub
+					android:id="@+id/atlasMapRendererViewStub"
+					android:layout_width="match_parent"
+					android:layout_height="match_parent"
+					android:inflatedId="@+id/atlasMapRendererView"
+					android:layout="@layout/atlas_map_renderer_view" />
+
+				<net.osmand.plus.views.OsmAndMapSurfaceView
+					android:id="@+id/MapView"
+					android:layout_width="fill_parent"
+					android:layout_height="fill_parent"
+					android:contentDescription="@string/shared_string_map"
+					android:visibility="gone" />
+
+				<net.osmand.plus.views.OsmAndMapLayersView
+					android:id="@+id/MapLayersView"
+					android:layout_width="fill_parent"
+					android:layout_height="fill_parent"
+					android:contentDescription="@string/shared_string_map"
+					android:visibility="gone" />
+
+				<include
+					android:id="@+id/AndroidAutoPlaceholder"
+					layout="@layout/android_auto_map_placeholder"
+					android:visibility="gone" />
+
+			</FrameLayout>
+
+			<FrameLayout
+				android:id="@+id/MapHudButtonsOverlay"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent"
+				android:fitsSystemWindows="true">
+
+				<include
+					android:id="@+id/MapHudButtonsOverlayTop"
+					layout="@layout/map_hud_top" />
+
+				<FrameLayout
+					android:id="@+id/left_side_menu"
+					android:layout_width="0dp"
+					android:layout_height="0dp" />
+
+				<include
+					android:id="@+id/MapHudButtonsOverlayBottom"
+					layout="@layout/map_hud_bottom" />
+
+				<include
+					android:id="@+id/MapHudButtonsOverlayQuickActions"
+					layout="@layout/map_hud_quick_actions" />
+			</FrameLayout>
+
+			<FrameLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="bottom">
+
+				<View
+					android:layout_width="match_parent"
+					android:layout_height="1px" />
+
+			</FrameLayout>
+
+			<FrameLayout
+				android:id="@+id/topFragmentContainer"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
+
+			<FrameLayout
+				android:id="@+id/routeMenuContainer"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
+
+			<include
+				layout="@layout/dashboard_over_map"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
+
+			<FrameLayout
+				android:id="@+id/fragmentContainer"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
+
+			<View
+				android:layout_width="match_parent"
+				android:layout_height="match_parent" />
+
+			<androidx.appcompat.widget.AppCompatImageView
+				android:id="@+id/bottomShadow"
+				android:layout_width="match_parent"
+				android:layout_height="10dp"
+				android:layout_gravity="bottom"
+				android:background="@drawable/bg_contextmenu_shadow_top_light" />
+
+		</FrameLayout>
+
+		<include layout="@layout/map_bottom" />
+
+	</LinearLayout>
+
+	<RelativeLayout
+		android:id="@+id/drawer_relative_layout"
+		android:layout_width="280dp"
+		android:layout_height="match_parent"
+		android:layout_gravity="start">
+
+		<ListView
+			android:id="@+id/menuItems"
+			android:layout_width="280dp"
+			android:layout_height="match_parent"
+			android:layout_gravity="start"
+			android:background="?attr/bg_color"
+			android:clipToPadding="false"
+			android:drawSelectorOnTop="false" />
+
+	</RelativeLayout>
 
 </androidx.drawerlayout.widget.DrawerLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/map_bottom.xml b/OsmAnd/res/layout/map_bottom.xml
new file mode 100644
index 00000000000..a7c7e21ed02
--- /dev/null
+++ b/OsmAnd/res/layout/map_bottom.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content">
+
+	<include
+		layout="@layout/elevation_profile_widget"
+		android:visibility="gone"
+		tools:visibility="visible" />
+
+</FrameLayout>
diff --git a/OsmAnd/res/layout/map_hud_bottom.xml b/OsmAnd/res/layout/map_hud_bottom.xml
index 706b5411262..30acd574e95 100644
--- a/OsmAnd/res/layout/map_hud_bottom.xml
+++ b/OsmAnd/res/layout/map_hud_bottom.xml
@@ -181,9 +181,6 @@
         <include layout="@layout/recording_note_fragment"
             tools:visibility="gone"/>
 
-		<include layout="@layout/elevation_profile_widget"
-			tools:visibility="gone" />
-
         <include layout="@layout/move_marker_bottom_sheet"
                  tools:visibility="gone"/>
 
