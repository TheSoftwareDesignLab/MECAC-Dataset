diff --git a/OsmAnd/res/layout/custom_icon_radio_buttons.xml b/OsmAnd/res/layout/custom_icon_radio_buttons.xml
index bdfe2f4f5fd..87043d52475 100644
--- a/OsmAnd/res/layout/custom_icon_radio_buttons.xml
+++ b/OsmAnd/res/layout/custom_icon_radio_buttons.xml
@@ -1,9 +1,10 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
     android:id="@+id/custom_radio_buttons"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
-    android:background="?attr/btn_bg_border_inactive"
+    tools:background="?attr/btn_bg_border_inactive"
     android:baselineAligned="false"
     android:minHeight="@dimen/dialog_button_height"
     android:orientation="horizontal">
diff --git a/OsmAnd/res/layout/custom_radio_btn_icon_item.xml b/OsmAnd/res/layout/custom_radio_btn_icon_item.xml
index 8bab1a596dc..07d1eca3e39 100644
--- a/OsmAnd/res/layout/custom_radio_btn_icon_item.xml
+++ b/OsmAnd/res/layout/custom_radio_btn_icon_item.xml
@@ -1,21 +1,30 @@
 <?xml version="1.0" encoding="utf-8"?>
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
-    android:orientation="vertical"
-    android:background="?attr/selectableItemBackground"
     android:layout_width="0dp"
     android:layout_height="wrap_content"
     android:layout_weight="1"
-    android:paddingTop="@dimen/content_padding_small_half"
-    android:paddingBottom="@dimen/content_padding_small_half"
-    android:paddingLeft="@dimen/content_padding_small"
-    android:paddingRight="@dimen/content_padding_small">
-    
-    <androidx.appcompat.widget.AppCompatImageView
-        android:id="@+id/icon"
-        android:layout_width="@dimen/standard_icon_size"
-        android:layout_height="@dimen/standard_icon_size"
+    android:minHeight="@dimen/acceptable_touch_radius"
+    android:orientation="vertical">
+
+    <FrameLayout
+        android:id="@+id/background_border"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
         android:layout_gravity="center"
-        tools:src="@drawable/ic_action_info_dark"/>
+        android:minHeight="36dp"
+        android:paddingLeft="@dimen/content_padding_small"
+        android:paddingTop="@dimen/content_padding_small_half"
+        android:paddingRight="@dimen/content_padding_small"
+        android:paddingBottom="@dimen/content_padding_small_half">
+
+        <androidx.appcompat.widget.AppCompatImageView
+            android:id="@+id/icon"
+            android:layout_width="@dimen/standard_icon_size"
+            android:layout_height="@dimen/standard_icon_size"
+            android:layout_gravity="center"
+            tools:src="@drawable/ic_action_info_dark" />
+
+    </FrameLayout>
 
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/custom_radio_btn_text_item.xml b/OsmAnd/res/layout/custom_radio_btn_text_item.xml
index ca6070b6b00..d05a345081a 100644
--- a/OsmAnd/res/layout/custom_radio_btn_text_item.xml
+++ b/OsmAnd/res/layout/custom_radio_btn_text_item.xml
@@ -12,7 +12,6 @@
         style="@style/DescStyle.Medium"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        android:background="?attr/selectableItemBackground"
         android:gravity="center"
         android:paddingLeft="@dimen/context_menu_padding_margin_medium"
         android:paddingTop="@dimen/content_padding_half"
diff --git a/OsmAnd/res/layout/custom_radio_buttons.xml b/OsmAnd/res/layout/custom_radio_buttons.xml
index 6ad61aa7004..11c514d8bc3 100644
--- a/OsmAnd/res/layout/custom_radio_buttons.xml
+++ b/OsmAnd/res/layout/custom_radio_buttons.xml
@@ -6,7 +6,7 @@
 	android:layout_height="wrap_content"
 	android:layout_marginStart="@dimen/content_padding"
 	android:layout_marginEnd="@dimen/content_padding"
-	android:background="?attr/btn_bg_border_inactive"
+	tools:background="?attr/btn_bg_border_inactive"
 	android:baselineAligned="false"
 	android:minHeight="@dimen/dialog_button_height"
 	android:orientation="horizontal"
diff --git a/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/IconToggleButton.java b/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/IconToggleButton.java
index 3862ffae776..934a6d94670 100644
--- a/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/IconToggleButton.java
+++ b/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/IconToggleButton.java
@@ -1,6 +1,7 @@
 package net.osmand.plus.widgets.multistatetoggle;
 
 import android.graphics.drawable.Drawable;
+import android.view.View;
 import android.view.ViewGroup;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
@@ -45,6 +46,11 @@ protected void updateItemView(@NonNull ViewGroup view,
 		}
 	}
 
+	@Override
+	protected View getBorderBackgroundView(@NonNull ViewGroup button) {
+		return button.findViewById(R.id.background_border);
+	}
+
 	public static class IconRadioItem extends RadioItem {
 
 		private final int iconId;
diff --git a/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/MultiStateToggleButton.java b/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/MultiStateToggleButton.java
index 64e91c1fdc3..928a8a973cf 100644
--- a/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/MultiStateToggleButton.java
+++ b/OsmAnd/src/net/osmand/plus/widgets/multistatetoggle/MultiStateToggleButton.java
@@ -1,8 +1,9 @@
 package net.osmand.plus.widgets.multistatetoggle;
 
 import android.content.Context;
-import android.graphics.Color;
+import android.graphics.drawable.Drawable;
 import android.graphics.drawable.GradientDrawable;
+import android.graphics.drawable.LayerDrawable;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -26,6 +27,9 @@
 
 public abstract class MultiStateToggleButton<_Radio extends RadioItem> {
 
+	protected static final float BACKGROUND_ALPHA = 0.1f;
+	protected static final float BACKGROUND_STROKE_ALPHA = 0.5f;
+
 	protected final OsmandApplication app;
 	protected final UiUtilities uiUtilities;
 
@@ -98,9 +102,6 @@ private void initView() {
 		container.removeAllViews();
 		for (int i = 0; i < items.size(); i++) {
 			createBtn(items.get(i));
-			if (!isLastItem(i)) {
-				createDivider();
-			}
 		}
 		updateView();
 	}
@@ -121,16 +122,6 @@ private void createBtn(@NonNull _Radio item) {
 		container.addView(button);
 	}
 
-	private void createDivider() {
-		int dividerColor = ColorUtilities.getStrokedButtonsOutlineColor(app, nightMode);
-		int width = AndroidUtils.dpToPx(app, 1.0f);
-		View divider = new View(app);
-		divider.setLayoutParams(new ViewGroup.LayoutParams(width, ViewGroup.LayoutParams.MATCH_PARENT));
-		divider.setBackgroundColor(dividerColor);
-		dividers.add(divider);
-		container.addView(divider);
-	}
-
 	public void setItemsEnabled(boolean enable) {
 		for (_Radio item: items) {
 			item.setEnabled(enable);
@@ -144,17 +135,18 @@ public void updateView() {
 		int textColorPrimary = ColorUtilities.getPrimaryTextColor(app, nightMode);
 		int textColorSecondary = ColorUtilities.getSecondaryTextColor(app, nightMode);
 
+		int selectedItemIndex = getSelectedItemIndex();
 		int radius = AndroidUtils.dpToPx(app, 4);
 		float[] leftBtnRadii = {radius, radius, 0, 0, 0, 0, radius, radius};
 		float[] rightBtnRadii = {0, 0, radius, radius, radius, radius, 0, 0};
 		float[] internalBtnRadii = {0, 0, 0, 0, 0, 0, 0, 0};
 		boolean isLayoutRtl = AndroidUtils.isLayoutRtl(app);
 
-		showAllDividers();
-
 		for (int i = 0; i < items.size(); i++) {
 			_Radio item = items.get(i);
 			ViewGroup button = buttons.get(i);
+			View borderBackgroundView = getBorderBackgroundView(button);
+
 			boolean enabled = item.isEnabled();
 			button.setEnabled(enabled);
 			int textColor = enabled ? textColorPrimary : textColorSecondary;
@@ -162,29 +154,46 @@ public void updateView() {
 			int contentColor = item.getCustomColor() != null ? item.getCustomColor() : activeColor;
 			int itemColor = enabled ? contentColor : defaultColor;
 			GradientDrawable background = new GradientDrawable();
-			background.setColor(ColorUtilities.getColorWithAlpha(selectedBgColor, 0.1f));
-			background.setStroke(AndroidUtils.dpToPx(app, 1.5f), ColorUtilities.getColorWithAlpha(selectedBgColor, 0.5f));
 
+			if (i == 0) {
+				background.setCornerRadii(isLayoutRtl ? rightBtnRadii : leftBtnRadii);
+			} else if (isLastItem(i)) {
+				background.setCornerRadii(isLayoutRtl ? leftBtnRadii : rightBtnRadii);
+			} else {
+				background.setCornerRadii(internalBtnRadii);
+			}
 			if (selectedItem == item) {
-				if (i == 0) {
-					background.setCornerRadii(isLayoutRtl ? rightBtnRadii : leftBtnRadii);
-					hideDividers(0);
-				} else if (isLastItem(i)) {
-					background.setCornerRadii(isLayoutRtl ? leftBtnRadii : rightBtnRadii);
-					hideDividers(dividers.size() - 1);
-				} else {
-					background.setCornerRadii(internalBtnRadii);
-					hideDividers(i - 1, i);
-				}
-				button.setBackground(background);
+				background.setColor(ColorUtilities.getColorWithAlpha(selectedBgColor, BACKGROUND_ALPHA));
+				background.setStroke(AndroidUtils.dpToPx(app, 1.5f), ColorUtilities.getColorWithAlpha(selectedBgColor, BACKGROUND_STROKE_ALPHA));
+				borderBackgroundView.setBackground(background);
 				updateItemView(button, item, textColor);
 			} else {
-				button.setBackgroundColor(Color.TRANSPARENT);
+				LayerDrawable layerDrawable = new LayerDrawable(new GradientDrawable[]{background});
+				setupLayerInset(i, selectedItemIndex, radius, layerDrawable);
+				background.setStroke(AndroidUtils.dpToPx(app, 1.5f), ColorUtilities.getStrokedButtonsOutlineColor(app, nightMode));
+				borderBackgroundView.setBackground(layerDrawable);
 				updateItemView(button, item, itemColor);
 			}
+			Drawable selectedDrawable = UiUtilities.getColoredSelectableDrawable(app, selectedBgColor, BACKGROUND_ALPHA);
+			borderBackgroundView.setForeground(selectedDrawable);
+		}
+	}
+
+	private void setupLayerInset(int currentItemIndex, int selectedItemIndex, int radius, @NonNull LayerDrawable layerDrawable) {
+		int hideSide = radius * -1;
+		if (currentItemIndex == 0) {
+			layerDrawable.setLayerInset(0, 0, 0, selectedItemIndex == currentItemIndex + 1 ? hideSide : 0, 0);
+		} else if (isLastItem(currentItemIndex)) {
+			layerDrawable.setLayerInset(0, hideSide, 0, 0, 0);
+		} else {
+			layerDrawable.setLayerInset(0, hideSide, 0, selectedItemIndex == currentItemIndex + 1 ? hideSide : 0, 0);
 		}
 	}
 
+	protected View getBorderBackgroundView(@NonNull ViewGroup button){
+		return button;
+	}
+
 	protected abstract int getRadioItemLayoutId();
 
 	protected abstract void initItemView(@NonNull ViewGroup view, @NonNull _Radio item);
@@ -192,20 +201,6 @@ public void updateView() {
 	protected abstract void updateItemView(@NonNull ViewGroup view, @NonNull _Radio item,
 	                                       @ColorInt int color);
 
-	private void showAllDividers() {
-		for (View divider : dividers) {
-			divider.setVisibility(View.VISIBLE);
-		}
-	}
-
-	private void hideDividers(int... dividerIndexes) {
-		for (int dividerIndex : dividerIndexes) {
-			if (dividerIndex >= 0 && dividerIndex < dividers.size()) {
-				dividers.get(dividerIndex).setVisibility(View.GONE);
-			}
-		}
-	}
-
 	private boolean isLastItem(int index) {
 		return index == items.size() - 1;
 	}
