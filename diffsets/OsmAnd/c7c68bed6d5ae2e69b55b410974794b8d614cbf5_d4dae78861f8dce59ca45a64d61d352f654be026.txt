diff --git a/OsmAnd/src/net/osmand/plus/views/controls/RightWidgetsPanel.java b/OsmAnd/src/net/osmand/plus/views/controls/RightWidgetsPanel.java
index 48c6bfb4739..e986ba0428c 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/RightWidgetsPanel.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/RightWidgetsPanel.java
@@ -36,6 +36,8 @@ public class RightWidgetsPanel extends FrameLayout {
 	private final Path borderPath = new Path();
 
 	private boolean nightMode;
+	private boolean selfShowAllowed;
+	private boolean selfVisibilityChanging;
 
 	private ViewPager2 viewPager;
 	private WidgetsPagerAdapter adapter;
@@ -146,7 +148,12 @@ private int getDotColorId(boolean selected) {
 
 	public void update() {
 		adapter.updateIfNeeded();
-		AndroidUiHelper.updateVisibility(this, adapter.getItemCount() > 0);
+		boolean show = adapter.getItemCount() > 0 && selfShowAllowed;
+		selfVisibilityChanging = true;
+		if (AndroidUiHelper.updateVisibility(this, show) && !show) {
+			selfShowAllowed = true;
+		}
+		selfVisibilityChanging = false;
 		updateDots();
 	}
 
@@ -184,6 +191,14 @@ private void drawBorder(@NonNull Canvas canvas) {
 		canvas.drawPath(borderPath, borderPaint);
 	}
 
+	@Override
+	public void setVisibility(int visibility) {
+		super.setVisibility(visibility);
+		if (!selfVisibilityChanging) {
+			selfShowAllowed = visibility == VISIBLE;
+		}
+	}
+
 	@NonNull
 	private UiUtilities getIconsCache() {
 		return getMyApplication().getUIUtilities();
