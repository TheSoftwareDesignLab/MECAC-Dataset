diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/BaseWidgetPurchaseFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/BaseWidgetPurchaseFragment.java
new file mode 100644
index 00000000000..b106fc73856
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/BaseWidgetPurchaseFragment.java
@@ -0,0 +1,24 @@
+package net.osmand.plus.views.mapwidgets.configure;
+
+import net.osmand.plus.base.BaseOsmAndFragment;
+import net.osmand.plus.inapp.InAppPurchaseHelper.InAppPurchaseListener;
+import net.osmand.plus.inapp.InAppPurchaseHelper.InAppPurchaseTaskType;
+
+public class BaseWidgetPurchaseFragment extends BaseOsmAndFragment implements InAppPurchaseListener {
+
+	@Override
+	public void onError(InAppPurchaseTaskType taskType, String error) {}
+
+	@Override
+	public void onGetItems() {}
+
+	@Override
+	public void onItemPurchased(String sku, boolean active) {}
+
+	@Override
+	public void showProgress(InAppPurchaseTaskType taskType) {}
+
+	@Override
+	public void dismissProgress(InAppPurchaseTaskType taskType) {}
+
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
index c529359f964..327a7e69f8e 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
@@ -1,6 +1,5 @@
 package net.osmand.plus.views.mapwidgets.configure.dialogs;
 
-import android.app.Activity;
 import android.content.Context;
 import android.graphics.drawable.Drawable;
 import android.net.Uri;
@@ -20,10 +19,8 @@
 
 import net.osmand.aidl.AidlMapWidgetWrapper;
 import net.osmand.aidl.OsmandAidlApi;
-import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.BaseOsmAndFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.utils.AndroidUtils;
@@ -57,7 +54,7 @@
 import static net.osmand.plus.views.mapwidgets.configure.dialogs.WidgetDataHolder.KEY_WIDGETS_PANEL_ID;
 import static net.osmand.plus.views.mapwidgets.configure.dialogs.WidgetDataHolder.KEY_WIDGET_TYPE;
 
-public class AddWidgetFragment extends BaseOsmAndFragment {
+public class AddWidgetFragment extends BaseWidgetFragment {
 
 	public static final String TAG = AddWidgetFragment.class.getSimpleName();
 
@@ -65,10 +62,6 @@ public class AddWidgetFragment extends BaseOsmAndFragment {
 	private static final String KEY_SELECTED_WIDGETS_IDS = "selected_widgets_ids";
 	private static final String KEY_ALREADY_SELECTED_WIDGETS_IDS = "already_selected_widgets_ids";
 
-	private OsmandApplication app;
-	private ApplicationMode appMode;
-	private boolean nightMode;
-
 	private WidgetDataHolder widgetsDataHolder;
 	private Map<Integer, String> selectedWidgetsIds = new TreeMap<>();
 	private List<String> alreadySelectedWidgetsIds;
@@ -76,12 +69,9 @@ public class AddWidgetFragment extends BaseOsmAndFragment {
 	private View view;
 	private View applyButton;
 
+	@Nullable
 	@Override
-	public void onCreate(@Nullable Bundle savedInstanceState) {
-		super.onCreate(savedInstanceState);
-		app = requireMyApplication();
-		nightMode = !app.getSettings().isLightContent();
-
+	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
 		Bundle args = getArguments();
 		if (savedInstanceState != null) {
 			initFromBundle(savedInstanceState);
@@ -89,6 +79,20 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 			initFromBundle(args);
 			selectWidgetByDefault();
 		}
+
+		Context context = requireContext();
+		LayoutInflater themedInflater = UiUtilities.getInflater(context, nightMode);
+		view = themedInflater.inflate(R.layout.base_widget_fragment_layout, container, false);
+		AndroidUtils.addStatusBarPadding21v(app, view);
+
+		ViewGroup mainContent = view.findViewById(R.id.main_content);
+		themedInflater.inflate(R.layout.add_widget_fragment_content, mainContent);
+
+		setupToolbar();
+		setupContent();
+		setupApplyButton();
+
+		return view;
 	}
 
 	private void initFromBundle(@NonNull Bundle bundle) {
@@ -106,24 +110,6 @@ private void initFromBundle(@NonNull Bundle bundle) {
 		}
 	}
 
-	@Nullable
-	@Override
-	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
-		Context context = requireContext();
-		LayoutInflater themedInflater = UiUtilities.getInflater(context, nightMode);
-		view = themedInflater.inflate(R.layout.base_widget_fragment_layout, container, false);
-		AndroidUtils.addStatusBarPadding21v(app, view);
-
-		ViewGroup mainContent = view.findViewById(R.id.main_content);
-		themedInflater.inflate(R.layout.add_widget_fragment_content, mainContent);
-
-		setupToolbar();
-		setupContent();
-		setupApplyButton();
-
-		return view;
-	}
-
 	private void setupToolbar() {
 		View closeButton = view.findViewById(R.id.close_button);
 		closeButton.setOnClickListener(v -> dismiss());
@@ -173,7 +159,6 @@ private void setupContent() {
 			descriptionText.setText(description);
 		}
 
-
 		List<WidgetType> widgets = widgetsDataHolder.getWidgetsList();
 		AidlMapWidgetWrapper aidlWidgetData = widgetsDataHolder.getAidlWidgetData();
 		if (widgets != null) {
@@ -328,13 +313,6 @@ private void enableDisableApplyButton() {
 		applyButton.setEnabled(!selectedWidgetsIds.isEmpty());
 	}
 
-	private void dismiss() {
-		Activity activity = getActivity();
-		if (activity != null) {
-			activity.onBackPressed();
-		}
-	}
-
 	@Override
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		super.onSaveInstanceState(outState);
@@ -345,18 +323,13 @@ public void onSaveInstanceState(@NonNull Bundle outState) {
 	}
 
 	@Override
-	public int getStatusBarColorId() {
-		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
-		return nightMode ? R.color.status_bar_color_dark : R.color.activity_background_color_light;
+	public void onItemPurchased(String sku, boolean active) {
+		recreateFragment();
 	}
 
-	@NonNull
-	public MapActivity requireMapActivity() {
-		FragmentActivity activity = getActivity();
-		if (!(activity instanceof MapActivity)) {
-			throw new IllegalStateException("Fragment " + this + " not attached to an activity.");
-		}
-		return (MapActivity) activity;
+	@Override
+	protected String getFragmentTag() {
+		return TAG;
 	}
 
 	/**
@@ -433,7 +406,6 @@ private static void showFragment(@NonNull FragmentManager fragmentManager, @NonN
 	}
 
 	public interface AddWidgetListener {
-
 		void onWidgetsSelectedToAdd(@NonNull List<String> widgetsIds, @NonNull WidgetsPanel widgetsPanel);
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java
new file mode 100644
index 00000000000..0a4ffe01d5d
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java
@@ -0,0 +1,78 @@
+package net.osmand.plus.views.mapwidgets.configure.dialogs;
+
+import android.app.Activity;
+import android.os.Bundle;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentActivity;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.views.mapwidgets.configure.BaseWidgetPurchaseFragment;
+
+public abstract class BaseWidgetFragment extends BaseWidgetPurchaseFragment {
+
+	protected OsmandApplication app;
+	protected ApplicationMode appMode;
+	protected OsmandSettings settings;
+	protected boolean nightMode;
+
+	@Override
+	public void onCreate(@Nullable Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
+		app = requireMyApplication();
+		settings = app.getSettings();
+		nightMode = !app.getSettings().isLightContent();
+	}
+
+	protected void dismiss() {
+		Activity activity = getActivity();
+		if (activity != null) {
+			activity.onBackPressed();
+		}
+	}
+
+	@Override
+	public int getStatusBarColorId() {
+		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
+		return nightMode ? R.color.status_bar_color_dark : R.color.activity_background_color_light;
+	}
+
+	@NonNull
+	public MapActivity requireMapActivity() {
+		FragmentActivity activity = getActivity();
+		if (!(activity instanceof MapActivity)) {
+			throw new IllegalStateException("Fragment " + this + " not attached to an activity.");
+		}
+		return (MapActivity) activity;
+	}
+
+	@Nullable
+	public MapActivity getMapActivity() {
+		Activity activity = getActivity();
+		return activity instanceof MapActivity ? ((MapActivity) activity) : null;
+	}
+
+	protected abstract String getFragmentTag();
+
+	protected void recreateFragment() {
+		FragmentManager fragmentManager = requireMyActivity().getSupportFragmentManager();
+		String tag = getFragmentTag();
+		Fragment fragment = fragmentManager.findFragmentByTag(tag);
+		if (AndroidUtils.isFragmentCanBeAdded(fragmentManager, tag)) {
+			fragmentManager.beginTransaction()
+					.detach(fragment)
+					.attach(fragment)
+					.commitAllowingStateLoss();
+		}
+	}
+
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
index 2610786be70..8c5df6ab225 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
@@ -1,6 +1,5 @@
 package net.osmand.plus.views.mapwidgets.configure.dialogs;
 
-import android.app.Activity;
 import android.content.Context;
 import android.os.Bundle;
 import android.view.LayoutInflater;
@@ -14,13 +13,10 @@
 import com.google.android.material.snackbar.Snackbar;
 
 import net.osmand.aidl.ConnectedApp;
-import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.BaseOsmAndFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.ApplicationMode;
-import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
@@ -55,19 +51,15 @@
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
 
-public class WidgetInfoFragment extends BaseOsmAndFragment implements WidgetsConfigurationChangeListener {
+public class WidgetInfoFragment extends BaseWidgetFragment implements WidgetsConfigurationChangeListener {
 
 	public static final String TAG = WidgetInfoFragment.class.getSimpleName();
 
 	private static final String APP_MODE_KEY = "app_mode";
 	private static final String WIDGET_ID_KEY = "widget_id";
 
-	private OsmandApplication app;
-	private OsmandSettings settings;
 	private MapWidgetRegistry widgetRegistry;
 	private WidgetIconsHelper iconsHelper;
-	private ApplicationMode appMode;
-	private boolean nightMode;
 
 	private MapWidgetInfo widgetInfo;
 	private WidgetType widgetType;
@@ -79,10 +71,7 @@ public class WidgetInfoFragment extends BaseOsmAndFragment implements WidgetsCon
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
-		app = requireMyApplication();
-		settings = app.getSettings();
 		widgetRegistry = app.getOsmandMap().getMapLayers().getMapWidgetRegistry();
-		nightMode = !app.getSettings().isLightContent();
 	}
 
 	@Nullable
@@ -208,7 +197,7 @@ private void setupPromoBanner() {
 		bannerContainer.removeAllViews();
 
 		WidgetData widgetData = new WidgetData(widgetType.titleId, widgetType.dayIconId, widgetType.nightIconId);
-		WidgetPromoBanner banner = new WidgetPromoBanner(getMapActivity(), widgetData, false);
+		WidgetPromoBanner banner = new WidgetPromoBanner(requireMapActivity(), widgetData, false);
 		bannerContainer.addView(banner.build(activity));
 	}
 
@@ -380,13 +369,6 @@ public void onSaveInstanceState(@NonNull Bundle outState) {
 		outState.putString(WIDGET_ID_KEY, widgetInfo.key);
 	}
 
-	private void dismiss() {
-		Activity activity = getActivity();
-		if (activity != null) {
-			activity.onBackPressed();
-		}
-	}
-
 	@Override
 	public void onWidgetsConfigurationChanged() {
 		setupWidgetItem();
@@ -401,15 +383,13 @@ private void notifyTarget() {
 	}
 
 	@Override
-	public int getStatusBarColorId() {
-		AndroidUiHelper.setStatusBarContentColor(getView(), nightMode);
-		return nightMode ? R.color.status_bar_color_dark : R.color.activity_background_color_light;
+	public void onItemPurchased(String sku, boolean active) {
+		recreateFragment();
 	}
 
-	@Nullable
-	private MapActivity getMapActivity() {
-		Activity activity = getActivity();
-		return activity instanceof MapActivity ? ((MapActivity) activity) : null;
+	@Override
+	protected String getFragmentTag() {
+		return TAG;
 	}
 
 	public static void showInstance(@NonNull FragmentManager fragmentManager,
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
index d62d1eb81f7..1472822ceca 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
@@ -34,8 +34,6 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.BaseOsmAndFragment;
-import net.osmand.plus.configmap.ConfigureMapFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
@@ -49,6 +47,7 @@
 import net.osmand.plus.views.mapwidgets.MapWidgetsFactory;
 import net.osmand.plus.views.mapwidgets.WidgetType;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.configure.BaseWidgetPurchaseFragment;
 import net.osmand.plus.views.mapwidgets.configure.dialogs.AddWidgetFragment.AddWidgetListener;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
 import net.osmand.util.Algorithms;
@@ -61,7 +60,7 @@
 import java.util.Set;
 import java.util.TreeMap;
 
-public class ConfigureWidgetsFragment extends BaseOsmAndFragment implements WidgetsConfigurationChangeListener,
+public class ConfigureWidgetsFragment extends BaseWidgetPurchaseFragment implements WidgetsConfigurationChangeListener,
 		OnOffsetChangedListener, AddWidgetListener {
 
 	public static final String TAG = ConfigureWidgetsFragment.class.getSimpleName();
@@ -357,6 +356,11 @@ public MapActivity requireMapActivity() {
 		return (MapActivity) activity;
 	}
 
+	@Override
+	public void onItemPurchased(String sku, boolean active) {
+		onWidgetsConfigurationChanged();
+	}
+
 	public static void showInstance(@NonNull FragmentActivity activity, @NonNull WidgetsPanel panel, @NonNull ApplicationMode appMode) {
 		FragmentManager fragmentManager = activity.getSupportFragmentManager();
 		if (AndroidUtils.isFragmentCanBeAdded(fragmentManager, TAG)) {
