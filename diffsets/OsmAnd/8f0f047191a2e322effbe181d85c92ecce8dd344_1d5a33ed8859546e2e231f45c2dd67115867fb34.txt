diff --git a/OsmAnd-Plugin-TurnScreenOn/build.gradle b/OsmAnd-Plugin-TurnScreenOn/build.gradle
index dceb6263a37..c6f8ade87b4 100644
--- a/OsmAnd-Plugin-TurnScreenOn/build.gradle
+++ b/OsmAnd-Plugin-TurnScreenOn/build.gradle
@@ -30,7 +30,6 @@ android {
             proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
         }
     }
-
 }
 
 dependencies {
@@ -38,7 +37,6 @@ dependencies {
 
     implementation 'com.android.support:appcompat-v7:28.0.0'
     implementation 'com.android.support.constraint:constraint-layout:1.1.3'
-    implementation 'com.android.support:cardview-v7:28.0.0'
     testImplementation 'junit:junit:4.12'
     androidTestImplementation 'com.android.support.test:runner:1.0.2'
     androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/AndroidManifest.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/AndroidManifest.xml
index 21cdac7406d..0c57ae627fa 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/AndroidManifest.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/AndroidManifest.xml
@@ -8,9 +8,8 @@
     <application
         android:name=".app.TurnScreenApp"
         android:allowBackup="true"
-        android:icon="@mipmap/ic_launcher"
+        android:icon="@mipmap/icon_turn_screen_on"
         android:label="@string/app_name"
-        android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
         <activity android:name=".OsmandInstallActivity"
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/MainActivity.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/MainActivity.java
index f1cc68b7de9..ef2301135b1 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/MainActivity.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/MainActivity.java
@@ -1,8 +1,6 @@
 package net.osmand.turnScreenOn;
 
 import android.content.Intent;
-import android.graphics.ColorMatrix;
-import android.graphics.ColorMatrixColorFilter;
 import android.graphics.Paint;
 import android.os.Build;
 import android.os.Bundle;
@@ -22,7 +20,6 @@
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.RadioButton;
-import android.widget.ScrollView;
 import android.widget.TextView;
 
 import net.osmand.turnScreenOn.app.TurnScreenApp;
@@ -30,6 +27,7 @@
 import net.osmand.turnScreenOn.helpers.AndroidUtils;
 import net.osmand.turnScreenOn.helpers.LockHelper;
 import net.osmand.turnScreenOn.helpers.OsmAndAidlHelper;
+import net.osmand.turnScreenOn.helpers.RadioGroupWrapper;
 import net.osmand.turnScreenOn.helpers.SensorHelper;
 import net.osmand.turnScreenOn.listener.UnlockMessageListener;
 import net.osmand.turnScreenOn.listener.OnMessageListener;
@@ -39,10 +37,17 @@
 import static android.view.View.LAYER_TYPE_HARDWARE;
 
 public class MainActivity extends AppCompatActivity {
-    private FrameLayout flRootLayout;
-    private LinearLayout llElementsList;
+    private TurnScreenApp app;
+    private OsmAndAidlHelper osmAndAidlHelper;
+    private PluginSettings settings;
+    private SensorHelper sensorHelper;
+    private LockHelper lockHelper;
+    private OnMessageListener unlockMessageListener;
+
+    private List<PluginSettings.OsmandVersion> availableOsmandVersions;
+
     private Toolbar tbPluginToolbar;
-    private FrameLayout btnOpenOsmand;
+    private LinearLayout llElementsScreen;
     private FrameLayout flPanelPluginEnable;
     private SwitchCompat swPluginEnableSwitcher;
     private FrameLayout flPanelSensor;
@@ -51,400 +56,184 @@ public class MainActivity extends AppCompatActivity {
     private FrameLayout flPanelTime;
     private TextView tvTime;
     private LinearLayout llPluginPreferencesLayout;
-    private LinearLayout llOsmandVersions;
+    private RadioGroupWrapper osmandVersionRadioGroup;
+    private FrameLayout btnOpenOsmand;
 
-    private List<PluginSettings.OsmandVersion> availableOsmandVersions;
+    private LayoutInflater inflater;
 
     private Paint pGreyScale;
 
-    private TurnScreenApp app;
-    private OsmAndAidlHelper osmAndAidlHelper;
-    private PluginSettings settings;
-    private PluginState pluginState;
-    private SensorHelper sensorHelper;
-    private LockHelper lockHelper;
-    private OnMessageListener unlockMessageListener;
+    private boolean isReturnedFromAnotherActivity = false;
 
-    private LayoutInflater inflater;
-
-    interface PluginState {
-        void createUI();
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_main);
 
-        void refreshUI();
-    }
+        app = (TurnScreenApp) getApplicationContext();
 
-    /*private PluginState NO_INSTALLED_OSMAND_STATE = new PluginState() {
-        @Override
-        public void createUI() {
-            llElementsList.addView(inflater.inflate(R.layout.main_el_plugin_switcher, null, false));
-            llElementsList.addView(inflater.inflate(R.layout.main_install_desc, null, false));
+        osmAndAidlHelper = app.getOsmAndAidlHelper();
+        settings = app.getSettings();
+        sensorHelper = app.getSensorHelper();
+        lockHelper = app.getLockHelper();
+        unlockMessageListener = new UnlockMessageListener(app);
 
-            flRootLayout.addView(llElementsList);
+        inflater = getLayoutInflater();
 
-            llPluginPreferencesLayout = findViewById(R.id.llPluginPreferencesLayout);
-            swPluginEnableSwitcher = findViewById(R.id.swPluginEnableSwitcher);
-            tvPluginStateDescription = findViewById(R.id.tvPluginStateDescription);
+        if (!settings.isProgramOpenedEarlier()) {
+            settings.setOpened();
+            isReturnedFromAnotherActivity = true;
+            startPluginDescriptionActivity(PluginDescriptionActivity.MODE_FIRST_OPEN);
         }
 
-        @Override
-        public void refreshUI() {
-            swPluginEnableSwitcher.setChecked(false);
-            tvPluginStateDescription.setText(R.string.disabled);
-            swPluginEnableSwitcher.setEnabled(false);
+        else if (!settings.hasAvailableOsmandVersions()) {
+            isReturnedFromAnotherActivity = true;
+            startInstallOsmandInstructionActivity();
         }
-    };*/
-
-    private PluginState PLUGIN_PREFERENCE_STATE = new PluginState() {
-        @Override
-        public void createUI() {
-            //add interface elements
-            llElementsList.addView(inflater.inflate(R.layout.main_el_plugin_switcher, null, false));
-            llElementsList.addView(inflater.inflate(R.layout.main_el_time_set_up, null, false));
-            llElementsList.addView(inflater.inflate(R.layout.main_el_sensor, null, false));
-
-            View btnOpenOsmandLayout = inflater.inflate(R.layout.main_el_btn_open_osmand, null, false);
-            flRootLayout.addView(btnOpenOsmandLayout);
-
-            llElementsList.setPadding(0, 0, 0, AndroidUtils.dpToPx(getApplicationContext(), 82));
-
-            ScrollView sv = new ScrollView(MainActivity.this);
-            sv.addView(llElementsList);
-            //getting control elements
-            flRootLayout.addView(sv);
-
-            llPluginPreferencesLayout = findViewById(R.id.llPluginPreferencesLayout);
-            swPluginEnableSwitcher = findViewById(R.id.swPluginEnableSwitcher);
-            flPanelPluginEnable = findViewById(R.id.flPluginEnabled);
-            tvPluginStateDescription = findViewById(R.id.tvPluginStateDescription);
-            btnOpenOsmand = findViewById(R.id.btnOpenOsmand);
-            flPanelTime = findViewById(R.id.flPanelTime);
-            tvTime = findViewById(R.id.tvTime);
-            flPanelSensor = findViewById(R.id.flPanelSensor);
-            swSensorEnableSwitcher = findViewById(R.id.swSensorEnableSwitcher);
-
-            if (availableOsmandVersions.size() > 1) {
-                llElementsList.addView(inflater.inflate(R.layout.main_el_osmand_versions, null, false));
-                llOsmandVersions = findViewById(R.id.llOsmandVersions);
-                prepareOsmandVersionsPanel();
-            }
-
-            btnOpenOsmand.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-                    Intent launchIntent = getPackageManager().getLaunchIntentForPackage(settings.getOsmandVersion().getPath());
-                    if (launchIntent != null) {
-                        startActivity(launchIntent);
-                    }
-                }
-            });
-
-            swPluginEnableSwitcher.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
-                @Override
-                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
-                    if (isChecked) {
-                        if (!settings.isPermissionAvailable()) {
-                            Intent intent = new Intent(MainActivity.this, PluginDescriptionActivity.class);
-                            startActivity(intent);
-                        } else {
-                            settings.enablePlugin();
-                        }
-                    } else {
-                        settings.disablePlugin();
-                    }
-                    refreshUI();
-                }
-            });
-
-            flPanelPluginEnable.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-                    swPluginEnableSwitcher.setChecked(!swPluginEnableSwitcher.isChecked());
-                }
-            });
 
-            flPanelTime.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-                    final PluginStandardDialog dialog = new PluginStandardDialog(MainActivity.this) {
-
-                        @Override
-                        public ViewGroup prepareElements() {
-                            LinearLayout llTimeList = new LinearLayout(MainActivity.this);
-                            llTimeList.setLayoutParams(new LinearLayout.LayoutParams(
-                                    ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));
-                            llTimeList.setOrientation(LinearLayout.VERTICAL);
-
-                            PluginSettings.UnlockTime[] unlockTimes = PluginSettings.UnlockTime.values();
-
-                            for (final PluginSettings.UnlockTime unlockTime : unlockTimes) {
-                                final View timeViewListItem = inflater.inflate(R.layout.item_time, null, false);
-                                timeViewListItem.setId(unlockTime.getId());
-
-                                TextView tvTime = timeViewListItem.findViewById(R.id.tvTime);
-                                final RadioButton rbTime = timeViewListItem.findViewById(R.id.rbTime);
-
-                                View.OnClickListener listener = new View.OnClickListener() {
-                                    @Override
-                                    public void onClick(View v) {
-                                        int id = v.getId();
-
-                                        rbTime.setChecked(true);
-
-                                        PluginSettings.UnlockTime checkedTime = PluginSettings.UnlockTime.getTimeById(unlockTime.getId());
-                                        int timeLikeSeconds = checkedTime != null ? checkedTime.getSeconds() : 0;
-
-                                        settings.setTimeLikeSeconds(timeLikeSeconds);
-
-                                        new Handler().postDelayed(new Runnable() {
-                                            @Override
-                                            public void run() {
-                                                closeDialog();
-                                                refreshUI();
-                                            }
-                                        }, 5);
-                                    }
-                                };
-
-                                rbTime.setOnClickListener(listener);
+        else {
+            availableOsmandVersions = PluginSettings.OsmandVersion.getOnlyInstalledVersions();
+            createUI();
+        }
+    }
 
-                                tvTime.setText(String.valueOf(unlockTime.getSeconds()));
+    public void createUI() {
+        pGreyScale = AndroidUtils.createPaintWithGreyScale();
+        llElementsScreen = findViewById(R.id.llElementsScreen);
 
-                                timeViewListItem.setOnClickListener(listener);
+        tbPluginToolbar = findViewById(R.id.tbPluginToolbar);
+        setSupportActionBar(tbPluginToolbar);
 
-                                llTimeList.addView(timeViewListItem);
-                            }
-                            return llTimeList;
-                        }
-                    };
+        if (availableOsmandVersions.size() > 1) {
+            llElementsScreen.addView(inflater.inflate(R.layout.card_devider, null, false));
+            View osmandVersionsPanel = createOsmandVersionsPanel();
+            llElementsScreen.addView(osmandVersionsPanel);
+            llElementsScreen.addView(inflater.inflate(R.layout.card_top_divider, null, false));
+        }
 
-                    dialog.setHeader(getString(R.string.select_time));
-                    dialog.showDialog();
+        llPluginPreferencesLayout = findViewById(R.id.llPluginPreferencesLayout);
+        swPluginEnableSwitcher = findViewById(R.id.swPluginEnableSwitcher);
+        flPanelPluginEnable = findViewById(R.id.flPluginEnabled);
+        tvPluginStateDescription = findViewById(R.id.tvPluginStateDescription);
+        btnOpenOsmand = findViewById(R.id.btnOpenOsmand);
+        flPanelTime = findViewById(R.id.flPanelTime);
+        tvTime = findViewById(R.id.tvTime);
+        flPanelSensor = findViewById(R.id.flPanelSensor);
+        swSensorEnableSwitcher = findViewById(R.id.swSensorEnableSwitcher);
+
+        btnOpenOsmand.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent launchIntent = getPackageManager()
+                        .getLaunchIntentForPackage(settings.getOsmandVersion().getPath());
+                if (launchIntent != null) {
+                    startActivity(launchIntent);
                 }
-            });
-
-            swSensorEnableSwitcher.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
-                @Override
-                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
-                    if (isChecked) {
-                        settings.enableSensor();
+            }
+        });
+
+        swPluginEnableSwitcher.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
+            @Override
+            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                if (isChecked) {
+                    if (!settings.isAdminDevicePermissionAvailable()) {
+                        Intent intent = new Intent(MainActivity.this, PermissionsSetUpActivity.class);
+                        startActivity(intent);
                     } else {
-                        settings.disableSensor();
+                        settings.enablePlugin();
                     }
-                    refreshUI();
+                } else {
+                    settings.disablePlugin();
                 }
-            });
-
-            flPanelSensor.setOnClickListener(new View.OnClickListener() {
-                @Override
-                public void onClick(View v) {
-                    swSensorEnableSwitcher.setChecked(!swSensorEnableSwitcher.isChecked());
-                }
-            });
-
-            connectOsmand();
-            btnOpenOsmandLayout.bringToFront();
-        }
-
-        @Override
-        public void refreshUI() {
-            boolean isPluginEnabled = settings.isPluginEnabled();
-
-            if (isPluginEnabled) {
-                setStatusBarColor(R.color.orange);
-
-                osmAndAidlHelper.registerForVoiceRouterMessages();
-                osmAndAidlHelper.addListener(unlockMessageListener);
-                sensorHelper.addListener(unlockMessageListener);
-
-                tvPluginStateDescription.setText(getString(R.string.enabled));
-                tvPluginStateDescription.setTextColor(getResources().getColor(R.color.black));
-                tbPluginToolbar.setBackgroundColor(getResources().getColor(R.color.orange));
-
-                llPluginPreferencesLayout.setLayerType(LAYER_TYPE_HARDWARE, null);
-
-                setEnableForElements(true);
-            } else {
-                setStatusBarColor(R.color.darkGrey);
-
-                osmAndAidlHelper.unregisterFromVoiceRouterMessages();
-                osmAndAidlHelper.removeListener(unlockMessageListener);
-                sensorHelper.removeListener(unlockMessageListener);
-                lockHelper.cancelLock();
-
-                tvPluginStateDescription.setText(getString(R.string.disabled));
-                tvPluginStateDescription.setTextColor(getResources().getColor(R.color.darkGrey));
-                tbPluginToolbar.setBackgroundColor(getResources().getColor(R.color.darkGrey));
-
-                llPluginPreferencesLayout.setLayerType(LAYER_TYPE_HARDWARE, pGreyScale);
-
-                setEnableForElements(false);
+                refreshUI();
             }
+        });
 
-            swPluginEnableSwitcher.setChecked(isPluginEnabled);
-
-            boolean isSensorEnabled = settings.isSensorEnabled();
-            swSensorEnableSwitcher.setChecked(isSensorEnabled);
-
-            if (isSensorEnabled) {
-                sensorHelper.switchOnSensor();
-            } else {
-                sensorHelper.switchOffSensor();
+        flPanelPluginEnable.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                swPluginEnableSwitcher.setChecked(!swPluginEnableSwitcher.isChecked());
             }
+        });
 
-            String time = String.valueOf(settings.getTimeLikeSeconds()) + " "
-                    + getString(R.string.secondsShort);
-            tvTime.setText(time);
+        flPanelTime.setOnClickListener(new View.OnClickListener() {
 
-            PluginSettings.OsmandVersion version = settings.getOsmandVersion();
-            int checkedId = version.getId();
-            FrameLayout checkedVersion = findViewById(checkedId);
-            RadioButton rbVersion = checkedVersion.findViewById(R.id.rbVersion);
-            if (rbVersion != null) {
-                rbVersion.setChecked(true);
-            }
-        }
+            @Override
+            public void onClick(View v) {
 
-        public void prepareOsmandVersionsPanel() {
-            for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
-                final ViewGroup container = (ViewGroup) inflater
-                        .inflate(R.layout.item_osmand_version, null, false);
+                final RadioGroupWrapper unlockTimeRadioButtonsGroup = new RadioGroupWrapper();
 
-                container.setMinimumHeight((int) getResources().getDimension(R.dimen.basic_element_height));
+                final PluginStandardDialog dialog = new PluginStandardDialog(MainActivity.this) {
 
-                final FrameLayout flOsmandVersion = container.findViewById(R.id.flOsmandVersion);
-                flOsmandVersion.setId(version.getId());
-                flOsmandVersion.setOnClickListener(new View.OnClickListener() {
                     @Override
-                    public void onClick(View v) {
-                        final int id = v.getId();
-                        settings.setOsmandVersion(id);
-
-                        RadioButton rb = flOsmandVersion.findViewById(R.id.rbVersion);
-                        if (rb != null) {
-                            rb.setChecked(true);
-                        }
-
-                        rb.setOnClickListener(new View.OnClickListener() {
-                            @Override
-                            public void onClick(View v) {
-                                settings.setOsmandVersion(id);
-
-                                for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
-                                    if (id != version.getId()) {
-                                        FrameLayout flVersion = findViewById(version.getId());
-                                        RadioButton rbCurrent = flVersion.findViewById(R.id.rbVersion);
-                                        rbCurrent.setChecked(false);
-                                    }
+                    public ViewGroup prepareElements() {
+                        LinearLayout llTimeList = new LinearLayout(MainActivity.this);
+                        llTimeList.setLayoutParams(new LinearLayout.LayoutParams(
+                                ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));
+                        llTimeList.setOrientation(LinearLayout.VERTICAL);
+
+                        PluginSettings.UnlockTime[] unlockTimes = PluginSettings.UnlockTime.values();
+
+                        for (final PluginSettings.UnlockTime unlockTime : unlockTimes) {
+                            final int currentTimeItemId = unlockTime.getId();
+                            final View timeItemView = inflater.inflate(R.layout.item_time, null, false);
+                            timeItemView.setId(currentTimeItemId);
+
+                            TextView tvTime = timeItemView.findViewById(R.id.tvTime);
+                            tvTime.setText(String.valueOf(unlockTime.getSeconds()));
+
+                            RadioButton rb = timeItemView.findViewById(R.id.rbTime);
+                            unlockTimeRadioButtonsGroup.addRadioButton(currentTimeItemId, rb);
+
+                            View.OnClickListener listener = new View.OnClickListener() {
+                                @Override
+                                public void onClick(View v) {
+                                    settings.setTime(currentTimeItemId);
+                                    unlockTimeRadioButtonsGroup.setChecked(currentTimeItemId);
+
+                                    new Handler().postDelayed(new Runnable() {
+                                        @Override
+                                        public void run() {
+                                            closeDialog();
+                                            refreshUI();
+                                        }
+                                    }, 5);
                                 }
+                            };
 
-                                connectOsmand();
-                            }
-                        });
+                            timeItemView.setOnClickListener(listener);
+                            rb.setOnClickListener(listener);
 
-                        for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
-                            if (id != version.getId()) {
-                                FrameLayout flVersion = findViewById(version.getId());
-                                RadioButton rbCurrent = flVersion.findViewById(R.id.rbVersion);
-                                rbCurrent.setChecked(false);
-                            }
+                            llTimeList.addView(timeItemView);
                         }
-
-                        connectOsmand();
+                        return llTimeList;
                     }
-                });
-
-                ImageView ivVersionImg = container.findViewById(R.id.ivVersionImg);
-                ivVersionImg.setImageResource(version.getImgResId());
+                };
 
-                TextView tvVersionName = container.findViewById(R.id.tvVersionName);
-                tvVersionName.setText(getString(version.getNameId()));
-
-                llOsmandVersions.addView(container);
+                dialog.setHeader(getString(R.string.select_time));
+                dialog.showDialog();
             }
-        }
-
-        private void throwRadioButtons(int checkedId, int[] other, ViewGroup container, int rbId) {
-            for (int i = 0; i < other.length; i++) {
-                if (checkedId != other[i]) {
-                    ViewGroup item = container.findViewById(other[i]);
-                    if (item != null) {
-                        RadioButton rb = item.findViewById(rbId);
-                        rb.setChecked(false);
-                    }
+        });
+
+        swSensorEnableSwitcher.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
+            @Override
+            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                if (isChecked) {
+                    settings.enableSensor();
+                } else {
+                    settings.disableSensor();
                 }
+                refreshUI();
             }
-        }
+        });
 
-        private void setEnableForElements(boolean enable) {
-            swSensorEnableSwitcher.setEnabled(enable);
-            flPanelSensor.setEnabled(enable);
-            for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
-                FrameLayout flVersion = findViewById(version.getId());
-                flVersion.setEnabled(enable);
-                RadioButton rb = flVersion.findViewById(R.id.rbVersion);
-                if (rb != null) {
-                    rb.setEnabled(enable);
-                }
+        flPanelSensor.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                swSensorEnableSwitcher.setChecked(!swSensorEnableSwitcher.isChecked());
             }
-            flPanelTime.setEnabled(enable);
-            tvTime.setEnabled(enable);
-            btnOpenOsmand.setEnabled(enable);
-        }
-    };
-
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_main);
-
-        app = (TurnScreenApp) getApplicationContext();
-
-        osmAndAidlHelper = app.getOsmAndAidlHelper();
-        settings = app.getSettings();
-        sensorHelper = app.getSensorHelper();
-        lockHelper = app.getLockHelper();
-        unlockMessageListener = new UnlockMessageListener(app);
-
-        inflater = getLayoutInflater();
+        });
 
-        availableOsmandVersions = PluginSettings.OsmandVersion.getOnlyInstalledVersions();
-
-        if (availableOsmandVersions == null || availableOsmandVersions.size() == 0) {
-//            pluginState = NO_INSTALLED_OSMAND_STATE;
-            startActivity(new Intent(this, OsmandInstallActivity.class));
-        } else {
-            pluginState = PLUGIN_PREFERENCE_STATE;
-            //todo refactor
-            settings.setOsmandVersion(availableOsmandVersions.get(0).getId());
-        }
-
-        if (!settings.programWasOpenedEarlier()) {
-            settings.setOpened();
-            Intent intent = new Intent(this, PluginDescriptionActivity.class);
-            startActivity(intent);
-        }
-
-        createUI();
-    }
-
-    public void createUI() {
-        //grey filter preparation
-        ColorMatrix cm = new ColorMatrix();
-        cm.setSaturation(0);
-        pGreyScale = new Paint();
-        pGreyScale.setColorFilter(new ColorMatrixColorFilter(cm));
-
-        flRootLayout = findViewById(R.id.flRootLayout);
-        llElementsList = new LinearLayout(this);
-        llElementsList.setOrientation(LinearLayout.VERTICAL);
-        llElementsList.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup
-                .LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));
-
-        tbPluginToolbar = findViewById(R.id.tbPluginToolbar);
-        setSupportActionBar(tbPluginToolbar);
-
-        if (pluginState != null) {
-            pluginState.createUI();
-        }
+        connectOsmand();
     }
 
     @Override
@@ -458,10 +247,7 @@ public boolean onOptionsItemSelected(MenuItem item) {
         int id = item.getItemId();
 
         if (id == R.id.action_help) {
-
-            Intent intent = new Intent(MainActivity.this, PluginDescriptionActivity.class);
-            startActivity(intent);
-
+            startPluginDescriptionActivity(PluginDescriptionActivity.MODE_HELP);
             return true;
         }
 
@@ -469,7 +255,6 @@ public boolean onOptionsItemSelected(MenuItem item) {
     }
 
     private void connectOsmand() {
-        Log.d("ttpl", "MainActivity: connecting to Osmand...");
         if (osmAndAidlHelper != null) {
             osmAndAidlHelper.reconnectOsmand();
         }
@@ -478,22 +263,86 @@ private void connectOsmand() {
     @Override
     protected void onResume() {
         super.onResume();
+        //todo refactor this problem
+        if (settings.hasAvailableOsmandVersions()) {
+            try {
+                if (!isReturnedFromAnotherActivity) {
+                    Log.d("ttpl2", "no returned");
 
-        if (availableOsmandVersions == null || availableOsmandVersions.size() == 0) {
-//            pluginState = NO_INSTALLED_OSMAND_STATE;
-            startActivity(new Intent(this, OsmandInstallActivity.class));
+                    refreshUI();
+                } else {
+                    Log.d("ttpl2", "returned");
+                    availableOsmandVersions = PluginSettings.OsmandVersion.getOnlyInstalledVersions();
+                    createUI();
+                    refreshUI();
+                }
+            } catch (Exception e) {
+                Log.d("ttpl2", "take an exception");
+            }
         } else {
-            pluginState = PLUGIN_PREFERENCE_STATE;
-            //todo refactor
-            settings.setOsmandVersion(availableOsmandVersions.get(0).getId());
+            startInstallOsmandInstructionActivity();
         }
-
-        refreshUI();
     }
 
     public void refreshUI() {
-        if (pluginState != null) {
-            pluginState.refreshUI();
+        boolean isPluginEnabled = settings.isPluginEnabled();
+
+        if (isPluginEnabled) {
+            setStatusBarColor(R.color.orange);
+
+            osmAndAidlHelper.registerForVoiceRouterMessages();
+            osmAndAidlHelper.addListener(unlockMessageListener);
+            sensorHelper.addListener(unlockMessageListener);
+
+            tvPluginStateDescription.setText(getString(R.string.enabled));
+            tvPluginStateDescription.setTextColor(getResources().getColor(R.color.black));
+            tbPluginToolbar.setBackgroundColor(getResources().getColor(R.color.orange));
+
+            llPluginPreferencesLayout.setLayerType(LAYER_TYPE_HARDWARE, null);
+
+            setEnableForElements(true);
+
+        } else {
+            setStatusBarColor(R.color.darkGrey);
+
+            osmAndAidlHelper.unregisterFromVoiceRouterMessages();
+            osmAndAidlHelper.removeListener(unlockMessageListener);
+            sensorHelper.removeListener(unlockMessageListener);
+            lockHelper.disableFunction();
+
+            tvPluginStateDescription.setText(getString(R.string.disabled));
+            tvPluginStateDescription.setTextColor(getResources().getColor(R.color.darkGrey));
+            tbPluginToolbar.setBackgroundColor(getResources().getColor(R.color.darkGrey));
+
+            llPluginPreferencesLayout.setLayerType(LAYER_TYPE_HARDWARE, pGreyScale);
+
+            setEnableForElements(false);
+        }
+
+        swPluginEnableSwitcher.setChecked(isPluginEnabled);
+
+        boolean isSensorEnabled = settings.isSensorEnabled();
+        swSensorEnableSwitcher.setChecked(isSensorEnabled);
+
+        if (isSensorEnabled) {
+            sensorHelper.switchOnSensor();
+        } else {
+            sensorHelper.switchOffSensor();
+        }
+
+        PluginSettings.UnlockTime currentTime = settings.getTime();
+        String time = String.valueOf(currentTime.getSeconds()) + " "
+                + getString(R.string.secondsShort);
+        tvTime.setText(time);
+
+        PluginSettings.OsmandVersion version = settings.getOsmandVersion();
+        int checkedId = version.getId();
+        FrameLayout checkedVersion = findViewById(checkedId);
+        if (checkedVersion != null) {
+            RadioButton rbVersion = checkedVersion.findViewById(R.id.rbVersion);
+            if (rbVersion != null) {
+                rbVersion.setChecked(true);
+            }
         }
     }
 
@@ -503,8 +352,78 @@ private void setStatusBarColor(int colorResId) {
         }
     }
 
-    @Override
-    protected void onPause() {
-        super.onPause();
+    private View createOsmandVersionsPanel() {
+        View panelOsmandVersions = inflater.inflate(R.layout.main_el_osmand_versions, null, false);
+        LinearLayout llOsmandVersions = panelOsmandVersions.findViewById(R.id.llOsmandVersions);
+
+        osmandVersionRadioGroup = new RadioGroupWrapper();
+
+        for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
+            final int currentVersionId = version.getId();
+
+            final ViewGroup osmandVersionItemView = (ViewGroup) inflater
+                    .inflate(R.layout.item_osmand_version, null, false);
+
+            osmandVersionItemView.setId(currentVersionId);
+
+            ImageView ivVersionImg = osmandVersionItemView.findViewById(R.id.ivVersionImg);
+            ivVersionImg.setImageResource(version.getImgResId());
+
+            TextView tvVersionName = osmandVersionItemView.findViewById(R.id.tvVersionName);
+            tvVersionName.setText(getString(version.getNameId()));
+
+            RadioButton rb = osmandVersionItemView.findViewById(R.id.rbVersion);
+            osmandVersionRadioGroup.addRadioButton(currentVersionId, rb);
+
+            View.OnClickListener onRadioCheckedListener = new View.OnClickListener() {
+                @Override
+                public void onClick(View v) {
+                    settings.setOsmandVersion(currentVersionId);
+                    osmandVersionRadioGroup.setChecked(currentVersionId);
+                    connectOsmand();
+                }
+            };
+
+            osmandVersionItemView.setOnClickListener(onRadioCheckedListener);
+            rb.setOnClickListener(onRadioCheckedListener);
+
+            llOsmandVersions.addView(osmandVersionItemView);
+        }
+
+        return panelOsmandVersions;
+    }
+
+    private void setEnableForElements(boolean enable) {
+        swSensorEnableSwitcher.setEnabled(enable);
+        flPanelSensor.setEnabled(enable);
+        for (PluginSettings.OsmandVersion version : availableOsmandVersions) {
+            int versionId = version.getId();
+            View vOsmandVersionItem = findViewById(versionId);
+            if (vOsmandVersionItem != null) {
+                vOsmandVersionItem.setEnabled(enable);
+                RadioButton rb = vOsmandVersionItem.findViewById(R.id.rbVersion);
+                if (rb != null) {
+                    rb.setEnabled(enable);
+                }
+            }
+        }
+        flPanelTime.setEnabled(enable);
+        tvTime.setEnabled(enable);
+        btnOpenOsmand.setEnabled(enable);
+    }
+
+    private void startInstallOsmandInstructionActivity() {
+        startSimpleActivity(OsmandInstallActivity.class);
+    }
+
+    private void startPluginDescriptionActivity(int mode) {
+        Intent intent = new Intent(this, PluginDescriptionActivity.class);
+        intent.putExtra(PluginDescriptionActivity.MODE_KEY, mode);
+        startActivity(intent);
+    }
+
+    private void startSimpleActivity(Class destinationActivityClass) {
+        Intent intent = new Intent(this, destinationActivityClass);
+        startActivity(intent);
     }
 }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/OsmandInstallActivity.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/OsmandInstallActivity.java
index 489abc0e62a..3ef8495dc96 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/OsmandInstallActivity.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/OsmandInstallActivity.java
@@ -1,26 +1,67 @@
 package net.osmand.turnScreenOn;
 
 import android.content.Intent;
+import android.net.Uri;
 import android.support.v7.app.AppCompatActivity;
 import android.os.Bundle;
 import android.support.v7.widget.Toolbar;
 import android.view.Menu;
 import android.view.MenuItem;
+import android.view.View;
+import android.widget.ImageView;
+
+import net.osmand.turnScreenOn.app.TurnScreenApp;
 
 public class OsmandInstallActivity extends AppCompatActivity {
+    public static final int MODE_FIRST_OPEN = 1;
+    public static final int MODE_LOST_OSMAND = 2;
+    public static final String MODE_KEY = "mode";
+
+    private TurnScreenApp app;
+    private PluginSettings settings;
+    private int currentMode;
+
     private Toolbar toolbar;
+    private ImageView btnDownloadFromPlayMarket;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_osmand_install);
 
+        app = (TurnScreenApp) getApplicationContext();
+        settings = app.getSettings();
+
+        currentMode = getIntent().getIntExtra(MODE_KEY, MODE_LOST_OSMAND);
+
+        btnDownloadFromPlayMarket = findViewById(R.id.btnDownloadFromPlayMarket);
+        btnDownloadFromPlayMarket.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                final String appPackageName = PluginSettings.OsmandVersion.OSMAND.getPath();
+                try {
+                    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=" + appPackageName)));
+                } catch (android.content.ActivityNotFoundException anfe) {
+                    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=" + appPackageName)));
+                }
+            }
+        });
+
         toolbar = findViewById(R.id.tbOsmandInstallToolbar);
         setSupportActionBar(toolbar);
+
         getSupportActionBar().setDisplayHomeAsUpEnabled(true);
         getSupportActionBar().setDisplayShowHomeEnabled(true);
     }
 
+    @Override
+    protected void onResume() {
+        super.onResume();
+        if (settings.hasAvailableOsmandVersions()) {
+            onBackPressed();
+        }
+    }
+
     @Override
     public boolean onCreateOptionsMenu(Menu menu) {
         getMenuInflater().inflate(R.menu.menu_install, menu);
@@ -33,12 +74,15 @@ public boolean onOptionsItemSelected(MenuItem item) {
         int id = item.getItemId();
 
         if (id == R.id.action_skip) {
-
-            Intent intent = new Intent(OsmandInstallActivity.this, PluginDescriptionActivity.class);
-            startActivity(intent);
-
-            return true;
-        } else if (id == android.R.id.home) {
+            if (currentMode == MODE_FIRST_OPEN) {
+                if(!settings.isAdminDevicePermissionAvailable()) {
+                    Intent intent = new Intent(OsmandInstallActivity.this, PermissionsSetUpActivity.class);
+                    startActivity(intent);
+                } else {
+                    onBackPressed();
+                }
+            }
+        } else if (id == android.R.id.home && currentMode == MODE_FIRST_OPEN) {
             onBackPressed();
         }
 
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PermissionsSetUpActivity.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PermissionsSetUpActivity.java
index 22ca55295e3..ebe367d48a9 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PermissionsSetUpActivity.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PermissionsSetUpActivity.java
@@ -43,7 +43,6 @@ protected void onCreate(Bundle savedInstanceState) {
             @Override
             public void onClick(View v) {
                 requestLockScreenAdmin();
-                onBackPressed();
             }
         });
     }
@@ -54,6 +53,7 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
         if (requestCode == DEVICE_ADMIN_REQUEST) {
             if (resultCode == RESULT_OK) {
                 settings.enablePlugin();
+                onBackPressed();
             } else {
                 settings.disablePlugin();
             }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginDescriptionActivity.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginDescriptionActivity.java
index 349396583df..52f6259bd32 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginDescriptionActivity.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginDescriptionActivity.java
@@ -12,14 +12,19 @@
 import net.osmand.turnScreenOn.app.TurnScreenApp;
 
 public class PluginDescriptionActivity extends AppCompatActivity {
+    public static final int MODE_FIRST_OPEN = 1;
+    public static final int MODE_HELP = 2;
+    public static final String MODE_KEY = "mode";
+
     private FrameLayout btnContinue;
     private PluginSettings settings;
+    private int currentMode;
 
     private final static String PERMISSION_WINDOW_OPENED = "permissionWindowOpened";
 
     private TurnScreenApp app;
 
-    private boolean isPermissionWindowOpened;
+    private boolean isContinueButtonPushed;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -27,9 +32,11 @@ protected void onCreate(Bundle savedInstanceState) {
         setContentView(R.layout.activity_plugin_description);
 
         if (savedInstanceState != null) {
-            isPermissionWindowOpened = savedInstanceState.getBoolean(PERMISSION_WINDOW_OPENED, false);
+            isContinueButtonPushed = savedInstanceState.getBoolean(PERMISSION_WINDOW_OPENED, false);
         }
 
+        currentMode = getIntent().getIntExtra(MODE_KEY, MODE_HELP);
+
         app = (TurnScreenApp) getApplicationContext();
 
         settings = app.getSettings();
@@ -40,10 +47,17 @@ protected void onCreate(Bundle savedInstanceState) {
             @Override
             public void onClick(View v) {
 
-                if (!settings.isAdminPermissionAvailable()) {
+                if (!settings.hasAvailableOsmandVersions() && currentMode == MODE_FIRST_OPEN) {
+                    Intent intent = new Intent(PluginDescriptionActivity.this, OsmandInstallActivity.class);
+                    intent.putExtra(OsmandInstallActivity.MODE_KEY, OsmandInstallActivity.MODE_FIRST_OPEN);
+                    startActivity(intent);
+                    isContinueButtonPushed = true;
+                }
+
+                else if (!settings.isAdminDevicePermissionAvailable() && currentMode == MODE_FIRST_OPEN) {
                     Intent intent = new Intent(PluginDescriptionActivity.this, PermissionsSetUpActivity.class);
                     startActivity(intent);
-                    isPermissionWindowOpened = true;
+                    isContinueButtonPushed = true;
                 } else {
                     onBackPressed();
                 }
@@ -59,7 +73,8 @@ protected void onResume() {
             getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.white));
         }
 
-        if (isPermissionWindowOpened) {
+        if (isContinueButtonPushed && settings.isAdminDevicePermissionAvailable()
+                && settings.hasAvailableOsmandVersions() && currentMode == MODE_FIRST_OPEN) {
             onBackPressed();
         }
     }
@@ -67,6 +82,6 @@ protected void onResume() {
     @Override
     public void onSaveInstanceState(Bundle outState, PersistableBundle outPersistentState) {
         super.onSaveInstanceState(outState, outPersistentState);
-        outState.putBoolean(PERMISSION_WINDOW_OPENED, isPermissionWindowOpened);
+        outState.putBoolean(PERMISSION_WINDOW_OPENED, isContinueButtonPushed);
     }
 }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginSettings.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginSettings.java
index 064fdc725b9..90d0df04a81 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginSettings.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/PluginSettings.java
@@ -14,9 +14,8 @@
 
 public class PluginSettings {
     private SharedPreferences preferences;
-    private static final String APP_PREFERENCE = "TurnScreenOnPreferences";
     private static final String PREFERENCE_PLUGIN_ENABLE = "pluginEnable";
-    private static final String PREFERENCE_TIME = "time";
+    private static final String PREFERENCE_TIME_ID = "timeId";
     private static final String PREFERENCE_OSMAND_VERSION = "OsmandVersionInt";
     private static final String PREFERENCE_FIRST_OPEN = "firstOpen";
     private static final String PREFERENCE_SENSOR_ENABLE = "sensorEnable";
@@ -24,14 +23,14 @@ public class PluginSettings {
     private static TurnScreenApp app;
 
     public enum OsmandVersion {
-        OSMAND_PLUS(132356, R.string.OsmandPlus, R.drawable.ic_action_osmand_plus, "net.osmand.plus"),
+        OSMAND_PLUS(132356, R.string.OsmandPlus, R.drawable.ic_action_osmand_plus, "net.osmand.plus "),
         OSMAND(132357, R.string.Osmand, R.drawable.ic_action_osmand, "net.osmand");
 
         int id;
-
         int nameId;
         int imgId;
         String path;
+
         OsmandVersion(int id, int nameId, int imgId, String path) {
             this.id = id;
             this.nameId = nameId;
@@ -66,12 +65,12 @@ public static OsmandVersion getVersionById(int id) {
 
         public static boolean isVersionInstalled(OsmandVersion version) {
             String path = version.getPath();
-            //todo refactor
             PackageManager pm = app.getPackageManager();
             try {
                 pm.getPackageInfo(path, PackageManager.GET_ACTIVITIES);
                 return true;
-            } catch (PackageManager.NameNotFoundException e) {}
+            } catch (PackageManager.NameNotFoundException e) {
+            }
             return false;
         }
 
@@ -85,6 +84,15 @@ public static ArrayList<OsmandVersion> getOnlyInstalledVersions() {
             }
             return installedVersions;
         }
+
+        public static boolean hasInstalledVersions(){
+            for (OsmandVersion v : OsmandVersion.values()) {
+                if (isVersionInstalled(v)){
+                    return true;
+                }
+            }
+            return false;
+        }
     }
 
     public enum Profiles {
@@ -147,7 +155,7 @@ public static UnlockTime getTimeById(int id) {
                     return time;
                 }
             }
-            return null;
+            return SECONDS_05;
         }
     }
 
@@ -165,6 +173,9 @@ public void disablePlugin() {
     }
 
     public boolean isPluginEnabled() {
+        if(!isAdminDevicePermissionAvailable()){
+            disablePlugin();
+        }
         return preferences.getBoolean(PREFERENCE_PLUGIN_ENABLE, false);
     }
 
@@ -180,27 +191,25 @@ public boolean isSensorEnabled() {
         return preferences.getBoolean(PREFERENCE_SENSOR_ENABLE, false);
     }
 
-    public boolean isPermissionAvailable() {
-        ComponentName mDeviceAdmin = new ComponentName(app, DeviceAdminRecv.class);
-        DevicePolicyManager mDevicePolicyManager = (DevicePolicyManager) app.getSystemService(Context.DEVICE_POLICY_SERVICE);
-
-        return mDevicePolicyManager.isAdminActive(mDeviceAdmin);
+    public boolean hasAvailableOsmandVersions() {
+        return OsmandVersion.hasInstalledVersions();
     }
 
-    public void setOpened(){
+    public void setOpened() {
         setBoolean(PREFERENCE_FIRST_OPEN, true);
     }
 
-    public boolean programWasOpenedEarlier(){
+    public boolean isProgramOpenedEarlier() {
         return preferences.contains(PREFERENCE_FIRST_OPEN);
     }
 
-    public int getTimeLikeSeconds() {
-        return preferences.getInt(PREFERENCE_TIME, 0);
+    public UnlockTime getTime() {
+        int timeId = preferences.getInt(PREFERENCE_TIME_ID, 0);
+        return UnlockTime.getTimeById(timeId);
     }
 
-    public void setTimeLikeSeconds(int seconds) {
-        setInteger(PREFERENCE_TIME, seconds);
+    public void setTime(int timeId) {
+        setInteger(PREFERENCE_TIME_ID, timeId);
     }
 
     public void setOsmandVersion(int versionId) {
@@ -209,7 +218,15 @@ public void setOsmandVersion(int versionId) {
 
     public OsmandVersion getOsmandVersion() {
         int versionId = preferences.getInt(PREFERENCE_OSMAND_VERSION, OsmandVersion.OSMAND_PLUS.id);
-        return OsmandVersion.getVersionById(versionId);
+        OsmandVersion savedVersion = OsmandVersion.getVersionById(versionId);
+        if (OsmandVersion.isVersionInstalled(savedVersion)) {
+            return savedVersion;
+        }
+        ArrayList<OsmandVersion> availableVersions = OsmandVersion.getOnlyInstalledVersions();
+        if (availableVersions != null && availableVersions.size() > 0) {
+            return availableVersions.get(0);
+        }
+        return null;
     }
 
     private void setInteger(String tag, int val) {
@@ -230,7 +247,7 @@ private void setString(String tag, String val) {
         editor.apply();
     }
 
-    public boolean isAdminPermissionAvailable() {
+    public boolean isAdminDevicePermissionAvailable() {
         ComponentName mDeviceAdmin = new ComponentName(app, DeviceAdminRecv.class);
         DevicePolicyManager mDevicePolicyManager = (DevicePolicyManager) app.getSystemService(Context.DEVICE_POLICY_SERVICE);
 
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/AndroidUtils.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/AndroidUtils.java
index e68ac4a011d..fef986fb955 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/AndroidUtils.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/AndroidUtils.java
@@ -2,6 +2,9 @@
 
 import android.content.Context;
 import android.content.res.Resources;
+import android.graphics.ColorMatrix;
+import android.graphics.ColorMatrixColorFilter;
+import android.graphics.Paint;
 import android.util.TypedValue;
 
 import static android.util.TypedValue.COMPLEX_UNIT_DIP;
@@ -15,4 +18,12 @@ public static int dpToPx(Context ctx, float dp) {
                 r.getDisplayMetrics()
         );
     }
+
+    public static Paint createPaintWithGreyScale(){
+        Paint pGreyScale = new Paint();
+        ColorMatrix cm = new ColorMatrix();
+        cm.setSaturation(0);
+        pGreyScale.setColorFilter(new ColorMatrixColorFilter(cm));
+        return pGreyScale;
+    }
 }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/LockHelper.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/LockHelper.java
index ba44061d433..2366f708da4 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/LockHelper.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/LockHelper.java
@@ -9,7 +9,6 @@
 import android.os.Handler;
 import android.os.PowerManager;
 import android.support.v4.content.ContextCompat;
-import android.util.Log;
 
 import net.osmand.turnScreenOn.app.TurnScreenApp;
 import net.osmand.turnScreenOn.receiver.DeviceAdminRecv;
@@ -24,7 +23,7 @@ public class LockHelper {
     private KeyguardManager.KeyguardLock keyguardLock;
     private LockRunnable lockRunnable;
 
-    private boolean lockCanceled = false;
+    private boolean functionEnable = false;
 
     private final static String TAG = "LockHelperTag";
 
@@ -55,14 +54,10 @@ public void run() {
 
     public void lock() {
         if (readyToLock()) {
-//            Log.d("ttpl2", "LockHelper: release wakelocks");
             releaseWakeLocks();
             keyguardLock.reenableKeyguard();
-            if (!lockCanceled) {
+            if (functionEnable) {
                 mDevicePolicyManager.lockNow();
-//                Log.d("ttpl2", "LockHelper: device lock");
-            } else {
-                lockCanceled = false;
             }
         }
     }
@@ -74,8 +69,6 @@ public void unlock() {
                     | PowerManager.ACQUIRE_CAUSES_WAKEUP, "tso:wakelocktag");
             wakeLock.acquire();
             keyguardLock.disableKeyguard();
-
-//            Log.d("ttpl2", "LockHelper: device unlock");
         }
     }
 
@@ -99,8 +92,11 @@ private boolean readyToUnlock() {
                 == PackageManager.PERMISSION_GRANTED;
     }
 
-    public void cancelLock() {
-//        Log.d("ttpl2", "LockHelper: lock canceled");
-        lockCanceled = true;
+    public void disableFunction() {
+        functionEnable = false;
+    }
+
+    public void enableFunction() {
+        functionEnable = true;
     }
 }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/OsmAndAidlHelper.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/OsmAndAidlHelper.java
index cd5fb13c3a1..ffe99973728 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/OsmAndAidlHelper.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/OsmAndAidlHelper.java
@@ -23,7 +23,7 @@
 import java.util.List;
 
 public class OsmAndAidlHelper implements MessageSender {
-    private final static String AIDL_SERVICE_PATH = "net.osmand.aidl.OsmandAidlService";
+    private final static String OSMAND_AIDL_SERVICE_PATH = "net.osmand.aidl.OsmandAidlService";
 
     private List<OnMessageListener> messageListeners;
 
@@ -33,8 +33,8 @@ public class OsmAndAidlHelper implements MessageSender {
 
     private long osmandUpdatesCallbackId = -1;
 
-    //todo change
     private boolean attemptedRegister = false;
+    private boolean isRegistered = false;
 
     private IOsmAndAidlInterface mIOsmAndAidlInterface;
     private IOsmAndAidlCallback mIOsmAndAidlCallbackInterface = new IOsmAndAidlCallback.Stub() {
@@ -89,6 +89,7 @@ public void onServiceConnected(ComponentName name, IBinder service) {
         @Override
         public void onServiceDisconnected(ComponentName name) {
             mIOsmAndAidlInterface = null;
+            isRegistered = false;
         }
     };
 
@@ -100,11 +101,14 @@ public OsmAndAidlHelper(TurnScreenApp app) {
 
     public void registerForVoiceRouterMessages() {
         try {
-            if (mIOsmAndAidlInterface != null) {
+            Log.d("ttpl", "try add a listener");
+
+            if (mIOsmAndAidlInterface != null && !isRegistered) {
                 ANavigationVoiceRouterMessageParams params = new ANavigationVoiceRouterMessageParams();
                 params.setSubscribeToUpdates(true);
                 params.setCallbackId(osmandUpdatesCallbackId);
                 osmandUpdatesCallbackId = mIOsmAndAidlInterface.registerForVoiceRouterMessages(params, mIOsmAndAidlCallbackInterface);
+                isRegistered = true;
             } else {
                 attemptedRegister = true;
             }
@@ -115,11 +119,14 @@ public void registerForVoiceRouterMessages() {
 
     public void unregisterFromVoiceRouterMessages() {
         try {
-            if (mIOsmAndAidlInterface != null) {
+            Log.d("ttpl", "try remove a listener");
+
+            if (mIOsmAndAidlInterface != null && isRegistered) {
                 ANavigationVoiceRouterMessageParams params = new ANavigationVoiceRouterMessageParams();
                 params.setSubscribeToUpdates(false);
                 params.setCallbackId(osmandUpdatesCallbackId);
                 mIOsmAndAidlInterface.registerForVoiceRouterMessages(params, mIOsmAndAidlCallbackInterface);
+                isRegistered = false;
             }
         } catch (RemoteException e) {
             e.printStackTrace();
@@ -143,7 +150,7 @@ public void connectOsmand() {
 
     private void bindService(String packageName) {
         if (mIOsmAndAidlInterface == null) {
-            Intent intent = new Intent("net.osmand.aidl.OsmandAidlService");
+            Intent intent = new Intent(OSMAND_AIDL_SERVICE_PATH);
             intent.setPackage(packageName);
             app.bindService(intent, mConnection, Context.BIND_AUTO_CREATE);
         }
@@ -153,7 +160,8 @@ private void cleanupResources() {
         try {
             if (mIOsmAndAidlInterface != null) {
                 mIOsmAndAidlInterface = null;
-//                Log.d("ttpl", "disconnecting from Osmand");
+                unregisterFromVoiceRouterMessages();
+                isRegistered = false;
                 app.unbindService(mConnection);
             }
         } catch (Throwable e) {
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioButtonGroupHelper.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioButtonGroupHelper.java
deleted file mode 100644
index 09d103d5bf5..00000000000
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioButtonGroupHelper.java
+++ /dev/null
@@ -1,6 +0,0 @@
-package net.osmand.turnScreenOn.helpers;
-
-public class RadioButtonGroupHelper {
-    int[] ids;
-    int checked;
-}
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioGroupWrapper.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioGroupWrapper.java
new file mode 100644
index 00000000000..4b161a17391
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/helpers/RadioGroupWrapper.java
@@ -0,0 +1,44 @@
+package net.osmand.turnScreenOn.helpers;
+
+import android.util.SparseArray;
+import android.widget.RadioButton;
+
+public class RadioGroupWrapper {
+    SparseArray<RadioButton> radioButtons;
+
+    public RadioGroupWrapper() {
+        radioButtons = new SparseArray<>();
+    }
+
+    public void addRadioButton(int id, RadioButton rb) {
+        radioButtons.put(id, rb);
+    }
+
+    public void removeRadioButton(int id) {
+        radioButtons.remove(id);
+    }
+
+    public void setChecked(int id) {
+        if (radioButtons != null && radioButtons.size() > 0) {
+            RadioButton rb = radioButtons.get(id);
+            if (rb != null) {
+                rb.setChecked(true);
+                throwOtherRadioButtonsExceptThis(id);
+            } else {
+                int firstElementId = radioButtons.keyAt(0);
+                rb = radioButtons.get(firstElementId);
+                rb.setChecked(true);
+                throwOtherRadioButtonsExceptThis(firstElementId);
+            }
+        }
+    }
+
+    private void throwOtherRadioButtonsExceptThis(int id) {
+        for (int i = 0; i < radioButtons.size(); i++) {
+            int currentId = radioButtons.keyAt(i);
+            if (currentId != id) {
+                radioButtons.get(currentId).setChecked(false);
+            }
+        }
+    }
+}
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/listener/UnlockMessageListener.java b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/listener/UnlockMessageListener.java
index 742767d2717..b3bef0266ec 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/listener/UnlockMessageListener.java
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/java/net/osmand/turnScreenOn/listener/UnlockMessageListener.java
@@ -19,8 +19,9 @@ public UnlockMessageListener(TurnScreenApp app) {
     @Override
     public void onMessageReceive() {
         if (settings != null && lockHelper != null) {
-            if (settings.isAdminPermissionAvailable()) {
-                lockHelper.timedUnlock(settings.getTimeLikeSeconds() * 1000L);
+            if (settings.isAdminDevicePermissionAvailable()) {
+                PluginSettings.UnlockTime time = settings.getTime();
+                lockHelper.timedUnlock(time.getSeconds() * 1000L);
             }
         }
     }
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/__MACOSX/mipmap-xxhdpi/._.DS_Store b/OsmAnd-Plugin-TurnScreenOn/src/main/res/__MACOSX/mipmap-xxhdpi/._.DS_Store
new file mode 100644
index 00000000000..a5b28df1cbc
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/__MACOSX/mipmap-xxhdpi/._.DS_Store differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_bottom.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_bottom.9.png
new file mode 100644
index 00000000000..2e28a498ec3
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_bottom.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_top.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_top.9.png
new file mode 100644
index 00000000000..1259222293e
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/bg_shadow_list_top.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_normal.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_normal.9.png
new file mode 100644
index 00000000000..75074e83771
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_normal.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_tap.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_tap.9.png
new file mode 100644
index 00000000000..e9aeec29ba9
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-hdpi/img_fab_tap.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_bottom.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_bottom.9.png
new file mode 100644
index 00000000000..7c1de76893f
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_bottom.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_top.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_top.9.png
new file mode 100644
index 00000000000..5ec78565ac9
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/bg_shadow_list_top.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_normal.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_normal.9.png
new file mode 100644
index 00000000000..c99ef77b162
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_normal.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_tap.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_tap.9.png
new file mode 100644
index 00000000000..0d9d50cdf32
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-mdpi/img_fab_tap.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_bottom.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_bottom.9.png
new file mode 100644
index 00000000000..b1604ca1eb2
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_bottom.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_top.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_top.9.png
new file mode 100644
index 00000000000..6dafd7879df
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/bg_shadow_list_top.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_normal.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_normal.9.png
new file mode 100644
index 00000000000..c983080d758
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_normal.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_tap.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_tap.9.png
new file mode 100644
index 00000000000..b56b0d5c7e9
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xhdpi/img_fab_tap.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_bottom.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_bottom.9.png
new file mode 100644
index 00000000000..d40d55481e3
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_bottom.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_top.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_top.9.png
new file mode 100644
index 00000000000..54b61275a4e
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/bg_shadow_list_top.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_normal.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_normal.9.png
new file mode 100644
index 00000000000..989090c8bfe
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_normal.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_tap.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_tap.9.png
new file mode 100644
index 00000000000..bab634b3b34
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxhdpi/img_fab_tap.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_bottom.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_bottom.9.png
new file mode 100644
index 00000000000..6151d9febbe
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_bottom.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_top.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_top.9.png
new file mode 100644
index 00000000000..a120c07162f
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/bg_shadow_list_top.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_normal.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_normal.9.png
new file mode 100644
index 00000000000..0146720d650
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_normal.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_tap.9.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_tap.9.png
new file mode 100644
index 00000000000..e5540f98b68
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable-xxxhdpi/img_fab_tap.9.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/blue_button.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/blue_button.xml
index 972bb2cc7a9..7f21dd2d615 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/blue_button.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/blue_button.xml
@@ -1,27 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:state_pressed="false">
-        <shape>
-            <corners android:radius="70dip" />
-            <solid
-                android:color="@color/blue" />
-        </shape>
-    </item> <!-- pressed -->
-    <item android:state_pressed="true" >
-        <shape>
-            <corners android:radius="70dip" />
-            <solid
-                android:color="@color/darkerBlue" />
-        </shape>
-    </item>
-    <!--<item android:bottom="2dp" android:left="2dp">
-        <shape>
-            <gradient android:angle="270"
-                android:endColor="#E2E2E2" android:startColor="#BABABA" />
-            <stroke android:width="1dp" android:color="#BABABA" />
-            <corners android:radius="4dp" />
-            <padding android:bottom="10dp" android:left="10dp"
-                android:right="10dp" android:top="10dp" />
-        </shape>
-    </item>-->
+    <item android:drawable="@drawable/img_fab_tap" android:state_pressed="true"/>
+    <item android:drawable="@drawable/img_fab_normal"/>
 </selector>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/violet_button.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/violet_button.xml
new file mode 100644
index 00000000000..e3cc90032cb
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/drawable/violet_button.xml
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:state_pressed="false">
+        <shape>
+            <corners android:radius="3dip" />
+            <solid
+                android:color="@color/lighterViolet" />
+        </shape>
+    </item> <!-- pressed -->
+    <item android:state_pressed="true" >
+        <shape>
+            <corners android:radius="3dip" />
+            <solid
+                android:color="@color/violet" />
+        </shape>
+    </item>
+</selector>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_admin_device_permission_set_up.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_admin_device_permission_set_up.xml
index 86c1b77577f..a0f8e5208c5 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_admin_device_permission_set_up.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_admin_device_permission_set_up.xml
@@ -31,22 +31,6 @@
 
     </LinearLayout>
 
-    <FrameLayout
-        android:id="@+id/btnContinue"
-        android:layout_width="92dp"
-        android:layout_height="36dp"
-        android:layout_gravity="center_horizontal|bottom"
-        android:layout_marginBottom="24dp"
-        android:background="@color/violet">
-
-        <TextView
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_gravity="center"
-            android:text="@string/continueDesc"
-            android:textColor="@color/white"
-            android:textSize="14sp" />
-
-    </FrameLayout>
+    <include layout="@layout/btn_continue"/>
 
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_main.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_main.xml
index ffc2e688298..301367d617b 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_main.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_main.xml
@@ -18,8 +18,38 @@
         app:title="@string/app_name"
         app:titleTextColor="@color/white" />
 
-        <FrameLayout
-            android:id="@+id/flRootLayout"
+    <FrameLayout
+        android:id="@+id/flRootLayout"
+        android:layout_width="match_parent"
+        android:layout_height="0dp"
+        android:layout_weight="1">
+
+        <ScrollView
             android:layout_width="match_parent"
-            android:layout_height="match_parent" />
+            android:layout_height="match_parent">
+
+            <LinearLayout
+                android:id="@+id/llElementsScreen"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:paddingBottom="82dp"
+                android:orientation="vertical">
+
+                <include layout="@layout/main_el_plugin_switcher" />
+
+                <include layout="@layout/card_devider" />
+
+                <include layout="@layout/main_el_time_set_up" />
+
+                <include layout="@layout/card_devider" />
+
+                <include layout="@layout/main_el_sensor" />
+
+            </LinearLayout>
+
+        </ScrollView>
+
+        <include layout="@layout/btn_open_osmand" />
+    </FrameLayout>
+
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_osmand_install.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_osmand_install.xml
index b61c6fbf8bb..5e4c3e74b01 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_osmand_install.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_osmand_install.xml
@@ -6,21 +6,77 @@
     android:layout_height="match_parent"
     tools:context="net.osmand.turnScreenOn.OsmandInstallActivity">
 
-    <ImageView
+    <LinearLayout
+        android:orientation="vertical"
         android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:scaleType="centerCrop"
-        android:src="@drawable/img_install_osmand" />
+        android:layout_height="match_parent">
+
+        <ImageView
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            android:layout_weight="1"
+            android:scaleType="centerCrop"
+            android:src="@drawable/img_install_osmand" />
+
+        <FrameLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:background="@color/white">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="vertical">
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="horizontal"
+                    android:paddingTop="16dp"
+                    android:paddingBottom="16dp">
+
+                    <ImageView
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center"
+                        android:paddingLeft="16dp"
+                        android:paddingRight="16dp"
+                        android:src="@drawable/ic_osmand_logo" />
+
+                    <TextView
+                        android:layout_width="0dp"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical|start"
+                        android:layout_weight="1"
+                        android:text="@string/osmand_logo"
+                        android:textColor="#212121"
+                        android:textSize="16sp" />
+                </LinearLayout>
+
+                <ImageView
+                    android:id="@+id/btnDownloadFromPlayMarket"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="center"
+                    android:paddingBottom="16dp"
+                    android:src="@drawable/img_google_play" />
+            </LinearLayout>
+        </FrameLayout>
+
+    </LinearLayout>
+
 
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="match_parent"
+        android:layout_gravity="top"
         android:orientation="vertical">
 
         <android.support.v7.widget.Toolbar
             android:id="@+id/tbOsmandInstallToolbar"
             android:layout_width="match_parent"
             android:layout_height="?attr/actionBarSize"
+            android:layout_gravity="top"
             android:background="@android:color/transparent"
             app:popupTheme="@style/ThemeOverlay.AppCompat.Light"
             app:title="@string/osmandInstallActivityHeader"
@@ -36,48 +92,4 @@
             android:textSize="16sp" />
     </LinearLayout>
 
-    <android.support.v7.widget.CardView
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:layout_gravity="bottom">
-
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="vertical">
-
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:orientation="horizontal"
-                android:paddingTop="16dp"
-                android:paddingBottom="16dp">
-
-                <ImageView
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:src="@drawable/ic_osmand_logo"
-                    android:paddingLeft="16dp"
-                    android:paddingRight="16dp"
-                    android:layout_gravity="center"/>
-
-                <TextView
-                    android:layout_width="0dp"
-                    android:layout_height="wrap_content"
-                    android:layout_weight="1"
-                    android:textSize="16sp"
-                    android:textColor="#212121"
-                    android:text="@string/osmand_logo"
-                    android:layout_gravity="center_vertical|start"/>
-            </LinearLayout>
-
-            <ImageView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_gravity="center"
-                android:src="@drawable/img_google_play"
-                android:paddingBottom="16dp"/>
-        </LinearLayout>
-    </android.support.v7.widget.CardView>
-
 </FrameLayout>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_plugin_description.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_plugin_description.xml
index d1c8cb438f5..b231267e976 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_plugin_description.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/activity_plugin_description.xml
@@ -1,6 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
@@ -52,23 +51,11 @@
                 android:text="@string/pluginDescription"
                 android:textColor="@color/black"
                 android:textSize="16sp" />
+
         </LinearLayout>
+
     </LinearLayout>
 
-    <FrameLayout
-        android:id="@+id/btnContinue"
-        android:layout_width="92dp"
-        android:layout_height="36dp"
-        android:layout_gravity="center_horizontal|bottom"
-        android:layout_marginBottom="24dp"
-        android:background="@color/violet">
+    <include layout="@layout/btn_continue"/>
 
-        <TextView
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_gravity="center"
-            android:text="@string/continueDesc"
-            android:textColor="@color/white"
-            android:textSize="14sp" />
-    </FrameLayout>
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_continue.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_continue.xml
new file mode 100644
index 00000000000..22c3cc35023
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_continue.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="wrap_content"
+    android:layout_height="wrap_content"
+    android:layout_gravity="bottom|center">
+
+    <FrameLayout
+        android:id="@+id/btnContinue"
+        android:layout_width="92dp"
+        android:layout_height="36dp"
+        android:layout_gravity="center_horizontal|bottom"
+        android:layout_marginBottom="24dp"
+        android:background="@drawable/violet_button">
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:text="@string/continueDesc"
+            android:textColor="@color/white"
+            android:textSize="14sp" />
+
+    </FrameLayout>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_btn_open_osmand.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_open_osmand.xml
similarity index 90%
rename from OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_btn_open_osmand.xml
rename to OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_open_osmand.xml
index d9c2552cf37..40559cb2a57 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_btn_open_osmand.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/btn_open_osmand.xml
@@ -1,14 +1,13 @@
 <?xml version="1.0" encoding="utf-8"?>
 <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="wrap_content"
-    android:layout_height="wrap_content">
+    android:layout_height="wrap_content"
+    android:layout_gravity="bottom|center">
 
     <FrameLayout
         android:id="@+id/btnOpenOsmand"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_gravity="bottom|center"
-        android:layout_marginBottom="16dp"
         android:background="@drawable/blue_button">
 
         <LinearLayout
@@ -32,6 +31,9 @@
                 android:text="@string/openOsmand"
                 android:textColor="@color/white"
                 android:textSize="14sp" />
+
         </LinearLayout>
+
     </FrameLayout>
+
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_bottom_divider.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_bottom_divider.xml
new file mode 100644
index 00000000000..6bffbcc9158
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_bottom_divider.xml
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+              android:id="@+id/bottomShadowView"
+              android:orientation="vertical"
+              android:layout_width="match_parent"
+              android:layout_height="wrap_content">
+
+    <ImageView
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:scaleType="fitXY"
+        android:src="@drawable/bg_shadow_list_bottom"/>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_devider.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_devider.xml
new file mode 100644
index 00000000000..1af29f3b816
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_devider.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="vertical">
+
+    <include layout="@layout/card_bottom_divider"/>
+
+    <View
+        android:layout_width="match_parent"
+        android:layout_height="4dp"/>
+
+    <include layout="@layout/card_top_divider"/>
+
+</LinearLayout>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_top_divider.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_top_divider.xml
new file mode 100644
index 00000000000..36f21d5f338
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/card_top_divider.xml
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+              android:id="@+id/topShadowView"
+              android:orientation="vertical"
+              android:layout_width="match_parent"
+              android:layout_height="wrap_content">
+
+    <ImageView
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:scaleType="fitXY"
+        android:src="@drawable/bg_shadow_list_top"/>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/dialog_layout.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/dialog_layout.xml
index f3a6636eff0..7708ee90325 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/dialog_layout.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/dialog_layout.xml
@@ -11,7 +11,6 @@
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginLeft="@dimen/horizontal_padding"
-            android:layout_marginRight="@dimen/horizontal_padding"
             android:orientation="vertical">
 
             <TextView
@@ -20,6 +19,7 @@
                 android:layout_height="@dimen/basic_element_height"
                 android:gravity="center_vertical"
                 android:textColor="@color/black"
+                android:layout_marginRight="@dimen/horizontal_padding"
                 android:textSize="16sp"
                 android:textStyle="bold" />
 
@@ -34,8 +34,8 @@
                 android:layout_height="@dimen/basic_element_height"
                 android:layout_gravity="end|bottom"
                 android:gravity="center_vertical"
-                android:paddingBottom="18dp"
                 android:text="@string/cancel"
+                android:layout_marginRight="@dimen/horizontal_padding"
                 android:textColor="@color/blue"
                 android:textSize="16sp" />
         </LinearLayout>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_osmand_version.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_osmand_version.xml
index 78589d1a80b..4c99a4f52ed 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_osmand_version.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_osmand_version.xml
@@ -14,22 +14,44 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_gravity="center"
-            android:src="@drawable/ic_action_osmand" />
+            android:src="@drawable/ic_action_osmand"
+            android:paddingLeft="@dimen/horizontal_padding" />
 
-        <TextView xmlns:tools="http://schemas.android.com/tools"
-            android:id="@+id/tvVersionName"
-            style="@style/turnScreenOnHeaderTextStyle"
+        <LinearLayout
             android:layout_width="0dp"
-            android:layout_height="@dimen/basic_element_height"
             android:layout_weight="1"
-            android:gravity="center_vertical"
-            tools:text="OsmAnd" />
-
-        <RadioButton
-            android:id="@+id/rbVersion"
-            style="@style/RadioButtonStyle"
-            android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:layout_gravity="center_vertical" />
+            android:orientation="vertical">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="horizontal"
+                android:paddingRight="@dimen/horizontal_padding">
+
+                <TextView xmlns:tools="http://schemas.android.com/tools"
+                    android:id="@+id/tvVersionName"
+                    style="@style/turnScreenOnHeaderTextStyle"
+                    android:paddingLeft="24dp"
+                    android:layout_width="0dp"
+                    android:layout_height="@dimen/basic_element_height"
+                    android:layout_weight="1"
+                    android:gravity="center_vertical"
+                    tools:text="OsmAnd" />
+
+                <RadioButton
+                    android:id="@+id/rbVersion"
+                    style="@style/RadioButtonStyle"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="center_vertical" />
+            </LinearLayout>
+
+            <View style="@style/turnScreenOnListDividerStyle"
+                android:layout_marginLeft="24dp"/>
+
+        </LinearLayout>
+
     </LinearLayout>
+
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_time.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_time.xml
index d94eb148c66..5b37bf7e8ef 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_time.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/item_time.xml
@@ -5,7 +5,8 @@
 
     <LinearLayout
         android:layout_width="match_parent"
-        android:layout_height="@dimen/basic_element_height">
+        android:layout_height="@dimen/basic_element_height"
+        android:layout_marginRight="@dimen/horizontal_padding">
         <TextView
             android:id="@+id/tvTime"
             android:layout_width="0dp"
@@ -24,4 +25,6 @@
             style="@style/RadioButtonStyle"/>
     </LinearLayout>
 
+    <View style="@style/turnScreenOnListDividerStyle" />
+
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_app_profile.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_app_profile.xml
deleted file mode 100644
index d8fb3247f0f..00000000000
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_app_profile.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<android.support.constraint.ConstraintLayout
-    xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent"
-    android:layout_height="match_parent">
-
-</android.support.constraint.ConstraintLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_osmand_versions.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_osmand_versions.xml
index 9460f995dee..912f85d9be3 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_osmand_versions.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_osmand_versions.xml
@@ -1,32 +1,39 @@
 <?xml version="1.0" encoding="utf-8"?>
-<android.support.v7.widget.CardView
-    xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent"
-    android:layout_height="match_parent">
-
-    <FrameLayout
-        android:id="@+id/flRootLayout"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:paddingLeft="@dimen/horizontal_padding"
-        android:paddingRight="@dimen/horizontal_padding">
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:background="@color/white"
-            android:orientation="vertical">
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/white">
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="46dp"
-                android:text="@string/OsmandVersion"
-                android:gravity="center_vertical"
-                style="@style/turnScreenOnHeaderTextStyle"/>
+        <FrameLayout
+            android:id="@+id/flRootLayout"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content">
 
             <LinearLayout
-                android:id="@+id/llOsmandVersions"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:orientation="vertical" />
-        </LinearLayout>
-    </FrameLayout>
-</android.support.v7.widget.CardView>
\ No newline at end of file
+                android:background="@color/white"
+                android:orientation="vertical">
+
+                <TextView
+                    style="@style/turnScreenOnHeaderTextStyle"
+                    android:layout_width="wrap_content"
+                    android:layout_height="46dp"
+                    android:gravity="center_vertical"
+                    android:paddingLeft="@dimen/horizontal_padding"
+                    android:paddingRight="@dimen/horizontal_padding"
+                    android:text="@string/OsmandVersion" />
+
+                <View style="@style/turnScreenOnListDividerStyle" />
+
+                <LinearLayout
+                    android:id="@+id/llOsmandVersions"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical" />
+
+            </LinearLayout>
+
+        </FrameLayout>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_plugin_switcher.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_plugin_switcher.xml
index de8f0630168..2b90c8c6531 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_plugin_switcher.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_plugin_switcher.xml
@@ -1,32 +1,32 @@
 <?xml version="1.0" encoding="utf-8"?>
-<android.support.v7.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="wrap_content"
+    android:background="@color/white">
 
-    <FrameLayout
-        android:id="@+id/flPluginEnabled"
-        android:layout_width="match_parent"
-        android:layout_height="@dimen/basic_element_height"
-        android:background="@color/white"
-        android:paddingLeft="@dimen/horizontal_padding"
-        android:paddingRight="@dimen/horizontal_padding">
+        <FrameLayout
+            android:id="@+id/flPluginEnabled"
+            android:layout_width="match_parent"
+            android:layout_height="@dimen/basic_element_height"
+            android:paddingLeft="@dimen/horizontal_padding"
+            android:paddingRight="@dimen/horizontal_padding">
 
-        <TextView
-            android:id="@+id/tvPluginStateDescription"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_gravity="center_vertical|start"
-            android:text="@string/disabled"
-            android:textColor="#727272"
-            android:textSize="16sp" />
+            <TextView
+                android:id="@+id/tvPluginStateDescription"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center_vertical|start"
+                android:text="@string/disabled"
+                android:textColor="#727272"
+                android:textSize="16sp" />
 
-        <android.support.v7.widget.SwitchCompat
-            android:id="@+id/swPluginEnableSwitcher"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_gravity="center_vertical|end"
-            android:background="@android:color/transparent"
-            android:theme="@style/SwitchStyle" />
-    </FrameLayout>
+            <android.support.v7.widget.SwitchCompat
+                android:id="@+id/swPluginEnableSwitcher"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center_vertical|end"
+                android:background="@android:color/transparent"
+                android:theme="@style/SwitchStyle" />
+        </FrameLayout>
 
-</android.support.v7.widget.CardView>
\ No newline at end of file
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_sensor.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_sensor.xml
index 10116cc1883..bb7407def72 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_sensor.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_sensor.xml
@@ -1,56 +1,61 @@
 <?xml version="1.0" encoding="utf-8"?>
-<android.support.v7.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="match_parent"
+    android:background="@color/white">
 
-
-    <LinearLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:orientation="vertical"
-        android:paddingLeft="@dimen/horizontal_padding"
-        android:paddingRight="@dimen/horizontal_padding">
-
-        <FrameLayout
-            android:id="@+id/flPanelSensor"
+        <LinearLayout
             android:layout_width="match_parent"
-            android:layout_height="wrap_content">
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
 
-            <LinearLayout
+            <FrameLayout
+                android:id="@+id/flPanelSensor"
                 android:layout_width="match_parent"
-                android:layout_height="@dimen/basic_element_height"
-                android:background="@color/white">
-
-                <ImageView
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_gravity="center_vertical"
-                    android:src="@drawable/ic_action_sensor_interaction"
-                    android:tint="@color/darkGrey" />
-
-                <TextView
-                    style="@style/turnScreenOnHeaderTextStyle"
-                    android:layout_width="0dp"
-                    android:layout_height="wrap_content"
-                    android:layout_gravity="center_vertical"
-                    android:layout_weight="1"
-                    android:text="@string/sensorHeader" />
-
-                <android.support.v7.widget.SwitchCompat
-                    android:id="@+id/swSensorEnableSwitcher"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_gravity="center_vertical|end"
-                    android:background="@android:color/transparent"
-                    android:theme="@style/SwitchStyle" />
-            </LinearLayout>
-        </FrameLayout>
-
-
-        <TextView
-            style="@style/turnScreenOnDescriptionTextStyle"
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:text="@string/sensorDescription" />
-    </LinearLayout>
-</android.support.v7.widget.CardView>
\ No newline at end of file
+                android:layout_height="wrap_content"
+                android:paddingLeft="@dimen/horizontal_padding"
+                android:paddingRight="@dimen/horizontal_padding">
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="@dimen/basic_element_height">
+
+                    <ImageView
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical"
+                        android:src="@drawable/ic_action_sensor_interaction"
+                        android:tint="@color/darkGrey" />
+
+                    <TextView
+                        style="@style/turnScreenOnHeaderTextStyle"
+                        android:layout_width="0dp"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical"
+                        android:layout_weight="1"
+                        android:text="@string/sensorHeader" />
+
+                    <android.support.v7.widget.SwitchCompat
+                        android:id="@+id/swSensorEnableSwitcher"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_gravity="center_vertical|end"
+                        android:background="@android:color/transparent"
+                        android:theme="@style/SwitchStyle" />
+
+                </LinearLayout>
+
+            </FrameLayout>
+
+            <View style="@style/turnScreenOnListDividerStyle" />
+
+            <TextView
+                style="@style/turnScreenOnDescriptionTextStyle"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:paddingLeft="@dimen/horizontal_padding"
+                android:paddingRight="@dimen/horizontal_padding"
+                android:text="@string/sensorDescription" />
+        </LinearLayout>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_time_set_up.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_time_set_up.xml
index 1cab4af87cb..472f2fa3549 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_time_set_up.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/layout/main_el_time_set_up.xml
@@ -1,62 +1,69 @@
 <?xml version="1.0" encoding="utf-8"?>
-<android.support.v7.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="match_parent"
+    android:background="@color/white">
 
-    <FrameLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:background="@color/white"
-        android:paddingLeft="@dimen/horizontal_padding"
-        android:paddingRight="@dimen/horizontal_padding">
-
-        <LinearLayout
+        <FrameLayout
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
-            android:orientation="vertical">
+            android:background="@color/white">
 
-            <FrameLayout
-                android:id="@+id/flPanelTime"
+            <LinearLayout
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content">
+                android:layout_height="wrap_content"
+                android:orientation="vertical">
 
-                <LinearLayout
+                <FrameLayout
+                    android:id="@+id/flPanelTime"
                     android:layout_width="match_parent"
-                    android:layout_height="@dimen/basic_element_height"
-                    android:orientation="horizontal">
-
-                    <ImageView
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
-                        android:layout_gravity="center_vertical"
-                        android:src="@drawable/ic_action_time_span"
-                        android:tint="@color/darkGrey" />
-
-                    <TextView
-                        android:id="@+id/tvPluginTimeWorkDescription"
-                        style="@style/turnScreenOnHeaderTextStyle"
-                        android:layout_width="0dp"
-                        android:layout_height="wrap_content"
-                        android:layout_gravity="center_vertical"
-                        android:layout_weight="1"
-                        android:text="@string/timeWorkingHeader" />
-
-                    <TextView
-                        android:id="@+id/tvTime"
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
-                        android:layout_gravity="center_vertical"
-                        android:textColor="@color/blue"
-                        android:textSize="16sp" />
-
-                </LinearLayout>
-            </FrameLayout>
-
-            <TextView
-                style="@style/turnScreenOnDescriptionTextStyle"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:text="@string/timeWorkingDescription" />
-        </LinearLayout>
-    </FrameLayout>
-</android.support.v7.widget.CardView>
\ No newline at end of file
+                    android:layout_height="wrap_content"
+                    android:paddingLeft="@dimen/horizontal_padding"
+                    android:paddingRight="@dimen/horizontal_padding">
+
+                    <LinearLayout
+                        android:layout_width="match_parent"
+                        android:layout_height="@dimen/basic_element_height"
+                        android:orientation="horizontal">
+
+                        <ImageView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:layout_gravity="center_vertical"
+                            android:src="@drawable/ic_action_time_span"
+                            android:tint="@color/darkGrey" />
+
+                        <TextView
+                            android:id="@+id/tvPluginTimeWorkDescription"
+                            style="@style/turnScreenOnHeaderTextStyle"
+                            android:layout_width="0dp"
+                            android:layout_height="wrap_content"
+                            android:layout_gravity="center_vertical"
+                            android:layout_weight="1"
+                            android:text="@string/timeWorkingHeader" />
+
+                        <TextView
+                            android:id="@+id/tvTime"
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:layout_gravity="center_vertical"
+                            android:textColor="@color/blue"
+                            android:textSize="16sp" />
+
+                    </LinearLayout>
+                </FrameLayout>
+
+                <View style="@style/turnScreenOnListDividerStyle" />
+
+                <TextView
+                    style="@style/turnScreenOnDescriptionTextStyle"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:paddingLeft="@dimen/horizontal_padding"
+                    android:paddingRight="@dimen/horizontal_padding"
+                    android:text="@string/timeWorkingDescription" />
+            </LinearLayout>
+
+        </FrameLayout>
+
+</FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
deleted file mode 100644
index eca70cfe52e..00000000000
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_background" />
-    <foreground android:drawable="@drawable/ic_launcher_foreground" />
-</adaptive-icon>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
deleted file mode 100644
index eca70cfe52e..00000000000
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_background" />
-    <foreground android:drawable="@drawable/ic_launcher_foreground" />
-</adaptive-icon>
\ No newline at end of file
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/icon_turn_screen_on.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/icon_turn_screen_on.xml
new file mode 100644
index 00000000000..87f9f9eef74
--- /dev/null
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-anydpi-v26/icon_turn_screen_on.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
+    <background android:drawable="@mipmap/icon_turn_screen_on_background" />
+    <foreground android:drawable="@mipmap/icon_turn_screen_on_bearing" />
+</adaptive-icon>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher.png
deleted file mode 100644
index 898f3ed59ac..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher_round.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher_round.png
deleted file mode 100644
index dffca3601eb..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/ic_launcher_round.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on.png
new file mode 100644
index 00000000000..05e906cb3e6
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_background.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_background.png
new file mode 100644
index 00000000000..4fb42c71687
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_background.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_bearing.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_bearing.png
new file mode 100644
index 00000000000..40482a0f2f3
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-hdpi/icon_turn_screen_on_bearing.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher.png
deleted file mode 100644
index 64ba76f75e9..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher_round.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher_round.png
deleted file mode 100644
index dae5e082342..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/ic_launcher_round.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on.png
new file mode 100644
index 00000000000..a2099d180e7
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_background.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_background.png
new file mode 100644
index 00000000000..d9ecfe548e9
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_background.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_bearing.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_bearing.png
new file mode 100644
index 00000000000..057af4edf15
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-mdpi/icon_turn_screen_on_bearing.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher.png
deleted file mode 100644
index e5ed46597ea..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher_round.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher_round.png
deleted file mode 100644
index 14ed0af3502..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/ic_launcher_round.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on.png
new file mode 100644
index 00000000000..e748d08bb56
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_background.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_background.png
new file mode 100644
index 00000000000..a264873129c
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_background.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_bearing.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_bearing.png
new file mode 100644
index 00000000000..f3da2313c56
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xhdpi/icon_turn_screen_on_bearing.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher.png
deleted file mode 100644
index b0907cac3bf..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher_round.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher_round.png
deleted file mode 100644
index d8ae0315497..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/ic_launcher_round.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on.png
new file mode 100644
index 00000000000..0a516cd68ff
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_background.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_background.png
new file mode 100644
index 00000000000..738fb712823
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_background.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_bearing.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_bearing.png
new file mode 100644
index 00000000000..df0c692937a
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxhdpi/icon_turn_screen_on_bearing.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher.png
deleted file mode 100644
index 2c18de9e661..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png
deleted file mode 100644
index beed3cdd2c3..00000000000
Binary files a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png and /dev/null differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on.png
new file mode 100644
index 00000000000..2ce156de657
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_background.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_background.png
new file mode 100644
index 00000000000..aaee3fd216f
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_background.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_bearing.png b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_bearing.png
new file mode 100644
index 00000000000..dbbcee6b2eb
Binary files /dev/null and b/OsmAnd-Plugin-TurnScreenOn/src/main/res/mipmap-xxxhdpi/icon_turn_screen_on_bearing.png differ
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/colors.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/colors.xml
index eef8b2165d1..c8bc837a985 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/colors.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/colors.xml
@@ -9,7 +9,8 @@
     <color name="darkGrey">#727272</color>
     <color name="activityBackground">#F0F0F0</color>
     <color name="orange">#FF8800</color>
-    <color name="violet">#4F29C1</color>
+    <color name="violet">#5714CC</color>
+    <color name="darkerViolet">#5210C0</color>
     <color name="lighterViolet">#6617D3</color>
     <color name="black">#000000</color>
     <color name="pluginDescHeader">#6617D3</color>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/strings.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/strings.xml
index 8f86e75a3a4..c9850525afa 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/strings.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/strings.xml
@@ -12,7 +12,7 @@
     <string name="continueDesc">continue</string>
     <string name="sensorHeader">   </string>
     <string name="help">Help</string>
-    <string name="install_instruction">You need to install OsmAnd or OsmAnd+, to use this plugin.</string>
+    <string name="install_instruction">You need to install <b>OsmAnd</b> or <b>OsmAnd+</b>, to use this plugin.</string>
     <string name="timeWorkingDescription">Set the time for which the screen will turn on, to display the map and navigation instructions.</string>
     <string name="sensorDescription">     ,      .</string>
     <string name="carTitle">Car</string>
@@ -27,6 +27,6 @@
     <string name="osmandInstallActivityHeader">OsmAnd is needed</string>
     <string name="skip">Skip</string>
     <string name="osmand_logo"><![CDATA[OsmAnd  Offline Travel Maps & Navigation]]></string>
-    <string name="permissionDescription">  ,  : Device Admin.\n\nDevice admin,   ,    .\n\n ,     .</string>
+    <string name="permissionDescription">  ,  : <b>Device Admin</b>.\n\nDevice admin,   , <b></b>  <b></b> .\n\n ,     .</string>
     <string name="permission">Permission</string>
 </resources>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/styles.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/styles.xml
index 55c7cb4a14c..eeabe7f3e4a 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/styles.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/values/styles.xml
@@ -38,4 +38,11 @@
         <item name="android:layout_marginBottom">8dp</item>
     </style>
 
+    <style name="turnScreenOnListDividerStyle">
+        <item name="android:layout_height">1dp</item>
+        <item name="android:layout_width">match_parent</item>
+        <item name="android:background">#F0F0F0</item>
+        <item name="android:layout_gravity">bottom</item>
+    </style>
+
 </resources>
diff --git a/OsmAnd-Plugin-TurnScreenOn/src/main/res/xml/device_admin.xml b/OsmAnd-Plugin-TurnScreenOn/src/main/res/xml/device_admin.xml
index b676b50d4f2..4d8553ff2e6 100644
--- a/OsmAnd-Plugin-TurnScreenOn/src/main/res/xml/device_admin.xml
+++ b/OsmAnd-Plugin-TurnScreenOn/src/main/res/xml/device_admin.xml
@@ -1,14 +1,14 @@
 <?xml version="1.0" encoding="utf-8"?>
 <device-admin xmlns:android="http://schemas.android.com/apk/res/android">
     <uses-policies>
-        <limit-password />
+       <!-- <limit-password />
         <watch-login />
-        <reset-password />
+        <reset-password />-->
         <force-lock />
-        <wipe-data />
+        <!--<wipe-data />
         <expire-password />
         <encrypted-storage />
         <disable-camera />
-        <disable-keyguard-features />
+        <disable-keyguard-features />-->
     </uses-policies>
 </device-admin>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/routing/VoiceRouter.java b/OsmAnd/src/net/osmand/plus/routing/VoiceRouter.java
index 750f002f0f7..a99113b5e00 100644
--- a/OsmAnd/src/net/osmand/plus/routing/VoiceRouter.java
+++ b/OsmAnd/src/net/osmand/plus/routing/VoiceRouter.java
@@ -939,15 +939,20 @@ private void makeSound() {
 	}
 
 	public void addVoiceMessageListener(VoiceMessageListener voiceMessageListener) {
-        voiceMessageListeners.put(voiceMessageListener, 0);
+		Log.d("ttpl", "add a new listener");
+		voiceMessageListeners.put(voiceMessageListener, 0);
 	}
 	
 	public void removeVoiceMessageListener(VoiceMessageListener voiceMessageListener) {
+		Log.d("ttpl", "remove listener");
 		voiceMessageListeners.remove(voiceMessageListener);
 	}
 
 	public void notifyOnVoiceMessage() {
+		Log.d("ttpl", "notify listeners: ");
+		int i = 0;
 		for (VoiceMessageListener lnt : voiceMessageListeners.keySet()) {
+			Log.d("ttpl", "listner " + ++i);
 			lnt.onVoiceMessage();
 		}
 	}
