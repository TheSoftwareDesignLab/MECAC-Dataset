diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
index ca2b9d3d12e..e1a6620ef29 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
@@ -124,7 +124,7 @@ private void setupContent() {
 			descriptionText.setText(description);
 		}
 
-		List<WidgetType> widgets = widgetsDataHolder.getWidgetsList();
+		List<WidgetType> widgets = widgetsDataHolder.getWidgetsList(appMode);
 		AidlMapWidgetWrapper aidlWidgetData = widgetsDataHolder.getAidlWidgetData();
 		if (widgets != null) {
 			Collator collator = OsmAndCollator.primaryCollator();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetDataHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetDataHolder.java
index 0be7a390118..b48e38b4926 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetDataHolder.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetDataHolder.java
@@ -5,11 +5,14 @@
 import net.osmand.aidl.AidlMapWidgetWrapper;
 import net.osmand.aidl.ConnectedApp;
 import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.WidgetsAvailabilityHelper;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.views.mapwidgets.WidgetGroup;
 import net.osmand.plus.views.mapwidgets.WidgetType;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 
+import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
 
@@ -119,9 +122,15 @@ public String getDescription() {
 	}
 
 	@Nullable
-	public List<WidgetType> getWidgetsList() {
+	public List<WidgetType> getWidgetsList(ApplicationMode appMode) {
 		if (widgetGroup != null) {
-			return widgetGroup.getWidgets(widgetsPanel);
+			List<WidgetType> availableWidgets = new ArrayList<>();
+			for (WidgetType type : widgetGroup.getWidgets(widgetsPanel)) {
+				if (WidgetsAvailabilityHelper.isWidgetAvailable(app, type.id, appMode)) {
+					availableWidgets.add(type);
+				}
+			}
+			return availableWidgets;
 		} else if (widgetType != null) {
 			return Collections.singletonList(widgetType);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
index 8474870c1e1..d2e8292ad59 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
@@ -301,8 +301,8 @@ private void loadWidgets() {
 
 
 			for (WidgetType widgetType : allWidgetTypes) {
-				if (widgetType.getGroup() != null) {
-					groupedWidgets.computeIfAbsent(widgetType.getGroup(), k -> new ArrayList<>()).add(widgetType);
+				if (widgetType.getGroup(selectedPanel) != null) {
+					groupedWidgets.computeIfAbsent(widgetType.getGroup(selectedPanel), k -> new ArrayList<>()).add(widgetType);
 				}
 			}
 			widgetItems.clear();
@@ -319,7 +319,7 @@ private void loadWidgets() {
 			sortWidgetsItems(app, allWidgetItems);
 
 			for (WidgetType widgetType : allWidgetTypes) {
-				if (widgetType.getGroup() == null) {
+				if (widgetType.getGroup(selectedPanel) == null) {
 					widgetItems.add(widgetType);
 				}
 			}
