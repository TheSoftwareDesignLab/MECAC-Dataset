diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java b/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
index 64709d883e4..3a44bbaf61f 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
@@ -136,7 +136,7 @@ public void createLayers(final OsmandMapTileView mapView) {
 		mapView.addLayer(downloadedRegionsLayer, 0.5f);
 
 		// 0.9 gpx layer
-		gpxLayer = new GPXLayer(activity);
+		gpxLayer = new GPXLayer();
 		mapView.addLayer(gpxLayer, 0.9f);
 
 		// 1. route layer
@@ -148,7 +148,7 @@ public void createLayers(final OsmandMapTileView mapView) {
 		poiMapLayer = new POIMapLayer(activity);
 		mapView.addLayer(poiMapLayer, 3);
 		// 4. favorites layer
-		mFavouritesLayer = new FavouritesLayer(activity);
+		mFavouritesLayer = new FavouritesLayer();
 		mapView.addLayer(mFavouritesLayer, 4);
 		// 4.6 measurement tool layer
 		measurementToolLayer = new MeasurementToolLayer();
diff --git a/OsmAnd/src/net/osmand/plus/audionotes/AudioNotesLayer.java b/OsmAnd/src/net/osmand/plus/audionotes/AudioNotesLayer.java
index 046fc390598..5f7d6637337 100644
--- a/OsmAnd/src/net/osmand/plus/audionotes/AudioNotesLayer.java
+++ b/OsmAnd/src/net/osmand/plus/audionotes/AudioNotesLayer.java
@@ -188,7 +188,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			getRecordingsFromPoint(point, tileBox, objects);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/distancecalculator/DistanceCalculatorPlugin.java b/OsmAnd/src/net/osmand/plus/distancecalculator/DistanceCalculatorPlugin.java
index c4d2b650330..11c868a74ee 100644
--- a/OsmAnd/src/net/osmand/plus/distancecalculator/DistanceCalculatorPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/distancecalculator/DistanceCalculatorPlugin.java
@@ -499,7 +499,7 @@ public boolean onSingleTap(PointF point, RotatedTileBox tileBox) {
 		public boolean onLongPressEvent(PointF point, RotatedTileBox tileBox) {
 
 			List<Object> s = new ArrayList<>();
-			collectObjectsFromPoint(point, tileBox, s);
+			collectObjectsFromPoint(point, tileBox, s, true);
 
 			if (s.size() == 0 && distanceMeasurementMode == 1 && measurementPoints.size() > 0) {
 				LinkedList<WptPt> lt = measurementPoints.get(measurementPoints.size() - 1);
@@ -595,7 +595,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 		}
 
 		@Override
-		public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+		public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 			getMPointsFromPoint(tileBox, point, o);
 		}
 		
diff --git a/OsmAnd/src/net/osmand/plus/mapillary/MapillaryVectorLayer.java b/OsmAnd/src/net/osmand/plus/mapillary/MapillaryVectorLayer.java
index 69ff11e771c..2fb5cf04073 100644
--- a/OsmAnd/src/net/osmand/plus/mapillary/MapillaryVectorLayer.java
+++ b/OsmAnd/src/net/osmand/plus/mapillary/MapillaryVectorLayer.java
@@ -313,7 +313,7 @@ public boolean disableLongPressOnMap() {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects, boolean unknownLocation) {
 		if (map != null && tileBox.getZoom() >= map.getMinimumZoomSupported()) {
 			getImagesFromPoint(tileBox, point, objects);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolLayer.java b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolLayer.java
index 1cea9008baa..aec0e21e126 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolLayer.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolLayer.java
@@ -380,7 +380,7 @@ public boolean drawInScreenPixels() {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/osmedit/OsmBugsLayer.java b/OsmAnd/src/net/osmand/plus/osmedit/OsmBugsLayer.java
index 5ed95ab18b8..c84a7aa8257 100644
--- a/OsmAnd/src/net/osmand/plus/osmedit/OsmBugsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/osmedit/OsmBugsLayer.java
@@ -518,7 +518,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			getBugFromPoint(tileBox, point, res);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/osmedit/OsmEditsLayer.java b/OsmAnd/src/net/osmand/plus/osmedit/OsmEditsLayer.java
index 0699f9367a0..97ac98fb29f 100644
--- a/OsmAnd/src/net/osmand/plus/osmedit/OsmEditsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/osmedit/OsmEditsLayer.java
@@ -166,7 +166,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			getOsmEditsFromPoint(point, tileBox, o);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/osmo/OsMoPositionLayer.java b/OsmAnd/src/net/osmand/plus/osmo/OsMoPositionLayer.java
index 35e1368055c..fc2e4f17581 100644
--- a/OsmAnd/src/net/osmand/plus/osmo/OsMoPositionLayer.java
+++ b/OsmAnd/src/net/osmand/plus/osmo/OsMoPositionLayer.java
@@ -218,7 +218,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		getOsmoFromPoint(tileBox, point, o);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/parkingpoint/ParkingPositionLayer.java b/OsmAnd/src/net/osmand/plus/parkingpoint/ParkingPositionLayer.java
index d768f4181d9..417f0f9be3f 100644
--- a/OsmAnd/src/net/osmand/plus/parkingpoint/ParkingPositionLayer.java
+++ b/OsmAnd/src/net/osmand/plus/parkingpoint/ParkingPositionLayer.java
@@ -141,7 +141,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		getParkingFromPoint(tileBox, point, o);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/routepointsnavigation/RoutePointsLayer.java b/OsmAnd/src/net/osmand/plus/routepointsnavigation/RoutePointsLayer.java
index 13b8620a130..64d5b2d04f0 100644
--- a/OsmAnd/src/net/osmand/plus/routepointsnavigation/RoutePointsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/routepointsnavigation/RoutePointsLayer.java
@@ -48,7 +48,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/AidlMapLayer.java b/OsmAnd/src/net/osmand/plus/views/AidlMapLayer.java
index b11e9029313..abdff4324ca 100644
--- a/OsmAnd/src/net/osmand/plus/views/AidlMapLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/AidlMapLayer.java
@@ -134,7 +134,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		getFromPoint(tileBox, point, o);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/ContextMenuLayer.java b/OsmAnd/src/net/osmand/plus/views/ContextMenuLayer.java
index 7614f8d7fc6..58fca38ac57 100644
--- a/OsmAnd/src/net/osmand/plus/views/ContextMenuLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/ContextMenuLayer.java
@@ -576,7 +576,7 @@ public boolean showContextMenu(@NonNull LatLon latLon,
 
 	private boolean showContextMenu(PointF point, RotatedTileBox tileBox, boolean showUnknownLocation) {
 		LatLon objectLatLon = null;
-		Map<Object, IContextMenuProvider> selectedObjects = selectObjectsForContextMenu(tileBox, point, false);
+		Map<Object, IContextMenuProvider> selectedObjects = selectObjectsForContextMenu(tileBox, point, false, showUnknownLocation);
 		NativeOsmandLibrary nativeLib = NativeOsmandLibrary.getLoadedLibrary();
 		if (nativeLib != null) {
 			MapRenderRepositories maps = activity.getMyApplication().getResourceManager().getRenderer();
@@ -731,7 +731,8 @@ public boolean disableLongPressOnMap() {
 	}
 
 	private Map<Object, IContextMenuProvider> selectObjectsForContextMenu(RotatedTileBox tileBox,
-																		  PointF point, boolean acquireObjLatLon) {
+																		  PointF point, boolean acquireObjLatLon,
+																		  boolean unknownLocation) {
 		List<LatLon> pressedLatLonFull = new ArrayList<>();
 		List<LatLon> pressedLatLonSmall = new ArrayList<>();
 		Map<Object, IContextMenuProvider> selectedObjects = new HashMap<>();
@@ -740,7 +741,7 @@ private Map<Object, IContextMenuProvider> selectObjectsForContextMenu(RotatedTil
 			if (lt instanceof ContextMenuLayer.IContextMenuProvider) {
 				s.clear();
 				final IContextMenuProvider l = (ContextMenuLayer.IContextMenuProvider) lt;
-				l.collectObjectsFromPoint(point, tileBox, s);
+				l.collectObjectsFromPoint(point, tileBox, s, unknownLocation);
 				for (Object o : s) {
 					selectedObjects.put(o, l);
 					if (acquireObjLatLon && l.isObjectClickable(o)) {
@@ -899,7 +900,7 @@ public boolean onTouchEvent(MotionEvent event, RotatedTileBox tileBox) {
 		switch (event.getAction()) {
 			case MotionEvent.ACTION_DOWN:
 				if (!mInChangeMarkerPositionMode && !mInGpxDetailsMode) {
-					selectObjectsForContextMenu(tileBox, new PointF(event.getX(), event.getY()), true);
+					selectObjectsForContextMenu(tileBox, new PointF(event.getX(), event.getY()), true, true);
 					if (pressedLatLonFull.size() > 0 || pressedLatLonSmall.size() > 0) {
 						view.refreshMap();
 					}
@@ -918,7 +919,7 @@ public boolean onTouchEvent(MotionEvent event, RotatedTileBox tileBox) {
 
 	public interface IContextMenuProvider {
 
-		void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o);
+		void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation);
 
 		LatLon getObjectLocation(Object o);
 
diff --git a/OsmAnd/src/net/osmand/plus/views/DownloadedRegionsLayer.java b/OsmAnd/src/net/osmand/plus/views/DownloadedRegionsLayer.java
index abbafcdb8e5..1451524c410 100644
--- a/OsmAnd/src/net/osmand/plus/views/DownloadedRegionsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/DownloadedRegionsLayer.java
@@ -410,7 +410,7 @@ public void destroyLayer() {
 
 	// IContextMenuProvider
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects, boolean unknownLocation) {
 		boolean isMenuVisible = false;
 		if (view.getContext() instanceof MapActivity) {
 			MapActivity mapActivity = (MapActivity) view.getContext();
diff --git a/OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java b/OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java
index 3ff4c1c3e47..07f72d42db7 100644
--- a/OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java
@@ -11,9 +11,7 @@
 import android.support.annotation.ColorInt;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.design.widget.Snackbar;
 import android.support.v4.content.ContextCompat;
-import android.view.View;
 
 import net.osmand.data.FavouritePoint;
 import net.osmand.data.LatLon;
@@ -23,10 +21,8 @@
 import net.osmand.data.RotatedTileBox;
 import net.osmand.plus.FavouritesDbHelper;
 import net.osmand.plus.MapMarkersHelper;
-import net.osmand.plus.MapMarkersHelper.MapMarker;
 import net.osmand.plus.OsmandSettings;
 import net.osmand.plus.R;
-import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.base.FavoriteImageDrawable;
 import net.osmand.plus.views.ContextMenuLayer.ApplyMovedObjectCallback;
 import net.osmand.plus.views.MapTextLayer.MapTextProvider;
@@ -37,8 +33,6 @@
 public class FavouritesLayer extends OsmandMapLayer implements ContextMenuLayer.IContextMenuProvider,
 	ContextMenuLayer.IMoveObjectProvider, MapTextProvider<FavouritePoint> {
 
-	private MapActivity mapActivity;
-
 	protected int startZoom = 6;
 	
 	protected OsmandMapTileView view;
@@ -63,10 +57,6 @@ protected List<? extends FavouritePoint> getPoints() {
 		return favorites.getFavouritePoints();
 	}
 
-	public FavouritesLayer(MapActivity mapActivity) {
-		this.mapActivity = mapActivity;
-	}
-
 	@Override
 	public void initLayer(OsmandMapTileView view) {
 		this.view = view;
@@ -234,30 +224,11 @@ public boolean isObjectClickable(Object o) {
 
 	@Override
 	public boolean runExclusiveAction(Object o, boolean unknownLocation) {
-		if (unknownLocation || o == null || !(o instanceof FavouritePoint)
-				|| !view.getApplication().getSettings().SELECT_MARKER_ON_SINGLE_TAP.get()) {
-			return false;
-		}
-		MapMarker marker = mapMarkersHelper.getMapMarker((FavouritePoint) o);
-		if (marker != null) {
-			final MapMarker old = mapMarkersHelper.getMapMarkers().get(0);
-			mapMarkersHelper.moveMarkerToTop(marker);
-			String title = mapActivity.getString(R.string.marker_activated, mapMarkersHelper.getMapMarkers().get(0).getName(mapActivity));
-			Snackbar.make(mapActivity.findViewById(R.id.bottomFragmentContainer), title, Snackbar.LENGTH_LONG)
-					.setAction(R.string.shared_string_cancel, new View.OnClickListener() {
-						@Override
-						public void onClick(View v) {
-							mapMarkersHelper.moveMarkerToTop(old);
-						}
-					})
-					.show();
-			return true;
-		}
 		return false;
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res, boolean unknownLocation) {
 		if (this.settings.SHOW_FAVORITES.get() && tileBox.getZoom() >= startZoom) {
 			getFavoriteFromPoint(tileBox, point, res);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/GPXLayer.java b/OsmAnd/src/net/osmand/plus/views/GPXLayer.java
index 33eb38ab67e..1b89f257a94 100644
--- a/OsmAnd/src/net/osmand/plus/views/GPXLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/GPXLayer.java
@@ -18,9 +18,7 @@
 import android.support.annotation.ColorInt;
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
-import android.support.design.widget.Snackbar;
 import android.support.v4.content.ContextCompat;
-import android.view.View;
 
 import net.osmand.AndroidUtils;
 import net.osmand.data.LatLon;
@@ -38,12 +36,10 @@
 import net.osmand.plus.GpxSelectionHelper.GpxDisplayItem;
 import net.osmand.plus.GpxSelectionHelper.SelectedGpxFile;
 import net.osmand.plus.MapMarkersHelper;
-import net.osmand.plus.MapMarkersHelper.MapMarker;
 import net.osmand.plus.MapMarkersHelper.MarkersSyncGroup;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.OsmandSettings.CommonPreference;
 import net.osmand.plus.R;
-import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.base.FavoriteImageDrawable;
 import net.osmand.plus.mapcontextmenu.other.TrackDetailsMenu.TrackChartPoints;
 import net.osmand.plus.render.OsmandRenderer;
@@ -63,7 +59,6 @@
 public class GPXLayer extends OsmandMapLayer implements ContextMenuLayer.IContextMenuProvider,
 		ContextMenuLayer.IMoveObjectProvider, MapTextProvider<WptPt> {
 
-	private MapActivity mapActivity;
 	private OsmandMapTileView view;
 
 	private Paint paint;
@@ -111,10 +106,6 @@ public class GPXLayer extends OsmandMapLayer implements ContextMenuLayer.IContex
 	@ColorInt
 	private int defPointColor;
 
-	public GPXLayer(MapActivity mapActivity) {
-		this.mapActivity = mapActivity;
-	}
-
 	@Override
 	public void initLayer(OsmandMapTileView view) {
 		this.view = view;
@@ -588,30 +579,11 @@ public boolean isObjectClickable(Object o) {
 
 	@Override
 	public boolean runExclusiveAction(Object o, boolean unknownLocation) {
-		if (unknownLocation || o == null || !(o instanceof WptPt)
-				|| !view.getApplication().getSettings().SELECT_MARKER_ON_SINGLE_TAP.get()) {
-			return false;
-		}
-		MapMarker marker = mapMarkersHelper.getMapMarker((WptPt) o);
-		if (marker != null) {
-			final MapMarker old = mapMarkersHelper.getMapMarkers().get(0);
-			mapMarkersHelper.moveMarkerToTop(marker);
-			String title = mapActivity.getString(R.string.marker_activated, mapMarkersHelper.getMapMarkers().get(0).getName(mapActivity));
-			Snackbar.make(mapActivity.findViewById(R.id.bottomFragmentContainer), title, Snackbar.LENGTH_LONG)
-					.setAction(R.string.shared_string_cancel, new View.OnClickListener() {
-						@Override
-						public void onClick(View v) {
-							mapMarkersHelper.moveMarkerToTop(old);
-						}
-					})
-					.show();
-			return true;
-		}
 		return false;
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			getWptFromPoint(tileBox, point, res);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/ImpassableRoadsLayer.java b/OsmAnd/src/net/osmand/plus/views/ImpassableRoadsLayer.java
index 452fbf51816..90ce0fde192 100644
--- a/OsmAnd/src/net/osmand/plus/views/ImpassableRoadsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/ImpassableRoadsLayer.java
@@ -167,7 +167,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			int ex = (int) point.x;
 			int ey = (int) point.y;
diff --git a/OsmAnd/src/net/osmand/plus/views/MapMarkersLayer.java b/OsmAnd/src/net/osmand/plus/views/MapMarkersLayer.java
index 38efc761ff1..b75f9e0fb19 100644
--- a/OsmAnd/src/net/osmand/plus/views/MapMarkersLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/MapMarkersLayer.java
@@ -30,11 +30,11 @@
 import net.osmand.plus.MapMarkersHelper.MapMarker;
 import net.osmand.plus.OsmAndConstants;
 import net.osmand.plus.OsmAndFormatter;
+import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.OsmandSettings;
 import net.osmand.plus.R;
 import net.osmand.plus.TargetPointsHelper.TargetPoint;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.FavoriteImageDrawable;
 import net.osmand.plus.base.MapViewTrackingUtilities;
 import net.osmand.plus.views.ContextMenuLayer.ApplyMovedObjectCallback;
 import net.osmand.plus.views.ContextMenuLayer.IContextMenuProvider;
@@ -511,24 +511,20 @@ public void onClick(View v) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		if (tileBox.getZoom() < 3 || !map.getMyApplication().getSettings().USE_MAP_MARKERS.get()) {
 			return;
 		}
 
-		MapMarkersHelper markersHelper = map.getMyApplication().getMapMarkersHelper();
-		List<MapMarker> markers = markersHelper.getMapMarkers();
+		OsmandApplication app = map.getMyApplication();
 		int r = getRadiusPoi(tileBox);
-		for (int i = 0; i < markers.size(); i++) {
-			MapMarker marker = markers.get(i);
-			if (!isSynced(marker)) {
+		for (MapMarker marker : app.getMapMarkersHelper().getMapMarkers()) {
+			if ((!unknownLocation && app.getSettings().SELECT_MARKER_ON_SINGLE_TAP.get()) || !isSynced(marker)) {
 				LatLon latLon = marker.point;
 				if (latLon != null) {
-					int ex = (int) point.x;
-					int ey = (int) point.y;
 					int x = (int) tileBox.getPixXFromLatLon(latLon.getLatitude(), latLon.getLongitude());
 					int y = (int) tileBox.getPixYFromLatLon(latLon.getLatitude(), latLon.getLongitude());
-					if (calculateBelongs(ex, ey, x, y, r)) {
+					if (calculateBelongs((int) point.x, (int) point.y, x, y, r)) {
 						o.add(marker);
 					}
 				}
diff --git a/OsmAnd/src/net/osmand/plus/views/POIMapLayer.java b/OsmAnd/src/net/osmand/plus/views/POIMapLayer.java
index 8d619e05f88..052fddef22c 100644
--- a/OsmAnd/src/net/osmand/plus/views/POIMapLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/POIMapLayer.java
@@ -544,7 +544,7 @@ public boolean disableLongPressOnMap() {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> objects, boolean unknownLocation) {
 		if (tileBox.getZoom() >= startZoom) {
 			getAmenityFromPoint(tileBox, point, objects);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java b/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
index 64a00980027..5cd55625333 100644
--- a/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/PointLocationLayer.java
@@ -182,7 +182,7 @@ public boolean drawInScreenPixels() {
 
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		if (tileBox.getZoom() >= 3) {
 			getMyLocationFromPoint(tileBox, point, o);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/PointNavigationLayer.java b/OsmAnd/src/net/osmand/plus/views/PointNavigationLayer.java
index 9d70ae0c7f0..256f3bd23c3 100644
--- a/OsmAnd/src/net/osmand/plus/views/PointNavigationLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/PointNavigationLayer.java
@@ -184,7 +184,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> o, boolean unknownLocation) {
 		if (tileBox.getZoom() >= 3) {
 			TargetPointsHelper tg = map.getMyApplication().getTargetPointsHelper();
 			List<TargetPoint> intermediatePoints = tg.getAllPoints();
diff --git a/OsmAnd/src/net/osmand/plus/views/TransportStopsLayer.java b/OsmAnd/src/net/osmand/plus/views/TransportStopsLayer.java
index b43cfae3640..be9959b371f 100644
--- a/OsmAnd/src/net/osmand/plus/views/TransportStopsLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/TransportStopsLayer.java
@@ -285,7 +285,7 @@ public boolean runExclusiveAction(Object o, boolean unknownLocation) {
 	}
 
 	@Override
-	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res) {
+	public void collectObjectsFromPoint(PointF point, RotatedTileBox tileBox, List<Object> res, boolean unknownLocation) {
 		if(tileBox.getZoom() >= startZoomRoute  && route != null) {
 			getFromPoint(tileBox, point, res, route.getForwardStops());
 		} else if (tileBox.getZoom() >= startZoom && data.getResults() != null) {
