diff --git a/OsmAnd/res/layout/card_multi_state.xml b/OsmAnd/res/layout/card_multi_state.xml
new file mode 100644
index 00000000000..3641fccfbbb
--- /dev/null
+++ b/OsmAnd/res/layout/card_multi_state.xml
@@ -0,0 +1,67 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/header"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/bottom_sheet_selected_item_title_height"
+		android:orientation="horizontal">
+
+		<net.osmand.plus.widgets.TextViewEx
+			android:id="@+id/card_title"
+			style="@style/TitleStyle.Medium"
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginHorizontal="@dimen/content_padding"
+			android:layout_weight="1"
+			android:ellipsize="end"
+			android:maxLines="1"
+			android:textColor="?android:textColorPrimary"
+			tools:text="@string/shared_string_color" />
+
+			<LinearLayout
+				android:id="@+id/card_selector"
+				android:layout_width="wrap_content"
+				android:layout_height="@dimen/bottom_sheet_list_item_height"
+				android:layout_marginEnd="@dimen/text_margin_small"
+				android:orientation="horizontal"
+				android:layout_gravity="center_vertical"
+				android:background="?android:selectableItemBackground"
+				android:paddingHorizontal="@dimen/content_padding_small">
+
+				<net.osmand.plus.widgets.TextViewEx
+					android:id="@+id/title"
+					style="@style/TitleStyle"
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center_vertical"
+					android:layout_weight="1"
+					android:ellipsize="end"
+					android:maxLines="1"
+					android:textColor="?android:textColorSecondary"
+					tools:text="Solid" />
+
+				<androidx.appcompat.widget.AppCompatImageView
+					android:layout_width="@dimen/standard_icon_size"
+					android:layout_height="@dimen/standard_icon_size"
+					android:layout_gravity="center_vertical"
+					android:layout_marginStart="@dimen/dashFavIconMargin"
+					android:scaleType="center"
+					android:src="@drawable/ic_action_arrow_down"
+					android:tint="?attr/default_icon_color" />
+
+			</LinearLayout>
+
+	</LinearLayout>
+
+	<FrameLayout
+		android:id="@+id/content"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java b/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java
new file mode 100644
index 00000000000..0fbb8437b58
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java
@@ -0,0 +1,28 @@
+package net.osmand.plus.card.base.multistate;
+
+import android.view.LayoutInflater;
+import android.view.ViewGroup;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.widgets.popup.PopUpMenuItem;
+
+import java.util.List;
+
+public interface IMultiStateCardController {
+
+	@NonNull
+	String getCardTitle();
+
+	@NonNull
+	String getMenuButtonTitle();
+
+	boolean shouldShowMenuButton();
+
+	@NonNull
+	List<PopUpMenuItem> getMenuItems();
+
+	boolean onMenuItemSelected(@NonNull PopUpMenuItem item);
+
+	void onBindContentView(@NonNull LayoutInflater layoutInflater, @NonNull ViewGroup container);
+}
diff --git a/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java b/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java
new file mode 100644
index 00000000000..5f5343f6ce6
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java
@@ -0,0 +1,94 @@
+package net.osmand.plus.card.base.multistate;
+
+import android.graphics.drawable.Drawable;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.fragment.app.FragmentActivity;
+
+import net.osmand.plus.R;
+import net.osmand.plus.routepreparationmenu.cards.BaseCard;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.widgets.popup.OnPopUpMenuItemClickListener;
+import net.osmand.plus.widgets.popup.PopUpMenu;
+import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
+import net.osmand.plus.widgets.popup.PopUpMenuItem;
+
+import java.util.List;
+
+public class MultiStateCard extends BaseCard {
+
+	private final IMultiStateCardController cardController;
+
+	public MultiStateCard(@NonNull FragmentActivity activity,
+	                      @NonNull IMultiStateCardController cardController) {
+		super(activity);
+		this.cardController = cardController;
+	}
+
+	@Override
+	public int getCardLayoutId() {
+		return R.layout.card_multi_state;
+	}
+
+	@Override
+	protected void updateContent() {
+		updateTitle();
+		updateSelector();
+		updateContentView();
+	}
+
+	private void updateTitle() {
+		TextView tvTitle = view.findViewById(R.id.card_title);
+		tvTitle.setText(cardController.getCardTitle());
+	}
+
+	private void updateSelector() {
+		View selector = view.findViewById(R.id.card_selector);
+		if (!cardController.shouldShowMenuButton()) {
+			selector.setVisibility(View.GONE);
+			return;
+		}
+		selector.setVisibility(View.VISIBLE);
+		selector.setOnClickListener(v -> showSelectionMenu());
+
+		int colorId = ColorUtilities.getActiveColor(app, nightMode);
+		Drawable selectableBackground = UiUtilities.getColoredSelectableDrawable(app, colorId);
+		selector.setBackground(selectableBackground);
+
+		updateSelectorTitle();
+	}
+
+	private void updateSelectorTitle() {
+		View selector = view.findViewById(R.id.card_selector);
+		TextView tvTitle = selector.findViewById(R.id.title);
+		tvTitle.setText(cardController.getMenuButtonTitle());
+	}
+
+	private void updateContentView() {
+		ViewGroup contentContainer = view.findViewById(R.id.content);
+		contentContainer.removeAllViews();
+		cardController.onBindContentView(themedInflater, contentContainer);
+	}
+
+	private void showSelectionMenu() {
+		View selector = view.findViewById(R.id.card_selector);
+		List<PopUpMenuItem> menuItems = cardController.getMenuItems();
+
+		OnPopUpMenuItemClickListener onItemClickListener = item -> {
+			if (cardController.onMenuItemSelected(item)) {
+				updateSelector();
+				updateContentView();
+			}
+		};
+		PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
+		displayData.anchorView = selector;
+		displayData.menuItems = menuItems;
+		displayData.nightMode = nightMode;
+		displayData.onItemClickListener = onItemClickListener;
+		PopUpMenu.show(displayData);
+	}
+}
\ No newline at end of file
