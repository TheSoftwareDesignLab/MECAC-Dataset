diff --git a/OsmAnd/res/layout/radius_ruler_settings_switch_item.xml b/OsmAnd/res/layout/radius_ruler_settings_switch_item.xml
new file mode 100644
index 00000000000..cd9d9e97a8b
--- /dev/null
+++ b/OsmAnd/res/layout/radius_ruler_settings_switch_item.xml
@@ -0,0 +1,41 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/distance_circles_container"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:minHeight="@dimen/card_row_min_height"
+	android:orientation="horizontal"
+	android:gravity="center_vertical">
+
+	<androidx.appcompat.widget.AppCompatImageView
+		android:id="@+id/icon"
+		android:layout_width="@dimen/dialog_content_margin"
+		android:layout_height="@dimen/dialog_content_margin"
+		android:layout_marginStart="@dimen/content_padding"
+		tools:src="@drawable/ic_action_ruler_circle" />
+
+	<net.osmand.plus.widgets.TextViewEx
+		android:id="@+id/text"
+		style="@style/TitleStyle"
+		android:layout_width="0dp"
+		android:layout_height="wrap_content"
+		android:layout_weight="1"
+		android:layout_marginStart="@dimen/dialog_button_height"
+		android:maxLines="1"
+		android:ellipsize="end"
+		android:textColor="?android:textColorPrimary"
+		tools:text="@string/distance_circles" />
+
+	<androidx.appcompat.widget.SwitchCompat
+		android:id="@+id/visibility_switch"
+		android:layout_width="wrap_content"
+		android:layout_height="wrap_content"
+		android:layout_marginStart="@dimen/title_padding"
+		android:layout_marginEnd="@dimen/content_padding"
+		android:focusable="false"
+		android:focusableInTouchMode="false"
+		android:clickable="false"
+		android:saveEnabled="false" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/radius_ruler_widget_settings_fragment.xml b/OsmAnd/res/layout/radius_ruler_widget_settings_fragment.xml
new file mode 100644
index 00000000000..f341fa80e95
--- /dev/null
+++ b/OsmAnd/res/layout/radius_ruler_widget_settings_fragment.xml
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:orientation="vertical">
+
+	<net.osmand.plus.widgets.TextViewEx
+		style="@style/TitleStyle.Medium"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:layout_marginStart="@dimen/content_padding"
+		android:layout_marginEnd="@dimen/content_padding"
+		android:minHeight="@dimen/card_row_min_height"
+		android:gravity="center_vertical"
+		android:text="@string/circle_settings"
+		android:textColor="?android:textColorPrimary" />
+
+	<include
+		android:id="@+id/distance_circles_container"
+		layout="@layout/radius_ruler_settings_switch_item" />
+
+	<include
+		android:id="@+id/compass_on_circles_container"
+		layout="@layout/radius_ruler_settings_switch_item" />
+
+	<View
+		android:layout_width="match_parent"
+		android:layout_height="1dp"
+		android:background="?divider_color_basic" />
+
+	<net.osmand.plus.widgets.TextViewEx
+		style="@style/TitleStyle.Medium"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:layout_marginStart="@dimen/content_padding"
+		android:layout_marginEnd="@dimen/content_padding"
+		android:minHeight="@dimen/card_row_min_height"
+		android:gravity="center_vertical"
+		android:maxLines="1"
+		android:ellipsize="end"
+		android:text="@string/colour_of_circles"
+		android:textColor="?android:textColorPrimary" />
+
+	<include layout="@layout/custom_radio_buttons" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index f0abbaefcfc..b132a603fed 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,10 @@
 	Thx - Hardy
 -->
 
+    <string name="colour_of_circles">Colour of circles</string>
+    <string name="compass_on_circles">Compass on circles</string>
+    <string name="distance_circles">Distance-circles</string>
+    <string name="circle_settings">Circle settings</string>
     <string name="routing_attr_avoid_4wd_only_name">Avoid 4WD roads</string>
     <string name="routing_attr_avoid_4wd_only_description">Avoid roads only suitable for 4WD only vehicles</string>
     <string name="bearing_secondary_desc">You can change format of displayed data in: %1$s – %2$s – %3$s.</string>
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 69332e98f6b..d1bca97ed07 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -749,7 +749,6 @@ public boolean enablePlugin(String pluginId, boolean enable) {
 		return false;
 	}
 
-	public final CommonPreference<RadiusRulerMode> RADIUS_RULER_MODE = new EnumStringPreference<>(this, "ruler_mode", RadiusRulerMode.FIRST, RadiusRulerMode.values()).makeGlobal().makeShared();
 	public final CommonPreference<Boolean> SHOW_COMPASS_ALWAYS = new BooleanPreference(this, "show_compass_always", false) {
 
 		@Override
@@ -786,7 +785,27 @@ private List<String> getWidgetsVisibilityInfo(ApplicationMode appMode) {
 			return new ArrayList<>(Arrays.asList(MAP_INFO_CONTROLS.getModeValue(appMode).split(SETTINGS_SEPARATOR)));
 		}
 	};
-	public final OsmandPreference<Boolean> SHOW_COMPASS_CONTROL_RULER = new BooleanPreference(this, "show_compass_ruler", true).makeGlobal().makeShared();
+
+	public final CommonPreference<RadiusRulerMode> RADIUS_RULER_MODE = new EnumStringPreference<>(this, "ruler_mode", RadiusRulerMode.FIRST, RadiusRulerMode.values()).makeGlobal().makeShared();
+	public final OsmandPreference<Boolean> SHOW_RADIUS_RULER_ON_MAP = new BooleanPreference(this, "show_radius_ruler_on_map", true) {
+
+		@Override
+		public Boolean getProfileDefaultValue(ApplicationMode mode) {
+			RadiusRulerMode radiusRulerMode = RADIUS_RULER_MODE.getProfileDefaultValue(mode);
+			return radiusRulerMode == RadiusRulerMode.FIRST || radiusRulerMode == RadiusRulerMode.SECOND;
+		}
+	}.makeProfile();
+	public final OsmandPreference<Boolean> SHOW_DISTANCE_CIRCLES_ON_RADIUS_RULER = new BooleanPreference(this, "show_distance_circles_on_radius_rules", true).makeProfile();
+	public final OsmandPreference<Boolean> SHOW_COMPASS_ON_RADIUS_RULER = new BooleanPreference(this, "show_compass_ruler", true).makeProfile();
+	public final OsmandPreference<Boolean> RADIUS_RULER_NIGHT_MODE = new BooleanPreference(this, "radius_ruler_night_mode", false) {
+
+		@Override
+		public Boolean getProfileDefaultValue(ApplicationMode mode) {
+			RadiusRulerMode radiusRulerMode = RADIUS_RULER_MODE.getModeValue(mode);
+			return radiusRulerMode == RadiusRulerMode.SECOND;
+		}
+	}.makeProfile();
+
 	public final OsmandPreference<Boolean> SHOW_DISTANCE_RULER = new BooleanPreference(this, "show_distance_ruler", false).makeProfile();
 	public final OsmandPreference<Boolean> SHOW_ELEVATION_PROFILE_WIDGET = new BooleanPreference(this, "show_elevation_profile_widget", false).makeProfile();
 	public final OsmandPreference<Boolean> SHOW_SLOPES_ON_ELEVATION_WIDGET = new BooleanPreference(this, "show_slopes_on_elevation_widget", false).makeProfile();
diff --git a/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java b/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
index 0e1fe7fce37..7aa7f9477aa 100644
--- a/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/layers/RadiusRulerControlLayer.java
@@ -21,6 +21,7 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.enums.AngularConstants;
 import net.osmand.plus.settings.enums.MetricsConstants;
 import net.osmand.plus.utils.AndroidUtils;
@@ -150,32 +151,38 @@ private Paint initPaintWithStyle(Paint.Style style, int color) {
 	}
 
 	@Override
-	public void onDraw(Canvas canvas, RotatedTileBox tb, DrawSettings settings) {
+	public void onDraw(Canvas canvas, RotatedTileBox tb, DrawSettings drawSettings) {
 		if (rulerModeOn()) {
 			OsmandApplication app = view.getApplication();
-			circleAttrs.updatePaints(app, settings, tb);
+			OsmandSettings settings = app.getSettings();
+			circleAttrs.updatePaints(app, drawSettings, tb);
 			circleAttrs.paint2.setStyle(Style.FILL);
-			circleAttrsAlt.updatePaints(app, settings, tb);
+			circleAttrsAlt.updatePaints(app, drawSettings, tb);
 			circleAttrsAlt.paint2.setStyle(Style.FILL);
 			final QuadPoint center = tb.getCenterPixelPoint();
-			final RadiusRulerMode mode = app.getSettings().RADIUS_RULER_MODE.get();
-			boolean showCompass = app.getSettings().SHOW_COMPASS_CONTROL_RULER.get() && tb.getZoom() >= SHOW_COMPASS_MIN_ZOOM;
 
-			drawCenterIcon(canvas, tb, center, settings.isNightMode(), mode);
+			boolean showRadiusRuler = settings.SHOW_RADIUS_RULER_ON_MAP.get();
+			boolean showDistanceCircles = settings.SHOW_DISTANCE_CIRCLES_ON_RADIUS_RULER.get();
+			boolean showCompass = settings.SHOW_COMPASS_ON_RADIUS_RULER.get() && tb.getZoom() >= SHOW_COMPASS_MIN_ZOOM;
+			boolean darkRadiusRuler = settings.RADIUS_RULER_NIGHT_MODE.get();
 
-			if (mode == RadiusRulerMode.FIRST || mode == RadiusRulerMode.SECOND) {
+			drawCenterIcon(canvas, tb, center, drawSettings.isNightMode(), darkRadiusRuler);
+
+			if (showRadiusRuler && (showDistanceCircles || showCompass)) {
 				updateData(tb, center);
+
 				if (showCompass) {
 					updateHeading();
 					resetDrawingPaths();
 				}
-				RenderingLineAttributes attrs = mode == RadiusRulerMode.FIRST ? circleAttrs : circleAttrsAlt;
-				int compassCircleId = getCompassCircleId(tb, center);
-				for (int i = 1; i <= cacheDistances.size(); i++) {
-					if (showCompass && i == compassCircleId) {
-						drawCompassCircle(canvas, tb, compassCircleId, center, attrs);
-					} else {
-						drawCircle(canvas, tb, i, center, attrs);
+
+				RenderingLineAttributes attrs = darkRadiusRuler ? circleAttrsAlt : circleAttrs;
+				int compassCircleIndex = getCompassCircleIndex(tb, center);
+				for (int circleIndex = 1; circleIndex <= cacheDistances.size(); circleIndex++) {
+					if (showCompass && circleIndex == compassCircleIndex) {
+						drawCompassCircle(canvas, tb, compassCircleIndex, center, attrs);
+					} else if (showDistanceCircles) {
+						drawCircle(canvas, tb, circleIndex, center, attrs);
 					}
 				}
 			}
@@ -188,9 +195,9 @@ public boolean rulerModeOn() {
 				&& (rightWidgetsPanel == null || rightWidgetsPanel.getVisibility() == View.VISIBLE);
 	}
 
-	private int getCompassCircleId(RotatedTileBox tileBox, QuadPoint center) {
-		int compassCircleId = 2;
-		float radiusLength = radius * compassCircleId;
+	private int getCompassCircleIndex(RotatedTileBox tileBox, QuadPoint center) {
+		int compassCircleIndex = 2;
+		float radiusLength = radius * compassCircleIndex;
 		float top = center.y - radiusLength;
 		float bottom = center.y + radiusLength;
 		float left = center.x - radiusLength;
@@ -215,10 +222,10 @@ private int getCompassCircleId(RotatedTileBox tileBox, QuadPoint center) {
 		int vertical = (int) (right - left) / 2;
 		int minFittingRadius = Math.min(horizontal, vertical);
 		if (radiusLength > minFittingRadius * COMPASS_CIRCLE_FITTING_RADIUS_COEF) {
-			compassCircleId = 1;
+			compassCircleIndex = 1;
 		}
 
-		return compassCircleId;
+		return compassCircleIndex;
 	}
 
 	private void updateHeading() {
@@ -236,9 +243,9 @@ private void resetDrawingPaths() {
 	}
 
 	private void drawCenterIcon(Canvas canvas, RotatedTileBox tb, QuadPoint center,
-								boolean nightMode, RadiusRulerMode mode) {
+								boolean nightMode, boolean darkRadiusRuler) {
 		canvas.rotate(-tb.getRotate(), center.x, center.y);
-		if (nightMode || mode == RadiusRulerMode.SECOND) {
+		if (nightMode || darkRadiusRuler) {
 			canvas.drawBitmap(centerIconNight, center.x - centerIconNight.getWidth() / 2f,
 					center.y - centerIconNight.getHeight() / 2f, bitmapPaint);
 		} else {
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapInfoWidgetsFactory.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapInfoWidgetsFactory.java
index d50f764ccd3..6410aa09ca7 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapInfoWidgetsFactory.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapInfoWidgetsFactory.java
@@ -19,9 +19,9 @@
 import net.osmand.plus.activities.actions.StartGPSStatus;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.routepreparationmenu.MapRouteInfoMenu;
+import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.UiUtilities;
-import net.osmand.plus.views.layers.RadiusRulerControlLayer.RadiusRulerMode;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.widgets.RightTextInfoWidget;
 import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
@@ -122,6 +122,7 @@ public void updateInfo(@Nullable DrawSettings drawSettings) {
 	}
 
 	public TextInfoWidget createRadiusRulerControl(@NonNull MapActivity mapActivity) {
+		OsmandSettings settings = app.getSettings();
 		final String title = "—";
 		final TextInfoWidget radiusRulerControl = new RightTextInfoWidget(mapActivity) {
 
@@ -159,28 +160,19 @@ private void calculateAndSetText(float dist) {
 		};
 
 		radiusRulerControl.setText(title, null);
-		setRulerControlIcon(radiusRulerControl, app.getSettings().RADIUS_RULER_MODE.get());
-		radiusRulerControl.setOnClickListener(new OnClickListener() {
-			@Override
-			public void onClick(View view) {
-				final RadiusRulerMode mode = app.getSettings().RADIUS_RULER_MODE.get();
-				RadiusRulerMode newMode = RadiusRulerMode.FIRST;
-				if (mode == RadiusRulerMode.FIRST) {
-					newMode = RadiusRulerMode.SECOND;
-				} else if (mode == RadiusRulerMode.SECOND) {
-					newMode = RadiusRulerMode.EMPTY;
-				}
-				setRulerControlIcon(radiusRulerControl, newMode);
-				app.getSettings().RADIUS_RULER_MODE.set(newMode);
-				mapActivity.refreshMap();
-			}
+		setRulerControlIcon(radiusRulerControl, settings.SHOW_RADIUS_RULER_ON_MAP.get());
+		radiusRulerControl.setOnClickListener(view -> {
+			boolean newShowRadiusRuler = !settings.SHOW_RADIUS_RULER_ON_MAP.get();
+			setRulerControlIcon(radiusRulerControl, newShowRadiusRuler);
+			settings.SHOW_RADIUS_RULER_ON_MAP.set(newShowRadiusRuler);
+			mapActivity.refreshMap();
 		});
 
 		return radiusRulerControl;
 	}
 
-	private void setRulerControlIcon(TextInfoWidget rulerControl, RadiusRulerMode mode) {
-		if (mode == RadiusRulerMode.FIRST || mode == RadiusRulerMode.SECOND) {
+	private void setRulerControlIcon(@NonNull TextInfoWidget rulerControl, boolean showRadiusRuler) {
+		if (showRadiusRuler) {
 			rulerControl.setIcons(RADIUS_RULER);
 		} else {
 			rulerControl.setIcons(R.drawable.widget_hidden_day, R.drawable.widget_hidden_night);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetParams.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetParams.java
index 83ebfe5db06..2c45bb43609 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetParams.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetParams.java
@@ -9,6 +9,7 @@
 import net.osmand.plus.plugins.parking.ParkingPositionPlugin;
 import net.osmand.plus.views.mapwidgets.configure.settings.ElevationProfileWidgetSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.MapMarkersBarWidgetSettingFragment;
+import net.osmand.plus.views.mapwidgets.configure.settings.RadiusRulerWidgetSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment;
 
 import androidx.annotation.DrawableRes;
@@ -184,6 +185,8 @@ public WidgetSettingsBaseFragment getSettingsFragment() {
 			return new ElevationProfileWidgetSettingsFragment();
 		} else if (this == MARKERS_TOP_BAR) {
 			return new MapMarkersBarWidgetSettingFragment();
+		} else if (this == RADIUS_RULER) {
+			return new RadiusRulerWidgetSettingsFragment();
 		}
 		return null;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/RadiusRulerWidgetSettingsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/RadiusRulerWidgetSettingsFragment.java
new file mode 100644
index 00000000000..7d895076fca
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/RadiusRulerWidgetSettingsFragment.java
@@ -0,0 +1,174 @@
+package net.osmand.plus.views.mapwidgets.configure.settings;
+
+import android.app.Activity;
+import android.content.Context;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.CompoundButton;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.TextView;
+
+import net.osmand.CallbackWithObject;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.utils.UiUtilities.CompoundButtonType;
+import net.osmand.plus.views.layers.MapInfoLayer;
+import net.osmand.plus.views.mapwidgets.WidgetParams;
+import net.osmand.plus.widgets.multistatetoggle.TextToggleButton;
+import net.osmand.plus.widgets.multistatetoggle.TextToggleButton.TextRadioItem;
+
+import java.util.Arrays;
+import java.util.List;
+
+import androidx.annotation.DrawableRes;
+import androidx.annotation.IdRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.StringRes;
+
+public class RadiusRulerWidgetSettingsFragment extends WidgetSettingsBaseFragment {
+
+	private static final String KEY_SHOW_DISTANCE_CIRCLES = "show_distance_circles";
+	private static final String KEY_SHOW_COMPASS = "show_compass";
+	private static final String KEY_NIGHT_RADIUS_RULER = "night_radius_ruler";
+
+	private boolean showDistanceCircles;
+	private boolean showCompass;
+	private boolean nightRadiusRuler;
+
+	@NonNull
+	@Override
+	public WidgetParams getWidget() {
+		return WidgetParams.RADIUS_RULER;
+	}
+
+	@Override
+	protected void initParams(@NonNull Bundle bundle) {
+		super.initParams(bundle);
+
+		boolean defaultShowDistanceCircles = settings.SHOW_DISTANCE_CIRCLES_ON_RADIUS_RULER.getModeValue(appMode);
+		boolean defaultShowCompass = settings.SHOW_COMPASS_ON_RADIUS_RULER.getModeValue(appMode);
+		boolean defaultNightRadiusRuler = settings.RADIUS_RULER_NIGHT_MODE.getModeValue(appMode);
+
+		showDistanceCircles = bundle.getBoolean(KEY_SHOW_DISTANCE_CIRCLES, defaultShowDistanceCircles);
+		showCompass = bundle.getBoolean(KEY_SHOW_COMPASS, defaultShowCompass);
+		nightRadiusRuler = bundle.getBoolean(KEY_NIGHT_RADIUS_RULER, defaultNightRadiusRuler);
+	}
+
+	@Override
+	protected void setupContent(@NonNull LayoutInflater themedInflater, @NonNull ViewGroup container) {
+		themedInflater.inflate(R.layout.radius_ruler_widget_settings_fragment, container);
+
+		setupDistanceCirclesSetting();
+		setupCompassSetting();
+		setupNightModeSetting();
+	}
+
+	private void setupDistanceCirclesSetting() {
+		int containerId = R.id.distance_circles_container;
+		int iconId = R.drawable.ic_action_ruler_circle;
+		int titleId = R.string.distance_circles;
+		CallbackWithObject<Boolean> callback = result -> showDistanceCircles = result;
+		setupSwitchSetting(containerId, iconId, iconId, titleId, callback, showDistanceCircles);
+	}
+
+	private void setupCompassSetting() {
+		int containerId = R.id.compass_on_circles_container;
+		int enabledIconId = R.drawable.ic_action_compass_widget;
+		int disabledIconId = R.drawable.ic_action_compass_widget_hide;
+		int titleId = R.string.compass_on_circles;
+		CallbackWithObject<Boolean> callback = result -> showCompass = result;
+		setupSwitchSetting(containerId, enabledIconId, disabledIconId, titleId, callback, showCompass);
+	}
+
+	private void setupSwitchSetting(@IdRes int containerId,
+	                                @DrawableRes int enabledIconId,
+	                                @DrawableRes int disabledIconId,
+	                                @StringRes int titleId,
+	                                @NonNull CallbackWithObject<Boolean> callback,
+	                                boolean checked) {
+		Context context = requireContext();
+
+		View container = view.findViewById(containerId);
+		ImageView icon = container.findViewById(R.id.icon);
+		TextView text = container.findViewById(R.id.text);
+		CompoundButton visibilitySwitch = container.findViewById(R.id.visibility_switch);
+
+		updateIcon(icon, enabledIconId, disabledIconId, checked);
+		text.setText(titleId);
+
+		UiUtilities.setupCompoundButton(visibilitySwitch, nightMode, CompoundButtonType.GLOBAL);
+		visibilitySwitch.setChecked(checked);
+		visibilitySwitch.setOnCheckedChangeListener((buttonView, isChecked) -> {
+			updateIcon(icon, enabledIconId, disabledIconId, isChecked);
+			callback.processResult(isChecked);
+		});
+
+		container.setOnClickListener(v -> visibilitySwitch.setChecked(!visibilitySwitch.isChecked()));
+		int activeColor = ColorUtilities.getActiveColor(context, nightMode);
+		container.setBackground(UiUtilities.getColoredSelectableDrawable(context, activeColor));
+	}
+
+	private void updateIcon(@NonNull ImageView icon,
+	                        @DrawableRes int enabledIconId,
+	                        @DrawableRes int disabledIconId,
+	                        boolean enabled) {
+		int iconId = enabled ? enabledIconId : disabledIconId;
+		int colorId = enabled
+				? ColorUtilities.getActiveIconColorId(nightMode)
+				: ColorUtilities.getDefaultIconColorId(nightMode);
+		icon.setImageDrawable(getIcon(iconId, colorId));
+	}
+
+	private void setupNightModeSetting() {
+		LinearLayout nightModeToggleView = view.findViewById(R.id.custom_radio_buttons);
+		TextToggleButton nightModeToggle = new TextToggleButton(app, nightModeToggleView, nightMode);
+		nightModeToggle.setItems(listRadioItems());
+		nightModeToggle.setSelectedItem(nightRadiusRuler ? 1 : 0);
+	}
+
+	@NonNull
+	private List<TextRadioItem> listRadioItems() {
+		TextRadioItem lightColorItem = new TextRadioItem(getString(R.string.light_theme));
+		lightColorItem.setOnClickListener((radioItem, view1) -> {
+			nightRadiusRuler = false;
+			return true;
+		});
+
+		TextRadioItem darkColorItem = new TextRadioItem(getString(R.string.dark_theme));
+		darkColorItem.setOnClickListener((radioItem, view1) -> {
+			nightRadiusRuler = true;
+			return true;
+		});
+
+		return Arrays.asList(lightColorItem, darkColorItem);
+	}
+
+	@Override
+	protected void applySettings() {
+		settings.SHOW_DISTANCE_CIRCLES_ON_RADIUS_RULER.setModeValue(appMode, showDistanceCircles);
+		settings.SHOW_COMPASS_ON_RADIUS_RULER.setModeValue(appMode, showCompass);
+		settings.RADIUS_RULER_NIGHT_MODE.setModeValue(appMode, nightRadiusRuler);
+
+		Activity activity = getActivity();
+		if (activity instanceof MapActivity) {
+			((MapActivity) activity).refreshMap();
+		}
+		MapInfoLayer mapInfoLayer = app.getOsmandMap().getMapLayers().getMapInfoLayer();
+		if (mapInfoLayer != null) {
+			mapInfoLayer.recreateControls();
+		}
+	}
+
+	@Override
+	public void onSaveInstanceState(@NonNull Bundle outState) {
+		super.onSaveInstanceState(outState);
+		outState.putBoolean(KEY_SHOW_DISTANCE_CIRCLES, showDistanceCircles);
+		outState.putBoolean(KEY_SHOW_COMPASS, showCompass);
+		outState.putBoolean(KEY_NIGHT_RADIUS_RULER, nightRadiusRuler);
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/CompassRulerWidgetState.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/CompassRulerWidgetState.java
index 43e53058943..e1f311b806f 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/CompassRulerWidgetState.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/CompassRulerWidgetState.java
@@ -13,7 +13,7 @@ public class CompassRulerWidgetState extends WidgetState {
 
 	public CompassRulerWidgetState(OsmandApplication app) {
 		super(app);
-		showCompass = app.getSettings().SHOW_COMPASS_CONTROL_RULER;
+		showCompass = app.getSettings().SHOW_COMPASS_ON_RADIUS_RULER;
 	}
 
 	@Override
