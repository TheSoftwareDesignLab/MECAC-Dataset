diff --git a/OsmAnd/res/layout/configure_screen_list_item_page_reorder.xml b/OsmAnd/res/layout/configure_screen_list_item_page_reorder.xml
index b01fa29ce14..203e8d12533 100644
--- a/OsmAnd/res/layout/configure_screen_list_item_page_reorder.xml
+++ b/OsmAnd/res/layout/configure_screen_list_item_page_reorder.xml
@@ -4,8 +4,9 @@
 	xmlns:tools="http://schemas.android.com/tools"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
-	android:orientation="vertical"
-	android:background="?attr/list_background_color">
+	android:animateLayoutChanges="true"
+	android:background="?attr/list_background_color"
+	android:orientation="vertical">
 
 	<View
 		android:id="@+id/top_divider"
@@ -13,42 +14,50 @@
 		android:layout_height="1dp"
 		android:background="?divider_color_basic" />
 
-	<LinearLayout
+	<FrameLayout
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content">
 
-		<ImageButton
-			android:id="@+id/delete_page_button"
-			style="@style/Widget.AppCompat.ActionButton"
-			android:layout_width="@dimen/standard_icon_size"
-			android:layout_height="@dimen/standard_icon_size"
-			android:layout_gravity="center"
-			android:layout_marginHorizontal="@dimen/content_padding"
-			tools:src="@drawable/ic_action_remove"
-			tools:tint="@color/icon_color_default_light"
-			tools:ignore="ContentDescription" />
-
-
-		<net.osmand.plus.widgets.TextViewEx
-			android:id="@+id/page"
-			style="@style/TitleStyle.Medium"
-			android:layout_width="0dp"
-			android:layout_height="wrap_content"
-			android:layout_weight="1"
-			android:paddingHorizontal="@dimen/content_padding"
-			android:paddingVertical="@dimen/directionIconSize"
-			android:textColor="?android:textColorPrimary"
-			tools:text="Page 1" />
-
 		<androidx.appcompat.widget.AppCompatImageView
 			android:id="@+id/move_button"
 			android:layout_width="wrap_content"
 			android:layout_height="match_parent"
-			android:layout_gravity="center"
+			android:layout_gravity="end|center_vertical"
 			android:paddingHorizontal="@dimen/content_padding"
 			android:tint="?attr/secondary_icon_color"
 			app:srcCompat="@drawable/ic_action_item_move" />
 
-	</LinearLayout>
+		<LinearLayout
+			android:id="@+id/animated_layout"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:animateLayoutChanges="true">
+
+			<ImageButton
+				android:id="@+id/delete_page_button"
+				style="@style/Widget.AppCompat.ActionButton"
+				android:layout_width="@dimen/standard_icon_size"
+				android:layout_height="@dimen/standard_icon_size"
+				android:layout_gravity="center"
+				android:layout_marginHorizontal="@dimen/content_padding"
+				tools:ignore="ContentDescription"
+				tools:src="@drawable/ic_action_remove"
+				tools:tint="@color/icon_color_default_light" />
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/page"
+				style="@style/TitleStyle.Medium"
+				android:layout_width="0dp"
+				android:layout_height="wrap_content"
+				android:layout_weight="1"
+				android:paddingHorizontal="@dimen/content_padding"
+				android:paddingVertical="@dimen/directionIconSize"
+				android:textColor="?android:textColorPrimary"
+				tools:text="Page 1" />
+
+
+		</LinearLayout>
+
+	</FrameLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml b/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
index 35e654b201a..03da3080c1a 100644
--- a/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
+++ b/OsmAnd/res/layout/configure_screen_list_item_widget_reorder.xml
@@ -4,89 +4,98 @@
 	xmlns:tools="http://schemas.android.com/tools"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
+	android:animateLayoutChanges="true"
 	android:background="?attr/list_background_color"
 	android:gravity="center_vertical"
 	android:minHeight="@dimen/bottom_sheet_list_item_height"
 	android:orientation="horizontal">
 
-	<LinearLayout
+	<FrameLayout
 		android:id="@+id/selectable_widget_background"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:orientation="horizontal">
+		android:orientation="vertical"
+		tools:ignore="UselessParent">
 
-		<ImageButton
-			android:id="@+id/delete_widget_button"
-			style="@style/Widget.AppCompat.ActionButton"
-			android:layout_width="@dimen/standard_icon_size"
-			android:layout_height="@dimen/standard_icon_size"
-			android:layout_gravity="center"
-			android:layout_marginStart="@dimen/content_padding"
-			android:layout_marginEnd="@dimen/content_padding"
-			tools:ignore="ContentDescription"
-			tools:src="@drawable/ic_action_remove"
-			tools:tint="@color/color_osm_edit_delete" />
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/move_icon"
+			android:layout_width="wrap_content"
+			android:layout_height="match_parent"
+			android:layout_gravity="end"
+			android:paddingHorizontal="@dimen/content_padding"
+			android:tint="?attr/secondary_icon_color"
+			app:srcCompat="@drawable/ic_action_item_move" />
 
 		<LinearLayout
+			android:id="@+id/animated_layout"
 			android:layout_width="match_parent"
 			android:layout_height="wrap_content"
-			android:orientation="vertical">
+			android:animateLayoutChanges="true"
+			android:orientation="horizontal">
+
+			<ImageButton
+				android:id="@+id/delete_widget_button"
+				style="@style/Widget.AppCompat.ActionButton"
+				android:layout_width="@dimen/standard_icon_size"
+				android:layout_height="@dimen/standard_icon_size"
+				android:layout_gravity="end|center_vertical"
+				android:layout_marginStart="@dimen/content_padding"
+				android:layout_marginEnd="@dimen/content_padding"
+				tools:ignore="ContentDescription"
+				tools:src="@drawable/ic_action_remove"
+				tools:tint="@color/color_osm_edit_delete" />
 
 			<LinearLayout
 				android:layout_width="match_parent"
 				android:layout_height="wrap_content"
-				android:layout_gravity="center_vertical"
-				android:minHeight="@dimen/bottom_sheet_list_item_height"
-				android:orientation="horizontal">
-
-				<androidx.appcompat.widget.AppCompatImageView
-					android:id="@+id/icon"
-					android:layout_width="@dimen/standard_icon_size"
-					android:layout_height="@dimen/standard_icon_size"
-					android:layout_gravity="center"
-					android:layout_marginStart="@dimen/content_padding"
-					tools:src="@drawable/mm_air_transport"
-					tools:tint="@color/poi_background" />
+				android:orientation="vertical">
 
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/title"
-					android:layout_width="0dp"
+				<LinearLayout
+					android:layout_width="match_parent"
 					android:layout_height="wrap_content"
 					android:layout_gravity="center_vertical"
-					android:layout_marginStart="@dimen/list_content_padding_large"
-					android:layout_marginEnd="@dimen/content_padding"
-					android:layout_weight="1"
-					android:ellipsize="marquee"
-					android:paddingTop="@dimen/content_padding_half"
-					android:paddingBottom="@dimen/content_padding_half"
-					android:textColor="?android:textColorPrimary"
-					android:textSize="@dimen/default_list_text_size"
-					android:textStyle="normal"
-					tools:text="@string/poi_aerialway_transport" />
+					android:layout_marginEnd="56dp"
+					android:minHeight="@dimen/bottom_sheet_list_item_height"
+					android:orientation="horizontal">
 
-				<androidx.appcompat.widget.AppCompatImageView
-					android:id="@+id/move_icon"
-					android:layout_width="wrap_content"
-					android:layout_height="match_parent"
-					android:layout_gravity="center"
-					android:paddingStart="@dimen/content_padding"
-					android:paddingLeft="@dimen/content_padding"
-					android:paddingEnd="@dimen/content_padding"
-					android:paddingRight="@dimen/content_padding"
-					android:tint="?attr/secondary_icon_color"
-					app:srcCompat="@drawable/ic_action_item_move" />
+					<androidx.appcompat.widget.AppCompatImageView
+						android:id="@+id/icon"
+						android:layout_width="@dimen/standard_icon_size"
+						android:layout_height="@dimen/standard_icon_size"
+						android:layout_gravity="center"
+						android:layout_marginStart="@dimen/content_padding"
+						tools:src="@drawable/mm_air_transport"
+						tools:tint="@color/poi_background" />
 
-			</LinearLayout>
+					<net.osmand.plus.widgets.TextViewEx
+						android:id="@+id/title"
+						android:layout_width="0dp"
+						android:layout_height="wrap_content"
+						android:layout_gravity="center_vertical"
+						android:layout_marginStart="@dimen/title_padding"
+						android:layout_marginEnd="@dimen/content_padding"
+						android:layout_weight="1"
+						android:ellipsize="marquee"
+						android:paddingTop="@dimen/content_padding_half"
+						android:paddingBottom="@dimen/content_padding_half"
+						android:textColor="?android:textColorPrimary"
+						android:textSize="@dimen/default_list_text_size"
+						android:textStyle="normal"
+						tools:text="@string/poi_aerialway_transport" />
 
-			<View
-				android:id="@+id/bottom_divider"
-				android:layout_width="match_parent"
-				android:layout_height="1dp"
-				android:layout_marginStart="@dimen/setting_list_item_large_height"
-				android:background="?attr/divider_color_basic" />
+				</LinearLayout>
+
+				<View
+					android:id="@+id/bottom_divider"
+					android:layout_width="match_parent"
+					android:layout_height="1dp"
+					android:layout_marginStart="60dp"
+					android:background="?attr/divider_color_basic" />
+
+			</LinearLayout>
 
 		</LinearLayout>
 
-	</LinearLayout>
+	</FrameLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/fragment_configure_widgets.xml b/OsmAnd/res/layout/fragment_configure_widgets.xml
index a7f0b98ec4c..71923cb53ae 100644
--- a/OsmAnd/res/layout/fragment_configure_widgets.xml
+++ b/OsmAnd/res/layout/fragment_configure_widgets.xml
@@ -6,13 +6,15 @@
 	android:background="?attr/activity_background_color"
 	android:clickable="true"
 	android:fitsSystemWindows="true"
+	android:clipChildren="false"
+	android:clipToPadding="false"
 	android:focusable="true">
 
 	<com.google.android.material.appbar.AppBarLayout
 		android:id="@+id/appbar"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:background="?attr/list_background_color"
+		android:background="@android:color/transparent"
 		app:elevation="0dp"
 		app:layout_scrollFlags="scroll|exitUntilCollapsed">
 
@@ -20,6 +22,7 @@
 			android:id="@+id/toolbar_layout"
 			android:layout_width="match_parent"
 			android:layout_height="wrap_content"
+			android:background="?attr/list_background_color"
 			app:collapsedTitleTextAppearance="@style/AppBarTitle"
 			app:expandedTitleGravity="start|bottom"
 			app:expandedTitleMarginBottom="@dimen/content_padding_small"
@@ -41,7 +44,6 @@
 					android:id="@+id/toolbar_container"
 					android:layout_width="match_parent"
 					android:layout_height="wrap_content"
-					android:background="@color/color_transparent"
 					android:minHeight="@dimen/toolbar_height"
 					android:orientation="horizontal">
 
@@ -52,7 +54,7 @@
 						android:layout_height="@dimen/toolbar_height"
 						android:layout_gravity="center"
 						android:contentDescription="@string/shared_string_back"
-						android:tint="@color/icon_color_default_light"
+						app:tint="@color/icon_color_default_light"
 						app:srcCompat="@drawable/ic_arrow_back" />
 
 					<LinearLayout
@@ -106,6 +108,7 @@
 			android:background="?attr/list_background_color"
 			app:tabGravity="fill"
 			app:tabMaxWidth="0dp"
+			android:translationZ="-1dp"
 			app:tabMode="fixed">
 
 			<com.google.android.material.tabs.TabItem
@@ -141,11 +144,15 @@
 	<FrameLayout
 		android:layout_width="match_parent"
 		android:layout_height="match_parent"
+		android:clipChildren="false"
+		android:clipToPadding="false"
 		app:layout_behavior="@string/appbar_scrolling_view_behavior">
 
 		<LinearLayout
 			android:layout_width="match_parent"
 			android:layout_height="match_parent"
+			android:clipChildren="false"
+			android:clipToPadding="false"
 			android:orientation="vertical">
 
 			<androidx.viewpager2.widget.ViewPager2
@@ -154,11 +161,6 @@
 				android:layout_height="0dp"
 				android:layout_weight="1" />
 
-			<View
-				android:id="@+id/compensation_view"
-				android:layout_width="match_parent"
-				android:layout_height="0dp" />
-
 		</LinearLayout>
 
 		<androidx.appcompat.widget.AppCompatImageView
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
index 4f55c0e0671..ca2b9d3d12e 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/AddWidgetFragment.java
@@ -321,7 +321,7 @@ public static void showExternalWidgetDialog(@NonNull FragmentManager manager,
 	private static void showFragment(@NonNull FragmentManager manager, @NonNull AddWidgetFragment fragment) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			manager.beginTransaction()
-					.replace(R.id.fragmentContainer, fragment, TAG)
+					.add(R.id.fragmentContainer, fragment, TAG)
 					.addToBackStack(TAG)
 					.commitAllowingStateLoss();
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/cards/ConfigureWidgetsCard.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/cards/ConfigureWidgetsCard.java
index 1dc6cc0050b..a5ab1135e45 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/cards/ConfigureWidgetsCard.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/cards/ConfigureWidgetsCard.java
@@ -81,7 +81,7 @@ private void setupWidgetGroupView(@NonNull View view, @NonNull WidgetsPanel pane
 
 		updateWidgetsCount(view, count);
 
-		view.findViewById(R.id.button_container).setOnClickListener(v -> ConfigureWidgetsFragment.showInstance(getMapActivity(), panel, appMode));
+		view.findViewById(R.id.button_container).setOnClickListener(v -> ConfigureWidgetsFragment.showInstance(getMapActivity(), panel, appMode, null));
 
 		setupListItemBackground(view, appMode);
 		AndroidUiHelper.updateVisibility(view.findViewById(R.id.short_divider), panel == RIGHT);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
index dfa2f4abeea..d83c6830399 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
@@ -11,10 +11,8 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.view.ViewGroup.LayoutParams;
 import android.view.animation.DecelerateInterpolator;
 import android.widget.ImageButton;
-import android.widget.LinearLayout;
 import android.widget.TextView;
 
 import androidx.activity.OnBackPressedCallback;
@@ -74,7 +72,6 @@ public class ConfigureWidgetsFragment extends BaseOsmAndFragment implements Widg
 	private static final String CONTEXT_SELECTED_PANEL = "context_selected_panel";
 	private static final String ADD_TO_NEXT = "widget_order";
 	private static final String EDIT_MODE_KEY = "edit_mode_key";
-	private static final String ADD_NEW_WIDGET_MENU_KEY = "add_new_widget_menu";
 	private static final int ANIMATION_DURATION = 300;
 
 	private DialogManager dialogManager;
@@ -90,13 +87,13 @@ public class ConfigureWidgetsFragment extends BaseOsmAndFragment implements Widg
 	private TabLayout tabLayout;
 	private ViewPager2 viewPager;
 	private View bottomButtons;
+	private View shadowView;
 	private View bottomButtonsShadow;
 	private FloatingActionButton fabNewWidget;
 	private TextView toolbarTitleView;
 	private View view;
 
 	public boolean isEditMode = false;
-	public boolean newWidgetAdded = false;
 
 	public void setSelectedPanel(@NonNull WidgetsPanel panel) {
 		this.selectedPanel = panel;
@@ -120,7 +117,12 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 			selectedAppMode = ApplicationMode.valueOfStringKey(appModeKey, settings.getApplicationMode());
 			selectedPanel = WidgetsPanel.valueOf(savedInstanceState.getString(SELECTED_GROUP_ATTR));
 			isEditMode = savedInstanceState.getBoolean(EDIT_MODE_KEY, false);
-			newWidgetAdded = savedInstanceState.getBoolean(ADD_NEW_WIDGET_MENU_KEY, false);
+		}
+
+		Bundle args = getArguments();
+		if (args != null && (args.containsKey(CONTEXT_SELECTED_WIDGET)
+				|| args.containsKey(ADD_TO_NEXT))) {
+			addNewWidget();
 		}
 	}
 
@@ -142,18 +144,11 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 		bottomButtonsShadow = view.findViewById(R.id.buttons_shadow);
 		toolbarTitleView = toolbar.findViewById(R.id.toolbar_title);
 		bottomButtons = view.findViewById(R.id.buttons_container);
+		shadowView = view.findViewById(R.id.shadow_view);
 
-		setupToolbar();
-		setupTabLayout();
-		toggleEditMode(isEditMode);
-		setupApplyButton();
-
-		return view;
-	}
+		bottomButtons.setVisibility(View.GONE);
+		bottomButtonsShadow.setVisibility(View.GONE);
 
-	@Override
-	public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
-		super.onViewCreated(view, savedInstanceState);
 		requireActivity().getOnBackPressedDispatcher().addCallback(getViewLifecycleOwner(), new OnBackPressedCallback(true) {
 			@Override
 			public void handleOnBackPressed() {
@@ -161,18 +156,18 @@ public void handleOnBackPressed() {
 			}
 		});
 
-		Bundle args = getArguments();
-		if (!newWidgetAdded && args != null && (args.containsKey(CONTEXT_SELECTED_WIDGET)
-				|| args.containsKey(CONTEXT_SELECTED_PANEL)
-				|| args.containsKey(ADD_TO_NEXT))) {
-			newWidgetAdded = true;
-			addNewWidget();
-		}
+		setupToolbar();
+		setupTabLayout();
+		toggleEditMode(isEditMode);
+		setupApplyButton();
+
+		return view;
 	}
 
 	private void closeFragment() {
 		if (isEditMode) {
 			toggleEditMode(false);
+			selectedFragment.updateEditMode();
 		} else {
 			requireActivity().getSupportFragmentManager().popBackStack();
 		}
@@ -188,8 +183,9 @@ private void setupToolbar() {
 		infoButton.setOnClickListener(v -> {
 			if (!isEditMode) {
 				toggleEditMode(true);
+				selectedFragment.updateEditMode();
 			} else if (selectedFragment != null) {
-				selectedFragment.updateAdapter();
+				selectedFragment.resetToOriginal();
 			}
 		});
 
@@ -261,7 +257,7 @@ private void setupApplyButton() {
 			if (isEditMode && selectedFragment != null) {
 				selectedFragment.onApplyChanges();
 				toggleEditMode(false);
-				selectedFragment.updateContent();
+				selectedFragment.reloadWidgets();
 			}
 		});
 		AndroidUiHelper.updateVisibility(applyButton, true);
@@ -307,29 +303,104 @@ public void addNewWidget() {
 
 	private void toggleEditMode(boolean editMode) {
 		isEditMode = editMode;
+		adjustViewPagerHeight();
 
 		AppBarLayout.LayoutParams params = (AppBarLayout.LayoutParams) collapsingToolbarLayout.getLayoutParams();
 		params.setScrollFlags(AppBarLayout.LayoutParams.SCROLL_FLAG_NO_SCROLL);
 		if (isEditMode) {
 			params.setScrollFlags(AppBarLayout.LayoutParams.SCROLL_FLAG_NO_SCROLL);
 			appBar.setExpanded(true, true);
-			tabLayout.setVisibility(View.GONE);
+			bottomButtons.setVisibility(View.VISIBLE);
+			bottomButtonsShadow.setVisibility(View.VISIBLE);
+
+			if (isDisableAnimations()) {
+				tabLayout.setVisibility(View.GONE);
+			} else {
+				bottomButtons.setTranslationY(bottomButtons.getHeight());
+				bottomButtonsShadow.setTranslationY(bottomButtons.getHeight() - bottomButtonsShadow.getHeight());
+				appBar.setElevation(0f);
+				tabLayout.animate()
+						.translationY(-tabLayout.getHeight())
+						.alpha(0f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> tabLayout.setVisibility(View.INVISIBLE))
+						.start();
+
+				viewPager.animate()
+						.translationY(-tabLayout.getHeight())
+						.setDuration(ANIMATION_DURATION)
+						.start();
+
+				shadowView.animate()
+						.translationY(-tabLayout.getHeight())
+						.setDuration(ANIMATION_DURATION)
+						.start();
+
+				bottomButtons.animate()
+						.translationY(0)
+						.alpha(1f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> bottomButtons.setVisibility(View.VISIBLE))
+						.start();
+
+				bottomButtonsShadow.animate()
+						.translationY(0)
+						.alpha(1f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> bottomButtonsShadow.setVisibility(View.VISIBLE))
+						.start();
+			}
 		} else {
 			params.setScrollFlags(AppBarLayout.LayoutParams.SCROLL_FLAG_SCROLL | AppBarLayout.LayoutParams.SCROLL_FLAG_ENTER_ALWAYS);
 			tabLayout.setVisibility(View.VISIBLE);
-		}
-		if (selectedFragment != null) {
-			selectedFragment.updateAdapter();
+			if (!isDisableAnimations()) {
+				tabLayout.animate()
+						.translationY(0)
+						.alpha(1f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> appBar.setElevation(getResources().getDimension(R.dimen.abp__shadow_height)))
+						.start();
+				viewPager.animate()
+						.translationY(0)
+						.setDuration(ANIMATION_DURATION)
+						.start();
+
+				shadowView.animate()
+						.translationY(0)
+						.setDuration(ANIMATION_DURATION)
+						.start();
+
+				bottomButtons.animate()
+						.translationY(bottomButtons.getHeight())
+						.alpha(0f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> bottomButtons.setVisibility(View.INVISIBLE))
+						.start();
+
+				bottomButtonsShadow.animate()
+						.translationY(bottomButtons.getHeight() - bottomButtonsShadow.getHeight())
+						.alpha(0f)
+						.setDuration(ANIMATION_DURATION)
+						.withEndAction(() -> bottomButtonsShadow.setVisibility(View.INVISIBLE))
+						.start();
+			} else {
+				bottomButtons.setVisibility(View.GONE);
+				bottomButtonsShadow.setVisibility(View.GONE);
+			}
 		}
 
-		AndroidUiHelper.updateVisibility(bottomButtons, isEditMode);
 		AndroidUiHelper.updateVisibility(bottomButtonsShadow, isEditMode);
-		updateCompensationView();
 		updateFabPosition(isEditMode);
 		viewPager.setUserInputEnabled(!isEditMode);
 		updateToolbar();
 	}
 
+	private void adjustViewPagerHeight() {
+		ViewGroup.LayoutParams params = viewPager.getLayoutParams();
+		params.height = params.height + tabLayout.getHeight();
+		viewPager.setLayoutParams(params);
+	}
+
 	private void updateFabPosition(boolean isEditing) {
 		int translationY = isEditing ? -dpToPx(requireMapActivity(), 60) : 0;
 		if (isDisableAnimations()) {
@@ -349,7 +420,6 @@ public void onSaveInstanceState(@NonNull Bundle outState) {
 		outState.putString(APP_MODE_ATTR, selectedAppMode.getStringKey());
 		outState.putString(SELECTED_GROUP_ATTR, selectedPanel.name());
 		outState.putBoolean(EDIT_MODE_KEY, isEditMode);
-		outState.putBoolean(ADD_NEW_WIDGET_MENU_KEY, newWidgetAdded);
 	}
 
 	private void setupTabLayout() {
@@ -416,17 +486,10 @@ public void setupTabIconColor(@Nullable Tab tab, int color) {
 		}
 	}
 
-	private void updateCompensationView() {
-		int height = getResources().getDimensionPixelSize(R.dimen.dialog_button_ex_height);
-		View compensationView = view.findViewById(R.id.compensation_view);
-		compensationView.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, height));
-		AndroidUiHelper.updateVisibility(compensationView, isEditMode);
-	}
-
 	@Override
 	public void onWidgetsConfigurationChanged() {
 		if (selectedFragment != null && !isEditMode) {
-			selectedFragment.updateContent();
+			selectedFragment.reloadWidgets();
 		}
 	}
 
@@ -448,15 +511,12 @@ public void createWidgets(@NonNull List<MapWidgetInfo> newWidgetInfos) {
 		for (MapWidgetInfo widgetInfo : newWidgetInfos) {
 			Bundle args = getArguments();
 			if (args != null) {
-				int contextPanelIndex = args.getInt(CONTEXT_SELECTED_PANEL, -1);
-				if (contextPanelIndex != -1 && WidgetsPanel.values()[contextPanelIndex] == selectedPanel) {
-					String selectedWidget = args.getString(CONTEXT_SELECTED_WIDGET);
-					boolean addToNext = args.getBoolean(ADD_TO_NEXT);
-					if (selectedWidget != null) {
-						createNewWidget(requireMapActivity(), widgetInfo, selectedPanel, selectedAppMode, true, selectedWidget, addToNext);
-						onWidgetsConfigurationChanged();
-						return;
-					}
+				String selectedWidget = args.getString(CONTEXT_SELECTED_WIDGET);
+				boolean addToNext = args.getBoolean(ADD_TO_NEXT);
+				if (selectedWidget != null) {
+					createNewWidget(requireMapActivity(), widgetInfo, selectedPanel, selectedAppMode, true, selectedWidget, addToNext);
+					onWidgetsConfigurationChanged();
+					return;
 				}
 			}
 			createNewWidget(requireMapActivity(), widgetInfo, selectedPanel, selectedAppMode, true);
@@ -515,7 +575,7 @@ public void onActionConfirmed(int actionId) {
 		helper.resetWidgetsForPanel(selectedPanel);
 
 		if (selectedFragment != null) {
-			selectedFragment.updateContent();
+			selectedFragment.reloadWidgets();
 		}
 		MapInfoLayer mapInfoLayer = app.getOsmandMap().getMapLayers().getMapInfoLayer();
 		if (mapInfoLayer != null) {
@@ -537,17 +597,20 @@ public void copyAppModePrefs(@NonNull ApplicationMode appMode) {
 				mapInfoLayer.recreateAllControls(requireMapActivity());
 			}
 			if (selectedFragment != null) {
-				selectedFragment.updateContent();
+				selectedFragment.reloadWidgets();
 			}
 		}
 	}
 
-	public static void showInstance(@NonNull FragmentActivity activity, @NonNull WidgetsPanel panel, @NonNull ApplicationMode appMode) {
+	public static void showInstance(@NonNull FragmentActivity activity, @NonNull WidgetsPanel panel, @NonNull ApplicationMode appMode, @Nullable Bundle args) {
 		FragmentManager fragmentManager = activity.getSupportFragmentManager();
 		if (AndroidUtils.isFragmentCanBeAdded(fragmentManager, TAG)) {
 			ConfigureWidgetsFragment fragment = new ConfigureWidgetsFragment();
 			fragment.setSelectedPanel(panel);
 			fragment.setSelectedAppMode(appMode);
+			if (args != null) {
+				fragment.setArguments(args);
+			}
 			fragmentManager.beginTransaction()
 					.replace(R.id.fragmentContainer, fragment, TAG)
 					.addToBackStack(TAG)
@@ -556,20 +619,11 @@ public static void showInstance(@NonNull FragmentActivity activity, @NonNull Wid
 	}
 
 	public static void showInstance(@NonNull FragmentActivity activity, @NonNull WidgetsPanel panel, @NonNull ApplicationMode appMode, @NonNull String selectedWidget, boolean addNext) {
-		FragmentManager fragmentManager = activity.getSupportFragmentManager();
-		if (AndroidUtils.isFragmentCanBeAdded(fragmentManager, TAG)) {
-			ConfigureWidgetsFragment fragment = new ConfigureWidgetsFragment();
-			fragment.setSelectedPanel(panel);
-			fragment.setSelectedAppMode(appMode);
-			Bundle args = new Bundle();
-			args.putString(CONTEXT_SELECTED_WIDGET, selectedWidget);
-			args.putInt(CONTEXT_SELECTED_PANEL, panel.ordinal());
-			args.putBoolean(ADD_TO_NEXT, addNext);
-			fragment.setArguments(args);
-			fragmentManager.beginTransaction()
-					.replace(R.id.fragmentContainer, fragment, TAG)
-					.addToBackStack(TAG)
-					.commitAllowingStateLoss();
-		}
+		Bundle args = new Bundle();
+		args.putString(CONTEXT_SELECTED_WIDGET, selectedWidget);
+		args.putInt(CONTEXT_SELECTED_PANEL, panel.ordinal());
+		args.putBoolean(ADD_TO_NEXT, addNext);
+
+		ConfigureWidgetsFragment.showInstance(activity, panel, appMode, args);
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
index b8a3cd35931..c4c05cbb2d1 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/SearchWidgetsFragment.java
@@ -23,6 +23,7 @@
 import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
+import androidx.fragment.app.FragmentManager.FragmentLifecycleCallbacks;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
@@ -75,7 +76,7 @@ public class SearchWidgetsFragment extends BaseOsmAndFragment implements SearchW
 	private ImageView backButton;
 	private TextView title;
 	private EditText editText;
-
+	private FragmentLifecycleCallbacks lifecycleCallbacks;
 	private boolean searchMode = false;
 	private String searchQuery = "";
 	private OnBackPressedCallback onBackPressedCallback;
@@ -135,6 +136,26 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 
 		setupButtonListeners();
 		setupToolbar();
+			lifecycleCallbacks = new FragmentManager.FragmentLifecycleCallbacks() {
+			@Override
+			public void onFragmentDestroyed(@NonNull FragmentManager fm, @NonNull Fragment f) {
+				super.onFragmentDestroyed(fm, f);
+				Fragment currentFragment = getParentFragmentManager().findFragmentById(R.id.fragmentContainer);
+				if (currentFragment instanceof SearchWidgetsFragment) {
+					onBackPressedCallback.setEnabled(true);
+				}
+			}
+
+			@Override
+			public void onFragmentResumed(@NonNull FragmentManager fm, @NonNull Fragment f) {
+				super.onFragmentResumed(fm, f);
+				onBackPressedCallback.setEnabled(false);
+				if (editText.hasFocus()) {
+					AndroidUtils.hideSoftKeyboard(requireMapActivity(), editText);
+				}
+			}
+		};
+		getParentFragmentManager().registerFragmentLifecycleCallbacks(lifecycleCallbacks, false);
 
 		toggleSearchMode(searchMode);
 
@@ -394,7 +415,6 @@ private void updateSearchResults(@NonNull String query) {
 
 	@Override
 	public void widgetSelected(@NonNull WidgetType widgetType) {
-		editText.clearFocus();
 
 		Fragment target = getTargetFragment();
 		if (widgetType.isPurchased(app)) {
@@ -409,9 +429,25 @@ public void widgetSelected(@NonNull WidgetType widgetType) {
 		}
 	}
 
+	@Override
+	public void onStop() {
+		super.onStop();
+	}
+
+	@Override
+	public void onDestroyView() {
+		super.onDestroyView();
+	}
+
+	@Override
+	public void onDestroy() {
+		super.onDestroy();
+		getParentFragmentManager().unregisterFragmentLifecycleCallbacks(lifecycleCallbacks);
+
+	}
+
 	@Override
 	public void externalWidgetSelected(@NonNull MapWidgetInfo widgetInfo) {
-		editText.clearFocus();
 
 		FragmentActivity activity = getActivity();
 		Fragment target = getTargetFragment();
@@ -426,7 +462,6 @@ public void externalWidgetSelected(@NonNull MapWidgetInfo widgetInfo) {
 
 	@Override
 	public void groupSelected(@NonNull WidgetGroup group) {
-		editText.clearFocus();
 
 		FragmentActivity activity = getActivity();
 		Fragment target = getTargetFragment();
@@ -517,7 +552,7 @@ public static void showInstance(@NonNull FragmentActivity activity, @NonNull Wid
 			fragment.selectedPanel = selectedPanel;
 			fragment.setTargetFragment(target, 0);
 			manager.beginTransaction()
-					.replace(R.id.fragmentContainer, fragment, TAG)
+					.add(R.id.fragmentContainer, fragment, TAG)
 					.addToBackStack(TAG)
 					.commitAllowingStateLoss();
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java
index 1c7fb538331..3f757f575ac 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListAdapter.java
@@ -1,6 +1,14 @@
 package net.osmand.plus.views.mapwidgets.configure.panel;
 
 import static net.osmand.plus.views.mapwidgets.WidgetType.isComplexWidget;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.WidgetsListDiffCallback.PAYLOAD_DIVIDER_STATE_CHANGED;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.WidgetsListDiffCallback.PAYLOAD_EDIT_MODE_CHANGED;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.WidgetsListDiffCallback.PAYLOAD_MOVE_STATE_CHANGED;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.WidgetsListDiffCallback.PAYLOAD_UPDATE_ALL;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.WidgetsListDiffCallback.PAYLOAD_UPDATE_POSITION;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.getRowWidgetIds;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.isFirstPage;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListFragment.rowHasComplexWidget;
 
 import android.annotation.SuppressLint;
 import android.content.Context;
@@ -32,16 +40,17 @@
 
 import java.util.ArrayList;
 import java.util.List;
+import java.util.Objects;
 
 public class WidgetsListAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder> implements OnItemMoveCallback {
 
-	private static final int VIEW_TYPE_PAGE = 0;
-	private static final int VIEW_TYPE_WIDGET = 1;
-	private static final int VIEW_TYPE_DIVIDER = 2;
-	private static final int VIEW_TYPE_ADD_PAGE = 3;
-	private static final int VIEW_TYPE_SPACE = 4;
-	private static final int VIEW_TYPE_EMPTY_STATE = 5;
-	private static final int VIEW_TYPE_SHADOW = 6;
+	public static final int VIEW_TYPE_PAGE = 0;
+	public static final int VIEW_TYPE_WIDGET = 1;
+	public static final int VIEW_TYPE_DIVIDER = 2;
+	public static final int VIEW_TYPE_ADD_PAGE = 3;
+	public static final int VIEW_TYPE_SPACE = 4;
+	public static final int VIEW_TYPE_EMPTY_STATE = 5;
+	public static final int VIEW_TYPE_SHADOW = 6;
 
 	private final List<Object> items = new ArrayList<>();
 	private final List<Object> itemsBeforeAction = new ArrayList<>();
@@ -54,6 +63,8 @@ public class WidgetsListAdapter extends RecyclerView.Adapter<RecyclerView.ViewHo
 	private final boolean isVerticalPanel;
 	private final WidgetIconsHelper iconsHelper;
 
+	private boolean isEditMode;
+
 	public interface WidgetsAdapterListener {
 		void onPageDeleted(int position, Object item);
 
@@ -68,6 +79,10 @@ public interface WidgetsAdapterListener {
 		boolean isEditMode();
 
 		void onMoveStarted();
+
+		void refreshAll();
+
+		void restoreBackup();
 	}
 
 	public WidgetsListAdapter(@NonNull MapActivity mapActivity, boolean nightMode,
@@ -88,13 +103,27 @@ public void attachToRecyclerView(RecyclerView recyclerView) {
 		itemTouchHelper.attachToRecyclerView(recyclerView);
 	}
 
+	@NonNull
 	public List<Object> getItems() {
 		return items;
 	}
 
+	public void setEditMode(boolean editMode) {
+		this.isEditMode = editMode;
+	}
+
+	public boolean isCurrentlyInEditMode() {
+		return isEditMode;
+	}
+
+	@NonNull
+	public List<Object> getBackupItems() {
+		return itemsBeforeAction;
+	}
+
 	@Override
 	public boolean onItemMove(int fromPosition, int toPosition) {
-		if (isFirstPage(toPosition)) {
+		if (isFirstPage(toPosition, items)) {
 			return false;
 		}
 
@@ -148,8 +177,8 @@ private boolean isValidPageStructure(@NonNull List<Object> itemsList) {
 			if (item instanceof PageItem) {
 				hasComplexWidgetInCurrentPage = false;
 				hasRegularWidgetInCurrentPage = false;
-			} else if (item instanceof MapWidgetInfo widget) {
-				if (isComplexWidget(widget.key)) {
+			} else if (item instanceof WidgetItem widgetItem) {
+				if (isComplexWidget(widgetItem.mapWidgetInfo.key)) {
 					if (hasComplexWidgetInCurrentPage) {
 						return false;
 					}
@@ -176,12 +205,11 @@ public void onItemDismiss(@NonNull RecyclerView.ViewHolder holder) {
 			Integer multipleComplexIndex = multipleComplexWidgetsInRowIndex(items);
 			if (multipleComplexIndex != null) {
 				app.showToastMessage(app.getString(R.string.complex_widget_alert, getComplexWidgetName(multipleComplexIndex, items)));
-				items.clear();
-				items.addAll(itemsBeforeAction);
+				listener.restoreBackup();
+				return;
 			}
 		}
-		updatePageIndexes();
-		notifyDataSetChanged();
+		listener.refreshAll();
 	}
 
 	@Nullable
@@ -206,73 +234,10 @@ private String getComplexWidgetName(int rowPosition, @NonNull List<Object> check
 		return null;
 	}
 
-	private void updatePageIndexes() {
-		int pageNumber = 1;
-		for (Object item : items) {
-			if (item instanceof PageItem pageItem) {
-				pageItem.pageNumber = pageNumber;
-				pageNumber++;
-			}
-		}
-	}
-
-	@SuppressLint("NotifyDataSetChanged")
-	private void updateItemsForEditMode(List<List<MapWidgetInfo>> pagedWidgets) {
-		boolean isEmpty = pagedWidgets.stream().allMatch(List::isEmpty);
-		if (isEmpty) {
-			items.clear();
-			items.add(VIEW_TYPE_DIVIDER);
-			items.add(VIEW_TYPE_EMPTY_STATE);
-			items.add(VIEW_TYPE_SHADOW);
-			notifyDataSetChanged();
-			return;
-		}
-
-		if (listener.isEditMode()) {
-			items.clear();
-			items.add(VIEW_TYPE_DIVIDER);
-
-			int pageNumber = 1;
-			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
-				PageItem pageItem = new PageItem(pageNumber);
-				items.add(pageItem);
-				items.addAll(widgetsOnPage);
-
-				pageNumber++;
-			}
-
-			items.add(VIEW_TYPE_ADD_PAGE);
-			items.add(VIEW_TYPE_SHADOW);
-			items.add(VIEW_TYPE_SPACE);
-		} else {
-			items.clear();
-			items.add(VIEW_TYPE_DIVIDER);
-
-			int pageNumber = 1;
-			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
-
-				PageItem pageItem = new PageItem(pageNumber);
-				items.add(pageItem);
-				items.addAll(widgetsOnPage);
-
-				pageNumber++;
-			}
-
-			items.add(VIEW_TYPE_SHADOW);
-			items.add(VIEW_TYPE_SPACE);
-		}
-		notifyDataSetChanged();
-	}
-
-	public void setData(List<List<MapWidgetInfo>> pagedWidgets) {
-		updateItemsForEditMode(pagedWidgets);
-	}
-
 	@SuppressLint("NotifyDataSetChanged")
 	public void setItems(@NonNull List<Object> items) {
 		this.items.clear();
 		this.items.addAll(items);
-		notifyDataSetChanged();
 	}
 
 	@NonNull
@@ -286,9 +251,9 @@ public List<List<MapWidgetInfo>> getWidgetsData() {
 					result.add(currentPage);
 				}
 				currentPage = new ArrayList<>();
-			} else if (item instanceof MapWidgetInfo widgetInfo && currentPage != null) {
-				widgetInfo.priority = 0;
-				currentPage.add(widgetInfo);
+			} else if (item instanceof WidgetItem widgetItem && currentPage != null) {
+				widgetItem.mapWidgetInfo.priority = 0;
+				currentPage.add(widgetItem.mapWidgetInfo);
 			}
 		}
 
@@ -307,11 +272,11 @@ public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int
 		return switch (viewType) {
 			case VIEW_TYPE_PAGE -> {
 				View pageView = inflater.inflate(R.layout.configure_screen_list_item_page_reorder, parent, false);
-				yield new PageViewHolder(pageView);
+				yield new PageViewHolder(app, selectedAppMode, pageView);
 			}
 			case VIEW_TYPE_WIDGET -> {
 				View widgetView = inflater.inflate(R.layout.configure_screen_list_item_widget_reorder, parent, false);
-				yield new WidgetViewHolder(widgetView);
+				yield new WidgetViewHolder(app, selectedAppMode, widgetView);
 			}
 			case VIEW_TYPE_DIVIDER -> {
 				View dividerView = inflater.inflate(R.layout.list_item_divider, parent, false);
@@ -341,12 +306,7 @@ public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int positi
 		if (holder instanceof PageViewHolder pageViewHolder) {
 			pageViewHolder.bind(mapActivity, listener, itemTouchHelper, this, position, (PageItem) item, isVerticalPanel, nightMode);
 		} else if (holder instanceof WidgetViewHolder widgetViewHolder) {
-			boolean showDivider = false;
-			int nextItemIndex = position + 1;
-			if (items.size() > nextItemIndex && items.get(nextItemIndex) instanceof MapWidgetInfo) {
-				showDivider = true;
-			}
-			widgetViewHolder.bind(mapActivity, selectedAppMode, listener, itemTouchHelper, (MapWidgetInfo) item, iconsHelper, position, nightMode, showDivider);
+			widgetViewHolder.bind(mapActivity, selectedAppMode, listener, itemTouchHelper, (WidgetItem) item, iconsHelper, position, nightMode);
 		} else if (holder instanceof AddPageViewHolder addPageViewHolder) {
 			addPageViewHolder.bind(listener);
 		} else if (holder instanceof SpaceViewHolder spaceViewHolder) {
@@ -356,41 +316,81 @@ public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int positi
 		}
 	}
 
-	@NonNull
-	public ArrayList<MapWidgetInfo> getRowWidgetIds(int rowPosition, @Nullable List<Object> searchItems) {
-		List<Object> list = searchItems != null ? searchItems : items;
-		ArrayList<MapWidgetInfo> rowWidgetIds = new ArrayList<>();
-		Object item = list.get(++rowPosition);
-
-		while (rowPosition < list.size() && item instanceof MapWidgetInfo) {
-			item = list.get(rowPosition);
-			if (item instanceof MapWidgetInfo) {
-				rowWidgetIds.add((MapWidgetInfo) item);
+	@Override
+	public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position, @NonNull List<Object> payloads) {
+		if (payloads.isEmpty()) {
+			super.onBindViewHolder(holder, position, payloads);
+			return;
+		}
+		for (Object payload : payloads) {
+			if (payload instanceof List<?> changes) {
+				onPayload(changes, holder, position);
+
+				return;
 			}
-			rowPosition++;
 		}
-		return rowWidgetIds;
+		super.onBindViewHolder(holder, position, payloads);
 	}
 
-	public int getPreviousRowPosition(int currentRowPosition) {
-		currentRowPosition--;
-		while (currentRowPosition >= 0) {
-			if (items.get(currentRowPosition) instanceof PageItem) {
-				return currentRowPosition;
+	private void onPayload(List<?> changes, @NonNull RecyclerView.ViewHolder holder, int position){
+		Object item = items.get(position);
+
+		boolean editModeChanged = changes.contains(PAYLOAD_EDIT_MODE_CHANGED);
+		boolean moveStateChanged = changes.contains(PAYLOAD_MOVE_STATE_CHANGED);
+		boolean dividerChanged = changes.contains(PAYLOAD_DIVIDER_STATE_CHANGED);
+		boolean updateAll = changes.contains(PAYLOAD_UPDATE_ALL);
+		boolean updatePosition = changes.contains(PAYLOAD_UPDATE_POSITION);
+
+		if (holder instanceof PageViewHolder pageViewHolder) {
+			if (updateAll) {
+				pageViewHolder.bind(mapActivity, listener, itemTouchHelper, this, position, (PageItem) item, isVerticalPanel, nightMode);
+				return;
+			}
+			if (moveStateChanged || updatePosition) {
+				pageViewHolder.updateButtons(app, listener, (PageItem) item, position, nightMode);
+			}
+			if (editModeChanged) {
+				pageViewHolder.updateEditMode(listener, itemTouchHelper);
+			}
+			if (updatePosition) {
+				pageViewHolder.updateTitle(app, (PageItem) item, isVerticalPanel);
+			}
+
+		} else if (holder instanceof WidgetViewHolder widgetViewHolder) {
+			if (updateAll) {
+				widgetViewHolder.bind(mapActivity, selectedAppMode, listener, itemTouchHelper, (WidgetItem) item, iconsHelper, position, nightMode);
+				return;
+			}
+			if (updatePosition) {
+				widgetViewHolder.updatePosition(listener, position, (WidgetItem) item);
+			}
+			if (dividerChanged) {
+				widgetViewHolder.updateDivider((WidgetItem) item);
+			}
+			if (editModeChanged) {
+				widgetViewHolder.updateEditMode(app, listener, itemTouchHelper, selectedAppMode, (WidgetItem) item, nightMode);
 			}
-			currentRowPosition--;
 		}
-		return -1;
 	}
 
-	public boolean rowHasComplexWidget(int rowPosition, @Nullable List<Object> searchItems) {
-		ArrayList<MapWidgetInfo> rowWidgetIds = getRowWidgetIds(rowPosition, searchItems != null ? searchItems : items);
-		for (MapWidgetInfo widgetUiInfo : rowWidgetIds) {
-			if (isComplexWidget(widgetUiInfo.key)) {
-				return true;
-			}
+	@Override
+	public int getItemCount() {
+		return items.size();
+	}
+
+	@Override
+	public int getItemViewType(int position) {
+		Object item = items.get(position);
+
+		if (item instanceof PageItem) {
+			return VIEW_TYPE_PAGE;
+		} else if (item instanceof WidgetItem) {
+			return VIEW_TYPE_WIDGET;
+		} else if (item instanceof Integer integer) {
+			return integer;
 		}
-		return false;
+
+		return -1;
 	}
 
 	public void actionStarted() {
@@ -400,15 +400,6 @@ public void actionStarted() {
 		}
 	}
 
-	public boolean isFirstPage(int position) {
-		for (int i = 0; i < position; i++) {
-			if (items.get(i) instanceof PageItem) {
-				return false;
-			}
-		}
-		return true;
-	}
-
 	public void removeItem(int position) {
 		if (position >= 0 && position < items.size()) {
 			if (isVerticalPanel) {
@@ -422,8 +413,7 @@ public void removeItem(int position) {
 			}
 			items.remove(position);
 			notifyItemRemoved(position);
-			updatePageIndexes();
-			notifyItemRangeChanged(0, items.size());
+			listener.refreshAll();
 		}
 	}
 
@@ -440,7 +430,7 @@ public void addWidget(@NonNull MapWidgetInfo widgetInfo) {
 			insertToEndOfAddedWidgets(new PageItem(page));
 		}
 
-		insertToEndOfAddedWidgets(widgetInfo);
+		insertToEndOfAddedWidgets(new WidgetItem(widgetInfo));
 	}
 
 	@SuppressLint("NotifyDataSetChanged")
@@ -448,7 +438,7 @@ private void insertToEndOfAddedWidgets(@NonNull Object listItem) {
 		int insertIndex = getIndexOfLastWidgetOrPageItem() + 1;
 		items.add(insertIndex, listItem);
 		notifyItemInserted(insertIndex);
-		notifyDataSetChanged();
+		listener.refreshAll();
 	}
 
 	private int getIndexOfLastWidgetOrPageItem() {
@@ -456,7 +446,7 @@ private int getIndexOfLastWidgetOrPageItem() {
 		for (int i = 0; i < items.size(); i++) {
 			Object item = items.get(i);
 			boolean suitableIndex = (index == -1 && item instanceof Integer integer && VIEW_TYPE_DIVIDER == integer)
-					|| item instanceof PageItem || item instanceof MapWidgetInfo;
+					|| item instanceof PageItem || item instanceof WidgetItem;
 			if (suitableIndex) {
 				index = i;
 			}
@@ -475,31 +465,55 @@ private int getLastPage() {
 		return maximumPageIndex;
 	}
 
-	@Override
-	public int getItemCount() {
-		return items.size();
-	}
+	public static class PageItem {
+		public int pageNumber;
+		public boolean movable = false;
+		public String deleteMessage = null;
 
-	@Override
-	public int getItemViewType(int position) {
-		Object item = items.get(position);
+		public PageItem(int pageNumber) {
+			this.pageNumber = pageNumber;
+		}
 
-		if (item instanceof PageItem) {
-			return VIEW_TYPE_PAGE;
-		} else if (item instanceof MapWidgetInfo) {
-			return VIEW_TYPE_WIDGET;
-		} else if (item instanceof Integer integer) {
-			return integer;
+		@Override
+		public boolean equals(Object obj) {
+			if (this == obj) return true;
+			if (obj == null || getClass() != obj.getClass()) return false;
+
+			PageItem that = (PageItem) obj;
+
+			return pageNumber == that.pageNumber &&
+					movable == that.movable &&
+					Objects.equals(deleteMessage, that.deleteMessage);
 		}
 
-		return -1;
+		@Override
+		public int hashCode() {
+			return Objects.hash(pageNumber, movable, deleteMessage);
+		}
 	}
 
-	public static class PageItem {
-		public int pageNumber;
+	public static class WidgetItem {
+		public MapWidgetInfo mapWidgetInfo;
+		public boolean showBottomDivider = false;
 
-		public PageItem(int pageNumber) {
-			this.pageNumber = pageNumber;
+		public WidgetItem(@NonNull MapWidgetInfo mapWidgetInfo) {
+			this.mapWidgetInfo = mapWidgetInfo;
+		}
+
+		@Override
+		public boolean equals(Object obj) {
+			if (this == obj) return true;
+			if (obj == null || getClass() != obj.getClass()) return false;
+
+			WidgetItem that = (WidgetItem) obj;
+
+			return showBottomDivider == that.showBottomDivider &&
+					Objects.equals(mapWidgetInfo, that.mapWidgetInfo);
+		}
+
+		@Override
+		public int hashCode() {
+			return Objects.hash(mapWidgetInfo, showBottomDivider);
 		}
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
index 1c3707065ce..bf0491f5a83 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
@@ -1,8 +1,15 @@
 package net.osmand.plus.views.mapwidgets.configure.panel;
 
+import static androidx.recyclerview.widget.DiffUtil.calculateDiff;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.AVAILABLE_MODE;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.ENABLED_MODE;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.MATCHING_PANELS_MODE;
+import static net.osmand.plus.views.mapwidgets.WidgetType.isComplexWidget;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.VIEW_TYPE_ADD_PAGE;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.VIEW_TYPE_DIVIDER;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.VIEW_TYPE_EMPTY_STATE;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.VIEW_TYPE_SHADOW;
+import static net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.VIEW_TYPE_SPACE;
 
 import android.os.Bundle;
 import android.view.LayoutInflater;
@@ -14,6 +21,8 @@
 import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
+import androidx.recyclerview.widget.DiffUtil.Callback;
+import androidx.recyclerview.widget.DiffUtil.DiffResult;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
@@ -33,11 +42,14 @@
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.plus.views.mapwidgets.configure.WidgetsSettingsHelper;
 import net.osmand.plus.views.mapwidgets.configure.dialogs.AddWidgetFragment;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.PageItem;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetItem;
 import net.osmand.plus.views.mapwidgets.configure.settings.WidgetInfoBaseFragment;
 import net.osmand.util.Algorithms;
 
 import java.util.ArrayList;
 import java.util.List;
+import java.util.Objects;
 import java.util.Set;
 
 public class WidgetsListFragment extends Fragment implements ConfirmationBottomSheet.ConfirmationDialogListener,
@@ -100,11 +112,12 @@ private void setupRecyclerView() {
 		recyclerView.setAdapter(adapter);
 		adapter.attachToRecyclerView(recyclerView);
 
-		if (isEditMode()) {
-			adapter.setItems(controller.getReorderList());
-		} else {
-			adapter.setData(originalWidgetsData);
+		boolean disableAnimation = app.getSettings().DO_NOT_USE_ANIMATIONS.getModeValue(selectedAppMode);
+		if (disableAnimation) {
+			recyclerView.setItemAnimator(null);
 		}
+
+		updateWidgetItems(originalWidgetsData);
 	}
 
 	@Override
@@ -127,18 +140,6 @@ public void onPause() {
 		}
 	}
 
-	public void updateAdapter() {
-		adapter.setData(originalWidgetsData);
-	}
-
-	public void updateContent() {
-		if (adapter != null) {
-			List<List<MapWidgetInfo>> newData = getPagedWidgets();
-			originalWidgetsData = newData;
-			adapter.setData(newData);
-		}
-	}
-
 	@NonNull
 	private List<List<MapWidgetInfo>> getPagedWidgets() {
 		MapActivity mapActivity = requireMapActivity();
@@ -291,6 +292,49 @@ public void onMoveStarted() {
 		adapter.actionStarted();
 	}
 
+	private void updatePageIndexes(@NonNull List<Object> items) {
+		int pageNumber = 1;
+		for (Object item : items) {
+			if (item instanceof PageItem pageItem) {
+				pageItem.pageNumber = pageNumber;
+				pageNumber++;
+			}
+		}
+	}
+
+	@Override
+	public void refreshAll() {
+		updatePageIndexes(adapter.getItems());
+		List<Object> updatedNewItems = duplicateItems(adapter.getItems());
+		updateAdapter(updatedNewItems, true);
+	}
+
+	@Override
+	public void restoreBackup() {
+		List<Object> updatedNewItems = duplicateItems(adapter.getBackupItems());
+		updateAdapter(updatedNewItems, true);
+	}
+
+	@NonNull
+	private List<Object> duplicateItems(@NonNull List<Object> itemsToDuplicate) {
+		List<Object> duplicatedItems = new ArrayList<>();
+		for (Object object : itemsToDuplicate) {
+			if (object instanceof PageItem pageItem) {
+				PageItem newPageItem = new PageItem(pageItem.pageNumber);
+				newPageItem.deleteMessage = pageItem.deleteMessage;
+				newPageItem.movable = pageItem.movable;
+				duplicatedItems.add(newPageItem);
+			} else if (object instanceof WidgetItem widgetItem) {
+				WidgetItem newWidgetItem = new WidgetItem(widgetItem.mapWidgetInfo);
+				newWidgetItem.showBottomDivider = widgetItem.showBottomDivider;
+				duplicatedItems.add(newWidgetItem);
+			} else {
+				duplicatedItems.add(object);
+			}
+		}
+		return duplicatedItems;
+	}
+
 	@Override
 	public void addNewWidget() {
 		Fragment fragment = getParentFragment();
@@ -303,6 +347,23 @@ public void addWidget(@NonNull MapWidgetInfo widgetInfo) {
 		adapter.addWidget(widgetInfo);
 	}
 
+	public void reloadWidgets() {
+		if (adapter != null) {
+			List<List<MapWidgetInfo>> newData = getPagedWidgets();
+			originalWidgetsData = newData;
+			updateWidgetItems(newData);
+		}
+	}
+
+	public void resetToOriginal() {
+		updateWidgetItems(originalWidgetsData);
+	}
+
+	public void updateEditMode() {
+		List<Object> newItems = getUpdatedItems(originalWidgetsData);
+		updateAdapter(newItems, true);
+	}
+
 	@Override
 	public void onWidgetSelectedToAdd(@NonNull String widgetId, @NonNull WidgetsPanel widgetsPanel, boolean recreateControls) {
 		MapWidgetInfo widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
@@ -316,11 +377,293 @@ public void copyAppModePrefs(@NonNull ApplicationMode appMode) {
 		int filter = ENABLED_MODE | AVAILABLE_MODE | MATCHING_PANELS_MODE;
 		WidgetsSettingsHelper helper = new WidgetsSettingsHelper(requireMapActivity(), appMode);
 		List<List<MapWidgetInfo>> widgetsOrder = helper.getWidgetInfoPagedOrder(appMode, selectedAppMode, selectedPanel, filter);
-		adapter.setData(widgetsOrder);
+		updateWidgetItems(widgetsOrder);
 	}
 
 	@Override
 	public void onActionConfirmed(int actionId) {
 
 	}
+
+	private void updateWidgetItems(@NonNull List<List<MapWidgetInfo>> pagedWidgets) {
+		List<Object> newItems = getUpdatedItems(pagedWidgets);
+		updateAdapter(newItems, false);
+	}
+
+	private List<Object> getUpdatedItems(List<List<MapWidgetInfo>> pagedWidgets) {
+		List<Object> items = new ArrayList<>();
+		boolean isEmpty = pagedWidgets.stream().allMatch(List::isEmpty);
+		if (isEmpty) {
+			items.add(VIEW_TYPE_DIVIDER);
+			items.add(VIEW_TYPE_EMPTY_STATE);
+			items.add(VIEW_TYPE_SHADOW);
+			return items;
+		}
+
+		if (isEditMode()) {
+			items.add(VIEW_TYPE_DIVIDER);
+
+			int pageNumber = 1;
+			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
+				PageItem pageItem = new PageItem(pageNumber);
+				items.add(pageItem);
+				for (MapWidgetInfo widgetInfo : widgetsOnPage) {
+					items.add(new WidgetItem(widgetInfo));
+				}
+
+				pageNumber++;
+			}
+
+			items.add(VIEW_TYPE_ADD_PAGE);
+			items.add(VIEW_TYPE_SHADOW);
+			items.add(VIEW_TYPE_SPACE);
+		} else {
+			items.add(VIEW_TYPE_DIVIDER);
+
+			int pageNumber = 1;
+			for (List<MapWidgetInfo> widgetsOnPage : pagedWidgets) {
+				PageItem pageItem = new PageItem(pageNumber);
+				items.add(pageItem);
+				for (MapWidgetInfo widgetInfo : widgetsOnPage) {
+					items.add(new WidgetItem(widgetInfo));
+				}
+
+				pageNumber++;
+			}
+
+			items.add(VIEW_TYPE_SHADOW);
+			items.add(VIEW_TYPE_SPACE);
+		}
+		return items;
+	}
+
+	private List<Object> updateItemsState(@NonNull List<Object> newItems) {
+		int pageNumber = 1;
+
+		for (int position = 0; position < newItems.size(); position++) {
+			Object object = newItems.get(position);
+
+			if (object instanceof PageItem pageItem) {
+
+				boolean isPageMovable;
+				String deleteMessage = null;
+				if (isFirstPage(position, newItems)) {
+					isPageMovable = false;
+				} else if (selectedPanel.isPanelVertical()) {
+					int previousRowPosition = getPreviousRowPosition(newItems, position);
+
+					boolean rowHasComplexWidget = rowHasComplexWidget(position, newItems);
+					boolean previousRowHasComplexWidget = rowHasComplexWidget(previousRowPosition, newItems);
+					boolean isRowEmpty = getRowWidgetIds(position, newItems).isEmpty();
+					boolean isPreviousRowEmpty = getRowWidgetIds(previousRowPosition, newItems).isEmpty();
+
+					if (rowHasComplexWidget && !isPreviousRowEmpty) {
+						deleteMessage = app.getString(R.string.remove_widget_first);
+						isPageMovable = false;
+					} else if (previousRowHasComplexWidget && !isRowEmpty) {
+						deleteMessage = app.getString(R.string.previous_row_has_complex_widget);
+						isPageMovable = false;
+					} else {
+						isPageMovable = true;
+					}
+				} else {
+					isPageMovable = true;
+				}
+				pageItem.movable = isPageMovable;
+				pageItem.deleteMessage = deleteMessage;
+				pageItem.pageNumber = pageNumber;
+				pageNumber++;
+
+			} else if (object instanceof WidgetItem widgetItem) {
+				boolean showDivider = false;
+				int nextItemIndex = position + 1;
+				if (newItems.size() > nextItemIndex && newItems.get(nextItemIndex) instanceof WidgetItem) {
+					showDivider = true;
+				}
+				widgetItem.showBottomDivider = showDivider;
+			}
+		}
+		return newItems;
+	}
+
+	public static boolean isFirstPage(int position, @NonNull List<Object> searchItems) {
+		for (int i = 0; i < position; i++) {
+			if (searchItems.get(i) instanceof PageItem) {
+				return false;
+			}
+		}
+		return true;
+	}
+
+	@NonNull
+	public static ArrayList<MapWidgetInfo> getRowWidgetIds(int rowPosition, @NonNull List<Object> searchItems) {
+		ArrayList<MapWidgetInfo> rowWidgetIds = new ArrayList<>();
+		Object item = searchItems.get(++rowPosition);
+
+		while (rowPosition < searchItems.size() && item instanceof WidgetItem) {
+			item = searchItems.get(rowPosition);
+			if (item instanceof WidgetItem widgetItem) {
+				rowWidgetIds.add(widgetItem.mapWidgetInfo);
+			}
+			rowPosition++;
+		}
+		return rowWidgetIds;
+	}
+
+	public static boolean rowHasComplexWidget(int rowPosition, @NonNull List<Object> searchItems) {
+		ArrayList<MapWidgetInfo> rowWidgetIds = getRowWidgetIds(rowPosition, searchItems);
+		for (MapWidgetInfo widgetUiInfo : rowWidgetIds) {
+			if (isComplexWidget(widgetUiInfo.key)) {
+				return true;
+			}
+		}
+		return false;
+	}
+
+	public static int getPreviousRowPosition(@NonNull List<Object> newItems, int currentRowPosition) {
+		currentRowPosition--;
+		while (currentRowPosition >= 0) {
+			if (newItems.get(currentRowPosition) instanceof PageItem) {
+				return currentRowPosition;
+			}
+			currentRowPosition--;
+		}
+		return -1;
+	}
+
+	private void updateAdapter(@NonNull List<Object> items, boolean shouldUpdateAll) {
+		boolean editMode = isEditMode();
+		List<Object> newItems = updateItemsState(items);
+		WidgetsListDiffCallback diffCallback = new WidgetsListDiffCallback(
+				adapter.getItems(),
+				newItems,
+				adapter.isCurrentlyInEditMode(),
+				editMode,
+				shouldUpdateAll);
+		DiffResult diffRes = calculateDiff(diffCallback);
+
+		adapter.setEditMode(editMode);
+		adapter.setItems(newItems);
+		diffRes.dispatchUpdatesTo(adapter);
+	}
+
+	static class WidgetsListDiffCallback extends Callback {
+		public static final int PAYLOAD_EDIT_MODE_CHANGED = 0;
+		public static final int PAYLOAD_MOVE_STATE_CHANGED = 1;
+		public static final int PAYLOAD_DIVIDER_STATE_CHANGED = 2;
+		public static final int PAYLOAD_UPDATE_ALL = 3;
+		public static final int PAYLOAD_UPDATE_POSITION = 4;
+		private final List<Object> oldItems;
+		private final List<Object> newItems;
+		private final boolean oldEditMode;
+		private final boolean newEditMode;
+
+		private final boolean updatePosition;
+
+		WidgetsListDiffCallback(@NonNull List<Object> oldItems, @NonNull List<Object> newItems,
+		                        boolean oldEditMode, boolean newEditMode, boolean updatePosition) {
+			this.oldItems = new ArrayList<>(oldItems);
+			this.newItems = newItems;
+			this.oldEditMode = oldEditMode;
+			this.newEditMode = newEditMode;
+			this.updatePosition = updatePosition;
+		}
+
+		@Override
+		public int getOldListSize() {
+			return oldItems.size();
+		}
+
+		@Override
+		public int getNewListSize() {
+			return newItems.size();
+		}
+
+		@Override
+		public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) {
+			Object oldItem = oldItems.get(oldItemPosition);
+			Object newItem = newItems.get(newItemPosition);
+
+			if (oldItem instanceof Integer && newItem instanceof Integer) {
+				return oldItem.equals(newItem);
+			}
+
+			if (oldItem instanceof PageItem && newItem instanceof PageItem) {
+				return ((PageItem) oldItem).pageNumber == ((PageItem) newItem).pageNumber;
+			}
+
+			if (oldItem instanceof WidgetItem && newItem instanceof WidgetItem) {
+				return Objects.equals(((WidgetItem) oldItem).mapWidgetInfo.key, ((WidgetItem) newItem).mapWidgetInfo.key);
+			}
+
+			return false;
+		}
+
+		@Override
+		public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) {
+			Object oldItem = oldItems.get(oldItemPosition);
+			Object newItem = newItems.get(newItemPosition);
+
+			if (oldEditMode != newEditMode) {
+				return false;
+			}
+
+			if (updatePosition) {
+				return false;
+			}
+
+			if (oldItem instanceof Integer && newItem instanceof Integer) {
+				return oldItem.equals(newItem);
+			}
+
+			if (oldItem instanceof PageItem oldPage && newItem instanceof PageItem newPage) {
+				return oldPage.equals(newPage);
+			}
+
+			if (oldItem instanceof WidgetItem oldWidget && newItem instanceof WidgetItem newWidget) {
+				return oldWidget.equals(newWidget);
+			}
+
+			return false;
+		}
+
+
+		@Nullable
+		@Override
+		public Object getChangePayload(int oldItemPosition, int newItemPosition) {
+			Object oldItem = oldItems.get(oldItemPosition);
+			Object newItem = newItems.get(newItemPosition);
+
+			List<Integer> payloads = new ArrayList<>();
+
+			if (oldEditMode != newEditMode) {
+				payloads.add(PAYLOAD_EDIT_MODE_CHANGED);
+			}
+
+			if (updatePosition) {
+				payloads.add(PAYLOAD_UPDATE_POSITION);
+			}
+
+			if (oldItem instanceof PageItem oldPage && newItem instanceof PageItem newPage) {
+				if (oldPage.pageNumber != newPage.pageNumber) {
+					payloads.add(PAYLOAD_UPDATE_ALL);
+				}
+				if ((oldPage.movable != newPage.movable) || (!Objects.equals(oldPage.deleteMessage, newPage.deleteMessage))) {
+					payloads.add(PAYLOAD_MOVE_STATE_CHANGED);
+				}
+			}
+
+			if (oldItem instanceof WidgetItem oldWidget && newItem instanceof WidgetItem newWidget) {
+				if (!Objects.equals(oldWidget.mapWidgetInfo, newWidget.mapWidgetInfo)) {
+					payloads.add(PAYLOAD_UPDATE_ALL);
+				}
+				if (oldWidget.showBottomDivider != newWidget.showBottomDivider) {
+					payloads.add(PAYLOAD_DIVIDER_STATE_CHANGED);
+				}
+			}
+
+			return payloads.isEmpty() ? null : payloads;
+		}
+	}
+
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java
index 1269bde1a98..ab0e1b61a63 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/PageViewHolder.java
@@ -5,6 +5,7 @@
 import android.view.MotionEvent;
 import android.view.View;
 import android.view.View.OnClickListener;
+import android.view.ViewGroup;
 import android.widget.ImageButton;
 
 import androidx.annotation.NonNull;
@@ -15,10 +16,12 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter;
 import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.PageItem;
 import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetsAdapterListener;
 import net.osmand.plus.widgets.TextViewEx;
+import net.osmand.util.Algorithms;
 
 public class PageViewHolder extends RecyclerView.ViewHolder {
 
@@ -26,11 +29,17 @@ public class PageViewHolder extends RecyclerView.ViewHolder {
 	private final ImageButton deleteButton;
 	private final AppCompatImageView moveButton;
 
-	public PageViewHolder(@NonNull View itemView) {
+	public PageViewHolder(@NonNull OsmandApplication app, @NonNull ApplicationMode selectedAppMode, @NonNull View itemView) {
 		super(itemView);
 		page = itemView.findViewById(R.id.page);
 		deleteButton = itemView.findViewById(R.id.delete_page_button);
 		moveButton = itemView.findViewById(R.id.move_button);
+
+		boolean disableAnimation = app.getSettings().DO_NOT_USE_ANIMATIONS.getModeValue(selectedAppMode);
+		if (disableAnimation) {
+			((ViewGroup) itemView).setLayoutTransition(null);
+			((ViewGroup) itemView.findViewById(R.id.animated_layout)).setLayoutTransition(null);
+		}
 	}
 
 	@SuppressLint("ClickableViewAccessibility")
@@ -39,57 +48,58 @@ public void bind(@NonNull MapActivity mapActivity, @NonNull WidgetsAdapterListen
 	                 int position, @NonNull PageItem pageItem, boolean isVerticalPanel, boolean nightMode) {
 		OsmandApplication app = mapActivity.getMyApplication();
 
-		String text = app.getString(isVerticalPanel ? R.string.row_number : R.string.page_number, String.valueOf(pageItem.pageNumber));
-		page.setText(text);
+		updateTitle(app, pageItem, isVerticalPanel);
+		updateButtons(app, listener, pageItem, position, nightMode);
+		updateEditMode(listener, itemTouchHelper);
+	}
 
-		OnClickListener deletePageListener;
+	public void updateButtons(@NonNull OsmandApplication app, @NonNull WidgetsAdapterListener listener,
+	                          @NonNull PageItem pageItem, int position, boolean nightMode) {
+		OnClickListener deletePageListener = null;
 		Drawable deleteIcon;
 
-		int previousRowPosition = adapter.getPreviousRowPosition(position);
-		boolean rowHasComplexWidget = adapter.rowHasComplexWidget(position, null);
-		boolean previousRowHasComplexWidget = adapter.rowHasComplexWidget(previousRowPosition, null);
-		boolean isRowEmpty = adapter.getRowWidgetIds(position, null).isEmpty();
-		boolean isPreviousRowEmpty = adapter.getRowWidgetIds(previousRowPosition, null).isEmpty();
+		boolean editMode = listener.isEditMode();
+		boolean isMovable = pageItem.movable;
 
-		boolean hideMoveIcon;
-		if (adapter.isFirstPage(position)) {
-			deletePageListener = null;
+		if (isMovable) {
+			deleteIcon = getDeleteIcon(app, nightMode, false);
+			deletePageListener = v -> listener.onPageDeleted(position, pageItem);
+		} else {
 			deleteIcon = getDeleteIcon(app, nightMode, true);
-			hideMoveIcon = true;
-		} else if (isVerticalPanel) {
-			if (rowHasComplexWidget && !isPreviousRowEmpty) {
-				deletePageListener = v -> app.showToastMessage(app.getString(R.string.remove_widget_first));
-				deleteIcon = getDeleteIcon(app, nightMode, true);
-				hideMoveIcon = true;
-			} else if (previousRowHasComplexWidget && !isRowEmpty) {
-				deletePageListener = v -> app.showToastMessage(app.getString(R.string.previous_row_has_complex_widget));
-				deleteIcon = getDeleteIcon(app, nightMode, true);
-				hideMoveIcon = true;
-			} else {
-				deletePageListener = v -> listener.onPageDeleted(position, pageItem);
-				deleteIcon = getDeleteIcon(app, nightMode, false);
-				hideMoveIcon = false;
+			if (!Algorithms.isEmpty(pageItem.deleteMessage)) {
+				deletePageListener = v -> app.showToastMessage(pageItem.deleteMessage);
 			}
-		} else {
-			deletePageListener = v -> listener.onPageDeleted(position, pageItem);
-			deleteIcon = getDeleteIcon(app, nightMode, false);
-			hideMoveIcon = false;
 		}
 
+		deleteButton.setImageDrawable(deleteIcon);
+		deleteButton.setOnClickListener(deletePageListener);
+
+		moveButton.setVisibility(editMode && isMovable ? View.VISIBLE : View.GONE);
+	}
+
+	@SuppressLint("ClickableViewAccessibility")
+	public void updateEditMode(@NonNull WidgetsAdapterListener listener, @NonNull ItemTouchHelper itemTouchHelper) {
 		boolean editMode = listener.isEditMode();
 
 		deleteButton.setVisibility(editMode ? View.VISIBLE : View.GONE);
-		deleteButton.setImageDrawable(deleteIcon);
-		deleteButton.setOnClickListener(deletePageListener);
 
-		moveButton.setVisibility(editMode && !hideMoveIcon ? View.VISIBLE : View.GONE);
-		moveButton.setOnTouchListener((v, event) -> {
-			if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
-				listener.onMoveStarted();
-				itemTouchHelper.startDrag(this);
-			}
-			return false;
-		});
+		if (editMode) {
+			moveButton.setOnTouchListener((v, event) -> {
+				if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
+					listener.onMoveStarted();
+					itemTouchHelper.startDrag(this);
+				}
+				return false;
+			});
+		} else {
+			moveButton.setVisibility(View.GONE);
+			moveButton.setOnTouchListener(null);
+		}
+	}
+
+	public void updateTitle(@NonNull OsmandApplication app, @NonNull PageItem pageItem, boolean isVerticalPanel) {
+		String text = app.getString(isVerticalPanel ? R.string.row_number : R.string.page_number, String.valueOf(pageItem.pageNumber));
+		page.setText(text);
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java
index 4590dcb3394..861e7229187 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/holders/WidgetViewHolder.java
@@ -4,9 +4,9 @@
 import android.graphics.drawable.Drawable;
 import android.view.MotionEvent;
 import android.view.View;
+import android.view.ViewGroup;
 import android.widget.ImageButton;
 import android.widget.ImageView;
-import android.widget.LinearLayout;
 
 import androidx.annotation.NonNull;
 import androidx.appcompat.widget.AppCompatImageView;
@@ -20,8 +20,8 @@
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
-import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
 import net.osmand.plus.views.mapwidgets.configure.WidgetIconsHelper;
+import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetItem;
 import net.osmand.plus.views.mapwidgets.configure.panel.WidgetsListAdapter.WidgetsAdapterListener;
 import net.osmand.plus.widgets.TextViewEx;
 
@@ -33,7 +33,7 @@ public class WidgetViewHolder extends RecyclerView.ViewHolder {
 	private final View bottomDivider;
 	private final View selectableBackground;
 
-	public WidgetViewHolder(@NonNull View itemView) {
+	public WidgetViewHolder(@NonNull OsmandApplication app, @NonNull ApplicationMode selectedAppMode, @NonNull View itemView) {
 		super(itemView);
 		title = itemView.findViewById(R.id.title);
 		icon = itemView.findViewById(R.id.icon);
@@ -41,59 +41,71 @@ public WidgetViewHolder(@NonNull View itemView) {
 		moveIcon = itemView.findViewById(R.id.move_icon);
 		bottomDivider = itemView.findViewById(R.id.bottom_divider);
 		selectableBackground = itemView.findViewById(R.id.selectable_widget_background);
+
+		boolean disableAnimation = app.getSettings().DO_NOT_USE_ANIMATIONS.getModeValue(selectedAppMode);
+		if (disableAnimation) {
+			((ViewGroup) itemView).setLayoutTransition(null);
+			((ViewGroup) itemView.findViewById(R.id.animated_layout)).setLayoutTransition(null);
+		}
 	}
 
 	@SuppressLint("ClickableViewAccessibility")
 	public void bind(@NonNull MapActivity mapActivity, @NonNull ApplicationMode selectedAppMode, @NonNull WidgetsAdapterListener listener,
-	                 @NonNull ItemTouchHelper itemTouchHelper, @NonNull MapWidgetInfo widgetInfo,
-	                 @NonNull WidgetIconsHelper iconsHelper, int position, boolean nightMode, boolean showDivider) {
+	                 @NonNull ItemTouchHelper itemTouchHelper, @NonNull WidgetItem widgetItem,
+	                 @NonNull WidgetIconsHelper iconsHelper, int position, boolean nightMode) {
 		OsmandApplication app = mapActivity.getMyApplication();
-		boolean editMode = listener.isEditMode();
-		int color = selectedAppMode.getProfileColor(nightMode);
-		Drawable drawable = editMode ? null : UiUtilities.getColoredSelectableDrawable(app, color, 0.3f);
-		AndroidUtils.setBackground(selectableBackground, drawable);
-
-		title.setText(widgetInfo.getTitle(app));
 
-		int startMargin;
-		if (editMode) {
-			startMargin = app.getResources().getDimensionPixelSize(R.dimen.fab_margin_bottom_big);
-		} else {
-			startMargin = app.getResources().getDimensionPixelSize(R.dimen.list_content_padding);
-		}
-		LinearLayout.LayoutParams titleParams = (LinearLayout.LayoutParams) title.getLayoutParams();
-		titleParams.setMargins(startMargin, titleParams.topMargin, titleParams.rightMargin, titleParams.bottomMargin);
-		title.setLayoutParams(titleParams);
+		title.setText(widgetItem.mapWidgetInfo.getTitle(app));
 
-		iconsHelper.updateWidgetIcon(icon, widgetInfo);
+		iconsHelper.updateWidgetIcon(icon, widgetItem.mapWidgetInfo);
 		moveIcon.setVisibility(View.VISIBLE);
 
-		deleteButton.setVisibility(editMode ? View.VISIBLE : View.GONE);
 		deleteButton.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_remove, R.color.color_osm_edit_delete));
+		updatePosition(listener, position, widgetItem);
+		updateDivider(widgetItem);
+		updateEditMode(app, listener, itemTouchHelper, selectedAppMode, widgetItem, nightMode);
+	}
+
+	public void updatePosition(@NonNull WidgetsAdapterListener listener, int position, @NonNull WidgetItem widgetItem) {
 		deleteButton.setOnClickListener(v -> {
-			listener.onWidgetDeleted(position, widgetInfo);
+			listener.onWidgetDeleted(position, widgetItem.mapWidgetInfo);
 		});
+	}
 
-		itemView.setOnClickListener(view -> {
-			if (!editMode) {
-				listener.onWidgetClick(widgetInfo);
-			}
-		});
+	public void updateDivider(@NonNull WidgetItem widgetItem) {
+		bottomDivider.setVisibility(widgetItem.showBottomDivider ? View.VISIBLE : View.INVISIBLE);
+	}
+
+	@SuppressLint("ClickableViewAccessibility")
+	public void updateEditMode(@NonNull OsmandApplication app, @NonNull WidgetsAdapterListener listener,
+	                           @NonNull ItemTouchHelper itemTouchHelper, @NonNull ApplicationMode selectedAppMode,
+	                           @NonNull WidgetItem widgetItem, boolean nightMode) {
+		boolean editMode = listener.isEditMode();
+
+		deleteButton.setVisibility(editMode ? View.VISIBLE : View.GONE);
 
 		if (editMode) {
+
 			moveIcon.setImageDrawable(app.getUIUtilities().getPaintedIcon(R.drawable.ic_action_item_move, ColorUtilities.getDefaultIconColor(app, nightMode)));
+			moveIcon.setOnTouchListener((v, event) -> {
+				if (event.getActionMasked() == MotionEvent.ACTION_DOWN) {
+					listener.onMoveStarted();
+					itemTouchHelper.startDrag(this);
+				}
+				return false;
+			});
+			itemView.setOnClickListener(null);
 		} else {
+
+			moveIcon.setOnTouchListener(null);
 			int iconId = nightMode ? R.drawable.ic_action_info_dark : R.drawable.ic_action_info;
 			moveIcon.setImageDrawable(app.getUIUtilities().getIcon(iconId));
+			itemView.setOnClickListener(view -> {
+				listener.onWidgetClick(widgetItem.mapWidgetInfo);
+			});
 		}
-		moveIcon.setOnTouchListener((v, event) -> {
-			if (editMode && event.getActionMasked() == MotionEvent.ACTION_DOWN) {
-				listener.onMoveStarted();
-				itemTouchHelper.startDrag(this);
-			}
-			return false;
-		});
-
-		bottomDivider.setVisibility(showDivider ? View.VISIBLE : View.INVISIBLE);
+		int color = selectedAppMode.getProfileColor(nightMode);
+		Drawable drawable = editMode ? null : UiUtilities.getColoredSelectableDrawable(app, color, 0.3f);
+		AndroidUtils.setBackground(selectableBackground, drawable);
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetInfoBaseFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetInfoBaseFragment.java
index f9786cdcfec..8014454832f 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetInfoBaseFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetInfoBaseFragment.java
@@ -410,7 +410,7 @@ private static void showFragment(@NonNull FragmentManager manager, @NonNull Widg
 			fragment.setTargetFragment(target, 0);
 
 			manager.beginTransaction()
-					.replace(R.id.fragmentContainer, fragment, tag)
+					.add(R.id.fragmentContainer, fragment, tag)
 					.addToBackStack(tag)
 					.commitAllowingStateLoss();
 		}
