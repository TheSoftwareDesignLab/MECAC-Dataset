diff --git a/OsmAnd/AndroidManifest-library.xml b/OsmAnd/AndroidManifest-library.xml
index 379f1ce9638..f5a1bb6dc8b 100644
--- a/OsmAnd/AndroidManifest-library.xml
+++ b/OsmAnd/AndroidManifest-library.xml
@@ -40,9 +40,6 @@
 	<uses-feature android:name="android.hardware.bluetooth" android:required="false" />
 	<uses-feature android:name="com.sec.feature.spen_usp" android:required="false"/>
 
-	<uses-sdk android:targetSdkVersion="26"
-		tools:overrideLibrary="com.getkeepsafe.taptargetview, studio.carbonylgroup.textfieldboxes, android.support.customtabs"/>
-
 	<supports-screens android:resizeable="true" android:smallScreens="true" android:normalScreens="true" android:largeScreens="true"
 		android:xlargeScreens="true" android:anyDensity="true" />
 
diff --git a/OsmAnd/build-library.gradle b/OsmAnd/build-library.gradle
index b8cf0a21a5f..c282fa6fa28 100644
--- a/OsmAnd/build-library.gradle
+++ b/OsmAnd/build-library.gradle
@@ -28,10 +28,6 @@ android {
 	}
 }
 
-def replaceNoTranslate(line) {
-	return line;
-}
-
 afterEvaluate {
 	android.libraryVariants.all { variant ->
 		variant.javaCompiler.dependsOn(collectExternalResources, buildOsmAndCore, cleanupDuplicatesInCore)
diff --git a/OsmAnd/build.gradle b/OsmAnd/build.gradle
index 22a9d3a2b15..e49cd286116 100644
--- a/OsmAnd/build.gradle
+++ b/OsmAnd/build.gradle
@@ -36,9 +36,9 @@ android {
 
 	defaultConfig {
 		minSdkVersion System.getenv("MIN_SDK_VERSION") ? System.getenv("MIN_SDK_VERSION").toInteger() : 15
-		versionCode 390
+		versionCode 400
 		versionCode System.getenv("APK_NUMBER_VERSION") ? System.getenv("APK_NUMBER_VERSION").toInteger() : versionCode
-		versionName "3.9.0"
+		versionName "4.0.0"
 		versionName System.getenv("APK_VERSION")? System.getenv("APK_VERSION").toString(): versionName
 		versionName System.getenv("APK_VERSION_SUFFIX")? versionName + System.getenv("APK_VERSION_SUFFIX").toString(): versionName
 	}
@@ -106,26 +106,26 @@ android {
 			dimension "version"
 			applicationId "net.osmand.dev"
 			resValue "string", "app_name", "OsmAnd Nightly"
-			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION").toInteger() : ""
+			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION") : ""
 			// resConfig "en"
 		}
 		androidFull {
 			dimension "version"
 			applicationId "net.osmand.plus"
 			resValue "string", "app_name", "OsmAnd~"
-			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION").toInteger() : ""
+			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION") : ""
 		}
 		gplayFree {
 			dimension "version"
 			applicationId "net.osmand"
 			resValue "string", "app_name", "OsmAnd"
-			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION").toInteger() : ""
+			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION") : ""
 		}
 		gplayFull {
 			dimension "version"
 			applicationId "net.osmand.plus"
 			resValue "string", "app_name", "OsmAnd+"
-			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION").toInteger() : ""
+			resValue "string", "app_edition", System.getenv("APP_EDITION") ? System.getenv("APP_EDITION") : ""
 		}
 		amazonFree {
 			dimension "version"
