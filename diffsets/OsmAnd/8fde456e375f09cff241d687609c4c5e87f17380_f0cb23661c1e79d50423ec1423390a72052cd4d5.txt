diff --git a/OsmAnd/res/drawable/rectangle_rounded_right.xml b/OsmAnd/res/drawable/rectangle_rounded_right.xml
new file mode 100644
index 00000000000..4d8022b8415
--- /dev/null
+++ b/OsmAnd/res/drawable/rectangle_rounded_right.xml
@@ -0,0 +1,7 @@
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+	android:shape="rectangle">
+	<corners
+		android:bottomRightRadius="@dimen/list_item_button_padding"
+		android:topRightRadius="@dimen/list_item_button_padding" />
+	<solid android:color="@color/list_background_color_dark" />
+</shape>
diff --git a/OsmAnd/res/drawable/ripple_rectangle_rounded_right.xml b/OsmAnd/res/drawable/ripple_rectangle_rounded_right.xml
new file mode 100644
index 00000000000..0606aea92be
--- /dev/null
+++ b/OsmAnd/res/drawable/ripple_rectangle_rounded_right.xml
@@ -0,0 +1,11 @@
+<ripple xmlns:android="http://schemas.android.com/apk/res/android"
+	android:color="@color/active_buttons_and_links_trans_light">
+	<item android:id="@android:id/mask">
+		<shape android:shape="rectangle">
+			<corners
+				android:bottomRightRadius="@dimen/list_item_button_padding"
+				android:topRightRadius="@dimen/list_item_button_padding" />
+			<solid android:color="@color/active_color_primary_light" />
+		</shape>
+	</item>
+</ripple>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/bottom_sheet_item_preference_descr.xml b/OsmAnd/res/layout/bottom_sheet_item_preference_descr.xml
new file mode 100644
index 00000000000..09e6f386ffa
--- /dev/null
+++ b/OsmAnd/res/layout/bottom_sheet_item_preference_descr.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="utf-8"?>
+<net.osmand.plus.widgets.TextViewEx xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/description"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:minHeight="@dimen/bottom_sheet_list_item_height"
+	android:paddingLeft="@dimen/content_padding"
+	android:paddingTop="@dimen/bottom_sheet_image_text_margin_start"
+	android:paddingRight="@dimen/content_padding"
+	android:paddingBottom="@dimen/gpx_small_text_margin"
+	android:textColor="?android:textColorPrimary"
+	android:textSize="@dimen/default_desc_text_size"
+	app:typeface="@string/font_roboto_regular"
+	tools:text="@string/auto_zoom_map_descr" />
\ No newline at end of file
diff --git a/OsmAnd/res/layout/bottom_sheet_item_preference_switch.xml b/OsmAnd/res/layout/bottom_sheet_item_preference_switch.xml
new file mode 100644
index 00000000000..3e336b32123
--- /dev/null
+++ b/OsmAnd/res/layout/bottom_sheet_item_preference_switch.xml
@@ -0,0 +1,45 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/button_container"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:layout_marginEnd="@dimen/content_padding"
+		android:layout_marginRight="@dimen/content_padding"
+		android:minHeight="@dimen/bottom_sheet_list_item_height"
+		android:paddingLeft="@dimen/content_padding"
+		android:paddingRight="@dimen/content_padding"
+		tools:background="@drawable/rectangle_rounded_right">
+
+		<net.osmand.plus.widgets.TextViewEx
+			android:id="@+id/title"
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_weight="1"
+			android:ellipsize="end"
+			android:maxLines="1"
+			android:textAppearance="@style/TextAppearance.ListItemTitle"
+			android:textColor="?attr/active_color_basic"
+			app:typeface="@string/font_roboto_medium"
+			tools:text="Some Title" />
+
+		<android.support.v7.widget.SwitchCompat
+			android:id="@+id/compound_button"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical|end"
+			android:background="@null"
+			android:clickable="false"
+			android:focusable="false"
+			android:focusableInTouchMode="false" />
+
+	</LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/settings/BaseSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/BaseSettingsFragment.java
index 0daffa2bfa7..a0bfe3afbeb 100644
--- a/OsmAnd/src/net/osmand/plus/settings/BaseSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/BaseSettingsFragment.java
@@ -170,13 +170,13 @@ public void onDisplayPreferenceDialog(Preference preference) {
 		}
 
 		if (preference instanceof ListPreferenceEx) {
-			SingleSelectPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this);
+			SingleSelectPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this, false);
 		} else if (preference instanceof SwitchPreferenceEx) {
-			BooleanPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this);
+			BooleanPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this, false);
 		} else if (preference instanceof EditTextPreference) {
-			EditTextPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this);
+			EditTextPreferenceBottomSheet.showInstance(fragmentManager, preference.getKey(), this, false);
 		} else if (preference instanceof MultiSelectBooleanPreference) {
-			MultiSelectPreferencesBottomSheet.showInstance(fragmentManager, preference.getKey(), this);
+			MultiSelectPreferencesBottomSheet.showInstance(fragmentManager, preference.getKey(), this, false);
 		} else {
 			super.onDisplayPreferenceDialog(preference);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/settings/CoordinatesFormatFragment.java b/OsmAnd/src/net/osmand/plus/settings/CoordinatesFormatFragment.java
index 7851433b507..4f82299a8d0 100644
--- a/OsmAnd/src/net/osmand/plus/settings/CoordinatesFormatFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/CoordinatesFormatFragment.java
@@ -180,7 +180,7 @@ public boolean onPreferenceChange(Preference preference, Object newValue) {
 		if (newFormat != -1) {
 			FragmentManager fragmentManager = getFragmentManager();
 			if (fragmentManager != null) {
-				ChangeGeneralProfilesPrefBottomSheet.showInstance(fragmentManager, settings.COORDINATES_FORMAT.getId(), newFormat, this);
+				ChangeGeneralProfilesPrefBottomSheet.showInstance(fragmentManager, settings.COORDINATES_FORMAT.getId(), newFormat, this, false);
 				return false;
 			}
 		}
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/BooleanPreferenceBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/BooleanPreferenceBottomSheet.java
index 3dbdad57599..1e4a9f5b9e7 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/BooleanPreferenceBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/BooleanPreferenceBottomSheet.java
@@ -1,17 +1,23 @@
 package net.osmand.plus.settings.bottomsheets;
 
+import android.graphics.drawable.Drawable;
+import android.graphics.drawable.LayerDrawable;
+import android.os.Build;
 import android.os.Bundle;
 import android.support.annotation.NonNull;
 import android.support.v4.app.Fragment;
 import android.support.v4.app.FragmentManager;
+import android.view.ContextThemeWrapper;
 import android.view.View;
 
+import net.osmand.AndroidUtils;
 import net.osmand.PlatformUtil;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.OsmandSettings;
 import net.osmand.plus.OsmandSettings.BooleanPreference;
 import net.osmand.plus.OsmandSettings.OsmandPreference;
 import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
 import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithCompoundButton;
 import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithDescription;
@@ -53,7 +59,7 @@ public void createMenuItems(Bundle savedInstanceState) {
 		preferenceBtn[0] = (BottomSheetItemWithCompoundButton) new BottomSheetItemWithCompoundButton.Builder()
 				.setChecked(checked)
 				.setTitle(checked ? on : off)
-				.setLayoutId(R.layout.bottom_sheet_item_with_switch)
+				.setCustomView(getCustomButtonView())
 				.setOnClickListener(new View.OnClickListener() {
 					@Override
 					public void onClick(View v) {
@@ -72,7 +78,7 @@ public void onClick(View v) {
 		if (description != null) {
 			BaseBottomSheetItem preferenceDescription = new BottomSheetItemWithDescription.Builder()
 					.setDescription(description)
-					.setLayoutId(R.layout.bottom_sheet_item_description_long)
+					.setLayoutId(R.layout.bottom_sheet_item_preference_descr)
 					.create();
 			items.add(preferenceDescription);
 		}
@@ -83,17 +89,46 @@ protected int getDismissButtonTextId() {
 		return R.string.shared_string_close;
 	}
 
+	private View getCustomButtonView() {
+		OsmandApplication app = requiredMyApplication();
+		View customView = View.inflate(new ContextThemeWrapper(app, themeRes), R.layout.bottom_sheet_item_preference_switch, null);
+		View buttonView = customView.findViewById(R.id.button_container);
+
+		int colorRes = app.getSettings().APPLICATION_MODE.get().getIconColorInfo().getColor(nightMode);
+		int color = getResolvedColor(colorRes);
+		int bgColor = UiUtilities.getColorWithAlpha(color, 0.1f);
+		int selectedColor = UiUtilities.getColorWithAlpha(color, 0.3f);
+
+		if (Build.VERSION.SDK_INT > Build.VERSION_CODES.LOLLIPOP) {
+			int bgResId = R.drawable.rectangle_rounded_right;
+			int selectableResId = R.drawable.ripple_rectangle_rounded_right;
+
+			Drawable bgDrawable = app.getUIUtilities().getPaintedIcon(bgResId, bgColor);
+			Drawable selectable = app.getUIUtilities().getPaintedIcon(selectableResId, selectedColor);
+			Drawable[] layers = {bgDrawable, selectable};
+			AndroidUtils.setBackground(buttonView, new LayerDrawable(layers));
+		} else {
+			int bgResId = R.drawable.rectangle_rounded_right;
+			Drawable bgDrawable = app.getUIUtilities().getPaintedIcon(bgResId, bgColor);
+			AndroidUtils.setBackground(buttonView, bgDrawable);
+		}
+
+		return customView;
+	}
+
 	private SwitchPreferenceEx getSwitchPreferenceEx() {
 		return (SwitchPreferenceEx) getPreference();
 	}
 
-	public static void showInstance(@NonNull FragmentManager fm, String prefId, Fragment target) {
+	public static void showInstance(@NonNull FragmentManager fm, String prefId, Fragment target, boolean usedOnMap) {
 		try {
 			if (fm.findFragmentByTag(BooleanPreferenceBottomSheet.TAG) == null) {
 				Bundle args = new Bundle();
 				args.putString(PREFERENCE_ID, prefId);
+
 				BooleanPreferenceBottomSheet fragment = new BooleanPreferenceBottomSheet();
 				fragment.setArguments(args);
+				fragment.setUsedOnMap(usedOnMap);
 				fragment.setTargetFragment(target, 0);
 				fragment.show(fm, BooleanPreferenceBottomSheet.TAG);
 			}
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/ChangeGeneralProfilesPrefBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/ChangeGeneralProfilesPrefBottomSheet.java
index a08b36178c0..d37fe190023 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/ChangeGeneralProfilesPrefBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/ChangeGeneralProfilesPrefBottomSheet.java
@@ -146,7 +146,7 @@ private CommonPreference getPreference(String prefId) {
 		return null;
 	}
 
-	public static void showInstance(@NonNull FragmentManager fm, String prefId, Object newValue, Fragment target) {
+	public static void showInstance(@NonNull FragmentManager fm, String prefId, Object newValue, Fragment target, boolean usedOnMap) {
 		try {
 			if (fm.findFragmentByTag(ChangeGeneralProfilesPrefBottomSheet.TAG) == null) {
 				Bundle args = new Bundle();
@@ -154,8 +154,9 @@ public static void showInstance(@NonNull FragmentManager fm, String prefId, Obje
 
 				ChangeGeneralProfilesPrefBottomSheet fragment = new ChangeGeneralProfilesPrefBottomSheet();
 				fragment.setArguments(args);
-				fragment.setTargetFragment(target, 0);
+				fragment.setUsedOnMap(usedOnMap);
 				fragment.newValue = newValue;
+				fragment.setTargetFragment(target, 0);
 				fragment.show(fm, ChangeGeneralProfilesPrefBottomSheet.TAG);
 			}
 		} catch (RuntimeException e) {
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/EditTextPreferenceBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/EditTextPreferenceBottomSheet.java
index 4d6a364be7a..13aa966fcb0 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/EditTextPreferenceBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/EditTextPreferenceBottomSheet.java
@@ -81,14 +81,15 @@ private EditTextPreferenceEx getEditTextPreference() {
 		return (EditTextPreferenceEx) getPreference();
 	}
 
-	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String key, Fragment target) {
+	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String key, Fragment target, boolean usedOnMap) {
 		try {
 			Bundle args = new Bundle();
 			args.putString(PREFERENCE_ID, key);
 
 			EditTextPreferenceBottomSheet fragment = new EditTextPreferenceBottomSheet();
-			fragment.setTargetFragment(target, 0);
 			fragment.setArguments(args);
+			fragment.setUsedOnMap(usedOnMap);
+			fragment.setTargetFragment(target, 0);
 			fragment.show(fragmentManager, TAG);
 			return true;
 		} catch (RuntimeException e) {
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/MultiSelectPreferencesBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/MultiSelectPreferencesBottomSheet.java
index ae8dfe1f4dc..6f94f6f1055 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/MultiSelectPreferencesBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/MultiSelectPreferencesBottomSheet.java
@@ -151,14 +151,15 @@ private MultiSelectBooleanPreference getListPreference() {
 		return (MultiSelectBooleanPreference) getPreference();
 	}
 
-	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String prefId, Fragment target) {
+	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String prefId, Fragment target, boolean usedOnMap) {
 		try {
 			Bundle args = new Bundle();
 			args.putString(PREFERENCE_ID, prefId);
 
 			MultiSelectPreferencesBottomSheet fragment = new MultiSelectPreferencesBottomSheet();
-			fragment.setTargetFragment(target, 0);
 			fragment.setArguments(args);
+			fragment.setUsedOnMap(usedOnMap);
+			fragment.setTargetFragment(target, 0);
 			fragment.show(fragmentManager, TAG);
 			return true;
 		} catch (RuntimeException e) {
diff --git a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/SingleSelectPreferenceBottomSheet.java b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/SingleSelectPreferenceBottomSheet.java
index d853f51c15c..24f040edd15 100644
--- a/OsmAnd/src/net/osmand/plus/settings/bottomsheets/SingleSelectPreferenceBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/settings/bottomsheets/SingleSelectPreferenceBottomSheet.java
@@ -127,14 +127,15 @@ private ListPreferenceEx getListPreference() {
 		return (ListPreferenceEx) getPreference();
 	}
 
-	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String key, Fragment target) {
+	public static boolean showInstance(@NonNull FragmentManager fragmentManager, String key, Fragment target, boolean usedOnMap) {
 		try {
 			Bundle args = new Bundle();
 			args.putString(PREFERENCE_ID, key);
 
 			SingleSelectPreferenceBottomSheet fragment = new SingleSelectPreferenceBottomSheet();
-			fragment.setTargetFragment(target, 0);
 			fragment.setArguments(args);
+			fragment.setUsedOnMap(usedOnMap);
+			fragment.setTargetFragment(target, 0);
 			fragment.show(fragmentManager, TAG);
 			return true;
 		} catch (RuntimeException e) {
