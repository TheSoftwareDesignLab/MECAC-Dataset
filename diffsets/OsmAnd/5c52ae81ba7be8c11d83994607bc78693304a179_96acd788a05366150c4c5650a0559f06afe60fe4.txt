diff --git a/OsmAnd/res/layout/backup_action_button.xml b/OsmAnd/res/layout/backup_action_button.xml
new file mode 100644
index 00000000000..a0d1cdbd332
--- /dev/null
+++ b/OsmAnd/res/layout/backup_action_button.xml
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:background="?attr/list_background_color"
+	android:orientation="vertical">
+
+	<include
+		android:id="@+id/action_button"
+		layout="@layout/bottom_sheet_dialog_button"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/dialog_button_height"
+		android:layout_marginLeft="@dimen/content_padding"
+		android:layout_marginTop="@dimen/content_padding"
+		android:layout_marginRight="@dimen/content_padding"
+		android:layout_marginBottom="@dimen/content_padding" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/backup_status_header.xml b/OsmAnd/res/layout/backup_status_header.xml
new file mode 100644
index 00000000000..977721db4b3
--- /dev/null
+++ b/OsmAnd/res/layout/backup_status_header.xml
@@ -0,0 +1,83 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:osmand="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:background="?attr/list_background_color"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/header_container"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content">
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/icon"
+			android:layout_width="@dimen/standard_icon_size"
+			android:layout_height="@dimen/standard_icon_size"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
+			android:tint="?attr/default_icon_color"
+			osmand:srcCompat="@drawable/ic_action_cloud_upload" />
+
+		<LinearLayout
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_weight="1"
+			android:orientation="vertical"
+			android:paddingLeft="@dimen/content_padding"
+			android:paddingTop="@dimen/content_padding"
+			android:paddingRight="@dimen/content_padding"
+			android:paddingBottom="@dimen/content_padding">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/description"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:letterSpacing="@dimen/text_button_letter_spacing"
+				android:textColor="?android:textColorSecondary"
+				android:textSize="@dimen/default_desc_text_size"
+				osmand:lineHeight="@dimen/default_desc_line_height"
+				osmand:typeface="@string/font_roboto_medium"
+				tools:text="@string/last_backup" />
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/title"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:letterSpacing="@dimen/text_button_letter_spacing"
+				android:text="@string/local_openstreetmap_uploading"
+				android:textColor="?android:textColorPrimary"
+				android:textSize="@dimen/default_list_text_size"
+				osmand:lineHeight="@dimen/default_title_line_height"
+				osmand:typeface="@string/font_roboto_regular" />
+
+			<me.zhanghai.android.materialprogressbar.MaterialProgressBar
+				android:id="@+id/progress_bar"
+				style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
+				android:layout_width="match_parent"
+				android:layout_height="4dp"
+				android:layout_marginTop="@dimen/content_padding_small_half"
+				android:indeterminate="false"
+				osmand:mpb_progressStyle="horizontal"
+				osmand:mpb_setBothDrawables="true"
+				osmand:mpb_useIntrinsicPadding="false" />
+
+		</LinearLayout>
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/explicit_indicator"
+			android:layout_width="@dimen/standard_icon_size"
+			android:layout_height="@dimen/standard_icon_size"
+			android:layout_gravity="center"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
+			android:tint="?attr/default_icon_color"
+			tools:srcCompat="@drawable/ic_action_arrow_down" />
+
+	</LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/backup_upload_card.xml b/OsmAnd/res/layout/backup_upload_card.xml
deleted file mode 100644
index d319ec0face..00000000000
--- a/OsmAnd/res/layout/backup_upload_card.xml
+++ /dev/null
@@ -1,116 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-	xmlns:osmand="http://schemas.android.com/apk/res-auto"
-	xmlns:tools="http://schemas.android.com/tools"
-	android:layout_width="match_parent"
-	android:layout_height="wrap_content"
-	android:orientation="vertical">
-
-	<include layout="@layout/card_top_divider" />
-
-	<LinearLayout
-		android:layout_width="match_parent"
-		android:layout_height="wrap_content"
-		android:background="?attr/list_background_color"
-		android:orientation="vertical">
-
-		<LinearLayout
-			android:id="@+id/header_container"
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content">
-
-			<androidx.appcompat.widget.AppCompatImageView
-				android:id="@+id/icon"
-				android:layout_width="@dimen/standard_icon_size"
-				android:layout_height="@dimen/standard_icon_size"
-				android:layout_gravity="center_vertical"
-				android:layout_marginLeft="@dimen/content_padding"
-				android:layout_marginRight="@dimen/content_padding"
-				android:tint="?attr/default_icon_color"
-				osmand:srcCompat="@drawable/ic_action_cloud_upload" />
-
-			<LinearLayout
-				android:layout_width="0dp"
-				android:layout_height="wrap_content"
-				android:layout_gravity="center_vertical"
-				android:layout_weight="1"
-				android:orientation="vertical"
-				android:paddingLeft="@dimen/content_padding"
-				android:paddingTop="@dimen/content_padding"
-				android:paddingRight="@dimen/content_padding"
-				android:paddingBottom="@dimen/content_padding">
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/description"
-					android:layout_width="match_parent"
-					android:layout_height="wrap_content"
-					android:letterSpacing="@dimen/text_button_letter_spacing"
-					android:textColor="?android:textColorSecondary"
-					android:textSize="@dimen/default_desc_text_size"
-					osmand:lineHeight="@dimen/default_desc_line_height"
-					osmand:typeface="@string/font_roboto_medium"
-					tools:text="@string/last_backup" />
-
-				<net.osmand.plus.widgets.TextViewEx
-					android:id="@+id/title"
-					android:layout_width="match_parent"
-					android:layout_height="wrap_content"
-					android:letterSpacing="@dimen/text_button_letter_spacing"
-					android:text="@string/local_openstreetmap_uploading"
-					android:textColor="?android:textColorPrimary"
-					android:textSize="@dimen/default_list_text_size"
-					osmand:lineHeight="@dimen/default_title_line_height"
-					osmand:typeface="@string/font_roboto_regular" />
-
-				<me.zhanghai.android.materialprogressbar.MaterialProgressBar
-					android:id="@+id/progress_bar"
-					style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
-					android:layout_width="match_parent"
-					android:layout_height="4dp"
-					android:layout_marginTop="@dimen/content_padding_small_half"
-					android:indeterminate="false"
-					osmand:mpb_progressStyle="horizontal"
-					osmand:mpb_setBothDrawables="true"
-					osmand:mpb_useIntrinsicPadding="false" />
-
-			</LinearLayout>
-
-			<androidx.appcompat.widget.AppCompatImageView
-				android:id="@+id/explicit_indicator"
-				android:layout_width="@dimen/standard_icon_size"
-				android:layout_height="@dimen/standard_icon_size"
-				android:layout_gravity="center"
-				android:layout_marginLeft="@dimen/content_padding"
-				android:layout_marginRight="@dimen/content_padding"
-				android:tint="?attr/default_icon_color"
-				tools:srcCompat="@drawable/ic_action_arrow_down" />
-
-		</LinearLayout>
-
-		<include
-			android:id="@+id/warning_card"
-			layout="@layout/backup_warning" />
-
-		<LinearLayout
-			android:id="@+id/items_container"
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:orientation="vertical" />
-
-		<include
-			android:id="@+id/action_button"
-			layout="@layout/bottom_sheet_dialog_button"
-			android:layout_width="match_parent"
-			android:layout_height="@dimen/dialog_button_height"
-			android:layout_marginLeft="@dimen/content_padding"
-			android:layout_marginTop="@dimen/content_padding"
-			android:layout_marginRight="@dimen/content_padding"
-			android:layout_marginBottom="@dimen/content_padding" />
-
-	</LinearLayout>
-
-	<include
-		android:id="@+id/card_bottom_divider"
-		layout="@layout/card_bottom_divider" />
-
-</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/backup_upload_item.xml b/OsmAnd/res/layout/backup_upload_item.xml
index e26bdaddd7b..654063a0e34 100644
--- a/OsmAnd/res/layout/backup_upload_item.xml
+++ b/OsmAnd/res/layout/backup_upload_item.xml
@@ -4,6 +4,7 @@
 	xmlns:tools="http://schemas.android.com/tools"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
+	android:background="?attr/list_background_color"
 	android:orientation="vertical">
 
 	<LinearLayout
diff --git a/OsmAnd/res/layout/backup_warning.xml b/OsmAnd/res/layout/backup_warning.xml
index 0259f99736e..77c1f1478c0 100644
--- a/OsmAnd/res/layout/backup_warning.xml
+++ b/OsmAnd/res/layout/backup_warning.xml
@@ -4,6 +4,7 @@
 	xmlns:tools="http://schemas.android.com/tools"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
+	android:background="?attr/list_background_color"
 	android:orientation="vertical">
 
 	<LinearLayout
diff --git a/OsmAnd/res/layout/fragment_backup_status.xml b/OsmAnd/res/layout/fragment_backup_status.xml
index 6ef04eae89b..c10b65b3da4 100644
--- a/OsmAnd/res/layout/fragment_backup_status.xml
+++ b/OsmAnd/res/layout/fragment_backup_status.xml
@@ -21,20 +21,15 @@
 		osmand:mpb_useIntrinsicPadding="false"
 		tools:visibility="visible" />
 
-	<ScrollView
+	<androidx.recyclerview.widget.RecyclerView
+		android:id="@+id/recycler_view"
 		android:layout_width="match_parent"
 		android:layout_height="match_parent"
-		android:clickable="true"
-		android:fillViewport="true"
-		android:focusable="true">
-
-		<LinearLayout
-			android:id="@+id/cards_container"
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:orientation="vertical"
-			android:paddingTop="@dimen/list_item_button_padding" />
-
-	</ScrollView>
+		android:clipToPadding="false"
+		android:orientation="vertical"
+		android:paddingTop="@dimen/list_item_button_padding"
+		android:scrollbars="none"
+		tools:itemCount="5"
+		tools:listitem="@layout/backup_type_item" />
 
 </FrameLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/local_backup_card.xml b/OsmAnd/res/layout/local_backup_card.xml
index e3a29098286..6417a2377d5 100644
--- a/OsmAnd/res/layout/local_backup_card.xml
+++ b/OsmAnd/res/layout/local_backup_card.xml
@@ -22,19 +22,6 @@
 			android:minHeight="@dimen/setting_list_item_large_height"
 			tools:background="?android:attr/selectableItemBackground">
 
-			<androidx.appcompat.widget.AppCompatImageView
-				android:id="@android:id/icon"
-				android:layout_width="@dimen/standard_icon_size"
-				android:layout_height="@dimen/standard_icon_size"
-				android:layout_gravity="center"
-				android:layout_marginStart="@dimen/content_padding"
-				android:layout_marginLeft="@dimen/content_padding"
-				android:layout_marginTop="@dimen/bottom_sheet_icon_margin"
-				android:layout_marginEnd="@dimen/content_padding"
-				android:layout_marginRight="@dimen/content_padding"
-				android:layout_marginBottom="@dimen/bottom_sheet_icon_margin"
-				tools:src="@drawable/ic_action_user_account" />
-
 			<LinearLayout
 				android:layout_width="0dp"
 				android:layout_height="wrap_content"
@@ -91,10 +78,6 @@
 		android:id="@+id/backup_to_file"
 		layout="@layout/preference_button" />
 
-	<include
-		android:id="@+id/local_backup_divider"
-		layout="@layout/divider_half_item_with_background" />
-
 	<include
 		android:id="@+id/restore_from_file"
 		layout="@layout/preference_button" />
diff --git a/OsmAnd/src/net/osmand/plus/activities/OsmandBaseExpandableListAdapter.java b/OsmAnd/src/net/osmand/plus/activities/OsmandBaseExpandableListAdapter.java
index d3dbe8d0270..9fc6ddd88c9 100644
--- a/OsmAnd/src/net/osmand/plus/activities/OsmandBaseExpandableListAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/activities/OsmandBaseExpandableListAdapter.java
@@ -5,21 +5,28 @@
 import android.widget.BaseExpandableListAdapter;
 import android.widget.ImageView;
 
+import androidx.annotation.NonNull;
+
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 
 public abstract class OsmandBaseExpandableListAdapter extends BaseExpandableListAdapter {
 
-	protected void adjustIndicator(OsmandApplication app, int groupPosition, boolean isExpanded, View row, boolean light) {
+	protected void adjustIndicator(OsmandApplication app, int groupPosition, boolean expanded, View row, boolean light) {
+		adjustIndicator(app, row, expanded, !light);
 		ImageView indicator = (ImageView) row.findViewById(R.id.explicit_indicator);
-		if (!isExpanded) {
-			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_down, light));
+		indicator.setVisibility(getChildrenCount(groupPosition) > 0 ? View.VISIBLE : View.GONE);
+	}
+
+	public static void adjustIndicator(@NonNull OsmandApplication app, @NonNull View row, boolean expanded, boolean nightMode) {
+		ImageView indicator = row.findViewById(R.id.explicit_indicator);
+		if (!expanded) {
+			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_down, !nightMode));
 			indicator.setContentDescription(row.getContext().getString(R.string.access_collapsed_list));
 		} else {
-			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_up, light));
+			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_up, !nightMode));
 			indicator.setContentDescription(row.getContext().getString(R.string.access_expanded_list));
 		}
-		indicator.setVisibility(getChildrenCount(groupPosition) > 0 ? View.VISIBLE : View.GONE);
 	}
 
 	protected void setCategoryIcon(OsmandApplication app, int resId, int groupPosition, boolean isExpanded, View row, boolean light) {
diff --git a/OsmAnd/src/net/osmand/plus/backup/ExportBackupTask.java b/OsmAnd/src/net/osmand/plus/backup/ExportBackupTask.java
index 5adb995c4f1..70d4077641f 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ExportBackupTask.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ExportBackupTask.java
@@ -13,6 +13,7 @@
 import java.io.IOException;
 import java.util.List;
 import java.util.Map;
+import java.util.concurrent.ConcurrentHashMap;
 
 public class ExportBackupTask extends AsyncTask<Void, Object, String> {
 
@@ -20,6 +21,9 @@ public class ExportBackupTask extends AsyncTask<Void, Object, String> {
 	private final BackupExporter exporter;
 	private BackupExportListener listener;
 
+	private final Map<String, ItemProgressInfo> itemsProgress = new ConcurrentHashMap<>();
+	private int generalProgress;
+
 	ExportBackupTask(@NonNull NetworkSettingsHelper helper,
 					 @NonNull List<SettingsItem> items,
 					 @NonNull List<RemoteFile> filesToDelete,
@@ -43,6 +47,15 @@ public void setListener(BackupExportListener listener) {
 		this.listener = listener;
 	}
 
+	public int getGeneralProgress() {
+		return generalProgress;
+	}
+
+	@Nullable
+	public ItemProgressInfo getItemProgressInfo(@NonNull String type, @NonNull String fileName) {
+		return itemsProgress.get(type + fileName);
+	}
+
 	@Override
 	protected String doInBackground(Void... voids) {
 		String error = null;
@@ -100,22 +113,39 @@ private NetworkExportProgressListener getProgressListener() {
 
 			@Override
 			public void itemExportStarted(@NonNull String type, @NonNull String fileName, int work) {
-				publishProgress(new ItemProgressInfo(type, fileName, 0, work, false));
+				ItemProgressInfo progressInfo = new ItemProgressInfo(type, fileName, 0, work, false);
+				itemsProgress.put(type + fileName, progressInfo);
+				publishProgress(progressInfo);
 			}
 
 			@Override
 			public void updateItemProgress(@NonNull String type, @NonNull String fileName, int progress) {
-				publishProgress(new ItemProgressInfo(type, fileName, progress, 0, false));
+				int work = 0;
+				ItemProgressInfo prevInfo = getItemProgressInfo(type, fileName);
+				if (prevInfo != null) {
+					work = prevInfo.work;
+				}
+				ItemProgressInfo progressInfo = new ItemProgressInfo(type, fileName, progress, work, false);
+				itemsProgress.put(type + fileName, progressInfo);
+				publishProgress(progressInfo);
 			}
 
 			@Override
 			public void itemExportDone(@NonNull String type, @NonNull String fileName) {
-				publishProgress(new ItemProgressInfo(type, fileName, 0, 0, true));
+				int work = 0;
+				ItemProgressInfo prevInfo = getItemProgressInfo(type, fileName);
+				if (prevInfo != null) {
+					work = prevInfo.work;
+				}
+				ItemProgressInfo progressInfo = new ItemProgressInfo(type, fileName, 0, work, true);
+				itemsProgress.put(type + fileName, progressInfo);
+				publishProgress(progressInfo);
 			}
 
 			@Override
 			public void updateGeneralProgress(int uploadedItems, int uploadedKb) {
 				exporter.setCancelled(isCancelled());
+				generalProgress = uploadedItems;
 				publishProgress(uploadedItems);
 			}
 
@@ -126,14 +156,14 @@ public void networkExportDone(@NonNull Map<String, String> errors) {
 		};
 	}
 
-	private static class ItemProgressInfo {
+	public static class ItemProgressInfo {
 
 		private final String type;
 		private final String fileName;
 
-		private final int work;
-		private final int value;
-		private final boolean finished;
+		public final int work;
+		public final int value;
+		public final boolean finished;
 
 		public ItemProgressInfo(String type, String fileName, int progress, int work, boolean finished) {
 			this.type = type;
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/BackupAndRestoreFragment.java b/OsmAnd/src/net/osmand/plus/backup/ui/BackupAndRestoreFragment.java
index d3684c2fbb5..139d1424b93 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ui/BackupAndRestoreFragment.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/BackupAndRestoreFragment.java
@@ -22,6 +22,7 @@
 import net.osmand.plus.activities.TabActivity.OsmandFragmentPagerAdapter;
 import net.osmand.plus.activities.TabActivity.TabItem;
 import net.osmand.plus.backup.NetworkSettingsHelper;
+import net.osmand.plus.backup.ui.status.BackupStatusFragment;
 import net.osmand.plus.base.BaseOsmAndFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.views.controls.PagerSlidingTabStrip;
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupUploadCard.java b/OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupUploadCard.java
deleted file mode 100644
index 3666f8f4c3e..00000000000
--- a/OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupUploadCard.java
+++ /dev/null
@@ -1,383 +0,0 @@
-package net.osmand.plus.backup.ui.cards;
-
-import android.graphics.drawable.Drawable;
-import android.graphics.drawable.LayerDrawable;
-import android.os.Build;
-import android.util.Pair;
-import android.view.LayoutInflater;
-import android.view.View;
-import android.view.ViewGroup;
-import android.widget.ImageView;
-import android.widget.LinearLayout;
-import android.widget.ProgressBar;
-import android.widget.TextView;
-
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-
-import net.osmand.AndroidUtils;
-import net.osmand.plus.R;
-import net.osmand.plus.UiUtilities;
-import net.osmand.plus.UiUtilities.DialogButtonType;
-import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.backup.BackupDbHelper.UploadedFileInfo;
-import net.osmand.plus.backup.BackupHelper;
-import net.osmand.plus.backup.BackupInfo;
-import net.osmand.plus.backup.LocalFile;
-import net.osmand.plus.backup.NetworkSettingsHelper.BackupExportListener;
-import net.osmand.plus.backup.PrepareBackupResult;
-import net.osmand.plus.backup.RemoteFile;
-import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.routepreparationmenu.cards.MapBaseCard;
-import net.osmand.plus.settings.backend.ApplicationMode;
-import net.osmand.plus.settings.backend.ExportSettingsType;
-import net.osmand.plus.settings.backend.backup.SettingsHelper.ImportListener;
-import net.osmand.plus.settings.backend.backup.items.ProfileSettingsItem;
-import net.osmand.plus.settings.backend.backup.items.SettingsItem;
-import net.osmand.plus.settings.fragments.MainSettingsFragment;
-import net.osmand.util.Algorithms;
-
-import java.util.Collections;
-import java.util.List;
-
-import static net.osmand.plus.backup.ui.cards.LocalBackupCard.adjustIndicator;
-
-public class BackupUploadCard extends MapBaseCard {
-
-	private final BackupStatus status;
-	private final PrepareBackupResult backup;
-	private final BackupExportListener exportListener;
-	private final ImportListener importListener;
-
-	private TextView headerTitle;
-	private ProgressBar progressBar;
-	private ViewGroup itemsContainer;
-
-	private boolean buttonsVisible = false;
-
-	public BackupUploadCard(@NonNull MapActivity mapActivity, @NonNull PrepareBackupResult backup,
-							@Nullable BackupExportListener exportListener,
-							@Nullable ImportListener importListener) {
-		super(mapActivity, false);
-		this.backup = backup;
-		this.status = getBackupStatus();
-		this.exportListener = exportListener;
-		this.importListener = importListener;
-	}
-
-	@Override
-	public int getCardLayoutId() {
-		return R.layout.backup_upload_card;
-	}
-
-	@Override
-	protected void updateContent() {
-		itemsContainer = view.findViewById(R.id.items_container);
-		itemsContainer.removeAllViews();
-
-		setupHeader();
-		setupWarningContainer();
-		BackupInfo info = backup.getBackupInfo();
-		if (info != null) {
-			setupProgress(info);
-			setupUploadItems(info);
-			setupItemsToDelete(info);
-			setupConflictingItems(info);
-		}
-		setupActionButton();
-		AndroidUiHelper.updateVisibility(itemsContainer, buttonsVisible);
-	}
-
-	private void setupHeader() {
-		View container = view.findViewById(R.id.header_container);
-		headerTitle = container.findViewById(R.id.title);
-		progressBar = container.findViewById(R.id.progress_bar);
-
-		ImageView icon = view.findViewById(R.id.icon);
-		TextView description = view.findViewById(R.id.description);
-
-		if (app.getNetworkSettingsHelper().isBackupExporting()) {
-			headerTitle.setText(R.string.uploading);
-			icon.setImageDrawable(getContentIcon(R.drawable.ic_action_cloud_upload));
-			AndroidUiHelper.updateVisibility(description, false);
-		} else {
-			description.setText(status.statusTitleRes);
-			icon.setImageDrawable(getContentIcon(status.statusIconRes));
-
-			String backupTime = MainSettingsFragment.getLastBackupTimeDescription(app);
-			if (Algorithms.isEmpty(backupTime)) {
-				headerTitle.setText(R.string.shared_string_never);
-			} else {
-				headerTitle.setText(backupTime);
-			}
-			AndroidUiHelper.updateVisibility(description, true);
-		}
-		container.setOnClickListener(v -> {
-			buttonsVisible = !buttonsVisible;
-			adjustIndicator(app, buttonsVisible, view, nightMode);
-			AndroidUiHelper.updateVisibility(itemsContainer, buttonsVisible);
-		});
-		adjustIndicator(app, buttonsVisible, view, nightMode);
-		setupSelectableBackground(container);
-		AndroidUiHelper.updateVisibility(progressBar, app.getNetworkSettingsHelper().isBackupExporting());
-		AndroidUiHelper.updateVisibility(container.findViewById(R.id.explicit_indicator), status != BackupStatus.BACKUP_COMPLETE);
-	}
-
-	private void setupWarningContainer() {
-		ViewGroup warningView = view.findViewById(R.id.warning_card);
-		String error = backup.getError();
-		if (status.warningTitleRes != -1 || !Algorithms.isEmpty(error)) {
-			AndroidUiHelper.updateVisibility(warningView, true);
-
-			TextView title = warningView.findViewById(R.id.title);
-			TextView description = warningView.findViewById(R.id.description);
-
-			if (status.warningTitleRes != -1) {
-				title.setText(status.warningTitleRes);
-				description.setText(status.warningDescriptionRes);
-			} else {
-				title.setText(R.string.subscribe_email_error);
-				description.setText(error);
-			}
-			ImageView icon = warningView.findViewById(R.id.icon);
-			icon.setImageDrawable(getContentIcon(status.warningIconRes));
-			setupWarningRoundedBg(warningView.findViewById(R.id.warning_container));
-		} else {
-			AndroidUiHelper.updateVisibility(warningView, false);
-		}
-	}
-
-	public void setupWarningRoundedBg(View selectableView) {
-		int color = AndroidUtils.getColorFromAttr(selectableView.getContext(), R.attr.activity_background_color);
-		int selectedColor = UiUtilities.getColorWithAlpha(getActiveColor(), 0.3f);
-
-		Drawable bgDrawable = getPaintedIcon(R.drawable.rectangle_rounded, color);
-		if (Build.VERSION.SDK_INT > Build.VERSION_CODES.LOLLIPOP) {
-			Drawable selectable = getPaintedIcon(R.drawable.ripple_rectangle_rounded, selectedColor);
-			Drawable[] layers = {bgDrawable, selectable};
-			AndroidUtils.setBackground(selectableView, new LayerDrawable(layers));
-		} else {
-			AndroidUtils.setBackground(selectableView, bgDrawable);
-		}
-		LinearLayout.LayoutParams params = (LinearLayout.LayoutParams) selectableView.getLayoutParams();
-		params.setMargins(params.leftMargin, AndroidUtils.dpToPx(app, 6), params.rightMargin, params.bottomMargin);
-	}
-
-	private void setupUploadItems(@NonNull BackupInfo info) {
-		LayoutInflater themedInflater = UiUtilities.getInflater(view.getContext(), nightMode);
-		for (SettingsItem item : info.itemsToUpload) {
-			View itemView = themedInflater.inflate(R.layout.backup_upload_item, itemsContainer, false);
-			setupItemView(item, itemView);
-
-			itemsContainer.addView(itemView);
-			AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.second_icon), false);
-		}
-	}
-
-	private void setupItemsToDelete(@NonNull BackupInfo info) {
-		LayoutInflater themedInflater = UiUtilities.getInflater(view.getContext(), nightMode);
-		for (SettingsItem item : info.itemsToDelete) {
-			View itemView = themedInflater.inflate(R.layout.backup_upload_item, itemsContainer, false);
-			setupItemView(item, itemView);
-
-			ImageView icon = itemView.findViewById(R.id.second_icon);
-			icon.setImageDrawable(getContentIcon(R.drawable.ic_action_delete_dark));
-			AndroidUiHelper.updateVisibility(icon, true);
-
-			itemsContainer.addView(itemView);
-		}
-	}
-
-	private void setupConflictingItems(@NonNull BackupInfo info) {
-		LayoutInflater themedInflater = UiUtilities.getInflater(view.getContext(), nightMode);
-		for (Pair<LocalFile, RemoteFile> pair : info.filteredFilesToMerge) {
-			SettingsItem item = pair.first.item;
-			if (pair.first.item == null || pair.second.item == null) {
-				continue;
-			}
-			View itemView = themedInflater.inflate(R.layout.backup_upload_item, itemsContainer, false);
-			setupItemView(item, itemView);
-
-			View localVersionButton = itemView.findViewById(R.id.local_version_button);
-			localVersionButton.setOnClickListener(v -> app.getNetworkSettingsHelper().exportSettings(exportListener, pair.first.item));
-			View serverButton = itemView.findViewById(R.id.server_button);
-			serverButton.setOnClickListener(v -> {
-				SettingsItem settingsItem = pair.second.item;
-				settingsItem.setShouldReplace(true);
-				app.getNetworkSettingsHelper().importSettings(Collections.singletonList(settingsItem), "", 1, true, importListener);
-			});
-			AndroidUiHelper.updateVisibility(serverButton, true);
-			AndroidUiHelper.updateVisibility(localVersionButton, true);
-			AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.second_icon), true);
-			UiUtilities.setupDialogButton(nightMode, localVersionButton, DialogButtonType.SECONDARY, R.string.upload_local_version);
-			UiUtilities.setupDialogButton(nightMode, serverButton, DialogButtonType.SECONDARY, R.string.download_server_version);
-			AndroidUtils.setBackground(app, localVersionButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
-			AndroidUtils.setBackground(app, serverButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
-
-			itemsContainer.addView(itemView);
-		}
-	}
-
-	private void setupItemView(@NonNull SettingsItem item, @NonNull View itemView) {
-		TextView title = itemView.findViewById(R.id.title);
-		title.setText(item.getPublicName(app));
-
-		String filename = BackupHelper.getItemFileName(item);
-		TextView description = itemView.findViewById(R.id.description);
-		String summary = app.getString(R.string.last_backup);
-		UploadedFileInfo info = app.getBackupHelper().getDbHelper().getUploadedFileInfo(item.getType().name(), filename);
-		if (info != null) {
-			String time = MainSettingsFragment.getLastBackupTimeDescription(app, info.getUploadTime(), app.getString(R.string.shared_string_never));
-			description.setText(app.getString(R.string.ltr_or_rtl_combine_via_colon, summary, time));
-		} else {
-			description.setText(app.getString(R.string.ltr_or_rtl_combine_via_colon, summary, app.getString(R.string.shared_string_never)));
-		}
-		ImageView icon = itemView.findViewById(R.id.icon);
-		icon.setImageDrawable(getItemIcon(item));
-		itemView.setTag(item);
-	}
-
-	private void setupActionButton() {
-		View actionButton = view.findViewById(R.id.action_button);
-		if (app.getNetworkSettingsHelper().isBackupExporting()) {
-			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.shared_string_cancel);
-			actionButton.setOnClickListener(v -> app.getNetworkSettingsHelper().cancelExport());
-			AndroidUiHelper.updateVisibility(actionButton, true);
-		} else if (status == BackupStatus.MAKE_BACKUP || status == BackupStatus.CONFLICTS) {
-			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.backup_now);
-			actionButton.setOnClickListener(v -> {
-				BackupInfo info = backup.getBackupInfo();
-				List<SettingsItem> items = info.itemsToUpload;
-				if (!items.isEmpty() || !Algorithms.isEmpty(info.filteredFilesToDelete)) {
-					app.getNetworkSettingsHelper().exportSettings(items, info.filteredFilesToDelete, exportListener);
-				}
-			});
-			BackupInfo info = backup.getBackupInfo();
-			AndroidUiHelper.updateVisibility(actionButton, info != null
-					&& (!info.filteredFilesToUpload.isEmpty() || !info.filteredFilesToDelete.isEmpty()));
-		} else if (status == BackupStatus.NO_INTERNET_CONNECTION || status == BackupStatus.ERROR) {
-			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.retry);
-			actionButton.setOnClickListener(v -> app.getBackupHelper().prepareBackup());
-			AndroidUiHelper.updateVisibility(actionButton, true);
-		} else if (status == BackupStatus.BACKUP_COMPLETE) {
-			AndroidUiHelper.updateVisibility(actionButton, false);
-		}
-		AndroidUtils.setBackground(app, actionButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
-	}
-
-	public void setupProgress(@NonNull BackupInfo info) {
-		int itemsCount = info.filteredFilesToUpload.size() + info.filteredFilesToDelete.size();
-		progressBar.setMax(itemsCount);
-	}
-
-	public void onBackupExportItemProgress(@NonNull String type, @NonNull String fileName, int value) {
-		SettingsItem item = getSettingsItem(type, fileName);
-		if (item != null) {
-			View itemView = view.findViewWithTag(item);
-			if (itemView != null) {
-				ProgressBar progress = itemView.findViewById(R.id.progressBar);
-				progress.setProgress(value);
-				AndroidUiHelper.updateVisibility(progress, true);
-			}
-		}
-	}
-
-	public void onBackupExportItemFinished(@NonNull String type, @NonNull String fileName) {
-		SettingsItem item = getSettingsItem(type, fileName);
-		if (item != null) {
-			View itemView = view.findViewWithTag(item);
-			if (itemView != null) {
-				ProgressBar progress = itemView.findViewById(R.id.progressBar);
-				AndroidUiHelper.updateVisibility(progress, false);
-
-				ImageView icon = itemView.findViewById(R.id.second_icon);
-				icon.setImageDrawable(getContentIcon(R.drawable.ic_action_cloud_done));
-				AndroidUiHelper.updateVisibility(icon, true);
-				AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.server_button), false);
-				AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.local_version_button), false);
-			}
-		}
-	}
-
-	public void onBackupExportItemStarted(@NonNull String type, @NonNull String fileName, int max) {
-		SettingsItem item = getSettingsItem(type, fileName);
-		if (item != null) {
-			View itemView = view.findViewWithTag(item);
-			if (itemView != null) {
-				ProgressBar progress = itemView.findViewById(R.id.progressBar);
-				progress.setMax(max);
-				progress.setProgress(0);
-				AndroidUiHelper.updateVisibility(progress, true);
-				AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.second_icon), false);
-			}
-		}
-	}
-
-	@Nullable
-	private SettingsItem getSettingsItem(@NonNull String type, @NonNull String fileName) {
-		BackupInfo info = backup.getBackupInfo();
-		if (info != null) {
-			for (LocalFile file : info.filteredFilesToUpload) {
-				if (file.item != null && BackupHelper.applyItem(file.item, type, fileName)) {
-					return file.item;
-				}
-			}
-			for (RemoteFile file : info.filteredFilesToDelete) {
-				if (file.item != null && BackupHelper.applyItem(file.item, type, fileName)) {
-					return file.item;
-				}
-			}
-			for (Pair<LocalFile, RemoteFile> pair : info.filteredFilesToMerge) {
-				SettingsItem item = pair.first.item;
-				if (item != null && BackupHelper.applyItem(item, type, fileName)) {
-					return item;
-				}
-			}
-		}
-		return null;
-	}
-
-	public void updateProgress(int value) {
-		String uploading = app.getString(R.string.local_openstreetmap_uploading);
-		headerTitle.setText(app.getString(R.string.ltr_or_rtl_combine_via_space, uploading, String.valueOf(value)));
-
-		progressBar.setProgress(value);
-		AndroidUiHelper.updateVisibility(progressBar, app.getNetworkSettingsHelper().isBackupExporting());
-	}
-
-	private BackupStatus getBackupStatus() {
-		BackupInfo info = backup.getBackupInfo();
-		if (info != null) {
-			if (!Algorithms.isEmpty(info.filteredFilesToMerge)) {
-				return BackupStatus.CONFLICTS;
-			} else if (!Algorithms.isEmpty(info.filteredFilesToUpload)
-					|| !Algorithms.isEmpty(info.filteredFilesToDelete)) {
-				return BackupStatus.MAKE_BACKUP;
-			}
-		} else if (!app.getSettings().isInternetConnectionAvailable()) {
-			return BackupStatus.NO_INTERNET_CONNECTION;
-		} else if (backup.getError() != null) {
-			return BackupStatus.ERROR;
-		}
-		return BackupStatus.BACKUP_COMPLETE;
-	}
-
-	private void setupSelectableBackground(View view) {
-		Drawable drawable = UiUtilities.getColoredSelectableDrawable(app, getActiveColor(), 0.3f);
-		AndroidUtils.setBackground(view, drawable);
-	}
-
-	@Nullable
-	private Drawable getItemIcon(@NonNull SettingsItem item) {
-		if (item instanceof ProfileSettingsItem) {
-			ProfileSettingsItem profileItem = (ProfileSettingsItem) item;
-			ApplicationMode mode = profileItem.getAppMode();
-			return getContentIcon(mode.getIconRes());
-		}
-		ExportSettingsType type = ExportSettingsType.getExportSettingsTypeForItem(item);
-		if (type != null) {
-			return getContentIcon(type.getIconRes());
-		}
-		return null;
-	}
-}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/cards/LocalBackupCard.java b/OsmAnd/src/net/osmand/plus/backup/ui/cards/LocalBackupCard.java
deleted file mode 100644
index b8232f8fb5e..00000000000
--- a/OsmAnd/src/net/osmand/plus/backup/ui/cards/LocalBackupCard.java
+++ /dev/null
@@ -1,132 +0,0 @@
-package net.osmand.plus.backup.ui.cards;
-
-import android.graphics.drawable.Drawable;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.ImageView;
-import android.widget.TextView;
-
-import androidx.annotation.NonNull;
-import androidx.fragment.app.FragmentManager;
-
-import net.osmand.AndroidUtils;
-import net.osmand.plus.OsmandApplication;
-import net.osmand.plus.R;
-import net.osmand.plus.UiUtilities;
-import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.helpers.AndroidUiHelper;
-import net.osmand.plus.routepreparationmenu.cards.MapBaseCard;
-import net.osmand.plus.settings.backend.ApplicationMode;
-import net.osmand.plus.settings.fragments.ExportSettingsFragment;
-
-import static net.osmand.plus.importfiles.ImportHelper.ImportType.SETTINGS;
-
-public class LocalBackupCard extends MapBaseCard {
-
-	private View localBackup;
-	private View backupToFile;
-	private View restoreFromFile;
-	private View localBackupDivider;
-
-	private boolean buttonsVisible = true;
-
-	public LocalBackupCard(@NonNull MapActivity mapActivity) {
-		super(mapActivity, false);
-	}
-
-	@Override
-	public int getCardLayoutId() {
-		return R.layout.local_backup_card;
-	}
-
-	@Override
-	protected void updateContent() {
-		localBackup = view.findViewById(R.id.local_backup);
-		backupToFile = view.findViewById(R.id.backup_to_file);
-		restoreFromFile = view.findViewById(R.id.restore_from_file);
-		localBackupDivider = view.findViewById(R.id.local_backup_divider);
-
-		TextView title = localBackup.findViewById(android.R.id.title);
-		TextView description = localBackup.findViewById(android.R.id.summary);
-
-		title.setText(R.string.local_backup);
-		description.setText(R.string.local_backup_descr);
-		setupSelectableBackground(localBackup);
-
-		localBackup.setOnClickListener(new OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				buttonsVisible = !buttonsVisible;
-				updateButtonsVisibility();
-			}
-		});
-		setupBackupButton();
-		setupRestoreButton();
-		updateButtonsVisibility();
-		AndroidUiHelper.updateVisibility(view.findViewById(android.R.id.icon), false);
-	}
-
-	private void setupBackupButton() {
-		ImageView icon = backupToFile.findViewById(android.R.id.icon);
-		TextView title = backupToFile.findViewById(android.R.id.title);
-
-		title.setText(R.string.backup_into_file);
-		icon.setImageDrawable(getActiveIcon(R.drawable.ic_action_read_from_file));
-		setupSelectableBackground(backupToFile);
-
-		backupToFile.setOnClickListener(new OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				MapActivity mapActivity = getMapActivity();
-				if (mapActivity != null) {
-					ApplicationMode mode = app.getSettings().getApplicationMode();
-					FragmentManager fragmentManager = mapActivity.getSupportFragmentManager();
-					ExportSettingsFragment.showInstance(fragmentManager, mode, true);
-				}
-			}
-		});
-	}
-
-	private void setupRestoreButton() {
-		ImageView icon = restoreFromFile.findViewById(android.R.id.icon);
-		TextView title = restoreFromFile.findViewById(android.R.id.title);
-
-		title.setText(R.string.restore_from_file);
-		icon.setImageDrawable(getActiveIcon(R.drawable.ic_action_save_to_file));
-		setupSelectableBackground(restoreFromFile);
-
-		restoreFromFile.setOnClickListener(new OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				MapActivity mapActivity = getMapActivity();
-				if (mapActivity != null) {
-					mapActivity.getImportHelper().chooseFileToImport(SETTINGS, null);
-				}
-			}
-		});
-	}
-
-	private void setupSelectableBackground(View view) {
-		View selectableView = view.findViewById(R.id.selectable_list_item);
-		Drawable drawable = UiUtilities.getColoredSelectableDrawable(app, getActiveColor(), 0.3f);
-		AndroidUtils.setBackground(selectableView, drawable);
-	}
-
-	private void updateButtonsVisibility() {
-		adjustIndicator(app, buttonsVisible, localBackup, nightMode);
-		AndroidUiHelper.updateVisibility(backupToFile, buttonsVisible);
-		AndroidUiHelper.updateVisibility(restoreFromFile, buttonsVisible);
-		AndroidUiHelper.updateVisibility(localBackupDivider, buttonsVisible);
-	}
-
-	public static void adjustIndicator(OsmandApplication app, boolean isExpanded, View row, boolean nightMode) {
-		ImageView indicator = row.findViewById(R.id.explicit_indicator);
-		if (!isExpanded) {
-			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_down, !nightMode));
-			indicator.setContentDescription(row.getContext().getString(R.string.access_collapsed_list));
-		} else {
-			indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_up, !nightMode));
-			indicator.setContentDescription(row.getContext().getString(R.string.access_expanded_list));
-		}
-	}
-}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/cards/RestoreBackupCard.java b/OsmAnd/src/net/osmand/plus/backup/ui/cards/RestoreBackupCard.java
deleted file mode 100644
index c8096500c24..00000000000
--- a/OsmAnd/src/net/osmand/plus/backup/ui/cards/RestoreBackupCard.java
+++ /dev/null
@@ -1,53 +0,0 @@
-package net.osmand.plus.backup.ui.cards;
-
-import android.graphics.drawable.Drawable;
-import android.view.View;
-import android.view.View.OnClickListener;
-import android.widget.ImageView;
-import android.widget.TextView;
-
-import androidx.annotation.NonNull;
-
-import net.osmand.AndroidUtils;
-import net.osmand.plus.R;
-import net.osmand.plus.UiUtilities;
-import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.backup.ui.RestoreSettingsFragment;
-import net.osmand.plus.routepreparationmenu.cards.MapBaseCard;
-
-public class RestoreBackupCard extends MapBaseCard {
-
-	public RestoreBackupCard(@NonNull MapActivity mapActivity) {
-		super(mapActivity, false);
-	}
-
-	@Override
-	public int getCardLayoutId() {
-		return R.layout.restore_backup_card;
-	}
-
-	@Override
-	protected void updateContent() {
-		setupRestoreButton();
-	}
-
-	private void setupRestoreButton() {
-		TextView title = view.findViewById(android.R.id.title);
-		title.setText(R.string.backup_restore_data);
-
-		ImageView icon = view.findViewById(android.R.id.icon);
-		icon.setImageDrawable(getActiveIcon(R.drawable.ic_action_restore));
-
-		view.findViewById(R.id.restore).setOnClickListener(new OnClickListener() {
-			@Override
-			public void onClick(View v) {
-				MapActivity mapActivity = getMapActivity();
-				if (mapActivity != null) {
-					RestoreSettingsFragment.showInstance(mapActivity.getSupportFragmentManager());
-				}
-			}
-		});
-		Drawable drawable = UiUtilities.getColoredSelectableDrawable(app, getActiveColor(), 0.3f);
-		AndroidUtils.setBackground(view.findViewById(R.id.selectable_list_item), drawable);
-	}
-}
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/ActionButtonViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/ActionButtonViewHolder.java
new file mode 100644
index 00000000000..868edddddf7
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/ActionButtonViewHolder.java
@@ -0,0 +1,51 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.UiUtilities.DialogButtonType;
+import net.osmand.plus.backup.BackupInfo;
+import net.osmand.plus.backup.NetworkSettingsHelper.BackupExportListener;
+import net.osmand.plus.backup.PrepareBackupResult;
+import net.osmand.plus.settings.backend.backup.items.SettingsItem;
+import net.osmand.util.Algorithms;
+
+import java.util.List;
+
+public class ActionButtonViewHolder extends RecyclerView.ViewHolder {
+
+	private final View actionButton;
+
+	public ActionButtonViewHolder(@NonNull View itemView) {
+		super(itemView);
+		actionButton = itemView.findViewById(R.id.action_button);
+	}
+
+	public void bindView(@NonNull BackupStatus status, @NonNull PrepareBackupResult backup, @Nullable BackupExportListener exportListener, boolean nightMode) {
+		OsmandApplication app = (OsmandApplication) itemView.getContext().getApplicationContext();
+		if (app.getNetworkSettingsHelper().isBackupExporting()) {
+			actionButton.setOnClickListener(v -> app.getNetworkSettingsHelper().cancelExport());
+			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.shared_string_cancel);
+		} else if (status == BackupStatus.MAKE_BACKUP || status == BackupStatus.CONFLICTS) {
+			actionButton.setOnClickListener(v -> {
+				BackupInfo info = backup.getBackupInfo();
+				List<SettingsItem> items = info.itemsToUpload;
+				if (!items.isEmpty() || !Algorithms.isEmpty(info.filteredFilesToDelete)) {
+					app.getNetworkSettingsHelper().exportSettings(items, info.filteredFilesToDelete, exportListener);
+				}
+			});
+			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.backup_now);
+		} else if (status == BackupStatus.NO_INTERNET_CONNECTION || status == BackupStatus.ERROR) {
+			actionButton.setOnClickListener(v -> app.getBackupHelper().prepareBackup());
+			UiUtilities.setupDialogButton(nightMode, actionButton, DialogButtonType.SECONDARY, R.string.retry);
+		}
+		AndroidUtils.setBackground(app, actionButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupStatus.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatus.java
similarity index 54%
rename from OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupStatus.java
rename to OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatus.java
index 0e9ec0022e9..8090d7ea8fa 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ui/cards/BackupStatus.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatus.java
@@ -1,11 +1,16 @@
-package net.osmand.plus.backup.ui.cards;
+package net.osmand.plus.backup.ui.status;
 
 import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
 import androidx.annotation.StringRes;
 
+import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
+import net.osmand.plus.backup.BackupInfo;
+import net.osmand.plus.backup.PrepareBackupResult;
+import net.osmand.util.Algorithms;
 
-enum BackupStatus {
+public enum BackupStatus {
 	BACKUP_COMPLETE(R.string.backup_complete, R.drawable.ic_action_cloud_done, -1, -1, -1, R.string.backup_now),
 	MAKE_BACKUP(R.string.last_backup, R.drawable.ic_action_cloud, R.drawable.ic_action_alert_circle, R.string.make_backup, R.string.make_backup_descr, R.string.backup_now),
 	CONFLICTS(R.string.last_backup, R.drawable.ic_action_cloud_alert, R.drawable.ic_action_alert, R.string.backup_conflicts, R.string.backup_confilcts_descr, R.string.backup_view_conflicts),
@@ -13,17 +18,17 @@ enum BackupStatus {
 	ERROR(R.string.last_backup, R.drawable.ic_action_cloud_alert, R.drawable.ic_action_alert, -1, -1, R.string.retry);
 
 	@StringRes
-	public int statusTitleRes;
+	public final int statusTitleRes;
 	@DrawableRes
-	public int statusIconRes;
+	public final int statusIconRes;
 	@DrawableRes
-	public int warningIconRes;
+	public final int warningIconRes;
 	@StringRes
-	public int warningTitleRes;
+	public final int warningTitleRes;
 	@StringRes
-	public int warningDescriptionRes;
+	public final int warningDescriptionRes;
 	@StringRes
-	public int actionTitleRes;
+	public final int actionTitleRes;
 
 	BackupStatus(int statusTitleRes, int statusIconRes, int warningIconRes, int warningTitleRes,
 				 int warningDescriptionRes, int actionTitleRes) {
@@ -34,4 +39,21 @@ enum BackupStatus {
 		this.warningDescriptionRes = warningDescriptionRes;
 		this.actionTitleRes = actionTitleRes;
 	}
+
+	public static BackupStatus getBackupStatus(@NonNull OsmandApplication app, @NonNull PrepareBackupResult backup) {
+		BackupInfo info = backup.getBackupInfo();
+		if (info != null) {
+			if (!Algorithms.isEmpty(info.filteredFilesToMerge)) {
+				return BackupStatus.CONFLICTS;
+			} else if (!Algorithms.isEmpty(info.itemsToUpload)
+					|| !Algorithms.isEmpty(info.itemsToDelete)) {
+				return BackupStatus.MAKE_BACKUP;
+			}
+		} else if (!app.getSettings().isInternetConnectionAvailable()) {
+			return BackupStatus.NO_INTERNET_CONNECTION;
+		} else if (backup.getError() != null) {
+			return BackupStatus.ERROR;
+		}
+		return BackupStatus.BACKUP_COMPLETE;
+	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusAdapter.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusAdapter.java
new file mode 100644
index 00000000000..591c9e69cff
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusAdapter.java
@@ -0,0 +1,273 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.util.Pair;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+import androidx.recyclerview.widget.RecyclerView.ViewHolder;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.backup.BackupHelper;
+import net.osmand.plus.backup.BackupInfo;
+import net.osmand.plus.backup.BackupListeners.OnDeleteFilesListener;
+import net.osmand.plus.backup.LocalFile;
+import net.osmand.plus.backup.NetworkSettingsHelper.BackupExportListener;
+import net.osmand.plus.backup.PrepareBackupResult;
+import net.osmand.plus.backup.RemoteFile;
+import net.osmand.plus.settings.backend.backup.SettingsHelper.ImportListener;
+import net.osmand.plus.settings.backend.backup.items.SettingsItem;
+import net.osmand.util.Algorithms;
+
+import java.util.ArrayList;
+import java.util.List;
+import java.util.Map;
+
+public class BackupStatusAdapter extends RecyclerView.Adapter<ViewHolder> implements BackupExportListener, OnDeleteFilesListener, ImportListener {
+
+	public static final int HEADER_TYPE = 0;
+	public static final int WARNING_TYPE = 1;
+	public static final int UPLOAD_TYPE = 2;
+	public static final int CONFLICTS_TYPE = 3;
+	public static final int ACTION_BUTTON_TYPE = 4;
+	public static final int RESTORE_TYPE = 5;
+	public static final int LOCAL_BACKUP_TYPE = 6;
+
+	private final OsmandApplication app;
+	private final MapActivity mapActivity;
+
+	private PrepareBackupResult backup;
+	private BackupInfo info;
+	private BackupStatus status;
+	private String error;
+
+	private final List<Object> items = new ArrayList<>();
+
+	private final BackupExportListener exportListener;
+	private final ImportListener importListener;
+
+	private boolean uploadItemsVisible;
+	private final boolean nightMode;
+
+	public BackupStatusAdapter(@NonNull MapActivity mapActivity, @NonNull ImportListener importListener,
+							   @Nullable BackupExportListener exportListener, boolean nightMode) {
+		this.mapActivity = mapActivity;
+		this.app = (OsmandApplication) mapActivity.getApplication();
+		this.importListener = importListener;
+		this.exportListener = exportListener;
+		this.nightMode = nightMode;
+	}
+
+	public void setBackup(@NonNull PrepareBackupResult backup) {
+		this.backup = backup;
+		error = backup.getError();
+		info = backup.getBackupInfo();
+		status = BackupStatus.getBackupStatus(app, backup);
+		updateItems();
+	}
+
+	public boolean isUploadItemsVisible() {
+		return uploadItemsVisible;
+	}
+
+	public void toggleUploadItemsVisibility() {
+		uploadItemsVisible = !uploadItemsVisible;
+		updateItems();
+	}
+
+	public void updateItems() {
+		items.clear();
+		items.add(HEADER_TYPE);
+
+		if (status.warningTitleRes != -1 || !Algorithms.isEmpty(error)) {
+			items.add(WARNING_TYPE);
+		}
+		if (info != null && uploadItemsVisible) {
+			items.addAll(info.itemsToUpload);
+			items.addAll(info.itemsToDelete);
+			items.addAll(info.filteredFilesToMerge);
+		}
+
+		boolean actionButtonHidden = status == BackupStatus.BACKUP_COMPLETE || status == BackupStatus.CONFLICTS
+				&& (info == null || (info.filteredFilesToUpload.isEmpty() && info.filteredFilesToDelete.isEmpty()));
+		if (!actionButtonHidden) {
+			items.add(ACTION_BUTTON_TYPE);
+		}
+		items.add(RESTORE_TYPE);
+		items.add(LOCAL_BACKUP_TYPE);
+		notifyDataSetChanged();
+	}
+
+	@NonNull
+	@Override
+	public ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {
+		LayoutInflater inflater = UiUtilities.getInflater(viewGroup.getContext(), nightMode);
+		switch (viewType) {
+			case RESTORE_TYPE:
+				View itemView = inflater.inflate(R.layout.restore_backup_card, viewGroup, false);
+				return new RestoreBackupViewHolder(itemView);
+			case LOCAL_BACKUP_TYPE:
+				itemView = inflater.inflate(R.layout.local_backup_card, viewGroup, false);
+				return new LocalBackupViewHolder(itemView);
+			case HEADER_TYPE:
+				itemView = inflater.inflate(R.layout.backup_status_header, viewGroup, false);
+				return new HeaderStatusViewHolder(itemView);
+			case WARNING_TYPE:
+				itemView = inflater.inflate(R.layout.backup_warning, viewGroup, false);
+				return new WarningViewHolder(itemView);
+			case UPLOAD_TYPE:
+				itemView = inflater.inflate(R.layout.backup_upload_item, viewGroup, false);
+				return new ItemViewHolder(itemView);
+			case CONFLICTS_TYPE:
+				itemView = inflater.inflate(R.layout.backup_upload_item, viewGroup, false);
+				return new ConflictViewHolder(itemView);
+			case ACTION_BUTTON_TYPE:
+				itemView = inflater.inflate(R.layout.backup_action_button, viewGroup, false);
+				return new ActionButtonViewHolder(itemView);
+			default:
+				throw new IllegalArgumentException("Unsupported view type");
+		}
+	}
+
+	@Override
+	public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
+		if (holder instanceof HeaderStatusViewHolder) {
+			HeaderStatusViewHolder viewHolder = (HeaderStatusViewHolder) holder;
+			viewHolder.bindView(this, info, status, nightMode);
+		} else if (holder instanceof WarningViewHolder) {
+			WarningViewHolder viewHolder = (WarningViewHolder) holder;
+			viewHolder.bindView(status, error);
+		} else if (holder instanceof ConflictViewHolder) {
+			Pair<LocalFile, RemoteFile> pair = (Pair<LocalFile, RemoteFile>) items.get(position);
+			ConflictViewHolder viewHolder = (ConflictViewHolder) holder;
+			viewHolder.bindView(pair, exportListener, importListener, nightMode);
+		} else if (holder instanceof ItemViewHolder) {
+			ItemViewHolder viewHolder = (ItemViewHolder) holder;
+			viewHolder.bindView((SettingsItem) items.get(position));
+		} else if (holder instanceof ActionButtonViewHolder) {
+			ActionButtonViewHolder viewHolder = (ActionButtonViewHolder) holder;
+			viewHolder.bindView(status, backup, exportListener, nightMode);
+		} else if (holder instanceof LocalBackupViewHolder) {
+			LocalBackupViewHolder viewHolder = (LocalBackupViewHolder) holder;
+			viewHolder.bindView(mapActivity, nightMode);
+		} else if (holder instanceof RestoreBackupViewHolder) {
+			RestoreBackupViewHolder viewHolder = (RestoreBackupViewHolder) holder;
+			viewHolder.bindView(mapActivity, nightMode);
+		}
+	}
+
+	@Override
+	public int getItemViewType(int position) {
+		Object obj = items.get(position);
+		if (Algorithms.objectEquals(obj, RESTORE_TYPE)) {
+			return RESTORE_TYPE;
+		} else if (Algorithms.objectEquals(obj, LOCAL_BACKUP_TYPE)) {
+			return LOCAL_BACKUP_TYPE;
+		} else if (Algorithms.objectEquals(obj, HEADER_TYPE)) {
+			return HEADER_TYPE;
+		} else if (Algorithms.objectEquals(obj, WARNING_TYPE)) {
+			return WARNING_TYPE;
+		} else if (Algorithms.objectEquals(obj, ACTION_BUTTON_TYPE)) {
+			return ACTION_BUTTON_TYPE;
+		} else if (obj instanceof SettingsItem) {
+			return UPLOAD_TYPE;
+		} else if (obj instanceof Pair) {
+			return CONFLICTS_TYPE;
+		} else {
+			throw new IllegalArgumentException("Unsupported view type");
+		}
+	}
+
+	@Override
+	public int getItemCount() {
+		return items.size();
+	}
+
+	@Override
+	public void onBackupExportStarted(int itemsCount) {
+		notifyItemChanged(items.indexOf(HEADER_TYPE));
+	}
+
+	@Override
+	public void onBackupExportProgressUpdate(int value) {
+		notifyItemChanged(items.indexOf(HEADER_TYPE));
+	}
+
+	@Override
+	public void onBackupExportFinished(@Nullable String error) {
+		notifyItemChanged(items.indexOf(HEADER_TYPE));
+	}
+
+	@Override
+	public void onBackupExportItemStarted(@NonNull String type, @NonNull String fileName, int max) {
+		SettingsItem item = getSettingsItem(type, fileName);
+		if (item != null) {
+			notifyItemChanged(items.indexOf(item));
+		}
+	}
+
+	@Override
+	public void onBackupExportItemProgress(@NonNull String type, @NonNull String fileName, int value) {
+		SettingsItem item = getSettingsItem(type, fileName);
+		if (item != null) {
+			notifyItemChanged(items.indexOf(item));
+		}
+	}
+
+	@Override
+	public void onBackupExportItemFinished(@NonNull String type, @NonNull String fileName) {
+		SettingsItem item = getSettingsItem(type, fileName);
+		if (item != null) {
+			notifyItemChanged(items.indexOf(item));
+		}
+	}
+
+	@Nullable
+	private SettingsItem getSettingsItem(@NonNull String type, @NonNull String fileName) {
+		if (info != null) {
+			for (LocalFile file : info.filteredFilesToUpload) {
+				if (file.item != null && BackupHelper.applyItem(file.item, type, fileName)) {
+					return file.item;
+				}
+			}
+			for (RemoteFile file : info.filteredFilesToDelete) {
+				if (file.item != null && BackupHelper.applyItem(file.item, type, fileName)) {
+					return file.item;
+				}
+			}
+			for (Pair<LocalFile, RemoteFile> pair : info.filteredFilesToMerge) {
+				SettingsItem item = pair.first.item;
+				if (item != null && BackupHelper.applyItem(item, type, fileName)) {
+					return item;
+				}
+			}
+		}
+		return null;
+	}
+
+	@Override
+	public void onFileDeleteProgress(@NonNull RemoteFile file) {
+
+	}
+
+	@Override
+	public void onFilesDeleteDone(@NonNull Map<RemoteFile, String> errors) {
+
+	}
+
+	@Override
+	public void onFilesDeleteError(int status, @NonNull String message) {
+
+	}
+
+	@Override
+	public void onImportFinished(boolean succeed, boolean needRestart, @NonNull List<SettingsItem> items) {
+
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/BackupStatusFragment.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusFragment.java
similarity index 75%
rename from OsmAnd/src/net/osmand/plus/backup/ui/BackupStatusFragment.java
rename to OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusFragment.java
index 2f3493a797f..6693f7abdbf 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ui/BackupStatusFragment.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/BackupStatusFragment.java
@@ -1,4 +1,4 @@
-package net.osmand.plus.backup.ui;
+package net.osmand.plus.backup.ui.status;
 
 import android.os.Bundle;
 import android.view.LayoutInflater;
@@ -9,6 +9,8 @@
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.fragment.app.FragmentActivity;
+import androidx.recyclerview.widget.LinearLayoutManager;
+import androidx.recyclerview.widget.RecyclerView;
 
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
@@ -22,9 +24,6 @@
 import net.osmand.plus.backup.PrepareBackupTask.OnPrepareBackupListener;
 import net.osmand.plus.backup.RemoteFile;
 import net.osmand.plus.backup.ServerError;
-import net.osmand.plus.backup.ui.cards.BackupUploadCard;
-import net.osmand.plus.backup.ui.cards.LocalBackupCard;
-import net.osmand.plus.backup.ui.cards.RestoreBackupCard;
 import net.osmand.plus.base.BaseOsmAndFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.backup.SettingsHelper.ImportListener;
@@ -40,10 +39,8 @@ public class BackupStatusFragment extends BaseOsmAndFragment implements BackupEx
 	private BackupHelper backupHelper;
 	private NetworkSettingsHelper settingsHelper;
 
-	private BackupUploadCard uploadCard;
-
+	private BackupStatusAdapter adapter;
 	private ProgressBar progressBar;
-	private ViewGroup cardsContainer;
 
 	private boolean nightMode;
 
@@ -68,7 +65,14 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 		View view = themedInflater.inflate(R.layout.fragment_backup_status, container, false);
 
 		progressBar = view.findViewById(R.id.progress_bar);
-		cardsContainer = view.findViewById(R.id.cards_container);
+
+		adapter = new BackupStatusAdapter(getMapActivity(), this, this, nightMode);
+
+		RecyclerView recyclerView = view.findViewById(R.id.recycler_view);
+		recyclerView.setLayoutManager(new LinearLayoutManager(requireContext()));
+		recyclerView.setAdapter(adapter);
+		recyclerView.setItemAnimator(null);
+		recyclerView.setLayoutAnimation(null);
 
 		return view;
 	}
@@ -76,7 +80,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	@Override
 	public void onResume() {
 		super.onResume();
-		updateCards();
+		updateAdapter();
 		settingsHelper.updateExportListener(this);
 		backupHelper.addPrepareBackupListener(this);
 	}
@@ -88,16 +92,9 @@ public void onPause() {
 		backupHelper.removePrepareBackupListener(this);
 	}
 
-	private void updateCards() {
-		MapActivity mapActivity = getMapActivity();
-		if (mapActivity != null) {
-			cardsContainer.removeAllViews();
-
-			uploadCard = new BackupUploadCard(mapActivity, backupHelper.getBackup(), this, this);
-			cardsContainer.addView(uploadCard.build(mapActivity), 0);
-
-			cardsContainer.addView(new RestoreBackupCard(mapActivity).build(mapActivity));
-			cardsContainer.addView(new LocalBackupCard(mapActivity).build(mapActivity));
+	private void updateAdapter() {
+		if (adapter != null) {
+			adapter.setBackup(backupHelper.getBackup());
 		}
 	}
 
@@ -109,7 +106,7 @@ public void onBackupPreparing() {
 	@Override
 	public void onBackupPrepared(@Nullable PrepareBackupResult backupResult) {
 		AndroidUiHelper.setVisibility(View.INVISIBLE, progressBar);
-		updateCards();
+		updateAdapter();
 	}
 
 	@Nullable
@@ -124,15 +121,15 @@ public MapActivity getMapActivity() {
 
 	@Override
 	public void onBackupExportStarted(int itemsCount) {
-		if (uploadCard != null) {
-			uploadCard.update();
+		if (adapter != null) {
+			adapter.onBackupExportStarted(itemsCount);
 		}
 	}
 
 	@Override
 	public void onBackupExportProgressUpdate(int value) {
-		if (uploadCard != null) {
-			uploadCard.updateProgress(value);
+		if (adapter != null) {
+			adapter.onBackupExportProgressUpdate(value);
 		}
 	}
 
@@ -147,42 +144,50 @@ public void onBackupExportFinished(@Nullable String error) {
 
 	@Override
 	public void onBackupExportItemStarted(@NonNull String type, @NonNull String fileName, int work) {
-		if (uploadCard != null) {
-			uploadCard.onBackupExportItemStarted(type, fileName, work);
+		if (adapter != null) {
+			adapter.onBackupExportItemStarted(type, fileName, work);
 		}
 	}
 
 	@Override
 	public void onBackupExportItemFinished(@NonNull String type, @NonNull String fileName) {
-		if (uploadCard != null) {
-			uploadCard.onBackupExportItemFinished(type, fileName);
+		if (adapter != null) {
+			adapter.onBackupExportItemFinished(type, fileName);
 		}
 	}
 
 	@Override
 	public void onBackupExportItemProgress(@NonNull String type, @NonNull String fileName, int value) {
-		if (uploadCard != null) {
-			uploadCard.onBackupExportItemProgress(type, fileName, value);
+		if (adapter != null) {
+			adapter.onBackupExportItemProgress(type, fileName, value);
 		}
 	}
 
 	@Override
 	public void onFileDeleteProgress(@NonNull RemoteFile file) {
-
+		if (adapter != null) {
+			adapter.onFileDeleteProgress(file);
+		}
 	}
 
 	@Override
 	public void onFilesDeleteDone(@NonNull Map<RemoteFile, String> errors) {
-
+		if (adapter != null) {
+			adapter.onFilesDeleteDone(errors);
+		}
 	}
 
 	@Override
 	public void onFilesDeleteError(int status, @NonNull String message) {
-
+		if (adapter != null) {
+			adapter.onFilesDeleteError(status, message);
+		}
 	}
 
 	@Override
 	public void onImportFinished(boolean succeed, boolean needRestart, @NonNull List<SettingsItem> items) {
-		backupHelper.prepareBackup();
+		if (adapter != null) {
+			adapter.onImportFinished(succeed, needRestart, items);
+		}
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/ConflictViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/ConflictViewHolder.java
new file mode 100644
index 00000000000..0c068cb2a2e
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/ConflictViewHolder.java
@@ -0,0 +1,54 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.util.Pair;
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.UiUtilities.DialogButtonType;
+import net.osmand.plus.backup.LocalFile;
+import net.osmand.plus.backup.NetworkSettingsHelper.BackupExportListener;
+import net.osmand.plus.backup.RemoteFile;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.backend.backup.SettingsHelper.ImportListener;
+import net.osmand.plus.settings.backend.backup.items.SettingsItem;
+
+import java.util.Collections;
+
+public class ConflictViewHolder extends ItemViewHolder {
+
+
+	public ConflictViewHolder(View itemView) {
+		super(itemView);
+	}
+
+	public void bindView(@NonNull Pair<LocalFile, RemoteFile> pair,
+						 @Nullable BackupExportListener exportListener,
+						 @Nullable ImportListener importListener, boolean nightMode) {
+		OsmandApplication app = getApplication();
+		SettingsItem item = pair.first.item;
+
+		setupItemView(item);
+
+		View localVersionButton = itemView.findViewById(R.id.local_version_button);
+		localVersionButton.setOnClickListener(v -> app.getNetworkSettingsHelper().exportSettings(exportListener, item));
+		View serverButton = itemView.findViewById(R.id.server_button);
+		serverButton.setOnClickListener(v -> {
+			SettingsItem settingsItem = pair.second.item;
+			settingsItem.setShouldReplace(true);
+			app.getNetworkSettingsHelper().importSettings(Collections.singletonList(settingsItem), "", 1, true, importListener);
+		});
+		AndroidUiHelper.updateVisibility(serverButton, true);
+		AndroidUiHelper.updateVisibility(localVersionButton, true);
+		AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.second_icon), true);
+		UiUtilities.setupDialogButton(nightMode, localVersionButton, DialogButtonType.SECONDARY, R.string.upload_local_version);
+		UiUtilities.setupDialogButton(nightMode, serverButton, DialogButtonType.SECONDARY, R.string.download_server_version);
+		AndroidUtils.setBackground(app, localVersionButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
+		AndroidUtils.setBackground(app, serverButton, nightMode, R.drawable.dlg_btn_transparent_light, R.drawable.dlg_btn_transparent_dark);
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/HeaderStatusViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/HeaderStatusViewHolder.java
new file mode 100644
index 00000000000..33bb2bb431f
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/HeaderStatusViewHolder.java
@@ -0,0 +1,92 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.graphics.drawable.Drawable;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.ProgressBar;
+import android.widget.TextView;
+
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.backup.BackupInfo;
+import net.osmand.plus.backup.NetworkSettingsHelper;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.fragments.MainSettingsFragment;
+import net.osmand.util.Algorithms;
+
+import static net.osmand.plus.activities.OsmandBaseExpandableListAdapter.adjustIndicator;
+
+public class HeaderStatusViewHolder extends RecyclerView.ViewHolder {
+
+	private final TextView title;
+	private final ProgressBar progressBar;
+	private final ImageView icon;
+	private final TextView description;
+
+	public HeaderStatusViewHolder(@NonNull View itemView) {
+		super(itemView);
+		title = itemView.findViewById(R.id.title);
+		icon = itemView.findViewById(R.id.icon);
+		description = itemView.findViewById(R.id.description);
+		progressBar = itemView.findViewById(R.id.progress_bar);
+	}
+
+	public void bindView(@NonNull BackupStatusAdapter adapter, @Nullable BackupInfo info,
+						 @NonNull BackupStatus status, boolean nightMode) {
+		if (info != null) {
+			progressBar.setMax(info.filteredFilesToUpload.size() + info.filteredFilesToDelete.size());
+		}
+
+		OsmandApplication app = (OsmandApplication) itemView.getContext().getApplicationContext();
+		NetworkSettingsHelper settingsHelper = app.getNetworkSettingsHelper();
+		if (settingsHelper.getExportTask() != null) {
+			title.setText(R.string.uploading);
+			icon.setImageDrawable(getContentIcon(R.drawable.ic_action_cloud_upload));
+
+			int progress = settingsHelper.getExportTask().getGeneralProgress();
+			String uploading = app.getString(R.string.local_openstreetmap_uploading);
+			title.setText(app.getString(R.string.ltr_or_rtl_combine_via_space, uploading, String.valueOf(progress)));
+
+			progressBar.setProgress(progress);
+			AndroidUiHelper.updateVisibility(description, false);
+			AndroidUiHelper.updateVisibility(progressBar, true);
+		} else {
+			description.setText(status.statusTitleRes);
+			icon.setImageDrawable(getContentIcon(status.statusIconRes));
+
+			String backupTime = MainSettingsFragment.getLastBackupTimeDescription(app);
+			if (Algorithms.isEmpty(backupTime)) {
+				title.setText(R.string.shared_string_never);
+			} else {
+				title.setText(backupTime);
+			}
+			AndroidUiHelper.updateVisibility(description, true);
+			AndroidUiHelper.updateVisibility(progressBar, false);
+		}
+		itemView.setOnClickListener(v -> {
+			adapter.toggleUploadItemsVisibility();
+			adjustIndicator(app, itemView, adapter.isUploadItemsVisible(), nightMode);
+		});
+		adjustIndicator(app, itemView, adapter.isUploadItemsVisible(), nightMode);
+		setupSelectableBackground(itemView.findViewById(R.id.header_container));
+		AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.explicit_indicator), status != BackupStatus.BACKUP_COMPLETE);
+	}
+
+	private void setupSelectableBackground(@NonNull View view) {
+		int color = AndroidUtils.getColorFromAttr(view.getContext(), R.attr.active_color_basic);
+		Drawable drawable = UiUtilities.getColoredSelectableDrawable(view.getContext(), color, 0.3f);
+		AndroidUtils.setBackground(view, drawable);
+	}
+
+	private Drawable getContentIcon(@DrawableRes int icon) {
+		OsmandApplication app = (OsmandApplication) itemView.getContext().getApplicationContext();
+		return app.getUIUtilities().getIcon(icon, R.color.description_font_and_bottom_sheet_icons);
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/ItemViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/ItemViewHolder.java
new file mode 100644
index 00000000000..2bea6c3fa55
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/ItemViewHolder.java
@@ -0,0 +1,116 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.graphics.drawable.Drawable;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.ProgressBar;
+import android.widget.TextView;
+
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.backup.BackupDbHelper.UploadedFileInfo;
+import net.osmand.plus.backup.BackupHelper;
+import net.osmand.plus.backup.ExportBackupTask.ItemProgressInfo;
+import net.osmand.plus.backup.NetworkSettingsHelper;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.ExportSettingsType;
+import net.osmand.plus.settings.backend.backup.items.ProfileSettingsItem;
+import net.osmand.plus.settings.backend.backup.items.SettingsItem;
+import net.osmand.plus.settings.fragments.MainSettingsFragment;
+
+public class ItemViewHolder extends RecyclerView.ViewHolder {
+
+	private final TextView title;
+	private final TextView description;
+	private final ImageView icon;
+	private final ImageView secondIcon;
+	private final ProgressBar progressBar;
+
+	public ItemViewHolder(@NonNull View itemView) {
+		super(itemView);
+		title = itemView.findViewById(R.id.title);
+		icon = itemView.findViewById(R.id.icon);
+		secondIcon = itemView.findViewById(R.id.second_icon);
+		description = itemView.findViewById(R.id.description);
+		progressBar = itemView.findViewById(R.id.progressBar);
+	}
+
+	public void bindView(SettingsItem item) {
+		setupItemView(item);
+	}
+
+	protected void setupItemView(@NonNull SettingsItem item) {
+		OsmandApplication app = getApplication();
+		title.setText(item.getPublicName(app));
+
+		String filename = BackupHelper.getItemFileName(item);
+		String summary = app.getString(R.string.last_backup);
+		UploadedFileInfo info = app.getBackupHelper().getDbHelper().getUploadedFileInfo(item.getType().name(), filename);
+		if (info != null) {
+			String time = MainSettingsFragment.getLastBackupTimeDescription(app, info.getUploadTime(), app.getString(R.string.shared_string_never));
+			description.setText(app.getString(R.string.ltr_or_rtl_combine_via_colon, summary, time));
+		} else {
+			description.setText(app.getString(R.string.ltr_or_rtl_combine_via_colon, summary, app.getString(R.string.shared_string_never)));
+		}
+		icon.setImageDrawable(getItemIcon(item));
+
+		NetworkSettingsHelper settingsHelper = app.getNetworkSettingsHelper();
+		if (settingsHelper.getExportTask() != null) {
+			String fileName = BackupHelper.getItemFileName(item);
+			ItemProgressInfo progressInfo = settingsHelper.getExportTask().getItemProgressInfo(item.getType().name(), fileName);
+			if (progressInfo != null) {
+				if (progressInfo.finished) {
+					secondIcon.setImageDrawable(getContentIcon(R.drawable.ic_action_cloud_done));
+					AndroidUiHelper.updateVisibility(secondIcon, true);
+					AndroidUiHelper.updateVisibility(progressBar, false);
+					AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.server_button), false);
+					AndroidUiHelper.updateVisibility(itemView.findViewById(R.id.local_version_button), false);
+				} else {
+					progressBar.setMax(progressInfo.work);
+					progressBar.setProgress(progressInfo.value);
+
+					AndroidUiHelper.updateVisibility(progressBar, true);
+					AndroidUiHelper.updateVisibility(secondIcon, false);
+				}
+			} else {
+				AndroidUiHelper.updateVisibility(progressBar, false);
+				AndroidUiHelper.updateVisibility(secondIcon, false);
+			}
+		} else {
+			AndroidUiHelper.updateVisibility(progressBar, false);
+			AndroidUiHelper.updateVisibility(secondIcon, false);
+		}
+		itemView.setTag(item);
+	}
+
+	@Nullable
+	protected Drawable getItemIcon(@NonNull SettingsItem item) {
+		if (item instanceof ProfileSettingsItem) {
+			ProfileSettingsItem profileItem = (ProfileSettingsItem) item;
+			ApplicationMode mode = profileItem.getAppMode();
+			return getContentIcon(mode.getIconRes());
+		}
+		ExportSettingsType type = ExportSettingsType.getExportSettingsTypeForItem(item);
+		if (type != null) {
+			return getContentIcon(type.getIconRes());
+		}
+		return null;
+	}
+
+	@Nullable
+	protected Drawable getContentIcon(@DrawableRes int icon) {
+		OsmandApplication app = getApplication();
+		return app.getUIUtilities().getIcon(icon, R.color.description_font_and_bottom_sheet_icons);
+	}
+
+	@NonNull
+	protected OsmandApplication getApplication() {
+		return (OsmandApplication) itemView.getContext().getApplicationContext();
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/LocalBackupViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/LocalBackupViewHolder.java
new file mode 100644
index 00000000000..8323368103b
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/LocalBackupViewHolder.java
@@ -0,0 +1,119 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.graphics.drawable.Drawable;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.ColorRes;
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.fragments.ExportSettingsFragment;
+
+import static net.osmand.plus.activities.OsmandBaseExpandableListAdapter.adjustIndicator;
+import static net.osmand.plus.importfiles.ImportHelper.ImportType.SETTINGS;
+
+public class LocalBackupViewHolder extends RecyclerView.ViewHolder {
+
+	private final View localBackup;
+	private final View backupToFile;
+	private final View restoreFromFile;
+	private final TextView title;
+	private final TextView summary;
+
+	private boolean buttonsVisible = true;
+
+	public LocalBackupViewHolder(@NonNull View itemView) {
+		super(itemView);
+		localBackup = itemView.findViewById(R.id.local_backup);
+		title = localBackup.findViewById(android.R.id.title);
+		summary = localBackup.findViewById(android.R.id.summary);
+		backupToFile = itemView.findViewById(R.id.backup_to_file);
+		restoreFromFile = itemView.findViewById(R.id.restore_from_file);
+	}
+
+	public void bindView(@NonNull MapActivity mapActivity, boolean nightMode) {
+		title.setText(R.string.local_backup);
+		summary.setText(R.string.local_backup_descr);
+
+		localBackup.setOnClickListener(v -> {
+			buttonsVisible = !buttonsVisible;
+			updateButtonsVisibility(nightMode);
+		});
+
+		updateButtonsVisibility(nightMode);
+		setupSelectableBackground(localBackup);
+		setupBackupButton(mapActivity, nightMode);
+		setupRestoreButton(mapActivity, nightMode);
+	}
+
+	private void updateButtonsVisibility(boolean nightMode) {
+		adjustIndicator(getApplication(), localBackup, buttonsVisible, nightMode);
+		AndroidUiHelper.updateVisibility(backupToFile, buttonsVisible);
+		AndroidUiHelper.updateVisibility(restoreFromFile, buttonsVisible);
+	}
+
+	private void setupBackupButton(@NonNull MapActivity mapActivity, boolean nightMode) {
+		ImageView icon = backupToFile.findViewById(android.R.id.icon);
+		TextView title = backupToFile.findViewById(android.R.id.title);
+
+		title.setText(R.string.backup_into_file);
+		icon.setImageDrawable(getActiveIcon(R.drawable.ic_action_read_from_file, nightMode));
+
+		backupToFile.setOnClickListener(v -> {
+			if (AndroidUtils.isActivityNotDestroyed(mapActivity)) {
+				ApplicationMode mode = getApplication().getSettings().getApplicationMode();
+				ExportSettingsFragment.showInstance(mapActivity.getSupportFragmentManager(), mode, true);
+			}
+		});
+		setupSelectableBackground(backupToFile);
+		AndroidUiHelper.updateVisibility(backupToFile.findViewById(R.id.divider), true);
+	}
+
+	private void setupRestoreButton(@NonNull MapActivity mapActivity, boolean nightMode) {
+		ImageView icon = restoreFromFile.findViewById(android.R.id.icon);
+		TextView title = restoreFromFile.findViewById(android.R.id.title);
+
+		title.setText(R.string.restore_from_file);
+		icon.setImageDrawable(getActiveIcon(R.drawable.ic_action_save_to_file, nightMode));
+
+		restoreFromFile.setOnClickListener(v -> {
+			if (AndroidUtils.isActivityNotDestroyed(mapActivity)) {
+				mapActivity.getImportHelper().chooseFileToImport(SETTINGS, null);
+			}
+		});
+		setupSelectableBackground(restoreFromFile);
+	}
+
+	private void setupSelectableBackground(@NonNull View view) {
+		int color = AndroidUtils.getColorFromAttr(view.getContext(), R.attr.active_color_basic);
+		Drawable drawable = UiUtilities.getColoredSelectableDrawable(view.getContext(), color, 0.3f);
+		AndroidUtils.setBackground(view.findViewById(R.id.selectable_list_item), drawable);
+	}
+
+	@NonNull
+	private OsmandApplication getApplication() {
+		return (OsmandApplication) itemView.getContext().getApplicationContext();
+	}
+
+	@ColorRes
+	private int getActiveColorId(boolean nightMode) {
+		return nightMode ? R.color.active_color_primary_dark : R.color.active_color_primary_light;
+	}
+
+	@Nullable
+	private Drawable getActiveIcon(@DrawableRes int icon, boolean nightMode) {
+		OsmandApplication app = getApplication();
+		return app.getUIUtilities().getIcon(icon, getActiveColorId(nightMode));
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/RestoreBackupViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/RestoreBackupViewHolder.java
new file mode 100644
index 00000000000..46efeb725d3
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/RestoreBackupViewHolder.java
@@ -0,0 +1,58 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.graphics.drawable.Drawable;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.ColorRes;
+import androidx.annotation.NonNull;
+import androidx.core.content.ContextCompat;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.backup.ui.RestoreSettingsFragment;
+
+public class RestoreBackupViewHolder extends RecyclerView.ViewHolder {
+
+	final TextView title;
+	final ImageView icon;
+	final View restoreButton;
+
+	public RestoreBackupViewHolder(@NonNull View itemView) {
+		super(itemView);
+		title = itemView.findViewById(android.R.id.title);
+		icon = itemView.findViewById(android.R.id.icon);
+		restoreButton = itemView.findViewById(R.id.selectable_list_item);
+	}
+
+	public void bindView(@NonNull MapActivity mapActivity, boolean nightMode) {
+		title.setText(R.string.backup_restore_data);
+
+		int colorId = getActiveColorId(nightMode);
+		icon.setImageDrawable(getApplication().getUIUtilities().getIcon(R.drawable.ic_action_restore, colorId));
+
+		restoreButton.setOnClickListener(v -> {
+			if (AndroidUtils.isActivityNotDestroyed(mapActivity)) {
+				RestoreSettingsFragment.showInstance(mapActivity.getSupportFragmentManager());
+			}
+		});
+		int color = ContextCompat.getColor(itemView.getContext(), colorId);
+		Drawable drawableBg = UiUtilities.getColoredSelectableDrawable(itemView.getContext(), color, 0.3f);
+		AndroidUtils.setBackground(restoreButton, drawableBg);
+	}
+
+	@NonNull
+	private OsmandApplication getApplication() {
+		return (OsmandApplication) itemView.getContext().getApplicationContext();
+	}
+
+	@ColorRes
+	private int getActiveColorId(boolean nightMode) {
+		return nightMode ? R.color.active_color_primary_dark : R.color.active_color_primary_light;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/status/WarningViewHolder.java b/OsmAnd/src/net/osmand/plus/backup/ui/status/WarningViewHolder.java
new file mode 100644
index 00000000000..62596674237
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/status/WarningViewHolder.java
@@ -0,0 +1,77 @@
+package net.osmand.plus.backup.ui.status;
+
+import android.content.Context;
+import android.graphics.drawable.Drawable;
+import android.graphics.drawable.LayerDrawable;
+import android.os.Build;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.TextView;
+
+import androidx.annotation.ColorInt;
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.recyclerview.widget.RecyclerView;
+
+import net.osmand.AndroidUtils;
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.UiUtilities;
+
+public class WarningViewHolder extends RecyclerView.ViewHolder {
+
+	private final TextView title;
+	private final ImageView icon;
+	private final TextView description;
+
+	public WarningViewHolder(@NonNull View itemView) {
+		super(itemView);
+		title = itemView.findViewById(R.id.title);
+		icon = itemView.findViewById(R.id.icon);
+		description = itemView.findViewById(R.id.description);
+	}
+
+	public void bindView(@NonNull BackupStatus status, @Nullable String error) {
+		if (status.warningTitleRes != -1) {
+			title.setText(status.warningTitleRes);
+			description.setText(status.warningDescriptionRes);
+		} else {
+			title.setText(R.string.subscribe_email_error);
+			description.setText(error);
+		}
+		icon.setImageDrawable(getContentIcon(status.warningIconRes));
+		setupWarningRoundedBg(itemView.findViewById(R.id.warning_container));
+	}
+
+	private void setupWarningRoundedBg(@NonNull View view) {
+		Context context = itemView.getContext();
+		int activeColor = AndroidUtils.getColorFromAttr(context, R.attr.active_color_basic);
+		int selectedColor = UiUtilities.getColorWithAlpha(activeColor, 0.3f);
+
+		int backgroundColor = AndroidUtils.getColorFromAttr(context, R.attr.activity_background_color);
+		Drawable bgDrawable = getPaintedIcon(R.drawable.rectangle_rounded, backgroundColor);
+		if (Build.VERSION.SDK_INT > Build.VERSION_CODES.LOLLIPOP) {
+			Drawable selectable = getPaintedIcon(R.drawable.ripple_rectangle_rounded, selectedColor);
+			Drawable[] layers = {bgDrawable, selectable};
+			AndroidUtils.setBackground(view, new LayerDrawable(layers));
+		} else {
+			AndroidUtils.setBackground(view, bgDrawable);
+		}
+		LinearLayout.LayoutParams params = (LinearLayout.LayoutParams) view.getLayoutParams();
+		params.setMargins(params.leftMargin, AndroidUtils.dpToPx(context, 6), params.rightMargin, params.bottomMargin);
+	}
+
+	@Nullable
+	private Drawable getContentIcon(@DrawableRes int icon) {
+		OsmandApplication app = (OsmandApplication) itemView.getContext().getApplicationContext();
+		return app.getUIUtilities().getIcon(icon, R.color.description_font_and_bottom_sheet_icons);
+	}
+
+	@Nullable
+	private Drawable getPaintedIcon(@DrawableRes int id, @ColorInt int color) {
+		OsmandApplication app = (OsmandApplication) itemView.getContext().getApplicationContext();
+		return app.getUIUtilities().getPaintedIcon(id, color);
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
index 48707d7713e..be1d697cdd4 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
@@ -11,19 +11,16 @@
 import android.widget.CompoundButton;
 import android.widget.ExpandableListView;
 import android.widget.ImageButton;
-import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
 import androidx.appcompat.app.AlertDialog;
 import androidx.appcompat.content.res.AppCompatResources;
 import androidx.appcompat.widget.Toolbar;
-import androidx.core.content.ContextCompat;
 import androidx.fragment.app.Fragment;
 
 import net.osmand.AndroidUtils;
 import net.osmand.ValueHolder;
-import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.DialogListItemAdapter;
 import net.osmand.plus.OsmAndFormatter;
 import net.osmand.plus.OsmandApplication;
@@ -40,6 +37,7 @@
 import net.osmand.plus.poi.PoiUIFilter;
 import net.osmand.plus.routing.IRouteInformationListener;
 import net.osmand.plus.routing.IRoutingDataUpdateListener;
+import net.osmand.plus.settings.backend.ApplicationMode;
 
 import java.lang.ref.WeakReference;
 import java.util.ArrayList;
@@ -389,15 +387,8 @@ public boolean isChildSelectable(int groupPosition, int childPosition) {
 		}
 
 		@Override
-		protected void adjustIndicator(OsmandApplication app, int groupPosition, boolean isExpanded, View row, boolean light) {
-			ImageView indicator = (ImageView) row.findViewById(R.id.icon);
-			if (!isExpanded) {
-				indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_down, light));
-				indicator.setContentDescription(row.getContext().getString(R.string.access_collapsed_list));
-			} else {
-				indicator.setImageDrawable(app.getUIUtilities().getIcon(R.drawable.ic_action_arrow_up, light));
-				indicator.setContentDescription(row.getContext().getString(R.string.access_expanded_list));
-			}
+		protected void adjustIndicator(OsmandApplication app, int groupPosition, boolean expanded, View row, boolean light) {
+			adjustIndicator(app, row, expanded, !light);
 		}
 
 		private String getHeader(int type, Context ctx) {
