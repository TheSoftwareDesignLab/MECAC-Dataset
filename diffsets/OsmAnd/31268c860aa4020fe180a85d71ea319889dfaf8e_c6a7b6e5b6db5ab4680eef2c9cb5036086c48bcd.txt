diff --git a/OsmAnd/res/layout-land/track_details.xml b/OsmAnd/res/layout-land/track_details.xml
index 985b69a5de5..4b55718865f 100644
--- a/OsmAnd/res/layout-land/track_details.xml
+++ b/OsmAnd/res/layout-land/track_details.xml
@@ -81,6 +81,7 @@
         </LinearLayout>
 
         <LinearLayout
+	        android:id="@+id/chart_content"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:layout_gravity="bottom"
diff --git a/OsmAnd/res/layout/fragment_coordinates_grid.xml b/OsmAnd/res/layout/fragment_coordinates_grid.xml
index d0721338b45..a56e820d461 100644
--- a/OsmAnd/res/layout/fragment_coordinates_grid.xml
+++ b/OsmAnd/res/layout/fragment_coordinates_grid.xml
@@ -15,6 +15,7 @@
         <include layout="@layout/shadow_on_map" />
 
         <LinearLayout
+            android:id="@+id/main_container"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:background="?attr/activity_background_basic"
diff --git a/OsmAnd/res/layout/fragment_wikivoyage_article_dialog.xml b/OsmAnd/res/layout/fragment_wikivoyage_article_dialog.xml
index 350de25b376..89fc383556f 100644
--- a/OsmAnd/res/layout/fragment_wikivoyage_article_dialog.xml
+++ b/OsmAnd/res/layout/fragment_wikivoyage_article_dialog.xml
@@ -61,6 +61,7 @@
 		</androidx.appcompat.widget.Toolbar>
 
 	<FrameLayout
+		android:id="@+id/content_container"
 		    android:layout_width="match_parent"
 			android:layout_weight="1"
 			android:layout_height="0dp">
diff --git a/OsmAnd/res/layout/quick_action_create_edit_dialog.xml b/OsmAnd/res/layout/quick_action_create_edit_dialog.xml
index 641485a71e8..f4852db00e0 100644
--- a/OsmAnd/res/layout/quick_action_create_edit_dialog.xml
+++ b/OsmAnd/res/layout/quick_action_create_edit_dialog.xml
@@ -36,6 +36,7 @@
         android:background="?attr/actionModeBackground"/>
 
     <RelativeLayout
+	    android:id="@+id/action_name"
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:minHeight="72dp"
@@ -97,6 +98,7 @@
         android:layout_height="match_parent">
 
         <ScrollView
+	        android:id="@+id/scroll_view"
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:layout_marginBottom="56dp"
diff --git a/OsmAnd/res/values/ids.xml b/OsmAnd/res/values/ids.xml
index 06cff831275..a01296db9b8 100644
--- a/OsmAnd/res/values/ids.xml
+++ b/OsmAnd/res/values/ids.xml
@@ -22,6 +22,7 @@
     <item name="elevation_widget_show_slopes" type="id"/>
     <item name="elevation_widget_hide_slopes" type="id"/>
 
+    <item name="initial_expanded_title_margin_start" type="id"/>
     <item name="initial_margin_left" type="id"/>
     <item name="initial_margin_top" type="id"/>
     <item name="initial_margin_right" type="id"/>
diff --git a/OsmAnd/src/net/osmand/plus/avoidroads/AvoidRoadsBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/avoidroads/AvoidRoadsBottomSheetDialogFragment.java
index 1e50cf5c6cc..c4434f1bbfa 100644
--- a/OsmAnd/src/net/osmand/plus/avoidroads/AvoidRoadsBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/avoidroads/AvoidRoadsBottomSheetDialogFragment.java
@@ -33,6 +33,7 @@
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetsUtils;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.RoutingParameter;
 import net.osmand.util.Algorithms;
@@ -109,6 +110,9 @@ public void createMenuItems(Bundle savedInstanceState) {
 		textView.setText(!hideImpassableRoads ? R.string.impassable_road : R.string.avoid_pt_types);
 
 		Toolbar toolbar = titleView.findViewById(R.id.toolbar);
+		if (InsetsUtils.isEdgeToEdgeSupported()) {
+			toolbar.setFitsSystemWindows(false);
+		}
 		int icBackResId = AndroidUtils.getNavigationIconResId(app);
 		toolbar.setNavigationIcon(getContentIcon(icBackResId));
 		toolbar.setNavigationContentDescription(R.string.access_shared_string_navigate_up);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
index 3d954dc5b14..f9ca73c72d7 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/CoordinatesGridFragment.java
@@ -22,6 +22,9 @@
 import net.osmand.plus.inapp.InAppPurchaseUtils;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetTarget;
+import net.osmand.plus.utils.InsetTarget.Type;
+import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.widgets.dialogbutton.DialogButtonType;
 
@@ -68,6 +71,14 @@ public View onCreateView(@NonNull LayoutInflater inflater,
 		return view;
 	}
 
+	@Override
+	public InsetTargetsCollection getInsetTargets() {
+		InsetTargetsCollection collection = super.getInsetTargets();
+		collection.replace(InsetTarget.createBottomContainer(R.id.main_container).landscapeLeftSided(true));
+		collection.removeType(Type.ROOT_INSET);
+		return collection;
+	}
+
 	private void showHideTopShadow() {
 		boolean portrait = AndroidUiHelper.isOrientationPortrait(requireActivity());
 		AndroidUiHelper.updateVisibility(view.findViewById(R.id.shadow_on_map), portrait);
diff --git a/OsmAnd/src/net/osmand/plus/help/HelpArticlesFragment.java b/OsmAnd/src/net/osmand/plus/help/HelpArticlesFragment.java
index ff0fc43346f..8341cc26658 100644
--- a/OsmAnd/src/net/osmand/plus/help/HelpArticlesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/help/HelpArticlesFragment.java
@@ -21,6 +21,7 @@
 import net.osmand.plus.base.BaseFullScreenFragment;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetTarget;
 import net.osmand.plus.utils.InsetTarget.Type;
 import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.widgets.ctxmenu.ContextMenuAdapter;
@@ -79,6 +80,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection collection = super.getInsetTargets();
 		collection.removeType(Type.ROOT_INSET);
+		collection.add(InsetTarget.createScrollable(R.id.list_view).build());
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/other/TrackDetailsMenuFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/other/TrackDetailsMenuFragment.java
index 545b25931ce..54b3d64ce1c 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/other/TrackDetailsMenuFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/other/TrackDetailsMenuFragment.java
@@ -152,6 +152,8 @@ public void onGlobalLayout() {
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection collection = super.getInsetTargets();
 		collection.replace(InsetTarget.createLeftSideContainer(true, view).build());
+		collection.replace(InsetTarget.createHorizontalLandscape(true,  R.id.top_bar_layout, R.id.chart_content).build());
+		collection.replace(InsetTarget.createBottomContainer(R.id.chart_container).build());
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
index ddeaa1d32ca..4d2df3a5ce2 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java
@@ -676,7 +676,9 @@ private void updateInfoViewAppearance() {
 			params = new LinearLayout.LayoutParams(infoViewWidth, -1);
 		}
 		if (params != null) {
-			AndroidUtils.setMargins(params, 0, 0, 0, bottomMargin);
+			if (!InsetsUtils.isEdgeToEdgeSupported()) {
+				AndroidUtils.setMargins(params, 0, 0, 0, bottomMargin);
+			}
 			cardsContainer.setLayoutParams(params);
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/monitoring/TripRecordingStartingBottomSheet.java b/OsmAnd/src/net/osmand/plus/plugins/monitoring/TripRecordingStartingBottomSheet.java
index 46193c92f8c..3de990a10f0 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/monitoring/TripRecordingStartingBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/monitoring/TripRecordingStartingBottomSheet.java
@@ -24,6 +24,7 @@
 
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.base.MenuBottomSheetDialogFragment;
 import net.osmand.plus.base.SideMenuBottomSheetDialogFragment;
 import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.helpers.AndroidUiHelper;
@@ -38,7 +39,7 @@
 import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.utils.UiUtilities;
 
-public class TripRecordingStartingBottomSheet extends SideMenuBottomSheetDialogFragment {
+public class TripRecordingStartingBottomSheet extends MenuBottomSheetDialogFragment {
 
 	public static final String TAG = TripRecordingStartingBottomSheet.class.getSimpleName();
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/osmedit/dialogs/EditPoiDialogFragment.java b/OsmAnd/src/net/osmand/plus/plugins/osmedit/dialogs/EditPoiDialogFragment.java
index 18c0d216f99..13059f67514 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/osmedit/dialogs/EditPoiDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/osmedit/dialogs/EditPoiDialogFragment.java
@@ -313,12 +313,7 @@ public void afterTextChanged(Editable s) {
 	@Override
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection collection = super.getInsetTargets();
-		collection.replace(InsetTarget.createHorizontalLandscape(R.id.tab_layout_container, R.id.toolbar, R.id.name_container, R.id.poi_type_container, R.id.viewpager).build());
-/*		collection.add(InsetTarget.createCustomBuilder(R.id.bottom_buttons_container)
-				.portraitSides(InsetSide.TOP)
-				.typeMask(WindowInsetsCompat.Type.ime())
-				.applyPadding(true)
-				.build());*/
+		collection.replace(InsetTarget.createHorizontalLandscape(R.id.tab_layout_container, R.id.toolbar, R.id.name_container, R.id.poi_type_container).build());
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/AdvancedEditPoiFragment.java b/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/AdvancedEditPoiFragment.java
index caccfc66c7d..e9c6429c106 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/AdvancedEditPoiFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/AdvancedEditPoiFragment.java
@@ -37,6 +37,7 @@
 import net.osmand.plus.plugins.osmedit.dialogs.EditPoiDialogFragment;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.InsetTarget;
+import net.osmand.plus.utils.InsetTarget.Type;
 import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.utils.InsetsUtils.InsetSide;
 import net.osmand.util.Algorithms;
@@ -135,6 +136,8 @@ public InsetTargetsCollection getInsetTargets() {
 				.typeMask(WindowInsetsCompat.Type.ime())
 				.applyPadding(true)
 				.build());
+		collection.add(InsetTarget.createHorizontalLandscape(R.id.content_recycler_view).build());
+		collection.removeType(Type.ROOT_INSET);
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/BasicEditPoiFragment.java b/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/BasicEditPoiFragment.java
index 343c7c0d467..7cb582eb48a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/BasicEditPoiFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/osmedit/fragments/BasicEditPoiFragment.java
@@ -14,6 +14,7 @@
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
+import androidx.core.view.WindowInsetsCompat;
 import androidx.fragment.app.FragmentManager;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
@@ -29,6 +30,10 @@
 import net.osmand.plus.plugins.osmedit.dialogs.OpeningHoursDaysDialogFragment;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetTarget;
+import net.osmand.plus.utils.InsetTarget.Type;
+import net.osmand.plus.utils.InsetTargetsCollection;
+import net.osmand.plus.utils.InsetsUtils.InsetSide;
 import net.osmand.util.OpeningHoursParser;
 
 import java.util.ArrayList;
@@ -118,6 +123,19 @@ public boolean isBasicTagsInitialized() {
 		return view;
 	}
 
+	@Override
+	public InsetTargetsCollection getInsetTargets() {
+		InsetTargetsCollection collection = super.getInsetTargets();
+		collection.add(InsetTarget.createCustomBuilder(R.id.content_recycler_view)
+				.portraitSides(InsetSide.TOP)
+				.typeMask(WindowInsetsCompat.Type.ime())
+				.applyPadding(true)
+				.build());
+		collection.add(InsetTarget.createHorizontalLandscape(R.id.content_recycler_view).build());
+		collection.removeType(Type.ROOT_INSET);
+		return collection;
+	}
+
 	@Nullable
 	private EditPoiDialogFragment getEditPoiFragment() {
 		return (EditPoiDialogFragment) getParentFragment();
diff --git a/OsmAnd/src/net/osmand/plus/plugins/weather/dialogs/WeatherForecastFragment.java b/OsmAnd/src/net/osmand/plus/plugins/weather/dialogs/WeatherForecastFragment.java
index 7b653b4be4a..ae24b040f41 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/weather/dialogs/WeatherForecastFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/weather/dialogs/WeatherForecastFragment.java
@@ -41,6 +41,7 @@
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.InsetTarget;
 import net.osmand.plus.utils.InsetTargetsCollection;
+import net.osmand.plus.utils.InsetsUtils.InsetSide;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.TimeFormatter;
 import net.osmand.plus.utils.UiUtilities;
@@ -196,7 +197,8 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	@Override
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection collection = super.getInsetTargets();
-		collection.replace(InsetTarget.createBottomContainer(R.id.main_content));
+		collection.replace(InsetTarget.createBottomContainer(R.id.main_content).landscapeSides(InsetSide.BOTTOM, InsetSide.LEFT));
+		collection.replace(InsetTarget.createHorizontalLandscape(true, R.id.modes_toggle, R.id.toolbar, R.id.tab_layout));
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/quickaction/CreateEditActionDialog.java b/OsmAnd/src/net/osmand/plus/quickaction/CreateEditActionDialog.java
index 477e44f5295..37a79ba25bf 100644
--- a/OsmAnd/src/net/osmand/plus/quickaction/CreateEditActionDialog.java
+++ b/OsmAnd/src/net/osmand/plus/quickaction/CreateEditActionDialog.java
@@ -30,6 +30,8 @@
 import net.osmand.plus.quickaction.controller.AddQuickActionController;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetTarget;
+import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.widgets.tools.SimpleTextWatcher;
 
 import java.util.List;
@@ -80,6 +82,13 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup p
 		return view;
 	}
 
+	@Override
+	public InsetTargetsCollection getInsetTargets() {
+		InsetTargetsCollection collection = super.getInsetTargets();
+		collection.add(InsetTarget.createHorizontalLandscape(R.id.action_name).build());
+		return collection;
+	}
+
 	@Override
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		super.onSaveInstanceState(outState);
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
index 0d56759f731..ffb36967a8c 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ChooseRouteFragment.java
@@ -54,6 +54,7 @@
 import net.osmand.plus.base.ContextMenuFragment.MenuState;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.helpers.IntentHelper;
+import net.osmand.plus.mapcontextmenu.MenuController;
 import net.osmand.plus.measurementtool.SaveAsNewTrackBottomSheetDialogFragment;
 import net.osmand.plus.routepreparationmenu.RouteDetailsFragment.CumulativeInfo;
 import net.osmand.plus.routepreparationmenu.RouteDetailsFragment.RouteDetailsFragmentListener;
@@ -226,8 +227,12 @@ public void onPageSelected(int position) {
 
 	@Override
 	public InsetTargetsCollection getInsetTargets() {
+		View toolbar = view.findViewById(R.id.toolbar_layout);
+		View toolbarContainer = view.findViewById(R.id.toolbar_container);
 		InsetTargetsCollection collection = super.getInsetTargets();
 		collection.replace(InsetTarget.createLeftSideContainer(true, view));
+		collection.add(InsetTarget.createLeftSideContainer(true, false, toolbar));
+		collection.add(InsetTarget.createLeftSideContainer(true, true, toolbarContainer));
 		return collection;
 	}
 
@@ -855,6 +860,7 @@ public void onContextMenuStateChanged(@NonNull ContextMenuFragment fragment, int
 				}
 			}
 		}
+		updateNavBarColor();
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
index a0ae39dcce1..d992db6538b 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/ShowAlongTheRouteBottomSheet.java
@@ -22,6 +22,8 @@
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.data.ValueHolder;
 import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.InsetTargetsCollection;
+import net.osmand.plus.utils.InsetsUtils;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
@@ -78,6 +80,9 @@ public void createMenuItems(Bundle savedInstanceState) {
 		textView.setText(R.string.show_along_the_route);
 
 		Toolbar toolbar = titleView.findViewById(R.id.toolbar);
+		if (InsetsUtils.isEdgeToEdgeSupported()) {
+			toolbar.setFitsSystemWindows(false);
+		}
 		Drawable icBack = getContentIcon(AndroidUtils.getNavigationIconResId(app));
 		toolbar.setNavigationIcon(icBack);
 		toolbar.setNavigationContentDescription(R.string.access_shared_string_navigate_up);
diff --git a/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchDialogFragment.java b/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchDialogFragment.java
index b6f15b00236..652317c1c18 100644
--- a/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/search/dialogs/QuickSearchDialogFragment.java
@@ -596,6 +596,7 @@ public void afterTextChanged(Editable s) {
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection targetsCollection = super.getInsetTargets();
 		targetsCollection.replace(InsetTarget.createHorizontalLandscape(R.id.tab_toolbar_layout, R.id.toolbar, R.id.toolbar_edit, R.id.button_toolbar_layout));
+		targetsCollection.replace(InsetTarget.createFab(R.id.fab));
 		return targetsCollection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/utils/InsetsUtils.java b/OsmAnd/src/net/osmand/plus/utils/InsetsUtils.java
index b3027c006fb..fbe743d9b0d 100644
--- a/OsmAnd/src/net/osmand/plus/utils/InsetsUtils.java
+++ b/OsmAnd/src/net/osmand/plus/utils/InsetsUtils.java
@@ -14,6 +14,7 @@
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.Window;
+import android.view.WindowInsets;
 import android.widget.FrameLayout;
 import android.widget.RelativeLayout;
 
@@ -26,6 +27,8 @@
 import androidx.core.view.WindowInsetsCompat;
 import androidx.core.view.WindowInsetsCompat.Type.InsetsType;
 
+import com.google.android.material.appbar.CollapsingToolbarLayout;
+
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.base.ISupportInsets;
@@ -199,6 +202,31 @@ private static void applyAppBarWithCollapseInsets(View root, InsetTarget target,
 				EnumSet<InsetSide> sides = target.getSides(isOrientationPortrait(view.getContext()));
 				applyPadding(view, insets, sides, target.getTypeMask());
 
+				if (view instanceof ViewGroup viewGroup) {
+					for (int i = 0; i < viewGroup.getChildCount(); i++) {
+						View childView = viewGroup.getChildAt(i);
+						if (childView instanceof CollapsingToolbarLayout collapsingToolbarLayout) {
+							Insets sysBars = insets.getInsets(target.getTypeMask());
+							int oldTitleMargin = collapsingToolbarLayout.getExpandedTitleMarginStart();
+							int initialTitleMarginStart = collapsingToolbarLayout.getTag(R.id.initial_expanded_title_margin_start) != null
+									? (int) collapsingToolbarLayout.getTag(R.id.initial_expanded_title_margin_start)
+									: oldTitleMargin;
+
+							if (collapsingToolbarLayout.getTag(R.id.initial_expanded_title_margin_start) == null) {
+								collapsingToolbarLayout.setTag(R.id.initial_expanded_title_margin_start, oldTitleMargin);
+							}
+
+							collapsingToolbarLayout.setExpandedTitleMarginStart(initialTitleMarginStart + sysBars.left);
+
+							View collapsingHeader = collapsingToolbarLayout.findViewById(R.id.header);
+							if (collapsingHeader != null) {
+								int mask = WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout();
+								applyPadding(collapsingHeader, insets, EnumSet.of(InsetSide.LEFT), mask);
+							}
+						}
+					}
+				}
+
 				for (InsetTarget insetTargets : collection.getByType(Type.ROOT_INSET)) {
 					EnumSet<InsetsUtils.InsetSide> insetSides = insetTargets.getSides(isOrientationPortrait(view.getContext()));
 					if (insetSides != null) {
diff --git a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
index 912927faa52..c45f701a734 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
@@ -390,7 +390,7 @@ public void updateRow(int index, int totalRows) {
 			boolean firstRow = index == 0;
 
 			boolean showTopDivider =  (visibleViewsInRowCount > 0 && rowWidgetsSupportBottomDivider) && (firstRow && !topPanel && transparentMode);
-			boolean showBottomDivider = (visibleViewsInRowCount > 0 && rowWidgetsSupportBottomDivider) && (!lastRow || (topPanel && transparentMode));
+			boolean showBottomDivider = (visibleViewsInRowCount > 0 && rowWidgetsSupportBottomDivider) && ((!lastRow || (topPanel && transparentMode)) || ((InsetsUtils.isEdgeToEdgeSupported() && AndroidUiHelper.isOrientationPortrait(app) && lastRow)));
 
 			AndroidUiHelper.updateVisibility(bottomDivider, showBottomDivider);
 			AndroidUiHelper.updateVisibility(topDivider, showTopDivider);
diff --git a/OsmAnd/src/net/osmand/plus/wikivoyage/article/WikivoyageArticleDialogFragment.java b/OsmAnd/src/net/osmand/plus/wikivoyage/article/WikivoyageArticleDialogFragment.java
index 79c0abe02b1..8f19e064be1 100644
--- a/OsmAnd/src/net/osmand/plus/wikivoyage/article/WikivoyageArticleDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/wikivoyage/article/WikivoyageArticleDialogFragment.java
@@ -166,6 +166,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	public InsetTargetsCollection getInsetTargets() {
 		InsetTargetsCollection collection = super.getInsetTargets();
 		collection.replace(InsetTarget.createBottomContainer(R.id.bottom_buttons_container));
+		collection.add(InsetTarget.createHorizontalLandscape(R.id.content_container));
 		return collection;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/wikivoyage/search/WikivoyageSearchDialogFragment.java b/OsmAnd/src/net/osmand/plus/wikivoyage/search/WikivoyageSearchDialogFragment.java
index 47b22d9b60b..a94e6d191d2 100644
--- a/OsmAnd/src/net/osmand/plus/wikivoyage/search/WikivoyageSearchDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/wikivoyage/search/WikivoyageSearchDialogFragment.java
@@ -22,6 +22,8 @@
 import net.osmand.plus.R;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.utils.InsetTarget;
+import net.osmand.plus.utils.InsetTargetsCollection;
 import net.osmand.plus.widgets.tools.SimpleTextWatcher;
 import net.osmand.plus.wikivoyage.WikiBaseDialogFragment;
 import net.osmand.plus.wikivoyage.article.WikivoyageArticleDialogFragment;
@@ -116,6 +118,13 @@ public void afterTextChanged(Editable s) {
 		return mainView;
 	}
 
+	@Override
+	public InsetTargetsCollection getInsetTargets() {
+		InsetTargetsCollection collection = super.getInsetTargets();
+		collection.add(InsetTarget.createScrollable(R.id.recycler_view).build());
+		return collection;
+	}
+
 	@Override
 	public void onResume() {
 		super.onResume();
