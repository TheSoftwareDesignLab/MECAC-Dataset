diff --git a/OsmAnd/res/drawable/keyboard_item_add_button_bg.xml b/OsmAnd/res/drawable/keyboard_item_add_button_bg.xml
deleted file mode 100644
index c71c2cbe572..00000000000
--- a/OsmAnd/res/drawable/keyboard_item_add_button_bg.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<selector xmlns:android="http://schemas.android.com/apk/res/android">
-    <item android:drawable="@color/keyboard_item_add_button_bg_pressed" android:state_pressed="true"/>
-    <item android:drawable="@color/keyboard_item_add_button_bg"/>
-</selector>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/keyboard_item_add_button_dark_bg.xml b/OsmAnd/res/drawable/keyboard_item_add_button_dark_bg.xml
new file mode 100644
index 00000000000..2e29aac5485
--- /dev/null
+++ b/OsmAnd/res/drawable/keyboard_item_add_button_dark_bg.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@color/keyboard_item_add_button_dark_bg_pressed" android:state_pressed="true"/>
+    <item android:drawable="@color/keyboard_item_add_button_dark_bg"/>
+</selector>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/keyboard_item_add_button_light_bg.xml b/OsmAnd/res/drawable/keyboard_item_add_button_light_bg.xml
new file mode 100644
index 00000000000..6aded036f23
--- /dev/null
+++ b/OsmAnd/res/drawable/keyboard_item_add_button_light_bg.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@color/keyboard_item_add_button_light_bg_pressed" android:state_pressed="true"/>
+    <item android:drawable="@color/keyboard_item_add_button_light_bg"/>
+</selector>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/keyboard_item_dark_bg.xml b/OsmAnd/res/drawable/keyboard_item_dark_bg.xml
index 533eb8eaf9c..6d68c626f52 100644
--- a/OsmAnd/res/drawable/keyboard_item_dark_bg.xml
+++ b/OsmAnd/res/drawable/keyboard_item_dark_bg.xml
@@ -1,7 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-
-    <item android:drawable="@color/map_widget_blue" android:state_pressed="true"/>
-    <item android:drawable="@color/bg_color_dark"/>
-
+    <item android:drawable="@color/keyboard_item_dark_bg_pressed" android:state_pressed="true"/>
+    <item android:drawable="@color/keyboard_item_dark_bg"/>
 </selector>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/keyboard_item_icon_color_light.xml b/OsmAnd/res/drawable/keyboard_item_icon_color_light.xml
index d40fc937548..8125ba0c10c 100644
--- a/OsmAnd/res/drawable/keyboard_item_icon_color_light.xml
+++ b/OsmAnd/res/drawable/keyboard_item_icon_color_light.xml
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-	<item android:color="@color/keyboard_item_divider_control_text_color_light_pressed" android:state_pressed="true"/>
-	<item android:color="@color/keyboard_item_divider_control_text_color_light"/>
+	<item android:color="@color/keyboard_item_divider_control_color_light_pressed" android:state_pressed="true"/>
+	<item android:color="@color/keyboard_item_divider_control_color_light"/>
 </selector>
\ No newline at end of file
diff --git a/OsmAnd/res/drawable/keyboard_item_light_bg.xml b/OsmAnd/res/drawable/keyboard_item_light_bg.xml
index 6c0b9d69b24..a9b65a68865 100644
--- a/OsmAnd/res/drawable/keyboard_item_light_bg.xml
+++ b/OsmAnd/res/drawable/keyboard_item_light_bg.xml
@@ -1,7 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
-
-    <item android:drawable="@color/map_widget_blue" android:state_pressed="true"/>
-    <item android:drawable="@color/bg_color_light"/>
-
+    <item android:drawable="@color/keyboard_item_light_bg_pressed" android:state_pressed="true"/>
+    <item android:drawable="@color/keyboard_item_light_bg"/>
 </selector>
\ No newline at end of file
diff --git a/OsmAnd/res/layout-land/fragment_coordinate_input_dialog.xml b/OsmAnd/res/layout-land/fragment_coordinate_input_dialog.xml
index 26c6d104168..db14b92ffb0 100644
--- a/OsmAnd/res/layout-land/fragment_coordinate_input_dialog.xml
+++ b/OsmAnd/res/layout-land/fragment_coordinate_input_dialog.xml
@@ -7,9 +7,9 @@
 	android:orientation="vertical">
 
 	<android.support.design.widget.AppBarLayout
+		android:id="@+id/app_bar"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:background="@color/map_widget_blue"
 		android:orientation="vertical">
 
 		<android.support.v7.widget.Toolbar
diff --git a/OsmAnd/res/layout/coordinate_input_land_osmand_keyboard.xml b/OsmAnd/res/layout/coordinate_input_land_osmand_keyboard.xml
index 64d4d9fceb3..8c64f20e230 100644
--- a/OsmAnd/res/layout/coordinate_input_land_osmand_keyboard.xml
+++ b/OsmAnd/res/layout/coordinate_input_land_osmand_keyboard.xml
@@ -26,10 +26,9 @@
             android:id="@+id/keyboard_divider"
             android:layout_width="match_parent"
             android:layout_height="1dp"
-            android:background="@color/keyboard_item_add_button_bg_pressed"/>
+            android:background="?attr/keyboard_controls_divider"/>
 
         <android.support.v7.widget.AppCompatTextView
-            android:background="@drawable/keyboard_item_add_button_bg"
             android:id="@+id/add_marker_button"
             android:layout_width="match_parent"
             android:layout_height="52dp"
diff --git a/OsmAnd/res/layout/fragment_coordinate_input_dialog.xml b/OsmAnd/res/layout/fragment_coordinate_input_dialog.xml
index 8426b61cb72..326071caa20 100644
--- a/OsmAnd/res/layout/fragment_coordinate_input_dialog.xml
+++ b/OsmAnd/res/layout/fragment_coordinate_input_dialog.xml
@@ -12,8 +12,8 @@
         android:layout_height="match_parent">
 
         <android.support.design.widget.AppBarLayout
+            android:id="@+id/app_bar"
             android:orientation="vertical"
-            android:background="@color/map_widget_blue"
             android:layout_width="match_parent"
             android:layout_height="wrap_content">
 
@@ -194,7 +194,7 @@
             android:id="@+id/keyboard_divider"
             android:layout_width="match_parent"
             android:layout_height="1dp"
-            android:background="@color/keyboard_item_add_button_bg_pressed"/>
+            android:background="?attr/keyboard_controls_divider"/>
 
         <LinearLayout
             android:orientation="horizontal"
@@ -202,7 +202,6 @@
             android:layout_height="56dp">
 
             <android.support.v7.widget.AppCompatTextView
-                android:background="@drawable/keyboard_item_add_button_bg"
                 android:maxLines="1"
                 android:ellipsize="end"
                 android:id="@+id/add_marker_button"
@@ -218,11 +217,10 @@
             <View
                 android:layout_width="1dp"
                 android:layout_height="match_parent"
-                android:background="@color/keyboard_item_add_button_bg_pressed"/>
+                android:background="?attr/keyboard_controls_divider"/>
 
             <ImageView
                 android:id="@+id/show_hide_keyboard_icon"
-                android:background="@drawable/keyboard_item_add_button_bg"
                 android:layout_gravity="center_vertical"
                 android:layout_width="0dp"
                 android:layout_weight="1"
diff --git a/OsmAnd/res/values/attrs.xml b/OsmAnd/res/values/attrs.xml
index b46ef5c0ad3..ebc1245b88e 100644
--- a/OsmAnd/res/values/attrs.xml
+++ b/OsmAnd/res/values/attrs.xml
@@ -7,8 +7,9 @@
         <attr name="mapBackground" format="reference"/>
         <attr name="routeParameterTitleColor" format="color"/>
         <attr name="chart_marker_background" format="reference" />
-        <!-- list colors -->
         <attr name="keyboard_item_icon_color" format="reference"/>
+        <attr name="keyboard_controls_divider" format="color"/>
+        <!-- list colors -->
         <attr name="ctx_menu_info_divider" format="color"/>
         <attr name="searchbar_text" format="color"/>
         <attr name="searchbar_text_hint" format="color"/>
diff --git a/OsmAnd/res/values/colors.xml b/OsmAnd/res/values/colors.xml
index faf4b4bd9cb..bc3c6959ce3 100644
--- a/OsmAnd/res/values/colors.xml
+++ b/OsmAnd/res/values/colors.xml
@@ -264,24 +264,35 @@
 
 	<color name="marker_circle_button_color_dark">#525e66</color>
 
-	<color name="keyboard_item_divider_control_text_color_light">#727272</color>
-	<color name="keyboard_item_divider_control_text_color_light_pressed">#ffffff</color>
-	<color name="keyboard_item_divider_control_text_color_dark">#ffffff</color>
+	<color name="keyboard_item_divider_control_color_light">#727272</color>
+	<color name="keyboard_item_divider_control_color_light_pressed">#ffffff</color>
+	<color name="keyboard_item_divider_control_color_dark">#8899a6</color>
 	<color name="keyboard_item_text_color_light">#333333</color>
 	<color name="keyboard_item_text_color_light_pressed">#ffffff</color>
 	<color name="keyboard_item_text_color_dark">#ffffff</color>
+	<color name="keyboard_item_light_bg">#fff</color>
+	<color name="keyboard_item_light_bg_pressed">#536dfe</color>
+	<color name="keyboard_item_dark_bg">#1f2326</color>
+	<color name="keyboard_item_dark_bg_pressed">#536dfe</color>
 	<color name="keyboard_item_control_light_bg">#f2f2f2</color>
 	<color name="keyboard_item_control_light_bg_pressed">#536dfe</color>
 	<color name="keyboard_item_control_dark_bg">#191c1e</color>
 	<color name="keyboard_item_control_dark_bg_pressed">#536dfe</color>
-	<color name="keyboard_item_add_button_bg">#536dfe</color>
-	<color name="keyboard_item_add_button_bg_pressed">#4b62e3</color>
+	<color name="keyboard_item_add_button_light_bg">#536dfe</color>
+	<color name="keyboard_item_add_button_light_bg_pressed">#4b62e3</color>
+	<color name="keyboard_item_add_button_dark_bg">#2d3980</color>
+	<color name="keyboard_item_add_button_dark_bg_pressed">#4b62e3</color>
 	<color name="keyboard_item_add_button_text_color">#ffffff</color>
 	<color name="keyboard_item_show_hide_color">#222c66</color>
+	<color name="keyboard_item_add_button_divider_light">#4b62e3</color>
+	<color name="keyboard_item_add_button_divider_dark">#121733</color>
 	<color name="keyboard_divider_light">#e6e6e6</color>
-	<color name="keyboard_divider_dark">#2a2f33</color>
+	<color name="keyboard_divider_dark">#1f2326</color>
 
+	<color name="coordinate_input_status_bar_color_light">#4257c9</color>
+	<color name="coordinate_input_status_bar_color_dark">#1b224d</color>
+	<color name="coordinate_input_app_bar_color_light">#536dfe</color>
+	<color name="coordinate_input_app_bar_color_dark">#2d3980</color>
 	<color name="coordinate_input_keyboard_icon_color">#9fadfc</color>
-	<color name="coordinate_input_status_bar_color">#4257c9</color>
 
 </resources>
\ No newline at end of file
diff --git a/OsmAnd/res/values/styles.xml b/OsmAnd/res/values/styles.xml
index 1c72bbf5f4d..d2cec0d1394 100644
--- a/OsmAnd/res/values/styles.xml
+++ b/OsmAnd/res/values/styles.xml
@@ -178,6 +178,7 @@
         <item name="popupMenuStyle">@style/PopupMenuLight</item>
 
         <item name="keyboard_item_icon_color">@drawable/keyboard_item_icon_color_light</item>
+        <item name="keyboard_controls_divider">@color/keyboard_item_add_button_divider_light</item>
     </style>
 
     <style name="OverflowMenuButton" parent="@style/Widget.AppCompat.ActionButton.Overflow">
@@ -349,7 +350,8 @@
 
         <item name="popupMenuStyle">@style/PopupMenuDark</item>
 
-        <item name="keyboard_item_icon_color">@color/keyboard_item_divider_control_text_color_dark</item>
+        <item name="keyboard_item_icon_color">@color/keyboard_item_divider_control_color_dark</item>
+        <item name="keyboard_controls_divider">@color/keyboard_item_add_button_divider_dark</item>
     </style>
 
     <style name="FreeVersionBanner" parent="OsmandDarkTheme">
diff --git a/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputDialogFragment.java b/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputDialogFragment.java
index 307046e779a..d83c0a4870a 100644
--- a/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapmarkers/CoordinateInputDialogFragment.java
@@ -134,7 +134,7 @@ public void onBackPressed() {
 			if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
 				window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
 				window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
-				window.setStatusBarColor(ContextCompat.getColor(getContext(), R.color.coordinate_input_status_bar_color));
+				window.setStatusBarColor(ContextCompat.getColor(getContext(), lightTheme ? R.color.coordinate_input_status_bar_color_light : R.color.coordinate_input_status_bar_color_dark));
 			}
 		}
 		return dialog;
@@ -161,6 +161,8 @@ public void onClick(View view) {
 				dismiss();
 			}
 		});
+
+		mainView.findViewById(R.id.app_bar).setBackgroundColor(ContextCompat.getColor(getContext(), lightTheme ? R.color.coordinate_input_app_bar_color_light : R.color.coordinate_input_app_bar_color_dark));
 		final View optionsButton = mainView.findViewById(R.id.options_button);
 		optionsButton.setOnClickListener(new View.OnClickListener() {
 			@Override
@@ -263,7 +265,9 @@ public void onScrollStateChanged(RecyclerView recyclerView, int newState) {
 				}
 			});
 
-			mainView.findViewById(R.id.add_marker_button).setOnClickListener(new View.OnClickListener() {
+			TextView addButton = (TextView) mainView.findViewById(R.id.add_marker_button);
+			addButton.setBackgroundResource(lightTheme ? R.drawable.keyboard_item_add_button_light_bg : R.drawable.keyboard_item_add_button_dark_bg);
+			addButton.setOnClickListener(new View.OnClickListener() {
 				@Override
 				public void onClick(View view) {
 					addMapMarker();
@@ -316,6 +320,7 @@ public void onItemClick(AdapterView<?> adapterView, View view, int i, long l) {
 
 			if (orientationPortrait) {
 				final ImageView showHideKeyboardIcon = (ImageView) mainView.findViewById(R.id.show_hide_keyboard_icon);
+				showHideKeyboardIcon.setBackgroundResource(lightTheme ? R.drawable.keyboard_item_add_button_light_bg : R.drawable.keyboard_item_add_button_dark_bg);
 				showHideKeyboardIcon.setImageDrawable(iconsCache.getIcon(R.drawable.ic_action_arrow_down, R.color.keyboard_item_show_hide_color));
 				showHideKeyboardIcon.setOnClickListener(new View.OnClickListener() {
 					@Override
@@ -776,8 +781,8 @@ private class KeyboardAdapter extends ArrayAdapter<Object> {
 						new int[]{}
 				},
 				new int[] {
-						getResources().getColor(R.color.keyboard_item_divider_control_text_color_light_pressed),
-						getResources().getColor(R.color.keyboard_item_divider_control_text_color_light)
+						getResources().getColor(R.color.keyboard_item_divider_control_color_light_pressed),
+						getResources().getColor(R.color.keyboard_item_divider_control_color_light)
 				}
 		);
 		private ColorStateList numberColorStateList = new ColorStateList(
@@ -835,7 +840,7 @@ public View getView(int position, @Nullable View convertView, @NonNull ViewGroup
 				if (lightTheme) {
 					keyboardItemText.setTextColor(dividerControlButton ? dividerControlColorStateList : numberColorStateList);
 				} else {
-					keyboardItemText.setTextColor(ContextCompat.getColor(getContext(), dividerControlButton ? R.color.keyboard_item_divider_control_text_color_dark : R.color.keyboard_item_text_color_dark));
+					keyboardItemText.setTextColor(ContextCompat.getColor(getContext(), dividerControlButton ? R.color.keyboard_item_divider_control_color_dark : R.color.keyboard_item_text_color_dark));
 				}
 				keyboardItemImage.setVisibility(View.GONE);
 				keyboardItemTopSpacing.setVisibility(View.VISIBLE);
