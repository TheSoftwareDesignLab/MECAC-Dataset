diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
index 76fc0e8eed9..dacdd1b9c92 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
@@ -66,7 +66,7 @@ public void populateControlsContainer(@NonNull ViewGroup container,
 			if (widgetInfo.isEnabledForAppMode(mode)) {
 				widgetsToShow.add(widgetInfo.widget);
 			} else {
-				widgetInfo.widget.detachView();
+				widgetInfo.widget.detachView(widgetPanel);
 			}
 		}
 
@@ -75,7 +75,7 @@ public void populateControlsContainer(@NonNull ViewGroup container,
 			List<MapWidget> followingWidgets = i + 1 == widgetsToShow.size()
 					? new ArrayList<>()
 					: widgetsToShow.subList(i + 1, widgetsToShow.size());
-			widget.attachView(container, i, followingWidgets);
+			widget.attachView(container, widgetPanel, i, followingWidgets);
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/LanesWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/LanesWidget.java
index 449c735fb06..a9bd63be253 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/LanesWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/LanesWidget.java
@@ -23,6 +23,7 @@
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.LanesDrawable;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.router.RouteResultPreparation;
 import net.osmand.router.TurnType;
 
@@ -154,7 +155,8 @@ public void updateColors(@NonNull TextState textState) {
 	}
 
 	@Override
-	public void attachView(@NonNull ViewGroup container, int order, @NonNull List<MapWidget> followingWidgets) {
+	public void attachView(@NonNull ViewGroup container, @NonNull WidgetsPanel widgetsPanel,
+	                       int order, @NonNull List<MapWidget> followingWidgets) {
 		ViewGroup specialContainer = getSpecialContainer();
 		specialContainer.removeAllViews();
 
@@ -174,8 +176,8 @@ public void attachView(@NonNull ViewGroup container, int order, @NonNull List<Ma
 	}
 
 	@Override
-	public void detachView() {
-		super.detachView();
+	public void detachView(@NonNull WidgetsPanel widgetsPanel) {
+		super.detachView(widgetsPanel);
 		// Clear in case link to previous view of LanesWidget is lost
 		getSpecialContainer().removeAllViews();
 	}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
index 51302ace54f..225c7f726b6 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapMarkersBarWidget.java
@@ -234,8 +234,9 @@ protected boolean updateVisibility(boolean visible) {
 	}
 
 	@Override
-	public void attachView(@NonNull ViewGroup container, int order, @NonNull List<MapWidget> followingWidgets) {
-		super.attachView(container, order, followingWidgets);
+	public void attachView(@NonNull ViewGroup container, @NonNull WidgetsPanel panel,
+	                       int order, @NonNull List<MapWidget> followingWidgets) {
+		super.attachView(container, panel, order, followingWidgets);
 
 		boolean showBottomShadow = true;
 		WidgetsVisibilityHelper visibilityHelper = mapActivity.getWidgetsVisibilityHelper();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
index d07d9df52ec..3c4764e2492 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/MapWidget.java
@@ -25,6 +25,7 @@
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.plus.views.mapwidgets.widgetstates.WidgetState;
 
 import java.util.List;
@@ -79,11 +80,12 @@ public void copySettings(@NonNull ApplicationMode appMode, @Nullable String cust
 		}
 	}
 
-	public void attachView(@NonNull ViewGroup container, int order, @NonNull List<MapWidget> followingWidgets) {
+	public void attachView(@NonNull ViewGroup container, @NonNull WidgetsPanel widgetsPanel,
+	                       int order, @NonNull List<MapWidget> followingWidgets) {
 		container.addView(view);
 	}
 
-	public void detachView() {
+	public void detachView(@NonNull WidgetsPanel widgetsPanel) {
 		ViewParent parent = view.getParent();
 		if (parent instanceof ViewGroup) {
 			((ViewGroup) parent).removeView(view);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
index 8b92566dfa5..537b522160d 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
@@ -362,22 +362,23 @@ protected boolean updateVisibility(boolean visible) {
 	}
 
 	@Override
-	public void attachView(@NonNull ViewGroup container, int order, @NonNull List<MapWidget> followingWidgets) {
+	public void attachView(@NonNull ViewGroup container, @NonNull WidgetsPanel widgetsPanel,
+	                       int order, @NonNull List<MapWidget> followingWidgets) {
 		ViewGroup specialContainer = getSpecialContainer();
-		boolean specialPosition = specialContainer != null;
-		if (specialPosition) {
+		boolean useSpecialPosition = widgetsPanel == WidgetsPanel.TOP && specialContainer != null;
+		if (useSpecialPosition) {
 			specialContainer.removeAllViews();
 
 			boolean currentLocationVisible = mapActivity.getWidgetsVisibilityHelper().shouldShowTopCurrentLocationCoordinatesWidget();
 			boolean mapCenterVisible = mapActivity.getWidgetsVisibilityHelper().shouldShowTopMapCenterCoordinatesWidget();
 			for (MapWidget widget : followingWidgets) {
 				if (widget instanceof CoordinatesBaseWidget && (currentLocationVisible || mapCenterVisible)) {
-					specialPosition = false;
+					useSpecialPosition = false;
 					break;
 				}
 			}
 		}
-		if (specialPosition) {
+		if (useSpecialPosition) {
 			specialContainer.addView(view);
 		} else {
 			container.addView(view, order);
@@ -385,8 +386,8 @@ public void attachView(@NonNull ViewGroup container, int order, @NonNull List<Ma
 	}
 
 	@Override
-	public void detachView() {
-		super.detachView();
+	public void detachView(@NonNull WidgetsPanel widgetsPanel) {
+		super.detachView(widgetsPanel);
 		// Clear in case link to previous view of StreetNameWidget is lost
 		ViewGroup specialContainer = getSpecialContainer();
 		if (specialContainer != null) {
