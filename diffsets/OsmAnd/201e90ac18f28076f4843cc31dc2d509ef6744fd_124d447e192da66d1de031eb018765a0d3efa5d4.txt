diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java
index b23c2d2f0d7..92d0c569954 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java
@@ -34,7 +34,7 @@ public class BaseResizableWidgetSettingFragment extends WidgetSettingsBaseFragme
 	protected static final String WIDGET_TYPE_KEY = "widget_type_key";
 
 	public OsmandPreference<WidgetSize> widgetSizePref;
-	private WidgetType widgetType;
+	protected WidgetType widgetType;
 	@Nullable
 	private MapWidgetInfo widgetInfo;
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
index ef2251c6b64..e8ea806c548 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
@@ -35,30 +35,20 @@ public class BaseSimpleWidgetSettingsFragment extends BaseResizableWidgetSetting
 	private boolean isWidgetVertical = false;
 
 	public CommonPreference<Boolean> shouldShowIconPref;
-	private WidgetType widgetType;
 	@Nullable
 	private MapWidgetInfo widgetInfo;
 
 	private boolean showIcon;
 
-	public void setWidgetType(WidgetType widgetType) {
-		this.widgetType = widgetType;
-	}
-
 	@Override
 	protected void initParams(@NonNull Bundle bundle) {
 		super.initParams(bundle);
 		widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
-		if (widgetInfo != null && widgetInfo.widget instanceof SimpleWidget) {
-			SimpleWidget simpleWidget = (SimpleWidget) widgetInfo.widget;
+		if (widgetInfo != null && widgetInfo.widget instanceof SimpleWidget simpleWidget) {
 			isWidgetVertical = simpleWidget.isVerticalWidget();
 			shouldShowIconPref = simpleWidget.shouldShowIconPref();
 			showIcon = bundle.containsKey(SHOW_ICON_KEY) ? bundle.getBoolean(SHOW_ICON_KEY) : shouldShowIconPref.get();
 		}
-		String type = bundle.getString(WIDGET_TYPE_KEY);
-		if (widgetType == null && type != null) {
-			widgetType = WidgetType.getById(type);
-		}
 	}
 
 	@Override
@@ -67,12 +57,6 @@ public void onSaveInstanceState(@NonNull Bundle outState) {
 		outState.putBoolean(SHOW_ICON_KEY, showIcon);
 	}
 
-	@NonNull
-	@Override
-	public WidgetType getWidget() {
-		return widgetType;
-	}
-
 	@Override
 	protected void setupContent(@NonNull LayoutInflater themedInflater, @NonNull ViewGroup container) {
 		if (isWidgetVertical) {
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
index b5f99d18718..b88568bade5 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
@@ -177,7 +177,7 @@ public static void showFragment(@NonNull FragmentManager manager,
 			manager.beginTransaction()
 					.add(R.id.fragmentContainer, fragment, tag)
 					.addToBackStack(tag)
-					.commitAllowingStateLoss();
+					.commit();
 		}
 	}
 }
\ No newline at end of file
