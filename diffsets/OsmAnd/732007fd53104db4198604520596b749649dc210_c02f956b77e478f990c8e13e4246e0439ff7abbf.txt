diff --git a/OsmAnd/res/drawable/bg_navigation_widget_exit.xml b/OsmAnd/res/drawable/bg_navigation_widget_exit.xml
new file mode 100644
index 00000000000..e8f9eec5ddb
--- /dev/null
+++ b/OsmAnd/res/drawable/bg_navigation_widget_exit.xml
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+
+	<stroke
+		android:width="2dp"
+		android:color="@color/divider_color"/>
+
+	<corners android:radius="4dp" />
+</shape>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/navigation_widget_full.xml b/OsmAnd/res/layout/navigation_widget_full.xml
new file mode 100644
index 00000000000..c7ad8c4c464
--- /dev/null
+++ b/OsmAnd/res/layout/navigation_widget_full.xml
@@ -0,0 +1,123 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/widget_bg"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/simple_widget_medium_height"
+	android:orientation="vertical"
+	android:paddingVertical="3dp"
+	android:paddingStart="12dp"
+	android:paddingEnd="16dp">
+
+	<LinearLayout
+		android:id="@+id/container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="horizontal"
+		tools:ignore="UselessParent">
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/arrow_icon"
+			android:layout_width="48dp"
+			android:layout_height="48dp"
+			android:layout_gravity="center"
+			android:layout_marginEnd="12dp"
+			android:gravity="center"
+			app:srcCompat="@drawable/ic_action_remove_dark" />
+
+		<FrameLayout
+			android:layout_width="match_parent"
+			android:layout_height="match_parent">
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="top"
+				android:orientation="horizontal">
+
+				<LinearLayout
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="top"
+					android:layout_weight="1"
+					android:orientation="horizontal">
+
+					<TextView
+						android:id="@+id/distance_text"
+						android:layout_width="wrap_content"
+						android:layout_height="wrap_content"
+						android:layout_gravity="center_vertical|start"
+						android:layout_marginEnd="3dp"
+						android:gravity="start|center"
+						android:includeFontPadding="false"
+						android:maxLines="1"
+						android:textColor="@color/text_color_primary_light"
+						android:textSize="26sp"
+						tools:text="200" />
+
+					<TextView
+						android:id="@+id/distance_sub_text"
+						android:layout_width="wrap_content"
+						android:layout_height="wrap_content"
+						android:gravity="start|center"
+						android:includeFontPadding="false"
+						android:maxLines="1"
+						android:textColor="@color/text_color_secondary_light"
+						android:textSize="26sp"
+						tools:text="m" />
+
+				</LinearLayout>
+
+				<TextView
+					android:id="@+id/map_exit_ref"
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center"
+					android:background="@drawable/bg_navigation_widget_exit"
+					android:minWidth="@dimen/map_widget_height"
+					android:paddingHorizontal="8dp"
+					android:textColor="@color/card_and_list_background_light"
+					android:textSize="18sp"
+					android:visibility="gone"
+					tools:text="Exit 8"
+					tools:visibility="visible" />
+
+			</LinearLayout>
+
+			<LinearLayout
+				android:id="@+id/street_name_container"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="bottom"
+				android:orientation="horizontal">
+
+				<LinearLayout
+					android:id="@+id/map_shields_container"
+					android:layout_width="wrap_content"
+					android:layout_height="36dp"
+					android:layout_gravity="center"
+					android:layout_marginEnd="6dp"
+					android:gravity="center"
+					android:orientation="horizontal"/>
+
+				<TextView
+					android:id="@+id/street_text"
+					android:layout_width="wrap_content"
+					android:layout_height="32dp"
+					android:layout_gravity="center_vertical"
+					android:gravity="start|center"
+					android:includeFontPadding="false"
+					android:ellipsize="end"
+					android:maxLines="1"
+					android:textColor="@color/text_color_primary_light"
+					android:textSize="18sp"
+					tools:text="Street" />
+
+			</LinearLayout>
+
+		</FrameLayout>
+
+	</LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/navigation_widget_full_large.xml b/OsmAnd/res/layout/navigation_widget_full_large.xml
new file mode 100644
index 00000000000..d022711c77c
--- /dev/null
+++ b/OsmAnd/res/layout/navigation_widget_full_large.xml
@@ -0,0 +1,124 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/widget_bg"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/simple_widget_large_height"
+	android:orientation="vertical"
+	android:paddingVertical="6dp"
+	android:paddingStart="12dp"
+	android:paddingEnd="16dp">
+
+	<LinearLayout
+		android:id="@+id/container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="horizontal"
+		tools:ignore="UselessParent">
+
+		<androidx.appcompat.widget.AppCompatImageView
+			android:id="@+id/arrow_icon"
+			android:layout_width="72dp"
+			android:layout_height="72dp"
+			android:layout_gravity="center"
+			android:layout_marginEnd="12dp"
+			android:gravity="center"
+			app:srcCompat="@drawable/ic_action_remove_dark" />
+
+		<FrameLayout
+			android:layout_width="match_parent"
+			android:layout_height="match_parent">
+
+			<LinearLayout
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="top"
+				android:orientation="horizontal">
+
+				<LinearLayout
+					android:layout_width="0dp"
+					android:layout_height="wrap_content"
+					android:layout_gravity="top"
+					android:layout_weight="1"
+					android:orientation="horizontal">
+
+					<TextView
+						android:id="@+id/distance_text"
+						android:layout_width="wrap_content"
+						android:layout_height="wrap_content"
+						android:layout_gravity="center_vertical|start"
+						android:layout_marginEnd="3dp"
+						android:gravity="start|center"
+						android:includeFontPadding="false"
+						android:maxLines="1"
+						android:textColor="@color/text_color_primary_light"
+						android:textSize="36sp"
+						tools:text="200" />
+
+					<TextView
+						android:id="@+id/distance_sub_text"
+						android:layout_width="wrap_content"
+						android:layout_height="wrap_content"
+						android:gravity="start|center"
+						android:includeFontPadding="false"
+						android:maxLines="1"
+						android:textColor="@color/text_color_secondary_light"
+						android:textSize="36sp"
+						tools:text="m" />
+
+				</LinearLayout>
+
+				<TextView
+					android:id="@+id/map_exit_ref"
+					android:layout_width="wrap_content"
+					android:layout_height="wrap_content"
+					android:layout_gravity="center"
+					android:background="@drawable/bg_navigation_widget_exit"
+					android:minWidth="@dimen/map_widget_height"
+					android:paddingHorizontal="8dp"
+					android:paddingVertical="3dp"
+					android:textColor="@color/card_and_list_background_light"
+					android:textSize="24sp"
+					android:visibility="gone"
+					tools:text="Exit 8"
+					tools:visibility="visible" />
+
+			</LinearLayout>
+
+			<LinearLayout
+				android:id="@+id/street_name_container"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:layout_gravity="bottom"
+				android:orientation="horizontal">
+
+				<LinearLayout
+					android:id="@+id/map_shields_container"
+					android:layout_width="wrap_content"
+					android:layout_height="36dp"
+					android:layout_gravity="center"
+					android:layout_marginEnd="6dp"
+					android:gravity="center"
+					android:orientation="horizontal"/>
+
+				<TextView
+					android:id="@+id/street_text"
+					android:layout_width="wrap_content"
+					android:layout_height="32dp"
+					android:layout_gravity="center_vertical"
+					android:gravity="start|center"
+					android:includeFontPadding="false"
+					android:ellipsize="end"
+					android:maxLines="1"
+					android:textColor="@color/text_color_primary_light"
+					android:textSize="24sp"
+					tools:text="Street" />
+
+			</LinearLayout>
+
+		</FrameLayout>
+
+	</LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/navigation_widget_half.xml b/OsmAnd/res/layout/navigation_widget_half.xml
new file mode 100644
index 00000000000..a952dc92135
--- /dev/null
+++ b/OsmAnd/res/layout/navigation_widget_half.xml
@@ -0,0 +1,112 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/widget_bg"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/simple_widget_medium_height"
+	android:orientation="vertical"
+	android:paddingHorizontal="16dp"
+	android:paddingVertical="3dp">
+
+	<FrameLayout
+		android:id="@+id/container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="vertical"
+
+		tools:ignore="UselessParent">
+
+		<LinearLayout
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_gravity="top"
+			android:orientation="horizontal">
+
+			<androidx.appcompat.widget.AppCompatImageView
+				android:id="@+id/arrow_icon"
+				android:layout_width="36dp"
+				android:layout_height="36dp"
+				android:layout_marginEnd="6dp"
+				android:layout_gravity="center"
+				android:gravity="center"
+				app:srcCompat="@drawable/ic_action_remove_dark" />
+
+			<TextView
+				android:id="@+id/distance_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginEnd="3dp"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="26sp"
+				tools:text="Value" />
+
+			<TextView
+				android:id="@+id/distance_sub_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_secondary_light"
+				android:textSize="26sp"
+				tools:text="Value" />
+
+		</LinearLayout>
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="36dp"
+			android:layout_gravity="bottom"
+			android:orientation="horizontal">
+
+			<TextView
+				android:id="@+id/map_exit_ref"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:background="@drawable/bg_navigation_widget_exit"
+				android:minWidth="@dimen/map_widget_height"
+				android:paddingHorizontal="8dp"
+				android:textColor="@color/card_and_list_background_light"
+				android:textSize="16sp"
+				android:visibility="gone"
+				tools:text="Exit 8"
+				tools:visibility="visible" />
+
+			<LinearLayout
+				android:id="@+id/map_shields_container"
+				android:layout_width="wrap_content"
+				android:layout_height="match_parent"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:gravity="center"
+				android:orientation="horizontal"
+				android:visibility="gone"
+				tools:visibility="visible" />
+
+			<TextView
+				android:id="@+id/street_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:ellipsize="end"
+
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="16sp"
+				tools:text="Value" />
+
+		</LinearLayout>
+
+	</FrameLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/navigation_widget_half_large.xml b/OsmAnd/res/layout/navigation_widget_half_large.xml
new file mode 100644
index 00000000000..34b7edee8fd
--- /dev/null
+++ b/OsmAnd/res/layout/navigation_widget_half_large.xml
@@ -0,0 +1,110 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/widget_bg"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/simple_widget_large_height"
+	android:orientation="vertical"
+	android:paddingHorizontal="16dp"
+	android:paddingVertical="6dp">
+
+	<FrameLayout
+		android:id="@+id/container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="vertical"
+		tools:ignore="UselessParent">
+
+		<LinearLayout
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_gravity="top"
+			android:orientation="horizontal">
+
+			<androidx.appcompat.widget.AppCompatImageView
+				android:id="@+id/arrow_icon"
+				android:layout_width="48dp"
+				android:layout_height="48dp"
+				android:layout_marginEnd="6dp"
+				android:layout_gravity="center"
+				android:gravity="center"
+				app:srcCompat="@drawable/ic_action_remove_dark" />
+
+			<TextView
+				android:id="@+id/distance_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_marginEnd="3dp"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="36sp"
+				tools:text="Value" />
+
+			<TextView
+				android:id="@+id/distance_sub_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_secondary_light"
+				android:textSize="36sp"
+				tools:text="Value" />
+
+		</LinearLayout>
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="36dp"
+			android:layout_gravity="bottom"
+			android:orientation="horizontal">
+
+			<TextView
+				android:id="@+id/map_exit_ref"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:background="@drawable/bg_navigation_widget_exit"
+				android:minWidth="@dimen/map_widget_height"
+				android:paddingHorizontal="8dp"
+				android:textColor="@color/card_and_list_background_light"
+				android:textSize="20sp"
+				android:visibility="gone"
+				tools:text="Exit 8"
+				tools:visibility="visible" />
+
+			<LinearLayout
+				android:id="@+id/map_shields_container"
+				android:layout_width="wrap_content"
+				android:layout_height="match_parent"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:gravity="center"
+				android:orientation="horizontal"
+				tools:visibility="visible" />
+
+			<TextView
+				android:id="@+id/street_text"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical|start"
+				android:gravity="start|center"
+				android:ellipsize="end"
+
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="20sp"
+				tools:text="Value" />
+
+		</LinearLayout>
+
+	</FrameLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/navigation_widget_small.xml b/OsmAnd/res/layout/navigation_widget_small.xml
new file mode 100644
index 00000000000..972a49f3df5
--- /dev/null
+++ b/OsmAnd/res/layout/navigation_widget_small.xml
@@ -0,0 +1,104 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:id="@+id/widget_bg"
+	android:layout_width="match_parent"
+	android:layout_height="@dimen/simple_widget_small_height"
+	android:orientation="vertical"
+	android:paddingStart="9dp"
+	android:paddingTop="6dp"
+	android:paddingEnd="16dp"
+	android:paddingBottom="3dp">
+
+	<LinearLayout
+		android:id="@+id/container"
+		android:layout_width="match_parent"
+		android:layout_height="match_parent"
+		android:orientation="horizontal">
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:orientation="horizontal">
+
+			<androidx.appcompat.widget.AppCompatImageView
+				android:id="@+id/arrow_icon"
+				android:layout_width="36dp"
+				android:layout_height="36dp"
+				android:layout_gravity="center"
+				android:layout_marginEnd="12dp"
+				android:gravity="center"
+				app:srcCompat="@drawable/ic_action_remove_dark" />
+
+			<TextView
+				android:id="@+id/distance_text"
+				android:layout_width="wrap_content"
+				android:layout_height="36dp"
+				android:layout_gravity="center_vertical|start"
+				android:layout_marginEnd="3dp"
+				android:gravity="center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="24sp"
+				tools:text="Value" />
+
+			<TextView
+				android:id="@+id/distance_sub_text"
+				android:layout_width="wrap_content"
+				android:layout_height="36dp"
+				android:layout_gravity="center_vertical|start"
+				android:layout_marginEnd="6dp"
+				android:gravity="center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_secondary_light"
+				android:textSize="24sp"
+				tools:text="Value" />
+
+			<TextView
+				android:id="@+id/map_exit_ref"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:background="@drawable/bg_navigation_widget_exit"
+				android:minWidth="@dimen/map_widget_height"
+				android:paddingHorizontal="8dp"
+				android:paddingVertical="3dp"
+				android:textColor="@color/card_and_list_background_light"
+				android:textSize="24sp"
+				android:visibility="gone"
+				tools:text="Exit 8"
+				tools:visibility="visible" />
+
+			<LinearLayout
+				android:id="@+id/map_shields_container"
+				android:layout_width="wrap_content"
+				android:layout_height="match_parent"
+				android:layout_gravity="center"
+				android:layout_marginEnd="6dp"
+				android:gravity="center"
+				android:orientation="horizontal"
+				android:visibility="gone"
+				tools:visibility="visible" />
+
+			<TextView
+				android:id="@+id/street_text"
+				android:layout_width="wrap_content"
+				android:layout_height="36dp"
+				android:layout_gravity="center_vertical|start"
+				android:ellipsize="end"
+				android:gravity="center"
+				android:includeFontPadding="false"
+				android:maxLines="1"
+				android:textColor="@color/text_color_primary_light"
+				android:textSize="24sp"
+				tools:text="Value" />
+
+		</LinearLayout>
+
+	</LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/resizable_widget_setting.xml b/OsmAnd/res/layout/resizable_widget_setting.xml
new file mode 100644
index 00000000000..e1bc88e42fb
--- /dev/null
+++ b/OsmAnd/res/layout/resizable_widget_setting.xml
@@ -0,0 +1,34 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:orientation="vertical">
+
+	<LinearLayout
+		android:id="@+id/widget_size_container"
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:paddingHorizontal="@dimen/content_padding"
+		android:paddingVertical="@dimen/content_padding_small"
+		android:orientation="vertical">
+
+		<net.osmand.plus.widgets.TextViewEx
+			style="@style/TitleStyle"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:text="@string/shared_string_size"
+			android:textColor="?android:textColorPrimary" />
+
+		<TextView
+			android:id="@+id/widget_size_description"
+			style="@style/DescStyle"
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:textColor="?android:textColorSecondary"
+			tools:text="Small" />
+
+	</LinearLayout>
+
+</LinearLayout>
+
diff --git a/OsmAnd/res/layout/simple_widget_settings.xml b/OsmAnd/res/layout/simple_widget_settings.xml
index 88d8a23f8b0..1a76831ad81 100644
--- a/OsmAnd/res/layout/simple_widget_settings.xml
+++ b/OsmAnd/res/layout/simple_widget_settings.xml
@@ -1,40 +1,9 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-	xmlns:tools="http://schemas.android.com/tools"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
 	android:orientation="vertical">
 
-		<LinearLayout
-			android:id="@+id/widget_size_container"
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:paddingHorizontal="@dimen/content_padding"
-			android:paddingVertical="@dimen/content_padding_small"
-			android:orientation="vertical">
-
-			<net.osmand.plus.widgets.TextViewEx
-				style="@style/TitleStyle"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:text="@string/shared_string_size"
-				android:textColor="?android:textColorPrimary" />
-
-			<TextView
-				android:id="@+id/widget_size_description"
-				style="@style/DescStyle"
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:textColor="?android:textColorSecondary"
-				tools:text="Small" />
-
-		</LinearLayout>
-
-	<View
-		android:layout_width="match_parent"
-		android:layout_height="1dp"
-		android:background="?divider_color_basic" />
-
 	<LinearLayout
 		android:id="@+id/show_icon_container"
 		android:layout_width="match_parent"
@@ -66,5 +35,10 @@
 
 	</LinearLayout>
 
+	<View
+		android:layout_width="match_parent"
+		android:layout_height="1dp"
+		android:background="?divider_color_basic" />
+
 </LinearLayout>
 
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 2d650f7f3a1..eaa5df3c2ac 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,6 +10,8 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
+    <string name="route_guidance_desc">Provides real-time route guidance, including distance to the next turn, road name, current street name, and lane information. Widgets are active during navigation.</string>
+    <string name="route_guidance">Route guidance</string>
     <string name="release_4_9">
         • Added a full-screen gallery viewer for Wikimedia images\n\n
         • Introduced a new plugin \"Vehicle Metrics\" to monitor vehicle performance using the OBD-II protocol\n\n
diff --git a/OsmAnd/src/net/osmand/plus/utils/WidgetUtils.java b/OsmAnd/src/net/osmand/plus/utils/WidgetUtils.java
index bce95badff1..c85477a9515 100644
--- a/OsmAnd/src/net/osmand/plus/utils/WidgetUtils.java
+++ b/OsmAnd/src/net/osmand/plus/utils/WidgetUtils.java
@@ -16,10 +16,10 @@
 import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
 import net.osmand.plus.views.mapwidgets.MapWidgetRegistry;
 import net.osmand.plus.views.mapwidgets.MapWidgetsFactory;
-import net.osmand.plus.views.mapwidgets.SimpleWidgetInfo;
 import net.osmand.plus.views.mapwidgets.WidgetInfoCreator;
 import net.osmand.plus.views.mapwidgets.WidgetType;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportMultiRow;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
 import net.osmand.util.Algorithms;
 
@@ -48,7 +48,7 @@ public static void createNewWidgets(@NonNull MapActivity activity, @NonNull List
 		for (String widgetId : widgetsIds) {
 			MapWidgetInfo widgetInfo = createDuplicateWidget(activity, widgetId, panel, widgetsFactory, appMode);
 			if (widgetInfo != null) {
-				if (addToNext != null && selectedWidget != null && widgetInfo instanceof SimpleWidgetInfo) {
+				if (addToNext != null && selectedWidget != null && widgetInfo.widget instanceof ISupportMultiRow) {
 					addWidgetToSpecificPlace(activity, widgetInfo, panel, appMode, selectedWidget, addToNext);
 				} else {
 					addWidgetToEnd(activity, widgetInfo, panel, appMode);
diff --git a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
index de60e3450e0..379bfa14c7c 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
@@ -22,17 +22,17 @@
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
-import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
 import net.osmand.plus.views.mapwidgets.MapWidgetRegistry;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportMultiRow;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
 import net.osmand.plus.views.mapwidgets.widgets.LanesWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapMarkersBarWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
-import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
 import net.osmand.util.Algorithms;
 
 import java.util.ArrayList;
@@ -232,16 +232,16 @@ public void updateColors(@NonNull TextState textState) {
 
 	private void updateValueAlign(List<MapWidgetInfo> widgetsInRow, int visibleViewsInRowCount) {
 		for (MapWidgetInfo widgetInfo : widgetsInRow) {
-			if (widgetInfo.widget instanceof SimpleWidget) {
-				((SimpleWidget) widgetInfo.widget).updateValueAlign(visibleViewsInRowCount <= 1);
+			if(widgetInfo.widget instanceof ISupportMultiRow supportMultiRow){
+				supportMultiRow.updateValueAlign(visibleViewsInRowCount <= 1);
 			}
 		}
 	}
 
 	private void updateFullRowState(List<MapWidgetInfo> widgetsInRow, int visibleViewsInRowCount) {
 		for (MapWidgetInfo widgetInfo : widgetsInRow) {
-			if (widgetInfo.widget instanceof SimpleWidget) {
-				((SimpleWidget) widgetInfo.widget).updateFullRowState(visibleViewsInRowCount <= 1);
+			if(widgetInfo.widget instanceof ISupportMultiRow supportMultiRow){
+				supportMultiRow.updateFullRowState(visibleViewsInRowCount <= 1);
 			}
 		}
 	}
@@ -390,12 +390,10 @@ public void setupRow(boolean lastRow) {
 		}
 
 		private void setupWidgetSize(@NonNull MapWidgetInfo firstWidgetInfo, @NonNull MapWidgetInfo widgetInfo) {
-			if (firstWidgetInfo.widget instanceof SimpleWidget && widgetInfo.widget instanceof SimpleWidget) {
-				SimpleWidget firstSimpleWidget = (SimpleWidget) firstWidgetInfo.widget;
-				SimpleWidget simpleWidget = (SimpleWidget) widgetInfo.widget;
-				if (firstSimpleWidget.getWidgetSizePref().get() != simpleWidget.getWidgetSizePref().get()) {
-					simpleWidget.getWidgetSizePref().set(firstSimpleWidget.getWidgetSizePref().get());
-					simpleWidget.recreateView();
+			if (firstWidgetInfo.widget instanceof ISupportWidgetResizing firstResizableWidget && widgetInfo.widget instanceof ISupportWidgetResizing secondResizableWidget) {
+				if (firstResizableWidget.getWidgetSizePref().get() != secondResizableWidget.getWidgetSizePref().get()) {
+					secondResizableWidget.getWidgetSizePref().set(firstResizableWidget.getWidgetSizePref().get());
+					secondResizableWidget.recreateView();
 				}
 			}
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/controls/WidgetsPagerAdapter.java b/OsmAnd/src/net/osmand/plus/views/controls/WidgetsPagerAdapter.java
index 1d87eed7661..aa029b4f9bf 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/WidgetsPagerAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/WidgetsPagerAdapter.java
@@ -18,6 +18,7 @@
 import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
 import net.osmand.plus.views.mapwidgets.MapWidgetRegistry;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
 import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
 import net.osmand.util.Algorithms;
 
@@ -110,38 +111,38 @@ public VisiblePages collectVisiblePages() {
 	public void collectVisibleViews(@NonNull Map<Integer, List<View>> visibleViews,
 	                                @NonNull Set<MapWidgetInfo> widgets,
 	                                @NonNull ApplicationMode appMode) {
-		Map<Integer, List<TextInfoWidget>> textInfoWidgets = new TreeMap<>();
+		Map<Integer, List<MapWidget>> textInfoWidgets = new TreeMap<>();
 		for (MapWidgetInfo widgetInfo : widgets) {
 			if (widgetInfo.isEnabledForAppMode(appMode)) {
-				TextInfoWidget widget = (TextInfoWidget) widgetInfo.widget;
+				MapWidget widget = widgetInfo.widget;
 				addWidgetViewToPage(textInfoWidgets, widgetInfo.pageIndex, widget);
 			}
 		}
 
-		for (Map.Entry<Integer, List<TextInfoWidget>> entry : textInfoWidgets.entrySet()) {
+		for (Map.Entry<Integer, List<MapWidget>> entry : textInfoWidgets.entrySet()) {
 			List<View> widgetsViews = new ArrayList<>();
-			for (TextInfoWidget widget : entry.getValue()) {
+			for (MapWidget widget : entry.getValue()) {
 				if (widget.isViewVisible()) {
 					widgetsViews.add(widget.getView());
 				}
-				widget.updateBannerVisibility(false);
+				if (widget instanceof TextInfoWidget infoWidget) {
+					infoWidget.updateBannerVisibility(false);
+				}
 			}
 			if (Algorithms.isEmpty(widgetsViews)) {
-				TextInfoWidget widget = entry.getValue().get(0);
+				MapWidget widget = entry.getValue().get(0);
 				widgetsViews.add(widget.getView());
-				widget.updateBannerVisibility(textInfoWidgets.size() > 1);
+				if (widget instanceof TextInfoWidget infoWidget) {
+					infoWidget.updateBannerVisibility(textInfoWidgets.size() > 1);
+				}
 			}
 			visibleViews.put(entry.getKey(), widgetsViews);
 		}
 	}
 
-	private void addWidgetViewToPage(@NonNull Map<Integer, List<TextInfoWidget>> textInfoWidgets,
-	                                 int pageIndex, @NonNull TextInfoWidget widget) {
-		List<TextInfoWidget> widgetsViews = textInfoWidgets.get(pageIndex);
-		if (widgetsViews == null) {
-			widgetsViews = new ArrayList<>();
-			textInfoWidgets.put(pageIndex, widgetsViews);
-		}
+	private void addWidgetViewToPage(@NonNull Map<Integer, List<MapWidget>> textInfoWidgets,
+	                                 int pageIndex, @NonNull MapWidget widget) {
+		List<MapWidget> widgetsViews = textInfoWidgets.computeIfAbsent(pageIndex, k -> new ArrayList<>());
 		widgetsViews.add(widget);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/ComplexWidgetInfo.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/ComplexWidgetInfo.java
new file mode 100644
index 00000000000..a582a3de617
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/ComplexWidgetInfo.java
@@ -0,0 +1,65 @@
+package net.osmand.plus.views.mapwidgets;
+
+import androidx.annotation.DrawableRes;
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.annotation.StringRes;
+
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.IComplexWidget;
+import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
+import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
+import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
+
+public class ComplexWidgetInfo extends MapWidgetInfo {
+
+	private String externalProviderPackage;
+
+	public ComplexWidgetInfo(@NonNull String key,
+	                         @NonNull MapWidget widget,
+	                         @DrawableRes int daySettingsIconId,
+	                         @DrawableRes int nightSettingsIconId,
+	                         @StringRes int messageId,
+	                         @Nullable String message,
+	                         int page,
+	                         int order,
+	                         @NonNull WidgetsPanel widgetPanel) {
+		super(key, widget, daySettingsIconId, nightSettingsIconId, messageId, message, page, order, widgetPanel);
+		if (widget instanceof TextInfoWidget infoWidget && !widgetPanel.isPanelVertical()) {
+			if (getMessage() != null) {
+				infoWidget.setContentTitle(getMessage());
+			} else if (getMessageId() != MapWidgetInfo.INVALID_ID) {
+				infoWidget.setContentTitle(getMessageId());
+			}
+		}
+	}
+
+	@Override
+	public void setWidgetPanel(@NonNull WidgetsPanel widgetPanel) {
+		this.widgetPanel = widgetPanel;
+		IComplexWidget complexWidget = (IComplexWidget) widget;
+		complexWidget.recreateViewIfNeeded(widgetPanel);
+	}
+
+	@NonNull
+	@Override
+	public WidgetsPanel getUpdatedPanel() {
+		OsmandSettings settings = widget.getMyApplication().getSettings();
+		WidgetType widgetType = getWidgetType();
+		if (widgetType != null) {
+			return widgetType.getPanel(key, settings);
+		} else {
+			WidgetType.findWidgetPanel(key, settings, null);
+		}
+		return widgetPanel;
+	}
+
+	public void setExternalProviderPackage(@NonNull String externalProviderPackage) {
+		this.externalProviderPackage = externalProviderPackage;
+	}
+
+	@Nullable
+	public String getExternalProviderPackage() {
+		return externalProviderPackage;
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
index 8aa9b1319ec..00b4a13ef56 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
@@ -12,6 +12,9 @@
 import net.osmand.plus.settings.backend.WidgetsAvailabilityHelper;
 import net.osmand.plus.views.layers.MapInfoLayer;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.IComplexWidget;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportSidePanel;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportVerticalPanel;
 import net.osmand.plus.views.mapwidgets.widgets.CoordinatesBaseWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapMarkersBarWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
@@ -22,7 +25,6 @@
 import net.osmand.util.CollectionUtils;
 
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.Collections;
 import java.util.HashMap;
 import java.util.HashSet;
@@ -259,11 +261,14 @@ public Set<MapWidgetInfo> getWidgetsForPanel(@NonNull MapActivity mapActivity,
 	                                             int filterModes,
 	                                             @NonNull List<WidgetsPanel> panels) {
 		List<Class<?>> includedWidgetTypes = new ArrayList<>();
+		boolean sidePanel = false, verticalPanel = false;
 		if (panels.contains(WidgetsPanel.LEFT) || panels.contains(WidgetsPanel.RIGHT)) {
+			sidePanel = true;
 			includedWidgetTypes.add(SideWidgetInfo.class);
 			includedWidgetTypes.add(SimpleWidgetInfo.class);
 		}
 		if (panels.contains(WidgetsPanel.TOP) || panels.contains(WidgetsPanel.BOTTOM)) {
+			verticalPanel = true;
 			includedWidgetTypes.add(CenterWidgetInfo.class);
 			includedWidgetTypes.add(SimpleWidgetInfo.class);
 		}
@@ -275,7 +280,13 @@ public Set<MapWidgetInfo> getWidgetsForPanel(@NonNull MapActivity mapActivity,
 		}
 		Set<MapWidgetInfo> filteredWidgets = new TreeSet<>();
 		for (MapWidgetInfo widget : widgetInfos) {
-			if (includedWidgetTypes.contains(widget.getClass())) {
+			boolean panelSupported = false;
+			if(sidePanel){
+				panelSupported = widget.widget instanceof ISupportSidePanel;
+			} else if(verticalPanel){
+				panelSupported = widget.widget instanceof ISupportVerticalPanel;
+			}
+			if (panelSupported || includedWidgetTypes.contains(widget.getClass())) {
 				boolean disabledMode = (filterModes & DISABLED_MODE) == DISABLED_MODE;
 				boolean enabledMode = (filterModes & ENABLED_MODE) == ENABLED_MODE;
 				boolean availableMode = (filterModes & AVAILABLE_MODE) == AVAILABLE_MODE;
@@ -288,8 +299,9 @@ public Set<MapWidgetInfo> getWidgetsForPanel(@NonNull MapActivity mapActivity,
 				boolean defaultAvailable = !defaultMode || !widget.isCustomWidget();
 				boolean passMatchedPanels = !matchingPanelsMode || panels.contains(widget.getWidgetPanel());
 				boolean passTypeAllowed = widget.getWidgetType() == null || widget.getWidgetType().isAllowed();
+				boolean passPanelAllowed = widget.getWidgetType() == null || widget.getWidgetType().isPanelsAllowed(panels);
 
-				if (passDisabled && passEnabled && passAvailable && defaultAvailable && passMatchedPanels && passTypeAllowed) {
+				if (passDisabled && passEnabled && passAvailable && defaultAvailable && passMatchedPanels && passTypeAllowed && passPanelAllowed) {
 					filteredWidgets.add(widget);
 				}
 			}
@@ -319,7 +331,7 @@ public int getStatusBarColor(@NonNull ApplicationMode appMode, boolean nightMode
 				return nightMode ? R.color.status_bar_main_dark : R.color.status_bar_main_light;
 			} else if (widget instanceof MapMarkersBarWidget) {
 				return R.color.status_bar_main_dark;
-			} else if (widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget) {
+			} else if (widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget || widget instanceof IComplexWidget) {
 				return nightMode ? R.color.status_bar_secondary_dark : R.color.status_bar_secondary_light;
 			} else {
 				return -1;
@@ -336,7 +348,7 @@ public boolean getStatusBarContentNightMode(@NonNull ApplicationMode appMode, bo
 			if (!widget.isViewVisible() || !widgetInfo.isEnabledForAppMode(appMode)) {
 				continue;
 			}
-			if (widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget) {
+			if (widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget || widget instanceof IComplexWidget) {
 				return nightMode;
 			} else {
 				return true;
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetsFactory.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetsFactory.java
index 6f297da087d..74addd00b82 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetsFactory.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetsFactory.java
@@ -58,11 +58,11 @@ public MapWidget createMapWidget(@NonNull WidgetType widgetType) {
 	public MapWidget createMapWidget(@Nullable String customId, @NonNull WidgetType widgetType, @Nullable WidgetsPanel panel) {
 		switch (widgetType) {
 			case NEXT_TURN:
-				return new NextTurnWidget(mapActivity, false);
+				return new NextTurnWidget(mapActivity, customId, false, panel);
 			case SMALL_NEXT_TURN:
-				return new NextTurnWidget(mapActivity, true);
+				return new NextTurnWidget(mapActivity, customId, true , panel);
 			case SECOND_NEXT_TURN:
-				return new SecondNextTurnWidget(mapActivity);
+				return new SecondNextTurnWidget(mapActivity, customId, panel);
 			case COORDINATES_CURRENT_LOCATION:
 				return new CoordinatesCurrentLocationWidget(mapActivity);
 			case COORDINATES_MAP_CENTER:
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetGroup.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetGroup.java
index 7583e71b1a7..9eee59642df 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetGroup.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetGroup.java
@@ -34,7 +34,8 @@ public enum WidgetGroup {
 	VEHICLE_METRICS(R.string.obd_widget_group, 0, R.drawable.widget_sensor_external_day, R.drawable.widget_sensor_external_night, 0),
 	WEATHER(R.string.shared_string_weather, R.string.weather_widget_group_desc, R.drawable.widget_weather_umbrella_day, R.drawable.widget_weather_umbrella_night, 0),
 	SUNRISE_SUNSET(R.string.map_widget_sun_position, R.string.map_widget_group_sunrise_sunset_desc, R.drawable.widget_sunset_day, R.drawable.widget_sunset_night, 0),
-	GLIDE(R.string.map_widget_group_glide_ratio, R.string.map_widget_group_glide_desc, R.drawable.widget_glide_ratio_to_target_day, R.drawable.widget_glide_ratio_to_target_night, 0);
+	GLIDE(R.string.map_widget_group_glide_ratio, R.string.map_widget_group_glide_desc, R.drawable.widget_glide_ratio_to_target_day, R.drawable.widget_glide_ratio_to_target_night, 0),
+	ROUTE_GUIDANCE(R.string.route_guidance, R.string.route_guidance_desc, R.drawable.widget_lanes_day, R.drawable.widget_lanes_night, R.string.docs_widget_route_maneuvers);
 
 	@StringRes
 	public final int titleId;
@@ -63,7 +64,7 @@ public enum WidgetGroup {
 	public List<WidgetType> getWidgets() {
 		List<WidgetType> widgets = new ArrayList<>();
 		for (WidgetType widget : WidgetType.values()) {
-			if (this == widget.getGroup()) {
+			if (this == widget.getGroup() || this == widget.getVerticalGroup()) {
 				widgets.add(widget);
 			}
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetInfoCreator.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetInfoCreator.java
index 542fc3f1388..5c68857da7a 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetInfoCreator.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetInfoCreator.java
@@ -8,6 +8,7 @@
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.IComplexWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
 import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
 import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
@@ -117,14 +118,16 @@ public MapWidgetInfo createWidgetInfo(@NonNull String key,
 	                                      @Nullable String message,
 	                                      int page,
 	                                      int order,
-										  @NonNull WidgetsPanel widgetPanel) {
-		if (widget instanceof SimpleWidget) {
-			SimpleWidget simpleWidget = ((SimpleWidget) widget);
+	                                      @NonNull WidgetsPanel widgetPanel) {
+		if (widget instanceof IComplexWidget) {
+			return new ComplexWidgetInfo(key, widget, daySettingsIconId, nightSettingIconId,
+					messageId, message, page, order, widgetPanel);
+		}
+		if (widget instanceof SimpleWidget simpleWidget) {
 			return new SimpleWidgetInfo(key, simpleWidget, daySettingsIconId, nightSettingIconId,
 					messageId, message, page, order, widgetPanel);
 		}
-		if (widget instanceof TextInfoWidget) {
-			TextInfoWidget textInfoWidget = ((TextInfoWidget) widget);
+		if (widget instanceof TextInfoWidget textInfoWidget) {
 			return new SideWidgetInfo(key, textInfoWidget, daySettingsIconId, nightSettingIconId,
 					messageId, message, page, order, widgetPanel);
 		} else {
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
index f6ad520fca1..fd627648a11 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetType.java
@@ -32,6 +32,7 @@
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.views.mapwidgets.configure.settings.AverageGlideWidgetSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.AverageSpeedWidgetSettingFragment;
+import net.osmand.plus.views.mapwidgets.configure.settings.BaseResizableWidgetSettingFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.BaseSimpleWidgetSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.ElevationProfileWidgetSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.MapMarkerSideWidgetSettingsFragment;
@@ -42,6 +43,7 @@
 import net.osmand.plus.views.mapwidgets.configure.settings.TimeToNavigationPointSettingsFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment;
 import net.osmand.plus.views.mapwidgets.configure.settings.ZoomLevelSettingsFragment;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
 import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
 import net.osmand.util.CollectionUtils;
 
@@ -52,16 +54,16 @@
 public enum WidgetType {
 
 	// Left Panel
-	NEXT_TURN("next_turn", R.string.map_widget_next_turn, R.string.next_turn_widget_desc, R.drawable.widget_next_turn_day, R.drawable.widget_next_turn_night, 0, WidgetGroup.ROUTE_MANEUVERS, LEFT),
+	NEXT_TURN("next_turn", R.string.map_widget_next_turn, R.string.next_turn_widget_desc, R.drawable.widget_next_turn_day, R.drawable.widget_next_turn_night, 0, WidgetGroup.ROUTE_MANEUVERS, WidgetGroup.ROUTE_GUIDANCE, LEFT),
 	SMALL_NEXT_TURN("next_turn_small", R.string.map_widget_next_turn_small, R.string.next_turn_widget_desc, R.drawable.widget_next_turn_small_day, R.drawable.widget_next_turn_small_night, 0, WidgetGroup.ROUTE_MANEUVERS, LEFT),
-	SECOND_NEXT_TURN("next_next_turn", R.string.map_widget_next_next_turn, R.string.second_next_turn_widget_desc, R.drawable.widget_second_next_turn_day, R.drawable.widget_second_next_turn_night, 0, WidgetGroup.ROUTE_MANEUVERS, LEFT),
+	SECOND_NEXT_TURN("next_next_turn", R.string.map_widget_next_next_turn, R.string.second_next_turn_widget_desc, R.drawable.widget_second_next_turn_day, R.drawable.widget_second_next_turn_night, 0, WidgetGroup.ROUTE_MANEUVERS, WidgetGroup.ROUTE_GUIDANCE, LEFT),
 
 	// Top panel
 	COORDINATES_MAP_CENTER("coordinates_map_center", R.string.coordinates_widget_map_center, R.string.coordinates_widget_map_center_desc, R.drawable.widget_coordinates_map_center_day, R.drawable.widget_coordinates_map_center_night, R.string.docs_widget_coordinates, WidgetGroup.COORDINATES_WIDGET, TOP),
 	COORDINATES_CURRENT_LOCATION("coordinates_current_location", R.string.coordinates_widget_current_location, R.string.coordinates_widget_current_location_desc, R.drawable.widget_coordinates_location_day, R.drawable.widget_coordinates_location_night, R.string.docs_widget_coordinates, WidgetGroup.COORDINATES_WIDGET, TOP),
 	STREET_NAME("street_name", R.string.street_name, R.string.street_name_widget_desc, R.drawable.widget_street_name_day, R.drawable.widget_street_name_night, R.string.docs_widget_street_name, null, TOP),
 	MARKERS_TOP_BAR("map_markers_top", R.string.map_markers_bar, R.string.map_markers_bar_widget_desc, R.drawable.widget_markers_topbar_day, R.drawable.widget_markers_topbar_night, R.string.docs_widget_markers, null, TOP),
-	LANES("lanes", R.string.show_lanes, R.string.lanes_widgets_desc, R.drawable.widget_lanes_day, R.drawable.widget_lanes_night, R.string.docs_widget_lanes, null, TOP),
+	LANES("lanes", R.string.show_lanes, R.string.lanes_widgets_desc, R.drawable.widget_lanes_day, R.drawable.widget_lanes_night, R.string.docs_widget_lanes, null, WidgetGroup.ROUTE_GUIDANCE, TOP),
 
 	// Right panel
 	DISTANCE_TO_DESTINATION("distance", R.string.map_widget_distance_to_destination, R.string.distance_to_destination_widget_desc, R.drawable.widget_target_day, R.drawable.widget_target_night, 0, WidgetGroup.NAVIGATION_POINTS, RIGHT),
@@ -169,6 +171,8 @@ public enum WidgetType {
 	public final int docsUrlId;
 	@Nullable
 	private final WidgetGroup group;
+	@Nullable
+	private final WidgetGroup verticalGroup;
 	@NonNull
 	public final WidgetsPanel defaultPanel;
 
@@ -180,6 +184,18 @@ public enum WidgetType {
 			   @StringRes int docsUrlId,
 			   @Nullable WidgetGroup group,
 			   @NonNull WidgetsPanel defaultPanel) {
+		this(id, titleId, descId, dayIconId, nightIconId, docsUrlId, group, null, defaultPanel);
+	}
+
+	WidgetType(@NonNull String id,
+	           @StringRes int titleId,
+	           @StringRes int descId,
+	           @DrawableRes int dayIconId,
+	           @DrawableRes int nightIconId,
+	           @StringRes int docsUrlId,
+	           @Nullable WidgetGroup group,
+	           @Nullable WidgetGroup verticalGroup,
+	           @NonNull WidgetsPanel defaultPanel) {
 		this.id = id;
 		this.titleId = titleId;
 		this.descId = descId;
@@ -187,6 +203,7 @@ public enum WidgetType {
 		this.nightIconId = nightIconId;
 		this.docsUrlId = docsUrlId;
 		this.group = group;
+		this.verticalGroup = verticalGroup;
 		this.defaultPanel = defaultPanel;
 	}
 
@@ -202,6 +219,19 @@ public WidgetGroup getGroup() {
 		return group;
 	}
 
+	@Nullable
+	public WidgetGroup getGroup(@NonNull WidgetsPanel panel) {
+		if(panel.isPanelVertical() && verticalGroup != null){
+			return verticalGroup;
+		}
+		return getGroup();
+	}
+
+	@Nullable
+	public WidgetGroup getVerticalGroup() {
+		return verticalGroup;
+	}
+
 	public boolean isAllowed() {
 		if (this == ALTITUDE_MAP_CENTER) {
 			SRTMPlugin plugin = PluginsHelper.getActivePlugin(SRTMPlugin.class);
@@ -210,6 +240,13 @@ public boolean isAllowed() {
 		return true;
 	}
 
+	public boolean isPanelsAllowed(@NonNull List<WidgetsPanel> panels) {
+		if (this == SMALL_NEXT_TURN) {
+			return !panels.contains(TOP) && !panels.contains(BOTTOM);
+		}
+		return true;
+	}
+
 	@StringRes
 	public int getGroupDescriptionId() {
 		if (this == MAGNETIC_BEARING) {
@@ -349,6 +386,12 @@ public WidgetSettingsBaseFragment getSettingsFragment(@NonNull Context ctx, @Nul
 				settingsFragment.setWidgetType(this);
 				return settingsFragment;
 			}
+		} else if (widgetInfo != null && widgetInfo.widget instanceof ISupportWidgetResizing) {
+			if (widgetInfo.widgetPanel.isPanelVertical()) {
+				BaseResizableWidgetSettingFragment settingFragment = new BaseResizableWidgetSettingFragment();
+				settingFragment.setWidgetType(this);
+				return settingFragment;
+			}
 		}
 		return null;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetsContextMenu.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetsContextMenu.java
new file mode 100644
index 00000000000..b350b536157
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/WidgetsContextMenu.java
@@ -0,0 +1,111 @@
+package net.osmand.plus.views.mapwidgets;
+
+import static net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment.KEY_APP_MODE;
+import static net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment.KEY_WIDGET_ID;
+
+import android.os.Bundle;
+import android.view.View;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.app.AlertDialog;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.views.mapwidgets.configure.panel.ConfigureWidgetsFragment;
+import net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportMultiRow;
+import net.osmand.plus.widgets.popup.PopUpMenu;
+import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
+import net.osmand.plus.widgets.popup.PopUpMenuItem;
+import net.osmand.plus.widgets.popup.PopUpMenuWidthMode;
+import net.osmand.util.Algorithms;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class WidgetsContextMenu {
+
+	static public void showMenu(@NonNull View view, @NonNull MapActivity mapActivity, @NonNull WidgetType widgetType,
+	                            @Nullable String customId, @Nullable List<PopUpMenuItem> widgetActions,
+	                            boolean verticalWidget, boolean nightMode) {
+		OsmandApplication app = mapActivity.getMyApplication();
+		OsmandSettings settings = app.getSettings();
+		List<PopUpMenuItem> items = new ArrayList<>();
+		MapWidgetRegistry widgetRegistry = app.getOsmandMap().getMapLayers().getMapWidgetRegistry();
+		String widgetId = customId != null ? customId : widgetType.id;
+		MapWidgetInfo widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
+		ApplicationMode appMode = settings.getApplicationMode();
+
+		if (widgetInfo != null) {
+			UiUtilities uiUtilities = app.getUIUtilities();
+			int iconColor = ColorUtilities.getDefaultIconColor(app, nightMode);
+
+			if (widgetInfo.widget instanceof ISupportMultiRow) {
+				items.add(new PopUpMenuItem.Builder(app)
+						.setTitleId(verticalWidget ? R.string.add_widget_to_the_left : R.string.add_widget_above)
+						.setIcon(uiUtilities.getPaintedIcon(verticalWidget ? R.drawable.ic_action_add_item_left : R.drawable.ic_action_add_item_above, iconColor))
+						.setOnClickListener(item -> ConfigureWidgetsFragment.showInstance(mapActivity, widgetInfo.getWidgetPanel(), appMode, widgetId, false))
+						.create());
+
+				items.add(new PopUpMenuItem.Builder(app)
+						.setIcon(uiUtilities.getPaintedIcon(verticalWidget ? R.drawable.ic_action_add_item_right : R.drawable.ic_action_add_item_below, iconColor))
+						.setTitleId(verticalWidget ? R.string.add_widget_to_the_right : R.string.add_widget_below)
+						.setOnClickListener(item -> ConfigureWidgetsFragment.showInstance(mapActivity, widgetInfo.getWidgetPanel(), appMode, widgetId, true))
+						.create());
+			}
+
+			if (!Algorithms.isEmpty(widgetActions)) {
+				items.addAll(widgetActions);
+			}
+
+			WidgetSettingsBaseFragment fragment = widgetType.getSettingsFragment(app, widgetInfo);
+			if (fragment != null) {
+				items.add(new PopUpMenuItem.Builder(app)
+						.setTitleId(R.string.shared_string_settings)
+						.setOnClickListener(item -> {
+							Bundle args = new Bundle();
+							args.putString(KEY_WIDGET_ID, widgetInfo.key);
+							args.putString(KEY_APP_MODE, appMode.getStringKey());
+							FragmentManager manager = mapActivity.getSupportFragmentManager();
+							WidgetSettingsBaseFragment.showFragment(manager, args, null, fragment);
+						})
+						.setIcon(uiUtilities.getPaintedIcon(R.drawable.ic_action_settings_outlined, iconColor))
+						.showTopDivider(Algorithms.isEmpty(widgetActions))
+						.create());
+			}
+
+			items.add(new PopUpMenuItem.Builder(app)
+					.setTitleId(R.string.shared_string_delete)
+					.setOnClickListener(item -> {
+						AlertDialog.Builder builder = new AlertDialog.Builder(UiUtilities.getThemedContext(mapActivity, nightMode));
+						builder.setTitle(app.getString(R.string.delete_widget));
+						builder.setMessage(R.string.delete_widget_description);
+						builder.setNegativeButton(R.string.shared_string_cancel, null)
+								.setPositiveButton(R.string.shared_string_delete, (dialog, which) -> {
+									widgetRegistry.enableDisableWidgetForMode(appMode, widgetInfo, false, true);
+								});
+						builder.show();
+					})
+					.setIcon(uiUtilities.getPaintedIcon(R.drawable.ic_action_delete_outlined, iconColor))
+					.showTopDivider(true)
+					.create());
+
+			PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
+			displayData.anchorView = view;
+			displayData.menuItems = items;
+			displayData.nightMode = nightMode;
+			displayData.widthMode = PopUpMenuWidthMode.STANDARD;
+			displayData.showCompound = false;
+			displayData.customDropDown = false;
+			displayData.layoutId = R.layout.popup_menu_item_full_divider;
+			PopUpMenu.show(displayData);
+		}
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
index baaab9b67b1..e45e1e799a3 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/WidgetInfoFragment.java
@@ -114,7 +114,7 @@ private void initFromBundle(@NonNull Bundle bundle) {
 			throw new IllegalStateException("Failed to find widget by id: " + widgetId);
 		}
 		widgetType = widgetInfo.getWidgetType();
-		widgetGroup = widgetType == null ? null : widgetType.getGroup();
+		widgetGroup = widgetType == null ? null : widgetType.getGroup(panel);
 		panel = widgetInfo.getWidgetPanel();
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
index 70b51b8730e..ca6b90c08c6 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/WidgetsListFragment.java
@@ -273,7 +273,7 @@ private void inflateWidgetItemsViews(@NonNull Set<MapWidgetInfo> widgetsInfo, @N
 			title.setText(widgetInfo.getTitle(app));
 
 			WidgetType widgetType = widgetInfo.getWidgetType();
-			WidgetGroup widgetGroup = widgetType == null ? null : widgetType.getGroup();
+			WidgetGroup widgetGroup = widgetType == null ? null : widgetType.getGroup(selectedPanel);
 			if (widgetGroup != null) {
 				TextView description = view.findViewById(R.id.description);
 				description.setText(widgetGroup.titleId);
@@ -371,9 +371,8 @@ public static void sortWidgetsItems(List<?> widgets, @NonNull OsmandApplication
 
 	@Nullable
 	public static String getListItemName(Object item, @NonNull OsmandApplication app, boolean nightMode) {
-		if (item instanceof WidgetType) {
-			WidgetType widgetType = (WidgetType) item;
-			WidgetGroup widgetGroup = widgetType.getGroup();
+		if (item instanceof WidgetType widgetType) {
+			WidgetGroup widgetGroup = widgetType.getGroup(widgetType.getPanel(app.getSettings()));
 			return widgetGroup != null
 					? String.valueOf(AvailableItemViewHolder.getGroupTitle(widgetGroup, app, nightMode))
 					: app.getString(widgetType.titleId);
@@ -396,7 +395,7 @@ private List<WidgetType> excludeGroupsDuplicated(List<WidgetType> widgets) {
 		List<WidgetType> individualWidgets = new ArrayList<>();
 		List<WidgetType> result = new ArrayList<>();
 		for (WidgetType widget : widgets) {
-			WidgetGroup group = widget.getGroup();
+			WidgetGroup group = widget.getGroup(selectedPanel);
 			if (group != null && !visitedGroups.contains(group)) {
 				visitedGroups.add(group);
 				result.add(widget);
@@ -412,7 +411,7 @@ private void inflateAvailableDefaultWidgets(@NonNull List<WidgetType> widgets, b
 		LayoutInflater inflater = UiUtilities.getInflater(getContext(), nightMode);
 		for (int i = 0; i < widgets.size(); i++) {
 			WidgetType widgetType = widgets.get(i);
-			WidgetGroup widgetGroup = widgetType.getGroup();
+			WidgetGroup widgetGroup = widgetType.getGroup(selectedPanel);
 
 			View view = inflater.inflate(R.layout.configure_screen_widget_item, availableWidgetsContainer, false);
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
index 5bf4b3c7a66..45588c297f8 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
@@ -337,7 +337,7 @@ private List<ListItem> createAvailableWidgetsList(@NonNull ApplicationMode appMo
 			WidgetType widgetType = WidgetType.getById(widgetInfo.key);
 			boolean defaultWidget = widgetType != null;
 			if (defaultWidget) {
-				WidgetGroup group = widgetType.getGroup();
+				WidgetGroup group = widgetType.getGroup(selectedPanel);
 				if (group != null && !availableGroups.contains(group)) {
 					availableGroups.add(group);
 					defaultWidgetsItems.put(group.getOrder(), new ListItem(ItemType.AVAILABLE_GROUP, group));
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java
new file mode 100644
index 00000000000..8740308e3c8
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseResizableWidgetSettingFragment.java
@@ -0,0 +1,138 @@
+package net.osmand.plus.views.mapwidgets.configure.settings;
+
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.AVAILABLE_MODE;
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.ENABLED_MODE;
+import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.MATCHING_PANELS_MODE;
+
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.widget.SwitchCompat;
+
+import net.osmand.plus.R;
+import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.settings.backend.preferences.CommonPreference;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.settings.enums.WidgetSize;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
+import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
+import net.osmand.plus.widgets.alert.AlertDialogData;
+import net.osmand.plus.widgets.alert.CustomAlert;
+
+import java.util.List;
+import java.util.Set;
+
+public class BaseResizableWidgetSettingFragment extends WidgetSettingsBaseFragment {
+	private static final String SELECTED_WIDGET_SIZE_ID_KEY = "selected_widget_id_size";
+	protected static final String WIDGET_TYPE_KEY = "widget_type_key";
+
+	public OsmandPreference<WidgetSize> widgetSizePref;
+	private WidgetType widgetType;
+	@Nullable
+	private MapWidgetInfo widgetInfo;
+
+	private WidgetSize selectedWidgetSize;
+
+	public void setWidgetType(WidgetType widgetType) {
+		this.widgetType = widgetType;
+	}
+
+	@Override
+	protected void initParams(@NonNull Bundle bundle) {
+		super.initParams(bundle);
+		widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
+		if (widgetInfo != null && widgetInfo.widget instanceof ISupportWidgetResizing resizableWidget) {
+			widgetSizePref = resizableWidget.getWidgetSizePref();
+			selectedWidgetSize = bundle.containsKey(SELECTED_WIDGET_SIZE_ID_KEY) ? WidgetSize.values()[bundle.getInt(SELECTED_WIDGET_SIZE_ID_KEY)] : widgetSizePref.get();
+		}
+		String type = bundle.getString(WIDGET_TYPE_KEY);
+		if (widgetType == null && type != null) {
+			widgetType = WidgetType.getById(type);
+		}
+	}
+
+	@Override
+	public void onSaveInstanceState(@NonNull Bundle outState) {
+		super.onSaveInstanceState(outState);
+		outState.putInt(SELECTED_WIDGET_SIZE_ID_KEY, selectedWidgetSize.ordinal());
+		outState.putString(WIDGET_TYPE_KEY, getWidget().name());
+	}
+
+	@NonNull
+	@Override
+	public WidgetType getWidget() {
+		return widgetType;
+	}
+
+	@Override
+	protected void setupContent(@NonNull LayoutInflater themedInflater, @NonNull ViewGroup container) {
+		themedInflater.inflate(R.layout.resizable_widget_setting, container);
+
+		View widgetSizeContainer = container.findViewById(R.id.widget_size_container);
+		widgetSizeContainer.setOnClickListener(v -> showPreferenceDialog(container));
+		widgetSizeContainer.setBackground(getPressedStateDrawable());
+		TextView widgetSizeDescription = container.findViewById(R.id.widget_size_description);
+		widgetSizeDescription.setText(selectedWidgetSize.titleId);
+	}
+
+	private void showPreferenceDialog(ViewGroup container) {
+		int selected = selectedWidgetSize.ordinal();
+		String[] items = new String[WidgetSize.values().length];
+		for (int i = 0; i < items.length; i++) {
+			items[i] = app.getString(WidgetSize.values()[i].getTitleId());
+		}
+
+		AlertDialogData dialogData = new AlertDialogData(requireContext(), nightMode)
+				.setTitle(R.string.shared_string_size)
+				.setControlsColor(ColorUtilities.getAppModeColor(app, nightMode));
+
+		CustomAlert.showSingleSelection(dialogData, items, selected, v -> {
+			int which = (int) v.getTag();
+			selectedWidgetSize = WidgetSize.values()[which];
+			((TextView) container.findViewById(R.id.widget_size_description)).setText(selectedWidgetSize.getTitleId());
+		});
+	}
+
+	@Override
+	protected void applySettings() {
+		if (widgetInfo != null) {
+			updateRowWidgets(widgetInfo);
+		}
+
+		widgetSizePref.set(selectedWidgetSize);
+		if (widgetInfo != null) {
+			if (widgetInfo.widget instanceof ISupportWidgetResizing widgetResizing) {
+				widgetResizing.recreateView();
+			}
+		}
+		app.getOsmandMap().getMapLayers().getMapInfoLayer().recreateControls();
+	}
+
+	private void updateRowWidgets(@NonNull MapWidgetInfo widgetInfo) {
+		MapActivity activity = getMapActivity();
+		if (activity != null) {
+			List<Set<MapWidgetInfo>> widgets = widgetRegistry.getPagedWidgetsForPanel(activity,
+					appMode, widgetInfo.getWidgetPanel(), AVAILABLE_MODE | ENABLED_MODE | MATCHING_PANELS_MODE);
+
+			Set<MapWidgetInfo> rowMapWidgetsInfo = widgets.get(widgetInfo.pageIndex);
+			rowMapWidgetsInfo.remove(widgetInfo);
+			applySizeSettingToWidgetsInRow(rowMapWidgetsInfo);
+		}
+	}
+
+	private void applySizeSettingToWidgetsInRow(@NonNull Set<MapWidgetInfo> mapWidgetInfo) {
+		for (MapWidgetInfo info : mapWidgetInfo) {
+			if (info.widget instanceof ISupportWidgetResizing widgetResizing) {
+				widgetResizing.getWidgetSizePref().set(selectedWidgetSize);
+				widgetResizing.recreateView();
+			}
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
index c37416c18e2..ef2251c6b64 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/BaseSimpleWidgetSettingsFragment.java
@@ -22,6 +22,7 @@
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
 import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
 import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
 import net.osmand.plus.widgets.alert.AlertDialogData;
 import net.osmand.plus.widgets.alert.CustomAlert;
@@ -29,20 +30,16 @@
 import java.util.List;
 import java.util.Set;
 
-public class BaseSimpleWidgetSettingsFragment extends WidgetSettingsBaseFragment {
-	private static final String SELECTED_WIDGET_SIZE_ID_KEY = "selected_widget_id_size";
+public class BaseSimpleWidgetSettingsFragment extends BaseResizableWidgetSettingFragment {
 	private static final String SHOW_ICON_KEY = "show_icon_key";
-	private static final String WIDGET_TYPE_KEY = "widget_type_key";
 	private boolean isWidgetVertical = false;
 
 	public CommonPreference<Boolean> shouldShowIconPref;
-	public OsmandPreference<WidgetSize> widgetSizePref;
 	private WidgetType widgetType;
 	@Nullable
 	private MapWidgetInfo widgetInfo;
 
 	private boolean showIcon;
-	private WidgetSize selectedWidgetSize;
 
 	public void setWidgetType(WidgetType widgetType) {
 		this.widgetType = widgetType;
@@ -56,8 +53,6 @@ protected void initParams(@NonNull Bundle bundle) {
 			SimpleWidget simpleWidget = (SimpleWidget) widgetInfo.widget;
 			isWidgetVertical = simpleWidget.isVerticalWidget();
 			shouldShowIconPref = simpleWidget.shouldShowIconPref();
-			widgetSizePref = simpleWidget.getWidgetSizePref();
-			selectedWidgetSize = bundle.containsKey(SELECTED_WIDGET_SIZE_ID_KEY) ? WidgetSize.values()[bundle.getInt(SELECTED_WIDGET_SIZE_ID_KEY)] : widgetSizePref.get();
 			showIcon = bundle.containsKey(SHOW_ICON_KEY) ? bundle.getBoolean(SHOW_ICON_KEY) : shouldShowIconPref.get();
 		}
 		String type = bundle.getString(WIDGET_TYPE_KEY);
@@ -69,9 +64,7 @@ protected void initParams(@NonNull Bundle bundle) {
 	@Override
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		super.onSaveInstanceState(outState);
-		outState.putInt(SELECTED_WIDGET_SIZE_ID_KEY, selectedWidgetSize.ordinal());
 		outState.putBoolean(SHOW_ICON_KEY, showIcon);
-		outState.putString(WIDGET_TYPE_KEY, getWidget().name());
 	}
 
 	@NonNull
@@ -85,37 +78,13 @@ protected void setupContent(@NonNull LayoutInflater themedInflater, @NonNull Vie
 		if (isWidgetVertical) {
 			themedInflater.inflate(R.layout.simple_widget_settings, container);
 
-			View widgetSizeContainer = container.findViewById(R.id.widget_size_container);
-			widgetSizeContainer.setOnClickListener(v -> showPreferenceDialog(container));
-			widgetSizeContainer.setBackground(getPressedStateDrawable());
-			TextView widgetSizeDescription = container.findViewById(R.id.widget_size_description);
-			widgetSizeDescription.setText(selectedWidgetSize.titleId);
-
 			SwitchCompat switchCompat = container.findViewById(R.id.show_icon_toggle);
 			switchCompat.setChecked(showIcon);
 			View shoIconContainer = container.findViewById(R.id.show_icon_container);
 			shoIconContainer.setOnClickListener(v -> updateShowIcon(!showIcon, switchCompat));
 			shoIconContainer.setBackground(getPressedStateDrawable());
 		}
-	}
-
-	private void showPreferenceDialog(ViewGroup container) {
-		int selected = selectedWidgetSize.ordinal();
-		String[] items = new String[WidgetSize.values().length];
-		for (int i = 0; i < items.length; i++) {
-			items[i] = app.getString(WidgetSize.values()[i].getTitleId());
-		}
-
-		AlertDialogData dialogData = new AlertDialogData(requireContext(), nightMode)
-				.setTitle(R.string.shared_string_size)
-				.setControlsColor(ColorUtilities.getAppModeColor(app, nightMode));
-
-		CustomAlert.showSingleSelection(dialogData, items, selected, v -> {
-			int which = (int) v.getTag();
-			selectedWidgetSize = WidgetSize.values()[which];
-			((TextView) container.findViewById(R.id.widget_size_description)).setText(selectedWidgetSize.getTitleId());
-		});
-
+		super.setupContent(themedInflater, container);
 	}
 
 	private void updateShowIcon(boolean shouldShowIcon, SwitchCompat switchCompat) {
@@ -126,40 +95,14 @@ private void updateShowIcon(boolean shouldShowIcon, SwitchCompat switchCompat) {
 	@Override
 	protected void applySettings() {
 		if (isWidgetVertical) {
-			if (widgetInfo != null) {
-				updateRowWidgets(widgetInfo);
-			}
-
 			shouldShowIconPref.set(showIcon);
-			widgetSizePref.set(selectedWidgetSize);
-			if (widgetInfo != null && widgetInfo.widget instanceof SimpleWidget) {
-				SimpleWidget simpleWidget = (SimpleWidget) widgetInfo.widget;
-				simpleWidget.showIcon(shouldShowIconPref.get());
-				simpleWidget.recreateView();
-			}
-			app.getOsmandMap().getMapLayers().getMapInfoLayer().recreateControls();
-		}
-	}
-
-	private void updateRowWidgets(@NonNull MapWidgetInfo widgetInfo) {
-		MapActivity activity = getMapActivity();
-		if (activity != null) {
-			List<Set<MapWidgetInfo>> widgets = widgetRegistry.getPagedWidgetsForPanel(activity,
-					appMode, widgetInfo.getWidgetPanel(), AVAILABLE_MODE | ENABLED_MODE | MATCHING_PANELS_MODE);
-
-			Set<MapWidgetInfo> rowMapWidgetsInfo = widgets.get(widgetInfo.pageIndex);
-			rowMapWidgetsInfo.remove(widgetInfo);
-			applySizeSettingToWidgetsInRow(rowMapWidgetsInfo);
-		}
-	}
-
-	private void applySizeSettingToWidgetsInRow(@NonNull Set<MapWidgetInfo> mapWidgetInfo) {
-		for (MapWidgetInfo info : mapWidgetInfo) {
-			if (info.widget instanceof SimpleWidget) {
-				SimpleWidget simpleWidget = (SimpleWidget) info.widget;
-				simpleWidget.getWidgetSizePref().set(selectedWidgetSize);
-				simpleWidget.recreateView();
+			if (widgetInfo != null) {
+				if (widgetInfo.widget instanceof SimpleWidget simpleWidget) {
+					simpleWidget.showIcon(shouldShowIconPref.get());
+					//simpleWidget.recreateView();
+				}
 			}
 		}
+		super.applySettings();
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/IComplexWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/IComplexWidget.java
new file mode 100644
index 00000000000..e41cc770d23
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/IComplexWidget.java
@@ -0,0 +1,9 @@
+package net.osmand.plus.views.mapwidgets.widgetinterfaces;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+
+public interface IComplexWidget {
+	void recreateViewIfNeeded(@NonNull WidgetsPanel panel);
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportMultiRow.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportMultiRow.java
new file mode 100644
index 00000000000..2aeab7871c1
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportMultiRow.java
@@ -0,0 +1,6 @@
+package net.osmand.plus.views.mapwidgets.widgetinterfaces;
+
+public interface ISupportMultiRow {
+	void updateValueAlign(boolean fullRow);
+	void updateFullRowState(boolean fullRow);
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportSidePanel.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportSidePanel.java
new file mode 100644
index 00000000000..40da1a0f34f
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportSidePanel.java
@@ -0,0 +1,4 @@
+package net.osmand.plus.views.mapwidgets.widgetinterfaces;
+
+public interface ISupportSidePanel {
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportVerticalPanel.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportVerticalPanel.java
new file mode 100644
index 00000000000..13d8ddf09d3
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportVerticalPanel.java
@@ -0,0 +1,4 @@
+package net.osmand.plus.views.mapwidgets.widgetinterfaces;
+
+public interface ISupportVerticalPanel {
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportWidgetResizing.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportWidgetResizing.java
new file mode 100644
index 00000000000..840c6be20a5
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetinterfaces/ISupportWidgetResizing.java
@@ -0,0 +1,13 @@
+package net.osmand.plus.views.mapwidgets.widgetinterfaces;
+
+import androidx.annotation.NonNull;
+
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.settings.enums.WidgetSize;
+
+public interface ISupportWidgetResizing {
+	@NonNull
+	OsmandPreference<WidgetSize> getWidgetSizePref();
+
+	void recreateView();
+}
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnBaseWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnBaseWidget.java
index 78f2734dc9d..6535fe2bb0f 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnBaseWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnBaseWidget.java
@@ -1,50 +1,95 @@
 package net.osmand.plus.views.mapwidgets.widgets;
 
+import static net.osmand.plus.views.mapwidgets.widgets.StreetNameWidget.MAX_SHIELDS_QUANTITY;
+import static net.osmand.plus.views.mapwidgets.widgets.StreetNameWidget.setShieldImage;
+
+import static java.lang.Math.min;
+
 import android.graphics.drawable.Drawable;
 import android.view.Gravity;
+import android.view.View;
 import android.view.ViewGroup;
 import android.widget.ImageView;
 import android.widget.LinearLayout;
 import android.widget.TextView;
 
+import androidx.annotation.LayoutRes;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
+import androidx.core.content.ContextCompat;
 
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.routing.CurrentStreetName;
+import net.osmand.plus.routing.CurrentStreetName.RoadShield;
 import net.osmand.plus.routing.RouteCalculationResult;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.settings.enums.WidgetSize;
+import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.OsmAndFormatter;
+import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
+import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.TurnDrawable;
 import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.WidgetsContextMenu;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.IComplexWidget;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportMultiRow;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportVerticalPanel;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
+import net.osmand.plus.views.mapwidgets.widgetstates.ResizableWidgetState;
 import net.osmand.router.TurnType;
+import net.osmand.util.Algorithms;
 
-public class NextTurnBaseWidget extends TextInfoWidget {
+import java.util.List;
+
+public class NextTurnBaseWidget extends TextInfoWidget implements IComplexWidget, ISupportVerticalPanel, ISupportWidgetResizing, ISupportMultiRow {
 
 	private static final int DISTANCE_CHANGE_THRESHOLD = 10;
 
 	protected boolean horizontalMini;
-
 	protected int deviatedPath;
 	protected int nextTurnDistance;
+	private final TurnDrawable turnDrawable;
 
-	private final ImageView topImageView;
-	private final TextView topTextView;
-	private final ViewGroup bottomLayout;
+	private ImageView topImageView;
+	private TextView topTextView;
+	private ViewGroup bottomLayout;
+
+	private TurnType turnType;
+	private TextView distanceView;
+	private TextView distanceSubView;
+	private TextView streetView;
+	private TextView exitView;
+	private ImageView arrowView;
+	private LinearLayout shieldImagesContainer;
+	private LinearLayout bg;
 
-	private final TurnDrawable turnDrawable;
 
-	public NextTurnBaseWidget(@NonNull MapActivity mapActivity, @Nullable WidgetType widgetType, boolean horizontalMini) {
+	@Nullable
+	protected String customId;
+	private List<RoadShield> cachedRoadShields;
+	private final ResizableWidgetState widgetState;
+	protected TextState textState;
+	private boolean isFullRow;
+	protected boolean verticalWidget;
+
+	public NextTurnBaseWidget(@NonNull MapActivity mapActivity, @Nullable String customId, @NonNull WidgetType widgetType, @Nullable WidgetsPanel panel, boolean horizontalMini) {
 		super(mapActivity, widgetType);
 		this.horizontalMini = horizontalMini;
+		this.customId = customId;
+		widgetState = new ResizableWidgetState(app, customId, widgetType);
 
-		topImageView = view.findViewById(R.id.widget_top_icon);
-		topTextView = view.findViewById(R.id.widget_top_icon_text);
-		bottomLayout = view.findViewById(R.id.widget_bottom_layout);
+		WidgetsPanel selectedPanel = panel != null ? panel : widgetType.getPanel(customId != null ? customId : widgetType.id, settings);
+		setVerticalWidget(selectedPanel);
+		setupViews();
 
 		turnDrawable = new TurnDrawable(mapActivity, horizontalMini);
-		if (horizontalMini) {
+		if (verticalWidget) {
+			setVerticalImage(turnDrawable);
+		} else if (horizontalMini) {
 			setImageDrawable(turnDrawable, false);
 			setTopImageDrawable(null, null);
 		} else {
@@ -55,22 +100,154 @@ public NextTurnBaseWidget(@NonNull MapActivity mapActivity, @Nullable WidgetType
 		updateVisibility(false);
 	}
 
-	public TurnType getTurnType() {
-		return turnDrawable.getTurnType();
+	public void setVerticalWidget(@NonNull WidgetsPanel panel) {
+		verticalWidget = panel.isPanelVertical();
+	}
+
+	private void setupViews() {
+		LinearLayout container = (LinearLayout) view;
+		container.removeAllViews();
+
+		int layoutId = getContentLayoutId();
+		UiUtilities.getInflater(mapActivity, nightMode).inflate(layoutId, container);
+		findViews();
+		updateWidgetView();
+		view.setOnLongClickListener(v -> {
+			WidgetsContextMenu.showMenu(view, mapActivity, widgetType, customId, null, verticalWidget, nightMode);
+			return true;
+		});
+	}
+
+	public void updateWidgetView() {
+		if (verticalWidget) {
+			app.getOsmandMap().getMapLayers().getMapInfoLayer().updateRow(this);
+		}
+	}
+
+	@Override
+	protected int getLayoutId() {
+		return R.layout.simple_widget_vertical_content_container;
+	}
+
+	@LayoutRes
+	protected int getContentLayoutId() {
+		return verticalWidget ? getProperVerticalLayoutId(widgetState) : R.layout.map_hud_widget;
+	}
+
+	@LayoutRes
+	private int getProperVerticalLayoutId(@NonNull ResizableWidgetState resizableWidgetState) {
+		return switch (resizableWidgetState.getWidgetSizePref().get()) {
+			case SMALL -> R.layout.navigation_widget_small;
+			case MEDIUM ->
+					isFullRow ? R.layout.navigation_widget_full : R.layout.navigation_widget_half;
+			case LARGE ->
+					isFullRow ? R.layout.navigation_widget_full_large : R.layout.navigation_widget_half_large;
+		};
+	}
+
+	private void findViews() {
+		container = view.findViewById(R.id.container);
+		if (verticalWidget) {
+			bg = view.findViewById(R.id.widget_bg);
+			distanceView = view.findViewById(R.id.distance_text);
+			distanceSubView = view.findViewById(R.id.distance_sub_text);
+			streetView = view.findViewById(R.id.street_text);
+			exitView = view.findViewById(R.id.map_exit_ref);
+			arrowView = view.findViewById(R.id.arrow_icon);
+			shieldImagesContainer = view.findViewById(R.id.map_shields_container);
+		} else {
+			topImageView = view.findViewById(R.id.widget_top_icon);
+			topTextView = view.findViewById(R.id.widget_top_icon_text);
+			bottomLayout = view.findViewById(R.id.widget_bottom_layout);
+			emptyBanner = view.findViewById(R.id.empty_banner);
+			imageView = view.findViewById(R.id.widget_icon);
+			textView = view.findViewById(R.id.widget_text);
+			textViewShadow = view.findViewById(R.id.widget_text_shadow);
+			smallTextViewShadow = view.findViewById(R.id.widget_text_small_shadow);
+			smallTextView = view.findViewById(R.id.widget_text_small);
+			bottomDivider = view.findViewById(R.id.bottom_divider);
+		}
 	}
 
 	public void setTurnType(TurnType turnType) {
-		boolean vis = updateVisibility(turnType != null);
-		if (turnDrawable.setTurnType(turnType) || vis) {
-			turnDrawable.setTextPaint(topTextView.getPaint());
-			if (horizontalMini) {
-				setImageDrawable(turnDrawable, false);
-			} else {
-				setTopImageDrawable(turnDrawable, "");
+		if (verticalWidget) {
+			this.turnType = turnType;
+			if (turnDrawable.setTurnType(turnType)) {
+				setVerticalImage(turnDrawable);
+			}
+		} else {
+			boolean vis = updateVisibility(turnType != null);
+			if (turnDrawable.setTurnType(turnType) || vis) {
+				turnDrawable.setTextPaint(topTextView.getPaint());
+				if (horizontalMini) {
+					setImageDrawable(turnDrawable, false);
+				} else {
+					setTopImageDrawable(turnDrawable, "");
+				}
 			}
 		}
 	}
 
+	private boolean setRoadShield(@NonNull List<RoadShield> shields) {
+		if (!Algorithms.isEmpty(shields)) {
+			boolean isShieldSet = false;
+			shieldImagesContainer.removeAllViews();
+			int maxShields = min(shields.size(), MAX_SHIELDS_QUANTITY);
+			for (int i = 0; i < maxShields; i++) {
+				RoadShield shield = shields.get(i);
+				isShieldSet |= setShieldImage(shield, mapActivity, shieldImagesContainer, isNightMode());
+			}
+			return isShieldSet;
+		}
+		return false;
+	}
+
+	public void setStreetName(@Nullable CurrentStreetName streetName) {
+		if (streetName == null || !verticalWidget) {
+			AndroidUiHelper.updateVisibility(exitView, false);
+			AndroidUiHelper.updateVisibility(shieldImagesContainer, false);
+			return;
+		}
+		List<RoadShield> shields = streetName.shields;
+		if (!shields.isEmpty() && app.getRendererRegistry().getCurrentSelectedRenderer() != null) {
+			if(!shields.equals(cachedRoadShields) || (shields.equals(cachedRoadShields) && shieldImagesContainer.getChildCount() == 0)){
+				if (setRoadShield(shields)) {
+					AndroidUiHelper.updateVisibility(shieldImagesContainer, true);
+					int indexOf = streetName.text.indexOf("»");
+					if (indexOf > 0) {
+						streetName.text = streetName.text.substring(indexOf);
+					}
+				} else {
+					AndroidUiHelper.updateVisibility(shieldImagesContainer, false);
+				}
+			} else AndroidUiHelper.updateVisibility(shieldImagesContainer, shields.equals(cachedRoadShields));
+			cachedRoadShields = shields;
+		} else if (shields.isEmpty()) {
+			AndroidUiHelper.updateVisibility(shieldImagesContainer, false);
+			cachedRoadShields = null;
+		}
+
+		if (Algorithms.isEmpty(streetName.exitRef)) {
+			AndroidUiHelper.updateVisibility(exitView, false);
+		} else {
+			exitView.setText(streetName.exitRef);
+			AndroidUiHelper.updateVisibility(exitView, true);
+		}
+
+		if (Algorithms.isEmpty(streetName.text)) {
+			streetView.setText("");
+		} else if (!streetName.text.equals(streetView.getText().toString())) {
+			streetView.setText(streetName.text);
+		}
+	}
+
+	public void setVerticalImage(@Nullable TurnDrawable imageDrawable) {
+		if (imageDrawable != null) {
+			arrowView.setImageDrawable(imageDrawable);
+			arrowView.invalidate();
+		}
+	}
+
 	public void setTopImageDrawable(@Nullable Drawable imageDrawable, @Nullable String topText) {
 		boolean hasImage = imageDrawable != null;
 		if (hasImage) {
@@ -122,25 +299,181 @@ private void updateDistance() {
 		int deviatePath = turnDrawable.isDeviatedFromRoute() ? deviatedPath : nextTurnDistance;
 		String distance = OsmAndFormatter.getFormattedDistance(deviatePath, app, OsmAndFormatter.OsmAndFormatterParams.USE_LOWER_BOUNDS);
 
+		String text;
+		String subText = null;
+		int ls = distance.lastIndexOf(' ');
+		if (ls == -1) {
+			text = distance;
+		} else {
+			text = distance.substring(0, ls);
+			subText = distance.substring(ls + 1);
+		}
+
+		if (verticalWidget) {
+			distanceView.setText(text);
+			distanceSubView.setText(subText == null ? "" : subText);
+		} else {
+			setTextNoUpdateVisibility(text, subText);
+		}
+
 		TurnType turnType = getTurnType();
 		if (turnType != null) {
 			setContentDescription(distance + " " + RouteCalculationResult.toString(turnType, app, false));
 		} else {
 			setContentDescription(distance);
 		}
+	}
 
-		int ls = distance.lastIndexOf(' ');
-		if (ls == -1) {
-			setTextNoUpdateVisibility(distance, null);
+	public TurnType getTurnType() {
+		return turnDrawable.getTurnType();
+	}
+
+	@Override
+	public void updateColors(@NonNull TextState textState) {
+		this.textState = textState;
+		if (verticalWidget) {
+			updateVerticalWidgetColors(textState);
 		} else {
-			setTextNoUpdateVisibility(distance.substring(0, ls), distance.substring(ls + 1));
+			super.updateColors(textState);
+			updateTextColor(topTextView, null, textState.textColor, textState.textShadowColor, textState.textBold,
+					textState.textShadowRadius);
 		}
 	}
 
+	protected void updateVerticalWidgetColors(@NonNull TextState textState) {
+		nightMode = textState.night;
+		int exitRefTextColorId = isNightMode()
+				? R.color.text_color_primary_dark
+				: R.color.widgettext_day;
+		exitView.setTextColor(ContextCompat.getColor(app, exitRefTextColorId));
+
+		distanceView.setTextColor(ContextCompat.getColor(app, exitRefTextColorId));
+		distanceSubView.setTextColor(ColorUtilities.getSecondaryTextColor(mapActivity, nightMode));
+		streetView.setTextColor(ColorUtilities.getSecondaryTextColor(mapActivity, nightMode));
+
+		bg.setBackgroundResource(textState.widgetBackgroundId);
+	}
+
 	@Override
-	public void updateColors(@NonNull TextState textState) {
-		super.updateColors(textState);
-		updateTextColor(topTextView, null, textState.textColor, textState.textShadowColor, textState.textBold,
-				textState.textShadowRadius);
+	public void updateFullRowState(boolean fullRow) {
+		if (isFullRow != fullRow) {
+			isFullRow = fullRow;
+			recreateView();
+			if (textState != null) {
+				updateColors(textState);
+			}
+			updateInfo(null);
+		}
+	}
+
+	@Override
+	public final void updateInfo(@Nullable DrawSettings drawSettings) {
+		if (!verticalWidget) {
+			updateNavigationInfo(drawSettings);
+			return;
+		}
+
+		boolean shouldHideTopWidgets = mapActivity.getWidgetsVisibilityHelper().shouldHideVerticalWidgets();
+		boolean typeAllowed = widgetType != null && widgetType.isAllowed();
+		boolean hasInfoToDisplay = (turnDrawable.getTurnType() != null || turnType != null || nextTurnDistance != 0);
+		boolean visible = typeAllowed && !shouldHideTopWidgets && hasInfoToDisplay;
+		updateVisibility(visible);
+		if (typeAllowed && !shouldHideTopWidgets) {
+			updateNavigationInfo(drawSettings);
+		}
+	}
+
+	void updateNavigationInfo(@Nullable DrawSettings drawSettings) {
+
+	}
+
+	@Override
+	public boolean updateVisibility(boolean visible) {
+		boolean updatedVisibility = super.updateVisibility(visible);
+		if (verticalWidget && updatedVisibility) {
+			app.getOsmandMap().getMapLayers().getMapInfoLayer().updateRow(this);
+		}
+		return updatedVisibility;
+	}
+
+	@Override
+	protected View getContentView() {
+		return verticalWidget ? view : container;
+	}
+
+	@Override
+	public void recreateViewIfNeeded(@NonNull WidgetsPanel panel) {
+		boolean oldWidgetOrientation = verticalWidget;
+		setVerticalWidget(panel);
+		if (oldWidgetOrientation != verticalWidget) {
+			recreateView();
+		}
+	}
+
+	@Override
+	public void updateValueAlign(boolean fullRow) {
+	}
+
+	@NonNull
+	@Override
+	public OsmandPreference<WidgetSize> getWidgetSizePref() {
+		return widgetState.getWidgetSizePref();
+	}
+
+	@Override
+	public void recreateView() {
+		View oldContainer = container;
+		if (verticalWidget) {
+			TextView oldDistanceView = distanceView;
+			TextView oldDistanceSubView = distanceSubView;
+			TextView oldStreetView = streetView;
+			TextView oldExitView = exitView;
+			ImageView oldArrowView = arrowView;
+			View oldShieldContainer = shieldImagesContainer;
+			setupViews();
+			setVerticalImage(turnDrawable);
+			copyView(shieldImagesContainer, oldShieldContainer);
+			copyView(arrowView, oldArrowView);
+			copyTextView(distanceView, oldDistanceView);
+			copyTextView(distanceSubView, oldDistanceSubView);
+			copyTextView(streetView, oldStreetView);
+			copyTextView(exitView, oldExitView);
+		} else {
+			ImageView oldImageView = imageView;
+			TextView oldTextView = textView;
+			TextView oldTextViewShadow = textViewShadow;
+			TextView oldSmallTextView = smallTextView;
+			TextView oldSmallTextViewShadow = smallTextViewShadow;
+			View oldEmptyBanner = emptyBanner;
+			setupViews();
+			imageView.setImageDrawable(oldImageView.getDrawable());
+			copyView(imageView, oldImageView);
+			copyTextView(textView, oldTextView);
+			copyTextView(textViewShadow, oldTextViewShadow);
+			copyTextView(smallTextView, oldSmallTextView);
+			copyTextView(smallTextViewShadow, oldSmallTextViewShadow);
+			copyView(emptyBanner, oldEmptyBanner);
+		}
+		view.setOnClickListener(getOnClickListener());
+		view.setVisibility(oldContainer.getVisibility());
+	}
+
+	protected View.OnClickListener getOnClickListener(){
+		return null;
+	}
+
+	private void copyTextView(@Nullable TextView newTextView, @Nullable TextView oldTextView) {
+		if (newTextView != null && oldTextView != null) {
+			newTextView.setText(oldTextView.getText());
+			copyView(newTextView, oldTextView);
+		}
+	}
+
+	private void copyView(@Nullable View newView, @Nullable View oldTView) {
+		if (newView != null && oldTView != null) {
+			newView.setFocusable(oldTView.isFocusable());
+			newView.setVisibility(oldTView.getVisibility());
+			newView.setContentDescription(oldTView.getContentDescription());
+		}
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnWidget.java
index 19621a48a45..1c8f62f863b 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/NextTurnWidget.java
@@ -10,16 +10,18 @@
 import androidx.annotation.Nullable;
 
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.routing.CurrentStreetName;
 import net.osmand.plus.routing.RouteCalculationResult.NextDirectionInfo;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.router.TurnType;
 
 public class NextTurnWidget extends NextTurnBaseWidget {
 
 	private final NextDirectionInfo nextDirectionInfo = new NextDirectionInfo();
 
-	public NextTurnWidget(@NonNull MapActivity mapActivity, boolean horizontalMini) {
-		super(mapActivity, horizontalMini ? SMALL_NEXT_TURN : NEXT_TURN, horizontalMini);
+	public NextTurnWidget(@NonNull MapActivity mapActivity, @Nullable String customId, boolean horizontalMini, @Nullable WidgetsPanel panel) {
+		super(mapActivity, customId, horizontalMini ? SMALL_NEXT_TURN : NEXT_TURN, panel, horizontalMini);
 		setOnClickListener(getOnClickListener());
 	}
 
@@ -27,7 +29,7 @@ public NextTurnWidget(@NonNull MapActivity mapActivity, boolean horizontalMini)
 	 * Uncomment to test rendering
 	 */
 	@NonNull
-	private OnClickListener getOnClickListener() {
+	protected OnClickListener getOnClickListener() {
 		return new View.OnClickListener() {
 //			int i = 0;
 //			boolean leftSide = false;
@@ -56,9 +58,11 @@ public void onClick(View v) {
 	}
 
 	@Override
-	public void updateInfo(@Nullable DrawSettings drawSettings) {
+	public void updateNavigationInfo(@Nullable DrawSettings drawSettings) {
 		boolean followingMode = routingHelper.isFollowingMode()
 				|| locationProvider.getLocationSimulation().isRouteAnimating();
+		StreetNameWidget.StreetNameWidgetParams params = new StreetNameWidget.StreetNameWidgetParams(mapActivity);
+		CurrentStreetName streetName = params.streetName;
 		TurnType turnType = null;
 		boolean deviatedFromRoute = false;
 		int turnImminent = 0;
@@ -72,12 +76,14 @@ public void updateInfo(@Nullable DrawSettings drawSettings) {
 			} else {
 				NextDirectionInfo r = routingHelper.getNextRouteDirectionInfo(nextDirectionInfo, true);
 				if (r != null && r.distanceTo > 0 && r.directionInfo != null) {
+					streetName = routingHelper.getCurrentName(r);
 					turnType = r.directionInfo.getTurnType();
 					nextTurnDistance = r.distanceTo;
 					turnImminent = r.imminent;
 				}
 			}
 		}
+		setStreetName(streetName);
 		setTurnType(turnType);
 		setTurnImminent(turnImminent, deviatedFromRoute);
 		setTurnDistance(nextTurnDistance);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SecondNextTurnWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SecondNextTurnWidget.java
index 6bd4749016b..98f8eee54ea 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SecondNextTurnWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SecondNextTurnWidget.java
@@ -9,16 +9,19 @@
 import androidx.annotation.Nullable;
 
 import net.osmand.plus.activities.MapActivity;
+import net.osmand.plus.routing.CurrentStreetName;
 import net.osmand.plus.routing.RouteCalculationResult.NextDirectionInfo;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
+import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.router.TurnType;
 
 public class SecondNextTurnWidget extends NextTurnBaseWidget {
 
 	private final NextDirectionInfo nextDirectionInfo = new NextDirectionInfo();
 
-	public SecondNextTurnWidget(@NonNull MapActivity mapActivity) {
-		super(mapActivity, SECOND_NEXT_TURN, true);
+	public SecondNextTurnWidget(@NonNull MapActivity mapActivity, @Nullable String customId, @Nullable WidgetsPanel panel) {
+		super(mapActivity, customId, SECOND_NEXT_TURN, panel, true);
+
 		setOnClickListener(getOnClickListener());
 	}
 
@@ -26,7 +29,7 @@ public SecondNextTurnWidget(@NonNull MapActivity mapActivity) {
 	 * Do not delete to have pressed state. Uncomment to test rendering
 	 */
 	@NonNull
-	private OnClickListener getOnClickListener() {
+	protected OnClickListener getOnClickListener() {
 		return new View.OnClickListener() {
 //			int i = 0;
 			@Override
@@ -52,8 +55,10 @@ public void onClick(View v) {
 	}
 
 	@Override
-	public void updateInfo(@Nullable DrawSettings drawSettings) {
+	public void updateNavigationInfo(@Nullable DrawSettings drawSettings) {
 		boolean followingMode = routingHelper.isFollowingMode() || locationProvider.getLocationSimulation().isRouteAnimating();
+		StreetNameWidget.StreetNameWidgetParams params = new StreetNameWidget.StreetNameWidgetParams(mapActivity);
+		CurrentStreetName streetName = params.streetName;
 		TurnType turnType = null;
 		boolean deviatedFromRoute = false;
 		int turnImminent = 0;
@@ -67,11 +72,13 @@ public void updateInfo(@Nullable DrawSettings drawSettings) {
 				}
 			}
 			if (r != null && r.distanceTo > 0 && r.directionInfo != null) {
+				streetName = routingHelper.getCurrentName(r);
 				turnType = r.directionInfo.getTurnType();
 				turnImminent = r.imminent;
 				nextTurnDistance = r.distanceTo;
 			}
 		}
+		setStreetName(streetName);
 		setTurnType(turnType);
 		setTurnImminent(turnImminent, deviatedFromRoute);
 		setTurnDistance(nextTurnDistance);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SimpleWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SimpleWidget.java
index 1d78279ad4a..c0034041f9e 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SimpleWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/SimpleWidget.java
@@ -1,12 +1,9 @@
 package net.osmand.plus.views.mapwidgets.widgets;
 
 import static net.osmand.plus.utils.AndroidUtils.dpToPx;
-import static net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment.KEY_APP_MODE;
-import static net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment.KEY_WIDGET_ID;
 
 import android.graphics.drawable.AnimationDrawable;
 import android.graphics.drawable.Drawable;
-import android.os.Bundle;
 import android.view.Gravity;
 import android.view.View;
 import android.view.ViewGroup;
@@ -18,8 +15,6 @@
 import androidx.annotation.LayoutRes;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
-import androidx.appcompat.app.AlertDialog;
-import androidx.fragment.app.FragmentManager;
 
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
@@ -27,28 +22,22 @@
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.settings.backend.preferences.OsmandPreference;
-import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.views.layers.MapInfoLayer;
 import net.osmand.plus.views.layers.base.OsmandMapLayer;
-import net.osmand.plus.views.mapwidgets.MapWidgetInfo;
-import net.osmand.plus.views.mapwidgets.MapWidgetRegistry;
 import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.WidgetsContextMenu;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
-import net.osmand.plus.views.mapwidgets.configure.panel.ConfigureWidgetsFragment;
-import net.osmand.plus.views.mapwidgets.configure.settings.WidgetSettingsBaseFragment;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportMultiRow;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportWidgetResizing;
 import net.osmand.plus.views.mapwidgets.widgetstates.SimpleWidgetState;
 import net.osmand.plus.settings.enums.WidgetSize;
-import net.osmand.plus.widgets.popup.PopUpMenu;
-import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
 import net.osmand.plus.widgets.popup.PopUpMenuItem;
-import net.osmand.plus.widgets.popup.PopUpMenuWidthMode;
 import net.osmand.util.Algorithms;
 
-import java.util.ArrayList;
 import java.util.List;
 
-public abstract class SimpleWidget extends TextInfoWidget {
+public abstract class SimpleWidget extends TextInfoWidget implements ISupportWidgetResizing, ISupportMultiRow {
 
 	private final SimpleWidgetState widgetState;
 
@@ -78,7 +67,7 @@ private void setupViews() {
 		findViews();
 		updateWidgetView();
 		view.setOnLongClickListener(v -> {
-			showContextWidgetMenu(v);
+			WidgetsContextMenu.showMenu(v, mapActivity, widgetType, customId, getWidgetActions(), verticalWidget, nightMode);
 			return true;
 		});
 	}
@@ -195,77 +184,6 @@ public void recreateView() {
 		updateWidgetView();
 	}
 
-	public void showContextWidgetMenu(@NonNull View view) {
-		List<PopUpMenuItem> items = new ArrayList<>();
-		MapWidgetRegistry widgetRegistry = app.getOsmandMap().getMapLayers().getMapWidgetRegistry();
-		String widgetId = customId != null ? customId : widgetType.id;
-		MapWidgetInfo widgetInfo = widgetRegistry.getWidgetInfoById(widgetId);
-		ApplicationMode appMode = settings.getApplicationMode();
-
-		if (widgetInfo != null) {
-			UiUtilities uiUtilities = app.getUIUtilities();
-			int iconColor = ColorUtilities.getDefaultIconColor(app, nightMode);
-			items.add(new PopUpMenuItem.Builder(app)
-					.setTitleId(isVerticalWidget() ? R.string.add_widget_to_the_left : R.string.add_widget_above)
-					.setIcon(uiUtilities.getPaintedIcon(isVerticalWidget() ? R.drawable.ic_action_add_item_left : R.drawable.ic_action_add_item_above, iconColor))
-					.setOnClickListener(item -> ConfigureWidgetsFragment.showInstance(mapActivity, widgetInfo.getWidgetPanel(), appMode, widgetId, false))
-					.create());
-
-			items.add(new PopUpMenuItem.Builder(app)
-					.setIcon(uiUtilities.getPaintedIcon(isVerticalWidget() ? R.drawable.ic_action_add_item_right : R.drawable.ic_action_add_item_below, iconColor))
-					.setTitleId(isVerticalWidget() ? R.string.add_widget_to_the_right : R.string.add_widget_below)
-					.setOnClickListener(item -> ConfigureWidgetsFragment.showInstance(mapActivity, widgetInfo.getWidgetPanel(), appMode, widgetId, true))
-					.create());
-
-			List<PopUpMenuItem> widgetActions = getWidgetActions();
-			if (!Algorithms.isEmpty(widgetActions)) {
-				items.addAll(widgetActions);
-			}
-
-			WidgetSettingsBaseFragment fragment = widgetType != null ? widgetType.getSettingsFragment(app, widgetInfo) : null;
-			if (fragment != null) {
-				items.add(new PopUpMenuItem.Builder(app)
-						.setTitleId(R.string.shared_string_settings)
-						.setOnClickListener(item -> {
-							Bundle args = new Bundle();
-							args.putString(KEY_WIDGET_ID, widgetInfo.key);
-							args.putString(KEY_APP_MODE, appMode.getStringKey());
-							FragmentManager manager = mapActivity.getSupportFragmentManager();
-							WidgetSettingsBaseFragment.showFragment(manager, args, null, fragment);
-						})
-						.setIcon(uiUtilities.getPaintedIcon(R.drawable.ic_action_settings_outlined, iconColor))
-						.showTopDivider(Algorithms.isEmpty(widgetActions))
-						.create());
-			}
-
-			items.add(new PopUpMenuItem.Builder(app)
-					.setTitleId(R.string.shared_string_delete)
-					.setOnClickListener(item -> {
-						AlertDialog.Builder builder = new AlertDialog.Builder(UiUtilities.getThemedContext(mapActivity, isNightMode()));
-						builder.setTitle(getString(R.string.delete_widget));
-						builder.setMessage(R.string.delete_widget_description);
-						builder.setNegativeButton(R.string.shared_string_cancel, null)
-								.setPositiveButton(R.string.shared_string_delete, (dialog, which) -> {
-									widgetRegistry.enableDisableWidgetForMode(appMode, widgetInfo, false, true);
-								});
-						builder.show();
-					})
-					.setIcon(uiUtilities.getPaintedIcon(R.drawable.ic_action_delete_outlined, iconColor))
-					.showTopDivider(true)
-					.create());
-
-			PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
-			displayData.anchorView = view;
-			displayData.menuItems = items;
-			displayData.nightMode = nightMode;
-			displayData.widthMode = PopUpMenuWidthMode.STANDARD;
-			displayData.showCompound = false;
-			displayData.customDropDown = false;
-			displayData.layoutId = R.layout.popup_menu_item_full_divider;
-			PopUpMenu.show(displayData);
-		}
-	}
-
 	@Nullable
 	protected List<PopUpMenuItem> getWidgetActions() {
 		return null;
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
index 3ccd469b97c..5bdeb5623a4 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/StreetNameWidget.java
@@ -226,14 +226,16 @@ private boolean setRoadShield(@NonNull List<RoadShield> shields) {
 			int maxShields = min(shields.size(), MAX_SHIELDS_QUANTITY);
 			for (int i = 0; i < maxShields; i++) {
 				RoadShield shield = shields.get(i);
-				isShieldSet |= setShieldImage(shield);
+				isShieldSet |= setShieldImage(shield, mapActivity, shieldImagesContainer, isNightMode());
 			}
 			return isShieldSet;
 		}
 		return false;
 	}
 
-	private boolean setShieldImage(@NonNull RoadShield shield) {
+	public static boolean setShieldImage(@NonNull RoadShield shield, @NonNull MapActivity mapActivity,
+	                                     @NonNull LinearLayout shieldImagesContainer, boolean nightMode) {
+		OsmandApplication app = mapActivity.getMyApplication();
 		RouteDataObject object = shield.getRdo();
 		StringBuilder additional = shield.getAdditional();
 		String shieldValue = shield.getValue();
@@ -244,7 +246,7 @@ private boolean setShieldImage(@NonNull RoadShield shield) {
 			return false;
 		}
 		RenderingRuleSearchRequest rreq = app.getResourceManager().getRenderer()
-				.getSearchRequestWithAppliedCustomRules(storage, isNightMode());
+				.getSearchRequestWithAppliedCustomRules(storage, nightMode);
 
 		for (int type : types) {
 			RouteTypeRule routeTypeRule = object.region.quickGetEncodingRule(type);
@@ -298,7 +300,7 @@ private boolean setShieldImage(@NonNull RoadShield shield) {
 		textRenderer.drawShieldIcon(rc, canvas, text, text.getShieldResIcon());
 		textRenderer.drawWrappedText(canvas, text, 20f);
 
-		ImageView imageView = new ImageView(view.getContext());
+		ImageView imageView = new ImageView(mapActivity);
 		int viewSize = AndroidUtils.dpToPx(app, 40f);
 		LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(viewWidthPx, viewSize);
 		int padding = AndroidUtils.dpToPx(app, 4f);
@@ -402,7 +404,7 @@ private ViewGroup getSpecialContainer() {
 		return mapActivity.findViewById(R.id.street_name_widget_special_container);
 	}
 
-	private static class StreetNameWidgetParams {
+	static class StreetNameWidgetParams {
 
 		private final OsmandApplication app;
 		private final OsmandSettings settings;
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TextInfoWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TextInfoWidget.java
index e80cb4c1ac9..ff21639dc02 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TextInfoWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TextInfoWidget.java
@@ -18,9 +18,9 @@
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
 import net.osmand.plus.views.mapwidgets.WidgetType;
-import net.osmand.util.Algorithms;
+import net.osmand.plus.views.mapwidgets.widgetinterfaces.ISupportSidePanel;
 
-public class TextInfoWidget extends MapWidget {
+public class TextInfoWidget extends MapWidget implements ISupportSidePanel {
 
 	protected static final String NO_VALUE = "—";
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/ResizableWidgetState.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/ResizableWidgetState.java
new file mode 100644
index 00000000000..28408f4248b
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/ResizableWidgetState.java
@@ -0,0 +1,64 @@
+package net.osmand.plus.views.mapwidgets.widgetstates;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.settings.enums.WidgetSize;
+import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.util.Algorithms;
+
+public class ResizableWidgetState extends WidgetState {
+
+	private final OsmandPreference<WidgetSize> widgetSizePref;
+	private final WidgetType widgetType;
+
+	public ResizableWidgetState(@NonNull OsmandApplication app, @Nullable String customId, @NonNull WidgetType widgetType) {
+		super(app);
+		this.widgetSizePref = registerWidgetSizePref(customId, widgetType);
+		this.widgetType = widgetType;
+	}
+
+	@NonNull
+	private OsmandPreference<WidgetSize> registerWidgetSizePref(@Nullable String customId, @NonNull WidgetType widgetType) {
+		String prefId = "simple_widget_size";
+		prefId += widgetType.id;
+		if (!Algorithms.isEmpty(customId)) {
+			prefId += customId;
+		}
+		return settings.registerEnumStringPreference(prefId, WidgetSize.MEDIUM, WidgetSize.values(), WidgetSize.class)
+				.makeProfile();
+	}
+
+	@NonNull
+	public OsmandPreference<WidgetSize> getWidgetSizePref() {
+		return widgetSizePref;
+	}
+
+	@NonNull
+	@Override
+	public String getTitle() {
+		return app.getString(widgetType.titleId);
+	}
+
+	@Override
+	public int getSettingsIconId(boolean nightMode) {
+		return nightMode ? widgetType.nightIconId : widgetType.dayIconId;
+	}
+
+	@Override
+	public void changeToNextState() {
+	}
+
+	@Override
+	public void copyPrefs(@NonNull ApplicationMode appMode, @Nullable String customId) {
+		copyPrefsFromMode(appMode, appMode, customId);
+	}
+
+	@Override
+	public void copyPrefsFromMode(@NonNull ApplicationMode sourceAppMode, @NonNull ApplicationMode appMode, @Nullable String customId){
+		registerWidgetSizePref(customId, widgetType).setModeValue(appMode, widgetSizePref.getModeValue(sourceAppMode));
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/SimpleWidgetState.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/SimpleWidgetState.java
index 1acece4079b..6efdafa52fe 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/SimpleWidgetState.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgetstates/SimpleWidgetState.java
@@ -11,30 +11,17 @@
 import net.osmand.plus.views.mapwidgets.WidgetType;
 import net.osmand.util.Algorithms;
 
-public class SimpleWidgetState extends WidgetState {
+public class SimpleWidgetState extends ResizableWidgetState {
 
-	private final OsmandPreference<WidgetSize> widgetSizePref;
 	private final CommonPreference<Boolean> showIconPref;
 	private final WidgetType widgetType;
 
 	public SimpleWidgetState(@NonNull OsmandApplication app, @Nullable String customId, @NonNull WidgetType widgetType) {
-		super(app);
-		this.widgetSizePref = registerWidgetSizePref(customId, widgetType);
+		super(app, customId, widgetType);
 		this.showIconPref = registerShowIconPref(customId, widgetType);
 		this.widgetType = widgetType;
 	}
 
-	@NonNull
-	private OsmandPreference<WidgetSize> registerWidgetSizePref(@Nullable String customId, @NonNull WidgetType widgetType) {
-		String prefId = "simple_widget_size";
-		prefId += widgetType.id;
-		if (!Algorithms.isEmpty(customId)) {
-			prefId += customId;
-		}
-		return settings.registerEnumStringPreference(prefId, WidgetSize.MEDIUM, WidgetSize.values(), WidgetSize.class)
-				.makeProfile();
-	}
-
 	@NonNull
 	private CommonPreference<Boolean> registerShowIconPref(@Nullable String customId, @NonNull WidgetType widgetType) {
 		String prefId = "simple_widget_show_icon";
@@ -45,11 +32,6 @@ private CommonPreference<Boolean> registerShowIconPref(@Nullable String customId
 		return settings.registerBooleanPreference(prefId, true).makeProfile();
 	}
 
-	@NonNull
-	public OsmandPreference<WidgetSize> getWidgetSizePref() {
-		return widgetSizePref;
-	}
-
 	@NonNull
 	public CommonPreference<Boolean> getShowIconPref() {
 		return showIconPref;
@@ -66,18 +48,14 @@ public int getSettingsIconId(boolean nightMode) {
 		return nightMode ? widgetType.nightIconId : widgetType.dayIconId;
 	}
 
-	@Override
-	public void changeToNextState() {
-	}
-
 	@Override
 	public void copyPrefs(@NonNull ApplicationMode appMode, @Nullable String customId) {
 		copyPrefsFromMode(appMode, appMode, customId);
+		super.copyPrefs(appMode, customId);
 	}
 
 	@Override
 	public void copyPrefsFromMode(@NonNull ApplicationMode sourceAppMode, @NonNull ApplicationMode appMode, @Nullable String customId){
-		registerWidgetSizePref(customId, widgetType).setModeValue(appMode, widgetSizePref.getModeValue(sourceAppMode));
 		registerShowIconPref(customId, widgetType).setModeValue(appMode, showIconPref.getModeValue(sourceAppMode));
 	}
 }
\ No newline at end of file
