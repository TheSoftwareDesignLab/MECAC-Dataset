diff --git a/OsmAnd/res/values/no_translate.xml b/OsmAnd/res/values/no_translate.xml
index 313ffdf8cb4..f1891d26aa3 100644
--- a/OsmAnd/res/values/no_translate.xml
+++ b/OsmAnd/res/values/no_translate.xml
@@ -57,6 +57,9 @@
     <string name="items_modified">items modified</string>
     <string name="osmand_unlimited">OsmAnd Unlimited</string>
     <string name="markers">Markers</string>
+    <string name="cpp">C++</string>
+    <string name="routing_type_hh_java">HH x Java</string>
+    <string name="routing_type_hh_cpp">HH x C++</string>
     <string name="oauth2_redirect_uri" translatable="false">https://osmand.net/osmand-oauth-redirect-url</string>
     <string name="oauth2_scope" translatable="false">read_prefs write_api write_gpx write_notes write_redactions</string>
     <string name="osm_oauth2_dev_id" translatable="false">uF18mTh1eRL67xS8wND9Oi7WqKqHcWLQP4ORtAfUwAs</string>
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 41a200d1cf5..23a501e3586 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -11,6 +11,14 @@
 	Thx - Hardy
 -->
 
+    <string name="routing_type_a_star_2_phase">A* 2-phase</string>
+    <string name="routing_type_a_star_classic">A* classic</string>
+    <string name="auto_zoom_smooth">Smooth</string>
+    <string name="auto_zoom_discrete">Discrete</string>
+    <string name="auto_zoom">Autozoom</string>
+    <string name="java_safe">Java (Safe)</string>
+    <string name="gpx_approximation">GPX approximation</string>
+    <string name="routing_type">Routing type</string>
     <string name="rendering_attr_padusDisplayMode_name">Public lands display mode</string>
     <string name="rendering_attr_padusDisplayMode_description">By access type or manager name</string>
     <string name="rendering_value_access_name">By access type</string>
diff --git a/OsmAnd/res/xml/development_settings.xml b/OsmAnd/res/xml/development_settings.xml
index 1aa8b15c94c..80a6df026b4 100644
--- a/OsmAnd/res/xml/development_settings.xml
+++ b/OsmAnd/res/xml/development_settings.xml
@@ -35,13 +35,6 @@
 		android:summaryOn="@string/shared_string_enabled"
 		android:title="@string/safe_mode" />
 
-	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
-		android:key="approx_safe_mode"
-		android:layout="@layout/preference_with_descr_dialog_and_switch"
-		android:summaryOff="@string/shared_string_disabled"
-		android:summaryOn="@string/shared_string_enabled"
-		android:title="@string/approx_safe_mode" />
-
 	<PreferenceCategory
 		android:key="routing"
 		android:layout="@layout/preference_category_with_descr"
@@ -54,27 +47,6 @@
 		android:title="@string/simulate_your_location"
 		tools:summary="@string/simulate_your_location_stop_descr" />
 
-	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
-		android:key="use_hh_routing"
-		android:layout="@layout/preference_with_descr_dialog_and_switch"
-		android:summaryOff="@string/shared_string_disabled"
-		android:summaryOn="@string/shared_string_enabled"
-		android:title="@string/special_routing_type" />
-
-	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
-		android:key="hh_routing_cpp"
-		android:layout="@layout/preference_with_descr_dialog_and_switch"
-		android:summaryOff="Java"
-		android:summaryOn="C++"
-		android:title="@string/special_routing_cpp" />
-
-	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
-		android:key="use_v1_auto_zoom"
-		android:layout="@layout/preference_with_descr_dialog_and_switch"
-		android:summaryOff="@string/shared_string_disabled"
-		android:summaryOn="@string/shared_string_enabled"
-		android:title="@string/use_v1_auto_zoom" />
-
 	<PreferenceCategory
 		android:key="debugging_and_development"
 		android:layout="@layout/preference_category_with_descr"
diff --git a/OsmAnd/src/net/osmand/plus/AppVersionUpgradeOnInit.java b/OsmAnd/src/net/osmand/plus/AppVersionUpgradeOnInit.java
index db377f53d8c..3660c7c7cd9 100644
--- a/OsmAnd/src/net/osmand/plus/AppVersionUpgradeOnInit.java
+++ b/OsmAnd/src/net/osmand/plus/AppVersionUpgradeOnInit.java
@@ -6,6 +6,10 @@
 import static net.osmand.plus.plugins.audionotes.AudioVideoNotesPlugin.AV_DEFAULT_ACTION_VIDEO;
 import static net.osmand.plus.plugins.audionotes.AudioVideoNotesPlugin.DEFAULT_ACTION_SETTING_ID;
 import static net.osmand.plus.settings.backend.backup.exporttype.AbstractMapExportType.OFFLINE_MAPS_EXPORT_TYPE_KEY;
+import static net.osmand.plus.settings.enums.RoutingType.A_STAR_2_PHASE;
+import static net.osmand.plus.settings.enums.RoutingType.A_STAR_CLASSIC;
+import static net.osmand.plus.settings.enums.RoutingType.HH_CPP;
+import static net.osmand.plus.settings.enums.RoutingType.HH_JAVA;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.COLLAPSED_PREFIX;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.HIDE_PREFIX;
 import static net.osmand.plus.views.mapwidgets.MapWidgetRegistry.SETTINGS_SEPARATOR;
@@ -66,6 +70,7 @@
 import net.osmand.plus.settings.backend.preferences.ListStringPreference;
 import net.osmand.plus.settings.backend.preferences.OsmandPreference;
 import net.osmand.plus.settings.backend.preferences.StringPreference;
+import net.osmand.plus.settings.enums.RoutingType;
 import net.osmand.plus.views.layers.RadiusRulerControlLayer.RadiusRulerMode;
 import net.osmand.plus.views.mapwidgets.WidgetGroup;
 import net.osmand.plus.views.mapwidgets.WidgetType;
@@ -136,8 +141,9 @@ public class AppVersionUpgradeOnInit {
 	// 4608 - 4.6-08 (Expand the list of export types by dividing the general offline maps' type into subtypes)
 	public static final int VERSION_4_6_08 = 4608;
 	public static final int VERSION_4_6_09 = 4609;
+	public static final int VERSION_4_6_10 = 4610;
 
-	public static final int LAST_APP_VERSION = VERSION_4_6_09;
+	public static final int LAST_APP_VERSION = VERSION_4_6_10;
 
 	private static final String VERSION_INSTALLED = "VERSION_INSTALLED";
 
@@ -254,6 +260,9 @@ public void onStart(@NonNull AppInitializer init) {
 				if (prevAppVersion < VERSION_4_6_09) {
 					migrateQuickActionButtons();
 				}
+				if (prevAppVersion < VERSION_4_6_10) {
+					migrateRoutingTypePrefs();
+				}
 				startPrefs.edit().putInt(VERSION_INSTALLED_NUMBER, lastVersion).commit();
 				startPrefs.edit().putString(VERSION_INSTALLED, Version.getFullVersion(app)).commit();
 				startPrefs.edit().putLong(UPDATE_TIME_MS, System.currentTimeMillis()).commit();
@@ -829,4 +838,21 @@ private void migrateQuickActionButtons() {
 			fabMarginPref.setLandscapeFabMargin(appMode, landscape.first, landscape.second);
 		}
 	}
+
+	private void migrateRoutingTypePrefs() {
+		OsmandSettings settings = app.getSettings();
+		boolean hhRouting = new BooleanPreference(settings, "use_hh_routing", false).makeGlobal().get();
+		boolean hhRoutingCpp = new BooleanPreference(settings, "hh_routing_cpp", false).makeGlobal().get();
+		CommonPreference<Boolean> disableComplexRouting = new BooleanPreference(settings, "disable_complex_routing", false).makeProfile();
+
+		for (ApplicationMode mode : ApplicationMode.allPossibleValues()) {
+			RoutingType routingType;
+			if (hhRouting) {
+				routingType = hhRoutingCpp ? HH_CPP : HH_JAVA;
+			} else {
+				routingType = disableComplexRouting.getModeValue(mode) ? A_STAR_CLASSIC : A_STAR_2_PHASE;
+			}
+			settings.ROUTING_TYPE.setModeValue(mode, routingType);
+		}
+	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/base/MapViewTrackingUtilities.java b/OsmAnd/src/net/osmand/plus/base/MapViewTrackingUtilities.java
index efcf24c0272..f5e20d135f0 100644
--- a/OsmAnd/src/net/osmand/plus/base/MapViewTrackingUtilities.java
+++ b/OsmAnd/src/net/osmand/plus/base/MapViewTrackingUtilities.java
@@ -263,7 +263,7 @@ public void updateLocation(Location location) {
 				}
 				registerUnregisterSensor(location, smallSpeedForCompass);
 
-				if (mapRenderer != null && !settings.USE_V1_AUTO_ZOOM.get()) {
+				if (mapRenderer != null && !settings.USE_DISCRETE_AUTO_ZOOM.get()) {
 					setMyLocationV2(mapView, mapRenderer, location, movingTime, rotation);
 				} else {
 					setMyLocationV1(mapView, location, movingTime, rotation, pendingRotation);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java b/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
index b26ac13f0b4..0033c688b65 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
@@ -62,15 +62,11 @@ protected void setupPreferences() {
 		Preference safeCategory = findPreference("safe");
 		safeCategory.setIconSpaceReserved(false);
 		setupSafeModePref();
-		setupApproximationSafeModePref();
 
 		Preference routingCategory = findPreference("routing");
 		routingCategory.setIconSpaceReserved(false);
 
 		setupSimulateYourLocationPref();
-		setupUseV1AutoZoom();
-		setupUseHHRoutingPref();
-		setupHHRoutingCppPref();
 
 		Preference debuggingAndDevelopment = findPreference("debugging_and_development");
 		debuggingAndDevelopment.setIconSpaceReserved(false);
@@ -112,28 +108,6 @@ private void setupSafeModePref() {
 		}
 	}
 
-	private void setupApproximationSafeModePref() {
-		SwitchPreferenceEx safeMode = findPreference(settings.APPROX_SAFE_MODE.getId());
-		safeMode.setDescription(getString(R.string.approx_safe_mode_description));
-		safeMode.setIconSpaceReserved(false);
-	}
-
-	private void setupUseHHRoutingPref() {
-		SwitchPreferenceEx preference = findPreference(settings.USE_HH_ROUTING.getId());
-		findPreference(settings.HH_ROUTING_CPP.getId()).setEnabled(preference.isChecked());
-		preference.setIconSpaceReserved(false);
-	}
-
-	private void setupHHRoutingCppPref() {
-		SwitchPreferenceEx preference = findPreference(settings.HH_ROUTING_CPP.getId());
-		preference.setIconSpaceReserved(false);
-	}
-
-	private void setupUseV1AutoZoom() {
-		SwitchPreferenceEx preference = findPreference(settings.USE_V1_AUTO_ZOOM.getId());
-		preference.setIconSpaceReserved(false);
-	}
-
 	private void setupHeightmapRelatedPrefs() {
 		SwitchPreferenceEx preference = findPreference(plugin.USE_RASTER_SQLITEDB.getId());
 		preference.setIconSpaceReserved(false);
@@ -367,9 +341,6 @@ public boolean onPreferenceChange(Preference preference, Object newValue) {
 		} else if (settings.TRANSPARENT_STATUS_BAR.getId().equals(prefId) && newValue instanceof Boolean) {
 			restartActivity();
 			return true;
-		} else if (settings.USE_HH_ROUTING.getId().equals(prefId)) {
-			boolean checked = (Boolean) newValue;
-			findPreference(settings.HH_ROUTING_CPP.getId()).setEnabled(checked);
 		}
 		return super.onPreferenceChange(preference, newValue);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java b/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
index d75568a51a0..643334cdb67 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
@@ -86,7 +86,6 @@ public OsmandDevelopmentPlugin(@NonNull OsmandApplication app) {
 		WidgetsAvailabilityHelper.regWidgetVisibility(DEV_TARGET_DISTANCE, noAppMode);
 
 		pluginPreferences.add(settings.SAFE_MODE);
-		pluginPreferences.add(settings.APPROX_SAFE_MODE);
 		pluginPreferences.add(settings.DEBUG_RENDERING_INFO);
 		pluginPreferences.add(settings.SHOULD_SHOW_FREE_VERSION_BANNER);
 		pluginPreferences.add(settings.TRANSPARENT_STATUS_BAR);
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java
index de1462e9efd..7e1450b5839 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/EmissionHelper.java
@@ -23,7 +23,7 @@
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.backend.preferences.OsmandPreference;
-import net.osmand.plus.settings.fragments.RouteParametersFragment.ListParameters;
+import net.osmand.plus.settings.preferences.ListParameters;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.RoutingParameter;
 import net.osmand.util.Algorithms;
diff --git a/OsmAnd/src/net/osmand/plus/routing/RouteProvider.java b/OsmAnd/src/net/osmand/plus/routing/RouteProvider.java
index 83294a36ca5..df8b8d47149 100644
--- a/OsmAnd/src/net/osmand/plus/routing/RouteProvider.java
+++ b/OsmAnd/src/net/osmand/plus/routing/RouteProvider.java
@@ -1,6 +1,9 @@
 package net.osmand.plus.routing;
 
 
+import static net.osmand.plus.settings.enums.RoutingType.A_STAR_2_PHASE;
+import static net.osmand.plus.settings.enums.RoutingType.HH_CPP;
+
 import android.os.Bundle;
 import android.util.Base64;
 
@@ -32,6 +35,7 @@
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
+import net.osmand.plus.settings.enums.RoutingType;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.RoutingParameter;
 import net.osmand.router.GeneralRouter.RoutingParameterType;
@@ -756,13 +760,13 @@ protected RoutingEnvironment calculateRoutingEnvironment(RouteCalculationParams
 		RoutePlannerFrontEnd router = new RoutePlannerFrontEnd();
 
 		OsmandSettings settings = params.ctx.getSettings();
-		if (settings.USE_HH_ROUTING.get()) {
+		RoutingType routingType = settings.ROUTING_TYPE.getModeValue(params.mode);
+		if (routingType.isHHRouting()) {
 			router.setDefaultHHRoutingConfig();
-			router.setHHRouteCpp(settings.HH_ROUTING_CPP.get());
+			router.setHHRouteCpp(routingType == HH_CPP);
 		} else {
 			router.setHHRoutingConfig(null);
 		}
-		router.setUseFastRecalculation(settings.USE_FAST_RECALCULATION.get());
 		router.setUseNativeApproximation(!settings.APPROX_SAFE_MODE.get());
 
 		RoutingConfiguration.Builder config = params.ctx.getRoutingConfigForMode(params.mode);
@@ -810,10 +814,6 @@ protected RoutingEnvironment calculateRoutingEnvironment(RouteCalculationParams
 		params.ctx.getResourceManager().getRenderer().checkInitialized(15, lib, leftX, rightX, bottomY, topY);
 
 		RoutingContext ctx = router.buildRoutingContext(cf, lib, files, RouteCalculationMode.NORMAL);
-
-		RoutingContext complexCtx = null;
-		boolean complex = !skipComplex && params.mode.isDerivedRoutingFrom(ApplicationMode.CAR) && !settings.DISABLE_COMPLEX_ROUTING.get()
-				&& precalculated == null;
 		ctx.leftSideNavigation = params.leftSide;
 		ctx.calculationProgress = params.calculationProgress;
 		ctx.publicTransport = params.inPublicTransportMode;
@@ -826,9 +826,10 @@ protected RoutingEnvironment calculateRoutingEnvironment(RouteCalculationParams
 				ctx.previouslyCalculatedRoute = originalRoute.subList(currentRoute, originalRoute.size());
 			}
 		}
-		if (complex && router.getRecalculationEnd(ctx) != null) {
-			complex = false;
-		}
+		boolean complex = !skipComplex && params.mode.isDerivedRoutingFrom(ApplicationMode.CAR)
+				&& routingType == A_STAR_2_PHASE && precalculated == null && router.getRecalculationEnd(ctx) == null;
+
+		RoutingContext complexCtx = null;
 		if (complex) {
 			complexCtx = router.buildRoutingContext(cf, lib, files, RouteCalculationMode.COMPLEX);
 			complexCtx.calculationProgress = params.calculationProgress;
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmAndPreferencesDataStore.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmAndPreferencesDataStore.java
index e9ec610d034..22e662bbe54 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmAndPreferencesDataStore.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmAndPreferencesDataStore.java
@@ -1,5 +1,9 @@
 package net.osmand.plus.settings.backend;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.preference.PreferenceDataStore;
+
 import net.osmand.plus.settings.backend.preferences.BooleanPreference;
 import net.osmand.plus.settings.backend.preferences.FloatPreference;
 import net.osmand.plus.settings.backend.preferences.IntPreference;
@@ -7,10 +11,6 @@
 import net.osmand.plus.settings.backend.preferences.OsmandPreference;
 import net.osmand.plus.settings.backend.preferences.StringPreference;
 
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import androidx.preference.PreferenceDataStore;
-
 import java.util.Set;
 
 public class OsmAndPreferencesDataStore extends PreferenceDataStore {
@@ -50,8 +50,7 @@ public void putFloat(String key, float value) {
 
 	@Override
 	public void putBoolean(String key, boolean value) {
-		if (osmandSettings.DISABLE_COMPLEX_ROUTING.getId().equals(key)
-				|| osmandSettings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(key)) {
+		if (osmandSettings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(key)) {
 			osmandSettings.setPreference(key, !value, appMode);
 		} else {
 			osmandSettings.setPreference(key, value, appMode);
@@ -115,8 +114,7 @@ public boolean getBoolean(String key, boolean defValue) {
 		OsmandPreference<?> preference = osmandSettings.getPreference(key);
 		if (preference instanceof BooleanPreference) {
 			BooleanPreference booleanPreference = (BooleanPreference) preference;
-			if (osmandSettings.DISABLE_COMPLEX_ROUTING.getId().equals(booleanPreference.getId())
-					|| osmandSettings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(booleanPreference.getId())) {
+			if (osmandSettings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(booleanPreference.getId())) {
 				return !booleanPreference.getModeValue(appMode);
 			}
 			return booleanPreference.getModeValue(appMode);
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 2fb4c4eb99a..f84685bdb4b 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -15,6 +15,7 @@
 import static net.osmand.plus.settings.backend.storages.IntermediatePointsStorage.INTERMEDIATE_POINTS_DESCRIPTION;
 import static net.osmand.plus.settings.enums.LocationSource.ANDROID_API;
 import static net.osmand.plus.settings.enums.LocationSource.GOOGLE_PLAY_SERVICES;
+import static net.osmand.plus.settings.enums.RoutingType.A_STAR_2_PHASE;
 import static net.osmand.plus.settings.enums.SpeedLimitWarningState.WHEN_EXCEEDED;
 import static net.osmand.plus.settings.enums.WidgetSize.MEDIUM;
 import static net.osmand.plus.views.mapwidgets.WidgetsPanel.PAGE_SEPARATOR;
@@ -862,7 +863,6 @@ public boolean enablePlugin(String pluginId, boolean enable) {
 	public final CommonPreference<Boolean> COORDS_INPUT_USE_OSMAND_KEYBOARD = new BooleanPreference(this, "coords_input_use_osmand_keyboard", Build.VERSION.SDK_INT >= 16).makeGlobal().makeShared();
 	public final CommonPreference<Boolean> COORDS_INPUT_TWO_DIGITS_LONGTITUDE = new BooleanPreference(this, "coords_input_two_digits_longitude", false).makeGlobal().makeShared();
 
-	public final CommonPreference<Boolean> USE_FAST_RECALCULATION = new BooleanPreference(this, "use_fast_recalculation", true).makeProfile().cache();
 	public final CommonPreference<Boolean> FORCE_PRIVATE_ACCESS_ROUTING_ASKED = new BooleanPreference(this, "force_private_access_routing", false).makeProfile().cache();
 
 	public final CommonPreference<Boolean> SHOW_CARD_TO_CHOOSE_DRAWER = new BooleanPreference(this, "show_card_to_choose_drawer", false).makeGlobal().makeShared();
@@ -1457,8 +1457,9 @@ public boolean isProxyEnabled() {
 	public final CommonPreference<Integer> TRACK_STORAGE_DIRECTORY = new IntPreference(this, "track_storage_directory", 0).makeProfile();
 
 	public final OsmandPreference<Boolean> FAST_ROUTE_MODE = new BooleanPreference(this, "fast_route_mode", true).makeProfile();
-	// dev version
-	public final CommonPreference<Boolean> DISABLE_COMPLEX_ROUTING = new BooleanPreference(this, "disable_complex_routing", false).makeProfile();
+
+	public final CommonPreference<RoutingType> ROUTING_TYPE = new EnumStringPreference<>(this, "routing_type", A_STAR_2_PHASE, RoutingType.values()).makeProfile().cache();
+
 	public final CommonPreference<Boolean> ENABLE_TIME_CONDITIONAL_ROUTING = new BooleanPreference(this, "enable_time_conditional_routing", true).makeProfile();
 
 	public boolean simulateNavigation;
@@ -1806,9 +1807,8 @@ public boolean shouldHidePolygons(boolean groundPolygons) {
 	public CommonPreference<String> PREVIOUS_INSTALLED_VERSION = new StringPreference(this, "previous_installed_version", "").makeGlobal();
 
 	public final OsmandPreference<Boolean> SHOULD_SHOW_FREE_VERSION_BANNER = new BooleanPreference(this, "should_show_free_version_banner", false).makeGlobal().makeShared().cache();
-	public final OsmandPreference<Boolean> USE_HH_ROUTING = new BooleanPreference(this, "use_hh_routing", false).makeGlobal().makeShared().cache();
-	public final OsmandPreference<Boolean> HH_ROUTING_CPP = new BooleanPreference(this, "hh_routing_cpp", false).makeGlobal().makeShared().cache();
-	public final OsmandPreference<Boolean> USE_V1_AUTO_ZOOM = new BooleanPreference(this, "use_v1_auto_zoom", false).makeGlobal().makeShared().cache();
+
+	public final OsmandPreference<Boolean> USE_DISCRETE_AUTO_ZOOM = new BooleanPreference(this, "use_v1_auto_zoom", false).makeGlobal().makeShared().cache();
 	public final OsmandPreference<Boolean> TRANSPARENT_STATUS_BAR = new BooleanPreference(this, "transparent_status_bar", true).makeGlobal().makeShared();
 
 	public final OsmandPreference<Boolean> SHOW_INFO_ABOUT_PRESSED_KEY = new BooleanPreference(this, "show_info_about_pressed_key", false).makeGlobal().makeShared();
diff --git a/OsmAnd/src/net/osmand/plus/settings/enums/RoutingType.java b/OsmAnd/src/net/osmand/plus/settings/enums/RoutingType.java
new file mode 100644
index 00000000000..67c194697b3
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/settings/enums/RoutingType.java
@@ -0,0 +1,37 @@
+package net.osmand.plus.settings.enums;
+
+import android.content.Context;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.StringRes;
+
+import net.osmand.plus.R;
+
+public enum RoutingType {
+
+	A_STAR_2_PHASE(R.string.routing_type_a_star_2_phase),
+	A_STAR_CLASSIC(R.string.routing_type_a_star_classic),
+	HH_JAVA(R.string.routing_type_hh_java),
+	HH_CPP(R.string.routing_type_hh_cpp);
+
+	@StringRes
+	private final int titleId;
+
+	RoutingType(@StringRes int titleId) {
+		this.titleId = titleId;
+	}
+
+	@StringRes
+	public int getTitleId() {
+		return titleId;
+	}
+
+	@NonNull
+	public String toHumanString(@NonNull Context ctx) {
+		return ctx.getString(getTitleId());
+	}
+
+	public boolean isHHRouting() {
+		return this == HH_JAVA || this == HH_CPP;
+	}
+}
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
index c0d864cef74..b68c9763092 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteParametersFragment.java
@@ -2,14 +2,15 @@
 
 import static net.osmand.plus.routepreparationmenu.RoutingOptionsHelper.DRIVING_STYLE;
 import static net.osmand.plus.settings.backend.OsmandSettings.ROUTING_PREFERENCE_PREFIX;
+import static net.osmand.plus.settings.enums.RoutingType.HH_JAVA;
 import static net.osmand.plus.settings.fragments.DangerousGoodsFragment.getHazmatUsaClass;
 import static net.osmand.plus.settings.fragments.SettingsScreenType.DANGEROUS_GOODS;
 import static net.osmand.plus.utils.AndroidUtils.getRoutingStringPropertyName;
+import static net.osmand.router.GeneralRouter.ALLOW_VIA_FERRATA;
 import static net.osmand.router.GeneralRouter.GOODS_RESTRICTIONS;
 import static net.osmand.router.GeneralRouter.HAZMAT_CATEGORY;
 import static net.osmand.router.GeneralRouter.USE_HEIGHT_OBSTACLES;
 import static net.osmand.router.GeneralRouter.USE_SHORTEST_WAY;
-import static net.osmand.router.GeneralRouter.ALLOW_VIA_FERRATA;
 
 import android.app.Activity;
 import android.content.Context;
@@ -57,6 +58,8 @@
 import net.osmand.plus.settings.bottomsheets.RecalculateRouteInDeviationBottomSheet;
 import net.osmand.plus.settings.controllers.ViaFerrataDialogController;
 import net.osmand.plus.settings.enums.DrivingRegion;
+import net.osmand.plus.settings.enums.RoutingType;
+import net.osmand.plus.settings.preferences.ListParameters;
 import net.osmand.plus.settings.preferences.ListPreferenceEx;
 import net.osmand.plus.settings.preferences.MultiSelectBooleanPreference;
 import net.osmand.plus.settings.preferences.SwitchPreferenceEx;
@@ -64,6 +67,10 @@
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.widgets.popup.PopUpMenu;
+import net.osmand.plus.widgets.popup.PopUpMenuDisplayData;
+import net.osmand.plus.widgets.popup.PopUpMenuItem;
+import net.osmand.plus.widgets.popup.PopUpMenuWidthMode;
 import net.osmand.router.GeneralRouter;
 import net.osmand.router.GeneralRouter.RoutingParameter;
 import net.osmand.router.GeneralRouter.RoutingParameterType;
@@ -151,6 +158,7 @@ protected void onBindPreferenceViewHolder(@NonNull Preference preference, @NonNu
 				imageView.setImageDrawable(layerDrawable);
 			}
 		}
+		holder.itemView.setTag(preference);
 	}
 
 	private void setupTimeConditionalRoutingPref() {
@@ -195,27 +203,6 @@ private void setupOsmLiveForRoutingPref() {
 		getPreferenceScreen().addPreference(useOsmLiveForRouting);
 	}
 
-	private void setupDisableComplexRoutingPref() {
-		SwitchPreferenceEx disableComplexRouting = createSwitchPreferenceEx(settings.DISABLE_COMPLEX_ROUTING.getId(),
-				R.string.use_two_phase_routing, R.layout.preference_with_descr_dialog_and_switch);
-		disableComplexRouting.setDescription(getString(R.string.complex_routing_descr));
-		disableComplexRouting.setSummaryOn(R.string.shared_string_enabled);
-		disableComplexRouting.setSummaryOff(R.string.shared_string_disabled);
-		disableComplexRouting.setIconSpaceReserved(true);
-		getPreferenceScreen().addPreference(disableComplexRouting);
-	}
-
-	private void setupFastRecalculationPref() {
-		SwitchPreferenceEx useFastRecalculation = createSwitchPreferenceEx(settings.USE_FAST_RECALCULATION.getId(),
-				R.string.use_fast_recalculation, R.layout.preference_with_descr_dialog_and_switch);
-		useFastRecalculation.setDescription(getString(R.string.use_fast_recalculation_desc));
-		useFastRecalculation.setSummaryOn(R.string.shared_string_enabled);
-		useFastRecalculation.setSummaryOff(R.string.shared_string_disabled);
-		useFastRecalculation.setIcon(getPersistentPrefIcon(R.drawable.ic_action_route_part));
-		useFastRecalculation.setIconSpaceReserved(true);
-		getPreferenceScreen().addPreference(useFastRecalculation);
-	}
-
 	private void setupRoutingPrefs() {
 		OsmandApplication app = getMyApplication();
 		if (app == null) {
@@ -415,19 +402,18 @@ private void setupRouteRecalcHeader(PreferenceScreen screen) {
 		screen.addPreference(routingCategory);
 	}
 
-	private void setupDevelopmentCategoryPreferences(PreferenceScreen screen, ApplicationMode am) {
+	private void setupDevelopmentCategoryPreferences(PreferenceScreen screen, ApplicationMode mode) {
 		addDivider(screen);
 		setupDevelopmentCategoryHeader(screen);
-		if (am.isDerivedRoutingFrom(ApplicationMode.PUBLIC_TRANSPORT)) {
+		if (mode.isDerivedRoutingFrom(ApplicationMode.PUBLIC_TRANSPORT)) {
 			setupOsmLiveForPublicTransportPref();
 			setupNativePublicTransport();
 		} else {
+			setupRoutingTypePref();
+			setupGpxApproximationPref();
+			setupAutoZoomPref();
 			setupOsmLiveForRoutingPref();
-			if (am.isDerivedRoutingFrom(ApplicationMode.CAR)) {
-				setupDisableComplexRoutingPref();
-			}
 		}
-		setupFastRecalculationPref();
 	}
 
 	private void setupDevelopmentCategoryHeader(PreferenceScreen screen) {
@@ -437,6 +423,118 @@ private void setupDevelopmentCategoryHeader(PreferenceScreen screen) {
 		screen.addPreference(developmentCategory);
 	}
 
+	private void setupGpxApproximationPref() {
+		Preference preference = new Preference(requireContext());
+		preference.setKey(settings.APPROX_SAFE_MODE.getId());
+		preference.setTitle(R.string.gpx_approximation);
+		preference.setLayoutResource(R.layout.preference_with_descr);
+		preference.setIcon(getContentIcon(R.drawable.ic_action_attach_track));
+		preference.setSummary(settings.APPROX_SAFE_MODE.get() ? R.string.java_safe : R.string.cpp);
+		getPreferenceScreen().addPreference(preference);
+	}
+
+	private void showGpxApproximationDialog(@NonNull Preference preference) {
+		boolean selected = settings.APPROX_SAFE_MODE.getModeValue(getSelectedAppMode());
+
+		List<PopUpMenuItem> items = new ArrayList<>();
+		items.add(new PopUpMenuItem.Builder(preference.getContext())
+				.setTitleId(R.string.java_safe)
+				.setSelected(selected)
+				.showCompoundBtn(getActiveProfileColor())
+				.setOnClickListener(itemView -> onPreferenceChange(preference, true))
+				.create());
+
+		items.add(new PopUpMenuItem.Builder(preference.getContext())
+				.setTitleId(R.string.cpp)
+				.setSelected(!selected)
+				.showCompoundBtn(getActiveProfileColor())
+				.setOnClickListener(itemView -> onPreferenceChange(preference, false))
+				.create());
+
+		PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
+		displayData.anchorView = getListView().findViewWithTag(preference);
+		displayData.menuItems = items;
+		displayData.nightMode = isNightMode();
+		displayData.widthMode = PopUpMenuWidthMode.STANDARD;
+		PopUpMenu.show(displayData);
+	}
+
+	private void setupAutoZoomPref() {
+		Preference preference = new Preference(requireContext());
+		preference.setKey(settings.USE_DISCRETE_AUTO_ZOOM.getId());
+		preference.setTitle(R.string.auto_zoom);
+		preference.setLayoutResource(R.layout.preference_with_descr);
+		preference.setIcon(getContentIcon(R.drawable.ic_action_magnifier_plus));
+		preference.setSummary(settings.USE_DISCRETE_AUTO_ZOOM.get() ? R.string.auto_zoom_discrete : R.string.auto_zoom_smooth);
+		getPreferenceScreen().addPreference(preference);
+	}
+
+	private void showAutoZoomDialog(@NonNull Preference preference) {
+		boolean discrete = settings.USE_DISCRETE_AUTO_ZOOM.getModeValue(getSelectedAppMode());
+
+		List<PopUpMenuItem> items = new ArrayList<>();
+		items.add(new PopUpMenuItem.Builder(preference.getContext())
+				.setTitleId(R.string.auto_zoom_discrete)
+				.setSelected(discrete)
+				.showCompoundBtn(getActiveProfileColor())
+				.setOnClickListener(itemView -> onPreferenceChange(preference, true))
+				.create());
+
+		items.add(new PopUpMenuItem.Builder(preference.getContext())
+				.setTitleId(R.string.auto_zoom_smooth)
+				.setSelected(!discrete)
+				.showCompoundBtn(getActiveProfileColor())
+				.setOnClickListener(itemView -> onPreferenceChange(preference, false))
+				.create());
+
+		PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
+		displayData.anchorView = getListView().findViewWithTag(preference);
+		displayData.menuItems = items;
+		displayData.nightMode = isNightMode();
+		displayData.widthMode = PopUpMenuWidthMode.STANDARD;
+		PopUpMenu.show(displayData);
+	}
+
+	private void showRoutingTypeDialog(@NonNull Preference preference) {
+		List<PopUpMenuItem> items = new ArrayList<>();
+
+		RoutingType selectedType = settings.ROUTING_TYPE.getModeValue(getSelectedAppMode());
+
+		for (RoutingType type : RoutingType.values()) {
+			items.add(new PopUpMenuItem.Builder(app)
+					.setTitleId(type.getTitleId())
+					.setSelected(selectedType == type)
+					.showTopDivider(type == HH_JAVA)
+					.showCompoundBtn(getActiveProfileColor())
+					.setOnClickListener(v -> onPreferenceChange(preference, type))
+					.create());
+		}
+
+		PopUpMenuDisplayData displayData = new PopUpMenuDisplayData();
+		displayData.anchorView = getListView().findViewWithTag(preference);
+		displayData.menuItems = items;
+		displayData.nightMode = isNightMode();
+		displayData.widthMode = PopUpMenuWidthMode.STANDARD;
+		PopUpMenu.show(displayData);
+	}
+
+	private void setupRoutingTypePref() {
+		RoutingType[] types = RoutingType.values();
+		String[] names = new String[types.length];
+		Integer[] values = new Integer[types.length];
+
+		for (int i = 0; i < names.length; i++) {
+			RoutingType type = types[i];
+			values[i] = type.ordinal();
+			names[i] = type.toHumanString(app);
+		}
+
+		ListPreferenceEx preference = createListPreferenceEx(settings.ROUTING_TYPE.getId(), names,
+				values, R.string.routing_type, R.layout.preference_with_descr);
+		preference.setIcon(getContentIcon(R.drawable.ic_action_route_points));
+		getPreferenceScreen().addPreference(preference);
+	}
+
 	@Override
 	public boolean onPreferenceClick(Preference preference) {
 		String prefId = preference.getKey();
@@ -467,6 +565,10 @@ public boolean onPreferenceClick(Preference preference) {
 			}
 		} else if (DANGEROUS_GOODS_USA.equals(prefId)) {
 			BaseSettingsFragment.showInstance(requireActivity(), DANGEROUS_GOODS, appMode, new Bundle(), this);
+		} else if (settings.APPROX_SAFE_MODE.getId().equals(prefId)) {
+			showGpxApproximationDialog(preference);
+		} else if (settings.USE_DISCRETE_AUTO_ZOOM.getId().equals(prefId)) {
+			showAutoZoomDialog(preference);
 		}
 		return super.onPreferenceClick(preference);
 	}
@@ -474,23 +576,23 @@ public boolean onPreferenceClick(Preference preference) {
 	@Override
 	public void onDisplayPreferenceDialog(Preference preference) {
 		String prefId = preference.getKey();
-		if (prefId.equals(settings.ROUTE_RECALCULATION_DISTANCE.getId())) {
-			FragmentManager manager = getFragmentManager();
+		ApplicationMode appMode = getSelectedAppMode();
+		FragmentManager manager = getFragmentManager();
+
+		if (settings.ROUTE_RECALCULATION_DISTANCE.getId().equals(prefId)) {
 			if (manager != null) {
 				RecalculateRouteInDeviationBottomSheet.showInstance(manager, prefId, this, false, getSelectedAppMode());
 			}
 		} else if (!reliefFactorParameters.isEmpty() && prefId.equals(ROUTING_PREFERENCE_PREFIX + USE_HEIGHT_OBSTACLES)) {
-			FragmentManager manager = getFragmentManager();
 			if (manager != null) {
-				ApplicationMode appMode = getSelectedAppMode();
 				ElevationDateBottomSheet.showInstance(manager, appMode, this, false);
 			}
 		} else if (AVOID_ROUTING_PARAMETER_PREFIX.equals(prefId)) {
-			FragmentManager manager = getFragmentManager();
 			if (manager != null) {
-				ApplicationMode appMode = getSelectedAppMode();
 				AvoidRoadsPreferencesBottomSheet.showInstance(manager, prefId, this, appMode, false, isProfileDependent());
 			}
+		} else if (settings.ROUTING_TYPE.getId().equals(prefId)) {
+			showRoutingTypeDialog(preference);
 		} else {
 			super.onDisplayPreferenceDialog(preference);
 		}
@@ -749,12 +851,11 @@ private void removeRoutingPrefListeners() {
 
 	@Override
 	public boolean onPreferenceChange(Preference preference, Object newValue) {
-		if ((settings.DISABLE_COMPLEX_ROUTING.getId().equals(preference.getKey()) ||
-				settings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(preference.getKey())) &&
-				newValue instanceof Boolean) {
-			return onConfirmPreferenceChange(preference.getKey(), !(Boolean) newValue, getApplyQueryType()); // pref ui was inverted
+		String prefId = preference.getKey();
+		if (settings.DISABLE_WRONG_DIRECTION_RECALC.getId().equals(prefId) && newValue instanceof Boolean) {
+			return onConfirmPreferenceChange(prefId, !(Boolean) newValue, getApplyQueryType()); // pref ui was inverted
 		}
-		return onConfirmPreferenceChange(preference.getKey(), newValue, getApplyQueryType());
+		return onConfirmPreferenceChange(prefId, newValue, getApplyQueryType());
 	}
 
 	@Override
