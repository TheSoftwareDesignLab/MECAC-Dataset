diff --git a/OsmAnd/src/net/osmand/plus/activities/EditPOIFilterActivity.java b/OsmAnd/src/net/osmand/plus/activities/EditPOIFilterActivity.java
index 89e62d00189..ccb66ba2d8d 100644
--- a/OsmAnd/src/net/osmand/plus/activities/EditPOIFilterActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/EditPOIFilterActivity.java
@@ -252,7 +252,12 @@ public void onClick(DialogInterface dialog, int which) {
 					filter.selectSubTypesToAccept(amenity, accepted);
 				}
 				helper.editPoiFilter(filter);
-				((AmenityAdapter) EditPOIFilterActivity.this.getListAdapter()).notifyDataSetInvalidated();
+				ListView lv = EditPOIFilterActivity.this.getListView();
+				int x = lv.getScrollX();
+				int y = lv.getScrollY();
+				AmenityAdapter la = (AmenityAdapter) EditPOIFilterActivity.this.getListAdapter();
+				la.notifyDataSetInvalidated();
+				lv.scrollTo(x, y);
 			}
 		});
 	
@@ -261,7 +266,12 @@ public void onClick(DialogInterface dialog, int which) {
 			public void onClick(DialogInterface dialog, int which) {
 				filter.selectSubTypesToAccept(amenity, null);
 				helper.editPoiFilter(filter);
-				((AmenityAdapter) EditPOIFilterActivity.this.getListAdapter()).notifyDataSetInvalidated();
+				ListView lv = EditPOIFilterActivity.this.getListView();
+				int x = lv.getScrollX();
+				int y = lv.getScrollY();
+				AmenityAdapter la = (AmenityAdapter) EditPOIFilterActivity.this.getListAdapter();
+				la.notifyDataSetInvalidated();
+				lv.scrollTo(x, y);
 			}
 		});
 
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
index d467a13c744..d0da31688b3 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
@@ -36,6 +36,7 @@
 import net.osmand.plus.views.OsmandMapTileView;
 import net.osmand.render.RenderingRulesStorage;
 import net.osmand.util.Algorithms;
+import android.app.AlertDialog;
 import android.app.Dialog;
 import android.app.Notification;
 import android.app.NotificationManager;
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java b/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
index a978ed56343..0dafd57fe94 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
@@ -962,7 +962,7 @@ public void onPrepareDialog(int id, Dialog dialog) {
 	}
 	
 	
-	public void openOptionsMenuAsList() {
+	public AlertDialog openOptionsMenuAsList() {
 		final ContextMenuAdapter cm = createOptionsMenu();
 		final Builder bld = new AlertDialog.Builder(mapActivity);
 		ListAdapter listAdapter ;
@@ -982,7 +982,7 @@ public void onClick(DialogInterface dialog, int which) {
 				}
 			}
 		});
-		bld.show();
+		return bld.show();
 
 	}
 
