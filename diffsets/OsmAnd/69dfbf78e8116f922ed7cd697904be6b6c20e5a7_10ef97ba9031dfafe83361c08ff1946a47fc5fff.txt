diff --git a/OsmAnd/res/layout/popup_menu_item.xml b/OsmAnd/res/layout/popup_menu_item.xml
index e1ab92ee814..2d55293fe82 100644
--- a/OsmAnd/res/layout/popup_menu_item.xml
+++ b/OsmAnd/res/layout/popup_menu_item.xml
@@ -23,8 +23,7 @@
 			android:id="@+id/divider"
 			android:layout_width="match_parent"
 			android:layout_height="1dp"
-			android:layout_marginStart="@dimen/content_padding"
-			android:background="?attr/list_divider" />
+			android:background="?attr/divider_color" />
 
 		<LinearLayout
 			android:layout_width="match_parent"
diff --git a/OsmAnd/res/values-ar/strings.xml b/OsmAnd/res/values-ar/strings.xml
index 67f162541a7..d611ce2a5b2 100644
--- a/OsmAnd/res/values-ar/strings.xml
+++ b/OsmAnd/res/values-ar/strings.xml
@@ -5090,7 +5090,6 @@
     <string name="no_visible_tracks_description">حدد المسارات لعرضها على الخريطة.</string>
     <string name="no_visible_tracks">لا توجد مسارات على الخريطة</string>
     <string name="recently_visible">المشاهد مؤخرا %1$s</string>
-    <string name="change_default_tracks_appearance_confirmation_description">هل تريد تغيير مظهر مسارات %1$s؟</string>
     <string name="empty_tracks_description">يمكنك استيراد أو إنشاء أو تسجيل ملفات المسار باستخدام أوسماند.</string>
     <string name="show_all_tracks">عرض جميع المسارات</string>
     <string name="change_appearance">تغيير المظهر</string>
diff --git a/OsmAnd/res/values-ars/strings.xml b/OsmAnd/res/values-ars/strings.xml
index 123dab72b92..c8cce8d44d9 100644
--- a/OsmAnd/res/values-ars/strings.xml
+++ b/OsmAnd/res/values-ars/strings.xml
@@ -3759,7 +3759,6 @@
     <string name="settings_privacy">الخصوصية</string>
     <string name="monitoring_prefs_descr">الملاحة ، دقة التسجيل</string>
     <string name="backup_welcome_back_descr">قم باستعادة البيانات الموجودة على هذا الجهاز باستخدام OsmAnd Cloud.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">هل تريد تغيير مظهر مسارات %1$s؟</string>
     <string name="shared_string_inches">بوصات</string>
     <string name="auto_announce_off">إيقاف التنبيه التلقائي</string>
     <string name="show_all_tracks">عرض جميع المسارات</string>
diff --git a/OsmAnd/res/values-b+sr+Latn/strings.xml b/OsmAnd/res/values-b+sr+Latn/strings.xml
index 2c2a787d0be..4f2e2a8842d 100644
--- a/OsmAnd/res/values-b+sr+Latn/strings.xml
+++ b/OsmAnd/res/values-b+sr+Latn/strings.xml
@@ -5014,7 +5014,6 @@
     <string name="cache_size">Veličina podataka</string>
     <string name="routing_attr_allow_via_ferrata_name">Planinska ruta (Via ferata)</string>
     <string name="routing_attr_allow_via_ferrata_description">Planinarska putanja opremljena postavljenim užadima, gredama, lestvicama i brvnima.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Da li izmeniti izgled trase %1$s?</string>
     <string name="empty_tracks_description">Možeš uvoziti, kreirati ili snimati fajlove trasa korišćenjem OsmAnda.</string>
     <string name="empty_tracks">Nema fajla trase.</string>
     <string name="switch_folder">Promeni folder</string>
diff --git a/OsmAnd/res/values-bg/strings.xml b/OsmAnd/res/values-bg/strings.xml
index 7fdcd67d60f..c32f61725c4 100644
--- a/OsmAnd/res/values-bg/strings.xml
+++ b/OsmAnd/res/values-bg/strings.xml
@@ -2971,7 +2971,6 @@
 \nДанните за времето се предоставят от Глобалната система за прогнози (GFS, %1$s).</string>
     <string name="empty_screen_weather_clouds_layer">Включете, за да видите слой с облачното покритие на картата.</string>
     <string name="default_appearance">Външен вид по подразбиране</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Променяне на външния вид на %1$s трасета\?</string>
     <string name="determine_location">Позволете ни да определим местоположението ви</string>
     <string name="si_nm_ft">Морски мили/футове</string>
     <string name="share_link">Препратка за споделяне</string>
diff --git a/OsmAnd/res/values-cs/strings.xml b/OsmAnd/res/values-cs/strings.xml
index 1139747909f..44312297ff2 100644
--- a/OsmAnd/res/values-cs/strings.xml
+++ b/OsmAnd/res/values-cs/strings.xml
@@ -4726,7 +4726,6 @@
     <string name="determine_location">Umožněte nám určit vaši polohu</string>
     <string name="weather_precip_in">v</string>
     <string name="display_position_automatic_descr">Závisí na orientaci mapy: dole pro režim ve směru pohybu, uprostřed pro všechny ostatní.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Změnit vzhled %1$s stop\?</string>
     <string name="no_visible_tracks_description">Vyberte stopy k zobrazení na mapě.</string>
     <string name="no_visible_tracks">Žádné stopy na mapě</string>
     <string name="recently_visible">Nedávno viditelné %1$s</string>
diff --git a/OsmAnd/res/values-da/strings.xml b/OsmAnd/res/values-da/strings.xml
index fcf22b64d52..22fa466cb39 100644
--- a/OsmAnd/res/values-da/strings.xml
+++ b/OsmAnd/res/values-da/strings.xml
@@ -5023,7 +5023,6 @@
     <string name="sound_beep_minimal">Bip: minimalt</string>
     <string name="last_synchronized">Sidst synkroniseret</string>
     <string name="display_position_automatic_descr">Afhænger af kortorientering: nederst for bevægelsesretning, centrum for alle andre.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Ændr udseendet af %1$s spor\?</string>
     <string name="shared_string_apply_changes">Anvend ændringer</string>
     <string name="no_visible_tracks_description">Vælg spor for at få dem vist på kortet.</string>
     <string name="no_visible_tracks">Ingen spor på kortet</string>
diff --git a/OsmAnd/res/values-de/strings.xml b/OsmAnd/res/values-de/strings.xml
index 33578d365b8..aa32dcc54b7 100644
--- a/OsmAnd/res/values-de/strings.xml
+++ b/OsmAnd/res/values-de/strings.xml
@@ -5025,7 +5025,6 @@
     <string name="last_synchronized">Zuletzt synchronisiert</string>
     <string name="display_position_automatic_descr">Abhängig von der Kartenausrichtung: unten für Bewegungsrichtung, mittig für alles andere.</string>
     <string name="shared_string_apply_changes">Änderungen anwenden</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Aussehen von %1$s-Tracks ändern\?</string>
     <string name="shared_string_kilograms">Kilogramm</string>
     <string name="shared_string_yards">Yards</string>
     <string name="recently_visible">Kürzlich sichtbar %1$s</string>
diff --git a/OsmAnd/res/values-el/strings.xml b/OsmAnd/res/values-el/strings.xml
index 1680798c7f2..ef11fb4f624 100644
--- a/OsmAnd/res/values-el/strings.xml
+++ b/OsmAnd/res/values-el/strings.xml
@@ -4115,7 +4115,6 @@
     <string name="delete_cloud_version">Διαγραφή cloud έκδοσης</string>
     <string name="no_items_selected_warning">Παρακαλούμε επιλέξτε τουλάχιστον ένα αντικείμενο</string>
     <string name="map_is_up_to_date">Ο χάρτης %1$s είναι ενημερωμένος.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Αλλάξτε την εμφάνιση %1$s ιχνών;</string>
     <string name="shared_string_inches">ίντσες</string>
     <string name="show_all_tracks">Εμφάνιση όλων των ιχνών</string>
     <string name="shared_string_on_map">Στο χάρτη</string>
diff --git a/OsmAnd/res/values-eo/strings.xml b/OsmAnd/res/values-eo/strings.xml
index a4464d999fa..894c8e8fab4 100644
--- a/OsmAnd/res/values-eo/strings.xml
+++ b/OsmAnd/res/values-eo/strings.xml
@@ -5016,7 +5016,6 @@
     <string name="shared_string_kilograms">kilogramoj</string>
     <string name="shared_string_yards">jardoj</string>
     <string name="shared_string_apply_changes">Apliki ŝanĝojn</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Ĉu ŝanĝi aspekton de %1$s spuro(j)\?</string>
     <string name="recently_visible">Antaŭe vidigitaj %1$s</string>
     <string name="no_visible_tracks_description">Elektu spurojn por vidigi ilin sur la mapo.</string>
     <string name="no_visible_tracks">Neniu spuro sur la mapo</string>
diff --git a/OsmAnd/res/values-es-rAR/strings.xml b/OsmAnd/res/values-es-rAR/strings.xml
index 313c4d60d2e..bd419525031 100644
--- a/OsmAnd/res/values-es-rAR/strings.xml
+++ b/OsmAnd/res/values-es-rAR/strings.xml
@@ -5033,7 +5033,6 @@
     <string name="sound_beep_simple_loud">Pitido: simple (alto)</string>
     <string name="last_synchronized">Última sincronización</string>
     <string name="display_position_automatic_descr">Depende de la orientación del mapa: «Abajo» para «Dirección del movimiento», «Centro» para el resto.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">¿Cambiar el aspecto de %1$s trazas\?</string>
     <string name="shared_string_apply_changes">Aplicar cambios</string>
     <string name="no_visible_tracks">Sin trazas en el mapa</string>
     <string name="no_visible_tracks_description">Marca las trazas a mostrar en el mapa.</string>
diff --git a/OsmAnd/res/values-es-rUS/strings.xml b/OsmAnd/res/values-es-rUS/strings.xml
index c3ccd1d9f65..196dc01073a 100644
--- a/OsmAnd/res/values-es-rUS/strings.xml
+++ b/OsmAnd/res/values-es-rUS/strings.xml
@@ -5031,7 +5031,6 @@
     <string name="weight_limit_error">El valor mínimo es de %1$s toneladas. Usa el perfil «%2$s» si el peso del vehículo es inferior al valor mínimo.</string>
     <string name="sound_beep_complex_loud">Pitido: complejo (alto)</string>
     <string name="sound_beep_complex">Pitido: complejo</string>
-    <string name="change_default_tracks_appearance_confirmation_description">¿Cambiar el aspecto de %1$s trazas\?</string>
     <string name="shared_string_apply_changes">Aplicar cambios</string>
     <string name="no_visible_tracks_description">Marca las trazas a mostrar en el mapa.</string>
     <string name="no_visible_tracks">Sin trazas en el mapa</string>
diff --git a/OsmAnd/res/values-es/strings.xml b/OsmAnd/res/values-es/strings.xml
index ce5ec481d1f..32d15237f12 100644
--- a/OsmAnd/res/values-es/strings.xml
+++ b/OsmAnd/res/values-es/strings.xml
@@ -5027,7 +5027,6 @@
     <string name="switch_folder">Cambiar de carpeta</string>
     <string name="shared_string_on_map">en el mapa</string>
     <string name="shared_string_apply_changes">Aplicar cambios</string>
-    <string name="change_default_tracks_appearance_confirmation_description">¿Cambiar la apariencia de %1$s pistas\?</string>
     <string name="empty_tracks_description">Puedes importar, crear o grabar archivos con las pistas con OsmAnd.</string>
     <string name="show_all_tracks">Mostrar todas las vías</string>
     <string name="shared_string_kilograms">kilogramos</string>
diff --git a/OsmAnd/res/values-eu/strings.xml b/OsmAnd/res/values-eu/strings.xml
index a516f282ae2..5f60c13f8dd 100644
--- a/OsmAnd/res/values-eu/strings.xml
+++ b/OsmAnd/res/values-eu/strings.xml
@@ -5025,7 +5025,6 @@
     <string name="empty_tracks_description">OsmAnd erabiliz arrasto-fitxategiak inportatu, sortu edo grabatu ditzakezu.</string>
     <string name="shared_string_kilograms">kilogramoak</string>
     <string name="approximate_bearing">Gutxi gora beherako noranzkoa</string>
-    <string name="change_default_tracks_appearance_confirmation_description">%1$s arrastoen itxura aldatu\?</string>
     <string name="no_visible_tracks">Ez dago arrastorik mapan</string>
     <string name="shared_string_select_recent">Hautatu azkena</string>
     <string name="sort_duration_ascending">Lehenengoa iraupen laburrenekoa</string>
diff --git a/OsmAnd/res/values-fi/strings.xml b/OsmAnd/res/values-fi/strings.xml
index fe23d448d76..325e8ef4bba 100644
--- a/OsmAnd/res/values-fi/strings.xml
+++ b/OsmAnd/res/values-fi/strings.xml
@@ -4035,7 +4035,6 @@
     <string name="external_device_characteristic_battery_level">Akku</string>
     <string name="external_device_characteristic_gear_ratio">Vaihdesuhde</string>
     <string name="shared_string_inches">tuumaa</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Muuta näkymää %1$s reiteille\?</string>
     <string name="shared_string_apply_changes">Vahvista muutokset</string>
     <string name="app_mode_moped">Mopedi</string>
     <string name="no_visible_tracks">Ei reittejä kartalla</string>
diff --git a/OsmAnd/res/values-fr/strings.xml b/OsmAnd/res/values-fr/strings.xml
index 4a36112f200..5727541caed 100644
--- a/OsmAnd/res/values-fr/strings.xml
+++ b/OsmAnd/res/values-fr/strings.xml
@@ -5019,7 +5019,6 @@
     <string name="recently_visible">Affiché récemment %1$s</string>
     <string name="shared_string_select_recent">Sélectionner les derniers</string>
     <string name="shared_string_on_map">Sur la carte</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Modifier l\'apparence de %1$s traces \?</string>
     <string name="shared_string_kilograms">kilogrammes</string>
     <string name="shared_string_yards">yards</string>
     <string name="inch">in</string>
diff --git a/OsmAnd/res/values-hu/strings.xml b/OsmAnd/res/values-hu/strings.xml
index 2772de844c5..d6069c70535 100644
--- a/OsmAnd/res/values-hu/strings.xml
+++ b/OsmAnd/res/values-hu/strings.xml
@@ -5027,7 +5027,6 @@
     <string name="shared_string_apply_changes">Módosítások alkalmazása</string>
     <string name="no_visible_tracks_description">Válassza ki a térképen megjelenítendő nyomvonalakat.</string>
     <string name="empty_tracks_description">Nyomvonal fájlokat az OsmAnd segítségével importálhat, hozhat létre vagy rögzíthet.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Megváltoztatja a %1$s nyomvonalak kinézetét\?</string>
     <string name="shared_string_kilograms">kilogramm</string>
     <string name="shared_string_yards">yard</string>
     <string name="shared_string_inches">hüvelyk</string>
diff --git a/OsmAnd/res/values-in/strings.xml b/OsmAnd/res/values-in/strings.xml
index 4ca6cfbfeb5..4d1d82e7f5c 100644
--- a/OsmAnd/res/values-in/strings.xml
+++ b/OsmAnd/res/values-in/strings.xml
@@ -5034,7 +5034,6 @@
     <string name="switch_folder">Ubah folder</string>
     <string name="show_all_tracks">Tampilkan semua trek</string>
     <string name="shared_string_on_map">Di peta</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Ubah tampilan trek %1$s\?</string>
     <string name="shared_string_yards">yard</string>
     <string name="shared_string_kilograms">kilogram</string>
     <string name="approximate_bearing_descr">Dapatkan arah dari rute navigasi yang diikuti.</string>
diff --git a/OsmAnd/res/values-is/strings.xml b/OsmAnd/res/values-is/strings.xml
index 3f17473db90..fa6b06c76d9 100644
--- a/OsmAnd/res/values-is/strings.xml
+++ b/OsmAnd/res/values-is/strings.xml
@@ -5369,7 +5369,6 @@
     <string name="help_article_navigation_routing_straight_line_routing_name">Leiðagerð í beinum línum (flugvélar)</string>
     <string name="help_article_navigation_routing_train_routing_name">Leiðagerð fyrir lestir</string>
     <string name="sort_date_descending">Elsta dagsetning fyrst</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Breyta útliti %1$s ferla?</string>
     <string name="terrain_maps">Yfirborðskort</string>
     <string name="lang_zh_hans">Einfölduð kínverska</string>
     <string name="lang_zh_hant">Hefðbundin kínverska</string>
diff --git a/OsmAnd/res/values-it/strings.xml b/OsmAnd/res/values-it/strings.xml
index b2a4515f8ca..3568d98df16 100644
--- a/OsmAnd/res/values-it/strings.xml
+++ b/OsmAnd/res/values-it/strings.xml
@@ -5013,7 +5013,6 @@
     <string name="shared_string_kilograms">chilogrammi</string>
     <string name="shared_string_yards">iarde</string>
     <string name="no_visible_tracks">Nessuna traccia sulla mappa</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Cambiare l\'aspetto di %1$s tracce\?</string>
     <string name="empty_tracks_description">Puoi importare, creare o registrare file di traccia usando OsmAnd.</string>
     <string name="empty_tracks">Non hai file di traccia.</string>
     <string name="shared_string_select_recent">Seleziona recenti</string>
diff --git a/OsmAnd/res/values-ja/strings.xml b/OsmAnd/res/values-ja/strings.xml
index 0f63ecea308..ebe18c2d222 100644
--- a/OsmAnd/res/values-ja/strings.xml
+++ b/OsmAnd/res/values-ja/strings.xml
@@ -4887,7 +4887,6 @@ POIの更新は利用できません</string>
     <string name="rendering_attr_showTrainRoutes_name">鉄道路線</string>
     <string name="shared_string_item">アイテム</string>
     <string name="simulation_constant_mode_title">定速走行</string>
-    <string name="change_default_tracks_appearance_confirmation_description">%1$s経路の外観を変更しますか？</string>
     <string name="no_visible_tracks_description">マップ上に表示する経路を選択します。</string>
     <string name="no_visible_tracks">マップ上に経路がありません</string>
     <string name="ant_missing_dependency_descr">必要なサービス\"%1$s\"が見つかりませんでした。
diff --git a/OsmAnd/res/values-ko/strings.xml b/OsmAnd/res/values-ko/strings.xml
index c41883f1b07..9494699cc28 100644
--- a/OsmAnd/res/values-ko/strings.xml
+++ b/OsmAnd/res/values-ko/strings.xml
@@ -4288,7 +4288,6 @@
     <string name="route_distance">거리:</string>
     <string name="route_duration">시간:</string>
     <string name="osmand_plus_extended_description_part6">자전거 및 보행자 기능 • 야외 활동에 적합한, 걷기, 하이킹, 및 자전거 경로 보기 • 자전거 및 보행자를 위한 전용 경로 및 모드 표시 • 선명을 포함하는 선택적 대중 교통 정류장(버스, 전차, 기차) • 로컬 GPX 파일이나 온라인 서비스로 선택적 여행 기록 • 선택적 속도 및 고도 표시 • (추가 플러그인을 통한) 등고선 및 언덕 음영 표시</string>
-    <string name="change_default_tracks_appearance_confirmation_description">트랙 %1$s 모양 변경?</string>
     <string name="value_downloaded_of_mb">다운로드중 %1$.1f/%2$.1f MB</string>
     <string name="temperature_layer">온도층</string>
     <string name="pressure_layer">압력 층</string>
diff --git a/OsmAnd/res/values-nb/strings.xml b/OsmAnd/res/values-nb/strings.xml
index 6f67647b785..e5327d4d0d7 100644
--- a/OsmAnd/res/values-nb/strings.xml
+++ b/OsmAnd/res/values-nb/strings.xml
@@ -4905,7 +4905,6 @@
     <string name="shared_string_duplicate">Dupliser</string>
     <string name="rendering_attr_showMtbScaleIMBATrails_name">Vis IMBA-Terrengsykkelløyper</string>
     <string name="rendering_attr_showMtbScaleIMBATrails_description">Vis løyper ment for terrengsykkel.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Endre utseende for %1$s spor\?</string>
     <string name="shared_string_select_recent">Velg nylige</string>
     <string name="changes">Endringer %1$s</string>
     <string name="rendering_attr_weatherPrecipitationContours_name">Nedbørs-isolinjer</string>
diff --git a/OsmAnd/res/values-nl/strings.xml b/OsmAnd/res/values-nl/strings.xml
index 4d599afb952..43d3cf5b96b 100644
--- a/OsmAnd/res/values-nl/strings.xml
+++ b/OsmAnd/res/values-nl/strings.xml
@@ -5007,7 +5007,6 @@
     <string name="sound_beep_simple">Beep: simpel</string>
     <string name="sound_beep_simple_loud">Beep: simpel luid</string>
     <string name="lang_ckb">Centraal Koerdisch</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Het uiterlijk van %1$s tracks veranderen\?</string>
     <string name="shared_string_apply_changes">Wijzigingen aanbrengen</string>
     <string name="shared_string_kilograms">kilogram</string>
     <string name="no_visible_tracks_description">Selecteer tracks om ze op de kaart weer te geven.</string>
diff --git a/OsmAnd/res/values-pl/strings.xml b/OsmAnd/res/values-pl/strings.xml
index 001159db16d..b13ccb8e2df 100644
--- a/OsmAnd/res/values-pl/strings.xml
+++ b/OsmAnd/res/values-pl/strings.xml
@@ -5040,7 +5040,6 @@
     <string name="shared_string_inches">cale</string>
     <string name="offline_weather_forecast">Prognoza pogody offline</string>
     <string name="offline_weather_forecast_desc">Możesz pobrać prognozę pogody na 7 dni.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Zmienić wygląd ścieżek %1$s\?</string>
     <string name="no_visible_tracks_description">Wybierz ścieżki, aby wyświetlić je na mapie.</string>
     <string name="shared_string_select_recent">Wybierz ostatnie</string>
     <string name="offline_cache">Pamięć podręczna offline</string>
diff --git a/OsmAnd/res/values-pt-rBR/strings.xml b/OsmAnd/res/values-pt-rBR/strings.xml
index 413f9ea60ce..7d587a14a2b 100644
--- a/OsmAnd/res/values-pt-rBR/strings.xml
+++ b/OsmAnd/res/values-pt-rBR/strings.xml
@@ -5021,7 +5021,6 @@
     <string name="shared_string_yards">jardas</string>
     <string name="no_visible_tracks">Nenhuma trilha no mapa</string>
     <string name="recently_visible">Visível recentemente %1$s</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Alterar a aparência das trilhas %1$s\?</string>
     <string name="shared_string_apply_changes">Aplicar mudanças</string>
     <string name="no_visible_tracks_description">Selecione as trilhas para exibi-las no mapa.</string>
     <string name="shared_string_kilograms">quilogramas</string>
diff --git a/OsmAnd/res/values-pt/strings.xml b/OsmAnd/res/values-pt/strings.xml
index 9931ee95ada..c631adcd1be 100644
--- a/OsmAnd/res/values-pt/strings.xml
+++ b/OsmAnd/res/values-pt/strings.xml
@@ -5025,7 +5025,6 @@
     <string name="shared_string_select_recent">Selecionar recente</string>
     <string name="change_appearance">Alterar aparência</string>
     <string name="shared_string_kilograms">quilogramas</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Alterar a aparência dos trilhos %1$s\?</string>
     <string name="shared_string_apply_changes">Aplicar alterações</string>
     <string name="shared_string_yards">jardas</string>
     <string name="no_visible_tracks_description">Selecione os trilhos a mostrar no mapa.</string>
diff --git a/OsmAnd/res/values-ro/strings.xml b/OsmAnd/res/values-ro/strings.xml
index eaa5732d5e4..15f8d190a07 100644
--- a/OsmAnd/res/values-ro/strings.xml
+++ b/OsmAnd/res/values-ro/strings.xml
@@ -5032,7 +5032,6 @@
     <string name="change_appearance">Modifică aspect</string>
     <string name="shared_string_kilograms">kilograme</string>
     <string name="shared_string_yards">yarzi</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Modificați aspectul a %1$s trasee\?</string>
     <string name="shared_string_apply_changes">Aplică modificările</string>
     <string name="no_visible_tracks">Nu există trasee pe hartă</string>
     <string name="shared_string_select_recent">Selectare recent</string>
diff --git a/OsmAnd/res/values-ru/strings.xml b/OsmAnd/res/values-ru/strings.xml
index d050fe596c4..0a8dc585b9a 100644
--- a/OsmAnd/res/values-ru/strings.xml
+++ b/OsmAnd/res/values-ru/strings.xml
@@ -5032,7 +5032,6 @@
     <string name="shared_string_apply_changes">Применить изменения</string>
     <string name="no_visible_tracks">Нет треков на карте</string>
     <string name="recently_visible">Недавно видимые %1$s</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Изменить внешний вид треков (%1$s шт.)\?</string>
     <string name="inch">дюйм</string>
     <string name="empty_tracks_description">Вы можете импортировать, создавать или записывать файлы треков с помощью OsmAnd.</string>
     <string name="empty_tracks">Файлы треков отсутствуют.</string>
diff --git a/OsmAnd/res/values-sk/strings.xml b/OsmAnd/res/values-sk/strings.xml
index d1d1ca3c8d5..053d5461958 100644
--- a/OsmAnd/res/values-sk/strings.xml
+++ b/OsmAnd/res/values-sk/strings.xml
@@ -5017,7 +5017,6 @@
     <string name="change_appearance">Zmeniť vzhľad</string>
     <string name="shared_string_yards">yardov</string>
     <string name="shared_string_apply_changes">Použiť zmeny</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Zmeniť vzhľad %1$s stôp\?</string>
     <string name="no_visible_tracks_description">Zvoľte stopy pre zobrazenie na mape.</string>
     <string name="no_visible_tracks">Žiadne stopy na mape</string>
     <string name="recently_visible">Nedávno viditeľné %1$s</string>
diff --git a/OsmAnd/res/values-sl/strings.xml b/OsmAnd/res/values-sl/strings.xml
index 5c171b51b31..652db3f67e6 100644
--- a/OsmAnd/res/values-sl/strings.xml
+++ b/OsmAnd/res/values-sl/strings.xml
@@ -5024,7 +5024,6 @@
     <string name="show_all_tracks">Pokaži vse sledi</string>
     <string name="shared_string_on_map">Na zemljevidu</string>
     <string name="shared_string_apply_changes">Uveljavi spremembe</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Spremenim izgled %1$s sledi\?</string>
     <string name="shared_string_yards">jardov</string>
     <string name="shared_string_kilograms">kilogramov</string>
     <string name="inch">pa</string>
diff --git a/OsmAnd/res/values-sr/strings.xml b/OsmAnd/res/values-sr/strings.xml
index 4fa1d1cc36f..7526e4a5181 100644
--- a/OsmAnd/res/values-sr/strings.xml
+++ b/OsmAnd/res/values-sr/strings.xml
@@ -5039,7 +5039,6 @@
     <string name="app_mode_moped">Мопед</string>
     <string name="inch">инч</string>
     <string name="shared_string_yards">јарди</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Да ли изменити изглед трага %1$s\?</string>
     <string name="shared_string_apply_changes">Примени измене</string>
     <string name="no_visible_tracks_description">Изаберите трагове за приказ на карти.</string>
     <string name="no_visible_tracks">Нема трагова на карти</string>
diff --git a/OsmAnd/res/values-sv/strings.xml b/OsmAnd/res/values-sv/strings.xml
index 6b034b6b92d..9c175cd4ace 100644
--- a/OsmAnd/res/values-sv/strings.xml
+++ b/OsmAnd/res/values-sv/strings.xml
@@ -4415,7 +4415,6 @@
     <string name="shared_string_nearest">Närmsta</string>
     <string name="shared_string_add_manually">Lägg till manuellt…</string>
     <string name="shared_string_inches">tum</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Ändra utseendet för %1$s spår\?</string>
     <string name="no_visible_tracks">Inga spår på kartan</string>
     <string name="x_axis">X-axel</string>
     <string name="what_is_new">Nyheter</string>
diff --git a/OsmAnd/res/values-th/strings.xml b/OsmAnd/res/values-th/strings.xml
index 3b3c40f10d4..789caef6663 100644
--- a/OsmAnd/res/values-th/strings.xml
+++ b/OsmAnd/res/values-th/strings.xml
@@ -89,7 +89,6 @@
     <string name="shared_string_uploaded">อัปโหลดแล้ว</string>
     <string name="cloud_changes">การเปลี่ยนแปลงระบบคลาวด์</string>
     <string name="upload_change">อัปโหลดการเปลี่ยนแปลง</string>
-    <string name="change_default_tracks_appearance_confirmation_description">เปลี่ยนรูปลักษณ์ของแทร็ก %1$s หรือไม่\?</string>
     <string name="empty_tracks">คุณไม่มีไฟล์แทร็ก</string>
     <string name="local_changes">การเปลี่ยนแปลงในท้องถิ่น</string>
     <string name="cloud_conflicts">ขัดแย้ง</string>
diff --git a/OsmAnd/res/values-uk/strings.xml b/OsmAnd/res/values-uk/strings.xml
index 2d708984f7b..2692f085b48 100644
--- a/OsmAnd/res/values-uk/strings.xml
+++ b/OsmAnd/res/values-uk/strings.xml
@@ -5027,7 +5027,6 @@
     <string name="display_position_automatic_descr">Залежить від орієнтації мапи: внизу — для орієнтації мапи за напрямком руху, по центру — для всіх інших.</string>
     <string name="shared_string_apply_changes">Застосувати зміни</string>
     <string name="no_visible_tracks_description">Виберіть треки, щоб показати їх на мапі.</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Змінити зовнішній вигляд треків %1$s\?</string>
     <string name="empty_tracks_description">За допомогою OsmAnd ви можете імпортувати, створювати або записувати файли треків.</string>
     <string name="no_visible_tracks">Немає треків на мапі</string>
     <string name="recently_visible">Нещодавно переглянуті %1$s</string>
diff --git a/OsmAnd/res/values-vi/strings.xml b/OsmAnd/res/values-vi/strings.xml
index c4e9ccf70d1..3b858368f45 100644
--- a/OsmAnd/res/values-vi/strings.xml
+++ b/OsmAnd/res/values-vi/strings.xml
@@ -575,7 +575,6 @@
     <string name="layer_gpx_layer">Theo dõi</string>
     <string name="width_limit_description">Cung cấp chiều rộng của chiếc xe của bạn, một số tuyến đường có thể hạn chế các phương tiện quá rộng.</string>
     <string name="shared_string_yards">yard</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Thay đổi giao diện của %1$s các theo dõi\?</string>
     <string name="recently_visible">Hiển thị gần đây %1$s</string>
     <string name="empty_tracks_description">Bạn có thể nhập, tạo hoặc ghi tệp theo dõi bằng OsmAnd.</string>
     <string name="shared_string_apply_changes">Áp dụng các thay đổi</string>
diff --git a/OsmAnd/res/values-zh-rCN/strings.xml b/OsmAnd/res/values-zh-rCN/strings.xml
index 2865d404f08..54333dee878 100644
--- a/OsmAnd/res/values-zh-rCN/strings.xml
+++ b/OsmAnd/res/values-zh-rCN/strings.xml
@@ -5179,7 +5179,6 @@
     <string name="sound_beep_minimal">蜂鸣：最小</string>
     <string name="shared_string_new_track">新轨迹</string>
     <string name="track_not_recorded">未记录</string>
-    <string name="change_default_tracks_appearance_confirmation_description">改变 %1$s 轨迹的外观？</string>
     <string name="shared_string_all_world">全世界</string>
     <string name="ltr_or_rtl_triple_combine_via_bold_point">%1$s • %2$s • %3$s</string>
     <string name="routing_attr_hazmat_category_usa_2_name">燃气</string>
diff --git a/OsmAnd/res/values-zh-rTW/strings.xml b/OsmAnd/res/values-zh-rTW/strings.xml
index fb6a7c6552f..bf8d9dbf455 100644
--- a/OsmAnd/res/values-zh-rTW/strings.xml
+++ b/OsmAnd/res/values-zh-rTW/strings.xml
@@ -5009,7 +5009,6 @@
     <string name="sound_beep_minimal">蜂鳴器：最小</string>
     <string name="last_synchronized">最後同步</string>
     <string name="display_position_automatic_descr">取決於地圖方向：底部為移動方向，中心為其他所有方向。</string>
-    <string name="change_default_tracks_appearance_confirmation_description">變更 %1$s 軌跡的外觀？</string>
     <string name="empty_tracks">您沒有軌跡檔案。</string>
     <string name="shared_string_apply_changes">套用變更</string>
     <string name="shared_string_select_recent">選取最近</string>
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index 68d5f5131da..9e15f230f25 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,6 +10,8 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
+    <string name="apply_only_to_new">Apply only to new</string>
+    <string name="change_default_tracks_appearance_confirmation">Apply changes to existing tracks in the folder or only to new ones?</string>
     <string name="shared_string_changes">Changes</string>
     <string name="change_default_appearance_confirmation">Change the default appearance of %1$s?</string>
     <string name="fix_north_up">Enable Fixed North Up</string>
@@ -571,7 +573,6 @@ You need to activate the sensor so OsmAnd can find it.</string>
     <string name="inch">in</string>
     <string name="shared_string_kilograms">kilograms</string>
     <string name="shared_string_yards">yards</string>
-    <string name="change_default_tracks_appearance_confirmation_description">Change the appearance of %1$s tracks?</string>
     <string name="shared_string_apply_changes">Apply changes</string>
     <string name="no_visible_tracks_description">Select tracks to display them on the map.</string>
     <string name="no_visible_tracks">No tracks on the map</string>
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmChangesBottomSheet.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmChangesBottomSheet.java
deleted file mode 100644
index 1c356dfbc93..00000000000
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmChangesBottomSheet.java
+++ /dev/null
@@ -1,70 +0,0 @@
-package net.osmand.plus.configmap.tracks;
-
-import static net.osmand.plus.utils.ColorUtilities.getPrimaryTextColorId;
-
-import android.os.Bundle;
-
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import androidx.fragment.app.Fragment;
-import androidx.fragment.app.FragmentManager;
-
-import net.osmand.plus.R;
-import net.osmand.plus.base.MenuBottomSheetDialogFragment;
-import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithDescription;
-import net.osmand.plus.base.bottomsheetmenu.simpleitems.TitleItem;
-import net.osmand.plus.utils.AndroidUtils;
-
-public class ConfirmChangesBottomSheet extends MenuBottomSheetDialogFragment {
-
-	public static final String TAG = ConfirmChangesBottomSheet.class.getSimpleName();
-
-	private static final String DESCRIPTION_KEY = "description_key";
-
-	@Override
-	public void createMenuItems(Bundle savedInstanceState) {
-		items.add(new TitleItem(getString(R.string.shared_string_apply_changes)));
-
-		items.add(new BottomSheetItemWithDescription.Builder()
-				.setDescription(getDescription())
-				.setDescriptionColorId(getPrimaryTextColorId(nightMode))
-				.setLayoutId(R.layout.bottom_sheet_item_descr)
-				.create());
-	}
-
-	@Override
-	protected void onRightBottomButtonClick() {
-		Fragment fragment = getParentFragment();
-		if (fragment instanceof ChangesConfirmationListener) {
-			((ChangesConfirmationListener) fragment).onChangesConfirmed();
-		}
-		dismiss();
-	}
-
-	@Override
-	protected int getRightBottomButtonTextId() {
-		return R.string.shared_string_apply;
-	}
-
-	@Nullable
-	private String getDescription() {
-		Bundle bundle = getArguments();
-		return bundle != null ? bundle.getString(DESCRIPTION_KEY) : null;
-	}
-
-	public interface ChangesConfirmationListener {
-		void onChangesConfirmed();
-	}
-
-	public static void showInstance(@NonNull FragmentManager manager, @NonNull String description) {
-		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
-			Bundle bundle = new Bundle();
-			bundle.putString(DESCRIPTION_KEY, description);
-
-			ConfirmChangesBottomSheet fragment = new ConfirmChangesBottomSheet();
-			fragment.setArguments(bundle);
-			fragment.setUsedOnMap(true);
-			fragment.show(manager, TAG);
-		}
-	}
-}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmDefaultAppearanceBottomSheet.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmDefaultAppearanceBottomSheet.java
new file mode 100644
index 00000000000..12987666644
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/ConfirmDefaultAppearanceBottomSheet.java
@@ -0,0 +1,96 @@
+package net.osmand.plus.configmap.tracks;
+
+import static net.osmand.plus.widgets.dialogbutton.DialogButtonType.SECONDARY;
+
+import android.os.Bundle;
+
+import androidx.annotation.NonNull;
+import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentManager;
+
+import net.osmand.plus.R;
+import net.osmand.plus.base.MenuBottomSheetDialogFragment;
+import net.osmand.plus.base.bottomsheetmenu.BottomSheetItemWithDescription;
+import net.osmand.plus.configmap.tracks.appearance.DefaultAppearanceFragment;
+import net.osmand.plus.utils.AndroidUtils;
+import net.osmand.plus.widgets.dialogbutton.DialogButtonType;
+
+public class ConfirmDefaultAppearanceBottomSheet extends MenuBottomSheetDialogFragment {
+
+	public static final String TAG = ConfirmDefaultAppearanceBottomSheet.class.getSimpleName();
+
+	private static final String TRACKS_COUNT_KEY = "description_key";
+
+	@Override
+	public void createMenuItems(Bundle savedInstanceState) {
+		items.add(new BottomSheetItemWithDescription.Builder()
+				.setDescription(getString(R.string.change_default_tracks_appearance_confirmation))
+				.setTitle(getString(R.string.shared_string_save))
+				.setLayoutId(R.layout.bottom_sheet_item_title_with_description)
+				.create());
+	}
+
+	@Override
+	protected void onRightBottomButtonClick() {
+		confirmChanges(false);
+		dismiss();
+	}
+
+	@Override
+	protected void onThirdBottomButtonClick() {
+		confirmChanges(true);
+		dismiss();
+	}
+
+	private void confirmChanges(boolean updateExisting) {
+		Fragment fragment = getParentFragment();
+		if (fragment instanceof DefaultAppearanceFragment) {
+			((DefaultAppearanceFragment) fragment).saveChanges(updateExisting);
+		}
+	}
+
+	@Override
+	protected boolean useVerticalButtons() {
+		return true;
+	}
+
+	@Override
+	protected int getRightBottomButtonTextId() {
+		return R.string.apply_only_to_new;
+	}
+
+	@Override
+	protected int getThirdBottomButtonTextId() {
+		return R.string.apply_to_existing;
+	}
+
+	@Override
+	protected DialogButtonType getThirdBottomButtonType() {
+		return SECONDARY;
+	}
+
+	@Override
+	protected void setupThirdButton() {
+		super.setupThirdButton();
+
+		Bundle bundle = getArguments();
+		int count = bundle != null ? bundle.getInt(TRACKS_COUNT_KEY) : 0;
+		if (count > 0) {
+			String text = getString(R.string.apply_to_existing);
+			thirdButton.setButtonType(getThirdBottomButtonType());
+			thirdButton.setTitle(getString(R.string.ltr_or_rtl_combine_via_space, text, "(" + count + ")"));
+		}
+	}
+
+	public static void showInstance(@NonNull FragmentManager manager, int tracksCount) {
+		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
+			Bundle bundle = new Bundle();
+			bundle.putInt(TRACKS_COUNT_KEY, tracksCount);
+
+			ConfirmDefaultAppearanceBottomSheet fragment = new ConfirmDefaultAppearanceBottomSheet();
+			fragment.setArguments(bundle);
+			fragment.setUsedOnMap(true);
+			fragment.show(manager, TAG);
+		}
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/ChangeAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/ChangeAppearanceFragment.java
index 56e5049fa22..dee0049d847 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/ChangeAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/ChangeAppearanceFragment.java
@@ -29,8 +29,6 @@
 import net.osmand.plus.base.dialog.interfaces.dialog.IAskDismissDialog;
 import net.osmand.plus.base.dialog.interfaces.dialog.IAskRefreshDialogCompletely;
 import net.osmand.plus.card.base.multistate.MultiStateCard;
-import net.osmand.plus.configmap.tracks.ConfirmChangesBottomSheet;
-import net.osmand.plus.configmap.tracks.ConfirmChangesBottomSheet.ChangesConfirmationListener;
 import net.osmand.plus.configmap.tracks.TracksTabsFragment;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.myplaces.tracks.SearchMyPlacesTracksFragment;
@@ -39,8 +37,7 @@
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.widgets.dialogbutton.DialogButton;
 
-public class ChangeAppearanceFragment extends BaseOsmAndDialogFragment
-		implements IAskDismissDialog, IAskRefreshDialogCompletely, ChangesConfirmationListener {
+public class ChangeAppearanceFragment extends BaseOsmAndDialogFragment implements IAskDismissDialog, IAskRefreshDialogCompletely {
 
 	private static final String TAG = ChangeAppearanceFragment.class.getSimpleName();
 
@@ -151,7 +148,12 @@ protected void setupCards(@NonNull View view) {
 
 	protected void setupApplyButton(@NonNull View view) {
 		View btnApply = view.findViewById(R.id.apply_button);
-		btnApply.setOnClickListener(v -> onApplyButtonClicked());
+		btnApply.setOnClickListener(v -> {
+			FragmentActivity activity = getActivity();
+			if (activity != null) {
+				controller.saveChanges(activity);
+			}
+		});
 		updateApplyButtonEnabling(view);
 	}
 
@@ -160,20 +162,6 @@ protected void updateApplyButtonEnabling(@NonNull View view) {
 		dialogButton.setEnabled(controller.hasAnyChangesToCommit());
 	}
 
-	public void onApplyButtonClicked() {
-		String count = String.valueOf(controller.getEditedItemsCount());
-		String description = getString(R.string.change_default_tracks_appearance_confirmation_description, count);
-		ConfirmChangesBottomSheet.showInstance(getChildFragmentManager(), description);
-	}
-
-	@Override
-	public void onChangesConfirmed() {
-		FragmentActivity activity = getActivity();
-		if (activity != null) {
-			controller.saveChanges(activity);
-		}
-	}
-
 	private void onAppearanceSaved() {
 		FragmentActivity activity = getActivity();
 		if (activity instanceof MapActivity) {
@@ -223,9 +211,7 @@ public void onAskDismissDialog(@NonNull String processId) {
 	}
 
 	public int getThemeId() {
-		return nightMode
-				? R.style.OsmandDarkTheme_DarkActionbar
-				: R.style.OsmandLightTheme_DarkActionbar_LightStatusBar;
+		return nightMode ? R.style.OsmandDarkTheme_DarkActionbar : R.style.OsmandLightTheme_DarkActionbar_LightStatusBar;
 	}
 
 	@ColorRes
@@ -234,11 +220,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
 	}
 
-	public static void showInstance(@NonNull FragmentManager manager,
-	                                @NonNull Fragment targetFragment) {
+	public static void showInstance(@NonNull FragmentManager manager, @NonNull Fragment target) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			ChangeAppearanceFragment fragment = new ChangeAppearanceFragment();
-			fragment.setTargetFragment(targetFragment, 0);
+			fragment.setTargetFragment(target, 0);
 			fragment.show(manager, TAG);
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceController.java
index f2def9ce5f1..d04e9119cfb 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceController.java
@@ -3,6 +3,8 @@
 import static net.osmand.gpx.GpxParameter.COLOR;
 import static net.osmand.gpx.GpxParameter.COLORING_TYPE;
 
+import android.os.AsyncTask;
+
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.fragment.app.FragmentActivity;
@@ -14,6 +16,7 @@
 import net.osmand.plus.card.color.ColoringStyle;
 import net.osmand.plus.card.color.ColoringStyleCardController.IColorCardControllerListener;
 import net.osmand.plus.card.color.palette.main.data.PaletteColor;
+import net.osmand.plus.configmap.tracks.TrackItem;
 import net.osmand.plus.configmap.tracks.appearance.data.AppearanceData;
 import net.osmand.plus.configmap.tracks.appearance.data.AppearanceData.AppearanceChangedListener;
 import net.osmand.plus.configmap.tracks.appearance.subcontrollers.ArrowsCardController;
@@ -21,11 +24,15 @@
 import net.osmand.plus.configmap.tracks.appearance.subcontrollers.SplitCardController;
 import net.osmand.plus.configmap.tracks.appearance.subcontrollers.StartFinishCardController;
 import net.osmand.plus.configmap.tracks.appearance.subcontrollers.WidthCardController;
+import net.osmand.plus.myplaces.tracks.tasks.ChangeTracksAppearanceTask;
 import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.track.helpers.GpxDbHelper;
 import net.osmand.plus.track.helpers.GpxDirItem;
 import net.osmand.util.Algorithms;
 
+import java.util.HashSet;
+import java.util.Set;
+
 public class DefaultAppearanceController implements IDialogController, IColorCardControllerListener,
 		AppearanceChangedListener {
 
@@ -67,8 +74,8 @@ public DefaultAppearanceController(@NonNull OsmandApplication app, @NonNull Trac
 	}
 
 	@NonNull
-	public String getTitle() {
-		return folder.getName(app);
+	public TrackFolder getFolder() {
+		return folder;
 	}
 
 	@Override
@@ -91,14 +98,24 @@ public boolean hasAnyChangesToSave() {
 		return !Algorithms.objectEquals(initialData, data);
 	}
 
-	public void saveChanges() {
+	public void saveChanges(@NonNull FragmentActivity activity, boolean updateExisting) {
 		colorCardController.getColorsPaletteController().refreshLastUsedTime();
 
 		for (GpxParameter parameter : GpxParameter.getAppearanceParameters()) {
 			dirItem.setParameter(parameter, data.getParameter(parameter));
 		}
 		gpxDbHelper.updateDataItem(dirItem);
-		onAppearanceSaved();
+
+		if (updateExisting) {
+			Set<TrackItem> items = new HashSet<>(folder.getTrackItems());
+			ChangeTracksAppearanceTask task = new ChangeTracksAppearanceTask(activity, data, items, result -> {
+				onAppearanceSaved();
+				return true;
+			});
+			task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
+		} else {
+			onAppearanceSaved();
+		}
 	}
 
 	private void onAppearanceSaved() {
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceFragment.java
index b351879045d..4617be9fe5f 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/DefaultAppearanceFragment.java
@@ -26,14 +26,13 @@
 import net.osmand.plus.base.dialog.interfaces.dialog.IAskDismissDialog;
 import net.osmand.plus.base.dialog.interfaces.dialog.IAskRefreshDialogCompletely;
 import net.osmand.plus.card.base.multistate.MultiStateCard;
-import net.osmand.plus.configmap.tracks.ConfirmChangesBottomSheet;
-import net.osmand.plus.configmap.tracks.ConfirmChangesBottomSheet.ChangesConfirmationListener;
+import net.osmand.plus.configmap.tracks.ConfirmDefaultAppearanceBottomSheet;
 import net.osmand.plus.helpers.AndroidUiHelper;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 
-public class DefaultAppearanceFragment extends BaseOsmAndDialogFragment implements IAskDismissDialog,
-		IAskRefreshDialogCompletely, ChangesConfirmationListener {
+public class DefaultAppearanceFragment extends BaseOsmAndDialogFragment implements IAskDismissDialog, IAskRefreshDialogCompletely {
 
 	private static final String TAG = DefaultAppearanceFragment.class.getSimpleName();
 
@@ -145,8 +144,8 @@ protected void setupCards(@NonNull View view) {
 	private void setupApplyButton(@NonNull View view) {
 		applyButton = view.findViewById(R.id.apply_button);
 		applyButton.setOnClickListener(v -> {
-			String description = getString(R.string.change_default_appearance_confirmation, controller.getTitle());
-			ConfirmChangesBottomSheet.showInstance(getChildFragmentManager(), description);
+			TrackFolder folder = controller.getFolder();
+			ConfirmDefaultAppearanceBottomSheet.showInstance(getChildFragmentManager(), folder.getTrackItems().size());
 		});
 		updateApplyButton();
 	}
@@ -172,9 +171,11 @@ private void setupOnNeedScrollListener() {
 		});
 	}
 
-	@Override
-	public void onChangesConfirmed() {
-		controller.saveChanges();
+	public void saveChanges(boolean updateExisting) {
+		FragmentActivity activity = getActivity();
+		if (activity != null) {
+			controller.saveChanges(activity, updateExisting);
+		}
 	}
 
 	@Override
