diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DeviceSettings.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DeviceSettings.kt
index 58fa71a2188..72ef894d178 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DeviceSettings.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DeviceSettings.kt
@@ -1,6 +1,6 @@
 package net.osmand.plus.plugins.externalsensors
 
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty
 import net.osmand.util.Algorithms
 
 open class DeviceSettings(
@@ -11,7 +11,7 @@ open class DeviceSettings(
 	private var deviceName: String
 	var deviceEnabled: Boolean
 	var additionalParams =
-		mutableMapOf(DeviceChangeableProperties.NAME to deviceName)
+		mutableMapOf(DeviceChangeableProperty.NAME to deviceName)
 
 	init {
 		require(!Algorithms.isEmpty(deviceId)) { "Device ID is empty" }
@@ -29,7 +29,7 @@ open class DeviceSettings(
 		}
 	}
 
-	fun setDeviceProperty(property: DeviceChangeableProperties, value: String) {
+	fun setDeviceProperty(property: DeviceChangeableProperty, value: String) {
 		if (additionalParams.containsKey(property)) {
 			additionalParams[property] = value
 		}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
index 73059be04fc..8ffa0ae6ddb 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/DevicesHelper.java
@@ -1,10 +1,6 @@
 package net.osmand.plus.plugins.externalsensors;
 
-import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.NAME;
-import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.WHEEL_CIRCUMFERENCE;
-import static net.osmand.plus.settings.enums.MetricsConstants.KILOMETERS_AND_METERS;
-import static net.osmand.plus.settings.enums.MetricsConstants.MILES_AND_METERS;
-import static net.osmand.plus.settings.enums.MetricsConstants.NAUTICAL_MILES_AND_METERS;
+import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty.NAME;
 
 import android.annotation.SuppressLint;
 import android.app.Activity;
@@ -28,7 +24,6 @@
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
-import androidx.annotation.StringRes;
 
 import com.dsi.ant.plugins.antplus.pcc.AntPlusHeartRatePcc;
 import com.dsi.ant.plugins.antplus.pccbase.AntPluginPcc;
@@ -56,25 +51,18 @@
 import net.osmand.plus.plugins.externalsensors.devices.ble.BLERunningSCDDevice;
 import net.osmand.plus.plugins.externalsensors.devices.ble.BLETemperatureDevice;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
-import net.osmand.plus.settings.backend.ApplicationMode;
-import net.osmand.plus.settings.backend.preferences.CommonPreference;
-import net.osmand.plus.settings.enums.MetricsConstants;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.OsmAndFormatter.FormattedValue;
 import net.osmand.util.Algorithms;
 
 import org.apache.commons.logging.Log;
 
-import java.text.DecimalFormat;
-import java.text.DecimalFormatSymbols;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
-import java.util.Locale;
 import java.util.Map;
 import java.util.UUID;
 import java.util.concurrent.ConcurrentHashMap;
@@ -90,7 +78,6 @@ public class DevicesHelper implements DeviceListener, DevicePreferencesListener
 			BLEHeartRateDevice.getServiceUUID(),
 			BLERunningSCDDevice.getServiceUUID(),
 			BLETemperatureDevice.getServiceUUID());
-	public static final double METER_TO_INCH_SCALE = 39.37;
 
 	private final OsmandApplication app;
 	private final DevicesSettingsCollection devicesSettingsCollection;
@@ -173,7 +160,7 @@ private void updateDeviceProperties(@NonNull AbstractDevice<?> device) {
 		String deviceId = device.getDeviceId();
 		DeviceSettings deviceSettings = devicesSettingsCollection.getDeviceSettings(deviceId);
 		if (deviceSettings != null) {
-			for (DeviceChangeableProperties property : deviceSettings.getAdditionalParams().keySet()) {
+			for (DeviceChangeableProperty property : deviceSettings.getAdditionalParams().keySet()) {
 				device.setChangeableProperty(property, deviceSettings.getAdditionalParams().get(property));
 			}
 		}
@@ -437,7 +424,7 @@ public void onDeviceConnect(@NonNull AbstractDevice<?> device, @NonNull DeviceCo
 					if (!isDeviceEnabled(device)) {
 						updateDevice(activity, device);
 					} else {
-						app.showShortToastMessage(R.string.device_connected, getDeviceProperty(device, NAME));
+						app.showShortToastMessage(R.string.device_connected, getFormattedDevicePropertyValue(device, NAME));
 					}
 				}
 				break;
@@ -465,7 +452,7 @@ public void onDeviceConnect(@NonNull AbstractDevice<?> device, @NonNull DeviceCo
 	@Override
 	public void onDeviceDisconnect(@NonNull AbstractDevice<?> device) {
 		LOG.debug(device + " disconnected");
-		app.showShortToastMessage(R.string.device_disconnected, getDeviceProperty(device, NAME));
+		app.showShortToastMessage(R.string.device_disconnected, getFormattedDevicePropertyValue(device, NAME));
 	}
 
 	@Override
@@ -496,7 +483,7 @@ public void setDevicePaired(@NonNull AbstractDevice<?> device, boolean paired) {
 					settings = DevicesSettingsCollection.createDeviceSettings(deviceId, device.getDeviceType(), device.getName(), true);
 					devicesSettingsCollection.setDeviceSettings(deviceId, settings);
 					updateDeviceProperties(device);
-					setupWriteDeviceDataToTrack(device);
+					externalSensorsPlugin.onDevicePaired(device);
 				}
 			}
 			//connectDevice(activity, device);
@@ -509,23 +496,6 @@ public void setDevicePaired(@NonNull AbstractDevice<?> device, boolean paired) {
 		});
 	}
 
-	private void setupWriteDeviceDataToTrack(@NonNull AbstractDevice<?> device) {
-		for (AbstractSensor sensor : device.getSensors()) {
-			for (SensorWidgetDataFieldType widgetDataFieldType : sensor.getSupportedWidgetDataFieldTypes()) {
-				WriteToGpxWidgetType widgetType = WriteToGpxWidgetType.Companion.getBySensorWidgetDataFieldType(widgetDataFieldType);
-				if (widgetType != null) {
-					CommonPreference<String> preference = externalSensorsPlugin.getPrefSettingsForWidgetType(widgetType);
-					for (ApplicationMode appMode : ApplicationMode.allPossibleValues()) {
-						String deviceId = preference.getModeValue(appMode);
-						if (Algorithms.isEmpty(deviceId)) {
-							preference.setModeValue(appMode, device.getDeviceId());
-						}
-					}
-				}
-			}
-		}
-	}
-
 	public boolean isDeviceEnabled(@NonNull AbstractDevice<?> device) {
 		DeviceSettings settings = devicesSettingsCollection.getDeviceSettings(device.getDeviceId());
 		return settings != null && settings.getDeviceEnabled();
@@ -546,46 +516,14 @@ public void setDeviceEnabled(@NonNull AbstractDevice<?> device, boolean enabled)
 	}
 
 	@NonNull
-	public String getDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperties property) {
+	public String getFormattedDevicePropertyValue(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperty property) {
 		DeviceSettings settings = devicesSettingsCollection.getDeviceSettings(device.getDeviceId());
 		String value = settings != null ? settings.getAdditionalParams().get(property) : null;
-		if (value == null) {
-			value = "";
-		}
-		String formattedValue = value;
-		if (property == DeviceChangeableProperties.WHEEL_CIRCUMFERENCE) {
-			float floatValue = WheelDeviceSettings.DEFAULT_WHEEL_CIRCUMFERENCE;
-			if (settings != null && Algorithms.isFloat(value, true)) {
-				floatValue = Float.parseFloat(value.replace(",", "."));
-			}
-			if (!isMetricSelected()) {
-				floatValue *= METER_TO_INCH_SCALE;
-			}
-			formattedValue = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US)).format(floatValue);
-		}
-		return formattedValue;
+		return property.getFormattedValue(app, value);
 	}
 
-	@StringRes
-	public int getPropertyMetric(@NonNull DeviceChangeableProperties property, boolean shortForm) {
-		int metricResId = 0;
-		if (property == WHEEL_CIRCUMFERENCE) {
-			metricResId = isMetricSelected() ?
-					(shortForm ? R.string.m : R.string.shared_string_meters) :
-					(shortForm ? R.string.inch : R.string.shared_string_inches);
-		}
-		return metricResId;
-	}
-
-	private boolean isMetricSelected() {
-		MetricsConstants mc = app.getSettings().METRIC_SYSTEM.get();
-		return mc == KILOMETERS_AND_METERS ||
-				mc == MILES_AND_METERS ||
-				mc == NAUTICAL_MILES_AND_METERS;
-	}
-
-	public void setDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperties property, @NonNull String value) {
-		String normalizedValue = normalizePropertyValue(property, value);
+	public void setDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperty property, @NonNull String value) {
+		String normalizedValue = property.normalizeValue(app, value);
 		String deviceId = device.getDeviceId();
 		DeviceSettings settings = devicesSettingsCollection.getDeviceSettings(deviceId);
 		if (settings == null) {
@@ -593,21 +531,11 @@ public void setDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull Device
 				settings = DevicesSettingsCollection.createDeviceSettings(deviceId, device.getDeviceType(), device.getName(), false);
 			}
 		}
-		settings.setDeviceProperty(property, normalizedValue);
-		device.setChangeableProperty(property, value);
-		devicesSettingsCollection.setDeviceSettings(deviceId, settings);
-	}
-
-	private String normalizePropertyValue(@NonNull DeviceChangeableProperties property, @NonNull String value) {
-		String normalizedValue = value;
-		if (property == WHEEL_CIRCUMFERENCE && Algorithms.isFloat(value, true)) {
-			float floatValue = Float.parseFloat(value.replace(",", "."));
-			if (!isMetricSelected()) {
-				floatValue /= METER_TO_INCH_SCALE;
-			}
-			normalizedValue = new DecimalFormat("#.####", new DecimalFormatSymbols(Locale.US)).format(floatValue);
+		if (settings != null) {
+			settings.setDeviceProperty(property, normalizedValue);
+			device.setChangeableProperty(property, value);
+			devicesSettingsCollection.setDeviceSettings(deviceId, settings);
 		}
-		return normalizedValue;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WriteToGpxWidgetType.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorTrackDataType.kt
similarity index 89%
rename from OsmAnd/src/net/osmand/plus/plugins/externalsensors/WriteToGpxWidgetType.kt
rename to OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorTrackDataType.kt
index ed28bd5ab13..49079c04285 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WriteToGpxWidgetType.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorTrackDataType.kt
@@ -5,8 +5,8 @@ import androidx.annotation.StringRes
 import net.osmand.plus.R
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType
 
-enum class WriteToGpxWidgetType(
-	val id: String,
+enum class ExternalSensorTrackDataType(
+	val preferenceId: String,
 	@param:DrawableRes val icon: Int,
 	val sensorType: SensorWidgetDataFieldType,
 	@param:StringRes val titleId: Int) {
@@ -37,8 +37,8 @@ enum class WriteToGpxWidgetType(
 		R.string.map_settings_weather_temp);
 
 	companion object {
-		fun getBySensorWidgetDataFieldType(dataFieldType: SensorWidgetDataFieldType): WriteToGpxWidgetType? {
-			for (widgetType in WriteToGpxWidgetType.values()) {
+		fun getBySensorWidgetDataFieldType(dataFieldType: SensorWidgetDataFieldType): ExternalSensorTrackDataType? {
+			for (widgetType in ExternalSensorTrackDataType.values()) {
 				if (widgetType.sensorType == dataFieldType) {
 					return widgetType
 				}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorsPlugin.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorsPlugin.java
index df5e3071d11..03aedfe20ea 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorsPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSensorsPlugin.java
@@ -2,7 +2,7 @@
 
 import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_ANT_PLUS_ID;
 import static net.osmand.aidlapi.OsmAndCustomizationConstants.PLUGIN_ANT_PLUS;
-import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.NAME;
+import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty.NAME;
 import static net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType.BIKE_CADENCE;
 import static net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType.BIKE_DISTANCE;
 import static net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType.BIKE_POWER;
@@ -17,7 +17,6 @@
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
-import androidx.annotation.StringRes;
 
 import com.github.mikephil.charting.charts.LineChart;
 
@@ -37,7 +36,7 @@
 import net.osmand.plus.plugins.OsmandPlugin;
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorTextWidget;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
 import net.osmand.plus.plugins.externalsensors.dialogs.ExternalDevicesListFragment;
@@ -67,22 +66,23 @@ public class ExternalSensorsPlugin extends OsmandPlugin {
 
 	private final DevicesHelper devicesHelper;
 	private ScanDevicesListener scanDevicesListener;
-	private OsmandSettings settings;
+	private final OsmandSettings settings;
 
-	public final CommonPreference<String> SPEED_SENSOR_WRITE_TO_TRACK_DEVICE;
-	public final CommonPreference<String> CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE;
-	public final CommonPreference<String> POWER_SENSOR_WRITE_TO_TRACK_DEVICE;
-	public final CommonPreference<String> HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE;
-	public final CommonPreference<String> TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE;
+	public final CommonPreference<String> SPEED_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
+	public final CommonPreference<String> CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
+	public final CommonPreference<String> POWER_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
+	public final CommonPreference<String> HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
+	public final CommonPreference<String> TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
 	public final static String DENY_WRITE_SENSOR_DATA_TO_TRACK_KEY = "deny_write_sensor_data";
 
 	public ExternalSensorsPlugin(@NonNull OsmandApplication app) {
 		super(app);
-		SPEED_SENSOR_WRITE_TO_TRACK_DEVICE = registerStringPreference("speed_sensor_write_to_track_device", "").makeProfile().cache();
-		CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE = registerStringPreference("cadence_sensor_write_to_track_device", "").makeProfile().cache();
-		POWER_SENSOR_WRITE_TO_TRACK_DEVICE = registerStringPreference("power_sensor_write_to_track_device", "").makeProfile().cache();
-		HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE = registerStringPreference("heart_rate_sensor_write_to_track_device", "").makeProfile().cache();
-		TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE = registerStringPreference("temperature_sensor_write_to_track_device", "").makeProfile().cache();
+		SPEED_SENSOR_WRITE_TO_TRACK_DEVICE_ID = registerStringPreference(ExternalSensorTrackDataType.BIKE_SPEED.getPreferenceId(), "").makeProfile().cache();
+		CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE_ID = registerStringPreference(ExternalSensorTrackDataType.BIKE_CADENCE.getPreferenceId(), "").makeProfile().cache();
+		POWER_SENSOR_WRITE_TO_TRACK_DEVICE_ID = registerStringPreference(ExternalSensorTrackDataType.BIKE_POWER.getPreferenceId(), "").makeProfile().cache();
+		HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE_ID = registerStringPreference(ExternalSensorTrackDataType.HEART_RATE.getPreferenceId(), "").makeProfile().cache();
+		TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE_ID = registerStringPreference(ExternalSensorTrackDataType.TEMPERATURE.getPreferenceId(), "").makeProfile().cache();
+
 		devicesHelper = new DevicesHelper(app, this);
 		settings = app.getSettings();
 	}
@@ -187,20 +187,20 @@ public AbstractDevice<?> getDevice(@NonNull String deviceId) {
 
 	@Override
 	protected void attachAdditionalInfoToRecordedTrack(@NonNull Location location, @NonNull JSONObject json) {
-		for (WriteToGpxWidgetType writeToGpxWidgetType : WriteToGpxWidgetType.values()) {
-			attachDeviceSensorInfoToRecordedTrack(writeToGpxWidgetType, json);
+		for (ExternalSensorTrackDataType externalSensorTrackDataType : ExternalSensorTrackDataType.values()) {
+			attachDeviceSensorInfoToRecordedTrack(externalSensorTrackDataType, json);
 		}
 	}
 
-	private void attachDeviceSensorInfoToRecordedTrack(WriteToGpxWidgetType writeToGpxWidgetType, JSONObject json) {
+	private void attachDeviceSensorInfoToRecordedTrack(ExternalSensorTrackDataType externalSensorTrackDataType, JSONObject json) {
 		ApplicationMode selectedAppMode = settings.getApplicationMode();
-		CommonPreference<String> preference = getPrefSettingsForWidgetType(writeToGpxWidgetType);
-		String speedDeviceId = preference.getModeValue(selectedAppMode);
+		CommonPreference<String> deviceIdPref = getWriteToTrackDeviceIdPref(externalSensorTrackDataType);
+		String speedDeviceId = deviceIdPref.getModeValue(selectedAppMode);
 		if (!Algorithms.isEmpty(speedDeviceId) && !DENY_WRITE_SENSOR_DATA_TO_TRACK_KEY.equals(speedDeviceId)) {
 			AbstractDevice<?> device = devicesHelper.getDevice(speedDeviceId);
 			if (device != null) {
 				try {
-					device.writeSensorDataToJson(json, writeToGpxWidgetType.getSensorType());
+					device.writeSensorDataToJson(json, externalSensorTrackDataType.getSensorType());
 				} catch (JSONException e) {
 					LOG.error(e);
 				}
@@ -373,31 +373,48 @@ public void disconnectDevice(@NonNull AbstractDevice<?> device) {
 
 	@NonNull
 	public String getDeviceName(@NonNull AbstractDevice<?> device) {
-		String sensorName = devicesHelper.getDeviceProperty(device, NAME);
+		String sensorName = devicesHelper.getFormattedDevicePropertyValue(device, NAME);
 		return !Algorithms.isEmpty(sensorName) ? sensorName : device.getName();
 	}
 
 	public void changeDeviceName(@NonNull String deviceId, @NonNull String newName) {
 		AbstractDevice<?> device = getDevice(deviceId);
 		if (device != null) {
-			devicesHelper.setDeviceProperty(device, DeviceChangeableProperties.NAME, newName);
+			devicesHelper.setDeviceProperty(device, DeviceChangeableProperty.NAME, newName);
 		}
 	}
 
-	public CommonPreference<String> getPrefSettingsForWidgetType(@NonNull WriteToGpxWidgetType widgetType) {
-		switch (widgetType) {
+	public CommonPreference<String> getWriteToTrackDeviceIdPref(@NonNull ExternalSensorTrackDataType dataType) {
+		switch (dataType) {
 			case BIKE_SPEED:
-				return SPEED_SENSOR_WRITE_TO_TRACK_DEVICE;
+				return SPEED_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
 			case BIKE_POWER:
-				return POWER_SENSOR_WRITE_TO_TRACK_DEVICE;
+				return POWER_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
 			case BIKE_CADENCE:
-				return CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE;
+				return CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
 			case HEART_RATE:
-				return HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE;
+				return HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
 			case TEMPERATURE:
-				return TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE;
+				return TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE_ID;
+		}
+		throw new IllegalArgumentException("Unknown sensor type");
+	}
+
+	void onDevicePaired(@NonNull AbstractDevice<?> device) {
+		for (AbstractSensor sensor : device.getSensors()) {
+			for (SensorWidgetDataFieldType widgetDataFieldType : sensor.getSupportedWidgetDataFieldTypes()) {
+				ExternalSensorTrackDataType widgetType = ExternalSensorTrackDataType.Companion.getBySensorWidgetDataFieldType(widgetDataFieldType);
+				if (widgetType != null) {
+					CommonPreference<String> deviceIdPref = getWriteToTrackDeviceIdPref(widgetType);
+					for (ApplicationMode appMode : ApplicationMode.allPossibleValues()) {
+						String deviceId = deviceIdPref.getModeValue(appMode);
+						if (Algorithms.isEmpty(deviceId)) {
+							deviceIdPref.setModeValue(appMode, device.getDeviceId());
+						}
+					}
+				}
+			}
 		}
-		throw new IllegalArgumentException("Unknown widget type");
 	}
 
 	@Override
@@ -420,16 +437,11 @@ public void getAvailableGPXDataSetTypes(@NonNull GPXTrackAnalysis analysis, @Non
 		SensorAttributesUtils.getAvailableGPXDataSetTypes(analysis, availableTypes);
 	}
 
-	public void setDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperties property, @NonNull String value) {
+	public void setDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperty property, @NonNull String value) {
 		devicesHelper.setDeviceProperty(device, property, value);
 	}
 
-	public String getDeviceProperty(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperties property) {
-		return devicesHelper.getDeviceProperty(device, property);
-	}
-
-	@StringRes
-	public int getPropertyMetric(@NonNull DeviceChangeableProperties property, boolean shortForm) {
-		return devicesHelper.getPropertyMetric(property, shortForm);
+	public String getFormattedDevicePropertyValue(@NonNull AbstractDevice<?> device, @NonNull DeviceChangeableProperty property) {
+		return devicesHelper.getFormattedDevicePropertyValue(device, property);
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSettingsWriteToTrackSettingsFragment.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSettingsWriteToTrackSettingsFragment.java
index c8671d3e164..6d1b2ad893c 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSettingsWriteToTrackSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/ExternalSettingsWriteToTrackSettingsFragment.java
@@ -35,24 +35,24 @@ public void onCreate(@Nullable Bundle savedInstanceState) {
 
 	@Override
 	protected void setupPreferences() {
-		for (WriteToGpxWidgetType widgetType : WriteToGpxWidgetType.values()) {
+		for (ExternalSensorTrackDataType widgetType : ExternalSensorTrackDataType.values()) {
 			setupSensorSettings(widgetType);
 		}
 	}
 
 
-	private void setupSensorSettings(@NonNull WriteToGpxWidgetType widgetType) {
-		CustomObjectPreference pref = findPreference(widgetType.getId());
+	private void setupSensorSettings(@NonNull ExternalSensorTrackDataType dataType) {
+		CustomObjectPreference pref = findPreference(dataType.getPreferenceId());
 		if (pref == null) {
 			pref = new CustomObjectPreference(requireContext());
-			pref.setKey(widgetType.getId());
-			pref.setCustomObject(widgetType);
-			pref.setTitle(widgetType.getTitleId());
+			pref.setKey(dataType.getPreferenceId());
+			pref.setCustomObject(dataType);
+			pref.setTitle(dataType.getTitleId());
 			pref.setLayoutResource(R.layout.preference_with_descr);
 			addOnPreferencesScreen(pref);
 		}
-		CommonPreference<String> prefSettings = plugin.getPrefSettingsForWidgetType(widgetType);
-		String deviceId = prefSettings.getModeValue(getSelectedAppMode());
+		CommonPreference<String> deviceIdPref = plugin.getWriteToTrackDeviceIdPref(dataType);
+		String deviceId = deviceIdPref.getModeValue(getSelectedAppMode());
 		String deviceName = app.getString(R.string.shared_string_none);
 		boolean deviceFound = false;
 		if (!Algorithms.isEmpty(deviceId) && !ExternalSensorsPlugin.DENY_WRITE_SENSOR_DATA_TO_TRACK_KEY.equals(deviceId)) {
@@ -64,9 +64,9 @@ private void setupSensorSettings(@NonNull WriteToGpxWidgetType widgetType) {
 		}
 		pref.setSummary(deviceName);
 		if (deviceFound) {
-			pref.setIcon(getActiveIcon(widgetType.getIcon()));
+			pref.setIcon(getActiveIcon(dataType.getIcon()));
 		} else {
-			pref.setIcon(getIcon(widgetType.getIcon()));
+			pref.setIcon(getIcon(dataType.getIcon()));
 		}
 	}
 
@@ -74,11 +74,11 @@ private void setupSensorSettings(@NonNull WriteToGpxWidgetType widgetType) {
 	public boolean onPreferenceClick(Preference preference) {
 		if (preference instanceof CustomObjectPreference) {
 			CustomObjectPreference customPref = (CustomObjectPreference) preference;
-			if (customPref.getCustomObject() instanceof WriteToGpxWidgetType) {
-				WriteToGpxWidgetType widgetType = (WriteToGpxWidgetType) customPref.getCustomObject();
+			if (customPref.getCustomObject() instanceof ExternalSensorTrackDataType) {
+				ExternalSensorTrackDataType dataType = (ExternalSensorTrackDataType) customPref.getCustomObject();
 				ApplicationMode appMode = getSelectedAppMode();
-				SensorWidgetDataFieldType sensorType = widgetType.getSensorType();
-				String deviceId = plugin.getPrefSettingsForWidgetType(widgetType).getModeValue(appMode);
+				SensorWidgetDataFieldType sensorType = dataType.getSensorType();
+				String deviceId = plugin.getWriteToTrackDeviceIdPref(dataType).getModeValue(appMode);
 				SelectExternalDeviceFragment.showInstance(requireActivity().getSupportFragmentManager(), this, sensorType, deviceId);
 			}
 		}
@@ -94,24 +94,24 @@ public void selectNewDevice(@Nullable AbstractDevice<?> device, SensorWidgetData
 		ApplicationMode appMode = getSelectedAppMode();
 		switch (requestedWidgetDataFieldType) {
 			case BIKE_SPEED:
-				plugin.SPEED_SENSOR_WRITE_TO_TRACK_DEVICE.setModeValue(appMode, deviceId);
-				setupSensorSettings(WriteToGpxWidgetType.BIKE_SPEED);
+				plugin.SPEED_SENSOR_WRITE_TO_TRACK_DEVICE_ID.setModeValue(appMode, deviceId);
+				setupSensorSettings(ExternalSensorTrackDataType.BIKE_SPEED);
 				break;
 			case BIKE_CADENCE:
-				plugin.CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE.setModeValue(appMode, deviceId);
-				setupSensorSettings(WriteToGpxWidgetType.BIKE_CADENCE);
+				plugin.CADENCE_SENSOR_WRITE_TO_TRACK_DEVICE_ID.setModeValue(appMode, deviceId);
+				setupSensorSettings(ExternalSensorTrackDataType.BIKE_CADENCE);
 				break;
 			case BIKE_POWER:
-				plugin.POWER_SENSOR_WRITE_TO_TRACK_DEVICE.setModeValue(appMode, deviceId);
-				setupSensorSettings(WriteToGpxWidgetType.BIKE_POWER);
+				plugin.POWER_SENSOR_WRITE_TO_TRACK_DEVICE_ID.setModeValue(appMode, deviceId);
+				setupSensorSettings(ExternalSensorTrackDataType.BIKE_POWER);
 				break;
 			case HEART_RATE:
-				plugin.HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE.setModeValue(appMode, deviceId);
-				setupSensorSettings(WriteToGpxWidgetType.HEART_RATE);
+				plugin.HEART_RATE_SENSOR_WRITE_TO_TRACK_DEVICE_ID.setModeValue(appMode, deviceId);
+				setupSensorSettings(ExternalSensorTrackDataType.HEART_RATE);
 				break;
 			case TEMPERATURE:
-				plugin.TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE.setModeValue(appMode, deviceId);
-				setupSensorSettings(WriteToGpxWidgetType.TEMPERATURE);
+				plugin.TEMPERATURE_SENSOR_WRITE_TO_TRACK_DEVICE_ID.setModeValue(appMode, deviceId);
+				setupSensorSettings(ExternalSensorTrackDataType.TEMPERATURE);
 				break;
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WheelDeviceSettings.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WheelDeviceSettings.kt
index e6e4aa64074..866bbaf6b6a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WheelDeviceSettings.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/WheelDeviceSettings.kt
@@ -1,6 +1,6 @@
 package net.osmand.plus.plugins.externalsensors
 
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty
 
 class WheelDeviceSettings : DeviceSettings {
 	companion object {
@@ -12,13 +12,13 @@ class WheelDeviceSettings : DeviceSettings {
 		deviceName: String, deviceEnabled: Boolean) : super(
 		deviceId, deviceType,
 		deviceName, deviceEnabled) {
-		additionalParams[DeviceChangeableProperties.WHEEL_CIRCUMFERENCE] =
+		additionalParams[DeviceChangeableProperty.WHEEL_CIRCUMFERENCE] =
 			DEFAULT_WHEEL_CIRCUMFERENCE.toString()
 	}
 
 	constructor(settings: DeviceSettings) : super(settings) {
-		if (!additionalParams.containsKey(DeviceChangeableProperties.WHEEL_CIRCUMFERENCE)) {
-			additionalParams[DeviceChangeableProperties.WHEEL_CIRCUMFERENCE] =
+		if (!additionalParams.containsKey(DeviceChangeableProperty.WHEEL_CIRCUMFERENCE)) {
+			additionalParams[DeviceChangeableProperty.WHEEL_CIRCUMFERENCE] =
 				DEFAULT_WHEEL_CIRCUMFERENCE.toString()
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/ChangeableCharacteristicsAdapter.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/ChangeableCharacteristicsAdapter.kt
index 14d89e2a8af..6bd73199c0f 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/ChangeableCharacteristicsAdapter.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/adapters/ChangeableCharacteristicsAdapter.kt
@@ -8,7 +8,7 @@ import net.osmand.plus.helpers.AndroidUiHelper
 import net.osmand.plus.plugins.PluginsHelper
 import net.osmand.plus.plugins.externalsensors.ExternalSensorsPlugin
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty
 import net.osmand.plus.plugins.externalsensors.viewholders.DeviceCharacteristicsViewHolder
 import net.osmand.plus.utils.UiUtilities
 
@@ -18,7 +18,7 @@ class ChangeableCharacteristicsAdapter(
 	private val device: AbstractDevice<*>,
 	private val propertyClickedListener: OnPropertyClickedListener) :
 	RecyclerView.Adapter<DeviceCharacteristicsViewHolder>() {
-	private val items: List<DeviceChangeableProperties> = device.changeableProperties
+	private val items: List<DeviceChangeableProperty> = device.changeableProperties
 	private val plugin = PluginsHelper.getPlugin(ExternalSensorsPlugin::class.java)
 
 	override fun onCreateViewHolder(
@@ -33,14 +33,14 @@ class ChangeableCharacteristicsAdapter(
 		val property = items[position]
 		holder.name.text = app.getString(property.displayNameResId)
 		AndroidUiHelper.updateVisibility(holder.divider, true)
-		val value = plugin.getDeviceProperty(device, property)
-		val metric = plugin.getPropertyMetric(property, true)
-		if (metric == 0) {
+		val value = plugin.getFormattedDevicePropertyValue(device, property)
+		val unitsId = property.getUnitsResId(app, true)
+		if (unitsId == 0) {
 			holder.value.text = value
 		} else {
-			val metricText = app.getString(metric)
+			val unitsStr = app.getString(unitsId)
 			holder.value.text =
-				app.getString(R.string.ltr_or_rtl_combine_via_space, value, metricText)
+				app.getString(R.string.ltr_or_rtl_combine_via_space, value, unitsStr)
 		}
 		holder.itemView.setOnClickListener { propertyClickedListener.onPropertyClicked(property) }
 	}
@@ -50,6 +50,6 @@ class ChangeableCharacteristicsAdapter(
 	}
 
 	interface OnPropertyClickedListener {
-		fun onPropertyClicked(property: DeviceChangeableProperties)
+		fun onPropertyClicked(property: DeviceChangeableProperty)
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/AbstractDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/AbstractDevice.java
index 9bc0c712c0c..8c82769645b 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/AbstractDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/AbstractDevice.java
@@ -1,6 +1,6 @@
 package net.osmand.plus.plugins.externalsensors.devices;
 
-import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.NAME;
+import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty.NAME;
 
 import android.app.Activity;
 import android.content.Context;
@@ -11,7 +11,7 @@
 
 import net.osmand.plus.plugins.externalsensors.DeviceType;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorWidgetDataFieldType;
 import net.osmand.util.Algorithms;
@@ -163,11 +163,11 @@ public void writeSensorDataToJson(@NonNull JSONObject json, @NonNull SensorWidge
 	}
 
 	@NonNull
-	public List<DeviceChangeableProperties> getChangeableProperties() {
+	public List<DeviceChangeableProperty> getChangeableProperties() {
 		return Collections.emptyList();
 	}
 
-	public void setChangeableProperty(DeviceChangeableProperties property, String value) {
+	public void setChangeableProperty(DeviceChangeableProperty property, String value) {
 		if (property == NAME) {
 			setDeviceName(value);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
index cecbeb24145..f9bb569a777 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ant/AntBikeSpeedDistanceDevice.java
@@ -15,7 +15,7 @@
 
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.plugins.externalsensors.DeviceType;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntAbstractSensor;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikeDistanceSensor;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ant.AntBikeSpeedSensor;
@@ -101,13 +101,13 @@ public boolean disconnect() {
 
 	@NonNull
 	@Override
-	public List<DeviceChangeableProperties> getChangeableProperties() {
-		return Collections.singletonList(DeviceChangeableProperties.WHEEL_CIRCUMFERENCE);
+	public List<DeviceChangeableProperty> getChangeableProperties() {
+		return Collections.singletonList(DeviceChangeableProperty.WHEEL_CIRCUMFERENCE);
 	}
 
 	@Override
-	public void setChangeableProperty(DeviceChangeableProperties property, String value) {
-		if (property == DeviceChangeableProperties.WHEEL_CIRCUMFERENCE) {
+	public void setChangeableProperty(DeviceChangeableProperty property, String value) {
+		if (property == DeviceChangeableProperty.WHEEL_CIRCUMFERENCE) {
 			if (Algorithms.isFloat(value)) {
 				setWheelCircumference(Float.parseFloat(value));
 			}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ble/BLEBikeSCDDevice.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ble/BLEBikeSCDDevice.java
index 85a72abbacd..2c4501b3eb1 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ble/BLEBikeSCDDevice.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/ble/BLEBikeSCDDevice.java
@@ -6,7 +6,7 @@
 
 import net.osmand.plus.plugins.externalsensors.DeviceType;
 import net.osmand.plus.plugins.externalsensors.GattAttributes;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.ble.BLEBikeSensor;
 import net.osmand.util.Algorithms;
 
@@ -25,8 +25,8 @@ public BLEBikeSCDDevice(@NonNull BluetoothAdapter bluetoothAdapter, @NonNull Str
 
 	@NonNull
 	@Override
-	public List<DeviceChangeableProperties> getChangeableProperties() {
-		return Collections.singletonList(DeviceChangeableProperties.WHEEL_CIRCUMFERENCE);
+	public List<DeviceChangeableProperty> getChangeableProperties() {
+		return Collections.singletonList(DeviceChangeableProperty.WHEEL_CIRCUMFERENCE);
 	}
 
 	@NonNull
@@ -45,8 +45,8 @@ public void setWheelCircumference(float wheelCircumference) {
 	}
 
 	@Override
-	public void setChangeableProperty(DeviceChangeableProperties property, String value) {
-		if (property == DeviceChangeableProperties.WHEEL_CIRCUMFERENCE && Algorithms.isFloat(value, true)) {
+	public void setChangeableProperty(DeviceChangeableProperty property, String value) {
+		if (property == DeviceChangeableProperty.WHEEL_CIRCUMFERENCE && Algorithms.isFloat(value, true)) {
 			setWheelCircumference(Float.parseFloat(value));
 		} else {
 			super.setChangeableProperty(property, value);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperties.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperties.kt
deleted file mode 100644
index 847b4970616..00000000000
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperties.kt
+++ /dev/null
@@ -1,9 +0,0 @@
-package net.osmand.plus.plugins.externalsensors.devices.sensors
-
-import android.view.inputmethod.EditorInfo
-import net.osmand.plus.R
-
-enum class DeviceChangeableProperties(val displayNameResId: Int, val inputType: Int) {
-	NAME(R.string.shared_string_name, EditorInfo.TYPE_CLASS_TEXT),
-	WHEEL_CIRCUMFERENCE(R.string.wheel_circumference, EditorInfo.TYPE_CLASS_NUMBER or EditorInfo.TYPE_NUMBER_FLAG_DECIMAL)
-}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperty.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperty.kt
new file mode 100644
index 00000000000..e3f09adf2d3
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/devices/sensors/DeviceChangeableProperty.kt
@@ -0,0 +1,66 @@
+package net.osmand.plus.plugins.externalsensors.devices.sensors
+
+import android.content.Context
+import android.view.inputmethod.EditorInfo
+import androidx.annotation.StringRes
+import net.osmand.plus.OsmandApplication
+import net.osmand.plus.R
+import net.osmand.plus.plugins.externalsensors.WheelDeviceSettings
+import net.osmand.plus.utils.OsmAndFormatter
+import net.osmand.util.Algorithms
+import java.text.DecimalFormat
+import java.text.DecimalFormatSymbols
+import java.util.Locale
+
+enum class DeviceChangeableProperty(val displayNameResId: Int, val inputType: Int) {
+	NAME(R.string.shared_string_name, EditorInfo.TYPE_CLASS_TEXT),
+	WHEEL_CIRCUMFERENCE(R.string.wheel_circumference, EditorInfo.TYPE_CLASS_NUMBER or EditorInfo.TYPE_NUMBER_FLAG_DECIMAL);
+
+	fun getFormattedValue(context: Context, value: String?): String {
+		val app = context.applicationContext as OsmandApplication
+		var res: String
+		if (this === WHEEL_CIRCUMFERENCE) {
+			var floatValue = WheelDeviceSettings.DEFAULT_WHEEL_CIRCUMFERENCE
+			if (value != null && Algorithms.isFloat(value, true)) {
+				floatValue = value.replace(",", ".").toFloat()
+			}
+			if (app.settings.METRIC_SYSTEM.get().shouldUseFeet()) {
+				floatValue *= OsmAndFormatter.INCHES_IN_ONE_METER
+			}
+			res = DecimalFormat("#.####", DecimalFormatSymbols(Locale.US)).format(floatValue.toDouble())
+		} else if (value != null) {
+			res = value
+		} else {
+			res = ""
+		}
+		return res
+	}
+
+	fun normalizeValue(context: Context, value: String): String {
+		val app = context.applicationContext as OsmandApplication
+		var res: String
+		if (this === WHEEL_CIRCUMFERENCE && Algorithms.isFloat(value, true)) {
+			var floatValue = value.replace(",", ".").toFloat()
+			if (app.settings.METRIC_SYSTEM.get().shouldUseFeet()) {
+				floatValue /= OsmAndFormatter.INCHES_IN_ONE_METER
+			}
+			res = DecimalFormat("#.####", DecimalFormatSymbols(Locale.US)).format(floatValue.toDouble())
+		} else {
+			res = value.trim()
+		}
+		return res
+	}
+
+	@StringRes
+	open fun getUnitsResId(context: Context, shortForm: Boolean): Int {
+		val app = context.applicationContext as OsmandApplication
+		var res = 0
+		if (this === WHEEL_CIRCUMFERENCE) {
+			res =
+				if (app.settings.METRIC_SYSTEM.get().shouldUseFeet())
+					(if (shortForm) R.string.inch else R.string.shared_string_inches)
+				else (if (shortForm) R.string.m else R.string.shared_string_meters)
+		}
+		return res
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/EditDevicePropertyDialog.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/EditDevicePropertyDialog.java
index 85a81567e8d..1b031539345 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/EditDevicePropertyDialog.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/EditDevicePropertyDialog.java
@@ -23,7 +23,7 @@
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.externalsensors.ExternalSensorsPlugin;
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
@@ -43,7 +43,7 @@ public class EditDevicePropertyDialog extends BaseOsmAndDialogFragment {
 	private ExtendedEditText textInput;
 	private TextView propertyName;
 	private String propertyOldValueValue;
-	private DeviceChangeableProperties property;
+	private DeviceChangeableProperty property;
 	private String deviceId;
 
 	@Nullable
@@ -73,24 +73,24 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 		if (args != null) {
 			int propertyId = args.getInt(PROPERTY_ID_KEY);
 			deviceId = args.getString(DEVICE_ID_KEY);
-			property = DeviceChangeableProperties.values()[propertyId];
+			property = DeviceChangeableProperty.values()[propertyId];
 			textInput.setInputType(property.getInputType());
 			propertyName.setText(property.getDisplayNameResId());
-			propertyValueView.setHasClearButton(property == DeviceChangeableProperties.NAME);
+			propertyValueView.setHasClearButton(property == DeviceChangeableProperty.NAME);
 			ExternalSensorsPlugin plugin = PluginsHelper.getPlugin(ExternalSensorsPlugin.class);
 			if (plugin != null) {
-				int metricResId = plugin.getPropertyMetric(property, false);
-				if (metricResId != 0) {
+				int unitsId = property.getUnitsResId(app, false);
+				if (unitsId != 0) {
 					if (AndroidUtils.isLayoutRtl(view.getContext())) {
-						textInput.setPrefix(app.getString(metricResId));
+						textInput.setPrefix(app.getString(unitsId));
 					} else {
-						textInput.setSuffix(app.getString(metricResId));
+						textInput.setSuffix(app.getString(unitsId));
 					}
 
 				}
 				AbstractDevice<?> device = plugin.getDevice(deviceId);
 				if (device != null) {
-					propertyOldValueValue = plugin.getDeviceProperty(device, property).replace(",", ".");
+					propertyOldValueValue = plugin.getFormattedDevicePropertyValue(device, property).replace(",", ".");
 					textInput.setText(propertyOldValueValue);
 				}
 			}
@@ -168,7 +168,7 @@ private void onSaveEditedText(@NonNull String newName) {
 	public static void showInstance(@NonNull FragmentActivity activity,
 	                                @Nullable Fragment target,
 	                                @NonNull AbstractDevice<?> device,
-	                                @NonNull DeviceChangeableProperties property) {
+	                                @NonNull DeviceChangeableProperty property) {
 		if (!(target instanceof OnSaveSensorPropertyCallback)) {
 			throw new IllegalArgumentException("target fragment should implement OnSaveSensorNameCallback");
 		}
@@ -188,6 +188,6 @@ public static void showInstance(@NonNull FragmentActivity activity,
 	}
 
 	public interface OnSaveSensorPropertyCallback {
-		void changeSensorPropertyValue(@NonNull String sensorId, @NonNull DeviceChangeableProperties property, @NonNull String newValue);
+		void changeSensorPropertyValue(@NonNull String sensorId, @NonNull DeviceChangeableProperty property, @NonNull String newValue);
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
index 05806b41833..ca1acbf3762 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
@@ -20,8 +20,8 @@ import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice.DeviceList
 import net.osmand.plus.plugins.externalsensors.devices.DeviceConnectionResult
 import net.osmand.plus.plugins.externalsensors.devices.ble.BLEAbstractDevice
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.NAME
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty.NAME
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorDataField
 import net.osmand.plus.plugins.externalsensors.dialogs.EditDevicePropertyDialog.OnSaveSensorPropertyCallback
@@ -381,12 +381,12 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         updateButtonState()
     }
 
-    override fun changeSensorPropertyValue(sensorId: String, property: DeviceChangeableProperties, newValue: String) {
+    override fun changeSensorPropertyValue(sensorId: String, property: DeviceChangeableProperty, newValue: String) {
         plugin.setDeviceProperty(device, property, newValue)
         updateProperties()
     }
 
-    override fun onPropertyClicked(property: DeviceChangeableProperties) {
+    override fun onPropertyClicked(property: DeviceChangeableProperty) {
         EditDevicePropertyDialog.showInstance(requireActivity(), this, device, property)
     }
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
index 1a4275e08ad..87a8b466f5a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesListFragment.java
@@ -1,6 +1,6 @@
 package net.osmand.plus.plugins.externalsensors.dialogs;
 
-import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties.NAME;
+import static net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty.NAME;
 
 import android.content.Intent;
 import android.net.Uri;
@@ -28,7 +28,7 @@
 import net.osmand.plus.plugins.externalsensors.devices.AbstractDevice.DeviceListener;
 import net.osmand.plus.plugins.externalsensors.devices.DeviceConnectionResult;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.AbstractSensor;
-import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperties;
+import net.osmand.plus.plugins.externalsensors.devices.sensors.DeviceChangeableProperty;
 import net.osmand.plus.plugins.externalsensors.devices.sensors.SensorData;
 import net.osmand.plus.plugins.externalsensors.dialogs.EditDevicePropertyDialog.OnSaveSensorPropertyCallback;
 import net.osmand.plus.utils.AndroidUtils;
@@ -258,7 +258,7 @@ public void onForgetSensorConfirmed(@NonNull AbstractDevice<?> device) {
 	}
 
 	@Override
-	public void changeSensorPropertyValue(@NonNull String sensorId, @NonNull DeviceChangeableProperties property, @NonNull String newName) {
+	public void changeSensorPropertyValue(@NonNull String sensorId, @NonNull DeviceChangeableProperty property, @NonNull String newName) {
 		if (property == NAME) {
 			plugin.changeDeviceName(sensorId, newName);
 			updatePairedSensorsList();
diff --git a/OsmAnd/src/net/osmand/plus/plugins/monitoring/MonitoringSettingsFragment.java b/OsmAnd/src/net/osmand/plus/plugins/monitoring/MonitoringSettingsFragment.java
index 909fa53760b..4fd1ccea9cd 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/monitoring/MonitoringSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/monitoring/MonitoringSettingsFragment.java
@@ -32,7 +32,7 @@
 import net.osmand.plus.myplaces.MyPlacesActivity;
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.externalsensors.ExternalSensorsPlugin;
-import net.osmand.plus.plugins.externalsensors.WriteToGpxWidgetType;
+import net.osmand.plus.plugins.externalsensors.ExternalSensorTrackDataType;
 import net.osmand.plus.profiles.SelectCopyAppModeBottomSheet;
 import net.osmand.plus.profiles.SelectCopyAppModeBottomSheet.CopyAppModePrefsListener;
 import net.osmand.plus.settings.backend.ApplicationMode;
@@ -267,21 +267,21 @@ private void setupExternalSensorsPref() {
 				openExternalSensors.setVisible(true);
 				setPreferenceVisible("logging_data", true);
 				setPreferenceVisible("logging_data_divider", true);
-				List<String> linkedSensors = getLinkedSensors();
-				if (linkedSensors.isEmpty()) {
+				List<String> linkedSensorNames = getLinkedSensorNames();
+				if (linkedSensorNames.isEmpty()) {
 					@ColorRes int iconColor = isNightMode() ? R.color.icon_color_default_light : R.color.icon_color_default_dark;
 					openExternalSensors.setIcon(getIcon(R.drawable.ic_action_sensor, iconColor));
 					openExternalSensors.setSummary(R.string.shared_string_none);
 				} else {
 					openExternalSensors.setIcon(getActiveIcon(R.drawable.ic_action_sensor));
-					StringBuilder linkedSensorsString = new StringBuilder();
-					for (String linkedSensor : linkedSensors) {
-						if (!Algorithms.isEmpty(linkedSensorsString)) {
-							linkedSensorsString.append(", ");
+					StringBuilder summary = new StringBuilder();
+					for (String sensorName : linkedSensorNames) {
+						if (!Algorithms.isEmpty(summary)) {
+							summary.append(", ");
 						}
-						linkedSensorsString.append(linkedSensor);
+						summary.append(sensorName);
 					}
-					openExternalSensors.setSummary(linkedSensorsString);
+					openExternalSensors.setSummary(summary);
 				}
 			}
 		}
@@ -294,22 +294,22 @@ private void setPreferenceVisible(@NonNull String preferenceId, boolean isVisibl
 		}
 	}
 
-	private List<String> getLinkedSensors() {
+	private List<String> getLinkedSensorNames() {
 		ApplicationMode selectedAppMode = getSelectedAppMode();
-		List<String> linkedSensors = new ArrayList<>();
+		List<String> res = new ArrayList<>();
 		ExternalSensorsPlugin sensorsPlugin = PluginsHelper.getPlugin(ExternalSensorsPlugin.class);
 		if (sensorsPlugin != null) {
-			for (WriteToGpxWidgetType widgetType : WriteToGpxWidgetType.values()) {
-				CommonPreference<String> preference = sensorsPlugin.getPrefSettingsForWidgetType(widgetType);
-				String deviceId = preference.getModeValue(selectedAppMode);
+			for (ExternalSensorTrackDataType dataType : ExternalSensorTrackDataType.values()) {
+				CommonPreference<String> deviceIdPref = sensorsPlugin.getWriteToTrackDeviceIdPref(dataType);
+				String deviceId = deviceIdPref.getModeValue(selectedAppMode);
 				if (!Algorithms.isEmpty(deviceId) &&
 						!ExternalSensorsPlugin.DENY_WRITE_SENSOR_DATA_TO_TRACK_KEY.equals(deviceId) &&
 						sensorsPlugin.getDevice(deviceId) != null) {
-					linkedSensors.add(app.getString(widgetType.getTitleId()));
+					res.add(app.getString(dataType.getTitleId()));
 				}
 			}
 		}
-		return linkedSensors;
+		return res;
 	}
 
 	private void setupLiveMonitoringPref() {
