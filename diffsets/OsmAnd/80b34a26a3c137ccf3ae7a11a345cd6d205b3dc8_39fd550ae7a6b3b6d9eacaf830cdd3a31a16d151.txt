diff --git a/OsmAnd/src/net/osmand/plus/NavigationService.java b/OsmAnd/src/net/osmand/plus/NavigationService.java
index c1366540d73..eba52461cac 100644
--- a/OsmAnd/src/net/osmand/plus/NavigationService.java
+++ b/OsmAnd/src/net/osmand/plus/NavigationService.java
@@ -223,7 +223,7 @@ public void onLocationResult(@NonNull List<net.osmand.Location> locations) {
 						Location location = locations.get(locations.size() - 1);
 						NavigationSession carNavigationSession = app.getCarNavigationSession();
 						boolean hasCarSurface = carNavigationSession != null && carNavigationSession.hasStarted();
-						if (!settings.MAP_ACTIVITY_ENABLED.get() || hasCarSurface) {
+						if (!settings.MAP_ACTIVITY_ENABLED || hasCarSurface) {
 							locationProvider.setLocationFromService(location);
 						}
 					}
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
index 4eae41d2f61..7d7a9b99bc1 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
@@ -644,7 +644,7 @@ protected void onResume() {
 			mapView.initMapRotationByCompassMode();
 		}
 
-		settings.MAP_ACTIVITY_ENABLED.set(true);
+		settings.MAP_ACTIVITY_ENABLED = true;
 		mapView.showAndHideMapPosition();
 
 		readLocationToShow();
@@ -799,7 +799,7 @@ public boolean isMapVisible() {
 		if (fragmentsHelper.isFragmentVisible()) {
 			return false;
 		}
-		return AndroidUtils.isActivityNotDestroyed(this) && settings.MAP_ACTIVITY_ENABLED.get()
+		return AndroidUtils.isActivityNotDestroyed(this) && settings.MAP_ACTIVITY_ENABLED
 				&& !dashboardOnMap.isVisible();
 	}
 
@@ -1050,7 +1050,7 @@ private void onPauseActivity() {
 		settings.setLastKnownMapZoomFloatPart(mapView.getZoomFloatPart());
 		settings.setLastKnownMapRotation(mapView.getRotate());
 		settings.setLastKnownMapElevation(mapView.getElevationAngle());
-		settings.MAP_ACTIVITY_ENABLED.set(false);
+		settings.MAP_ACTIVITY_ENABLED = false;
 		getMapView().getAnimatedDraggingThread().toggleAnimations();
 		app.getResourceManager().interruptRendering();
 		PluginsHelper.onMapActivityPause(this);
diff --git a/OsmAnd/src/net/osmand/plus/auto/NavigationSession.java b/OsmAnd/src/net/osmand/plus/auto/NavigationSession.java
index 02ae4aebbf2..a235f0b9edc 100644
--- a/OsmAnd/src/net/osmand/plus/auto/NavigationSession.java
+++ b/OsmAnd/src/net/osmand/plus/auto/NavigationSession.java
@@ -154,11 +154,16 @@ private boolean isAppModeDerivedFromCar(ApplicationMode appMode) {
 
 	@Override
 	public void onStop(@NonNull LifecycleOwner owner) {
-		getApp().getRoutingHelper().removeListener(this);
-		if (defaultAppMode != null) {
-			getApp().getSettings().setApplicationMode(defaultAppMode);
-			defaultAppMode = null;
+		OsmandApplication app = getApp();
+		OsmandSettings settings = app.getSettings();
+		RoutingHelper routingHelper = app.getRoutingHelper();
+
+		routingHelper.removeListener(this);
+		boolean routing = settings.FOLLOW_THE_ROUTE.get() || routingHelper.isRouteCalculated() || routingHelper.isRouteBeingCalculated();
+		if (defaultAppMode != null && !routing) {
+			settings.setApplicationMode(defaultAppMode);
 		}
+		defaultAppMode = null;
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 6e665f323ab..8c38d0f6499 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -3126,7 +3126,7 @@ public CommonPreference<Boolean> getCustomRoutingBooleanProperty(String attrName
 	public final OsmandPreference<Integer> GPX_APPROXIMATION_DISTANCE = new IntPreference(this, "gpx_approximation_distance", DEFAULT_POINT_APPROXIMATION).makeProfile().makeShared();
 
 	// for background service
-	public final OsmandPreference<Boolean> MAP_ACTIVITY_ENABLED = new BooleanPreference(this, "map_activity_enabled", false).makeGlobal();
+	public boolean MAP_ACTIVITY_ENABLED = false;
 
 	public final OsmandPreference<Boolean> SAFE_MODE = new BooleanPreference(this, "safe_mode", false).makeGlobal().makeShared();
 	public final OsmandPreference<Boolean> PT_SAFE_MODE = new BooleanPreference(this, "pt_safe_mode", false).makeProfile();
diff --git a/OsmAnd/src/net/osmand/plus/views/AnimateDraggingMapThread.java b/OsmAnd/src/net/osmand/plus/views/AnimateDraggingMapThread.java
index 73e0af063ce..00abf79b891 100644
--- a/OsmAnd/src/net/osmand/plus/views/AnimateDraggingMapThread.java
+++ b/OsmAnd/src/net/osmand/plus/views/AnimateDraggingMapThread.java
@@ -173,7 +173,7 @@ private void allowAnimations() {
 	}
 
 	public void toggleAnimations() {
-		boolean mapActivityActive = app.getSettings().MAP_ACTIVITY_ENABLED.get();
+		boolean mapActivityActive = app.getSettings().MAP_ACTIVITY_ENABLED;
 		boolean carSessionActive = false;
 		NavigationSession navigationSession = app.getCarNavigationSession();
 		if (navigationSession != null) {
