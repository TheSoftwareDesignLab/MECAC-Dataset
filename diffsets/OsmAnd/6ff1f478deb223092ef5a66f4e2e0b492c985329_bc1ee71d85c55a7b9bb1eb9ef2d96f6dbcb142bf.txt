diff --git a/OsmAnd/src/net/osmand/plus/inapp/InAppPurchaseHelper.java b/OsmAnd/src/net/osmand/plus/inapp/InAppPurchaseHelper.java
index b225a187d91..358571e2cf8 100644
--- a/OsmAnd/src/net/osmand/plus/inapp/InAppPurchaseHelper.java
+++ b/OsmAnd/src/net/osmand/plus/inapp/InAppPurchaseHelper.java
@@ -137,12 +137,16 @@ public InAppPurchaseTaskType getActiveTask() {
 		return activeTask;
 	}
 
-	public static boolean isSubscribedToAny(@NonNull OsmandApplication ctx) {
-		return Version.isDeveloperBuild(ctx)
-				|| isSubscribedToMaps(ctx)
-				|| isOsmAndProAvailable(ctx)
-				|| isSubscribedToMapperUpdates(ctx)
-				|| ctx.getSettings().LIVE_UPDATES_PURCHASED.get();
+	public static boolean isSubscribedToAny(@NonNull OsmandApplication app) {
+		return isSubscribedToAny(app, true);
+	}
+
+	public static boolean isSubscribedToAny(@NonNull OsmandApplication app, boolean checkDevBuild) {
+		return checkDevBuild && Version.isDeveloperBuild(app)
+				|| isSubscribedToMaps(app, checkDevBuild)
+				|| isOsmAndProAvailable(app, checkDevBuild)
+				|| isSubscribedToMapperUpdates(app)
+				|| app.getSettings().LIVE_UPDATES_PURCHASED.get();
 	}
 
 	public static boolean isSubscribedToMaps(@NonNull OsmandApplication app) {
@@ -174,10 +178,14 @@ public static boolean isSubscribedToPromo(@NonNull OsmandApplication ctx) {
 		return ctx.getSettings().BACKUP_PROMOCODE_ACTIVE.get();
 	}
 
-	public static boolean isOsmAndProAvailable(@NonNull OsmandApplication ctx) {
-		return Version.isDeveloperBuild(ctx)
-				|| isSubscribedToPromo(ctx)
-				|| isSubscribedToOsmAndPro(ctx);
+	public static boolean isOsmAndProAvailable(@NonNull OsmandApplication app) {
+		return isOsmAndProAvailable(app, true);
+	}
+
+	public static boolean isOsmAndProAvailable(@NonNull OsmandApplication app, boolean checkDevBuild) {
+		return checkDevBuild && Version.isDeveloperBuild(app)
+				|| isSubscribedToPromo(app)
+				|| isSubscribedToOsmAndPro(app);
 	}
 
 	public static boolean isAndroidAutoAvailable(@NonNull OsmandApplication app) {
@@ -965,33 +973,43 @@ public boolean onActivityResult(@NonNull Activity activity, int requestCode, int
 	}
 
 	protected void notifyError(InAppPurchaseTaskType taskType, String message) {
-		if (uiActivity != null) {
-			uiActivity.onError(taskType, message);
-		}
+		ctx.runInUIThread(() -> {
+			if (uiActivity != null) {
+				uiActivity.onError(taskType, message);
+			}
+		});
 	}
 
 	protected void notifyGetItems() {
-		if (uiActivity != null) {
-			uiActivity.onGetItems();
-		}
+		ctx.runInUIThread(() -> {
+			if (uiActivity != null) {
+				uiActivity.onGetItems();
+			}
+		});
 	}
 
 	protected void notifyItemPurchased(String sku, boolean active) {
-		if (uiActivity != null) {
-			uiActivity.onItemPurchased(sku, active);
-		}
+		ctx.runInUIThread(() -> {
+			if (uiActivity != null) {
+				uiActivity.onItemPurchased(sku, active);
+			}
+		});
 	}
 
 	protected void notifyShowProgress(InAppPurchaseTaskType taskType) {
-		if (uiActivity != null) {
-			uiActivity.showProgress(taskType);
-		}
+		ctx.runInUIThread(() -> {
+			if (uiActivity != null) {
+				uiActivity.showProgress(taskType);
+			}
+		});
 	}
 
 	protected void notifyDismissProgress(InAppPurchaseTaskType taskType) {
-		if (uiActivity != null) {
-			uiActivity.dismissProgress(taskType);
-		}
+		ctx.runInUIThread(() -> {
+			if (uiActivity != null) {
+				uiActivity.dismissProgress(taskType);
+			}
+		});
 	}
 
 	/// UI notifications methods
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/InAppPurchaseCard.java b/OsmAnd/src/net/osmand/plus/settings/fragments/InAppPurchaseCard.java
index e1947aea952..0719c60bfa1 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/InAppPurchaseCard.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/InAppPurchaseCard.java
@@ -12,6 +12,7 @@
 
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
+import net.osmand.plus.Version;
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.inapp.InAppPurchaseHelper;
 import net.osmand.plus.inapp.InAppPurchases;
@@ -165,15 +166,19 @@ private void setupSubscriptionCard(@NonNull InAppSubscription subscription) {
 				AndroidUiHelper.updateVisibility(nextBillingDate, true);
 			}
 		} else if (state != SubscriptionState.ACTIVE && state != SubscriptionState.CANCELLED) {
+			boolean visible = true;
+			if (purchases.isMapsSubscription(subscription)) {
+				boolean isFullVersion = !Version.isFreeVersion(app) || InAppPurchaseHelper.isFullVersionPurchased(app, false);
+				visible = !isFullVersion && !InAppPurchaseHelper.isSubscribedToAny(app, false);
+			} else if (purchases.isOsmAndProSubscription(subscription)) {
+				visible = !InAppPurchaseHelper.isOsmAndProAvailable(app, false);
+			}
 			View renewContainer = view.findViewById(R.id.renewContainer);
-			AndroidUiHelper.updateVisibility(renewContainer, true);
-			AndroidUtils.setBackground(activity, renewContainer, nightMode, R.drawable.ripple_light, R.drawable.ripple_dark);
-			String sku = subscription.getSku();
-			renewContainer.setOnClickListener(v -> InAppPurchaseHelper.subscribe(activity, purchaseHelper, sku));
+			renewContainer.setOnClickListener(v -> InAppPurchaseHelper.subscribe(activity, purchaseHelper, subscription.getSku()));
 
-			View renew = view.findViewById(R.id.renew);
-			AndroidUtils.setBackground(activity, renew, nightMode,
-					R.drawable.btn_solid_border_light, R.drawable.btn_solid_border_dark);
+			AndroidUiHelper.updateVisibility(renewContainer, visible && Version.isInAppPurchaseSupported());
+			AndroidUtils.setBackground(activity, renewContainer, nightMode, R.drawable.ripple_light, R.drawable.ripple_dark);
+			AndroidUtils.setBackground(activity, view.findViewById(R.id.renew), nightMode, R.drawable.btn_solid_border_light, R.drawable.btn_solid_border_dark);
 		}
 		setupStatus(view, state, expiredTime, expiredTime);
 	}
