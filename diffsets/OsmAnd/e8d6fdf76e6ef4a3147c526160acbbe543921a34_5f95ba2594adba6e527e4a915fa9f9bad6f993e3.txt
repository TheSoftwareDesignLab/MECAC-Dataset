diff --git a/OsmAnd/res/layout/popup_menu_item.xml b/OsmAnd/res/layout/popup_menu_item.xml
index b42ff068d75..5ca65808b56 100644
--- a/OsmAnd/res/layout/popup_menu_item.xml
+++ b/OsmAnd/res/layout/popup_menu_item.xml
@@ -1,65 +1,61 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="wrap_content"
-    android:minHeight="@dimen/bottom_sheet_list_item_height"
-    android:orientation="horizontal">
-
-    <androidx.appcompat.widget.AppCompatImageView
-        android:id="@+id/icon"
-        android:layout_width="@dimen/standard_icon_size"
-        android:layout_height="@dimen/standard_icon_size"
-        android:layout_gravity="center_vertical"
-        android:layout_marginLeft="@dimen/content_padding_half"
-        android:layout_marginStart="@dimen/content_padding_half"
-        tools:src="@drawable/ic_action_info_dark" />
-
-    <LinearLayout
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:orientation="vertical">
-
-        <View
-            android:id="@+id/divider"
-            android:layout_width="match_parent"
-            android:layout_height="1dp"
-            android:layout_marginStart="@dimen/content_padding"
-            android:background="?attr/list_divider" />
-
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:orientation="horizontal">
-
-            <TextView
-                android:id="@+id/title"
-                android:layout_width="0dp"
-                android:layout_height="wrap_content"
-                android:layout_weight="1"
-                android:textColor="?android:textColorPrimary"
-                android:layout_gravity="center_vertical"
-                android:paddingLeft="@dimen/content_padding"
-                android:paddingStart="@dimen/content_padding"
-                android:paddingRight="@dimen/content_padding"
-                android:paddingEnd="@dimen/content_padding"
-                android:paddingTop="@dimen/content_padding_small"
-                android:paddingBottom="@dimen/content_padding_small"
-                android:textSize="@dimen/default_list_text_size"
-                tools:text="Title" />
-
-            <androidx.appcompat.widget.AppCompatRadioButton
-                android:id="@+id/compound_button"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_gravity="center"
-                android:layout_marginRight="@dimen/content_padding"
-                android:layout_marginEnd="@dimen/content_padding"
-                android:focusable="false"
-                android:clickable="false" />
-
-        </LinearLayout>
-
-    </LinearLayout>
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:minHeight="@dimen/bottom_sheet_list_item_height"
+	android:orientation="horizontal">
+
+	<ImageView
+		android:id="@+id/icon"
+		android:layout_width="@dimen/standard_icon_size"
+		android:layout_height="@dimen/standard_icon_size"
+		android:layout_gravity="center_vertical"
+		android:layout_marginStart="@dimen/content_padding_half"
+		android:layout_marginLeft="@dimen/content_padding_half"
+		tools:src="@drawable/ic_action_info_dark" />
+
+	<LinearLayout
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:orientation="vertical">
+
+		<View
+			android:id="@+id/divider"
+			android:layout_width="match_parent"
+			android:layout_height="1dp"
+			android:layout_marginStart="@dimen/content_padding"
+			android:background="?attr/list_divider" />
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="wrap_content"
+			android:orientation="horizontal">
+
+			<TextView
+				android:id="@+id/title"
+				android:layout_width="0dp"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical"
+				android:layout_marginHorizontal="@dimen/content_padding"
+				android:layout_marginVertical="@dimen/content_padding_small"
+				android:layout_weight="1"
+				android:textColor="?android:textColorPrimary"
+				android:textSize="@dimen/default_list_text_size"
+				tools:text="Title" />
+
+			<RadioButton
+				android:id="@+id/compound_button"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="center_vertical"
+				android:layout_marginEnd="@dimen/content_padding"
+				android:layout_marginRight="@dimen/content_padding"
+				android:clickable="false"
+				android:focusable="false" />
+
+		</LinearLayout>
+
+	</LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
index d1ab3737f5e..78909ef5a8f 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/SearchTrackItemsFragment.java
@@ -27,6 +27,9 @@
 import net.osmand.plus.OsmAndLocationProvider.OsmAndLocationListener;
 import net.osmand.plus.R;
 import net.osmand.plus.base.BaseOsmAndDialogFragment;
+import net.osmand.plus.myplaces.tracks.dialogs.BaseTrackFolderFragment;
+import net.osmand.plus.myplaces.tracks.dialogs.TracksSelectionFragment;
+import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.widgets.tools.SimpleTextWatcher;
 import net.osmand.plus.configmap.tracks.viewholders.EmptyTracksViewHolder.EmptyTracksListener;
 import net.osmand.plus.configmap.tracks.viewholders.SortTracksViewHolder.SortTracksListener;
@@ -341,6 +344,15 @@ public void onTrackItemsSelected(@NonNull Set<TrackItem> trackItems, boolean sel
 
 			@Override
 			public void onTrackItemLongClick(@NonNull View view, @NonNull TrackItem trackItem) {
+				Fragment target = getTargetFragment();
+				FragmentManager manager = getFragmentManager();
+				if (target instanceof BaseTrackFolderFragment && manager != null) {
+					BaseTrackFolderFragment fragment = (BaseTrackFolderFragment) target;
+					TrackFolder trackFolder = fragment.getSelectedFolder();
+					TracksSelectionFragment.showInstance(manager, trackFolder, fragment);
+
+					app.runInUIThread(() -> dismissAllowingStateLoss());
+				}
 			}
 		};
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
index 03d034525fc..03792a71fc1 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
@@ -70,7 +70,6 @@
 
 import java.io.File;
 import java.util.ArrayList;
-import java.util.HashSet;
 import java.util.List;
 import java.util.Set;
 
@@ -605,13 +604,9 @@ private void moveGpxFile(@NonNull File file) {
 
 	@Override
 	public void onFileMove(@NonNull File src, @NonNull File dest) {
-		File destFolder = dest.getParentFile();
-		if (destFolder != null && !destFolder.exists() && !destFolder.mkdirs()) {
-			app.showToastMessage(R.string.file_can_not_be_moved);
-		} else if (dest.exists()) {
+		if (dest.exists()) {
 			app.showToastMessage(R.string.file_with_name_already_exists);
-		} else if (src.renameTo(dest)) {
-			app.getGpxDbHelper().rename(src, dest);
+		} else if (FileUtils.renameGpxFile(app, src, dest) != null) {
 			reloadTracks();
 		} else {
 			app.showToastMessage(R.string.file_can_not_be_moved);
diff --git a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
index b816ddd1e19..bb0fecbef1a 100644
--- a/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/importfiles/ui/ImportTracksFragment.java
@@ -359,7 +359,7 @@ public void onAddFolderSelected() {
 		if (activity != null) {
 			String name = Algorithms.getFileNameWithoutExtension(fileName);
 			FragmentManager manager = activity.getSupportFragmentManager();
-			AddNewTrackFolderBottomSheet.showInstance(manager, name, this, true);
+			AddNewTrackFolderBottomSheet.showInstance(manager, null, name, this, true);
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/importfiles/ui/SelectTrackDirectoryBottomSheet.java b/OsmAnd/src/net/osmand/plus/importfiles/ui/SelectTrackDirectoryBottomSheet.java
index 0333e289960..1766d4a5749 100644
--- a/OsmAnd/src/net/osmand/plus/importfiles/ui/SelectTrackDirectoryBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/importfiles/ui/SelectTrackDirectoryBottomSheet.java
@@ -1,6 +1,7 @@
 package net.osmand.plus.importfiles.ui;
 
 import static net.osmand.IndexConstants.GPX_FILE_EXT;
+import static net.osmand.IndexConstants.GPX_INDEX_DIR;
 
 import android.os.Bundle;
 import android.view.LayoutInflater;
@@ -16,7 +17,6 @@
 import androidx.fragment.app.FragmentActivity;
 import androidx.fragment.app.FragmentManager;
 
-import net.osmand.IndexConstants;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.base.MenuBottomSheetDialogFragment;
@@ -26,9 +26,9 @@
 import net.osmand.plus.base.bottomsheetmenu.simpleitems.DividerSpaceItem;
 import net.osmand.plus.base.bottomsheetmenu.simpleitems.SimpleDividerItem;
 import net.osmand.plus.helpers.FontCache;
-import net.osmand.plus.track.helpers.GpxUiHelper;
 import net.osmand.plus.myplaces.tracks.dialogs.AddNewTrackFolderBottomSheet;
 import net.osmand.plus.myplaces.tracks.dialogs.AddNewTrackFolderBottomSheet.OnTrackFolderAddListener;
+import net.osmand.plus.track.helpers.GpxUiHelper;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
@@ -90,8 +90,8 @@ private void createAddFolderItem(@NonNull LayoutInflater inflater) {
 				.setOnClickListener(v -> {
 					FragmentActivity activity = getActivity();
 					if (activity != null) {
-						AddNewTrackFolderBottomSheet.showInstance(activity.getSupportFragmentManager(),
-								suggestedDirName, this, usedOnMap);
+						FragmentManager manager = activity.getSupportFragmentManager();
+						AddNewTrackFolderBottomSheet.showInstance(manager, null, suggestedDirName, this, usedOnMap);
 					}
 				})
 				.setCustomView(view)
@@ -101,7 +101,7 @@ private void createAddFolderItem(@NonNull LayoutInflater inflater) {
 
 	private void createFoldersItem(@NonNull LayoutInflater inflater) {
 		List<File> folders = new ArrayList<>();
-		File gpxDir = app.getAppPath(IndexConstants.GPX_INDEX_DIR);
+		File gpxDir = app.getAppPath(GPX_INDEX_DIR);
 		folders.add(gpxDir);
 		Algorithms.collectDirs(gpxDir, folders);
 
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
index 96826d8ac88..66ca7397af7 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/SaveAsNewTrackBottomSheetDialogFragment.java
@@ -236,7 +236,7 @@ public void onAddNewItemSelected() {
 				FragmentActivity activity = getActivity();
 				if (activity != null) {
 					AddNewTrackFolderBottomSheet.showInstance(activity.getSupportFragmentManager(),
-							null, SaveAsNewTrackBottomSheetDialogFragment.this, usedOnMap);
+							null, null, SaveAsNewTrackBottomSheetDialogFragment.this, usedOnMap);
 				}
 			}
 		};
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
index dfcbc38c615..cd32a79ab35 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AddNewTrackFolderBottomSheet.java
@@ -1,5 +1,6 @@
 package net.osmand.plus.myplaces.tracks.dialogs;
 
+import static net.osmand.IndexConstants.GPX_INDEX_DIR;
 import static net.osmand.plus.utils.FileUtils.ILLEGAL_PATH_NAME_CHARACTERS;
 
 import android.content.res.ColorStateList;
@@ -16,44 +17,53 @@
 import com.google.android.material.textfield.TextInputEditText;
 import com.google.android.material.textfield.TextInputLayout;
 
-import net.osmand.IndexConstants;
-import net.osmand.PlatformUtil;
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.R;
 import net.osmand.plus.base.MenuBottomSheetDialogFragment;
-import net.osmand.plus.widgets.tools.SimpleTextWatcher;
 import net.osmand.plus.base.bottomsheetmenu.BaseBottomSheetItem;
 import net.osmand.plus.base.bottomsheetmenu.simpleitems.DividerSpaceItem;
 import net.osmand.plus.base.bottomsheetmenu.simpleitems.TitleItem;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.ColorUtilities;
 import net.osmand.plus.utils.UiUtilities;
+import net.osmand.plus.widgets.tools.SimpleTextWatcher;
 import net.osmand.util.Algorithms;
 
-import org.apache.commons.logging.Log;
-
 import java.io.File;
 
 public class AddNewTrackFolderBottomSheet extends MenuBottomSheetDialogFragment {
 
 	public static final String TAG = AddNewTrackFolderBottomSheet.class.getName();
-	private static final Log LOG = PlatformUtil.getLog(AddNewTrackFolderBottomSheet.class);
+
 	private static final String FOLDER_NAME_KEY = "folder_name_key";
+	private static final String FOLDER_PATH_KEY = "folder_path_key";
 
 	private OsmandApplication app;
 
 	private TextInputEditText editText;
 	private TextInputLayout nameTextBox;
 
+	private File parentFolder;
 	private String folderName;
 	private boolean rightButtonEnabled = true;
 
+
 	@Override
-	public void createMenuItems(Bundle savedInstanceState) {
+	public void onCreate(Bundle savedInstanceState) {
+		super.onCreate(savedInstanceState);
 		app = requiredMyApplication();
+
 		if (savedInstanceState != null) {
 			folderName = savedInstanceState.getString(FOLDER_NAME_KEY);
+			String path = savedInstanceState.getString(FOLDER_PATH_KEY, null);
+			if (!Algorithms.isEmpty(path)) {
+				parentFolder = new File(path);
+			}
 		}
+	}
+
+	@Override
+	public void createMenuItems(Bundle savedInstanceState) {
 		items.add(new TitleItem(getString(R.string.add_new_folder)));
 
 		View view = UiUtilities.getInflater(app, nightMode).inflate(R.layout.track_name_edit_text, null);
@@ -96,7 +106,8 @@ private void updateFileNameFromEditText(String name) {
 			if (ILLEGAL_PATH_NAME_CHARACTERS.matcher(name).find()) {
 				nameTextBox.setError(getString(R.string.file_name_containes_illegal_char));
 			} else {
-				File destFolder = new File(app.getAppPath(IndexConstants.GPX_INDEX_DIR), name);
+				File parent = parentFolder != null ? parentFolder : app.getAppPath(GPX_INDEX_DIR);
+				File destFolder = new File(parent, name);
 				if (destFolder.exists()) {
 					nameTextBox.setError(getString(R.string.file_with_name_already_exist));
 				} else {
@@ -113,6 +124,9 @@ private void updateFileNameFromEditText(String name) {
 	@Override
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		outState.putString(FOLDER_NAME_KEY, folderName);
+		if (parentFolder != null) {
+			outState.putString(FOLDER_PATH_KEY, parentFolder.getAbsolutePath());
+		}
 		super.onSaveInstanceState(outState);
 	}
 
@@ -146,10 +160,11 @@ public interface OnTrackFolderAddListener {
 		void onTrackFolderAdd(String folderName);
 	}
 
-	public static void showInstance(@NonNull FragmentManager manager, @Nullable String folderName,
-	                                @Nullable Fragment target, boolean usedOnMap) {
+	public static void showInstance(@NonNull FragmentManager manager, @Nullable File parentFolder,
+	                                @Nullable String folderName, @Nullable Fragment target, boolean usedOnMap) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			AddNewTrackFolderBottomSheet fragment = new AddNewTrackFolderBottomSheet();
+			fragment.parentFolder = parentFolder;
 			fragment.folderName = folderName;
 			fragment.setUsedOnMap(usedOnMap);
 			fragment.setTargetFragment(target, 0);
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
index f16127d90eb..50e8f1e9597 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/AvailableTracksFragment.java
@@ -307,13 +307,9 @@ public void onTrackFolderAdd(String folderName) {
 
 	@Override
 	public void onFileMove(@NonNull File src, @NonNull File dest) {
-		File destFolder = dest.getParentFile();
-		if (destFolder != null && !destFolder.exists() && !destFolder.mkdirs()) {
-			app.showToastMessage(R.string.file_can_not_be_moved);
-		} else if (dest.exists()) {
+		if (dest.exists()) {
 			app.showToastMessage(R.string.file_with_name_already_exists);
-		} else if (src.renameTo(dest)) {
-			app.getGpxDbHelper().rename(src, dest);
+		} else if (FileUtils.renameGpxFile(app, src, dest) != null) {
 			reloadTracks();
 		} else {
 			app.showToastMessage(R.string.file_can_not_be_moved);
@@ -361,6 +357,56 @@ public void toggleTrackRecording() {
 		};
 	}
 
+	@Override
+	public void restoreState(Bundle bundle) {
+		super.restoreState(bundle);
+
+		if (rootFolder != null) {
+			if (!Algorithms.isEmpty(selectedItemPath)) {
+				TrackItem trackItem = geTrackItem(rootFolder, selectedItemPath);
+				if (trackItem != null) {
+					showTrackItem(rootFolder, trackItem);
+				}
+				selectedItemPath = null;
+			} else if (!Algorithms.isEmpty(preSelectedFolder)) {
+				openSubfolder(rootFolder, new File(preSelectedFolder));
+				preSelectedFolder = null;
+			}
+		}
+	}
+
+	private void showTrackItem(@NonNull TrackFolder folder, @NonNull TrackItem trackItem) {
+		File file = trackItem.getFile();
+		File dirFile = file != null ? file.getParentFile() : null;
+		if (dirFile != null) {
+			if (Algorithms.objectEquals(selectedFolder.getDirFile(), dirFile)) {
+				int index = adapter.getItemPosition(trackItem);
+				if (index != -1) {
+					recyclerView.scrollToPosition(index);
+				}
+			} else {
+				openSubfolder(folder, dirFile);
+			}
+		}
+	}
+
+	private void openSubfolder(@NonNull TrackFolder folder, @NonNull File file) {
+		TrackFolder subfolder = getSubfolder(folder, file);
+		if (subfolder != null) {
+			openTrackFolder(subfolder);
+		}
+	}
+
+	@Nullable
+	private TrackFolder getSubfolder(@NonNull TrackFolder folder, @NonNull File file) {
+		for (TrackFolder subfolder : folder.getFlattenedSubFolders()) {
+			if (Algorithms.objectEquals(subfolder.getDirFile(), file)) {
+				return subfolder;
+			}
+		}
+		return null;
+	}
+
 	@NonNull
 	private LoadTracksListener getLoadTracksListener() {
 		return new LoadTracksListener() {
@@ -378,19 +424,8 @@ public void loadTracksFinished(@NonNull TrackFolder folder) {
 				updateContent();
 				updateFragmentsFolders();
 				updateProgressVisibility(false);
-				checkSubfolder(folder);
-			}
 
-			private void checkSubfolder(@NonNull TrackFolder folder) {
-				if (preSelectedFolder != null) {
-					for (TrackFolder subfolder : folder.getFlattenedSubFolders()) {
-						if (Algorithms.stringsEqual(subfolder.getDirName(), preSelectedFolder)) {
-							openTrackFolder(subfolder);
-							break;
-						}
-					}
-					preSelectedFolder = null;
-				}
+				restoreState(getArguments());
 			}
 
 			public void updateFragmentsFolders() {
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
index fc7f3379de4..97b7f9f75ce 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
@@ -77,14 +77,17 @@ public abstract class BaseTrackFolderFragment extends BaseOsmAndFragment impleme
 		GpxFilesDeletionListener, SelectGpxTaskListener, OnTrackFolderAddListener {
 
 	public static final String SELECTED_FOLDER_KEY = "selected_folder_key";
+	public static final String SELECTED_ITEM_PATH_KEY = "selected_item_path_key";
 
 	protected ImportHelper importHelper;
 	protected GpxSelectionHelper gpxSelectionHelper;
 
 	protected TrackFolder rootFolder;
 	protected TrackFolder selectedFolder;
-	protected TrackFoldersAdapter adapter;
 
+	protected TrackFoldersAdapter adapter;
+	protected RecyclerView recyclerView;
+	protected String selectedItemPath;
 	protected String preSelectedFolder;
 
 	@ColorRes
@@ -139,7 +142,7 @@ protected void setupAdapter(@NonNull View view) {
 		adapter.setTrackSelectionListener(this);
 		adapter.setEmptyTracksListener(this);
 
-		RecyclerView recyclerView = view.findViewById(R.id.recycler_view);
+		recyclerView = view.findViewById(R.id.recycler_view);
 		recyclerView.setLayoutManager(new LinearLayoutManager(app));
 		recyclerView.setItemAnimator(null);
 		recyclerView.setAdapter(adapter);
@@ -161,6 +164,7 @@ protected List<Object> getAdapterItems() {
 	}
 
 	protected void updateContent() {
+		adapter.setSortMode(getTracksSortMode());
 		adapter.setItems(getAdapterItems());
 	}
 
@@ -197,7 +201,8 @@ public void showFolderOptionsMenu(@NonNull View view, @NonNull TrackFolder track
 				.setOnClickListener(v -> {
 					FragmentManager manager = getFragmentManager();
 					if (manager != null) {
-						AddNewTrackFolderBottomSheet.showInstance(manager, null, this, isUsedOnMap());
+						File dir = selectedFolder.getDirFile();
+						AddNewTrackFolderBottomSheet.showInstance(manager, dir, null, this, isUsedOnMap());
 					}
 				})
 				.showTopDivider(true)
@@ -318,6 +323,8 @@ private BaseTrackFolderFragment getMainFragment() {
 	private void showTrackOnMap(@NonNull TrackItem trackItem) {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
+			selectedItemPath = trackItem.getPath();
+
 			Bundle bundle = storeState();
 			String screenName = app.getString(R.string.shared_string_tracks);
 			boolean temporary = gpxSelectionHelper.getSelectedFileByPath(trackItem.getPath()) == null;
@@ -328,7 +335,7 @@ private void showTrackOnMap(@NonNull TrackItem trackItem) {
 	@Override
 	public void onTracksGroupClicked(@NonNull TracksGroup group) {
 		if (group instanceof TrackFolder) {
-			selectedFolder = (TrackFolder) group;
+			setSelectedFolder((TrackFolder) group);
 		} else if (group instanceof VisibleTracksGroup) {
 			boolean selected = !isTracksGroupSelected(group);
 			onTracksGroupSelected(group, selected);
@@ -407,7 +414,8 @@ public void onTrackFolderAdd(String folderName) {
 	public Bundle storeState() {
 		Bundle bundle = new Bundle();
 		bundle.putInt(TAB_ID, GPX_TAB);
-		bundle.putString(SELECTED_FOLDER_KEY, selectedFolder.getDirName());
+		bundle.putString(SELECTED_ITEM_PATH_KEY, selectedItemPath);
+		bundle.putString(SELECTED_FOLDER_KEY, selectedFolder.getDirFile().getAbsolutePath());
 		return bundle;
 	}
 
@@ -415,9 +423,20 @@ public Bundle storeState() {
 	public void restoreState(Bundle bundle) {
 		if (bundle != null && bundle.getInt(TAB_ID) == GPX_TAB) {
 			preSelectedFolder = bundle.getString(SELECTED_FOLDER_KEY);
+			selectedItemPath = bundle.getString(SELECTED_ITEM_PATH_KEY);
 		}
 	}
 
+	@Nullable
+	protected TrackItem geTrackItem(@NonNull TrackFolder folder, @NonNull String path) {
+		for (TrackItem trackItem : folder.getFlattenedTrackItems()) {
+			if (Algorithms.stringsEqual(trackItem.getPath(), path)) {
+				return trackItem;
+			}
+		}
+		return null;
+	}
+
 	@Override
 	public void onTrackItemsSelected(@NonNull Set<TrackItem> trackItems, boolean selected) {
 		if (!trackItems.isEmpty()) {
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/MoveGpxFileBottomSheet.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/MoveGpxFileBottomSheet.java
index 0accf38cbd5..e04f40722c6 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/MoveGpxFileBottomSheet.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/MoveGpxFileBottomSheet.java
@@ -74,7 +74,7 @@ public void createMenuItems(Bundle savedInstanceState) {
 					FragmentActivity activity = getActivity();
 					if (activity != null) {
 						AddNewTrackFolderBottomSheet.showInstance(activity.getSupportFragmentManager(),
-								null, MoveGpxFileBottomSheet.this, usedOnMap);
+								null, null, MoveGpxFileBottomSheet.this, usedOnMap);
 					}
 				})
 				.setCustomView(addNewFolderView)
@@ -162,7 +162,7 @@ public List<File> collectFiles(File parentDir) {
 	}
 
 	public static void showInstance(@NonNull FragmentManager fragmentManager, @Nullable Fragment target,
-									@NonNull String filePath, boolean usedOnMap, boolean showAllFolders) {
+	                                @NonNull String filePath, boolean usedOnMap, boolean showAllFolders) {
 		try {
 			if (!fragmentManager.isStateSaved() && fragmentManager.findFragmentByTag(TAG) == null) {
 				MoveGpxFileBottomSheet fragment = new MoveGpxFileBottomSheet();
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
index 4b14a83ea76..e8acb7c32a9 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFolderFragment.java
@@ -25,6 +25,7 @@
 import net.osmand.plus.track.data.TrackFolder;
 import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.UiUtilities;
+import net.osmand.util.Algorithms;
 
 public class TrackFolderFragment extends BaseTrackFolderFragment {
 
@@ -124,6 +125,7 @@ protected void updateContent() {
 	public void onResume() {
 		super.onResume();
 		updateActionBar(false);
+		restoreState(getArguments());
 	}
 
 	@Override
@@ -137,6 +139,22 @@ public void onTrackItemOptionsSelected(@NonNull View view, @NonNull TrackItem tr
 		showItemOptionsMenu(view, trackItem);
 	}
 
+	@Override
+	public void restoreState(Bundle bundle) {
+		super.restoreState(bundle);
+
+		if (!Algorithms.isEmpty(selectedItemPath)) {
+			TrackItem trackItem = geTrackItem(rootFolder, selectedItemPath);
+			if (trackItem != null) {
+				int index = adapter.getItemPosition(trackItem);
+				if (index != -1) {
+					recyclerView.scrollToPosition(index);
+				}
+			}
+			selectedItemPath = null;
+		}
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager, @NonNull TrackFolder folder, @Nullable Fragment target) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
 			TrackFolderFragment fragment = new TrackFolderFragment();
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFoldersAdapter.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFoldersAdapter.java
index d953d94aa7e..414fada35d7 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFoldersAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TrackFoldersAdapter.java
@@ -1,7 +1,5 @@
 package net.osmand.plus.myplaces.tracks.dialogs;
 
-import static net.osmand.plus.settings.enums.TracksSortMode.NAME_ASCENDING;
-
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -69,6 +67,7 @@ public class TrackFoldersAdapter extends RecyclerView.Adapter<ViewHolder> {
 	private TracksSortMode sortMode = TracksSortMode.getDefaultSortMode();
 	private boolean nightMode;
 	private boolean selectionMode;
+	private boolean shouldShowFolder;
 
 	public TrackFoldersAdapter(@NonNull OsmandApplication app, boolean nightMode) {
 		this.app = app;
@@ -100,6 +99,10 @@ public void setSelectionMode(boolean selectionMode) {
 		this.selectionMode = selectionMode;
 	}
 
+	public void setShouldShowFolder(boolean shouldShowFolder) {
+		this.shouldShowFolder = shouldShowFolder;
+	}
+
 	public void setSortTracksListener(@Nullable SortTracksListener sortListener) {
 		this.sortListener = sortListener;
 	}
@@ -179,7 +182,7 @@ public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
 			TrackItem trackItem = (TrackItem) items.get(position);
 
 			TrackViewHolder viewHolder = (TrackViewHolder) holder;
-			viewHolder.bindView(NAME_ASCENDING, trackItem, lastItem, false, selectionMode);
+			viewHolder.bindView(sortMode, trackItem, lastItem, shouldShowFolder, selectionMode);
 		} else if (holder instanceof TrackFolderViewHolder) {
 			TrackFolder trackFolder = (TrackFolder) items.get(position);
 
@@ -206,8 +209,12 @@ public int getItemCount() {
 		return items.size();
 	}
 
+	public int getItemPosition(@NonNull Object object) {
+		return items.indexOf(object);
+	}
+
 	public void updateItem(@NonNull Object object) {
-		int index = items.indexOf(object);
+		int index = getItemPosition(object);
 		if (index != -1) {
 			notifyItemChanged(index);
 		}
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
index 61ccda02c5a..36c78d3dac3 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
@@ -1,7 +1,5 @@
 package net.osmand.plus.myplaces.tracks.dialogs;
 
-import static androidx.fragment.app.FragmentManager.POP_BACK_STACK_INCLUSIVE;
-
 import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
@@ -99,6 +97,7 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c
 	protected void setupAdapter(@NonNull View view) {
 		super.setupAdapter(view);
 		adapter.setSelectionMode(true);
+		adapter.setShouldShowFolder(true);
 	}
 
 	private void setupToolbar(@NonNull View view) {
@@ -247,7 +246,7 @@ private void onBackPressed() {
 	private void dismiss() {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
-			activity.getSupportFragmentManager().popBackStack(TAG, POP_BACK_STACK_INCLUSIVE);
+			activity.getSupportFragmentManager().beginTransaction().remove(this).commitAllowingStateLoss();
 		}
 	}
 
@@ -300,8 +299,7 @@ public static void showInstance(@NonNull FragmentManager manager, @NonNull Track
 
 			manager.beginTransaction()
 					.replace(R.id.fragmentContainer, fragment, TAG)
-					.addToBackStack(TAG)
-					.commitAllowingStateLoss();
+					.commitNowAllowingStateLoss();
 		}
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/utils/FileUtils.java b/OsmAnd/src/net/osmand/plus/utils/FileUtils.java
index 7df9369d409..1cdfd92842b 100644
--- a/OsmAnd/src/net/osmand/plus/utils/FileUtils.java
+++ b/OsmAnd/src/net/osmand/plus/utils/FileUtils.java
@@ -51,8 +51,9 @@ public static File renameSQLiteFile(OsmandApplication ctx, File source, String n
 		if (dest == null) {
 			return null;
 		}
-		if (!dest.getParentFile().exists()) {
-			dest.getParentFile().mkdirs();
+		File destDir = dest.getParentFile();
+		if (!destDir.exists()) {
+			destDir.mkdirs();
 		}
 		if (source.renameTo(dest)) {
 			String[] suffixes = {"-journal", "-wal", "-shm"};
@@ -96,8 +97,9 @@ public static File renameFile(@NonNull OsmandApplication app, @NonNull File sour
 		if (dest == null) {
 			return null;
 		}
-		if (!dest.getParentFile().exists()) {
-			dest.getParentFile().mkdirs();
+		File destDir = dest.getParentFile();
+		if (!destDir.exists()) {
+			destDir.mkdirs();
 		}
 		File res = source.renameTo(dest) ? dest : null;
 		if (res != null) {
@@ -110,19 +112,23 @@ public static File renameFile(@NonNull OsmandApplication app, @NonNull File sour
 		return res;
 	}
 
+	@Nullable
 	public static File renameGpxFile(@NonNull OsmandApplication app, @NonNull File src, @NonNull File dest) {
-		if (!dest.getParentFile().exists()) {
-			dest.getParentFile().mkdirs();
+		File destDir = dest.getParentFile();
+		if (!destDir.exists()) {
+			destDir.mkdirs();
 		}
 		if (src.renameTo(dest)) {
-			GpxSelectionHelper helper = app.getSelectedGpxHelper();
-			SelectedGpxFile selected = helper.getSelectedFileByPath(src.getAbsolutePath());
+			dest.setLastModified(System.currentTimeMillis());
+
+			GpxSelectionHelper gpxSelectionHelper = app.getSelectedGpxHelper();
+			SelectedGpxFile selectedGpxFile = gpxSelectionHelper.getSelectedFileByPath(src.getAbsolutePath());
 			app.getGpxDbHelper().rename(src, dest);
 			app.getQuickActionRegistry().onRenameGpxFile(src.getAbsolutePath(), dest.getAbsolutePath());
-			if (selected != null && selected.getGpxFile() != null) {
-				selected.resetSplitProcessed();
-				selected.getGpxFile().path = dest.getAbsolutePath();
-				helper.updateSelectedGpxFile(selected);
+			if (selectedGpxFile != null) {
+				selectedGpxFile.resetSplitProcessed();
+				selectedGpxFile.getGpxFile().path = dest.getAbsolutePath();
+				gpxSelectionHelper.updateSelectedGpxFile(selectedGpxFile);
 			}
 			return dest;
 		}
@@ -135,7 +141,7 @@ public static boolean removeGpxFile(@NonNull OsmandApplication app, @NonNull Fil
 			SelectedGpxFile selected = helper.getSelectedFileByPath(file.getAbsolutePath());
 			file.delete();
 			app.getGpxDbHelper().remove(file);
-			if (selected != null && selected.getGpxFile() != null) {
+			if (selected != null) {
 				GpxSelectionParams params = GpxSelectionParams.newInstance()
 						.hideFromMap().syncGroup().saveSelection();
 				helper.selectGpxFile(selected.getGpxFile(), params);
