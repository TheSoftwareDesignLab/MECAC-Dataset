diff --git a/OsmAnd/src/net/osmand/plus/ApplicationMode.java b/OsmAnd/src/net/osmand/plus/ApplicationMode.java
index be2afaa2535..a8c8d0e8775 100644
--- a/OsmAnd/src/net/osmand/plus/ApplicationMode.java
+++ b/OsmAnd/src/net/osmand/plus/ApplicationMode.java
@@ -37,28 +37,28 @@ public class ApplicationMode {
 	 * DEFAULT("Browse map"), CAR("Car"), BICYCLE("Bicycle"), PEDESTRIAN("Pedestrian"); NAUTICAL("boat"); PUBLIC_TRANSPORT("Public transport"); AIRCRAFT("Aircraft")
 	 */
 	public static final ApplicationMode DEFAULT = create(R.string.app_mode_default, "default").speed(1.5f, 5).arrivalDistance(90).defLocation().
-			icon(R.drawable.map_world_globe_dark, R.drawable.ic_world_globe_dark).reg();
+			icon(R.drawable.map_world_globe_dark, R.drawable.ic_world_globe_dark, "map_world_globe_dark").reg();
 
 	public static final ApplicationMode CAR = create(R.string.app_mode_car, "car").speed(15.3f, 35).carLocation().
-			icon(R.drawable.map_action_car_dark, R.drawable.ic_action_car_dark).setRoutingProfile("car").reg();
+			icon(R.drawable.map_action_car_dark, R.drawable.ic_action_car_dark, "ic_action_car_dark").setRoutingProfile("car").reg();
 
 	public static final ApplicationMode BICYCLE = create(R.string.app_mode_bicycle, "bicycle").speed(5.5f, 15).arrivalDistance(60).offRouteDistance(50).bicycleLocation().
-			icon(R.drawable.map_action_bicycle_dark, R.drawable.ic_action_bicycle_dark).setRoutingProfile("bicycle").reg();
+			icon(R.drawable.map_action_bicycle_dark, R.drawable.ic_action_bicycle_dark, "").setRoutingProfile("bicycle").reg();
 
 	public static final ApplicationMode PEDESTRIAN = create(R.string.app_mode_pedestrian, "pedestrian").speed(1.5f, 5).arrivalDistance(45).offRouteDistance(20).
-			icon(R.drawable.map_action_pedestrian_dark, R.drawable.ic_action_pedestrian_dark).setRoutingProfile("pedestrian").reg();
+			icon(R.drawable.map_action_pedestrian_dark, R.drawable.ic_action_pedestrian_dark, "ic_action_pedestrian_dark").setRoutingProfile("pedestrian").reg();
 
 	public static final ApplicationMode PUBLIC_TRANSPORT = create(R.string.app_mode_public_transport, "public_transport").
-			icon(R.drawable.map_action_bus_dark, R.drawable.ic_action_bus_dark).setRoutingProfile("public_transport").reg();
+			icon(R.drawable.map_action_bus_dark, R.drawable.ic_action_bus_dark, "ic_action_bus_dark").setRoutingProfile("public_transport").reg();
 
 	public static final ApplicationMode BOAT = create(R.string.app_mode_boat, "boat").speed(5.5f, 20).nauticalLocation().
-			icon(R.drawable.map_action_sail_boat_dark, R.drawable.ic_action_sail_boat_dark).setRoutingProfile("boat").reg();
+			icon(R.drawable.map_action_sail_boat_dark, R.drawable.ic_action_sail_boat_dark, "ic_action_sail_boat_dark").setRoutingProfile("boat").reg();
 
 	public static final ApplicationMode AIRCRAFT = create(R.string.app_mode_aircraft, "aircraft").speed(40f, 100).carLocation().
-			icon(R.drawable.map_action_aircraft, R.drawable.ic_action_aircraft).setRouteService(RouteService.STRAIGHT).setRoutingProfile("STRAIGHT_LINE_MODE").reg();
+			icon(R.drawable.map_action_aircraft, R.drawable.ic_action_aircraft, "ic_action_aircraft").setRouteService(RouteService.STRAIGHT).setRoutingProfile("STRAIGHT_LINE_MODE").reg();
 
 	public static final ApplicationMode SKI = create(R.string.app_mode_skiing, "ski").speed(5.5f, 15).arrivalDistance(60).offRouteDistance(50).bicycleLocation().
-		icon(R.drawable.ic_plugin_skimaps, R.drawable.ic_plugin_skimaps).setRoutingProfile("ski").reg();
+		icon(R.drawable.ic_plugin_skimaps, R.drawable.ic_plugin_skimaps, "ic_plugin_skimaps").setRoutingProfile("ski").reg();
 
 	static {
 		ApplicationMode[] exceptDefault = new ApplicationMode[]{CAR, PEDESTRIAN, BICYCLE, BOAT, AIRCRAFT, PUBLIC_TRANSPORT, SKI};
@@ -118,9 +118,10 @@ public ApplicationMode customReg() {
 			return applicationMode;
 		}
 
-		public ApplicationModeBuilder icon(int mapIcon, int smallIconDark) {
+		public ApplicationModeBuilder icon(int mapIcon, int smallIconDark, String iconName) {
 			applicationMode.mapIconId = mapIcon;
 			applicationMode.smallIconDark = smallIconDark;
+			applicationMode.iconName = iconName;
 			return this;
 		}
 
@@ -432,6 +433,10 @@ public static ApplicationMode valueOfStringKey(String key, ApplicationMode def)
 		return def;
 	}
 
+	public String getIconName() {
+		return iconName;
+	}
+
 	public float getDefaultSpeed() {
 		return defaultSpeed;
 	}
@@ -464,6 +469,7 @@ public String getUserProfileName() {
 	@Expose private final String stringKey;
 	@Expose private String userProfileName;
 	@Expose private ApplicationMode parent;
+	@Expose private String iconName = "R.drawable.map_world_globe_dark";
 	@Expose private int mapIconId = R.drawable.map_world_globe_dark;
 	@Expose private int smallIconDark = R.drawable.ic_world_globe_dark;
 	@Expose private float defaultSpeed = 10f;
@@ -540,4 +546,13 @@ public static boolean changeProfileStatus(ApplicationMode mode, boolean isSelect
 		}
 		return false;
 	}
+
+	public static int getIconResFromName(Context app, String variableName, String packageName) {
+		try {
+			return app.getResources().getIdentifier(variableName, "drawable", packageName);
+		} catch (Exception e) {
+			e.printStackTrace();
+			return -1;
+		}
+	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
index 4eab6c54725..c902d5ec2e8 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/AppModesBottomSheetDialogFragment.java
@@ -72,8 +72,6 @@ public void editProfile(ApplicationMode item) {
 		adapter.setListener(listener);
 	}
 
-
-
 	@Override
 	public void createMenuItems(Bundle savedInstanceState) {
 
@@ -89,6 +87,9 @@ public void createMenuItems(Bundle savedInstanceState) {
 		final View textButtonView = View.inflate(new ContextThemeWrapper(getContext(), themeRes),
 			R.layout.bottom_sheet_item_simple, null);
 		TextView textView = (TextView) textButtonView.findViewById(R.id.title);
+
+		int dpPadding = (int) (8 * getResources().getDisplayMetrics().density + 0.5f);
+		textView.setPadding(dpPadding, 0,0,0);
 		textView.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16.0f);
 		textView.setTextColor(nightMode
 			? getResources().getColor(R.color.active_buttons_and_links_dark)
diff --git a/OsmAnd/src/net/osmand/plus/profiles/EditProfileFragment.java b/OsmAnd/src/net/osmand/plus/profiles/EditProfileFragment.java
index dc7f852abf2..2d7083b374a 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/EditProfileFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/EditProfileFragment.java
@@ -308,7 +308,7 @@ public void onClick(View v) {
 				final SelectProfileBottomSheetDialogFragment iconSelectDialog = new SelectProfileBottomSheetDialogFragment();
 				Bundle bundle = new Bundle();
 				bundle.putString(DIALOG_TYPE, TYPE_ICON);
-				bundle.putInt(SELECTED_ICON, profile.iconId);
+				bundle.putString(SELECTED_ICON, profile.iconStringName);
 				iconSelectDialog.setArguments(bundle);
 				if (getActivity() != null) {
 					getActivity().getSupportFragmentManager().beginTransaction()
@@ -446,9 +446,10 @@ SelectProfileListener getIconListener() {
 		if (iconIdListener == null) {
 			iconIdListener = new SelectProfileListener() {
 				@Override
-				public void onSelectedType(int pos) {
+				public void onSelectedType(int pos, String stringRes) {
 					isDataChanged = true;
 					profile.iconId = pos;
+					profile.iconStringName = stringRes;
 					profileIcon.setImageDrawable(app.getUIUtilities().getIcon(pos,
 						isNightMode ? R.color.active_buttons_and_links_dark
 							: R.color.active_buttons_and_links_light));
@@ -462,7 +463,7 @@ SelectProfileListener getBaseProfileListener() {
 		if (baseTypeListener == null) {
 			baseTypeListener = new SelectProfileListener() {
 				@Override
-				public void onSelectedType(int pos) {
+				public void onSelectedType(int pos, String stringRes) {
 					String key = SettingsProfileFragment.getBaseProfiles(getMyApplication())
 						.get(pos).getStringKey();
 					setupBaseProfileView(key);
@@ -477,7 +478,7 @@ SelectProfileListener getNavProfileListener() {
 		if (navTypeListener == null) {
 			navTypeListener = new SelectProfileListener() {
 				@Override
-				public void onSelectedType(int pos) {
+				public void onSelectedType(int pos, String stringRes) {
 					updateRoutingProfile(pos);
 				}
 			};
@@ -594,7 +595,7 @@ public void onDismiss(DialogInterface dialog) {
 		ApplicationMode.ApplicationModeBuilder builder = ApplicationMode
 			.createCustomMode(profile.userProfileTitle.trim(), customStringKey)
 			.parent(profile.parent)
-			.icon(profile.iconId, profile.iconId);
+			.icon(profile.iconId, profile.iconId, profile.iconStringName);
 
 		if (profile.routingProfileDataObject != null) {
 			builder.setRoutingProfile(profile.routingProfileDataObject.getStringKey());
@@ -769,21 +770,25 @@ private class ApplicationProfileObject {
 		String userProfileTitle = "";
 		ApplicationMode parent = null;
 		int iconId = R.drawable.map_world_globe_dark;
+		String iconStringName = "map_world_globe_dark";
 		RoutingProfileDataObject routingProfileDataObject = null;
 
 		ApplicationProfileObject(ApplicationMode mode, boolean isNew, boolean isUserProfile) {
 			if (isNew) {
 				stringKey = mode.getStringKey() + System.currentTimeMillis();
 				parent = mode;
+				iconStringName = parent.getIconName();
 			} else if (isUserProfile) {
 				stringKey = mode.getStringKey();
 				parent = mode.getParent();
 				iconId = mode.getSmallIconDark();
+				iconStringName = Algorithms.isEmpty(mode.getIconName())? "map_world_globe_dark" : mode.getIconName();
 				userProfileTitle = mode.getUserProfileName();
 			} else {
 				key = mode.getStringResource();
 				stringKey = mode.getStringKey();
 				iconId = mode.getSmallIconDark();
+				iconStringName = Algorithms.isEmpty(mode.getIconName())? "map_world_globe_dark" : mode.getIconName();
 			}
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java b/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
index b7f451004b8..f44daad6ea2 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/ProfileMenuAdapter.java
@@ -82,12 +82,17 @@ public void onBindViewHolder(@NonNull final ProfileViewHolder holder, int positi
 		holder.title.setTextColor(app.getResources().getColor(isNightMode(app)
 			? R.color.main_font_dark
 			: R.color.main_font_light));
+
+		int iconRes = item.getParent() == null
+			? item.getSmallIconDark()
+			: ApplicationMode.getIconResFromName(app, item.getIconName(), app.getPackageName());
+
 		if (selectedItems.contains(item)) {
 			holder.aSwitch.setChecked(true);
-			holder.icon.setImageDrawable(app.getUIUtilities().getIcon(item.getSmallIconDark(), selectedIconColorRes));
+			holder.icon.setImageDrawable(app.getUIUtilities().getIcon(iconRes, selectedIconColorRes));
 		} else {
 			holder.aSwitch.setChecked(false);
-			holder.icon.setImageDrawable(app.getUIUtilities().getIcon(item.getSmallIconDark(), R.color.icon_color));
+			holder.icon.setImageDrawable(app.getUIUtilities().getIcon(iconRes, R.color.icon_color));
 		}
 
 		holder.aSwitch.setOnClickListener(new OnClickListener() {
diff --git a/OsmAnd/src/net/osmand/plus/profiles/SelectProfileBottomSheetDialogFragment.java b/OsmAnd/src/net/osmand/plus/profiles/SelectProfileBottomSheetDialogFragment.java
index 8d4197dd42b..3a83644a1a7 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/SelectProfileBottomSheetDialogFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/SelectProfileBottomSheetDialogFragment.java
@@ -48,7 +48,7 @@ public class SelectProfileBottomSheetDialogFragment extends MenuBottomSheetDialo
 
 	private List<IconResWithDescr> icons;
 	private String selectedItemKey;
-	private int selectedIconRes;
+	private String selectedIconRes;
 
 	@Override
 	public void onCreate(Bundle savedInstanceState) {
@@ -63,7 +63,7 @@ public void onCreate(Bundle savedInstanceState) {
 			} else if (type.equals(TYPE_BASE_APP_PROFILE)) {
 				profiles.addAll(SettingsProfileFragment.getBaseProfiles(app));
 			} else if (type.equals(TYPE_ICON)) {
-				selectedIconRes = args.getInt(SELECTED_ICON, -1);
+				selectedIconRes = args.getString(SELECTED_ICON, "");
 				icons = getProfileIcons();
 			} else {
 				LOG.error("Check intent data!");
@@ -75,10 +75,7 @@ public void onCreate(Bundle savedInstanceState) {
 	@Override
 	public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
 		super.onViewCreated(view, savedInstanceState);
-		view.findViewById(R.id.dismiss_button).setVisibility(View.GONE);
-		Button cancelBtn = view.findViewById(R.id.dismiss_button_v2);
-		cancelBtn.setVisibility(View.VISIBLE);
-		view.findViewById(R.id.dismiss_button_v2).setOnClickListener(new OnClickListener() {
+		view.findViewById(R.id.dismiss_button).setOnClickListener(new OnClickListener() {
 			@Override
 			public void onClick(View v) {
 				onDismissButtonClickAction();
@@ -124,7 +121,7 @@ public void onClick(View v) {
 								getListener();
 							}
 							if (listener != null) {
-								listener.onSelectedType(pos);
+								listener.onSelectedType(pos, "");
 							}
 							dismiss();
 						}
@@ -165,7 +162,7 @@ public void onClick(View v) {
 								getListener();
 							}
 							if (listener != null) {
-								listener.onSelectedType(pos);
+								listener.onSelectedType(pos, "");
 							}
 							dismiss();
 						}
@@ -176,19 +173,22 @@ public void onClick(View v) {
 			items.add(new TitleItem(getString(R.string.select_icon_profile_dialog_title)));
 			for (final IconResWithDescr icon : icons) {
 				Drawable drawableIcon;
-				boolean isSelected = icon.resId == selectedIconRes;
+				boolean isSelected = icon.resStringId.equals(selectedIconRes);
+				int iconRes = ApplicationMode
+					.getIconResFromName(getMyApplication(), icon.resStringId,
+						getMyApplication().getPackageName());
 				if (isSelected) {
 					drawableIcon = getMyApplication().getUIUtilities()
-						.getIcon(icon.resId, nightMode
+						.getIcon(iconRes, nightMode
 							? R.color.active_buttons_and_links_dark
 							: R.color.active_buttons_and_links_light);
 				} else {
 					drawableIcon = getMyApplication().getUIUtilities()
-						.getIcon(icon.resId, R.color.icon_color);
+						.getIcon(iconRes, R.color.icon_color);
 				}
 
 				items.add(new BottomSheetItemWithCompoundButton.Builder()
-					.setChecked(icon.resId == selectedIconRes)
+					.setChecked(icon.resStringId.equals(selectedIconRes))
 					.setButtonTintList(isSelected
 						? ColorStateList.valueOf(getResolvedColor(getActiveColorId()))
 						: null)
@@ -202,7 +202,7 @@ public void onClick(View v) {
 								getListener();
 							}
 							if (listener != null) {
-								listener.onSelectedType(icon.resId);
+								listener.onSelectedType(icon.resId, icon.resStringId);
 							}
 							dismiss();
 						}
@@ -235,32 +235,34 @@ private void getListener() {
 
 	private List<IconResWithDescr> getProfileIcons() {
 		List<IconResWithDescr> icons = new ArrayList<>();
-		icons.add(new IconResWithDescr(R.drawable.ic_action_car_dark, R.string.rendering_value_car_name,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_bicycle_dark, R.string.rendering_value_bicycle_name,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_pedestrian_dark, R.string.rendering_value_pedestrian_name,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_bus_dark, R.string.app_mode_bus,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_sail_boat_dark, R.string.app_mode_boat,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_aircraft, R.string.app_mode_aircraft,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_truck_dark, R.string.app_mode_truck,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_motorcycle_dark, R.string.app_mode_motorcycle,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_action_trekking_dark, R.string.app_mode_hiking,false));
-		icons.add(new IconResWithDescr(R.drawable.ic_plugin_skimaps, R.string.routing_profile_ski, false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_car_dark, R.string.rendering_value_car_name, "ic_action_car_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_bicycle_dark, R.string.rendering_value_bicycle_name, "ic_action_bicycle_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_pedestrian_dark, R.string.rendering_value_pedestrian_name,"ic_action_pedestrian_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_bus_dark, R.string.app_mode_bus, "ic_action_bus_dark",false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_sail_boat_dark, R.string.app_mode_boat, "ic_action_sail_boat_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_aircraft, R.string.app_mode_aircraft, "ic_action_aircraft", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_truck_dark, R.string.app_mode_truck, "ic_action_truck_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_motorcycle_dark, R.string.app_mode_motorcycle, "ic_action_motorcycle_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_action_trekking_dark, R.string.app_mode_hiking, "ic_action_trekking_dark", false));
+		icons.add(new IconResWithDescr(R.drawable.ic_plugin_skimaps, R.string.routing_profile_ski, "ic_plugin_skimaps", false));
 		return icons;
 	}
 
 	interface SelectProfileListener {
-		void onSelectedType(int pos);
+		void onSelectedType(int pos, String stringRes);
 	}
 
 	private class IconResWithDescr {
 		private int resId;
 		private int titleId;
+		private String resStringId;
 		private boolean isSelected;
 
-		public IconResWithDescr(int resId, int titleId, boolean isSelected) {
+		public IconResWithDescr(int resId, int titleId, String resStringId, boolean isSelected) {
 			this.resId = resId;
 			this.titleId = titleId;
 			this.isSelected = isSelected;
+			this.resStringId = resStringId;
 		}
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/profiles/SettingsProfileFragment.java b/OsmAnd/src/net/osmand/plus/profiles/SettingsProfileFragment.java
index 1cd9b1b9b8b..cbe39c0a5b0 100644
--- a/OsmAnd/src/net/osmand/plus/profiles/SettingsProfileFragment.java
+++ b/OsmAnd/src/net/osmand/plus/profiles/SettingsProfileFragment.java
@@ -128,7 +128,7 @@ SelectProfileListener getBaseProfileListener() {
 		if (typeListener == null) {
 			typeListener = new SelectProfileListener() {
 				@Override
-				public void onSelectedType(int pos) {
+				public void onSelectedType(int pos, String stringRes) {
 					Intent intent = new Intent(getActivity(), EditProfileActivity.class);
 					intent.putExtra(IS_NEW_PROFILE, true);
 					intent.putExtra(IS_USER_PROFILE, true);
