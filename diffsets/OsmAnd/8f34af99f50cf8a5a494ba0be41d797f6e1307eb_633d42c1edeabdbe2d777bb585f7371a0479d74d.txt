diff --git a/OsmAnd/res/values/colors.xml b/OsmAnd/res/values/colors.xml
index 134beee61fc..0c89f189ee2 100644
--- a/OsmAnd/res/values/colors.xml
+++ b/OsmAnd/res/values/colors.xml
@@ -38,7 +38,7 @@
 	<color name="map_button_icon_color_light">#727272</color>
 	<color name="map_button_icon_color_dark">#cccccc</color>
 	<color name="map_button_background_color_light">#FFFFFF</color>
-	<color name="map_button_background_color_dark">#99ffffff</color>
+	<color name="map_button_background_color_dark">#000000</color>
 	
 	<!-- AppBar & Status bar -->
 	<color name="app_bar_main_light">#ff8800</color>
diff --git a/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java b/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java
index 7f327cf92d4..b090bbb61e2 100644
--- a/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java
+++ b/OsmAnd/src/net/osmand/plus/card/base/multistate/IMultiStateCardController.java
@@ -19,7 +19,7 @@ public interface IMultiStateCardController {
 	void onSelectorButtonClicked(@NonNull View selectorView);
 
 	void onBindCardContent(@NonNull FragmentActivity activity,
-	                       @NonNull ViewGroup container, boolean nightMode);
+	                       @NonNull ViewGroup container, boolean nightMode, boolean usedOnMap);
 
 	default boolean shouldShowCardHeader() {
 		return true;
diff --git a/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java b/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java
index 8a7e13eb09c..708fec18692 100644
--- a/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java
+++ b/OsmAnd/src/net/osmand/plus/card/base/multistate/MultiStateCard.java
@@ -69,7 +69,7 @@ private void updateStateSelectorTitle() {
 
 	private void bindSelectedStateContent() {
 		ViewGroup contentContainer = view.findViewById(R.id.content);
-		controller.onBindCardContent(activity, contentContainer, nightMode);
+		controller.onBindCardContent(activity, contentContainer, nightMode, usedOnMap);
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/card/icon/IconsPaletteCard.java b/OsmAnd/src/net/osmand/plus/card/icon/IconsPaletteCard.java
index 6074acef8e6..c3be7dfa59e 100644
--- a/OsmAnd/src/net/osmand/plus/card/icon/IconsPaletteCard.java
+++ b/OsmAnd/src/net/osmand/plus/card/icon/IconsPaletteCard.java
@@ -21,8 +21,8 @@ public class IconsPaletteCard<IconData> extends BaseCard implements IIconsPalett
 	private RecyclerView rvIcons;
 
 	public IconsPaletteCard(@NonNull FragmentActivity activity,
-	                        @NonNull IIconsPaletteController<IconData> controller) {
-		super(activity);
+	                        @NonNull IIconsPaletteController<IconData> controller, boolean usedOnMap) {
+		super(activity, usedOnMap);
 		this.controller = controller;
 		controller.bindPalette(this);
 		paletteAdapter = new IconsPaletteAdapter<>(activity, controller, nightMode);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ArrowsCardController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ArrowsCardController.java
index 26c368b434a..429ad8f864a 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ArrowsCardController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ArrowsCardController.java
@@ -42,7 +42,8 @@ public String getCardStateSelectorTitle() {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.setVisibility(View.GONE);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ColorCardController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ColorCardController.java
index a404cd80476..0f737fd5620 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ColorCardController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/ColorCardController.java
@@ -84,7 +84,8 @@ protected void onColoringStyleSelected(@Nullable ColoringStyle coloringStyle) {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.removeAllViews();
 		ColoringStyle coloringStyle = getSelectedColoringStyle();
 		ColoringType coloringType = coloringStyle != null ? coloringStyle.getType() : null;
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/SplitCardController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/SplitCardController.java
index b2203bfbf26..e9cd4e34f4d 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/SplitCardController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/SplitCardController.java
@@ -55,7 +55,8 @@ public String getCardStateSelectorTitle() {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		if (selectedState.getTag() == null) {
 			if (container.getChildCount() == 0) {
 				LayoutInflater inflater = UiUtilities.getInflater(activity, nightMode);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/StartFinishCardController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/StartFinishCardController.java
index a148a12b631..17501d12102 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/StartFinishCardController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/StartFinishCardController.java
@@ -42,7 +42,8 @@ public String getCardStateSelectorTitle() {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.setVisibility(View.GONE);
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/WidthCardController.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/WidthCardController.java
index 40c265fe8e6..44dc5cb6533 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/WidthCardController.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/appearance/subcontrollers/WidthCardController.java
@@ -89,7 +89,8 @@ protected void onSelectCardState(@NonNull CardState cardState) {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		if (selectedState.getTag() == null) {
 			bindSummaryCard(activity, container, nightMode);
 		} else {
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconCardController.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconCardController.java
index 1742f15b484..cbb70df9035 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconCardController.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/icon/EditorIconCardController.java
@@ -13,7 +13,6 @@
 import net.osmand.plus.card.icon.IconsPaletteCard;
 import net.osmand.plus.card.icon.IconsPaletteController;
 import net.osmand.plus.card.icon.IconsPaletteElements;
-import net.osmand.plus.card.icon.OnIconsPaletteListener;
 import net.osmand.plus.mapcontextmenu.editors.icon.data.IconsCategory;
 
 import java.util.ArrayList;
@@ -75,11 +74,12 @@ public String getCardStateSelectorTitle() {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.removeAllViews();
 		paletteController.setIcons(getSelectedCategoryIconKeys());
 		paletteController.setSelectedIcon(getSelectedIconKey());
-		container.addView(new IconsPaletteCard<>(activity, paletteController).build());
+		container.addView(new IconsPaletteCard<>(activity, paletteController, usedOnMap).build());
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/quickaction/ButtonIconsCard.java b/OsmAnd/src/net/osmand/plus/quickaction/ButtonIconsCard.java
index 137a9cd2e8a..098f5cc40ee 100644
--- a/OsmAnd/src/net/osmand/plus/quickaction/ButtonIconsCard.java
+++ b/OsmAnd/src/net/osmand/plus/quickaction/ButtonIconsCard.java
@@ -17,7 +17,7 @@ public int getCardLayoutId() {
 	}
 
 	public ButtonIconsCard(@NonNull MapActivity activity, @NonNull MapButtonIconController controller) {
-		super(activity, controller.getCardController());
+		super(activity, controller.getCardController(), false);
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/quickaction/OpacitySliderCard.java b/OsmAnd/src/net/osmand/plus/quickaction/OpacitySliderCard.java
index 7edf7234e79..ed100444fa2 100644
--- a/OsmAnd/src/net/osmand/plus/quickaction/OpacitySliderCard.java
+++ b/OsmAnd/src/net/osmand/plus/quickaction/OpacitySliderCard.java
@@ -25,7 +25,7 @@ public int getCardLayoutId() {
 	}
 
 	public OpacitySliderCard(@NonNull MapActivity activity, @NonNull ButtonAppearanceParams appearanceParams) {
-		super(activity);
+		super(activity, false);
 		this.appearanceParams = appearanceParams;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/quickaction/SliderButtonsCard.java b/OsmAnd/src/net/osmand/plus/quickaction/SliderButtonsCard.java
index 45ea42e3a86..965fef5b406 100644
--- a/OsmAnd/src/net/osmand/plus/quickaction/SliderButtonsCard.java
+++ b/OsmAnd/src/net/osmand/plus/quickaction/SliderButtonsCard.java
@@ -30,7 +30,7 @@ public int getCardLayoutId() {
 	}
 
 	public SliderButtonsCard(@NonNull MapActivity activity) {
-		super(activity);
+		super(activity, false);
 	}
 
 	@Override
diff --git a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
index 53a42269e18..b5f6c3b4037 100644
--- a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
+++ b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineColorController.java
@@ -153,7 +153,8 @@ public boolean shouldShowBottomSpace() {
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.removeAllViews();
 		BaseCard card = getContentCardForSelectedState(activity);
 		View cardView = card.getView() != null ? card.getView() : card.build(activity);
diff --git a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineWidthController.java b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineWidthController.java
index 1fcf01f901e..4d5d5d656be 100644
--- a/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineWidthController.java
+++ b/OsmAnd/src/net/osmand/plus/settings/controllers/RouteLineWidthController.java
@@ -21,7 +21,6 @@
 import net.osmand.plus.card.base.multistate.CardState;
 import net.osmand.plus.card.base.simple.DescriptionCard;
 import net.osmand.plus.card.base.slider.moded.ModedSliderCard;
-import net.osmand.plus.card.color.IControlsColorProvider;
 import net.osmand.plus.card.width.WidthComponentController;
 import net.osmand.plus.card.width.WidthMode;
 import net.osmand.plus.routing.PreviewRouteLineInfo;
@@ -86,7 +85,7 @@ protected void onSelectCardState(@NonNull CardState cardState) {
 
 	@Override
 	public void onBindCardContent(@NonNull FragmentActivity activity,
-	                              @NonNull ViewGroup container, boolean nightMode) {
+	                              @NonNull ViewGroup container, boolean nightMode, boolean usedOnMap) {
 		if (selectedState.getTag() == null) {
 			bindSummaryCard(activity, container, nightMode);
 		} else {
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/profileappearance/ProfileAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/profileappearance/ProfileAppearanceFragment.java
index c2fdf1352fa..3f18d5de162 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/profileappearance/ProfileAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/profileappearance/ProfileAppearanceFragment.java
@@ -1,8 +1,6 @@
 package net.osmand.plus.settings.fragments.profileappearance;
 
 import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_SETTINGS_ID;
-import static net.osmand.plus.card.color.palette.main.IColorsPaletteController.ALL_COLORS_PROCESS_ID;
-import static net.osmand.plus.card.icon.IIconsPaletteController.ALL_ICONS_PROCESS_ID;
 import static net.osmand.plus.utils.ColorUtilities.getListBgColorId;
 
 import android.annotation.SuppressLint;
@@ -36,7 +34,6 @@
 import net.osmand.PlatformUtil;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
-import net.osmand.plus.base.dialog.DialogManager;
 import net.osmand.plus.card.color.palette.main.ColorsPaletteCard;
 import net.osmand.plus.card.icon.IconsPaletteCard;
 import net.osmand.plus.helpers.AndroidUiHelper;
@@ -216,11 +213,11 @@ public void afterTextChanged(Editable s) {
 		} else if (COLORS_CARD.equals(key)) {
 			bindCard(holder, new ColorsPaletteCard(activity, screenController.getColorsCardController()));
 		} else if (PROFILE_ICON_CARD.equals(key)) {
-			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getProfileIconCardController()));
+			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getProfileIconCardController(), false));
 		} else if (RESTING_POSITION_ICON_CARD.equals(key)) {
-			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getRestingIconCardController()));
+			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getRestingIconCardController(), false));
 		} else if (NAVIGATION_POSITION_ICON_CARD.equals(key)) {
-			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getNavigationIconCardController()));
+			bindCard(holder, new IconsPaletteCard<>(activity, screenController.getNavigationIconCardController(), false));
 		} else if (OPTIONS_CARD.equals(key)) {
 			ViewGroup container = (ViewGroup) holder.itemView;
 			container.removeAllViews();
diff --git a/OsmAnd/src/net/osmand/plus/track/fragments/controller/TrackColorController.java b/OsmAnd/src/net/osmand/plus/track/fragments/controller/TrackColorController.java
index eeb830bb1e1..c7aa55bd84a 100644
--- a/OsmAnd/src/net/osmand/plus/track/fragments/controller/TrackColorController.java
+++ b/OsmAnd/src/net/osmand/plus/track/fragments/controller/TrackColorController.java
@@ -71,7 +71,8 @@ public TrackColorController(@NonNull OsmandApplication app,
 	}
 
 	@Override
-	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container, boolean nightMode) {
+	public void onBindCardContent(@NonNull FragmentActivity activity, @NonNull ViewGroup container,
+	                              boolean nightMode, boolean usedOnMap) {
 		container.removeAllViews();
 		ColoringStyle coloringStyle = requireSelectedColoringStyle();
 		ColoringType coloringType = coloringStyle.getType();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonAppearanceCard.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonAppearanceCard.java
index 42a8c0d78f4..b69ec58a6cc 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonAppearanceCard.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonAppearanceCard.java
@@ -20,7 +20,7 @@ public class MapButtonAppearanceCard extends MapBaseCard {
 	private final MapButtonState buttonState;
 
 	public MapButtonAppearanceCard(@NonNull MapActivity mapActivity, @NonNull MapButtonState buttonState) {
-		super(mapActivity);
+		super(mapActivity, false);
 		this.buttonState = buttonState;
 	}
 
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonCard.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonCard.java
index 4464b7b340f..96f8c5d918f 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonCard.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonCard.java
@@ -29,7 +29,7 @@ public class MapButtonCard extends MapBaseCard {
 
 	public MapButtonCard(@NonNull MapActivity mapActivity, @NonNull MapButtonState buttonState,
 	                     @Nullable ButtonAppearanceParams customAppearanceParams) {
-		super(mapActivity);
+		super(mapActivity, false);
 		this.buttonState = buttonState;
 		this.customAppearanceParams = customAppearanceParams;
 	}
@@ -50,11 +50,12 @@ protected void updateContent() {
 
 	public void setupButton(@NonNull ViewGroup container) {
 		mapButton = (MapButton) themedInflater.inflate(buttonState.getDefaultLayoutId(), container, false);
-		mapButton.setClickable(false);
-		mapButton.setLongClickable(false);
 		mapButton.setAlwaysVisible(true);
 		mapButton.setNightMode(nightMode);
 		mapButton.setMapActivity(mapActivity);
+		mapButton.setOnTouchListener(null);
+		mapButton.setOnClickListener(null);
+		mapButton.setOnLongClickListener(null);
 		mapButton.setCustomAppearanceParams(customAppearanceParams);
 		if (mapButton instanceof QuickActionButton actionButton) {
 			actionButton.setButtonState((QuickActionButtonState) buttonState);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonVisibilityCard.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonVisibilityCard.java
index e7d260d671b..72d7ed4e4d4 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonVisibilityCard.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/buttons/MapButtonVisibilityCard.java
@@ -28,7 +28,7 @@ public class MapButtonVisibilityCard extends MapBaseCard {
 	private final MapButtonState buttonState;
 
 	public MapButtonVisibilityCard(@NonNull MapActivity activity, @NonNull MapButtonState buttonState, @NonNull Fragment fragment) {
-		super(activity);
+		super(activity, false);
 		this.fragment = fragment;
 		this.buttonState = buttonState;
 		this.appMode = settings.getApplicationMode();
