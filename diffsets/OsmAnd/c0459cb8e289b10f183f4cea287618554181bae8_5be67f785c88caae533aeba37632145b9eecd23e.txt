diff --git a/OsmAnd/res/layout/simple_preference_category.xml b/OsmAnd/res/layout/preference_category_with_descr.xml
similarity index 84%
rename from OsmAnd/res/layout/simple_preference_category.xml
rename to OsmAnd/res/layout/preference_category_with_descr.xml
index 4a1ce230edc..dede93ef8ee 100644
--- a/OsmAnd/res/layout/simple_preference_category.xml
+++ b/OsmAnd/res/layout/preference_category_with_descr.xml
@@ -13,18 +13,17 @@
 		android:layout_width="@dimen/standard_icon_size"
 		android:layout_height="@dimen/standard_icon_size"
 		android:layout_gravity="center"
-		android:layout_marginStart="@dimen/content_padding"
 		android:layout_marginLeft="@dimen/content_padding"
-		android:layout_marginEnd="@dimen/content_padding_half"
-		android:layout_marginRight="@dimen/content_padding_half" />
+		android:layout_marginRight="@dimen/content_padding" />
 
 	<LinearLayout
 		android:layout_width="0dp"
 		android:layout_height="wrap_content"
+		android:layout_gravity="center_vertical"
+		android:layout_marginLeft="@dimen/content_padding"
+		android:layout_marginRight="@dimen/content_padding"
 		android:layout_weight="1"
-		android:orientation="vertical"
-		android:paddingLeft="@dimen/content_padding"
-		android:paddingRight="@dimen/content_padding">
+		android:orientation="vertical">
 
 		<net.osmand.plus.widgets.TextViewEx
 			android:id="@android:id/title"
diff --git a/OsmAnd/res/layout/preference_dialog_and_switch.xml b/OsmAnd/res/layout/preference_dialog_and_switch.xml
index 001aafc245c..a652cbcb3c9 100644
--- a/OsmAnd/res/layout/preference_dialog_and_switch.xml
+++ b/OsmAnd/res/layout/preference_dialog_and_switch.xml
@@ -17,18 +17,17 @@
 			android:layout_width="@dimen/standard_icon_size"
 			android:layout_height="@dimen/standard_icon_size"
 			android:layout_gravity="center"
-			android:layout_marginStart="@dimen/content_padding"
 			android:layout_marginLeft="@dimen/content_padding"
-			android:layout_marginEnd="@dimen/content_padding_half"
-			android:layout_marginRight="@dimen/content_padding_half" />
+			android:layout_marginRight="@dimen/content_padding" />
 
 		<LinearLayout
 			android:layout_width="0dp"
 			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
 			android:layout_weight="1"
-			android:orientation="vertical"
-			android:paddingLeft="@dimen/content_padding"
-			android:paddingRight="@dimen/content_padding">
+			android:orientation="vertical">
 
 			<net.osmand.plus.widgets.TextViewEx
 				android:id="@android:id/title"
@@ -52,13 +51,6 @@
 
 		</LinearLayout>
 
-		<View
-			android:layout_width="1dp"
-			android:layout_height="match_parent"
-			android:layout_marginTop="18dp"
-			android:layout_marginBottom="18dp"
-			android:background="?attr/divider_color_basic" />
-
 		<Switch
 			android:id="@android:id/switch_widget"
 			android:layout_width="wrap_content"
@@ -69,6 +61,13 @@
 			android:paddingLeft="@dimen/content_padding"
 			android:paddingRight="@dimen/content_padding" />
 
+		<View
+			android:layout_width="1dp"
+			android:layout_height="match_parent"
+			android:layout_marginTop="18dp"
+			android:layout_marginBottom="18dp"
+			android:background="?attr/divider_color_basic" />
+
 	</LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/preference_info.xml b/OsmAnd/res/layout/preference_info.xml
index 4d95af789f7..34c0a90c03c 100644
--- a/OsmAnd/res/layout/preference_info.xml
+++ b/OsmAnd/res/layout/preference_info.xml
@@ -21,9 +21,11 @@
 		android:id="@android:id/title"
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
+		android:layout_gravity="center_vertical"
 		android:layout_marginLeft="@dimen/content_padding"
 		android:layout_marginTop="@dimen/content_padding_small"
 		android:layout_marginRight="@dimen/content_padding"
+		android:layout_marginBottom="@dimen/list_header_settings_top_margin"
 		android:textColor="?android:textColorPrimary"
 		android:textSize="@dimen/default_desc_text_size"
 		osmand:typeface="@string/font_roboto_regular" />
diff --git a/OsmAnd/res/layout/preference_radio_button.xml b/OsmAnd/res/layout/preference_radio_button.xml
index 9231e8c03f4..b8f4c874127 100644
--- a/OsmAnd/res/layout/preference_radio_button.xml
+++ b/OsmAnd/res/layout/preference_radio_button.xml
@@ -3,19 +3,20 @@
 	xmlns:osmand="http://schemas.android.com/apk/res-auto"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
-	android:background="?android:attr/selectableItemBackground"
+	android:background="?attr/list_background_color"
 	android:gravity="center_vertical">
 
 	<LinearLayout
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:background="?attr/list_background_color"
+		android:background="?android:attr/selectableItemBackground"
 		android:minHeight="@dimen/bottom_sheet_list_item_height">
 
 		<RadioButton
 			android:id="@android:id/checkbox"
 			android:layout_width="wrap_content"
 			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
 			android:layout_marginLeft="@dimen/content_padding"
 			android:layout_marginRight="@dimen/content_padding"
 			android:background="@null"
@@ -25,10 +26,11 @@
 		<LinearLayout
 			android:layout_width="0dp"
 			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
 			android:layout_weight="1"
-			android:orientation="vertical"
-			android:paddingLeft="@dimen/content_padding"
-			android:paddingRight="@dimen/content_padding">
+			android:orientation="vertical">
 
 			<net.osmand.plus.widgets.TextViewEx
 				android:id="@android:id/title"
diff --git a/OsmAnd/res/layout/preference_switch.xml b/OsmAnd/res/layout/preference_switch.xml
index f3ed44491ef..31b7e208692 100644
--- a/OsmAnd/res/layout/preference_switch.xml
+++ b/OsmAnd/res/layout/preference_switch.xml
@@ -17,18 +17,17 @@
 			android:layout_width="@dimen/standard_icon_size"
 			android:layout_height="@dimen/standard_icon_size"
 			android:layout_gravity="center"
-			android:layout_marginStart="@dimen/content_padding"
 			android:layout_marginLeft="@dimen/content_padding"
-			android:layout_marginEnd="@dimen/content_padding_half"
-			android:layout_marginRight="@dimen/content_padding_half" />
+			android:layout_marginRight="@dimen/content_padding" />
 
 		<LinearLayout
 			android:layout_width="0dp"
 			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
 			android:layout_weight="1"
-			android:orientation="vertical"
-			android:paddingLeft="@dimen/content_padding"
-			android:paddingRight="@dimen/content_padding">
+			android:orientation="vertical">
 
 			<net.osmand.plus.widgets.TextViewEx
 				android:id="@android:id/title"
diff --git a/OsmAnd/res/layout/preference_top_switch.xml b/OsmAnd/res/layout/preference_top_switch.xml
index 7ab0568ec75..bdee69b7154 100644
--- a/OsmAnd/res/layout/preference_top_switch.xml
+++ b/OsmAnd/res/layout/preference_top_switch.xml
@@ -3,40 +3,52 @@
 	xmlns:osmand="http://schemas.android.com/apk/res-auto"
 	android:layout_width="match_parent"
 	android:layout_height="wrap_content"
-	android:background="?android:attr/selectableItemBackground"
-	android:gravity="center_vertical"
-	android:minHeight="@dimen/bottom_sheet_selected_item_title_height"
-	android:orientation="horizontal">
-
-	<ImageView
-		android:id="@android:id/icon"
-		android:layout_width="@dimen/standard_icon_size"
-		android:layout_height="@dimen/standard_icon_size"
-		android:layout_marginStart="@dimen/content_padding"
-		android:layout_marginLeft="@dimen/content_padding"
-		android:layout_marginEnd="@dimen/content_padding_half"
-		android:layout_marginRight="@dimen/content_padding_half" />
-
-	<net.osmand.plus.widgets.TextViewEx
-		android:id="@android:id/summary"
-		android:layout_width="0dp"
+	android:background="?attr/list_background_color"
+	android:gravity="center_vertical">
+
+	<LinearLayout
+		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
-		android:layout_marginLeft="@dimen/content_padding"
-		android:layout_marginRight="@dimen/content_padding"
-		android:layout_weight="1"
-		android:textColor="#FFFFFF"
-		android:textSize="@dimen/default_list_text_size"
-		osmand:typeface="@string/font_roboto_regular" />
-
-	<android.support.v7.widget.SwitchCompat
-		android:id="@android:id/switch_widget"
-		android:layout_width="wrap_content"
-		android:layout_height="match_parent"
-		android:background="@null"
-		android:clickable="false"
-		android:focusable="false"
-		android:focusableInTouchMode="false"
-		android:paddingLeft="@dimen/content_padding"
-		android:paddingRight="@dimen/content_padding" />
+		android:background="?android:attr/selectableItemBackground"
+		android:minHeight="@dimen/bottom_sheet_selected_item_title_height">
+
+		<ImageView
+			android:id="@android:id/icon"
+			android:layout_width="@dimen/standard_icon_size"
+			android:layout_height="@dimen/standard_icon_size"
+			android:layout_gravity="center"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding" />
+
+		<LinearLayout
+			android:layout_width="0dp"
+			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
+			android:layout_weight="1"
+			android:orientation="vertical">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@android:id/summary"
+				android:layout_width="match_parent"
+				android:layout_height="wrap_content"
+				android:textColor="?android:textColorPrimary"
+				android:textSize="@dimen/default_list_text_size"
+				osmand:typeface="@string/font_roboto_regular" />
+
+		</LinearLayout>
+
+		<Switch
+			android:id="@android:id/switch_widget"
+			android:layout_width="wrap_content"
+			android:layout_height="match_parent"
+			android:background="@null"
+			android:clickable="true"
+			android:focusable="true"
+			android:paddingLeft="@dimen/content_padding"
+			android:paddingRight="@dimen/content_padding" />
+
+	</LinearLayout>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/res/layout/preference_with_descr.xml b/OsmAnd/res/layout/preference_with_descr.xml
index 717c7a46999..c15345f9ba0 100644
--- a/OsmAnd/res/layout/preference_with_descr.xml
+++ b/OsmAnd/res/layout/preference_with_descr.xml
@@ -17,18 +17,17 @@
 			android:layout_width="@dimen/standard_icon_size"
 			android:layout_height="@dimen/standard_icon_size"
 			android:layout_gravity="center"
-			android:layout_marginStart="@dimen/content_padding"
 			android:layout_marginLeft="@dimen/content_padding"
-			android:layout_marginEnd="@dimen/content_padding_half"
-			android:layout_marginRight="@dimen/content_padding_half" />
+			android:layout_marginRight="@dimen/content_padding" />
 
 		<LinearLayout
 			android:layout_width="0dp"
 			android:layout_height="wrap_content"
+			android:layout_gravity="center_vertical"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
 			android:layout_weight="1"
-			android:orientation="vertical"
-			android:paddingLeft="@dimen/content_padding"
-			android:paddingRight="@dimen/content_padding">
+			android:orientation="vertical">
 
 			<net.osmand.plus.widgets.TextViewEx
 				android:id="@android:id/title"
diff --git a/OsmAnd/res/xml/configure_profile.xml b/OsmAnd/res/xml/configure_profile.xml
index 7f0989a93e1..511784996aa 100644
--- a/OsmAnd/res/xml/configure_profile.xml
+++ b/OsmAnd/res/xml/configure_profile.xml
@@ -38,7 +38,7 @@
 
 	<PreferenceCategory
 		android:key="plugin_settings"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:summary="@string/list_of_installed_plugins"
 		android:title="@string/plugin_settings" />
 
diff --git a/OsmAnd/res/xml/general_profile_settings.xml b/OsmAnd/res/xml/general_profile_settings.xml
index 26de3fba8f4..d9e44924a54 100644
--- a/OsmAnd/res/xml/general_profile_settings.xml
+++ b/OsmAnd/res/xml/general_profile_settings.xml
@@ -4,7 +4,7 @@
 
 	<PreferenceCategory
 		android:key="appearance_category"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/appearance" />
 
 	<net.osmand.plus.settings.preferences.ListPreferenceEx
@@ -24,7 +24,7 @@
 
 	<PreferenceCategory
 		android:key="units_and_formats"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/units_and_formats" />
 
 	<Preference
@@ -50,7 +50,7 @@
 
 	<PreferenceCategory
 		android:key="other"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/shared_string_other" />
 
 	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
diff --git a/OsmAnd/res/xml/global_settings.xml b/OsmAnd/res/xml/global_settings.xml
index 5552546f97e..0ea38d00190 100644
--- a/OsmAnd/res/xml/global_settings.xml
+++ b/OsmAnd/res/xml/global_settings.xml
@@ -15,16 +15,16 @@
 		android:layout="@layout/preference_with_descr"
 		android:title="@string/preferred_locale" />
 
-	<Preference
-		android:icon="@drawable/ic_action_folder"
-		android:key="external_storage_dir"
-		android:layout="@layout/preference_with_descr"
-		android:persistent="false"
-		android:title="@string/application_dir" />
+<!--	<Preference-->
+<!--		android:icon="@drawable/ic_action_folder"-->
+<!--		android:key="external_storage_dir"-->
+<!--		android:layout="@layout/preference_with_descr"-->
+<!--		android:persistent="false"-->
+<!--		android:title="@string/application_dir" />-->
 
 	<PreferenceCategory
 		android:key="privacy_and_security"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/application_profiles" />
 
 	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
diff --git a/OsmAnd/res/xml/navigation_settings_new.xml b/OsmAnd/res/xml/navigation_settings_new.xml
index 4383da4f581..60146acefb7 100644
--- a/OsmAnd/res/xml/navigation_settings_new.xml
+++ b/OsmAnd/res/xml/navigation_settings_new.xml
@@ -38,7 +38,7 @@
 
 	<PreferenceCategory
 		android:key="other"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/shared_string_other" />
 
 	<Preference
diff --git a/OsmAnd/res/xml/screen_alerts.xml b/OsmAnd/res/xml/screen_alerts.xml
index 060bac07880..90e4f10dfbe 100644
--- a/OsmAnd/res/xml/screen_alerts.xml
+++ b/OsmAnd/res/xml/screen_alerts.xml
@@ -18,21 +18,25 @@
 	<SwitchPreference
 		android:dependency="show_routing_alarms"
 		android:key="show_traffic_warnings"
+		android:layout="@layout/preference_switch"
 		android:title="@string/show_traffic_warnings" />
 
 	<SwitchPreference
 		android:dependency="show_routing_alarms"
 		android:key="show_pedestrian"
+		android:layout="@layout/preference_switch"
 		android:title="@string/show_pedestrian_warnings" />
 
 	<SwitchPreference
 		android:dependency="show_routing_alarms"
 		android:key="show_cameras"
+		android:layout="@layout/preference_switch"
 		android:title="@string/show_cameras" />
 
 	<SwitchPreference
 		android:dependency="show_routing_alarms"
 		android:key="show_tunnels"
+		android:layout="@layout/preference_switch"
 		android:title="@string/show_tunnels" />
 
 </PreferenceScreen>
\ No newline at end of file
diff --git a/OsmAnd/res/xml/settings_main_screen.xml b/OsmAnd/res/xml/settings_main_screen.xml
index 3e12f01d5c0..83710d9c4a4 100644
--- a/OsmAnd/res/xml/settings_main_screen.xml
+++ b/OsmAnd/res/xml/settings_main_screen.xml
@@ -14,7 +14,7 @@
 
 	<PreferenceCategory
 		android:key="application_profiles"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/application_profiles" />
 
 	<Preference
diff --git a/OsmAnd/res/xml/voice_announces.xml b/OsmAnd/res/xml/voice_announces.xml
index acbeaecc390..978d162ec61 100644
--- a/OsmAnd/res/xml/voice_announces.xml
+++ b/OsmAnd/res/xml/voice_announces.xml
@@ -10,9 +10,10 @@
 
 	<Preference
 		android:key="voice_announces_info"
+		android:layout="@layout/preference_info"
 		android:persistent="false"
 		android:selectable="false"
-		android:summary="@string/voice_announces_info"
+		android:title="@string/voice_announces_info"
 		tools:icon="@drawable/ic_action_info_dark" />
 
 	<SwitchPreference
@@ -89,7 +90,7 @@
 
 	<PreferenceCategory
 		android:key="language_and_output"
-		android:layout="@layout/simple_preference_category"
+		android:layout="@layout/preference_category_with_descr"
 		android:title="@string/language_and_output" />
 
 	<net.osmand.plus.settings.preferences.ListPreferenceEx
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
index ed5056638df..05acbfe3e29 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
@@ -160,9 +160,6 @@
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
-import static net.osmand.plus.profiles.SettingsProfileFragment.IS_USER_PROFILE;
-import static net.osmand.plus.profiles.SettingsProfileFragment.PROFILE_STRING_KEY;
-
 public class MapActivity extends OsmandActionBarActivity implements DownloadEvents,
 		OnRequestPermissionsResultCallback, IRouteInformationListener, AMapPointUpdateListener,
 		MapMarkerChangedListener, OnDismissDialogFragmentListener, OnDrawMapListener,
@@ -1943,13 +1940,8 @@ public boolean onPreferenceStartFragment(PreferenceFragmentCompat caller, Prefer
 
 			ApplicationMode mode = baseFragment.getSelectedAppMode();
 			if (mode != null) {
-				Bundle args = new Bundle();
-				args.putString(PROFILE_STRING_KEY, mode.getStringKey());
-				args.putBoolean(IS_USER_PROFILE, mode.isCustomProfile());
-
 				String fragmentName = pref.getFragment();
-				final Fragment fragment = Fragment.instantiate(this, fragmentName);
-				fragment.setArguments(args);
+				Fragment fragment = Fragment.instantiate(this, fragmentName);
 
 				getSupportFragmentManager().beginTransaction()
 						.add(R.id.fragmentContainer, fragment, fragmentName)
diff --git a/OsmAnd/src/net/osmand/plus/settings/ConfigureProfileFragment.java b/OsmAnd/src/net/osmand/plus/settings/ConfigureProfileFragment.java
index 81e1a25a77f..3d169e62624 100644
--- a/OsmAnd/src/net/osmand/plus/settings/ConfigureProfileFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/ConfigureProfileFragment.java
@@ -81,6 +81,7 @@ private void setupConfigureMapPref() {
 		intent.putExtra(OPEN_CONFIG_ON_MAP, MAP_CONFIG);
 		intent.putExtra(SELECTED_ITEM, getSelectedAppMode().getStringKey());
 		configureMap.setIntent(intent);
+		configureMap.setVisible(false);
 	}
 
 	private void setupConnectedAppsPref() {
diff --git a/OsmAnd/src/net/osmand/plus/settings/GeneralProfileSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/GeneralProfileSettingsFragment.java
index b0fdcdf538e..9a1fbdf92bf 100644
--- a/OsmAnd/src/net/osmand/plus/settings/GeneralProfileSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/GeneralProfileSettingsFragment.java
@@ -48,6 +48,14 @@ protected String getToolbarTitle() {
 
 	@Override
 	protected void setupPreferences() {
+		Preference appearanceCategory = findPreference("appearance_category");
+		Preference unitsAndFormats = findPreference("units_and_formats");
+		Preference other = findPreference("other");
+
+		appearanceCategory.setIconSpaceReserved(true);
+		unitsAndFormats.setIconSpaceReserved(true);
+		other.setIconSpaceReserved(true);
+
 		setupAppThemePref();
 		setupRotateMapPref();
 		setupMapScreenOrientationPref();
@@ -66,8 +74,8 @@ protected void setupPreferences() {
 
 	private void setupAppThemePref() {
 		final ListPreferenceEx appTheme = (ListPreferenceEx) findPreference(settings.OSMAND_THEME.getId());
-		appTheme.setEntries(new String[] {getString(R.string.dark_theme), getString(R.string.light_theme)});
-		appTheme.setEntryValues(new Integer[] {OsmandSettings.OSMAND_DARK_THEME, OsmandSettings.OSMAND_LIGHT_THEME});
+		appTheme.setEntries(new String[]{getString(R.string.dark_theme), getString(R.string.light_theme)});
+		appTheme.setEntryValues(new Integer[]{OsmandSettings.OSMAND_DARK_THEME, OsmandSettings.OSMAND_LIGHT_THEME});
 		appTheme.setIcon(getOsmandThemeIcon());
 	}
 
@@ -77,8 +85,8 @@ private Drawable getOsmandThemeIcon() {
 
 	private void setupRotateMapPref() {
 		final ListPreferenceEx rotateMap = (ListPreferenceEx) findPreference(settings.ROTATE_MAP.getId());
-		rotateMap.setEntries(new String[] {getString(R.string.rotate_map_none_opt), getString(R.string.rotate_map_bearing_opt), getString(R.string.rotate_map_compass_opt)});
-		rotateMap.setEntryValues(new Integer[] {OsmandSettings.ROTATE_MAP_NONE, OsmandSettings.ROTATE_MAP_BEARING, OsmandSettings.ROTATE_MAP_COMPASS});
+		rotateMap.setEntries(new String[]{getString(R.string.rotate_map_none_opt), getString(R.string.rotate_map_bearing_opt), getString(R.string.rotate_map_compass_opt)});
+		rotateMap.setEntryValues(new Integer[]{OsmandSettings.ROTATE_MAP_NONE, OsmandSettings.ROTATE_MAP_BEARING, OsmandSettings.ROTATE_MAP_COMPASS});
 		rotateMap.setIcon(getRotateMapIcon());
 	}
 
@@ -95,8 +103,8 @@ private Drawable getRotateMapIcon() {
 
 	private void setupMapScreenOrientationPref() {
 		final ListPreferenceEx mapScreenOrientation = (ListPreferenceEx) findPreference(settings.MAP_SCREEN_ORIENTATION.getId());
-		mapScreenOrientation.setEntries(new String[] {getString(R.string.map_orientation_portrait), getString(R.string.map_orientation_landscape), getString(R.string.map_orientation_default)});
-		mapScreenOrientation.setEntryValues(new Integer[] {ActivityInfo.SCREEN_ORIENTATION_PORTRAIT, ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE, ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED});
+		mapScreenOrientation.setEntries(new String[]{getString(R.string.map_orientation_portrait), getString(R.string.map_orientation_landscape), getString(R.string.map_orientation_default)});
+		mapScreenOrientation.setEntryValues(new Integer[]{ActivityInfo.SCREEN_ORIENTATION_PORTRAIT, ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE, ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED});
 		mapScreenOrientation.setIcon(getMapScreenOrientationIcon());
 	}
 
@@ -192,14 +200,14 @@ private void setupDoNotUseAnimationsPref() {
 	private void setupExternalInputDevicePref() {
 		ListPreferenceEx externalInputDevice = (ListPreferenceEx) findPreference(settings.EXTERNAL_INPUT_DEVICE.getId());
 		externalInputDevice.setIconSpaceReserved(true);
-		externalInputDevice.setEntries(new String[] {
+		externalInputDevice.setEntries(new String[]{
 				getString(R.string.sett_no_ext_input),
 				getString(R.string.sett_generic_ext_input),
 				getString(R.string.sett_wunderlinq_ext_input),
 				getString(R.string.sett_parrot_ext_input)
 		});
 
-		externalInputDevice.setEntryValues(new Integer[] {
+		externalInputDevice.setEntryValues(new Integer[]{
 				OsmandSettings.NO_EXTERNAL_DEVICE,
 				OsmandSettings.GENERIC_EXTERNAL_DEVICE,
 				OsmandSettings.WUNDERLINQ_EXTERNAL_DEVICE,
diff --git a/OsmAnd/src/net/osmand/plus/settings/GlobalSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/GlobalSettingsFragment.java
index a6e839eccf4..f8472e81b8d 100644
--- a/OsmAnd/src/net/osmand/plus/settings/GlobalSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/GlobalSettingsFragment.java
@@ -1,43 +1,20 @@
 package net.osmand.plus.settings;
 
 import android.app.Activity;
-import android.app.Dialog;
 import android.content.Context;
-import android.content.DialogInterface;
-import android.content.pm.PackageManager;
-import android.os.AsyncTask;
-import android.os.Build;
-import android.os.StatFs;
 import android.support.v14.preference.SwitchPreference;
 import android.support.v4.app.FragmentManager;
-import android.support.v7.app.AlertDialog;
 import android.support.v7.preference.Preference;
-import android.support.v7.widget.Toolbar;
 import android.util.Pair;
-import android.view.View;
-import android.widget.EditText;
-import android.widget.LinearLayout;
-import android.widget.Toast;
 
-import net.osmand.IProgress;
-import net.osmand.IndexConstants;
-import net.osmand.ValueHolder;
 import net.osmand.plus.ApplicationMode;
 import net.osmand.plus.OsmandApplication;
-import net.osmand.plus.OsmandSettings;
 import net.osmand.plus.R;
-import net.osmand.plus.Version;
-import net.osmand.plus.activities.SettingsBaseActivity;
 import net.osmand.plus.activities.SettingsGeneralActivity;
-import net.osmand.plus.dashboard.DashChooseAppDirFragment;
 import net.osmand.plus.dialogs.SendAnalyticsBottomSheetDialogFragment;
-import net.osmand.plus.download.DownloadActivity;
 import net.osmand.plus.settings.preferences.ListPreferenceEx;
 import net.osmand.plus.settings.preferences.SwitchPreferenceEx;
 
-import java.io.File;
-import java.util.ArrayList;
-import java.util.List;
 
 public class GlobalSettingsFragment extends BaseSettingsFragment implements SendAnalyticsBottomSheetDialogFragment.OnSendAnalyticsPrefsUpdate, OnPreferenceChanged {
 
@@ -64,12 +41,26 @@ protected String getToolbarTitle() {
 	protected void setupPreferences() {
 		setupDefaultAppModePref();
 		setupPreferredLocalePref();
-		setupExternalStorageDirPref();
+//		setupExternalStorageDirPref();
 
 		setupSendAnonymousDataPref();
 		setupEnableProxyPref();
 	}
 
+	@Override
+	public void onDisplayPreferenceDialog(Preference preference) {
+		String prefId = preference.getKey();
+
+		if (prefId.equals(SEND_ANONYMOUS_DATA_PREF_ID)) {
+			FragmentManager fragmentManager = getFragmentManager();
+			if (fragmentManager != null) {
+				SendAnalyticsBottomSheetDialogFragment.showInstance(app, fragmentManager, this);
+			}
+		} else {
+			super.onDisplayPreferenceDialog(preference);
+		}
+	}
+
 	@Override
 	public boolean onPreferenceChange(Preference preference, Object newValue) {
 		String prefId = preference.getKey();
@@ -94,32 +85,6 @@ public boolean onPreferenceChange(Preference preference, Object newValue) {
 		return super.onPreferenceChange(preference, newValue);
 	}
 
-	@Override
-	public boolean onPreferenceClick(Preference preference) {
-		String prefId = preference.getKey();
-
-		if (prefId.equals(OsmandSettings.EXTERNAL_STORAGE_DIR)) {
-			showAppDirDialog();
-			return true;
-		}
-
-		return super.onPreferenceClick(preference);
-	}
-
-	@Override
-	public void onDisplayPreferenceDialog(Preference preference) {
-		String prefId = preference.getKey();
-
-		if (prefId.equals(SEND_ANONYMOUS_DATA_PREF_ID)) {
-			FragmentManager fragmentManager = getFragmentManager();
-			if (fragmentManager != null) {
-				SendAnalyticsBottomSheetDialogFragment.showInstance(app, fragmentManager, this);
-			}
-		} else {
-			super.onDisplayPreferenceDialog(preference);
-		}
-	}
-
 	@Override
 	public void onPreferenceChanged(String prefId) {
 		if (prefId.equals(settings.DEFAULT_APPLICATION_MODE.getId())) {
@@ -193,211 +158,4 @@ private void setupEnableProxyPref() {
 		SwitchPreferenceEx enableProxy = (SwitchPreferenceEx) findPreference(settings.ENABLE_PROXY.getId());
 		enableProxy.setIcon(getContentIcon(R.drawable.ic_action_proxy));
 	}
-
-
-//	-------------------------- APP DIR PREF --------------------------------------------------------
-
-	private Preference applicationDir;
-	private boolean permissionRequested;
-	private boolean permissionGranted;
-
-	@Override
-	public void onResume() {
-		super.onResume();
-		if (permissionRequested) {
-			showAppDirDialogV19();
-			permissionRequested = false;
-		}
-	}
-
-	@Override
-	public void onRequestPermissionsResult(int requestCode,
-	                                       String permissions[], int[] grantResults) {
-		permissionRequested = requestCode == DownloadActivity.PERMISSIONS_REQUEST_WRITE_EXTERNAL_STORAGE;
-		if (permissionRequested
-				&& grantResults.length > 0
-				&& grantResults[0] == PackageManager.PERMISSION_GRANTED) {
-			permissionGranted = true;
-		} else {
-			permissionGranted = false;
-			Toast.makeText(getContext(),
-					R.string.missing_write_external_storage_permission,
-					Toast.LENGTH_LONG).show();
-		}
-	}
-
-	private void setupExternalStorageDirPref() {
-		applicationDir = findPreference(OsmandSettings.EXTERNAL_STORAGE_DIR);
-		if (!Version.isBlackberry(app)) {
-			int type;
-			if (settings.getExternalStorageDirectoryTypeV19() >= 0) {
-				type = settings.getExternalStorageDirectoryTypeV19();
-			} else {
-				ValueHolder<Integer> vh = new ValueHolder<Integer>();
-				settings.getExternalStorageDirectory(vh);
-				if (vh.value != null && vh.value >= 0) {
-					type = vh.value;
-				} else {
-					type = 0;
-				}
-			}
-
-			String appDirType = "";
-			if (type == OsmandSettings.EXTERNAL_STORAGE_TYPE_INTERNAL_FILE) {
-				appDirType = getString(R.string.storage_directory_internal_app);
-			} else if (type == OsmandSettings.EXTERNAL_STORAGE_TYPE_DEFAULT) {
-				appDirType = getString(R.string.storage_directory_shared);
-			} else if (type == OsmandSettings.EXTERNAL_STORAGE_TYPE_EXTERNAL_FILE) {
-				appDirType = getString(R.string.storage_directory_external);
-			} else if (type == OsmandSettings.EXTERNAL_STORAGE_TYPE_OBB) {
-				appDirType = getString(R.string.storage_directory_multiuser);
-			} else if (type == OsmandSettings.EXTERNAL_STORAGE_TYPE_SPECIFIED) {
-				appDirType = getString(R.string.storage_directory_manual);
-			}
-
-			File currentAppFile = settings.getExternalStorageDirectory();
-
-			applicationDir.setSummary(appDirType + " \u2022 " + getFreeSpace(currentAppFile));
-			applicationDir.setIcon(getContentIcon(R.drawable.ic_action_folder));
-		} else {
-			getPreferenceScreen().removePreference(applicationDir);
-		}
-	}
-
-	private String getFreeSpace(File dir) {
-		if (dir.canRead()) {
-			StatFs fs = new StatFs(dir.getAbsolutePath());
-			return DownloadActivity.formatGb.format(new Object[] {(float) (fs.getAvailableBlocks()) * fs.getBlockSize() / (1 << 30)});
-		}
-		return "";
-	}
-
-	public void showAppDirDialog() {
-		if (Build.VERSION.SDK_INT >= 19) {
-			showAppDirDialogV19();
-			return;
-		}
-		AlertDialog.Builder editalert = new AlertDialog.Builder(getContext());
-		editalert.setTitle(R.string.application_dir);
-		final EditText input = new EditText(getContext());
-		input.setText(settings.getExternalStorageDirectory().getAbsolutePath());
-		LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
-				LinearLayout.LayoutParams.MATCH_PARENT,
-				LinearLayout.LayoutParams.MATCH_PARENT);
-		lp.leftMargin = lp.rightMargin = 5;
-		lp.bottomMargin = lp.topMargin = 5;
-		input.setLayoutParams(lp);
-		settings.getExternalStorageDirectory().getAbsolutePath();
-		editalert.setView(input);
-		editalert.setNegativeButton(R.string.shared_string_cancel, null);
-		editalert.setPositiveButton(R.string.shared_string_ok, new DialogInterface.OnClickListener() {
-			public void onClick(DialogInterface dialog, int whichButton) {
-				warnAboutChangingStorage(input.getText().toString());
-			}
-		});
-		editalert.show();
-	}
-
-	private void showAppDirDialogV19() {
-		AlertDialog.Builder bld = new AlertDialog.Builder(getContext());
-		DashChooseAppDirFragment.ChooseAppDirFragment chooseAppDirFragment = new DashChooseAppDirFragment.ChooseAppDirFragment(getActivity(), (Dialog) null) {
-			@Override
-			protected void successCallback() {
-				updateApplicationDirTextAndSummary();
-			}
-		};
-		if (permissionRequested && !permissionGranted) {
-			chooseAppDirFragment.setPermissionDenied();
-		}
-		bld.setView(chooseAppDirFragment.initView(getLayoutInflater(), null, null));
-		AlertDialog dlg = bld.show();
-		chooseAppDirFragment.setDialog(dlg);
-	}
-
-	private void warnAboutChangingStorage(final String newValue) {
-		String newDir = newValue != null ? newValue.trim() : newValue;
-		if (!newDir.replace('/', ' ').trim().
-				toLowerCase().endsWith(IndexConstants.APP_DIR.replace('/', ' ').trim())) {
-			newDir += "/" + IndexConstants.APP_DIR;
-		}
-		final File path = new File(newDir);
-		path.mkdirs();
-		if (!path.canRead() || !path.exists()) {
-			Toast.makeText(getContext(), R.string.specified_dir_doesnt_exist, Toast.LENGTH_LONG).show();
-			return;
-		}
-		AlertDialog.Builder builder = new AlertDialog.Builder(getContext());
-		builder.setMessage(getString(R.string.application_dir_change_warning3));
-		builder.setPositiveButton(R.string.shared_string_yes, new DialogInterface.OnClickListener() {
-			@Override
-			public void onClick(DialogInterface dialog, int which) {
-				DashChooseAppDirFragment.MoveFilesToDifferentDirectory task =
-						new DashChooseAppDirFragment.MoveFilesToDifferentDirectory(getContext(),
-								settings.getExternalStorageDirectory(), path);
-				task.setRunOnSuccess(new Runnable() {
-					@Override
-					public void run() {
-						updateSettingsToNewDir(path.getParentFile().getAbsolutePath());
-					}
-				});
-				task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
-			}
-		});
-		builder.setNeutralButton(R.string.shared_string_no, new DialogInterface.OnClickListener() {
-
-			@Override
-			public void onClick(DialogInterface dialog, int which) {
-				updateSettingsToNewDir(path.getParentFile().getAbsolutePath());
-			}
-		});
-		builder.setNegativeButton(R.string.shared_string_cancel, null);
-		builder.show();
-	}
-
-	private void updateSettingsToNewDir(final String newDir) {
-		// edit the preference
-		settings.setExternalStorageDirectoryPre19(newDir);
-		app.getResourceManager().resetStoreDirectory();
-		reloadIndexes();
-		updateApplicationDirTextAndSummary();
-	}
-
-	private void updateApplicationDirTextAndSummary() {
-		if (applicationDir != null) {
-			String storageDir = settings.getExternalStorageDirectory().getAbsolutePath();
-			applicationDir.setSummary(storageDir);
-		}
-	}
-
-	public void reloadIndexes() {
-		final Toolbar toolbar = getView().findViewById(R.id.toolbar);
-		setProgressVisibility(true);
-		final CharSequence oldTitle = toolbar.getTitle();
-		toolbar.setTitle(getString(R.string.loading_data));
-		toolbar.setSubtitle(getString(R.string.reading_indexes));
-		new AsyncTask<Void, Void, List<String>>() {
-
-			@Override
-			protected List<String> doInBackground(Void... params) {
-				return getMyApplication().getResourceManager().reloadIndexes(IProgress.EMPTY_PROGRESS,
-						new ArrayList<String>());
-			}
-
-			protected void onPostExecute(List<String> result) {
-				SettingsBaseActivity.showWarnings(getMyApplication(), result);
-				toolbar.setTitle(oldTitle);
-				toolbar.setSubtitle("");
-				setProgressVisibility(false);
-			}
-
-		}.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
-	}
-
-	protected void setProgressVisibility(boolean visibility) {
-		if (visibility) {
-			getView().findViewById(R.id.ProgressBar).setVisibility(View.VISIBLE);
-		} else {
-			getView().findViewById(R.id.ProgressBar).setVisibility(View.GONE);
-		}
-	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/settings/MainSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/MainSettingsFragment.java
index 6c383dbcc5f..0f0a433c701 100644
--- a/OsmAnd/src/net/osmand/plus/settings/MainSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/MainSettingsFragment.java
@@ -46,7 +46,7 @@ protected void setupPreferences() {
 		globalSettings.setIcon(getContentIcon(R.drawable.ic_action_settings));
 
 		PreferenceCategory applicationProfiles = (PreferenceCategory) findPreference("application_profiles");
-		applicationProfiles.setIconSpaceReserved(false);
+		applicationProfiles.setIconSpaceReserved(true);
 
 		setupConfigureProfilePref();
 		setupManageProfilesPref();
diff --git a/OsmAnd/src/net/osmand/plus/settings/VoiceAnnouncesFragment.java b/OsmAnd/src/net/osmand/plus/settings/VoiceAnnouncesFragment.java
index 982071e849b..a431c287fdd 100644
--- a/OsmAnd/src/net/osmand/plus/settings/VoiceAnnouncesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/VoiceAnnouncesFragment.java
@@ -46,6 +46,7 @@ protected void setupPreferences() {
 
 		Preference voiceAnnouncesInfo = findPreference("voice_announces_info");
 		voiceAnnouncesInfo.setIcon(getContentIcon(R.drawable.ic_action_info_dark));
+		Preference languageAndOutput = findPreference("language_and_output");
 
 		SwitchPreference speakStreetNames = (SwitchPreference) findPreference(settings.SPEAK_STREET_NAMES.getId());
 		SwitchPreference speakTrafficWarnings = (SwitchPreference) findPreference(settings.SPEAK_TRAFFIC_WARNINGS.getId());
@@ -56,6 +57,7 @@ protected void setupPreferences() {
 		speakTrafficWarnings.setIconSpaceReserved(true);
 		speakPedestrian.setIconSpaceReserved(true);
 		speakSpeedLimit.setIconSpaceReserved(true);
+		languageAndOutput.setIconSpaceReserved(true);
 
 		setupSpeedLimitExceedPref();
 
