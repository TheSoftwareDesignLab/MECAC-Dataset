diff --git a/DataExtractionOSM/src/net/osmand/data/preparation/BinaryMapIndexWriter.java b/DataExtractionOSM/src/net/osmand/data/preparation/BinaryMapIndexWriter.java
index f21a5ef54e2..ac109545edc 100644
--- a/DataExtractionOSM/src/net/osmand/data/preparation/BinaryMapIndexWriter.java
+++ b/DataExtractionOSM/src/net/osmand/data/preparation/BinaryMapIndexWriter.java
@@ -209,6 +209,7 @@ public void endWriteRouteIndex() throws IOException {
 		log.info("- ROUTE TYPE SIZE SIZE " + BinaryMapIndexWriter.ROUTE_TYPES_SIZE ); //$NON-NLS-1$
 		log.info("- ROUTE COORDINATES SIZE " + BinaryMapIndexWriter.ROUTE_COORDINATES_SIZE + " COUNT " + BinaryMapIndexWriter.ROUTE_COORDINATES_COUNT); //$NON-NLS-1$
 		log.info("- ROUTE POINTS SIZE " + BinaryMapIndexWriter.ROUTE_POINTS_SIZE);
+		log.info("- ROUTE STRING SIZE " + BinaryMapIndexWriter.ROUTE_STRING_DATA_SIZE); //$NON-NLS-1$
 		log.info("- ROUTE ID SIZE " + BinaryMapIndexWriter.ROUTE_ID_SIZE); //$NON-NLS-1$
 		log.info("-- ROUTE_DATA " + BinaryMapIndexWriter.ROUTE_DATA_SIZE); //$NON-NLS-1$
 		ROUTE_TYPES_SIZE = ROUTE_DATA_SIZE = ROUTE_POINTS_SIZE = ROUTE_ID_SIZE = 
@@ -301,6 +302,8 @@ public int compare(MapRouteType o1, MapRouteType o2) {
 			builder.setTag(rule.getTag());
 			if (rule.getValue() != null) {
 				builder.setValue(rule.getValue());
+			} else {
+				builder.setValue("");
 			}
 			RouteEncodingRule rulet = builder.build();
 			codedOutStream.writeMessage(OsmandOdb.OsmAndRoutingIndex.RULES_FIELD_NUMBER, rulet);
@@ -400,6 +403,7 @@ public void endWriteMapTreeElement() throws IOException {
 	public static int ROUTE_COORDINATES_COUNT = 0;
 	public static int ROUTE_POINTS_SIZE = 0;
 	public static int ROUTE_DATA_SIZE = 0;
+	public static int ROUTE_STRING_DATA_SIZE = 0;
 
 	public MapDataBlock.Builder createWriteMapDataBlock(long baseid) throws IOException {
 		MapDataBlock.Builder builder = MapDataBlock.newBuilder();
@@ -417,7 +421,7 @@ public void writeRouteDataBlock(RouteDataBlock.Builder builder, Map<String, Inte
 			StringTable st = bs.build();
 			builder.setStringTable(st);
 			int size = st.getSerializedSize();
-			STRING_TABLE_SIZE += CodedOutputStream.computeTagSize(OsmandOdb.MapDataBlock.STRINGTABLE_FIELD_NUMBER)
+			ROUTE_STRING_DATA_SIZE += CodedOutputStream.computeTagSize(OsmandOdb.MapDataBlock.STRINGTABLE_FIELD_NUMBER)
 					+ CodedOutputStream.computeRawVarint32Size(size) + size;
 		}
 		
@@ -509,7 +513,7 @@ public RouteData writeRouteData(int diffId, int pleft, int ptop, int[] types, Ro
 					writeRawVarint32(mapDataBuf, ls);
 				}
 			}
-			STRING_TABLE_SIZE += mapDataBuf.size();
+			ROUTE_STRING_DATA_SIZE += mapDataBuf.size();
 			builder.setStringNames(ByteString.copyFrom(mapDataBuf.toArray()));
 		}
 		
diff --git a/DataExtractionOSM/src/net/osmand/data/preparation/IndexCreator.java b/DataExtractionOSM/src/net/osmand/data/preparation/IndexCreator.java
index fdd79f33479..4872e6498e4 100644
--- a/DataExtractionOSM/src/net/osmand/data/preparation/IndexCreator.java
+++ b/DataExtractionOSM/src/net/osmand/data/preparation/IndexCreator.java
@@ -730,10 +730,10 @@ public void iterateEntity(Entity e, OsmDbAccessorContext ctx) throws SQLExceptio
 	public static void main(String[] args) throws IOException, SAXException, SQLException, InterruptedException {
 		long time = System.currentTimeMillis();
 		IndexCreator creator = new IndexCreator(new File("/home/victor/projects/OsmAnd/data/osm-gen/")); //$NON-NLS-1$
-		creator.setIndexMap(true);
-		creator.setIndexAddress(true);
-		creator.setIndexPOI(true);
-		creator.setIndexTransport(true);
+		creator.setIndexMap(false);
+		creator.setIndexAddress(false);
+		creator.setIndexPOI(false);
+		creator.setIndexTransport(false);
 		creator.setIndexRouting(true);
 
 //		creator.deleteDatabaseIndexes = false;
@@ -744,7 +744,9 @@ public static void main(String[] args) throws IOException, SAXException, SQLExce
 		MapRenderingTypes rt = MapRenderingTypes.getDefault();
 		MapZooms zooms = MapZooms.getDefault(); // MapZooms.parseZooms("15-");
 //		creator.setNodesDBFile(new File("/home/victor/projects/OsmAnd/data/osm-gen/nodes.tmp.odb"));
-		creator.generateIndexes(new File("/home/victor/projects/OsmAnd/temp/map.osm"),
+//		creator.generateIndexes(new File("/home/victor/projects/OsmAnd/temp/map.osm"),
+//		creator.generateIndexes(new File("/home/victor/projects/OsmAnd/data/osm-maps/luxembourg.osm.pbf"),
+		creator.generateIndexes(new File("/home/victor/projects/OsmAnd/data/osm-maps/RU-SPE.osm.bz2"),
 				new ConsoleProgressImplementation(1), null, zooms, rt, log);
 		
 		
diff --git a/DataExtractionOSM/src/net/osmand/data/preparation/IndexRouteCreator.java b/DataExtractionOSM/src/net/osmand/data/preparation/IndexRouteCreator.java
index 8aaa2f5fb5c..f221469e3bb 100644
--- a/DataExtractionOSM/src/net/osmand/data/preparation/IndexRouteCreator.java
+++ b/DataExtractionOSM/src/net/osmand/data/preparation/IndexRouteCreator.java
@@ -53,9 +53,11 @@ public class IndexRouteCreator extends AbstractIndexPartCreator {
 	private Connection mapConnection;
 	private final Log logMapDataWarn;
 	private final static boolean WRITE_POINT_ID = false;
+	private final static boolean WRITE_TEXT_TAGS = true;
 	private RTree routeTree = null;
 	private MapRoutingTypes routeTypes;
 	
+	
 	private TLongObjectHashMap<TLongArrayList> highwayRestrictions = new TLongObjectHashMap<TLongArrayList>();
 
 	// local purpose to speed up processing cache allocation
@@ -135,7 +137,11 @@ public void iterateMainEntity(Entity es, OsmDbAccessorContext ctx) throws SQLExc
 					mapRouteInsertStat.setBytes(3, bpointTypes.toByteArray());
 					mapRouteInsertStat.setBytes(4, bpointIds.toByteArray());
 					mapRouteInsertStat.setBytes(5, bcoordinates.toByteArray());
-					mapRouteInsertStat.setString(6, encodeNames(names));
+					if(WRITE_TEXT_TAGS) {
+						mapRouteInsertStat.setString(6, encodeNames(names));
+					} else {
+						mapRouteInsertStat.setString(6, "");
+					}
 
 					addBatch(mapRouteInsertStat, false);
 					try {
@@ -405,7 +411,7 @@ public void writeBinaryMapBlock(rtree.Node parent, Rect parentBounds, RTree r, B
 					}
 
 					RouteData routeData = writer.writeRouteData(cid, parentBounds.getMinX(), parentBounds.getMinY(), typeUse, points,
-							names, tempStringTable, dataBlock, true, WRITE_POINT_ID);
+							tempNames, tempStringTable, dataBlock, true, WRITE_POINT_ID);
 					if (routeData != null) {
 						dataBlock.addDataObjects(routeData);
 					}
diff --git a/DataExtractionOSM/src/net/osmand/osm/MapRoutingTypes.java b/DataExtractionOSM/src/net/osmand/osm/MapRoutingTypes.java
index 2aa966b3ab2..ebafb3dcae4 100644
--- a/DataExtractionOSM/src/net/osmand/osm/MapRoutingTypes.java
+++ b/DataExtractionOSM/src/net/osmand/osm/MapRoutingTypes.java
@@ -16,16 +16,19 @@ public class MapRoutingTypes {
 
 	private static Set<String> TAGS_TO_SAVE = new HashSet<String>();
 	private static Set<String> TAGS_TO_ACCEPT = new HashSet<String>();
+	private static Set<String> TAGS_TEXT = new HashSet<String>();
 	private static char TAG_DELIMETER = '/'; //$NON-NLS-1$
 	static {
 		TAGS_TO_ACCEPT.add("highway");
 		TAGS_TO_ACCEPT.add("junction");
 		TAGS_TO_ACCEPT.add("cycleway");
+		TAGS_TO_ACCEPT.add("route");
 		
 		// TEXT tags
-//		TAGS_TO_SAVE.add("ref");
-//		TAGS_TO_SAVE.add("name");
-//		TAGS_TO_SAVE.add("direction");
+		TAGS_TEXT.add("ref");
+		TAGS_TEXT.add("name");
+		TAGS_TEXT.add("direction");
+		TAGS_TEXT.add("duration");
 		
 		TAGS_TO_SAVE.add("roundabout");
 		TAGS_TO_SAVE.add("oneway");
@@ -46,6 +49,9 @@ public class MapRoutingTypes {
 		TAGS_TO_SAVE.add("bridge");
 		TAGS_TO_SAVE.add("tunnel");
 		TAGS_TO_SAVE.add("lanes");
+		TAGS_TO_SAVE.add("route");
+		TAGS_TO_SAVE.add("ferry");
+		TAGS_TO_SAVE.add("foot");
 	}
 	
 	private Map<String, MapRouteType> types = new LinkedHashMap<String, MapRoutingTypes.MapRouteType>();
@@ -74,13 +80,22 @@ protected static String getValueKey(String tagValue) {
 		return null;
 	}
 	
+	private boolean contains(Set<String> s, String tag, String value) {
+		if(s.contains(tag) || s.contains(tag + TAG_DELIMETER + value)){
+			return true;
+		}
+		return false;
+	}
+	
 	
 	public boolean encodeEntity(Way et, TIntArrayList outTypes, Map<MapRouteType, String> names){
 		Way e = (Way) et;
 		boolean init = false;
-		for(String tg : e.getTagKeySet()) {
-			if(TAGS_TO_ACCEPT.contains(tg)){
-				init  = true;
+		for(Entry<String, String> es : e.getTags().entrySet()) {
+			String tag = es.getKey();
+			String value = es.getValue();
+			if (contains(TAGS_TO_ACCEPT, tag, value)) {
+				init = true;
 				break;
 			}
 		}
@@ -88,12 +103,16 @@ public boolean encodeEntity(Way et, TIntArrayList outTypes, Map<MapRouteType, St
 			return false;
 		}
 		outTypes.clear();
+		names.clear();
 		for(Entry<String, String> es : e.getTags().entrySet()) {
 			String tag = es.getKey();
 			String value = es.getValue();
-			if(TAGS_TO_ACCEPT.contains(tag) || TAGS_TO_SAVE.contains(tag) || tag.startsWith("access")) {
+			if(contains(TAGS_TO_ACCEPT, tag, value) || contains(TAGS_TO_SAVE, tag, value) || tag.startsWith("access")) {
 				outTypes.add(registerRule(tag, value).id);
 			}
+			if(TAGS_TEXT.contains(tag)) {
+				names.put(registerRule(tag, null), value);
+			}
 		}
 		return true;
 	}
@@ -105,7 +124,7 @@ public void encodePointTypes(Way e, TLongObjectHashMap<TIntArrayList> pointTypes
 				for (Entry<String, String> es : nd.getTags().entrySet()) {
 					String tag = es.getKey();
 					String value = es.getValue();
-					if (TAGS_TO_ACCEPT.contains(tag) || TAGS_TO_SAVE.contains(tag) || tag.startsWith("access")) {
+					if (contains(TAGS_TO_ACCEPT, tag, value) || contains(TAGS_TO_SAVE, tag, value) || tag.startsWith("access")) {
 						if (!pointTypes.containsKey(nd.getId())) {
 							pointTypes.put(nd.getId(), new TIntArrayList());
 						}
diff --git a/DataExtractionOSM/src/net/osmand/osm/rendering_types.xml b/DataExtractionOSM/src/net/osmand/osm/rendering_types.xml
index f6f4541e195..54d48cd4edf 100644
--- a/DataExtractionOSM/src/net/osmand/osm/rendering_types.xml
+++ b/DataExtractionOSM/src/net/osmand/osm/rendering_types.xml
@@ -71,6 +71,10 @@
 		<type tag="highway" value="speed_camera" minzoom="16" poi_category="transportation"/>
 		<type tag="highway" value="street_lamp" minzoom="16" />
 	</category>
+	
+	<category name="routes">
+		<type tag="route" value="ferry" minzoom="10" />
+	</category>
 
 	<category name="tracktype">
 		<type tag="tracktype" value="grade1" minzoom="12" additional="true"/>
diff --git a/DataExtractionOSM/src/net/osmand/render/default.render.xml b/DataExtractionOSM/src/net/osmand/render/default.render.xml
index dd3834911ef..9da2b0e0c2a 100644
--- a/DataExtractionOSM/src/net/osmand/render/default.render.xml
+++ b/DataExtractionOSM/src/net/osmand/render/default.render.xml
@@ -183,34 +183,35 @@
 			<filter tag="highway" value="cycleway" order="39"/>
 
 			<!-- byway is deprecated tag, describes UK-only road. Proper tag should be highway=track or highway=path -->
-			 <filter layer="1" tag="highway" value="byway" order="67"/>
+			<filter layer="1" tag="highway" value="byway" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="byway" order="60"/>
 			<filter appMode="bicycle" tag="highway" value="byway" order="59"/>
 			<filter tag="highway" value="byway" order="37"/>
 
-			 <filter layer="1" tag="highway" value="track" order="67"/>
+			<filter layer="1" tag="highway" value="track" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="track" order="60"/>
 			<filter tag="highway" value="track" order="37"/>
 			<!-- Additional attributes can be used in this way: additional="tracktype=grade1" -->
 
-			 <filter layer="1" tag="highway" value="path" order="67"/>
+			<filter layer="1" tag="highway" value="path" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="path" order="60"/>
 			<filter tag="highway" value="path" order="37"/>
 
-			 <filter layer="1" tag="highway" value="footway" order="67"/>
+			<filter layer="1" tag="highway" value="footway" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="footway" order="60"/>
 			<filter tag="highway" value="footway" order="37"/>
 
-			 <filter layer="1" tag="highway" value="steps" order="67"/>
+			<filter layer="1" tag="highway" value="steps" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="steps" order="61"/>
 			<filter tag="highway" value="steps" order="38"/>
 
-			 <filter layer="1" tag="highway" value="bridleway" order="67"/>
+			<filter layer="1" tag="highway" value="bridleway" order="67"/>
 			<filter appMode="pedestrian" tag="highway" value="bridleway" order="59"/>
 			<filter tag="highway" value="bridleway" order="36"/>
 			
 			<filter tag="natural" value="coastline_broken" order="35"/> 
 			<filter tag="contour" value="" order="15"/>
+			<filter tag="route" value="ferry" order="35"/>
 		</group>
 
 		<filter tag="barrier" value="" order="20" objectType="2" point="false"/>
@@ -370,6 +371,7 @@
 
 		<filter minzoom="3" textSize="14" textColor="#9d6c9d" textWrapWidth="35" tag="natural" value="coastline"/>
 		<filter minzoom="3" textSize="14" textColor="#9d6c9d" textWrapWidth="35" tag="natural" value="land"/>
+		<filter minzoom="3" textSize="14" textColor="#9d6c9d" textWrapWidth="35" tag="route" value="ferry"/>
 		<!-- Location names -->
 		<filter minzoom="3" textSize="14" textColor="#9d6c9d" textWrapWidth="20" tag="place" value="country"/>
 		<filter minzoom="4" textSize="14" textColor="#9d6c9d" textWrapWidth="20" tag="place" value="state"/>
@@ -1249,6 +1251,7 @@
 		<filter contourLines="11" tag="contour" value="elevation" minzoom="11" color="#2Aff7c00" strokeWidth="1"/>
 		<filter contourLines="12" tag="contour" value="elevation" minzoom="12" color="#2Aff7c00" strokeWidth="1"/>
 		<filter contourLines="13" tag="contour" value="elevation" minzoom="13" color="#2Aff7c00" strokeWidth="1"/>
+		<filter tag="route" value="ferry" minzoom="11" color="#0000ff" strokeWidth="2" pathEffect="6_3"/>
 
 		<!-- Barriers -->
 		<filter minzoom="16" color="#333333" strokeWidth="1" tag="highway" value="gate"/>
diff --git a/DataExtractionOSM/src/net/osmand/router/routing.xml b/DataExtractionOSM/src/net/osmand/router/routing.xml
index 546cc4f392b..7e6fe6aec82 100644
--- a/DataExtractionOSM/src/net/osmand/router/routing.xml
+++ b/DataExtractionOSM/src/net/osmand/router/routing.xml
@@ -63,6 +63,8 @@
 		<!-- too small for cars usually -->
 		<highway value="living_street" speed="25" priority="0.5" dynamicPriority="0.5"/>
 		<!-- car are able to enter in highway=pedestrian with restrictions -->
+		<!-- Time actually is uknown. Currently unsupported -->
+		<road tag="route" value="ferry" speed="15" priority="0.7" dynamicPriority="0.7"/>
 
 		<obstacle tag="highway" value="traffic_signals" penalty="35"/>
 		<obstacle tag="railway" value="crossing" penalty="25"/>
