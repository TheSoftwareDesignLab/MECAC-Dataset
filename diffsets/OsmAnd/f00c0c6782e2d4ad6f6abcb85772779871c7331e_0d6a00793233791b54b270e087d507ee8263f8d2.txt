diff --git a/OsmAnd-api/src/net/osmand/aidlapi/OsmAndCustomizationConstants.java b/OsmAnd-api/src/net/osmand/aidlapi/OsmAndCustomizationConstants.java
index 5e9c2a090b7..2a87cc1b2a6 100644
--- a/OsmAnd-api/src/net/osmand/aidlapi/OsmAndCustomizationConstants.java
+++ b/OsmAnd-api/src/net/osmand/aidlapi/OsmAndCustomizationConstants.java
@@ -32,6 +32,7 @@ public interface OsmAndCustomizationConstants {
 	String DRAWER_BUILDS_ID = DRAWER_ITEM_ID_SCHEME + "builds";
 	String DRAWER_DIVIDER_ID = DRAWER_ITEM_ID_SCHEME + "divider";
 	String DRAWER_OSMAND_VERSION_ID = DRAWER_ITEM_ID_SCHEME + "osmand_version";
+	String DRAWER_VEHICLE_METRICS_ID = DRAWER_ITEM_ID_SCHEME + "vehicle_metrics";
 
 	// Configure Map:
 	String CONFIGURE_MAP_ITEM_ID_SCHEME = "map.configure.";
diff --git a/OsmAnd-shared/src/commonMain/kotlin/net/osmand/shared/obd/OBDDataComputer.kt b/OsmAnd-shared/src/commonMain/kotlin/net/osmand/shared/obd/OBDDataComputer.kt
index 8bd32103e3e..ea424b326bf 100644
--- a/OsmAnd-shared/src/commonMain/kotlin/net/osmand/shared/obd/OBDDataComputer.kt
+++ b/OsmAnd-shared/src/commonMain/kotlin/net/osmand/shared/obd/OBDDataComputer.kt
@@ -9,6 +9,7 @@ import net.osmand.shared.util.KMapUtils
 import net.osmand.shared.util.LoggerFactory
 import kotlin.math.max
 import net.osmand.shared.obd.OBDCommand.*
+import net.osmand.shared.util.Localization
 
 object OBDDataComputer {
 
@@ -90,22 +91,26 @@ object OBDDataComputer {
 
 	enum class OBDTypeWidget(
 		val locationNeeded: Boolean,
-		val requiredCommand: OBDCommand
+		val requiredCommand: OBDCommand,
+		val nameId: String
 	) {
-		SPEED(false, OBD_SPEED_COMMAND),
-		RPM(false, OBD_RPM_COMMAND),
-		FUEL_LEFT_DISTANCE(true, OBD_FUEL_LEVEL_COMMAND),
+		SPEED(false, OBD_SPEED_COMMAND, "shared_string_speed"),
+		RPM(false, OBD_RPM_COMMAND, "obd_rpm"),
+		FUEL_LEFT_DISTANCE(true, OBD_FUEL_LEVEL_COMMAND, "obd_fuel_left_distance"),
+		//	FUEL_LEFT_LITERS(false, OBD_FUEL_LEVEL_COMMAND, "obd_fuel_left_liters"),
+		FUEL_LEFT_PERCENT(false, OBD_FUEL_LEVEL_COMMAND, "obd_fuel_level"),
+		FUEL_CONSUMPTION_RATE(false, OBD_FUEL_LEVEL_COMMAND, "obd_fuel_consumption_rate"),
+		FUEL_CONSUMPTION_RATE_SENSOR(false, OBD_FUEL_CONSUMPTION_RATE_COMMAND, "obd_fuel_consumption_rate"),
+		TEMPERATURE_INTAKE(false, OBD_AIR_INTAKE_TEMP_COMMAND, "obd_air_intake_temp"),
+		TEMPERATURE_AMBIENT(false, OBD_AMBIENT_AIR_TEMPERATURE_COMMAND, "obd_ambient_air_temp"),
+		BATTERY_VOLTAGE(false, OBD_BATTERY_VOLTAGE_COMMAND, "obd_battery_voltage"),
+		FUEL_TYPE(false, OBD_FUEL_TYPE_COMMAND, "obd_fuel_type"),
+		VIN(false, OBD_VIN_COMMAND, "obd_vin"),
+		TEMPERATURE_COOLANT(false, OBD_ENGINE_COOLANT_TEMP_COMMAND, "obd_engine_coolant_temp");
 
-		//	FUEL_LEFT_LITERS(false, OBD_FUEL_LEVEL_COMMAND),
-		FUEL_LEFT_PERCENT(false, OBD_FUEL_LEVEL_COMMAND),
-		FUEL_CONSUMPTION_RATE(false, OBD_FUEL_LEVEL_COMMAND),
-		FUEL_CONSUMPTION_RATE_SENSOR(false, OBD_FUEL_CONSUMPTION_RATE_COMMAND),
-		TEMPERATURE_INTAKE(false, OBD_AIR_INTAKE_TEMP_COMMAND),
-		TEMPERATURE_AMBIENT(false, OBD_AMBIENT_AIR_TEMPERATURE_COMMAND),
-		BATTERY_VOLTAGE(false, OBD_BATTERY_VOLTAGE_COMMAND),
-		FUEL_TYPE(false, OBD_FUEL_TYPE_COMMAND),
-		VIN(false, OBD_VIN_COMMAND),
-		TEMPERATURE_COOLANT(false, OBD_ENGINE_COOLANT_TEMP_COMMAND);
+		fun getTitle(): String {
+			return Localization.getString(nameId)
+		}
 	}
 
 	private fun averageNumber(values: List<OBDDataField<Any>>): Double? =
diff --git a/OsmAnd-shared/src/commonTest/kotlin/net/osmand/shared/FiltersTest.kt b/OsmAnd-shared/src/commonTest/kotlin/net/osmand/shared/FiltersTest.kt
index fc1c51e098d..437a6c8a799 100644
--- a/OsmAnd-shared/src/commonTest/kotlin/net/osmand/shared/FiltersTest.kt
+++ b/OsmAnd-shared/src/commonTest/kotlin/net/osmand/shared/FiltersTest.kt
@@ -49,9 +49,6 @@ class FiltersTest {
 	}
 
 	val oldFilters = "[{\"creationTime\":1711549807641,\"filters\":[{\"valueFrom\":1388586638305,\"valueTo\":1420036231189,\"filterType\":\"DATE_CREATION\"}],\"folderName\":\"2014\"},{\"creationTime\":1713438258313,\"filters\":[{\"isSelectAllItemsSelected\":true,\"selectedItems\":[\"Göynük\"],\"filterType\":\"CITY\"}],\"folderName\":\"Turkey \"},{\"creationTime\":1715850761874,\"filters\":[{\"maxValue\":83.33332824707031,\"minValue\":0.0,\"valueFrom\":0.0,\"valueTo\":23.33333396911621,\"filterType\":\"AVERAGE_SPEED\"}],\"folderName\":\"Crash\"}]"
-//	val oldFilters = "[{\"creationTime\":1711549807641,\"filters\":[{\"valueFrom\":1388586638305,\"valueTo\":1420036231189,\"filterType\":\"DATE_CREATION\"}],\"folderName\":\"2014\"},{\"creationTime\":1713438258313,\"filters\":[{\"isSelectAllItemsSelected\":false,\"selectedItems\":[\"Göynük\"],\"filterType\":\"CITY\"}],\"folderName\":\"Turkey \"},{\"creationTime\":1715850761874,\"filters\":[{\"maxValue\":83.33332824707031,\"minValue\":0.0,\"valueFrom\":0.0,\"valueTo\":23.33333396911621,\"filterType\":\"AVERAGE_SPEED\"}],\"folderName\":\"Crash\"}] cached=[{\"folderName\":\"2014\",\"creationTime\":1711549807641,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.DateTrackFilter\",\"filterType\":\"DATE_CREATION\",\"valueFrom\":1251682533000,\"valueTo\":1730300878211}]},{\"folderName\":\"Turkey \",\"creationTime\":1713438258313,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.ListTrackFilter\",\"filterType\":\"CITY\",\"selectedItems\":[\"Göynük\"],\"allItems\":[\"Göynük\"],\"allItemsCollection\":{\"Göynük\":0}}]},{\"folderName\":\"Crash\",\"creationTime\":1715850761874,\"filters\":[{\"className\":\"RangeTrackFilter\",\"filterType\":\"AVERAGE_SPEED\",\"minValue\":0.0,\"maxValue\":83.33332824707031,\"valueFrom\":0.0,\"valueTo\":23.33333396911621}]},{\"folderName\":\"Kyiv\",\"creationTime\":1728309759264,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.ListTrackFilter\",\"filterType\":\"CITY\",\"selectedItems\":[\"Київ\"],\"allItems\":[\"Київ\",\"Amstelveen\",\"Berlin\",\"Aosta - Aoste\",\"Leiden\",\"Bolzano - Bozen\",\"Dresden\",\"Christchurch\",\"בית שמש\",\"Владимир\",\"Waltrop\",\"Waltham\",\"Pamplona / Iruña\",\"Marlborough\",\"Göynük\",\"Firenze\",\"Falkensee\",\"Emsdetten\",\"Cuneo\",\"Ahrensdorf\"],\"allItemsCollection\":{\"Cuneo\":1,\"Christchurch\":2,\"Marlborough\":1,\"Dresden\":2,\"Berlin\":6,\"Pamplona / Iruña\":1,\"Amstelveen\":8,\"Aosta - Aoste\":4,\"Leiden\":3,\"Waltrop\":1,\"Waltham\":1,\"Falkensee\":1,\"Київ\":21,\"Firenze\":1,\"Bolzano - Bozen\":3,\"בית שמש\":1,\"Göynük\":1,\"Ahrensdorf\":1,\"Emsdetten\":1,\"Владимир\":1}}]}]"
-//	val oldFilters = "[{\"creationTime\":1711549807641,\"filters\":[{\"valueFrom\":1388586638305,\"valueTo\":1420036231189,\"filterType\":\"DATE_CREATION\"}],\"folderName\":\"2014\"},{\"creationTime\":1713438258313,\"filters\":[{\"isSelectAllItemsSelected\":false,\"selectedItems\":[\"Göynük\"],\"filterType\":\"CITY\"}],\"folderName\":\"Turkey \"},{\"creationTime\":1715850761874,\"filters\":[{\"maxValue\":83.33332824707031,\"minValue\":0.0,\"valueFrom\":0.0,\"valueTo\":23.33333396911621,\"filterType\":\"AVERAGE_SPEED\"}],\"folderName\":\"Crash\"}]"
-//	val oldFilters = "[{\"folderName\":\"2014\",\"creationTime\":1711549807641,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.DateTrackFilter\",\"filterType\":\"DATE_CREATION\",\"valueFrom\":1251682533000,\"valueTo\":1730300878211}]},{\"folderName\":\"Turkey \",\"creationTime\":1713438258313,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.ListTrackFilter\",\"filterType\":\"CITY\",\"selectedItems\":[\"Göynük\"],\"allItems\":[\"Göynük\"],\"allItemsCollection\":{\"Göynük\":0}}]},{\"folderName\":\"Crash\",\"creationTime\":1715850761874,\"filters\":[{\"className\":\"RangeTrackFilter\",\"filterType\":\"AVERAGE_SPEED\",\"minValue\":0.0,\"maxValue\":83.33332824707031,\"valueFrom\":0.0,\"valueTo\":23.33333396911621}]},{\"folderName\":\"Kyiv\",\"creationTime\":1728309759264,\"filters\":[{\"className\":\"net.osmand.shared.gpx.filters.ListTrackFilter\",\"filterType\":\"CITY\",\"selectedItems\":[\"Київ\"],\"allItems\":[\"Київ\",\"Amstelveen\",\"Berlin\",\"Aosta - Aoste\",\"Leiden\",\"Bolzano - Bozen\",\"Dresden\",\"Christchurch\",\"בית שמש\",\"Владимир\",\"Waltrop\",\"Waltham\",\"Pamplona / Iruña\",\"Marlborough\",\"Göynük\",\"Firenze\",\"Falkensee\",\"Emsdetten\",\"Cuneo\",\"Ahrensdorf\"],\"allItemsCollection\":{\"Cuneo\":1,\"Christchurch\":2,\"Marlborough\":1,\"Dresden\":2,\"Berlin\":6,\"Pamplona / Iruña\":1,\"Amstelveen\":8,\"Aosta - Aoste\":4,\"Leiden\":3,\"Waltrop\":1,\"Waltham\":1,\"Falkensee\":1,\"Київ\":21,\"Firenze\":1,\"Bolzano - Bozen\":3,\"בית שמש\":1,\"Göynük\":1,\"Ahrensdorf\":1,\"Emsdetten\":1,\"Владимир\":1}}]}]"
 
 	@Test
 	fun testLoadOldFilters() {
diff --git a/OsmAnd/res/layout/connected_device_card.xml b/OsmAnd/res/layout/connected_device_card.xml
new file mode 100644
index 00000000000..bb93be5655f
--- /dev/null
+++ b/OsmAnd/res/layout/connected_device_card.xml
@@ -0,0 +1,112 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+	xmlns:app="http://schemas.android.com/apk/res-auto"
+	xmlns:tools="http://schemas.android.com/tools"
+	android:layout_width="match_parent"
+	android:layout_height="wrap_content"
+	android:background="?attr/appbar_and_list_background_color"
+	android:elevation="2dp"
+	android:orientation="vertical">
+
+	<ImageButton
+		android:id="@+id/close_button"
+		style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
+		android:layout_width="@dimen/toolbar_height"
+		android:layout_height="@dimen/toolbar_height"
+		android:contentDescription="@string/access_shared_string_navigate_up"
+		app:srcCompat="@drawable/ic_arrow_back"
+		app:tint="?attr/default_icon_color" />
+
+	<LinearLayout
+		android:layout_width="match_parent"
+		android:layout_height="wrap_content"
+		android:orientation="horizontal">
+
+		<ImageView
+			android:id="@+id/widget_icon"
+			android:layout_width="wrap_content"
+			android:layout_height="wrap_content"
+			android:layout_marginLeft="@dimen/content_padding"
+			android:layout_marginRight="@dimen/content_padding"
+			android:background="@drawable/bg_widget_type_icon_light"
+			android:importantForAccessibility="no"
+			android:scaleType="center"
+			tools:src="@drawable/widget_sensor_distance_day" />
+
+		<LinearLayout
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:orientation="vertical">
+
+			<TextView
+				android:id="@+id/device_name"
+				android:layout_width="wrap_content"
+				android:layout_height="0dp"
+				android:layout_weight="1"
+				android:textSize="@dimen/dialog_header_text_size"
+				app:typefaceWeight="medium"
+				tools:text="Wohoo" />
+
+			<TextView
+				android:id="@+id/connection_state"
+				android:layout_width="wrap_content"
+				android:layout_height="wrap_content"
+				android:layout_gravity="bottom"
+				android:drawablePadding="@dimen/content_padding_small_half"
+				android:gravity="bottom|start"
+				android:textColor="?android:textColorSecondary"
+				android:textSize="@dimen/default_desc_text_size"
+				tools:drawableStartCompat="@drawable/ic_action_signal_high"
+				tools:text="Disconnected" />
+
+		</LinearLayout>
+
+	</LinearLayout>
+
+	<FrameLayout
+		android:id="@+id/pair_btn"
+		android:layout_width="match_parent"
+		android:layout_height="@dimen/dialog_button_height"
+		android:layout_margin="@dimen/content_padding">
+
+		<FrameLayout
+			android:id="@+id/button_container"
+			android:layout_width="match_parent"
+			android:layout_height="match_parent"
+			android:duplicateParentState="true"
+			tools:ignore="UselessParent">
+
+			<net.osmand.plus.widgets.TextViewEx
+				android:id="@+id/button_text"
+				android:layout_width="match_parent"
+				android:layout_height="match_parent"
+				android:layout_gravity="center"
+				android:drawablePadding="@dimen/content_padding_half"
+				android:duplicateParentState="true"
+				android:gravity="center"
+				android:paddingStart="@dimen/content_padding_small"
+				android:paddingLeft="@dimen/content_padding_small"
+				android:paddingEnd="@dimen/content_padding_small"
+				android:paddingRight="@dimen/content_padding_small"
+				android:textSize="@dimen/default_desc_text_size"
+				app:typefaceWeight="medium"
+				tools:text="Pair"
+				tools:visibility="gone" />
+
+			<me.zhanghai.android.materialprogressbar.MaterialProgressBar
+				android:id="@+id/progress_bar"
+				style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
+				android:layout_width="120dp"
+				android:layout_height="4dp"
+				android:layout_gravity="center"
+				android:indeterminate="true"
+				android:visibility="gone"
+				app:mpb_progressStyle="horizontal"
+				app:mpb_useIntrinsicPadding="false"
+				tools:visibility="visible" />
+
+		</FrameLayout>
+
+	</FrameLayout>
+
+</LinearLayout>
diff --git a/OsmAnd/res/layout/fragment_external_device_details.xml b/OsmAnd/res/layout/fragment_external_device_details.xml
index 6c609e41da1..4863adf9f48 100644
--- a/OsmAnd/res/layout/fragment_external_device_details.xml
+++ b/OsmAnd/res/layout/fragment_external_device_details.xml
@@ -15,124 +15,7 @@
 		android:layout_height="match_parent"
 		android:orientation="vertical">
 
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:background="?attr/appbar_and_list_background_color"
-			android:elevation="2dp"
-			android:orientation="vertical">
-
-			<ImageButton
-				android:id="@+id/close_button"
-				style="@style/Widget.AppCompat.Toolbar.Button.Navigation"
-				android:layout_width="@dimen/toolbar_height"
-				android:layout_height="@dimen/toolbar_height"
-				android:contentDescription="@string/access_shared_string_navigate_up"
-				android:tint="?attr/default_icon_color"
-				app:srcCompat="@drawable/ic_arrow_back" />
-
-			<LinearLayout
-				android:layout_width="match_parent"
-				android:layout_height="wrap_content"
-				android:orientation="horizontal">
-
-				<ImageView
-					android:id="@+id/widget_icon"
-					android:layout_width="wrap_content"
-					android:layout_height="wrap_content"
-					android:layout_marginLeft="@dimen/content_padding"
-					android:layout_marginRight="@dimen/content_padding"
-					android:background="@drawable/bg_widget_type_icon_light"
-					android:scaleType="center"
-					tools:src="@drawable/widget_sensor_distance_day" />
-
-				<LinearLayout
-					android:layout_width="match_parent"
-					android:layout_height="match_parent"
-					android:orientation="vertical">
-
-					<TextView
-						android:id="@+id/device_name"
-						android:layout_width="wrap_content"
-						android:layout_height="wrap_content"
-						android:textSize="@dimen/dialog_header_text_size"
-						app:typefaceWeight="medium"
-						tools:text="Wohoo" />
-
-					<LinearLayout
-						android:layout_width="wrap_content"
-						android:layout_height="0dp"
-						android:layout_weight="1"
-						android:orientation="horizontal">
-
-						<ImageView
-							android:id="@+id/connection_state_icon"
-							android:layout_width="wrap_content"
-							android:layout_height="wrap_content"
-							android:layout_gravity="bottom"
-							tools:src="@drawable/ic_action_signal_high" />
-
-						<TextView
-							android:id="@+id/connection_state"
-							android:layout_width="match_parent"
-							android:layout_height="match_parent"
-							android:layout_marginStart="@dimen/content_padding_small_half"
-							android:gravity="bottom|start"
-							android:textColor="?android:textColorSecondary"
-							android:textSize="@dimen/default_desc_text_size"
-							tools:text="Disconnected" />
-
-					</LinearLayout>
-
-				</LinearLayout>
-
-			</LinearLayout>
-
-			<FrameLayout
-				android:id="@+id/pair_btn"
-				android:layout_width="match_parent"
-				android:layout_height="@dimen/dialog_button_height"
-				android:layout_margin="@dimen/content_padding">
-
-				<FrameLayout
-					android:id="@+id/button_container"
-					android:layout_width="match_parent"
-					android:layout_height="match_parent"
-					android:duplicateParentState="true"
-					tools:ignore="UselessParent">
-
-					<net.osmand.plus.widgets.TextViewEx
-						android:id="@+id/button_text"
-						android:layout_width="match_parent"
-						android:layout_height="match_parent"
-						android:layout_gravity="center"
-						android:drawablePadding="@dimen/content_padding_half"
-						android:duplicateParentState="true"
-						android:gravity="center"
-						android:paddingStart="@dimen/content_padding_small"
-						android:paddingLeft="@dimen/content_padding_small"
-						android:paddingEnd="@dimen/content_padding_small"
-						android:paddingRight="@dimen/content_padding_small"
-						android:textSize="@dimen/default_desc_text_size"
-						app:typefaceWeight="medium"
-						tools:text="Pair"
-						tools:visibility="gone" />
-
-					<me.zhanghai.android.materialprogressbar.MaterialProgressBar
-						android:id="@+id/progress_bar"
-						style="@style/Widget.MaterialProgressBar.ProgressBar.Horizontal"
-						android:layout_width="120dp"
-						android:layout_height="4dp"
-						android:layout_gravity="center"
-						android:indeterminate="true"
-						android:visibility="gone"
-						app:mpb_progressStyle="horizontal"
-						app:mpb_useIntrinsicPadding="false"
-						tools:visibility="visible" />
-
-				</FrameLayout>
-			</FrameLayout>
-		</LinearLayout> <!--HEADER-->
+		<include layout="@layout/connected_device_card" />
 
 		<ScrollView
 			android:layout_width="match_parent"
diff --git a/OsmAnd/res/layout/fragment_obd_main.xml b/OsmAnd/res/layout/fragment_obd_main.xml
index cb046876980..7b2306d5b36 100644
--- a/OsmAnd/res/layout/fragment_obd_main.xml
+++ b/OsmAnd/res/layout/fragment_obd_main.xml
@@ -3,252 +3,85 @@
 	xmlns:app="http://schemas.android.com/apk/res-auto"
 	android:layout_width="match_parent"
 	android:layout_height="match_parent"
-	android:background="?attr/bg_color"
+	android:background="?attr/activity_background_color"
 	android:clickable="true"
-	android:fitsSystemWindows="false"
-	android:orientation="vertical"
-	android:focusable="true">
-
-	<com.google.android.material.appbar.AppBarLayout
-		android:id="@+id/appbar"
-		android:layout_width="match_parent"
-		android:layout_height="@dimen/toolbar_height"
-		android:background="?attr/actionModeBackground">
-
-		<androidx.appcompat.widget.Toolbar
-			android:id="@+id/toolbar"
-			android:layout_width="match_parent"
-			android:layout_height="@dimen/toolbar_height" />
-
-	</com.google.android.material.appbar.AppBarLayout>
+	android:focusable="true"
+	android:orientation="vertical">
 
 	<LinearLayout
+		android:id="@+id/content"
 		android:layout_width="match_parent"
-		android:layout_height="wrap_content"
-		android:layout_marginTop="@dimen/content_padding"
+		android:layout_height="match_parent"
 		android:orientation="vertical">
 
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn1"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp1"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
+		<include layout="@layout/connected_device_card" />
 
-		<LinearLayout
+		<ScrollView
 			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal"
-			android:visibility="gone">
-
-			<ToggleButton
-				android:id="@+id/btn2"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp2"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn3"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp3"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn4"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp4"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn5"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp5"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn6"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp6"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn7"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp7"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn8"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp8"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn9"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp9"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="wrap_content"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn10"
-				android:layout_width="250dp"
-				android:layout_height="40dp" />
-
-			<EditText
-				android:id="@+id/resp10"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn11"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp11"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn12"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
-
-			<EditText
-				android:id="@+id/resp12"
-				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
-
-		<LinearLayout
-			android:layout_width="match_parent"
-			android:layout_height="60dp"
-			android:orientation="horizontal">
-
-			<ToggleButton
-				android:id="@+id/btn13"
-				android:layout_width="250dp"
-				android:layout_height="match_parent" />
+			android:layout_height="match_parent">
 
-			<EditText
-				android:id="@+id/resp13"
+			<LinearLayout
 				android:layout_width="match_parent"
-				android:layout_height="match_parent"
-				android:layout_marginLeft="@dimen/content_padding_half" />
-		</LinearLayout>
+				android:layout_height="wrap_content"
+				android:layout_marginTop="@dimen/content_padding_small"
+				android:orientation="vertical"
+				android:paddingBottom="@dimen/content_padding_half">
+
+				<LinearLayout
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginTop="@dimen/content_padding_small"
+					android:layout_marginBottom="@dimen/content_padding_small"
+					android:background="?attr/list_background_color"
+					android:elevation="2dp"
+					android:orientation="vertical">
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:gravity="center_vertical"
+						android:padding="@dimen/content_padding"
+						android:text="@string/obd_vehicle_info"
+						android:textSize="@dimen/default_list_text_size"
+						app:typefaceWeight="medium" />
+
+					<LinearLayout
+						android:id="@+id/info_container"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:orientation="vertical" />
+
+				</LinearLayout>
+
+				<LinearLayout
+					android:layout_width="match_parent"
+					android:layout_height="wrap_content"
+					android:layout_marginTop="@dimen/content_padding_small"
+					android:layout_marginBottom="@dimen/content_padding_small"
+					android:background="?attr/list_background_color"
+					android:elevation="2dp"
+					android:orientation="vertical">
+
+					<net.osmand.plus.widgets.TextViewEx
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:gravity="center_vertical"
+						android:padding="@dimen/content_padding"
+						android:text="@string/external_device_details_received_data"
+						android:textSize="@dimen/default_list_text_size"
+						app:typefaceWeight="medium" />
+
+					<LinearLayout
+						android:id="@+id/data_container"
+						android:layout_width="match_parent"
+						android:layout_height="wrap_content"
+						android:orientation="vertical" />
+
+				</LinearLayout>
+
+			</LinearLayout>
+
+		</ScrollView>
 
 	</LinearLayout>
 
diff --git a/OsmAnd/res/values-ru/strings.xml b/OsmAnd/res/values-ru/strings.xml
index ff90acb10dd..d418b4b801b 100644
--- a/OsmAnd/res/values-ru/strings.xml
+++ b/OsmAnd/res/values-ru/strings.xml
@@ -5984,5 +5984,5 @@
     <string name="release_4_9">• Добавлен полноэкранный просмотр галереи изображений из Викимедиа\n\n• Добавлен новый плагин «Показатели ТС» для мониторинга производительности транспортного средства с использованием протокола OBD-II\n\n• Добавлена возможность назначать трекам активности и фильтровать их соответствующим образом\n\n• Реализованы новые быстрые действия для записи маршрута и блокировки сенсорного экрана\n\n• Введены настраиваемый внешний вид кнопок на карте и сетка для их привязки\n\n• Добавлено контекстное меню и действие «Сбросить среднюю скорость» для виджетов\n\n• Добавлен новый слой маршрута «Трассы для мотокросса»\n\n• Исправлена функция «Автозапись трека при навигации»\n\n• Исправлена проблема с перевернутыми координатами в RTL\n\n• Исправлено отсутствие данных датчиков для текущего записываемого трека\n\n• Добавлена информация об окружающих областях для выбранной точки\n\n• Добавлено быстрое действие для управления видимостью правок OSM\n\n• Разделены параметры видимости для опций окраски рельефа\n\n• Добавлен значок, который можно нажимать для отображения доступа или других атрибутов дороги или пути\n\n</string>
     <string name="screen_is_unlocked">Сенсорный экран разблокирован.</string>
     <string name="screen_is_locked_by_action_button">Сенсорный экран заблокирован. Нажмите кнопку для разблокировки.</string>
-    <string name="screen_is_locked_by_external_button">Сенсорный экран заблокирован. Для разблокировки, нажмите кнопку %1$ или коснитесь кнопки на экране.</string>
+    <string name="screen_is_locked_by_external_button">Сенсорный экран заблокирован. Для разблокировки, нажмите кнопку %1$s или коснитесь кнопки на экране.</string>
 </resources>
\ No newline at end of file
diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index b0a142f6596..3b4e83dc4c5 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,6 +10,14 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
+    <string name="obd_vehicle_info">Vehicle info</string>
+    <string name="connect_obd_instructions_title">OsmAnd supports Bluetooth connections to OBD-II scanners.</string>
+    <string name="obd_how_to_connect">How to connect:</string>
+    <string name="connect_obd_instructions_step1">1. Connect the scanner to your vehicle\'s OBD-II port.</string>
+    <string name="connect_obd_instructions_step2">2. Turn on your vehicle\'s engine</string>
+    <string name="connect_obd_instructions_step3">3. Enable Bluetooth on your device</string>
+    <string name="connect_obd_instructions_step4">4. Tap \'Connect,\' and select your scanner from the list.</string>
+    <string name="learn_more_about_obd_sensors">Learn more about sensors.</string>
     <string name="screen_is_locked_by_external_button">Touch screen is locked. To unlock, press the "%1$s" button, or tap the on-screen button.</string>
     <string name="screen_is_unlocked">Touch screen is unlocked.</string>
     <string name="screen_is_locked_by_action_button">Touch screen is locked. Tap on button to unlock.</string>
@@ -22,21 +30,13 @@
         • Added a context menu and a \"Reset average speed\" action to widgets\n\n
         • Added new route layer \"Dirt Bike trails\"\n\n
         • Fixed \"Auto-record track during navigation\"\n\n
-        • Fixed issue with fliped coordinates in RTL\n\n
+        • Fixed issue with flipped coordinates in RTL\n\n
         • Fixed missed sensor data for currently recording track\n\n
         • Added information about surrounding areas for the selected point\n\n
         • Added quick action to control visibility of OSM Edits\n\n
         • Separated visibility parameters for Terrain colorization options\n\n
         • Added a tappable icon to display access or other road or path attributes\n\n
     </string>
-
-    <string name="connect_obd_instructions_title">OsmAnd supports Bluetooth connections to OBD-II scanners.</string>
-    <string name="obd_how_to_connect">How to connect:</string>
-    <string name="connect_obd_instructions_step1">1. Connect the scanner to your vehicle\'s OBD-II port.</string>
-    <string name="connect_obd_instructions_step2">2. Turn on your vehicle\'s engine</string>
-    <string name="connect_obd_instructions_step3">3. Enable Bluetooth on your device</string>
-    <string name="connect_obd_instructions_step4">4. Tap \'Connect,\' and select your scanner from the list.</string>
-    <string name="learn_more_about_obd_sensors_link">Learn more about sensors.</string>
     <string name="quick_action_showhide_osm_edits_descr">Button to show or hide local OSM edits on the map.</string>
 	<string name="liter_per_hour">l/h</string>
 	<string name="lock_screen_description">Enables or disables touch screen functionality to prevent accidental taps</string>
@@ -132,6 +132,7 @@
     <string name="obd_fuel_consumption_rate">Fuel consumption rate</string>
     <string name="obd_fuel_consumption_rate_desc">Shows vehicle fuel consumption rate based on OBD an location</string>
     <string name="obd_fuel_left_distance">Fuel left (distance)</string>
+    <string name="obd_fuel_left_liters">Fuel left (liters)</string>
     <string name="obd_fuel_type">Fuel type</string>
 
 
@@ -239,7 +240,6 @@
     <string name="quick_action_verb_turn_on_off">Turn On / Off</string>
     <string name="quick_action_verb_start_stop">Start / Stop</string>
     <string name="weather_screen">Weather screen</string>
-
     <string name="shared_string_all_icons">All icons</string>
     <string name="profile_icon">Profile icon</string>
     <string name="navigation_position_icon_summary">Icon displayed while you\'re navigating or moving.</string>
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
index f53f2999cdc..f8afff6c437 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
@@ -3,6 +3,7 @@ package net.osmand.plus.plugins.externalsensors.dialogs
 import android.annotation.SuppressLint
 import android.os.Bundle
 import android.view.View
+import android.widget.ImageButton
 import android.widget.ImageView
 import android.widget.TextView
 import androidx.annotation.ColorRes
@@ -83,14 +84,11 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
     }
 
     override fun setupToolbar(view: View) {
-        val closeButton = view.findViewById<View>(R.id.close_button)
-        if (closeButton != null) {
-            closeButton.setOnClickListener {
+        view.findViewById<ImageButton>(R.id.close_button).apply {
+            setOnClickListener {
                 requireActivity().onBackPressed()
             }
-            if (closeButton is ImageView) {
-                UiUtilities.rotateImageByLayoutDirection(closeButton)
-            }
+           setImageResource(AndroidUtils.getNavigationIconResId(context))
         }
     }
 
@@ -155,8 +153,8 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
             app.getString(connectedTextId),
             getConnectionTypeName()
         )
-        val connectionStateIcon: ImageView = view.findViewById(R.id.connection_state_icon)
-        connectionStateIcon.setImageDrawable(signalLevelIcon)
+        connectionState?.setCompoundDrawablesWithIntrinsicBounds(signalLevelIcon, null, null, null);
+
         var batteryLevelValue = device.batteryLevel.toString()
         batteryLevel?.text = batteryLevelValue
         if (device.batteryLevel == BATTERY_UNKNOWN_LEVEL_VALUE) {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/odb/VehicleMetricsPlugin.kt b/OsmAnd/src/net/osmand/plus/plugins/odb/VehicleMetricsPlugin.kt
index ee4396c8282..b80b987ea8f 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/odb/VehicleMetricsPlugin.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/odb/VehicleMetricsPlugin.kt
@@ -12,13 +12,13 @@ import com.google.gson.reflect.TypeToken
 import net.osmand.Location
 import net.osmand.PlatformUtil
 import net.osmand.aidlapi.OsmAndCustomizationConstants
+import net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_VEHICLE_METRICS_ID
 import net.osmand.plus.OsmandApplication
 import net.osmand.plus.R
 import net.osmand.plus.activities.MapActivity
 import net.osmand.plus.plugins.OsmandPlugin
 import net.osmand.plus.plugins.odb.dialogs.OBDDevicesListFragment
 import net.osmand.plus.settings.backend.ApplicationMode
-import net.osmand.plus.settings.backend.ApplicationModeBean
 import net.osmand.plus.settings.backend.OsmandSettings
 import net.osmand.plus.settings.backend.preferences.CommonPreference
 import net.osmand.plus.settings.fragments.SettingsScreenType
@@ -195,7 +195,7 @@ class VehicleMetricsPlugin(app: OsmandApplication) : OsmandPlugin(app),
 		mapActivity: MapActivity,
 		helper: ContextMenuAdapter) {
 		if (isActive) {
-			helper.addItem(ContextMenuItem(OsmAndCustomizationConstants.DRAWER_ANT_PLUS_ID)
+			helper.addItem(ContextMenuItem(DRAWER_VEHICLE_METRICS_ID)
 				.setTitleId(R.string.obd_plugin_name, mapActivity)
 				.setIcon(R.drawable.ic_action_sensor)
 				.setListener { _: OnDataChangeUiAdapter?, _: View?, _: ContextMenuItem?, _: Boolean ->
diff --git a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesBaseFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesBaseFragment.kt
index 40889a49d0a..943e6b3adca 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesBaseFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesBaseFragment.kt
@@ -18,11 +18,12 @@ import net.osmand.plus.utils.AndroidUtils
 import net.osmand.plus.utils.ColorUtilities
 
 abstract class OBDDevicesBaseFragment : BaseOsmAndFragment() {
-	protected var vehicleMetricsPlugin: VehicleMetricsPlugin? = null
+
+	protected var plugin: VehicleMetricsPlugin? = null
+
 	override fun onCreate(savedInstanceState: Bundle?) {
 		super.onCreate(savedInstanceState)
-		vehicleMetricsPlugin = PluginsHelper.getPlugin(
-			VehicleMetricsPlugin::class.java)
+		plugin = PluginsHelper.getPlugin(VehicleMetricsPlugin::class.java)
 	}
 
 	@get:LayoutRes
@@ -30,7 +31,8 @@ abstract class OBDDevicesBaseFragment : BaseOsmAndFragment() {
 	override fun onCreateView(
 		inflater: LayoutInflater,
 		container: ViewGroup?,
-		savedInstanceState: Bundle?): View? {
+		savedInstanceState: Bundle?
+	): View? {
 		updateNightMode()
 		val view = themedInflater.inflate(layoutId, container, false)
 		setupToolbar(view)
diff --git a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesListFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesListFragment.kt
index 9330ab8b895..fd033407b1f 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesListFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesListFragment.kt
@@ -14,7 +14,6 @@ import androidx.recyclerview.widget.RecyclerView
 import com.google.android.material.appbar.AppBarLayout
 import net.osmand.plus.R
 import net.osmand.plus.helpers.AndroidUiHelper
-import net.osmand.plus.plugins.externalsensors.dialogs.EditDevicePropertyDialog
 import net.osmand.plus.plugins.odb.adapters.PairedDevicesAdapter
 import net.osmand.plus.plugins.odb.adapters.PairedDevicesAdapter.FoundDevicesMenuListener
 import net.osmand.plus.plugins.odb.dialogs.RenameOBDDialog.OnSensorNameChangedCallback
@@ -64,7 +63,7 @@ class OBDDevicesListFragment : OBDDevicesBaseFragment(),
 		val sensorIcon = view.findViewById<ImageView>(R.id.sensor_icon)
 		sensorIcon.setBackgroundResource(if (nightMode) R.drawable.bg_empty_external_device_list_icon_night else R.drawable.bg_empty_external_device_list_icon_day)
 		sensorIcon.setImageResource(if (nightMode) R.drawable.img_help_vehicle_metrics_night else R.drawable.img_help_vehicle_metrics_day)
-		val docsLinkText = app.getString(R.string.learn_more_about_obd_sensors_link)
+		val docsLinkText = app.getString(R.string.learn_more_about_obd_sensors)
 		val spannable =
 			UiUtilities.createClickableSpannable(docsLinkText, docsLinkText) { unused: Void? ->
 				val activity = activity
@@ -166,7 +165,7 @@ class OBDDevicesListFragment : OBDDevicesBaseFragment(),
 	//		}
 	//	}
 	private fun updatePairedSensorsList() {
-		vehicleMetricsPlugin?.let { plugin ->
+		plugin?.let { plugin ->
 			val connectedDevice = plugin.getConnectedDeviceInfo()
 			val connectedDevices: List<BTDeviceInfo> =
 				if (connectedDevice == null) emptyList() else arrayListOf(connectedDevice)
@@ -197,11 +196,11 @@ class OBDDevicesListFragment : OBDDevicesBaseFragment(),
 	}
 
 	override fun onDisconnect(device: BTDeviceInfo) {
-		vehicleMetricsPlugin?.disconnect()
+		plugin?.disconnect()
 	}
 
 	override fun onConnect(device: BTDeviceInfo) {
-		vehicleMetricsPlugin?.connectToObd(requireActivity(), device)
+		plugin?.connectToObd(requireActivity(), device)
 	}
 
 	override fun onSettings(device: BTDeviceInfo) {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesSearchFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesSearchFragment.kt
index 13c255f1477..ab6a54ecc8f 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesSearchFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDDevicesSearchFragment.kt
@@ -150,7 +150,7 @@ class OBDDevicesSearchFragment : OBDDevicesBaseFragment(), VehicleMetricsPlugin.
     }
 
     private fun startSearch() {
-        vehicleMetricsPlugin?.setScanDevicesListener(this)
+        plugin?.setScanDevicesListener(this)
 //        if (bleSearch) {
 //            plugin.searchBLEDevices()
 //        } else if (antSearch) {
@@ -160,7 +160,7 @@ class OBDDevicesSearchFragment : OBDDevicesBaseFragment(), VehicleMetricsPlugin.
 
     override fun onPause() {
         super.onPause()
-        vehicleMetricsPlugin?.setScanDevicesListener(null)
+        plugin?.setScanDevicesListener(null)
     }
 
     override fun onDestroyView() {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDMainFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDMainFragment.kt
index 6c96db39bb0..fbaf5f1ea69 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDMainFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/odb/dialogs/OBDMainFragment.kt
@@ -1,206 +1,146 @@
 package net.osmand.plus.plugins.odb.dialogs
 
-//import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_LEFT_LITERS
-import android.os.Bundle
 import android.os.Handler
 import android.os.Looper
-import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
-import android.widget.Button
-import android.widget.EditText
-import androidx.appcompat.widget.Toolbar
+import android.widget.ImageButton
+import android.widget.TextView
+import androidx.annotation.ColorRes
 import androidx.fragment.app.FragmentManager
 import net.osmand.plus.R
-import net.osmand.plus.base.BaseOsmAndFragment
-import net.osmand.plus.plugins.PluginsHelper
-import net.osmand.plus.plugins.odb.VehicleMetricsPlugin
+import net.osmand.plus.helpers.AndroidUiHelper
 import net.osmand.plus.utils.AndroidUtils
-import net.osmand.plus.utils.ColorUtilities
 import net.osmand.shared.obd.OBDDataComputer
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.BATTERY_VOLTAGE
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_CONSUMPTION_RATE
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_CONSUMPTION_RATE_SENSOR
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_LEFT_DISTANCE
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_LEFT_PERCENT
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.FUEL_TYPE
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.RPM
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.SPEED
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.TEMPERATURE_AMBIENT
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.TEMPERATURE_COOLANT
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.TEMPERATURE_INTAKE
-import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget.VIN
-
-class OBDMainFragment : BaseOsmAndFragment() {
-	private var deviceName: EditText? = null
-	private var fuelLeftDistBtn: Button? = null
-	private var fuelLeftLitersBtn: Button? = null
-	private var fuelConsumptionBtn: Button? = null
-	private var fuelConsumptionRateBtn: Button? = null
-	private var rpmBtn: Button? = null
-	private var speedBtn: Button? = null
-	private var tempIntakeBtn: Button? = null
-	private var tempCoolantBtn: Button? = null
-	private var batteryVoltageBtn: Button? = null
-	private var fuelTypeBtn: Button? = null
-	private var fuelLeftPersBtn: Button? = null
-	private var tempAmbientBtn: Button? = null
-	private var vinBtn: Button? = null
-	private var fuelLeftDistResp: EditText? = null
-	private var fuelLeftLitersResp: EditText? = null
-	private var fuelConsumptionResp: EditText? = null
-	private var fuelConsumptionRateResp: EditText? = null
-	private var rpmResp: EditText? = null
-	private var speedResp: EditText? = null
-	private var tempIntakeResp: EditText? = null
-	private var tempCoolantResp: EditText? = null
-	private var vinResp: EditText? = null
-	private var fuelTypeResp: EditText? = null
-	private var fuelLeftPersResp: EditText? = null
-	private var tempAmbientResp: EditText? = null
-	private var batteryVoltageResp: EditText? = null
-
-	protected var plugin: VehicleMetricsPlugin? = null
+import net.osmand.shared.obd.OBDDataComputer.OBDComputerWidget
+import net.osmand.shared.obd.OBDDataComputer.OBDTypeWidget
+
+class OBDMainFragment : OBDDevicesBaseFragment() {
+
 	private val handler = Handler(Looper.getMainLooper())
+	private val widgets = mutableListOf<OBDComputerWidget>()
+	private val dataRows = mutableListOf<View>()
 
-	override fun onCreateView(
-		inflater: LayoutInflater,
-		container: ViewGroup?,
-		savedInstanceState: Bundle?): View? {
-		updateNightMode()
-		val view = themedInflater.inflate(getLayoutId(), container, false)
-		setupUI(view)
-		AndroidUtils.addStatusBarPadding21v(requireMyActivity(), view)
-		return view
-	}
+	private var updateEnable = false
 
-	fun getLayoutId(): Int {
-		return R.layout.fragment_obd_main
+	@ColorRes
+	override fun getStatusBarColorId(): Int {
+		AndroidUiHelper.setStatusBarContentColor(view, nightMode)
+		return if (nightMode) R.color.status_bar_main_dark else R.color.activity_background_color_light
 	}
 
-	private fun setupToolbar(view: View) {
-		val toolbar = view.findViewById<Toolbar>(R.id.toolbar)
-		toolbar.setTitleTextColor(ColorUtilities.getActiveButtonsAndLinksTextColor(app, nightMode))
-		toolbar.setNavigationIcon(AndroidUtils.getNavigationIconResId(app))
-		toolbar.setNavigationContentDescription(R.string.shared_string_close)
-		toolbar.setNavigationOnClickListener { v: View? -> requireActivity().onBackPressed() }
-	}
+	override val layoutId: Int
+		get() = R.layout.fragment_obd_devices_list
 
-	private fun setupUI(view: View) {
-		setupToolbar(view)
-		fuelLeftDistResp = view.findViewById(R.id.resp1)
-		fuelLeftLitersResp = view.findViewById(R.id.resp2)
-		fuelConsumptionResp = view.findViewById(R.id.resp3)
-		fuelConsumptionRateResp = view.findViewById(R.id.resp13)
-		rpmResp = view.findViewById(R.id.resp4)
-		speedResp = view.findViewById(R.id.resp5)
-		tempIntakeResp = view.findViewById(R.id.resp6)
-		tempCoolantResp = view.findViewById(R.id.resp7)
-		vinResp = view.findViewById(R.id.resp12)
-		batteryVoltageResp = view.findViewById(R.id.resp8)
-		fuelTypeResp = view.findViewById(R.id.resp9)
-		fuelLeftPersResp = view.findViewById(R.id.resp10)
-		tempAmbientResp = view.findViewById(R.id.resp11)
-		deviceName = view.findViewById(R.id.device_name)
-		fuelLeftDistBtn = view.findViewById(R.id.btn1)
-		fuelLeftLitersBtn = view.findViewById(R.id.btn2)
-		fuelConsumptionBtn = view.findViewById(R.id.btn3)
-		fuelConsumptionRateBtn = view.findViewById(R.id.btn13)
-		rpmBtn = view.findViewById(R.id.btn4)
-		speedBtn = view.findViewById(R.id.btn5)
-		tempIntakeBtn = view.findViewById(R.id.btn6)
-		tempCoolantBtn = view.findViewById(R.id.btn7)
-		batteryVoltageBtn = view.findViewById(R.id.btn8)
-		fuelTypeBtn = view.findViewById(R.id.btn9)
-		fuelLeftPersBtn = view.findViewById(R.id.btn10)
-		tempAmbientBtn = view.findViewById(R.id.btn11)
-		vinBtn = view.findViewById(R.id.btn12)
-		fuelLeftDistBtn?.text = "fuel left distance"
-		fuelLeftLitersBtn?.text = "fuel left liters"
-		fuelConsumptionBtn?.text = "fuel consumption"
-		fuelConsumptionRateBtn?.text = "fuel consumption_rete"
-		rpmBtn?.text = "rpm"
-		speedBtn?.text = "speed"
-		tempIntakeBtn?.text = "intake air temp"
-		tempCoolantBtn?.text = "engine coolant temp"
-		batteryVoltageBtn?.text = "battery voltage"
-		fuelTypeBtn?.text = "fuel type"
-		fuelLeftPersBtn?.text = "fuel left percent"
-		tempAmbientBtn?.text = "ambient air temperature"
-		vinBtn?.text = "vin"
+	override fun setupToolbar(view: View) {
+		view.findViewById<ImageButton>(R.id.close_button).apply {
+			setOnClickListener {
+				requireActivity().onBackPressed()
+			}
+			setImageResource(AndroidUtils.getNavigationIconResId(context))
+		}
 	}
 
-	override fun onCreate(savedInstanceState: Bundle?) {
-		super.onCreate(savedInstanceState)
+	override fun setupUI(view: View) {
+		setupConnectionState(view)
+		setupVehicleInfo(view)
+		setupReceivedData(view)
+	}
 
-		plugin = PluginsHelper.getPlugin(
-			VehicleMetricsPlugin::class.java)
+	private fun setupConnectionState(view: View) {
 
+	}
 
+	private fun setupVehicleInfo(view: View) {
+		view.findViewById<ViewGroup>(R.id.info_container)?.apply {
+			removeAllViews()
+			createWidgetView(OBDTypeWidget.VIN, this)
+		}
 	}
 
-	companion object {
-		val TAG = OBDMainFragment::class.java.simpleName
-		fun showInstance(manager: FragmentManager) {
-			if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
-				val fragment = OBDMainFragment()
-				fragment.retainInstance = true
-				manager.beginTransaction()
-					.replace(R.id.fragmentContainer, fragment, TAG)
-					.addToBackStack(null)
-					.commitAllowingStateLoss()
+	private fun setupReceivedData(view: View) {
+		view.findViewById<ViewGroup>(R.id.data_container)?.apply {
+			removeAllViews()
+			OBDTypeWidget.entries.forEach {
+				if (it != OBDTypeWidget.VIN) {
+					createWidgetView(it, this)
+				}
 			}
 		}
 	}
 
-	private val widgets = mutableListOf<OBDDataComputer.OBDComputerWidget>()
+	private fun createWidgetView(widgetType: OBDTypeWidget, container: ViewGroup) {
+		val widget = OBDDataComputer.registerWidget(widgetType, 0)
+		widgets.add(widget)
+
+		val itemView = themedInflater.inflate(R.layout.device_characteristic_item, container, false)
+		itemView.findViewById<TextView>(R.id.title).text = widget.type.getTitle()
+		itemView.tag = widget
+		container.addView(itemView)
+		dataRows.add(itemView)
+	}
 
 	override fun onStart() {
 		super.onStart()
-		OBDDataComputer.OBDTypeWidget.entries.forEach {
-			widgets.add(OBDDataComputer.registerWidget(it, 0))
-		}
 		updateWidgets()
 	}
 
+	private fun updateWidgetsData(view: View, widget: OBDComputerWidget) {
+		val value = if (widget.computeValue() == null) " - " else widget.computeValue().toString()
+		view.findViewById<TextView>(R.id.value).apply {
+			if (text.toString() != value) {
+				text = value
+			}
+		}
+	}
+
 	private fun updateWidgets() {
-		widgets.forEach {
-			updateWidgetsData(
-				it.type,
-				if (it.computeValue() == null) " - " else it.computeValue().toString())
+		dataRows.forEach {
+			if (it.tag is OBDComputerWidget) {
+				app.runInUIThread { updateWidgetsData(it, it.tag as OBDComputerWidget) }
+			}
 		}
 		handler.postDelayed({ updateWidgets() }, 100)
 	}
 
-	override fun onStop() {
-		super.onStop()
-		widgets.forEach { OBDDataComputer.removeWidget(it) }
+	override fun onResume() {
+		super.onResume()
+		updateEnable = true
+		startHandler()
 	}
 
-	private fun updateWidgetsData(widgetType: OBDDataComputer.OBDTypeWidget, result: String) {
-		app.runInUIThread {
-			when (widgetType) {
-				SPEED -> updateWidgetData(speedResp, result)
-				RPM -> updateWidgetData(rpmResp, result)
-				FUEL_LEFT_DISTANCE -> updateWidgetData(fuelLeftDistResp, result)
-//				FUEL_LEFT_LITERS -> updateWidgetData(fuelLeftLitersResp, result)
-				FUEL_LEFT_PERCENT -> updateWidgetData(fuelLeftPersResp, result)
-				FUEL_CONSUMPTION_RATE -> updateWidgetData(fuelConsumptionResp, result)
-				FUEL_CONSUMPTION_RATE_SENSOR -> updateWidgetData(fuelConsumptionResp, result)
-				TEMPERATURE_INTAKE -> updateWidgetData(tempIntakeResp, result)
-				TEMPERATURE_AMBIENT -> updateWidgetData(tempAmbientResp, result)
-				BATTERY_VOLTAGE -> updateWidgetData(batteryVoltageResp, result)
-				FUEL_TYPE -> updateWidgetData(fuelTypeResp, result)
-				TEMPERATURE_COOLANT -> updateWidgetData(tempCoolantResp, result)
-				VIN -> updateWidgetData(vinResp, result)
+	private fun startHandler() {
+		handler.postDelayed({
+			if (view != null && updateEnable) {
+				updateWidgets()
+				startHandler()
 			}
-		}
+		}, UPDATE_INTERVAL_MILLIS)
+	}
 
+	override fun onPause() {
+		super.onPause()
+		updateEnable = false
 	}
 
-	private fun updateWidgetData(field: EditText?, result: String) {
-		if (field?.text.toString() != result) {
-			field?.setText(result)
+	override fun onDestroy() {
+		super.onDestroy()
+		widgets.forEach { OBDDataComputer.removeWidget(it) }
+	}
+
+	companion object {
+		const val TAG: String = "VehicleMetricsFragment"
+		const val UPDATE_INTERVAL_MILLIS = 100L
+
+		fun showInstance(manager: FragmentManager) {
+			if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
+				val fragment = OBDMainFragment()
+				fragment.retainInstance = true
+				manager.beginTransaction()
+					.replace(R.id.fragmentContainer, fragment, TAG)
+					.addToBackStack(null)
+					.commitAllowingStateLoss()
+			}
 		}
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/ContextMenuItemsSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/ContextMenuItemsSettings.java
index b80b9b6d8f9..fccb534f351 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/ContextMenuItemsSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/ContextMenuItemsSettings.java
@@ -35,6 +35,7 @@ public ContextMenuItemsSettings(@NonNull List<String> hiddenIds, @NonNull List<S
 		this.orderIds = orderIds;
 	}
 
+	@NonNull
 	public ContextMenuItemsSettings newInstance() {
 		return new ContextMenuItemsSettings();
 	}
@@ -68,6 +69,7 @@ protected List<String> readIdsList(@Nullable JSONArray jsonArray, @NonNull Strin
 		return list;
 	}
 
+	@NonNull
 	public String writeToJsonString(@NonNull String idScheme) {
 		try {
 			JSONObject json = new JSONObject();
@@ -84,6 +86,7 @@ public void writeToJson(JSONObject json, String idScheme) throws JSONException {
 		json.put(ORDER, getJsonArray(orderIds, idScheme));
 	}
 
+	@NonNull
 	protected JSONArray getJsonArray(List<String> ids, @NonNull String idScheme) {
 		JSONArray jsonArray = new JSONArray();
 		if (ids != null && !ids.isEmpty()) {
@@ -94,10 +97,12 @@ protected JSONArray getJsonArray(List<String> ids, @NonNull String idScheme) {
 		return jsonArray;
 	}
 
+	@NonNull
 	public List<String> getHiddenIds() {
 		return Collections.unmodifiableList(hiddenIds);
 	}
 
+	@NonNull
 	public List<String> getOrderIds() {
 		return Collections.unmodifiableList(orderIds);
 	}
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/DrawerMenuItemsSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/DrawerMenuItemsSettings.java
index 8eee2316983..959b5318609 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/DrawerMenuItemsSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/DrawerMenuItemsSettings.java
@@ -1,30 +1,6 @@
 package net.osmand.plus.settings.backend.menuitems;
 
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_ANT_PLUS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_AV_NOTES_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_BACKUP_RESTORE_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_BUILDS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_CONFIGURE_MAP_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_CONFIGURE_SCREEN_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_DASHBOARD_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_DIRECTIONS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_DIVIDER_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_DOWNLOAD_MAPS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_FAVORITES_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_HELP_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_LIVE_UPDATES_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_MAP_MARKERS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_MEASURE_DISTANCE_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_MY_PLACES_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_OSMAND_VERSION_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_OSM_EDITS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_PLUGINS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_SEARCH_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_SETTINGS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_TRACKS_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_TRAVEL_GUIDES_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_TRIP_RECORDING_ID;
-import static net.osmand.aidlapi.OsmAndCustomizationConstants.DRAWER_WEATHER_FORECAST_ID;
+import static net.osmand.aidlapi.OsmAndCustomizationConstants.*;
 
 import androidx.annotation.NonNull;
 
@@ -54,6 +30,7 @@ public class DrawerMenuItemsSettings extends ContextMenuItemsSettings {
 		originalOrderIds.add(DRAWER_MEASURE_DISTANCE_ID);
 		originalOrderIds.add(DRAWER_WEATHER_FORECAST_ID);
 		originalOrderIds.add(DRAWER_ANT_PLUS_ID);
+		originalOrderIds.add(DRAWER_VEHICLE_METRICS_ID);
 		originalOrderIds.add(DRAWER_DIVIDER_ID);
 		originalOrderIds.add(DRAWER_CONFIGURE_SCREEN_ID);
 		originalOrderIds.add(DRAWER_PLUGINS_ID);
@@ -70,18 +47,21 @@ public DrawerMenuItemsSettings(@NonNull List<String> hiddenIds, @NonNull List<St
 		super(hiddenIds, orderIds);
 	}
 
+	@NonNull
 	@Override
 	public List<String> getHiddenIds() {
 		updateMissingDrawerItems();
 		return super.getHiddenIds();
 	}
 
+	@NonNull
 	@Override
 	public List<String> getOrderIds() {
 		updateMissingDrawerItems();
 		return super.getOrderIds();
 	}
 
+	@NonNull
 	@Override
 	public DrawerMenuItemsSettings newInstance() {
 		return new DrawerMenuItemsSettings();
@@ -123,10 +103,12 @@ private void insertItemByOriginalOrder(String idToInsert) {
 		orderIds.add(0, idToInsert);
 	}
 
+	@NonNull
 	public static DrawerMenuItemsSettings getDrawerDefaultInstance() {
 		return new DrawerMenuItemsSettings(getDrawerHiddenItemsByDefault(), new ArrayList<>());
 	}
 
+	@NonNull
 	private static List<String> getDrawerHiddenItemsByDefault() {
 		List<String> hiddenByDefault = new ArrayList<>();
 		hiddenByDefault.add(DRAWER_DASHBOARD_ID);
@@ -138,6 +120,7 @@ private static List<String> getDrawerHiddenItemsByDefault() {
 		hiddenByDefault.add(DRAWER_LIVE_UPDATES_ID);
 		hiddenByDefault.add(DRAWER_OSMAND_VERSION_ID);
 		hiddenByDefault.add(DRAWER_ANT_PLUS_ID);
+		hiddenByDefault.add(DRAWER_VEHICLE_METRICS_ID);
 		return hiddenByDefault;
 	}
 }
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/MainContextMenuItemsSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/MainContextMenuItemsSettings.java
index d6dac4387a6..08216f53ce6 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/MainContextMenuItemsSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/menuitems/MainContextMenuItemsSettings.java
@@ -24,6 +24,7 @@ public MainContextMenuItemsSettings(@NonNull List<String> mainIds, @NonNull List
 		this.mainIds = mainIds;
 	}
 
+	@NonNull
 	@Override
 	public ContextMenuItemsSettings newInstance() {
 		return new MainContextMenuItemsSettings();
