diff --git a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
index 62f1f8cde97..e7bda8816ab 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
@@ -210,9 +210,9 @@ private List<Set<MapWidgetInfo>> getWidgetsToShow(ApplicationMode mode, List<Map
 		for (MapWidgetInfo widgetInfo : allPanelWidget) {
 			if (widgetInfo.isEnabledForAppMode(mode)) {
 				addWidgetViewToPage(rowWidgetMap, widgetInfo.pageIndex, widgetInfo);
-				if (widgetInfo.widget.isViewVisible()) {
-					widgetsToShow.add(widgetInfo.widget);
-				}
+				widgetsToShow.add(widgetInfo.widget);
+			} else {
+				widgetInfo.widget.detachView(getWidgetsPanel());
 			}
 		}
 		return new ArrayList<>(rowWidgetMap.values());
@@ -243,7 +243,7 @@ private void attachViewToRow(@NonNull MapWidget widget, @NonNull ViewGroup conta
 	private List<MapWidget> getFollowingWidgets(@NonNull MapWidget widget, @NonNull List<MapWidget> widgetsToShow) {
 		List<MapWidget> followingWidgets = new ArrayList<>();
 		int widgetIndex = widgetsToShow.indexOf(widget);
-		if (widgetIndex != -1 && widgetIndex + 1 == widgetsToShow.size()) {
+		if (widgetIndex != -1 && widgetIndex + 1 < widgetsToShow.size()) {
 			followingWidgets = widgetsToShow.subList(widgetIndex + 1, widgetsToShow.size());
 		}
 		return followingWidgets;
