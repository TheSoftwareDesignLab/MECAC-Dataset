diff --git a/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceInfoFragment.java b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceInfoFragment.java
new file mode 100644
index 00000000000..9e902ec56fb
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceInfoFragment.java
@@ -0,0 +1,97 @@
+package net.osmand.plus.plugins.monitoring.widgets;
+
+import android.os.Bundle;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import net.osmand.plus.R;
+import net.osmand.plus.plugins.monitoring.widgets.TripRecordingDistanceWidgetState.TripRecordingDistanceMode;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.utils.ColorUtilities;
+import net.osmand.plus.views.mapwidgets.configure.settings.BaseSimpleWidgetInfoFragment;
+import net.osmand.plus.widgets.alert.AlertDialogData;
+import net.osmand.plus.widgets.alert.CustomAlert;
+
+public class TripRecordingDistanceInfoFragment extends BaseSimpleWidgetInfoFragment {
+
+	private static final String DISTANCE_MODE = "distance_mode";
+
+	@Nullable
+	private OsmandPreference<TripRecordingDistanceMode> modeOsmandPreference;
+	private ImageView iconMode;
+	private TextView titleMode;
+	private TextView descriptionMode;
+
+	private int selectedMode;
+
+	@Override
+	protected void initParams(@NonNull Bundle bundle) {
+		super.initParams(bundle);
+		if (widgetInfo != null) {
+			TripRecordingDistanceWidget widget = (TripRecordingDistanceWidget) widgetInfo.widget;
+			modeOsmandPreference = widget.getDistanceWidgetState().getDistanceModePreference();
+		}
+		selectedMode = bundle.getInt(DISTANCE_MODE, modeOsmandPreference != null ?
+				modeOsmandPreference.getModeValue(appMode).ordinal() : TripRecordingDistanceMode.TOTAL_DISTANCE.ordinal());
+	}
+
+	@Override
+	protected void setupMainContent(@NonNull ViewGroup container) {
+		if (modeOsmandPreference != null) {
+			View modeButton = inflate(R.layout.bottom_sheet_item_with_descr_72dp, container);
+			iconMode = container.findViewById(R.id.icon);
+			titleMode = container.findViewById(R.id.title);
+			titleMode.setText(R.string.shared_string_mode);
+			descriptionMode = container.findViewById(R.id.description);
+			iconMode.setImageDrawable(app.getUIUtilities().getIcon(modeOsmandPreference.get().getIcon(nightMode)));
+			modeButton.setOnClickListener(v -> showModeDialog());
+			modeButton.setBackground(getPressedStateDrawable());
+		}
+	}
+
+	private void showModeDialog() {
+		CharSequence[] items = new CharSequence[TripRecordingDistanceMode.values().length];
+		for (int i = 0; i < TripRecordingDistanceMode.values().length; i++) {
+			items[i] = getString(TripRecordingDistanceMode.values()[i].getTitleId());
+		}
+
+		AlertDialogData dialogData = new AlertDialogData(titleMode.getContext(), nightMode)
+				.setTitle(R.string.shared_string_mode)
+				.setControlsColor(ColorUtilities.getActiveColor(app, nightMode));
+
+		CustomAlert.showSingleSelection(dialogData, items, selectedMode, v -> {
+			selectedMode = (int) v.getTag();
+			updateModeSetting();
+		});
+	}
+
+	private void updateModeSetting() {
+		descriptionMode.setText(getString(TripRecordingDistanceMode.values()[selectedMode].getTitleId()));
+		iconMode.setImageDrawable(app.getUIUtilities().getIcon(TripRecordingDistanceMode.values()[selectedMode].getIcon(nightMode)));
+	}
+
+	@Override
+	protected void applySettings() {
+		super.applySettings();
+		if (modeOsmandPreference != null) {
+			modeOsmandPreference.setModeValue(appMode, TripRecordingDistanceMode.values()[selectedMode]);
+		}
+	}
+
+	@Override
+	public void onSaveInstanceState(@NonNull Bundle outState) {
+		super.onSaveInstanceState(outState);
+		outState.putInt(DISTANCE_MODE, selectedMode);
+	}
+
+	@Override
+	public void onResume() {
+		super.onResume();
+		updateModeSetting();
+	}
+}
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidget.java b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidget.java
index bb70594ae4d..3677d44d303 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidget.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidget.java
@@ -7,30 +7,35 @@
 import androidx.annotation.DrawableRes;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
+import androidx.annotation.StringRes;
 
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.plugins.PluginsHelper;
 import net.osmand.plus.plugins.monitoring.OsmandMonitoringPlugin;
 import net.osmand.plus.plugins.monitoring.SavingTrackHelper;
+import net.osmand.plus.plugins.monitoring.widgets.TripRecordingDistanceWidgetState.TripRecordingDistanceMode;
 import net.osmand.plus.utils.OsmAndFormatter;
 import net.osmand.plus.utils.FormattedValue;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
+import net.osmand.shared.gpx.ElevationDiffsCalculator.SlopeInfo;
+import net.osmand.shared.gpx.GpxTrackAnalysis;
 
 public class TripRecordingDistanceWidget extends SimpleWidget {
 
 	private static final long BLINK_DELAY_MILLIS = 500;
 
+	private final TripRecordingDistanceWidgetState distanceWidgetState;
 	private final SavingTrackHelper savingTrackHelper;
 
 	private long cachedLastUpdateTime;
 
-	public TripRecordingDistanceWidget(@NonNull MapActivity mapActivity, @Nullable String customId, @Nullable WidgetsPanel widgetsPanel) {
+	public TripRecordingDistanceWidget(@NonNull MapActivity mapActivity, @NonNull TripRecordingDistanceWidgetState distanceWidgetState, @Nullable String customId, @Nullable WidgetsPanel widgetsPanel) {
 		super(mapActivity, TRIP_RECORDING_DISTANCE, customId, widgetsPanel);
 		savingTrackHelper = app.getSavingTrackHelper();
-
+		this.distanceWidgetState = distanceWidgetState;
 		updateInfo(null);
 	}
 
@@ -44,6 +49,10 @@ protected View.OnClickListener getOnClickListener() {
 		};
 	}
 
+	public TripRecordingDistanceWidgetState getDistanceWidgetState() {
+		return distanceWidgetState;
+	}
+
 	@Override
 	protected void updateSimpleWidgetInfo(@Nullable DrawSettings drawSettings) {
 		OsmandMonitoringPlugin plugin = getPlugin();
@@ -57,26 +66,50 @@ protected void updateSimpleWidgetInfo(@Nullable DrawSettings drawSettings) {
 			return;
 		}
 
-		long lastUpdateTime = cachedLastUpdateTime;
-		boolean globalRecording = settings.SAVE_GLOBAL_TRACK_TO_GPX.get();
-		boolean recording = savingTrackHelper.getIsRecording();
-		boolean liveMonitoring = plugin.isLiveMonitoringEnabled();
-		float distance = savingTrackHelper.getDistance();
+		TripRecordingDistanceMode recordingDistanceMode = distanceWidgetState.getDistanceModePreference().get();
+		if (recordingDistanceMode == TripRecordingDistanceMode.TOTAL_DISTANCE) {
+			long lastUpdateTime = cachedLastUpdateTime;
+			boolean globalRecording = settings.SAVE_GLOBAL_TRACK_TO_GPX.get();
+			boolean recording = savingTrackHelper.getIsRecording();
+			boolean liveMonitoring = plugin.isLiveMonitoringEnabled();
+			float distance = savingTrackHelper.getDistance();
 
-		setText(distance);
-		setIcons(globalRecording, liveMonitoring, recording);
+			setText(distance);
+			setIcons(globalRecording, liveMonitoring, recording);
 
-		if (distance > 0) {
-			lastUpdateTime = app.getSavingTrackHelper().getLastTimeUpdated();
-		}
+			if (distance > 0) {
+				lastUpdateTime = app.getSavingTrackHelper().getLastTimeUpdated();
+			}
 
-		if (lastUpdateTime != cachedLastUpdateTime && (globalRecording || recording)) {
-			cachedLastUpdateTime = lastUpdateTime;
+			if (lastUpdateTime != cachedLastUpdateTime && (globalRecording || recording)) {
+				cachedLastUpdateTime = lastUpdateTime;
+
+				// Make bling effect
+				setIcons(false, liveMonitoring, true);
+				app.runInUIThread(() -> setIcons(globalRecording, liveMonitoring, !globalRecording), BLINK_DELAY_MILLIS);
+			}
+		} else {
+			GpxTrackAnalysis analysis = savingTrackHelper.getCurrentTrack().getTrackAnalysis(app);
+			SlopeInfo slopeInfo = recordingDistanceMode == TripRecordingDistanceMode.LAST_DOWNHILL ? analysis.getLastDownhill() : analysis.getLastUphill();
+			if (slopeInfo != null) {
+				setText((float) slopeInfo.getDistance());
+			}
+			setIcons(distanceWidgetState.getDistanceModePreference().get().getIcon(false), distanceWidgetState.getDistanceModePreference().get().getIcon(true));
+		}
+	}
 
-			// Make bling effect
-			setIcons(false, liveMonitoring, true);
-			app.runInUIThread(() -> setIcons(globalRecording, liveMonitoring, !globalRecording), BLINK_DELAY_MILLIS);
+	@Nullable
+	@Override
+	protected String getAdditionalWidgetName() {
+		if (distanceWidgetState != null) {
+			return getString(distanceWidgetState.getDistanceModePreference().get().titleId);
 		}
+		return null;
+	}
+
+	@StringRes
+	protected int getAdditionalWidgetNameDivider() {
+		return R.string.ltr_or_rtl_combine_via_colon;
 	}
 
 	private void setText(float distance) {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidgetState.java b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidgetState.java
new file mode 100644
index 00000000000..f0548bfe6bb
--- /dev/null
+++ b/OsmAnd/src/net/osmand/plus/plugins/monitoring/widgets/TripRecordingDistanceWidgetState.java
@@ -0,0 +1,108 @@
+package net.osmand.plus.plugins.monitoring.widgets;
+
+import static net.osmand.plus.plugins.monitoring.widgets.TripRecordingDistanceWidgetState.TripRecordingDistanceMode.TOTAL_DISTANCE;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.annotation.StringRes;
+
+import net.osmand.plus.OsmandApplication;
+import net.osmand.plus.R;
+import net.osmand.plus.settings.backend.ApplicationMode;
+import net.osmand.plus.settings.backend.preferences.OsmandPreference;
+import net.osmand.plus.views.mapwidgets.WidgetType;
+import net.osmand.plus.views.mapwidgets.widgetstates.WidgetState;
+import net.osmand.util.Algorithms;
+
+public class TripRecordingDistanceWidgetState extends WidgetState {
+
+	public static final String TRIP_RECORDING_DISTANCE_WIDGET_MODE = "trip_recording_distance_widget_mode";
+
+	private final WidgetType widgetType;
+	private final OsmandPreference<TripRecordingDistanceMode> distanceModePreference;
+
+	public TripRecordingDistanceWidgetState(@NonNull OsmandApplication app, @Nullable String customId, WidgetType widgetType) {
+		super(app);
+		this.widgetType = widgetType;
+		this.distanceModePreference = registerDistanceModePreference(customId);
+	}
+
+	@NonNull
+	public WidgetType getWidgetType() {
+		return widgetType;
+	}
+
+	public OsmandPreference<TripRecordingDistanceMode> getDistanceModePreference() {
+		return distanceModePreference;
+	}
+
+	@NonNull
+	@Override
+	public String getTitle() {
+		return app.getString(widgetType.titleId);
+	}
+
+	@Override
+	public int getSettingsIconId(boolean nightMode) {
+		return widgetType.getIconId(nightMode);
+	}
+
+	@Override
+	public void changeToNextState() {
+		TripRecordingDistanceMode currentMode = distanceModePreference.get();
+		distanceModePreference.set(currentMode.next());
+	}
+
+	@Override
+	public void copyPrefs(@NonNull ApplicationMode appMode, @Nullable String customId) {
+		copyPrefsFromMode(appMode, appMode, customId);
+	}
+
+	@Override
+	public void copyPrefsFromMode(@NonNull ApplicationMode sourceAppMode, @NonNull ApplicationMode appMode, @Nullable String customId){
+		registerDistanceModePreference(customId).setModeValue(appMode, distanceModePreference.getModeValue(sourceAppMode));
+	}
+
+	@NonNull
+	private OsmandPreference<TripRecordingDistanceMode> registerDistanceModePreference(@Nullable String customId) {
+		String prefId = TRIP_RECORDING_DISTANCE_WIDGET_MODE;
+		if (!Algorithms.isEmpty(customId)) {
+			prefId += customId;
+		}
+		return settings.registerEnumStringPreference(prefId, TOTAL_DISTANCE,
+				TripRecordingDistanceMode.values(), TripRecordingDistanceMode.class).makeProfile();
+	}
+
+	public enum TripRecordingDistanceMode {
+
+		TOTAL_DISTANCE(R.string.total_distance, R.drawable.widget_trip_recording_distance_day, R.drawable.widget_trip_recording_distance_night),
+		LAST_DOWNHILL(R.string.shared_string_last_downhill, R.drawable.widget_trip_recording_distance_last_downhill_day, R.drawable.widget_trip_recording_distance_last_downhill_day),
+		LAST_UPHILL(R.string.shared_string_last_uphill, R.drawable.widget_trip_recording_distance_last_uphill_day, R.drawable.widget_trip_recording_distance_last_uphill_day);
+
+		@StringRes
+		final int titleId;
+		private final int dayIcon;
+		private final int nightIcon;
+
+		TripRecordingDistanceMode(int titleId, int dayIcon, int nightIcon) {
+			this.titleId = titleId;
+			this.dayIcon = dayIcon;
+			this.nightIcon = nightIcon;
+		}
+
+		@StringRes
+		public int getTitleId() {
+			return titleId;
+		}
+
+		public int getIcon(boolean nightMode) {
+			return nightMode ? dayIcon : nightIcon;
+		}
+
+		@NonNull
+		public TripRecordingDistanceMode next() {
+			int nextItemIndex = (ordinal() + 1) % values().length;
+			return values()[nextItemIndex];
+		}
+	}
+}
