diff --git a/OsmAnd/src/net/osmand/plus/base/ContextMenuFragment.java b/OsmAnd/src/net/osmand/plus/base/ContextMenuFragment.java
index 57928eac507..5cb595f0ff3 100644
--- a/OsmAnd/src/net/osmand/plus/base/ContextMenuFragment.java
+++ b/OsmAnd/src/net/osmand/plus/base/ContextMenuFragment.java
@@ -612,6 +612,10 @@ protected void setViewY(int y, boolean animated, boolean adjustMapPos) {
 		}
 	}
 
+	protected boolean isHideable() {
+		return true;
+	}
+
 	private void processScreenHeight(ViewParent parent) {
 		View container = (View) parent;
 		MapActivity mapActivity = getMapActivity();
@@ -783,7 +787,7 @@ protected void updateMenuState(int currentMenuState, int newMenuState) {
 
 
 	private int getPosY(final int currentY, boolean needCloseMenu, int previousState) {
-		if (needCloseMenu) {
+		if (needCloseMenu && isHideable()) {
 			return screenHeight;
 		}
 		MapActivity mapActivity = getMapActivity();
@@ -858,7 +862,7 @@ public void onAnimationCancel(Animator animation) {
 							@Override
 							public void onAnimationEnd(Animator animation) {
 								if (!canceled) {
-									if (needCloseMenu) {
+									if (needCloseMenu && isHideable()) {
 										dismiss();
 									} else {
 										updateMainViewLayout(posY);
@@ -870,7 +874,7 @@ public void onAnimationEnd(Animator animation) {
 							}
 						}).start();
 			} else {
-				if (needCloseMenu) {
+				if (needCloseMenu && isHideable()) {
 					dismiss();
 				} else {
 					mainView.setY(posY);
diff --git a/OsmAnd/src/net/osmand/plus/measurementtool/GpxApproximationFragment.java b/OsmAnd/src/net/osmand/plus/measurementtool/GpxApproximationFragment.java
index 4217faf1c99..c2cdaf0ec13 100644
--- a/OsmAnd/src/net/osmand/plus/measurementtool/GpxApproximationFragment.java
+++ b/OsmAnd/src/net/osmand/plus/measurementtool/GpxApproximationFragment.java
@@ -56,6 +56,8 @@ public class GpxApproximationFragment extends ContextMenuScrollFragment
 	private View cancelButton;
 	private View applyButton;
 
+	private SliderCard sliderCard;
+
 	@Override
 	public int getMainLayoutId() {
 		return R.layout.fragment_gpx_approximation_bottom_sheet_dialog;
@@ -87,7 +89,7 @@ public float getMiddleStateKoef() {
 
 	@Override
 	public int getSupportedMenuStatesPortrait() {
-		return MenuState.HALF_SCREEN | MenuState.FULL_SCREEN;
+		return MenuState.HEADER_ONLY | MenuState.HALF_SCREEN | MenuState.FULL_SCREEN;
 	}
 
 	@Override
@@ -175,11 +177,17 @@ public void finish() {
 
 	@Override
 	protected void calculateLayout(View view, boolean initLayout) {
+		int sliderHeight = sliderCard != null ? sliderCard.getViewHeight() : 0;
 		menuTitleHeight = view.findViewById(R.id.control_buttons).getHeight()
-				- view.findViewById(R.id.buttons_shadow).getHeight();
+				- view.findViewById(R.id.buttons_shadow).getHeight() + sliderHeight;
 		super.calculateLayout(view, initLayout);
 	}
 
+	@Override
+	protected boolean isHideable() {
+		return false;
+	}
+
 	@Override
 	public void onSaveInstanceState(@NonNull Bundle outState) {
 		super.onSaveInstanceState(outState);
@@ -265,7 +273,7 @@ private void updateCards() {
 			cardsContainer.removeAllViews();
 
 			if (getTopView() != null) {
-				SliderCard sliderCard = new SliderCard(mapActivity, distanceThreshold);
+				sliderCard = new SliderCard(mapActivity, distanceThreshold);
 				sliderCard.setListener(this);
 				getTopView().addView(sliderCard.build(mapActivity));
 			}
