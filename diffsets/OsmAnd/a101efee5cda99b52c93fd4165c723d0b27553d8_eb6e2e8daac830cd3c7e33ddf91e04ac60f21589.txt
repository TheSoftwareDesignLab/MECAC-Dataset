diff --git a/OsmAnd/res/layout/map_hud_bottom.xml b/OsmAnd/res/layout/map_hud_bottom.xml
index e6511ed9611..0724e04b9fe 100644
--- a/OsmAnd/res/layout/map_hud_bottom.xml
+++ b/OsmAnd/res/layout/map_hud_bottom.xml
@@ -221,6 +221,7 @@
 		android:layout_width="match_parent"
 		android:layout_height="wrap_content"
 		android:orientation="vertical"
-		app:topPanel="false"/>
+		app:topPanel="false"
+		android:paddingTop="5dp"/>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/BackupAuthorizationFragment.java b/OsmAnd/src/net/osmand/plus/backup/ui/BackupAuthorizationFragment.java
index 656b0b7e43e..ca618eb6b88 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ui/BackupAuthorizationFragment.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/BackupAuthorizationFragment.java
@@ -46,6 +46,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getActivityBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Nullable
 	@Override
 	public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
diff --git a/OsmAnd/src/net/osmand/plus/backup/ui/DeleteAccountFragment.java b/OsmAnd/src/net/osmand/plus/backup/ui/DeleteAccountFragment.java
index 1cf160afec6..b10bbc8f0da 100644
--- a/OsmAnd/src/net/osmand/plus/backup/ui/DeleteAccountFragment.java
+++ b/OsmAnd/src/net/osmand/plus/backup/ui/DeleteAccountFragment.java
@@ -77,6 +77,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getActivityBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java b/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
index 5bc2027ae88..8beba778af9 100644
--- a/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
+++ b/OsmAnd/src/net/osmand/plus/base/BaseOsmAndFragment.java
@@ -131,6 +131,10 @@ public int getStatusBarColorId() {
 		return -1;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return true;
+	}
+
 	protected boolean isFullScreenAllowed() {
 		return true;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapOptionFragment.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapOptionFragment.java
index 4496bd34eca..3af3144e774 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapOptionFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapOptionFragment.java
@@ -61,6 +61,10 @@ public int getStatusBarColorId() {
 		return portrait ? ColorUtilities.getListBgColorId(nightMode) : R.color.status_bar_transparent_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
index 4cf32b7de9b..e57f8421de5 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksAppearanceFragment.java
@@ -82,6 +82,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
index 123dbf63241..df28e455cc2 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/tracks/TracksFragment.java
@@ -131,6 +131,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/firstusage/FirstUsageWizardFragment.java b/OsmAnd/src/net/osmand/plus/firstusage/FirstUsageWizardFragment.java
index a1caed1c8c3..fabd33f41b0 100644
--- a/OsmAnd/src/net/osmand/plus/firstusage/FirstUsageWizardFragment.java
+++ b/OsmAnd/src/net/osmand/plus/firstusage/FirstUsageWizardFragment.java
@@ -716,6 +716,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(deviceNightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	public void showSearchLocationWizard(boolean updateWizardView, boolean searchByIp) {
 		searchLocationByIp = searchByIp;
 		setWizardType(WizardType.SEARCH_LOCATION, updateWizardView);
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/fragments/EditKeyBindingFragment.java b/OsmAnd/src/net/osmand/plus/keyevent/fragments/EditKeyBindingFragment.java
index b2d5152cc45..d93320ca3ba 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/fragments/EditKeyBindingFragment.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/fragments/EditKeyBindingFragment.java
@@ -308,6 +308,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarSecondaryColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager,
 	                                @NonNull ApplicationMode appMode,
 	                                @NonNull KeyBinding keyBinding,
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/fragments/ExternalInputDeviceFragment.java b/OsmAnd/src/net/osmand/plus/keyevent/fragments/ExternalInputDeviceFragment.java
index 7d1782a4c66..1f3c565991c 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/fragments/ExternalInputDeviceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/fragments/ExternalInputDeviceFragment.java
@@ -163,6 +163,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarSecondaryColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return isNightMode();
+	}
+
 	@ColorRes
 	protected int getBackgroundColorRes() {
 		return ColorUtilities.getActivityBgColorId(isNightMode());
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/fragments/SelectKeyCodeFragment.java b/OsmAnd/src/net/osmand/plus/keyevent/fragments/SelectKeyCodeFragment.java
index 076c196ff9d..d9889fd62d5 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/fragments/SelectKeyCodeFragment.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/fragments/SelectKeyCodeFragment.java
@@ -289,6 +289,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarSecondaryColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager,
 									@NonNull Fragment targetFragment,
 	                                @NonNull ApplicationMode appMode,
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/fragments/inputdevices/InputDevicesFragment.java b/OsmAnd/src/net/osmand/plus/keyevent/fragments/inputdevices/InputDevicesFragment.java
index c88d6a7f1d1..31954b89a0c 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/fragments/inputdevices/InputDevicesFragment.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/fragments/inputdevices/InputDevicesFragment.java
@@ -136,6 +136,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarSecondaryColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager,
 	                                @NonNull ApplicationMode appMode) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/fragments/keybindings/KeyBindingsFragment.java b/OsmAnd/src/net/osmand/plus/keyevent/fragments/keybindings/KeyBindingsFragment.java
index d03a508794d..aa8b6bb8678 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/fragments/keybindings/KeyBindingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/fragments/keybindings/KeyBindingsFragment.java
@@ -137,6 +137,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarSecondaryColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	public static void showInstance(@NonNull FragmentManager manager,
 	                                @NonNull ApplicationMode appMode) {
 		if (AndroidUtils.isFragmentCanBeAdded(manager, TAG)) {
diff --git a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/EditorFragment.java b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/EditorFragment.java
index e212421a916..4065522d5d6 100644
--- a/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/EditorFragment.java
+++ b/OsmAnd/src/net/osmand/plus/mapcontextmenu/editors/EditorFragment.java
@@ -366,6 +366,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	protected void showKeyboard() {
 		FragmentActivity activity = getActivity();
 		if (activity != null) {
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
index 398feac225d..14ad0d9543b 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/BaseTrackFolderFragment.java
@@ -103,6 +103,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	protected abstract int getLayoutId();
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
index 94375801918..eb0afd19942 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksSelectionFragment.java
@@ -68,6 +68,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getStatusBarActiveColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	@Override
 	public String getFragmentTag() {
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
index ca1acbf3762..f53f2999cdc 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDeviceDetailsFragment.kt
@@ -376,6 +376,10 @@ class ExternalDeviceDetailsFragment : ExternalDevicesBaseFragment(), DeviceListe
         return if (nightMode) R.color.status_bar_main_dark else R.color.activity_background_color_light
     }
 
+    override fun getContentStatusBarNightMode(): Boolean {
+        return nightMode
+    }
+
     override fun onForgetSensorConfirmed(device: AbstractDevice<out AbstractSensor>) {
         plugin.unpairDevice(device)
         updateButtonState()
diff --git a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
index fc6f6205073..b10bcabf30a 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/externalsensors/dialogs/ExternalDevicesBaseFragment.java
@@ -52,6 +52,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.status_bar_main_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return true;
+	}
+
 	@Override
 	protected boolean isUsedOnMap() {
 		return true;
diff --git a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenuFragment.java b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenuFragment.java
index 0443cc53a98..d451c3d8f49 100644
--- a/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenuFragment.java
+++ b/OsmAnd/src/net/osmand/plus/routepreparationmenu/MapRouteInfoMenuFragment.java
@@ -227,6 +227,10 @@ public int getStatusBarColorId() {
 		return -1;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return isNightMode();
+	}
+
 	private void updateToolbar() {
 		MapActivity mapActivity = getMapActivity();
 		if (menu == null || mapActivity == null) {
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
index 8cfa4158ef5..8cebf68f97f 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/BaseSettingsFragment.java
@@ -270,6 +270,15 @@ public int getStatusBarColorId() {
 		}
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		boolean nightMode = isNightMode();
+		if (isProfileDependent()) {
+			return nightMode;
+		} else {
+			return true;
+		}
+	}
+
 	@Override
 	public boolean onPreferenceChange(Preference preference, Object newValue) {
 		return onConfirmPreferenceChange(preference.getKey(), newValue, getApplyQueryType());
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
index 3eb3ce08cf3..d1f4195548a 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/RouteLineAppearanceFragment.java
@@ -269,6 +269,10 @@ public int getStatusBarColorId() {
 		return isNightMode() ? R.color.status_bar_main_dark : R.color.divider_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return isNightMode();
+	}
+
 	@Override
 	public float getToolbarAlpha(int y) {
 		return isPortrait() ? 1f : 0f;
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuItemsFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuItemsFragment.java
index d7e7b7c6d22..0d140a1c640 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuItemsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuItemsFragment.java
@@ -55,6 +55,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.activity_background_color_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(@Nullable Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuRootFragment.java b/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuRootFragment.java
index e672164a505..edaeb60b0e6 100644
--- a/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuRootFragment.java
+++ b/OsmAnd/src/net/osmand/plus/settings/fragments/configureitems/ConfigureMenuRootFragment.java
@@ -42,6 +42,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.activity_background_color_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
diff --git a/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java b/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
index d1a0fb0d847..75871f82ba6 100644
--- a/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
+++ b/OsmAnd/src/net/osmand/plus/utils/UiUtilities.java
@@ -720,6 +720,7 @@ public static void setupClickableText(@NonNull TextView textView, @NonNull Spann
 
 	public static void updateStatusBarColor(@NonNull MapActivity activity) {
 		int colorId = -1;
+		Boolean nightModeForContent = true;
 		OsmandApplication app = activity.getMyApplication();
 		OsmandSettings settings = app.getSettings();
 		MapLayers mapLayers = activity.getMapLayers();
@@ -730,18 +731,23 @@ public static void updateStatusBarColor(@NonNull MapActivity activity) {
 		BaseOsmAndFragment fragmentBelowDashboard = fragmentsHelper.getVisibleBaseOsmAndFragment(R.id.routeMenuContainer, R.id.topFragmentContainer, R.id.bottomFragmentContainer);
 		if (fragmentAboveDashboard != null) {
 			colorId = fragmentAboveDashboard.getStatusBarColorId();
+			nightModeForContent = fragmentAboveDashboard.getContentStatusBarNightMode();
 		} else if (settingsFragmentAboveDashboard != null) {
 			colorId = settingsFragmentAboveDashboard.getStatusBarColorId();
+			nightModeForContent = settingsFragmentAboveDashboard.getContentStatusBarNightMode();
+
 		} else if (activity.getDashboard().isVisible()) {
 			colorId = activity.getDashboard().getStatusBarColor();
 		} else if (fragmentBelowDashboard != null) {
 			colorId = fragmentBelowDashboard.getStatusBarColorId();
+			nightModeForContent = fragmentBelowDashboard.getContentStatusBarNightMode();
 		} else if (mapLayers.getMapQuickActionLayer() != null
 				&& mapLayers.getMapQuickActionLayer().isWidgetVisible()) {
 			colorId = R.color.status_bar_transparent_gradient;
 		}
 		if (colorId != -1) {
 			activity.getWindow().setStatusBarColor(ContextCompat.getColor(activity, colorId));
+			AndroidUiHelper.setStatusBarContentColor(activity.getWindow().getDecorView(), nightModeForContent);
 			return;
 		}
 
@@ -759,9 +765,15 @@ public static void updateStatusBarColor(@NonNull MapActivity activity) {
 			MapWidgetRegistry widgetRegistry = mapLayers.getMapWidgetRegistry();
 			int defaultColorId = night ? R.color.status_bar_transparent_dark : R.color.status_bar_transparent_light;
 			int colorIdForTopWidget = widgetRegistry.getStatusBarColor(appMode, night);
+			if (colorIdForTopWidget != -1) {
+				nightModeForContent = widgetRegistry.getStatusBarContentNightMode(appMode, night);
+			}
+
 			colorId = mapControlsVisible && colorIdForTopWidget != -1 ? colorIdForTopWidget : defaultColorId;
 			color = ContextCompat.getColor(activity, colorId);
 		}
 		activity.getWindow().setStatusBarColor(color);
+
+		AndroidUiHelper.setStatusBarContentColor(activity.getWindow().getDecorView(), nightModeForContent);
 	}
 }
diff --git a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
index 8d5f46efe4b..f78544ec40d 100644
--- a/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
+++ b/OsmAnd/src/net/osmand/plus/views/controls/VerticalWidgetPanel.java
@@ -22,6 +22,7 @@
 import net.osmand.plus.helpers.AndroidUiHelper;
 import net.osmand.plus.settings.backend.ApplicationMode;
 import net.osmand.plus.settings.backend.OsmandSettings;
+import net.osmand.plus.utils.AndroidUtils;
 import net.osmand.plus.utils.UiUtilities;
 import net.osmand.plus.views.layers.MapInfoLayer.TextState;
 import net.osmand.plus.views.layers.base.OsmandMapLayer.DrawSettings;
@@ -114,6 +115,10 @@ private void applyShadow() {
 		ViewCompat.setElevation(this, isAnyRowVisible() ? 5f : 0);
 	}
 
+	private void updateVisibility(){
+			AndroidUiHelper.updateVisibility(this, isAnyRowVisible());
+	}
+
 	public void update(@Nullable DrawSettings drawSettings) {
 		nightMode = drawSettings != null ? drawSettings.isNightMode() : nightMode;
 		Map<Integer, Row> newRows = new HashMap<>();
@@ -148,6 +153,7 @@ public void onInserted(int position, int count) {
 				}
 				visibleRows = newRows;
 				applyShadow();
+				updateVisibility();
 			}
 
 			@Override
@@ -161,6 +167,7 @@ public void onRemoved(int position, int count) {
 				}
 				visibleRows = newRows;
 				applyShadow();
+				updateVisibility();
 			}
 
 			@Override
@@ -179,8 +186,10 @@ public void onChanged(int position, int count, @Nullable Object payload) {
 				}
 				visibleRows = newRows;
 				applyShadow();
+				updateVisibility();
 			}
 		});
+		updateVisibility();
 	}
 
 	public void updateRow(@NonNull MapWidget widget) {
@@ -194,6 +203,7 @@ public void updateRow(@NonNull MapWidget widget) {
 				}
 			}
 		}
+		updateVisibility();
 	}
 
 	private void updateDividerColors(boolean nightMode) {
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
index 787a7fa4f59..96378e4b505 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/MapWidgetRegistry.java
@@ -17,6 +17,7 @@
 import net.osmand.plus.views.mapwidgets.widgets.CoordinatesBaseWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapMarkersBarWidget;
 import net.osmand.plus.views.mapwidgets.widgets.MapWidget;
+import net.osmand.plus.views.mapwidgets.widgets.SimpleWidget;
 import net.osmand.plus.views.mapwidgets.widgets.StreetNameWidget;
 import net.osmand.plus.views.mapwidgets.widgets.TextInfoWidget;
 import net.osmand.util.Algorithms;
@@ -314,13 +315,14 @@ public int getStatusBarColor(@NonNull ApplicationMode appMode, boolean nightMode
 			if (!widget.isViewVisible() || !widgetInfo.isEnabledForAppMode(appMode)) {
 				continue;
 			}
-			if (widget instanceof CoordinatesBaseWidget) {
-				return R.color.status_bar_main_dark;
-			} else if (widget instanceof StreetNameWidget) {
+			if (widget instanceof StreetNameWidget) {
 				return nightMode ? R.color.status_bar_main_dark : R.color.status_bar_main_light;
 			} else if (widget instanceof MapMarkersBarWidget) {
 				return R.color.status_bar_main_dark;
-			} else {
+			} else if(widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget){
+				return nightMode ? R.color.status_bar_secondary_dark : R.color.status_bar_secondary_light;
+			}
+			else {
 				return -1;
 			}
 		}
@@ -328,6 +330,23 @@ public int getStatusBarColor(@NonNull ApplicationMode appMode, boolean nightMode
 		return -1;
 	}
 
+	public boolean getStatusBarContentNightMode(@NonNull ApplicationMode appMode, boolean nightMode) {
+		Set<MapWidgetInfo> topWidgetsInfo = getWidgetsForPanel(WidgetsPanel.TOP);
+		for (MapWidgetInfo widgetInfo : topWidgetsInfo) {
+			MapWidget widget = widgetInfo.widget;
+			if (!widget.isViewVisible() || !widgetInfo.isEnabledForAppMode(appMode)) {
+				continue;
+			}
+			if (widget instanceof SimpleWidget || widget instanceof CoordinatesBaseWidget) {
+				return nightMode;
+			}
+			else {
+				return true;
+			}
+		}
+		return true;
+	}
+
 	public void registerWidget(@NonNull MapWidgetInfo widgetInfo) {
 		getWidgetsForPanel(widgetInfo.getWidgetPanel()).add(widgetInfo);
 		notifyWidgetRegistered(widgetInfo);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/ConfigureScreenFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/ConfigureScreenFragment.java
index f720032ab01..1c6c50ecf9a 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/ConfigureScreenFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/ConfigureScreenFragment.java
@@ -455,6 +455,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	public MapActivity requireMapActivity() {
 		FragmentActivity activity = getActivity();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/DistanceByTapFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/DistanceByTapFragment.java
index f4d3a41ae85..012d4135e3b 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/DistanceByTapFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/DistanceByTapFragment.java
@@ -209,6 +209,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@Override
 	public void onResume() {
 		super.onResume();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java
index df1bd75205f..63076e8bcee 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/dialogs/BaseWidgetFragment.java
@@ -33,6 +33,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	public MapActivity requireMapActivity() {
 		FragmentActivity activity = getActivity();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
index 94afd906f9e..2d4b1845371 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/panel/ConfigureWidgetsFragment.java
@@ -241,6 +241,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	public MapActivity requireMapActivity() {
 		FragmentActivity activity = getActivity();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
index 2a084680754..e5d9013817c 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/reorder/ReorderWidgetsFragment.java
@@ -483,6 +483,10 @@ public int getStatusBarColorId() {
 		return ColorUtilities.getListBgColorId(nightMode);
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	public MapActivity requireMapActivity() {
 		FragmentActivity activity = getActivity();
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
index f26480624e8..b5f99d18718 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/configure/settings/WidgetSettingsBaseFragment.java
@@ -149,6 +149,10 @@ public int getStatusBarColorId() {
 		return nightMode ? R.color.status_bar_main_dark : R.color.activity_background_color_light;
 	}
 
+	public boolean getContentStatusBarNightMode() {
+		return nightMode;
+	}
+
 	@NonNull
 	protected Drawable getPressedStateDrawable() {
 		int activeColor = ColorUtilities.getActiveColor(app, nightMode);
diff --git a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TimeToNavigationPointWidget.java b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TimeToNavigationPointWidget.java
index 33ca2d05a00..e09d8911b7a 100644
--- a/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TimeToNavigationPointWidget.java
+++ b/OsmAnd/src/net/osmand/plus/views/mapwidgets/widgets/TimeToNavigationPointWidget.java
@@ -43,6 +43,7 @@ public TimeToNavigationPointWidget(@NonNull MapActivity mapActivity, @NonNull Ti
 		updateIcons();
 		updateContentTitle();
 		setOnClickListener(getOnClickListener());
+		updateWidgetName();
 	}
 
 	private static WidgetType getWidgetType(boolean isIntermediate){
@@ -55,6 +56,7 @@ protected View.OnClickListener getOnClickListener() {
 			widgetState.changeToNextState();
 			updateInfo(null);
 			mapActivity.refreshMap();
+			updateWidgetName();
 		};
 	}
 
