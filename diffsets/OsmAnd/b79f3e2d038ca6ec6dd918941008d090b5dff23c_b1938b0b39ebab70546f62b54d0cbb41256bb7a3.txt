diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
index 2a5ea8c5273..cf9ae9c7179 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivity.java
@@ -827,6 +827,10 @@ public void updateStatusBarColor() {
 				getWindow().setStatusBarColor(ContextCompat.getColor(this, dashboardOnMap.getStatusBarColor()));
 				return;
 			}
+			if (mapLayers.getMapQuickActionLayer().isWidgetVisible()) {
+				getWindow().setStatusBarColor(ContextCompat.getColor(this, R.color.status_bar_transparent_gradient));
+				return;
+			}
 			boolean night = app.getDaynightHelper().isNightModeForMapControls();
 			boolean markerTopBar = mapLayers.getMapMarkersLayer().getWidgetsFactory().isTopBarVisible();
 			int colorId;
diff --git a/OsmAnd/src/net/osmand/plus/views/MapQuickActionLayer.java b/OsmAnd/src/net/osmand/plus/views/MapQuickActionLayer.java
index f08e20539af..56cf2beff99 100644
--- a/OsmAnd/src/net/osmand/plus/views/MapQuickActionLayer.java
+++ b/OsmAnd/src/net/osmand/plus/views/MapQuickActionLayer.java
@@ -181,7 +181,7 @@ private int calculateTotalSizePx(@DimenRes int... dimensId) {
         return result;
     }
 
-	private boolean isWidgetVisible() {
+	public boolean isWidgetVisible() {
 		return quickActionsWidget.getVisibility() == View.VISIBLE;
 	}
 
@@ -195,6 +195,7 @@ public boolean setLayerState(boolean showWidget) {
 
 		updateQuickActionButton(showWidget);
         quickActionsWidget.setVisibility(!showWidget ? View.GONE : View.VISIBLE);
+        mapActivity.updateStatusBarColor();
 
         if (!showWidget) {
             quitMovingMarker();
