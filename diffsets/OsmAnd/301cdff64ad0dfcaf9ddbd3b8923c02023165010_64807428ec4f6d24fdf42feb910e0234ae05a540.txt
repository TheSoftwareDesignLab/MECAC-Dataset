diff --git a/OsmAnd/res/values/strings.xml b/OsmAnd/res/values/strings.xml
index b98141f596c..cc48db72fd9 100644
--- a/OsmAnd/res/values/strings.xml
+++ b/OsmAnd/res/values/strings.xml
@@ -10,6 +10,7 @@
 	- For wording and consistency, please note https://docs.osmand.net/docs/technical/contributions/translating-osmand
 	Thx - Hardy
 -->
+    <string name="show_toast_about_key_pressed">Show toast about pressed key</string>
     <string name="key_is_already_assigned_error">The \"%1$s\" key is already assigned to another action: \"%2$s\"</string>
     <string name="press_button_to_link_with_action">Press the button on your device to link it with the chosen action.</string>
     <string name="shared_string_button">Button</string>
diff --git a/OsmAnd/res/xml/development_settings.xml b/OsmAnd/res/xml/development_settings.xml
index 42cb4fd5dcd..78afc9d4eb0 100644
--- a/OsmAnd/res/xml/development_settings.xml
+++ b/OsmAnd/res/xml/development_settings.xml
@@ -101,6 +101,13 @@
 		android:summary="@string/logcat_buffer_descr"
 		android:title="@string/logcat_buffer" />
 
+	<net.osmand.plus.settings.preferences.SwitchPreferenceEx
+		android:key="show_info_about_pressed_key"
+		android:layout="@layout/preference_with_descr_dialog_and_switch"
+		android:summaryOff="@string/shared_string_disabled"
+		android:summaryOn="@string/shared_string_enabled"
+		android:title="@string/show_toast_about_key_pressed" />
+
 	<PreferenceCategory
 		android:key="trip_recording"
 		android:layout="@layout/preference_category_with_descr"
diff --git a/OsmAnd/src/net/osmand/plus/keyevent/KeyEventHelper.java b/OsmAnd/src/net/osmand/plus/keyevent/KeyEventHelper.java
index 01afd4ae800..3f118c022be 100644
--- a/OsmAnd/src/net/osmand/plus/keyevent/KeyEventHelper.java
+++ b/OsmAnd/src/net/osmand/plus/keyevent/KeyEventHelper.java
@@ -61,6 +61,9 @@ public void setExternalCallback(@Nullable Callback externalCallback) {
 
 	@Override
 	public boolean onKeyDown(int keyCode, KeyEvent event) {
+		if (!isFromExternalDevice(event)) {
+			return false;
+		}
 		if (externalCallback != null) {
 			return externalCallback.onKeyDown(keyCode, event);
 		}
@@ -73,6 +76,9 @@ public boolean onKeyDown(int keyCode, KeyEvent event) {
 
 	@Override
 	public boolean onKeyLongPress(int keyCode, KeyEvent event) {
+		if (!isFromExternalDevice(event)) {
+			return false;
+		}
 		if (externalCallback != null) {
 			return externalCallback.onKeyLongPress(keyCode, event);
 		}
@@ -82,9 +88,12 @@ public boolean onKeyLongPress(int keyCode, KeyEvent event) {
 
 	@Override
 	public boolean onKeyUp(int keyCode, KeyEvent event) {
-//		int deviceId = event.getDeviceId();
-//		String keyLabel = KeySymbolMapper.getKeySymbol(keyCode);
-//		app.showShortToastMessage("Device id: " + deviceId + ", key code: " + keyCode + " '" + keyLabel + "'");
+		if (settings.SHOW_INFO_ABOUT_PRESSED_KEY.get()) {
+			showToastAboutPressedKey(event);
+		}
+		if (!isFromExternalDevice(event)) {
+			return false;
+		}
 		if (externalCallback != null) {
 			return externalCallback.onKeyUp(keyCode, event);
 		}
@@ -97,6 +106,9 @@ public boolean onKeyUp(int keyCode, KeyEvent event) {
 
 	@Override
 	public boolean onKeyMultiple(int keyCode, int count, KeyEvent event) {
+		if (!isFromExternalDevice(event)) {
+			return false;
+		}
 		if (externalCallback != null) {
 			return externalCallback.onKeyMultiple(keyCode, count, event);
 		}
@@ -104,6 +116,13 @@ public boolean onKeyMultiple(int keyCode, int count, KeyEvent event) {
 		return command != null && command.onKeyMultiple(keyCode, count, event);
 	}
 
+	private void showToastAboutPressedKey(@NonNull KeyEvent keyEvent) {
+		int keyCode = keyEvent.getKeyCode();
+		int deviceId = keyEvent.getDeviceId();
+		String keyLabel = KeySymbolMapper.getKeySymbol(keyCode);
+		app.showShortToastMessage("Device id: " + deviceId + ", key code: " + keyCode + ", label: \"" + keyLabel + "\"");
+	}
+
 	@Nullable
 	private KeyEventCommand findCommand(int keyCode) {
 		if (mapActivity == null || isLetterKeyCode(keyCode) && !mapActivity.isMapVisible()) {
@@ -134,6 +153,10 @@ public MapActivity getMapActivity() {
 		return mapActivity;
 	}
 
+	private static boolean isFromExternalDevice(@NonNull KeyEvent keyEvent) {
+		return keyEvent.getDeviceId() > 0;
+	}
+
 	private static boolean isLetterKeyCode(int keyCode) {
 		return keyCode >= KeyEvent.KEYCODE_A && keyCode <= KeyEvent.KEYCODE_Z;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java b/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
index cb11c1c3cef..1eb702f2331 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/development/DevelopmentSettingsFragment.java
@@ -76,6 +76,7 @@ protected void setupPreferences() {
 		setupShouldShowFreeVersionBannerPref();
 		setupTestVoiceCommandsPref();
 		setupLogcatBufferPref();
+		setupPressedKeyInfoPref();
 
 		setupTripRecordingPrefs();
 
@@ -156,6 +157,12 @@ private void setupLogcatBufferPref() {
 		logcatBuffer.setIconSpaceReserved(false);
 	}
 
+	private void setupPressedKeyInfoPref() {
+		SwitchPreferenceEx debugRenderingInfo = findPreference(settings.SHOW_INFO_ABOUT_PRESSED_KEY.getId());
+		debugRenderingInfo.setDescription(getString(R.string.show_toast_about_key_pressed));
+		debugRenderingInfo.setIconSpaceReserved(false);
+	}
+
 	private void setupTripRecordingPrefs() {
 		Preference routingCategory = findPreference("trip_recording");
 		routingCategory.setIconSpaceReserved(false);
diff --git a/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java b/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
index 06826ba30c1..8b75b34d55f 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/development/OsmandDevelopmentPlugin.java
@@ -73,6 +73,7 @@ public OsmandDevelopmentPlugin(@NonNull OsmandApplication app) {
 		pluginPreferences.add(settings.SHOULD_SHOW_FREE_VERSION_BANNER);
 		pluginPreferences.add(settings.TRANSPARENT_STATUS_BAR);
 		pluginPreferences.add(settings.MEMORY_ALLOCATED_FOR_ROUTING);
+		pluginPreferences.add(settings.SHOW_INFO_ABOUT_PRESSED_KEY);
 
 		USE_RASTER_SQLITEDB = registerBooleanPreference("use_raster_sqlitedb", false).makeGlobal().makeShared().cache();
 		SAVE_BEARING_TO_GPX = registerBooleanPreference("save_bearing_to_gpx", false).makeGlobal().makeShared().cache();
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index f7898e84265..df562816132 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -1828,6 +1828,8 @@ public boolean shouldHidePolygons(boolean groundPolygons) {
 
 	public final OsmandPreference<Boolean> TRANSPARENT_STATUS_BAR = new BooleanPreference(this, "transparent_status_bar", true).makeGlobal().makeShared();
 
+	public final OsmandPreference<Boolean> SHOW_INFO_ABOUT_PRESSED_KEY = new BooleanPreference(this, "show_info_about_pressed_key", false).makeGlobal().makeShared();
+
 	public final ListStringPreference LEFT_WIDGET_PANEL_ORDER = (ListStringPreference) new ListStringPreference(this,
 			"left_widget_panel_order", TextUtils.join(WIDGET_SEPARATOR, WidgetsPanel.LEFT.getOriginalOrder()), PAGE_SEPARATOR).makeProfile();
 
