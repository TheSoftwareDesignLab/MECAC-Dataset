diff --git a/OsmAnd/src/net/osmand/plus/ContextMenuAdapter.java b/OsmAnd/src/net/osmand/plus/ContextMenuAdapter.java
index 6a05477fa69..c4e86e7ef57 100644
--- a/OsmAnd/src/net/osmand/plus/ContextMenuAdapter.java
+++ b/OsmAnd/src/net/osmand/plus/ContextMenuAdapter.java
@@ -7,6 +7,7 @@
 import android.app.Activity;
 import android.content.Context;
 import android.graphics.Typeface;
+import android.os.Build;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.ArrayAdapter;
@@ -25,11 +26,14 @@ public interface OnContextMenuClick {
 	
 	private final Context ctx;
 	private View anchor;
+	private int defaultLayoutId = Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB ?
+			R.layout.list_menu_item : R.layout.list_menu_item_native;
 	final TIntArrayList items = new TIntArrayList();
 	final TIntArrayList isCategory = new TIntArrayList();
 	final ArrayList<String> itemNames = new ArrayList<String>();
 	final ArrayList<OnContextMenuClick> listeners = new ArrayList<ContextMenuAdapter.OnContextMenuClick>();
 	final TIntArrayList selectedList = new TIntArrayList();
+	final TIntArrayList layoutIds = new TIntArrayList();
 	final TIntArrayList iconList = new TIntArrayList();
 	final TIntArrayList iconListLight = new TIntArrayList();
 
@@ -80,6 +84,14 @@ public int getImageId(int pos, boolean light) {
 		return iconListLight.get(pos);
 	}
 	
+	public int getBackgroundColor(Context ctx, boolean holoLight) {
+		if (holoLight) {
+			return ctx.getResources().getColor(R.color.color_white);
+		} else {
+			return ctx.getResources().getColor(R.color.dark_drawer_bg_color);
+		}
+	}
+	
 	
 	public boolean isCategory(int pos) {
 		return isCategory.get(pos) > 0;
@@ -105,6 +117,7 @@ public class Item {
 		int id;
 		String name;
 		int selected = -1;
+		int layout = -1;
 		boolean cat;
 		int pos = -1;
 		private OnContextMenuClick listener;
@@ -132,6 +145,11 @@ public Item selected(int selected) {
 			this.selected = selected;
 			return this;
 		}
+		
+		public Item layout(int l) {
+			this.layout = l;
+			return this;
+		}
 
 		public Item listen(OnContextMenuClick l) {
 			this.listener = l;
@@ -146,6 +164,7 @@ public void reg() {
 			items.insert(pos, id);
 			itemNames.add(pos, name);
 			selectedList.insert(pos, selected);
+			layoutIds.insert(pos, layout);
 			iconList.insert(pos, icon);
 			iconListLight.insert(pos, lightIcon);
 			listeners.add(pos, listener);
@@ -171,20 +190,31 @@ public void removeItem(int pos) {
 		iconListLight.removeAt(pos);
 		listeners.remove(pos);
 		isCategory.removeAt(pos);
+		layoutIds.removeAt(pos);
 	}
 
+	public int getLayoutId(int position) {
+		int l = layoutIds.get(position);
+		if(l != -1) {
+			return l;
+		}
+		return defaultLayoutId; 
+	}
 	
 
-	public ListAdapter createListAdapter(final Activity activity, final int layoutId, final boolean holoLight) {
+	public ListAdapter createListAdapter(final Activity activity, final boolean holoLight) {
 		final int padding = (int) (12 * activity.getResources().getDisplayMetrics().density + 0.5f);
+		final int layoutId = defaultLayoutId;
 		ListAdapter listadapter = new ArrayAdapter<String>(activity, layoutId, R.id.title,
 				getItemNames()) {
 			@Override
 			public View getView(final int position, View convertView, ViewGroup parent) {
 				// User super class to create the View
 				View v = convertView;
-				if (v == null) {
-					v = activity.getLayoutInflater().inflate(layoutId, null);
+				Integer lid = getLayoutId(position);
+				if (v == null || (v.getTag() != lid)) {
+					v = activity.getLayoutInflater().inflate(lid, null);
+					v.setTag(lid);
 				}
 				TextView tv = (TextView) v.findViewById(R.id.title);
 				tv.setText(getItemName(position));
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java b/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
index 5696960fb62..f3a46cc4d4d 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivityActions.java
@@ -500,14 +500,8 @@ public void contextMenuPoint(final double latitude, final double longitude, fina
 		getMyApplication().getAppCustomization().prepareLocationMenu(mapActivity, adapter);
 		
 		final Builder builder = new AlertDialog.Builder(mapActivity);
-		ListAdapter listAdapter ;
-		if(Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB){
-			listAdapter =
-				adapter.createListAdapter(mapActivity, R.layout.list_menu_item, getMyApplication().getSettings().isLightContentMenu());
-		} else {
-			listAdapter =
-				adapter.createListAdapter(mapActivity, R.layout.list_menu_item_native, getMyApplication().getSettings().isLightContentMenu());
-		}
+		ListAdapter listAdapter =
+				adapter.createListAdapter(mapActivity, getMyApplication().getSettings().isLightContentMenu());
 		builder.setAdapter(listAdapter, new DialogInterface.OnClickListener() {
 
 			@Override
@@ -759,21 +753,10 @@ public void prepareStartOptionsMenu(){
 	}
 
 	public void prepareOptionsMenu(final ContextMenuAdapter cm) {
-		ListAdapter listAdapter;
-		if(Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB){
-			listAdapter =
-					cm.createListAdapter(mapActivity, R.layout.list_menu_item, getMyApplication().getSettings().isLightContentMenu());
-		} else {
-			listAdapter =
-					cm.createListAdapter(mapActivity, R.layout.list_menu_item_native, getMyApplication().getSettings().isLightContentMenu());
-		}
+		ListAdapter listAdapter =
+				cm.createListAdapter(mapActivity, getMyApplication().getSettings().isLightContentMenu());
 		mDrawerList.setAdapter(listAdapter);
-
-		if (getMyApplication().getSettings().isLightContentMenu()){
-			mDrawerList.setBackgroundColor(mapActivity.getResources().getColor(R.color.color_white));
-		} else {
-			mDrawerList.setBackgroundColor(mapActivity.getResources().getColor(R.color.dark_drawer_bg_color));
-		}
+		mDrawerList.setBackgroundColor(cm.getBackgroundColor(mapActivity, getMyApplication().getSettings().isLightContentMenu()));
 		mDrawerList.setOnItemClickListener(new AdapterView.OnItemClickListener() {
 
 			@Override
diff --git a/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java b/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
index 5b3301cf5d8..72c979f0aa5 100644
--- a/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
+++ b/OsmAnd/src/net/osmand/plus/activities/MapActivityLayers.java
@@ -359,14 +359,7 @@ public AlertDialog selectPOIFilterLayer(final OsmandMapTileView mapView, final P
 			it.reg();
 		}
 		Builder builder = new AlertDialog.Builder(activity);
-		ListAdapter listAdapter ;
-		if(Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB){
-			listAdapter =
-				adapter.createListAdapter(activity, R.layout.list_menu_item, app.getSettings().isLightContentMenu());
-		} else {
-			listAdapter =
-				adapter.createListAdapter(activity, R.layout.list_menu_item_native, app.getSettings().isLightContentMenu());
-		}
+		ListAdapter listAdapter =adapter.createListAdapter(activity, app.getSettings().isLightContentMenu());
 		builder.setAdapter(listAdapter, new DialogInterface.OnClickListener(){
 
 			@Override
diff --git a/OsmAnd/src/net/osmand/plus/configuremap/ConfigureMapMenu.java b/OsmAnd/src/net/osmand/plus/configuremap/ConfigureMapMenu.java
index 7330cce19bc..cc3384dac4b 100644
--- a/OsmAnd/src/net/osmand/plus/configuremap/ConfigureMapMenu.java
+++ b/OsmAnd/src/net/osmand/plus/configuremap/ConfigureMapMenu.java
@@ -27,7 +27,6 @@ public class ConfigureMapMenu {
 
 	public ContextMenuAdapter createListAdapter(final MapActivity ma) {
 		ContextMenuAdapter adapter = new ContextMenuAdapter(ma);
-		adapter.item(R.string.layers_category_show).setCategory(true).reg();
 		adapter.item(R.string.configure_map).icons(R.drawable.ic_back_drawer_dark, R.drawable.ic_back_drawer_white)
 				.listen(new OnContextMenuClick() {
 
