diff --git a/OsmAnd/src/net/osmand/core/android/MapRendererContext.java b/OsmAnd/src/net/osmand/core/android/MapRendererContext.java
index 2132c8cc953..83753461634 100644
--- a/OsmAnd/src/net/osmand/core/android/MapRendererContext.java
+++ b/OsmAnd/src/net/osmand/core/android/MapRendererContext.java
@@ -319,7 +319,7 @@ protected QStringStringHash getMapStyleSettings() {
 			if (property.isBoolean()) {
 				properties.put(attrName, settings.getRenderBooleanPropertyValue(attrName) + "");
 			} else {
-				String value = settings.getRenderPropertyValue(attrName);
+				String value = settings.getRenderPropertyValue(property);
 				if (!Algorithms.isEmpty(value)) {
 					properties.put(attrName, value);
 				}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapDialogs.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapDialogs.java
index c457ff7ec51..584c8564480 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapDialogs.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapDialogs.java
@@ -259,12 +259,7 @@ protected static void showRenderingPropertyDialog(
 		OsmandApplication app = activity.getMyApplication();
 		String title = AndroidUtils.getRenderingStringPropertyDescription(app, p.getAttrName(), p.getName());
 		String[] possibleValuesString = ConfigureMapUtils.getRenderingPropertyPossibleValues(app, p);
-		int selectedIndex = Arrays.asList(p.getPossibleValues()).indexOf(pref.get());
-		if (selectedIndex >= 0) {
-			selectedIndex++;
-		} else if (Algorithms.isEmpty(pref.get())) {
-			selectedIndex = 0;
-		}
+		int selectedIndex = AndroidUtils.getRenderPropertySelectedValueIndex(app, p);
 
 		AlertDialogData dialogData = new AlertDialogData(activity, nightMode)
 				.setTitle(title)
@@ -279,7 +274,7 @@ protected static void showRenderingPropertyDialog(
 				pref.set(p.getPossibleValues()[which - 1]);
 			}
 			activity.refreshMapComplete();
-			item.setDescription(AndroidUtils.getRenderingStringPropertyValue(activity, pref.get()));
+			item.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, p));
 			String id = item.getId();
 			if (!Algorithms.isEmpty(id)) {
 				uiAdapter.onRefreshItem(id);
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
index dcdbee5108f..c389c06ae30 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapMenu.java
@@ -398,7 +398,7 @@ private void createRenderingAttributeItems(List<RenderingRuleProperty> customRul
 				})
 				.setItemDeleteAction(settings.MAP_DENSITY));
 
-		ContextMenuItem props = createRenderingProperty(customRules, adapter, activity,
+		ContextMenuItem props = createRenderingProperty(customRules, activity,
 				R.drawable.ic_action_intersection, ROAD_STYLE_ATTR, ROAD_STYLE_ID, nightMode);
 		if (props != null) {
 			adapter.addItem(props);
@@ -534,7 +534,7 @@ private void createCustomRenderingProperties(ContextMenuAdapter adapter, MapActi
 	                                             boolean nightMode) {
 		for (RenderingRuleProperty p : customRules) {
 			if (isPropertyAccepted(p)) {
-				adapter.addItem(createRenderingProperty(adapter, activity, INVALID_ID, p, CUSTOM_RENDERING_ITEMS_ID_SCHEME + p.getName(), nightMode));
+				adapter.addItem(createRenderingProperty(activity, INVALID_ID, p, CUSTOM_RENDERING_ITEMS_ID_SCHEME + p.getName(), nightMode));
 			}
 		}
 	}
@@ -550,32 +550,28 @@ private int getCustomRenderingPropertiesSize(List<RenderingRuleProperty> customR
 	}
 
 	private ContextMenuItem createRenderingProperty(List<RenderingRuleProperty> customRules,
-	                                                ContextMenuAdapter adapter, MapActivity activity,
+	                                                MapActivity activity,
 	                                                @DrawableRes int icon, String attrName, String id,
 	                                                boolean nightMode) {
 		for (RenderingRuleProperty p : customRules) {
 			if (p.getAttrName().equals(attrName)) {
-				return createRenderingProperty(adapter, activity, icon, p, id, nightMode);
+				return createRenderingProperty(activity, icon, p, id, nightMode);
 			}
 		}
 		return null;
 	}
 
-	public static ContextMenuItem createRenderingProperty(ContextMenuAdapter adapter, MapActivity activity,
-	                                                      @DrawableRes int icon, RenderingRuleProperty p, String id,
+	public static ContextMenuItem createRenderingProperty(MapActivity activity, @DrawableRes int icon,
+	                                                      RenderingRuleProperty p, String id,
 	                                                      boolean nightMode) {
 		OsmandApplication app = activity.getMyApplication();
+		OsmandSettings settings = app.getSettings();
 		if (p.isBoolean()) {
 			String name = AndroidUtils.getRenderingStringPropertyName(activity, p.getAttrName(), p.getName());
 			return createBooleanRenderingProperty(activity, p.getAttrName(), name, id, p, icon, nightMode, null);
 		} else {
-			CommonPreference<String> pref = app.getSettings().getCustomRenderProperty(p.getAttrName());
-			String descr;
-			if (!Algorithms.isEmpty(pref.get())) {
-				descr = AndroidUtils.getRenderingStringPropertyValue(activity, pref.get());
-			} else {
-				descr = AndroidUtils.getRenderingStringPropertyValue(app, p.getDefaultValueDescription());
-			}
+			CommonPreference<String> pref = settings.getCustomRenderProperty(p.getAttrName());
+			String description = AndroidUtils.getRenderingStringPropertyValue(app, p);
 			String propertyName = AndroidUtils.getRenderingStringPropertyName(app, p.getAttrName(), p.getName());
 			ContextMenuItem item = new ContextMenuItem(id)
 					.setTitle(propertyName)
@@ -585,7 +581,7 @@ public static ContextMenuItem createRenderingProperty(ContextMenuAdapter adapter
 						}
 						return false;
 					})
-					.setDescription(descr)
+					.setDescription(description)
 					.setItemDeleteAction(pref)
 					.setLayout(R.layout.list_item_single_line_descrition_narrow);
 			if (icon != INVALID_ID) {
diff --git a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
index 9ce1a6a0562..bb563132175 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/ConfigureMapUtils.java
@@ -103,12 +103,15 @@ public static List<RenderingRuleProperty> getCustomRules(@NonNull OsmandApplicat
 		return customRules;
 	}
 
-	protected static String[] getRenderingPropertyPossibleValues(OsmandApplication app, RenderingRuleProperty p) {
-		String[] possibleValuesString = new String[p.getPossibleValues().length + 1];
+	@NonNull
+	protected static String[] getRenderingPropertyPossibleValues(@NonNull OsmandApplication app,
+	                                                             @NonNull RenderingRuleProperty p) {
+		String[] possibleValues = p.getPossibleValues();
+		String[] possibleValuesString = new String[possibleValues.length + 1];
 		possibleValuesString[0] = AndroidUtils.getRenderingStringPropertyValue(app, p.getDefaultValueDescription());
 
-		for (int j = 0; j < p.getPossibleValues().length; j++) {
-			possibleValuesString[j + 1] = AndroidUtils.getRenderingStringPropertyValue(app, p.getPossibleValues()[j]);
+		for (int j = 0; j < possibleValues.length; j++) {
+			possibleValuesString[j + 1] = AndroidUtils.getRenderingStringPropertyValue(app, possibleValues[j]);
 		}
 		return possibleValuesString;
 	}
diff --git a/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java b/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
index 4870d2c7f84..1c589244116 100644
--- a/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
+++ b/OsmAnd/src/net/osmand/plus/configmap/routes/RouteLayersHelper.java
@@ -22,8 +22,6 @@
 import net.osmand.render.RenderingRuleProperty;
 import net.osmand.util.Algorithms;
 
-import java.util.Arrays;
-import java.util.List;
 import java.util.Objects;
 
 public class RouteLayersHelper {
@@ -219,8 +217,7 @@ public void updateHikingRoutesValue(@NonNull String value) {
 
 	public boolean isHikingRoutesEnabled() {
 		RenderingRuleProperty property = getHikingRenderingRuleProperty();
-		List<String> possibleValues = property != null ? Arrays.asList(property.getPossibleValues()) : null;
-		return possibleValues != null && possibleValues.contains(hikingRoutesPreference.get());
+		return property != null && property.containsValue(hikingRoutesPreference.get());
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/plugins/openseamaps/NauticalDepthContourFragment.java b/OsmAnd/src/net/osmand/plus/plugins/openseamaps/NauticalDepthContourFragment.java
index c38a2908053..f9864ad9265 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/openseamaps/NauticalDepthContourFragment.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/openseamaps/NauticalDepthContourFragment.java
@@ -113,19 +113,17 @@ private void setupPropertyPreferences(@NonNull View view) {
 
 	private View createPropertyView(@NonNull RenderingRuleProperty property, @NonNull LayoutInflater inflater, @Nullable ViewGroup container) {
 		String attrName = property.getAttrName();
-		View view = inflater.inflate(R.layout.configure_screen_list_item, container, false);
+		CommonPreference<String> pref = settings.getCustomRenderProperty(attrName);
 
+		View view = inflater.inflate(R.layout.configure_screen_list_item, container, false);
 		ImageView icon = view.findViewById(R.id.icon);
 		TextView title = view.findViewById(R.id.title);
 		TextView description = view.findViewById(R.id.description);
 		AndroidUiHelper.updateVisibility(description, true);
 
-		CommonPreference<String> pref = settings.getCustomRenderProperty(attrName);
-		String propertyValue = Algorithms.isEmpty(pref.get()) ? property.getDefaultValueDescription() : pref.get();
-
 		icon.setImageDrawable(getPropertyIcon(attrName));
 		title.setText(AndroidUtils.getRenderingStringPropertyName(app, attrName, property.getName()));
-		description.setText(AndroidUtils.getRenderingStringPropertyValue(app, propertyValue));
+		description.setText(AndroidUtils.getRenderingStringPropertyValue(app, property));
 
 		View button = view.findViewById(R.id.button_container);
 		button.setOnClickListener(v -> showPreferenceDialog(property, pref, description));
diff --git a/OsmAnd/src/net/osmand/plus/plugins/osmedit/OsmEditingPlugin.java b/OsmAnd/src/net/osmand/plus/plugins/osmedit/OsmEditingPlugin.java
index a37d16495d5..abbe44de966 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/osmedit/OsmEditingPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/osmedit/OsmEditingPlugin.java
@@ -472,7 +472,7 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter, @Nu
 			if (RENDERING_CATEGORY_OSM_ASSISTANT.equals(property.getCategory())) {
 				iterator.remove();
 				String id = OPEN_STREET_MAP_ITEMS_ID_SCHEME + property.getAttrName();
-				adapter.addItem(ConfigureMapMenu.createRenderingProperty(adapter, mapActivity, INVALID_ID, property, id, nightMode));
+				adapter.addItem(ConfigureMapMenu.createRenderingProperty(mapActivity, INVALID_ID, property, id, nightMode));
 			}
 		}
 	}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesAction.java b/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesAction.java
index 9b81d238593..526b16ca339 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesAction.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesAction.java
@@ -8,6 +8,7 @@
 
 import net.osmand.plus.OsmandApplication;
 import net.osmand.plus.plugins.PluginsHelper;
+import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
@@ -46,8 +47,8 @@ public void execute(@NonNull MapActivity mapActivity) {
 				OsmandApplication app = mapActivity.getMyApplication();
 				RenderingRuleProperty contourLinesProp = app.getRendererRegistry().getCustomRenderingRuleProperty(CONTOUR_LINES_ATTR);
 				if (contourLinesProp != null) {
-					CommonPreference<String> pref = app.getSettings().getCustomRenderProperty(contourLinesProp.getAttrName());
-					if (!pref.get().equals(CONTOUR_LINES_DISABLED_VALUE)) {
+					OsmandSettings settings = app.getSettings();
+					if (!settings.getRenderPropertyValue(contourLinesProp).equals(CONTOUR_LINES_DISABLED_VALUE)) {
 						PluginsHelper.enablePluginIfNeeded(mapActivity, app, plugin, true);
 					}
 					mapActivity.refreshMapComplete();
diff --git a/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesMenu.java b/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesMenu.java
index 761010c2e2a..acc44092714 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesMenu.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/srtm/ContourLinesMenu.java
@@ -60,8 +60,8 @@ public static ContextMenuAdapter createListAdapter(MapActivity mapActivity) {
 		return adapter;
 	}
 
-	private static void createLayersItems(ContextMenuAdapter contextMenuAdapter,
-	                                      MapActivity mapActivity) {
+	private static void createLayersItems(@NonNull ContextMenuAdapter contextMenuAdapter,
+	                                      @NonNull MapActivity mapActivity) {
 		OsmandApplication app = mapActivity.getMyApplication();
 		OsmandSettings settings = app.getSettings();
 		SRTMPlugin plugin = PluginsHelper.getPlugin(SRTMPlugin.class);
@@ -107,7 +107,7 @@ private static void createLayersItems(ContextMenuAdapter contextMenuAdapter,
 		OnRowItemClick l = new OnRowItemClick() {
 
 			@Override
-			public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter,
+			public boolean onContextMenuClick(@NonNull OnDataChangeUiAdapter uiAdapter,
 			                                  @Nullable View view, @NotNull ContextMenuItem item,
 			                                  boolean isChecked) {
 				int itemId = item.getTitleId();
@@ -117,35 +117,31 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter,
 						mapActivity.refreshMapComplete();
 					}));
 				} else if (itemId == showZoomLevelStringId) {
-					plugin.selectPropertyValue(mapActivity, contourLinesProp, pref, () -> {
-						item.setDescription(plugin.getPrefDescription(app, contourLinesProp, pref));
-						uiAdapter.onDataSetChanged();
-						mapActivity.refreshMapComplete();
-					});
+					plugin.selectPropertyValue(mapActivity, contourLinesProp, pref,
+							() -> onPropertyValueSelected(uiAdapter, item, contourLinesProp));
 				} else if (itemId == colorSchemeStringId) {
-					plugin.selectPropertyValue(mapActivity, colorSchemeProp, colorPref, () -> {
-						item.setDescription(plugin.getPrefDescription(app, colorSchemeProp, colorPref));
-						uiAdapter.onDataSetChanged();
-						mapActivity.refreshMapComplete();
-					});
+					plugin.selectPropertyValue(mapActivity, colorSchemeProp, colorPref,
+							() -> onPropertyValueSelected(uiAdapter, item, colorSchemeProp));
 				} else if (itemId == R.string.download_srtm_maps) {
 					ChoosePlanFragment.showInstance(mapActivity, OsmAndFeature.TERRAIN);
 					closeDashboard(mapActivity);
 				} else if (contourWidthProp != null && itemId == contourWidthName.hashCode()) {
-					plugin.selectPropertyValue(mapActivity, contourWidthProp, widthPref, () -> {
-						item.setDescription(plugin.getPrefDescription(app, contourWidthProp, widthPref));
-						uiAdapter.onDataSetChanged();
-						mapActivity.refreshMapComplete();
-					});
+					plugin.selectPropertyValue(mapActivity, contourWidthProp, widthPref,
+							() -> onPropertyValueSelected(uiAdapter, item, contourWidthProp));
 				} else if (contourDensityProp != null && itemId == contourDensityName.hashCode()) {
-					plugin.selectPropertyValue(mapActivity, contourDensityProp, densityPref, () -> {
-						item.setDescription(plugin.getPrefDescription(app, contourDensityProp, densityPref));
-						uiAdapter.onDataSetChanged();
-						mapActivity.refreshMapComplete();
-					});
+					plugin.selectPropertyValue(mapActivity, contourDensityProp, densityPref,
+							() -> onPropertyValueSelected(uiAdapter, item, contourDensityProp));
 				}
 				return false;
 			}
+
+			private void onPropertyValueSelected(@NonNull OnDataChangeUiAdapter uiAdapter,
+			                                     @NonNull ContextMenuItem item,
+			                                     @NonNull RenderingRuleProperty property) {
+				item.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, property));
+				uiAdapter.onDataSetChanged();
+				mapActivity.refreshMapComplete();
+			}
 		};
 
 		boolean nightMode = mapActivity.getMyApplication().getDaynightHelper().isNightModeForMapControls();
@@ -171,20 +167,20 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter,
 					.setTitleId(showZoomLevelStringId, mapActivity)
 					.setLayout(R.layout.list_item_single_line_descrition_narrow)
 					.setIcon(R.drawable.ic_action_map_magnifier)
-					.setDescription(plugin.getPrefDescription(app, contourLinesProp, pref))
+					.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, contourLinesProp))
 					.setListener(l));
 			contextMenuAdapter.addItem(new ContextMenuItem(null)
 					.setTitleId(colorSchemeStringId, mapActivity)
 					.setLayout(R.layout.list_item_single_line_descrition_narrow)
 					.setIcon(R.drawable.ic_action_appearance)
-					.setDescription(plugin.getPrefDescription(app, colorSchemeProp, colorPref))
+					.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, colorSchemeProp))
 					.setListener(l));
 			if (contourWidthProp != null) {
 				contextMenuAdapter.addItem(new ContextMenuItem(null)
 						.setTitle(contourWidthName)
 						.setLayout(R.layout.list_item_single_line_descrition_narrow)
 						.setIcon(R.drawable.ic_action_gpx_width_thin)
-						.setDescription(plugin.getPrefDescription(app, contourWidthProp, widthPref))
+						.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, contourWidthProp))
 						.setListener(l));
 			}
 			if (contourDensityProp != null) {
@@ -192,7 +188,7 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter,
 						.setTitle(contourDensityName)
 						.setLayout(R.layout.list_item_single_line_descrition_narrow)
 						.setIcon(R.drawable.ic_plugin_srtm)
-						.setDescription(plugin.getPrefDescription(app, contourDensityProp, densityPref))
+						.setDescription(AndroidUtils.getRenderingStringPropertyValue(app, contourDensityProp))
 						.setListener(l));
 			}
 		}
diff --git a/OsmAnd/src/net/osmand/plus/plugins/srtm/SRTMPlugin.java b/OsmAnd/src/net/osmand/plus/plugins/srtm/SRTMPlugin.java
index ce2558a32bf..4bebf9f7660 100644
--- a/OsmAnd/src/net/osmand/plus/plugins/srtm/SRTMPlugin.java
+++ b/OsmAnd/src/net/osmand/plus/plugins/srtm/SRTMPlugin.java
@@ -407,20 +407,19 @@ public boolean onRowItemClick(@NonNull OnDataChangeUiAdapter uiAdapter, @NonNull
 			}
 
 			@Override
-			public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter, @Nullable View view, @NotNull ContextMenuItem item, boolean isChecked) {
+			public boolean onContextMenuClick(@NonNull OnDataChangeUiAdapter uiAdapter, @Nullable View view, @NotNull ContextMenuItem item, boolean isChecked) {
 				int itemId = item.getTitleId();
 				if (itemId == R.string.download_srtm_maps) {
 					toggleContourLines(mapActivity, isChecked, () -> {
 						RenderingRuleProperty contourLinesProp = app.getRendererRegistry().getCustomRenderingRuleProperty(CONTOUR_LINES_ATTR);
 						if (contourLinesProp != null) {
-							CommonPreference<String> pref = settings.getCustomRenderProperty(contourLinesProp.getAttrName());
-							boolean selected = !pref.get().equals(CONTOUR_LINES_DISABLED_VALUE);
+							boolean selected = !settings.getRenderPropertyValue(contourLinesProp).equals(CONTOUR_LINES_DISABLED_VALUE);
 
 							SRTMPlugin plugin = PluginsHelper.getPlugin(SRTMPlugin.class);
 							PluginsHelper.enablePluginIfNeeded(mapActivity, mapActivity.getMyApplication(), plugin, true);
 
 							item.setDescription(app.getString(R.string.display_zoom_level,
-									getPrefDescription(app, contourLinesProp, pref)));
+									AndroidUtils.getRenderingStringPropertyValue(app, contourLinesProp)));
 							item.setColor(app, selected ? R.color.osmand_orange : ContextMenuItem.INVALID_ID);
 							item.setSelected(selected);
 							uiAdapter.onDataSetChanged();
@@ -459,9 +458,8 @@ public boolean onContextMenuClick(@Nullable OnDataChangeUiAdapter uiAdapter, @Nu
 
 		RenderingRuleProperty contourLinesProp = app.getRendererRegistry().getCustomRenderingRuleProperty(CONTOUR_LINES_ATTR);
 		if (contourLinesProp != null) {
-			CommonPreference<String> pref = settings.getCustomRenderProperty(contourLinesProp.getAttrName());
 			boolean contourLinesSelected = isContourLinesLayerEnabled(app);
-			String descr = getPrefDescription(app, contourLinesProp, pref);
+			String descr = AndroidUtils.getRenderingStringPropertyValue(app, contourLinesProp);
 			adapter.addItem(new ContextMenuItem(CONTOUR_LINES)
 					.setTitleId(R.string.download_srtm_maps, mapActivity)
 					.setSelected(contourLinesSelected)
@@ -570,15 +568,6 @@ public void toggleTerrain(boolean isChecked, Runnable callback) {
 		}
 	}
 
-	public String getPrefDescription(Context ctx, RenderingRuleProperty p, CommonPreference<String> pref) {
-		String value = pref.get();
-		if (!Algorithms.isEmpty(value) && p.containsValue(value)) {
-			return AndroidUtils.getRenderingStringPropertyValue(ctx, pref.get());
-		} else {
-			return AndroidUtils.getRenderingStringPropertyValue(ctx, p.getDefaultValueDescription());
-		}
-	}
-
 	public void selectPropertyValue(MapActivity activity, RenderingRuleProperty p,
 	                                CommonPreference<String> pref, Runnable callback) {
 		boolean nightMode = isNightMode(activity, app);
@@ -587,12 +576,7 @@ public void selectPropertyValue(MapActivity activity, RenderingRuleProperty p,
 		possibleValuesList.remove(CONTOUR_LINES_DISABLED_VALUE);
 		String[] possibleValues = possibleValuesList.toArray(new String[0]);
 
-		int i = possibleValuesList.indexOf(pref.get());
-		if (i >= 0) {
-			i++;
-		} else if (Algorithms.isEmpty(pref.get())) {
-			i = 0;
-		}
+		int selectedIndex = AndroidUtils.getRenderPropertySelectedValueIndex(app, p);
 
 		String[] possibleValuesString = new String[possibleValues.length + 1];
 		possibleValuesString[0] = AndroidUtils.getRenderingStringPropertyValue(activity,
@@ -613,7 +597,7 @@ public void selectPropertyValue(MapActivity activity, RenderingRuleProperty p,
 					}
 				});
 
-		CustomAlert.showSingleSelection(dialogData, possibleValuesString, i, v -> {
+		CustomAlert.showSingleSelection(dialogData, possibleValuesString, selectedIndex, v -> {
 			int which = (int) v.getTag();
 			if (which == 0) {
 				pref.set("");
diff --git a/OsmAnd/src/net/osmand/plus/render/MapRenderRepositories.java b/OsmAnd/src/net/osmand/plus/render/MapRenderRepositories.java
index 7bab413da0c..9eac8b3e902 100644
--- a/OsmAnd/src/net/osmand/plus/render/MapRenderRepositories.java
+++ b/OsmAnd/src/net/osmand/plus/render/MapRenderRepositories.java
@@ -866,7 +866,7 @@ public RenderingRuleSearchRequest getSearchRequestWithAppliedCustomRules(Renderi
 					renderingReq.setIntFilter(property, 0);
 				}
 			} else {
-				String value = settings.getRenderPropertyValue(attrName);
+				String value = settings.getRenderPropertyValue(property);
 				if (!Algorithms.isEmpty(value)) {
 					if (property.isString()) {
 						renderingReq.setStringFilter(property, value);
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
index 7eabb4c5152..15b6fe0274a 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/OsmandSettings.java
@@ -94,6 +94,7 @@
 import net.osmand.plus.views.mapwidgets.WidgetType;
 import net.osmand.plus.views.mapwidgets.WidgetsPanel;
 import net.osmand.plus.wikipedia.WikiArticleShowImages;
+import net.osmand.render.RenderingRuleProperty;
 import net.osmand.render.RenderingRulesStorage;
 import net.osmand.shared.gpx.ColoringPurpose;
 import net.osmand.shared.obd.OBDDataComputer;
@@ -3041,9 +3042,11 @@ public boolean getRenderBooleanPropertyValue(@NonNull String attrName) {
 		}
 	}
 
-	@Nullable
-	public String getRenderPropertyValue(@NonNull String attrName) {
-		return getCustomRenderProperty(attrName).get();
+	@NonNull
+	public String getRenderPropertyValue(@NonNull RenderingRuleProperty property) {
+		CommonPreference<String> preference = getCustomRenderProperty(property.getAttrName());
+		String value = preference.get();
+		return property.containsValue(value) ? value : preference.getDefaultValue();
 	}
 
 	@NonNull
diff --git a/OsmAnd/src/net/osmand/plus/settings/backend/backup/items/ProfileSettingsItem.java b/OsmAnd/src/net/osmand/plus/settings/backend/backup/items/ProfileSettingsItem.java
index 12ac97d8939..6af03e739da 100644
--- a/OsmAnd/src/net/osmand/plus/settings/backend/backup/items/ProfileSettingsItem.java
+++ b/OsmAnd/src/net/osmand/plus/settings/backend/backup/items/ProfileSettingsItem.java
@@ -338,7 +338,7 @@ private OsmandPreference<?> createPreference(@NonNull OsmandSettings settings,
 	@Nullable
 	@Override
 	public SettingsItemWriter<? extends SettingsItem> getWriter() {
-		return new OsmandSettingsItemWriter<ProfileSettingsItem>(this, getSettings()) {
+		return new OsmandSettingsItemWriter<>(this, getSettings()) {
 			@Override
 			protected void writePreferenceToJson(@NonNull OsmandPreference<?> preference, @NonNull JSONObject json) throws JSONException {
 				if (!appModeBeanPrefsIds.contains(preference.getId())) {
diff --git a/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java b/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
index 4ba225479d1..cbdc99c34b2 100644
--- a/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
+++ b/OsmAnd/src/net/osmand/plus/utils/AndroidUtils.java
@@ -76,7 +76,9 @@
 import net.osmand.plus.R;
 import net.osmand.plus.activities.MapActivity;
 import net.osmand.plus.render.RenderingIcons;
+import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.views.OsmandMap;
+import net.osmand.render.RenderingRuleProperty;
 import net.osmand.shared.gpx.primitives.RouteActivity;
 import net.osmand.util.Algorithms;
 
@@ -1151,13 +1153,35 @@ public static String getRenderingStringPropertyDescription(Context ctx, String p
 		return value != null ? value : defValue;
 	}
 
-	public static String getIconStringPropertyName(Context ctx, String propertyName) {
+	public static String getIconStringPropertyName(@NonNull Context ctx, @NonNull String propertyName) {
 		String value = getStringByProperty(ctx, "icon_group_" + propertyName);
 		return value != null ? value : propertyName;
 	}
 
+	public static int getRenderPropertySelectedValueIndex(@NonNull OsmandApplication app,
+	                                                      @NonNull RenderingRuleProperty property) {
+		OsmandSettings settings = app.getSettings();
+		String value = settings.getRenderPropertyValue(property);
+		int index = List.of(property.getPossibleValues()).indexOf(value);
+		if (index >= 0) {
+			return ++index;
+		} else if (Algorithms.isEmpty(value)) {
+			return 0;
+		}
+		return index;
+	}
+
+	@NonNull
+	public static String getRenderingStringPropertyValue(@NonNull OsmandApplication app,
+	                                                     @NonNull RenderingRuleProperty property) {
+		OsmandSettings settings = app.getSettings();
+		String value = settings.getRenderPropertyValue(property);
+		String key = !Algorithms.isEmpty(value) ? value : property.getDefaultValueDescription();
+		return AndroidUtils.getRenderingStringPropertyValue(app, key);
+	}
+
 	@NonNull
-	public static String getRenderingStringPropertyValue(Context ctx, String propertyValue) {
+	public static String getRenderingStringPropertyValue(@NonNull Context ctx, @Nullable String propertyValue) {
 		if (propertyValue == null) {
 			return "";
 		}
diff --git a/OsmAnd/src/net/osmand/plus/views/layers/MapSelectionHelper.java b/OsmAnd/src/net/osmand/plus/views/layers/MapSelectionHelper.java
index c400924b2bc..b6e8ec2d3c2 100644
--- a/OsmAnd/src/net/osmand/plus/views/layers/MapSelectionHelper.java
+++ b/OsmAnd/src/net/osmand/plus/views/layers/MapSelectionHelper.java
@@ -62,6 +62,7 @@
 import net.osmand.plus.plugins.osmedit.OsmBugsLayer.OpenStreetNote;
 import net.osmand.plus.render.MapRenderRepositories;
 import net.osmand.plus.render.NativeOsmandLibrary;
+import net.osmand.plus.settings.backend.OsmandSettings;
 import net.osmand.plus.settings.backend.preferences.CommonPreference;
 import net.osmand.plus.track.clickable.ClickableWay;
 import net.osmand.plus.utils.NativeUtilities;
@@ -100,6 +101,7 @@ public class MapSelectionHelper {
 	private static final String TAG_POI_LAT_LON = "osmand_poi_lat_lon";
 
 	private final OsmandApplication app;
+	private final OsmandSettings settings;
 	private final OsmandMapTileView view;
 	private final MapLayers mapLayers;
 
@@ -112,6 +114,7 @@ public class MapSelectionHelper {
 
 	public MapSelectionHelper(@NonNull Context context) {
 		app = (OsmandApplication) context.getApplicationContext();
+		settings = app.getSettings();
 		view = app.getOsmandMap().getMapView();
 		mapLayers = app.getOsmandMap().getMapLayers();
 		clickableWayHelper = new ClickableWayHelper(app, view);
@@ -568,11 +571,10 @@ private NetworkRouteSelectorFilter createRouteFilter() {
 			if (osmRouteType != null) {
 				boolean enabled;
 				if (HIKING.getRenderingPropertyAttr().equals(attrName)) {
-					CommonPreference<String> pref = app.getSettings().getCustomRenderProperty(attrName);
-					enabled = Arrays.asList(property.getPossibleValues()).contains(pref.get());
+					CommonPreference<String> pref = settings.getCustomRenderProperty(attrName);
+					enabled = property.containsValue(pref.get());
 				} else {
-					CommonPreference<Boolean> pref = app.getSettings().getCustomRenderBooleanProperty(attrName);
-					enabled = pref.get();
+					enabled = settings.getRenderBooleanPropertyValue(attrName);
 				}
 				if (enabled) {
 					filteredOsmRouteTypes.add(osmRouteType);
