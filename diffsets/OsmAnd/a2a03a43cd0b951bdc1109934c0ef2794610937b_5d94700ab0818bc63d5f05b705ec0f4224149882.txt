diff --git a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksFilterFragment.kt b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksFilterFragment.kt
index 3d4fd38557d..edfd2c113b2 100644
--- a/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksFilterFragment.kt
+++ b/OsmAnd/src/net/osmand/plus/myplaces/tracks/dialogs/TracksFilterFragment.kt
@@ -290,14 +290,16 @@ class TracksFilterFragment : BaseOsmAndDialogFragment(),
 	}
 
 	private fun updateUI() {
-		resetAllButton?.isEnabled = filter.appliedFiltersCount > 0
-		var filteredItemsCount = 0
-		if (filter.filteredTrackItems?.size != null) {
-			filteredItemsCount = filter.filteredTrackItems!!.size
+		app.runInUIThread{
+			resetAllButton?.isEnabled = filter.appliedFiltersCount > 0
+			var filteredItemsCount = 0
+			if (filter.filteredTrackItems?.size != null) {
+				filteredItemsCount = filter.filteredTrackItems!!.size
+			}
+			showButton?.setTitle(
+				app.getString(R.string.shared_string_show) + " " +
+						String.format(app.getString(R.string.number_in_breckets), filteredItemsCount))
 		}
-		showButton?.setTitle(
-			app.getString(R.string.shared_string_show) + " " +
-					String.format(app.getString(R.string.number_in_breckets), filteredItemsCount))
 	}
 
 	override fun onResume() {
