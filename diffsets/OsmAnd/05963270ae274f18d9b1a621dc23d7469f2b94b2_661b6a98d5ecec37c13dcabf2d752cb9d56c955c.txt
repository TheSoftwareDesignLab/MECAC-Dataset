diff --git a/OsmAnd/res/values-ru/strings.xml b/OsmAnd/res/values-ru/strings.xml
index 98dd400c33b..2c239e38c5a 100644
--- a/OsmAnd/res/values-ru/strings.xml
+++ b/OsmAnd/res/values-ru/strings.xml
@@ -1,5 +1,13 @@
 <?xml version="1.0" encoding="utf-8"?>
 <resources>
+	<string name="daynight_mode_day">Дневной</string>
+	<string name="daynight_mode_night">Ночной</string>
+	<string name="daynight_mode_auto">Восход/закат</string>
+	<string name="daynight_mode_sensor">Датчик освещенности</string>
+	<string name="daynight_descr">Выберите режим переключения дневного/ночного вида карты</string>
+	<string name="daynight_none_descr">Выберите стиль рендеринга с ночным и дневным режимом</string>
+	<string name="daynight">Дневной/ночной режим</string>
+
 	<string name="download_files_question">Загрузить {0} файл(ов) ({1} MB)?</string>
 	<string name="items_were_selected">{0} items were selected</string>
 	<string name="filter_existing_indexes">Загруженные</string>
diff --git a/OsmAnd/src/net/osmand/activities/RouteProvider.java b/OsmAnd/src/net/osmand/activities/RouteProvider.java
index 06394445ea4..ce7795c5ffc 100644
--- a/OsmAnd/src/net/osmand/activities/RouteProvider.java
+++ b/OsmAnd/src/net/osmand/activities/RouteProvider.java
@@ -507,27 +507,30 @@ protected RouteCalculationResult findVectorMapsRoute(Location start, LatLon end,
 			return new RouteCalculationResult("End point is far from allowed road.");
 		}
 		List<Location> res = new ArrayList<Location>();
-		List<RouteSegmentResult> result = router.searchRoute(ctx, st, en);
-		for(RouteSegmentResult s : result){
-			boolean plus = s.startPointIndex < s.endPointIndex;
-			int i=s.startPointIndex;
-			while (true) {
-				Location n = new Location(""); //$NON-NLS-1$
-				n.setLatitude(MapUtils.get31LatitudeY(s.object.getPoint31YTile(i)));
-				n.setLongitude(MapUtils.get31LongitudeX(s.object.getPoint31XTile(i)));
-				res.add(n);
-				if (i == s.endPointIndex) {
-					break;
-				}
-				if (plus) {
-					i++;
-				} else {
-					i--;
+		try {
+			List<RouteSegmentResult> result = router.searchRoute(ctx, st, en);
+			for (RouteSegmentResult s : result) {
+				boolean plus = s.startPointIndex < s.endPointIndex;
+				int i = s.startPointIndex;
+				while (true) {
+					Location n = new Location(""); //$NON-NLS-1$
+					n.setLatitude(MapUtils.get31LatitudeY(s.object.getPoint31YTile(i)));
+					n.setLongitude(MapUtils.get31LongitudeX(s.object.getPoint31XTile(i)));
+					res.add(n);
+					if (i == s.endPointIndex) {
+						break;
+					}
+					if (plus) {
+						i++;
+					} else {
+						i--;
+					}
 				}
 			}
+			return new RouteCalculationResult(res, null, start, end, null);
+		} catch (OutOfMemoryError e) {
+			return new RouteCalculationResult("No enough memory to calculate route.");
 		}
-		
-		return new RouteCalculationResult(res, null, start, end, null);
 	}
 	
 	
