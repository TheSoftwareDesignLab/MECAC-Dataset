diff --git a/CHANGELOG.md b/CHANGELOG.md
index 7fa9e1581..aa6092185 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -8,6 +8,7 @@ All notable changes to this project will be documented in this file.
 
 - Finnish translation (thanks Ã…zze, Olli, Ricky Tigg, Otso Karttunen)
 - Widget: more shape options
+- Viewer: drag and drop in multi-window mode
 - Vaults: allow hiding like other albums
 
 ### Changed
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/HomeWidgetProvider.kt b/android/app/src/main/kotlin/deckers/thibault/aves/HomeWidgetProvider.kt
index 2c3e8af78..0d0b2ba73 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/HomeWidgetProvider.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/HomeWidgetProvider.kt
@@ -6,7 +6,6 @@ import android.appwidget.AppWidgetProvider
 import android.content.Context
 import android.content.Intent
 import android.content.res.Configuration
-import android.content.res.Resources
 import android.graphics.Bitmap
 import android.os.Build
 import android.os.Bundle
@@ -25,6 +24,7 @@ import deckers.thibault.aves.channel.calls.StorageHandler
 import deckers.thibault.aves.channel.streams.darttoplatform.ImageByteStreamHandler
 import deckers.thibault.aves.channel.streams.darttoplatform.MediaStoreStreamHandler
 import deckers.thibault.aves.model.FieldMap
+import deckers.thibault.aves.utils.ContextUtils.devicePixelRatio
 import deckers.thibault.aves.utils.FlutterUtils
 import deckers.thibault.aves.utils.LogUtils
 import io.flutter.FlutterInjector
@@ -83,8 +83,6 @@ class HomeWidgetProvider : AppWidgetProvider() {
         }
     }
 
-    private fun getDevicePixelRatio(): Float = Resources.getSystem().displayMetrics.density
-
     private fun getWidgetSizesDip(context: Context, widgetInfo: Bundle): List<SizeF> {
         var sizes: List<SizeF>? = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
             widgetInfo.getParcelableArrayList(AppWidgetManager.OPTION_APPWIDGET_SIZES, SizeF::class.java)
@@ -126,7 +124,7 @@ class HomeWidgetProvider : AppWidgetProvider() {
         val params = hashMapOf(
             "widgetId" to widgetId,
             "sizesDip" to sizesDipMap,
-            "devicePixelRatio" to getDevicePixelRatio(),
+            "devicePixelRatio" to context.devicePixelRatio(),
             "drawEntryImage" to drawEntryImage,
             "reuseEntry" to reuseEntry,
             "isSystemThemeDark" to isNightModeOn,
@@ -215,9 +213,9 @@ class HomeWidgetProvider : AppWidgetProvider() {
             bytes: ByteArray,
             updateOnTap: Boolean,
         ): RemoteViews? {
-            val devicePixelRatio = getDevicePixelRatio()
-            val widthPx = (sizeDip.width * devicePixelRatio).roundToInt()
-            val heightPx = (sizeDip.height * devicePixelRatio).roundToInt()
+            val density = context.devicePixelRatio()
+            val widthPx = (sizeDip.width * density).roundToInt()
+            val heightPx = (sizeDip.height * density).roundToInt()
 
             try {
                 val bitmap = createBitmap(widthPx, heightPx, Bitmap.Config.ARGB_8888).also {
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/AppAdapterHandler.kt b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/AppAdapterHandler.kt
index 57b1b1e48..d708f62a7 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/AppAdapterHandler.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/AppAdapterHandler.kt
@@ -38,6 +38,7 @@ import deckers.thibault.aves.channel.calls.Coresult.Companion.safe
 import deckers.thibault.aves.channel.calls.Coresult.Companion.safeSuspend
 import deckers.thibault.aves.model.FieldMap
 import deckers.thibault.aves.utils.BitmapUtils
+import deckers.thibault.aves.utils.ContextUtils.devicePixelRatio
 import deckers.thibault.aves.utils.LogUtils
 import deckers.thibault.aves.utils.anyCauseIs
 import deckers.thibault.aves.utils.getApplicationInfoCompat
@@ -151,7 +152,7 @@ class AppAdapterHandler(private val context: Context) : MethodCallHandler {
         }
 
         // convert DIP to physical pixels here, instead of using `devicePixelRatio` in Flutter
-        val density = context.resources.displayMetrics.density
+        val density = context.devicePixelRatio()
         val size = (sizeDip * density).roundToInt()
         var bytes: ByteArray? = null
         try {
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ActivityWindowHandler.kt b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ActivityWindowHandler.kt
index 2d1247fbe..85201c632 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ActivityWindowHandler.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ActivityWindowHandler.kt
@@ -1,13 +1,29 @@
 package deckers.thibault.aves.channel.calls.window
 
 import android.app.Activity
+import android.content.ClipData
 import android.content.Context
 import android.content.pm.ActivityInfo
+import android.graphics.Bitmap
+import android.graphics.Canvas
+import android.graphics.Matrix
+import android.graphics.Matrix.ScaleToFit
+import android.graphics.Point
+import android.graphics.RectF
 import android.os.Build
+import android.util.Log
+import android.view.View
 import android.view.WindowManager
+import androidx.core.graphics.createBitmap
+import androidx.core.net.toUri
+import deckers.thibault.aves.channel.calls.AppAdapterHandler.Companion.getShareableUri
+import deckers.thibault.aves.utils.ContextUtils.devicePixelRatio
+import deckers.thibault.aves.utils.LogUtils
 import deckers.thibault.aves.utils.getDisplayCompat
 import io.flutter.plugin.common.MethodCall
 import io.flutter.plugin.common.MethodChannel
+import java.nio.ByteBuffer
+import kotlin.math.roundToInt
 
 class ActivityWindowHandler(private val activity: Activity) : WindowHandler(activity) {
     override fun isActivity(call: MethodCall, result: MethodChannel.Result) {
@@ -41,6 +57,16 @@ class ActivityWindowHandler(private val activity: Activity) : WindowHandler(acti
         setWindowFlag(call, result, WindowManager.LayoutParams.FLAG_SECURE)
     }
 
+    override fun isInMultiWindowMode(call: MethodCall, result: MethodChannel.Result) {
+        val enabled = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) activity.isInMultiWindowMode else false
+        result.success(enabled)
+    }
+
+    override fun isInPictureInPictureMode(call: MethodCall, result: MethodChannel.Result) {
+        val enabled = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) activity.isInPictureInPictureMode else false
+        result.success(enabled)
+    }
+
     // display orientation in degrees
     override fun getOrientation(call: MethodCall, result: MethodChannel.Result) {
         val displayRotation = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R) {
@@ -79,7 +105,7 @@ class ActivityWindowHandler(private val activity: Activity) : WindowHandler(acti
             activity.window.decorView.rootWindowInsets.displayCutout
         }
 
-        val density = activity.resources.displayMetrics.density
+        val density = activity.devicePixelRatio()
         result.success(
             hashMapOf(
                 "left" to (cutout?.safeInsetLeft ?: 0) / density,
@@ -117,4 +143,61 @@ class ActivityWindowHandler(private val activity: Activity) : WindowHandler(acti
         }
         result.success(null)
     }
+
+    override fun startGlobalDrag(call: MethodCall, result: MethodChannel.Result) {
+        val uri = call.argument<String>("uri")?.toUri()
+        val label = call.argument<String>("label")
+        val shadowWidthDip = call.argument<Number>("shadowWidthDip")?.toFloat()
+        val shadowHeightDip = call.argument<Number>("shadowHeightDip")?.toFloat()
+        val shadowBytes = call.argument<ByteArray>("shadowBytes")
+
+        if (uri == null || shadowWidthDip == null || shadowHeightDip == null || shadowBytes == null) {
+            result.error("startGlobalDrag-args", "missing arguments", null)
+            return
+        }
+
+        val clip = ClipData.newUri(activity.contentResolver, label, getShareableUri(activity, uri))
+
+        val density = activity.devicePixelRatio()
+        val widthPx = (shadowWidthDip * density).roundToInt()
+        val heightPx = (shadowHeightDip * density).roundToInt()
+
+        val shadowBuilder: View.DragShadowBuilder = try {
+            val bitmap = createBitmap(widthPx, heightPx, Bitmap.Config.ARGB_8888).also {
+                it.copyPixelsFromBuffer(ByteBuffer.wrap(shadowBytes))
+            }
+
+            val scaleToFit = Matrix()
+            val src = RectF(0f, 0f, bitmap.getWidth().toFloat(), bitmap.getHeight().toFloat())
+            val dst = RectF(0f, 0f, heightPx.toFloat(), heightPx.toFloat())
+            scaleToFit.setRectToRect(src, dst, ScaleToFit.CENTER)
+
+            object : View.DragShadowBuilder() {
+                override fun onProvideShadowMetrics(outShadowSize: Point, outShadowTouchPoint: Point) {
+                    outShadowSize.set(widthPx, heightPx)
+                    outShadowTouchPoint.set(outShadowSize.x / 2, outShadowSize.y / 2)
+                }
+
+                override fun onDrawShadow(canvas: Canvas) {
+                    canvas.drawBitmap(bitmap, scaleToFit, null)
+                }
+            }
+        } catch (e: Exception) {
+            Log.e(LOG_TAG, "failed to draw widget", e)
+            View.DragShadowBuilder()
+        }
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {
+            activity.window.decorView.startDragAndDrop(
+                clip,
+                shadowBuilder,
+                null,
+                View.DRAG_FLAG_GLOBAL or View.DRAG_FLAG_GLOBAL_URI_READ
+            )
+        }
+    }
+
+    companion object {
+        private val LOG_TAG = LogUtils.createTag<ActivityWindowHandler>()
+    }
 }
\ No newline at end of file
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ServiceWindowHandler.kt b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ServiceWindowHandler.kt
index 314b01e14..a82bb419c 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ServiceWindowHandler.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/ServiceWindowHandler.kt
@@ -17,6 +17,14 @@ class ServiceWindowHandler(service: Service) : WindowHandler(service) {
         result.success(null)
     }
 
+    override fun isInMultiWindowMode(call: MethodCall, result: MethodChannel.Result) {
+        result.success(false)
+    }
+
+    override fun isInPictureInPictureMode(call: MethodCall, result: MethodChannel.Result) {
+        result.success(false)
+    }
+
     override fun getOrientation(call: MethodCall, result: MethodChannel.Result) {
         result.success(0)
     }
@@ -44,4 +52,8 @@ class ServiceWindowHandler(service: Service) : WindowHandler(service) {
     override fun setColorMode(call: MethodCall, result: MethodChannel.Result) {
         result.success(null)
     }
+
+    override fun startGlobalDrag(call: MethodCall, result: MethodChannel.Result) {
+        result.success(null)
+    }
 }
\ No newline at end of file
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/WindowHandler.kt b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/WindowHandler.kt
index 19f52c652..9b7bba8da 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/WindowHandler.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/channel/calls/window/WindowHandler.kt
@@ -14,6 +14,8 @@ abstract class WindowHandler(private val contextWrapper: ContextWrapper) : Metho
             "isActivity" -> Coresult.safe(call, result, ::isActivity)
             "keepScreenOn" -> Coresult.safe(call, result, ::keepScreenOn)
             "secureScreen" -> Coresult.safe(call, result, ::secureScreen)
+            "isInMultiWindowMode" -> Coresult.safe(call, result, ::isInMultiWindowMode)
+            "isInPictureInPictureMode" -> Coresult.safe(call, result, ::isInPictureInPictureMode)
             "isRotationLocked" -> Coresult.safe(call, result, ::isRotationLocked)
             "getOrientation" -> Coresult.safe(call, result, ::getOrientation)
             "requestOrientation" -> Coresult.safe(call, result, ::requestOrientation)
@@ -22,6 +24,7 @@ abstract class WindowHandler(private val contextWrapper: ContextWrapper) : Metho
             "supportsWideGamut" -> Coresult.safe(call, result, ::supportsWideGamut)
             "supportsHdr" -> Coresult.safe(call, result, ::supportsHdr)
             "setColorMode" -> Coresult.safe(call, result, ::setColorMode)
+            "startGlobalDrag" -> Coresult.safe(call, result, ::startGlobalDrag)
             else -> result.notImplemented()
         }
     }
@@ -32,6 +35,10 @@ abstract class WindowHandler(private val contextWrapper: ContextWrapper) : Metho
 
     abstract fun secureScreen(call: MethodCall, result: MethodChannel.Result)
 
+    abstract fun isInMultiWindowMode(call: MethodCall, result: MethodChannel.Result)
+
+    abstract fun isInPictureInPictureMode(call: MethodCall, result: MethodChannel.Result)
+
     private fun isRotationLocked(@Suppress("unused_parameter") call: MethodCall, result: MethodChannel.Result) {
         var locked = false
         try {
@@ -56,6 +63,8 @@ abstract class WindowHandler(private val contextWrapper: ContextWrapper) : Metho
 
     abstract fun setColorMode(call: MethodCall, result: MethodChannel.Result)
 
+    abstract fun startGlobalDrag(call: MethodCall, result: MethodChannel.Result)
+
     companion object {
         private val LOG_TAG = LogUtils.createTag<WindowHandler>()
         const val CHANNEL = "deckers.thibault/aves/window"
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/channel/streams/darttoplatform/ImageByteStreamHandler.kt b/android/app/src/main/kotlin/deckers/thibault/aves/channel/streams/darttoplatform/ImageByteStreamHandler.kt
index 67496dd69..8633f0ce8 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/channel/streams/darttoplatform/ImageByteStreamHandler.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/channel/streams/darttoplatform/ImageByteStreamHandler.kt
@@ -14,6 +14,7 @@ import deckers.thibault.aves.glide.AvesAppGlideModule
 import deckers.thibault.aves.model.EntryFields
 import deckers.thibault.aves.utils.BitmapUtils
 import deckers.thibault.aves.utils.BitmapUtils.applyExifOrientation
+import deckers.thibault.aves.utils.ContextUtils.devicePixelRatio
 import deckers.thibault.aves.utils.LogUtils
 import deckers.thibault.aves.utils.MimeTypes
 import deckers.thibault.aves.utils.MimeTypes.handleEncodedBytesInFlutter
@@ -32,7 +33,7 @@ class ImageByteStreamHandler(private val context: Context, private val arguments
     private var op: String? = null
     private var decoded: Boolean = false
     private val regionFetcher = RegionFetcher(context)
-    private val density = context.resources.displayMetrics.density
+    private val density = context.devicePixelRatio()
 
     init {
         if (arguments is Map<*, *>) {
diff --git a/android/app/src/main/kotlin/deckers/thibault/aves/utils/ContextUtils.kt b/android/app/src/main/kotlin/deckers/thibault/aves/utils/ContextUtils.kt
index 30d79ebd3..7a0b9379e 100644
--- a/android/app/src/main/kotlin/deckers/thibault/aves/utils/ContextUtils.kt
+++ b/android/app/src/main/kotlin/deckers/thibault/aves/utils/ContextUtils.kt
@@ -12,6 +12,8 @@ import deckers.thibault.aves.utils.UriUtils.tryParseId
 object ContextUtils {
     private val LOG_TAG = LogUtils.createTag<ContextUtils>()
 
+    fun Context.devicePixelRatio(): Float = resources.displayMetrics.density
+
     fun Context.resourceUri(resourceId: Int): Uri = with(resources) {
         Uri.Builder()
             .scheme(ContentResolver.SCHEME_ANDROID_RESOURCE)
diff --git a/lib/services/window_service.dart b/lib/services/window_service.dart
index 39cec4ac3..e90cdc322 100644
--- a/lib/services/window_service.dart
+++ b/lib/services/window_service.dart
@@ -10,6 +10,10 @@ abstract class WindowService {
 
   Future<void> secureScreen(bool on);
 
+  Future<bool> isInMultiWindowMode();
+
+  Future<bool> isInPictureInPictureMode();
+
   Future<bool> isRotationLocked();
 
   Future<int> getOrientation();
@@ -25,6 +29,8 @@ abstract class WindowService {
   Future<bool> supportsHdr();
 
   Future<void> setColorMode({required bool wideColorGamut, required bool hdr});
+
+  Future<bool> startGlobalDrag(String uri, String? label, Size shadowSize, Uint8List shadowBytes);
 }
 
 class PlatformWindowService implements WindowService {
@@ -65,6 +71,28 @@ class PlatformWindowService implements WindowService {
     }
   }
 
+  @override
+  Future<bool> isInMultiWindowMode() async {
+    try {
+      final result = await _platform.invokeMethod('isInMultiWindowMode');
+      if (result != null) return result as bool;
+    } on PlatformException catch (e, stack) {
+      await reportService.recordError(e, stack);
+    }
+    return false;
+  }
+
+  @override
+  Future<bool> isInPictureInPictureMode() async {
+    try {
+      final result = await _platform.invokeMethod('isInPictureInPictureMode');
+      if (result != null) return result as bool;
+    } on PlatformException catch (e, stack) {
+      await reportService.recordError(e, stack);
+    }
+    return false;
+  }
+
   @override
   Future<bool> isRotationLocked() async {
     try {
@@ -197,4 +225,21 @@ class PlatformWindowService implements WindowService {
     //   await reportService.recordError(e, stack);
     // }
   }
+
+  @override
+  Future<bool> startGlobalDrag(String uri, String? label, Size shadowSize, Uint8List shadowBytes) async {
+    try {
+      final result = await _platform.invokeMethod('startGlobalDrag', <String, dynamic>{
+        'uri': uri,
+        'label': label,
+        'shadowWidthDip': shadowSize.width,
+        'shadowHeightDip': shadowSize.height,
+        'shadowBytes': shadowBytes,
+      });
+      if (result != null) return result as bool;
+    } on PlatformException catch (e, stack) {
+      await reportService.recordError(e, stack);
+    }
+    return false;
+  }
 }
diff --git a/lib/widgets/viewer/visual/entry_page_view.dart b/lib/widgets/viewer/visual/entry_page_view.dart
index 3a5cbd7ff..3b31cfda4 100644
--- a/lib/widgets/viewer/visual/entry_page_view.dart
+++ b/lib/widgets/viewer/visual/entry_page_view.dart
@@ -3,6 +3,7 @@ import 'dart:async';
 import 'package:aves/app_mode.dart';
 import 'package:aves/model/entry/entry.dart';
 import 'package:aves/model/entry/extensions/props.dart';
+import 'package:aves/model/settings/enums/widget_outline.dart';
 import 'package:aves/model/settings/settings.dart';
 import 'package:aves/model/viewer/view_state.dart';
 import 'package:aves/services/common/services.dart';
@@ -12,6 +13,7 @@ import 'package:aves/view/view.dart';
 import 'package:aves/widgets/common/action_mixins/feedback.dart';
 import 'package:aves/widgets/common/basic/insets.dart';
 import 'package:aves/widgets/common/extensions/build_context.dart';
+import 'package:aves/widgets/home_widget.dart';
 import 'package:aves/widgets/viewer/controls/controller.dart';
 import 'package:aves/widgets/viewer/controls/notifications.dart';
 import 'package:aves/widgets/viewer/hero.dart';
@@ -412,16 +414,43 @@ class _EntryPageViewState extends State<EntryPageView> with TickerProviderStateM
       onScaleUpdate: onScaleUpdate,
       onScaleEnd: onScaleEnd,
       onFling: _onFling,
-      onTap: (c, s, a, p) {
-        if (c.mounted) {
-          _onTap(alignment: a);
+      onTap: (context, _, alignment, __) {
+        if (context.mounted) {
+          _onTap(alignment: alignment);
         }
       },
+      onLongPress: _onLongPress,
       onDoubleTap: onDoubleTap,
       child: child,
     );
   }
 
+  Future<void> _onLongPress() async {
+    final isInMultiWindowMode = await windowService.isInMultiWindowMode() && !(await windowService.isInPictureInPictureMode());
+    if (!isInMultiWindowMode) {
+      return;
+    }
+
+    const dragShadowSize = Size.square(128);
+    final cornerRadiusPx = await deviceService.getWidgetCornerRadiusPx();
+
+    final devicePixelRatio = MediaQuery.devicePixelRatioOf(context);
+    final brightness = Theme.of(context).brightness;
+    final outline = await WidgetOutline.systemBlackAndWhite.color(brightness);
+
+    final dragShadowBytes = await HomeWidgetPainter(
+      entry: entry,
+      devicePixelRatio: devicePixelRatio,
+    ).drawWidget(
+      sizeDip: dragShadowSize,
+      cornerRadiusPx: cornerRadiusPx,
+      outline: outline,
+      shape: WidgetShape.rrect,
+    );
+
+    await windowService.startGlobalDrag(entry.uri, entry.bestTitle, dragShadowSize, dragShadowBytes);
+  }
+
   void _onFling(AxisDirection direction) {
     const animate = true;
     switch (direction) {
diff --git a/plugins/aves_magnifier/lib/src/core/core.dart b/plugins/aves_magnifier/lib/src/core/core.dart
index c40179436..009ad1b72 100644
--- a/plugins/aves_magnifier/lib/src/core/core.dart
+++ b/plugins/aves_magnifier/lib/src/core/core.dart
@@ -55,6 +55,7 @@ class AvesMagnifier extends StatefulWidget {
   final MagnifierGestureScaleEndCallback? onScaleEnd;
   final MagnifierGestureFlingCallback? onFling;
   final MagnifierTapCallback? onTap;
+  final GestureLongPressCallback? onLongPress;
   final MagnifierDoubleTapCallback? onDoubleTap;
   final Widget child;
 
@@ -77,6 +78,7 @@ class AvesMagnifier extends StatefulWidget {
     this.onScaleEnd,
     this.onFling,
     this.onTap,
+    this.onLongPress,
     this.onDoubleTap,
     required this.child,
   });
@@ -467,6 +469,7 @@ class _AvesMagnifierState extends State<AvesMagnifier> with TickerProviderStateM
           onScaleUpdate: onScaleUpdate,
           onScaleEnd: onScaleEnd,
           onTapUp: widget.onTap == null ? null : _onTapUp,
+          onLongPress: widget.onLongPress,
           onDoubleTap: _onDoubleTap,
           allowDoubleTap: _allowDoubleTap,
           child: Padding(
diff --git a/plugins/aves_magnifier/lib/src/core/gesture_detector.dart b/plugins/aves_magnifier/lib/src/core/gesture_detector.dart
index a1c38e410..f4cf1cbc1 100644
--- a/plugins/aves_magnifier/lib/src/core/gesture_detector.dart
+++ b/plugins/aves_magnifier/lib/src/core/gesture_detector.dart
@@ -12,6 +12,7 @@ class MagnifierGestureDetector extends StatefulWidget {
 
   final GestureTapDownCallback? onTapDown;
   final GestureTapUpCallback? onTapUp;
+  final GestureLongPressCallback? onLongPress;
   final GestureTapDownCallback? onDoubleTap;
 
   final MagnifierDoubleTapPredicate? allowDoubleTap;
@@ -26,6 +27,7 @@ class MagnifierGestureDetector extends StatefulWidget {
     this.onScaleEnd,
     this.onTapDown,
     this.onTapUp,
+    this.onLongPress,
     this.onDoubleTap,
     this.allowDoubleTap,
     this.behavior,
@@ -61,6 +63,15 @@ class _MagnifierGestureDetectorState extends State<MagnifierGestureDetector> {
       );
     }
 
+    if (widget.onLongPress != null) {
+      gestures[LongPressGestureRecognizer] = GestureRecognizerFactoryWithHandlers<LongPressGestureRecognizer>(
+        () => LongPressGestureRecognizer(debugOwner: this),
+        (instance) {
+          instance.onLongPress = widget.onLongPress;
+        },
+      );
+    }
+
     final scope = MagnifierGestureDetectorScope.maybeOf(context);
     if (scope != null) {
       gestures[MagnifierGestureRecognizer] = GestureRecognizerFactoryWithHandlers<MagnifierGestureRecognizer>(
diff --git a/test/fake/window_service.dart b/test/fake/window_service.dart
index 3fbb5f3d3..c5da2680b 100644
--- a/test/fake/window_service.dart
+++ b/test/fake/window_service.dart
@@ -10,6 +10,12 @@ class FakeWindowService extends Fake implements WindowService {
   @override
   Future<void> keepScreenOn(bool on) => SynchronousFuture(null);
 
+  @override
+  Future<bool> isInMultiWindowMode() => SynchronousFuture(false);
+
+  @override
+  Future<bool> isInPictureInPictureMode() => SynchronousFuture(false);
+
   @override
   Future<bool> isRotationLocked() => SynchronousFuture(false);
 
@@ -30,4 +36,7 @@ class FakeWindowService extends Fake implements WindowService {
 
   @override
   Future<void> setColorMode({required bool wideColorGamut, required bool hdr}) => SynchronousFuture(null);
+
+  @override
+  Future<bool> startGlobalDrag(String uri, String? label, Size shadowSize, Uint8List shadowBytes) => SynchronousFuture(false);
 }
