diff --git a/lib/API/musify.dart b/lib/API/musify.dart
index 36b814427..36bebeb19 100644
--- a/lib/API/musify.dart
+++ b/lib/API/musify.dart
@@ -5,6 +5,7 @@ import 'package:audio_service/audio_service.dart';
 import 'package:flutter/services.dart';
 import 'package:flutter/widgets.dart';
 import 'package:flutter_cache_manager/flutter_cache_manager.dart';
+import 'package:hive/hive.dart';
 import 'package:musify/helper/formatter.dart';
 import 'package:musify/helper/mediaitem.dart';
 import 'package:musify/services/audio_handler.dart';
@@ -21,8 +22,8 @@ final OnAudioQuery _audioQuery = OnAudioQuery();
 List ytplaylists = [];
 List searchedList = [];
 List playlists = [];
-List userPlaylists = [];
-List userLikedSongsList = [];
+List userPlaylists = Hive.box('user').get('playlists', defaultValue: []);
+List userLikedSongsList = Hive.box('user').get('likedSongs', defaultValue: []);
 List suggestedPlaylists = [];
 List activePlaylist = [];
 List<SongModel> localSongs = [];
@@ -225,7 +226,7 @@ Future<void> setActivePlaylist(List plist) async {
   } else {
     activePlaylist = plist;
     id = 0;
-    await playSong(activePlaylist[id]);
+    await playSong(activePlaylist[id], true);
   }
 }
 
diff --git a/lib/customWidgets/song_bar.dart b/lib/customWidgets/song_bar.dart
index b76d96b65..a7e230d89 100644
--- a/lib/customWidgets/song_bar.dart
+++ b/lib/customWidgets/song_bar.dart
@@ -19,9 +19,11 @@ class SongBar extends StatelessWidget {
       child: InkWell(
         borderRadius: BorderRadius.circular(20.0),
         onTap: () {
-          playSong(song);
-          activePlaylist = [];
-          id = 0;
+          playSong(song, true);
+          if (activePlaylist.isNotEmpty) {
+            activePlaylist = [];
+            id = 0;
+          }
         },
         splashColor: accent,
         hoverColor: accent,
diff --git a/lib/main.dart b/lib/main.dart
index 86b715b3a..bd8d17974 100644
--- a/lib/main.dart
+++ b/lib/main.dart
@@ -12,7 +12,6 @@ import 'package:musify/services/audio_handler.dart';
 import 'package:musify/services/audio_manager.dart';
 import 'package:musify/style/appColors.dart';
 import 'package:musify/ui/rootPage.dart';
-import 'package:musify/ui/searchPage.dart';
 import 'package:package_info_plus/package_info_plus.dart';
 
 GetIt getIt = GetIt.instance;
@@ -53,16 +52,6 @@ class _MyAppState extends State<MyApp> {
   @override
   void initState() {
     super.initState();
-    final String lang =
-        Hive.box('settings').get('language', defaultValue: 'English') as String;
-    prefferedFileExtension.value = Hive.box('settings')
-        .get('audioFileType', defaultValue: 'mp3') as String;
-    accent = Hive.box('settings').get('accentColor') != null
-        ? Color(Hive.box('settings').get('accentColor') as int)
-        : const Color(0xFFFFFFFF);
-    userPlaylists = Hive.box('user').get('playlists') ?? [];
-    userLikedSongsList = Hive.box('user').get('likedSongs') ?? [];
-    searchHistory = Hive.box('user').get('searchHistory') ?? [];
     getLocalSongs();
     final Map<String, String> codes = {
       'English': 'en',
@@ -78,7 +67,8 @@ class _MyAppState extends State<MyApp> {
       'Turkish': 'tr',
       'Ukrainian': 'uk',
     };
-    _locale = Locale(codes[lang]!);
+    _locale = Locale(codes[Hive.box('settings')
+        .get('language', defaultValue: 'English') as String]!);
   }
 
   @override
@@ -138,6 +128,7 @@ class _MyAppState extends State<MyApp> {
 }
 
 void main() async {
+  WidgetsFlutterBinding.ensureInitialized();
   await Hive.initFlutter();
   await Hive.openBox('settings');
   await Hive.openBox('user');
diff --git a/lib/services/audio_manager.dart b/lib/services/audio_manager.dart
index 6df213549..787262a79 100644
--- a/lib/services/audio_manager.dart
+++ b/lib/services/audio_manager.dart
@@ -4,6 +4,7 @@ import 'dart:io';
 import 'package:audio_service/audio_service.dart';
 import 'package:flutter/material.dart';
 import 'package:fluttertoast/fluttertoast.dart';
+import 'package:hive/hive.dart';
 import 'package:just_audio/just_audio.dart';
 import 'package:musify/API/musify.dart';
 import 'package:musify/helper/mediaitem.dart';
@@ -32,7 +33,8 @@ final durationNotifier = ValueNotifier<Duration?>(Duration.zero);
 final buttonNotifier = ValueNotifier<MPlayerState>(MPlayerState.stopped);
 final shuffleNotifier = ValueNotifier<bool>(false);
 final repeatNotifier = ValueNotifier<bool>(false);
-final prefferedFileExtension = ValueNotifier<String>('mp3');
+final prefferedFileExtension = ValueNotifier<String>(
+    Hive.box('settings').get('audioFileType', defaultValue: 'mp3') as String);
 final playNextSongAutomatically = ValueNotifier<bool>(false);
 
 bool get hasNext => activePlaylist.isEmpty
@@ -114,8 +116,8 @@ Future<void> downloadSong(dynamic song) async {
   );
 }
 
-Future<void> playSong(Map song) async {
-  if (song['ytid'].length == 0) {
+Future<void> playSong(Map song, bool isFromYT) async {
+  if (!isFromYT) {
     await MyAudioHandler()
         .addQueueItem(mapToMediaItem(song, song['songUrl'].toString()));
   } else {
@@ -167,7 +169,7 @@ Future playNext() async {
     await _audioHandler.skipToNext();
   } else {
     if (id + 1 <= activePlaylist.length) {
-      await playSong(activePlaylist[id + 1]);
+      await playSong(activePlaylist[id + 1], true);
       id = id + 1;
     }
   }
@@ -178,7 +180,7 @@ Future playPrevious() async {
     await _audioHandler.skipToPrevious();
   } else {
     if (id - 1 >= 0) {
-      await playSong(activePlaylist[id - 1]);
+      await playSong(activePlaylist[id - 1], true);
       id = id - 1;
     }
   }
diff --git a/lib/style/appColors.dart b/lib/style/appColors.dart
index 1bf02c248..ba1375e37 100644
--- a/lib/style/appColors.dart
+++ b/lib/style/appColors.dart
@@ -1,6 +1,8 @@
 import 'package:flutter/material.dart';
+import 'package:hive/hive.dart';
 
-Color accent = const Color(0xFFFFFFFF);
-Color? accentLight = Colors.white;
+Color accent =
+    Color(Hive.box('settings').get('accentColor', defaultValue: 0xFFFFFFFF));
+Color accentLight = const Color(0xFFFFFFFF);
 Color bgColor = const Color(0xFF121212);
 Color bgLight = const Color(0xFF151515);
diff --git a/lib/ui/localSongsPage.dart b/lib/ui/localSongsPage.dart
index 252e55fd8..74154ee85 100644
--- a/lib/ui/localSongsPage.dart
+++ b/lib/ui/localSongsPage.dart
@@ -225,7 +225,7 @@ class _LocalSongsPageState extends State<LocalSongsPage> {
                                 child: InkWell(
                                     borderRadius: BorderRadius.circular(20.0),
                                     onTap: () {
-                                      playSong(lsong);
+                                      playSong(lsong, false);
                                     },
                                     splashColor: accent,
                                     hoverColor: accent,
diff --git a/lib/ui/rootPage.dart b/lib/ui/rootPage.dart
index a74eb673a..ae536ad64 100644
--- a/lib/ui/rootPage.dart
+++ b/lib/ui/rootPage.dart
@@ -73,9 +73,9 @@ class AppState extends State<Musify> {
         await audioPlayer?.pause();
         if (hasNext) {
           if (activePlaylist.isEmpty && playNextSongAutomatically.value) {
-            await playSong(await getRandomSong());
+            await playSong(await getRandomSong(), true);
           } else {
-            await playSong(activePlaylist[id + 1]);
+            await playSong(activePlaylist[id + 1], true);
             id = id + 1;
           }
         }
diff --git a/lib/ui/searchPage.dart b/lib/ui/searchPage.dart
index c3a5b8da9..68dce2def 100644
--- a/lib/ui/searchPage.dart
+++ b/lib/ui/searchPage.dart
@@ -1,6 +1,7 @@
 import 'package:flutter/material.dart';
 import 'package:flutter/services.dart';
 import 'package:flutter_gen/gen_l10n/app_localizations.dart';
+import 'package:hive_flutter/hive_flutter.dart';
 import 'package:musify/API/musify.dart';
 import 'package:musify/customWidgets/song_bar.dart';
 import 'package:musify/customWidgets/spinner.dart';
@@ -12,7 +13,7 @@ class SearchPage extends StatefulWidget {
   _SearchPageState createState() => _SearchPageState();
 }
 
-List searchHistory = [];
+List searchHistory = Hive.box('user').get('searchHistory', defaultValue: []);
 
 class _SearchPageState extends State<SearchPage> {
   final TextEditingController _searchBar = TextEditingController();
diff --git a/lib/ui/userLikedSongsPage.dart b/lib/ui/userLikedSongsPage.dart
index fb7002ef6..e53df2ecf 100644
--- a/lib/ui/userLikedSongsPage.dart
+++ b/lib/ui/userLikedSongsPage.dart
@@ -118,7 +118,10 @@ class _UserLikedSongsState extends State<UserLikedSongs> {
                         ),
                         child: Text(
                           AppLocalizations.of(context)!.playAll.toUpperCase(),
-                          style: const TextStyle(color: Colors.white),
+                          style: TextStyle(
+                              color: accent != const Color(0xFFFFFFFF)
+                                  ? Colors.white
+                                  : Colors.black),
                         ),
                       ),
                     ],
diff --git a/lib/ui/userPlaylistsPage.dart b/lib/ui/userPlaylistsPage.dart
index b92a922f2..ebf343ee9 100644
--- a/lib/ui/userPlaylistsPage.dart
+++ b/lib/ui/userPlaylistsPage.dart
@@ -80,7 +80,11 @@ class _UserPlaylistsPageState extends State<UserPlaylistsPage> {
           );
         },
         backgroundColor: accent,
-        child: const Icon(Icons.add),
+        child: Icon(
+          Icons.add,
+          color:
+              accent != const Color(0xFFFFFFFF) ? Colors.white : Colors.black,
+        ),
       ),
       body: SingleChildScrollView(
         child: Column(
