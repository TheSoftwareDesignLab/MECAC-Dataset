diff --git a/android-components/buildSrc/src/main/java/KotlinCompiler.kt b/android-components/buildSrc/src/main/java/KotlinCompiler.kt
index cf1cd726e0fa..096fa2433433 100644
--- a/android-components/buildSrc/src/main/java/KotlinCompiler.kt
+++ b/android-components/buildSrc/src/main/java/KotlinCompiler.kt
@@ -39,7 +39,6 @@ object KotlinCompiler {
         "support-test",
         "support-utils",
         "tooling-lint",
-        "ui-progress",
         "ui-tabcounter"
     )
 }
diff --git a/android-components/components/ui/progress/build.gradle b/android-components/components/ui/progress/build.gradle
index 2cbb39b16792..7e6f8da44e52 100644
--- a/android-components/components/ui/progress/build.gradle
+++ b/android-components/components/ui/progress/build.gradle
@@ -28,6 +28,8 @@ dependencies {
 
     implementation Dependencies.androidx_appcompat
 
+    testImplementation project(":support-test")
+
     testImplementation Dependencies.testing_junit
     testImplementation Dependencies.testing_robolectric
     testImplementation Dependencies.testing_mockito
diff --git a/android-components/components/ui/progress/src/main/java/mozilla/components/ui/progress/DrawableWrapper.kt b/android-components/components/ui/progress/src/main/java/mozilla/components/ui/progress/DrawableWrapper.kt
index aa2f15f4e732..962b05bfc4f9 100644
--- a/android-components/components/ui/progress/src/main/java/mozilla/components/ui/progress/DrawableWrapper.kt
+++ b/android-components/components/ui/progress/src/main/java/mozilla/components/ui/progress/DrawableWrapper.kt
@@ -36,7 +36,7 @@ internal open class DrawableWrapper(val wrappedDrawable: Drawable) : Drawable()
         return wrappedDrawable.changingConfigurations
     }
 
-    override fun getConstantState(): Drawable.ConstantState? {
+    override fun getConstantState(): ConstantState? {
         return wrappedDrawable.constantState
     }
 
@@ -93,8 +93,7 @@ internal open class DrawableWrapper(val wrappedDrawable: Drawable) : Drawable()
         return wrappedDrawable.mutate()
     }
 
-    @Suppress("MagicNumber")
-    override fun setAlpha(@IntRange(from = 0, to = 255) i: Int) {
+    override fun setAlpha(@IntRange(from = MIN_ALPHA_VALUE, to = MAX_ALPHA_VALUE) i: Int) {
         wrappedDrawable.alpha = i
     }
 
@@ -138,3 +137,6 @@ internal open class DrawableWrapper(val wrappedDrawable: Drawable) : Drawable()
         return wrappedDrawable.setState(state)
     }
 }
+
+private const val MIN_ALPHA_VALUE = 0L
+private const val MAX_ALPHA_VALUE = 255L
diff --git a/android-components/components/ui/progress/src/test/java/mozilla/components/ui/progress/AnimatedProgressBarTest.kt b/android-components/components/ui/progress/src/test/java/mozilla/components/ui/progress/AnimatedProgressBarTest.kt
index 57280fdd440f..e761e48155ac 100644
--- a/android-components/components/ui/progress/src/test/java/mozilla/components/ui/progress/AnimatedProgressBarTest.kt
+++ b/android-components/components/ui/progress/src/test/java/mozilla/components/ui/progress/AnimatedProgressBarTest.kt
@@ -5,6 +5,7 @@
 package mozilla.components.ui.progress
 
 import android.view.View
+import mozilla.components.support.test.robolectric.testContext
 import org.junit.Assert.assertEquals
 import org.junit.Test
 import org.junit.runner.RunWith
@@ -12,14 +13,13 @@ import org.mockito.Mockito.never
 import org.mockito.Mockito.spy
 import org.mockito.Mockito.verify
 import org.robolectric.RobolectricTestRunner
-import org.robolectric.RuntimeEnvironment
 
 @RunWith(RobolectricTestRunner::class)
 class AnimatedProgressBarTest {
 
     @Test
     fun setProgress() {
-        val progressBar = AnimatedProgressBar(RuntimeEnvironment.application)
+        val progressBar = AnimatedProgressBar(testContext)
 
         progressBar.progress = -1
         assertEquals(0, progressBar.progress)
@@ -36,7 +36,7 @@ class AnimatedProgressBarTest {
 
     @Test
     fun setVisibility() {
-        val progressBar = spy(AnimatedProgressBar(RuntimeEnvironment.application))
+        val progressBar = spy(AnimatedProgressBar(testContext))
 
         progressBar.visibility = View.GONE
         verify(progressBar, never()).animateClosing()
