diff --git a/focus-android/app/src/main/java/org/mozilla/focus/animation/TransitionDrawableGroup.kt b/focus-android/app/src/main/java/org/mozilla/focus/animation/TransitionDrawableGroup.kt
index 37603f3c728d..6b781ab95b2b 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/animation/TransitionDrawableGroup.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/animation/TransitionDrawableGroup.kt
@@ -23,10 +23,4 @@ class TransitionDrawableGroup(private vararg val transitionDrawables: Transition
             transitionDrawable.resetTransition()
         }
     }
-
-    fun transitionImmediately() {
-        for (transitionDrawable in transitionDrawables) {
-            transitionDrawable.startTransition(0)
-        }
-    }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
index e73827becc73..c9bbdbb4a840 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
@@ -13,7 +13,6 @@ import android.view.MenuItem
 import android.view.View
 import android.view.ViewGroup
 import kotlinx.coroutines.CoroutineScope
-import kotlinx.coroutines.Dispatchers
 import kotlinx.coroutines.Dispatchers.IO
 import kotlinx.coroutines.Dispatchers.Main
 import kotlinx.coroutines.Job
@@ -34,7 +33,7 @@ import kotlin.coroutines.CoroutineContext
 class AutocompleteAddFragment : BaseSettingsLikeFragment(), CoroutineScope {
     private var job = Job()
     override val coroutineContext: CoroutineContext
-        get() = job + Dispatchers.Main
+        get() = job + Main
     private var _binding: FragmentAutocompleteAddDomainBinding? = null
     private val binding get() = _binding!!
 
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
index 1fe72b92d146..718448cf9dae 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
@@ -22,7 +22,6 @@ import androidx.recyclerview.widget.ItemTouchHelper.SimpleCallback
 import androidx.recyclerview.widget.LinearLayoutManager
 import androidx.recyclerview.widget.RecyclerView
 import kotlinx.coroutines.CoroutineScope
-import kotlinx.coroutines.Dispatchers
 import kotlinx.coroutines.Dispatchers.IO
 import kotlinx.coroutines.Dispatchers.Main
 import kotlinx.coroutines.Job
@@ -47,7 +46,7 @@ typealias DomainFormatter = (String) -> String
 open class AutocompleteListFragment : BaseSettingsLikeFragment(), CoroutineScope {
     private var job = Job()
     override val coroutineContext: CoroutineContext
-        get() = job + Dispatchers.Main
+        get() = job + Main
     private var _binding: FragmentAutocompleteCustomdomainsBinding? = null
     protected val binding get() = _binding!!
 
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompletePreference.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompletePreference.kt
deleted file mode 100644
index 566b7241840c..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompletePreference.kt
+++ /dev/null
@@ -1,36 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.autocomplete
-
-import android.content.Context
-import android.util.AttributeSet
-import android.widget.TextView
-import androidx.preference.Preference
-import androidx.preference.PreferenceViewHolder
-import org.mozilla.focus.R
-import org.mozilla.focus.ext.settings
-
-/**
- * Autocomplete preference that will show a sub screen to configure the autocomplete behavior.
- */
-class AutocompletePreference(context: Context?, attrs: AttributeSet?) : Preference(context, attrs) {
-    var summaryView: TextView? = null
-
-    override fun onBindViewHolder(holder: PreferenceViewHolder?) {
-        super.onBindViewHolder(holder)
-
-        val settings = context.settings
-
-        summaryView = holder!!.findViewById(android.R.id.summary) as TextView
-        summaryView?.setText(
-            if (settings.shouldAutocompleteFromShippedDomainList() ||
-                settings.shouldAutocompleteFromCustomDomainList()
-            )
-                R.string.preference_state_on
-            else
-                R.string.preference_state_off
-        )
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
index c860a1730fc9..4c00163a352a 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
@@ -9,7 +9,6 @@ import android.view.Menu
 import android.view.MenuInflater
 import android.view.MenuItem
 import kotlinx.coroutines.CoroutineScope
-import kotlinx.coroutines.Dispatchers
 import kotlinx.coroutines.Dispatchers.Main
 import kotlinx.coroutines.Job
 import kotlinx.coroutines.async
@@ -24,7 +23,7 @@ import kotlin.coroutines.CoroutineContext
 class AutocompleteRemoveFragment : AutocompleteListFragment(), CoroutineScope {
     private var job = Job()
     override val coroutineContext: CoroutineContext
-        get() = job + Dispatchers.Main
+        get() = job + Main
 
     override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {
         inflater.inflate(R.menu.menu_autocomplete_remove, menu)
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/browser/integration/BrowserToolbarIntegration.kt b/focus-android/app/src/main/java/org/mozilla/focus/browser/integration/BrowserToolbarIntegration.kt
index 500088a20f38..5b63c822bbef 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/browser/integration/BrowserToolbarIntegration.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/browser/integration/BrowserToolbarIntegration.kt
@@ -47,7 +47,7 @@ class BrowserToolbarIntegration(
     private val eraseActionListener: () -> Unit,
     private val tabCounterListener: () -> Unit,
     private val customTabId: String? = null,
-    private val inTesting: Boolean = false
+    inTesting: Boolean = false
 ) : LifecycleAwareFeature {
     private val presenter = ToolbarPresenter(
         toolbar,
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/ext/BrowserStore.kt b/focus-android/app/src/main/java/org/mozilla/focus/ext/BrowserStore.kt
index 1bdde6f59a53..e037f3f36883 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/ext/BrowserStore.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/ext/BrowserStore.kt
@@ -5,19 +5,9 @@
 package org.mozilla.focus.ext
 
 import mozilla.components.browser.state.search.SearchEngine
-import mozilla.components.browser.state.selector.findTabOrCustomTabOrSelectedTab
-import mozilla.components.browser.state.state.ContentState
 import mozilla.components.browser.state.state.selectedOrDefaultSearchEngine
 import mozilla.components.browser.state.store.BrowserStore
 
-fun BrowserStore.isSearch(sessionId: String): Boolean {
-    return contentState(sessionId)?.searchTerms?.isNotEmpty() == true
-}
-
-fun BrowserStore.contentState(sessionId: String): ContentState? {
-    return state.findTabOrCustomTabOrSelectedTab(sessionId)?.content
-}
-
 /**
  * Returns the default search engine name or "custom" string if the engine is added by the user.
  */
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/ext/Context.kt b/focus-android/app/src/main/java/org/mozilla/focus/ext/Context.kt
index 65a7851ea0d6..0a50cec44d66 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/ext/Context.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/ext/Context.kt
@@ -43,12 +43,3 @@ val Context.installedDate: String
         val installTime = this.packageManager.getPackageInfo(this.packageName, 0).firstInstallTime
         return DateFormat.getDateInstance().format(installTime)
     }
-
-/**
- * Get the app last update date.
- */
-val Context.lastUpdateDate: String
-    get() {
-        val lastUpdateDate = this.packageManager.getPackageInfo(this.packageName, 0).lastUpdateTime
-        return DateFormat.getDateInstance().format(lastUpdateDate)
-    }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/ext/String.kt b/focus-android/app/src/main/java/org/mozilla/focus/ext/String.kt
index de338aa95e4a..8c5a0e168c4f 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/ext/String.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/ext/String.kt
@@ -61,24 +61,6 @@ fun String.beautifyUrl(): String {
     return beautifulUrl.toString()
 }
 
-/**
- * If this string starts with the one or more of the given [prefixes] (in order and ignoring case),
- * returns a copy of this string with the prefixes removed. Otherwise, returns this string.
- */
-fun String.removePrefixesIgnoreCase(vararg prefixes: String): String {
-    var value = this
-    var lower = this.lowercase()
-
-    prefixes.forEach {
-        if (lower.startsWith(it.lowercase())) {
-            value = value.substring(it.length)
-            lower = lower.substring(it.length)
-        }
-    }
-
-    return value
-}
-
 /**
  * Tries to parse and get root domain part if [String] is a valid URL.
  */
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunCardView.kt b/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunCardView.kt
index 8814e29ca543..db206268cdba 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunCardView.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunCardView.kt
@@ -6,8 +6,6 @@ package org.mozilla.focus.firstrun
 
 import android.content.Context
 import android.util.AttributeSet
-import android.view.View
-import androidx.cardview.widget.CardView
 import org.mozilla.focus.R
 
 class FirstrunCardView @JvmOverloads constructor(
@@ -22,8 +20,8 @@ class FirstrunCardView @JvmOverloads constructor(
     override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {
         // The view is set to match_parent in the layout file. So width and height should be the
         // value needed to fill the whole parent view.
-        val availableWidth = View.MeasureSpec.getSize(widthMeasureSpec)
-        val availableHeight = View.MeasureSpec.getSize(heightMeasureSpec)
+        val availableWidth = MeasureSpec.getSize(widthMeasureSpec)
+        val availableHeight = MeasureSpec.getSize(heightMeasureSpec)
 
         // Now let's use those sizes to measure - but let's not exceed our defined max sizes (We do
         // not want to have gigantic cards on large devices like tablets.)
@@ -31,8 +29,8 @@ class FirstrunCardView @JvmOverloads constructor(
         val measuredHeight = Math.min(availableHeight, maxHeight)
 
         // Let's use the measured values to hand them to the super class to measure the child views etc.
-        val newWidthMeasureSpec = View.MeasureSpec.makeMeasureSpec(measuredWidth, View.MeasureSpec.EXACTLY)
-        val newHeightMeasureSpec = View.MeasureSpec.makeMeasureSpec(measuredHeight, View.MeasureSpec.EXACTLY)
+        val newWidthMeasureSpec = MeasureSpec.makeMeasureSpec(measuredWidth, MeasureSpec.EXACTLY)
+        val newHeightMeasureSpec = MeasureSpec.makeMeasureSpec(measuredHeight, MeasureSpec.EXACTLY)
 
         super.onMeasure(newWidthMeasureSpec, newHeightMeasureSpec)
     }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunPagerAdapter.kt b/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunPagerAdapter.kt
index 37c37a1b8289..78ad60e80c91 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunPagerAdapter.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/firstrun/FirstrunPagerAdapter.kt
@@ -29,7 +29,7 @@ class FirstrunPagerAdapter(
 
     init {
         val appName = context.getString(R.string.app_name)
-        this.pages = arrayOf(
+        pages = arrayOf(
             FirstrunPage(
                 context.getString(R.string.firstrun_defaultbrowser_title),
                 context.getString(R.string.firstrun_defaultbrowser_text2),
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/locale/LocaleManager.java b/focus-android/app/src/main/java/org/mozilla/focus/locale/LocaleManager.java
index 8f35e9bd404d..c54511830261 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/locale/LocaleManager.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/locale/LocaleManager.java
@@ -5,23 +5,15 @@
 
 package org.mozilla.focus.locale;
 
-import android.content.BroadcastReceiver;
 import android.content.Context;
-import android.content.Intent;
-import android.content.IntentFilter;
 import android.content.SharedPreferences;
 import android.content.res.Configuration;
 import android.content.res.Resources;
-import android.util.Log;
-
 import androidx.preference.PreferenceManager;
-
 import org.mozilla.focus.R;
 import org.mozilla.focus.generated.LocaleList;
-
 import java.util.Collection;
 import java.util.Locale;
-import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.atomic.AtomicReference;
 
 /**
@@ -37,21 +29,12 @@
  * * It relies on using the SharedPreferences file owned by the app for performance.
  */
 public class LocaleManager {
-    private static final String LOG_TAG = "GeckoLocales";
-
     private static String PREF_LOCALE = null;
 
-    private static final String FALLBACK_LOCALE_TAG = "en-US";
-
     // These are volatile because we don't impose restrictions
     // over which thread calls our methods.
     private volatile Locale currentLocale;
-    private volatile Locale systemLocale = Locale.getDefault();
-
-    private final AtomicBoolean inited = new AtomicBoolean(false);
     private boolean systemLocaleDidChange;
-    private BroadcastReceiver receiver;
-
     private static final AtomicReference<LocaleManager> instance = new AtomicReference<>();
 
     public static LocaleManager getInstance() {
@@ -68,163 +51,6 @@ public static LocaleManager getInstance() {
         }
     }
 
-    /**
-     * Ensure that you call this early in your application startup,
-     * and with a context that's sufficiently long-lived (typically
-     * the application context).
-     *
-     * Calling multiple times is harmless.
-     */
-    public void initialize(final Context context) {
-        if (!inited.compareAndSet(false, true)) {
-            return;
-        }
-
-        receiver = new BroadcastReceiver() {
-            @Override
-            public void onReceive(Context context, Intent intent) {
-                final Locale current = systemLocale;
-
-                // We don't trust Locale.getDefault() here, because we make a
-                // habit of mutating it! Use the one Android supplies, because
-                // that gets regularly reset.
-                // The default value of systemLocale is fine, because we haven't
-                // yet swizzled Locale during static initialization.
-                systemLocale = context.getResources().getConfiguration().locale;
-                systemLocaleDidChange = true;
-
-                Log.d(LOG_TAG, "System locale changed from " + current + " to " + systemLocale);
-            }
-        };
-        context.registerReceiver(receiver, new IntentFilter(Intent.ACTION_LOCALE_CHANGED));
-    }
-
-    public boolean systemLocaleDidChange() {
-        return systemLocaleDidChange;
-    }
-
-    /**
-     * Every time the system gives us a new configuration, it
-     * carries the external locale. Fix it.
-     */
-    public void correctLocale(Context context, Resources res, Configuration config) {
-        final Locale current = getCurrentLocale(context);
-        if (current == null) {
-            Log.d(LOG_TAG, "No selected locale. No correction needed.");
-            return;
-        }
-
-        // I know it's tempting to short-circuit here if the config seems to be
-        // up-to-date, but the rest is necessary.
-
-        config.locale = current;
-
-        // The following two lines are heavily commented in case someone
-        // decides to chase down performance improvements and decides to
-        // question what's going on here.
-        // Both lines should be cheap, *but*...
-
-        // This is unnecessary for basic string choice, but it almost
-        // certainly comes into play when rendering numbers, deciding on RTL,
-        // etc. Take it out if you can prove that's not the case.
-        Locale.setDefault(current);
-
-        // This seems to be a no-op, but every piece of documentation under the
-        // sun suggests that it's necessary, and it certainly makes sense.
-        res.updateConfiguration(config, null);
-    }
-
-    /**
-     * We can be in one of two states.
-     *
-     * If the user has not explicitly chosen a Firefox-specific locale, we say
-     * we are "mirroring" the system locale.
-     *
-     * When we are not mirroring, system locale changes do not impact Firefox
-     * and are essentially ignored; the user's locale selection is the only
-     * thing we care about, and we actively correct incoming configuration
-     * changes to reflect the user's chosen locale.
-     *
-     * By contrast, when we are mirroring, system locale changes cause Firefox
-     * to reflect the new system locale, as if the user picked the new locale.
-     *
-     * If we're currently mirroring the system locale, this method returns the
-     * supplied configuration's locale, unless the current activity locale is
-     * correct. If we're not currently mirroring, this method updates the
-     * configuration object to match the user's currently selected locale, and
-     * returns that, unless the current activity locale is correct.
-     *
-     * If the current activity locale is correct, returns null.
-     *
-     * The caller is expected to redisplay themselves accordingly.
-     *
-     * This method is intended to be called from inside
-     * <code>onConfigurationChanged(Configuration)</code> as part of a strategy
-     * to detect and either apply or undo system locale changes.
-     */
-    public Locale onSystemConfigurationChanged(final Context context, final Resources resources, final Configuration configuration, final Locale currentActivityLocale) {
-        if (!isMirroringSystemLocale(context)) {
-            correctLocale(context, resources, configuration);
-        }
-
-        final Locale changed = configuration.locale;
-        if (changed.equals(currentActivityLocale)) {
-            return null;
-        }
-
-        return changed;
-    }
-
-    public String getAndApplyPersistedLocale(Context context) {
-        initialize(context);
-
-        final long t1 = android.os.SystemClock.uptimeMillis();
-        final String localeCode = getPersistedLocale(context);
-        if (localeCode == null) {
-            return null;
-        }
-
-        // Note that we don't tell Gecko about this. We notify Gecko when the
-        // locale is set, not when we update Java.
-        final String resultant = updateLocale(context, localeCode);
-
-        if (resultant == null) {
-            // Update the configuration anyway.
-            updateConfiguration(context, currentLocale);
-        }
-
-        final long t2 = android.os.SystemClock.uptimeMillis();
-        Log.i(LOG_TAG, "Locale read and update took: " + (t2 - t1) + "ms.");
-        return resultant;
-    }
-
-    /**
-     * Returns the set locale if it changed.
-     *
-     * Always persists and notifies Gecko.
-     */
-    public String setSelectedLocale(Context context, String localeCode) {
-        final String resultant = updateLocale(context, localeCode);
-
-        // We always persist and notify Gecko, even if nothing seemed to
-        // change. This might happen if you're picking a locale that's the same
-        // as the current OS locale. The OS locale might change next time we
-        // launch, and we need the Gecko pref and persisted locale to have been
-        // set by the time that happens.
-        persistLocale(context, localeCode);
-
-        return resultant;
-    }
-
-    public void resetToSystemLocale(Context context) {
-        // Wipe the pref.
-        final SharedPreferences settings = getSharedPreferences(context);
-        settings.edit().remove(PREF_LOCALE).apply();
-
-        // Apply the system locale.
-        updateLocale(context, systemLocale);
-    }
-
     /**
      * This is public to allow for an activity to force the
      * current locale to be applied if necessary (e.g., when
@@ -264,11 +90,6 @@ private String getPersistedLocale(Context context) {
         return locale;
     }
 
-    private void persistLocale(Context context, String localeCode) {
-        final SharedPreferences settings = getSharedPreferences(context);
-        settings.edit().putString(PREF_LOCALE, localeCode).apply();
-    }
-
     public Locale getCurrentLocale(Context context) {
         if (currentLocale != null) {
             return currentLocale;
@@ -281,52 +102,6 @@ public Locale getCurrentLocale(Context context) {
         return currentLocale = Locales.parseLocaleCode(current);
     }
 
-    /**
-     * Updates the Java locale and the Android configuration.
-     *
-     * Returns the persisted locale if it differed.
-     *
-     * Does not notify Gecko.
-     *
-     * @param localeCode a locale string in Java format: "en_US".
-     * @return if it differed, a locale string in Java format: "en_US".
-     */
-    private String updateLocale(Context context, String localeCode) {
-        // Fast path.
-        final Locale defaultLocale = Locale.getDefault();
-        Log.d("LOCALE", "Trying to check locale");
-        if (defaultLocale.toString().equals(localeCode)) {
-            Log.d("LOCALE", "Early return");
-            return null;
-        }
-
-        final Locale locale = Locales.parseLocaleCode(localeCode);
-
-        return updateLocale(context, locale);
-    }
-
-    /**
-     * @return the Java locale string: e.g., "en_US".
-     */
-    private String updateLocale(Context context, final Locale locale) {
-        // Fast path.
-        if (Locale.getDefault().equals(locale)) {
-            return null;
-        }
-
-        Locale.setDefault(locale);
-        currentLocale = locale;
-
-        // Update resources.
-        updateConfiguration(context, locale);
-
-        return locale.toString();
-    }
-
-    public boolean isMirroringSystemLocale(final Context context) {
-        return getPersistedLocale(context) == null;
-    }
-
     /**
      * Returns a list of supported locale codes
      */
@@ -334,7 +109,4 @@ public static Collection<String> getPackagedLocaleTags() {
         return LocaleList.BUNDLED_LOCALES;
     }
 
-    public static String getFallbackLocaleTag() {
-        return FALLBACK_LOCALE_TAG;
-    }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/locale/Locales.java b/focus-android/app/src/main/java/org/mozilla/focus/locale/Locales.java
index 59c15d265908..5bf073a6553d 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/locale/Locales.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/locale/Locales.java
@@ -7,41 +7,16 @@
 import android.content.Context;
 import android.content.res.Configuration;
 import android.content.res.Resources;
-import android.os.LocaleList;
-import android.os.StrictMode;
-import android.text.TextUtils;
-
-import java.util.LinkedHashSet;
 import java.util.Locale;
-import java.util.Set;
 
 /**
  * This is a helper class to do typical locale switching operations without
  * hitting StrictMode errors or adding boilerplate to common activity
  * subclasses.
  *
- * Either call {@link Locales#initializeLocale(Context)} in your
- * <code>onCreate</code> method, or inherit from
- * <code>LocaleAwareFragmentActivity</code> or <code>LocaleAwareActivity</code>.
+ * Inherit from <code>LocaleAwareFragmentActivity</code> or <code>LocaleAwareActivity</code>.
  */
 public class Locales {
-    private static final String LOGTAG = "Locales";
-
-    /**
-     * Is only required by locale aware activities, AND  Application. In most cases you should be
-     * using LocaleAwareAppCompatActivity or friends.
-     * @param context
-     */
-    public static void initializeLocale(Context context) {
-        final LocaleManager localeManager = LocaleManager.getInstance();
-        final StrictMode.ThreadPolicy savedPolicy = StrictMode.allowThreadDiskReads();
-        StrictMode.allowThreadDiskWrites();
-        try {
-            localeManager.getAndApplyPersistedLocale(context);
-        } finally {
-            StrictMode.setThreadPolicy(savedPolicy);
-        }
-    }
 
     /**
      * Sometimes we want just the language for a locale, not the entire language
@@ -105,30 +80,6 @@ public static Locale parseLocaleCode(final String localeCode) {
         return new Locale(localeCode);
     }
 
-    /**
-     * Get a set of all countries (lowercase) in the list of default locales for this device.
-     */
-    public static Set<String> getCountriesInDefaultLocaleList() {
-        final Set<String> countries = new LinkedHashSet<>();
-
-        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.N) {
-            final LocaleList list = LocaleList.getDefault();
-            for (int i = 0; i < list.size(); i++) {
-                final String country = list.get(i).getCountry();
-                if (!TextUtils.isEmpty(country)) {
-                    countries.add(country.toLowerCase(Locale.US));
-                }
-            }
-        } else {
-            final String country = Locale.getDefault().getCountry();
-            if (!TextUtils.isEmpty(country)) {
-                countries.add(country.toLowerCase(Locale.US));
-            }
-        }
-
-        return countries;
-    }
-
     /**
      * Get a Resources instance with the currently selected locale applied.
      */
@@ -136,7 +87,7 @@ public static Resources getLocalizedResources(Context context) {
         final Resources currentResources = context.getResources();
 
         final Locale currentLocale = LocaleManager.getInstance().getCurrentLocale(context);
-        @SuppressWarnings("deprecation") final Locale viewLocale = currentResources.getConfiguration().locale;
+        final Locale viewLocale = currentResources.getConfiguration().locale;
 
         if (currentLocale == null || viewLocale == null) {
             return currentResources;
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/search/MultiselectSearchEngineListPreference.kt b/focus-android/app/src/main/java/org/mozilla/focus/search/MultiselectSearchEngineListPreference.kt
index 5e042aebac62..ffd4d47852e4 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/search/MultiselectSearchEngineListPreference.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/search/MultiselectSearchEngineListPreference.kt
@@ -33,7 +33,7 @@ class MultiselectSearchEngineListPreference(context: Context, attrs: AttributeSe
 
     override fun onBindViewHolder(holder: PreferenceViewHolder?) {
         super.onBindViewHolder(holder)
-        this.bindEngineCheckboxesToMenu()
+        bindEngineCheckboxesToMenu()
     }
 
     override fun updateDefaultItem(defaultButton: CompoundButton) {
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/session/SessionNotificationService.kt b/focus-android/app/src/main/java/org/mozilla/focus/session/SessionNotificationService.kt
index c3939b8007c4..92284a6f177d 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/session/SessionNotificationService.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/session/SessionNotificationService.kt
@@ -31,7 +31,7 @@ class SessionNotificationService : Service() {
     private var shouldSendTaskRemovedTelemetry = true
 
     override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {
-        val action = intent.action ?: return Service.START_NOT_STICKY
+        val action = intent.action ?: return START_NOT_STICKY
 
         when (action) {
             ACTION_START -> {
@@ -58,7 +58,7 @@ class SessionNotificationService : Service() {
             else -> throw IllegalStateException("Unknown intent: $intent")
         }
 
-        return Service.START_NOT_STICKY
+        return START_NOT_STICKY
     }
 
     override fun onTaskRemoved(rootIntent: Intent) {
@@ -170,11 +170,9 @@ class SessionNotificationService : Service() {
             // before it times out. so this is a speculative fix to decrease the time between these two
             // calls by running this after potentially expensive calls in FocusApplication.onCreate and
             // BrowserFragment.inflateView by posting it to the end of the main thread.
-            ThreadUtils.postToMainThread(
-                Runnable {
-                    context.startService(intent)
-                }
-            )
+            ThreadUtils.postToMainThread {
+                context.startService(intent)
+            }
         }
 
         internal fun stop(context: Context) {
@@ -182,11 +180,9 @@ class SessionNotificationService : Service() {
 
             // We want to make sure we always call stop after start. So we're
             // putting these actions on the same sequential run queue.
-            ThreadUtils.postToMainThread(
-                Runnable {
-                    context.stopService(intent)
-                }
-            )
+            ThreadUtils.postToMainThread {
+                context.stopService(intent)
+            }
         }
     }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/session/ui/TabViewHolder.kt b/focus-android/app/src/main/java/org/mozilla/focus/session/ui/TabViewHolder.kt
index dbc2a0072dfb..0081efb29e4b 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/session/ui/TabViewHolder.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/session/ui/TabViewHolder.kt
@@ -23,7 +23,7 @@ class TabViewHolder(
         selectSession: (TabSessionState) -> Unit,
         closeSession: (TabSessionState) -> Unit
     ) {
-        this.tabReference = WeakReference(tab)
+        tabReference = WeakReference(tab)
 
         val drawable = if (isCurrentSession) {
             R.drawable.background_list_item_current_session
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/settings/SettingsFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/settings/SettingsFragment.kt
index 1b444bd265ce..9ea3a2c54c15 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/settings/SettingsFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/settings/SettingsFragment.kt
@@ -85,8 +85,6 @@ class SettingsFragment : BaseSettingsFragment() {
     }
 
     companion object {
-        const val TAG = "settings"
-
         fun newInstance(): SettingsFragment {
             return SettingsFragment()
         }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/settings/privacy/PreferenceSwitch.kt b/focus-android/app/src/main/java/org/mozilla/focus/settings/privacy/PreferenceSwitch.kt
index 78660b69fd99..c1278b5493a0 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/settings/privacy/PreferenceSwitch.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/settings/privacy/PreferenceSwitch.kt
@@ -33,7 +33,7 @@ class PreferenceSwitch(
 
     init {
         setInitialValue()
-        this.setOnCheckedChangeListener(null)
+        setOnCheckedChangeListener(null)
         setOnClickListener {
             togglePreferenceValue(this.isChecked)
             clickListener?.invoke()
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/shortcut/IconGenerator.kt b/focus-android/app/src/main/java/org/mozilla/focus/shortcut/IconGenerator.kt
index 57c5e74db892..edc68df168be 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/shortcut/IconGenerator.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/shortcut/IconGenerator.kt
@@ -10,12 +10,10 @@ import android.graphics.BitmapFactory
 import android.graphics.Canvas
 import android.graphics.Color
 import android.graphics.Paint
-import android.graphics.Rect
 import android.net.Uri
 import android.os.Build
 import android.util.TypedValue
 import androidx.core.content.ContextCompat
-import androidx.vectordrawable.graphics.drawable.VectorDrawableCompat
 import org.mozilla.focus.R
 import org.mozilla.focus.utils.UrlUtils
 
@@ -24,7 +22,6 @@ class IconGenerator {
     companion object {
         private val TEXT_SIZE_DP = 36f
         private val DEFAULT_ICON_CHAR = '?'
-        private const val SEARCH_ICON_FRAME = 0.15
 
         /**
          * See [generateAdaptiveLauncherIcon] for more details.
@@ -57,21 +54,6 @@ class IconGenerator {
             return drawCharacterOnBitmap(context, character, shape)
         }
 
-        private fun drawVectorOnBitmap(context: Context, vectorId: Int, bitmap: Bitmap, frame: Double): Bitmap {
-            val canvas = Canvas(bitmap)
-            // Select the area to draw with a frame
-            val rect = Rect(
-                (frame * canvas.width).toInt(),
-                (frame * canvas.height).toInt(),
-                ((1 - frame) * canvas.width).toInt(),
-                ((1 - frame) * canvas.height).toInt()
-            )
-            val icon = VectorDrawableCompat.create(context.resources, vectorId, null)
-            icon!!.bounds = rect
-            icon.draw(canvas)
-            return bitmap
-        }
-
         /**
          * Generates a launcher icon for versions of Android that support Adaptive Icons (Oreo+):
          * https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive.html
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/BrowsersCache.kt b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/BrowsersCache.kt
index 2691a2191d27..1f70b9b679e8 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/BrowsersCache.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/BrowsersCache.kt
@@ -35,7 +35,7 @@ object BrowsersCache {
             }
         }
         return Browsers.all(context).also {
-            this.cachedBrowsers = it
+            cachedBrowsers = it
         }
     }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/FactsProcessor.kt b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/FactsProcessor.kt
index 94349c1a5edb..6f38bcaca662 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/FactsProcessor.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/FactsProcessor.kt
@@ -53,7 +53,7 @@ object FactsProcessor {
             CustomTabsToolbar.actionButtonTapped.record(NoExtras())
         }
         Component.FEATURE_CONTEXTMENU to ContextMenuFacts.Items.ITEM -> {
-            ContextMenu.itemTapped.record(ContextMenu.ItemTappedExtra(this.toContextMenuExtraKey()))
+            ContextMenu.itemTapped.record(ContextMenu.ItemTappedExtra(toContextMenuExtraKey()))
         }
 
         Component.BROWSER_MENU to BrowserMenuFacts.Items.WEB_EXTENSION_MENU_ITEM -> {
@@ -72,8 +72,8 @@ object FactsProcessor {
  * Extracts an extraKey from a context menu Fact.
  */
 fun Fact.toContextMenuExtraKey() =
-    if (this.component == Component.FEATURE_CONTEXTMENU) {
-        this.metadata?.get("item").toString().removePrefix("mozac.feature.contextmenu.")
+    if (component == Component.FEATURE_CONTEXTMENU) {
+        metadata?.get("item").toString().removePrefix("mozac.feature.contextmenu.")
     } else {
         throw IllegalArgumentException("Fact is not a context menu fact")
     }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/BitmapUtils.java b/focus-android/app/src/main/java/org/mozilla/focus/utils/BitmapUtils.java
deleted file mode 100644
index 71ab3e8875bc..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/BitmapUtils.java
+++ /dev/null
@@ -1,18 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-package org.mozilla.focus.utils;
-
-import android.graphics.Bitmap;
-import android.util.Base64;
-
-import java.io.ByteArrayOutputStream;
-
-public class BitmapUtils {
-    public static String getBase64EncodedDataUriFromBitmap(Bitmap bitmap) {
-        final ByteArrayOutputStream stream = new ByteArrayOutputStream();
-        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);
-        final String encodedImage = Base64.encodeToString(stream.toByteArray(), Base64.DEFAULT);
-        return "data:image/png;base64," + encodedImage;
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/ContextUtils.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/ContextUtils.kt
index bf1fdc00783e..800e778b1a1d 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/ContextUtils.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/ContextUtils.kt
@@ -7,8 +7,5 @@ package org.mozilla.focus.utils
 import android.app.Activity
 import android.content.Context
 import android.view.ContextThemeWrapper
-import androidx.fragment.app.FragmentActivity
 
 fun Context.asActivity() = (this as? ContextThemeWrapper)?.baseContext as? Activity ?: this as? Activity
-fun Context.asFragmentActivity() = (this as? ContextThemeWrapper)?.baseContext as? FragmentActivity
-    ?: this as? FragmentActivity
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/Debounce.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/Debounce.kt
deleted file mode 100644
index 4733fde37f82..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/Debounce.kt
+++ /dev/null
@@ -1,34 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.utils
-
-import kotlinx.coroutines.CoroutineScope
-import kotlinx.coroutines.Job
-import kotlinx.coroutines.channels.Channel
-import kotlinx.coroutines.channels.ReceiveChannel
-import kotlinx.coroutines.channels.consumeEach
-import kotlinx.coroutines.channels.produce
-import kotlinx.coroutines.delay
-import kotlinx.coroutines.launch
-
-/**
- * Creates a debounced ReceiveChannel.
- *
- * @param time the amount of time in units to debounce by
- * @param channel the channel to debounce
- * @return a throttled channel
- */
-fun <T> CoroutineScope.debounce(time: Long, channel: ReceiveChannel<T>): ReceiveChannel<T> =
-    produce(coroutineContext, Channel.CONFLATED) {
-        var job: Job? = null
-        channel.consumeEach {
-            job?.cancel()
-            job = launch {
-                delay(time)
-                send(it)
-            }
-        }
-        job?.join()
-    }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/FileUtils.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/FileUtils.kt
deleted file mode 100644
index 3df9e1aeb905..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/FileUtils.kt
+++ /dev/null
@@ -1,52 +0,0 @@
-/* -*- Mode: Java; c-basic-offset: 4; tab-width: 20; indent-tabs-mode: nil; -*-
- * This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.utils
-
-import android.content.Context
-import java.io.File
-
-// WebView directory and contents.
-private const val WEBVIEW_DIRECTORY = "app_webview"
-private const val LOCAL_STORAGE_DIR = "Local Storage"
-
-// Cache directory contents.
-private const val WEBVIEW_CACHE_DIR = "org.chromium.android_webview"
-
-// Sentry directory
-private const val SENTRY_CACHE_DIR = "sentry-buffered-events"
-
-class FileUtils {
-    companion object {
-        @JvmStatic
-        fun truncateCacheDirectory(context: Context) = deleteContent(
-            context.cacheDir,
-            doNotEraseWhitelist = setOf(
-                // If the folder or its contents are deleted, WebView will stop using the disk cache entirely.
-                WEBVIEW_CACHE_DIR,
-                SENTRY_CACHE_DIR,
-                MobileMetricsPingStorage.STORAGE_FOLDER
-            )
-        )
-
-        @JvmStatic
-        fun deleteWebViewDirectory(context: Context): Boolean {
-            val webviewDirectory = File(context.applicationInfo.dataDir, WEBVIEW_DIRECTORY)
-            return deleteContent(
-                webviewDirectory,
-                doNotEraseWhitelist = setOf(
-                    // If the folder or its contents is deleted, WebStorage.deleteAllData does not clear Local Storage
-                    // in memory.
-                    LOCAL_STORAGE_DIR
-                )
-            )
-        }
-
-        private fun deleteContent(directory: File, doNotEraseWhitelist: Set<String> = emptySet()): Boolean {
-            val filesToDelete = directory.listFiles()?.filter { !doNotEraseWhitelist.contains(it.name) } ?: return false
-            return filesToDelete.all { it.deleteRecursively() }
-        }
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/IntentUtils.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/IntentUtils.kt
deleted file mode 100644
index 7412ca2e4d4c..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/IntentUtils.kt
+++ /dev/null
@@ -1,144 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-package org.mozilla.focus.utils
-
-import android.content.ActivityNotFoundException
-import android.content.Context
-import android.content.Intent
-import android.net.Uri
-import androidx.annotation.StringRes
-import androidx.appcompat.app.AlertDialog
-import org.mozilla.focus.R
-import java.net.URISyntaxException
-
-object IntentUtils {
-    private const val MARKET_INTENT_URI_PACKAGE_PREFIX = "market://details?id="
-    private const val EXTRA_BROWSER_FALLBACK_URL = "browser_fallback_url"
-
-    /**
-     * Find and open the appropriate app for a given Uri. If appropriate, let the user select between
-     * multiple supported apps. Returns a boolean indicating whether the URL was handled. A fallback
-     * URL will be opened in the supplied WebView if appropriate (in which case the URL was handled,
-     * and true will also be returned). If not handled, we should  fall back to webviews error handling
-     * (which ends up calling our error handling code as needed).
-     *
-     * Note: this method "leaks" the target Uri to Android before asking the user whether they
-     * want to use an external app to open the uri. Ultimately the OS can spy on anything we're
-     * doing in the app, so this isn't an actual "bug".
-     */
-    fun handleExternalUri(context: Context, uri: String): Boolean {
-        // This code is largely based on Fennec's ExternalIntentDuringPrivateBrowsingPromptFragment.java
-        val intent = try { Intent.parseUri(uri, 0) } catch (e: URISyntaxException) { return false }
-
-        // Since we're a browser:
-        intent.addCategory(Intent.CATEGORY_BROWSABLE)
-
-        // This is where we "leak" the uri to the OS. If we're using the system webview, then the OS
-        // already knows that we're opening this uri. Even if we're using GeckoView, the OS can still
-        // see what domains we're visiting, so there's no loss of privacy here:
-        val packageManager = context.packageManager
-        val matchingActivities = packageManager.queryIntentActivities(intent, 0)
-
-        when (matchingActivities.size) {
-            0 -> handleUnsupportedLink(context, intent)
-            1 -> {
-                val info = matchingActivities[0]
-                val externalAppTitle = info?.loadLabel(packageManager) ?: "(null)"
-
-                showConfirmationDialog(
-                    context,
-                    intent,
-                    context.getString(R.string.external_app_prompt_title),
-                    R.string.external_app_prompt,
-                    externalAppTitle
-                )
-            }
-            else -> {
-                val chooserTitle = context.getString(R.string.external_multiple_apps_matched_exit)
-                val chooserIntent = Intent.createChooser(intent, chooserTitle)
-                context.startActivity(chooserIntent)
-            }
-        }
-
-        return true
-    }
-
-    private fun handleUnsupportedLink(context: Context, intent: Intent): Boolean {
-        val fallbackUrl = intent.getStringExtra(EXTRA_BROWSER_FALLBACK_URL)
-        if (fallbackUrl != null) {
-            // webView.loadUrl(fallbackUrl)
-            return true
-        }
-
-        if (intent.getPackage() != null) {
-            // The url included the target package:
-            val marketUri = MARKET_INTENT_URI_PACKAGE_PREFIX + intent.getPackage()!!
-            val marketIntent = Intent(Intent.ACTION_VIEW, Uri.parse(marketUri))
-            marketIntent.addCategory(Intent.CATEGORY_BROWSABLE)
-
-            val packageManager = context.packageManager
-            val info = packageManager.resolveActivity(marketIntent, 0)
-            val marketTitle = info?.loadLabel(packageManager) ?: "(null)"
-
-            showConfirmationDialog(
-                context, marketIntent,
-                context.getString(R.string.external_app_prompt_no_app_title),
-                R.string.external_app_prompt_no_app, marketTitle
-            )
-
-            // Stop loading, we essentially have a result.
-            return true
-        }
-
-        // If there's really no way to handle this, we just let the browser handle this URL
-        // (which then shows the unsupported protocol page).
-        return false
-    }
-
-    // We only need one param for both scenarios, hence we use just one "param" argument. If we ever
-    // end up needing more or a variable number we can change this, but java varargs are a bit messy
-    // so let's try to avoid that seeing as it's not needed right now.
-    private fun showConfirmationDialog(
-        context: Context,
-        targetIntent: Intent,
-        title: String,
-        @StringRes messageResource: Int,
-        param: CharSequence
-    ) {
-        val builder = AlertDialog.Builder(context, R.style.DialogStyle)
-        val ourAppName = context.getString(R.string.app_name)
-
-        builder.apply {
-            setTitle(title)
-            setMessage(context.resources.getString(messageResource, ourAppName, param))
-            setPositiveButton(R.string.action_ok) { _, _ ->
-                try {
-                    context.startActivity(targetIntent)
-                } catch (_: ActivityNotFoundException) {
-                    return@setPositiveButton
-                }
-            }
-            setNegativeButton(R.string.action_cancel) { dialog, _ -> dialog.dismiss() }
-            show()
-        }
-    }
-
-    fun activitiesFoundForIntent(context: Context, intent: Intent?): Boolean {
-        return intent?.let {
-            val packageManager = context.packageManager
-            val resolveInfoList = packageManager.queryIntentActivities(intent, 0)
-            resolveInfoList.size > 0
-        } ?: false
-    }
-
-    fun createOpenFileIntent(uriFile: Uri?, mimeType: String?): Intent? {
-        if (uriFile == null || mimeType == null) {
-            return null
-        }
-        val openFileIntent = Intent(Intent.ACTION_VIEW)
-        openFileIntent.setDataAndType(uriFile, mimeType)
-        openFileIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)
-        return openFileIntent
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/MobileMetricsPingStorage.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/MobileMetricsPingStorage.kt
index 3900fa402baf..7c84d1007660 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/MobileMetricsPingStorage.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/MobileMetricsPingStorage.kt
@@ -21,7 +21,7 @@ class MobileMetricsPingStorage(
     fun shouldStoreMetrics(): Boolean = !file.exists()
     fun clearStorage() { file.delete() }
 
-    suspend fun save(json: JSONObject) {
+    fun save(json: JSONObject) {
         val stream = atomicFile.startWrite()
         try {
             stream.writer().use {
@@ -34,7 +34,7 @@ class MobileMetricsPingStorage(
         }
     }
 
-    suspend fun load(): JSONObject? {
+    fun load(): JSONObject? {
         return try {
             JSONObject(String(atomicFile.readFully()))
         } catch (e: FileNotFoundException) {
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/Settings.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/Settings.kt
index 1f4a3f52b590..9291a80fc604 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/Settings.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/Settings.kt
@@ -157,8 +157,6 @@ class Settings(
     }
 
     private val resources: Resources = context.resources
-    val hasAddedToHomeScreen: Boolean
-        get() = preferences.getBoolean(getPreferenceKey(R.string.has_added_to_home_screen), false)
 
     @Deprecated("This is no longer used. Read search engines from BrowserStore instead")
     val defaultSearchEngineName: String
@@ -178,13 +176,6 @@ class Settings(
                 .commit()
         }
 
-    fun shouldBlockImages(): Boolean =
-        // Not shipping in v1 (#188)
-            /* preferences.getBoolean(
-                    resources.getString(R.string.pref_key_performance_block_images),
-                    false); */
-        false
-
     private var autoplayPrefKey: String? = preferences.getString(
         getPreferenceKey(R.string.pref_key_autoplay),
         context.getString(R.string.pref_key_block_autoplay_audio_only)
@@ -313,16 +304,6 @@ class Settings(
     fun userHasDismissedNoSuggestionsMessage(): Boolean =
         preferences.getBoolean(SearchSuggestionsPreferences.DISMISSED_NO_SUGGESTIONS_PREF, false)
 
-    fun isDefaultBrowser() = preferences.getBoolean(
-        getPreferenceKey(R.string.pref_key_default_browser),
-        false
-    )
-
-    fun hasOpenedInNewTab() = preferences.getBoolean(
-        getPreferenceKey(R.string.has_opened_new_tab),
-        false
-    )
-
     fun hasRequestedDesktop() = preferences.getBoolean(
         getPreferenceKey(R.string.has_requested_desktop),
         false
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/SupportUtils.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/SupportUtils.kt
index d9975b9be2e8..ab1e57042ba4 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/SupportUtils.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/SupportUtils.kt
@@ -5,14 +5,10 @@
 
 package org.mozilla.focus.utils
 
-import android.annotation.TargetApi
-import android.content.ActivityNotFoundException
 import android.content.Context
 import android.content.Intent
 import android.content.pm.PackageManager
 import android.net.Uri
-import android.os.Build
-import android.provider.Settings
 import androidx.fragment.app.FragmentActivity
 import mozilla.components.browser.state.state.SessionState
 import mozilla.components.feature.customtabs.createCustomTabConfigFromIntent
@@ -118,15 +114,4 @@ object SupportUtils {
 
         activity.startActivity(openCustomTabActivityIntent)
     }
-
-    @TargetApi(Build.VERSION_CODES.N)
-    fun openDefaultAppsSettings(context: Context) {
-        try {
-            val intent = Intent(Settings.ACTION_MANAGE_DEFAULT_APPS_SETTINGS)
-            context.startActivity(intent)
-        } catch (e: ActivityNotFoundException) {
-            // In some cases, a matching Activity may not exist (according to the Android docs).
-            openDefaultBrowserSumoPage(context)
-        }
-    }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/UrlUtils.java b/focus-android/app/src/main/java/org/mozilla/focus/utils/UrlUtils.java
index 2628b32aafb9..3ab4ece97d97 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/UrlUtils.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/UrlUtils.java
@@ -149,26 +149,6 @@ public static String stripCommonSubdomains(@Nullable String host) {
         return host.substring(start);
     }
 
-    public static String stripScheme(@Nullable String url) {
-        if (url == null) {
-            return null;
-        }
-
-        int start = 0;
-
-        if (url.startsWith("http://")) {
-            start = 7;
-        } else if (url.startsWith("https://")) {
-            start = 8;
-        }
-
-        return url.substring(start);
-    }
-
-    public static String stripSchemeAndSubDomain(String url) {
-        return normalize(stripCommonSubdomains(stripScheme(url)));
-    }
-
     public static boolean isLocalizedContent(@Nullable String url) {
         return url != null &&
             (url.equals(LocalizedContent.URL_ABOUT) || url.equals(LocalizedContent.URL_RIGHTS) || url.equals("about:blank"));
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/utils/ViewUtils.kt b/focus-android/app/src/main/java/org/mozilla/focus/utils/ViewUtils.kt
index 89021b51b77d..07c09b268608 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/utils/ViewUtils.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/utils/ViewUtils.kt
@@ -12,7 +12,6 @@ import android.view.MenuItem
 import android.view.View
 import android.view.inputmethod.InputMethodManager
 import androidx.annotation.StringRes
-import androidx.core.view.ViewCompat
 import com.google.android.material.snackbar.Snackbar
 import java.lang.ref.WeakReference
 
@@ -21,18 +20,11 @@ object ViewUtils {
     private const val MENU_ITEM_ALPHA_ENABLED = 255
     private const val MENU_ITEM_ALPHA_DISABLED = 130
 
-    /**
-     * Flag of imeOptions: used to request that the IME does not update any personalized data such
-     * as typing history and personalized language model based on what the user typed on this text
-     * editing object.
-     */
-    const val IME_FLAG_NO_PERSONALIZED_LEARNING = 0x01000000
-
     /**
      * Runnable to show the keyboard for a specific view.
      */
     @Suppress("ReturnCount")
-    private class ShowKeyboard internal constructor(view: View?) : Runnable {
+    private class ShowKeyboard(view: View?) : Runnable {
         companion object {
             private const val INTERVAL_MS = 100
             private const val MAX_TRIES = 10
@@ -44,8 +36,8 @@ object ViewUtils {
 
         override fun run() {
             val myView = viewReference.get() ?: return
-            val activity: Activity? = myView.context?.asActivity() ?: return
-            val imm = activity?.getSystemService(Context.INPUT_METHOD_SERVICE) as? InputMethodManager ?: return
+            val activity: Activity = myView.context?.asActivity() ?: return
+            val imm = activity.getSystemService(Context.INPUT_METHOD_SERVICE) as? InputMethodManager ?: return
 
             when {
                 tries <= 0 -> return
@@ -65,7 +57,7 @@ object ViewUtils {
             }
         }
 
-        internal fun post() {
+        fun post() {
             tries--
             handler.postDelayed(this, INTERVAL_MS.toLong())
         }
@@ -93,10 +85,6 @@ object ViewUtils {
         view.postDelayed({ snackbar.show() }, delayMillis.toLong())
     }
 
-    fun isRTL(view: View): Boolean {
-        return ViewCompat.getLayoutDirection(view) == ViewCompat.LAYOUT_DIRECTION_RTL
-    }
-
     /**
      * Enable or disable a [MenuItem]
      * If the menu item is disabled it can not be clicked and the menu icon is semi-transparent
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/widget/DrawableWrapper.java b/focus-android/app/src/main/java/org/mozilla/focus/widget/DrawableWrapper.java
deleted file mode 100644
index d1f0d60798a6..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/widget/DrawableWrapper.java
+++ /dev/null
@@ -1,174 +0,0 @@
-package org.mozilla.focus.widget;
-
-import android.content.res.Resources;
-import android.graphics.Canvas;
-import android.graphics.ColorFilter;
-import android.graphics.PorterDuff;
-import android.graphics.Rect;
-import android.graphics.Region;
-import android.graphics.drawable.Drawable;
-import androidx.annotation.IntRange;
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import android.util.AttributeSet;
-
-import org.xmlpull.v1.XmlPullParser;
-import org.xmlpull.v1.XmlPullParserException;
-
-import java.io.IOException;
-
-/**
- * DrawableWrapper was added since API Level 23. But in v7 support library, it has annotation
- * "@RestrictTo(LIBRARY_GROUP)". Hence we should not extends it, so we create this wrapper for now.
- * Once we start to support API 23, or v7-support-library allows us to extends its DrawableWrapper,
- * then this file can be removed.
- */
-
-public class DrawableWrapper extends Drawable {
-
-    private final Drawable mWrapped;
-
-    public DrawableWrapper(@NonNull Drawable drawable) {
-        mWrapped = drawable;
-    }
-
-    public Drawable getWrappedDrawable() {
-        return mWrapped;
-    }
-
-    @Override
-    public void draw(@NonNull Canvas canvas) {
-        mWrapped.draw(canvas);
-    }
-
-    @Override
-    public int getChangingConfigurations() {
-        return mWrapped.getChangingConfigurations();
-    }
-
-    @Override
-    public Drawable.ConstantState getConstantState() {
-        return mWrapped.getConstantState();
-    }
-
-    @Override
-    public Drawable getCurrent() {
-        return mWrapped.getCurrent();
-    }
-
-    @Override
-    public int getIntrinsicHeight() {
-        return mWrapped.getIntrinsicHeight();
-    }
-
-    @Override
-    public int getIntrinsicWidth() {
-        return mWrapped.getIntrinsicWidth();
-    }
-
-    @Override
-    public int getMinimumHeight() {
-        return mWrapped.getMinimumHeight();
-    }
-
-    @Override
-    public int getMinimumWidth() {
-        return mWrapped.getMinimumWidth();
-    }
-
-    @Override
-    public int getOpacity() {
-        return mWrapped.getOpacity();
-    }
-
-    @Override
-    public boolean getPadding(Rect padding) {
-        return mWrapped.getPadding(padding);
-    }
-
-    @Override
-    public int[] getState() {
-        return mWrapped.getState();
-    }
-
-    @Override
-    public Region getTransparentRegion() {
-        return mWrapped.getTransparentRegion();
-    }
-
-    @Override
-    public void inflate(Resources r, XmlPullParser parser, AttributeSet attrs)
-            throws XmlPullParserException, IOException {
-        mWrapped.inflate(r, parser, attrs);
-    }
-
-    @Override
-    public boolean isStateful() {
-        return mWrapped.isStateful();
-    }
-
-    @Override
-    public void jumpToCurrentState() {
-        mWrapped.jumpToCurrentState();
-    }
-
-    @Override
-    public Drawable mutate() {
-        return mWrapped.mutate();
-    }
-
-    @Override
-    public void setAlpha(@IntRange(from = 0, to = 255) int i) {
-        mWrapped.setAlpha(i);
-    }
-
-    @Override
-    public void scheduleSelf(Runnable what, long when) {
-        mWrapped.scheduleSelf(what, when);
-    }
-
-    @Override
-    public void setChangingConfigurations(int configs) {
-        mWrapped.setChangingConfigurations(configs);
-    }
-
-    @Override
-    public void setColorFilter(@Nullable ColorFilter colorFilter) {
-        mWrapped.setColorFilter(colorFilter);
-    }
-
-    @Override
-    public void setColorFilter(int color, PorterDuff.Mode mode) {
-        mWrapped.setColorFilter(color, mode);
-    }
-
-    @Override
-    public void setFilterBitmap(boolean filter) {
-        mWrapped.setFilterBitmap(filter);
-    }
-
-    @Override
-    public boolean setVisible(boolean visible, boolean restart) {
-        return mWrapped.setVisible(visible, restart);
-    }
-
-    @Override
-    public void unscheduleSelf(Runnable what) {
-        mWrapped.unscheduleSelf(what);
-    }
-
-    @Override
-    protected void onBoundsChange(Rect bounds) {
-        mWrapped.setBounds(bounds);
-    }
-
-    @Override
-    protected boolean onLevelChange(int level) {
-        return mWrapped.setLevel(level);
-    }
-
-    @Override
-    protected boolean onStateChange(int[] state) {
-        return mWrapped.setState(state);
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/widget/IndicatorMenuButton.kt b/focus-android/app/src/main/java/org/mozilla/focus/widget/IndicatorMenuButton.kt
deleted file mode 100644
index c094ef1abad1..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/widget/IndicatorMenuButton.kt
+++ /dev/null
@@ -1,30 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.widget
-
-import android.content.Context
-import android.util.AttributeSet
-import android.view.LayoutInflater
-import android.view.View
-import android.widget.FrameLayout
-import org.mozilla.focus.R
-import org.mozilla.focus.whatsnew.WhatsNew
-
-class IndicatorMenuButton(context: Context, attrs: AttributeSet) : FrameLayout(context, attrs) {
-    init {
-        isClickable = true
-
-        val view = LayoutInflater.from(context).inflate(
-            R.layout.item_indicator_menu_button,
-            this,
-            true
-        )
-
-        view.findViewById<View>(R.id.dot).visibility = if (WhatsNew.shouldHighlightWhatsNew(context))
-            View.VISIBLE
-        else
-            View.GONE
-    }
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/widget/LocaleListPreference.java b/focus-android/app/src/main/java/org/mozilla/focus/widget/LocaleListPreference.java
new file mode 100644
index 000000000000..e69de29bb2d1
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/widget/ShiftDrawable.java b/focus-android/app/src/main/java/org/mozilla/focus/widget/ShiftDrawable.java
deleted file mode 100644
index 3679b9b7a44d..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/widget/ShiftDrawable.java
+++ /dev/null
@@ -1,114 +0,0 @@
-package org.mozilla.focus.widget;
-
-import android.animation.Animator;
-import android.animation.ValueAnimator;
-import android.graphics.Canvas;
-import android.graphics.Path;
-import android.graphics.Rect;
-import android.graphics.drawable.Drawable;
-import androidx.annotation.NonNull;
-import androidx.annotation.Nullable;
-import android.view.animation.Interpolator;
-import android.view.animation.LinearInterpolator;
-
-public class ShiftDrawable extends DrawableWrapper {
-
-    private final ValueAnimator mAnimator = ValueAnimator.ofFloat(0f, 1f);
-    private final Rect mVisibleRect = new Rect();
-    private Path mPath;
-
-    // align to ScaleDrawable implementation
-    private static final int MAX_LEVEL = 10000;
-
-    private static final int DEFAULT_DURATION = 1000;
-
-    public ShiftDrawable(@NonNull Drawable d) {
-        this(d, DEFAULT_DURATION);
-    }
-
-    public ShiftDrawable(@NonNull Drawable d, int duration) {
-        this(d, duration, new LinearInterpolator());
-    }
-
-    public ShiftDrawable(@NonNull Drawable d, int duration, @Nullable Interpolator interpolator) {
-        super(d);
-        mAnimator.setDuration(duration);
-        mAnimator.setRepeatCount(ValueAnimator.INFINITE);
-        mAnimator.setInterpolator((interpolator == null) ? new LinearInterpolator() : interpolator);
-        mAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
-            @Override
-            public void onAnimationUpdate(ValueAnimator animation) {
-                if (isVisible()) {
-                    invalidateSelf();
-                }
-            }
-        });
-        mAnimator.start();
-    }
-
-    public Animator getAnimator() {
-        return mAnimator;
-    }
-
-    @Override
-    public boolean setVisible(boolean visible, boolean restart) {
-        final boolean result = super.setVisible(visible, restart);
-        if (isVisible()) {
-            mAnimator.start();
-        } else {
-            mAnimator.end();
-        }
-        return result;
-    }
-
-    @Override
-    protected void onBoundsChange(Rect bounds) {
-        super.onBoundsChange(bounds);
-        updateBounds();
-    }
-
-    @Override
-    protected boolean onLevelChange(int level) {
-        final boolean result = super.onLevelChange(level);
-        updateBounds();
-        return result;
-    }
-
-    @Override
-    public void draw(Canvas canvas) {
-        final Drawable d = getWrappedDrawable();
-        final float fraction = mAnimator.getAnimatedFraction();
-        final int width = mVisibleRect.width();
-        final int offset = (int) (width * fraction);
-        final int stack = canvas.save();
-
-        canvas.clipPath(mPath);
-
-        // shift from right to left.
-        // draw left-half part
-        canvas.save();
-        canvas.translate(-offset, 0);
-        d.draw(canvas);
-        canvas.restore();
-
-        // draw right-half part
-        canvas.save();
-        canvas.translate(width - offset, 0);
-        d.draw(canvas);
-        canvas.restore();
-
-        canvas.restoreToCount(stack);
-    }
-
-    private void updateBounds() {
-        final Rect b = getBounds();
-        final int width = (int) ((float) b.width() * getLevel() / MAX_LEVEL);
-        final float radius = b.height() / 2f;
-        mVisibleRect.set(b.left, b.top, b.left + width, b.height());
-
-        // draw round to head of progressbar. I know it looks stupid, don't blame me now.
-        mPath = new Path();
-        mPath.addRect(b.left, b.top, b.left + width - radius, b.height(), Path.Direction.CCW);
-        mPath.addCircle(b.left + width - radius, radius, radius, Path.Direction.CCW);
-    }
-}
