diff --git a/focus-android/app/src/main/java/org/mozilla/focus/fragment/BrowserFragment.java b/focus-android/app/src/main/java/org/mozilla/focus/fragment/BrowserFragment.java
index cd4d007f634f..2afe325f007c 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/fragment/BrowserFragment.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/fragment/BrowserFragment.java
@@ -31,6 +31,7 @@
 import android.support.annotation.RequiresApi;
 import android.support.design.widget.AppBarLayout;
 import android.support.design.widget.CoordinatorLayout;
+import android.support.v4.app.ActivityCompat;
 import android.support.v4.app.DialogFragment;
 import android.support.v4.app.Fragment;
 import android.support.v4.app.FragmentManager;
@@ -718,7 +719,7 @@ public void onDownloadStart(Download download) {
 
                     pendingDownload = download;
 
-                    requestPermissions(new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CODE_STORAGE_PERMISSION);
+                    ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CODE_STORAGE_PERMISSION);
                 }
             }
         });
@@ -803,17 +804,17 @@ public void onRequestPermissionsResult(int requestCode, @NonNull String[] permis
     void showDownloadPromptDialog(Download download) {
         final FragmentManager fragmentManager = getFragmentManager();
 
-        if (fragmentManager.findFragmentByTag(DownloadDialogFragment.FRAGMENT_TAG) != null) {
+        if (fragmentManager.findFragmentByTag(DownloadDialogFragment.Companion.getFRAGMENT_TAG()) != null) {
             // We are already displaying a download dialog fragment (Probably a restored fragment).
             // No need to show another one.
             return;
         }
 
-        final DialogFragment downloadDialogFragment = DownloadDialogFragment.newInstance(download);
+        final DialogFragment downloadDialogFragment = DownloadDialogFragment.Companion.newInstance(download);
         downloadDialogFragment.setTargetFragment(BrowserFragment.this, 300);
 
         try {
-            downloadDialogFragment.show(fragmentManager, DownloadDialogFragment.FRAGMENT_TAG);
+            downloadDialogFragment.show(fragmentManager, DownloadDialogFragment.Companion.getFRAGMENT_TAG());
         } catch (IllegalStateException e) {
             // It can happen that at this point in time the activity is already in the background
             // and onSaveInstanceState() has already been called. Fragment transactions are not
@@ -940,22 +941,25 @@ private void queueDownload(Download download) {
             return;
         }
 
-        final String cookie = CookieManager.getInstance().getCookie(download.getUrl());
-        final String fileName = DownloadUtils.guessFileName(
-                download.getContentDisposition(),
-                download.getUrl(),
-                download.getMimeType());
+        final String fileName = !TextUtils.isEmpty(download.getFileName()) ? download.getFileName() :
+                DownloadUtils.guessFileName(
+                        download.getContentDisposition(),
+                        download.getUrl(),
+                        download.getMimeType());
 
         final DownloadManager.Request request = new DownloadManager.Request(Uri.parse(download.getUrl()))
-                .addRequestHeader("User-Agent", download.getUserAgent())
-                .addRequestHeader("Cookie", cookie)
                 .addRequestHeader("Referer", getUrl())
                 .setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)
                 .setMimeType(download.getMimeType());
 
+        if (!AppConstants.isGeckoBuild(getContext())) {
+            final String cookie = CookieManager.getInstance().getCookie(download.getUrl());
+            request.addRequestHeader("Cookie", cookie)
+                    .addRequestHeader("User-Agent", download.getUserAgent());
+        }
+
         try {
-            request.setDestinationInExternalPublicDir(
-                    download.getDestinationDirectory(), fileName);
+            request.setDestinationInExternalPublicDir(download.getDestinationDirectory(), fileName);
         } catch (IllegalStateException e) {
             Log.e(FRAGMENT_TAG, "Cannot create download directory");
             return;
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.java b/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.java
deleted file mode 100644
index 694d3bed2212..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.java
+++ /dev/null
@@ -1,114 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.fragment;
-
-import android.os.Build;
-import android.os.Bundle;
-import android.support.v4.app.DialogFragment;
-import android.support.v7.app.AlertDialog;
-import android.text.Html;
-import android.text.Spanned;
-import android.view.LayoutInflater;
-import android.view.View;
-import android.widget.Button;
-import android.widget.ImageView;
-import android.widget.TextView;
-
-import org.mozilla.focus.R;
-import org.mozilla.focus.telemetry.TelemetryWrapper;
-import org.mozilla.focus.web.Download;
-
-import mozilla.components.support.utils.DownloadUtils;
-
-/**
- * Fragment displaying a download dialog
- */
-public class DownloadDialogFragment extends DialogFragment {
-    public static final String FRAGMENT_TAG = "should-download-prompt-dialog";
-
-    public static DownloadDialogFragment newInstance(Download download) {
-        DownloadDialogFragment frag = new DownloadDialogFragment();
-        final Bundle args = new Bundle();
-
-        final String fileName = DownloadUtils.guessFileName(
-                download.getContentDisposition(),
-                download.getUrl(),
-                download.getMimeType());
-
-        args.putString("fileName", fileName);
-        args.putParcelable("download", download);
-        frag.setArguments(args);
-        return frag;
-    }
-
-    public AlertDialog onCreateDialog(Bundle bundle) {
-        final String fileName = getArguments().getString("fileName");
-        final Download pendingDownload = getArguments().getParcelable("download");
-
-        final AlertDialog.Builder builder = new AlertDialog.Builder(getContext(), R.style.DialogStyle);
-        builder.setCancelable(true);
-        builder.setTitle(getString(R.string.download_dialog_title));
-
-        final LayoutInflater inflater = getActivity().getLayoutInflater();
-        final View dialogView = inflater.inflate(R.layout.download_dialog, null);
-        builder.setView(dialogView);
-
-        final ImageView downloadDialogIcon = (ImageView) dialogView.findViewById(R.id.download_dialog_icon);
-        final TextView downloadDialogMessage = (TextView) dialogView.findViewById(R.id.download_dialog_file_name);
-        final Button downloadDialogCancelButton = (Button) dialogView.findViewById(R.id.download_dialog_cancel);
-        final Button downloadDialogDownloadButton = (Button) dialogView.findViewById(R.id.download_dialog_download);
-        final TextView downloadDialogWarningMessage = (TextView) dialogView.findViewById(R.id.download_dialog_warning);
-
-        downloadDialogIcon.setImageResource(R.drawable.ic_download);
-        downloadDialogMessage.setText(fileName);
-        downloadDialogCancelButton.setText(getString(R.string.download_dialog_action_cancel));
-        downloadDialogDownloadButton.setText(getString(R.string.download_dialog_action_download));
-        downloadDialogWarningMessage.setText(getSpannedTextFromHtml(R.string.download_dialog_warning, R.string.app_name));
-
-        final AlertDialog alert = builder.create();
-
-        setButtonOnClickListener(downloadDialogCancelButton, pendingDownload, false);
-        setButtonOnClickListener(downloadDialogDownloadButton, pendingDownload, true);
-
-        return alert;
-    }
-
-    private void setButtonOnClickListener(Button button, final Download pendingDownload, final boolean shouldDownload) {
-        button.setOnClickListener(
-                new View.OnClickListener() {
-                    @Override
-                    public void onClick(View v) {
-                        sendDownloadDialogButtonClicked(pendingDownload, shouldDownload);
-                        TelemetryWrapper.downloadDialogDownloadEvent(shouldDownload);
-                        dismiss();
-                    }
-                });
-    }
-
-    public void sendDownloadDialogButtonClicked(Download download, boolean shouldDownload) {
-        final DownloadDialogListener listener = (DownloadDialogListener) getTargetFragment();
-        if (listener != null) {
-            listener.onFinishDownloadDialog(download, shouldDownload);
-        }
-        dismiss();
-    }
-
-    public Spanned getSpannedTextFromHtml(int text, int replaceString) {
-        if (Build.VERSION.SDK_INT >= 24) {
-            return (Html.fromHtml(String
-                    .format(getText(text)
-                            .toString(), getString(replaceString)), Html.FROM_HTML_MODE_LEGACY));
-        } else {
-            return (Html.fromHtml(String
-                    .format(getText(text)
-                            .toString(), getString(replaceString))));
-        }
-    }
-
-    public interface DownloadDialogListener {
-        void onFinishDownloadDialog(Download download, boolean shouldDownload);
-    }
-
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.kt
new file mode 100644
index 000000000000..c4b370ea6b1e
--- /dev/null
+++ b/focus-android/app/src/main/java/org/mozilla/focus/fragment/DownloadDialogFragment.kt
@@ -0,0 +1,113 @@
+/* This Source Code Form is subject to the terms of the Mozilla Public
+ * License, v. 2.0. If a copy of the MPL was not distributed with this
+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
+
+package org.mozilla.focus.fragment
+
+import android.os.Build
+import android.os.Bundle
+import android.support.v4.app.DialogFragment
+import android.support.v7.app.AlertDialog
+import android.text.Html
+import android.text.Spanned
+import android.widget.Button
+import kotlinx.android.synthetic.main.download_dialog.view.*
+import mozilla.components.support.utils.DownloadUtils
+import org.mozilla.focus.R
+import org.mozilla.focus.telemetry.TelemetryWrapper
+import org.mozilla.focus.web.Download
+
+/**
+ * Fragment displaying a download dialog
+ */
+class DownloadDialogFragment : DialogFragment() {
+
+    override fun onCreateDialog(bundle: Bundle?): AlertDialog {
+        val fileName = arguments!!.getString("fileName")
+        val pendingDownload = arguments!!.getParcelable<Download>("download")
+
+        val builder = AlertDialog.Builder(context!!, R.style.DialogStyle)
+        builder.setCancelable(true)
+        builder.setTitle(getString(R.string.download_dialog_title))
+
+        val inflater = activity!!.layoutInflater
+        val dialogView = inflater.inflate(R.layout.download_dialog, null)
+        builder.setView(dialogView)
+
+        dialogView.download_dialog_icon.setImageResource(R.drawable.ic_download)
+        dialogView.download_dialog_file_name.text = fileName
+        dialogView.download_dialog_cancel.text = getString(R.string.download_dialog_action_cancel)
+        dialogView.download_dialog_download.text =
+                getString(R.string.download_dialog_action_download)
+        dialogView.download_dialog_warning.text =
+                getSpannedTextFromHtml(R.string.download_dialog_warning, R.string.app_name)
+
+        setButtonOnClickListener(dialogView.download_dialog_cancel, pendingDownload, false)
+        setButtonOnClickListener(dialogView.download_dialog_download, pendingDownload, true)
+
+        return builder.create()
+    }
+
+    private fun setButtonOnClickListener(
+        button: Button,
+        pendingDownload: Download?,
+        shouldDownload: Boolean
+    ) {
+        button.setOnClickListener {
+            sendDownloadDialogButtonClicked(pendingDownload, shouldDownload)
+            TelemetryWrapper.downloadDialogDownloadEvent(shouldDownload)
+            dismiss()
+        }
+    }
+
+    private fun sendDownloadDialogButtonClicked(download: Download?, shouldDownload: Boolean) {
+        val listener = targetFragment as DownloadDialogListener?
+        listener?.onFinishDownloadDialog(download, shouldDownload)
+        dismiss()
+    }
+
+    @Suppress("DEPRECATION")
+    private fun getSpannedTextFromHtml(text: Int, replaceString: Int): Spanned {
+        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {
+            Html.fromHtml(
+                String
+                    .format(
+                        getText(text)
+                            .toString(), getString(replaceString)
+                    ), Html.FROM_HTML_MODE_LEGACY
+            )
+        } else {
+            Html.fromHtml(
+                String
+                    .format(
+                        getText(text)
+                            .toString(), getString(replaceString)
+                    )
+            )
+        }
+    }
+
+    interface DownloadDialogListener {
+        fun onFinishDownloadDialog(download: Download?, shouldDownload: Boolean)
+    }
+
+    companion object {
+        val FRAGMENT_TAG = "should-download-prompt-dialog"
+
+        fun newInstance(download: Download): DownloadDialogFragment {
+            val frag = DownloadDialogFragment()
+            val args = Bundle()
+
+            val fileName = download.fileName ?: DownloadUtils.guessFileName(
+                download.contentDisposition,
+                download.url,
+                download.mimeType
+            )
+
+            args.putString("fileName", fileName)
+            args.putParcelable("download", download)
+            frag.arguments = args
+            return frag
+        }
+    }
+}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/menu/context/WebContextMenu.java b/focus-android/app/src/main/java/org/mozilla/focus/menu/context/WebContextMenu.java
index cf39212f8f7b..92ed9104f189 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/menu/context/WebContextMenu.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/menu/context/WebContextMenu.java
@@ -152,7 +152,7 @@ public boolean onNavigationItemSelected(@NonNull MenuItem item) {
                         return true;
                     }
                     case R.id.menu_image_save: {
-                        final Download download = new Download(hitTarget.imageURL, null, null, null, -1, Environment.DIRECTORY_PICTURES);
+                        final Download download = new Download(hitTarget.imageURL, null, null, null, -1, Environment.DIRECTORY_PICTURES, null);
                         callback.onDownloadStart(download);
                         TelemetryWrapper.saveImageEvent();
                         return true;
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/web/Download.java b/focus-android/app/src/main/java/org/mozilla/focus/web/Download.java
index ce9df55e8cab..9a89ae46d5d7 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/web/Download.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/web/Download.java
@@ -19,6 +19,7 @@ public Download createFromParcel(Parcel source) {
                     source.readString(),
                     source.readString(),
                     source.readLong(),
+                    source.readString(),
                     source.readString());
         }
 
@@ -34,15 +35,17 @@ public Download[] newArray(int size) {
     private final long contentLength;
     private final String userAgent;
     private final String destinationDirectory;
+    private final String fileName;
 
     public Download(String url, String userAgent, String contentDisposition, String mimeType, long contentLength,
-                    String destinationDirectory) {
+                    String destinationDirectory, String fileName) {
         this.url = url;
         this.userAgent = userAgent;
         this.contentDisposition = contentDisposition;
         this.mimeType = mimeType;
         this.contentLength = contentLength;
         this.destinationDirectory = destinationDirectory;
+        this.fileName = fileName;
     }
 
     /**
@@ -72,6 +75,10 @@ public String getUserAgent() {
         return userAgent;
     }
 
+    public String getFileName() {
+        return fileName;
+    }
+
     @Override
     public int describeContents() {
         return 0;
@@ -85,5 +92,6 @@ public void writeToParcel(Parcel dest, int flags) {
         dest.writeString(mimeType);
         dest.writeLong(contentLength);
         dest.writeString(destinationDirectory);
+        dest.writeString(fileName);
     }
 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/web/GeckoWebViewProvider.kt b/focus-android/app/src/main/java/org/mozilla/focus/web/GeckoWebViewProvider.kt
index be3b57029577..a31419873c6c 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/web/GeckoWebViewProvider.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/web/GeckoWebViewProvider.kt
@@ -310,7 +310,7 @@ class GeckoWebViewProvider : IWebViewProvider {
                     val download = Download(
                         response.uri, USER_AGENT,
                         response.filename, response.contentType, response.contentLength,
-                        Environment.DIRECTORY_DOWNLOADS
+                        Environment.DIRECTORY_DOWNLOADS, response.filename
                     )
                     callback?.onDownloadStart(download)
                 }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/webview/SystemWebView.java b/focus-android/app/src/main/java/org/mozilla/focus/webview/SystemWebView.java
index 5fd3ec8a9382..d827b2fdfd8f 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/webview/SystemWebView.java
+++ b/focus-android/app/src/main/java/org/mozilla/focus/webview/SystemWebView.java
@@ -336,7 +336,7 @@ public void onDownloadStart(String url, String userAgent, String contentDisposit
                 }
 
                 if (callback != null) {
-                    final Download download = new Download(url, userAgent, contentDisposition, mimetype, contentLength, Environment.DIRECTORY_DOWNLOADS);
+                    final Download download = new Download(url, userAgent, contentDisposition, mimetype, contentLength, Environment.DIRECTORY_DOWNLOADS, null);
                     callback.onDownloadStart(download);
                 }
             }
diff --git a/focus-android/app/src/test/java/org/mozilla/focus/web/DownloadTest.java b/focus-android/app/src/test/java/org/mozilla/focus/web/DownloadTest.java
index 167dbc1a439a..19f8f399d66c 100644
--- a/focus-android/app/src/test/java/org/mozilla/focus/web/DownloadTest.java
+++ b/focus-android/app/src/test/java/org/mozilla/focus/web/DownloadTest.java
@@ -16,6 +16,7 @@
 
 @RunWith(RobolectricTestRunner.class)
 public class DownloadTest {
+    private static final String fileName = "filename.png";
     @Test
     public void testGetters() {
         final Download download = new Download(
@@ -24,7 +25,8 @@ public void testGetters() {
                 "Content-Disposition: attachment; filename=\"filename.png\"",
                 "image/png",
                 1024,
-                Environment.DIRECTORY_DOWNLOADS);
+                Environment.DIRECTORY_DOWNLOADS,
+                fileName);
 
         assertEquals("https://www.mozilla.org/image.png", download.getUrl());
         assertEquals("Focus/1.0", download.getUserAgent());
@@ -32,6 +34,7 @@ public void testGetters() {
         assertEquals("image/png", download.getMimeType());
         assertEquals(1024, download.getContentLength());
         assertEquals(Environment.DIRECTORY_DOWNLOADS, download.getDestinationDirectory());
+        assertEquals(fileName, download.getFileName());
     }
 
     @Test
@@ -45,7 +48,8 @@ public void testParcelable() {
                     "Content-Disposition: attachment; filename=\"filename.png\"",
                     "image/png",
                     1024,
-                    Environment.DIRECTORY_PICTURES);
+                    Environment.DIRECTORY_PICTURES,
+                    fileName);
             download.writeToParcel(parcel, 0);
         }
 
@@ -60,6 +64,7 @@ public void testParcelable() {
             assertEquals("image/png", download.getMimeType());
             assertEquals(1024, download.getContentLength());
             assertEquals(Environment.DIRECTORY_PICTURES, download.getDestinationDirectory());
+            assertEquals(fileName, download.getFileName());
         }
     }
 }
\ No newline at end of file
