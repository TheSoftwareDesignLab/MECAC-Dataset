diff --git a/focus-android/app/build.gradle b/focus-android/app/build.gradle
index d5cb4ef7fbaf..0e64197857c7 100644
--- a/focus-android/app/build.gradle
+++ b/focus-android/app/build.gradle
@@ -335,9 +335,11 @@ dependencies {
     compileOnly "com.github.spotbugs:spotbugs-annotations:$spotbugs_version"
 
     implementation 'org.mozilla.telemetry:telemetry:1.1.1'
-    implementation 'org.mozilla.components:ktx:0.1'
-    implementation 'org.mozilla.components:utils:0.2.2'
-    implementation 'org.mozilla.photon:colors:0.1'
+    implementation "org.mozilla.components:ktx:$mozilla_components_version"
+    implementation "org.mozilla.components:utils:$mozilla_components_version"
+    implementation "org.mozilla.components:domains:$mozilla_components_version"
+    implementation "org.mozilla.components:autocomplete:$mozilla_components_version"
+    implementation "org.mozilla.photon:colors:$mozilla_components_version"
 
     implementation "org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version"
     implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:0.19.3"
diff --git a/focus-android/app/src/androidTestWebview/java/org/mozilla/focus/screenshots/SettingsScreenshots.java b/focus-android/app/src/androidTestWebview/java/org/mozilla/focus/screenshots/SettingsScreenshots.java
index 7689bce8476d..f2a096b07742 100644
--- a/focus-android/app/src/androidTestWebview/java/org/mozilla/focus/screenshots/SettingsScreenshots.java
+++ b/focus-android/app/src/androidTestWebview/java/org/mozilla/focus/screenshots/SettingsScreenshots.java
@@ -21,7 +21,6 @@
 import org.junit.runner.RunWith;
 import org.mozilla.focus.R;
 import org.mozilla.focus.activity.MainActivity;
-import org.mozilla.focus.autocomplete.CustomAutocomplete;
 import org.mozilla.focus.helpers.MainActivityFirstrunTestRule;
 import org.mozilla.focus.helpers.TestHelper;
 
@@ -51,6 +50,7 @@
 import static junit.framework.Assert.assertTrue;
 import static org.hamcrest.Matchers.allOf;
 import static org.hamcrest.Matchers.endsWith;
+import mozilla.components.domains.CustomDomains;
 import static org.mozilla.focus.helpers.EspressoHelper.assertToolbarMatchesText;
 import static org.mozilla.focus.helpers.EspressoHelper.openSettings;
 
@@ -69,7 +69,7 @@ public void clearSettings() {
                 .edit()
                 .clear()
                 .apply();
-        CustomAutocomplete.INSTANCE.saveDomains(
+        CustomDomains.INSTANCE.save(
                 InstrumentationRegistry.getInstrumentation().getTargetContext(),
                 Collections.<String>emptyList());
     }
diff --git a/focus-android/app/src/main/assets/domains/br b/focus-android/app/src/main/assets/domains/br
deleted file mode 100644
index 3a7cd23b1228..000000000000
--- a/focus-android/app/src/main/assets/domains/br
+++ /dev/null
@@ -1,50 +0,0 @@
-google.com.br
-youtube.com
-google.com
-facebook.com
-globo.com
-uol.com.br
-blastingnews.com
-live.com
-mercadolivre.com.br
-yahoo.com
-blogspot.com.br
-wikipedia.org
-whatsapp.com
-netflix.com
-olx.com.br
-instagram.com
-msn.com
-metropoles.com
-fatosdesconhecidos.com.br
-twitter.com
-caixa.gov.br
-uptodown.com
-aliexpress.com
-curapelanatureza.com.br
-wordpress.com
-abril.com.br
-americanas.com.br
-correios.com.br
-reclameaqui.com.br
-bet365.com
-onclkds.com
-bol.uol.com.br
-techtudo.com.br
-fazenda.gov.br
-microsoft.com
-folha.uol.com.br
-linkedin.com
-tumblr.com
-sp.gov.br
-reddit.com
-bb.com.br
-pinterest.com
-itau.com.br
-letras.mus.br
-otvfoco.com.br
-vagalume.com.br
-portalinteressante.com
-myappolicious.com.br
-thewhizmarketing.com
-twitch.tv
diff --git a/focus-android/app/src/main/assets/domains/ca b/focus-android/app/src/main/assets/domains/ca
deleted file mode 100644
index 6ceb5be6554b..000000000000
--- a/focus-android/app/src/main/assets/domains/ca
+++ /dev/null
@@ -1,49 +0,0 @@
-google.com
-youtube.com
-facebook.com
-reddit.com
-amazon.com
-wikipedia.org
-yahoo.com
-twitter.com
-netflix.com
-ebay.com
-imgur.com
-linkedin.com
-instagram.com
-diply.com
-craigslist.org
-live.com
-office.com
-twitch.tv
-tumblr.com
-pinterest.com
-espn.com
-cnn.com
-bing.com
-wikia.com
-chase.com
-imdb.com
-nytimes.com
-paypal.com
-blogspot.com
-apple.com
-yelp.com
-stackoverflow.com
-bankofamerica.com
-wordpress.com
-github.com
-microsoft.com
-wellsfargo.com
-zillow.com
-salesforce.com
-msn.com
-walmart.com
-weather.com
-dropbox.com
-buzzfeed.com
-intuit.com
-washingtonpost.com
-soundcloud.com
-huffingtonpost.com
-indeed.com
diff --git a/focus-android/app/src/main/assets/domains/de b/focus-android/app/src/main/assets/domains/de
deleted file mode 100644
index 8bd37b76065c..000000000000
--- a/focus-android/app/src/main/assets/domains/de
+++ /dev/null
@@ -1,50 +0,0 @@
-google.de
-youtube.com
-google.com
-facebook.com
-amazon.de
-ebay.de
-wikipedia.org
-ebay-kleinanzeigen.de
-web.de
-yahoo.com
-ok.ru
-gmx.net
-reddit.com
-vk.com
-t-online.de
-twitter.com
-spiegel.de
-mail.ru
-instagram.com
-live.com
-chip.de
-bild.de
-paypal.com
-bing.com
-twitch.tv
-whatsapp.com
-yandex.ru
-gutefrage.net
-mobile.de
-google.ru
-blogspot.de
-tumblr.com
-bs.to
-focus.de
-linkedin.com
-netflix.com
-wordpress.com
-imgur.com
-postbank.de
-welt.de
-streamcloud.eu
-microsoft.com
-immobilienscout24.de
-msn.com
-dict.cc
-otto.de
-xing.com
-amazon.com
-heise.de
-github.com
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/fr b/focus-android/app/src/main/assets/domains/fr
deleted file mode 100644
index d58294211353..000000000000
--- a/focus-android/app/src/main/assets/domains/fr
+++ /dev/null
@@ -1,50 +0,0 @@
-google.fr
-youtube.com
-google.com
-facebook.com
-wikipedia.org
-amazon.fr
-leboncoin.fr
-yahoo.com
-live.com
-twitter.com
-orange.fr
-free.fr
-linkedin.com
-lemonde.fr
-instagram.com
-reddit.com
-lefigaro.fr
-ebay.fr
-cdiscount.com
-jeuxvideo.com
-zone-telechargement.ws
-labanquepostale.fr
-blogspot.fr
-allocine.fr
-msn.com
-commentcamarche.net
-pole-emploi.fr
-vk.com
-sfr.fr
-lequipe.fr
-twitch.tv
-francetvinfo.fr
-20minutes.fr
-pinterest.com
-netflix.com
-programme-tv.net
-credit-agricole.fr
-linternaute.com
-github.com
-wordpress.com
-caf.fr
-aliexpress.com
-dailymotion.com
-tumblr.com
-t411.ai
-stackoverflow.com
-microsoft.com
-meteofrance.com
-onclkds.com
-bfmtv.com
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/gb b/focus-android/app/src/main/assets/domains/gb
deleted file mode 100644
index eff652b7e8d5..000000000000
--- a/focus-android/app/src/main/assets/domains/gb
+++ /dev/null
@@ -1,49 +0,0 @@
-google.co.uk
-youtube.com
-google.com
-facebook.com
-reddit.com
-bbc.co.uk
-amazon.co.uk
-wikipedia.org
-ebay.co.uk
-twitter.com
-live.com
-yahoo.com
-instagram.com
-diply.com
-linkedin.com
-imgur.com
-netflix.com
-theguardian.com
-dailymail.co.uk
-twitch.tv
-imdb.com
-paypal.com
-office.com
-tumblr.com
-www.gov.uk
-wikia.com
-givemesport.com
-amazon.com
-bing.com
-wordpress.com
-telegraph.co.uk
-rightmove.co.uk
-pinterest.com
-gumtree.com
-msn.com
-microsoft.com
-stackoverflow.com
-booking.com
-vk.com
-tripadvisor.co.uk
-lloydsbank.co.uk
-apple.com
-service.gov.uk
-onclkds.com
-github.com
-independent.co.uk
-bt.com
-vice.com
-hsbc.co.uk
diff --git a/focus-android/app/src/main/assets/domains/global b/focus-android/app/src/main/assets/domains/global
deleted file mode 100644
index 9a1ded67d07f..000000000000
--- a/focus-android/app/src/main/assets/domains/global
+++ /dev/null
@@ -1,451 +0,0 @@
-google.com
-facebook.com
-amazon.com
-youtube.com
-yahoo.com
-ebay.com
-wikipedia.org
-twitter.com
-reddit.com
-go.com
-craigslist.org
-live.com
-netflix.com
-pinterest.com
-bing.com
-linkedin.com
-imgur.com
-espn.go.com
-walmart.com
-tumblr.com
-target.com
-paypal.com
-cnn.com
-chase.com
-instagram.com
-bestbuy.com
-blogspot.com
-nytimes.com
-msn.com
-imdb.com
-apple.com
-bankofamerica.com
-diply.com
-huffingtonpost.com
-yelp.com
-wellsfargo.com
-etsy.com
-weather.com
-wordpress.com
-buzzfeed.com
-zillow.com
-kohls.com
-aol.com
-homedepot.com
-foxnews.com
-microsoft.com
-comcast.net
-wikia.com
-groupon.com
-macys.com
-washingtonpost.com
-outbrain.com
-xfinity.com
-usps.com
-hulu.com
-americanexpress.com
-slickdeals.net
-pandora.com
-office.com
-cnet.com
-indeed.com
-capitalone.com
-nfl.com
-ups.com
-ask.com
-verizonwireless.com
-newegg.com
-usatoday.com
-forbes.com
-dailymail.co.uk
-dropbox.com
-att.com
-costco.com
-gfycat.com
-lowes.com
-gap.com
-about.com
-tripadvisor.com
-fedex.com
-baidu.com
-vice.com
-nordstrom.com
-adobe.com
-bbc.com
-twitch.tv
-allrecipes.com
-retailmenot.com
-stackoverflow.com
-citi.com
-sears.com
-jcpenney.com
-webmd.com
-ijreview.com
-nih.gov
-answers.com
-foodnetwork.com
-discovercard.com
-cbssports.com
-overstock.com
-businessinsider.com
-office365.com
-theguardian.com
-staples.com
-bleacherreport.com
-toysrus.com
-verizon.com
-github.com
-wayfair.com
-salesforce.com
-zulily.com
-wsj.com
-flickr.com
-goodreads.com
-realtor.com
-nbcnews.com
-ebates.com
-ancestry.com
-wunderground.com
-instructure.com
-people.com
-stackexchange.com
-fidelity.com
-southwest.com
-deviantart.com
-thesaurus.com
-intuit.com
-woot.com
-pch.com
-soundcloud.com
-force.com
-samsclub.com
-ign.com
-qvc.com
-npr.org
-patch.com
-dell.com
-accuweather.com
-vimeo.com
-expedia.com
-trulia.com
-ca.gov
-swagbucks.com
-spotify.com
-bedbathandbeyond.com
-nypost.com
-aliexpress.com
-blackboard.com
-ticketmaster.com
-ikea.com
-feedly.com
-usaa.com
-tmz.com
-quora.com
-lifehacker.com
-kayak.com
-reference.com
-zappos.com
-gizmodo.com
-slate.com
-faithtap.com
-adp.com
-abcnews.go.com
-sephora.com
-cbs.com
-latimes.com
-shutterfly.com
-t-mobile.com
-littlethings.com
-glassdoor.com
-bloomberg.com
-cbsnews.com
-wikihow.com
-walgreens.com
-usbank.com
-blogger.com
-weebly.com
-gamestop.com
-food.com
-time.com
-kickstarter.com
-okcupid.com
-aa.com
-weather.gov
-nametests.com
-fandango.com
-engadget.com
-steamcommunity.com
-thekitchn.com
-nba.com
-mashable.com
-hp.com
-gamefaqs.com
-delta.com
-coupons.com
-eonline.com
-surveymonkey.com
-kmart.com
-barnesandnoble.com
-meetup.com
-bhphotovideo.com
-fanduel.com
-quizlet.com
-nydailynews.com
-sbnation.com
-nbcsports.com
-likes.com
-bbc.co.uk
-ew.com
-nike.com
-rottentomatoes.com
-steampowered.com
-reuters.com
-qq.com
-today.com
-mapquest.com
-audible.com
-priceline.com
-whitepages.com
-united.com
-myfitnesspal.com
-icloud.com
-forever21.com
-theatlantic.com
-microsoftstore.com
-theverge.com
-gawker.com
-houzz.com
-mayoclinic.org
-rei.com
-sfgate.com
-lifebuzz.com
-discover.com
-pnc.com
-pof.com
-iflscience.com
-popsugar.com
-creditkarma.com
-telegraph.co.uk
-airbnb.com
-buzzlie.com
-cnbc.com
-deadspin.com
-sina.com.cn
-legacy.com
-thedailybeast.com
-samsung.com
-nextdoor.com
-evite.com
-shopify.com
-yellowpages.com
-pcmag.com
-redfin.com
-emgn.com
-weibo.com
-alibaba.com
-cabelas.com
-battle.net
-foxsports.com
-taobao.com
-eventbrite.com
-victoriassecret.com
-theblaze.com
-dealnews.com
-cbslocal.com
-cvs.com
-dailymotion.com
-ecollege.com
-gofundme.com
-fitbit.com
-instructables.com
-godaddy.com
-babycenter.com
-squarespace.com
-llbean.com
-dickssportinggoods.com
-6pm.com
-myway.com
-hsn.com
-wired.com
-officedepot.com
-ozztube.com
-usmagazine.com
-match.com
-cracked.com
-evernote.com
-box.com
-starbucks.com
-kbb.com
-mlb.com
-marriott.com
-si.com
-jezebel.com
-pbs.org
-consumerreports.org
-roblox.com
-urbandictionary.com
-kotaku.com
-xbox.com
-marketwatch.com
-refinery29.com
-wikimedia.org
-tvguide.com
-politico.com
-barclaycardus.com
-abc.go.com
-mint.com
-topix.com
-theblackfriday.com
-aarp.org
-hotnewhiphop.com
-yourdailydish.com
-sprint.com
-vox.com
-cafemom.com
-nbc.com
-dailykos.com
-azlyrics.com
-autotrader.com
-hilton.com
-irs.gov
-monster.com
-fatwallet.com
-mailchimp.com
-webex.com
-landsend.com
-wix.com
-usnews.com
-jcrew.com
-jet.com
-capitalone360.com
-sharepoint.com
-schwab.com
-ulta.com
-vistaprint.com
-rollingstone.com
-biblegateway.com
-gamespot.com
-io9.com
-opentable.com
-hm.com
-duckduckgo.com
-chron.com
-photobucket.com
-shareasale.com
-directv.com
-avg.com
-oracle.com
-hotels.com
-timewarnercable.com
-chicagotribune.com
-ehow.com
-primewire.ag
-abs-cbnnews.com
-salon.com
-greatergood.com
-epicurious.com
-fool.com
-patheos.com
-custhelp.com
-purdue.edu
-tickld.com
-frys.com
-indiatimes.com
-amazon.co.uk
-zendesk.com
-tigerdirect.com
-stubhub.com
-healthcare.gov
-archive.org
-qualtrics.com
-ravelry.com
-cars.com
-redbox.com
-jalopnik.com
-speedtest.net
-harvard.edu
-slideshare.net
-kinja.com
-nesn.com
-michaels.com
-mit.edu
-bodybuilding.com
-edmunds.com
-nhl.com
-zergnet.com
-techcrunch.com
-regnok.com
-pogo.com
-backpage.com
-mozilla.org
-naver.com
-giphy.com
-bankrate.com
-msnbc.com
-digitaltrends.com
-fanfiction.net
-skype.com
-disney.go.com
-norton.com
-androidcentral.com
-tomshardware.com
-thefreedictionary.com
-liveleak.com
-247sports.com
-merriam-webster.com
-wnd.com
-earthlink.net
-conservativetribune.com
-independent.co.uk
-drugs.com
-rotoworld.com
-nationalgeographic.com
-ae.com
-noaa.gov
-arstechnica.com
-thinkgeek.com
-stanford.edu
-bizjournals.com
-hootsuite.com
-genius.com
-goodhousekeeping.com
-vanguard.com
-ny.gov
-citibankonline.com
-booking.com
-mic.com
-orbitz.com
-dominos.com
-medium.com
-wow.com
-urbanoutfitters.com
-douban.com
-timeanddate.com
-draftkings.com
-livestrong.com
-livingsocial.com
-cox.net
-theonion.com
-marthastewart.com
-comenity.net
-worldlifestyle.com
-disney.com
-realsimple.com
-vrbo.com
-playstation.com
-potterybarn.com
-zazzle.com
-ksl.com
-tdbank.com
-sourceforge.net
-careerbuilder.com
diff --git a/focus-android/app/src/main/assets/domains/hk b/focus-android/app/src/main/assets/domains/hk
deleted file mode 100644
index 73513d54d0a6..000000000000
--- a/focus-android/app/src/main/assets/domains/hk
+++ /dev/null
@@ -1,50 +0,0 @@
-google.com.hk
-youtube.com
-google.com
-facebook.com
-yahoo.com
-discuss.com.hk
-aastocks.com
-wikipedia.org
-baidu.com
-taobao.com
-pixnet.net
-bastillepost.com
-nextmedia.com
-whatsapp.com
-instagram.com
-price.com.hk
-ettoday.net
-qq.com
-hsbc.com.hk
-tmall.com
-live.com
-hkgolden.com
-reddit.com
-beautyexchange.com.hk
-etnet.com.hk
-on.cc
-amazon.com
-twitter.com
-uwants.com
-presslogic.com
-unwire.hk
-gamer.com.tw
-hangseng.com
-hk01.com
-twitch.tv
-linkedin.com
-teepr.com
-hkjc.com
-apple.com
-bomb01.com
-sina.com.cn
-weibo.com
-dcfever.com
-thestandnews.com
-office.com
-openrice.com
-tumblr.com
-tvb.com
-alipay.com
-stackoverflow.com
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/id b/focus-android/app/src/main/assets/domains/id
deleted file mode 100644
index 6d59c970228e..000000000000
--- a/focus-android/app/src/main/assets/domains/id
+++ /dev/null
@@ -1,50 +0,0 @@
-google.com
-google.co.id
-youtube.com
-detik.com
-tribunnews.com
-facebook.com
-yahoo.com
-tokopedia.com
-liputan6.com
-kompas.com
-bukalapak.com
-kaskus.co.id
-kapanlagi.com
-wordpress.com
-merdeka.com
-okezone.com
-elevenia.co.id
-lazada.co.id
-uzone.id
-bintang.com
-brilio.net
-popads.net
-instagram.com
-bola.net
-wikipedia.org
-blogspot.com
-onclkds.com
-dream.co.id
-viva.co.id
-alodokter.com
-tempo.co
-suara.com
-wowkeren.com
-idntimes.com
-bola.com
-sindonews.com
-republika.co.id
-kompasiana.com
-vemale.com
-blanja.com
-cnnindonesia.com
-olx.co.id
-lk21.org
-popcash.net
-blibli.com
-poptm.com
-nonton.movie
-indexmovie.me
-adexchangeprediction.com
-subscene.com
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/in b/focus-android/app/src/main/assets/domains/in
deleted file mode 100644
index e69de29bb2d1..000000000000
diff --git a/focus-android/app/src/main/assets/domains/pl b/focus-android/app/src/main/assets/domains/pl
deleted file mode 100644
index bef0c8cf34ae..000000000000
--- a/focus-android/app/src/main/assets/domains/pl
+++ /dev/null
@@ -1,50 +0,0 @@
-google.pl
-youtube.com
-facebook.com
-google.com
-allegro.pl
-onet.pl
-wp.pl
-wikipedia.org
-olx.pl
-vk.com
-interia.pl
-wykop.pl
-gazeta.pl
-filmweb.pl
-instagram.com
-wiocha.pl
-cda.pl
-aliexpress.com
-otomoto.pl
-mbank.pl
-reddit.com
-ceneo.pl
-tvn24.pl
-twitter.com
-gumtree.pl
-blogspot.com
-kwejk.pl
-wyborcza.pl
-joemonster.org
-stackoverflow.com
-twitch.tv
-o2.pl
-ipko.pl
-steamcommunity.com
-github.com
-chomikuj.pl
-centrum24.pl
-linkedin.com
-money.pl
-librus.pl
-demotywatory.pl
-sport.pl
-microsoft.com
-zalukaj.com
-wikia.com
-jbzdy.pl
-imgur.com
-flashscore.pl
-gry-online.pl
-pudelek.pl
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/ru b/focus-android/app/src/main/assets/domains/ru
deleted file mode 100644
index 26eefe027dcc..000000000000
--- a/focus-android/app/src/main/assets/domains/ru
+++ /dev/null
@@ -1,50 +0,0 @@
-vk.com
-google.ru
-yandex.ru
-youtube.com
-mail.ru
-ok.ru
-google.com
-avito.ru
-aliexpress.com
-wikipedia.org
-instagram.com
-sberbank.ru
-gismeteo.ru
-rambler.ru
-kinogo.club
-kinopoisk.ru
-drom.ru
-facebook.com
-pikabu.ru
-drive2.ru
-rutracker.org
-twitch.tv
-rbc.ru
-hh.ru
-gosuslugi.ru
-lenta.ru
-pochta.ru
-wildberries.ru
-wikia.com
-4pda.ru
-fb.ru
-seasonvar.ru
-kp.ru
-znanija.com
-ucoz.ru
-narod.ru
-mts.ru
-infourok.ru
-ebay.com
-ozon.ru
-worldoftanks.ru
-mos.ru
-vesti.ru
-nnmclub.to
-microsoft.com
-rp5.ru
-2gis.ru
-consultant.ru
-fotostrana.ru
-dnevnik.ru
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/sg b/focus-android/app/src/main/assets/domains/sg
deleted file mode 100644
index 9789cdb8d4f4..000000000000
--- a/focus-android/app/src/main/assets/domains/sg
+++ /dev/null
@@ -1,49 +0,0 @@
-google.com.sg
-youtube.com
-google.com
-facebook.com
-yahoo.com
-wikipedia.org
-reddit.com
-blogspot.sg
-live.com
-instagram.com
-qoo10.sg
-whatsapp.com
-linkedin.com
-dbs.com.sg
-amazon.com
-twitter.com
-wordpress.com
-onclkds.com
-office.com
-allsingaporestuff.com
-baidu.com
-lazada.sg
-straitstimes.com
-singpass.gov.sg
-google.co.id
-taobao.com
-tumblr.com
-gomovies.to
-wikia.com
-hardwarezone.com.sg
-nus.edu.sg
-msn.com
-microsoft.com
-carousell.com
-kissanime.ru
-ocbc.com
-stackoverflow.com
-ntu.edu.sg
-thepiratebay.org
-aliexpress.com
-imgur.com
-dropbox.com
-apple.com
-channelnewsasia.com
-imdb.com
-twitch.tv
-abs-cbn.com
-jobstreet.com.sg
-uob.com.sg
diff --git a/focus-android/app/src/main/assets/domains/tw b/focus-android/app/src/main/assets/domains/tw
deleted file mode 100644
index 5651311cac93..000000000000
--- a/focus-android/app/src/main/assets/domains/tw
+++ /dev/null
@@ -1,50 +0,0 @@
-google.com.tw
-pixnet.net
-youtube.com
-facebook.com
-ettoday.net
-google.com
-yahoo.com
-ltn.com.tw
-nownews.com
-setn.com
-momoshop.com.tw
-wikipedia.org
-ck101.com
-ptt.cc
-tvbs.com.tw
-104.com.tw
-gamer.com.tw
-appledaily.com.tw
-pchome.com.tw
-ruten.com.tw
-ctitv.com.tw
-teepr.com
-life.tw
-blogspot.tw
-dcard.tw
-baidu.com
-udn.com
-mobile01.com
-eyny.com
-epochtimes.com
-qoolquiz.com
-bomb01.com
-talk.tw
-ipetgroup.com
-storm.mg
-123kubo.com
-cmoney.tw
-taobao.com
-twitch.tv
-instagram.com
-xuite.net
-sina.com.tw
-1111.com.tw
-businessweekly.com.tw
-elle.com.tw
-twitter.com
-books.com.tw
-591.com.tw
-everydayhealth.com.tw
-techbang.com
\ No newline at end of file
diff --git a/focus-android/app/src/main/assets/domains/us b/focus-android/app/src/main/assets/domains/us
deleted file mode 100644
index 6ceb5be6554b..000000000000
--- a/focus-android/app/src/main/assets/domains/us
+++ /dev/null
@@ -1,49 +0,0 @@
-google.com
-youtube.com
-facebook.com
-reddit.com
-amazon.com
-wikipedia.org
-yahoo.com
-twitter.com
-netflix.com
-ebay.com
-imgur.com
-linkedin.com
-instagram.com
-diply.com
-craigslist.org
-live.com
-office.com
-twitch.tv
-tumblr.com
-pinterest.com
-espn.com
-cnn.com
-bing.com
-wikia.com
-chase.com
-imdb.com
-nytimes.com
-paypal.com
-blogspot.com
-apple.com
-yelp.com
-stackoverflow.com
-bankofamerica.com
-wordpress.com
-github.com
-microsoft.com
-wellsfargo.com
-zillow.com
-salesforce.com
-msn.com
-walmart.com
-weather.com
-dropbox.com
-buzzfeed.com
-intuit.com
-washingtonpost.com
-soundcloud.com
-huffingtonpost.com
-indeed.com
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
index 3b7024aabb94..112e776e0883 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteAddFragment.kt
@@ -16,6 +16,7 @@ import android.view.ViewGroup
 import kotlinx.android.synthetic.main.fragment_autocomplete_add_domain.*
 import kotlinx.coroutines.experimental.CommonPool
 import kotlinx.coroutines.experimental.launch
+import mozilla.components.domains.CustomDomains
 import org.mozilla.focus.R
 import org.mozilla.focus.ext.removePrefixesIgnoreCase
 import org.mozilla.focus.settings.BaseSettingsFragment
@@ -73,7 +74,7 @@ class AutocompleteAddFragment : Fragment() {
 
     private fun saveDomainAndClose(context: Context, domain: String) {
         launch(CommonPool) {
-            CustomAutocomplete.addDomain(context, domain)
+            CustomDomains.add(context, domain)
 
             TelemetryWrapper.saveAutocompleteDomainEvent()
         }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
index 81f95b3346e6..682a1eeb7f5c 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteListFragment.kt
@@ -27,6 +27,7 @@ import kotlinx.coroutines.experimental.CommonPool
 import kotlinx.coroutines.experimental.android.UI
 import kotlinx.coroutines.experimental.async
 import kotlinx.coroutines.experimental.launch
+import mozilla.components.domains.CustomDomains
 import org.mozilla.focus.R
 import org.mozilla.focus.settings.BaseSettingsFragment
 import org.mozilla.focus.telemetry.TelemetryWrapper
@@ -169,7 +170,7 @@ open class AutocompleteListFragment : Fragment() {
 
         fun refresh(context: Context, body: (() -> Unit)? = null) {
             launch(UI) {
-                val updatedDomains = async { CustomAutocomplete.loadCustomAutoCompleteDomains(context) }.await()
+                val updatedDomains = async { CustomDomains.load(context) }.await()
 
                 domains.clear()
                 domains.addAll(updatedDomains)
@@ -224,7 +225,7 @@ open class AutocompleteListFragment : Fragment() {
             notifyItemMoved(from, to)
 
             launch(CommonPool) {
-                CustomAutocomplete.saveDomains(activity.applicationContext, domains)
+                CustomDomains.save(activity.applicationContext, domains)
 
                 TelemetryWrapper.reorderAutocompleteDomainEvent(from, to)
             }
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
index 4181f0b2c7e5..4b80384c4773 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/AutocompleteRemoveFragment.kt
@@ -12,6 +12,7 @@ import kotlinx.android.synthetic.main.fragment_autocomplete_customdomains.*
 import kotlinx.coroutines.experimental.android.UI
 import kotlinx.coroutines.experimental.async
 import kotlinx.coroutines.experimental.launch
+import mozilla.components.domains.CustomDomains
 import org.mozilla.focus.R
 import org.mozilla.focus.settings.BaseSettingsFragment
 import org.mozilla.focus.telemetry.TelemetryWrapper
@@ -34,7 +35,7 @@ class AutocompleteRemoveFragment : AutocompleteListFragment() {
         if (domains.isNotEmpty()) {
             launch(UI) {
                 async {
-                    CustomAutocomplete.removeDomains(context, domains)
+                    CustomDomains.remove(context, domains)
 
                     TelemetryWrapper.removeAutocompleteDomainsEvent(domains.size)
                 }.await()
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/CustomAutocomplete.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/CustomAutocomplete.kt
deleted file mode 100644
index a693363a6517..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/CustomAutocomplete.kt
+++ /dev/null
@@ -1,41 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.autocomplete
-
-import android.content.Context
-import android.content.SharedPreferences
-
-object CustomAutocomplete {
-    private const val PREFERENCE_NAME = "custom_autocomplete"
-    private const val KEY_DOMAINS = "custom_domains"
-    private const val SEPARATOR = "@<;>@"
-
-    suspend fun loadCustomAutoCompleteDomains(context: Context): List<String> =
-            preferences(context).getString(KEY_DOMAINS, "")
-                .split(SEPARATOR)
-                .filter { !it.isEmpty() }
-
-    fun saveDomains(context: Context, domains: List<String>) {
-        preferences(context)
-                .edit()
-                .putString(KEY_DOMAINS, domains.joinToString(separator = SEPARATOR))
-                .apply()
-    }
-
-    suspend fun addDomain(context: Context, domain: String) {
-        val domains = mutableListOf<String>()
-        domains.addAll(loadCustomAutoCompleteDomains(context))
-        domains.add(domain)
-
-        saveDomains(context, domains)
-    }
-
-    suspend fun removeDomains(context: Context, domains: List<String>) {
-        saveDomains(context, loadCustomAutoCompleteDomains(context) - domains)
-    }
-
-    private fun preferences(context: Context): SharedPreferences =
-            context.getSharedPreferences(PREFERENCE_NAME, Context.MODE_PRIVATE)
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilter.kt b/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilter.kt
deleted file mode 100644
index 597f161e4c28..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilter.kt
+++ /dev/null
@@ -1,162 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.autocomplete
-
-import android.content.Context
-import android.util.Log
-import kotlinx.coroutines.experimental.CommonPool
-import kotlinx.coroutines.experimental.android.UI
-import kotlinx.coroutines.experimental.async
-import kotlinx.coroutines.experimental.launch
-import org.mozilla.focus.locale.Locales
-import org.mozilla.focus.utils.Settings
-import org.mozilla.focus.widget.InlineAutocompleteEditText
-import org.mozilla.focus.widget.InlineAutocompleteEditText.AutocompleteResult
-import java.io.IOException
-import java.util.Locale
-
-class UrlAutoCompleteFilter : InlineAutocompleteEditText.OnFilterListener {
-    companion object {
-        private val LOG_TAG = "UrlAutoCompleteFilter"
-    }
-
-    object AutocompleteSource {
-        const val DEFAULT_LIST = "default"
-        const val CUSTOM_LIST = "custom"
-    }
-
-    private var settings: Settings? = null
-
-    private var customDomains: List<String> = emptyList()
-    private var preInstalledDomains: List<String> = emptyList()
-
-    override fun onFilter(rawSearchText: String, view: InlineAutocompleteEditText?) {
-        if (view == null) {
-            return
-        }
-
-        // Search terms are all lowercase already, we just need to lowercase the search text
-        val searchText = rawSearchText.toLowerCase(Locale.US)
-
-        settings?.let {
-            if (it.shouldAutocompleteFromCustomDomainList()) {
-                val autocomplete = tryToAutocomplete(searchText, customDomains)
-                if (autocomplete != null) {
-                    view.onAutocomplete(prepareAutocompleteResult(
-                            rawSearchText,
-                            autocomplete,
-                            AutocompleteSource.CUSTOM_LIST,
-                            customDomains.size))
-                    return
-                }
-            }
-
-            if (it.shouldAutocompleteFromShippedDomainList()) {
-                val autocomplete = tryToAutocomplete(searchText, preInstalledDomains)
-                if (autocomplete != null) {
-                    view.onAutocomplete(prepareAutocompleteResult(
-                            rawSearchText,
-                            autocomplete,
-                            AutocompleteSource.DEFAULT_LIST,
-                            preInstalledDomains.size))
-                    return
-                }
-            }
-        }
-
-        view.onAutocomplete(AutocompleteResult.emptyResult())
-    }
-
-    private fun tryToAutocomplete(searchText: String, domains: List<String>): String? {
-        domains.forEach {
-            val wwwDomain = "www." + it
-            if (wwwDomain.startsWith(searchText)) {
-                return wwwDomain
-            }
-
-            if (it.startsWith(searchText)) {
-                return it
-            }
-        }
-
-        return null
-    }
-
-    internal fun onDomainsLoaded(domains: List<String>, customDomains: List<String>) {
-        this.preInstalledDomains = domains
-        this.customDomains = customDomains
-    }
-
-    fun load(context: Context, loadDomainsFromDisk: Boolean = true) {
-        settings = Settings.getInstance(context)
-
-        if (loadDomainsFromDisk) {
-            launch(UI) {
-                val domains = async(CommonPool) { loadDomains(context) }
-                val customDomains = async(CommonPool) { CustomAutocomplete.loadCustomAutoCompleteDomains(context) }
-
-                onDomainsLoaded(domains.await(), customDomains.await())
-            }
-        }
-    }
-
-    private suspend fun loadDomains(context: Context): List<String> {
-        val domains = LinkedHashSet<String>()
-        val availableLists = getAvailableDomainLists(context)
-
-        // First load the country specific lists following the default locale order
-        Locales.getCountriesInDefaultLocaleList()
-                .asSequence()
-                .filter { availableLists.contains(it) }
-                .forEach { loadDomainsForLanguage(context, domains, it) }
-
-        // And then add domains from the global list
-        loadDomainsForLanguage(context, domains, "global")
-
-        return domains.toList()
-    }
-
-    private fun getAvailableDomainLists(context: Context): Set<String> {
-        val availableDomains = LinkedHashSet<String>()
-
-        val assetManager = context.assets
-
-        try {
-            availableDomains.addAll(assetManager.list("domains"))
-        } catch (e: IOException) {
-            Log.w(LOG_TAG, "Could not list domain list directory")
-        }
-
-        return availableDomains
-    }
-
-    private fun loadDomainsForLanguage(context: Context, domains: MutableSet<String>, country: String) {
-        val assetManager = context.assets
-
-        try {
-            domains.addAll(
-                    assetManager.open("domains/" + country).bufferedReader().readLines())
-        } catch (e: IOException) {
-            Log.w(LOG_TAG, "Could not load domain list: " + country)
-        }
-    }
-
-    /**
-     * Our autocomplete list is all lower case, however the search text might be mixed case.
-     * Our autocomplete EditText code does more string comparison, which fails if the suggestion
-     * doesn't exactly match searchText (ie. if casing differs). It's simplest to just build a suggestion
-     * that exactly matches the search text - which is what this method is for:
-     */
-    private fun prepareAutocompleteResult(
-            rawSearchText: String,
-            lowerCaseResult: String,
-            source: String,
-            totalCount: Int
-    ) =
-            AutocompleteResult(
-                    rawSearchText + lowerCaseResult.substring(rawSearchText.length),
-                    source,
-                    totalCount)
-}
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/fragment/UrlInputFragment.kt b/focus-android/app/src/main/java/org/mozilla/focus/fragment/UrlInputFragment.kt
index 67837655d038..95b404195ccf 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/fragment/UrlInputFragment.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/fragment/UrlInputFragment.kt
@@ -17,9 +17,11 @@ import android.view.ViewGroup
 import android.view.ViewTreeObserver
 import android.widget.FrameLayout
 import kotlinx.android.synthetic.main.fragment_urlinput.*
+import mozilla.components.domains.DomainAutoCompleteProvider
+import mozilla.components.ui.autocomplete.InlineAutocompleteEditText
+import mozilla.components.ui.autocomplete.InlineAutocompleteEditText.AutocompleteResult
 import mozilla.components.utils.ThreadUtils
 import org.mozilla.focus.R
-import org.mozilla.focus.autocomplete.UrlAutoCompleteFilter
 import org.mozilla.focus.locale.LocaleAwareAppCompatActivity
 import org.mozilla.focus.locale.LocaleAwareFragment
 import org.mozilla.focus.menu.home.HomeMenu
@@ -34,7 +36,6 @@ import org.mozilla.focus.utils.UrlUtils
 import org.mozilla.focus.utils.ViewUtils
 import org.mozilla.focus.utils.StatusBarUtils
 import org.mozilla.focus.whatsnew.WhatsNew
-import org.mozilla.focus.widget.InlineAutocompleteEditText
 
 /**
  * Fragment for displaying the URL input controls.
@@ -44,9 +45,7 @@ import org.mozilla.focus.widget.InlineAutocompleteEditText
 @Suppress("LargeClass", "TooManyFunctions")
 class UrlInputFragment :
         LocaleAwareFragment(),
-        View.OnClickListener,
-        InlineAutocompleteEditText.OnCommitListener,
-        InlineAutocompleteEditText.OnFilterListener {
+        View.OnClickListener {
     companion object {
         @JvmField
         val FRAGMENT_TAG = "url_input"
@@ -111,7 +110,7 @@ class UrlInputFragment :
         }
     }
 
-    private val urlAutoCompleteFilter: UrlAutoCompleteFilter = UrlAutoCompleteFilter()
+    private val autoCompleteProvider: DomainAutoCompleteProvider = DomainAutoCompleteProvider()
     private var displayedPopupMenu: HomeMenu? = null
 
     @Volatile
@@ -135,7 +134,10 @@ class UrlInputFragment :
         super.onResume()
 
         activity?.let {
-            urlAutoCompleteFilter.load(it.applicationContext)
+            val settings = Settings.getInstance(it.applicationContext)
+            val useCustomDomains = settings.shouldAutocompleteFromCustomDomainList()
+            val useShippedDomains = settings.shouldAutocompleteFromShippedDomainList()
+            autoCompleteProvider.initialize(it.applicationContext, useShippedDomains, useCustomDomains)
         }
 
         StatusBarUtils.getStatusBarHeight(keyboardLinearLayout, {
@@ -164,7 +166,7 @@ class UrlInputFragment :
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         listOf(dismissView, clearView, searchView).forEach { it.setOnClickListener(this) }
 
-        urlView.setOnFilterListener(this)
+        urlView.setOnFilterListener(::onFilter)
         urlView.imeOptions = urlView.imeOptions or ViewUtils.IME_FLAG_NO_PERSONALIZED_LEARNING
 
         urlInputContainerView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {
@@ -189,7 +191,7 @@ class UrlInputFragment :
             menuView.setOnClickListener(this)
         }
 
-        urlView.setOnCommitListener(this)
+        urlView.setOnCommitListener(::onCommit)
 
         session?.let {
             urlView.setText(if (it.isSearch && Features.SEARCH_TERMS_OR_URL) it.searchTerms else it.url.value)
@@ -462,7 +464,7 @@ class UrlInputFragment :
                 ?.commitAllowingStateLoss()
     }
 
-    override fun onCommit() {
+    private fun onCommit() {
         val input = urlView.text.toString()
 
         if (!input.trim { it <= ' ' }.isEmpty()) {
@@ -482,7 +484,7 @@ class UrlInputFragment :
 
             openUrl(url, searchTerms)
 
-            TelemetryWrapper.urlBarEvent(isUrl, urlView.lastAutocompleteResult)
+            TelemetryWrapper.urlBarEvent(isUrl, urlView.autocompleteResult)
         }
     }
 
@@ -524,7 +526,7 @@ class UrlInputFragment :
         }
     }
 
-    override fun onFilter(searchText: String, view: InlineAutocompleteEditText?) {
+    private fun onFilter(searchText: String, view: InlineAutocompleteEditText?) {
         // If the UrlInputFragment has already been hidden, don't bother with filtering. Because of the text
         // input architecture on Android it's possible for onFilter() to be called after we've already
         // hidden the Fragment, see the relevant bug for more background:
@@ -533,7 +535,11 @@ class UrlInputFragment :
             return
         }
 
-        urlAutoCompleteFilter.onFilter(searchText, view)
+        view?.let {
+            autoCompleteProvider.autocomplete(searchText, { result, source, size ->
+                view.onAutocomplete(AutocompleteResult(result, source, size))
+            })
+        }
 
         if (searchText.trim { it <= ' ' }.isEmpty()) {
             clearView.visibility = View.GONE
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/TelemetryWrapper.kt b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/TelemetryWrapper.kt
index 541ba11466b8..34d9f0f396a2 100644
--- a/focus-android/app/src/main/java/org/mozilla/focus/telemetry/TelemetryWrapper.kt
+++ b/focus-android/app/src/main/java/org/mozilla/focus/telemetry/TelemetryWrapper.kt
@@ -15,7 +15,7 @@ import org.mozilla.focus.R
 import org.mozilla.focus.search.SearchEngineManager
 import org.mozilla.focus.session.SessionManager
 import org.mozilla.focus.utils.AppConstants
-import org.mozilla.focus.widget.InlineAutocompleteEditText.AutocompleteResult
+import mozilla.components.ui.autocomplete.InlineAutocompleteEditText.AutocompleteResult
 import org.mozilla.telemetry.Telemetry
 import org.mozilla.telemetry.TelemetryHolder
 import org.mozilla.telemetry.config.TelemetryConfiguration
diff --git a/focus-android/app/src/main/java/org/mozilla/focus/widget/InlineAutocompleteEditText.java b/focus-android/app/src/main/java/org/mozilla/focus/widget/InlineAutocompleteEditText.java
deleted file mode 100644
index f5453e58454d..000000000000
--- a/focus-android/app/src/main/java/org/mozilla/focus/widget/InlineAutocompleteEditText.java
+++ /dev/null
@@ -1,752 +0,0 @@
-/* -*- Mode: Java; c-basic-offset: 4; tab-width: 20; indent-tabs-mode: nil; -*-
- * This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.widget;
-
-import android.content.Context;
-import android.graphics.Rect;
-import android.os.Build;
-import android.support.annotation.NonNull;
-import android.support.v4.content.ContextCompat;
-import android.text.Editable;
-import android.text.NoCopySpan;
-import android.text.Selection;
-import android.text.Spanned;
-import android.text.TextUtils;
-import android.text.TextWatcher;
-import android.text.style.BackgroundColorSpan;
-import android.util.AttributeSet;
-import android.util.Log;
-import android.view.KeyEvent;
-import android.view.MotionEvent;
-import android.view.View;
-import android.view.accessibility.AccessibilityEvent;
-import android.view.inputmethod.BaseInputConnection;
-import android.view.inputmethod.EditorInfo;
-import android.view.inputmethod.InputConnection;
-import android.view.inputmethod.InputConnectionWrapper;
-import android.view.inputmethod.InputMethodManager;
-import android.widget.TextView;
-
-import org.mozilla.focus.R;
-import org.mozilla.focus.utils.UrlUtils;
-
-public class InlineAutocompleteEditText extends android.support.v7.widget.AppCompatEditText {
-    public interface OnCommitListener {
-        void onCommit();
-    }
-
-    public interface OnFilterListener {
-        void onFilter(String searchText, InlineAutocompleteEditText view);
-    }
-
-    public interface OnSearchStateChangeListener {
-        void onSearchStateChange(boolean isActive);
-    }
-
-    public interface OnTextChangeListener {
-        void onTextChange(String originalText, String autocompleteText);
-    }
-
-    public static class AutocompleteResult {
-        public static AutocompleteResult emptyResult() {
-            return new AutocompleteResult("", "", 0);
-        }
-
-        private final String text;
-        private final String source;
-        private final int totalItems;
-
-        public AutocompleteResult(@NonNull String text, @NonNull String source, int totalItems) {
-            this.text = text;
-            this.source = source;
-            this.totalItems = totalItems;
-        }
-
-        public boolean isEmpty() {
-            return text.isEmpty();
-        }
-
-        public String getText() {
-            return text;
-        }
-
-        public String getSource() {
-            return source;
-        }
-
-        public int getTotalItems() {
-            return totalItems;
-        }
-
-        public int getLength() {
-            return text.length();
-        }
-
-        public boolean startsWith(String text) {
-            return this.text.startsWith(text);
-        }
-    }
-
-    private static final String LOGTAG = "GeckoToolbarEditText";
-    private static final NoCopySpan AUTOCOMPLETE_SPAN = new NoCopySpan.Concrete();
-
-    private final Context mContext;
-
-    private OnCommitListener mCommitListener;
-    private OnFilterListener mFilterListener;
-    private OnSearchStateChangeListener mSearchStateChangeListener;
-    private OnTextChangeListener mTextChangeListener;
-
-    // The previous autocomplete result returned to us
-    private AutocompleteResult mAutoCompleteResult = AutocompleteResult.emptyResult();
-    // Length of the user-typed portion of the result
-    private int mAutoCompletePrefixLength;
-    // If text change is due to us setting autocomplete
-    private boolean mSettingAutoComplete;
-    // Spans used for marking the autocomplete text
-    private Object[] mAutoCompleteSpans;
-    // Do not process autocomplete result
-    private boolean mDiscardAutoCompleteResult;
-
-    public InlineAutocompleteEditText(Context context, AttributeSet attrs) {
-        super(context, attrs);
-        mContext = context;
-    }
-
-    public void setOnCommitListener(OnCommitListener listener) {
-        mCommitListener = listener;
-    }
-
-    public void setOnFilterListener(OnFilterListener listener) {
-        mFilterListener = listener;
-    }
-
-    void setOnSearchStateChangeListener(OnSearchStateChangeListener listener) {
-        mSearchStateChangeListener = listener;
-    }
-
-    public void setOnTextChangeListener(OnTextChangeListener listener) {
-        mTextChangeListener = listener;
-    }
-
-    @Override
-    public void onAttachedToWindow() {
-        super.onAttachedToWindow();
-        setOnKeyListener(new KeyListener());
-        setOnKeyPreImeListener(new KeyPreImeListener());
-        setOnSelectionChangedListener(new SelectionChangeListener());
-        addTextChangedListener(new TextChangeListener());
-    }
-
-    @Override
-    public void onFocusChanged(boolean gainFocus, int direction, Rect previouslyFocusedRect) {
-        super.onFocusChanged(gainFocus, direction, previouslyFocusedRect);
-
-        // Make search icon inactive when edit toolbar search term isn't a user entered
-        // search term
-        final boolean isActive = !TextUtils.isEmpty(getText());
-        if (mSearchStateChangeListener != null) {
-            mSearchStateChangeListener.onSearchStateChange(isActive);
-        }
-
-        if (gainFocus) {
-            resetAutocompleteState();
-            return;
-        }
-
-        removeAutocomplete(getText());
-
-        final InputMethodManager imm = (InputMethodManager) mContext.getSystemService(Context.INPUT_METHOD_SERVICE);
-        try {
-            imm.restartInput(this);
-            imm.hideSoftInputFromWindow(getWindowToken(), 0);
-        } catch (NullPointerException e) {
-            Log.e(LOGTAG, "InputMethodManagerService, why are you throwing"
-                    + " a NullPointerException? See bug 782096", e);
-        }
-    }
-
-    @Override
-    public void setText(final CharSequence text, final TextView.BufferType type) {
-        final String textString = (text == null) ? "" : text.toString();
-
-        super.setText(textString, type);
-
-        // Any autocomplete text would have been overwritten, so reset our autocomplete states.
-        resetAutocompleteState();
-    }
-
-    @Override
-    public void sendAccessibilityEventUnchecked(AccessibilityEvent event) {
-        // We need to bypass the isShown() check in the default implementation
-        // for TYPE_VIEW_TEXT_SELECTION_CHANGED events so that accessibility
-        // services could detect a url change.
-        if (event.getEventType() == AccessibilityEvent.TYPE_VIEW_TEXT_SELECTION_CHANGED &&
-                getParent() != null && !isShown()) {
-            onInitializeAccessibilityEvent(event);
-            dispatchPopulateAccessibilityEvent(event);
-            getParent().requestSendAccessibilityEvent(this, event);
-        } else {
-            super.sendAccessibilityEventUnchecked(event);
-        }
-    }
-
-    /**
-     * Mark the start of autocomplete changes so our text change
-     * listener does not react to changes in autocomplete text
-     */
-    private void beginSettingAutocomplete() {
-        beginBatchEdit();
-        mSettingAutoComplete = true;
-    }
-
-    /**
-     * Mark the end of autocomplete changes
-     */
-    private void endSettingAutocomplete() {
-        mSettingAutoComplete = false;
-        endBatchEdit();
-    }
-
-    /**
-     * Reset autocomplete states to their initial values
-     */
-    private void resetAutocompleteState() {
-        mAutoCompleteSpans = new Object[] {
-                // Span to mark the autocomplete text
-                AUTOCOMPLETE_SPAN,
-                // Span to change the autocomplete text color
-                new BackgroundColorSpan(
-                        ContextCompat.getColor(getContext(), R.color.colorAccent))
-        };
-
-        mAutoCompleteResult = AutocompleteResult.emptyResult();
-
-        // Pretend we already autocompleted the existing text,
-        // so that actions like backspacing don't trigger autocompletion.
-        mAutoCompletePrefixLength = getText().length();
-
-        // Show the cursor.
-        setCursorVisible(true);
-    }
-
-    protected String getNonAutocompleteText() {
-        return getNonAutocompleteText(getText());
-    }
-
-    /**
-     * Get the portion of text that is not marked as autocomplete text.
-     *
-     * @param text Current text content that may include autocomplete text
-     */
-    private static String getNonAutocompleteText(final Editable text) {
-        final int start = text.getSpanStart(AUTOCOMPLETE_SPAN);
-        if (start < 0) {
-            // No autocomplete text; return the whole string.
-            return text.toString();
-        }
-
-        // Only return the portion that's not autocomplete text
-        return TextUtils.substring(text, 0, start);
-    }
-
-    /**
-     * Remove any autocomplete text
-     *
-     * @param text Current text content that may include autocomplete text
-     */
-    private boolean removeAutocomplete(final Editable text) {
-        final int start = text.getSpanStart(AUTOCOMPLETE_SPAN);
-        if (start < 0) {
-            // No autocomplete text
-            return false;
-        }
-
-        beginSettingAutocomplete();
-
-        // When we call delete() here, the autocomplete spans we set are removed as well.
-        text.delete(start, text.length());
-
-        // Keep mAutoCompletePrefixLength the same because the prefix has not changed.
-        // Clear mAutoCompleteResult to make sure we get fresh autocomplete text next time.
-        mAutoCompleteResult = AutocompleteResult.emptyResult();
-
-        // Reshow the cursor.
-        setCursorVisible(true);
-
-        endSettingAutocomplete();
-        return true;
-    }
-
-    /**
-     * Convert any autocomplete text to regular text
-     *
-     * @param text Current text content that may include autocomplete text
-     */
-    private boolean commitAutocomplete(final Editable text) {
-        final int start = text.getSpanStart(AUTOCOMPLETE_SPAN);
-        if (start < 0) {
-            // No autocomplete text
-            return false;
-        }
-
-        beginSettingAutocomplete();
-
-        // Remove all spans here to convert from autocomplete text to regular text
-        for (final Object span : mAutoCompleteSpans) {
-            text.removeSpan(span);
-        }
-
-        // Keep mAutoCompleteResult the same because the result has not changed.
-        // Reset mAutoCompletePrefixLength because the prefix now includes the autocomplete text.
-        mAutoCompletePrefixLength = text.length();
-
-        // Reshow the cursor.
-        setCursorVisible(true);
-
-        endSettingAutocomplete();
-
-        // Filter on the new text
-        if (mFilterListener != null) {
-            mFilterListener.onFilter(text.toString(), null);
-        }
-        return true;
-    }
-
-    /**
-     * Add autocomplete text based on the result URI.
-     *
-     * @param result Result URI to be turned into autocomplete text
-     */
-    public void onAutocomplete(final AutocompleteResult result) {
-        // If mDiscardAutoCompleteResult is true, we temporarily disabled
-        // autocomplete (due to backspacing, etc.) and we should bail early.
-        if (mDiscardAutoCompleteResult) {
-            return;
-        }
-
-        if (!isEnabled() || result == null || result.isEmpty()) {
-            mAutoCompleteResult = AutocompleteResult.emptyResult();
-            return;
-        }
-
-        final Editable text = getText();
-        final int textLength = text.length();
-        final int resultLength = result.getLength();
-        final int autoCompleteStart = text.getSpanStart(AUTOCOMPLETE_SPAN);
-        mAutoCompleteResult = result;
-
-        if (autoCompleteStart > -1) {
-            // Autocomplete text already exists; we should replace existing autocomplete text.
-
-            // If the result and the current text don't have the same prefixes,
-            // the result is stale and we should wait for the another result to come in.
-            if (!TextUtils.regionMatches(result.getText(), 0, text, 0, autoCompleteStart)) {
-                return;
-            }
-
-            beginSettingAutocomplete();
-
-            // Replace the existing autocomplete text with new one.
-            // replace() preserves the autocomplete spans that we set before.
-            text.replace(autoCompleteStart, textLength, result.getText(), autoCompleteStart, resultLength);
-
-            // Reshow the cursor if there is no longer any autocomplete text.
-            if (autoCompleteStart == resultLength) {
-                setCursorVisible(true);
-            }
-
-            endSettingAutocomplete();
-
-        } else {
-            // No autocomplete text yet; we should add autocomplete text
-
-            // If the result prefix doesn't match the current text,
-            // the result is stale and we should wait for the another result to come in.
-            if (resultLength <= textLength ||
-                    !TextUtils.regionMatches(result.getText(), 0, text, 0, textLength)) {
-                return;
-            }
-
-            final Object[] spans = text.getSpans(textLength, textLength, Object.class);
-            final int[] spanStarts = new int[spans.length];
-            final int[] spanEnds = new int[spans.length];
-            final int[] spanFlags = new int[spans.length];
-
-            // Save selection/composing span bounds so we can restore them later.
-            for (int i = 0; i < spans.length; i++) {
-                final Object span = spans[i];
-                final int spanFlag = text.getSpanFlags(span);
-
-                // We don't care about spans that are not selection or composing spans.
-                // For those spans, spanFlag[i] will be 0 and we don't restore them.
-                if ((spanFlag & Spanned.SPAN_COMPOSING) == 0 &&
-                        (span != Selection.SELECTION_START) &&
-                        (span != Selection.SELECTION_END)) {
-                    continue;
-                }
-
-                spanStarts[i] = text.getSpanStart(span);
-                spanEnds[i] = text.getSpanEnd(span);
-                spanFlags[i] = spanFlag;
-            }
-
-            beginSettingAutocomplete();
-
-            // First add trailing text.
-            text.append(result.getText(), textLength, resultLength);
-
-            // Restore selection/composing spans.
-            for (int i = 0; i < spans.length; i++) {
-                final int spanFlag = spanFlags[i];
-                if (spanFlag == 0) {
-                    // Skip if the span was ignored before.
-                    continue;
-                }
-                text.setSpan(spans[i], spanStarts[i], spanEnds[i], spanFlag);
-            }
-
-            // Mark added text as autocomplete text.
-            for (final Object span : mAutoCompleteSpans) {
-                text.setSpan(span, textLength, resultLength, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
-            }
-
-            // Hide the cursor.
-            setCursorVisible(false);
-
-            // Make sure the autocomplete text is visible. If the autocomplete text is too
-            // long, it would appear the cursor will be scrolled out of view. However, this
-            // is not the case in practice, because EditText still makes sure the cursor is
-            // still in view.
-            bringPointIntoView(resultLength);
-
-            endSettingAutocomplete();
-        }
-
-        announceForAccessibility(text.toString());
-    }
-
-    public String getOriginalText() {
-        final Editable text = getText();
-
-        return text.subSequence(0, mAutoCompletePrefixLength).toString();
-    }
-
-    @NonNull
-    public AutocompleteResult getLastAutocompleteResult() {
-        return mAutoCompleteResult;
-    }
-
-    private static boolean hasCompositionString(Editable content) {
-        Object[] spans = content.getSpans(0, content.length(), Object.class);
-
-        if (spans != null) {
-            for (Object span : spans) {
-                if ((content.getSpanFlags(span) & Spanned.SPAN_COMPOSING) != 0) {
-                    // Found composition string.
-                    return true;
-                }
-            }
-        }
-
-        return false;
-    }
-
-    /**
-     * Code to handle deleting autocomplete first when backspacing.
-     * If there is no autocomplete text, both removeAutocomplete() and commitAutocomplete()
-     * are no-ops and return false. Therefore we can use them here without checking explicitly
-     * if we have autocomplete text or not.
-     *
-     * Also turns off text prediction for private mode tabs.
-     */
-    @Override
-    public InputConnection onCreateInputConnection(final EditorInfo outAttrs) {
-        final InputConnection ic = super.onCreateInputConnection(outAttrs);
-        if (ic == null) {
-            return null;
-        }
-
-        return new InputConnectionWrapper(ic, false) {
-            @Override
-            public boolean deleteSurroundingText(final int beforeLength, final int afterLength) {
-                if (removeAutocomplete(getText())) {
-                    // If we have autocomplete text, the cursor is at the boundary between
-                    // regular and autocomplete text. So regardless of which direction we
-                    // are deleting, we should delete the autocomplete text first.
-                    // Make the IME aware that we interrupted the deleteSurroundingText call,
-                    // by restarting the IME.
-                    final InputMethodManager imm = (InputMethodManager) mContext.getSystemService(Context.INPUT_METHOD_SERVICE);
-                    if (imm != null) {
-                        imm.restartInput(InlineAutocompleteEditText.this);
-                    }
-                    return false;
-                }
-                return super.deleteSurroundingText(beforeLength, afterLength);
-            }
-
-            private boolean removeAutocompleteOnComposing(final CharSequence text) {
-                final Editable editable = getText();
-                final int composingStart = BaseInputConnection.getComposingSpanStart(editable);
-                final int composingEnd = BaseInputConnection.getComposingSpanEnd(editable);
-                // We only delete the autocomplete text when the user is backspacing,
-                // i.e. when the composing text is getting shorter.
-                if (composingStart >= 0 &&
-                        composingEnd >= 0 &&
-                        (composingEnd - composingStart) > text.length() &&
-                        removeAutocomplete(editable)) {
-                    // Make the IME aware that we interrupted the setComposingText call,
-                    // by having finishComposingText() send change notifications to the IME.
-                    finishComposingText();
-                    setComposingRegion(composingStart, composingEnd);
-                    return true;
-                }
-                return false;
-            }
-
-            @Override
-            public boolean commitText(CharSequence text, int newCursorPosition) {
-                if (removeAutocompleteOnComposing(text)) {
-                    return false;
-                }
-                return super.commitText(text, newCursorPosition);
-            }
-
-            @Override
-            public boolean setComposingText(final CharSequence text, final int newCursorPosition) {
-                if (removeAutocompleteOnComposing(text)) {
-                    return false;
-                }
-                return super.setComposingText(text, newCursorPosition);
-            }
-        };
-    }
-
-    private class SelectionChangeListener implements OnSelectionChangedListener {
-        @Override
-        public void onSelectionChanged(final int selStart, final int selEnd) {
-            // The user has repositioned the cursor somewhere. We need to adjust
-            // the autocomplete text depending on where the new cursor is.
-
-            final Editable text = getText();
-            final int start = text.getSpanStart(AUTOCOMPLETE_SPAN);
-
-            if (mSettingAutoComplete || start < 0 || (start == selStart && start == selEnd)) {
-                // Do not commit autocomplete text if there is no autocomplete text
-                // or if selection is still at start of autocomplete text
-                return;
-            }
-
-            if (selStart <= start && selEnd <= start) {
-                // The cursor is in user-typed text; remove any autocomplete text.
-                removeAutocomplete(text);
-            } else {
-                // The cursor is in the autocomplete text; commit it so it becomes regular text.
-                commitAutocomplete(text);
-            }
-        }
-    }
-
-    private class TextChangeListener implements TextWatcher {
-        private int textLengthBeforeChange;
-
-        @Override
-        public void afterTextChanged(final Editable editable) {
-            if (!isEnabled() || mSettingAutoComplete) {
-                return;
-            }
-
-            final String text = getNonAutocompleteText(editable);
-            final int textLength = text.length();
-            boolean doAutocomplete = true;
-
-            if (UrlUtils.isSearchQuery(text)) {
-                doAutocomplete = false;
-            } else if (textLength == textLengthBeforeChange - 1 || textLength == 0) {
-                // If you're hitting backspace (the string is getting smaller), don't autocomplete
-                doAutocomplete = false;
-            }
-
-            mAutoCompletePrefixLength = textLength;
-
-            // If we are not autocompleting, we set mDiscardAutoCompleteResult to true
-            // to discard any autocomplete results that are in-flight, and vice versa.
-            mDiscardAutoCompleteResult = !doAutocomplete;
-
-            if (doAutocomplete && mAutoCompleteResult.startsWith(text)) {
-                // If this text already matches our autocomplete text, autocomplete likely
-                // won't change. Just reuse the old autocomplete value.
-                onAutocomplete(mAutoCompleteResult);
-                doAutocomplete = false;
-            } else {
-                // Otherwise, remove the old autocomplete text
-                // until any new autocomplete text gets added.
-                removeAutocomplete(editable);
-            }
-
-            // Update search icon with an active state since user is typing
-            if (mSearchStateChangeListener != null) {
-                mSearchStateChangeListener.onSearchStateChange(textLength > 0);
-            }
-
-            if (mFilterListener != null) {
-                mFilterListener.onFilter(text, doAutocomplete ? InlineAutocompleteEditText.this : null);
-            }
-
-            if (mTextChangeListener != null) {
-                mTextChangeListener.onTextChange(text, getText().toString());
-            }
-        }
-
-        @Override
-        public void beforeTextChanged(CharSequence s, int start, int count, int after) {
-            textLengthBeforeChange = s.length();
-        }
-
-        @Override
-        public void onTextChanged(CharSequence s, int start, int before, int count) {
-            // do nothing
-        }
-    }
-
-    private class KeyPreImeListener implements OnKeyPreImeListener {
-        @Override
-        public boolean onKeyPreIme(View v, int keyCode, KeyEvent event) {
-            // We only want to process one event per tap
-            if (event.getAction() != KeyEvent.ACTION_DOWN) {
-                return false;
-            }
-
-            if (keyCode == KeyEvent.KEYCODE_ENTER) {
-                // If the edit text has a composition string, don't submit the text yet.
-                // ENTER is needed to commit the composition string.
-                final Editable content = getText();
-                if (!hasCompositionString(content)) {
-                    if (mCommitListener != null) {
-                        mCommitListener.onCommit();
-                    }
-
-                    return true;
-                }
-            }
-
-            if (keyCode == KeyEvent.KEYCODE_BACK) {
-                removeAutocomplete(getText());
-                return false;
-            }
-
-            return false;
-        }
-    }
-
-    private class KeyListener implements View.OnKeyListener {
-        @Override
-        public boolean onKey(View v, int keyCode, KeyEvent event) {
-            if (keyCode == KeyEvent.KEYCODE_ENTER) {
-                if (event.getAction() != KeyEvent.ACTION_DOWN) {
-                    return true;
-                }
-
-                if (mCommitListener != null) {
-                    mCommitListener.onCommit();
-                }
-
-                return true;
-            }
-
-            if ((keyCode == KeyEvent.KEYCODE_DEL ||
-                    (keyCode == KeyEvent.KEYCODE_FORWARD_DEL)) &&
-                    removeAutocomplete(getText())) {
-                // Delete autocomplete text when backspacing or forward deleting.
-                return true;
-            }
-
-            return false;
-        }
-    }
-
-    private OnKeyPreImeListener mOnKeyPreImeListener;
-    private OnSelectionChangedListener mOnSelectionChangedListener;
-    private OnWindowFocusChangeListener mOnWindowFocusChangeListener;
-
-    public interface OnKeyPreImeListener {
-        public boolean onKeyPreIme(View v, int keyCode, KeyEvent event);
-    }
-
-    public void setOnKeyPreImeListener(OnKeyPreImeListener listener) {
-        mOnKeyPreImeListener = listener;
-    }
-
-    @Override
-    public boolean onKeyPreIme(int keyCode, KeyEvent event) {
-        if (mOnKeyPreImeListener != null) {
-            return mOnKeyPreImeListener.onKeyPreIme(this, keyCode, event);
-        }
-
-        return false;
-    }
-
-    public interface OnSelectionChangedListener {
-        public void onSelectionChanged(int selStart, int selEnd);
-    }
-
-    public void setOnSelectionChangedListener(OnSelectionChangedListener listener) {
-        mOnSelectionChangedListener = listener;
-    }
-
-    @Override
-    protected void onSelectionChanged(int selStart, int selEnd) {
-        if (mOnSelectionChangedListener != null) {
-            mOnSelectionChangedListener.onSelectionChanged(selStart, selEnd);
-        }
-
-        super.onSelectionChanged(selStart, selEnd);
-    }
-
-    public interface OnWindowFocusChangeListener {
-        public void onWindowFocusChanged(boolean hasFocus);
-    }
-
-    public void setOnWindowFocusChangeListener(OnWindowFocusChangeListener listener) {
-        mOnWindowFocusChangeListener = listener;
-    }
-
-    @Override
-    public void onWindowFocusChanged(boolean hasFocus) {
-        super.onWindowFocusChanged(hasFocus);
-        if (mOnWindowFocusChangeListener != null) {
-            mOnWindowFocusChangeListener.onWindowFocusChanged(hasFocus);
-        }
-    }
-
-    @Override
-    public boolean onTouchEvent(MotionEvent event) {
-        if (android.os.Build.VERSION.SDK_INT == Build.VERSION_CODES.M &&
-                event.getActionMasked() == MotionEvent.ACTION_UP) {
-            // Android 6 occasionally throws a NullPointerException inside Editor.onTouchEvent()
-            // for ACTION_UP when attempting to display (uninitialised) text handles. The Editor
-            // and TextView IME interactions are quite complex, so I don't know how to properly
-            // work around this issue, but we can at least catch the NPE to prevent crashing
-            // the whole app.
-            // (Editor tries to make both selection handles visible, but in certain cases they haven't
-            // been initialised yet, causing the NPE. It doesn't bother to check the selection handle
-            // state, and making some other calls to ensure the handles exist doesn't seem like a
-            // clean solution either since I don't understand most of the selection logic. This implementation
-            // only seems to exist in Android 6, both Android 5 and 7 have different implementations.)
-            try {
-                return super.onTouchEvent(event);
-            } catch (NullPointerException ignored) {
-                // Ignore this (see above) - since we're now in an unknown state let's clear all selection
-                // (which is still better than an arbitrary crash that we can't control):
-                clearFocus();
-                return true;
-            }
-        } else {
-            return super.onTouchEvent(event);
-
-        }
-    }
-}
diff --git a/focus-android/app/src/main/res/layout/fragment_urlinput.xml b/focus-android/app/src/main/res/layout/fragment_urlinput.xml
index 684ddda2e4fb..6bb4d54c40d0 100644
--- a/focus-android/app/src/main/res/layout/fragment_urlinput.xml
+++ b/focus-android/app/src/main/res/layout/fragment_urlinput.xml
@@ -72,7 +72,7 @@
                 android:layout_height="match_parent"
                 android:orientation="horizontal">
 
-                <org.mozilla.focus.widget.InlineAutocompleteEditText
+                <mozilla.components.ui.autocomplete.InlineAutocompleteEditText
                     android:id="@+id/urlView"
                     android:layout_width="0dp"
                     android:layout_height="40dp"
diff --git a/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/CustomAutocompleteTest.kt b/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/CustomAutocompleteTest.kt
deleted file mode 100644
index 2f701936386f..000000000000
--- a/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/CustomAutocompleteTest.kt
+++ /dev/null
@@ -1,51 +0,0 @@
-/* This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.autocomplete
-
-import android.content.Context
-import kotlinx.coroutines.experimental.runBlocking
-import org.junit.Assert.assertEquals
-import org.junit.Before
-import org.junit.Test
-import org.junit.runner.RunWith
-import org.robolectric.RobolectricTestRunner
-import org.robolectric.RuntimeEnvironment
-
-@RunWith(RobolectricTestRunner::class)
-class CustomAutocompleteTest {
-    @Before
-    fun setUp() {
-        RuntimeEnvironment.application
-                .getSharedPreferences("custom_autocomplete", Context.MODE_PRIVATE)
-                .edit()
-                .clear()
-                .apply()
-    }
-
-    @Test
-    fun testCustomListIsEmptyByDefault() {
-        val domains = runBlocking {
-            CustomAutocomplete.loadCustomAutoCompleteDomains(RuntimeEnvironment.application)
-        }
-
-        assertEquals(0, domains.size)
-    }
-
-    @Test
-    fun testSavingAndLoadingDomains() = runBlocking {
-        CustomAutocomplete.saveDomains(RuntimeEnvironment.application, listOf(
-                "mozilla.org",
-                "example.org",
-                "example.com"
-        ))
-
-        val domains = CustomAutocomplete.loadCustomAutoCompleteDomains(RuntimeEnvironment.application)
-
-        assertEquals(3, domains.size)
-        assertEquals("mozilla.org", domains.elementAt(0))
-        assertEquals("example.org", domains.elementAt(1))
-        assertEquals("example.com", domains.elementAt(2))
-    }
-}
\ No newline at end of file
diff --git a/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilterTest.kt b/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilterTest.kt
deleted file mode 100644
index eed47225d2ae..000000000000
--- a/focus-android/app/src/test/java/org/mozilla/focus/autocomplete/UrlAutoCompleteFilterTest.kt
+++ /dev/null
@@ -1,119 +0,0 @@
-/* -*- Mode: Java; c-basic-offset: 4; tab-width: 4; indent-tabs-mode: nil; -*-
- * This Source Code Form is subject to the terms of the Mozilla Public
- * License, v. 2.0. If a copy of the MPL was not distributed with this
- * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
-
-package org.mozilla.focus.autocomplete
-
-import android.preference.PreferenceManager
-import org.junit.After
-import org.junit.Assert.assertEquals
-import org.junit.Assert.assertFalse
-import org.junit.Assert.assertTrue
-import org.junit.Test
-import org.junit.runner.RunWith
-import org.mockito.ArgumentCaptor
-import org.mockito.Mockito.mock
-import org.mockito.Mockito.verify
-import org.mozilla.focus.BuildConfig
-import org.mozilla.focus.R
-import org.mozilla.focus.widget.InlineAutocompleteEditText
-import org.mozilla.focus.widget.InlineAutocompleteEditText.AutocompleteResult
-import org.robolectric.RobolectricTestRunner
-import org.robolectric.RuntimeEnvironment
-import org.robolectric.annotation.Config
-
-@RunWith(RobolectricTestRunner::class)
-@Config(constants = BuildConfig::class, packageName = "org.mozilla.focus")
-class UrlAutoCompleteFilterTest {
-    @After
-    fun tearDown() {
-        PreferenceManager.getDefaultSharedPreferences(RuntimeEnvironment.application)
-                .edit()
-                .clear()
-                .apply()
-    }
-
-    @Test
-    fun testAutocompletion() {
-        val filter = UrlAutoCompleteFilter()
-        filter.load(RuntimeEnvironment.application, false)
-
-        val domains = listOf("mozilla.org", "google.com", "facebook.com")
-        filter.onDomainsLoaded(domains, emptyList())
-
-        assertAutocompletion(filter, "m", "mozilla.org")
-        assertAutocompletion(filter, "www", "www.mozilla.org")
-        assertAutocompletion(filter, "www.face", "www.facebook.com")
-        assertAutocompletion(filter, "MOZ", "MOZilla.org")
-        assertAutocompletion(filter, "www.GOO", "www.GOOgle.com")
-        assertAutocompletion(filter, "WWW.GOOGLE.", "WWW.GOOGLE.com")
-        assertAutocompletion(filter, "www.facebook.com", "www.facebook.com")
-        assertAutocompletion(filter, "facebook.com", "facebook.com")
-
-        assertNoAutocompletion(filter, "wwww")
-        assertNoAutocompletion(filter, "yahoo")
-    }
-
-    @Test
-    fun testAutocompletionWithCustomDomains() {
-        PreferenceManager.getDefaultSharedPreferences(RuntimeEnvironment.application)
-                .edit()
-                .putBoolean(RuntimeEnvironment.application.getString(R.string.pref_key_autocomplete_custom), true)
-                .apply()
-
-        val domains = listOf("facebook.com", "google.com", "mozilla.org")
-        val customDomains = listOf("gap.com", "fanfiction.com", "mobile.de")
-
-        val filter = UrlAutoCompleteFilter()
-        filter.load(RuntimeEnvironment.application, false)
-        filter.onDomainsLoaded(domains, customDomains)
-
-        assertAutocompletion(filter, "f", "fanfiction.com")
-        assertAutocompletion(filter, "fa", "fanfiction.com")
-        assertAutocompletion(filter, "fac", "facebook.com")
-
-        assertAutocompletion(filter, "g", "gap.com")
-        assertAutocompletion(filter, "go", "google.com")
-        assertAutocompletion(filter, "ga", "gap.com")
-
-        assertAutocompletion(filter, "m", "mobile.de")
-        assertAutocompletion(filter, "mo", "mobile.de")
-        assertAutocompletion(filter, "mob", "mobile.de")
-        assertAutocompletion(filter, "moz", "mozilla.org")
-    }
-
-    @Test
-    fun testWithoutDomains() {
-        val filter = UrlAutoCompleteFilter()
-
-        assertNoAutocompletion(filter, "mozilla")
-    }
-
-    @Test
-    fun testWithoutView() {
-        val filter = UrlAutoCompleteFilter()
-        filter.onFilter("mozilla", null)
-    }
-
-    private fun assertAutocompletion(filter: UrlAutoCompleteFilter, text: String, completion: String) {
-        val view = mock(InlineAutocompleteEditText::class.java)
-        filter.onFilter(text, view)
-
-        val captor = ArgumentCaptor.forClass(AutocompleteResult::class.java)
-        verify(view).onAutocomplete(captor.capture())
-
-        assertFalse(captor.value.isEmpty)
-        assertEquals(completion, captor.value.text)
-    }
-
-    private fun assertNoAutocompletion(filter: UrlAutoCompleteFilter, text: String) {
-        val view = mock(InlineAutocompleteEditText::class.java)
-        filter.onFilter(text, view)
-
-        val captor = ArgumentCaptor.forClass(AutocompleteResult::class.java)
-        verify(view).onAutocomplete(captor.capture())
-
-        assertTrue(captor.value.isEmpty)
-    }
-}
diff --git a/focus-android/build.gradle b/focus-android/build.gradle
index 9ed66c37458f..de4b9f1e37b5 100644
--- a/focus-android/build.gradle
+++ b/focus-android/build.gradle
@@ -7,6 +7,7 @@ buildscript {
     ext.kotlin_version = '1.2.30'
     ext.geckoview_nightly_version = '2018.03.16'
     ext.spotbugs_version = '3.1.2'
+    ext.mozilla_components_version = '0.3'
 
     repositories {
         google()
