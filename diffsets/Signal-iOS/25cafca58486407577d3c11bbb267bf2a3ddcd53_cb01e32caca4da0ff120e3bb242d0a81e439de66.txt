diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
index 3fd6613d5b3..0e5427a3ea0 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
@@ -425,6 +425,7 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
             let primarySelectionView = componentView.primarySelectionView
             primarySelectionView.isSelected = componentDelegate.selectionState.isSelected(interaction.uniqueId,
                                                                                           selectionType: .primaryContent)
+            primarySelectionView.updateStyle(conversationStyle: conversationStyle)
 
             let selectionWrapper = componentView.selectionWrapper
             if hasSecondaryContentForSelection,
@@ -432,9 +433,10 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                 let secondarySelectionView = componentView.secondarySelectionView
                 secondarySelectionView.isSelected = componentDelegate.selectionState.isSelected(interaction.uniqueId,
                                                                                                 selectionType: .secondaryContent)
+                secondarySelectionView.updateStyle(conversationStyle: conversationStyle)
 
                 let selectionLayoutBlock = { (_: UIView) -> Void in
-                    let size = MessageSelectionView.contentSize
+                    let size = MessageSelectionView.totalSize
                     let selectionView = primarySelectionView
                     guard let superview = selectionView.superview else {
                         owsFailDebug("Missing superview.")
@@ -495,7 +497,7 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                 outerContentView.setNeedsLayout()
             } else {
                 selectionWrapper.addSubviewToCenterOnSuperview(primarySelectionView,
-                                                               size: MessageSelectionView.contentSize)
+                                                               size: MessageSelectionView.totalSize)
             }
             hOuterStackSubviews.append(selectionWrapper)
         }
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVLoader.swift b/Signal/src/ViewControllers/ConversationView/CV/CVLoader.swift
index fb08265396c..70f7c73c4cc 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVLoader.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVLoader.swift
@@ -248,6 +248,7 @@ public class CVLoader: NSObject {
                                                   thread: thread,
                                                   viewWidth: containerView.width,
                                                   hasWallpaper: false,
+                                                  isWallpaperPhoto: false,
                                                   chatColor: chatColor)
         let coreState = CVCoreState(conversationStyle: conversationStyle,
                                     mediaCache: CVMediaCache())
@@ -308,6 +309,7 @@ public class CVLoader: NSObject {
                                                   thread: thread,
                                                   viewWidth: mockViewWidth,
                                                   hasWallpaper: false,
+                                                  isWallpaperPhoto: false,
                                                   chatColor: chatColor)
         let coreState = CVCoreState(conversationStyle: conversationStyle,
                                     mediaCache: CVMediaCache())
@@ -384,9 +386,6 @@ public class CVLoader: NSObject {
         case .unknown:
             Logger.warn("Discarding item: \(itemModel.messageCellType).")
             return nil
-        default:
-            owsFailDebug("Discarding item: \(itemModel.messageCellType).")
-            return nil
         }
 
         let cellMeasurement = buildCellMeasurement(rootComponent: rootComponent,
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/MessageSelectionView.swift b/Signal/src/ViewControllers/ConversationView/Cells/MessageSelectionView.swift
index e9a06f4779b..d5a4360062d 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/MessageSelectionView.swift
+++ b/Signal/src/ViewControllers/ConversationView/Cells/MessageSelectionView.swift
@@ -16,11 +16,9 @@ public class MessageSelectionView: ManualLayoutView {
     public init() {
         super.init(name: "MessageSelectionView")
 
-        addSubview(selectedView)
-        addSubview(unselectedView)
-
-        centerSubviewOnSuperview(selectedView, size: Self.contentSize)
-        centerSubviewOnSuperview(unselectedView, size: Self.contentSize)
+        addSubviewToFillSuperviewEdges(backgroundView)
+        addSubviewToCenterOnSuperview(selectedView, size: Self.uiSize)
+        addSubviewToCenterOnSuperview(unselectedView, size: Self.uiSize)
 
         selectedView.isHidden = true
     }
@@ -30,33 +28,42 @@ public class MessageSelectionView: ManualLayoutView {
         notImplemented()
     }
 
-    public static var contentSize: CGSize {
+    public static var totalSize: CGSize {
         CGSize(square: ConversationStyle.selectionViewWidth)
     }
+    public static var uiSize: CGSize {
+        CGSize(square: ConversationStyle.selectionViewWidth - 2)
+    }
 
-    private lazy var selectedView: UIView = {
-        let wrapper = ManualLayoutView(name: "MessageSelectionView.selectedView")
-
-        // the checkmark shape is transparent, but we want it colored white, even in dark theme
-        let backgroundSize = ConversationStyle.selectionViewWidth - 8
-        let backgroundView = CircleView(diameter: backgroundSize)
-        backgroundView.backgroundColor = .white
-        wrapper.addSubview(backgroundView)
-        wrapper.centerSubviewOnSuperview(backgroundView, size: .square(backgroundSize))
-
-        let image = #imageLiteral(resourceName: "check-circle-solid-24").withRenderingMode(.alwaysTemplate)
-        let imageView = CVImageView(image: image)
-        imageView.tintColor = .ows_accentBlue
-        wrapper.addSubview(imageView)
-        wrapper.layoutSubviewToFillSuperviewEdges(imageView)
+    private let selectedView: CVImageView = {
+        let checkmarkView = CVImageView()
+        checkmarkView.setTemplateImageName("check-circle-solid-24", tintColor: .white)
+        return checkmarkView
+    }()
 
-        return wrapper
+    private let unselectedView: CircleView = {
+        let circleView = CircleView(diameter: MessageSelectionView.uiSize.width)
+        circleView.layer.borderWidth = 1.5
+        return circleView
     }()
 
-    private lazy var unselectedView: UIView = {
-        let view = CircleView(diameter: ConversationStyle.selectionViewWidth)
-        view.layer.borderColor = UIColor.ows_gray25.cgColor
-        view.layer.borderWidth = 1.5
-        return view
+    private let backgroundView: UIView = {
+        ManualLayoutViewWithLayer.circleView(name: "selection background")
     }()
+
+    public func updateStyle(conversationStyle: ConversationStyle) {
+        AssertIsOnMainThread()
+
+        if conversationStyle.isDarkThemeEnabled || conversationStyle.hasWallpaper {
+            selectedView.tintColor = .ows_white
+            unselectedView.layer.borderColor = UIColor.ows_white.cgColor
+            backgroundView.backgroundColor = UIColor.ows_black.withAlphaComponent(0.2)
+            backgroundView.isHidden = (!conversationStyle.hasWallpaper ||
+                                        !conversationStyle.isWallpaperPhoto)
+        } else {
+            selectedView.tintColor = .ows_accentBlue
+            unselectedView.layer.borderColor = UIColor.ows_gray25.cgColor
+            backgroundView.isHidden = true
+        }
+    }
 }
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+CVC.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+CVC.swift
index 38c95da1e57..069f1ed409b 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+CVC.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+CVC.swift
@@ -696,6 +696,7 @@ extension ConversationViewController: CVLoadCoordinatorDelegate {
                           thread: threadViewModel.threadRecord,
                           viewWidth: 0,
                           hasWallpaper: threadViewModel.hasWallpaper,
+                          isWallpaperPhoto: threadViewModel.isWallpaperPhoto,
                           chatColor: .placeholderValue)
     }
 
@@ -705,6 +706,7 @@ extension ConversationViewController: CVLoadCoordinatorDelegate {
                           thread: thread,
                           viewWidth: 0,
                           hasWallpaper: false,
+                          isWallpaperPhoto: false,
                           chatColor: .placeholderValue)
     }
 
@@ -712,9 +714,20 @@ extension ConversationViewController: CVLoadCoordinatorDelegate {
         AssertIsOnMainThread()
 
         var hasWallpaper: Bool = false
+        var isWallpaperPhoto: Bool = false
         var chatColor: ChatColor = .placeholderValue
         databaseStorage.read { transaction in
-            hasWallpaper = Wallpaper.exists(for: self.thread, transaction: transaction)
+            if let wallpaper = Wallpaper.wallpaperForRendering(for: self.thread, transaction: transaction) {
+                hasWallpaper = true
+                if case .photo = wallpaper {
+                    isWallpaperPhoto = true
+                } else {
+                    isWallpaperPhoto = false
+                }
+            } else {
+                hasWallpaper = false
+                isWallpaperPhoto = false
+            }
             chatColor = ChatColors.chatColorForRendering(thread: self.thread, transaction: transaction)
         }
 
@@ -726,6 +739,7 @@ extension ConversationViewController: CVLoadCoordinatorDelegate {
                                      thread: thread,
                                      viewWidth: viewWidth,
                                      hasWallpaper: hasWallpaper,
+                                     isWallpaperPhoto: isWallpaperPhoto,
                                      chatColor: chatColor)
         }
 
@@ -780,6 +794,7 @@ extension ConversationViewController: CVLoadCoordinatorDelegate {
                                      thread: thread,
                                      viewWidth: viewWidth,
                                      hasWallpaper: hasWallpaper,
+                                     isWallpaperPhoto: isWallpaperPhoto,
                                      chatColor: chatColor)
         }
     }
diff --git a/Signal/src/ViewControllers/MessageDetailViewController.swift b/Signal/src/ViewControllers/MessageDetailViewController.swift
index 771b32e5820..b148c323e1e 100644
--- a/Signal/src/ViewControllers/MessageDetailViewController.swift
+++ b/Signal/src/ViewControllers/MessageDetailViewController.swift
@@ -152,6 +152,7 @@ class MessageDetailViewController: OWSTableViewController2 {
                 thread: thread,
                 viewWidth: view.width - (cellOuterInsets.totalWidth + (Self.cellHInnerMargin * 2)),
                 hasWallpaper: false,
+                isWallpaperPhoto: false,
                 chatColor: chatColor
             )
 
diff --git a/Signal/src/views/MockConversationView.swift b/Signal/src/views/MockConversationView.swift
index 0ac188fc553..e1ceb3ad640 100644
--- a/Signal/src/views/MockConversationView.swift
+++ b/Signal/src/views/MockConversationView.swift
@@ -124,6 +124,7 @@ class MockConversationView: UIView {
                 thread: self.thread,
                 viewWidth: viewWidth,
                 hasWallpaper: hasWallpaper,
+                isWallpaperPhoto: false,
                 chatColor: chatColor
             )
             for item in model.items {
diff --git a/SignalMessaging/ViewModels/ThreadViewModel.swift b/SignalMessaging/ViewModels/ThreadViewModel.swift
index a39ef58cf0b..dbb79ad7135 100644
--- a/SignalMessaging/ViewModels/ThreadViewModel.swift
+++ b/SignalMessaging/ViewModels/ThreadViewModel.swift
@@ -17,6 +17,7 @@ public class ThreadViewModel: NSObject {
     @objc public let disappearingMessagesConfiguration: OWSDisappearingMessagesConfiguration
     @objc public let groupCallInProgress: Bool
     @objc public let hasWallpaper: Bool
+    @objc public let isWallpaperPhoto: Bool
 
     @objc
     public var isArchived: Bool { associatedData.isArchived }
@@ -89,7 +90,17 @@ public class ThreadViewModel: NSObject {
             homeViewInfo = nil
         }
 
-        self.hasWallpaper = Wallpaper.exists(for: thread, transaction: transaction)
+        if let wallpaper = Wallpaper.wallpaperForRendering(for: thread, transaction: transaction) {
+            self.hasWallpaper = true
+            if case .photo = wallpaper {
+                self.isWallpaperPhoto = true
+            } else {
+                self.isWallpaperPhoto = false
+            }
+        } else {
+            self.hasWallpaper = false
+            self.isWallpaperPhoto = false
+        }
     }
 
     @objc
diff --git a/SignalMessaging/utils/ConversationStyle.swift b/SignalMessaging/utils/ConversationStyle.swift
index 032981a78fe..d9b1266d8f9 100644
--- a/SignalMessaging/utils/ConversationStyle.swift
+++ b/SignalMessaging/utils/ConversationStyle.swift
@@ -43,6 +43,8 @@ public class ConversationStyle: NSObject {
     @objc
     public let hasWallpaper: Bool
 
+    public let isWallpaperPhoto: Bool
+
     private let dynamicBodyTypePointSize: CGFloat
     private let primaryTextColor: UIColor
 
@@ -137,6 +139,7 @@ public class ConversationStyle: NSObject {
                          thread: TSThread,
                          viewWidth: CGFloat,
                          hasWallpaper: Bool,
+                         isWallpaperPhoto: Bool,
                          chatColor: ChatColor) {
 
         self.type = type
@@ -144,6 +147,7 @@ public class ConversationStyle: NSObject {
         self.isDarkThemeEnabled = Theme.isDarkThemeEnabled
         self.primaryTextColor = Theme.primaryTextColor
         self.hasWallpaper = hasWallpaper
+        self.isWallpaperPhoto = isWallpaperPhoto
         self.chatColor = chatColor
         self.chatColorValue = chatColor.setting.asValue
 
@@ -348,6 +352,7 @@ public class ConversationStyle: NSObject {
             dynamicBodyTypePointSize == other.dynamicBodyTypePointSize &&
             isDarkThemeEnabled == other.isDarkThemeEnabled &&
             hasWallpaper == other.hasWallpaper &&
+            isWallpaperPhoto == other.isWallpaperPhoto &&
             maxMessageWidth == other.maxMessageWidth &&
             maxMediaMessageWidth == other.maxMediaMessageWidth &&
             textInsets == other.textInsets &&
@@ -369,6 +374,8 @@ public class ConversationStyle: NSObject {
             "viewWidth: \(viewWidth), " +
             "dynamicBodyTypePointSize: \(dynamicBodyTypePointSize), " +
             "isDarkThemeEnabled: \(isDarkThemeEnabled), " +
+            "hasWallpaper: \(hasWallpaper), " +
+            "isWallpaperPhoto: \(isWallpaperPhoto), " +
             "maxMessageWidth: \(maxMessageWidth), " +
             "maxMediaMessageWidth: \(maxMediaMessageWidth), " +
             "textInsets: \(textInsets), " +
