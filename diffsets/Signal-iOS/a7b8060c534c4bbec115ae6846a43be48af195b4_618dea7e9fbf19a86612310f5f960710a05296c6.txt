diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index 22ac2d0ef3e..365ffeb16e7 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -575,6 +575,7 @@
 		881D85B822D92C2B00E118DF /* OWSPinSetupViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 881D85B722D92C2B00E118DF /* OWSPinSetupViewController.swift */; };
 		8821334E2304E72700353626 /* NonContactTableViewCell.swift in Sources */ = {isa = PBXBuildFile; fileRef = 8821334D2304E72700353626 /* NonContactTableViewCell.swift */; };
 		8827004C232071C500F01C46 /* OWSWindow.swift in Sources */ = {isa = PBXBuildFile; fileRef = 8827004B232071C500F01C46 /* OWSWindow.swift */; };
+		8827004E23208A1900F01C46 /* AppearanceSettingsTableViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 8827004D23208A1900F01C46 /* AppearanceSettingsTableViewController.swift */; };
 		8835DDF9230CEDC300DC6B66 /* RecipientPickerViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 8835DDF8230CEDC300DC6B66 /* RecipientPickerViewController.m */; };
 		8835DDFD230CEE8900DC6B66 /* RecipientPickerDelegate.swift in Sources */ = {isa = PBXBuildFile; fileRef = 8835DDFC230CEE8900DC6B66 /* RecipientPickerDelegate.swift */; };
 		8835DE01230DBF7E00DC6B66 /* ComposeViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 8835DE00230DBF7E00DC6B66 /* ComposeViewController.swift */; };
@@ -1403,6 +1404,7 @@
 		881D85B722D92C2B00E118DF /* OWSPinSetupViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = OWSPinSetupViewController.swift; sourceTree = "<group>"; };
 		8821334D2304E72700353626 /* NonContactTableViewCell.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = NonContactTableViewCell.swift; sourceTree = "<group>"; };
 		8827004B232071C500F01C46 /* OWSWindow.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = OWSWindow.swift; sourceTree = "<group>"; };
+		8827004D23208A1900F01C46 /* AppearanceSettingsTableViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = AppearanceSettingsTableViewController.swift; sourceTree = "<group>"; };
 		8835DDF7230CEDC300DC6B66 /* RecipientPickerViewController.h */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.h; path = RecipientPickerViewController.h; sourceTree = "<group>"; };
 		8835DDF8230CEDC300DC6B66 /* RecipientPickerViewController.m */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.objc; path = RecipientPickerViewController.m; sourceTree = "<group>"; };
 		8835DDFC230CEE8900DC6B66 /* RecipientPickerDelegate.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = RecipientPickerDelegate.swift; sourceTree = "<group>"; };
@@ -1707,6 +1709,7 @@
 				340FC893204DAC8C007AEB0F /* AboutTableViewController.m */,
 				340FC881204DAC8C007AEB0F /* AdvancedSettingsTableViewController.h */,
 				340FC88C204DAC8C007AEB0F /* AdvancedSettingsTableViewController.m */,
+				8827004D23208A1900F01C46 /* AppearanceSettingsTableViewController.swift */,
 				340FC880204DAC8C007AEB0F /* AppSettingsViewController.h */,
 				340FC88D204DAC8C007AEB0F /* AppSettingsViewController.m */,
 				340FC890204DAC8C007AEB0F /* BlockListViewController.h */,
@@ -4208,6 +4211,7 @@
 				4C21D5D6223A9DC500EF8A77 /* UIAlerts+iOS9.m in Sources */,
 				34DBF004206BD5A500025978 /* OWSBubbleView.m in Sources */,
 				3496957021A301A100DCFE74 /* OWSBackupIO.m in Sources */,
+				8827004E23208A1900F01C46 /* AppearanceSettingsTableViewController.swift in Sources */,
 				34E88D262098C5AE00A608F4 /* ContactViewController.swift in Sources */,
 				34AC0A23211C829F00997B47 /* OWSLabel.m in Sources */,
 				88F7EE93230253C5003ADF7D /* UsernameViewController.swift in Sources */,
diff --git a/Signal.xcodeproj/xcshareddata/xcschemes/Signal.xcscheme b/Signal.xcodeproj/xcshareddata/xcschemes/Signal.xcscheme
index 513d932c605..f34c83482a1 100644
--- a/Signal.xcodeproj/xcshareddata/xcschemes/Signal.xcscheme
+++ b/Signal.xcodeproj/xcshareddata/xcschemes/Signal.xcscheme
@@ -140,8 +140,6 @@
       useCustomWorkingDirectory = "NO"
       ignoresPersistentStateOnLaunch = "NO"
       debugDocumentVersioning = "YES"
-      stopOnEveryThreadSanitizerIssue = "YES"
-      stopOnEveryUBSanitizerIssue = "YES"
       migratedStopOnEveryIssue = "YES"
       debugServiceExtension = "internal"
       allowLocationSimulation = "YES"
diff --git a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
index f2a46e9ed3b..dc8384dc346 100644
--- a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
@@ -179,6 +179,19 @@ - (void)updateTableContents
                                               actionBlock:^{
                                                   [weakSelf showInviteFlow];
                                               }]];
+
+    // Starting with iOS 13, show an appearance section to allow setting the app theme
+    // to match the "system" dark/light mode settings and to adjust the app specific
+    // language settings.
+    if (@available(iOS 13, *)) {
+        [section addItem:[OWSTableItem disclosureItemWithText:NSLocalizedString(@"SETTINGS_APPEARANCE_TITLE",
+                                                                  @"The title for the appearance settings.")
+                                      accessibilityIdentifier:ACCESSIBILITY_IDENTIFIER_WITH_NAME(self, @"appearance")
+                                                  actionBlock:^{
+                                                      [weakSelf showAppearance];
+                                                  }]];
+    }
+
     [section addItem:[OWSTableItem disclosureItemWithText:NSLocalizedString(@"SETTINGS_PRIVACY_TITLE",
                                                               @"Settings table view cell label")
                                   accessibilityIdentifier:ACCESSIBILITY_IDENTIFIER_WITH_NAME(self, @"privacy")
@@ -395,6 +408,12 @@ - (void)showPrivacy
     [self.navigationController pushViewController:vc animated:YES];
 }
 
+- (void)showAppearance
+{
+    AppearanceSettingsTableViewController *vc = [AppearanceSettingsTableViewController new];
+    [self.navigationController pushViewController:vc animated:YES];
+}
+
 - (void)showNotifications
 {
     NotificationSettingsViewController *vc = [[NotificationSettingsViewController alloc] init];
@@ -524,20 +543,24 @@ - (UIBarButtonItem *)darkThemeBarButton
 
 - (void)didPressEnableDarkTheme:(id)sender
 {
-    [Theme setIsDarkThemeEnabled:YES];
+    [Theme setCurrentTheme:ThemeMode_Dark];
     [self updateRightBarButtonForTheme];
     [self updateTableContents];
 }
 
 - (void)didPressDisableDarkTheme:(id)sender
 {
-    [Theme setIsDarkThemeEnabled:NO];
+    [Theme setCurrentTheme:ThemeMode_Light];
     [self updateRightBarButtonForTheme];
     [self updateTableContents];
 }
 
 - (void)updateRightBarButtonForTheme
 {
+    if (@available(iOS 13, *)) {
+        // Don't show the moon button in iOS 13+, theme settings are now in a menu
+        return;
+    }
     self.navigationItem.rightBarButtonItem = [self darkThemeBarButton];
 }
 
diff --git a/Signal/src/ViewControllers/AppSettings/AppearanceSettingsTableViewController.swift b/Signal/src/ViewControllers/AppSettings/AppearanceSettingsTableViewController.swift
new file mode 100644
index 00000000000..abdc4d2b0ff
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/AppearanceSettingsTableViewController.swift
@@ -0,0 +1,78 @@
+//
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+class AppearanceSettingsTableViewController: OWSTableViewController {
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_APPEARANCE_TITLE", comment: "The title for the appearance settings.")
+
+        updateTableContents()
+    }
+
+    func updateTableContents() {
+        let contents = OWSTableContents()
+
+        let section = OWSTableSection()
+
+        let themeItem = OWSTableItem.disclosureItem(withText: "Theme", detailText: currentThemeName) { [weak self] in
+            self?.showThemeChoices()
+        }
+        section.add(themeItem)
+
+        // TODO iOS 13 â€“ maybe expose the preferred language settings here to match android
+        // It not longer seems to exist in iOS 13.1 so not sure if Apple got rid of it
+        // or it has just temporarily been disabled.
+
+        contents.addSection(section)
+
+        self.contents = contents
+    }
+
+    func showThemeChoices() {
+        let vc = UIAlertController(title: nil, message: nil, preferredStyle: .actionSheet)
+
+        let systemButton = UIAlertAction(title: nameForTheme(.system), style: .default) { [weak self] _ in
+            self?.changeTheme(.system)
+        }
+        vc.addAction(systemButton)
+
+        let lightButton = UIAlertAction(title: nameForTheme(.light), style: .default) { [weak self] _ in
+            self?.changeTheme(.light)
+        }
+        vc.addAction(lightButton)
+
+        let darkButton = UIAlertAction(title: nameForTheme(.dark), style: .default) { [weak self] _ in
+            self?.changeTheme(.dark)
+        }
+        vc.addAction(darkButton)
+
+        vc.addAction(OWSAlerts.cancelAction)
+
+        presentFullScreen(vc, animated: true)
+    }
+
+    func changeTheme(_ mode: ThemeMode) {
+        Theme.setCurrent(mode)
+        updateTableContents()
+    }
+
+    var currentThemeName: String {
+        return nameForTheme(Theme.getOrFetchCurrentTheme())
+    }
+
+    func nameForTheme(_ mode: ThemeMode) -> String {
+        switch mode {
+        case .dark:
+            return NSLocalizedString("APPEARANCE_SETTINGS_DARK_THEME_NAME", comment: "Name indicating that the dark theme is enabled.")
+        case .light:
+            return NSLocalizedString("APPEARANCE_SETTINGS_LIGHT_THEME_NAME", comment: "Name indicating that the light theme is enabled.")
+        case .system:
+            return NSLocalizedString("APPEARANCE_SETTINGS_SYSTEM_THEME_NAME", comment: "Name indicating that the system theme is enabled.")
+        }
+    }
+}
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index 4387eaaad0b..810c29de695 100644
--- a/Signal/translations/en.lproj/Localizable.strings
+++ b/Signal/translations/en.lproj/Localizable.strings
@@ -89,6 +89,15 @@
 /* Label for the 'update' button in the 'new app version available' alert. */
 "APP_UPDATE_NAG_ALERT_UPDATE_BUTTON" = "Update";
 
+/* Name indicating that the dark theme is enabled. */
+"APPEARANCE_SETTINGS_DARK_THEME_NAME" = "Dark";
+
+/* Name indicating that the light theme is enabled. */
+"APPEARANCE_SETTINGS_LIGHT_THEME_NAME" = "Light";
+
+/* Name indicating that the system theme is enabled. */
+"APPEARANCE_SETTINGS_SYSTEM_THEME_NAME" = "System";
+
 /* Name of application */
 "APPLICATION_NAME" = "Signal";
 
@@ -2276,6 +2285,9 @@
 /* table cell label */
 "SETTINGS_ADVANCED_VIEW_ERROR_LOG" = "Error Logs";
 
+/* The title for the appearance settings. */
+"SETTINGS_APPEARANCE_TITLE" = "Appearance";
+
 /* Format string for the default 'Note' sound. Embeds the system {{sound name}}. */
 "SETTINGS_AUDIO_DEFAULT_TONE_LABEL_FORMAT" = "%@ (default)";
 
diff --git a/SignalMessaging/ViewControllers/OWSWindow.swift b/SignalMessaging/ViewControllers/OWSWindow.swift
index b8b25c91c32..5c699ac2411 100644
--- a/SignalMessaging/ViewControllers/OWSWindow.swift
+++ b/SignalMessaging/ViewControllers/OWSWindow.swift
@@ -31,6 +31,23 @@ public class OWSWindow: UIWindow {
         guard #available(iOS 13, *) else { return }
 
         // Ensure system UI elements use the appropriate styling for the selected theme.
-        overrideUserInterfaceStyle = Theme.isDarkThemeEnabled ? .dark : .light
+        switch Theme.getOrFetchCurrentTheme() {
+        case .light:
+            overrideUserInterfaceStyle = .light
+        case .dark:
+            overrideUserInterfaceStyle = .dark
+        case .system:
+            overrideUserInterfaceStyle = .unspecified
+        }
+    }
+
+    public override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) {
+        super.traitCollectionDidChange(previousTraitCollection)
+
+        guard #available(iOS 13, *) else { return }
+
+        if previousTraitCollection?.userInterfaceStyle != traitCollection.userInterfaceStyle {
+            Theme.systemThemeChanged()
+        }
     }
 }
diff --git a/SignalMessaging/appearance/Theme.h b/SignalMessaging/appearance/Theme.h
index b9d7b479088..e7263ee73ef 100644
--- a/SignalMessaging/appearance/Theme.h
+++ b/SignalMessaging/appearance/Theme.h
@@ -7,6 +7,12 @@
 
 NS_ASSUME_NONNULL_BEGIN
 
+typedef NS_CLOSED_ENUM(NSUInteger, ThemeMode) {
+    ThemeMode_System,
+    ThemeMode_Light,
+    ThemeMode_Dark,
+};
+
 extern NSString *const ThemeDidChangeNotification;
 
 @class SDSKeyValueStore;
@@ -19,7 +25,9 @@ extern NSString *const ThemeDidChangeNotification;
 
 @property (class, readonly, atomic) BOOL isDarkThemeEnabled;
 
-+ (void)setIsDarkThemeEnabled:(BOOL)value;
++ (ThemeMode)getOrFetchCurrentTheme;
++ (void)setCurrentTheme:(ThemeMode)mode;
++ (void)systemThemeChanged;
 
 @property (class, readonly, nonatomic) UIColor *backgroundColor;
 @property (class, readonly, nonatomic) UIColor *primaryColor;
diff --git a/SignalMessaging/appearance/Theme.m b/SignalMessaging/appearance/Theme.m
index 2ec7cfcb81e..e7b32168ba8 100644
--- a/SignalMessaging/appearance/Theme.m
+++ b/SignalMessaging/appearance/Theme.m
@@ -12,12 +12,13 @@
 
 NSString *const ThemeDidChangeNotification = @"ThemeDidChangeNotification";
 
-NSString *const ThemeKeyThemeEnabled = @"ThemeKeyThemeEnabled";
-
+NSString *const ThemeKeyLegacyThemeEnabled = @"ThemeKeyThemeEnabled";
+NSString *const ThemeKeyCurrentMode = @"ThemeKeyCurrentMode";
 
 @interface Theme ()
 
 @property (nonatomic) NSNumber *isDarkThemeEnabledNumber;
+@property (nonatomic) NSNumber *cachedCurrentThemeNumber;
 
 @end
 
@@ -50,6 +51,8 @@ + (instancetype)sharedInstance
     return instance;
 }
 
+#pragma mark -
+
 + (BOOL)isDarkThemeEnabled
 {
     return [self.sharedInstance isDarkThemeEnabled];
@@ -59,37 +62,138 @@ - (BOOL)isDarkThemeEnabled
 {
     OWSAssertIsOnMainThread();
 
-    if (!CurrentAppContext().isMainApp) {
-        // Ignore theme in app extensions.
-        return NO;
-    }
-
     if (self.isDarkThemeEnabledNumber == nil) {
-        __block BOOL isDarkThemeEnabled;
-        [self.databaseStorage readWithBlock:^(SDSAnyReadTransaction *transaction) {
-            isDarkThemeEnabled =
-                [Theme.keyValueStore getBool:ThemeKeyThemeEnabled defaultValue:NO transaction:transaction];
-        }];
+        BOOL isDarkThemeEnabled;
+
+        if (!CurrentAppContext().isMainApp) {
+            // Always respect the system theme in extensions
+            isDarkThemeEnabled = self.isSystemDarkThemeEnabled;
+        } else {
+            switch ([self getOrFetchCurrentTheme]) {
+                case ThemeMode_System:
+                    isDarkThemeEnabled = self.isSystemDarkThemeEnabled;
+                    break;
+                case ThemeMode_Dark:
+                    isDarkThemeEnabled = YES;
+                    break;
+                case ThemeMode_Light:
+                    isDarkThemeEnabled = NO;
+                    break;
+            }
+        }
+
         self.isDarkThemeEnabledNumber = @(isDarkThemeEnabled);
     }
 
     return self.isDarkThemeEnabledNumber.boolValue;
 }
 
-+ (void)setIsDarkThemeEnabled:(BOOL)value
++ (ThemeMode)getOrFetchCurrentTheme
+{
+    return [self.sharedInstance getOrFetchCurrentTheme];
+}
+
+- (ThemeMode)getOrFetchCurrentTheme
+{
+    if (self.cachedCurrentThemeNumber) {
+        return self.cachedCurrentThemeNumber.unsignedIntegerValue;
+    }
+
+    __block ThemeMode currentMode;
+    [self.databaseStorage readWithBlock:^(SDSAnyReadTransaction *transaction) {
+        BOOL hasDefinedMode = [Theme.keyValueStore hasValueForKey:ThemeKeyCurrentMode transaction:transaction];
+        if (!hasDefinedMode) {
+            // If the theme has not yet been defined, check if the user ever manually changed
+            // themes in a legacy app version. If so, preserve their selection. Otherwise,
+            // default to matching the system theme.
+            if (![Theme.keyValueStore hasValueForKey:ThemeKeyLegacyThemeEnabled transaction:transaction]) {
+                currentMode = ThemeMode_System;
+            } else {
+                BOOL isLegacyModeDark = [Theme.keyValueStore getBool:ThemeKeyLegacyThemeEnabled
+                                                        defaultValue:NO
+                                                         transaction:transaction];
+                currentMode = isLegacyModeDark ? ThemeMode_Dark : ThemeMode_Light;
+            }
+        } else {
+            currentMode = [Theme.keyValueStore getUInt:ThemeKeyCurrentMode
+                                          defaultValue:ThemeMode_System
+                                           transaction:transaction];
+        }
+    }];
+
+    self.cachedCurrentThemeNumber = @(currentMode);
+    return currentMode;
+}
+
++ (void)setCurrentTheme:(ThemeMode)mode
 {
-    return [self.sharedInstance setIsDarkThemeEnabled:value];
+    [self.sharedInstance setCurrentTheme:mode];
 }
 
-- (void)setIsDarkThemeEnabled:(BOOL)value
+- (void)setCurrentTheme:(ThemeMode)mode
 {
     OWSAssertIsOnMainThread();
 
-    self.isDarkThemeEnabledNumber = @(value);
     [self.databaseStorage writeWithBlock:^(SDSAnyWriteTransaction *transaction) {
-        [Theme.keyValueStore setBool:value key:ThemeKeyThemeEnabled transaction:transaction];
+        [Theme.keyValueStore setUInt:mode key:ThemeKeyCurrentMode transaction:transaction];
     }];
 
+    NSNumber *previousMode = self.isDarkThemeEnabledNumber;
+
+    switch (mode) {
+        case ThemeMode_Light:
+            self.isDarkThemeEnabledNumber = @(NO);
+            break;
+        case ThemeMode_Dark:
+            self.isDarkThemeEnabledNumber = @(YES);
+            break;
+        case ThemeMode_System:
+            self.isDarkThemeEnabledNumber = @(self.isSystemDarkThemeEnabled);
+            break;
+    }
+
+    self.cachedCurrentThemeNumber = @(mode);
+
+    if (![previousMode isEqual:self.isDarkThemeEnabledNumber]) {
+        [self themeDidChange];
+    }
+}
+
+- (BOOL)isSystemDarkThemeEnabled
+{
+    if (@available(iOS 13, *)) {
+        return UITraitCollection.currentTraitCollection.userInterfaceStyle == UIUserInterfaceStyleDark;
+    } else {
+        return NO;
+    }
+}
+
+#pragma mark -
+
++ (void)systemThemeChanged
+{
+    [self.sharedInstance systemThemeChanged];
+}
+
+- (void)systemThemeChanged
+{
+    // Do nothing, since we haven't setup the theme yet.
+    if (self.isDarkThemeEnabledNumber == nil) {
+        return;
+    }
+
+    // Theme can only be changed externally when in system mode.
+    if ([self getOrFetchCurrentTheme] != ThemeMode_System) {
+        return;
+    }
+
+    // The system them has changed since the user was last in the app.
+    self.isDarkThemeEnabledNumber = @(self.isSystemDarkThemeEnabled);
+    [self themeDidChange];
+}
+
+- (void)themeDidChange
+{
     [UIUtil setupSignalAppearence];
 
     [UIView performWithoutAnimation:^{
@@ -97,6 +201,8 @@ - (void)setIsDarkThemeEnabled:(BOOL)value
     }];
 }
 
+#pragma mark -
+
 + (UIColor *)backgroundColor
 {
     return (Theme.isDarkThemeEnabled ? Theme.darkThemeBackgroundColor : UIColor.ows_whiteColor);
