diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index 1707228d3c0..a332b748e37 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -493,7 +493,6 @@
 		34ACA7D72733159600E47AD4 /* OnboardingTransferProgressViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7BE2733159600E47AD4 /* OnboardingTransferProgressViewController.swift */; };
 		34ACA7D82733159600E47AD4 /* OnboardingModeSwitchConfirmationViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C02733159600E47AD4 /* OnboardingModeSwitchConfirmationViewController.swift */; };
 		34ACA7D92733159600E47AD4 /* OnboardingController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C12733159600E47AD4 /* OnboardingController.swift */; };
-		34ACA7DA2733159600E47AD4 /* OnboardingDroppedYdbViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C22733159600E47AD4 /* OnboardingDroppedYdbViewController.swift */; };
 		34ACA7DB2733159600E47AD4 /* OnboardingSplashViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C32733159600E47AD4 /* OnboardingSplashViewController.swift */; };
 		34ACA7DC2733159600E47AD4 /* OnboardingCaptchaViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C42733159600E47AD4 /* OnboardingCaptchaViewController.swift */; };
 		34ACA7DD2733159600E47AD4 /* OnboardingBaseViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ACA7C52733159600E47AD4 /* OnboardingBaseViewController.swift */; };
@@ -1160,8 +1159,8 @@
 		D99840BF297A04EB00F7ED6D /* Usernames.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840BE297A04EB00F7ED6D /* Usernames.swift */; };
 		D99840C4297A0ECE00F7ED6D /* Usernames+ParsedUsername.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840C3297A0ECE00F7ED6D /* Usernames+ParsedUsername.swift */; };
 		D99840C6297A0F9500F7ED6D /* Usernames+API.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840C5297A0F9500F7ED6D /* Usernames+API.swift */; };
-		D99840CE2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840CD2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift */; };
 		D99840C829809E9C00F7ED6D /* UsernameSelectionViewController+HeaderView.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840C729809E9C00F7ED6D /* UsernameSelectionViewController+HeaderView.swift */; };
+		D99840CE2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99840CD2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift */; };
 		D99D960F292871C600D5028B /* DonateViewController+OneTimePaypalDonation.swift in Sources */ = {isa = PBXBuildFile; fileRef = D99D960E292871C600D5028B /* DonateViewController+OneTimePaypalDonation.swift */; };
 		D9AB38D0283C38B10003C038 /* InteractionFinderPerformanceTests.swift in Sources */ = {isa = PBXBuildFile; fileRef = D9AB38CE283C38640003C038 /* InteractionFinderPerformanceTests.swift */; };
 		D9AD1D9528B9955C00B42E6F /* TSInfoMessage+GroupUpdateCopy+NSAttributedStringTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = D9AD1D9428B9955C00B42E6F /* TSInfoMessage+GroupUpdateCopy+NSAttributedStringTest.swift */; };
@@ -2790,7 +2789,6 @@
 		34ACA7BE2733159600E47AD4 /* OnboardingTransferProgressViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingTransferProgressViewController.swift; sourceTree = "<group>"; };
 		34ACA7C02733159600E47AD4 /* OnboardingModeSwitchConfirmationViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingModeSwitchConfirmationViewController.swift; sourceTree = "<group>"; };
 		34ACA7C12733159600E47AD4 /* OnboardingController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingController.swift; sourceTree = "<group>"; };
-		34ACA7C22733159600E47AD4 /* OnboardingDroppedYdbViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingDroppedYdbViewController.swift; sourceTree = "<group>"; };
 		34ACA7C32733159600E47AD4 /* OnboardingSplashViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingSplashViewController.swift; sourceTree = "<group>"; };
 		34ACA7C42733159600E47AD4 /* OnboardingCaptchaViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingCaptchaViewController.swift; sourceTree = "<group>"; };
 		34ACA7C52733159600E47AD4 /* OnboardingBaseViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OnboardingBaseViewController.swift; sourceTree = "<group>"; };
@@ -3581,8 +3579,8 @@
 		D99840BE297A04EB00F7ED6D /* Usernames.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = Usernames.swift; sourceTree = "<group>"; };
 		D99840C3297A0ECE00F7ED6D /* Usernames+ParsedUsername.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "Usernames+ParsedUsername.swift"; sourceTree = "<group>"; };
 		D99840C5297A0F9500F7ED6D /* Usernames+API.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "Usernames+API.swift"; sourceTree = "<group>"; };
-		D99840CD2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ShareMyUsernameSheetViewController.swift; sourceTree = "<group>"; };
 		D99840C729809E9C00F7ED6D /* UsernameSelectionViewController+HeaderView.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "UsernameSelectionViewController+HeaderView.swift"; sourceTree = "<group>"; };
+		D99840CD2981A09900F7ED6D /* ShareMyUsernameSheetViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ShareMyUsernameSheetViewController.swift; sourceTree = "<group>"; };
 		D99D960E292871C600D5028B /* DonateViewController+OneTimePaypalDonation.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "DonateViewController+OneTimePaypalDonation.swift"; sourceTree = "<group>"; };
 		D9AB38CE283C38640003C038 /* InteractionFinderPerformanceTests.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = InteractionFinderPerformanceTests.swift; sourceTree = "<group>"; };
 		D9AD1D9428B9955C00B42E6F /* TSInfoMessage+GroupUpdateCopy+NSAttributedStringTest.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "TSInfoMessage+GroupUpdateCopy+NSAttributedStringTest.swift"; sourceTree = "<group>"; };
@@ -5647,7 +5645,6 @@
 				34ACA7C52733159600E47AD4 /* OnboardingBaseViewController.swift */,
 				34ACA7C42733159600E47AD4 /* OnboardingCaptchaViewController.swift */,
 				34ACA7C12733159600E47AD4 /* OnboardingController.swift */,
-				34ACA7C22733159600E47AD4 /* OnboardingDroppedYdbViewController.swift */,
 				34ACA7C02733159600E47AD4 /* OnboardingModeSwitchConfirmationViewController.swift */,
 				34ACA7CC2733159600E47AD4 /* OnboardingPermissionsViewController.swift */,
 				34ACA7C62733159600E47AD4 /* OnboardingPhoneNumberDiscoverabilityViewController.swift */,
@@ -10654,7 +10651,6 @@
 				34ACA7DD2733159600E47AD4 /* OnboardingBaseViewController.swift in Sources */,
 				34ACA7DC2733159600E47AD4 /* OnboardingCaptchaViewController.swift in Sources */,
 				34ACA7D92733159600E47AD4 /* OnboardingController.swift in Sources */,
-				34ACA7DA2733159600E47AD4 /* OnboardingDroppedYdbViewController.swift in Sources */,
 				34ACA7D82733159600E47AD4 /* OnboardingModeSwitchConfirmationViewController.swift in Sources */,
 				34ACA7E42733159600E47AD4 /* OnboardingPermissionsViewController.swift in Sources */,
 				34ACA7DE2733159600E47AD4 /* OnboardingPhoneNumberDiscoverabilityViewController.swift in Sources */,
diff --git a/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift b/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
index 340d099c7b5..fb8cdbc1bcf 100644
--- a/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
@@ -153,7 +153,6 @@ class InternalSettingsViewController: OWSTableViewController2 {
         infoSection.add(.label(withText: "Database SHM size: \(byteCountFormatter.string(for: databaseStorage.databaseSHMFileSize) ?? "Unknown")"))
 
         infoSection.add(.label(withText: "hasGrdbFile: \(StorageCoordinator.hasGrdbFile)"))
-        infoSection.add(.label(withText: "didEverUseYdb: \(SSKPreferences.didEverUseYdb())"))
         infoSection.add(.label(withText: "Core count: \(LocalDevice.allCoreCount) (active: \(LocalDevice.activeCoreCount))"))
         infoSection.add(.label(withText: "isCensorshipCircumventionActive: \(self.signalService.isCensorshipCircumventionActive)"))
 
diff --git a/Signal/src/ViewControllers/Registration/Onboarding/OnboardingController.swift b/Signal/src/ViewControllers/Registration/Onboarding/OnboardingController.swift
index 790284f7d3a..d4b1246831b 100644
--- a/Signal/src/ViewControllers/Registration/Onboarding/OnboardingController.swift
+++ b/Signal/src/ViewControllers/Registration/Onboarding/OnboardingController.swift
@@ -179,11 +179,7 @@ public class OnboardingController: NSObject {
         Logger.info("milestone: \(milestone)")
         switch milestone {
         case .verifiedPhoneNumber, .verifiedLinkedDevice:
-            if SSKPreferences.didDropYdb() {
-                return OnboardingDroppedYdbViewController(onboardingController: self)
-            } else {
-                return OnboardingSplashViewController(onboardingController: self)
-            }
+            return OnboardingSplashViewController(onboardingController: self)
         case .setupProfile:
             return OnboardingProfileCreationViewController(onboardingController: self)
         case .restorePin:
diff --git a/Signal/src/ViewControllers/Registration/Onboarding/OnboardingDroppedYdbViewController.swift b/Signal/src/ViewControllers/Registration/Onboarding/OnboardingDroppedYdbViewController.swift
deleted file mode 100644
index ba1ea6d9aa4..00000000000
--- a/Signal/src/ViewControllers/Registration/Onboarding/OnboardingDroppedYdbViewController.swift
+++ /dev/null
@@ -1,83 +0,0 @@
-//
-// Copyright 2021 Signal Messenger, LLC
-// SPDX-License-Identifier: AGPL-3.0-only
-//
-
-import SignalMessaging
-import UIKit
-
-@objc
-public class OnboardingDroppedYdbViewController: OnboardingBaseViewController {
-
-    override public func loadView() {
-        view = UIView()
-        view.addSubview(primaryView)
-        primaryView.autoPinEdgesToSuperviewEdges()
-
-        view.backgroundColor = Theme.backgroundColor
-
-        let heroImageView = UIImageView.withTemplateImageName("signal-logo-128",
-                                                              tintColor: .ows_accentBlue)
-        heroImageView.autoSetDimensions(to: .square(100))
-        heroImageView.setContentHuggingHigh()
-
-        let titleLabel = self.createTitleLabel(text: NSLocalizedString("ONBOARDING_DROPPED_YDB_TITLE",
-                                                                       comment: "Title of the 'onboarding after dropped YDB' view."))
-        primaryView.addSubview(titleLabel)
-        titleLabel.accessibilityIdentifier = "onboarding.droppedYdb." + "titleLabel"
-
-        let explanationLabel = UILabel()
-        explanationLabel.text = NSLocalizedString("ONBOARDING_DROPPED_YDB_EXPLANATION",
-                                                  comment: "Explanation on the 'onboarding after dropped YDB' view.")
-        explanationLabel.textColor = Theme.secondaryTextAndIconColor
-        explanationLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
-        explanationLabel.numberOfLines = 0
-        explanationLabel.textAlignment = .center
-        explanationLabel.lineBreakMode = .byWordWrapping
-        explanationLabel.accessibilityIdentifier = "onboarding.droppedYdb." + "explanationLabel"
-
-        let nextButton = self.primaryButton(title: CommonStrings.nextButton,
-                                            selector: #selector(nextPressed))
-        nextButton.accessibilityIdentifier = "onboarding.droppedYdb." + "nextButton"
-        let primaryButtonView = OnboardingBaseViewController.horizontallyWrap(primaryButton: nextButton)
-
-        let topStack = UIStackView(arrangedSubviews: [
-            heroImageView,
-            UIView.spacer(withHeight: 28),
-            titleLabel,
-            UIView.spacer(withHeight: 12),
-            explanationLabel
-        ])
-        topStack.axis = .vertical
-        topStack.alignment = .center
-
-        let topVSpacer = UIView.vStretchingSpacer()
-        let bottomVSpacer = UIView.vStretchingSpacer()
-
-        let stackView = UIStackView(arrangedSubviews: [
-            topVSpacer,
-            topStack,
-            bottomVSpacer,
-            primaryButtonView
-        ])
-        stackView.axis = .vertical
-        stackView.alignment = .fill
-
-        primaryView.addSubview(stackView)
-        stackView.autoPinEdgesToSuperviewMargins()
-
-        topVSpacer.autoMatch(.height, to: .height, of: bottomVSpacer)
-    }
-
-    // MARK: - Events
-
-    @objc
-    func nextPressed() {
-        Logger.info("")
-
-        SSKPreferences.setDidDropYdb(false)
-
-        let splash = OnboardingSplashViewController(onboardingController: onboardingController)
-        navigationController?.setViewControllers([splash], animated: true)
-    }
-}
diff --git a/Signal/src/util/AppUpdateNag.swift b/Signal/src/util/AppUpdateNag.swift
index b4566fd389e..2685aa42478 100644
--- a/Signal/src/util/AppUpdateNag.swift
+++ b/Signal/src/util/AppUpdateNag.swift
@@ -120,9 +120,7 @@ class AppUpdateNag: NSObject {
         }
 
         switch frontmostViewController {
-        case is ConversationSplitViewController,
-             is OnboardingSplashViewController,
-             is OnboardingDroppedYdbViewController:
+        case is ConversationSplitViewController, is OnboardingSplashViewController:
             self.setLastNagDate(Date())
             self.clearFirstHeardOfNewVersionDate()
             presentUpgradeNag(appStoreRecord: appStoreRecord)
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index a31e375f899..ee530983475 100644
--- a/Signal/translations/en.lproj/Localizable.strings
+++ b/Signal/translations/en.lproj/Localizable.strings
@@ -4129,12 +4129,6 @@
 /* Title of the 'onboarding Captcha' view. */
 "ONBOARDING_CAPTCHA_TITLE" = "Add a touch of humanity to your messages";
 
-/* Explanation on the 'onboarding after dropped YDB' view. */
-"ONBOARDING_DROPPED_YDB_EXPLANATION" = "Because youâ€™ve been inactive for a long period of time, you must register again to use Signal.";
-
-/* Title of the 'onboarding after dropped YDB' view. */
-"ONBOARDING_DROPPED_YDB_TITLE" = "Register for Signal";
-
 /* button indicating that the user will register their ipad */
 "ONBOARDING_MODE_SWITCH_BUTTON_PROVISIONING" = "Register iPad";
 
diff --git a/SignalMessaging/environment/AppSetup.m b/SignalMessaging/environment/AppSetup.m
index 96a763f4e58..24cfd7bd8e6 100644
--- a/SignalMessaging/environment/AppSetup.m
+++ b/SignalMessaging/environment/AppSetup.m
@@ -201,8 +201,7 @@ + (void)setupEnvironmentWithPaymentsEvents:(id<PaymentsEvents>)paymentsEvents
         [NSKeyedUnarchiver setClass:[TSGroupModelV2 class] forClassName:@"TSGroupModelV2"];
 
         // Prevent device from sleeping during migrations.
-        // This protects long migrations (e.g. the YDB-to-GRDB migration)
-        // from the iOS 13 background crash.
+        // This protects long migrations from the iOS 13 background crash.
         //
         // We can use any object.
         NSObject *sleepBlockObject = [NSObject new];
diff --git a/SignalServiceKit/src/Account/TSAccountManager.m b/SignalServiceKit/src/Account/TSAccountManager.m
index c7ee1b18eb4..e8cd82e6b25 100644
--- a/SignalServiceKit/src/Account/TSAccountManager.m
+++ b/SignalServiceKit/src/Account/TSAccountManager.m
@@ -441,9 +441,6 @@ - (void)didRegister
         [self storeLocalNumber:phoneNumber aci:aci pni:pni transaction:transaction];
     });
 
-    // Clear this flag so we don't show the "dropped ydb" ui during future re-registrations.
-    [SSKPreferences setDidDropYdb:NO];
-
     [self postRegistrationStateDidChangeNotification];
 }
 
diff --git a/SignalServiceKit/src/Storage/StorageCoordinator.m b/SignalServiceKit/src/Storage/StorageCoordinator.m
index a6c49d14c3d..c837ce36c04 100644
--- a/SignalServiceKit/src/Storage/StorageCoordinator.m
+++ b/SignalServiceKit/src/Storage/StorageCoordinator.m
@@ -61,17 +61,6 @@ - (instancetype)init
     return self;
 }
 
-+ (BOOL)hasYdbFile
-{
-    BOOL hasYdbFile = YDBStorage.hasAnyYdbFile;
-
-    if (hasYdbFile && !SSKPreferences.didEverUseYdb) {
-        [SSKPreferences setDidEverUseYdb:YES];
-    }
-
-    return hasYdbFile;
-}
-
 + (BOOL)hasGrdbFile
 {
     NSString *grdbFilePath = SDSDatabaseStorage.grdbDatabaseFileUrl.path;
@@ -97,31 +86,20 @@ - (void)configure
 {
     OWSLogInfo(@"storageMode: %@", SSKFeatureFlags.storageModeDescription);
 
-    // NOTE: By now, any move of YDB from the "app container"
-    //       to the "shared container" should be complete, so
-    //       we can ignore the "legacy" database files.
-    BOOL hasYdbFile = self.class.hasYdbFile;
-    OWSLogInfo(@"hasYdbFile: %d", hasYdbFile);
-
     BOOL hasGrdbFile = self.class.hasGrdbFile;
     OWSLogInfo(@"hasGrdbFile: %d", hasGrdbFile);
 
-    OWSLogInfo(@"didEverUseYdb: %d", SSKPreferences.didEverUseYdb);
-
     switch (SSKFeatureFlags.storageMode) {
         case StorageModeGrdb:
             self.state = StorageCoordinatorStateGRDB;
 
-            if (hasYdbFile) {
-                [SSKPreferences setDidEverUseYdb:YES];
-                [SSKPreferences setDidDropYdb:YES];
-            }
-
             if (CurrentAppContext().isMainApp) {
                 [AppReadiness
                     runNowOrWhenAppDidBecomeReadyAsync:^{
-                        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0),
-                            ^{ [YDBStorage deleteYDBStorage]; });
+                        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
+                            [YDBStorage deleteYDBStorage];
+                            [SSKPreferences clearLegacyDatabaseFlagsFrom:CurrentAppContext().appUserDefaults];
+                        });
                     }
                                                  label:@"StorageCoordinator.configure"];
             }
diff --git a/SignalServiceKit/src/Storage/YDBStorage.h b/SignalServiceKit/src/Storage/YDBStorage.h
index a7bb6470712..41c9bd93980 100644
--- a/SignalServiceKit/src/Storage/YDBStorage.h
+++ b/SignalServiceKit/src/Storage/YDBStorage.h
@@ -12,8 +12,6 @@ NS_ASSUME_NONNULL_BEGIN
 
 + (void)deleteYDBStorage NS_SWIFT_NAME(deleteYDBStorage());
 
-+ (BOOL)hasAnyYdbFile;
-
 @end
 
 NS_ASSUME_NONNULL_END
diff --git a/SignalServiceKit/src/Storage/YDBStorage.m b/SignalServiceKit/src/Storage/YDBStorage.m
index ef739068c2c..c2e5a97861c 100644
--- a/SignalServiceKit/src/Storage/YDBStorage.m
+++ b/SignalServiceKit/src/Storage/YDBStorage.m
@@ -93,16 +93,6 @@ + (void)deleteDatabaseFiles
     [OWSFileSystem deleteContentsOfDirectory:self.sharedDataDatabaseDirPath];
 }
 
-+ (BOOL)hasAnyYdbFile
-{
-    return ([OWSFileSystem fileOrFolderExistsAtPath:self.legacyDatabaseFilePath] ||
-        [OWSFileSystem fileOrFolderExistsAtPath:self.legacyDatabaseFilePath_SHM] ||
-        [OWSFileSystem fileOrFolderExistsAtPath:self.legacyDatabaseFilePath_WAL] ||
-        [OWSFileSystem fileOrFolderExistsAtPath:self.sharedDataDatabaseFilePath] ||
-        [OWSFileSystem fileOrFolderExistsAtPath:self.sharedDataDatabaseFilePath_SHM] ||
-        [OWSFileSystem fileOrFolderExistsAtPath:self.sharedDataDatabaseFilePath_WAL]);
-}
-
 #pragma mark - Keychain
 
 + (void)deleteDBKeys
diff --git a/SignalServiceKit/src/Util/SSKPreferences.swift b/SignalServiceKit/src/Util/SSKPreferences.swift
index 46a8889fa8f..6c451594dac 100644
--- a/SignalServiceKit/src/Util/SSKPreferences.swift
+++ b/SignalServiceKit/src/Util/SSKPreferences.swift
@@ -94,40 +94,13 @@ public class SSKPreferences: NSObject {
 
     // MARK: -
 
-    private static var didEverUseYdbKey: String { "didEverUseYdb" }
-
-    @objc
-    public static func didEverUseYdb() -> Bool {
-        let appUserDefaults = CurrentAppContext().appUserDefaults()
-        guard let preference = appUserDefaults.object(forKey: didEverUseYdbKey) as? NSNumber else {
-            return false
-        }
-        return preference.boolValue
-    }
-
-    @objc
-    public static func setDidEverUseYdb(_ value: Bool) {
-        let appUserDefaults = CurrentAppContext().appUserDefaults()
-        appUserDefaults.set(value, forKey: didEverUseYdbKey)
-        appUserDefaults.synchronize()
-    }
-
     private static var didDropYdbKey: String { "didDropYdb" }
+    private static var didEverUseYdbKey: String { "didEverUseYdb" }
 
     @objc
-    public static func didDropYdb() -> Bool {
-        let appUserDefaults = CurrentAppContext().appUserDefaults()
-        guard let preference = appUserDefaults.object(forKey: didDropYdbKey) as? NSNumber else {
-            return false
-        }
-        return preference.boolValue
-    }
-
-    @objc
-    public static func setDidDropYdb(_ value: Bool) {
-        let appUserDefaults = CurrentAppContext().appUserDefaults()
-        appUserDefaults.set(value, forKey: didDropYdbKey)
-        appUserDefaults.synchronize()
+    public static func clearLegacyDatabaseFlags(from userDefaults: UserDefaults) {
+        userDefaults.removeObject(forKey: didDropYdbKey)
+        userDefaults.removeObject(forKey: didEverUseYdbKey)
     }
 
     // MARK: - messageRequestInteractionIdEpoch
