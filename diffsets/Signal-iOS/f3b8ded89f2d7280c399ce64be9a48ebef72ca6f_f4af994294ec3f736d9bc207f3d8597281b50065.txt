diff --git a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseBadgeViewController.swift b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseBadgeViewController.swift
index 29cec156f98..c75fe9a81c9 100644
--- a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseBadgeViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseBadgeViewController.swift
@@ -8,6 +8,9 @@ import UIKit
 import SignalMessaging
 
 public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
+    typealias GiftConfiguration = SubscriptionManager.DonationConfiguration.GiftConfiguration
+    typealias PaymentMethodsConfiguration = SubscriptionManager.DonationConfiguration.PaymentMethodsConfiguration
+
     // MARK: - State management
 
     enum State {
@@ -16,16 +19,16 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
         case loadFailed
         case loaded(
             selectedCurrencyCode: Currency.Code,
-            badge: ProfileBadge,
-            pricesByCurrencyCode: [Currency.Code: FiatMoney]
+            giftConfiguration: GiftConfiguration,
+            paymentMethodsConfiguration: PaymentMethodsConfiguration
         )
 
         public var canContinue: Bool {
             switch self {
             case .initializing, .loading, .loadFailed:
                 return false
-            case let .loaded(selectedCurrencyCode, _, pricesByCurrencyCode):
-                let isValid = pricesByCurrencyCode[selectedCurrencyCode] != nil
+            case let .loaded(selectedCurrencyCode, giftConfiguration, _):
+                let isValid = giftConfiguration.presetAmount[selectedCurrencyCode] != nil
                 owsAssertDebug(isValid, "State was loaded but it was invalid")
                 return isValid
             }
@@ -36,14 +39,16 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
             case .initializing, .loading, .loadFailed:
                 assertionFailure("Invalid state; cannot select currency code")
                 return self
-            case let .loaded(_, badge, pricesByCurrencyCode):
-                guard pricesByCurrencyCode[newCurrencyCode] != nil else {
+            case let .loaded(_, giftConfiguration, paymentMethodsConfiguration):
+                guard giftConfiguration.presetAmount[newCurrencyCode] != nil else {
                     assertionFailure("Tried to select a currency code that doesn't exist")
                     return self
                 }
-                return .loaded(selectedCurrencyCode: newCurrencyCode,
-                               badge: badge,
-                               pricesByCurrencyCode: pricesByCurrencyCode)
+                return .loaded(
+                    selectedCurrencyCode: newCurrencyCode,
+                    giftConfiguration: giftConfiguration,
+                    paymentMethodsConfiguration: paymentMethodsConfiguration
+                )
             }
         }
     }
@@ -66,25 +71,22 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
     }
 
     private func loadData() -> Guarantee<State> {
-        firstly { () -> Promise<(ProfileBadge, [Currency.Code: FiatMoney])> in
-            Logger.info("[Gifting] Fetching badge data...")
-            return SubscriptionManager.fetchDonationConfiguration().map { donationConfiguration in
-                (
-                    donationConfiguration.gift.badge,
-                    donationConfiguration.gift.presetAmount
-                )
-            }
-        }.then { (giftBadge: ProfileBadge, pricesByCurrencyCode: [Currency.Code: FiatMoney]) -> Promise<(ProfileBadge, [Currency.Code: FiatMoney])> in
+        firstly {
+            Logger.info("[Gifting] Fetching donation configuration...")
+            return SubscriptionManager.fetchDonationConfiguration()
+        }.then { donationConfiguration -> Promise<SubscriptionManager.DonationConfiguration> in
             Logger.info("[Gifting] Populating badge assets...")
-            return self.profileManager.badgeStore.populateAssetsOnBadge(giftBadge).map { (giftBadge, pricesByCurrencyCode) }
-        }.then { (giftBadge: ProfileBadge, pricesByCurrencyCode: [Currency.Code: FiatMoney]) -> Guarantee<State> in
+            let giftBadge = donationConfiguration.gift.badge
+            return self.profileManager.badgeStore.populateAssetsOnBadge(giftBadge)
+                .map { donationConfiguration }
+        }.then { donationConfiguration -> Guarantee<State> in
             let defaultCurrencyCode = DonationUtilities.chooseDefaultCurrency(
                 preferred: [
                     Locale.current.currencyCode?.uppercased(),
                     "USD",
-                    pricesByCurrencyCode.keys.first
+                    donationConfiguration.gift.presetAmount.keys.first
                 ],
-                supported: pricesByCurrencyCode.keys
+                supported: donationConfiguration.gift.presetAmount.keys
             )
             guard let defaultCurrencyCode = defaultCurrencyCode else {
                 // This indicates a bug, either in the iOS app or the server.
@@ -94,8 +96,8 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
 
             return Guarantee.value(.loaded(
                 selectedCurrencyCode: defaultCurrencyCode,
-                badge: giftBadge,
-                pricesByCurrencyCode: pricesByCurrencyCode
+                giftConfiguration: donationConfiguration.gift,
+                paymentMethodsConfiguration: donationConfiguration.paymentMethods
             ))
         }.recover { error -> Guarantee<State> in
             Logger.warn("\(error)")
@@ -107,12 +109,16 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
         switch state {
         case .initializing, .loading, .loadFailed:
             owsFailDebug("Tapped next when the state wasn't loaded")
-        case let .loaded(selectedCurrencyCode, badge, pricesByCurrencyCode):
-            guard let price = pricesByCurrencyCode[selectedCurrencyCode] else {
+        case let .loaded(selectedCurrencyCode, giftConfiguration, paymentMethodsConfiguration):
+            guard let price = giftConfiguration.presetAmount[selectedCurrencyCode] else {
                 owsFailDebug("State is invalid. We selected a currency code that we don't have a price for")
                 return
             }
-            let vc = BadgeGiftingChooseRecipientViewController(badge: badge, price: price)
+            let vc = BadgeGiftingChooseRecipientViewController(
+                badge: giftConfiguration.badge,
+                price: price,
+                paymentMethodsConfiguration: paymentMethodsConfiguration
+            )
             self.navigationController?.pushViewController(vc, animated: true)
         }
     }
@@ -184,8 +190,12 @@ public class BadgeGiftingChooseBadgeViewController: OWSTableViewController2 {
             result += loadingSections()
         case .loadFailed:
             result += loadFailedSections()
-        case let .loaded(selectedCurrencyCode, badge, pricesByCurrencyCode):
-            result += loadedSections(selectedCurrencyCode: selectedCurrencyCode, badge: badge, pricesByCurrencyCode: pricesByCurrencyCode)
+        case let .loaded(selectedCurrencyCode, giftConfiguration, _):
+            result += loadedSections(
+                selectedCurrencyCode: selectedCurrencyCode,
+                badge: giftConfiguration.badge,
+                pricesByCurrencyCode: giftConfiguration.presetAmount
+            )
         }
 
         return result
diff --git a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseRecipientViewController.swift b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseRecipientViewController.swift
index 13c19b015fb..0d316c3864a 100644
--- a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseRecipientViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingChooseRecipientViewController.swift
@@ -4,15 +4,24 @@
 //
 
 import Foundation
+import SignalMessaging
 import SignalServiceKit
 
 class BadgeGiftingChooseRecipientViewController: RecipientPickerContainerViewController {
+    typealias PaymentMethodsConfiguration = SubscriptionManager.DonationConfiguration.PaymentMethodsConfiguration
+
     private let badge: ProfileBadge
     private let price: FiatMoney
+    private let paymentMethodsConfiguration: PaymentMethodsConfiguration
 
-    public init(badge: ProfileBadge, price: FiatMoney) {
+    public init(
+        badge: ProfileBadge,
+        price: FiatMoney,
+        paymentMethodsConfiguration: PaymentMethodsConfiguration
+    ) {
         self.badge = badge
         self.price = price
+        self.paymentMethodsConfiguration = paymentMethodsConfiguration
     }
 
     public override func viewDidLoad() {
@@ -69,7 +78,12 @@ extension BadgeGiftingChooseRecipientViewController: RecipientPickerDelegate {
             owsFail("Recipient is missing address, but we expected one")
         }
         let thread = databaseStorage.write { TSContactThread.getOrCreateThread(withContactAddress: address, transaction: $0) }
-        let vc = BadgeGiftingConfirmationViewController(badge: badge, price: price, thread: thread)
+        let vc = BadgeGiftingConfirmationViewController(
+            badge: badge,
+            price: price,
+            paymentMethodsConfiguration: paymentMethodsConfiguration,
+            thread: thread
+        )
         self.navigationController?.pushViewController(vc, animated: true)
     }
 
diff --git a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingConfirmationViewController.swift b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingConfirmationViewController.swift
index 1ef6578c247..bb9c28ca978 100644
--- a/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingConfirmationViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Donations/BadgeGiftingConfirmationViewController.swift
@@ -10,19 +10,24 @@ import SignalServiceKit
 import UIKit
 
 class BadgeGiftingConfirmationViewController: OWSTableViewController2 {
+    typealias PaymentMethodsConfiguration = SubscriptionManager.DonationConfiguration.PaymentMethodsConfiguration
+
     // MARK: - View state
 
     private let badge: ProfileBadge
     private let price: FiatMoney
+    private let paymentMethodsConfiguration: PaymentMethodsConfiguration
     private let thread: TSContactThread
 
     public init(
         badge: ProfileBadge,
         price: FiatMoney,
+        paymentMethodsConfiguration: PaymentMethodsConfiguration,
         thread: TSContactThread
     ) {
         self.badge = badge
         self.price = price
+        self.paymentMethodsConfiguration = paymentMethodsConfiguration
         self.thread = thread
     }
 
@@ -134,8 +139,7 @@ class BadgeGiftingConfirmationViewController: OWSTableViewController2 {
         return (needsUserInteraction: needsUserInteraction, promise: promise)
     }
 
-    @objc
-    private func checkRecipientAndRequestApplePay() {
+    private func checkRecipientAndPresentChoosePaymentMethodSheet() {
         // We want to resign this SOMETIME before this VC dismisses and switches to the chat.
         // In addition to offering slightly better UX, resigning first responder status prevents it
         // from eating events after the VC is dismissed.
@@ -172,19 +176,37 @@ class BadgeGiftingConfirmationViewController: OWSTableViewController2 {
                 break
             }
 
-            Logger.info("[Gifting] Requesting Apple Pay...")
-
-            let request = DonationUtilities.newPaymentRequest(for: self.price, isRecurring: false)
+            let recipientFullName = self.databaseStorage.read { transaction in
+                self.contactsManager.displayName(for: self.thread, transaction: transaction)
+            }
 
-            let paymentController = PKPaymentAuthorizationController(paymentRequest: request)
-            paymentController.delegate = self
-            paymentController.present { presented in
-                if !presented {
-                    // This can happen under normal conditions if the user double-taps the button,
-                    // but may also indicate a problem.
-                    Logger.warn("[Gifting] Failed to present payment controller")
+            let sheet = DonateChoosePaymentMethodSheet(
+                amount: self.price,
+                badge: self.badge,
+                donationMode: .gift(recipientFullName: recipientFullName),
+                supportedPaymentMethods: DonationUtilities.supportedDonationPaymentMethods(
+                    forDonationMode: .gift,
+                    usingCurrency: self.price.currencyCode,
+                    withConfiguration: self.paymentMethodsConfiguration,
+                    localNumber: Self.tsAccountManager.localNumber
+                )
+            ) { [weak self] (sheet, paymentMethod) in
+                sheet.dismiss(animated: true) { [weak self] in
+                    guard let self else { return }
+                    switch paymentMethod {
+                    case .applePay:
+                        self.startApplePay()
+                    case .creditOrDebitCard:
+                        // TODO: (GB) Support gifting with card.
+                        OWSActionSheets.showErrorAlert(message: "Cards not yet supported.")
+                    case .paypal:
+                        // TODO: [PayPal] Support gifting with PayPal.
+                        OWSActionSheets.showErrorAlert(message: "PayPal not yet supported.")
+                    }
                 }
             }
+
+            self.present(sheet, animated: true)
         }.catch { error in
             if let error = error as? SendGiftBadgeError {
                 Logger.warn("[Gifting] Error \(error)")
@@ -402,11 +424,15 @@ class BadgeGiftingConfirmationViewController: OWSTableViewController2 {
             return view
         }()
 
-        let applePayButton = ApplePayButton { [weak self] in
-            self?.checkRecipientAndRequestApplePay()
+        let continueButton = OWSButton(title: CommonStrings.continueButton) { [weak self] in
+            self?.checkRecipientAndPresentChoosePaymentMethodSheet()
         }
+        continueButton.dimsWhenHighlighted = true
+        continueButton.layer.cornerRadius = 8
+        continueButton.backgroundColor = .ows_accentBlue
+        continueButton.titleLabel?.font = UIFont.ows_dynamicTypeBody.ows_semibold
 
-        for view in [amountView, applePayButton] {
+        for view in [amountView, continueButton] {
             bottomFooterStackView.addArrangedSubview(view)
             view.autoSetDimension(.height, toSize: 48, relation: .greaterThanOrEqual)
             view.autoPinWidthToSuperview(withMargin: 23)
@@ -466,7 +492,7 @@ extension BadgeGiftingConfirmationViewController: TextViewWithPlaceholderDelegat
     }
 }
 
-// MARK: - Apple Pay delegate
+// MARK: - Apple Pay
 
 extension BadgeGiftingConfirmationViewController: PKPaymentAuthorizationControllerDelegate {
     private struct PreparedPayment {
@@ -482,6 +508,22 @@ extension BadgeGiftingConfirmationViewController: PKPaymentAuthorizationControll
         case userCanceledBeforeChargeCompleted
     }
 
+    func startApplePay() {
+        Logger.info("[Gifting] Requesting Apple Pay...")
+
+        let request = DonationUtilities.newPaymentRequest(for: self.price, isRecurring: false)
+
+        let paymentController = PKPaymentAuthorizationController(paymentRequest: request)
+        paymentController.delegate = self
+        paymentController.present { presented in
+            if !presented {
+                // This can happen under normal conditions if the user double-taps the button,
+                // but may also indicate a problem.
+                Logger.warn("[Gifting] Failed to present payment controller")
+            }
+        }
+    }
+
     private func prepareToPay(authorizedPayment: PKPayment) -> Promise<PreparedPayment> {
         firstly {
             Stripe.createBoostPaymentIntent(
diff --git a/Signal/src/ViewControllers/Donations/DonateChoosePaymentMethodSheet.swift b/Signal/src/ViewControllers/Donations/DonateChoosePaymentMethodSheet.swift
index cddcd79b0b3..b42a46c549c 100644
--- a/Signal/src/ViewControllers/Donations/DonateChoosePaymentMethodSheet.swift
+++ b/Signal/src/ViewControllers/Donations/DonateChoosePaymentMethodSheet.swift
@@ -9,8 +9,14 @@ import SignalServiceKit
 import SignalMessaging
 
 class DonateChoosePaymentMethodSheet: OWSTableSheetViewController {
+    enum DonationMode {
+        case oneTime
+        case monthly
+        case gift(recipientFullName: String)
+    }
+
     private let amount: FiatMoney
-    private let badge: ProfileBadge?
+    private let badge: ProfileBadge
     private let donationMode: DonationMode
     private let supportedPaymentMethods: Set<DonationPaymentMethod>
     private let didChoosePaymentMethod: (DonateChoosePaymentMethodSheet, DonationPaymentMethod) -> Void
@@ -38,33 +44,41 @@ class DonateChoosePaymentMethodSheet: OWSTableSheetViewController {
             )
             return String(format: format, moneyPerMonthString)
         case .gift:
-            owsFail("Not yet supported.")
+            let format = NSLocalizedString(
+                "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_TITLE_FOR_DONATION_ON_BEHALF_OF_A_FRIEND",
+                comment: "When users make donations on a friend's behalf, they see a sheet that lets them pick a payment method. This is the title on that sheet. Embeds {{amount of money}}, such as \"$5\"."
+            )
+            return String(format: format, currencyString)
         }
     }
 
     private var bodyText: String? {
-        guard let badge else { return nil }
-
-        let format: String
         switch donationMode {
         case .oneTime:
-            format = NSLocalizedString(
+            let format = NSLocalizedString(
                 "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_ONE_TIME_DONATION",
                 comment: "When users make one-time donations, they see a sheet that lets them pick a payment method. It also tells them what they'll be doing when they pay: receive a badge for a month. This is the subtitle on that sheet. Embeds {{localized badge name}}, such as \"Boost\"." )
+            return String(format: format, badge.localizedName)
+
         case .monthly:
-            format = NSLocalizedString(
+            let format = NSLocalizedString(
                 "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_MONTHLY_DONATION",
                 comment: "When users make monthly donations, they see a sheet that lets them pick a payment method. It also tells them what they'll be doing when they pay: receive a badge. This is the subtitle on that sheet. Embeds {{localized badge name}}, such as \"Planet\"."
             )
-        case .gift:
-            owsFail("Not yet supported.")
+            return String(format: format, badge.localizedName)
+
+        case let .gift(recipientFullName):
+            let format = NSLocalizedString(
+                "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_DONATION_ON_BEHALF_OF_A_FRIEND",
+                comment: "When users make donations on a friend's behalf, they see a sheet that lets them pick a payment method. This is the subtitle on that sheet. Embeds {{recipient's name}}."
+            )
+            return String(format: format, recipientFullName)
         }
-        return String(format: format, badge.localizedName)
     }
 
     init(
         amount: FiatMoney,
-        badge: ProfileBadge?,
+        badge: ProfileBadge,
         donationMode: DonationMode,
         supportedPaymentMethods: Set<DonationPaymentMethod>,
         didChoosePaymentMethod: @escaping (DonateChoosePaymentMethodSheet, DonationPaymentMethod) -> Void
@@ -96,7 +110,7 @@ class DonateChoosePaymentMethodSheet: OWSTableSheetViewController {
             stackView.alignment = .center
             stackView.spacing = 6
 
-            if let assets = badge?.assets {
+            if let assets = badge.assets {
                 let badgeImageView = UIImageView(image: assets.universal112)
                 badgeImageView.autoSetDimensions(to: CGSize(square: 112))
                 stackView.addArrangedSubview(badgeImageView)
diff --git a/Signal/src/ViewControllers/Donations/DonateViewController+DonationMode.swift b/Signal/src/ViewControllers/Donations/DonateViewController+DonationMode.swift
index 0cbe1cd030a..83ec26d29d2 100644
--- a/Signal/src/ViewControllers/Donations/DonateViewController+DonationMode.swift
+++ b/Signal/src/ViewControllers/Donations/DonateViewController+DonationMode.swift
@@ -13,12 +13,21 @@ extension DonateViewController {
         case oneTime
         case monthly
 
+        /// Converts the donation mode (one-time or monthly) for this view to
+        /// the view-agnostic donation mode.
+        var asDonationMode: SignalMessaging.DonationMode {
+            switch self {
+            case .oneTime: return .oneTime
+            case .monthly: return .monthly
+            }
+        }
+
         /// Converts the donation mode (one-time or monthly) for this view to
         /// the equivalent in the "choose payment method" sheet.
         ///
         /// We need this because this view supports one-time or monthly, but the
         /// sheet supports one-time, monthly, and gifting.
-        var asDonationMode: SignalMessaging.DonationMode {
+        var forChoosePaymentMethodSheet: DonateChoosePaymentMethodSheet.DonationMode {
             switch self {
             case .oneTime: return .oneTime
             case .monthly: return .monthly
diff --git a/Signal/src/ViewControllers/Donations/DonateViewController+OneTimeApplePayDonation.swift b/Signal/src/ViewControllers/Donations/DonateViewController+OneTimeApplePayDonation.swift
index 996aafc8c14..a203508ec04 100644
--- a/Signal/src/ViewControllers/Donations/DonateViewController+OneTimeApplePayDonation.swift
+++ b/Signal/src/ViewControllers/Donations/DonateViewController+OneTimeApplePayDonation.swift
@@ -26,13 +26,10 @@ extension DonateViewController {
             completion(result)
         }
 
-        guard
-            let oneTime = state.oneTime,
-            let amount = oneTime.amount,
-            let boostBadge = oneTime.profileBadge
-        else {
-            owsFail("Amount, currency code, or boost badge are missing")
+        guard let oneTime = state.oneTime, let amount = oneTime.amount else {
+            owsFail("Amount or currency code are missing")
         }
+        let boostBadge = oneTime.profileBadge
 
         firstly(on: .global()) {
             Stripe.boost(
diff --git a/Signal/src/ViewControllers/Donations/DonateViewController+State.swift b/Signal/src/ViewControllers/Donations/DonateViewController+State.swift
index 04678ba4fb1..3b39fa2dbf9 100644
--- a/Signal/src/ViewControllers/Donations/DonateViewController+State.swift
+++ b/Signal/src/ViewControllers/Donations/DonateViewController+State.swift
@@ -40,7 +40,7 @@ extension DonateViewController {
             }
 
             public let selectedAmount: SelectedAmount
-            public let profileBadge: ProfileBadge?
+            public let profileBadge: ProfileBadge
 
             fileprivate let presets: [Currency.Code: DonationUtilities.Preset]
             fileprivate let minimumAmounts: [Currency.Code: FiatMoney]
diff --git a/Signal/src/ViewControllers/Donations/DonateViewController.swift b/Signal/src/ViewControllers/Donations/DonateViewController.swift
index c5f1334bfea..af2ef41c65b 100644
--- a/Signal/src/ViewControllers/Donations/DonateViewController.swift
+++ b/Signal/src/ViewControllers/Donations/DonateViewController.swift
@@ -274,7 +274,7 @@ class DonateViewController: OWSViewController, OWSNavigationChildController {
 
     private func presentChoosePaymentMethodSheet(
         amount: FiatMoney,
-        badge: ProfileBadge?,
+        badge: ProfileBadge,
         donateMode: DonateMode,
         supportedPaymentMethods: Set<DonationPaymentMethod>
     ) {
@@ -283,7 +283,7 @@ class DonateViewController: OWSViewController, OWSNavigationChildController {
         let sheet = DonateChoosePaymentMethodSheet(
             amount: amount,
             badge: badge,
-            donationMode: donateMode.asDonationMode,
+            donationMode: donateMode.forChoosePaymentMethodSheet,
             supportedPaymentMethods: supportedPaymentMethods
         ) { [weak self] (sheet, paymentMethod) in
             sheet.dismiss(animated: true) { [weak self] in
diff --git a/Signal/test/ViewControllers/BadgeGiftingChooseBadgeViewControllerStateTest.swift b/Signal/test/ViewControllers/BadgeGiftingChooseBadgeViewControllerStateTest.swift
index 3b4dd601b78..1ca5b974455 100644
--- a/Signal/test/ViewControllers/BadgeGiftingChooseBadgeViewControllerStateTest.swift
+++ b/Signal/test/ViewControllers/BadgeGiftingChooseBadgeViewControllerStateTest.swift
@@ -5,46 +5,45 @@
 
 import XCTest
 @testable import Signal
+@testable import SignalMessaging
 
 class BadgeGiftingChooseBadgeViewControllerStateTest: XCTestCase {
     typealias State = BadgeGiftingChooseBadgeViewController.State
 
-    private func getGiftBadge() -> ProfileBadge {
-        try! ProfileBadge(jsonDictionary: [
-            "id": "GIFT",
-            "category": "donor",
-            "name": "A Gift",
-            "description": "A gift badge!",
-            "sprites6": ["ldpi.png", "mdpi.png", "hdpi.png", "xhdpi.png", "xxhdpi.png", "xxxhdpi.png"]
-        ])
+    private static func loadedState(selectedCurrencyCode: Currency.Code) -> State {
+        .loaded(
+            selectedCurrencyCode: selectedCurrencyCode,
+            giftConfiguration: .init(
+                level: 999,
+                badge: try! ProfileBadge(jsonDictionary: [
+                    "id": "GIFT",
+                    "category": "donor",
+                    "name": "A Gift",
+                    "description": "A gift badge!",
+                    "sprites6": ["ldpi.png", "mdpi.png", "hdpi.png", "xhdpi.png", "xxhdpi.png", "xxxhdpi.png"]
+                ]),
+                presetAmount: [
+                    "EUR": .init(currencyCode: "EUR", value: 123),
+                    "USD": .init(currencyCode: "USD", value: 456)
+                ]
+            ),
+            paymentMethodsConfiguration: .init(supportedPaymentMethodsByCurrency: [
+                "USD": [.applePay, .creditOrDebitCard, .paypal],
+                "EUR": [.applePay, .creditOrDebitCard, .paypal]
+            ])
+        )
     }
 
     func testCanContinue() throws {
         let stuck: [State] = [.initializing, .loading, .loadFailed]
         stuck.forEach { XCTAssertFalse($0.canContinue) }
 
-        let notStuck: State = .loaded(
-            selectedCurrencyCode: "EUR",
-            badge: getGiftBadge(),
-            pricesByCurrencyCode: [
-                "EUR": FiatMoney(currencyCode: "EUR", value: 123),
-                "USD": FiatMoney(currencyCode: "USD", value: 456)
-            ]
-        )
+        let notStuck = Self.loadedState(selectedCurrencyCode: "EUR")
         XCTAssertTrue(notStuck.canContinue)
     }
 
     func testSelectCurrencyCode() throws {
-        let badge = getGiftBadge()
-
-        let before = State.loaded(
-            selectedCurrencyCode: "USD",
-            badge: badge,
-            pricesByCurrencyCode: [
-                "EUR": FiatMoney(currencyCode: "EUR", value: 123),
-                "USD": FiatMoney(currencyCode: "USD", value: 456)
-            ]
-        )
+        let before = Self.loadedState(selectedCurrencyCode: "USD")
         let after = before.selectCurrencyCode("EUR")
 
         func assertCurrencyCode(_ state: State, expected: Currency.Code) throws {
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index 88e375fa57d..db100663356 100644
--- a/Signal/translations/en.lproj/Localizable.strings
+++ b/Signal/translations/en.lproj/Localizable.strings
@@ -1861,12 +1861,18 @@
 /* When users make donations, they can choose which payment method they want to use. This is the text on the button that lets them choose to pay with credit or debit card. */
 "DONATE_CHOOSE_CREDIT_OR_DEBIT_CARD_AS_PAYMENT_METHOD" = "Credit or Debit Card";
 
+/* When users make donations on a friend's behalf, they see a sheet that lets them pick a payment method. This is the subtitle on that sheet. Embeds {{recipient's name}}. */
+"DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_DONATION_ON_BEHALF_OF_A_FRIEND" = "On behalf of %1$@";
+
 /* When users make monthly donations, they see a sheet that lets them pick a payment method. It also tells them what they'll be doing when they pay: receive a badge. This is the subtitle on that sheet. Embeds {{localized badge name}}, such as \"Planet\". */
 "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_MONTHLY_DONATION" = "Get the %1$@ badge";
 
 /* When users make one-time donations, they see a sheet that lets them pick a payment method. It also tells them what they'll be doing when they pay: receive a badge for a month. This is the subtitle on that sheet. Embeds {{localized badge name}}, such as \"Boost\". */
 "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_SUBTITLE_FOR_ONE_TIME_DONATION" = "Earn the %1$@ badge for one month";
 
+/* When users make donations on a friend's behalf, they see a sheet that lets them pick a payment method. This is the title on that sheet. Embeds {{amount of money}}, such as \"$5\". */
+"DONATE_CHOOSE_PAYMENT_METHOD_SHEET_TITLE_FOR_DONATION_ON_BEHALF_OF_A_FRIEND" = "%1$@ Donation to Signal";
+
 /* When users make monthly donations, they see a sheet that lets them pick a payment method. This is the title on that sheet. Embeds {{amount of money per month}}, such as \"$5/month\". */
 "DONATE_CHOOSE_PAYMENT_METHOD_SHEET_TITLE_FOR_MONTHLY_DONATION" = "Donate %1$@ to Signal";
 
