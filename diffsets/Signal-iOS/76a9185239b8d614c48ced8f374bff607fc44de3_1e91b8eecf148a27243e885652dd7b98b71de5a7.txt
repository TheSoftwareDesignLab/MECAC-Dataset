diff --git a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
index c4c28bb1c79..0c3a30b85ba 100644
--- a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
@@ -408,10 +408,12 @@ - (void)showBackup
     [self.navigationController pushViewController:vc animated:YES];
 }
 
+#ifdef USE_DEBUG_UI
 - (void)showDebugUI
 {
     [DebugUITableViewController presentDebugUIFromViewController:self];
 }
+#endif
 
 - (void)dismissWasPressed:(id)sender
 {
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.h b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.h
index 8f437ef41ff..3c4c539a725 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIBackup : DebugUIPage
@@ -11,3 +13,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
index 11c1670030f..f266032839e 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
@@ -10,6 +10,8 @@
 #import <PromiseKit/AnyPromise.h>
 #import <SignalCoreKit/Randomness.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIBackup
@@ -255,3 +257,5 @@ + (void)uploadCKBatch:(NSUInteger)count
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUICalling.swift b/Signal/src/ViewControllers/DebugUI/DebugUICalling.swift
index 29d7cb49f7a..61b4bd898b9 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUICalling.swift
+++ b/Signal/src/ViewControllers/DebugUI/DebugUICalling.swift
@@ -6,6 +6,8 @@ import Foundation
 import SignalServiceKit
 import SignalMessaging
 
+#if DEBUG
+
 class DebugUICalling: DebugUIPage {
 
     // MARK: Dependencies
@@ -73,3 +75,5 @@ class DebugUICalling: DebugUIPage {
         return OWSTableSection(title: "Call Debug", items: sectionItems)
     }
 }
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.h b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.h
index 1a28668165e..6d0b982a50b 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class CNContact;
@@ -14,3 +16,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
index d5b94c3375b..a53e49d0b09 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
@@ -11,6 +11,8 @@
 #import <SignalCoreKit/Randomness.h>
 #import <SignalServiceKit/SignalServiceKit-Swift.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIContacts
@@ -133,3 +135,5 @@ + (void)createUnregisteredGroupThread
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.h b/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.h
index 5cb1c5ff3df..32d6e33a92f 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIDiskUsage : DebugUIPage
@@ -11,3 +13,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.m b/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.m
index e3b835a56bc..c00b67d9e0c 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIDiskUsage.m
@@ -10,6 +10,8 @@
 #import <SignalServiceKit/TSDatabaseView.h>
 #import <SignalServiceKit/TSInteraction.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIDiskUsage
@@ -113,3 +115,5 @@ + (void)deleteOldMessages:(NSTimeInterval)maxAgeSeconds
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIFileBrowser.swift b/Signal/src/ViewControllers/DebugUI/DebugUIFileBrowser.swift
index 7a20e106563..be085f87cc3 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIFileBrowser.swift
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIFileBrowser.swift
@@ -2,6 +2,8 @@
 //  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
+#if DEBUG
+
 @objc class DebugUIFileBrowser: OWSTableViewController {
 
     // MARK: Dependencies
@@ -376,3 +378,5 @@
         return contents
     }
 }
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages+OWS.swift b/Signal/src/ViewControllers/DebugUI/DebugUIMessages+OWS.swift
index b4acfa7c40c..ad376709ca3 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages+OWS.swift
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages+OWS.swift
@@ -4,6 +4,8 @@
 
 import Foundation
 
+#if DEBUG
+
 public extension DebugUIMessages {
 
     // MARK: - Dependencies
@@ -49,7 +51,6 @@ public extension DebugUIMessages {
         }
     }
 
-    #if DEBUG
     @objc
     class func receiveUUIDEnvelopeInNewThread() {
         assert(FeatureFlags.allowUUIDOnlyContacts)
@@ -70,8 +71,7 @@ public extension DebugUIMessages {
         let envelopeData = try! envelopeBuilder.buildSerializedData()
         messageReceiver.handleReceivedEnvelopeData(envelopeData)
     }
-    #endif
-    
+
     @objc
     class func createUUIDGroup() {
         assert(FeatureFlags.allowUUIDOnlyContacts)
@@ -97,3 +97,5 @@ public extension DebugUIMessages {
         }
     }
 }
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.h b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.h
index 4ff187f13d9..3420ff2682a 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIMessages : DebugUIPage
@@ -11,3 +13,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
index 9e1f8112ab7..6ea27944d3a 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
@@ -26,6 +26,8 @@
 #import <SignalServiceKit/TSOutgoingMessage.h>
 #import <SignalServiceKit/TSThread.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface TSIncomingMessage (DebugUI)
@@ -53,8 +55,6 @@ - (NSString *)name
     return @"Messages";
 }
 
-#ifdef DEBUG
-
 - (NSArray<OWSTableItem *> *)itemsForActions:(NSArray<DebugUIMessagesAction *> *)actions
 {
     NSMutableArray<OWSTableItem *> *items = [NSMutableArray new];
@@ -79,16 +79,12 @@ - (NSString *)name
     return items;
 }
 
-#endif
-
 - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
 {
     OWSAssertDebug(thread);
 
     NSMutableArray<OWSTableItem *> *items = [NSMutableArray new];
 
-#ifdef DEBUG
-
     [items addObject:[OWSTableItem itemWithTitle:@"Delete all messages in thread"
                                      actionBlock:^{
                                          [DebugUIMessages deleteAllMessagesInThread:thread];
@@ -128,12 +124,10 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
                         actionBlock:^{
                             [DebugUIMessages sendNTextMessagesInThread:thread];
                         }],
-#if DEBUG
         [OWSTableItem itemWithTitle:@"ðŸ‘· Receive UUID message"
                         actionBlock:^{
                             [DebugUIMessages receiveUUIDEnvelopeInNewThread];
                         }],
-#endif
         [OWSTableItem itemWithTitle:@"Create UUID group"
                         actionBlock:^{
                             [DebugUIMessages createUUIDGroup];
@@ -336,13 +330,9 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
                                          }]];
     }
 
-#endif
-
     return [OWSTableSection sectionWithTitle:self.name items:items];
 }
 
-#ifdef DEBUG
-
 #pragma mark - Dependencies
 
 + (MessageSenderJobQueue *)messageSenderJobQueue
@@ -4927,8 +4917,8 @@ + (void)sendMediaAlbumInThread:(TSThread *)thread
         }];
 }
 
-#endif
-
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.h b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.h
index 44f69c54f1c..71607fd87be 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIMessagesUtils.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIMessagesAction : NSObject
@@ -60,3 +62,5 @@ typedef NS_ENUM(NSUInteger, SubactionMode) {
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
index b0965b895e6..e20bdf801f1 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
@@ -5,6 +5,8 @@
 #import "DebugUIMessagesAction.h"
 #import <SignalServiceKit/SignalServiceKit-Swift.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class DebugUIMessagesSingleAction;
@@ -288,3 +290,5 @@ + (DebugUIMessagesAction *)allGroupActionWithLabel:(NSString *)label
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.h b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.h
index ff3ba42f4eb..5c2ee38affb 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIMessagesUtils.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIMessagesAssetLoader : NSObject
@@ -50,3 +52,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
index e851c553aa9..3ae9171293a 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIMessagesAssetLoader.h"
@@ -12,6 +12,8 @@
 #import <SignalServiceKit/SignalServiceKit-Swift.h>
 #import <SignalServiceKit/TSAttachment.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIMessagesAssetLoader
@@ -626,3 +628,5 @@ + (void)prepareAssetLoaders:(NSArray<DebugUIMessagesAssetLoader *> *)assetLoader
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesUtils.h b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesUtils.h
index 4edda1154be..00c6707f9a1 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesUtils.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesUtils.h
@@ -2,6 +2,8 @@
 //  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class SDSAnyWriteTransaction;
@@ -14,3 +16,5 @@ typedef void (^StaggeredActionBlock)(
 typedef void (^UnstaggeredActionBlock)(NSUInteger index, SDSAnyWriteTransaction *transaction);
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.h b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.h
index c890d265762..93ed5f3c0c8 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface DebugUIMisc : DebugUIPage
@@ -11,3 +13,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
index 25f67390cba..408d8f3290b 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
@@ -22,6 +22,8 @@
 #import <SignalServiceKit/TSThread.h>
 #import <SignalServiceKit/UIImage+OWS.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @interface OWSStorage (DebugUI)
@@ -126,7 +128,6 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
                                          [OWS2FAManager.sharedManager setDefaultRepetitionInterval];
                                      }]];
 
-#ifdef DEBUG
     [items addObject:[OWSTableItem subPageItemWithText:@"Share UIImage"
                                            actionBlock:^(UIViewController *viewController) {
                                                UIImage *image =
@@ -145,7 +146,6 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
                                            actionBlock:^(UIViewController *viewController) {
                                                [DebugUIMisc sharePDFs:2];
                                            }]];
-#endif
 
     [items
         addObject:[OWSTableItem
@@ -278,8 +278,6 @@ + (void)sendUnencryptedDatabase:(TSThread *)thread
     [self sendAttachment:attachment thread:thread];
 }
 
-#ifdef DEBUG
-
 + (void)shareAssets:(NSUInteger)count
    fromAssetLoaders:(NSArray<DebugUIMessagesAssetLoader *> *)assetLoaders
 {
@@ -336,8 +334,8 @@ + (void)sharePDFs:(NSUInteger)count
                         ]];
 }
 
-#endif
-
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUINotifications.swift b/Signal/src/ViewControllers/DebugUI/DebugUINotifications.swift
index 9baed7e0de1..d0bf08ff0e1 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUINotifications.swift
+++ b/Signal/src/ViewControllers/DebugUI/DebugUINotifications.swift
@@ -7,6 +7,8 @@ import SignalServiceKit
 import SignalMessaging
 import PromiseKit
 
+#if DEBUG
+
 class DebugUINotifications: DebugUIPage {
 
     // MARK: Dependencies
@@ -224,3 +226,5 @@ class DebugUINotifications: DebugUIPage {
         }
     }
 }
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIPage.h b/Signal/src/ViewControllers/DebugUI/DebugUIPage.h
index d56c8fd75b6..32e3b2c64eb 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIPage.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIPage.h
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
@@ -8,8 +8,8 @@
 //
 // To show the DebugUI in production builds, comment out the #ifdef and #endif
 #ifdef DEBUG
+
 #define USE_DEBUG_UI
-#endif
 
 NS_ASSUME_NONNULL_BEGIN
 
@@ -25,3 +25,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIPage.m b/Signal/src/ViewControllers/DebugUI/DebugUIPage.m
index a18f531c755..205d474da4e 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIPage.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIPage.m
@@ -1,10 +1,12 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 #import "OWSTableViewController.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIPage
@@ -28,3 +30,5 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIProfile.swift b/Signal/src/ViewControllers/DebugUI/DebugUIProfile.swift
index b670bedeae3..5329147e244 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIProfile.swift
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIProfile.swift
@@ -6,6 +6,8 @@ import Foundation
 import SignalServiceKit
 import SignalMessaging
 
+#if DEBUG
+
 class DebugUIProfile: DebugUIPage {
 
     // MARK: - Dependencies
@@ -64,3 +66,5 @@ class DebugUIProfile: DebugUIPage {
     }
 
 }
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.h b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.h
index 5c7e257d5bb..436d00ca2ee 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class TSContactThread;
@@ -13,3 +15,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
index d706eee2b4e..7b7cc93f432 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
@@ -10,6 +10,8 @@
 #import <SignalServiceKit/SignalServiceKit-Swift.h>
 #import <SignalServiceKit/TSContactThread.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUISessionState
@@ -94,18 +96,14 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)threadParame
         ]];
     }
 
-#if DEBUG
     [items addObjectsFromArray:@[ [OWSTableItem itemWithTitle:@"Clear Session and Identity Store"
                                                   actionBlock:^{
                                                       [self clearSessionAndIdentityStore];
                                                   }] ]];
-#endif
 
     return [OWSTableSection sectionWithTitle:self.name items:items];
 }
 
-
-#if DEBUG
 - (void)clearSessionAndIdentityStore
 {
     [self.databaseStorage writeWithBlock:^(SDSAnyWriteTransaction *transaction) {
@@ -113,8 +111,9 @@ - (void)clearSessionAndIdentityStore
         [[OWSIdentityManager sharedManager] clearIdentityState:transaction];
     }];
 }
-#endif
 
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIStress.h b/Signal/src/ViewControllers/DebugUI/DebugUIStress.h
index 6a9aa1dbe7f..61937d561fa 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIStress.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIStress.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class TSThread;
@@ -13,3 +15,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIStress.m b/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
index cba90a36bec..d0de55135ef 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
@@ -17,6 +17,8 @@
 #import <SignalServiceKit/TSGroupThread.h>
 #import <SignalServiceKit/TSThread.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUIStress
@@ -56,8 +58,6 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
     
     NSMutableArray<OWSTableItem *> *items = [NSMutableArray new];
 
-#ifdef DEBUG
-
     [items addObject:[OWSTableItem itemWithTitle:@"Send empty message"
                                      actionBlock:^{
                                          [DebugUIStress sendStressMessage:thread block:^(SignalRecipient *recipient) {
@@ -462,13 +462,9 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
                                          [DebugUIStress makeUnregisteredGroup];
                                      }]];
 
-#endif
-
     return [OWSTableSection sectionWithTitle:self.name items:items];
 }
 
-#ifdef DEBUG
-
 + (void)ensureGroupOfDataBuilder:(SSKProtoDataMessageBuilder *)dataBuilder thread:(TSThread *)thread
 {
     OWSAssertDebug(dataBuilder);
@@ -570,8 +566,8 @@ + (void)makeUnregisteredGroup
     [SignalApp.sharedApp presentConversationForThread:thread animated:YES];
 }
 
-#endif
-
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.h b/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.h
index c9d7f577629..e68ccd20ff8 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.h
@@ -1,9 +1,11 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class TSThread;
@@ -13,3 +15,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.m b/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.m
index 37c73ff427c..395e0e8e71e 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUISyncMessages.m
@@ -27,6 +27,8 @@
 #import <SignalServiceKit/TSInvalidIdentityKeyReceivingErrorMessage.h>
 #import <SignalServiceKit/TSThread.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUISyncMessages
@@ -153,3 +155,5 @@ + (void)syncConversationSettingsWithThread:(TSThread *)thread
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.h b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.h
index 12ad4234436..b122400011d 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.h
+++ b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.h
@@ -1,10 +1,12 @@
 //
-//  Copyright (c) 2017 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUIPage.h"
 #import "OWSTableViewController.h"
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @class TSThread;
@@ -18,3 +20,5 @@ NS_ASSUME_NONNULL_BEGIN
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
index f4fa7aa56f0..a3985770431 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2018 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2019 Open Whisper Systems. All rights reserved.
 //
 
 #import "DebugUITableViewController.h"
@@ -15,6 +15,8 @@
 #import <SignalServiceKit/TSContactThread.h>
 #import <SignalServiceKit/TSThread.h>
 
+#ifdef DEBUG
+
 NS_ASSUME_NONNULL_BEGIN
 
 @implementation DebugUITableViewController
@@ -150,3 +152,5 @@ + (void)presentDebugUIFromViewController:(UIViewController *)fromViewController
 @end
 
 NS_ASSUME_NONNULL_END
+
+#endif
