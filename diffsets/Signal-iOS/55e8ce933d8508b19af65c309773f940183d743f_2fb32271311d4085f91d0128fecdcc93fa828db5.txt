diff --git a/Signal/src/ViewControllers/ForwardMessageViewController.swift b/Signal/src/ViewControllers/ForwardMessageViewController.swift
index eaa0bb130b8..f30f8d7dbf1 100644
--- a/Signal/src/ViewControllers/ForwardMessageViewController.swift
+++ b/Signal/src/ViewControllers/ForwardMessageViewController.swift
@@ -15,7 +15,10 @@ public protocol ForwardMessageDelegate: AnyObject {
 @objc
 class ForwardMessageViewController: InteractiveSheetViewController {
 
-    private let pickerVC: ConversationPickerViewController
+    private let pickerVC: ForwardPickerViewController
+    private let forwardNavigationViewController = ForwardNavigationViewController()
+
+    private let handle = UIView()
 
     override var interactiveScrollViews: [UIScrollView] { [ pickerVC.tableView ] }
 
@@ -36,7 +39,7 @@ class ForwardMessageViewController: InteractiveSheetViewController {
 
     private init(content: Content) {
         self.content = content
-        self.pickerVC = ConversationPickerViewController(selection: selection)
+        self.pickerVC = ForwardPickerViewController(selection: selection)
 
         super.init()
 
@@ -87,12 +90,27 @@ class ForwardMessageViewController: InteractiveSheetViewController {
         fromViewController.present(sheet, animated: true, completion: nil)
     }
 
-    private let header = UIStackView()
+    public override func themeDidChange() {
+        super.themeDidChange()
+    }
 
-    private func selectRecipientsStep() {
+    public override func applyTheme() {
+        AssertIsOnMainThread()
+
+        super.applyTheme()
 
-        let handle = UIView()
+        contentView.backgroundColor = pickerVC.tableBackgroundColor
         handle.backgroundColor = Theme.tableView2PresentedSeparatorColor
+    }
+
+    override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        applyTheme()
+    }
+
+    private func selectRecipientsStep() {
+
         handle.autoSetDimensions(to: CGSize(width: 36, height: 5))
         handle.layer.cornerRadius = 5 / 2
 
@@ -101,60 +119,26 @@ class ForwardMessageViewController: InteractiveSheetViewController {
         handle.autoPinHeightToSuperview(withMargin: 12)
         handle.autoHCenterInSuperview()
 
-        let titleLabel = UILabel()
-        titleLabel.text = NSLocalizedString("FORWARD_MESSAGE_TITLE",
-                                            comment: "Title for the 'forward message(s)' view.")
-        titleLabel.textColor = Theme.primaryTextColor
-        titleLabel.font = UIFont.ows_dynamicTypeBody.ows_semibold
-
-        func buildButton(icon: ThemeIcon, handler: @escaping () -> Void) -> UIView {
-            let button = OWSButton(block: handler)
-            let iconSize: CGFloat = 20
-            let padding: CGFloat = 4
-            button.imageEdgeInsets = UIEdgeInsets(hMargin: padding, vMargin: padding)
-            button.autoSetDimensions(to: .square(iconSize + padding * 2))
-            button.setTemplateImage(Theme.iconImage(icon), tintColor: Theme.primaryIconColor)
-            return button
-        }
-        let cancelButton = buildButton(icon: .cancel20) { [weak self] in
-            self?.forwardMessageDelegate?.forwardMessageFlowDidCancel()
-            self?.dismiss(animated: true)
-        }
-        let searchButton = buildButton(icon: .settingsSearch) { [weak self] in
-            self?.selectSearchBar()
-        }
-
-        let spacerFactory = SpacerFactory()
-        header.addArrangedSubviews([
-            cancelButton,
-            spacerFactory.buildHSpacer(),
-            titleLabel,
-            spacerFactory.buildHSpacer(),
-            searchButton
-        ])
-        spacerFactory.finalizeSpacers()
-        header.axis = .horizontal
-        header.spacing = 16
-        header.alignment = .center
-        header.layoutMargins = UIEdgeInsets(top: 0, leading: 16, bottom: 12, trailing: 16)
-        header.isLayoutMarginsRelativeArrangement = true
-        header.addBackgroundView(withBackgroundColor: Theme.actionSheetBackgroundColor)
-
+        pickerVC.forwardMessageViewController = self
         pickerVC.shouldShowSearchBar = false
         pickerVC.shouldHideSearchBarIfCancelled = true
         pickerVC.pickerDelegate = self
-        self.addChild(pickerVC)
-        let pickerView = pickerVC.view!
+
+        forwardNavigationViewController.forwardMessageViewController = self
+        forwardNavigationViewController.viewControllers = [ pickerVC ]
+        self.addChild(forwardNavigationViewController)
+        let navView = forwardNavigationViewController.view!
 
         let stackView = UIStackView(arrangedSubviews: [
                                         handleContainer,
-                                        header,
-                                        pickerView ])
+                                        navView ])
         stackView.axis = .vertical
         stackView.alignment = .fill
 
         self.contentView.addSubview(stackView)
         stackView.autoPinEdgesToSuperviewEdges()
+
+        applyTheme()
     }
 
     fileprivate func selectSearchBar() {
@@ -167,7 +151,7 @@ class ForwardMessageViewController: InteractiveSheetViewController {
     fileprivate func ensureHeaderVisibility() {
         AssertIsOnMainThread()
 
-        header.isHidden = pickerVC.isSearchBarActive
+        forwardNavigationViewController.setNavigationBarHidden(pickerVC.isSearchBarActive, animated: false)
         if pickerVC.isSearchBarActive {
             maximizeHeight()
         }
@@ -457,7 +441,7 @@ extension ForwardMessageViewController: ConversationPickerDelegate {
     }
 
     func conversationPickerCanCancel(_ conversationPickerViewController: ConversationPickerViewController) -> Bool {
-        true
+        false
     }
 
     func conversationPickerDidCancel(_ conversationPickerViewController: ConversationPickerViewController) {
@@ -845,3 +829,51 @@ private struct ForwardMessageRecipientThread {
         return groupThread.recipientAddresses
     }
 }
+
+// MARK: -
+
+private class ForwardNavigationViewController: OWSNavigationController {
+    weak var forwardMessageViewController: ForwardMessageViewController?
+
+}
+
+// MARK: -
+
+private class ForwardPickerViewController: ConversationPickerViewController {
+    weak var forwardMessageViewController: ForwardMessageViewController?
+
+    @objc
+    public override func viewDidLoad() {
+        super.viewDidLoad()
+
+        updateNavigationItem()
+    }
+
+    public func updateNavigationItem() {
+        title = NSLocalizedString("FORWARD_MESSAGE_TITLE",
+                                  comment: "Title for the 'forward message(s)' view.")
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(image: Theme.iconImage(.cancel20),
+                                                           style: .plain,
+                                                           target: self,
+                                                           action: #selector(didPressCancel))
+        navigationItem.rightBarButtonItem = UIBarButtonItem(image: Theme.iconImage(.settingsSearch),
+                                                            style: .plain,
+                                                            target: self,
+                                                            action: #selector(didPressSearch))
+    }
+
+    @objc
+    private func didPressCancel() {
+        AssertIsOnMainThread()
+
+        pickerDelegate?.conversationPickerDidCancel(self)
+    }
+
+    @objc
+    private func didPressSearch() {
+        AssertIsOnMainThread()
+
+        forwardMessageViewController?.selectSearchBar()
+    }
+}
diff --git a/Signal/src/ViewControllers/LongTextViewController.swift b/Signal/src/ViewControllers/LongTextViewController.swift
index e40de7e776a..12945dd2cda 100644
--- a/Signal/src/ViewControllers/LongTextViewController.swift
+++ b/Signal/src/ViewControllers/LongTextViewController.swift
@@ -20,6 +20,7 @@ public class LongTextViewController: OWSViewController {
     let itemViewModel: CVItemViewModelImpl
 
     var messageTextView: UITextView!
+    let footer = UIToolbar.clear()
 
     var displayableText: DisplayableText? { itemViewModel.displayableBodyText }
     var fullAttributedText: NSAttributedString { displayableText?.fullAttributedText ?? NSAttributedString() }
@@ -46,6 +47,57 @@ public class LongTextViewController: OWSViewController {
         databaseStorage.appendDatabaseChangeDelegate(self)
     }
 
+    public override func themeDidChange() {
+        super.themeDidChange()
+
+        loadContent()
+    }
+
+    public func loadContent() {
+        super.themeDidChange()
+
+        view.backgroundColor = Theme.backgroundColor
+        messageTextView.backgroundColor = Theme.backgroundColor
+        messageTextView.textColor = Theme.primaryTextColor
+        footer.tintColor = Theme.primaryIconColor
+
+        if let displayableText = displayableText {
+            let mutableText = NSMutableAttributedString(attributedString: fullAttributedText)
+            mutableText.addAttributes(
+                [.font: UIFont.ows_dynamicTypeBody, .foregroundColor: Theme.primaryTextColor],
+                range: mutableText.entireRange
+            )
+
+            // Mentions have a custom style on the long-text view
+            // that differs from the message, so we re-color them here.
+            Mention.updateWithStyle(.longMessageView, in: mutableText)
+
+            let hasPendingMessageRequest = databaseStorage.read { transaction in
+                itemViewModel.thread.hasPendingMessageRequest(transaction: transaction.unwrapGrdbRead)
+            }
+            CVComponentBodyText.configureTextView(messageTextView,
+                                                  interaction: itemViewModel.interaction,
+                                                  displayableText: displayableText)
+            CVComponentBodyText.linkifyData(attributedText: mutableText,
+                                            linkifyStyle: .linkAttribute,
+                                            hasPendingMessageRequest: hasPendingMessageRequest,
+                                            shouldAllowLinkification: displayableText.shouldAllowLinkification)
+
+            messageTextView.attributedText = mutableText
+            messageTextView.textAlignment = displayableText.fullTextNaturalAlignment
+        } else {
+            owsFailDebug("displayableText was unexpectedly nil")
+            messageTextView.text = ""
+        }
+
+        let linkTextAttributes: [NSAttributedString.Key: Any] = [
+            NSAttributedString.Key.foregroundColor: Theme.primaryTextColor,
+            NSAttributedString.Key.underlineColor: Theme.primaryTextColor,
+            NSAttributedString.Key.underlineStyle: NSUnderlineStyle.single.rawValue
+        ]
+        messageTextView.linkTextAttributes = linkTextAttributes
+    }
+
     // MARK: -
 
     private func refreshContent() {
@@ -90,41 +142,6 @@ public class LongTextViewController: OWSViewController {
         messageTextView.showsVerticalScrollIndicator = true
         messageTextView.isUserInteractionEnabled = true
         messageTextView.textColor = Theme.primaryTextColor
-        if let displayableText = displayableText {
-            let mutableText = NSMutableAttributedString(attributedString: fullAttributedText)
-            mutableText.addAttributes(
-                [.font: UIFont.ows_dynamicTypeBody, .foregroundColor: Theme.primaryTextColor],
-                range: mutableText.entireRange
-            )
-
-            // Mentions have a custom style on the long-text view
-            // that differs from the message, so we re-color them here.
-            Mention.updateWithStyle(.longMessageView, in: mutableText)
-
-            let hasPendingMessageRequest = databaseStorage.read { transaction in
-                itemViewModel.thread.hasPendingMessageRequest(transaction: transaction.unwrapGrdbRead)
-            }
-            CVComponentBodyText.configureTextView(messageTextView,
-                                                  interaction: itemViewModel.interaction,
-                                                  displayableText: displayableText)
-            CVComponentBodyText.linkifyData(attributedText: mutableText,
-                                            linkifyStyle: .linkAttribute,
-                                            hasPendingMessageRequest: hasPendingMessageRequest,
-                                            shouldAllowLinkification: displayableText.shouldAllowLinkification)
-
-            messageTextView.attributedText = mutableText
-            messageTextView.textAlignment = displayableText.fullTextNaturalAlignment
-        } else {
-            owsFailDebug("displayableText was unexpectedly nil")
-            messageTextView.text = ""
-        }
-
-        let linkTextAttributes: [NSAttributedString.Key: Any] = [
-            NSAttributedString.Key.foregroundColor: Theme.primaryTextColor,
-            NSAttributedString.Key.underlineColor: Theme.primaryTextColor,
-            NSAttributedString.Key.underlineStyle: NSUnderlineStyle.single.rawValue
-        ]
-        messageTextView.linkTextAttributes = linkTextAttributes
 
         view.addSubview(messageTextView)
         messageTextView.autoPinEdge(toSuperviewEdge: .top)
@@ -132,7 +149,6 @@ public class LongTextViewController: OWSViewController {
         messageTextView.autoPinEdge(toSuperviewEdge: .trailing)
         messageTextView.textContainerInset = UIEdgeInsets(top: 0, leading: 16, bottom: 0, trailing: 16)
 
-        let footer = UIToolbar()
         view.addSubview(footer)
         footer.autoPinWidthToSuperview()
         footer.autoPinEdge(.top, to: .bottom, of: messageTextView)
@@ -154,6 +170,8 @@ public class LongTextViewController: OWSViewController {
                 action: #selector(forwardButtonPressed)
             )
         ]
+
+        loadContent()
     }
 
     // MARK: - Actions
diff --git a/Signal/src/util/BatchUpdate.swift b/Signal/src/util/BatchUpdate.swift
index 470b46aefd9..8af022f09cc 100644
--- a/Signal/src/util/BatchUpdate.swift
+++ b/Signal/src/util/BatchUpdate.swift
@@ -295,7 +295,6 @@ public class BatchUpdate<T: BatchUpdateValue> {
             }
             let updatedValueIdList = try simulateUpdate(items: batchUpdateItems)
             Logger.verbose("Simulated updated list: \(updatedValueIdList.joined(separator: "\n"))")
-            Logger.flush()
         }
 
         // Identify values that we need to move.  This is non-trival.
diff --git a/SignalMessaging/ViewControllers/ApprovalFooterView.swift b/SignalMessaging/ViewControllers/ApprovalFooterView.swift
index 2c8d440115c..9ecae42527e 100644
--- a/SignalMessaging/ViewControllers/ApprovalFooterView.swift
+++ b/SignalMessaging/ViewControllers/ApprovalFooterView.swift
@@ -38,6 +38,9 @@ public class ApprovalFooterView: UIView {
         }
     }
 
+    private let backgroundView = UIView()
+    private let topStrokeView = UIView()
+
     public var textInput: String? {
         textfield.text
     }
@@ -58,15 +61,11 @@ public class ApprovalFooterView: UIView {
         layoutMargins = UIEdgeInsets(top: 10, left: 16, bottom: 10, right: 16)
 
         // We extend our background view below the keyboard to avoid any gaps.
-        let backgroundView = UIView()
-        backgroundView.backgroundColor = Theme.keyboardBackgroundColor
         addSubview(backgroundView)
         backgroundView.autoPinWidthToSuperview()
         backgroundView.autoPinEdge(toSuperviewEdge: .top)
         backgroundView.autoPinEdge(toSuperviewEdge: .bottom, withInset: -30)
 
-        let topStrokeView = UIView()
-        topStrokeView.backgroundColor = Theme.hairlineColor
         addSubview(topStrokeView)
         topStrokeView.autoPinEdgesToSuperviewEdges(with: .zero, excludingEdge: .bottom)
         topStrokeView.autoSetDimension(.height, toSize: CGHairlineWidth())
@@ -84,6 +83,24 @@ public class ApprovalFooterView: UIView {
         vStackView.autoPinEdgesToSuperviewMargins()
 
         updateContents()
+
+        let textfieldBackgroundView = textfieldStack.addBackgroundView(withBackgroundColor: Theme.backgroundColor)
+        textfieldBackgroundView.layer.cornerRadius = 10
+        self.textfieldBackgroundView = textfieldBackgroundView
+
+        NotificationCenter.default.addObserver(self, selector: #selector(applyTheme), name: .ThemeDidChange, object: nil)
+        applyTheme()
+    }
+
+    private var textfieldBackgroundView: UIView?
+
+    @objc
+    private func applyTheme() {
+        backgroundView.backgroundColor = Theme.keyboardBackgroundColor
+        topStrokeView.backgroundColor = Theme.hairlineColor
+        namesLabel.textColor = Theme.secondaryTextAndIconColor
+        textfield.textColor = Theme.secondaryTextAndIconColor
+        textfieldBackgroundView?.backgroundColor = Theme.backgroundColor
     }
 
     required init?(coder aDecoder: NSCoder) {
@@ -137,7 +154,6 @@ public class ApprovalFooterView: UIView {
     lazy var namesLabel: UILabel = {
         let label = UILabel()
         label.font = UIFont.ows_dynamicTypeBody
-        label.textColor = Theme.secondaryTextAndIconColor
 
         label.setContentHuggingLow()
 
@@ -147,7 +163,6 @@ public class ApprovalFooterView: UIView {
     lazy var textfield: UITextField = {
         let textfield = UITextField()
         textfield.font = UIFont.ows_dynamicTypeBody
-        textfield.textColor = Theme.secondaryTextAndIconColor
         return textfield
     }()
 
@@ -157,8 +172,6 @@ public class ApprovalFooterView: UIView {
         textfieldStack.alignment = .fill
         textfieldStack.layoutMargins = UIEdgeInsets(hMargin: 8, vMargin: 7)
         textfieldStack.isLayoutMarginsRelativeArrangement = true
-        let textfieldBackgroundView = textfieldStack.addBackgroundView(withBackgroundColor: Theme.backgroundColor)
-        textfieldBackgroundView.layer.cornerRadius = 10
         return textfieldStack
     }()
 
