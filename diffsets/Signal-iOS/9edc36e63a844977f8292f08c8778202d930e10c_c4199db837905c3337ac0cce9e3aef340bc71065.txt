diff --git a/SignalServiceKit/protobuf/SignalService.proto b/SignalServiceKit/protobuf/SignalService.proto
index 5a0f7ba07d8..2050d524d8f 100644
--- a/SignalServiceKit/protobuf/SignalService.proto
+++ b/SignalServiceKit/protobuf/SignalService.proto
@@ -322,19 +322,6 @@ message DataMessage {
     optional uint64 targetSentTimestamp = 1;
   }
 
-  message BodyRange {
-    optional uint32 start  = 1;
-    optional uint32 length = 2;
-
-    // oneof commented out because swift generated
-    // enum with associated values can't be converted
-    // to objc representation
-    //
-    // oneof associatedValue {
-      optional string mentionUuid = 3;
-    // }
-  }
-
   message GroupCallUpdate {
     optional string eraId = 1;
   }
@@ -821,3 +808,26 @@ message PniSignatureMessage {
   // Signature *by* the PNI identity key *of* the ACI identity key
   optional bytes signature = 2;
 }
+
+message BodyRange {
+  enum Style {
+    NONE = 0;
+    BOLD = 1;
+    ITALIC = 2;
+    SPOILER = 3;
+    STRIKETHROUGH = 4;
+    MONOSPACE = 5;
+  }
+
+  optional uint32 start = 1;
+  optional uint32 length = 2;
+
+  // oneof commented out because swift generated
+  // enum with associated values can't be converted
+  // to objc representation
+  //
+  // oneof associatedValue {
+    optional string mentionUuid = 3;
+    optional Style style = 4;
+  // }
+}
diff --git a/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m b/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
index 357e3acab18..51843d0522c 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
@@ -1072,8 +1072,8 @@ - (nullable SSKProtoDataMessageBuilder *)dataMessageBuilderWithThread:(TSThread
         [builder setBody:truncatedBody];
     }
 
-    NSArray<SSKProtoDataMessageBodyRange *> *bodyRanges = [self bodyRangeProtosWithBodyText:self.body
-                                                                              andBodyRanges:self.bodyRanges];
+    NSArray<SSKProtoBodyRange *> *bodyRanges = [self bodyRangeProtosWithBodyText:self.body
+                                                                   andBodyRanges:self.bodyRanges];
     if (bodyRanges.count > 0) {
         [builder setBodyRanges:bodyRanges];
 
@@ -1376,14 +1376,14 @@ - (OutgoingGroupProtoResult)addGroupsV2ToDataMessageBuilder:(SSKProtoDataMessage
     return OutgoingGroupProtoResult_AddedWithoutGroupAvatar;
 }
 
-- (NSArray<SSKProtoDataMessageBodyRange *> *)bodyRangeProtosWithBodyText:(NSString *)bodyText
-                                                           andBodyRanges:(nullable MessageBodyRanges *)bodyRanges
+- (NSArray<SSKProtoBodyRange *> *)bodyRangeProtosWithBodyText:(NSString *)bodyText
+                                                andBodyRanges:(nullable MessageBodyRanges *)bodyRanges
 {
     if (bodyText.length == 0 || bodyRanges == nil) {
         return @[];
     }
 
-    NSMutableArray<SSKProtoDataMessageBodyRange *> *bodyRangeProtos = [NSMutableArray new];
+    NSMutableArray<SSKProtoBodyRange *> *bodyRangeProtos = [NSMutableArray new];
     for (NSValue *rangeValue in bodyRanges.mentions) {
         NSRange range = [rangeValue rangeValue];
         NSUUID *uuid = bodyRanges.mentions[rangeValue];
@@ -1393,13 +1393,13 @@ - (OutgoingGroupProtoResult)addGroupsV2ToDataMessageBuilder:(SSKProtoDataMessage
             continue;
         }
 
-        SSKProtoDataMessageBodyRangeBuilder *bodyRangeBuilder = [SSKProtoDataMessageBodyRange builder];
+        SSKProtoBodyRangeBuilder *bodyRangeBuilder = [SSKProtoBodyRange builder];
         [bodyRangeBuilder setStart:(uint32_t)range.location];
         [bodyRangeBuilder setLength:(uint32_t)range.length];
         [bodyRangeBuilder setMentionUuid:uuid.UUIDString];
 
         NSError *error;
-        SSKProtoDataMessageBodyRange *_Nullable bodyRange = [bodyRangeBuilder buildAndReturnError:&error];
+        SSKProtoBodyRange *_Nullable bodyRange = [bodyRangeBuilder buildAndReturnError:&error];
         if (!bodyRange || error) {
             OWSFailDebug(@"could not build protobuf: %@", error);
             return nil;
@@ -1434,8 +1434,8 @@ - (nullable SSKProtoDataMessageQuoteBuilder *)quotedMessageBuilderWithTransactio
         hasQuotedText = YES;
         [quoteBuilder setText:quotedMessage.body];
 
-        NSArray<SSKProtoDataMessageBodyRange *> *bodyRanges =
-            [self bodyRangeProtosWithBodyText:self.quotedMessage.body andBodyRanges:self.quotedMessage.bodyRanges];
+        NSArray<SSKProtoBodyRange *> *bodyRanges = [self bodyRangeProtosWithBodyText:self.quotedMessage.body
+                                                                       andBodyRanges:self.quotedMessage.bodyRanges];
         if (bodyRanges.count > 0) {
             [quoteBuilder setBodyRanges:bodyRanges];
         }
diff --git a/SignalServiceKit/src/Messages/MessageBody.swift b/SignalServiceKit/src/Messages/MessageBody.swift
index 6638cd79956..da9a68792b5 100644
--- a/SignalServiceKit/src/Messages/MessageBody.swift
+++ b/SignalServiceKit/src/Messages/MessageBody.swift
@@ -110,7 +110,7 @@ public class MessageBodyRanges: NSObject, NSCopying, NSSecureCoding {
         super.init()
     }
 
-    public convenience init(protos: [SSKProtoDataMessageBodyRange]) {
+    public convenience init(protos: [SSKProtoBodyRange]) {
         var mentions = [NSRange: UUID]()
         for proto in protos {
             guard let mentionUuidString = proto.mentionUuid, let mentionUuid = UUID(uuidString: mentionUuidString) else { continue }
diff --git a/SignalServiceKit/src/Protos/Generated/SSKProto.swift b/SignalServiceKit/src/Protos/Generated/SSKProto.swift
index f8acda8c54a..67e77ac6021 100644
--- a/SignalServiceKit/src/Protos/Generated/SSKProto.swift
+++ b/SignalServiceKit/src/Protos/Generated/SSKProto.swift
@@ -4029,7 +4029,7 @@ public class SSKProtoDataMessageQuote: NSObject, Codable, NSSecureCoding {
     public let attachments: [SSKProtoDataMessageQuoteQuotedAttachment]
 
     @objc
-    public let bodyRanges: [SSKProtoDataMessageBodyRange]
+    public let bodyRanges: [SSKProtoBodyRange]
 
     @objc
     public var authorUuid: String? {
@@ -4093,7 +4093,7 @@ public class SSKProtoDataMessageQuote: NSObject, Codable, NSSecureCoding {
     private init(proto: SignalServiceProtos_DataMessage.Quote,
                  id: UInt64,
                  attachments: [SSKProtoDataMessageQuoteQuotedAttachment],
-                 bodyRanges: [SSKProtoDataMessageBodyRange]) {
+                 bodyRanges: [SSKProtoBodyRange]) {
         self.proto = proto
         self.id = id
         self.attachments = attachments
@@ -4147,8 +4147,8 @@ public class SSKProtoDataMessageQuote: NSObject, Codable, NSSecureCoding {
         var attachments: [SSKProtoDataMessageQuoteQuotedAttachment] = []
         attachments = proto.attachments.map { SSKProtoDataMessageQuoteQuotedAttachment($0) }
 
-        var bodyRanges: [SSKProtoDataMessageBodyRange] = []
-        bodyRanges = proto.bodyRanges.map { SSKProtoDataMessageBodyRange($0) }
+        var bodyRanges: [SSKProtoBodyRange] = []
+        bodyRanges = proto.bodyRanges.map { SSKProtoBodyRange($0) }
 
         self.init(proto: proto,
                   id: id,
@@ -4273,12 +4273,12 @@ public class SSKProtoDataMessageQuoteBuilder: NSObject {
     }
 
     @objc
-    public func addBodyRanges(_ valueParam: SSKProtoDataMessageBodyRange) {
+    public func addBodyRanges(_ valueParam: SSKProtoBodyRange) {
         proto.bodyRanges.append(valueParam.proto)
     }
 
     @objc
-    public func setBodyRanges(_ wrappedItems: [SSKProtoDataMessageBodyRange]) {
+    public func setBodyRanges(_ wrappedItems: [SSKProtoBodyRange]) {
         proto.bodyRanges = wrappedItems.map { $0.proto }
     }
 
@@ -6577,233 +6577,6 @@ extension SSKProtoDataMessageDeleteBuilder {
 
 #endif
 
-// MARK: - SSKProtoDataMessageBodyRange
-
-@objc
-public class SSKProtoDataMessageBodyRange: NSObject, Codable, NSSecureCoding {
-
-    fileprivate let proto: SignalServiceProtos_DataMessage.BodyRange
-
-    @objc
-    public var start: UInt32 {
-        return proto.start
-    }
-    @objc
-    public var hasStart: Bool {
-        return proto.hasStart
-    }
-
-    @objc
-    public var length: UInt32 {
-        return proto.length
-    }
-    @objc
-    public var hasLength: Bool {
-        return proto.hasLength
-    }
-
-    @objc
-    public var mentionUuid: String? {
-        guard hasMentionUuid else {
-            return nil
-        }
-        return proto.mentionUuid
-    }
-    @objc
-    public var hasMentionUuid: Bool {
-        return proto.hasMentionUuid && !proto.mentionUuid.isEmpty
-    }
-
-    @objc
-    public var hasValidMention: Bool {
-        return mentionAddress != nil
-    }
-    @objc
-    public let mentionAddress: SignalServiceAddress?
-
-    public var hasUnknownFields: Bool {
-        return !proto.unknownFields.data.isEmpty
-    }
-    public var unknownFields: SwiftProtobuf.UnknownStorage? {
-        guard hasUnknownFields else { return nil }
-        return proto.unknownFields
-    }
-
-    private init(proto: SignalServiceProtos_DataMessage.BodyRange) {
-        self.proto = proto
-
-        let hasMentionUuid = proto.hasMentionUuid && !proto.mentionUuid.isEmpty
-        let mentionUuid: String? = proto.mentionUuid
-        self.mentionAddress = {
-            guard hasMentionUuid else { return nil }
-
-            let uuidString: String? = {
-                guard hasMentionUuid else { return nil }
-
-                guard let mentionUuid = mentionUuid else {
-                    owsFailDebug("mentionUuid was unexpectedly nil")
-                    return nil
-                }
-
-                return mentionUuid
-            }()
-
-            guard let uuidString = uuidString else { return nil }
-
-            let address = SignalServiceAddress(uuidString: uuidString)
-            guard address.isValid else {
-                owsFailDebug("address was unexpectedly invalid")
-                return nil
-            }
-
-            return address
-        }()
-    }
-
-    @objc
-    public func serializedData() throws -> Data {
-        return try self.proto.serializedData()
-    }
-
-    @objc
-    public convenience init(serializedData: Data) throws {
-        let proto = try SignalServiceProtos_DataMessage.BodyRange(serializedData: serializedData)
-        self.init(proto)
-    }
-
-    fileprivate convenience init(_ proto: SignalServiceProtos_DataMessage.BodyRange) {
-        self.init(proto: proto)
-    }
-
-    public required convenience init(from decoder: Swift.Decoder) throws {
-        let singleValueContainer = try decoder.singleValueContainer()
-        let serializedData = try singleValueContainer.decode(Data.self)
-        try self.init(serializedData: serializedData)
-    }
-    public func encode(to encoder: Swift.Encoder) throws {
-        var singleValueContainer = encoder.singleValueContainer()
-        try singleValueContainer.encode(try serializedData())
-    }
-
-    public static var supportsSecureCoding: Bool { true }
-
-    public required convenience init?(coder: NSCoder) {
-        guard let serializedData = coder.decodeData() else { return nil }
-        do {
-            try self.init(serializedData: serializedData)
-        } catch {
-            owsFailDebug("Failed to decode serialized data \(error)")
-            return nil
-        }
-    }
-
-    public func encode(with coder: NSCoder) {
-        do {
-            coder.encode(try serializedData())
-        } catch {
-            owsFailDebug("Failed to encode serialized data \(error)")
-        }
-    }
-
-    @objc
-    public override var debugDescription: String {
-        return "\(proto)"
-    }
-}
-
-extension SSKProtoDataMessageBodyRange {
-    @objc
-    public static func builder() -> SSKProtoDataMessageBodyRangeBuilder {
-        return SSKProtoDataMessageBodyRangeBuilder()
-    }
-
-    // asBuilder() constructs a builder that reflects the proto's contents.
-    @objc
-    public func asBuilder() -> SSKProtoDataMessageBodyRangeBuilder {
-        let builder = SSKProtoDataMessageBodyRangeBuilder()
-        if hasStart {
-            builder.setStart(start)
-        }
-        if hasLength {
-            builder.setLength(length)
-        }
-        if let _value = mentionUuid {
-            builder.setMentionUuid(_value)
-        }
-        if let _value = unknownFields {
-            builder.setUnknownFields(_value)
-        }
-        return builder
-    }
-}
-
-@objc
-public class SSKProtoDataMessageBodyRangeBuilder: NSObject {
-
-    private var proto = SignalServiceProtos_DataMessage.BodyRange()
-
-    @objc
-    fileprivate override init() {}
-
-    @objc
-    public func setStart(_ valueParam: UInt32) {
-        proto.start = valueParam
-    }
-
-    @objc
-    public func setLength(_ valueParam: UInt32) {
-        proto.length = valueParam
-    }
-
-    @objc
-    @available(swift, obsoleted: 1.0)
-    public func setMentionUuid(_ valueParam: String?) {
-        guard let valueParam = valueParam else { return }
-        proto.mentionUuid = valueParam
-    }
-
-    public func setMentionUuid(_ valueParam: String) {
-        proto.mentionUuid = valueParam
-    }
-
-    public func setUnknownFields(_ unknownFields: SwiftProtobuf.UnknownStorage) {
-        proto.unknownFields = unknownFields
-    }
-
-    @objc
-    public func build() throws -> SSKProtoDataMessageBodyRange {
-        return SSKProtoDataMessageBodyRange(proto)
-    }
-
-    @objc
-    public func buildInfallibly() -> SSKProtoDataMessageBodyRange {
-        return SSKProtoDataMessageBodyRange(proto)
-    }
-
-    @objc
-    public func buildSerializedData() throws -> Data {
-        return try SSKProtoDataMessageBodyRange(proto).serializedData()
-    }
-}
-
-#if TESTABLE_BUILD
-
-extension SSKProtoDataMessageBodyRange {
-    @objc
-    public func serializedDataIgnoringErrors() -> Data? {
-        return try! self.serializedData()
-    }
-}
-
-extension SSKProtoDataMessageBodyRangeBuilder {
-    @objc
-    public func buildIgnoringErrors() -> SSKProtoDataMessageBodyRange? {
-        return self.buildInfallibly()
-    }
-}
-
-#endif
-
 // MARK: - SSKProtoDataMessageGroupCallUpdate
 
 @objc
@@ -8820,7 +8593,7 @@ public class SSKProtoDataMessage: NSObject, Codable, NSSecureCoding {
     public let delete: SSKProtoDataMessageDelete?
 
     @objc
-    public let bodyRanges: [SSKProtoDataMessageBodyRange]
+    public let bodyRanges: [SSKProtoBodyRange]
 
     @objc
     public let groupCallUpdate: SSKProtoDataMessageGroupCallUpdate?
@@ -8921,7 +8694,7 @@ public class SSKProtoDataMessage: NSObject, Codable, NSSecureCoding {
                  sticker: SSKProtoDataMessageSticker?,
                  reaction: SSKProtoDataMessageReaction?,
                  delete: SSKProtoDataMessageDelete?,
-                 bodyRanges: [SSKProtoDataMessageBodyRange],
+                 bodyRanges: [SSKProtoBodyRange],
                  groupCallUpdate: SSKProtoDataMessageGroupCallUpdate?,
                  payment: SSKProtoDataMessagePayment?,
                  storyContext: SSKProtoDataMessageStoryContext?,
@@ -8994,8 +8767,8 @@ public class SSKProtoDataMessage: NSObject, Codable, NSSecureCoding {
             delete = try SSKProtoDataMessageDelete(proto.delete)
         }
 
-        var bodyRanges: [SSKProtoDataMessageBodyRange] = []
-        bodyRanges = proto.bodyRanges.map { SSKProtoDataMessageBodyRange($0) }
+        var bodyRanges: [SSKProtoBodyRange] = []
+        bodyRanges = proto.bodyRanges.map { SSKProtoBodyRange($0) }
 
         var groupCallUpdate: SSKProtoDataMessageGroupCallUpdate?
         if proto.hasGroupCallUpdate {
@@ -9294,12 +9067,12 @@ public class SSKProtoDataMessageBuilder: NSObject {
     }
 
     @objc
-    public func addBodyRanges(_ valueParam: SSKProtoDataMessageBodyRange) {
+    public func addBodyRanges(_ valueParam: SSKProtoBodyRange) {
         proto.bodyRanges.append(valueParam.proto)
     }
 
     @objc
-    public func setBodyRanges(_ wrappedItems: [SSKProtoDataMessageBodyRange]) {
+    public func setBodyRanges(_ wrappedItems: [SSKProtoBodyRange]) {
         proto.bodyRanges = wrappedItems.map { $0.proto }
     }
 
@@ -18966,3 +18739,292 @@ extension SSKProtoPniSignatureMessageBuilder {
 }
 
 #endif
+
+// MARK: - SSKProtoBodyRangeStyle
+
+@objc
+public enum SSKProtoBodyRangeStyle: Int32 {
+    case none = 0
+    case bold = 1
+    case italic = 2
+    case spoiler = 3
+    case strikethrough = 4
+    case monospace = 5
+}
+
+private func SSKProtoBodyRangeStyleWrap(_ value: SignalServiceProtos_BodyRange.Style) -> SSKProtoBodyRangeStyle {
+    switch value {
+    case .none: return .none
+    case .bold: return .bold
+    case .italic: return .italic
+    case .spoiler: return .spoiler
+    case .strikethrough: return .strikethrough
+    case .monospace: return .monospace
+    }
+}
+
+private func SSKProtoBodyRangeStyleUnwrap(_ value: SSKProtoBodyRangeStyle) -> SignalServiceProtos_BodyRange.Style {
+    switch value {
+    case .none: return .none
+    case .bold: return .bold
+    case .italic: return .italic
+    case .spoiler: return .spoiler
+    case .strikethrough: return .strikethrough
+    case .monospace: return .monospace
+    }
+}
+
+// MARK: - SSKProtoBodyRange
+
+@objc
+public class SSKProtoBodyRange: NSObject, Codable, NSSecureCoding {
+
+    fileprivate let proto: SignalServiceProtos_BodyRange
+
+    @objc
+    public var start: UInt32 {
+        return proto.start
+    }
+    @objc
+    public var hasStart: Bool {
+        return proto.hasStart
+    }
+
+    @objc
+    public var length: UInt32 {
+        return proto.length
+    }
+    @objc
+    public var hasLength: Bool {
+        return proto.hasLength
+    }
+
+    @objc
+    public var mentionUuid: String? {
+        guard hasMentionUuid else {
+            return nil
+        }
+        return proto.mentionUuid
+    }
+    @objc
+    public var hasMentionUuid: Bool {
+        return proto.hasMentionUuid && !proto.mentionUuid.isEmpty
+    }
+
+    public var style: SSKProtoBodyRangeStyle? {
+        guard hasStyle else {
+            return nil
+        }
+        return SSKProtoBodyRangeStyleWrap(proto.style)
+    }
+    // This "unwrapped" accessor should only be used if the "has value" accessor has already been checked.
+    @objc
+    public var unwrappedStyle: SSKProtoBodyRangeStyle {
+        if !hasStyle {
+            // TODO: We could make this a crashing assert.
+            owsFailDebug("Unsafe unwrap of missing optional: BodyRange.style.")
+        }
+        return SSKProtoBodyRangeStyleWrap(proto.style)
+    }
+    @objc
+    public var hasStyle: Bool {
+        return proto.hasStyle
+    }
+
+    @objc
+    public var hasValidMention: Bool {
+        return mentionAddress != nil
+    }
+    @objc
+    public let mentionAddress: SignalServiceAddress?
+
+    public var hasUnknownFields: Bool {
+        return !proto.unknownFields.data.isEmpty
+    }
+    public var unknownFields: SwiftProtobuf.UnknownStorage? {
+        guard hasUnknownFields else { return nil }
+        return proto.unknownFields
+    }
+
+    private init(proto: SignalServiceProtos_BodyRange) {
+        self.proto = proto
+
+        let hasMentionUuid = proto.hasMentionUuid && !proto.mentionUuid.isEmpty
+        let mentionUuid: String? = proto.mentionUuid
+        self.mentionAddress = {
+            guard hasMentionUuid else { return nil }
+
+            let uuidString: String? = {
+                guard hasMentionUuid else { return nil }
+
+                guard let mentionUuid = mentionUuid else {
+                    owsFailDebug("mentionUuid was unexpectedly nil")
+                    return nil
+                }
+
+                return mentionUuid
+            }()
+
+            guard let uuidString = uuidString else { return nil }
+
+            let address = SignalServiceAddress(uuidString: uuidString)
+            guard address.isValid else {
+                owsFailDebug("address was unexpectedly invalid")
+                return nil
+            }
+
+            return address
+        }()
+    }
+
+    @objc
+    public func serializedData() throws -> Data {
+        return try self.proto.serializedData()
+    }
+
+    @objc
+    public convenience init(serializedData: Data) throws {
+        let proto = try SignalServiceProtos_BodyRange(serializedData: serializedData)
+        self.init(proto)
+    }
+
+    fileprivate convenience init(_ proto: SignalServiceProtos_BodyRange) {
+        self.init(proto: proto)
+    }
+
+    public required convenience init(from decoder: Swift.Decoder) throws {
+        let singleValueContainer = try decoder.singleValueContainer()
+        let serializedData = try singleValueContainer.decode(Data.self)
+        try self.init(serializedData: serializedData)
+    }
+    public func encode(to encoder: Swift.Encoder) throws {
+        var singleValueContainer = encoder.singleValueContainer()
+        try singleValueContainer.encode(try serializedData())
+    }
+
+    public static var supportsSecureCoding: Bool { true }
+
+    public required convenience init?(coder: NSCoder) {
+        guard let serializedData = coder.decodeData() else { return nil }
+        do {
+            try self.init(serializedData: serializedData)
+        } catch {
+            owsFailDebug("Failed to decode serialized data \(error)")
+            return nil
+        }
+    }
+
+    public func encode(with coder: NSCoder) {
+        do {
+            coder.encode(try serializedData())
+        } catch {
+            owsFailDebug("Failed to encode serialized data \(error)")
+        }
+    }
+
+    @objc
+    public override var debugDescription: String {
+        return "\(proto)"
+    }
+}
+
+extension SSKProtoBodyRange {
+    @objc
+    public static func builder() -> SSKProtoBodyRangeBuilder {
+        return SSKProtoBodyRangeBuilder()
+    }
+
+    // asBuilder() constructs a builder that reflects the proto's contents.
+    @objc
+    public func asBuilder() -> SSKProtoBodyRangeBuilder {
+        let builder = SSKProtoBodyRangeBuilder()
+        if hasStart {
+            builder.setStart(start)
+        }
+        if hasLength {
+            builder.setLength(length)
+        }
+        if let _value = mentionUuid {
+            builder.setMentionUuid(_value)
+        }
+        if let _value = style {
+            builder.setStyle(_value)
+        }
+        if let _value = unknownFields {
+            builder.setUnknownFields(_value)
+        }
+        return builder
+    }
+}
+
+@objc
+public class SSKProtoBodyRangeBuilder: NSObject {
+
+    private var proto = SignalServiceProtos_BodyRange()
+
+    @objc
+    fileprivate override init() {}
+
+    @objc
+    public func setStart(_ valueParam: UInt32) {
+        proto.start = valueParam
+    }
+
+    @objc
+    public func setLength(_ valueParam: UInt32) {
+        proto.length = valueParam
+    }
+
+    @objc
+    @available(swift, obsoleted: 1.0)
+    public func setMentionUuid(_ valueParam: String?) {
+        guard let valueParam = valueParam else { return }
+        proto.mentionUuid = valueParam
+    }
+
+    public func setMentionUuid(_ valueParam: String) {
+        proto.mentionUuid = valueParam
+    }
+
+    @objc
+    public func setStyle(_ valueParam: SSKProtoBodyRangeStyle) {
+        proto.style = SSKProtoBodyRangeStyleUnwrap(valueParam)
+    }
+
+    public func setUnknownFields(_ unknownFields: SwiftProtobuf.UnknownStorage) {
+        proto.unknownFields = unknownFields
+    }
+
+    @objc
+    public func build() throws -> SSKProtoBodyRange {
+        return SSKProtoBodyRange(proto)
+    }
+
+    @objc
+    public func buildInfallibly() -> SSKProtoBodyRange {
+        return SSKProtoBodyRange(proto)
+    }
+
+    @objc
+    public func buildSerializedData() throws -> Data {
+        return try SSKProtoBodyRange(proto).serializedData()
+    }
+}
+
+#if TESTABLE_BUILD
+
+extension SSKProtoBodyRange {
+    @objc
+    public func serializedDataIgnoringErrors() -> Data? {
+        return try! self.serializedData()
+    }
+}
+
+extension SSKProtoBodyRangeBuilder {
+    @objc
+    public func buildIgnoringErrors() -> SSKProtoBodyRange? {
+        return self.buildInfallibly()
+    }
+}
+
+#endif
diff --git a/SignalServiceKit/src/Protos/Generated/SignalService.pb.swift b/SignalServiceKit/src/Protos/Generated/SignalService.pb.swift
index c97c937daa6..75166bc3f3c 100644
--- a/SignalServiceKit/src/Protos/Generated/SignalService.pb.swift
+++ b/SignalServiceKit/src/Protos/Generated/SignalService.pb.swift
@@ -1305,7 +1305,7 @@ struct SignalServiceProtos_DataMessage {
   /// Clears the value of `delete`. Subsequent reads from it will return its default value.
   mutating func clearDelete() {_uniqueStorage()._delete = nil}
 
-  var bodyRanges: [SignalServiceProtos_DataMessage.BodyRange] {
+  var bodyRanges: [SignalServiceProtos_BodyRange] {
     get {return _storage._bodyRanges}
     set {_uniqueStorage()._bodyRanges = newValue}
   }
@@ -1457,7 +1457,7 @@ struct SignalServiceProtos_DataMessage {
 
     var attachments: [SignalServiceProtos_DataMessage.Quote.QuotedAttachment] = []
 
-    var bodyRanges: [SignalServiceProtos_DataMessage.BodyRange] = []
+    var bodyRanges: [SignalServiceProtos_BodyRange] = []
 
     var type: SignalServiceProtos_DataMessage.Quote.TypeEnum {
       get {return _type ?? .normal}
@@ -2111,52 +2111,6 @@ struct SignalServiceProtos_DataMessage {
     fileprivate var _targetSentTimestamp: UInt64? = nil
   }
 
-  struct BodyRange {
-    // SwiftProtobuf.Message conformance is added in an extension below. See the
-    // `Message` and `Message+*Additions` files in the SwiftProtobuf library for
-    // methods supported on all messages.
-
-    var start: UInt32 {
-      get {return _start ?? 0}
-      set {_start = newValue}
-    }
-    /// Returns true if `start` has been explicitly set.
-    var hasStart: Bool {return self._start != nil}
-    /// Clears the value of `start`. Subsequent reads from it will return its default value.
-    mutating func clearStart() {self._start = nil}
-
-    var length: UInt32 {
-      get {return _length ?? 0}
-      set {_length = newValue}
-    }
-    /// Returns true if `length` has been explicitly set.
-    var hasLength: Bool {return self._length != nil}
-    /// Clears the value of `length`. Subsequent reads from it will return its default value.
-    mutating func clearLength() {self._length = nil}
-
-    /// oneof commented out because swift generated
-    /// enum with associated values can't be converted
-    /// to objc representation
-    ///
-    /// oneof associatedValue {
-    var mentionUuid: String {
-      get {return _mentionUuid ?? String()}
-      set {_mentionUuid = newValue}
-    }
-    /// Returns true if `mentionUuid` has been explicitly set.
-    var hasMentionUuid: Bool {return self._mentionUuid != nil}
-    /// Clears the value of `mentionUuid`. Subsequent reads from it will return its default value.
-    mutating func clearMentionUuid() {self._mentionUuid = nil}
-
-    var unknownFields = SwiftProtobuf.UnknownStorage()
-
-    init() {}
-
-    fileprivate var _start: UInt32? = nil
-    fileprivate var _length: UInt32? = nil
-    fileprivate var _mentionUuid: String? = nil
-  }
-
   struct GroupCallUpdate {
     // SwiftProtobuf.Message conformance is added in an extension below. See the
     // `Message` and `Message+*Additions` files in the SwiftProtobuf library for
@@ -4849,6 +4803,109 @@ struct SignalServiceProtos_PniSignatureMessage {
   fileprivate var _signature: Data? = nil
 }
 
+struct SignalServiceProtos_BodyRange {
+  // SwiftProtobuf.Message conformance is added in an extension below. See the
+  // `Message` and `Message+*Additions` files in the SwiftProtobuf library for
+  // methods supported on all messages.
+
+  var start: UInt32 {
+    get {return _start ?? 0}
+    set {_start = newValue}
+  }
+  /// Returns true if `start` has been explicitly set.
+  var hasStart: Bool {return self._start != nil}
+  /// Clears the value of `start`. Subsequent reads from it will return its default value.
+  mutating func clearStart() {self._start = nil}
+
+  var length: UInt32 {
+    get {return _length ?? 0}
+    set {_length = newValue}
+  }
+  /// Returns true if `length` has been explicitly set.
+  var hasLength: Bool {return self._length != nil}
+  /// Clears the value of `length`. Subsequent reads from it will return its default value.
+  mutating func clearLength() {self._length = nil}
+
+  /// oneof commented out because swift generated
+  /// enum with associated values can't be converted
+  /// to objc representation
+  ///
+  /// oneof associatedValue {
+  var mentionUuid: String {
+    get {return _mentionUuid ?? String()}
+    set {_mentionUuid = newValue}
+  }
+  /// Returns true if `mentionUuid` has been explicitly set.
+  var hasMentionUuid: Bool {return self._mentionUuid != nil}
+  /// Clears the value of `mentionUuid`. Subsequent reads from it will return its default value.
+  mutating func clearMentionUuid() {self._mentionUuid = nil}
+
+  /// }
+  var style: SignalServiceProtos_BodyRange.Style {
+    get {return _style ?? .none}
+    set {_style = newValue}
+  }
+  /// Returns true if `style` has been explicitly set.
+  var hasStyle: Bool {return self._style != nil}
+  /// Clears the value of `style`. Subsequent reads from it will return its default value.
+  mutating func clearStyle() {self._style = nil}
+
+  var unknownFields = SwiftProtobuf.UnknownStorage()
+
+  enum Style: SwiftProtobuf.Enum {
+    typealias RawValue = Int
+    case none // = 0
+    case bold // = 1
+    case italic // = 2
+    case spoiler // = 3
+    case strikethrough // = 4
+    case monospace // = 5
+
+    init() {
+      self = .none
+    }
+
+    init?(rawValue: Int) {
+      switch rawValue {
+      case 0: self = .none
+      case 1: self = .bold
+      case 2: self = .italic
+      case 3: self = .spoiler
+      case 4: self = .strikethrough
+      case 5: self = .monospace
+      default: return nil
+      }
+    }
+
+    var rawValue: Int {
+      switch self {
+      case .none: return 0
+      case .bold: return 1
+      case .italic: return 2
+      case .spoiler: return 3
+      case .strikethrough: return 4
+      case .monospace: return 5
+      }
+    }
+
+  }
+
+  init() {}
+
+  fileprivate var _start: UInt32? = nil
+  fileprivate var _length: UInt32? = nil
+  fileprivate var _mentionUuid: String? = nil
+  fileprivate var _style: SignalServiceProtos_BodyRange.Style? = nil
+}
+
+#if swift(>=4.2)
+
+extension SignalServiceProtos_BodyRange.Style: CaseIterable {
+  // Support synthesized by the compiler.
+}
+
+#endif  // swift(>=4.2)
+
 #if swift(>=5.5) && canImport(_Concurrency)
 extension SignalServiceProtos_Envelope: @unchecked Sendable {}
 extension SignalServiceProtos_Envelope.TypeEnum: @unchecked Sendable {}
@@ -4888,7 +4945,6 @@ extension SignalServiceProtos_DataMessage.Contact.Avatar: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.Sticker: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.Reaction: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.Delete: @unchecked Sendable {}
-extension SignalServiceProtos_DataMessage.BodyRange: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.GroupCallUpdate: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.Payment: @unchecked Sendable {}
 extension SignalServiceProtos_DataMessage.Payment.Amount: @unchecked Sendable {}
@@ -4950,6 +5006,8 @@ extension SignalServiceProtos_PaymentAddress: @unchecked Sendable {}
 extension SignalServiceProtos_PaymentAddress.MobileCoin: @unchecked Sendable {}
 extension SignalServiceProtos_DecryptionErrorMessage: @unchecked Sendable {}
 extension SignalServiceProtos_PniSignatureMessage: @unchecked Sendable {}
+extension SignalServiceProtos_BodyRange: @unchecked Sendable {}
+extension SignalServiceProtos_BodyRange.Style: @unchecked Sendable {}
 #endif  // swift(>=5.5) && canImport(_Concurrency)
 
 // MARK: - Code below here is support for the SwiftProtobuf runtime.
@@ -6054,7 +6112,7 @@ extension SignalServiceProtos_DataMessage: SwiftProtobuf.Message, SwiftProtobuf.
     var _isViewOnce: Bool? = nil
     var _reaction: SignalServiceProtos_DataMessage.Reaction? = nil
     var _delete: SignalServiceProtos_DataMessage.Delete? = nil
-    var _bodyRanges: [SignalServiceProtos_DataMessage.BodyRange] = []
+    var _bodyRanges: [SignalServiceProtos_BodyRange] = []
     var _groupCallUpdate: SignalServiceProtos_DataMessage.GroupCallUpdate? = nil
     var _payment: SignalServiceProtos_DataMessage.Payment? = nil
     var _storyContext: SignalServiceProtos_DataMessage.StoryContext? = nil
@@ -7029,54 +7087,6 @@ extension SignalServiceProtos_DataMessage.Delete: SwiftProtobuf.Message, SwiftPr
   }
 }
 
-extension SignalServiceProtos_DataMessage.BodyRange: SwiftProtobuf.Message, SwiftProtobuf._MessageImplementationBase, SwiftProtobuf._ProtoNameProviding {
-  static let protoMessageName: String = SignalServiceProtos_DataMessage.protoMessageName + ".BodyRange"
-  static let _protobuf_nameMap: SwiftProtobuf._NameMap = [
-    1: .same(proto: "start"),
-    2: .same(proto: "length"),
-    3: .same(proto: "mentionUuid"),
-  ]
-
-  mutating func decodeMessage<D: SwiftProtobuf.Decoder>(decoder: inout D) throws {
-    while let fieldNumber = try decoder.nextFieldNumber() {
-      // The use of inline closures is to circumvent an issue where the compiler
-      // allocates stack space for every case branch when no optimizations are
-      // enabled. https://github.com/apple/swift-protobuf/issues/1034
-      switch fieldNumber {
-      case 1: try { try decoder.decodeSingularUInt32Field(value: &self._start) }()
-      case 2: try { try decoder.decodeSingularUInt32Field(value: &self._length) }()
-      case 3: try { try decoder.decodeSingularStringField(value: &self._mentionUuid) }()
-      default: break
-      }
-    }
-  }
-
-  func traverse<V: SwiftProtobuf.Visitor>(visitor: inout V) throws {
-    // The use of inline closures is to circumvent an issue where the compiler
-    // allocates stack space for every if/case branch local when no optimizations
-    // are enabled. https://github.com/apple/swift-protobuf/issues/1034 and
-    // https://github.com/apple/swift-protobuf/issues/1182
-    try { if let v = self._start {
-      try visitor.visitSingularUInt32Field(value: v, fieldNumber: 1)
-    } }()
-    try { if let v = self._length {
-      try visitor.visitSingularUInt32Field(value: v, fieldNumber: 2)
-    } }()
-    try { if let v = self._mentionUuid {
-      try visitor.visitSingularStringField(value: v, fieldNumber: 3)
-    } }()
-    try unknownFields.traverse(visitor: &visitor)
-  }
-
-  static func ==(lhs: SignalServiceProtos_DataMessage.BodyRange, rhs: SignalServiceProtos_DataMessage.BodyRange) -> Bool {
-    if lhs._start != rhs._start {return false}
-    if lhs._length != rhs._length {return false}
-    if lhs._mentionUuid != rhs._mentionUuid {return false}
-    if lhs.unknownFields != rhs.unknownFields {return false}
-    return true
-  }
-}
-
 extension SignalServiceProtos_DataMessage.GroupCallUpdate: SwiftProtobuf.Message, SwiftProtobuf._MessageImplementationBase, SwiftProtobuf._ProtoNameProviding {
   static let protoMessageName: String = SignalServiceProtos_DataMessage.protoMessageName + ".GroupCallUpdate"
   static let _protobuf_nameMap: SwiftProtobuf._NameMap = [
@@ -9858,3 +9868,68 @@ extension SignalServiceProtos_PniSignatureMessage: SwiftProtobuf.Message, SwiftP
     return true
   }
 }
+
+extension SignalServiceProtos_BodyRange: SwiftProtobuf.Message, SwiftProtobuf._MessageImplementationBase, SwiftProtobuf._ProtoNameProviding {
+  static let protoMessageName: String = _protobuf_package + ".BodyRange"
+  static let _protobuf_nameMap: SwiftProtobuf._NameMap = [
+    1: .same(proto: "start"),
+    2: .same(proto: "length"),
+    3: .same(proto: "mentionUuid"),
+    4: .same(proto: "style"),
+  ]
+
+  mutating func decodeMessage<D: SwiftProtobuf.Decoder>(decoder: inout D) throws {
+    while let fieldNumber = try decoder.nextFieldNumber() {
+      // The use of inline closures is to circumvent an issue where the compiler
+      // allocates stack space for every case branch when no optimizations are
+      // enabled. https://github.com/apple/swift-protobuf/issues/1034
+      switch fieldNumber {
+      case 1: try { try decoder.decodeSingularUInt32Field(value: &self._start) }()
+      case 2: try { try decoder.decodeSingularUInt32Field(value: &self._length) }()
+      case 3: try { try decoder.decodeSingularStringField(value: &self._mentionUuid) }()
+      case 4: try { try decoder.decodeSingularEnumField(value: &self._style) }()
+      default: break
+      }
+    }
+  }
+
+  func traverse<V: SwiftProtobuf.Visitor>(visitor: inout V) throws {
+    // The use of inline closures is to circumvent an issue where the compiler
+    // allocates stack space for every if/case branch local when no optimizations
+    // are enabled. https://github.com/apple/swift-protobuf/issues/1034 and
+    // https://github.com/apple/swift-protobuf/issues/1182
+    try { if let v = self._start {
+      try visitor.visitSingularUInt32Field(value: v, fieldNumber: 1)
+    } }()
+    try { if let v = self._length {
+      try visitor.visitSingularUInt32Field(value: v, fieldNumber: 2)
+    } }()
+    try { if let v = self._mentionUuid {
+      try visitor.visitSingularStringField(value: v, fieldNumber: 3)
+    } }()
+    try { if let v = self._style {
+      try visitor.visitSingularEnumField(value: v, fieldNumber: 4)
+    } }()
+    try unknownFields.traverse(visitor: &visitor)
+  }
+
+  static func ==(lhs: SignalServiceProtos_BodyRange, rhs: SignalServiceProtos_BodyRange) -> Bool {
+    if lhs._start != rhs._start {return false}
+    if lhs._length != rhs._length {return false}
+    if lhs._mentionUuid != rhs._mentionUuid {return false}
+    if lhs._style != rhs._style {return false}
+    if lhs.unknownFields != rhs.unknownFields {return false}
+    return true
+  }
+}
+
+extension SignalServiceProtos_BodyRange.Style: SwiftProtobuf._ProtoNameProviding {
+  static let _protobuf_nameMap: SwiftProtobuf._NameMap = [
+    0: .same(proto: "NONE"),
+    1: .same(proto: "BOLD"),
+    2: .same(proto: "ITALIC"),
+    3: .same(proto: "SPOILER"),
+    4: .same(proto: "STRIKETHROUGH"),
+    5: .same(proto: "MONOSPACE"),
+  ]
+}
