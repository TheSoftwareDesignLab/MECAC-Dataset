diff --git a/SignalServiceKit/src/Util/String+SSK.swift b/SignalServiceKit/src/Util/String+SSK.swift
index 7565def7e51..639365b0c54 100644
--- a/SignalServiceKit/src/Util/String+SSK.swift
+++ b/SignalServiceKit/src/Util/String+SSK.swift
@@ -198,6 +198,17 @@ public enum ImageAttachmentHeightReference: Int {
 // MARK: -
 
 public extension NSMutableAttributedString {
+
+    /// Set a default value for the given attribute.  Preserves any existing ranges where the attribute
+    /// is already defined.
+    func addDefaultAttributeToEntireString(_ name: NSAttributedString.Key, value: Any) {
+        enumerateAttribute(name, in: entireRange) { existing, subrange, stop in
+            if existing == nil {
+                addAttribute(name, value: value, range: subrange)
+            }
+        }
+    }
+
     func addAttributeToEntireString(_ name: NSAttributedString.Key, value: Any) {
         addAttribute(name, value: value, range: entireRange)
     }
diff --git a/SignalUI/Views/ConversationView/CVText.swift b/SignalUI/Views/ConversationView/CVText.swift
index 6f4c9cd401f..5503ccd2efa 100644
--- a/SignalUI/Views/ConversationView/CVText.swift
+++ b/SignalUI/Views/ConversationView/CVText.swift
@@ -320,11 +320,7 @@ private extension NSTextContainer {
             // The original attributed string may not have an overall font assigned.
             // Without it, measurement will not be correct. We assign the default font
             // to any ranges that don't currently have a font assigned.
-            mutableText.enumerateAttribute(.font, in: mutableText.entireRange) { existingFont, subrange, stop in
-                if existingFont == nil {
-                    mutableText.addAttribute(.font, value: font, range: subrange)
-                }
-            }
+            mutableText.addDefaultAttributeToEntireString(.font, value: font)
             attributedString = mutableText
         case .text(let text):
             attributedString = NSAttributedString(string: text, attributes: [.font: font])
diff --git a/SignalUI/Views/ConversationView/CVTextLabel.swift b/SignalUI/Views/ConversationView/CVTextLabel.swift
index 94abc26a00a..6e88259d426 100644
--- a/SignalUI/Views/ConversationView/CVTextLabel.swift
+++ b/SignalUI/Views/ConversationView/CVTextLabel.swift
@@ -324,14 +324,13 @@ public class CVTextLabel: NSObject {
         fileprivate static func formatAttributedString(config: Config) -> NSMutableAttributedString {
             let attributedString = NSMutableAttributedString(attributedString: config.attributedString)
 
-            // The original attributed string may not have an overall font
-            // assigned. Without it, measurement will not be correct. We
-            // assign a font here with "add" which will not override any
-            // ranges that already have a different font assigned.
-            attributedString.addAttributeToEntireString(.font, value: config.font)
-
-            // Color needs to be set on the string.
-            attributedString.addAttributeToEntireString(.foregroundColor, value: config.textColor)
+            // The original attributed string may not have an overall font assigned.
+            // Without it, measurement will not be correct. We assign the default font
+            // to any ranges that don't currently have a font assigned.
+            attributedString.addDefaultAttributeToEntireString(.font, value: config.font)
+
+            // Set a default text color based on the passed in config
+            attributedString.addDefaultAttributeToEntireString(.foregroundColor, value: config.textColor)
 
             var range = NSRange(location: 0, length: 0)
             var attributes = attributedString.attributes(at: 0, effectiveRange: &range)
