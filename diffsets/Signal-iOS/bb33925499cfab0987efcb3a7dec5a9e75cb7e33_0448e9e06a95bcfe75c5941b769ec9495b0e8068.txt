diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index c9ce4071392..1b703d5ec13 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -607,6 +607,7 @@
 		450C801220AD1D5B00F3A091 /* UIDevice+featureSupport.swift in Sources */ = {isa = PBXBuildFile; fileRef = 45BB93371E688E14001E3939 /* UIDevice+featureSupport.swift */; };
 		450D19131F85236600970622 /* RemoteVideoView.m in Sources */ = {isa = PBXBuildFile; fileRef = 450D19121F85236600970622 /* RemoteVideoView.m */; };
 		451166C01FD86B98000739BA /* AccountManager.swift in Sources */ = {isa = PBXBuildFile; fileRef = 451166BF1FD86B98000739BA /* AccountManager.swift */; };
+		45161BA928A2E54B0055AB45 /* ThreadReplyInfo.swift in Sources */ = {isa = PBXBuildFile; fileRef = 45161BA828A2E54B0055AB45 /* ThreadReplyInfo.swift */; };
 		45194F8F1FD71FF500333B2C /* ThreadUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = 346129BE1FD2068600532771 /* ThreadUtil.m */; };
 		45194F901FD7200000333B2C /* ThreadUtil.h in Headers */ = {isa = PBXBuildFile; fileRef = 346129BD1FD2068600532771 /* ThreadUtil.h */; settings = {ATTRIBUTES = (Public, ); }; };
 		451F8A351FD710DE005CB9DA /* Searcher.swift in Sources */ = {isa = PBXBuildFile; fileRef = 45360B8C1F9521F800FA666C /* Searcher.swift */; };
@@ -2771,6 +2772,7 @@
 		450D19111F85236600970622 /* RemoteVideoView.h */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.h; path = RemoteVideoView.h; sourceTree = "<group>"; };
 		450D19121F85236600970622 /* RemoteVideoView.m */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.objc; path = RemoteVideoView.m; sourceTree = "<group>"; };
 		451166BF1FD86B98000739BA /* AccountManager.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = AccountManager.swift; sourceTree = "<group>"; };
+		45161BA828A2E54B0055AB45 /* ThreadReplyInfo.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ThreadReplyInfo.swift; sourceTree = "<group>"; };
 		451764291DE939FD00EDB8B9 /* ContactCell.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ContactCell.swift; sourceTree = "<group>"; };
 		452037CF1EE84975004E4CDF /* DebugUISessionState.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = DebugUISessionState.h; sourceTree = "<group>"; };
 		452037D01EE84975004E4CDF /* DebugUISessionState.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = DebugUISessionState.m; sourceTree = "<group>"; };
@@ -7414,6 +7416,7 @@
 		F9C5C9CC289453B100548EEE /* Contacts */ = {
 			isa = PBXGroup;
 			children = (
+				45161BA828A2E54B0055AB45 /* ThreadReplyInfo.swift */,
 				F9C5C9CD289453B100548EEE /* Contact.m */,
 				F9C5C9CE289453B100548EEE /* SignalRecipient.m */,
 				F9C5C9CF289453B100548EEE /* SignalRecipient+SDS.swift */,
@@ -10775,6 +10778,7 @@
 				F9C5CCAF289453B300548EEE /* SSKEnvironment.m in Sources */,
 				F9C5CE72289453B400548EEE /* GroupMembership.swift in Sources */,
 				F9C5CBD0289453B300548EEE /* TSMessage+Builder.swift in Sources */,
+				45161BA928A2E54B0055AB45 /* ThreadReplyInfo.swift in Sources */,
 				F9C5CDB1289453B400548EEE /* GiphyAPI.swift in Sources */,
 				F9C5CDE3289453B400548EEE /* MailtoLink.swift in Sources */,
 				F9C5CD58289453B300548EEE /* BaseModel.m in Sources */,
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVItemViewModelImpl.swift b/Signal/src/ViewControllers/ConversationView/CV/CVItemViewModelImpl.swift
index 9364bc61ba8..5dbd3419175 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVItemViewModelImpl.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVItemViewModelImpl.swift
@@ -4,118 +4,130 @@
 
 import Foundation
 
-// This class should only be accessed on the main thread.
-public class CVItemViewModelImpl: NSObject, CVItemViewModel {
+@objc
+public class CVComponentStateWrapper: NSObject, CVItemViewModel {
+    public var interaction: TSInteraction
+    public var componentState: CVComponentState
 
-    public let renderItem: CVRenderItem
-    public var componentState: CVComponentState { renderItem.componentState }
+    init(interaction: TSInteraction, componentState: CVComponentState) {
+        self.interaction = interaction
+        self.componentState = componentState
+    }
 
-    @objc
-    public required init(renderItem: CVRenderItem) {
+    public var contactShare: ContactShareViewModel? {
         AssertIsOnMainThread()
 
-        self.renderItem = renderItem
+        return componentState.contactShareModel
     }
 
-    // MARK: -
-
-    public var interaction: TSInteraction {
+    public var isGiftBadge: Bool {
         AssertIsOnMainThread()
 
-        return renderItem.interaction
+        return componentState.giftBadge != nil
     }
 
-    public var thread: TSThread {
+    public var stickerMetadata: StickerMetadata? {
         AssertIsOnMainThread()
 
-        return renderItem.itemModel.thread
+        return componentState.stickerMetadata
     }
 
-    public var messageCellType: CVMessageCellType {
+    public var stickerAttachment: TSAttachmentStream? {
         AssertIsOnMainThread()
 
-        return componentState.messageCellType
+        return componentState.stickerAttachment
     }
 
-    public var reactionState: InteractionReactionState? {
+    public var stickerInfo: StickerInfo? {
         AssertIsOnMainThread()
 
-        return componentState.reactions?.reactionState
+        return componentState.stickerInfo
     }
 
-    public var displayableBodyText: DisplayableText? {
+    public var linkPreview: OWSLinkPreview? {
         AssertIsOnMainThread()
 
-        return componentState.displayableBodyText
+        return componentState.linkPreviewModel
     }
 
-    public var isViewOnce: Bool {
+    public var linkPreviewAttachment: TSAttachment? {
         AssertIsOnMainThread()
 
-        guard let message = interaction as? TSMessage else {
-            return false
-        }
-        return message.isViewOnceMessage
+        return componentState.linkPreview?.linkPreviewAttachment
     }
 
-    public var wasRemotelyDeleted: Bool {
+}
+
+// This class should only be accessed on the main thread.
+public class CVItemViewModelImpl: CVComponentStateWrapper {
+    public let renderItem: CVRenderItem
+
+    @objc
+    public required init(renderItem: CVRenderItem) {
         AssertIsOnMainThread()
 
-        return (interaction as? TSMessage)?.wasRemotelyDeleted == true
+        self.renderItem = renderItem
+
+        super.init(interaction: renderItem.interaction, componentState: renderItem.componentState)
     }
 
-    public var audioAttachmentStream: TSAttachmentStream? {
+    // MARK: -
+
+    public var thread: TSThread {
         AssertIsOnMainThread()
 
-        return componentState.audioAttachmentStream
+        return renderItem.itemModel.thread
     }
 
-    public var genericAttachmentStream: TSAttachmentStream? {
+    public var messageCellType: CVMessageCellType {
         AssertIsOnMainThread()
 
-        return componentState.genericAttachmentStream
+        return componentState.messageCellType
     }
 
-    public var bodyMediaAttachmentStreams: [TSAttachmentStream] {
+    public var reactionState: InteractionReactionState? {
         AssertIsOnMainThread()
 
-        return componentState.bodyMediaAttachmentStreams
+        return componentState.reactions?.reactionState
     }
 
-    public var contactShare: ContactShareViewModel? {
+    public var displayableBodyText: DisplayableText? {
         AssertIsOnMainThread()
 
-        return componentState.contactShareModel
+        return componentState.displayableBodyText
     }
 
-    public var stickerMetadata: StickerMetadata? {
+    public var isViewOnce: Bool {
         AssertIsOnMainThread()
 
-        return componentState.stickerMetadata
+        guard let message = interaction as? TSMessage else {
+            return false
+        }
+        return message.isViewOnceMessage
     }
 
-    public var stickerAttachment: TSAttachmentStream? {
+    public var wasRemotelyDeleted: Bool {
         AssertIsOnMainThread()
 
-        return componentState.stickerAttachment
+        return (interaction as? TSMessage)?.wasRemotelyDeleted == true
     }
 
-    public var stickerInfo: StickerInfo? {
+    public var audioAttachmentStream: TSAttachmentStream? {
         AssertIsOnMainThread()
 
-        return componentState.stickerInfo
+        return componentState.audioAttachmentStream
     }
 
-    public var linkPreview: OWSLinkPreview? {
+    public var genericAttachmentStream: TSAttachmentStream? {
         AssertIsOnMainThread()
 
-        return componentState.linkPreviewModel
+        return componentState.genericAttachmentStream
     }
 
-    public var linkPreviewAttachment: TSAttachment? {
+    public var bodyMediaAttachmentStreams: [TSAttachmentStream] {
         AssertIsOnMainThread()
 
-        return componentState.linkPreview?.linkPreviewAttachment
+        return componentState.bodyMediaAttachmentStreams
     }
 
     public var hasUnloadedAttachments: Bool {
@@ -137,12 +149,6 @@ public class CVItemViewModelImpl: NSObject, CVItemViewModel {
         }
         return !bodyMedia.items.compactMap { $0.attachment as? TSAttachmentPointer }.isEmpty
     }
-
-    public var isGiftBadge: Bool {
-        AssertIsOnMainThread()
-
-        return componentState.giftBadge != nil
-    }
 }
 
 // MARK: - Actions
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
index 4bc68fa4f56..fe7edf6bbe0 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2022 Open Whisper Systems. All rights reserved.
 //
 
 #import <SignalUI/BlockListUIUtils.h>
@@ -16,6 +16,7 @@ NS_ASSUME_NONNULL_BEGIN
 @class PhotoCapture;
 @class SignalAttachment;
 @class StickerInfo;
+@class TSThreadReplyInfo;
 @class VoiceMessageModel;
 
 @protocol ConversationInputTextViewDelegate;
@@ -94,6 +95,7 @@ NS_ASSUME_NONNULL_BEGIN
 - (BOOL)isInputViewFirstResponder;
 
 - (nullable MessageBody *)messageBody;
+- (nullable TSThreadReplyInfo *)draftReply;
 - (void)setMessageBody:(nullable MessageBody *)value animated:(BOOL)isAnimated;
 - (void)acceptAutocorrectSuggestion;
 - (void)clearTextMessageAnimated:(BOOL)isAnimated;
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
index 5a0935aa099..71a2d95e2ee 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
@@ -485,6 +485,16 @@ - (nullable MessageBody *)messageBody
     return self.inputTextView.messageBody;
 }
 
+- (nullable TSThreadReplyInfo *)draftReply
+{
+    OWSAssertDebug(self.inputTextView);
+    if (_quotedReply == nil) {
+        return nil;
+    }
+    return [[TSThreadReplyInfo alloc] initWithTimestamp:_quotedReply.timestamp
+                                          authorAddress:_quotedReply.authorAddress];
+}
+
 - (void)setMessageBody:(nullable MessageBody *)value animated:(BOOL)isAnimated
 {
     [self setMessageBody:value animated:isAnimated doLayout:YES];
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+BottomBar.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+BottomBar.swift
index d5802c4bd0b..a3088ea9bed 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+BottomBar.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+BottomBar.swift
@@ -160,10 +160,12 @@ public extension ConversationViewController {
         }
 
         var messageDraft: MessageBody?
+        var replyDraft: ThreadReplyInfo?
         var voiceMemoDraft: VoiceMessageModel?
         if let oldInputToolbar = self.inputToolbar {
             // Maintain draft continuity.
             messageDraft = oldInputToolbar.messageBody()
+            replyDraft = oldInputToolbar.draftReply()
             voiceMemoDraft = oldInputToolbar.voiceMemoDraft
         } else {
             Self.databaseStorage.read { transaction in
@@ -171,11 +173,15 @@ public extension ConversationViewController {
                 if VoiceMessageModels.hasDraft(for: self.thread, transaction: transaction) {
                     voiceMemoDraft = VoiceMessageModel(thread: self.thread)
                 }
+                if messageDraft != nil || voiceMemoDraft != nil {
+                    replyDraft = ThreadReplyInfo(threadUniqueID: self.thread.uniqueId, transaction: transaction)
+                }
             }
         }
 
         let newInputToolbar = buildInputToolbar(conversationStyle: conversationStyle,
                                                 messageDraft: messageDraft,
+                                                draftReply: replyDraft,
                                                 voiceMemoDraft: voiceMemoDraft)
 
         let hadFocus = self.inputToolbar?.isInputViewFirstResponder() ?? false
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+ConversationInputToolbarDelegate.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+ConversationInputToolbarDelegate.swift
index ef01e8ed632..5c6fe9effe5 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+ConversationInputToolbarDelegate.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+ConversationInputToolbarDelegate.swift
@@ -136,7 +136,9 @@ extension ConversationViewController: ConversationInputToolbarDelegate {
                 owsFailDebug("Missing thread.")
                 return
             }
-            thread.update(withDraft: nil, transaction: transaction)
+            thread.update(withDraft: nil,
+                          replyInfo: nil,
+                          transaction: transaction)
         }
 
         if didAddToProfileWhitelist {
@@ -245,6 +247,7 @@ extension ConversationViewController: ConversationInputToolbarDelegate {
         if !inputToolbar.isHidden {
             let thread = self.thread
             let currentDraft = inputToolbar.messageBody()
+            let quotedReply = inputToolbar.quotedReply
             Self.databaseStorage.asyncWrite { transaction in
                 // Reload a fresh instance of the thread model; our models are not
                 // thread-safe, so it wouldn't be safe to update the model in an
@@ -255,17 +258,51 @@ extension ConversationViewController: ConversationInputToolbarDelegate {
                 }
 
                 // Persist the draft only if its changed. This avoids unnecessary model changes.
-                let currentText = currentDraft?.text ?? ""
-                let persistedText = thread.messageDraft ?? ""
-                let currentRanges = currentDraft?.ranges.mentions ?? [:]
-                let persistedRanges = thread.messageDraftBodyRanges?.mentions ?? [:]
-                if currentText != persistedText || currentRanges != persistedRanges {
-                    thread.update(withDraft: currentDraft, transaction: transaction)
+                if Self.draftHasChanged(currentDraft: currentDraft,
+                                        quotedReply: quotedReply,
+                                        thread: thread,
+                                        transaction: transaction) {
+                    let replyInfo: ThreadReplyInfo?
+                    if let quotedReply = quotedReply {
+                        replyInfo = ThreadReplyInfo(timestamp: quotedReply.timestamp,
+                                                    authorAddress: quotedReply.authorAddress)
+                    } else {
+                        replyInfo = nil
+                    }
+                    thread.update(withDraft: currentDraft,
+                                  replyInfo: replyInfo,
+                                  transaction: transaction)
                 }
             }
         }
     }
 
+    private static func draftHasChanged(currentDraft: MessageBody?,
+                                        quotedReply: OWSQuotedReplyModel?,
+                                        thread: TSThread,
+                                        transaction: SDSAnyReadTransaction) -> Bool {
+        let currentText = currentDraft?.text ?? ""
+        let persistedText = thread.messageDraft ?? ""
+        if currentText != persistedText {
+            return true
+        }
+
+        let currentRanges = currentDraft?.ranges.mentions ?? [:]
+        let persistedRanges = thread.messageDraftBodyRanges?.mentions ?? [:]
+        if currentRanges != persistedRanges {
+            return true
+        }
+
+        let persistedQuotedReply = ThreadReplyInfo(threadUniqueID: thread.uniqueId, transaction: transaction)
+        if quotedReply?.timestamp != persistedQuotedReply?.timestamp {
+            return true
+        }
+        if quotedReply?.authorAddress != persistedQuotedReply?.author {
+            return true
+        }
+        return false
+    }
+
     public func tryToSendAttachments(_ attachments: [SignalAttachment],
                                      messageBody: MessageBody?) {
         AssertIsOnMainThread()
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+MessageActionsDelegate.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+MessageActionsDelegate.swift
index 18ab904482c..7f1f4a7bb25 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+MessageActionsDelegate.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+MessageActionsDelegate.swift
@@ -68,7 +68,8 @@ extension ConversationViewController: MessageActionsDelegate {
 
         let load = {
             Self.databaseStorage.read { transaction in
-                OWSQuotedReplyModel.quotedReplyForSending(withItem: itemViewModel, transaction: transaction)
+                OWSQuotedReplyModel.quotedReplyForSending(withItem: itemViewModel,
+                                                          transaction: transaction)
             }
         }
         guard let quotedReply = load() else {
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+UI.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+UI.swift
index aede43c5853..710567c8c56 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+UI.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+UI.swift
@@ -3,6 +3,7 @@
 //
 
 import Foundation
+import SignalServiceKit
 
 extension ConversationViewController {
     public func updateNavigationTitle() {
@@ -262,6 +263,7 @@ extension ConversationViewController {
 
     public func buildInputToolbar(conversationStyle: ConversationStyle,
                                   messageDraft: MessageBody?,
+                                  draftReply: ThreadReplyInfo?,
                                   voiceMemoDraft: VoiceMessageModel?) -> ConversationInputToolbar {
         AssertIsOnMainThread()
         owsAssertDebug(hasViewWillAppearEverBegun)
@@ -273,13 +275,53 @@ extension ConversationViewController {
                                                     inputTextViewDelegate: self,
                                                     mentionDelegate: self)
         inputToolbar.accessibilityIdentifier = "inputToolbar"
-
+        if let draftReply = draftReply, let quotedReply = buildQuotedReply(draftReply) {
+            inputToolbar.quotedReply = quotedReply
+        }
         if let voiceMemoDraft = voiceMemoDraft {
             inputToolbar.showVoiceMemoDraft(voiceMemoDraft)
         }
 
         return inputToolbar
     }
+
+    // When responding to a message and quoting it, the input toolbar needs an OWSQuotedReplyModel.
+    // Building this is a little tricky because we're putting a square peg in a round hole, and this method helps.
+    // Historically, a quoted reply comes from an already-rendered message that's available at the moment that you
+    // choose to reply to a message via the UI. For saved drafts, that UI component may not exist.
+    // This method re-creates the steps that the app goes through when constructing a quoted reply from a message
+    // by making a temporary `CVComponentState`. The ThreadReplyInfo identifies the message being responded to.
+    // Since timestamps aren't unique, this is nondeterministic when things go wrong.
+    func buildQuotedReply(_ draftReply: ThreadReplyInfo) -> OWSQuotedReplyModel? {
+        return Self.databaseStorage.read { transaction in
+            guard let interaction = try? InteractionFinder.interactions(
+                withTimestamp: draftReply.timestamp,
+                filter: { candidate in
+                    if let incoming = candidate as? TSIncomingMessage {
+                        return incoming.authorAddress == draftReply.author
+                    }
+                    if candidate is TSOutgoingMessage {
+                        return draftReply.author.isLocalAddress
+                    }
+                    return false
+                },
+                transaction: transaction
+            ).first else {
+                return nil
+            }
+            guard let componentState = CVLoader.buildStandaloneComponentState(interaction: interaction,
+                                                                              transaction: transaction) else {
+                owsFailDebug("Failed to create component state.")
+                return nil
+            }
+            let wrapper = CVComponentStateWrapper(interaction: interaction,
+                                                  componentState: componentState)
+            return OWSQuotedReplyModel.quotedReplyForSending(withItem: wrapper,
+                                                             transaction: transaction)
+
+        }
+    }
+
 }
 // MARK: - Keyboard Shortcuts
 
diff --git a/Signal/src/ViewControllers/SendMessageFlow.swift b/Signal/src/ViewControllers/SendMessageFlow.swift
index 0999cad6c11..0ddc6f81756 100644
--- a/Signal/src/ViewControllers/SendMessageFlow.swift
+++ b/Signal/src/ViewControllers/SendMessageFlow.swift
@@ -255,7 +255,9 @@ extension SendMessageFlow {
                     throw OWSAssertionError("Unexpected thread state.")
             }
             return self.databaseStorage.write { transaction -> TSThread in
-                thread.update(withDraft: messageBody, transaction: transaction)
+                thread.update(withDraft: messageBody,
+                              replyInfo: nil,
+                              transaction: transaction)
                 return thread
             }
         }.done { (thread: TSThread) in
diff --git a/SignalServiceKit/src/Contacts/TSThread.h b/SignalServiceKit/src/Contacts/TSThread.h
index 97092749fd1..685830c6595 100644
--- a/SignalServiceKit/src/Contacts/TSThread.h
+++ b/SignalServiceKit/src/Contacts/TSThread.h
@@ -15,6 +15,7 @@ NS_ASSUME_NONNULL_BEGIN
 @class SignalServiceAddress;
 @class TSInteraction;
 @class TSInvalidIdentityKeyReceivingErrorMessage;
+@class TSThreadReplyInfo;
 
 typedef NS_CLOSED_ENUM(NSUInteger, TSThreadMentionNotificationMode) {
     TSThreadMentionNotificationMode_Default = 0,
@@ -154,7 +155,9 @@ NS_DESIGNATED_INITIALIZER NS_SWIFT_NAME(init(grdbId:uniqueId:conversationColorNa
  *  @param draftMessageBody Draft to be saved.
  *  @param transaction Database transaction.
  */
-- (void)updateWithDraft:(nullable MessageBody *)draftMessageBody transaction:(SDSAnyWriteTransaction *)transaction;
+- (void)updateWithDraft:(nullable MessageBody *)draftMessageBody
+              replyInfo:(nullable TSThreadReplyInfo *)replyInfo
+            transaction:(SDSAnyWriteTransaction *)transaction;
 
 @property (atomic, readonly) uint64_t mutedUntilTimestampObsolete;
 @property (nonatomic, readonly, nullable) NSDate *mutedUntilDateObsolete;
diff --git a/SignalServiceKit/src/Contacts/TSThread.m b/SignalServiceKit/src/Contacts/TSThread.m
index ab62a8bf449..6c07997d360 100644
--- a/SignalServiceKit/src/Contacts/TSThread.m
+++ b/SignalServiceKit/src/Contacts/TSThread.m
@@ -540,6 +540,7 @@ - (void)softDeleteThreadWithTransaction:(SDSAnyWriteTransaction *)transaction
                              block:^(TSThread *thread) {
                                  thread.messageDraft = nil;
                                  thread.shouldThreadBeVisible = NO;
+                                 [TSThreadReplyInfo deleteWithThreadUniqueID:thread.uniqueId transaction:transaction];
                              }];
 
     // Delete any intents we previously donated for this thread.
@@ -587,13 +588,20 @@ + (BOOL)legacyIsArchivedWithLastMessageDate:(nullable NSDate *)lastMessageDate
     return [archivalDate compare:lastMessageDate] != NSOrderedAscending;
 }
 
-- (void)updateWithDraft:(nullable MessageBody *)draftMessageBody transaction:(SDSAnyWriteTransaction *)transaction
+- (void)updateWithDraft:(nullable MessageBody *)draftMessageBody
+              replyInfo:(nullable TSThreadReplyInfo *)replyInfo
+            transaction:(SDSAnyWriteTransaction *)transaction
 {
     [self anyUpdateWithTransaction:transaction
                              block:^(TSThread *thread) {
                                  thread.messageDraft = draftMessageBody.text;
                                  thread.messageDraftBodyRanges = draftMessageBody.ranges;
                              }];
+    if (replyInfo != nil) {
+        [replyInfo saveWithThreadUniqueID:self.uniqueId transaction:transaction error:nil];
+    } else {
+        [TSThreadReplyInfo deleteWithThreadUniqueID:self.uniqueId transaction:transaction];
+    }
 }
 
 - (void)updateWithMentionNotificationMode:(TSThreadMentionNotificationMode)mentionNotificationMode
diff --git a/SignalServiceKit/src/Contacts/ThreadReplyInfo.swift b/SignalServiceKit/src/Contacts/ThreadReplyInfo.swift
new file mode 100644
index 00000000000..5ea65c76ab0
--- /dev/null
+++ b/SignalServiceKit/src/Contacts/ThreadReplyInfo.swift
@@ -0,0 +1,52 @@
+//
+//  Copyright (c) 2022 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+// Describes a message that is being replied to in a draft.
+@objc(TSThreadReplyInfo)
+public class ThreadReplyInfo: NSObject {
+    private struct InternalContents: Codable {
+        public var timestamp: UInt64
+        public var author: SignalServiceAddress
+    }
+    private let internalContents: InternalContents
+    private static let keyValueStore = SDSKeyValueStore(collection: "TSThreadReplyInfo")
+
+    @objc
+    public init(timestamp: UInt64, authorAddress: SignalServiceAddress) {
+        internalContents = InternalContents(timestamp: timestamp, author: authorAddress)
+    }
+
+    @objc
+    public init?(threadUniqueID: String, transaction: SDSAnyReadTransaction) {
+        guard let encoded = Self.keyValueStore.getData(threadUniqueID, transaction: transaction) else {
+            return nil
+        }
+        guard let decoded = try? JSONDecoder().decode(InternalContents.self, from: encoded) else {
+            return nil
+        }
+        internalContents = decoded
+    }
+
+    @objc public var timestamp: UInt64 {
+        internalContents.timestamp
+    }
+
+    @objc public var author: SignalServiceAddress {
+        internalContents.author
+    }
+
+    @objc
+    public func save(threadUniqueID: String, transaction: SDSAnyWriteTransaction) throws {
+        try Self.keyValueStore.setData(JSONEncoder().encode(internalContents),
+                                       key: threadUniqueID,
+                                       transaction: transaction)
+    }
+
+    @objc
+    public static func delete(threadUniqueID: String, transaction: SDSAnyWriteTransaction) {
+        keyValueStore.removeValue(forKey: threadUniqueID, transaction: transaction)
+    }
+}
diff --git a/SignalServiceKit/tests/Storage/SDSDatabaseStorageTest.swift b/SignalServiceKit/tests/Storage/SDSDatabaseStorageTest.swift
index 7b1e7277380..05d2bc387e8 100644
--- a/SignalServiceKit/tests/Storage/SDSDatabaseStorageTest.swift
+++ b/SignalServiceKit/tests/Storage/SDSDatabaseStorageTest.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2022 Open Whisper Systems. All rights reserved.
 //
 
 import Foundation
@@ -92,7 +92,10 @@ class SDSDatabaseStorageTest: SSKBaseTestSwift {
                 return
             }
             XCTAssertNil(firstThread.messageDraft)
-            firstThread.update(withDraft: MessageBody(text: "Some draft", ranges: .empty), transaction: transaction)
+            firstThread.update(withDraft: MessageBody(text: "Some draft",
+                                                      ranges: .empty),
+                               replyInfo: nil,
+                               transaction: transaction)
         }
         storage.read { transaction in
             let threads = TSThread.anyFetchAll(transaction: transaction)
