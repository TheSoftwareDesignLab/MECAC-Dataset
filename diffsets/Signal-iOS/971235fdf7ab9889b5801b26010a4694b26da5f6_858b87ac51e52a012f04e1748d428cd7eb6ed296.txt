diff --git a/Signal/src/util/Emoji/Emoji+Available.swift b/Signal/src/util/Emoji/Emoji+Available.swift
index 6283657beb2..dd86676fc66 100644
--- a/Signal/src/util/Emoji/Emoji+Available.swift
+++ b/Signal/src/util/Emoji/Emoji+Available.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 extension Emoji {
@@ -11,6 +11,8 @@ extension Emoji {
     static func warmAvailableCache() {
         owsAssertDebug(!Thread.isMainThread)
 
+        guard CurrentAppContext().hasUI else { return }
+
         var availableCache = [Emoji: Bool]()
         var uncachedEmoji = [Emoji]()
 
diff --git a/SignalMessaging/Wallpapers/Wallpaper.swift b/SignalMessaging/Wallpapers/Wallpaper.swift
index 4687aacf441..378dfe83838 100644
--- a/SignalMessaging/Wallpapers/Wallpaper.swift
+++ b/SignalMessaging/Wallpapers/Wallpaper.swift
@@ -40,6 +40,8 @@ public enum Wallpaper: String, CaseIterable {
     public static func warmCaches() {
         owsAssertDebug(!Thread.isMainThread)
 
+        guard CurrentAppContext().hasUI else { return }
+
         let photoURLs: [URL]
         do {
             photoURLs = try OWSFileSystem.recursiveFilesInDirectory(wallpaperDirectory.path).map { URL(fileURLWithPath: $0) }
diff --git a/SignalMessaging/appearance/ChatColors.swift b/SignalMessaging/appearance/ChatColors.swift
index 48ffbbeb4e2..3861212c1f3 100644
--- a/SignalMessaging/appearance/ChatColors.swift
+++ b/SignalMessaging/appearance/ChatColors.swift
@@ -59,6 +59,8 @@ public class ChatColors: NSObject, Dependencies {
     // The cache should contain all current values at all times.
     @objc
     private func warmCaches() {
+        guard CurrentAppContext().hasUI else { return }
+
         var valueCache = [String: ChatColor]()
 
         // Load built-in colors.
