diff --git a/Podfile b/Podfile
index 91ffd9889f2..f119e083c5f 100644
--- a/Podfile
+++ b/Podfile
@@ -2,10 +2,10 @@ platform :ios, '7.0'
 
 link_with ["Signal", "SignalTests"]
 
-pod 'UICKeyChainStore',       :podspec => 'Podspecs/UICKeyChainStore.podspec'
-pod 'OpenSSL',		      '~> 1.0.109'
-pod 'MMDrawerController',     '~> 0.5.0'
-pod 'libPhoneNumber-iOS',     '~> 0.7'
-pod 'PastelogKit',            '~> 1.1'
-pod 'AFNetworking',           '~> 2.3.1'
-pod 'TwistedOakCollapsingFutures'
+pod 'UICKeyChainStore',           :podspec => 'Podspecs/UICKeyChainStore.podspec'
+pod 'OpenSSL',		          '~> 1.0.109'
+pod 'MMDrawerController',         '~> 0.5.0'
+pod 'libPhoneNumber-iOS',         '~> 0.7'
+pod 'PastelogKit',                '~> 1.1'
+pod 'AFNetworking',               '~> 2.3.1'
+pod 'TwistedOakCollapsingFutures','~> 1.0'
diff --git a/Podfile.lock b/Podfile.lock
index 9fd391b6656..94c2c96c10a 100644
--- a/Podfile.lock
+++ b/Podfile.lock
@@ -52,7 +52,7 @@ DEPENDENCIES:
   - MMDrawerController (~> 0.5.0)
   - OpenSSL (~> 1.0.109)
   - PastelogKit (~> 1.1)
-  - TwistedOakCollapsingFutures
+  - TwistedOakCollapsingFutures (~> 1.0)
   - UICKeyChainStore (from `Podspecs/UICKeyChainStore.podspec`)
 
 EXTERNAL SOURCES:
diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index c0bba106b27..a70cd6b72e8 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -58,10 +58,6 @@
 		76D713EB182D3E5100C9C9C8 /* PreferenceListTableViewCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 76D713E9182D3E5100C9C9C8 /* PreferenceListTableViewCell.xib */; };
 		76EB054018170B33006006FC /* AppDelegate.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03C318170B33006006FC /* AppDelegate.m */; };
 		76EB054118170B33006006FC /* AppDelegate.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03C318170B33006006FC /* AppDelegate.m */; };
-		76EB054E18170B33006006FC /* FutureUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03D218170B33006006FC /* FutureUtil.m */; };
-		76EB054F18170B33006006FC /* FutureUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03D218170B33006006FC /* FutureUtil.m */; };
-		76EB055018170B33006006FC /* ObservableValue.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03D418170B33006006FC /* ObservableValue.m */; };
-		76EB055118170B33006006FC /* ObservableValue.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03D418170B33006006FC /* ObservableValue.m */; };
 		76EB057218170B33006006FC /* RecentCall.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB040018170B33006006FC /* RecentCall.m */; };
 		76EB057318170B33006006FC /* RecentCall.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB040018170B33006006FC /* RecentCall.m */; };
 		76EB057418170B33006006FC /* RecentCallManager.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB040218170B33006006FC /* RecentCallManager.m */; };
@@ -434,6 +430,10 @@
 		B9EB5ACA1884D387007CBB57 /* UnseenWhisperUserCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = B9EB5AC81884D387007CBB57 /* UnseenWhisperUserCell.xib */; };
 		BFB074C119A4BCA400F2947C /* FutureUtilTest.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074BF19A4BCA400F2947C /* FutureUtilTest.m */; };
 		BFB074C219A4BCA400F2947C /* ObservableTest.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074C019A4BCA400F2947C /* ObservableTest.m */; };
+		BFB074C719A5611000F2947C /* FutureUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074C419A5611000F2947C /* FutureUtil.m */; };
+		BFB074C819A5611000F2947C /* FutureUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074C419A5611000F2947C /* FutureUtil.m */; };
+		BFB074C919A5611000F2947C /* ObservableValue.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074C619A5611000F2947C /* ObservableValue.m */; };
+		BFB074CA19A5611000F2947C /* ObservableValue.m in Sources */ = {isa = PBXBuildFile; fileRef = BFB074C619A5611000F2947C /* ObservableValue.m */; };
 		D202868116DBE0E7009068E9 /* CFNetwork.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D2AEACDB16C426DA00C364C0 /* CFNetwork.framework */; };
 		D202868216DBE0F4009068E9 /* SystemConfiguration.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D2179CFD16BB0B480006F3AB /* SystemConfiguration.framework */; };
 		D202868316DBE0FC009068E9 /* CoreTelephony.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D2179CFB16BB0B3A0006F3AB /* CoreTelephony.framework */; };
@@ -730,10 +730,6 @@
 		76D713E9182D3E5100C9C9C8 /* PreferenceListTableViewCell.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; name = PreferenceListTableViewCell.xib; path = ../PreferenceListTableViewCell.xib; sourceTree = "<group>"; };
 		76EB03C218170B33006006FC /* AppDelegate.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AppDelegate.h; sourceTree = "<group>"; };
 		76EB03C318170B33006006FC /* AppDelegate.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = AppDelegate.m; sourceTree = "<group>"; };
-		76EB03D118170B33006006FC /* FutureUtil.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = FutureUtil.h; sourceTree = "<group>"; };
-		76EB03D218170B33006006FC /* FutureUtil.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = FutureUtil.m; sourceTree = "<group>"; };
-		76EB03D318170B33006006FC /* ObservableValue.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ObservableValue.h; sourceTree = "<group>"; };
-		76EB03D418170B33006006FC /* ObservableValue.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = ObservableValue.m; sourceTree = "<group>"; };
 		76EB03FF18170B33006006FC /* RecentCall.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = RecentCall.h; sourceTree = "<group>"; };
 		76EB040018170B33006006FC /* RecentCall.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = RecentCall.m; sourceTree = "<group>"; };
 		76EB040118170B33006006FC /* RecentCallManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = RecentCallManager.h; sourceTree = "<group>"; };
@@ -1132,6 +1128,10 @@
 		B9EB5AC81884D387007CBB57 /* UnseenWhisperUserCell.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; path = UnseenWhisperUserCell.xib; sourceTree = "<group>"; };
 		BFB074BF19A4BCA400F2947C /* FutureUtilTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = FutureUtilTest.m; sourceTree = "<group>"; };
 		BFB074C019A4BCA400F2947C /* ObservableTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = ObservableTest.m; sourceTree = "<group>"; };
+		BFB074C319A5611000F2947C /* FutureUtil.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = FutureUtil.h; sourceTree = "<group>"; };
+		BFB074C419A5611000F2947C /* FutureUtil.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = FutureUtil.m; sourceTree = "<group>"; };
+		BFB074C519A5611000F2947C /* ObservableValue.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ObservableValue.h; sourceTree = "<group>"; };
+		BFB074C619A5611000F2947C /* ObservableValue.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = ObservableValue.m; sourceTree = "<group>"; };
 		C71793B33D9C45079F74487E /* Pods.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = Pods.xcconfig; path = Pods/Pods.xcconfig; sourceTree = "<group>"; };
 		D2179CFB16BB0B3A0006F3AB /* CoreTelephony.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CoreTelephony.framework; path = System/Library/Frameworks/CoreTelephony.framework; sourceTree = SDKROOT; };
 		D2179CFD16BB0B480006F3AB /* SystemConfiguration.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = SystemConfiguration.framework; path = System/Library/Frameworks/SystemConfiguration.framework; sourceTree = SDKROOT; };
@@ -1569,7 +1569,6 @@
 			children = (
 				76EB03C218170B33006006FC /* AppDelegate.h */,
 				76EB03C318170B33006006FC /* AppDelegate.m */,
-				76EB03C418170B33006006FC /* async */,
 				76EB03D918170B33006006FC /* audio */,
 				76EB03FE18170B33006006FC /* call */,
 				76EB040318170B33006006FC /* contact */,
@@ -1588,17 +1587,6 @@
 			path = src;
 			sourceTree = "<group>";
 		};
-		76EB03C418170B33006006FC /* async */ = {
-			isa = PBXGroup;
-			children = (
-				76EB03D118170B33006006FC /* FutureUtil.h */,
-				76EB03D218170B33006006FC /* FutureUtil.m */,
-				76EB03D318170B33006006FC /* ObservableValue.h */,
-				76EB03D418170B33006006FC /* ObservableValue.m */,
-			);
-			path = async;
-			sourceTree = "<group>";
-		};
 		76EB03D918170B33006006FC /* audio */ = {
 			isa = PBXGroup;
 			children = (
@@ -2001,13 +1989,19 @@
 				76EB04E918170B33006006FC /* DictionaryUtil.m */,
 				76EB04EA18170B33006006FC /* FunctionalUtil.h */,
 				76EB04EB18170B33006006FC /* FunctionalUtil.m */,
+				BFB074C319A5611000F2947C /* FutureUtil.h */,
+				BFB074C419A5611000F2947C /* FutureUtil.m */,
 				76EB04EC18170B33006006FC /* NumberUtil.h */,
 				76EB04ED18170B33006006FC /* NumberUtil.m */,
+				BFB074C519A5611000F2947C /* ObservableValue.h */,
+				BFB074C619A5611000F2947C /* ObservableValue.m */,
 				76EB04EE18170B33006006FC /* Operation.h */,
 				76EB04EF18170B33006006FC /* Operation.m */,
 				7095B7AE18F46D35002C66E2 /* PhoneNumberUtil.h */,
 				7095B7AF18F46D35002C66E2 /* PhoneNumberUtil.m */,
 				76EB04F018170B33006006FC /* protocols */,
+				707E549018FF26E800C8649D /* SmsInvite.h */,
+				707E549118FF26E800C8649D /* SmsInvite.m */,
 				76EB04F518170B33006006FC /* StringUtil.h */,
 				76EB04F618170B33006006FC /* StringUtil.m */,
 				76EB04F718170B33006006FC /* ThreadManager.h */,
@@ -2019,8 +2013,6 @@
 				76EB04FB18170B33006006FC /* Util.h */,
 				76EB04FC18170B33006006FC /* Zid.h */,
 				76EB04FD18170B33006006FC /* Zid.m */,
-				707E549018FF26E800C8649D /* SmsInvite.h */,
-				707E549118FF26E800C8649D /* SmsInvite.m */,
 			);
 			path = util;
 			sourceTree = "<group>";
@@ -3516,7 +3508,6 @@
 				76EB063618170B33006006FC /* DataUtil.m in Sources */,
 				76EB059C18170B33006006FC /* HttpResponse.m in Sources */,
 				E197B60C18BBEC1A00F073E5 /* AudioPacker.m in Sources */,
-				76EB055018170B33006006FC /* ObservableValue.m in Sources */,
 				E197B61218BBEC1A00F073E5 /* AudioStretcher.m in Sources */,
 				76EB05A218170B33006006FC /* IpEndPoint.m in Sources */,
 				70B8010D190C55660042E3F0 /* AbstractMessage_Builder.m in Sources */,
@@ -3553,7 +3544,6 @@
 				70377AA91916BA0500CAF501 /* InteractiveLabel.m in Sources */,
 				76EB064618170B33006006FC /* TimeUtil.m in Sources */,
 				70BAFD5D190584BE00FA5E0B /* NotificationTracker.m in Sources */,
-				76EB054E18170B33006006FC /* FutureUtil.m in Sources */,
 				76EB059618170B33006006FC /* HttpRequest.m in Sources */,
 				76EB05A418170B33006006FC /* PacketHandler.m in Sources */,
 				E197B62118BBF12700F073E5 /* AppAudioManager.m in Sources */,
@@ -3571,8 +3561,10 @@
 				76EB054018170B33006006FC /* AppDelegate.m in Sources */,
 				76EB05D018170B33006006FC /* ZrtpHandshakeSocket.m in Sources */,
 				E197B61518BBEC1A00F073E5 /* JitterQueue.m in Sources */,
+				BFB074C919A5611000F2947C /* ObservableValue.m in Sources */,
 				76EB05C818170B33006006FC /* HelloPacket.m in Sources */,
 				76EB059A18170B33006006FC /* HttpRequestUtil.m in Sources */,
+				BFB074C719A5611000F2947C /* FutureUtil.m in Sources */,
 				76EB057218170B33006006FC /* RecentCall.m in Sources */,
 				76EB060418170B33006006FC /* PhoneNumberDirectoryFilter.m in Sources */,
 				B97CBFA818860EA3008E0DE9 /* CountryCodeViewController.m in Sources */,
@@ -3703,7 +3695,7 @@
 				76EB05F718170B33006006FC /* CallConnectUtil.m in Sources */,
 				76EB066318170B34006006FC /* SettingsViewController.m in Sources */,
 				76EB063318170B33006006FC /* Crc32.m in Sources */,
-				76EB054F18170B33006006FC /* FutureUtil.m in Sources */,
+				BFB074C819A5611000F2947C /* FutureUtil.m in Sources */,
 				76EB062718170B33006006FC /* Queue.m in Sources */,
 				76EB05C118170B33006006FC /* DhPacket.m in Sources */,
 				76EB060B18170B33006006FC /* SignalUtil.m in Sources */,
@@ -3732,7 +3724,6 @@
 				76EB064118170B33006006FC /* AnonymousTerminator.m in Sources */,
 				A157077717F0CD6D007C2BD6 /* ConversionsTest.m in Sources */,
 				76EB058318170B33006006FC /* Environment.m in Sources */,
-				76EB055118170B33006006FC /* ObservableValue.m in Sources */,
 				A157077817F0CD6D007C2BD6 /* Crc32Test.m in Sources */,
 				76EB059318170B33006006FC /* UnrecognizedRequestFailure.m in Sources */,
 				B97CBFA918860EA3008E0DE9 /* CountryCodeViewController.m in Sources */,
@@ -3782,6 +3773,7 @@
 				76EB05D718170B33006006FC /* ZrtpResponder.m in Sources */,
 				76EB05EF18170B33006006FC /* CallTermination.m in Sources */,
 				76EB065518170B34006006FC /* InboxFeedViewController.m in Sources */,
+				BFB074CA19A5611000F2947C /* ObservableValue.m in Sources */,
 				B97940281832BD2400BD66CB /* UIUtil.m in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
diff --git a/Signal/src/network/dns/DnsManager.m b/Signal/src/network/dns/DnsManager.m
index 0834d8336b0..0c88d1f5627 100644
--- a/Signal/src/network/dns/DnsManager.m
+++ b/Signal/src/network/dns/DnsManager.m
@@ -42,12 +42,12 @@ void handleDnsCompleted(CFHostRef hostRef, CFHostInfoType typeInfo, const CFStre
 }
 
 +(TOCFuture*) asyncQueryAddressesForDomainName:(NSString*)domainName
-                            unlessCancelled:(TOCCancelToken*)unlessCancelledToken {
+                               unlessCancelled:(TOCCancelToken*)unlessCancelledToken {
     require(domainName != nil);
     
     CFHostRef hostRef = CFHostCreateWithName(kCFAllocatorDefault, (__bridge CFStringRef)domainName);
     checkOperation(hostRef != nil);
-
+    
     DnsManager* d = [DnsManager new];
     d->futureResultSource = [TOCFutureSource futureSourceUntil:unlessCancelledToken];
     
@@ -57,7 +57,7 @@ +(TOCFuture*) asyncQueryAddressesForDomainName:(NSString*)domainName
     c.release = CFRelease;
     c.retain = CFRetain;
     c.copyDescription = CFCopyDescription;
-
+    
     CFHostSetClient(hostRef, handleDnsCompleted, &c);
     CFHostScheduleWithRunLoop(hostRef,
                               [[ThreadManager normalLatencyThreadRunLoop] getCFRunLoop],
diff --git a/Signal/src/network/http/HttpManager.m b/Signal/src/network/http/HttpManager.m
index ce6c4fdfa84..77e2e652a1e 100644
--- a/Signal/src/network/http/HttpManager.m
+++ b/Signal/src/network/http/HttpManager.m
@@ -60,7 +60,7 @@ +(TOCFuture*) asyncOkResponseFromMasterServer:(HttpRequest*)request
                                               untilCancelled:nil];
     
     TOCFuture* result = [manager asyncOkResponseForRequest:request
-                                        unlessCancelled:unlessCancelledToken];
+                                           unlessCancelled:unlessCancelledToken];
     
     [manager terminateWhenDoneCurrentWork];
     
@@ -72,7 +72,7 @@ -(TOCFuture*) asyncOkResponseForRequest:(HttpRequest*)request
     require(request != nil);
     
     TOCFuture* futureResponse = [self asyncResponseForRequest:request
-                                           unlessCancelled:unlessCancelledToken];
+                                              unlessCancelled:unlessCancelledToken];
     
     return [futureResponse then:^id(HttpResponse* response) {
         if (!response.isOkResponse) return [TOCFuture futureWithFailure:response];
diff --git a/Signal/src/network/rtp/zrtp/ZrtpManager.m b/Signal/src/network/rtp/zrtp/ZrtpManager.m
index afac3da217f..19f49214b05 100644
--- a/Signal/src/network/rtp/zrtp/ZrtpManager.m
+++ b/Signal/src/network/rtp/zrtp/ZrtpManager.m
@@ -16,7 +16,7 @@
 @implementation ZrtpManager
 
 +(TOCFuture*) asyncPerformHandshakeOver:(RtpSocket*)rtpSocket
-                   andCallController:(CallController*)callController {
+                      andCallController:(CallController*)callController {
     
     require(rtpSocket != nil);
     require(callController != nil);
@@ -64,7 +64,7 @@ +(ZrtpManager*) zrtpManagerWithHandshakeSocket:(ZrtpHandshakeSocket*)handshakeSo
     return manager;
 }
 
--(TOCFuture*) asyncPerformHandshake {    
+-(TOCFuture*) asyncPerformHandshake {
     PacketHandlerBlock packetHandler = ^(id packet) {
         require(packet != nil);
         require([packet isKindOfClass:[HandshakePacket class]]);
@@ -124,7 +124,7 @@ -(void) scheduleRetransmit {
     [TimeUtil scheduleRun:^{[self handleRetransmit];}
                afterDelay:delay
                 onRunLoop:[ThreadManager lowLatencyThreadRunLoop]
-          unlessCancelled:currentRetransmit.token];    
+          unlessCancelled:currentRetransmit.token];
 }
 
 -(void) handleRetransmit {
diff --git a/Signal/src/network/tcp/LowLatencyConnector.m b/Signal/src/network/tcp/LowLatencyConnector.m
index 64bf2d2532b..ab16af1f920 100644
--- a/Signal/src/network/tcp/LowLatencyConnector.m
+++ b/Signal/src/network/tcp/LowLatencyConnector.m
@@ -9,7 +9,7 @@
 @implementation LowLatencyConnector
 
 +(TOCFuture*) asyncLowLatencyConnectToEndPoint:(id<NetworkEndPoint>)endPoint
-                             untilCancelled:(TOCCancelToken*)untilCancelledToken {
+                                untilCancelled:(TOCCancelToken*)untilCancelledToken {
     
     require(endPoint != nil);
     
@@ -22,14 +22,14 @@ +(TOCFuture*) asyncLowLatencyConnectToEndPoint:(id<NetworkEndPoint>)endPoint
 }
 
 +(TOCFuture*) startConnectingToAll:(NSArray*)specificEndPoints
-                 untilCancelled:(TOCCancelToken*)untilCancelledToken {
+                    untilCancelled:(TOCCancelToken*)untilCancelledToken {
     
     require(specificEndPoints != nil);
     
     NSArray* candidates = [specificEndPoints map:^id(id<NetworkEndPoint> endPoint) {
         return [LowLatencyCandidate lowLatencyCandidateToRemoteEndPoint:endPoint];
     }];
-
+    
     for (LowLatencyCandidate* candidate in candidates) {
         [candidate preStart];
     }
@@ -37,7 +37,7 @@ +(TOCFuture*) startConnectingToAll:(NSArray*)specificEndPoints
     NSArray* candidateCompleters = [candidates map:^id(LowLatencyCandidate* candidate) {
         return [candidate tcpHandshakeCompleter];
     }];
-
+    
     TOCFuture* futureFastestCandidate = [candidateCompleters toc_raceForWinnerLastingUntil:untilCancelledToken];
     
     return [futureFastestCandidate thenTry:^(LowLatencyCandidate* fastestCandidate) {
diff --git a/Signal/src/phone/callstate/CallController.m b/Signal/src/phone/callstate/CallController.m
index 640530ffaec..eb1a284252d 100644
--- a/Signal/src/phone/callstate/CallController.m
+++ b/Signal/src/phone/callstate/CallController.m
@@ -67,8 +67,8 @@ -(TOCFuture*)interactiveCallAccepted {
         if ([accepted boolValue]) return accepted;
         
         return [TOCFuture futureWithFailure:[CallTermination callTerminationOfType:CallTerminationType_RejectedLocal
-                                                         withFailure:accepted
-                                                      andMessageInfo:nil]];
+                                                                       withFailure:accepted
+                                                                    andMessageInfo:nil]];
     }];
 }
 -(TOCFuture*)interactiveCallAcceptedOrDenied {
diff --git a/Signal/src/phone/signaling/CallConnectUtil_Responder.m b/Signal/src/phone/signaling/CallConnectUtil_Responder.m
index c2511408c8e..6b9eb23f711 100644
--- a/Signal/src/phone/signaling/CallConnectUtil_Responder.m
+++ b/Signal/src/phone/signaling/CallConnectUtil_Responder.m
@@ -32,7 +32,7 @@ +(TOCFuture*) asyncConnectToIncomingCallWithSessionDescriptor:(ResponderSessionD
 }
 
 +(TOCFuture*) asyncConnectToSignalServerDescribedBy:(ResponderSessionDescriptor*)sessionDescriptor
-                              withCallController:(CallController*)callController {
+                                 withCallController:(CallController*)callController {
     require(sessionDescriptor != nil);
     require(callController != nil);
     
@@ -54,7 +54,7 @@ +(TOCFuture*) asyncConnectToSignalServerDescribedBy:(ResponderSessionDescriptor*
         
         HttpRequest* ringRequest = [HttpRequest httpRequestToRingWithSessionId:sessionDescriptor.sessionId];
         TOCFuture* futureResponseToRing = [httpManager asyncOkResponseForRequest:ringRequest
-                                                              unlessCancelled:[callController untilCancelledToken]];
+                                                                 unlessCancelled:[callController untilCancelledToken]];
         TOCFuture* futureResponseToRingWithInterpretedFailures = [futureResponseToRing catchTry:^(id error) {
             if ([error isKindOfClass:[HttpResponse class]]) {
                 HttpResponse* badResponse = error;
@@ -128,9 +128,9 @@ +(TOCFuture*) asyncSignalTooBusyToAnswerCallWithSessionDescriptor:(ResponderSess
 }
 
 +(TOCFuture*) asyncOkResponseFor:(HttpRequest*)request
-     fromSignalingServerNamed:(NSString*)name
-              unlessCancelled:(TOCCancelToken*)unlessCancelledToken
-              andErrorHandler:(ErrorHandlerBlock)errorHandler {
+        fromSignalingServerNamed:(NSString*)name
+                 unlessCancelled:(TOCCancelToken*)unlessCancelledToken
+                 andErrorHandler:(ErrorHandlerBlock)errorHandler {
     require(request != nil);
     require(errorHandler != nil);
     require(name != nil);
diff --git a/Signal/src/phone/signaling/CallConnectUtil_Server.m b/Signal/src/phone/signaling/CallConnectUtil_Server.m
index 9cac35769c8..85c9efe7e5d 100644
--- a/Signal/src/phone/signaling/CallConnectUtil_Server.m
+++ b/Signal/src/phone/signaling/CallConnectUtil_Server.m
@@ -22,14 +22,14 @@ +(TOCFuture*) asyncConnectToDefaultSignalingServerUntilCancelled:(TOCCancelToken
 }
 
 +(TOCFuture*) asyncConnectToSignalingServerNamed:(NSString*)name
-                               untilCancelled:(TOCCancelToken*)untilCancelledToken {
+                                  untilCancelled:(TOCCancelToken*)untilCancelledToken {
     require(name != nil);
     return [self asyncConnectToSignalingServerAt:[Environment getSecureEndPointToSignalingServerNamed:name]
                                   untilCancelled:untilCancelledToken];
 }
 
 +(TOCFuture*) asyncConnectToSignalingServerAt:(SecureEndPoint*)location
-                            untilCancelled:(TOCCancelToken*)untilCancelledToken {
+                               untilCancelled:(TOCCancelToken*)untilCancelledToken {
     require(location != nil);
     
     TOCFuture* futureConnection = [LowLatencyConnector asyncLowLatencyConnectToEndPoint:location
@@ -44,14 +44,14 @@ +(TOCFuture*) asyncConnectToSignalingServerAt:(SecureEndPoint*)location
 
 
 +(TOCFuture*) asyncConnectCallOverRelayDescribedInResponderSessionDescriptor:(ResponderSessionDescriptor*)session
-                                                       withCallController:(CallController*)callController {
+                                                          withCallController:(CallController*)callController {
     require(session != nil);
     require(callController != nil);
     
     InitiatorSessionDescriptor* equivalentSession = [InitiatorSessionDescriptor initiatorSessionDescriptorWithSessionId:session.sessionId
                                                                                                      andRelayServerName:session.relayServerName
                                                                                                            andRelayPort:session.relayUdpPort];
-
+    
     NSArray* interopOptions = session.interopVersion == 0
                             ? @[ENVIRONMENT_LEGACY_OPTION_RTP_PADDING_BIT_IMPLIES_EXTENSION_BIT_AND_TWELVE_EXTRA_ZERO_BYTES_IN_HEADER]
                             : @[];
@@ -63,8 +63,8 @@ +(TOCFuture*) asyncConnectCallOverRelayDescribedInResponderSessionDescriptor:(Re
 }
 
 +(TOCFuture*) asyncConnectCallOverRelayDescribedInInitiatorSessionDescriptor:(InitiatorSessionDescriptor*)session
-                                                       withCallController:(CallController*)callController
-                                                        andInteropOptions:(NSArray*)interopOptions {
+                                                          withCallController:(CallController*)callController
+                                                           andInteropOptions:(NSArray*)interopOptions {
     require(session != nil);
     require(callController != nil);
     
@@ -87,7 +87,7 @@ +(TOCFuture*) asyncConnectCallOverRelayDescribedInInitiatorSessionDescriptor:(In
 }
 
 +(TOCFuture*) asyncRepeatedlyAttemptConnectToUdpRelayDescribedBy:(InitiatorSessionDescriptor*)sessionDescriptor
-                                           withCallController:(CallController*)callController {
+                                              withCallController:(CallController*)callController {
     
     require(sessionDescriptor != nil);
     require(callController != nil);
@@ -140,9 +140,9 @@ +(TOCFuture*) asyncAttemptResolveThenConnectToUdpRelayDescribedBy:(InitiatorSess
 }
 
 +(TOCFuture*) asyncAttemptConnectToUdpRelayDescribedBy:(IpEndPoint*)remoteEndPoint
-                                      withSessionId:(int64_t)sessionId
-                                     untilCancelled:(TOCCancelToken*)untilCancelledToken
-                                   withErrorHandler:(ErrorHandlerBlock)errorHandler {
+                                         withSessionId:(int64_t)sessionId
+                                        untilCancelled:(TOCCancelToken*)untilCancelledToken
+                                      withErrorHandler:(ErrorHandlerBlock)errorHandler {
     
     require(remoteEndPoint != nil);
     require(errorHandler != nil);
@@ -171,8 +171,8 @@ +(TOCFuture*) asyncAttemptConnectToUdpRelayDescribedBy:(IpEndPoint*)remoteEndPoi
 }
 
 +(TOCFuture*) asyncFirstPacketReceivedAfterStartingSocket:(UdpSocket*)udpSocket
-                                        untilCancelled:(TOCCancelToken*)untilCancelledToken
-                                      withErrorHandler:(ErrorHandlerBlock)errorHandler {
+                                           untilCancelled:(TOCCancelToken*)untilCancelledToken
+                                         withErrorHandler:(ErrorHandlerBlock)errorHandler {
     
     require(udpSocket != nil);
     require(errorHandler != nil);
diff --git a/Signal/src/phone/signaling/number directory/PhoneNumberDirectoryFilterManager.m b/Signal/src/phone/signaling/number directory/PhoneNumberDirectoryFilterManager.m
index e38d941b921..2382196fb81 100644
--- a/Signal/src/phone/signaling/number directory/PhoneNumberDirectoryFilterManager.m	
+++ b/Signal/src/phone/signaling/number directory/PhoneNumberDirectoryFilterManager.m	
@@ -18,10 +18,10 @@ @implementation PhoneNumberDirectoryFilterManager {
 }
 
 -(id) init {
-	if (self = [super init]) {
-		phoneNumberDirectoryFilter = [PhoneNumberDirectoryFilter phoneNumberDirectoryFilterDefault];
-	}
-	return self;
+    if (self = [super init]) {
+        phoneNumberDirectoryFilter = [PhoneNumberDirectoryFilter phoneNumberDirectoryFilterDefault];
+    }
+    return self;
 }
 -(void) startUntilCancelled:(TOCCancelToken*)cancelToken {
     lifetimeToken = cancelToken;
@@ -61,15 +61,15 @@ -(void) scheduleUpdateAt:(NSDate*)date {
 
 -(TOCFuture*) asyncQueryCurrentDirectory {
     TOCUntilOperation startAwaitDirectoryOperation = ^(TOCCancelToken* untilCancelledToken) {
-		HttpRequest* directoryRequest = [HttpRequest httpRequestForPhoneNumberDirectoryFilter];
-
+        HttpRequest* directoryRequest = [HttpRequest httpRequestForPhoneNumberDirectoryFilter];
+        
         TOCFuture* futureDirectoryResponse = [HttpManager asyncOkResponseFromMasterServer:directoryRequest
                                                                           unlessCancelled:untilCancelledToken
                                                                           andErrorHandler:[Environment errorNoter]];
         
         return [futureDirectoryResponse thenTry:^(HttpResponse* response) {
-			return [PhoneNumberDirectoryFilter phoneNumberDirectoryFilterFromHttpResponse:response];
-		}];
+            return [PhoneNumberDirectoryFilter phoneNumberDirectoryFilterFromHttpResponse:response];
+        }];
     };
     
     return [TOCFuture futureFromUntilOperation:[TOCFuture operationTry:startAwaitDirectoryOperation]
diff --git a/Signal/src/async/FutureUtil.h b/Signal/src/util/FutureUtil.h
similarity index 100%
rename from Signal/src/async/FutureUtil.h
rename to Signal/src/util/FutureUtil.h
diff --git a/Signal/src/async/FutureUtil.m b/Signal/src/util/FutureUtil.m
similarity index 100%
rename from Signal/src/async/FutureUtil.m
rename to Signal/src/util/FutureUtil.m
diff --git a/Signal/src/async/ObservableValue.h b/Signal/src/util/ObservableValue.h
similarity index 100%
rename from Signal/src/async/ObservableValue.h
rename to Signal/src/util/ObservableValue.h
diff --git a/Signal/src/async/ObservableValue.m b/Signal/src/util/ObservableValue.m
similarity index 100%
rename from Signal/src/async/ObservableValue.m
rename to Signal/src/util/ObservableValue.m
diff --git a/Signal/src/view controllers/RegisterViewController.m b/Signal/src/view controllers/RegisterViewController.m
index 8d4893e4884..eed5a9d7ce8 100644
--- a/Signal/src/view controllers/RegisterViewController.m	
+++ b/Signal/src/view controllers/RegisterViewController.m	
@@ -137,7 +137,7 @@ -(TOCFuture*) asyncRegister:(PhoneNumber*)phoneNumber untilCancelled:(TOCCancelT
         [_registerCancelButton removeFromSuperview];
         [self startVoiceVerificationCountdownTimer];
         self->futureChallengeAcceptedSource = [TOCFutureSource new];
-        return futureChallengeAcceptedSource;
+        return futureChallengeAcceptedSource.future;
     }];
 
 }
diff --git a/Signal/test/network/dns/DnsManagerTest.m b/Signal/test/network/dns/DnsManagerTest.m
index 48d999c5f99..cb5b85cd88f 100644
--- a/Signal/test/network/dns/DnsManagerTest.m
+++ b/Signal/test/network/dns/DnsManagerTest.m
@@ -23,15 +23,15 @@ -(void) testQueryAddresses_Sequential {
                                                  unlessCancelled:nil];
     testChurnUntil(f1.hasResult, 5.0);
     test(f1.hasResult && [(NSArray*)[f1 forceGetResult] count] > 0);
-
+    
     TOCFuture* f2 = [DnsManager asyncQueryAddressesForDomainName:invalidHostname
                                                  unlessCancelled:nil];
     testChurnUntil(f2.hasFailed, 5.0);
-
+    
     TOCFuture* f3 = [DnsManager asyncQueryAddressesForDomainName:nonExistentHostname
                                                  unlessCancelled:nil];
     testChurnUntil(f3.hasFailed, 5.0);
-
+    
     TOCFuture* f4 = [DnsManager asyncQueryAddressesForDomainName:infrastructureTestHostName
                                                  unlessCancelled:nil];
     testChurnUntil(f4.hasResult, 5.0);
@@ -41,7 +41,7 @@ -(void) testQueryAddresses_Sequential {
 
 -(void) testQueryAddresses_Concurrent {
     TOCFuture* f1 = [DnsManager asyncQueryAddressesForDomainName:reliableHostName
-                                                    unlessCancelled:nil];
+                                                 unlessCancelled:nil];
     TOCFuture* f2 = [DnsManager asyncQueryAddressesForDomainName:invalidHostname
                                                  unlessCancelled:nil];
     TOCFuture* f3 = [DnsManager asyncQueryAddressesForDomainName:nonExistentHostname
