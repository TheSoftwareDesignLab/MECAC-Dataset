diff --git a/Signal/src/ViewControllers/LongTextViewController.swift b/Signal/src/ViewControllers/LongTextViewController.swift
index 0c405d72d72..cc439fb8d4d 100644
--- a/Signal/src/ViewControllers/LongTextViewController.swift
+++ b/Signal/src/ViewControllers/LongTextViewController.swift
@@ -162,8 +162,7 @@ extension LongTextViewController: SDSDatabaseStorageObserver {
     public func databaseStorageDidUpdate(change: SDSDatabaseStorageChange) {
         AssertIsOnMainThread()
 
-        let uniqueId = self.viewItem.interaction.uniqueId
-        guard change.didUpdate(interactionId: uniqueId) else {
+        guard change.didUpdate(interaction: self.viewItem.interaction) else {
             return
         }
         assert(change.didUpdateInteractions)
diff --git a/Signal/src/ViewControllers/MessageDetailViewController.swift b/Signal/src/ViewControllers/MessageDetailViewController.swift
index 97df99e9e28..80067a2976c 100644
--- a/Signal/src/ViewControllers/MessageDetailViewController.swift
+++ b/Signal/src/ViewControllers/MessageDetailViewController.swift
@@ -908,8 +908,7 @@ extension MessageDetailViewController: SDSDatabaseStorageObserver {
     func databaseStorageDidUpdate(change: SDSDatabaseStorageChange) {
         AssertIsOnMainThread()
 
-        let uniqueId = self.message.uniqueId
-        guard change.didUpdate(interactionId: uniqueId) else {
+        guard change.didUpdate(interaction: self.message) else {
             return
         }
 
diff --git a/SignalServiceKit/src/Storage/Database/SDSDatabaseStorage.swift b/SignalServiceKit/src/Storage/Database/SDSDatabaseStorage.swift
index 3a170af4b50..ca40c4c49a0 100644
--- a/SignalServiceKit/src/Storage/Database/SDSDatabaseStorage.swift
+++ b/SignalServiceKit/src/Storage/Database/SDSDatabaseStorage.swift
@@ -233,7 +233,7 @@ public class SDSDatabaseStorage: SDSTransactable {
                     owsFailDebug("conversationViewDatabaseObserver was unexpectedly nil")
                 }
                 if let genericDatabaseObserver = grdbStorage.genericDatabaseObserver {
-                    genericDatabaseObserver.didTouch(interactionId: interaction.uniqueId,
+                    genericDatabaseObserver.didTouch(interaction: interaction,
                                                      transaction: grdb)
                 } else if AppReadiness.isAppReady() {
                     owsFailDebug("genericDatabaseObserver was unexpectedly nil")
diff --git a/SignalServiceKit/src/Storage/Database/SDSDatabaseStorageObservation.swift b/SignalServiceKit/src/Storage/Database/SDSDatabaseStorageObservation.swift
index 58c2bd20238..c71b7d02729 100644
--- a/SignalServiceKit/src/Storage/Database/SDSDatabaseStorageObservation.swift
+++ b/SignalServiceKit/src/Storage/Database/SDSDatabaseStorageObservation.swift
@@ -16,32 +16,32 @@ public class SDSDatabaseStorageChange: NSObject {
 
     // MARK: -
 
-    // In the GRDB case, we collect modified collections and interactions.
-    let updatedCollections: Set<String>
-    let updatedInteractionIds: Set<String>
+    enum ChangeSet {
+        // In the GRDB case, we collect modified collections and interactions.
+        case grdb(updatedCollections: Set<String>, updatedInteractionIds: Set<Int64>)
 
-    // In the YDB case, we use notifications to lazy-evaluate.
-    let ydbNotifications: [Notification]?
+        // In the YDB case, we use notifications to lazy-evaluate.
+        case ydb(notifications: [Notification])
+    }
+
+    private let changeSet: ChangeSet
 
     // OWSPrimaryStorage sometimes posts notifications even if
     // no write has occurred.  The tests (only) need to ignore these.
     #if DEBUG
     @objc
     public var isEmptyYDBChange: Bool {
-        guard let ydbNotifications = ydbNotifications,
-                ydbNotifications.isEmpty else {
-                    return false
+        switch changeSet {
+        case .grdb:
+            return false
+        case .ydb(notifications: let notifications):
+            return notifications.isEmpty
         }
-        return true
     }
     #endif
 
-    required init(updatedCollections: Set<String>,
-                  updatedInteractionIds: Set<String>,
-                  ydbNotifications: [Notification]? = nil) {
-        self.updatedCollections = updatedCollections
-        self.updatedInteractionIds = updatedInteractionIds
-        self.ydbNotifications = ydbNotifications
+    required init(_ changeSet: ChangeSet) {
+        self.changeSet = changeSet
     }
 
     @objc
@@ -60,19 +60,18 @@ public class SDSDatabaseStorageChange: NSObject {
     }
 
     private func didUpdate(collection: String) -> Bool {
-        if updatedCollections.contains(collection) {
-            return true
-        }
-        guard let ydbNotifications = ydbNotifications else {
-            return false
-        }
-        guard let primaryStorage = self.primaryStorage else {
-            owsFailDebug("Missing primaryStorage.")
-            return false
+        switch changeSet {
+        case .grdb(updatedCollections: let updatedCollections, updatedInteractionIds: _):
+            return updatedCollections.contains(collection)
+        case .ydb(notifications: let notifications):
+            guard let primaryStorage = self.primaryStorage else {
+                owsFailDebug("Missing primaryStorage.")
+                return false
+            }
+            let connection = primaryStorage.uiDatabaseConnection
+            return connection.hasChange(forCollection: collection, in: notifications) ||
+                connection.didClearCollection(collection, in: notifications)
         }
-        let connection = primaryStorage.uiDatabaseConnection
-        return connection.hasChange(forCollection: collection, in: ydbNotifications) ||
-            connection.didClearCollection(collection, in: ydbNotifications)
     }
 
     // Note that this method should only be used for model
@@ -92,22 +91,21 @@ public class SDSDatabaseStorageChange: NSObject {
                 didUpdate(collection: SDSKeyValueStore.dataStoreCollection))
     }
 
-    @objc(didUpdateInteractionId:)
-    public func didUpdate(interactionId: String) -> Bool {
-        if updatedInteractionIds.contains(interactionId) {
-            return true
-        }
-        guard let ydbNotifications = ydbNotifications else {
-            return false
-        }
-        guard let primaryStorage = self.primaryStorage else {
-            owsFailDebug("Missing primaryStorage.")
-            return false
+    @objc(didUpdateInteraction:)
+    public func didUpdate(interaction: TSInteraction) -> Bool {
+        switch changeSet {
+        case .grdb(updatedCollections: _, updatedInteractionIds: let updatedInteractionIds):
+            return updatedInteractionIds.contains(Int64(interaction.sortId))
+        case .ydb(notifications: let notifications):
+            guard let primaryStorage = self.primaryStorage else {
+                owsFailDebug("Missing primaryStorage.")
+                return false
+            }
+            let connection = primaryStorage.uiDatabaseConnection
+            return connection.hasChange(forKey: interaction.uniqueId,
+                                        inCollection: TSInteraction.collection(),
+                                        in: notifications)
         }
-        let connection = primaryStorage.uiDatabaseConnection
-        return connection.hasChange(forKey: interactionId,
-                                    inCollection: TSInteraction.collection(),
-                                    in: ydbNotifications)
     }
 }
 
@@ -237,11 +235,7 @@ extension SDSDatabaseStorageObservation {
             return
         }
 
-        let updatedCollections = Set<String>()
-        let updatedInteractionIds = Set<String>()
-        let change = SDSDatabaseStorageChange(updatedCollections: updatedCollections,
-                                              updatedInteractionIds: updatedInteractionIds,
-                                              ydbNotifications: notifications)
+        let change = SDSDatabaseStorageChange(.ydb(notifications: notifications))
         notifyDidUpdate(change: change)
     }
 
@@ -262,11 +256,11 @@ extension SDSDatabaseStorageObservation: GRDBGenericDatabaseObserverDelegate {
     }
 
     func genericDatabaseSnapshotDidUpdate(updatedCollections: Set<String>,
-                                          updatedInteractionIds: Set<String>) {
+                                          updatedInteractionIds: Set<Int64>) {
         AssertIsOnMainThread()
 
-        let change = SDSDatabaseStorageChange(updatedCollections: updatedCollections,
-                                              updatedInteractionIds: updatedInteractionIds)
+        let change = SDSDatabaseStorageChange(.grdb(updatedCollections: updatedCollections,
+                                                    updatedInteractionIds: updatedInteractionIds))
         notifyDidUpdate(change: change)
     }
 
diff --git a/SignalServiceKit/src/Storage/Database/Snapshots/GRDBGenericDatabaseObserver.swift b/SignalServiceKit/src/Storage/Database/Snapshots/GRDBGenericDatabaseObserver.swift
index c94a3b31b01..251cf357f5d 100644
--- a/SignalServiceKit/src/Storage/Database/Snapshots/GRDBGenericDatabaseObserver.swift
+++ b/SignalServiceKit/src/Storage/Database/Snapshots/GRDBGenericDatabaseObserver.swift
@@ -9,7 +9,7 @@ import GRDB
 public protocol GRDBGenericDatabaseObserverDelegate: AnyObject {
     func genericDatabaseSnapshotWillUpdate()
     func genericDatabaseSnapshotDidUpdate(updatedCollections: Set<String>,
-                                          updatedInteractionIds: Set<String>)
+                                          updatedInteractionIds: Set<Int64>)
     func genericDatabaseSnapshotDidUpdateExternally()
     func genericDatabaseSnapshotDidReset()
 }
@@ -36,9 +36,9 @@ public class GRDBGenericDatabaseObserver: NSObject {
     private struct PendingChanges {
         var collections: Set<String> = Set()
         var tableNames: Set<String> = Set()
-        var interactionIds: Set<String> = Set()
-        var interactionRowIds: Set<Int64> = Set()
+        var interactionIds: Set<Int64> = Set()
     }
+
     private var _pendingChanges = PendingChanges()
     private var pendingChanges: PendingChanges {
         get {
@@ -55,14 +55,9 @@ public class GRDBGenericDatabaseObserver: NSObject {
 
     private struct CommittedChanges {
         let collections: Set<String>
-        let interactionIds: Set<String>
-
-        init(collections: Set<String>,
-             interactionIds: Set<String>) {
-            self.collections = collections
-            self.interactionIds = interactionIds
-        }
+        let interactionIds: Set<Int64>
     }
+
     private typealias CollectionName = String
     private var _committedChanges: CommittedChanges?
     private var committedChanges: CommittedChanges? {
@@ -89,7 +84,7 @@ public class GRDBGenericDatabaseObserver: NSObject {
 
     private func committedChanges(forPendingChanges pendingChanges: PendingChanges, db: Database) throws -> CommittedChanges {
         return CommittedChanges(collections: collections(forPendingChanges: pendingChanges, db: db),
-                                interactionIds: try interactionIds(forPendingChanges: pendingChanges, db: db))
+                                interactionIds: pendingChanges.interactionIds)
     }
 
     private func collections(forPendingChanges pendingChanges: PendingChanges, db: Database) -> Set<String> {
@@ -113,30 +108,7 @@ public class GRDBGenericDatabaseObserver: NSObject {
         return allCollections
     }
 
-    private func interactionIds(forPendingChanges pendingChanges: PendingChanges, db: Database) throws -> Set<String> {
-        let updatedRowIds = pendingChanges.interactionRowIds
-        guard updatedRowIds.count > 0 else {
-            return pendingChanges.interactionIds
-        }
-
-        // If necessary, convert GRDB rowIds to interaction ids.
-        guard updatedRowIds.count < UIDatabaseObserver.kMaxIncrementalRowChanges else {
-            owsFailDebug("Too many updatedRowIds for incremental update.")
-            throw DatabaseObserverError.changeTooLarge
-        }
-
-        let commaSeparatedRowIds = updatedRowIds.map { String($0) }.joined(separator: ", ")
-        let rowIdsSQL = "(\(commaSeparatedRowIds))"
-        let sql = """
-        SELECT \(interactionColumn: .uniqueId)
-        FROM \(InteractionRecord.databaseTableName)
-        WHERE rowid IN \(rowIdsSQL)
-        """
-
-        let convertedIds = try String.fetchAll(db, sql: sql, arguments: [])
-        assert(convertedIds.count == updatedRowIds.count)
-        return Set(convertedIds).union(pendingChanges.interactionIds)
-    }
+    private typealias RowId = Int64
 
     // internal - should only be called by DatabaseStorage
     func didTouchThread(transaction: GRDBWriteTransaction) {
@@ -148,12 +120,13 @@ public class GRDBGenericDatabaseObserver: NSObject {
     }
 
     // internal - should only be called by DatabaseStorage
-    func didTouch(interactionId: String, transaction: GRDBWriteTransaction) {
+    func didTouch(interaction: TSInteraction, transaction: GRDBWriteTransaction) {
         // Note: We don't actually use the `transaction` param, but touching must happen within
         // a write transaction in order for the touch machinery to notify it's observers
         // in the expected way.
         AssertIsOnUIDatabaseObserverSerialQueue()
-        pendingChanges.interactionIds.insert(interactionId)
+        let rowId = RowId(interaction.sortId)
+        pendingChanges.interactionIds.insert(rowId)
         pendingChanges.tableNames.insert(TSInteraction.table.tableName)
     }
 }
@@ -170,7 +143,7 @@ extension GRDBGenericDatabaseObserver: DatabaseSnapshotDelegate {
         _ = pendingChanges.tableNames.insert(event.tableName)
 
         if event.tableName == InteractionRecord.databaseTableName {
-            _ = pendingChanges.interactionRowIds.insert(event.rowID)
+            _ = pendingChanges.interactionIds.insert(event.rowID)
         }
     }
 
diff --git a/SignalServiceKit/tests/Storage/SDSDatabaseStorageObservationTest.swift b/SignalServiceKit/tests/Storage/SDSDatabaseStorageObservationTest.swift
index c309d886013..46c4e82b945 100644
--- a/SignalServiceKit/tests/Storage/SDSDatabaseStorageObservationTest.swift
+++ b/SignalServiceKit/tests/Storage/SDSDatabaseStorageObservationTest.swift
@@ -175,6 +175,7 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
         mockObserver.set(expectation: self.expectation(description: "Database Storage Observer"))
 
         var lastMessage: TSInteraction?
+        var unsavedMessage: TSInteraction?
         self.yapWrite { transaction in
             let recipient = SignalServiceAddress(phoneNumber: "+12345678900")
             let thread = TSContactThread.getOrCreateThread(withContactAddress: recipient, transaction: transaction.asAnyWrite)
@@ -182,6 +183,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             message.anyInsert(transaction: transaction.asAnyWrite)
             lastMessage = message
 
+            unsavedMessage = TSOutgoingMessage(in: thread, messageBody: "Goodbyte Alice", attachmentId: nil)
+
             Logger.verbose("write 3 complete")
         }
 
@@ -199,9 +202,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -226,9 +228,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertFalse(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -253,9 +254,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
     }
@@ -351,6 +351,7 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
         mockObserver.set(expectation: self.expectation(description: "Database Storage Observer"))
 
         var lastMessage: TSInteraction?
+        var unsavedMessage: TSInteraction?
         self.yapAsyncWrite { transaction in
             let recipient = SignalServiceAddress(phoneNumber: "+12345678900")
             let thread = TSContactThread.getOrCreateThread(withContactAddress: recipient, transaction: transaction.asAnyWrite)
@@ -358,6 +359,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             message.anyInsert(transaction: transaction.asAnyWrite)
             lastMessage = message
 
+            unsavedMessage = TSOutgoingMessage(in: thread, messageBody: "Goodbyte Alice", attachmentId: nil)
+
             Logger.verbose("write 3 complete")
         }
 
@@ -375,9 +378,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -402,9 +404,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertFalse(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -429,9 +430,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
     }
@@ -525,13 +525,17 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
         mockObserver.set(expectation: self.expectation(description: "Database Storage Observer"))
 
         var lastMessage: TSInteraction?
+        var unsavedMessage: TSInteraction?
         self.write { transaction in
             let recipient = SignalServiceAddress(phoneNumber: "+12345678900")
             let thread = TSContactThread.getOrCreateThread(withContactAddress: recipient, transaction: transaction)
             let message = TSOutgoingMessage(in: thread, messageBody: "Hello Alice", attachmentId: nil)
             message.anyInsert(transaction: transaction)
+            message.anyReload(transaction: transaction)
             lastMessage = message
 
+            unsavedMessage = TSOutgoingMessage(in: thread, messageBody: "Goodbyte Alice", attachmentId: nil)
+
             Logger.verbose("write 3 complete")
         }
 
@@ -549,9 +553,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -576,9 +579,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertFalse(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -603,9 +605,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
     }
@@ -697,13 +698,17 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
         mockObserver.set(expectation: self.expectation(description: "Database Storage Observer"))
 
         var lastMessage: TSInteraction?
+        var unsavedMessage: TSInteraction?
         self.asyncWrite { transaction in
             let recipient = SignalServiceAddress(phoneNumber: "+12345678900")
             let thread = TSContactThread.getOrCreateThread(withContactAddress: recipient, transaction: transaction)
             let message = TSOutgoingMessage(in: thread, messageBody: "Hello Alice", attachmentId: nil)
             message.anyInsert(transaction: transaction)
+            message.anyReload(transaction: transaction)
             lastMessage = message
 
+            unsavedMessage = TSOutgoingMessage(in: thread, messageBody: "Goodbyte Alice", attachmentId: nil)
+
             Logger.verbose("write 3 complete")
         }
 
@@ -721,9 +726,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -748,9 +752,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertFalse(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
 
@@ -775,9 +778,8 @@ class SDSDatabaseStorageObservationTest: SSKBaseTestSwift {
             XCTAssertFalse(lastChange.didUpdateModel(collection: "invalid collection name"))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: keyValueStore))
             XCTAssertFalse(lastChange.didUpdate(keyValueStore: otherKeyValueStore))
-            XCTAssertTrue(lastChange.didUpdate(interactionId: lastMessage!.uniqueId))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: UUID().uuidString))
-            XCTAssertFalse(lastChange.didUpdate(interactionId: "not a valid interaction id"))
+            XCTAssertTrue(lastChange.didUpdate(interaction: lastMessage!))
+            XCTAssertFalse(lastChange.didUpdate(interaction: unsavedMessage!))
         }
         mockObserver.clear()
     }
