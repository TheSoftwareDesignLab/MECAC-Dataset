diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
index a1ab9ead828..ba84ae629ae 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
@@ -4,6 +4,12 @@
 
 import Foundation
 
+@objc
+public enum CVAttachmentTapAction: Int {
+    case handledByDelegate
+    case `default`
+}
+
 // TODO: Remove cvc_ prefix once we've removed old CV logic.
 @objc
 public protocol CVComponentDelegate {
@@ -73,8 +79,7 @@ public protocol CVComponentDelegate {
                              attachmentStream: TSAttachmentStream,
                              imageView: UIView)
 
-    @objc(cvc_didTapGenericAttachment:inComponentView:)
-    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment, in componentView: CVComponentView)
+    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment) -> CVAttachmentTapAction
 
     func cvc_didTapQuotedReply(_ quotedReply: OWSQuotedReplyModel)
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
index 19f98a3dfe0..ccab0c15945 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
@@ -230,7 +230,12 @@ public class CVComponentGenericAttachment: CVComponentBase, CVComponent {
                                    renderItem: CVRenderItem) -> Bool {
 
         if attachmentStream != nil {
-            componentDelegate.cvc_didTapGenericAttachment(self, in: componentView)
+            switch componentDelegate.cvc_didTapGenericAttachment(self) {
+            case .handledByDelegate:
+                break
+            case .default:
+                showShareUI(from: componentView.rootView)
+            }
         } else if let attachmentPointer = attachmentPointer {
             switch attachmentPointer.state {
             case .failed, .pendingMessageRequest, .pendingManualDownload:
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
index dbdb085640c..ee6329bd960 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
@@ -4320,8 +4320,7 @@ - (void)cvc_didTapBodyMediaWithItemViewModel:(CVItemViewModelImpl *)itemViewMode
     [self presentViewController:pageVC animated:YES completion:nil];
 }
 
-- (void)cvc_didTapGenericAttachment:(CVComponentGenericAttachment *_Nonnull)attachment
-                    inComponentView:(id <CVComponentView> _Nonnull)componentView
+- (CVAttachmentTapAction)cvc_didTapGenericAttachment:(CVComponentGenericAttachment *_Nonnull)attachment
 {
     OWSAssertIsOnMainThread();
 
@@ -4329,8 +4328,9 @@ - (void)cvc_didTapGenericAttachment:(CVComponentGenericAttachment *_Nonnull)atta
         QLPreviewController *previewController = [[QLPreviewController alloc] init];
         previewController.dataSource = attachment;
         [self presentViewController:previewController animated:YES completion:nil];
+        return CVAttachmentTapActionHandledByDelegate;
     } else {
-        [attachment showShareUIFromView:componentView.rootView];
+        return CVAttachmentTapActionDefault;
     }
 }
 
diff --git a/Signal/src/ViewControllers/MessageDetailViewController.swift b/Signal/src/ViewControllers/MessageDetailViewController.swift
index 287a65d88ce..6df00815364 100644
--- a/Signal/src/ViewControllers/MessageDetailViewController.swift
+++ b/Signal/src/ViewControllers/MessageDetailViewController.swift
@@ -825,13 +825,14 @@ extension MessageDetailViewController: CVComponentDelegate {
         present(mediaPageVC, animated: true)
     }
 
-    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment, in componentView: CVComponentView) {
+    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment) -> CVAttachmentTapAction {
         if attachment.canQuickLook {
             let previewController = QLPreviewController()
             previewController.dataSource = attachment
             present(previewController, animated: true)
+            return .handledByDelegate
         } else {
-            attachment.showShareUI(from: componentView.rootView)
+            return .default
         }
     }
 
diff --git a/Signal/src/views/MockConversationView.swift b/Signal/src/views/MockConversationView.swift
index 4b4b48dbc32..366bd925945 100644
--- a/Signal/src/views/MockConversationView.swift
+++ b/Signal/src/views/MockConversationView.swift
@@ -324,7 +324,7 @@ extension MockConversationView: CVComponentDelegate {
                              attachmentStream: TSAttachmentStream,
                              imageView: UIView) {}
 
-    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment, in view: CVComponentView) {}
+    func cvc_didTapGenericAttachment(_ attachment: CVComponentGenericAttachment) -> CVAttachmentTapAction { .default }
 
     func cvc_didTapQuotedReply(_ quotedReply: OWSQuotedReplyModel) {}
 
