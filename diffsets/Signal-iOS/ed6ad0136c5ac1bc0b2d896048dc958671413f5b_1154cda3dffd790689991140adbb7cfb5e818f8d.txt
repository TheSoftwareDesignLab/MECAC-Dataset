diff --git a/Signal/Backups/EnterAccountEntropyPoolViewController.swift b/Signal/Backups/EnterAccountEntropyPoolViewController.swift
index 373410aa85..cb3663a355 100644
--- a/Signal/Backups/EnterAccountEntropyPoolViewController.swift
+++ b/Signal/Backups/EnterAccountEntropyPoolViewController.swift
@@ -61,10 +61,9 @@ class EnterAccountEntropyPoolViewController: OWSViewController {
 
         let scrollView = UIScrollView()
         view.addSubview(scrollView)
-        scrollView.preservesSuperviewLayoutMargins = true
         scrollView.translatesAutoresizingMaskIntoConstraints = false
         NSLayoutConstraint.activate([
-            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
+            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
             scrollView.frameLayoutGuide.leadingAnchor.constraint(equalTo: view.leadingAnchor),
             scrollView.frameLayoutGuide.trailingAnchor.constraint(equalTo: view.trailingAnchor),
             scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: keyboardLayoutGuide.topAnchor),
@@ -79,34 +78,23 @@ class EnterAccountEntropyPoolViewController: OWSViewController {
             }
         )
 
-        let stackView = UIStackView(arrangedSubviews: [
-            titleLabel,
-            subtitleLabel,
-            aepTextView,
-            aepIssueLabel,
-            footerButton,
-        ])
-        stackView.axis = .vertical
-        stackView.alignment = .center
+        let stackView = addStaticContentStackView(
+            arrangedSubviews: [
+                titleLabel,
+                subtitleLabel,
+                aepTextView,
+                aepIssueLabel,
+                footerButton.enclosedInVerticalStackView(isFullWidthButton: false),
+                .vStretchingSpacer(),
+            ],
+            isScrollable: true,
+            shouldAvoidKeyboard: true
+        )
         stackView.spacing = 24
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
         stackView.setCustomSpacing(16, after: aepTextView)
         stackView.setCustomSpacing(20, after: aepIssueLabel)
         stackView.setCustomSpacing(12, after: titleLabel)
 
-        scrollView.addSubview(stackView)
-        aepTextView.translatesAutoresizingMaskIntoConstraints = false
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            aepTextView.widthAnchor.constraint(equalTo: stackView.layoutMarginsGuide.widthAnchor),
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor, constant: -24),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-        ])
-
         let tapGesture = UITapGestureRecognizer(target: self, action: #selector(dismissKeyboard))
         view.addGestureRecognizer(tapGesture)
 
diff --git a/Signal/Registration/UserInterface/RegistrationCaptchaViewController.swift b/Signal/Registration/UserInterface/RegistrationCaptchaViewController.swift
index fadb712cf2..1da9414afb 100644
--- a/Signal/Registration/UserInterface/RegistrationCaptchaViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationCaptchaViewController.swift
@@ -50,18 +50,7 @@ class RegistrationCaptchaViewController: OWSViewController {
         titleLabel.setContentHuggingHigh()
         titleLabel.accessibilityIdentifier = "registration.captcha.titleLabel"
 
-        let stackView = UIStackView(arrangedSubviews: [titleLabel, captchaView])
-        stackView.axis = .vertical
-        stackView.distribution = .fill
-        stackView.spacing = 12
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.layoutMarginsGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.layoutMarginsGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.layoutMarginsGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.layoutMarginsGuide.trailingAnchor),
-        ])
+        addStaticContentStackView(arrangedSubviews: [titleLabel, captchaView])
     }
 
     public override func viewWillAppear(_ animated: Bool) {
@@ -81,3 +70,25 @@ extension RegistrationCaptchaViewController: CaptchaViewDelegate {
         captchaView.loadCaptcha()
     }
 }
+
+// MARK: -
+
+#if DEBUG
+
+private class PreviewRegistrationCaptchaPresenter: RegistrationCaptchaPresenter {
+    func submitCaptcha(_ token: String) {
+        print("submitCaptcha")
+    }
+}
+
+@available(iOS 17, *)
+#Preview {
+    let presenter = PreviewRegistrationCaptchaPresenter()
+    return UINavigationController(
+        rootViewController: RegistrationCaptchaViewController(
+            presenter: presenter
+        )
+    )
+}
+
+#endif
diff --git a/Signal/Registration/UserInterface/RegistrationChangeNumberSplashViewController.swift b/Signal/Registration/UserInterface/RegistrationChangeNumberSplashViewController.swift
index a6b0203e76..ecaf9313d2 100644
--- a/Signal/Registration/UserInterface/RegistrationChangeNumberSplashViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationChangeNumberSplashViewController.swift
@@ -51,13 +51,24 @@ class RegistrationChangeNumberSplashViewController: OWSViewController, OWSNaviga
         }
 
         // UI Elements
-        let heroImageCircle = OWSLayerView.circleView(size: 112)
+        let heroImageCircle = OWSLayerView.circleView()
         heroImageCircle.backgroundColor = .Signal.secondaryFill
         heroImageCircle.addSubview(heroImageView)
+        let heroImageContainer = UIView.container()
+        heroImageContainer.addSubview(heroImageCircle)
         heroImageView.translatesAutoresizingMaskIntoConstraints = false
+        heroImageCircle.translatesAutoresizingMaskIntoConstraints = false
         NSLayoutConstraint.activate([
             heroImageView.centerXAnchor.constraint(equalTo: heroImageCircle.centerXAnchor),
             heroImageView.centerYAnchor.constraint(equalTo: heroImageCircle.centerYAnchor),
+
+            heroImageCircle.widthAnchor.constraint(equalToConstant: 112),
+            heroImageCircle.heightAnchor.constraint(equalToConstant: 112),
+
+            heroImageCircle.topAnchor.constraint(equalTo: heroImageContainer.topAnchor),
+            heroImageCircle.leadingAnchor.constraint(greaterThanOrEqualTo: heroImageContainer.leadingAnchor),
+            heroImageCircle.centerXAnchor.constraint(equalTo: heroImageContainer.centerXAnchor),
+            heroImageCircle.bottomAnchor.constraint(equalTo: heroImageContainer.bottomAnchor),
         ])
         let titleLabel = UILabel.titleLabelForRegistration(
             text: OWSLocalizedString(
@@ -77,54 +88,15 @@ class RegistrationChangeNumberSplashViewController: OWSViewController, OWSNaviga
                 self?.didTapContinue()
             }
         )
-        let buttonContainer = UIView.container()
-        buttonContainer.addSubview(continueButton)
-        continueButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            continueButton.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-            continueButton.leadingAnchor.constraint(equalTo: buttonContainer.leadingAnchor, constant: 22),
-            continueButton.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-            continueButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
 
-        // Layout
-        let scrollView = UIScrollView()
-        scrollView.preservesSuperviewLayoutMargins = true
-        view.addSubview(scrollView)
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            scrollView.frameLayoutGuide.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            scrollView.frameLayoutGuide.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
-
-        let stackView = UIStackView(arrangedSubviews: [
-            heroImageCircle,
+        let stackView = addStaticContentStackView(arrangedSubviews: [
+            heroImageContainer,
             titleLabel,
             subtitleLabel,
-            .vStretchingSpacer(minHeight: 36),
-            buttonContainer
-        ])
-        stackView.setCustomSpacing(24, after: heroImageCircle)
-        stackView.axis = .vertical
-        stackView.alignment = .center
-        stackView.spacing = 12
-        stackView.directionalLayoutMargins.top = 24
-        stackView.isLayoutMarginsRelativeArrangement = true
-        stackView.preservesSuperviewLayoutMargins = true
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            buttonContainer.widthAnchor.constraint(equalTo: stackView.layoutMarginsGuide.widthAnchor),
-
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.heightAnchor.constraint(greaterThanOrEqualTo: scrollView.frameLayoutGuide.heightAnchor),
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
+            .vStretchingSpacer(),
+            continueButton.enclosedInVerticalStackView(isFullWidthButton: true),
         ])
+        stackView.setCustomSpacing(24, after: heroImageContainer)
 
         updateContents()
     }
diff --git a/Signal/Registration/UserInterface/RegistrationChangePhoneNumberConfirmationViewController.swift b/Signal/Registration/UserInterface/RegistrationChangePhoneNumberConfirmationViewController.swift
index f05486c2e6..4657276a60 100644
--- a/Signal/Registration/UserInterface/RegistrationChangePhoneNumberConfirmationViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationChangePhoneNumberConfirmationViewController.swift
@@ -112,7 +112,11 @@ class RegistrationChangePhoneNumberConfirmationViewController: OWSViewController
         reloadTextLabels()
         let phoneNumberContainerView = UIView()
         phoneNumberContainerView.backgroundColor = .Signal.secondaryGroupedBackground
-        phoneNumberContainerView.layer.cornerRadius = 10
+        if #available(iOS 26, *) {
+            phoneNumberContainerView.layer.cornerRadius = 26
+        } else {
+            phoneNumberContainerView.layer.cornerRadius = 10
+        }
         phoneNumberContainerView.directionalLayoutMargins = NSDirectionalEdgeInsets(margin: 24)
         phoneNumberContainerView.addSubview(phoneNumberLabel)
         phoneNumberLabel.translatesAutoresizingMaskIntoConstraints = false
@@ -123,14 +127,6 @@ class RegistrationChangePhoneNumberConfirmationViewController: OWSViewController
             phoneNumberLabel.trailingAnchor.constraint(equalTo: phoneNumberContainerView.layoutMarginsGuide.trailingAnchor),
         ])
 
-        let stackView = UIStackView(arrangedSubviews: [ descriptionLabel, phoneNumberContainerView, warningLabel ])
-        stackView.spacing = 20
-        stackView.setCustomSpacing(12, after: phoneNumberContainerView)
-        stackView.axis = .vertical
-        stackView.alignment = .center
-        stackView.isLayoutMarginsRelativeArrangement = true
-        stackView.preservesSuperviewLayoutMargins = true
-
         // Buttons
         let continueButton = UIButton(
             configuration: .largePrimary(title: OWSLocalizedString(
@@ -151,37 +147,16 @@ class RegistrationChangePhoneNumberConfirmationViewController: OWSViewController
                 self?.didTapEdit()
             }
         )
-        let buttonContainer = UIView.container()
-        buttonContainer.addSubview(continueButton)
-        continueButton.translatesAutoresizingMaskIntoConstraints = false
-        buttonContainer.addSubview(editButton)
-        editButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            continueButton.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-            continueButton.leadingAnchor.constraint(equalTo: buttonContainer.leadingAnchor, constant: 22),
-            continueButton.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-
-            editButton.topAnchor.constraint(equalTo: continueButton.bottomAnchor, constant: 12),
-            editButton.leadingAnchor.constraint(equalTo: continueButton.leadingAnchor),
-            editButton.trailingAnchor.constraint(equalTo: continueButton.trailingAnchor),
-            editButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
 
-        // Constraints.
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        view.addSubview(stackView)
-        buttonContainer.translatesAutoresizingMaskIntoConstraints = false
-        view.addSubview(buttonContainer)
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: 24),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-
-            buttonContainer.topAnchor.constraint(greaterThanOrEqualTo: stackView.bottomAnchor, constant: 24),
-            buttonContainer.leadingAnchor.constraint(equalTo: view.layoutMarginsGuide.leadingAnchor),
-            buttonContainer.trailingAnchor.constraint(equalTo: view.layoutMarginsGuide.trailingAnchor),
-            buttonContainer.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
+        let stackView = addStaticContentStackView(arrangedSubviews: [
+            descriptionLabel,
+            phoneNumberContainerView,
+            warningLabel,
+            .vStretchingSpacer(),
+            [ continueButton, editButton ].enclosedInVerticalStackView(isFullWidthButtons: true),
         ])
+        stackView.spacing = 20
+        stackView.setCustomSpacing(12, after: phoneNumberContainerView)
 
         updateContents()
     }
diff --git a/Signal/Registration/UserInterface/RegistrationChooseRestoreMethodViewController.swift b/Signal/Registration/UserInterface/RegistrationChooseRestoreMethodViewController.swift
index 7b72a06578..e2d9715b22 100644
--- a/Signal/Registration/UserInterface/RegistrationChooseRestoreMethodViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationChooseRestoreMethodViewController.swift
@@ -114,8 +114,7 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
         view.backgroundColor = .Signal.background
 
         // Content view.
-        let stackView = UIStackView()
-        var bottomView: UIView?
+        let stackView = addStaticContentStackView(arrangedSubviews: [], isScrollable: true)
         switch self.restorePath {
         case .quickRestore(let tier, let platform) where platform == .android:
             switch tier {
@@ -124,6 +123,7 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
                 stackView.addArrangedSubviews([
                     prominentRestoreButton(),
                     prominentSkipRestoreButton(),
+                    .vStretchingSpacer(),
                 ])
             case .none:
                 addNoRestoreOptionViews(to: stackView)
@@ -132,79 +132,52 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
             addDefaultTitle(to: stackView)
             switch tier {
             case .free:
+                let bottomButton = skipRestoreButton(isLargeButton: false)
                 stackView.addArrangedSubviews([
                     prominentTransferButton(),
                     prominentRestoreButton(),
+                    .vStretchingSpacer(),
+                    bottomButton.enclosedInVerticalStackView(isFullWidthButton: false),
                 ])
-                bottomView = addCompactButtonToTheBottom(button: skipRestoreButton(isLargeButton: false))
+
             case .paid:
+                let bottomButton = skipRestoreButton(isLargeButton: false)
                 stackView.addArrangedSubviews([
                     prominentRestoreButton(),
-                    prominentTransferButton()
+                    prominentTransferButton(),
+                    .vStretchingSpacer(),
+                    bottomButton.enclosedInVerticalStackView(isFullWidthButton: false),
                 ])
-                bottomView = addCompactButtonToTheBottom(button: skipRestoreButton(isLargeButton: false))
             case .none:
                 stackView.addArrangedSubviews([
                     prominentTransferButton(),
                     prominentSkipRestoreButton(),
+                    .vStretchingSpacer(),
                 ])
             }
         case .manualRestore:
             addDefaultTitle(to: stackView)
-            stackView.addArrangedSubviews([
-                prominentRestoreButton(),
-                prominentSkipRestoreButton(),
-            ])
-            let cancelButton = UIButton(
+            let bottomButton = UIButton(
                 configuration: .mediumSecondary(title: CommonStrings.cancelButton),
                 primaryAction: UIAction { [weak self] _ in
                     self?.didTapCancel()
                 }
             )
-            bottomView = addCompactButtonToTheBottom(button: cancelButton)
+            stackView.addArrangedSubviews([
+                prominentRestoreButton(),
+                prominentSkipRestoreButton(),
+                .vStretchingSpacer(),
+                bottomButton.enclosedInVerticalStackView(isFullWidthButton: false),
+            ])
         case .unspecified:
             addDefaultTitle(to: stackView)
             stackView.addArrangedSubviews([
                 prominentTransferButton(),
                 prominentRestoreButton(),
                 prominentSkipRestoreButton(),
+                .vStretchingSpacer(),
             ])
         }
-        stackView.axis = .vertical
-        stackView.distribution = .fill
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-
-        // Constraints.
-        let scrollView = UIScrollView()
-        scrollView.preservesSuperviewLayoutMargins = true
-        view.addSubview(scrollView)
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            scrollView.frameLayoutGuide.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            scrollView.frameLayoutGuide.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
-        if let bottomView {
-            NSLayoutConstraint.activate([
-                scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: bottomView.topAnchor),
-            ])
-        } else {
-            NSLayoutConstraint.activate([
-                scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            ])
-        }
-
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-        ])
     }
 
     private func addDefaultTitle(to stackView: UIStackView) {
@@ -227,29 +200,6 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
         stackView.setCustomSpacing(24, after: explanationLabel)
     }
 
-    private func addCompactButtonToTheBottom(button: UIButton) -> UIView {
-        button.setContentHuggingVerticalHigh()
-
-        // Compact button centered in a short container view.
-        let buttonContainer = UIView.container()
-        buttonContainer.addSubview(button)
-        button.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            button.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-            button.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-            button.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
-
-        view.addSubview(buttonContainer)
-        buttonContainer.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            buttonContainer.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            buttonContainer.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            buttonContainer.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
-        return buttonContainer
-    }
-
     private func addNoRestoreOptionViews(to stackView: UIStackView) {
         let title = UILabel.titleLabelForRegistration(
             text: OWSLocalizedString(
@@ -304,9 +254,6 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
             ))
         ])
 
-        let buttonContainer = UIView.container()
-        buttonContainer.preservesSuperviewLayoutMargins = true
-
         // Show large "No backup to restore" and "Skip Restore"
         let continueButton = UIButton(
             configuration: .largePrimary(title: CommonStrings.okayButton),
@@ -314,30 +261,11 @@ class RegistrationChooseRestoreMethodViewController: OWSViewController {
                 self?.didTapCancel()
             }
         )
-        buttonContainer.addSubview(continueButton)
-
         let skipRestoreButton = skipRestoreButton(isLargeButton: true)
-        buttonContainer.addSubview(skipRestoreButton)
-
-        continueButton.translatesAutoresizingMaskIntoConstraints = false
-        skipRestoreButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            continueButton.centerXAnchor.constraint(equalTo: buttonContainer.layoutMarginsGuide.centerXAnchor),
-            continueButton.topAnchor.constraint(equalTo: buttonContainer.layoutMarginsGuide.topAnchor),
-            continueButton.leadingAnchor.constraint(equalTo: buttonContainer.layoutMarginsGuide.leadingAnchor, constant: 22),
-
-            skipRestoreButton.topAnchor.constraint(equalTo: continueButton.bottomAnchor, constant: 12),
-            skipRestoreButton.leadingAnchor.constraint(equalTo: continueButton.leadingAnchor),
-            skipRestoreButton.trailingAnchor.constraint(equalTo: continueButton.trailingAnchor),
-            skipRestoreButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
 
-        view.addSubview(buttonContainer)
-        buttonContainer.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            buttonContainer.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            buttonContainer.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            buttonContainer.trailingAnchor.constraint(equalTo: view.trailingAnchor),
+        stackView.addArrangedSubviews([
+            .vStretchingSpacer(),
+            [ continueButton, skipRestoreButton].enclosedInVerticalStackView(isFullWidthButtons: true),
         ])
    }
 
diff --git a/Signal/Registration/UserInterface/RegistrationConfirmModeSwitchViewController.swift b/Signal/Registration/UserInterface/RegistrationConfirmModeSwitchViewController.swift
index 3e6da73db3..0f640ace76 100644
--- a/Signal/Registration/UserInterface/RegistrationConfirmModeSwitchViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationConfirmModeSwitchViewController.swift
@@ -58,34 +58,11 @@ class RegistrationConfirmModeSwitchViewController: OWSViewController {
         )
         nextButton.accessibilityIdentifier = "onboarding.modeSwitch.nextButton"
 
-        let buttonContainer = UIView.container()
-        buttonContainer.addSubview(nextButton)
-        nextButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            nextButton.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-            nextButton.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-            nextButton.leadingAnchor.constraint(equalTo: buttonContainer.leadingAnchor, constant: 22),
-            nextButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
-
-        let stackView = UIStackView(arrangedSubviews: [
+        addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
-            UIView.vStretchingSpacer(minHeight: 36),
-            buttonContainer
-        ])
-        stackView.axis = .vertical
-        stackView.alignment = .fill
-        stackView.spacing = 12
-        stackView.isLayoutMarginsRelativeArrangement = true
-        stackView.preservesSuperviewLayoutMargins = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor)
+            .vStretchingSpacer(),
+            nextButton.enclosedInVerticalStackView(isFullWidthButton: true)
         ])
     }
 
@@ -104,3 +81,25 @@ class RegistrationConfirmModeSwitchViewController: OWSViewController {
         presentActionSheet(actionSheet)
     }
 }
+
+// MARK: -
+
+#if DEBUG
+
+private class PreviewRegistrationConfimModeSwitchPresenter: RegistrationConfimModeSwitchPresenter {
+    func confirmSwitchToDeviceLinkingMode() {
+        print("confirmSwitchToDeviceLinkingMode")
+    }
+}
+
+@available(iOS 17, *)
+#Preview {
+    let presenter = PreviewRegistrationConfimModeSwitchPresenter()
+    return UINavigationController(
+        rootViewController: RegistrationConfirmModeSwitchViewController(
+            presenter: presenter
+        )
+    )
+}
+
+#endif
diff --git a/Signal/Registration/UserInterface/RegistrationLoadingViewController.swift b/Signal/Registration/UserInterface/RegistrationLoadingViewController.swift
index c172f526df..fdeb4dee15 100644
--- a/Signal/Registration/UserInterface/RegistrationLoadingViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationLoadingViewController.swift
@@ -60,8 +60,8 @@ class RegistrationLoadingViewController: OWSViewController {
         view.addSubview(spinnerView)
         spinnerView.translatesAutoresizingMaskIntoConstraints = false
         NSLayoutConstraint.activate([
-            spinnerView.centerXAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerXAnchor),
-            spinnerView.centerYAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerYAnchor),
+            spinnerView.centerXAnchor.constraint(equalTo: contentLayoutGuide.centerXAnchor),
+            spinnerView.centerYAnchor.constraint(equalTo: contentLayoutGuide.centerYAnchor),
         ])
     }
 
diff --git a/Signal/Registration/UserInterface/RegistrationPermissionsView.swift b/Signal/Registration/UserInterface/RegistrationPermissionsView.swift
index cb170a9177..057b3e50e5 100644
--- a/Signal/Registration/UserInterface/RegistrationPermissionsView.swift
+++ b/Signal/Registration/UserInterface/RegistrationPermissionsView.swift
@@ -23,7 +23,6 @@ struct RegistrationPermissionsView: View {
     @Environment(\.horizontalSizeClass) private var horizontalSizeClass
     @Environment(\.verticalSizeClass) private var verticalSizeClass
 
-    @AccessibleLayoutMetric private var headerPadding = 16
     @AccessibleLayoutMetric private var headerSpacing = 12
     @AccessibleLayoutMetric(scale: 0.5) private var sectionSpacing = 64
 
@@ -31,25 +30,9 @@ struct RegistrationPermissionsView: View {
         horizontalSizeClass == .compact || verticalSizeClass == .compact
     }
 
-    private var layoutMargins: EdgeInsets {
-        if isCompactLayout {
-            EdgeInsets(.layoutMarginsForRegistration(UIUserInterfaceSizeClass(horizontalSizeClass)))
-        } else {
-            EdgeInsets()
-        }
-    }
-
-    private var horizontalButtonPadding: CGFloat {
-        NSDirectionalEdgeInsets.layoutMarginsForLargeRegistrationButtons().leading
-    }
-
     var body: some View {
         VStack {
             VStack(spacing: headerSpacing) {
-                if requestingContactsAuthorization {
-                    Color.clear.frame(height: 32)
-                }
-
                 Text(OWSLocalizedString("ONBOARDING_PERMISSIONS_TITLE", comment: "Title of the 'onboarding permissions' view."))
                     .font(.title.weight(.semibold))
                     .lineLimit(1)
@@ -57,7 +40,6 @@ struct RegistrationPermissionsView: View {
                     .dynamicTypeSize(...DynamicTypeSize.accessibility1)
             }
             .multilineTextAlignment(.center)
-            .padding(.horizontal, headerPadding)
 
             ScrollableWhenCompact {
                 VStack {
@@ -91,9 +73,6 @@ struct RegistrationPermissionsView: View {
                             .transition(.offset(x: 0, y: -20).combined(with: .opacity))
                         }
                     }
-                    // Expand to available width when compact, otherwise horizontally center.
-                    .frame(maxWidth: isCompactLayout ? .infinity : nil, alignment: .leading)
-                    .padding([.leading, .trailing], layoutMargins.leading)
 
                     Spacer(minLength: sectionSpacing)
                         .layoutPriority(-1)
@@ -105,9 +84,8 @@ struct RegistrationPermissionsView: View {
                     }
                     .buttonStyle(Registration.UI.LargePrimaryButtonStyle())
                     .dynamicTypeSize(...DynamicTypeSize.accessibility2)
-                    .padding([.leading, .trailing], horizontalButtonPadding)
+                    .padding(EdgeInsets(NSDirectionalEdgeInsets.buttonContainerLayoutMargins))
                 }
-                .padding()
             }
         }
         .onChange(of: appearanceTransitionState) { newValue in
@@ -133,7 +111,6 @@ struct RegistrationPermissionsView: View {
         }
         .dynamicTypeSize(...DynamicTypeSize.accessibility3)
         .minimumScaleFactor(0.9)
-        .navigationBarBackButtonHidden()
         .task($requestPermissions.animation())
     }
 
@@ -233,12 +210,11 @@ final class RegistrationPermissionsViewController: OWSViewController, OWSNavigat
     let requestingContactsAuthorization: Bool
     weak var presenter: (any RegistrationPermissionsPresenter)?
 
-    var prefersNavigationBarHidden: Bool { true }
-
     init(requestingContactsAuthorization: Bool, presenter: any RegistrationPermissionsPresenter) {
         self.requestingContactsAuthorization = requestingContactsAuthorization
         self.presenter = presenter
         super.init()
+        self.navigationItem.hidesBackButton = true
     }
 
     override func viewDidLoad() {
@@ -255,7 +231,13 @@ final class RegistrationPermissionsViewController: OWSViewController, OWSNavigat
         )
         addChild(hostingController)
         view.addSubview(hostingController.view)
-        hostingController.view.autoPinEdgesToSuperviewEdges()
+        hostingController.view.translatesAutoresizingMaskIntoConstraints = false
+        NSLayoutConstraint.activate([
+            hostingController.view.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
+            hostingController.view.leadingAnchor.constraint(equalTo: contentLayoutGuide.leadingAnchor),
+            hostingController.view.bottomAnchor.constraint(equalTo: contentLayoutGuide.bottomAnchor),
+            hostingController.view.trailingAnchor.constraint(equalTo: contentLayoutGuide.trailingAnchor),
+        ])
         hostingController.didMove(toParent: self)
     }
 
diff --git a/Signal/Registration/UserInterface/RegistrationPhoneNumberDiscoverabilityViewController.swift b/Signal/Registration/UserInterface/RegistrationPhoneNumberDiscoverabilityViewController.swift
index 6eee555c9b..71636aa312 100644
--- a/Signal/Registration/UserInterface/RegistrationPhoneNumberDiscoverabilityViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationPhoneNumberDiscoverabilityViewController.swift
@@ -98,13 +98,13 @@ class RegistrationPhoneNumberDiscoverabilityViewController: OWSViewController {
         )
         subtitleLabel.accessibilityIdentifier = "registration.phoneNumberDiscoverability.explanationLabel"
 
-        let stackView = UIStackView(arrangedSubviews: [
+        let stackView = addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             subtitleLabel,
             everybodyButton,
             nobodyButton,
             selectionDescriptionLabel,
-            .vStretchingSpacer(minHeight: 16)
+            .vStretchingSpacer(),
         ])
         if presenter?.presentedAsModal ?? false {
             let continueButton = UIButton(
@@ -114,30 +114,11 @@ class RegistrationPhoneNumberDiscoverabilityViewController: OWSViewController {
                 }
             )
             continueButton.accessibilityIdentifier = "registration.phoneNumberDiscoverability.saveButton"
-            let buttonContainer = UIView.container()
-            buttonContainer.addSubview(continueButton)
-            continueButton.translatesAutoresizingMaskIntoConstraints = false
-            NSLayoutConstraint.activate([
-                continueButton.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-                continueButton.leadingAnchor.constraint(equalTo: buttonContainer.leadingAnchor, constant: 22),
-                continueButton.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-                continueButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-            ])
-            stackView.addArrangedSubview(buttonContainer)
+
+            stackView.addArrangedSubview(continueButton.enclosedInVerticalStackView(isFullWidthButton: true))
         }
-        stackView.axis = .vertical
         stackView.spacing = 16
         stackView.setCustomSpacing(24, after: subtitleLabel)
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
 
         update()
     }
diff --git a/Signal/Registration/UserInterface/RegistrationPhoneNumberViewController.swift b/Signal/Registration/UserInterface/RegistrationPhoneNumberViewController.swift
index 726dd10abc..d7ddd3ce3a 100644
--- a/Signal/Registration/UserInterface/RegistrationPhoneNumberViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationPhoneNumberViewController.swift
@@ -196,32 +196,18 @@ class RegistrationPhoneNumberViewController: OWSViewController {
             return barButtonItem
         }()
 
-        let stackView = UIStackView(arrangedSubviews: [
-            titleLabel,
-            explanationLabel,
-            phoneNumberInput,
-            validationWarningLabel,
-        ])
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        stackView.directionalLayoutMargins.top = 0
+        let stackView = addStaticContentStackView(
+            arrangedSubviews: [
+                titleLabel,
+                explanationLabel,
+                phoneNumberInput,
+                validationWarningLabel,
+                .vStretchingSpacer(),
+                cancelButton.enclosedInVerticalStackView(isFullWidthButton: false),
+            ],
+            shouldAvoidKeyboard: true
+        )
         stackView.setCustomSpacing(24, after: explanationLabel)
-        stackView.axis = .vertical
-
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        view.addSubview(cancelButton)
-        cancelButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-
-            cancelButton.topAnchor.constraint(greaterThanOrEqualTo: stackView.bottomAnchor, constant: 24),
-            cancelButton.centerXAnchor.constraint(equalTo: view.centerXAnchor),
-            cancelButton.bottomAnchor.constraint(equalTo: keyboardLayoutGuide.topAnchor, constant: -24),
-        ])
 
         configureUI()
 
diff --git a/Signal/Registration/UserInterface/RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController.swift b/Signal/Registration/UserInterface/RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController.swift
index c0dff7b26d..e9068605bd 100644
--- a/Signal/Registration/UserInterface/RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController.swift
@@ -80,30 +80,11 @@ class RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController: OWSView
         )
         learnMoreButton.accessibilityIdentifier = "registration.pinAttemptsExhausted.learnMoreButton"
 
-        let buttonContainer = UIStackView(arrangedSubviews: [ continueButton, learnMoreButton ])
-        buttonContainer.axis = .vertical
-        buttonContainer.spacing = 12
-        buttonContainer.alignment = .fill
-        buttonContainer.isLayoutMarginsRelativeArrangement = true
-        buttonContainer.directionalLayoutMargins = NSDirectionalEdgeInsets(top: 0, leading: 22, bottom: 16, trailing: 22)
-
-        let stackView = UIStackView(arrangedSubviews: [
+        addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
             .vStretchingSpacer(),
-            buttonContainer,
-        ])
-        stackView.axis = .vertical
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
+            [ continueButton, learnMoreButton ].enclosedInVerticalStackView(isFullWidthButtons: true),
         ])
 
         configure()
@@ -162,7 +143,7 @@ private class PreviewRegistrationPinAttemptsExhaustedAndMustCreateNewPinPresente
 }
 
 @available(iOS 17, *)
-#Preview {
+#Preview("Create New PIN") {
     let presenter = PreviewRegistrationPinAttemptsExhaustedAndMustCreateNewPinPresenter()
     return UINavigationController(
         rootViewController: RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController(
@@ -173,7 +154,7 @@ private class PreviewRegistrationPinAttemptsExhaustedAndMustCreateNewPinPresente
 }
 
 @available(iOS 17, *)
-#Preview {
+#Preview("Verify Phone Number") {
     let presenter = PreviewRegistrationPinAttemptsExhaustedAndMustCreateNewPinPresenter()
     return UINavigationController(
         rootViewController: RegistrationPinAttemptsExhaustedAndMustCreateNewPinViewController(
diff --git a/Signal/Registration/UserInterface/RegistrationPinViewController.swift b/Signal/Registration/UserInterface/RegistrationPinViewController.swift
index 5e5ab208c9..8903dcc753 100644
--- a/Signal/Registration/UserInterface/RegistrationPinViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationPinViewController.swift
@@ -174,18 +174,7 @@ class RegistrationPinViewController: OWSViewController {
         accessibilityIdentifier: "registration.pin.backButton"
     )
 
-    private lazy var stackView: UIStackView = {
-        let result = UIStackView(arrangedSubviews: [titleLabel, explanationView, pinTextField])
-        result.axis = .vertical
-        result.distribution = .fill
-        result.spacing = 12
-        result.setCustomSpacing(24, after: explanationView)
-        result.preservesSuperviewLayoutMargins = true
-        result.isLayoutMarginsRelativeArrangement = true
-        result.directionalLayoutMargins.top = 0
-        result.directionalLayoutMargins.bottom = 16
-        return result
-    }()
+    private var stackView: UIStackView!
 
     private lazy var titleLabel: UILabel = {
         let result = UILabel.titleLabelForRegistration(text: {
@@ -317,6 +306,8 @@ class RegistrationPinViewController: OWSViewController {
         return button
     }()
 
+    private lazy var togglePinCharacterSetButtonContainer = togglePinCharacterSetButton.enclosedInVerticalStackView(isFullWidthButton: false)
+
     private func exitAction() -> UIAction? {
         let exitTitle: String
         switch state.exitConfiguration {
@@ -357,27 +348,12 @@ class RegistrationPinViewController: OWSViewController {
             return barButtonItem
         }()
 
-        let scrollView = UIScrollView()
-        view.addSubview(scrollView)
-        scrollView.preservesSuperviewLayoutMargins = true
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            scrollView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            scrollView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-            scrollView.bottomAnchor.constraint(equalTo: keyboardLayoutGuide.topAnchor),
-        ])
-
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.heightAnchor.constraint(greaterThanOrEqualTo: scrollView.frameLayoutGuide.heightAnchor),
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-        ])
+        self.stackView = addStaticContentStackView(
+            arrangedSubviews: [titleLabel, explanationView, pinTextField],
+            isScrollable: true,
+            shouldAvoidKeyboard: true
+        )
+        stackView.setCustomSpacing(24, after: explanationView)
 
         pinTextField.addTarget(self, action: #selector(textFieldDidChange), for: .editingChanged)
 
@@ -477,8 +453,8 @@ class RegistrationPinViewController: OWSViewController {
 
         replaceViewsAfterTextField(with: [
             pinValidationLabel,
-            UIView.vStretchingSpacer(),
-            togglePinCharacterSetButton
+            UIView.vStretchingSpacer(minHeight: 24),
+            togglePinCharacterSetButtonContainer,
         ])
     }
 
@@ -560,7 +536,7 @@ class RegistrationPinViewController: OWSViewController {
         newViewsAtTheBottom.append(contentsOf: [
             needHelpWithExistingPinButton,
             UIView.vStretchingSpacer(),
-            togglePinCharacterSetButton
+            togglePinCharacterSetButtonContainer,
         ])
         replaceViewsAfterTextField(with: newViewsAtTheBottom)
     }
diff --git a/Signal/Registration/UserInterface/RegistrationProfileViewController.swift b/Signal/Registration/UserInterface/RegistrationProfileViewController.swift
index 435baff6f5..0ea60027a8 100644
--- a/Signal/Registration/UserInterface/RegistrationProfileViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationProfileViewController.swift
@@ -247,17 +247,6 @@ class RegistrationProfileViewController: OWSViewController {
             accessibilityIdentifier: "registration.profile.nextButton"
         )
 
-        let scrollView = UIScrollView()
-        scrollView.preservesSuperviewLayoutMargins = true
-        view.addSubview(scrollView)
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            scrollView.leadingAnchor.constraint(equalTo: view.layoutMarginsGuide.leadingAnchor),
-            scrollView.trailingAnchor.constraint(equalTo: view.layoutMarginsGuide.trailingAnchor),
-            scrollView.bottomAnchor.constraint(equalTo: keyboardLayoutGuide.topAnchor),
-        ])
-
         let avatarContainerView = UIView.container()
         avatarContainerView.addSubview(avatarView)
         avatarContainerView.addSubview(cameraIconView)
@@ -272,31 +261,20 @@ class RegistrationProfileViewController: OWSViewController {
             cameraIconView.trailingAnchor.constraint(equalTo: avatarView.trailingAnchor),
         ])
 
-        let stackView = UIStackView(arrangedSubviews: [
-            titleLabel,
-            explanationView,
-            avatarContainerView,
-            nameStackView,
-            phoneNumberPrivacyButton,
-            UIView.vStretchingSpacer(),
-        ])
-        stackView.axis = .vertical
-        stackView.distribution = .fill
+        let stackView = addStaticContentStackView(
+            arrangedSubviews: [
+                titleLabel,
+                explanationView,
+                avatarContainerView,
+                nameStackView,
+                phoneNumberPrivacyButton,
+                .vStretchingSpacer(),
+            ],
+            isScrollable: true,
+            shouldAvoidKeyboard: true
+        )
         stackView.spacing = 24
         stackView.setCustomSpacing(12, after: titleLabel)
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.heightAnchor.constraint(greaterThanOrEqualTo: scrollView.frameLayoutGuide.heightAnchor),
-        ])
 
         firstTextField.returnKeyType = .next
         secondTextField.returnKeyType = .done
diff --git a/Signal/Registration/UserInterface/RegistrationQuickRestoreQRCodeViewController.swift b/Signal/Registration/UserInterface/RegistrationQuickRestoreQRCodeViewController.swift
index 6f007af982..6412f42aba 100644
--- a/Signal/Registration/UserInterface/RegistrationQuickRestoreQRCodeViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationQuickRestoreQRCodeViewController.swift
@@ -37,11 +37,7 @@ class RegistrationQuickRestoreQRCodeViewController:
         super.init()
 
         self.provisioningSocketManager.delegate = self
-
-        self.addChild(hostingController)
-        self.view.addSubview(hostingController.view)
-        hostingController.view.autoPinEdgesToSuperviewEdges()
-        hostingController.didMove(toParent: self)
+        self.navigationItem.hidesBackButton = true
     }
 
     private lazy var hostingController = UIHostingController(rootView: ContentStack(
@@ -52,6 +48,23 @@ class RegistrationQuickRestoreQRCodeViewController:
         }
     ))
 
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        view.backgroundColor = .Signal.background
+
+        addChild(hostingController)
+        view.addSubview(hostingController.view)
+        hostingController.view.translatesAutoresizingMaskIntoConstraints = false
+        NSLayoutConstraint.activate([
+            hostingController.view.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
+            hostingController.view.leadingAnchor.constraint(equalTo: contentLayoutGuide.leadingAnchor),
+            hostingController.view.bottomAnchor.constraint(equalTo: contentLayoutGuide.bottomAnchor),
+            hostingController.view.trailingAnchor.constraint(equalTo: contentLayoutGuide.trailingAnchor),
+        ])
+        hostingController.didMove(toParent: self)
+    }
+
     override func viewDidAppear(_ animated: Bool) {
         super.viewDidAppear(animated)
         provisioningSocketManager.reset()
@@ -106,8 +119,6 @@ class RegistrationQuickRestoreQRCodeViewController:
     public var preferredNavigationBarStyle: OWSNavigationBarStyle { .solid }
 
     public var navbarBackgroundColorOverride: UIColor? { .clear }
-
-    public var prefersNavigationBarHidden: Bool { true }
 }
 
 // MARK: - SwiftUI
@@ -117,50 +128,30 @@ private struct ContentStack: View {
 
     let cancelAction: () -> Void
 
-    @Environment(\.horizontalSizeClass) private var horizontalSizeClass
-    @Environment(\.verticalSizeClass) private var verticalSizeClass
-
-    private var isCompactLayout: Bool {
-        horizontalSizeClass == .compact || verticalSizeClass == .compact
-    }
-
-    private var layoutMargins: EdgeInsets {
-        if isCompactLayout {
-            EdgeInsets(.layoutMarginsForRegistration(UIUserInterfaceSizeClass(horizontalSizeClass)))
-        } else {
-            EdgeInsets()
-        }
-    }
-
     var body: some View {
-        VStack {
-            ScrollView {
-                VStack(spacing: 36) {
-                    Text(OWSLocalizedString(
-                        "REGISTRATION_SCAN_QR_CODE_TITLE",
-                        comment: "Title for screen containing QR code that users scan with their old phone when they want to transfer/restore their message history to a new device."
-                    ))
-                    .font(.title.weight(.semibold))
-                    .multilineTextAlignment(.center)
-                    .fixedSize(horizontal: false, vertical: true)
-                    .padding(.top, 32)
-
-                    RotatingQRCodeView(model: model)
-                        .padding(.horizontal, 50)
-
-                    TutorialStack()
+        ScrollView {
+            VStack(spacing: 36) {
+                Text(OWSLocalizedString(
+                    "REGISTRATION_SCAN_QR_CODE_TITLE",
+                    comment: "Title for screen containing QR code that users scan with their old phone when they want to transfer/restore their message history to a new device."
+                ))
+                .font(.title.weight(.semibold))
+                .multilineTextAlignment(.center)
+                .fixedSize(horizontal: false, vertical: true)
+
+                RotatingQRCodeView(model: model)
+                    .padding(.horizontal, 40)
+
+                TutorialStack()
+
+                Button(CommonStrings.cancelButton) {
+                    self.cancelAction()
                 }
+                .buttonStyle(Registration.UI.MediumSecondaryButtonStyle())
+                .dynamicTypeSize(...DynamicTypeSize.accessibility2)
+                .padding(.bottom, NSDirectionalEdgeInsets.buttonContainerLayoutMargins.bottom)
             }
-
-            Spacer(minLength: 36)
-
-            Button(CommonStrings.cancelButton) {
-                self.cancelAction()
-            }
-            .buttonStyle(Registration.UI.MediumSecondaryButtonStyle())
-            .dynamicTypeSize(...DynamicTypeSize.accessibility2)
         }
-        .padding(layoutMargins)
     }
 }
 
diff --git a/Signal/Registration/UserInterface/RegistrationReglockTimeoutViewController.swift b/Signal/Registration/UserInterface/RegistrationReglockTimeoutViewController.swift
index 2c05c96a78..0d7dd25c68 100644
--- a/Signal/Registration/UserInterface/RegistrationReglockTimeoutViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationReglockTimeoutViewController.swift
@@ -103,30 +103,11 @@ class RegistrationReglockTimeoutViewController: OWSViewController {
         )
         learnMoreButton.accessibilityIdentifier = "registration.reglockTimeout.learnMoreButton"
 
-        let buttonContainer = UIStackView(arrangedSubviews: [ okayButton, learnMoreButton ])
-        buttonContainer.axis = .vertical
-        buttonContainer.spacing = 12
-        buttonContainer.alignment = .fill
-        buttonContainer.isLayoutMarginsRelativeArrangement = true
-        buttonContainer.directionalLayoutMargins = NSDirectionalEdgeInsets(top: 0, leading: 22, bottom: 16, trailing: 22)
-
-        let stackView = UIStackView(arrangedSubviews: [
+        addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
-            .vStretchingSpacer(minHeight: 36),
-            buttonContainer,
-        ])
-        stackView.axis = .vertical
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
+            .vStretchingSpacer(),
+            [ okayButton, learnMoreButton ].enclosedInVerticalStackView(isFullWidthButtons: true),
         ])
 
         updateExplanationLabelText()
diff --git a/Signal/Registration/UserInterface/RegistrationRestoreFromBackupConfirmationViewController.swift b/Signal/Registration/UserInterface/RegistrationRestoreFromBackupConfirmationViewController.swift
index 94af61807a..438f273ebf 100644
--- a/Signal/Registration/UserInterface/RegistrationRestoreFromBackupConfirmationViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationRestoreFromBackupConfirmationViewController.swift
@@ -42,20 +42,47 @@ public class RegistrationRestoreFromBackupConfirmationState: ObservableObject, E
     }
 }
 
-class RegistrationRestoreFromBackupConfirmationViewController: HostingController<RegistrationRestoreFromBackupConfirmationView> {
+class RegistrationRestoreFromBackupConfirmationViewController: OWSViewController, OWSNavigationChildController {
+    private var state: RegistrationRestoreFromBackupConfirmationState
+    private weak var presenter: (any RegistrationRestoreFromBackupConfirmationPresenter)?
+
     init(
         state: RegistrationRestoreFromBackupConfirmationState,
         presenter: RegistrationRestoreFromBackupConfirmationPresenter
     ) {
-        super.init(
+        self.state = state
+        self.presenter = presenter
+        super.init()
+        self.navigationItem.hidesBackButton = true
+    }
+
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        view.backgroundColor = UIColor.Signal.background
+
+        let hostingController = HostingController(
             wrappedView: RegistrationRestoreFromBackupConfirmationView(
                 state: state,
-                presenter: presenter
+                presenter: presenter!
             )
         )
+        addChild(hostingController)
+        view.addSubview(hostingController.view)
+        hostingController.view.translatesAutoresizingMaskIntoConstraints = false
+        NSLayoutConstraint.activate([
+            hostingController.view.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
+            hostingController.view.leadingAnchor.constraint(equalTo: contentLayoutGuide.leadingAnchor),
+            hostingController.view.bottomAnchor.constraint(equalTo: contentLayoutGuide.bottomAnchor),
+            hostingController.view.trailingAnchor.constraint(equalTo: contentLayoutGuide.trailingAnchor),
+        ])
+        hostingController.didMove(toParent: self)
     }
 
-    override var prefersNavigationBarHidden: Bool { true }
+    @available(*, unavailable)
+    required init?(coder aDecoder: NSCoder) {
+        fatalError("init(coder:) has not been implemented")
+    }
 }
 
 struct RegistrationRestoreFromBackupConfirmationView: View {
@@ -71,8 +98,7 @@ struct RegistrationRestoreFromBackupConfirmationView: View {
     }
 
     var body: some View {
-        VStack {
-
+        VStack(spacing: 12) {
             if state.mode == .manual {
                 Image(.backupsLogo)
                     .resizable()
@@ -86,14 +112,11 @@ struct RegistrationRestoreFromBackupConfirmationView: View {
             .multilineTextAlignment(.center)
             .font(.title.weight(.semibold))
             .foregroundStyle(Color.Signal.label)
-            .padding(.horizontal, 20)
 
             bodyText()
                 .dynamicTypeSize(...DynamicTypeSize.accessibility1)
                 .multilineTextAlignment(.center)
                 .foregroundStyle(Color.Signal.secondaryLabel)
-                .padding(.horizontal, 20)
-                .padding(.top, 8)
 
             if state.mode == .manual {
                 Text(OWSLocalizedString(
@@ -103,8 +126,7 @@ struct RegistrationRestoreFromBackupConfirmationView: View {
                 .dynamicTypeSize(...DynamicTypeSize.accessibility1)
                 .multilineTextAlignment(.center)
                 .foregroundStyle(Color.Signal.secondaryLabel)
-                .padding(.horizontal, 20)
-                .padding(.top, 8)
+
                 Spacer()
             } else {
                 ScrollView(.vertical, showsIndicators: false) {
@@ -155,7 +177,7 @@ struct RegistrationRestoreFromBackupConfirmationView: View {
             }
             .buttonStyle(Registration.UI.LargePrimaryButtonStyle())
             .dynamicTypeSize(...DynamicTypeSize.accessibility2)
-            .frame(maxWidth: 300)
+            .padding(.horizontal, NSDirectionalEdgeInsets.buttonContainerLayoutMargins.leading)
 
             Button(secondaryOptionLabel()) {
                 switch state.mode {
@@ -168,10 +190,8 @@ struct RegistrationRestoreFromBackupConfirmationView: View {
             }
             .buttonStyle(Registration.UI.LargeSecondaryButtonStyle())
             .dynamicTypeSize(...DynamicTypeSize.accessibility2)
-            .frame(maxWidth: 300)
-            .padding(20)
+            .padding(EdgeInsets(NSDirectionalEdgeInsets.buttonContainerLayoutMargins))
         }
-        .padding(.top, 44)
     }
 
     private func bodyText() -> Text {
diff --git a/Signal/Registration/UserInterface/RegistrationSplashViewController.swift b/Signal/Registration/UserInterface/RegistrationSplashViewController.swift
index 03fb15e616..64b3f21539 100644
--- a/Signal/Registration/UserInterface/RegistrationSplashViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationSplashViewController.swift
@@ -39,7 +39,7 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
 
         // Buttons in the top right corner.
         let canSwitchModes = UIDevice.current.isIPad || FeatureFlags.linkedPhones
-        var transferButtonTrailingAnchor: NSLayoutAnchor<NSLayoutXAxisAnchor> = view.layoutMarginsGuide.trailingAnchor
+        var transferButtonTrailingAnchor: NSLayoutAnchor<NSLayoutXAxisAnchor> = contentLayoutGuide.trailingAnchor
         if canSwitchModes {
             let modeSwitchButton = UIButton(
                 configuration: .plain(),
@@ -49,15 +49,15 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
             )
             modeSwitchButton.configuration?.image = .init(named: UIDevice.current.isIPad ? "link" : "link-slash")
             modeSwitchButton.tintColor = .ows_gray25
-            modeSwitchButton.accessibilityIdentifier = "onboarding.splash.modeSwitch"
+            modeSwitchButton.accessibilityIdentifier = "registration.splash.modeSwitch"
 
             view.addSubview(modeSwitchButton)
             modeSwitchButton.translatesAutoresizingMaskIntoConstraints = false
             NSLayoutConstraint.activate([
                 modeSwitchButton.widthAnchor.constraint(equalToConstant: 40),
                 modeSwitchButton.heightAnchor.constraint(equalToConstant: 40),
-                modeSwitchButton.trailingAnchor.constraint(equalTo: view.layoutMarginsGuide.trailingAnchor),
-                modeSwitchButton.topAnchor.constraint(equalTo: view.layoutMarginsGuide.topAnchor),
+                modeSwitchButton.trailingAnchor.constraint(equalTo: contentLayoutGuide.trailingAnchor),
+                modeSwitchButton.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
             ])
 
             transferButtonTrailingAnchor = modeSwitchButton.leadingAnchor
@@ -71,7 +71,7 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
                 }
             )
             transferButton.configuration?.image = Theme.iconImage(.transfer).resizedImage(to: .square(24))
-            transferButton.accessibilityIdentifier = "onboarding.splash.transfer"
+            transferButton.accessibilityIdentifier = "registration.splash.transfer"
 
             view.addSubview(transferButton)
             transferButton.translatesAutoresizingMaskIntoConstraints = false
@@ -79,41 +79,29 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
                 transferButton.widthAnchor.constraint(equalToConstant: 40),
                 transferButton.heightAnchor.constraint(equalToConstant: 40),
                 transferButton.trailingAnchor.constraint(equalTo: transferButtonTrailingAnchor),
-                transferButton.topAnchor.constraint(equalTo: view.layoutMarginsGuide.topAnchor),
+                transferButton.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor),
             ])
         }
 
-        // Main content view.
-        let stackView = UIStackView()
-        stackView.axis = .vertical
-        stackView.alignment = .fill
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        view.sendSubviewToBack(stackView) // don't obscure buttons in the corner
-        stackView.translatesAutoresizingMaskIntoConstraints = false
+        // Image at the top.
+        let imageView = UIImageView(image: UIImage(named: "onboarding_splash_hero"))
+        imageView.contentMode = .scaleAspectFit
+        imageView.layer.minificationFilter = .trilinear
+        imageView.layer.magnificationFilter = .trilinear
+        imageView.setCompressionResistanceLow()
+        imageView.setContentHuggingVerticalLow()
+        imageView.accessibilityIdentifier = "registration.splash.heroImageView"
+        let heroImageContainer = UIView.container()
+        heroImageContainer.addSubview(imageView)
+        imageView.translatesAutoresizingMaskIntoConstraints = false
+        // Center image vertically in the available space above title text.
         NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-            stackView.bottomAnchor.constraint(
-                equalTo: view.safeAreaLayoutGuide.bottomAnchor,
-                constant: UIDevice.current.hasIPhoneXNotch ? 0 : -32
-            ),
+            imageView.centerXAnchor.constraint(equalTo: heroImageContainer.centerXAnchor),
+            imageView.widthAnchor.constraint(equalTo: heroImageContainer.widthAnchor),
+            imageView.centerYAnchor.constraint(equalTo: heroImageContainer.centerYAnchor),
+            imageView.heightAnchor.constraint(equalTo: heroImageContainer.heightAnchor, constant: 0.8),
         ])
 
-        // Image at the top.
-        let heroImage = UIImage(named: "onboarding_splash_hero")
-        let heroImageView = UIImageView(image: heroImage)
-        heroImageView.contentMode = .scaleAspectFit
-        heroImageView.layer.minificationFilter = .trilinear
-        heroImageView.layer.magnificationFilter = .trilinear
-        heroImageView.setCompressionResistanceLow()
-        heroImageView.setContentHuggingVerticalLow()
-        heroImageView.accessibilityIdentifier = "registration.splash.heroImageView"
-        stackView.addArrangedSubview(heroImageView)
-        stackView.setCustomSpacing(22, after: heroImageView)
-
         // Welcome text.
         let titleText = {
             if TSConstants.isUsingProductionService {
@@ -127,8 +115,6 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
         }()
         let titleLabel = UILabel.titleLabelForRegistration(text: titleText)
         titleLabel.accessibilityIdentifier = "registration.splash.titleLabel"
-        stackView.addArrangedSubview(titleLabel)
-        stackView.setCustomSpacing(12, after: titleLabel)
 
         // Terms of service and privacy policy.
         let tosPPButton = UIButton(
@@ -143,8 +129,6 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
         tosPPButton.configuration?.baseForegroundColor = .Signal.secondaryLabel
         tosPPButton.enableMultilineLabel()
         tosPPButton.accessibilityIdentifier = "registration.splash.explanationLabel"
-        stackView.addArrangedSubview(tosPPButton)
-        stackView.setCustomSpacing(57, after: tosPPButton)
 
         // Large buttons enclosed in a container with some extra horizontal padding.
         let continueButton = UIButton(
@@ -155,14 +139,7 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
         )
         continueButton.accessibilityIdentifier = "registration.splash.continueButton"
 
-        let largeButtonsContainer = UIStackView(arrangedSubviews: [continueButton])
-        largeButtonsContainer.isLayoutMarginsRelativeArrangement = true
-        largeButtonsContainer.directionalLayoutMargins = .layoutMarginsForLargeRegistrationButtons()
-        largeButtonsContainer.spacing = 16
-        largeButtonsContainer.axis = .vertical
-        largeButtonsContainer.alignment = .fill
-        stackView.addArrangedSubview(largeButtonsContainer)
-
+        let largeButtonsContainer: UIView
         if FeatureFlags.Backups.supported {
             let restoreOrTransferButton = UIButton(
                 configuration: .largeSecondary(title: OWSLocalizedString(
@@ -175,8 +152,23 @@ public class RegistrationSplashViewController: OWSViewController, OWSNavigationC
             )
             restoreOrTransferButton.enableMultilineLabel()
             restoreOrTransferButton.accessibilityIdentifier = "registration.splash.continueButton"
-            largeButtonsContainer.addArrangedSubview(restoreOrTransferButton)
+
+            largeButtonsContainer = UIStackView.verticalButtonStack(buttons: [ continueButton, restoreOrTransferButton ])
+        } else {
+            largeButtonsContainer = UIStackView.verticalButtonStack(buttons: [ continueButton ])
         }
+
+        // Main content view.
+        let stackView = addStaticContentStackView(arrangedSubviews: [
+            heroImageContainer,
+            titleLabel,
+            tosPPButton,
+            largeButtonsContainer,
+        ])
+        stackView.setCustomSpacing(44, after: imageView)
+        stackView.setCustomSpacing(82, after: tosPPButton)
+
+        view.sendSubviewToBack(stackView)
     }
 
     // MARK: - Events
@@ -262,6 +254,8 @@ private class RestoreOrTransferPickerController: StackSheetViewController {
     }
 }
 
+// MARK: -
+
 #if DEBUG
 private class PreviewRegistrationSplashPresenter: RegistrationSplashPresenter {
     func continueFromSplash() {
diff --git a/Signal/Registration/UserInterface/RegistrationTransferChoiceViewController.swift b/Signal/Registration/UserInterface/RegistrationTransferChoiceViewController.swift
index 7f7484c650..b293d24263 100644
--- a/Signal/Registration/UserInterface/RegistrationTransferChoiceViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationTransferChoiceViewController.swift
@@ -81,40 +81,14 @@ class RegistrationTransferChoiceViewController: OWSViewController {
         )
         registerButton.accessibilityIdentifier = "registration.transferChoice.registerButton"
 
-        // Put UI elements in a stack view and stack view in a scroll view.
-        let scrollView = UIScrollView()
-        scrollView.preservesSuperviewLayoutMargins = true
-        view.addSubview(scrollView)
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            scrollView.frameLayoutGuide.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            scrollView.frameLayoutGuide.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
-
-        let stackView = UIStackView(arrangedSubviews: [
+        let stackView = addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
             registerButton,
             transferButton,
-            UIView.vStretchingSpacer(),
+            .vStretchingSpacer(),
         ])
-        stackView.axis = .vertical
-        stackView.distribution = .fill
-        stackView.spacing = 12
         stackView.setCustomSpacing(24, after: explanationLabel)
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-        ])
     }
 
     // MARK: Events
diff --git a/Signal/Registration/UserInterface/RegistrationTransferProgressViewController.swift b/Signal/Registration/UserInterface/RegistrationTransferProgressViewController.swift
index b0604c1f64..df26a1671f 100644
--- a/Signal/Registration/UserInterface/RegistrationTransferProgressViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationTransferProgressViewController.swift
@@ -32,7 +32,6 @@ public class RegistrationTransferProgressViewController: OWSViewController {
             )
         )
         titleLabel.accessibilityIdentifier = "onboarding.transferProgress.titleLabel"
-        titleLabel.setContentHuggingHigh()
 
         let explanationLabel = UILabel.explanationLabelForRegistration(
             text: OWSLocalizedString(
@@ -41,7 +40,6 @@ public class RegistrationTransferProgressViewController: OWSViewController {
             )
         )
         explanationLabel.accessibilityIdentifier = "onboarding.transferProgress.bodyLabel"
-        explanationLabel.setContentHuggingHigh()
 
         let cancelButton = UIButton(
             configuration: .mediumSecondary(title: CommonStrings.cancelButton),
@@ -49,43 +47,21 @@ public class RegistrationTransferProgressViewController: OWSViewController {
                 self?.didTapCancel()
             }
         )
-        let cancelButtonContainer = UIView.container()
-        cancelButtonContainer.addSubview(cancelButton)
-        cancelButton.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            cancelButton.topAnchor.constraint(equalTo: cancelButtonContainer.topAnchor),
-            cancelButton.centerXAnchor.constraint(equalTo: cancelButtonContainer.centerXAnchor),
-            cancelButton.bottomAnchor.constraint(equalTo: cancelButtonContainer.bottomAnchor, constant: -16),
-        ])
 
         let topSpacer = UIView.vStretchingSpacer()
         let bottomSpacer = UIView.vStretchingSpacer()
 
-        let stackView = UIStackView(arrangedSubviews: [
+        addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
             topSpacer,
             progressView,
             bottomSpacer,
-            cancelButtonContainer
+            cancelButton.enclosedInVerticalStackView(isFullWidthButton: false)
         ])
-        stackView.axis = .vertical
-        stackView.alignment = .fill
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
         topSpacer.translatesAutoresizingMaskIntoConstraints = false
         bottomSpacer.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-
-            topSpacer.heightAnchor.constraint(equalTo: bottomSpacer.heightAnchor),
-        ])
+        topSpacer.heightAnchor.constraint(equalTo: bottomSpacer.heightAnchor).isActive = true
     }
 
     override public func viewWillAppear(_ animated: Bool) {
@@ -226,22 +202,13 @@ private class TransferRelaunchSheet: InteractiveSheetViewController {
                 self?.didTapExitButton()
             }
         )
-        let buttonContainer = UIView.container()
-        buttonContainer.addSubview(exitButton)
-        exitButton.translatesAutoresizingMaskIntoConstraints = false
-        buttonContainer.addConstraints([
-            exitButton.topAnchor.constraint(equalTo: buttonContainer.topAnchor),
-            exitButton.centerXAnchor.constraint(equalTo: buttonContainer.centerXAnchor),
-            exitButton.leadingAnchor.constraint(equalTo: buttonContainer.leadingAnchor, constant: 22),
-            exitButton.bottomAnchor.constraint(equalTo: buttonContainer.bottomAnchor, constant: -16),
-        ])
 
         let stackView = UIStackView(arrangedSubviews: [
             imageViewContainer,
             titleLabel,
             subtitleLabel,
             .vStretchingSpacer(minHeight: 32),
-            buttonContainer,
+            exitButton.enclosedInVerticalStackView(isFullWidthButton: true),
         ])
         stackView.axis = .vertical
         stackView.alignment = .fill
diff --git a/Signal/Registration/UserInterface/RegistrationTransferQRCodeViewController.swift b/Signal/Registration/UserInterface/RegistrationTransferQRCodeViewController.swift
index 80e79d219c..5da683c15e 100644
--- a/Signal/Registration/UserInterface/RegistrationTransferQRCodeViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationTransferQRCodeViewController.swift
@@ -14,8 +14,6 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
 
     public var navbarBackgroundColorOverride: UIColor? { .clear }
 
-    public var prefersNavigationBarHidden: Bool { true }
-
     public override var preferredStatusBarStyle: UIStatusBarStyle {
         return isQRCodeExpanded ? .lightContent : super.preferredStatusBarStyle
     }
@@ -103,8 +101,8 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
         return explanationLabel2
     }()
 
-    private lazy var helpButton: UIButton = {
-        let button = UIButton(
+    private lazy var bottomButtonsContainer: UIView = {
+        let helpButton = UIButton(
             configuration: .mediumBorderless(title: OWSLocalizedString(
                 "DEVICE_TRANSFER_QRCODE_NOT_SEEING",
                 comment: "A prompt to provide further explanation if the user is not seeing the transfer on both devices."
@@ -113,16 +111,17 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
                 self?.didTapHelp()
             }
         )
-        button.enableMultilineLabel()
-        return button
-    }()
+        helpButton.enableMultilineLabel()
 
-    private lazy var cancelButton = UIButton(
-        configuration: .mediumSecondary(title: CommonStrings.cancelButton),
-        primaryAction: UIAction { [weak self] _ in
-            self?.didTapCancel()
-        }
-    )
+        var cancelButton = UIButton(
+            configuration: .mediumSecondary(title: CommonStrings.cancelButton),
+            primaryAction: UIAction { [weak self] _ in
+                self?.didTapCancel()
+            }
+        )
+
+        return UIStackView.verticalButtonStack(buttons: [ helpButton, cancelButton ], isFullWidthButtons: false)
+    }()
 
     private let url: URL
 
@@ -139,31 +138,28 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
 
         view.backgroundColor = .Signal.background
 
+        // Put QR code view into full-width container to allow centering of the rounded edges view.
+        let qrCodeContainerView = UIView.container()
+        qrCodeContainerView.addSubview(compactQRCodeContainer)
+        compactQRCodeContainer.translatesAutoresizingMaskIntoConstraints = false
+        NSLayoutConstraint.activate([
+            compactQRCodeContainer.topAnchor.constraint(equalTo: qrCodeContainerView.topAnchor),
+            compactQRCodeContainer.bottomAnchor.constraint(equalTo: qrCodeContainerView.bottomAnchor),
+            compactQRCodeContainer.leadingAnchor.constraint(greaterThanOrEqualTo: qrCodeContainerView.leadingAnchor),
+            compactQRCodeContainer.centerXAnchor.constraint(equalTo: qrCodeContainerView.centerXAnchor),
+        ])
+
         // Content view.
-        let stackView = UIStackView(arrangedSubviews: [
+        let stackView = addStaticContentStackView(arrangedSubviews: [
             titleLabel,
             explanationLabel,
-            compactQRCodeContainer,
+            qrCodeContainerView,
             explanationLabel2,
-            UIView.vStretchingSpacer(),
-            helpButton,
-            cancelButton
+            .vStretchingSpacer(),
+            bottomButtonsContainer,
         ])
-        stackView.axis = .vertical
-        stackView.alignment = .center
-        stackView.spacing = 12
         stackView.setCustomSpacing(24, after: explanationLabel)
         stackView.setCustomSpacing(24, after: compactQRCodeContainer)
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-        view.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: 16),
-            stackView.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor, constant: -8),
-            stackView.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-        ])
 
         // QR code view.
         qrCodeView.translatesAutoresizingMaskIntoConstraints = false
@@ -180,8 +176,8 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
         view.addSubview(closeButton)
         closeButton.translatesAutoresizingMaskIntoConstraints = false
         NSLayoutConstraint.activate([
-            closeButton.leadingAnchor.constraint(equalTo: view.layoutMarginsGuide.leadingAnchor),
-            closeButton.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: 8),
+            closeButton.leadingAnchor.constraint(equalTo: contentLayoutGuide.leadingAnchor),
+            closeButton.topAnchor.constraint(equalTo: contentLayoutGuide.topAnchor, constant: 8),
         ])
 
         updateExpansionState(animated: false)
@@ -209,6 +205,17 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
         AppEnvironment.shared.deviceTransferServiceRef.stopAcceptingTransfersFromOldDevices()
     }
 
+    public override func viewWillTransition(to size: CGSize, with coordinator: any UIViewControllerTransitionCoordinator) {
+        super.viewWillTransition(to: size, with: coordinator)
+
+        guard isQRCodeExpanded else { return }
+
+        coordinator.animate { context in
+            self.isQRCodeExpanded = false
+            self.updateExpansionState(animated: false)
+        }
+    }
+
     // MARK: - QR Code expansion
 
     private var isQRCodeExpanded = false
@@ -219,21 +226,20 @@ public class RegistrationTransferQRCodeViewController: OWSViewController, OWSNav
         let otherViews = [
             titleLabel,
             explanationLabel,
-            helpButton,
-            cancelButton
+            bottomButtonsContainer,
         ]
 
         let animations: () -> Void = {
             if self.isQRCodeExpanded {
                 let darkTraitCollection = UITraitCollection(userInterfaceStyle: .dark)
 
-                let desiredSize = UIScreen.main.bounds.width - (Constants.expandedQRCodeMargin * 2)
+                let desiredSize = min(self.contentLayoutGuide.layoutFrame.width, 0.7 * self.contentLayoutGuide.layoutFrame.height) - (Constants.expandedQRCodeMargin * 2)
                 let qrExpandScale = desiredSize / self.qrCodeView.frame.width
                 let currentQRCenterY = self.view.convert(
                     self.qrCodeView.center,
                     from: self.qrCodeView.superview
                 ).y
-                let desiredQRCenterY = self.view.frame.height * 0.4
+                let desiredQRCenterY = self.contentLayoutGuide.layoutFrame.minY + 0.4 * self.contentLayoutGuide.layoutFrame.height
                 let qrExpandYOffset = desiredQRCenterY - currentQRCenterY
                 self.qrCodeView.layer.anchorPoint = .init(x: 0.5, y: 0.5)
                 self.qrCodeView.transform = .scale(qrExpandScale)
diff --git a/Signal/Registration/UserInterface/RegistrationVerificationViewController.swift b/Signal/Registration/UserInterface/RegistrationVerificationViewController.swift
index 1eab77c08c..03fb607656 100644
--- a/Signal/Registration/UserInterface/RegistrationVerificationViewController.swift
+++ b/Signal/Registration/UserInterface/RegistrationVerificationViewController.swift
@@ -230,17 +230,6 @@ class RegistrationVerificationViewController: OWSViewController {
         navigationItem.setHidesBackButton(true, animated: false)
         view.backgroundColor = .Signal.background
 
-        let scrollView = UIScrollView()
-        scrollView.preservesSuperviewLayoutMargins = true
-        view.addSubview(scrollView)
-        scrollView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            scrollView.frameLayoutGuide.topAnchor.constraint(equalTo: view.layoutMarginsGuide.topAnchor),
-            scrollView.frameLayoutGuide.leadingAnchor.constraint(equalTo: view.leadingAnchor),
-            scrollView.frameLayoutGuide.trailingAnchor.constraint(equalTo: view.trailingAnchor),
-            scrollView.frameLayoutGuide.bottomAnchor.constraint(equalTo: keyboardLayoutGuide.topAnchor),
-        ])
-
         // Buttons at the bottom
         let resendButtonsContainer = UIStackView(arrangedSubviews: [
             resendSMSCodeButton,
@@ -253,32 +242,21 @@ class RegistrationVerificationViewController: OWSViewController {
         resendButtonsContainer.spacing = 16
 
         // Main content stack embedded in a scroll view.
-        let stackView = UIStackView(arrangedSubviews: [
-            titleLabel,
-            explanationLabel,
-            wrongNumberButton,
-            verificationCodeView,
-            helpButton,
-            UIView.vStretchingSpacer(),
-            resendButtonsContainer,
-        ])
+        let stackView = addStaticContentStackView(
+            arrangedSubviews: [
+                titleLabel,
+                explanationLabel,
+                wrongNumberButton,
+                verificationCodeView,
+                helpButton,
+                .vStretchingSpacer(),
+                resendButtonsContainer,
+            ],
+            isScrollable: true,
+            shouldAvoidKeyboard: true
+        )
         stackView.setCustomSpacing(24, after: wrongNumberButton)
         stackView.setCustomSpacing(24, after: verificationCodeView)
-        stackView.axis = .vertical
-        stackView.spacing = 12
-        stackView.preservesSuperviewLayoutMargins = true
-        stackView.isLayoutMarginsRelativeArrangement = true
-
-        scrollView.addSubview(stackView)
-        stackView.translatesAutoresizingMaskIntoConstraints = false
-        NSLayoutConstraint.activate([
-            stackView.widthAnchor.constraint(equalTo: scrollView.frameLayoutGuide.widthAnchor),
-            stackView.topAnchor.constraint(equalTo: scrollView.contentLayoutGuide.topAnchor),
-            stackView.leadingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.leadingAnchor),
-            stackView.trailingAnchor.constraint(equalTo: scrollView.contentLayoutGuide.trailingAnchor),
-            stackView.bottomAnchor.constraint(equalTo: scrollView.contentLayoutGuide.bottomAnchor),
-            stackView.heightAnchor.constraint(greaterThanOrEqualTo: scrollView.frameLayoutGuide.heightAnchor),
-        ])
 
         configureUI()
 
diff --git a/Signal/src/ViewControllers/PinSetupViewController.swift b/Signal/src/ViewControllers/PinSetupViewController.swift
index a461a2e1c6..89a46aa82f 100644
--- a/Signal/src/ViewControllers/PinSetupViewController.swift
+++ b/Signal/src/ViewControllers/PinSetupViewController.swift
@@ -267,7 +267,7 @@ public class PinSetupViewController: OWSViewController, OWSNavigationChildContro
             pinTextField,
             recommendationLabel,
             validationWarningLabel,
-            .vStretchingSpacer(minHeight: 24),
+            .vStretchingSpacer(),
             buttonContainer,
         ])
         stackView.axis = .vertical
