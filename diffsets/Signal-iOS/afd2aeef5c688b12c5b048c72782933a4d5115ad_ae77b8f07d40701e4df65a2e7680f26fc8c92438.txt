diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index 87af605cc03..482004633d2 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -8,11 +8,11 @@
 
 /* Begin PBXBuildFile section */
 		06289300DC49EDEA6FEC730C /* Pods_SignalPerformanceTests.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = C61A9604F0FC0D258C8CE27F /* Pods_SignalPerformanceTests.framework */; };
+		0A1C228F3860F9C358AD6668 /* Pods_NotificationServiceExtension.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 817EA657B4B8AE5D2E9287B3 /* Pods_NotificationServiceExtension.framework */; };
 		1704690A25D4C326000793D8 /* SignalAttachmentTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 1704690925D4C2E6000793D8 /* SignalAttachmentTest.swift */; };
 		1704690C25D4C92B000793D8 /* test-jpg-rotated.jpg in Resources */ = {isa = PBXBuildFile; fileRef = 1704690B25D4C92B000793D8 /* test-jpg-rotated.jpg */; };
 		173878BE256341BB00AD39C7 /* SessionMigrationPerfTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 173878BD256341BB00AD39C7 /* SessionMigrationPerfTest.swift */; };
 		17B78E0E260529E900E24A9E /* newlyInitializedSessionState in Resources */ = {isa = PBXBuildFile; fileRef = 17B78E0C2605299E00E24A9E /* newlyInitializedSessionState */; };
-		2AE2882E4C2B96BFFF9EE27C /* Pods_SignalShareExtension.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 0F94C85CB0B235DA37F68ED0 /* Pods_SignalShareExtension.framework */; };
 		3236FCC42592B67B006D33B9 /* NameCollisionReviewCell.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3236FCC32592B67B006D33B9 /* NameCollisionReviewCell.swift */; };
 		323C4FE524EE7B0F00DC94B8 /* LinkPreviewsMegaphone.swift in Sources */ = {isa = PBXBuildFile; fileRef = 323C4FE424EE7B0F00DC94B8 /* LinkPreviewsMegaphone.swift */; };
 		327CF66825ACE7DD00DA0A6F /* GetStartedBannerViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 327CF66725ACE7DC00DA0A6F /* GetStartedBannerViewController.swift */; };
@@ -36,6 +36,17 @@
 		34035D7B2367747400F5215A /* VideoEditorView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34035D792367747300F5215A /* VideoEditorView.swift */; };
 		3405C0662541C3E7008B24EF /* GroupMigrationActionSheet.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3405C0652541C3E6008B24EF /* GroupMigrationActionSheet.swift */; };
 		3405C06E25435048008B24EF /* ConversationViewController+Banners.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3405C06D25435048008B24EF /* ConversationViewController+Banners.swift */; };
+		3406D31E25DBF70400885B14 /* RefreshEvent.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3406D31D25DBF70400885B14 /* RefreshEvent.swift */; };
+		3406D32025DBFCE400885B14 /* PaymentsReconciliation.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3406D31F25DBFCE400885B14 /* PaymentsReconciliation.swift */; };
+		3406D32225DD40F000885B14 /* PaymentsTransferOutViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3406D32125DD40F000885B14 /* PaymentsTransferOutViewController.swift */; };
+		3406D32425DD4A8F00885B14 /* PaymentsQRScanViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3406D32325DD4A8F00885B14 /* PaymentsQRScanViewController.swift */; };
+		3406D32625DD5EAF00885B14 /* ConversationListViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3406D32525DD5EAF00885B14 /* ConversationListViewController.swift */; };
+		3406D32B25DD80D600885B14 /* payments_spinner_fail.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D32725DD80D600885B14 /* payments_spinner_fail.json */; };
+		3406D32C25DD80D600885B14 /* payments_spinner_success.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D32825DD80D600885B14 /* payments_spinner_success.json */; };
+		3406D32D25DD80D600885B14 /* payments_spinner_info.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D32925DD80D600885B14 /* payments_spinner_info.json */; };
+		3406D32E25DD80D600885B14 /* payments_spinner.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D32A25DD80D600885B14 /* payments_spinner.json */; };
+		3406D33125DD832800885B14 /* payments_spinner_info_dark.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D32F25DD832700885B14 /* payments_spinner_info_dark.json */; };
+		3406D33225DD832800885B14 /* payments_spinner_dark.json in Resources */ = {isa = PBXBuildFile; fileRef = 3406D33025DD832800885B14 /* payments_spinner_dark.json */; };
 		34074F61203D0CBE004596AE /* OWSSounds.m in Sources */ = {isa = PBXBuildFile; fileRef = 34074F5F203D0CBD004596AE /* OWSSounds.m */; };
 		34074F62203D0CBE004596AE /* OWSSounds.h in Headers */ = {isa = PBXBuildFile; fileRef = 34074F60203D0CBE004596AE /* OWSSounds.h */; settings = {ATTRIBUTES = (Public, ); }; };
 		34080EFE2225F96D0087E99F /* ImageEditorPaletteView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34080EFD2225F96D0087E99F /* ImageEditorPaletteView.swift */; };
@@ -64,7 +75,12 @@
 		34123C5E239AA3E900782788 /* TooltipView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34123C5D239AA3E900782788 /* TooltipView.swift */; };
 		34123C60239AA93B00782788 /* ViewOnceTooltip.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34123C5F239AA93A00782788 /* ViewOnceTooltip.swift */; };
 		3412F9BB2350D0840022EDAA /* ThreadPerformanceTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3412F9BA2350D0840022EDAA /* ThreadPerformanceTest.swift */; };
+		3414896925C9B6490098E3ED /* PaymentsCurrencyViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3414896825C9B6490098E3ED /* PaymentsCurrencyViewController.swift */; };
+		3414896B25C9B8B00098E3ED /* PaymentsCurrenciesImpl.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3414896A25C9B8B00098E3ED /* PaymentsCurrenciesImpl.swift */; };
 		3415217525B0CB31009F177F /* CVAttachmentProgressView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3415217425B0CB30009F177F /* CVAttachmentProgressView.swift */; };
+		34156C8B25A3B3D000556182 /* paymentSpinner.json in Resources */ = {isa = PBXBuildFile; fileRef = 34156C8A25A3B3D000556182 /* paymentSpinner.json */; };
+		34156C8D25A64AF000556182 /* PaymentsUI.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34156C8C25A64AF000556182 /* PaymentsUI.swift */; };
+		34156C8F25A7521800556182 /* CVMessageActionButton.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34156C8E25A7521700556182 /* CVMessageActionButton.swift */; };
 		3416BCAE2277A24000E761B4 /* StickerPackDataSource.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3416BCAD2277A24000E761B4 /* StickerPackDataSource.swift */; };
 		341CBFC42405B7C000F15C13 /* GroupsV2Impl+RestoreGroups.swift in Sources */ = {isa = PBXBuildFile; fileRef = 341CBFC32405B7C000F15C13 /* GroupsV2Impl+RestoreGroups.swift */; };
 		341D392925472F3B00996E7B /* CVViewState.swift in Sources */ = {isa = PBXBuildFile; fileRef = 341D392825472F3B00996E7B /* CVViewState.swift */; };
@@ -155,7 +171,7 @@
 		3464450D22B7F93600A957B1 /* OWSOrphanDataCleaner.m in Sources */ = {isa = PBXBuildFile; fileRef = 3464450B22B7F93600A957B1 /* OWSOrphanDataCleaner.m */; };
 		3464450E22B7F93600A957B1 /* OWSOrphanDataCleaner.h in Headers */ = {isa = PBXBuildFile; fileRef = 3464450C22B7F93600A957B1 /* OWSOrphanDataCleaner.h */; settings = {ATTRIBUTES = (Public, ); }; };
 		3464451122B7F97100A957B1 /* DateUtil.m in Sources */ = {isa = PBXBuildFile; fileRef = 3464450F22B7F97000A957B1 /* DateUtil.m */; };
-		3464451222B7F97100A957B1 /* DateUtil.h in Headers */ = {isa = PBXBuildFile; fileRef = 3464451022B7F97100A957B1 /* DateUtil.h */; };
+		3464451222B7F97100A957B1 /* DateUtil.h in Headers */ = {isa = PBXBuildFile; fileRef = 3464451022B7F97100A957B1 /* DateUtil.h */; settings = {ATTRIBUTES = (Public, ); }; };
 		3465947C2433B77700E5C510 /* NewGroupMembersBar.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3465947B2433B77700E5C510 /* NewGroupMembersBar.swift */; };
 		3465947E2434CCC100E5C510 /* NewGroupConfirmViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3465947D2434CCC100E5C510 /* NewGroupConfirmViewController.swift */; };
 		346594802434D49F00E5C510 /* NewGroupState.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3465947F2434D49F00E5C510 /* NewGroupState.swift */; };
@@ -188,6 +204,7 @@
 		3470C87A2555DE5F00F5847C /* CVComponentContactShare.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3470C8792555DE5F00F5847C /* CVComponentContactShare.swift */; };
 		3470C8802555F25200F5847C /* CVContactShareView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3470C87F2555F25200F5847C /* CVContactShareView.swift */; };
 		3470C8822559B23F00F5847C /* CVUpdate.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3470C8812559B23F00F5847C /* CVUpdate.swift */; };
+		3471211025ED5F910037CD1F /* PaymentsReconciliationTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3471210E25ED5F850037CD1F /* PaymentsReconciliationTest.swift */; };
 		347191F923F457BD003A3106 /* GroupsV2AvatarDownloadOperation.swift in Sources */ = {isa = PBXBuildFile; fileRef = 347191F823F457BD003A3106 /* GroupsV2AvatarDownloadOperation.swift */; };
 		347342F72548587900D440CD /* ConversationViewController+BottomBar.swift in Sources */ = {isa = PBXBuildFile; fileRef = 347342F62548587800D440CD /* ConversationViewController+BottomBar.swift */; };
 		3476236224081F8900D4FB6F /* GroupManager+SignalMessaging.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3476236124081F8900D4FB6F /* GroupManager+SignalMessaging.swift */; };
@@ -231,6 +248,11 @@
 		34843B2421432293004DED45 /* SignalBaseTest.m in Sources */ = {isa = PBXBuildFile; fileRef = 34843B2221432292004DED45 /* SignalBaseTest.m */; };
 		34843B26214327C9004DED45 /* OWSOrphanDataCleanerTest.m in Sources */ = {isa = PBXBuildFile; fileRef = 34843B25214327C9004DED45 /* OWSOrphanDataCleanerTest.m */; };
 		34843B2C214FE296004DED45 /* MockEnvironment.m in Sources */ = {isa = PBXBuildFile; fileRef = 34843B2A214FE295004DED45 /* MockEnvironment.m */; };
+		34848D5E25D43ADD00E5034B /* cash-out.json in Resources */ = {isa = PBXBuildFile; fileRef = 34848D5A25D43ADD00E5034B /* cash-out.json */; };
+		34848D5F25D43ADD00E5034B /* about-mobilecoin.json in Resources */ = {isa = PBXBuildFile; fileRef = 34848D5B25D43ADD00E5034B /* about-mobilecoin.json */; };
+		34848D6025D43ADD00E5034B /* activate-payments.json in Resources */ = {isa = PBXBuildFile; fileRef = 34848D5C25D43ADD00E5034B /* activate-payments.json */; };
+		34848D6125D43ADD00E5034B /* add-money.json in Resources */ = {isa = PBXBuildFile; fileRef = 34848D5D25D43ADD00E5034B /* add-money.json */; };
+		34848D6325D44EBD00E5034B /* PaymentsTransferInViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34848D6225D44EBD00E5034B /* PaymentsTransferInViewController.swift */; };
 		348815B325503BAA00D4F4C4 /* CVLoader.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348815B225503BAA00D4F4C4 /* CVLoader.swift */; };
 		348815BA2552063F00D4F4C4 /* CVAvatarBuilder.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348815B92552063D00D4F4C4 /* CVAvatarBuilder.swift */; };
 		348815BC2552E67900D4F4C4 /* CVComponentSystemMessage.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348815BB2552E67900D4F4C4 /* CVComponentSystemMessage.swift */; };
@@ -248,6 +270,7 @@
 		348A9C35234E462D00789068 /* ThreadFinderPerformanceTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348A9C34234E462D00789068 /* ThreadFinderPerformanceTest.swift */; };
 		348BB25D20A0C5530047AEC2 /* ContactShareViewHelper.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348BB25C20A0C5530047AEC2 /* ContactShareViewHelper.swift */; };
 		348C686D246B0B110039705A /* ThreadUtil.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348C686C246B0B100039705A /* ThreadUtil.swift */; };
+		348ECD8C25F278460083C47D /* DebugLogger.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348ECD8B25F278450083C47D /* DebugLogger.swift */; };
 		348EE28E25B897BF00814FC2 /* CVMediaCache.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348EE28C25B897BF00814FC2 /* CVMediaCache.swift */; };
 		348EE28F25B897BF00814FC2 /* ReusableMediaView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 348EE28D25B897BF00814FC2 /* ReusableMediaView.swift */; };
 		3490D57D25ADDC2A00F5F96C /* GroupLinkPromotionActionSheet.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3490D57C25ADDC2900F5F96C /* GroupLinkPromotionActionSheet.swift */; };
@@ -262,10 +285,20 @@
 		3496955E219B605E00DCFE74 /* PhotoLibrary.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3496955B219B605E00DCFE74 /* PhotoLibrary.swift */; };
 		349767E325B8744700ECE1B0 /* ManageStickersViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 349767E025B8744700ECE1B0 /* ManageStickersViewController.swift */; };
 		349767E425B8744700ECE1B0 /* StickerPackViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 349767E125B8744700ECE1B0 /* StickerPackViewController.swift */; };
+		3497971525D6D55400E99FA4 /* PaymentsSendRecipientViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3497971425D6D55400E99FA4 /* PaymentsSendRecipientViewController.swift */; };
+		3497972025DAA86100E99FA4 /* SendPaymentCompletionActionSheet.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3497971E25DAA86100E99FA4 /* SendPaymentCompletionActionSheet.swift */; };
+		3497972125DAA86100E99FA4 /* SendPaymentViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3497971F25DAA86100E99FA4 /* SendPaymentViewController.swift */; };
+		3497972325DAAE3800E99FA4 /* SendPaymentHelper.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3497972225DAAE3800E99FA4 /* SendPaymentHelper.swift */; };
 		3498A0A624DC81E100CA492C /* OWSContactsManager.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498A0A524DC81E100CA492C /* OWSContactsManager.swift */; };
 		3498A0A824DC936300CA492C /* ContactsViewHelper.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498A0A724DC936200CA492C /* ContactsViewHelper.swift */; };
 		3498AC87251387E500B1F315 /* Dependencies+SignalMessaging.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC86251387E500B1F315 /* Dependencies+SignalMessaging.swift */; };
 		3498AC892513896400B1F315 /* Dependencies+MainApp.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC882513896400B1F315 /* Dependencies+MainApp.swift */; };
+		3498AC902518E92B00B1F315 /* PaymentsHistoryViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC8D2518E92B00B1F315 /* PaymentsHistoryViewController.swift */; };
+		3498AC912518E92B00B1F315 /* PaymentsHistory.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC8E2518E92B00B1F315 /* PaymentsHistory.swift */; };
+		3498AC922518E92B00B1F315 /* PaymentsSettingsViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC8F2518E92B00B1F315 /* PaymentsSettingsViewController.swift */; };
+		3498AC982518E98A00B1F315 /* DebugUIPayments.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC972518E98A00B1F315 /* DebugUIPayments.swift */; };
+		3498AC9C2518E9A600B1F315 /* MobileCoinAPI.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC9A2518E9A600B1F315 /* MobileCoinAPI.swift */; };
+		3498AC9D2518E9A600B1F315 /* PaymentsImpl.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC9B2518E9A600B1F315 /* PaymentsImpl.swift */; };
 		3498AC9F25190E8C00B1F315 /* ConversationViewLayout.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3498AC9E25190E8B00B1F315 /* ConversationViewLayout.swift */; };
 		34995F1B2411838D00C70546 /* NewGroupMembersViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34995F172411838C00C70546 /* NewGroupMembersViewController.swift */; };
 		3499998122EF1E2100654932 /* SearcherTest.swift in Sources */ = {isa = PBXBuildFile; fileRef = 3499997E22EF1E2100654932 /* SearcherTest.swift */; };
@@ -352,6 +385,7 @@
 		34BEDB1321C43F6A007B0EAE /* ImageEditorView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34BEDB1221C43F69007B0EAE /* ImageEditorView.swift */; };
 		34BEDB1621C80BCA007B0EAE /* OWSAnyTouchGestureRecognizer.h in Headers */ = {isa = PBXBuildFile; fileRef = 34BEDB1421C80BC9007B0EAE /* OWSAnyTouchGestureRecognizer.h */; settings = {ATTRIBUTES = (Public, ); }; };
 		34BEDB1721C80BCA007B0EAE /* OWSAnyTouchGestureRecognizer.m in Sources */ = {isa = PBXBuildFile; fileRef = 34BEDB1521C80BCA007B0EAE /* OWSAnyTouchGestureRecognizer.m */; };
+		34C05D33251B8C350058006D /* PaymentsProcessor.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34C05D32251B8C350058006D /* PaymentsProcessor.swift */; };
 		34C2EEAC2270A69400BCA1D0 /* CircleView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34C2EEAB2270A69400BCA1D0 /* CircleView.swift */; };
 		34C2EEB02270B8E200BCA1D0 /* StickerKeyboard.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34C2EEAF2270B8E100BCA1D0 /* StickerKeyboard.swift */; };
 		34C2EEB22270CC8E00BCA1D0 /* StickerPackCollectionView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34C2EEB12270CC8D00BCA1D0 /* StickerPackCollectionView.swift */; };
@@ -397,9 +431,13 @@
 		34E8A8D12085238A00B272B1 /* ProtoParsingTest.m in Sources */ = {isa = PBXBuildFile; fileRef = 34E8A8D02085238900B272B1 /* ProtoParsingTest.m */; };
 		34EA0A002423C7F80059B75F /* GroupAttributesViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34EA09FF2423C7F80059B75F /* GroupAttributesViewController.swift */; };
 		34ED55A123D0D59700446E39 /* NSItemProvider+Promises.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34ED55A023D0D59700446E39 /* NSItemProvider+Promises.swift */; };
+		34EEECF225E846ED00574F0D /* SendPaymentMemoViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34EEECF125E846EC00574F0D /* SendPaymentMemoViewController.swift */; };
 		34F0566A23DA209300265283 /* GroupsV2IncomingChanges.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34F0566923DA209300265283 /* GroupsV2IncomingChanges.swift */; };
 		34F308A21ECB469700BB7697 /* OWSBezierPathView.m in Sources */ = {isa = PBXBuildFile; fileRef = 34F308A11ECB469700BB7697 /* OWSBezierPathView.m */; };
-		34FB6A5725D4127A00E599B1 /* OWSTableViewController2.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FB6A5625D4127900E599B1 /* OWSTableViewController2.swift */; };
+		34FB6A4F25D1C6AC00E599B1 /* PaymentsDetailViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FB6A4E25D1C6AC00E599B1 /* PaymentsDetailViewController.swift */; };
+		34FB6A5125D1CD6000E599B1 /* OWSTableViewController2.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FB6A5025D1CD6000E599B1 /* OWSTableViewController2.swift */; };
+		34FB6A5325D2D10400E599B1 /* PaymentsViewUtils.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FB6A5225D2D10400E599B1 /* PaymentsViewUtils.swift */; };
+		34FB6A5525D2E17200E599B1 /* PaymentModelCell.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FB6A5425D2E17200E599B1 /* PaymentModelCell.swift */; };
 		34FDB29221FF986600A01202 /* UIView+OWS.swift in Sources */ = {isa = PBXBuildFile; fileRef = 34FDB29121FF986600A01202 /* UIView+OWS.swift */; };
 		4503F1BE20470A5B00CEE724 /* classic-quiet.aifc in Resources */ = {isa = PBXBuildFile; fileRef = 4503F1BB20470A5B00CEE724 /* classic-quiet.aifc */; };
 		4503F1BF20470A5B00CEE724 /* classic.aifc in Resources */ = {isa = PBXBuildFile; fileRef = 4503F1BC20470A5B00CEE724 /* classic.aifc */; };
@@ -610,6 +648,7 @@
 		4CD675C722E7D393008010D2 /* MediaPresentationContext.swift in Sources */ = {isa = PBXBuildFile; fileRef = 4CD675C622E7D393008010D2 /* MediaPresentationContext.swift */; };
 		4CFF115323A9C2130007F9D7 /* UnreadIndicatorInteraction.swift in Sources */ = {isa = PBXBuildFile; fileRef = 4CFF115223A9C2130007F9D7 /* UnreadIndicatorInteraction.swift */; };
 		5AC566C518874973406105BF /* Pods_SignalTests.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 748A5CAEDD7C919FC64C6807 /* Pods_SignalTests.framework */; };
+		641CECC436F5F3EE2AC07EE9 /* Pods_SignalShareExtension.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 6657FDE7B91C2845BB3BEAB5 /* Pods_SignalShareExtension.framework */; };
 		70377AAB1918450100CAF501 /* MobileCoreServices.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 70377AAA1918450100CAF501 /* MobileCoreServices.framework */; };
 		768A1A2B17FC9CD300E00ED8 /* libz.dylib in Frameworks */ = {isa = PBXBuildFile; fileRef = 768A1A2A17FC9CD300E00ED8 /* libz.dylib */; };
 		76C87F19181EFCE600C4ACAB /* MediaPlayer.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 76C87F18181EFCE600C4ACAB /* MediaPlayer.framework */; };
@@ -837,7 +876,6 @@
 		D221A0E8169DFFC500537ABF /* AVFoundation.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D221A0E7169DFFC500537ABF /* AVFoundation.framework */; };
 		D24B5BD5169F568C00681372 /* AudioToolbox.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D24B5BD4169F568C00681372 /* AudioToolbox.framework */; };
 		D2AEACDC16C426DA00C364C0 /* CFNetwork.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D2AEACDB16C426DA00C364C0 /* CFNetwork.framework */; };
-		DA2448EB739FFD5100E94059 /* Pods_NotificationServiceExtension.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = EFF2FAAECC00C2F8262444B8 /* Pods_NotificationServiceExtension.framework */; };
 		E1368CBE18A1C36B00109378 /* MessageUI.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = B9EB5ABC1884C002007CBB57 /* MessageUI.framework */; };
 		E44AD4E624E98F440035D7B8 /* PhotoCaptureDismiss.swift in Sources */ = {isa = PBXBuildFile; fileRef = E44AD4E524E98F430035D7B8 /* PhotoCaptureDismiss.swift */; };
 		FC3BD9881A30A790005B96BB /* Social.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = FC3BD9871A30A790005B96BB /* Social.framework */; };
@@ -938,8 +976,8 @@
 
 /* Begin PBXFileReference section */
 		02CD38E58B58A689DCF037AD /* Pods-SignalTests.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalTests.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalTests/Pods-SignalTests.app store release.xcconfig"; sourceTree = "<group>"; };
-		0F94C85CB0B235DA37F68ED0 /* Pods_SignalShareExtension.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_SignalShareExtension.framework; sourceTree = BUILT_PRODUCTS_DIR; };
 		10AE4264D3E52937D8964A86 /* Pods-SignalMessaging.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalMessaging.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-SignalMessaging/Pods-SignalMessaging.profiling.xcconfig"; sourceTree = "<group>"; };
+		14FD26DD3B40616C54CDBF1A /* Pods-SignalShareExtension.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.debug.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.debug.xcconfig"; sourceTree = "<group>"; };
 		1704690925D4C2E6000793D8 /* SignalAttachmentTest.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = SignalAttachmentTest.swift; sourceTree = "<group>"; };
 		1704690B25D4C92B000793D8 /* test-jpg-rotated.jpg */ = {isa = PBXFileReference; lastKnownFileType = image.jpeg; path = "test-jpg-rotated.jpg"; sourceTree = "<group>"; };
 		173878BD256341BB00AD39C7 /* SessionMigrationPerfTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SessionMigrationPerfTest.swift; sourceTree = "<group>"; };
@@ -971,6 +1009,17 @@
 		34035D792367747300F5215A /* VideoEditorView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = VideoEditorView.swift; sourceTree = "<group>"; };
 		3405C0652541C3E6008B24EF /* GroupMigrationActionSheet.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = GroupMigrationActionSheet.swift; sourceTree = "<group>"; };
 		3405C06D25435048008B24EF /* ConversationViewController+Banners.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "ConversationViewController+Banners.swift"; sourceTree = "<group>"; };
+		3406D31D25DBF70400885B14 /* RefreshEvent.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = RefreshEvent.swift; sourceTree = "<group>"; };
+		3406D31F25DBFCE400885B14 /* PaymentsReconciliation.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsReconciliation.swift; sourceTree = "<group>"; };
+		3406D32125DD40F000885B14 /* PaymentsTransferOutViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsTransferOutViewController.swift; sourceTree = "<group>"; };
+		3406D32325DD4A8F00885B14 /* PaymentsQRScanViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsQRScanViewController.swift; sourceTree = "<group>"; };
+		3406D32525DD5EAF00885B14 /* ConversationListViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ConversationListViewController.swift; sourceTree = "<group>"; };
+		3406D32725DD80D600885B14 /* payments_spinner_fail.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner_fail.json; sourceTree = "<group>"; };
+		3406D32825DD80D600885B14 /* payments_spinner_success.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner_success.json; sourceTree = "<group>"; };
+		3406D32925DD80D600885B14 /* payments_spinner_info.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner_info.json; sourceTree = "<group>"; };
+		3406D32A25DD80D600885B14 /* payments_spinner.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner.json; sourceTree = "<group>"; };
+		3406D32F25DD832700885B14 /* payments_spinner_info_dark.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner_info_dark.json; sourceTree = "<group>"; };
+		3406D33025DD832800885B14 /* payments_spinner_dark.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = payments_spinner_dark.json; sourceTree = "<group>"; };
 		34074F5F203D0CBD004596AE /* OWSSounds.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSSounds.m; sourceTree = "<group>"; };
 		34074F60203D0CBE004596AE /* OWSSounds.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSSounds.h; sourceTree = "<group>"; };
 		34080EFD2225F96D0087E99F /* ImageEditorPaletteView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ImageEditorPaletteView.swift; sourceTree = "<group>"; };
@@ -1010,9 +1059,14 @@
 		34129B8521EF8779005457A8 /* LinkPreviewView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = LinkPreviewView.swift; sourceTree = "<group>"; };
 		3412F9BA2350D0840022EDAA /* ThreadPerformanceTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ThreadPerformanceTest.swift; sourceTree = "<group>"; };
 		341458471FBE11C4005ABCF9 /* fa */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = fa; path = translations/fa.lproj/Localizable.strings; sourceTree = "<group>"; };
+		3414896825C9B6490098E3ED /* PaymentsCurrencyViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsCurrencyViewController.swift; sourceTree = "<group>"; };
+		3414896A25C9B8B00098E3ED /* PaymentsCurrenciesImpl.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsCurrenciesImpl.swift; sourceTree = "<group>"; };
 		3414896C25CC3C2E0098E3ED /* kab */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = kab; path = translations/kab.lproj/InfoPlist.strings; sourceTree = "<group>"; };
 		3414896D25CC3C2E0098E3ED /* kab */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = kab; path = translations/kab.lproj/Localizable.strings; sourceTree = "<group>"; };
 		3415217425B0CB30009F177F /* CVAttachmentProgressView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVAttachmentProgressView.swift; sourceTree = "<group>"; };
+		34156C8A25A3B3D000556182 /* paymentSpinner.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = paymentSpinner.json; sourceTree = "<group>"; };
+		34156C8C25A64AF000556182 /* PaymentsUI.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsUI.swift; sourceTree = "<group>"; };
+		34156C8E25A7521700556182 /* CVMessageActionButton.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVMessageActionButton.swift; sourceTree = "<group>"; };
 		3416BCAD2277A24000E761B4 /* StickerPackDataSource.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = StickerPackDataSource.swift; sourceTree = "<group>"; };
 		341CBFC32405B7C000F15C13 /* GroupsV2Impl+RestoreGroups.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "GroupsV2Impl+RestoreGroups.swift"; sourceTree = "<group>"; };
 		341D392825472F3B00996E7B /* CVViewState.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVViewState.swift; sourceTree = "<group>"; };
@@ -1156,6 +1210,7 @@
 		3470C8792555DE5F00F5847C /* CVComponentContactShare.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVComponentContactShare.swift; sourceTree = "<group>"; };
 		3470C87F2555F25200F5847C /* CVContactShareView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVContactShareView.swift; sourceTree = "<group>"; };
 		3470C8812559B23F00F5847C /* CVUpdate.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVUpdate.swift; sourceTree = "<group>"; };
+		3471210E25ED5F850037CD1F /* PaymentsReconciliationTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsReconciliationTest.swift; sourceTree = "<group>"; };
 		347191F823F457BD003A3106 /* GroupsV2AvatarDownloadOperation.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = GroupsV2AvatarDownloadOperation.swift; sourceTree = "<group>"; };
 		347342F62548587800D440CD /* ConversationViewController+BottomBar.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "ConversationViewController+BottomBar.swift"; sourceTree = "<group>"; };
 		3476236124081F8900D4FB6F /* GroupManager+SignalMessaging.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "GroupManager+SignalMessaging.swift"; sourceTree = "<group>"; };
@@ -1200,6 +1255,11 @@
 		34843B25214327C9004DED45 /* OWSOrphanDataCleanerTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSOrphanDataCleanerTest.m; sourceTree = "<group>"; };
 		34843B2A214FE295004DED45 /* MockEnvironment.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = MockEnvironment.m; sourceTree = "<group>"; };
 		34843B2B214FE295004DED45 /* MockEnvironment.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MockEnvironment.h; sourceTree = "<group>"; };
+		34848D5A25D43ADD00E5034B /* cash-out.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = "cash-out.json"; sourceTree = "<group>"; };
+		34848D5B25D43ADD00E5034B /* about-mobilecoin.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = "about-mobilecoin.json"; sourceTree = "<group>"; };
+		34848D5C25D43ADD00E5034B /* activate-payments.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = "activate-payments.json"; sourceTree = "<group>"; };
+		34848D5D25D43ADD00E5034B /* add-money.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; path = "add-money.json"; sourceTree = "<group>"; };
+		34848D6225D44EBD00E5034B /* PaymentsTransferInViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsTransferInViewController.swift; sourceTree = "<group>"; };
 		348815B225503BAA00D4F4C4 /* CVLoader.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVLoader.swift; sourceTree = "<group>"; };
 		348815B92552063D00D4F4C4 /* CVAvatarBuilder.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVAvatarBuilder.swift; sourceTree = "<group>"; };
 		348815BB2552E67900D4F4C4 /* CVComponentSystemMessage.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVComponentSystemMessage.swift; sourceTree = "<group>"; };
@@ -1217,6 +1277,7 @@
 		348A9C34234E462D00789068 /* ThreadFinderPerformanceTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ThreadFinderPerformanceTest.swift; sourceTree = "<group>"; };
 		348BB25C20A0C5530047AEC2 /* ContactShareViewHelper.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ContactShareViewHelper.swift; sourceTree = "<group>"; };
 		348C686C246B0B100039705A /* ThreadUtil.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ThreadUtil.swift; sourceTree = "<group>"; };
+		348ECD8B25F278450083C47D /* DebugLogger.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = DebugLogger.swift; sourceTree = "<group>"; };
 		348EE28C25B897BF00814FC2 /* CVMediaCache.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CVMediaCache.swift; sourceTree = "<group>"; };
 		348EE28D25B897BF00814FC2 /* ReusableMediaView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ReusableMediaView.swift; sourceTree = "<group>"; };
 		348F2EAD1F0D21BC00D4ECE0 /* DeviceSleepManager.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = DeviceSleepManager.swift; sourceTree = "<group>"; };
@@ -1235,10 +1296,20 @@
 		3496955B219B605E00DCFE74 /* PhotoLibrary.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PhotoLibrary.swift; sourceTree = "<group>"; };
 		349767E025B8744700ECE1B0 /* ManageStickersViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ManageStickersViewController.swift; sourceTree = "<group>"; };
 		349767E125B8744700ECE1B0 /* StickerPackViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = StickerPackViewController.swift; sourceTree = "<group>"; };
+		3497971425D6D55400E99FA4 /* PaymentsSendRecipientViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsSendRecipientViewController.swift; sourceTree = "<group>"; };
+		3497971E25DAA86100E99FA4 /* SendPaymentCompletionActionSheet.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SendPaymentCompletionActionSheet.swift; sourceTree = "<group>"; };
+		3497971F25DAA86100E99FA4 /* SendPaymentViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SendPaymentViewController.swift; sourceTree = "<group>"; };
+		3497972225DAAE3800E99FA4 /* SendPaymentHelper.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SendPaymentHelper.swift; sourceTree = "<group>"; };
 		3498A0A524DC81E100CA492C /* OWSContactsManager.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OWSContactsManager.swift; sourceTree = "<group>"; };
 		3498A0A724DC936200CA492C /* ContactsViewHelper.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ContactsViewHelper.swift; sourceTree = "<group>"; };
 		3498AC86251387E500B1F315 /* Dependencies+SignalMessaging.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "Dependencies+SignalMessaging.swift"; sourceTree = "<group>"; };
 		3498AC882513896400B1F315 /* Dependencies+MainApp.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "Dependencies+MainApp.swift"; sourceTree = "<group>"; };
+		3498AC8D2518E92B00B1F315 /* PaymentsHistoryViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsHistoryViewController.swift; sourceTree = "<group>"; };
+		3498AC8E2518E92B00B1F315 /* PaymentsHistory.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsHistory.swift; sourceTree = "<group>"; };
+		3498AC8F2518E92B00B1F315 /* PaymentsSettingsViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsSettingsViewController.swift; sourceTree = "<group>"; };
+		3498AC972518E98A00B1F315 /* DebugUIPayments.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = DebugUIPayments.swift; sourceTree = "<group>"; };
+		3498AC9A2518E9A600B1F315 /* MobileCoinAPI.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = MobileCoinAPI.swift; sourceTree = "<group>"; };
+		3498AC9B2518E9A600B1F315 /* PaymentsImpl.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsImpl.swift; sourceTree = "<group>"; };
 		3498AC9E25190E8B00B1F315 /* ConversationViewLayout.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ConversationViewLayout.swift; sourceTree = "<group>"; };
 		34995F172411838C00C70546 /* NewGroupMembersViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = NewGroupMembersViewController.swift; sourceTree = "<group>"; };
 		3499997E22EF1E2100654932 /* SearcherTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SearcherTest.swift; sourceTree = "<group>"; };
@@ -1330,6 +1401,7 @@
 		34BEDB1221C43F69007B0EAE /* ImageEditorView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ImageEditorView.swift; sourceTree = "<group>"; };
 		34BEDB1421C80BC9007B0EAE /* OWSAnyTouchGestureRecognizer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSAnyTouchGestureRecognizer.h; sourceTree = "<group>"; };
 		34BEDB1521C80BCA007B0EAE /* OWSAnyTouchGestureRecognizer.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSAnyTouchGestureRecognizer.m; sourceTree = "<group>"; };
+		34C05D32251B8C350058006D /* PaymentsProcessor.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsProcessor.swift; sourceTree = "<group>"; };
 		34C2EEAB2270A69400BCA1D0 /* CircleView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = CircleView.swift; sourceTree = "<group>"; };
 		34C2EEAF2270B8E100BCA1D0 /* StickerKeyboard.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = StickerKeyboard.swift; sourceTree = "<group>"; };
 		34C2EEB12270CC8D00BCA1D0 /* StickerPackCollectionView.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = StickerPackCollectionView.swift; sourceTree = "<group>"; };
@@ -1398,15 +1470,18 @@
 		34E8A8D02085238900B272B1 /* ProtoParsingTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = ProtoParsingTest.m; sourceTree = "<group>"; };
 		34EA09FF2423C7F80059B75F /* GroupAttributesViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = GroupAttributesViewController.swift; sourceTree = "<group>"; };
 		34ED55A023D0D59700446E39 /* NSItemProvider+Promises.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "NSItemProvider+Promises.swift"; sourceTree = "<group>"; };
+		34EEECF125E846EC00574F0D /* SendPaymentMemoViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = SendPaymentMemoViewController.swift; sourceTree = "<group>"; };
 		34F0566923DA209300265283 /* GroupsV2IncomingChanges.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = GroupsV2IncomingChanges.swift; sourceTree = "<group>"; };
 		34F308A01ECB469700BB7697 /* OWSBezierPathView.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSBezierPathView.h; sourceTree = "<group>"; };
 		34F308A11ECB469700BB7697 /* OWSBezierPathView.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSBezierPathView.m; sourceTree = "<group>"; };
-		34FB6A5625D4127900E599B1 /* OWSTableViewController2.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OWSTableViewController2.swift; sourceTree = "<group>"; };
+		34FB6A4E25D1C6AC00E599B1 /* PaymentsDetailViewController.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsDetailViewController.swift; sourceTree = "<group>"; };
+		34FB6A5025D1CD6000E599B1 /* OWSTableViewController2.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = OWSTableViewController2.swift; sourceTree = "<group>"; };
+		34FB6A5225D2D10400E599B1 /* PaymentsViewUtils.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentsViewUtils.swift; sourceTree = "<group>"; };
+		34FB6A5425D2E17200E599B1 /* PaymentModelCell.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = PaymentModelCell.swift; sourceTree = "<group>"; };
 		34FDB29121FF986600A01202 /* UIView+OWS.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "UIView+OWS.swift"; sourceTree = "<group>"; };
 		38AD4FA92310B7E00038BA75 /* SignalRingRTC.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = SignalRingRTC.framework; path = ThirdParty/WebRTC/Build/SignalRingRTC.framework; sourceTree = "<group>"; };
 		399D8A7F461D7253DFFB91C5 /* Pods-SignalTests.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalTests.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalTests/Pods-SignalTests.testable release.xcconfig"; sourceTree = "<group>"; };
 		4224D4E5D7921F25823ECDCA /* Pods-SignalPerformanceTests.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalPerformanceTests.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalPerformanceTests/Pods-SignalPerformanceTests.testable release.xcconfig"; sourceTree = "<group>"; };
-		435EAC2E5E22D3F087EB3192 /* Pods-SignalShareExtension.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.app store release.xcconfig"; sourceTree = "<group>"; };
 		4503F1BB20470A5B00CEE724 /* classic-quiet.aifc */ = {isa = PBXFileReference; lastKnownFileType = file; path = "classic-quiet.aifc"; sourceTree = "<group>"; };
 		4503F1BC20470A5B00CEE724 /* classic.aifc */ = {isa = PBXFileReference; lastKnownFileType = file; path = classic.aifc; sourceTree = "<group>"; };
 		4509E7991DD653700025A59F /* WebRTC.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = WebRTC.framework; path = ThirdParty/WebRTC/Build/WebRTC.framework; sourceTree = "<group>"; };
@@ -1610,18 +1685,21 @@
 		4CFB4E9B220BC56D00ECB4DE /* nb */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = nb; path = translations/nb.lproj/Localizable.strings; sourceTree = "<group>"; };
 		4CFF115223A9C2130007F9D7 /* UnreadIndicatorInteraction.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = UnreadIndicatorInteraction.swift; sourceTree = "<group>"; };
 		4CFF4C0920F55BBA005DA313 /* MessageActionsViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = MessageActionsViewController.swift; sourceTree = "<group>"; };
-		4F673294B9C30EE43B6FB0BC /* Pods-SignalShareExtension.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.testable release.xcconfig"; sourceTree = "<group>"; };
-		536198E33A8BF8BAF669C0CF /* Pods-SignalShareExtension.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.profiling.xcconfig"; sourceTree = "<group>"; };
+		4EB6D2B725EC159086894748 /* Pods-NotificationServiceExtension.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.profiling.xcconfig"; sourceTree = "<group>"; };
 		63BAA38DC365EE44110A6BD1 /* Pods-SignalTests.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalTests.debug.xcconfig"; path = "Pods/Target Support Files/Pods-SignalTests/Pods-SignalTests.debug.xcconfig"; sourceTree = "<group>"; };
-		69349DE607F5BA6036C9AC60 /* Pods-SignalShareExtension.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.debug.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.debug.xcconfig"; sourceTree = "<group>"; };
+		6657FDE7B91C2845BB3BEAB5 /* Pods_SignalShareExtension.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_SignalShareExtension.framework; sourceTree = BUILT_PRODUCTS_DIR; };
+		6FA8ECDCB1FC62E29D025E4B /* Pods-NotificationServiceExtension.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.app store release.xcconfig"; sourceTree = "<group>"; };
 		70377AAA1918450100CAF501 /* MobileCoreServices.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = MobileCoreServices.framework; path = System/Library/Frameworks/MobileCoreServices.framework; sourceTree = SDKROOT; };
 		748A5CAEDD7C919FC64C6807 /* Pods_SignalTests.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_SignalTests.framework; sourceTree = BUILT_PRODUCTS_DIR; };
 		768A1A2A17FC9CD300E00ED8 /* libz.dylib */ = {isa = PBXFileReference; lastKnownFileType = "compiled.mach-o.dylib"; name = libz.dylib; path = usr/lib/libz.dylib; sourceTree = SDKROOT; };
 		76C87F18181EFCE600C4ACAB /* MediaPlayer.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = MediaPlayer.framework; path = System/Library/Frameworks/MediaPlayer.framework; sourceTree = SDKROOT; };
 		76EB03C218170B33006006FC /* AppDelegate.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AppDelegate.h; sourceTree = "<group>"; };
 		76EB03C318170B33006006FC /* AppDelegate.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = AppDelegate.m; sourceTree = "<group>"; };
+		7856A9F703AAD99E22B75A9B /* Pods-SignalShareExtension.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.profiling.xcconfig"; sourceTree = "<group>"; };
 		7BB1CB6F2D7841356BE367EA /* Pods-Signal.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-Signal.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-Signal/Pods-Signal.testable release.xcconfig"; sourceTree = "<group>"; };
-		80A8593EDA963AA130D319BA /* Pods-NotificationServiceExtension.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.testable release.xcconfig"; sourceTree = "<group>"; };
+		7C5895EC8A421236BDBD71BD /* Pods-NotificationServiceExtension.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.testable release.xcconfig"; sourceTree = "<group>"; };
+		7C5EABE2C09180BC71C4E097 /* Pods-SignalShareExtension.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.app store release.xcconfig"; sourceTree = "<group>"; };
+		817EA657B4B8AE5D2E9287B3 /* Pods_NotificationServiceExtension.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_NotificationServiceExtension.framework; sourceTree = BUILT_PRODUCTS_DIR; };
 		8806EF18248DBD7200E764C7 /* NotificationPermissionReminderMegaphone.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = NotificationPermissionReminderMegaphone.swift; sourceTree = "<group>"; };
 		8806EF1A248DBFC100E764C7 /* ContactPermissionReminderMegaphone.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ContactPermissionReminderMegaphone.swift; sourceTree = "<group>"; };
 		88081436234D80150004C187 /* UIResponder+OWS.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "UIResponder+OWS.swift"; sourceTree = "<group>"; };
@@ -1868,9 +1946,7 @@
 		8EEE74B0753448C085B48721 /* Pods-SignalMessaging.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalMessaging.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalMessaging/Pods-SignalMessaging.app store release.xcconfig"; sourceTree = "<group>"; };
 		948239851C08032C842937CC /* Pods-SignalMessaging.test.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalMessaging.test.xcconfig"; path = "Pods/Target Support Files/Pods-SignalMessaging/Pods-SignalMessaging.test.xcconfig"; sourceTree = "<group>"; };
 		954AEE681DF33D32002E5410 /* ContactsPickerTest.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = ContactsPickerTest.swift; sourceTree = "<group>"; };
-		981DAA2DEFCE9F8757D7C71A /* Pods-NotificationServiceExtension.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.debug.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.debug.xcconfig"; sourceTree = "<group>"; };
 		9B533A9FA46206D3D99C9ADA /* Pods-SignalMessaging.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalMessaging.debug.xcconfig"; path = "Pods/Target Support Files/Pods-SignalMessaging/Pods-SignalMessaging.debug.xcconfig"; sourceTree = "<group>"; };
-		A06D5B0F7B646A5E4EF835F4 /* Pods-NotificationServiceExtension.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.profiling.xcconfig"; sourceTree = "<group>"; };
 		A11CD70C17FA230600A2D1B1 /* QuartzCore.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = QuartzCore.framework; path = System/Library/Frameworks/QuartzCore.framework; sourceTree = SDKROOT; };
 		A163E8AA16F3F6A90094D68B /* Security.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Security.framework; path = System/Library/Frameworks/Security.framework; sourceTree = SDKROOT; };
 		A1C32D4D17A0652C000A904E /* AddressBook.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = AddressBook.framework; path = System/Library/Frameworks/AddressBook.framework; sourceTree = SDKROOT; };
@@ -1932,13 +2008,13 @@
 		D221A0E7169DFFC500537ABF /* AVFoundation.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = AVFoundation.framework; path = ../../../../../../System/Library/Frameworks/AVFoundation.framework; sourceTree = "<group>"; };
 		D24B5BD4169F568C00681372 /* AudioToolbox.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = AudioToolbox.framework; path = ../../../../../../System/Library/Frameworks/AudioToolbox.framework; sourceTree = "<group>"; };
 		D2AEACDB16C426DA00C364C0 /* CFNetwork.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CFNetwork.framework; path = System/Library/Frameworks/CFNetwork.framework; sourceTree = SDKROOT; };
-		DCFF39FE94636EAFEAF06C70 /* Pods-NotificationServiceExtension.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.app store release.xcconfig"; sourceTree = "<group>"; };
+		D4164D79E1C97918C458A743 /* Pods-SignalShareExtension.testable release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalShareExtension.testable release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalShareExtension/Pods-SignalShareExtension.testable release.xcconfig"; sourceTree = "<group>"; };
 		DE2DD605305BC6EFAD731723 /* Pods-Signal.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-Signal.debug.xcconfig"; path = "Pods/Target Support Files/Pods-Signal/Pods-Signal.debug.xcconfig"; sourceTree = "<group>"; };
 		DF728B4B438716EAF95CEC18 /* Pods-Signal.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-Signal.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-Signal/Pods-Signal.app store release.xcconfig"; sourceTree = "<group>"; };
 		E1A0AD8B16E13FDD0071E604 /* CoreFoundation.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CoreFoundation.framework; path = System/Library/Frameworks/CoreFoundation.framework; sourceTree = SDKROOT; };
 		E434E65F6E6E989A106307BA /* Pods-SignalTests.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalTests.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-SignalTests/Pods-SignalTests.profiling.xcconfig"; sourceTree = "<group>"; };
 		E44AD4E524E98F430035D7B8 /* PhotoCaptureDismiss.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = PhotoCaptureDismiss.swift; sourceTree = "<group>"; };
-		EFF2FAAECC00C2F8262444B8 /* Pods_NotificationServiceExtension.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_NotificationServiceExtension.framework; sourceTree = BUILT_PRODUCTS_DIR; };
+		EBA1F323BC6D9256EF83C605 /* Pods-NotificationServiceExtension.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-NotificationServiceExtension.debug.xcconfig"; path = "Pods/Target Support Files/Pods-NotificationServiceExtension/Pods-NotificationServiceExtension.debug.xcconfig"; sourceTree = "<group>"; };
 		F1F5EEB86B2B807C24D790CC /* Pods-SignalPerformanceTests.profiling.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalPerformanceTests.profiling.xcconfig"; path = "Pods/Target Support Files/Pods-SignalPerformanceTests/Pods-SignalPerformanceTests.profiling.xcconfig"; sourceTree = "<group>"; };
 		FC3BD9871A30A790005B96BB /* Social.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Social.framework; path = System/Library/Frameworks/Social.framework; sourceTree = SDKROOT; };
 		FCB11D8B1A129A76002F93FB /* CoreMedia.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CoreMedia.framework; path = System/Library/Frameworks/CoreMedia.framework; sourceTree = SDKROOT; };
@@ -1951,7 +2027,7 @@
 			buildActionMask = 2147483647;
 			files = (
 				453518A21FC63E2900210559 /* SignalMessaging.framework in Frameworks */,
-				2AE2882E4C2B96BFFF9EE27C /* Pods_SignalShareExtension.framework in Frameworks */,
+				641CECC436F5F3EE2AC07EE9 /* Pods_SignalShareExtension.framework in Frameworks */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -1991,7 +2067,7 @@
 			buildActionMask = 2147483647;
 			files = (
 				888F188623AC5A9E000780E9 /* SignalMessaging.framework in Frameworks */,
-				DA2448EB739FFD5100E94059 /* Pods_NotificationServiceExtension.framework in Frameworks */,
+				0A1C228F3860F9C358AD6668 /* Pods_NotificationServiceExtension.framework in Frameworks */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -2186,6 +2262,7 @@
 				887B6DCE25F6C45B00E677D4 /* Internal */,
 				887B6DCD25F6C44800E677D4 /* Linked Devices */,
 				887B380B25F042A300685845 /* Notifications */,
+				3498AC8C2518E92B00B1F315 /* Payments */,
 				887B381425F0681B00685845 /* Privacy */,
 				8871B16D25F007CE00D4E070 /* Profile */,
 			);
@@ -2238,6 +2315,7 @@
 				34386A50207D0C01009F5D9C /* ConversationListCell.m */,
 				34386A4F207D0C01009F5D9C /* ConversationListViewController.h */,
 				34386A4D207D0C01009F5D9C /* ConversationListViewController.m */,
+				3406D32525DD5EAF00885B14 /* ConversationListViewController.swift */,
 				4C20B2B820CA10DE001BAC90 /* ConversationSearchViewController.swift */,
 				880BFFE82345907600F6FAB1 /* ConversationSplitViewController.swift */,
 			);
@@ -2260,7 +2338,6 @@
 			isa = PBXGroup;
 			children = (
 				349ED991221EE80D008045B0 /* AppPreferences.swift */,
-				885091BF2525650100428A37 /* PHPhotoLibrary+Xcode11.swift */,
 				4C948FF62146EB4800349F0D /* BlockListCache.swift */,
 				343D3D991E9283F100165CA4 /* BlockListUIUtils.h */,
 				343D3D9A1E9283F100165CA4 /* BlockListUIUtils.m */,
@@ -2269,6 +2346,7 @@
 				3464450F22B7F97000A957B1 /* DateUtil.m */,
 				34480B4D1FD0A7A300BC14EF /* DebugLogger.h */,
 				34480B4E1FD0A7A300BC14EF /* DebugLogger.m */,
+				348ECD8B25F278450083C47D /* DebugLogger.swift */,
 				3498AC86251387E500B1F315 /* Dependencies+SignalMessaging.swift */,
 				348F2EAD1F0D21BC00D4ECE0 /* DeviceSleepManager.swift */,
 				344F248C2007CCD600CFB4F4 /* DisplayableText.swift */,
@@ -2297,7 +2375,9 @@
 				34480B511FD0A7A400BC14EF /* OWSScrubbingLogFormatter.m */,
 				34641E1120878FB000E2EDE5 /* OWSWindowManager.h */,
 				34641E1020878FAF00E2EDE5 /* OWSWindowManager.m */,
+				885091BF2525650100428A37 /* PHPhotoLibrary+Xcode11.swift */,
 				4CB93DC12180FF07004B9764 /* ProximityMonitoringManager.swift */,
+				3406D31D25DBF70400885B14 /* RefreshEvent.swift */,
 				45360B8C1F9521F800FA666C /* Searcher.swift */,
 				346129BD1FD2068600532771 /* ThreadUtil.h */,
 				346129BE1FD2068600532771 /* ThreadUtil.m */,
@@ -2500,6 +2580,14 @@
 			path = appearance;
 			sourceTree = "<group>";
 		};
+		3471210D25ED5F850037CD1F /* Payments */ = {
+			isa = PBXGroup;
+			children = (
+				3471210E25ED5F850037CD1F /* PaymentsReconciliationTest.swift */,
+			);
+			path = Payments;
+			sourceTree = "<group>";
+		};
 		347C3818252CE69400F3D941 /* CV */ = {
 			isa = PBXGroup;
 			children = (
@@ -2553,6 +2641,7 @@
 				347C384C252D0FDC00F3D941 /* CVComponentTypingIndicator.swift */,
 				347C384A252D085900F3D941 /* CVComponentUnreadIndicator.swift */,
 				348815BF2553291200D4F4C4 /* CVComponentViewOnce.swift */,
+				34156C8E25A7521700556182 /* CVMessageActionButton.swift */,
 			);
 			path = CVComponents;
 			sourceTree = "<group>";
@@ -2591,6 +2680,48 @@
 			path = Stickers;
 			sourceTree = "<group>";
 		};
+		3497971D25DAA86100E99FA4 /* Payments */ = {
+			isa = PBXGroup;
+			children = (
+				3497971E25DAA86100E99FA4 /* SendPaymentCompletionActionSheet.swift */,
+				3497972225DAAE3800E99FA4 /* SendPaymentHelper.swift */,
+				34EEECF125E846EC00574F0D /* SendPaymentMemoViewController.swift */,
+				3497971F25DAA86100E99FA4 /* SendPaymentViewController.swift */,
+			);
+			path = Payments;
+			sourceTree = "<group>";
+		};
+		3498AC8C2518E92B00B1F315 /* Payments */ = {
+			isa = PBXGroup;
+			children = (
+				34FB6A5425D2E17200E599B1 /* PaymentModelCell.swift */,
+				3414896825C9B6490098E3ED /* PaymentsCurrencyViewController.swift */,
+				34FB6A4E25D1C6AC00E599B1 /* PaymentsDetailViewController.swift */,
+				3498AC8E2518E92B00B1F315 /* PaymentsHistory.swift */,
+				3498AC8D2518E92B00B1F315 /* PaymentsHistoryViewController.swift */,
+				3406D32325DD4A8F00885B14 /* PaymentsQRScanViewController.swift */,
+				3497971425D6D55400E99FA4 /* PaymentsSendRecipientViewController.swift */,
+				3498AC8F2518E92B00B1F315 /* PaymentsSettingsViewController.swift */,
+				34848D6225D44EBD00E5034B /* PaymentsTransferInViewController.swift */,
+				3406D32125DD40F000885B14 /* PaymentsTransferOutViewController.swift */,
+				34FB6A5225D2D10400E599B1 /* PaymentsViewUtils.swift */,
+			);
+			path = Payments;
+			sourceTree = "<group>";
+		};
+		3498AC992518E9A600B1F315 /* Payments */ = {
+			isa = PBXGroup;
+			children = (
+				3498AC9A2518E9A600B1F315 /* MobileCoinAPI.swift */,
+				3414896A25C9B8B00098E3ED /* PaymentsCurrenciesImpl.swift */,
+				3498AC9B2518E9A600B1F315 /* PaymentsImpl.swift */,
+				34C05D32251B8C350058006D /* PaymentsProcessor.swift */,
+				3406D31F25DBFCE400885B14 /* PaymentsReconciliation.swift */,
+				34156C8C25A64AF000556182 /* PaymentsUI.swift */,
+			);
+			path = Payments;
+			sourceTree = "<group>";
+		};
 		34995F122411838C00C70546 /* NewGroupView */ = {
 			isa = PBXGroup;
 			children = (
@@ -2631,7 +2762,6 @@
 				34D5CCA81EAE3D30005515DB /* AvatarViewHelper.m */,
 				4C46361022EB98EC00185951 /* CameraFirstNavigationController.swift */,
 				4C13C9F520E57BA30089A98B /* ColorPickerViewController.swift */,
-				349767DE25B8744600ECE1B0 /* Stickers */,
 				348BB25C20A0C5530047AEC2 /* ContactShareViewHelper.swift */,
 				34B3F83E1E8DF1700035BE1A /* ContactsPicker.swift */,
 				34E88D252098C5AE00A608F4 /* ContactViewController.swift */,
@@ -2659,11 +2789,13 @@
 				887889A42476E999001B5FCF /* OWSPinConfirmationViewController.swift */,
 				881677C422DD2B21007BAF49 /* OWSPinReminderViewController.swift */,
 				881D85B722D92C2B00E118DF /* OWSPinSetupViewController.swift */,
+				3497971D25DAA86100E99FA4 /* Payments */,
 				34969558219B605E00DCFE74 /* Photos */,
 				8835DDFB230CEE7600DC6B66 /* RecipientPicker */,
 				340FC875204DAC8C007AEB0F /* Registration */,
 				4585C4671ED8F8D200896AEA /* SafetyNumberConfirmationSheet.swift */,
 				346EAA1125013CDF00E8AB6F /* SendMessageFlow.swift */,
+				349767DE25B8744600ECE1B0 /* Stickers */,
 				340FC897204DAC8D007AEB0F /* ThreadSettings */,
 				34D1F0BE1F8EC1760066283D /* Utils */,
 				3434AE1B22AEDE7D002EE04E /* ViewOnceMessageViewController.swift */,
@@ -2843,6 +2975,7 @@
 				457C87B72032645C008D52D6 /* DebugUINotifications.swift */,
 				34E3EF0E1EFC2684007F6822 /* DebugUIPage.h */,
 				34E3EF0F1EFC2684007F6822 /* DebugUIPage.m */,
+				3498AC972518E98A00B1F315 /* DebugUIPayments.swift */,
 				4556FA671F54AA9500AF40DD /* DebugUIProfile.swift */,
 				34D3E578245A189D00F5E4A1 /* DebugUIScreenshots.h */,
 				34D3E57A245A189D00F5E4A1 /* DebugUIScreenshots.m */,
@@ -2894,7 +3027,7 @@
 				34AC09CE211B39B000997B47 /* OWSTableViewController.h */,
 				34AC09CB211B39AF00997B47 /* OWSTableViewController.m */,
 				3465948324352FE900E5C510 /* OWSTableViewController.swift */,
-				34FB6A5625D4127900E599B1 /* OWSTableViewController2.swift */,
+				34FB6A5025D1CD6000E599B1 /* OWSTableViewController2.swift */,
 				34AC09D4211B39B000997B47 /* OWSViewController.h */,
 				34AC09C5211B39AF00997B47 /* OWSViewController.m */,
 				8827004B232071C500F01C46 /* OWSWindow.swift */,
@@ -2945,6 +3078,7 @@
 				34BB3C5723C6644B001651FC /* groups */,
 				453518951FC63DBF00210559 /* Info.plist */,
 				88D23D0823CEBF4400B0E74B /* Notifications */,
+				3498AC992518E9A600B1F315 /* Payments */,
 				346129B01FD1F7E800532771 /* profiles */,
 				34480B5A1FD0A7E300BC14EF /* SignalMessaging-Prefix.pch */,
 				453518941FC63DBF00210559 /* SignalMessaging.h */,
@@ -3523,7 +3657,11 @@
 		88BFD4712335C2A4001797D7 /* Lottie */ = {
 			isa = PBXGroup;
 			children = (
+				34848D5B25D43ADD00E5034B /* about-mobilecoin.json */,
+				34848D5C25D43ADD00E5034B /* activate-payments.json */,
+				34848D5D25D43ADD00E5034B /* add-money.json */,
 				88A9419324099F6E000E9700 /* Attachment Keyboard */,
+				34848D5A25D43ADD00E5034B /* cash-out.json */,
 				34684DAC25C2228D00C5A93C /* determinate_spinner_blue.json */,
 				34684DAB25C2228C00C5A93C /* determinate_spinner_white.json */,
 				34684DAD25C2228D00C5A93C /* indeterminate_spinner_blue.json */,
@@ -3531,6 +3669,13 @@
 				887CD48924735D4200FDD265 /* launchApp-iPad.json */,
 				887CD48824735D4200FDD265 /* launchApp-iPhone.json */,
 				4C9D34842369EA3E006A4307 /* NotificationPermission */,
+				3406D33025DD832800885B14 /* payments_spinner_dark.json */,
+				3406D32725DD80D600885B14 /* payments_spinner_fail.json */,
+				3406D32F25DD832700885B14 /* payments_spinner_info_dark.json */,
+				3406D32925DD80D600885B14 /* payments_spinner_info.json */,
+				3406D32825DD80D600885B14 /* payments_spinner_success.json */,
+				3406D32A25DD80D600885B14 /* payments_spinner.json */,
+				34156C8A25A3B3D000556182 /* paymentSpinner.json */,
 				888C827F23D795F90059464B /* pinCreationFail.json */,
 				888C828023D795FA0059464B /* pinCreationInProgress.json */,
 				8837F73C23D8DE8400772A32 /* pinCreationSuccess.json */,
@@ -3632,30 +3777,30 @@
 				DF728B4B438716EAF95CEC18 /* Pods-Signal.app store release.xcconfig */,
 				1CE3CD5C23334683BDD3D78C /* Pods-Signal.test.xcconfig */,
 				8981C8F64D94D3C52EB67A2C /* Pods-SignalTests.test.xcconfig */,
-				69349DE607F5BA6036C9AC60 /* Pods-SignalShareExtension.debug.xcconfig */,
 				1C93CF3971B64E8B6C1F9AC1 /* Pods-SignalShareExtension.test.xcconfig */,
-				435EAC2E5E22D3F087EB3192 /* Pods-SignalShareExtension.app store release.xcconfig */,
 				9B533A9FA46206D3D99C9ADA /* Pods-SignalMessaging.debug.xcconfig */,
 				948239851C08032C842937CC /* Pods-SignalMessaging.test.xcconfig */,
 				8EEE74B0753448C085B48721 /* Pods-SignalMessaging.app store release.xcconfig */,
 				7BB1CB6F2D7841356BE367EA /* Pods-Signal.testable release.xcconfig */,
 				FD351756BE688D00B63E00CD /* Pods-SignalMessaging.testable release.xcconfig */,
-				4F673294B9C30EE43B6FB0BC /* Pods-SignalShareExtension.testable release.xcconfig */,
 				63BAA38DC365EE44110A6BD1 /* Pods-SignalTests.debug.xcconfig */,
 				02CD38E58B58A689DCF037AD /* Pods-SignalTests.app store release.xcconfig */,
 				399D8A7F461D7253DFFB91C5 /* Pods-SignalTests.testable release.xcconfig */,
 				CAA04E8D62A697EE833BC729 /* Pods-SignalPerformanceTests.debug.xcconfig */,
 				1BC279B87E730B066A5AFB2A /* Pods-SignalPerformanceTests.app store release.xcconfig */,
 				4224D4E5D7921F25823ECDCA /* Pods-SignalPerformanceTests.testable release.xcconfig */,
-				981DAA2DEFCE9F8757D7C71A /* Pods-NotificationServiceExtension.debug.xcconfig */,
-				DCFF39FE94636EAFEAF06C70 /* Pods-NotificationServiceExtension.app store release.xcconfig */,
-				80A8593EDA963AA130D319BA /* Pods-NotificationServiceExtension.testable release.xcconfig */,
-				A06D5B0F7B646A5E4EF835F4 /* Pods-NotificationServiceExtension.profiling.xcconfig */,
 				AEA97ACC8D9F89DB5E045B2B /* Pods-Signal.profiling.xcconfig */,
 				10AE4264D3E52937D8964A86 /* Pods-SignalMessaging.profiling.xcconfig */,
 				F1F5EEB86B2B807C24D790CC /* Pods-SignalPerformanceTests.profiling.xcconfig */,
-				536198E33A8BF8BAF669C0CF /* Pods-SignalShareExtension.profiling.xcconfig */,
 				E434E65F6E6E989A106307BA /* Pods-SignalTests.profiling.xcconfig */,
+				EBA1F323BC6D9256EF83C605 /* Pods-NotificationServiceExtension.debug.xcconfig */,
+				6FA8ECDCB1FC62E29D025E4B /* Pods-NotificationServiceExtension.app store release.xcconfig */,
+				4EB6D2B725EC159086894748 /* Pods-NotificationServiceExtension.profiling.xcconfig */,
+				7C5895EC8A421236BDBD71BD /* Pods-NotificationServiceExtension.testable release.xcconfig */,
+				14FD26DD3B40616C54CDBF1A /* Pods-SignalShareExtension.debug.xcconfig */,
+				7C5EABE2C09180BC71C4E097 /* Pods-SignalShareExtension.app store release.xcconfig */,
+				7856A9F703AAD99E22B75A9B /* Pods-SignalShareExtension.profiling.xcconfig */,
+				D4164D79E1C97918C458A743 /* Pods-SignalShareExtension.testable release.xcconfig */,
 			);
 			name = Pods;
 			sourceTree = "<group>";
@@ -3663,12 +3808,13 @@
 		B660F66C1C29867F00687D6E /* test */ = {
 			isa = PBXGroup;
 			children = (
-				1704690725D4C2DA000793D8 /* attachments */,
 				34C6B0A41FA0E46F00D35993 /* Assets */,
+				1704690725D4C2DA000793D8 /* attachments */,
 				B660F6751C29867F00687D6E /* contact */,
 				349BC85F253A2651003C949A /* Groups */,
 				34843B29214FE295004DED45 /* mocks */,
 				458E38381D6699110094BD24 /* Models */,
+				3471210D25ED5F850037CD1F /* Payments */,
 				4C10B1C523176DB00099396B /* PerformanceTests */,
 				34843B2321432293004DED45 /* SignalBaseTest.h */,
 				34843B2221432292004DED45 /* SignalBaseTest.m */,
@@ -3795,11 +3941,11 @@
 				D221A08F169C9E5E00537ABF /* Foundation.framework */,
 				D221A091169C9E5E00537ABF /* CoreGraphics.framework */,
 				D17BB5C25D615AB49813100C /* Pods_Signal.framework */,
-				0F94C85CB0B235DA37F68ED0 /* Pods_SignalShareExtension.framework */,
 				748A5CAEDD7C919FC64C6807 /* Pods_SignalTests.framework */,
 				264242150E87D10A357DB07B /* Pods_SignalMessaging.framework */,
 				C61A9604F0FC0D258C8CE27F /* Pods_SignalPerformanceTests.framework */,
-				EFF2FAAECC00C2F8262444B8 /* Pods_NotificationServiceExtension.framework */,
+				817EA657B4B8AE5D2E9287B3 /* Pods_NotificationServiceExtension.framework */,
+				6657FDE7B91C2845BB3BEAB5 /* Pods_SignalShareExtension.framework */,
 			);
 			name = Frameworks;
 			sourceTree = "<group>";
@@ -3915,7 +4061,7 @@
 			isa = PBXNativeTarget;
 			buildConfigurationList = 453518761FC635DD00210559 /* Build configuration list for PBXNativeTarget "SignalShareExtension" */;
 			buildPhases = (
-				16FA77C536F8C08C5046FA6B /* [CP] Check Pods Manifest.lock */,
+				CE565F413E69EC5A90EA8FA6 /* [CP] Check Pods Manifest.lock */,
 				453518641FC635DD00210559 /* Sources */,
 				453518651FC635DD00210559 /* Frameworks */,
 				88905E9F229CDE3A004E4234 /* Run Script: update_share_plist_info */,
@@ -3975,7 +4121,7 @@
 			isa = PBXNativeTarget;
 			buildConfigurationList = 885AC56F23AB42430077705E /* Build configuration list for PBXNativeTarget "NotificationServiceExtension" */;
 			buildPhases = (
-				DD22029638F7E2469D6F373D /* [CP] Check Pods Manifest.lock */,
+				87F256A4DB286E7AD3E30A5E /* [CP] Check Pods Manifest.lock */,
 				885AC56023AB42430077705E /* Sources */,
 				885AC56123AB42430077705E /* Frameworks */,
 				885AC56223AB42430077705E /* Resources */,
@@ -4274,17 +4420,21 @@
 			isa = PBXResourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
+				3406D33225DD832800885B14 /* payments_spinner_dark.json in Resources */,
 				4C63CC00210A620B003AE45C /* SignalTSan.supp in Resources */,
 				4C6F527C20FFE8400097DEEE /* SignalUBSan.supp in Resources */,
 				34684DB225C2228D00C5A93C /* indeterminate_spinner_white.json in Resources */,
 				34CF078A203E6B78005C4D61 /* end_call_tone_cept.caf in Resources */,
 				34330A5A1E7875FB00DF2FB9 /* fontawesome-webfont.ttf in Resources */,
 				A5E7C675248C5443007C949A /* InfoPlist.strings in Resources */,
+				34848D5F25D43ADD00E5034B /* about-mobilecoin.json in Resources */,
 				34330A5C1E787A9800DF2FB9 /* dripicons-v2.ttf in Resources */,
 				880C0FF7233D3F7C00386FB8 /* playPauseButton.json in Resources */,
 				B6F509971AA53F760068F56A /* Localizable.strings in Resources */,
 				B66DBF4A19D5BBC8006EA940 /* Images.xcassets in Resources */,
+				3406D33125DD832800885B14 /* payments_spinner_info_dark.json in Resources */,
 				4C9D34972369F0FC006A4307 /* notificationPermission.json in Resources */,
+				3406D32B25DD80D600885B14 /* payments_spinner_fail.json in Resources */,
 				34CF0788203E6B78005C4D61 /* ringback_tone_ansi.caf in Resources */,
 				34C3C78F2040A4F70000134C /* sonarping.mp3 in Resources */,
 				34661FB820C1C0D60056EDD6 /* message_sent.aiff in Resources */,
@@ -4300,7 +4450,9 @@
 				34330A5E1E787BD800DF2FB9 /* ElegantIcons.ttf in Resources */,
 				45A2F005204473A3002E978A /* NewMessage.aifc in Resources */,
 				45B74A882044AAB600CD42F8 /* aurora.aifc in Resources */,
+				3406D32E25DD80D600885B14 /* payments_spinner.json in Resources */,
 				88BFD4732335C2B3001797D7 /* waveformLoading.json in Resources */,
+				34156C8B25A3B3D000556182 /* paymentSpinner.json in Resources */,
 				88D6E940254CF712003142D9 /* group_call_join.aiff in Resources */,
 				45B74A742044AAB600CD42F8 /* aurora-quiet.aifc in Resources */,
 				45B74A852044AAB600CD42F8 /* bamboo.aifc in Resources */,
@@ -4309,6 +4461,7 @@
 				45B74A7B2044AAB600CD42F8 /* chord.aifc in Resources */,
 				887CD48B24735D4200FDD265 /* launchApp-iPad.json in Resources */,
 				88A9419724099F85000E9700 /* attachment_light.json in Resources */,
+				3406D32C25DD80D600885B14 /* payments_spinner_success.json in Resources */,
 				45B74A812044AAB600CD42F8 /* chord-quiet.aifc in Resources */,
 				45B74A832044AAB600CD42F8 /* circles.aifc in Resources */,
 				886CB07C24E78F2200753909 /* Reflection.m4r in Resources */,
@@ -4316,9 +4469,13 @@
 				347C3854252DF8DC00F3D941 /* splash_groupsv2_iOS_dark.json in Resources */,
 				45B74A892044AAB600CD42F8 /* circles-quiet.aifc in Resources */,
 				4503F1BF20470A5B00CEE724 /* classic.aifc in Resources */,
+				34848D6125D43ADD00E5034B /* add-money.json in Resources */,
 				4503F1BE20470A5B00CEE724 /* classic-quiet.aifc in Resources */,
+				3406D32D25DD80D600885B14 /* payments_spinner_info.json in Resources */,
 				45B74A7E2044AAB600CD42F8 /* complete.aifc in Resources */,
+				34848D6025D43ADD00E5034B /* activate-payments.json in Resources */,
 				45B74A872044AAB600CD42F8 /* complete-quiet.aifc in Resources */,
+				34848D5E25D43ADD00E5034B /* cash-out.json in Resources */,
 				88D6E93F254CF712003142D9 /* group_call_leave.aiff in Resources */,
 				45B74A772044AAB600CD42F8 /* hello.aifc in Resources */,
 				45B74A7C2044AAB600CD42F8 /* hello-quiet.aifc in Resources */,
@@ -4378,24 +4535,6 @@
 			shellScript = "diff \"${PODS_PODFILE_DIR_PATH}/Podfile.lock\" \"${PODS_ROOT}/Manifest.lock\" > /dev/null\nif [ $? != 0 ] ; then\n    # print error to STDERR\n    echo \"error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.\" >&2\n    exit 1\nfi\n# This output is used by Xcode 'outputs' to avoid re-running this script phase.\necho \"SUCCESS\" > \"${SCRIPT_OUTPUT_FILE_0}\"\n";
 			showEnvVarsInLog = 0;
 		};
-		16FA77C536F8C08C5046FA6B /* [CP] Check Pods Manifest.lock */ = {
-			isa = PBXShellScriptBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-			);
-			inputPaths = (
-				"${PODS_PODFILE_DIR_PATH}/Podfile.lock",
-				"${PODS_ROOT}/Manifest.lock",
-			);
-			name = "[CP] Check Pods Manifest.lock";
-			outputPaths = (
-				"$(DERIVED_FILE_DIR)/Pods-SignalShareExtension-checkManifestLockResult.txt",
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-			shellPath = /bin/sh;
-			shellScript = "diff \"${PODS_PODFILE_DIR_PATH}/Podfile.lock\" \"${PODS_ROOT}/Manifest.lock\" > /dev/null\nif [ $? != 0 ] ; then\n    # print error to STDERR\n    echo \"error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.\" >&2\n    exit 1\nfi\n# This output is used by Xcode 'outputs' to avoid re-running this script phase.\necho \"SUCCESS\" > \"${SCRIPT_OUTPUT_FILE_0}\"\n";
-			showEnvVarsInLog = 0;
-		};
 		34C239432180B01B00B6108F /* Run Script: update_plist_info */ = {
 			isa = PBXShellScriptBuildPhase;
 			buildActionMask = 2147483647;
@@ -4698,6 +4837,28 @@
 			shellScript = "\"${PODS_ROOT}/Target Support Files/Pods-SignalPerformanceTests/Pods-SignalPerformanceTests-frameworks.sh\"\n";
 			showEnvVarsInLog = 0;
 		};
+		87F256A4DB286E7AD3E30A5E /* [CP] Check Pods Manifest.lock */ = {
+			isa = PBXShellScriptBuildPhase;
+			buildActionMask = 2147483647;
+			files = (
+			);
+			inputFileListPaths = (
+			);
+			inputPaths = (
+				"${PODS_PODFILE_DIR_PATH}/Podfile.lock",
+				"${PODS_ROOT}/Manifest.lock",
+			);
+			name = "[CP] Check Pods Manifest.lock";
+			outputFileListPaths = (
+			);
+			outputPaths = (
+				"$(DERIVED_FILE_DIR)/Pods-NotificationServiceExtension-checkManifestLockResult.txt",
+			);
+			runOnlyForDeploymentPostprocessing = 0;
+			shellPath = /bin/sh;
+			shellScript = "diff \"${PODS_PODFILE_DIR_PATH}/Podfile.lock\" \"${PODS_ROOT}/Manifest.lock\" > /dev/null\nif [ $? != 0 ] ; then\n    # print error to STDERR\n    echo \"error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.\" >&2\n    exit 1\nfi\n# This output is used by Xcode 'outputs' to avoid re-running this script phase.\necho \"SUCCESS\" > \"${SCRIPT_OUTPUT_FILE_0}\"\n";
+			showEnvVarsInLog = 0;
+		};
 		88905E9F229CDE3A004E4234 /* Run Script: update_share_plist_info */ = {
 			isa = PBXShellScriptBuildPhase;
 			buildActionMask = 2147483647;
@@ -4830,7 +4991,7 @@
 			shellScript = "\"${PODS_ROOT}/Target Support Files/Pods-SignalTests/Pods-SignalTests-frameworks.sh\"\n";
 			showEnvVarsInLog = 0;
 		};
-		DD22029638F7E2469D6F373D /* [CP] Check Pods Manifest.lock */ = {
+		CE565F413E69EC5A90EA8FA6 /* [CP] Check Pods Manifest.lock */ = {
 			isa = PBXShellScriptBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
@@ -4845,7 +5006,7 @@
 			outputFileListPaths = (
 			);
 			outputPaths = (
-				"$(DERIVED_FILE_DIR)/Pods-NotificationServiceExtension-checkManifestLockResult.txt",
+				"$(DERIVED_FILE_DIR)/Pods-SignalShareExtension-checkManifestLockResult.txt",
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 			shellPath = /bin/sh;
@@ -4911,6 +5072,7 @@
 				34BEDB1321C43F6A007B0EAE /* ImageEditorView.swift in Sources */,
 				34AC09EE211B39B100997B47 /* EditContactShareNameViewController.swift in Sources */,
 				450998681FD8C0FF00D89EB3 /* AttachmentSharing.m in Sources */,
+				34C05D33251B8C350058006D /* PaymentsProcessor.swift in Sources */,
 				34AC09DF211B39B100997B47 /* OWSNavigationController.m in Sources */,
 				34074F61203D0CBE004596AE /* OWSSounds.m in Sources */,
 				34C2EEB02270B8E200BCA1D0 /* StickerKeyboard.swift in Sources */,
@@ -4950,6 +5112,7 @@
 				3461293A1FD1B47300532771 /* OWSPreferences.m in Sources */,
 				4C858A52212DC5E1001B45D3 /* UIImage+OWS.swift in Sources */,
 				34480B671FD0AA9400BC14EF /* UIFont+OWS.m in Sources */,
+				3414896B25C9B8B00098E3ED /* PaymentsCurrenciesImpl.swift in Sources */,
 				4C0387532339B3220062D293 /* UIColor+OWS.swift in Sources */,
 				88D5887824846A7F00DC9AB6 /* InputAccessoryViewPlaceholder.swift in Sources */,
 				88D23D0B23CEBF4400B0E74B /* UserNotificationsAdaptee.swift in Sources */,
@@ -4962,14 +5125,19 @@
 				34AC09E2211B39B100997B47 /* ReturnToCallViewController.swift in Sources */,
 				345DE96023ED9AA500A8E6E3 /* GroupsV2ProfileKeyUpdater.swift in Sources */,
 				885091C02525650100428A37 /* PHPhotoLibrary+Xcode11.swift in Sources */,
+				3498AC9C2518E9A600B1F315 /* MobileCoinAPI.swift in Sources */,
+				3406D32025DBFCE400885B14 /* PaymentsReconciliation.swift in Sources */,
 				34123C60239AA93B00782788 /* ViewOnceTooltip.swift in Sources */,
 				34AC0A12211B39EA00997B47 /* ContactTableViewCell.m in Sources */,
+				348ECD8C25F278460083C47D /* DebugLogger.swift in Sources */,
+				34FB6A5125D1CD6000E599B1 /* OWSTableViewController2.swift in Sources */,
 				451F8A461FD715BA005CB9DA /* OWSGroupAvatarBuilder.m in Sources */,
 				34C2EEB42270D1CE00BCA1D0 /* StickerView.swift in Sources */,
 				341CBFC42405B7C000F15C13 /* GroupsV2Impl+RestoreGroups.swift in Sources */,
 				34AC09EA211B39B100997B47 /* ModalActivityIndicatorViewController.swift in Sources */,
 				88BAE55F24875A24001F00F9 /* ImageEditorBlurRegionsItem.swift in Sources */,
 				344F248D2007CCD600CFB4F4 /* DisplayableText.swift in Sources */,
+				3406D31E25DBF70400885B14 /* RefreshEvent.swift in Sources */,
 				450998651FD8A34D00D89EB3 /* DeviceSleepManager.swift in Sources */,
 				34AC09EB211B39B100997B47 /* ContactShareApprovalViewController.swift in Sources */,
 				34AC0A1F211B39EA00997B47 /* AvatarImageView.swift in Sources */,
@@ -5003,6 +5171,7 @@
 				45BC829D1FD9C4B400011CF3 /* ShareViewDelegate.swift in Sources */,
 				3461295B1FD1D74C00532771 /* Environment.m in Sources */,
 				3426A378256321C50036407F /* CVUtils.swift in Sources */,
+				34156C8D25A64AF000556182 /* PaymentsUI.swift in Sources */,
 				346129D51FD20ADC00532771 /* UIViewController+OWS.m in Sources */,
 				34BB3C5D23C6644B001651FC /* GroupsV2Utils.swift in Sources */,
 				8860CC212508507F00A4D18E /* GroupLinkPreview.swift in Sources */,
@@ -5032,13 +5201,13 @@
 				34AC0A19211B39EA00997B47 /* OWSActionSheets.swift in Sources */,
 				340872DA22397FEB00CB25B0 /* AttachmentTextView.swift in Sources */,
 				34FDB29221FF986600A01202 /* UIView+OWS.swift in Sources */,
+				3498AC9D2518E9A600B1F315 /* PaymentsImpl.swift in Sources */,
 				34035D7A2367747400F5215A /* VideoEditorModel.swift in Sources */,
 				889C8A8D248831AC00C3D3D8 /* BlurTooltip.swift in Sources */,
 				34BBC859220C7ADA00857249 /* ImageEditorStrokeItem.swift in Sources */,
 				451F8A351FD710DE005CB9DA /* Searcher.swift in Sources */,
 				451F8A481FD715BA005CB9DA /* OWSContactAvatarBuilder.m in Sources */,
 				3464450D22B7F93600A957B1 /* OWSOrphanDataCleaner.m in Sources */,
-				34FB6A5725D4127A00E599B1 /* OWSTableViewController2.swift in Sources */,
 				34AC0A18211B39EA00997B47 /* TappableStackView.swift in Sources */,
 				346129A61FD1F09100532771 /* OWSContactsManager.m in Sources */,
 				349C3637233D198300D52012 /* LaunchJobs.swift in Sources */,
@@ -5139,6 +5308,7 @@
 				4C8A6DFE22E54AFA00469AE7 /* MediaInteractiveDismiss.swift in Sources */,
 				452EC6DF205E9E30000E787C /* MediaGallery.swift in Sources */,
 				34386A52207D0C01009F5D9C /* ConversationListCell.m in Sources */,
+				3406D32625DD5EAF00885B14 /* ConversationListViewController.swift in Sources */,
 				34DC9BD921543E0C00FDDCEC /* DebugContactsUtils.m in Sources */,
 				4C25768A23AD510800E0398D /* LoadMoreMessagesView.swift in Sources */,
 				88F58A1725EEE5B9008CDA24 /* AppSettingsViewController.swift in Sources */,
@@ -5151,6 +5321,7 @@
 				4C1885D2218F8E1C00B67051 /* PhotoGridViewCell.swift in Sources */,
 				3470C8822559B23F00F5847C /* CVUpdate.swift in Sources */,
 				348815C8255346A500D4F4C4 /* CVNode.swift in Sources */,
+				3497972325DAAE3800E99FA4 /* SendPaymentHelper.swift in Sources */,
 				349439D824360D63001045F7 /* BaseGroupMemberViewController.swift in Sources */,
 				88C4E38024635337009C9B97 /* DeviceTransferService.swift in Sources */,
 				348EE28F25B897BF00814FC2 /* ReusableMediaView.swift in Sources */,
@@ -5177,6 +5348,8 @@
 				4C68FDAE2385F5A4002576B1 /* DebugUIDataStoreViewController.swift in Sources */,
 				4CD675C522E7CF22008010D2 /* ConversationViewController+OWS.swift in Sources */,
 				347C3829252CE69400F3D941 /* CVComponentState+GroupLink.swift in Sources */,
+				3498AC922518E92B00B1F315 /* PaymentsSettingsViewController.swift in Sources */,
+				3497972025DAA86100E99FA4 /* SendPaymentCompletionActionSheet.swift in Sources */,
 				343A65981FC4CFE7000477A1 /* ConversationScrollButton.m in Sources */,
 				34386A51207D0C01009F5D9C /* ConversationListViewController.m in Sources */,
 				348EE28E25B897BF00814FC2 /* CVMediaCache.swift in Sources */,
@@ -5212,6 +5385,7 @@
 				3430FE181F7751D4000EC51B /* GiphyAPI.swift in Sources */,
 				88EAD79223764F09004B797E /* OnboardingModeSwitchConfirmationViewController.swift in Sources */,
 				323C4FE524EE7B0F00DC94B8 /* LinkPreviewsMegaphone.swift in Sources */,
+				3498AC982518E98A00B1F315 /* DebugUIPayments.swift in Sources */,
 				4C2F454F214C00E1004871FF /* AvatarTableViewCell.swift in Sources */,
 				887CD4772472FEA500FDD265 /* DeviceTransferOperation.swift in Sources */,
 				88D23D2023CEC0C700B0E74B /* IndividualCallService.swift in Sources */,
@@ -5250,11 +5424,14 @@
 				4CB5F26720F6E1E2004D1B42 /* MessageActionsViewController.swift in Sources */,
 				4C81DAD5242051C100F4C4D1 /* MessageSelectionView.swift in Sources */,
 				3496955E219B605E00DCFE74 /* PhotoLibrary.swift in Sources */,
+				34156C8F25A7521800556182 /* CVMessageActionButton.swift in Sources */,
 				349ED990221B0194008045B0 /* Onboarding2FAViewController.swift in Sources */,
 				45D231771DC7E8F10034FA89 /* SessionResetJob.swift in Sources */,
 				348815BC2552E67900D4F4C4 /* CVComponentSystemMessage.swift in Sources */,
 				88A4CC19246CE6810082211F /* DeviceTransferInitialViewController.swift in Sources */,
+				3406D32425DD4A8F00885B14 /* PaymentsQRScanViewController.swift in Sources */,
 				8835DE01230DBF7E00DC6B66 /* ComposeViewController.swift in Sources */,
+				3406D32225DD40F000885B14 /* PaymentsTransferOutViewController.swift in Sources */,
 				34A17D81253F7237009F8C02 /* ConversationSettingsViewController+LegacyGroups.swift in Sources */,
 				452037D11EE84975004E4CDF /* DebugUISessionState.m in Sources */,
 				88A4CC12246CE2F50082211F /* QRCodeView.swift in Sources */,
@@ -5262,6 +5439,7 @@
 				34B3F87B1E8DF1700035BE1A /* SplashViewController.swift in Sources */,
 				3448E1622213585C004B052E /* OnboardingBaseViewController.swift in Sources */,
 				34E20D4E2425672B002C011E /* ConversationSettingsViewController+Contents.swift in Sources */,
+				3498AC912518E92B00B1F315 /* PaymentsHistory.swift in Sources */,
 				88238EBC24F21EE400F28079 /* EmojiSkinTonePicker.swift in Sources */,
 				34E5DC8220D8050D00C08145 /* RegistrationUtils.m in Sources */,
 				341D392925472F3B00996E7B /* CVViewState.swift in Sources */,
@@ -5287,6 +5465,7 @@
 				32AC5CF1255F875C00829BD8 /* GroupCallUpdateMessageHandler.swift in Sources */,
 				34BECE301F7ABCF800D7438D /* GifPickerLayout.swift in Sources */,
 				347C3849252D004C00F3D941 /* CVComponentDateHeader.swift in Sources */,
+				34FB6A4F25D1C6AC00E599B1 /* PaymentsDetailViewController.swift in Sources */,
 				882BDAAE249050F000C14587 /* AddToGroupViewController.swift in Sources */,
 				8806EF19248DBD7200E764C7 /* NotificationPermissionReminderMegaphone.swift in Sources */,
 				343A65951FC47D5E000477A1 /* DebugUISyncMessages.m in Sources */,
@@ -5297,6 +5476,7 @@
 				45C0DC1E1E69011F00E04C47 /* UIStoryboard+OWS.swift in Sources */,
 				4556FA681F54AA9500AF40DD /* DebugUIProfile.swift in Sources */,
 				4C2EBB7F2356B2B900BBC171 /* SecondaryLinkingSetDeviceNameViewController.swift in Sources */,
+				3414896925C9B6490098E3ED /* PaymentsCurrencyViewController.swift in Sources */,
 				3470C87A2555DE5F00F5847C /* CVComponentContactShare.swift in Sources */,
 				886BB3D225BA0C9D00079781 /* PreviewWallpaperViewController.swift in Sources */,
 				88238EA424E9DDE900F28079 /* CallButton.swift in Sources */,
@@ -5316,6 +5496,7 @@
 				886BB3D325BA0CA400079781 /* SetWallpaperViewController.swift in Sources */,
 				887CD47D2473051D00FDD265 /* DeviceTransferService+Manifest.swift in Sources */,
 				88D23D2623CEC0C700B0E74B /* CallUIAdapter.swift in Sources */,
+				34FB6A5325D2D10400E599B1 /* PaymentsViewUtils.swift in Sources */,
 				E44AD4E624E98F440035D7B8 /* PhotoCaptureDismiss.swift in Sources */,
 				3236FCC42592B67B006D33B9 /* NameCollisionReviewCell.swift in Sources */,
 				4542DF54208D40AC007B4E76 /* LoadingViewController.swift in Sources */,
@@ -5334,12 +5515,14 @@
 				8837F74123DA0B0F00772A32 /* MegaphoneView.swift in Sources */,
 				88D23D2723CEC0C700B0E74B /* WebRTCCallMessageHandler.swift in Sources */,
 				348BB25D20A0C5530047AEC2 /* ContactShareViewHelper.swift in Sources */,
+				3497971525D6D55400E99FA4 /* PaymentsSendRecipientViewController.swift in Sources */,
 				88CB462025843527001900F2 /* GroupCallsMegaphone.swift in Sources */,
 				88A4CC1B246CEC8B0082211F /* DeviceTransferQRScanningViewController.swift in Sources */,
 				34B3F8801E8DF1700035BE1A /* InviteFlow.swift in Sources */,
 				88535064240829950011D318 /* DateHeaderInteraction.swift in Sources */,
 				88588D26252E59CE00405414 /* CallService.swift in Sources */,
 				457C87B82032645C008D52D6 /* DebugUINotifications.swift in Sources */,
+				34848D6325D44EBD00E5034B /* PaymentsTransferInViewController.swift in Sources */,
 				4C21D5D8223AC60F00EF8A77 /* PhotoCapture.swift in Sources */,
 				8871B16F25F007DE00D4E070 /* ProfileSettingsViewController.swift in Sources */,
 				4C13C9F620E57BA30089A98B /* ColorPickerViewController.swift in Sources */,
@@ -5364,6 +5547,7 @@
 				88C659B024688335002AC115 /* SelfSignedIdentity.swift in Sources */,
 				347C3857252E1E2300F3D941 /* CVComponentThreadDetails.swift in Sources */,
 				347C3846252CE6C900F3D941 /* CVComponentSenderName.swift in Sources */,
+				3498AC902518E92B00B1F315 /* PaymentsHistoryViewController.swift in Sources */,
 				4C586926224FAB83003FD070 /* AVAudioSession+OWS.m in Sources */,
 				3470C8772555883600F5847C /* CVLoadRequest.swift in Sources */,
 				88D23D2523CEC0C700B0E74B /* CallKitCallUIAdaptee.swift in Sources */,
@@ -5385,6 +5569,7 @@
 				45D308AD2049A439000189E4 /* PinEntryView.m in Sources */,
 				348815B325503BAA00D4F4C4 /* CVLoader.swift in Sources */,
 				340FC8B1204DAC8D007AEB0F /* BlockListViewController.m in Sources */,
+				34FB6A5525D2E17200E599B1 /* PaymentModelCell.swift in Sources */,
 				4C751BE523FA0284002A8AF1 /* ContactSupportAlert.swift in Sources */,
 				329E631F25D64971002ED315 /* OnboardingProfileCreationViewController.swift in Sources */,
 				348815CA255346A500D4F4C4 /* CVRenderItem.swift in Sources */,
@@ -5477,6 +5662,7 @@
 				346EAA14250199A400E8AB6F /* MemberRequestView.swift in Sources */,
 				3426A37A2563F0EA0036407F /* CVComponentBottomButtons.swift in Sources */,
 				32ECD08824BFBF8000EDDED0 /* HelpViewController.swift in Sources */,
+				3497972125DAA86100E99FA4 /* SendPaymentViewController.swift in Sources */,
 				346B66311F4E29B200E5122F /* CropScaleImageViewController.swift in Sources */,
 				45E5A6991F61E6DE001E4A8A /* MarqueeLabel.swift in Sources */,
 				3490D57D25ADDC2A00F5F96C /* GroupLinkPromotionActionSheet.swift in Sources */,
@@ -5498,6 +5684,7 @@
 				3470C8802555F25200F5847C /* CVContactShareView.swift in Sources */,
 				32B3286524C6957B00E4F974 /* ComposeSupportEmailOperation.swift in Sources */,
 				347B83F92436820C0019A52C /* GroupViewHelper.swift in Sources */,
+				34EEECF225E846ED00574F0D /* SendPaymentMemoViewController.swift in Sources */,
 				34E0127423FDA960002D0D13 /* DebugUIGroupsV2.swift in Sources */,
 				88ABB8B925349F6C00229EAA /* GroupCallVideoGridLayout.swift in Sources */,
 				88D23D2423CEC0C700B0E74B /* CallKitCallManager.swift in Sources */,
@@ -5518,6 +5705,7 @@
 				1704690A25D4C326000793D8 /* SignalAttachmentTest.swift in Sources */,
 				88D6E94325535D49003142D9 /* CVTextTest.swift in Sources */,
 				3499998222EF1E2100654932 /* GRDBFullTextSearcherTest.swift in Sources */,
+				3471211025ED5F910037CD1F /* PaymentsReconciliationTest.swift in Sources */,
 				349BC861253A2651003C949A /* GroupsV2MigrationTest.swift in Sources */,
 				3421981C21061D2E00C57195 /* ByteParserTest.swift in Sources */,
 				34843B26214327C9004DED45 /* OWSOrphanDataCleanerTest.m in Sources */,
@@ -5739,7 +5927,7 @@
 /* Begin XCBuildConfiguration section */
 		453518731FC635DD00210559 /* Debug */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 69349DE607F5BA6036C9AC60 /* Pods-SignalShareExtension.debug.xcconfig */;
+			baseConfigurationReference = 14FD26DD3B40616C54CDBF1A /* Pods-SignalShareExtension.debug.xcconfig */;
 			buildSettings = {
 				CLANG_ANALYZER_NONNULL = YES;
 				CLANG_ANALYZER_NUMBER_OBJECT_CONVERSION = YES_AGGRESSIVE;
@@ -5785,7 +5973,7 @@
 		};
 		453518751FC635DD00210559 /* App Store Release */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 435EAC2E5E22D3F087EB3192 /* Pods-SignalShareExtension.app store release.xcconfig */;
+			baseConfigurationReference = 7C5EABE2C09180BC71C4E097 /* Pods-SignalShareExtension.app store release.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
@@ -6190,7 +6378,7 @@
 		};
 		4C10B17D23176CEB0099396B /* Testable Release */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 4F673294B9C30EE43B6FB0BC /* Pods-SignalShareExtension.testable release.xcconfig */;
+			baseConfigurationReference = D4164D79E1C97918C458A743 /* Pods-SignalShareExtension.testable release.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
@@ -6698,7 +6886,7 @@
 		};
 		88238EAA24EAD2FD00F28079 /* Profiling */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 536198E33A8BF8BAF669C0CF /* Pods-SignalShareExtension.profiling.xcconfig */;
+			baseConfigurationReference = 7856A9F703AAD99E22B75A9B /* Pods-SignalShareExtension.profiling.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
@@ -6894,7 +7082,7 @@
 		};
 		88238EAD24EAD2FD00F28079 /* Profiling */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = A06D5B0F7B646A5E4EF835F4 /* Pods-NotificationServiceExtension.profiling.xcconfig */;
+			baseConfigurationReference = 4EB6D2B725EC159086894748 /* Pods-NotificationServiceExtension.profiling.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
@@ -6960,7 +7148,7 @@
 		};
 		885AC56C23AB42430077705E /* Debug */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 981DAA2DEFCE9F8757D7C71A /* Pods-NotificationServiceExtension.debug.xcconfig */;
+			baseConfigurationReference = EBA1F323BC6D9256EF83C605 /* Pods-NotificationServiceExtension.debug.xcconfig */;
 			buildSettings = {
 				CLANG_ANALYZER_NONNULL = YES;
 				CLANG_ANALYZER_NUMBER_OBJECT_CONVERSION = YES_AGGRESSIVE;
@@ -7007,7 +7195,7 @@
 		};
 		885AC56D23AB42430077705E /* App Store Release */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = DCFF39FE94636EAFEAF06C70 /* Pods-NotificationServiceExtension.app store release.xcconfig */;
+			baseConfigurationReference = 6FA8ECDCB1FC62E29D025E4B /* Pods-NotificationServiceExtension.app store release.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
@@ -7073,7 +7261,7 @@
 		};
 		885AC56E23AB42430077705E /* Testable Release */ = {
 			isa = XCBuildConfiguration;
-			baseConfigurationReference = 80A8593EDA963AA130D319BA /* Pods-NotificationServiceExtension.testable release.xcconfig */;
+			baseConfigurationReference = 7C5895EC8A421236BDBD71BD /* Pods-NotificationServiceExtension.testable release.xcconfig */;
 			buildSettings = {
 				ALWAYS_SEARCH_USER_PATHS = NO;
 				CLANG_ANALYZER_NONNULL = YES;
diff --git a/Signal/Images.xcassets/decimal-32.imageset/Contents.json b/Signal/Images.xcassets/decimal-32.imageset/Contents.json
new file mode 100644
index 00000000000..e94b6faf00b
--- /dev/null
+++ b/Signal/Images.xcassets/decimal-32.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "decimal-32.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/decimal-32.imageset/decimal-32.pdf b/Signal/Images.xcassets/decimal-32.imageset/decimal-32.pdf
new file mode 100644
index 00000000000..1b82e9f67e3
Binary files /dev/null and b/Signal/Images.xcassets/decimal-32.imageset/decimal-32.pdf differ
diff --git a/Signal/Images.xcassets/delete-32.imageset/Contents.json b/Signal/Images.xcassets/delete-32.imageset/Contents.json
new file mode 100644
index 00000000000..a9d01692b8c
--- /dev/null
+++ b/Signal/Images.xcassets/delete-32.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "delete-32.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/delete-32.imageset/delete-32.pdf b/Signal/Images.xcassets/delete-32.imageset/delete-32.pdf
new file mode 100644
index 00000000000..e3d99966c0c
Binary files /dev/null and b/Signal/Images.xcassets/delete-32.imageset/delete-32.pdf differ
diff --git a/Signal/Images.xcassets/error-20.imageset/Contents.json b/Signal/Images.xcassets/error-20.imageset/Contents.json
new file mode 100644
index 00000000000..d28dd44b442
--- /dev/null
+++ b/Signal/Images.xcassets/error-20.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "error-20.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/error-20.imageset/error-20.pdf b/Signal/Images.xcassets/error-20.imageset/error-20.pdf
new file mode 100644
index 00000000000..1598ff8726c
Binary files /dev/null and b/Signal/Images.xcassets/error-20.imageset/error-20.pdf differ
diff --git a/Signal/Images.xcassets/mobilecoin-24.imageset/Contents.json b/Signal/Images.xcassets/mobilecoin-24.imageset/Contents.json
new file mode 100644
index 00000000000..3438c65ccf9
--- /dev/null
+++ b/Signal/Images.xcassets/mobilecoin-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "mobilecoin-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/mobilecoin-24.imageset/mobilecoin-24.pdf b/Signal/Images.xcassets/mobilecoin-24.imageset/mobilecoin-24.pdf
new file mode 100644
index 00000000000..f922453daad
Binary files /dev/null and b/Signal/Images.xcassets/mobilecoin-24.imageset/mobilecoin-24.pdf differ
diff --git a/Signal/Images.xcassets/payment-cancelled-20.imageset/Contents.json b/Signal/Images.xcassets/payment-cancelled-20.imageset/Contents.json
new file mode 100644
index 00000000000..e11570e89d4
--- /dev/null
+++ b/Signal/Images.xcassets/payment-cancelled-20.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "canceled-20.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payment-cancelled-20.imageset/canceled-20.pdf b/Signal/Images.xcassets/payment-cancelled-20.imageset/canceled-20.pdf
new file mode 100644
index 00000000000..adabc7b3c86
Binary files /dev/null and b/Signal/Images.xcassets/payment-cancelled-20.imageset/canceled-20.pdf differ
diff --git a/Signal/Images.xcassets/payment-request-20.imageset/Contents.json b/Signal/Images.xcassets/payment-request-20.imageset/Contents.json
new file mode 100644
index 00000000000..a2f98001cd8
--- /dev/null
+++ b/Signal/Images.xcassets/payment-request-20.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "request-20.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payment-request-20.imageset/request-20.pdf b/Signal/Images.xcassets/payment-request-20.imageset/request-20.pdf
new file mode 100644
index 00000000000..28e1c71a7ae
Binary files /dev/null and b/Signal/Images.xcassets/payment-request-20.imageset/request-20.pdf differ
diff --git a/Signal/Images.xcassets/payments-32.imageset/Contents.json b/Signal/Images.xcassets/payments-32.imageset/Contents.json
new file mode 100644
index 00000000000..42d61bd8941
--- /dev/null
+++ b/Signal/Images.xcassets/payments-32.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "payments-32.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payments-32.imageset/payments-32.pdf b/Signal/Images.xcassets/payments-32.imageset/payments-32.pdf
new file mode 100644
index 00000000000..3ca4dc54d6b
Binary files /dev/null and b/Signal/Images.xcassets/payments-32.imageset/payments-32.pdf differ
diff --git a/Signal/Images.xcassets/payments-outline-24.imageset/Contents.json b/Signal/Images.xcassets/payments-outline-24.imageset/Contents.json
new file mode 100644
index 00000000000..1a2a8d37218
--- /dev/null
+++ b/Signal/Images.xcassets/payments-outline-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "payments-outline-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payments-outline-24.imageset/payments-outline-24.pdf b/Signal/Images.xcassets/payments-outline-24.imageset/payments-outline-24.pdf
new file mode 100644
index 00000000000..468143775ce
Binary files /dev/null and b/Signal/Images.xcassets/payments-outline-24.imageset/payments-outline-24.pdf differ
diff --git a/Signal/Images.xcassets/payments-solid-24.imageset/Contents.json b/Signal/Images.xcassets/payments-solid-24.imageset/Contents.json
new file mode 100644
index 00000000000..a426e9a3f43
--- /dev/null
+++ b/Signal/Images.xcassets/payments-solid-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "payments-solid-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payments-solid-24.imageset/payments-solid-24.pdf b/Signal/Images.xcassets/payments-solid-24.imageset/payments-solid-24.pdf
new file mode 100644
index 00000000000..6ce75bfac85
Binary files /dev/null and b/Signal/Images.xcassets/payments-solid-24.imageset/payments-solid-24.pdf differ
diff --git a/Signal/Images.xcassets/payments-toggle-24.imageset/Contents.json b/Signal/Images.xcassets/payments-toggle-24.imageset/Contents.json
new file mode 100644
index 00000000000..476e368fa50
--- /dev/null
+++ b/Signal/Images.xcassets/payments-toggle-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "payments-toggle-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/payments-toggle-24.imageset/payments-toggle-24.pdf b/Signal/Images.xcassets/payments-toggle-24.imageset/payments-toggle-24.pdf
new file mode 100644
index 00000000000..d806e1071e5
Binary files /dev/null and b/Signal/Images.xcassets/payments-toggle-24.imageset/payments-toggle-24.pdf differ
diff --git a/Signal/Images.xcassets/qr-24.imageset/Contents.json b/Signal/Images.xcassets/qr-24.imageset/Contents.json
new file mode 100644
index 00000000000..b07bc70e146
--- /dev/null
+++ b/Signal/Images.xcassets/qr-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "qr-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/qr-24.imageset/qr-24.pdf b/Signal/Images.xcassets/qr-24.imageset/qr-24.pdf
new file mode 100644
index 00000000000..b16e7c1870e
Binary files /dev/null and b/Signal/Images.xcassets/qr-24.imageset/qr-24.pdf differ
diff --git a/Signal/Images.xcassets/refresh-20.imageset/Contents.json b/Signal/Images.xcassets/refresh-20.imageset/Contents.json
new file mode 100644
index 00000000000..11f3fd12859
--- /dev/null
+++ b/Signal/Images.xcassets/refresh-20.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "refresh-20.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/refresh-20.imageset/refresh-20.pdf b/Signal/Images.xcassets/refresh-20.imageset/refresh-20.pdf
new file mode 100644
index 00000000000..a6994f05f1a
Binary files /dev/null and b/Signal/Images.xcassets/refresh-20.imageset/refresh-20.pdf differ
diff --git a/Signal/Images.xcassets/send-20.imageset/Contents.json b/Signal/Images.xcassets/send-20.imageset/Contents.json
new file mode 100644
index 00000000000..50b176dff3b
--- /dev/null
+++ b/Signal/Images.xcassets/send-20.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "send-20.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/send-20.imageset/send-20.pdf b/Signal/Images.xcassets/send-20.imageset/send-20.pdf
new file mode 100644
index 00000000000..d7bb840c91d
Binary files /dev/null and b/Signal/Images.xcassets/send-20.imageset/send-20.pdf differ
diff --git a/Signal/Images.xcassets/send-mob-24.imageset/Contents.json b/Signal/Images.xcassets/send-mob-24.imageset/Contents.json
new file mode 100644
index 00000000000..a816a8620d9
--- /dev/null
+++ b/Signal/Images.xcassets/send-mob-24.imageset/Contents.json
@@ -0,0 +1,21 @@
+{
+  "images" : [
+    {
+      "filename" : "send-mob-24.pdf",
+      "idiom" : "universal",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  }
+}
diff --git a/Signal/Images.xcassets/send-mob-24.imageset/send-mob-24.pdf b/Signal/Images.xcassets/send-mob-24.imageset/send-mob-24.pdf
new file mode 100644
index 00000000000..70017088685
Binary files /dev/null and b/Signal/Images.xcassets/send-mob-24.imageset/send-mob-24.pdf differ
diff --git a/Signal/Lottie/about-mobilecoin.json b/Signal/Lottie/about-mobilecoin.json
new file mode 100644
index 00000000000..08b65d5ce00
--- /dev/null
+++ b/Signal/Lottie/about-mobilecoin.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":0,"op":60,"w":80,"h":80,"nm":"cashing_out","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":4,"ty":4,"nm":"about-mobilecoin Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[40,40,0],"ix":2},"a":{"a":0,"k":[40,40,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-1.075],[1.075,0],[0.355,0.477],[0,0],[0,-0.667],[-6.955,0],[-1.989,4.356],[0,0],[0.66,0],[0,1.075],[-1.075,0],[-0.357,-0.452],[0,0],[0,0.997],[6.954,0],[1.758,-4.852],[0,0],[-0.64,0]],"o":[[0,1.075],[-0.64,0],[0,0],[-0.101,0.64],[0,6.955],[5.092,0],[0,0],[-0.352,0.502],[-1.075,0],[0,-1.075],[0.62,0],[0,0],[0.22,-0.933],[0,-6.955],[-5.451,0],[0,0],[0.356,-0.477],[1.075,0]],"v":[[7.23,-3.124],[5.285,-1.178],[3.721,-1.963],[-12.46,-1.963],[-12.613,0],[0,12.612],[11.479,5.222],[-3.418,5.222],[-5.012,6.052],[-6.959,4.106],[-5.012,2.16],[-3.482,2.902],[12.275,2.902],[12.613,0.001],[0,-12.612],[-11.863,-4.284],[3.721,-4.284],[5.285,-5.07]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[8.234,0],[0,8.234],[-8.235,0],[0,-8.235]],"o":[[-8.235,0],[0,-8.235],[8.234,0],[0,8.234]],"v":[[0.001,14.933],[-14.934,0.001],[0.001,-14.933],[14.934,0.001]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.301999978458,0.352999997606,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40,40],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.874,0],[0,-7.873],[7.874,0],[0,7.874]],"o":[[7.874,0],[0,7.874],[-7.874,0],[0,-7.873]],"v":[[0,-14.257],[14.256,-0.001],[0,14.257],[-14.256,-0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40.341,40.005],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-13.255,0],[0,-13.255],[13.255,0],[0,13.255]],"o":[[13.255,0],[0,13.255],[-13.255,0],[0,-13.255]],"v":[[0,-24],[24,0],[0,24],[-24,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.301999978458,0.352999997606,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40,40],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-22.091],[22.092,0],[0,22.092],[-22.091,0]],"o":[[0,22.092],[-22.091,0],[0,-22.091],[22.092,0]],"v":[[40,0],[0,40],[-40,0],[0,-40]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964999988032,0.964999988032,0.964999988032,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40,40],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/activate-payments.json b/Signal/Lottie/activate-payments.json
new file mode 100644
index 00000000000..a31f2ac66c9
--- /dev/null
+++ b/Signal/Lottie/activate-payments.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":0,"op":60,"w":194,"h":152,"nm":"main_payments_illustration","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"main_payments_illustration Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[97,76,0],"ix":2},"a":{"a":0,"k":[97,76,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[73.943,152],[70.571,152]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[82.228,152],[73.943,152]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[70.571,152],[62.459,152]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":4,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[99.457,152],[96.073,152]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":4,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.111,-0.471],[0,0],[0.314,0],[0,-0.544],[-0.543,0],[-0.178,0.253],[0,0],[2.573,0],[0,3.514],[-0.05,0.324],[0,0],[-0.323,0],[0,0.543],[0.543,0],[0.179,-0.242],[0,0],[-2.754,0],[0,-3.513]],"o":[[0,0],[-0.18,-0.228],[-0.543,0],[0,0.543],[0.334,0],[0,0],[-1.005,2.201],[-3.514,0],[0,-0.337],[0,0],[0.179,0.241],[0.543,0],[0,-0.543],[-0.323,0],[0,0],[0.888,-2.452],[3.514,0],[0,0.505]],"v":[[6.03,1.464],[-1.932,1.464],[-2.705,1.089],[-3.688,2.072],[-2.705,3.055],[-1.899,2.637],[5.628,2.637],[-0.172,6.37],[-6.545,-0.003],[-6.468,-0.994],[1.708,-0.994],[2.498,-0.598],[3.481,-1.581],[2.498,-2.563],[1.708,-2.167],[-6.166,-2.167],[-0.172,-6.374],[6.2,-0.003]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.978,0],[0,-3.979],[-3.978,0],[0,3.978]],"o":[[-3.978,0],[0,3.978],[3.978,0],[0,-3.979]],"v":[[0,-7.204],[-7.203,0.001],[0,7.204],[7.203,0.001]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.301999978458,0.352999997606,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[35.53,63.059],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":6,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.978,0],[0,3.978],[-3.978,0],[0,-3.979]],"o":[[-3.978,0],[0,-3.979],[3.978,0],[0,3.978]],"v":[[0.173,7.206],[-7.031,0.003],[0.173,-7.201],[7.376,0.003]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[4.16,0],[0,-4.16],[-4.161,0],[0,4.161]],"o":[[-4.161,0],[0,4.161],[4.16,0],[0,-4.16]],"v":[[0.001,-7.546],[-7.546,-0.001],[0.001,7.546],[7.546,-0.001]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.301999978458,0.352999997606,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[35.358,63.057],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":6,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.514,0],[0.888,-2.452],[0,0],[-0.323,0],[0,-0.543],[0.543,0],[0.18,0.242],[0,0],[0,-0.338],[-3.514,0],[-1.005,2.201],[0,0],[0.334,0],[0,0.543],[-0.543,0],[-0.18,-0.229],[0,0],[0,0.504]],"o":[[-2.754,0],[0,0],[0.18,-0.241],[0.543,0],[0,0.543],[-0.323,0],[0,0],[-0.051,0.324],[0,3.513],[2.573,0],[0,0],[-0.178,0.254],[-0.543,0],[0,-0.543],[0.314,0],[0,0],[0.111,-0.47],[0,-3.514]],"v":[[0,-6.372],[-5.994,-2.165],[1.88,-2.165],[2.67,-2.561],[3.653,-1.578],[2.67,-0.596],[1.88,-0.992],[-6.295,-0.992],[-6.373,0.001],[0,6.372],[5.8,2.639],[-1.727,2.639],[-2.533,3.059],[-3.516,2.075],[-2.533,1.092],[-1.76,1.467],[6.202,1.465],[6.373,0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[35.358,63.057],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":4,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.161,0],[0,4.16],[-4.161,0],[0,-4.161]],"o":[[-4.161,0],[0,-4.161],[4.161,0],[0,4.16]],"v":[[0,7.545],[-7.545,0],[0,-7.546],[7.545,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,6.697],[6.697,0],[0,-6.697],[-6.697,0]],"o":[[0,-6.697],[-6.697,0],[0,6.697],[6.697,0]],"v":[[12.126,0],[0,-12.126],[-12.126,0],[0,12.126]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.301999978458,0.352999997606,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[35.358,63.058],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":6,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-1.657,0.497],[0,0]],"o":[[0,0],[0,0],[0,0],[1.82,0],[0,0],[0,0]],"v":[[0,-5.871],[-9.011,3.139],[-6.28,5.871],[1.82,5.871],[7.051,5.099],[9.011,3.139]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952999997606,0.969000004787,0.980000035903,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[50.152,75.947],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":4,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[1.819,0]],"o":[[0,0],[0,0],[-1.658,0.497],[0,0]],"v":[[-6.665,-2.754],[-0.385,3.525],[6.665,-3.525],[1.435,-2.754]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952999997606,0.969000004787,0.980000035903,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[50.538,84.571],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":4,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,6.697],[-6.697,0],[0,-6.697],[6.698,0]],"o":[[0,-6.697],[6.698,0],[0,6.697],[-6.697,0]],"v":[[-12.357,-0.556],[-0.231,-12.682],[11.896,-0.556],[-0.231,11.57]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,8.235],[10.054,0],[0,0],[0,-10.054],[-10.054,0],[0,0]],"o":[[0,0],[0,0],[0,0],[7.503,-2.248],[0,-10.054],[0,0],[-10.054,0],[0,10.054],[0,0],[0,0]],"v":[[5.553,15.473],[14.563,6.463],[23.574,15.473],[21.615,17.433],[34.588,0],[16.384,-18.204],[-16.384,-18.204],[-34.588,0],[-16.384,18.204],[8.284,18.204]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952999997606,0.969000004787,0.980000035903,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[35.588,63.613],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":6,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.842,0.635],[0.634,0.842],[0,0],[0.446,-0.07],[0.437,0.521],[0.698,0.444],[0.594,0.999],[-0.829,0.129],[1.103,-0.72],[0,0]],"o":[[0.842,-0.634],[0,0],[-0.74,0.073],[2.154,2.255],[-0.345,-0.412],[-1.03,-0.657],[-0.219,-0.368],[-1.841,-1.928],[0,0],[0.634,0.842]],"v":[[4.625,5.264],[5.001,2.591],[1.167,-2.498],[-0.616,-2.298],[2.93,2.03],[1.255,0.771],[-1.541,-1.631],[-0.616,-2.298],[-5.635,-5.179],[1.952,4.889]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[64.726,114.338],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":4,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.841,-1.928],[-0.739,0.072],[0,0],[0.842,-0.634],[-0.635,-0.842],[0,0]],"o":[[0.445,-0.069],[0,0],[-0.634,-0.842],[-0.842,0.635],[0,0],[1.104,-0.72]],"v":[[6.951,9.749],[8.733,9.55],[-5.049,-8.739],[-7.722,-9.115],[-8.098,-6.441],[1.931,6.868]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[57.159,102.29],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 13","np":4,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.219,-0.368],[-1.03,-0.657],[-0.345,-0.411],[2.154,2.256]],"o":[[0.594,0.998],[0.698,0.445],[0.437,0.522],[-0.829,0.13]],"v":[[-2.344,-1.757],[0.452,0.644],[2.127,1.903],[-1.419,-2.425]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[65.53,114.464],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 14","np":4,"cix":2,"bm":0,"ix":14,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.852,5.132],[0.497,1.418],[0.028,0.08],[0.499,1.464],[0.205,-1.443],[0.34,-1.791],[1.849,-3.104],[0,0],[0,0]],"o":[[-0.501,-1.388],[-0.028,-0.079],[-0.505,-1.443],[-0.168,1.458],[-0.27,1.887],[-1.033,5.438],[0,0],[0,0],[-1.84,-4.419]],"v":[[1.631,-2.818],[0.135,-7.032],[0.051,-7.27],[-1.456,-11.628],[-2.017,-7.27],[-2.928,-1.735],[-7.191,11.628],[0.12,11.628],[7.192,11.628]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[153.739,112.216],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 15","np":4,"cix":2,"bm":0,"ix":15,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.273,1.062],[-0.246,-0.014],[10.9,15.962],[-1.458,2.63],[5.486,1.676],[3.396,-0.753],[3.929,-0.001],[0,0],[0,0],[1.872,3.019],[0.009,-0.001],[0,0],[0,0],[0.077,-0.267],[0.612,-2.25],[0.773,-3.057],[1.925,-13.195],[0.197,-5.611],[-0.044,-1.776],[-1.378,-3.481],[0,0],[-1.033,5.439],[-0.27,1.887],[-0.168,1.458],[-0.505,-1.442],[0,0],[-0.012,-0.08],[-0.501,-1.387],[-1.84,-4.419],[-1.109,-2.327],[-0.964,-1.68],[0,0],[0,0],[-0.009,1.009]],"o":[[0.248,0.003],[-0.38,-33.559],[2.554,-0.183],[5.133,-9.262],[-3.017,-0.922],[-2.778,0.617],[0,0],[0,0],[-1.501,-3.259],[-0.009,0.001],[0,0],[0,0],[0,0],[-0.203,0.696],[-0.563,2.061],[-2.387,9.431],[-0.9,6.175],[-0.067,1.91],[0.131,5.274],[0,0],[1.849,-3.105],[0.34,-1.791],[0.205,-1.442],[0.499,1.464],[0,0],[0.011,0.081],[0.497,1.418],[1.852,5.132],[1.145,2.75],[1.012,2.12],[0,0],[0,0],[0.033,-1.023],[-0.223,-0.713]],"v":[[28.024,45.268],[28.762,45.305],[4.578,-30.141],[10.897,-34.025],[8.69,-50.062],[-0.559,-49.603],[-10.417,-48.286],[-5.661,-38.993],[-6.411,-38.792],[-11.442,-48.214],[-11.469,-48.212],[-12.243,-48.167],[-16.13,-47.945],[-16.248,-47.54],[-17.513,-43.02],[-19.547,-35.271],[-26.949,0.822],[-28.691,18.723],[-28.727,24.258],[-26.567,37.622],[-2.466,37.622],[1.797,24.258],[2.708,18.723],[3.269,14.365],[4.776,18.723],[4.827,18.723],[4.86,18.96],[6.356,23.174],[11.917,37.622],[15.304,45.257],[18.273,50.984],[21.064,50.984],[28.714,50.984],[28.771,47.941]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[149.013,86.223],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 16","np":4,"cix":2,"bm":0,"ix":16,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.012,0.081],[0,0],[-0.028,-0.079]],"o":[[0,0],[0.029,0.08],[-0.012,-0.08]],"v":[[0.009,-0.119],[-0.042,-0.119],[0.042,0.119]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[153.831,105.064],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 17","np":4,"cix":2,"bm":0,"ix":17,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.223,-0.713],[0.01,0.875],[0.248,0.003]],"o":[[0.007,-0.885],[-0.246,-0.013],[0.273,1.063]],"v":[[0.37,1.337],[0.361,-1.299],[-0.377,-1.337]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[177.414,132.827],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 18","np":4,"cix":2,"bm":0,"ix":18,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0.308,-0.046],[-1.501,-3.26],[0,0],[0,0]],"o":[[0,0],[0,0],[-0.371,0],[1.873,3.019],[0,0],[0,0],[0,0]],"v":[[-1.872,-4.747],[-1.873,-4.747],[-1.876,-4.747],[-2.891,-4.675],[2.141,4.747],[2.891,4.546],[-1.866,-4.747]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[140.462,42.684],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 19","np":4,"cix":2,"bm":0,"ix":19,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.019,0.617],[0,0],[0,0],[0,0],[-0.562,2.061]],"o":[[0,0],[0,0],[0,0],[0.773,-3.057],[-0.008,-0.628]],"v":[[2.062,-4.571],[-2.094,-5.284],[-0.804,5.284],[0.06,5.051],[2.094,-2.696]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[129.406,45.9],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 20","np":4,"cix":2,"bm":0,"ix":20,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.041,7.782],[-2.386,9.431],[0,0],[0,0],[0,0],[0.825,-0.805],[3.591,-18.099],[0.047,-0.569]],"o":[[1.925,-13.194],[0,0],[0,0],[0,0],[-0.866,0.749],[-0.889,25.359],[-0.086,0.433],[7.431,-5.36]],"v":[[4.803,13.254],[12.203,-22.84],[11.339,-22.608],[10.049,-33.175],[8.704,-33.406],[6.174,-31.065],[-11.979,31.856],[-12.204,33.406]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[117.262,73.791],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 21","np":4,"cix":2,"bm":0,"ix":21,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.067,1.91],[0,0],[6.405,-2.702],[-0.363,0]],"o":[[-0.044,-1.776],[0,0],[-1.862,0.538],[0.234,0.15],[0,0]],"v":[[7.184,2.768],[7.219,-2.768],[6.122,-2.768],[-7.219,2.525],[-6.336,2.768]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[113.103,107.713],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 22","np":4,"cix":2,"bm":0,"ix":22,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.009,0.001],[0.015,0.023],[0,0],[0,0]],"o":[[-0.015,-0.023],[0,0],[0,0],[0.008,-0.001]],"v":[[0.4,0.013],[0.357,-0.059],[-0.401,0.059],[0.373,0.015]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[137.171,37.996],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 23","np":4,"cix":2,"bm":0,"ix":23,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.008,-0.628],[-0.202,0.696],[0,0],[0,0]],"o":[[0.019,0.617],[0.613,-2.25],[0,0],[0,0],[0,0]],"v":[[1.494,0.385],[1.526,2.26],[2.791,-2.26],[-2.791,-1.385],[-2.662,-0.327]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[129.974,40.944],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 24","np":4,"cix":2,"bm":0,"ix":24,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.9,6.175],[7.431,-5.36],[-0.817,-0.524],[-1.862,0.538]],"o":[[0.197,-5.611],[-4.041,7.782],[-0.101,1.212],[6.405,-2.702],[0,0]],"v":[[6.812,6.304],[8.553,-11.596],[-8.452,8.556],[-7.628,11.596],[5.715,6.304]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[113.511,98.641],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 25","np":4,"cix":2,"bm":0,"ix":25,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0.03,-0.855],[-0.866,0.749]],"o":[[0,0],[0,0],[0,0.87],[0.825,-0.804],[0,0]],"v":[[1.938,-0.525],[1.809,-1.583],[-1.89,-1.003],[-1.938,1.583],[0.592,-0.757]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[125.374,41.142],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 26","np":4,"cix":2,"bm":0,"ix":26,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[23.963,-17.187],[0,0],[0,0],[0,0],[-7.123,5.138],[-0.086,0.434],[-0.889,25.359]],"o":[[0,0],[0,0],[0,0],[10.922,-1.353],[0.047,-0.57],[3.59,-18.099],[-18.622,18.153]],"v":[[-25.649,29.83],[-24.814,30.865],[-20.293,36.471],[-19.626,37.297],[7.271,27.175],[7.496,25.624],[25.649,-37.297]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[97.788,80.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 27","np":4,"cix":2,"bm":0,"ix":27,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.017,-0.039],[1.414,-3.139],[0.141,-0.324],[0,0],[-0.352,0.41],[-2.928,-1.3],[-1.047,-0.586],[-4.428,2.84],[1.902,1.256],[0.943,1.833],[0.205,0.657],[0.033,-1.022]],"o":[[0.022,0.059],[1.33,3.138],[-0.167,0.371],[0,0],[0.388,-0.315],[1.143,-1.333],[1.13,0.502],[3.619,2.018],[0.702,-0.45],[-4.737,-3.127],[-0.15,-0.291],[-0.009,1.009],[0,0]],"v":[[-10.051,-5.874],[-9.991,-5.727],[-12.161,5.178],[-12.622,6.217],[-9.817,6.217],[-8.729,5.094],[-3.45,3.652],[-0.2,5.338],[11.171,6.372],[10.72,3.003],[-1.805,-7.458],[-2.344,-8.919],[-2.401,-5.874]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.569000004787,0.356999984442,0.234999997008,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[180.128,143.081],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 28","np":4,"cix":2,"bm":0,"ix":28,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.041,-0.095],[-0.727,0.589],[0,0]],"o":[[1.34,0.571],[0,0],[-0.044,0.1]],"v":[[-1.469,-0.135],[1.469,-0.436],[-1.337,-0.436]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.569000004787,0.356999984442,0.234999997008,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[168.843,149.734],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 29","np":4,"cix":2,"bm":0,"ix":29,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.645,-0.158],[0.024,-0.002],[0,0],[0.842,-0.634],[0.634,0.841],[0,0],[0.103,-0.163],[-3.5,0],[-2.361,2.715],[-0.844,0.902],[0,0],[0,0]],"o":[[-0.025,0.003],[0,0],[0.634,0.841],[-0.842,0.634],[0,0],[-0.134,0.088],[-1.945,3.065],[2.826,0],[0.653,-0.752],[0,0],[0,0],[-3.011,0.554]],"v":[[-1.178,-4.509],[-1.248,-4.502],[2.587,0.587],[2.21,3.26],[-0.463,2.885],[-8.049,-7.184],[-8.41,-6.817],[1.135,7.184],[7.756,2.82],[9.977,0.333],[10.355,0.151],[5.833,-5.454]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.569000004787,0.356999984442,0.234999997008,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[67.14,116.342],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 30","np":4,"cix":2,"bm":0,"ix":30,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0.131,5.273],[0,0],[0.234,0.15],[0,0],[-0.284,-3.772],[-0.283,-0.915],[-0.06,-0.158],[-2.687,-4.607],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-0.973,0.275],[-3.467,0.567],[-8.364,0],[0,0],[-0.699,2.963]],"o":[[0,0],[-1.378,-3.48],[0,0],[-0.364,0],[-17.222,7.266],[-4.165,2.068],[0.108,1.423],[0.058,0.19],[0.016,0.043],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0.837,-8.145],[0,0],[1.616,-2.145],[0,0]],"v":[[41.183,-7.275],[17.081,-7.275],[14.921,-20.638],[1.404,-20.638],[0.519,-20.881],[-43.559,-1.629],[-48.21,9.045],[-47.562,12.648],[-47.385,13.179],[-42.904,20.881],[-34.794,20.881],[-31.421,20.881],[-23.137,20.881],[-11.971,20.881],[-9.292,20.881],[-11.601,17.918],[-11.547,15.793],[-5.822,14.858],[10.26,0.362],[45.042,0.362],[48.495,-7.275]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.063000002094,0.238999998803,0.46699999641,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[105.364,131.119],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 31","np":4,"cix":2,"bm":0,"ix":31,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.492,4.636],[0,0],[0.837,-8.144],[-7.136,1.259]],"o":[[0,0],[-8.365,0],[8.992,-1.473],[8.376,-1.476]],"v":[[25.432,-7.248],[-9.35,-7.248],[-25.432,7.248],[7.839,1.697]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.063000002094,0.238999998803,0.46699999641,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[124.975,138.729],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 32","np":4,"cix":2,"bm":0,"ix":32,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.017,0.043],[0.059,0.19],[0.107,1.423],[2.149,-4.269],[0,0],[0,0]],"o":[[-0.06,-0.158],[-0.282,-0.915],[-1.933,3.506],[0,0],[0,0],[-2.687,-4.607]],"v":[[1.268,-1.784],[1.089,-2.315],[0.443,-5.918],[-5.747,5.918],[-3.232,5.918],[5.747,5.918]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.043000000598,0.165000002992,0.317999985639,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[56.712,146.082],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 33","np":4,"cix":2,"bm":0,"ix":33,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.007,-0.885],[-0.15,-0.291],[-4.737,-3.127],[0.702,-0.45],[3.619,2.018],[1.13,0.502],[1.143,-1.333],[0.388,-0.315],[0,0],[-0.554,-1.57],[0,0],[0,0],[8.488,0.491]],"o":[[0.205,0.657],[0.943,1.833],[1.902,1.256],[-4.428,2.84],[-1.047,-0.586],[-2.928,-1.3],[-0.352,0.41],[0,0],[1.76,0],[0,0],[0,0],[0,-8.611],[0.01,0.875]],"v":[[-3.871,-7.6],[-3.333,-6.14],[9.193,4.321],[9.644,7.69],[-1.727,6.656],[-4.977,4.97],[-10.257,6.413],[-11.344,7.535],[-10.516,7.535],[-6.718,10.237],[11.344,10.237],[11.344,5.885],[-3.88,-10.236]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[181.656,141.764],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 34","np":4,"cix":2,"bm":0,"ix":34,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-1.759,0],[0,0],[-0.167,0.371],[1.33,3.138],[0.023,0.059],[0,0],[1.012,2.121],[0,0],[8.376,-1.477],[8.992,-1.473],[0,-0.564]],"o":[[0,0],[0.555,-1.57],[0,0],[0.141,-0.324],[1.414,-3.139],[-0.017,-0.039],[0,0],[-0.964,-1.68],[0,0],[-3.492,4.636],[-7.135,1.259],[-0.057,0.549],[0,0]],"v":[[-36.005,10.26],[-17.943,10.26],[-14.146,7.558],[32.044,7.558],[32.505,6.52],[34.675,-4.385],[34.615,-4.533],[31.824,-4.533],[28.855,-10.26],[14.944,-10.26],[-2.648,-1.314],[-35.919,4.237],[-36.005,5.908]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.773000021542,0.811999990426,0.838999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.462,141.74],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 35","np":4,"cix":2,"bm":0,"ix":35,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-3.297,-0.31],[0,0],[0,0],[-2.852,-0.468],[0,0],[0,0],[0,0],[0,0],[1.544,4.479],[1.784,-7.593],[-0.063,-1.744]],"o":[[2.082,0.195],[0,0],[0,0],[2.851,0.468],[0,0],[0,0],[0,0],[1.942,-4.084],[-4.447,-12.907],[-0.31,1.326],[1.961,-0.711]],"v":[[-5.227,3.635],[-1.351,7.267],[0.446,6.786],[4.752,2.215],[7.406,7.491],[10.111,14.045],[11.524,13.666],[10.095,10.876],[11.318,-2.275],[-12.448,0.211],[-12.799,4.888]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[121.836,14.045],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 36","np":4,"cix":2,"bm":0,"ix":36,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.311,1.326],[-4.448,-12.908],[1.941,-4.084],[0,0],[0,0],[1.793,3.466],[0,0],[9.542,-3.725],[-5,-8.292],[-0.639,0.232]],"o":[[1.783,-7.593],[1.544,4.479],[0,0],[0,0],[-0.357,-8.733],[-1.791,-3.466],[0,0],[-9.542,3.725],[0.587,-0.157],[-0.062,-1.744]],"v":[[-10.352,0.4],[13.414,-2.086],[12.191,11.065],[13.62,13.855],[14.119,13.721],[15.74,-5.506],[10.219,-8.934],[-3.082,-12.025],[-12.533,5.684],[-10.704,5.077]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.161000001197,0.109999997008,0.122000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[119.741,13.855],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 37","np":4,"cix":2,"bm":0,"ix":37,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[-0.014,-0.024],[-0.371,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.852,0.468],[0,0],[0,0],[2.082,0.195],[1.961,-0.712],[-4.062,0.039],[-3.336,3.465],[0,0],[0,0]],"o":[[0,0],[0,0],[0.014,0.023],[0.308,-0.046],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.851,-0.468],[0,0],[0,0],[-3.297,-0.31],[0.295,8.248],[1.963,-0.019],[0,0],[0,0],[0.077,-0.266]],"v":[[9.066,10.602],[12.954,10.38],[13.712,10.262],[13.754,10.333],[14.769,10.262],[14.772,10.262],[14.773,10.262],[14.779,10.262],[9.544,0.036],[8.13,0.415],[5.425,-6.139],[2.771,-11.415],[-1.535,-6.844],[-3.331,-6.363],[-7.207,-9.995],[-14.78,-8.742],[-6.354,10.855],[2.546,5.163],[3.367,11.883],[8.948,11.008]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.569000004787,0.356999984442,0.234999997008,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[123.816,27.675],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 38","np":4,"cix":2,"bm":0,"ix":38,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/add-money.json b/Signal/Lottie/add-money.json
new file mode 100644
index 00000000000..05aac96ffd1
--- /dev/null
+++ b/Signal/Lottie/add-money.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":0,"op":60,"w":80,"h":80,"nm":"cashing_out","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Add_money Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[40,40,0],"ix":2},"a":{"a":0,"k":[40,40,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.488],[0,0],[0.487,0],[0,0],[0,0.488],[-0.487,0],[0,0]],"o":[[0,0],[0,0.488],[0,0],[-0.487,0],[0,-0.488],[0,0],[0.487,0]],"v":[[5.301,0],[5.301,0],[4.417,0.883],[-4.417,0.883],[-5.301,0],[-4.417,-0.883],[4.417,-0.883]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[52.629,22.843],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.488,0],[0,0],[0,-0.487],[0,0],[0.487,0],[0,0.488],[0,0]],"o":[[0,0],[0.487,0],[0,0],[0,0.488],[-0.488,0],[0,0],[0,-0.487]],"v":[[0.001,-5.301],[0.001,-5.301],[0.883,-4.417],[0.883,4.417],[0.001,5.301],[-0.883,4.417],[-0.883,-4.417]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[52.629,22.844],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.286,0],[0,-5.287],[5.287,0],[0,5.286]],"o":[[5.287,0],[0,5.286],[-5.286,0],[0,-5.287]],"v":[[-0.001,-9.573],[9.572,0],[-0.001,9.573],[-9.573,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[52.799,23.013],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":4,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-2.314,-1.061],[1.869,-1.729],[2.314,1.06],[-1.869,1.729]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.588000009574,0.616000007181,0.681999954523,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44.414,47.188],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":4,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-10.506,0.248],[10.061,-3.037],[10.505,-0.248],[-10.061,3.037]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.588000009574,0.616000007181,0.681999954523,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44.891,28.598],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":4,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-10.505,0.247],[10.061,-3.036],[10.505,-0.249],[-10.061,3.036]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.588000009574,0.616000007181,0.681999954523,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[29.599,49.554],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":4,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.091,0.174],[0,0],[-0.175,-1.09],[0,0],[1.091,-0.175],[0,0],[0.174,1.091],[0,0]],"o":[[0,0],[1.091,-0.174],[0,0],[0.174,1.091],[0,0],[-1.091,0.174],[0,0],[-0.174,-1.09]],"v":[[-2.27,-3.391],[1.1,-3.929],[3.391,-2.27],[3.93,1.1],[2.27,3.391],[-1.1,3.929],[-3.391,2.269],[-3.93,-1.101]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[21.779,43.117],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":4,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.182,0.348],[0,0],[-0.348,-2.181],[0,0],[2.181,-0.348],[0,0],[0.348,2.181],[0,0]],"o":[[0,0],[2.182,-0.348],[0,0],[0.349,2.182],[0,0],[-2.181,0.349],[0,0],[-0.348,-2.182]],"v":[[-20.552,-11.055],[16.086,-16.906],[20.667,-13.587],[23.87,6.473],[20.552,11.053],[-16.087,16.906],[-20.667,13.587],[-23.871,-6.473]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 2","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"fl","c":{"a":0,"k":[0.866999966491,0.889999988032,0.913999968884,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.168,39.03],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":5,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.185,0.329],[0,0],[-0.329,-2.185],[0,0],[2.185,-0.329],[0,0],[0.328,2.185],[0,0]],"o":[[0,0],[2.185,-0.329],[0,0],[0.329,2.185],[0,0],[-2.184,0.329],[0,0],[-0.329,-2.185]],"v":[[-20.452,-11.239],[16.237,-16.76],[20.788,-13.4],[23.812,6.688],[20.451,11.238],[-16.238,16.76],[-20.788,13.4],[-23.812,-6.688]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.298000021542,0.685999971278,0.313999998803,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[43.573,42.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":4,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.185,0.329],[0,0],[-0.329,-2.184],[0,0],[2.185,-0.329],[0,0],[0.329,2.185],[0,0]],"o":[[0,0],[2.185,-0.329],[0,0],[0.329,2.185],[0,0],[-2.184,0.329],[0,0],[-0.329,-2.185]],"v":[[-20.452,-11.238],[16.237,-16.76],[20.788,-13.4],[23.812,6.688],[20.451,11.238],[-16.238,16.76],[-20.789,13.4],[-23.812,-6.688]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984000052658,0.477999997606,0.195999998205,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[41.757,45.145],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":4,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-22.091],[22.092,0],[0,22.092],[-22.091,0]],"o":[[0,22.092],[-22.091,0],[0,-22.091],[22.092,0]],"v":[[40,0],[0,40],[-40,0],[0,-40]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964999988032,0.964999988032,0.964999988032,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40,40],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":4,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/cash-out.json b/Signal/Lottie/cash-out.json
new file mode 100644
index 00000000000..da7e188aa6f
--- /dev/null
+++ b/Signal/Lottie/cash-out.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":0,"op":60,"w":80,"h":80,"nm":"cashing_out","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"cashing_out Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[40,40,0],"ix":2},"a":{"a":0,"k":[40,40,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,1.308],[-1.747,0.119]],"o":[[-2.148,-0.416],[0,-1.367],[0,0]],"v":[[-0.642,-1.437],[-3.413,-3.953],[-0.642,-6.469]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,-1.962],[1.987,-0.139]],"o":[[1.747,0.416],[0,1.703],[0,0]],"v":[[0.642,0.524],[3.693,3.259],[0.642,6.072]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,2.912],[2.851,0.614],[0,0],[-0.321,-1.188],[-0.362,0],[-0.121,0.02],[0,0.396],[0.02,0.099],[2.229,0.159],[0,0],[0.361,0],[0,-0.317],[0,0],[0,-2.635],[-2.891,-0.574],[0,0],[0.361,1.506],[0.421,0],[0.08,-0.019],[0,-0.476],[-0.02,-0.08],[-2.75,-0.098],[0,0],[-0.361,0],[0,0.316]],"o":[[2.57,-0.079],[0,-2.992],[0,0],[1.445,0.138],[0.1,0.397],[0.12,0],[0.381,-0.1],[0,-0.099],[-0.502,-1.743],[0,0],[0,-0.317],[-0.381,0],[0,0],[-2.429,0.139],[0,2.437],[0,0],[-1.867,-0.178],[-0.1,-0.436],[-0.081,0],[-0.422,0.08],[0,0.079],[0.462,2.06],[0,0],[0,0.316],[0.341,0],[0,0]],"v":[[0.642,7.637],[5.5,3.239],[0.642,-1.219],[0.642,-6.469],[3.212,-4.33],[3.995,-3.775],[4.336,-3.814],[4.998,-4.547],[4.958,-4.845],[0.642,-8.015],[0.642,-8.985],[0,-9.5],[-0.642,-8.985],[-0.642,-8.015],[-5.159,-3.874],[-0.642,0.326],[-0.642,6.072],[-3.633,3.576],[-4.496,2.922],[-4.737,2.941],[-5.5,3.774],[-5.48,4.012],[-0.642,7.637],[-0.642,8.985],[0,9.5],[0.642,8.985]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.5,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[26.5,35.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-0.829],[0,0],[-0.828,0],[0,0],[0,0.828],[0,0],[0.828,0]],"o":[[-0.828,0],[0,0],[0,0.828],[0,0],[0.828,0],[0,0],[0,-0.829],[0,0]],"v":[[5.559,-0.066],[4.059,1.434],[4.059,8.434],[5.559,9.934],[5.893,9.934],[7.393,8.434],[7.393,1.434],[5.893,-0.066]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.828,0],[0,0],[0,-0.829],[0,0],[0.829,0],[0,0],[0,0.828]],"o":[[0,-0.829],[0,0],[0.829,0],[0,0],[0,0.828],[0,0],[-0.828,0],[0,0]],"v":[[-1.775,1.434],[-0.275,-0.066],[0.059,-0.066],[1.559,1.434],[1.559,8.434],[0.059,9.934],[-0.275,9.934],[-1.775,8.434]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,-0.829],[0,0],[-0.829,0],[0,0],[0,0.828],[0,0],[0.828,0]],"o":[[-0.829,0],[0,0],[0,0.828],[0,0],[0.828,0],[0,0],[0,-0.829],[0,0]],"v":[[-6.107,-0.066],[-7.607,1.434],[-7.607,8.434],[-6.107,9.934],[-5.775,9.934],[-4.275,8.434],[-4.275,1.434],[-5.775,-0.066]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[0.333,-0.206],[0,0],[-1.008,0],[0,0],[0.822,0.55]],"o":[[-0.326,-0.217],[0,0],[-0.856,0.531],[0,0],[0.989,0],[0,0]],"v":[[0.876,-9.709],[-0.206,-9.728],[-8.786,-4.417],[-8.258,-2.566],[8.264,-2.566],[8.82,-4.398]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[49.274,53.4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":6,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.377,0],[0,-9.377],[9.377,0],[0,9.376]],"o":[[9.377,0],[0,9.376],[-9.377,0],[0,-9.377]],"v":[[0.001,-16.979],[16.979,0.001],[0.001,16.979],[-16.979,0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.298000021542,0.685999971278,0.313999998803,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[49.208,53.813],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.284,0],[0,-8.284],[8.284,0],[0,8.284]],"o":[[8.284,0],[0,8.284],[-8.284,0],[0,-8.284]],"v":[[0,-15],[15,0],[0,15],[-15,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.838999968884,0.141000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[26.667,35.833],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[1.459,-2.292],[1.459,-0.208],[-2.292,-0.208],[-2.292,2.292],[-1.458,2.292],[-1.458,0.626],[2.292,0.626],[2.292,-2.292]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[42.458,18.125],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.625,-0.417],[-0.625,-0.417],[-0.625,0.417],[0.625,0.417]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[42.458,20],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.417,-0.625],[-0.417,-0.625],[-0.417,0.625],[0.417,0.625]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44.333,23.542],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-0.417,-3.125],[-0.417,-1.458],[-2.083,-1.458],[-2.083,1.042],[-0.417,1.042],[-0.417,3.125],[0.417,3.125],[0.417,0.208],[-1.25,0.208],[-1.25,-0.625],[0.417,-0.625],[0.417,-2.292],[1.25,-2.292],[1.25,-1.458],[2.083,-1.458],[2.083,-3.125]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[46,21.042],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1.25,-1.458],[-1.25,-0.626],[0.416,-0.626],[0.416,1.458],[1.25,1.458],[1.25,-1.458]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45.167,15.626],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-1.458,-1.042],[-1.458,1.042],[-0.626,1.042],[-0.626,-0.208],[0.624,-0.208],[0.624,1.042],[1.458,1.042],[1.458,-1.042]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[48.708,23.125],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":3,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[0.624,-1.667],[0.624,0.833],[-1.458,0.833],[-1.458,1.667],[1.458,1.667],[1.458,-1.667]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[48.708,19.583],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":3,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.624,0.626],[-0.626,0.626],[-0.626,-0.624],[0.624,-0.624]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.458,1.458],[1.458,1.458],[1.458,-1.458],[-1.458,-1.458]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[48.708,15.625],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":5,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.624,0.624],[-0.626,0.624],[-0.626,-0.626],[0.624,-0.626]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.458,1.458],[1.458,1.458],[1.458,-1.458],[-1.458,-1.458]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[41.625,22.708],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 13","np":5,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.624,0.626],[-0.626,0.626],[-0.626,-0.624],[0.624,-0.624]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1.458,1.458],[1.458,1.458],[1.458,-1.458],[-1.458,-1.458]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0.25,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[41.625,15.625],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 14","np":5,"cix":2,"bm":0,"ix":14,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.523,0],[0,-5.523],[5.522,0],[0,5.523]],"o":[[5.522,0],[0,5.523],[-5.523,0],[0,-5.523]],"v":[[0,-10],[10,0],[0,10],[-10,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45,19.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 15","np":2,"cix":2,"bm":0,"ix":15,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-22.091],[22.092,0],[0,22.092],[-22.091,0]],"o":[[0,22.092],[-22.091,0],[0,-22.091],[22.092,0]],"v":[[40,0],[0,40],[-40,0],[0,-40]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964999988032,0.964999988032,0.964999988032,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[40,40],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 16","np":2,"cix":2,"bm":0,"ix":16,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/paymentSpinner.json b/Signal/Lottie/paymentSpinner.json
new file mode 100644
index 00000000000..b4a10672329
--- /dev/null
+++ b/Signal/Lottie/paymentSpinner.json
@@ -0,0 +1 @@
+{"v":"5.5.2","fr":60,"ip":1,"op":324,"w":100,"h":100,"nm":"Progress indicator - Indeterminate - Circular","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"4","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":243,"s":[787.1]},{"t":323,"s":[804.2]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.23137255013,0.23137255013,0.23137255013,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":7.5,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":283,"s":[0]},{"t":323,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":243,"s":[5.5]},{"t":283,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":243,"op":324,"st":243,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"3","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[519]},{"t":242,"s":[536]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.23137255013,0.23137255013,0.23137255013,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":7.5,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":202,"s":[0]},{"t":242,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":162,"s":[5.5]},{"t":202,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":162,"op":243,"st":162,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"2","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":81,"s":[249]},{"t":162,"s":[268]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.23137255013,0.23137255013,0.23137255013,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":7.5,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":121,"s":[0]},{"t":161,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":81,"s":[5.5]},{"t":121,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":81,"op":162,"st":81,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"1","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[-26]},{"t":81,"s":[0]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.23137255013,0.23137255013,0.23137255013,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":7.5,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":40,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":80,"s":[69]},{"t":81,"s":[69]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":0,"s":[5.5]},{"t":40,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Rotator","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":323,"s":[1444]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":324,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner.json b/Signal/Lottie/payments_spinner.json
new file mode 100644
index 00000000000..d4f47b9f725
--- /dev/null
+++ b/Signal/Lottie/payments_spinner.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":324,"w":48,"h":48,"nm":"Progress indicator - Indeterminate - Circular","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"4","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":243,"s":[787.1]},{"t":323,"s":[804.2]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.172549024224,0.419607847929,0.929411768913,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":283,"s":[0]},{"t":323,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":243,"s":[5.5]},{"t":283,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":243,"op":324,"st":243,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"3","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[519]},{"t":242,"s":[536]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.172549024224,0.419607847929,0.929411768913,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[104,104],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":202,"s":[0]},{"t":242,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":162,"s":[5.5]},{"t":202,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":162,"op":243,"st":162,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"2","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":81,"s":[249]},{"t":162,"s":[268]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.172549024224,0.419607847929,0.929411768913,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":121,"s":[0]},{"t":161,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":81,"s":[5.5]},{"t":121,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":81,"op":162,"st":81,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"1","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[-26]},{"t":81,"s":[0]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.172549024224,0.419607847929,0.929411768913,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":40,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":80,"s":[69]},{"t":81,"s":[69]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":0,"s":[5.5]},{"t":40,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Rotator","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":323,"s":[1444]}],"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[48,48,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":324,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner_dark.json b/Signal/Lottie/payments_spinner_dark.json
new file mode 100644
index 00000000000..1d28a6e56cf
--- /dev/null
+++ b/Signal/Lottie/payments_spinner_dark.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":324,"w":48,"h":48,"nm":"Progress indicator - Indeterminate - Circular","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"4","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":243,"s":[787.1]},{"t":323,"s":[804.2]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":283,"s":[0]},{"t":323,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":243,"s":[5.5]},{"t":283,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":243,"op":324,"st":243,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"3","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":162,"s":[519]},{"t":242,"s":[536]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[104,104],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":202,"s":[0]},{"t":242,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":162,"s":[5.5]},{"t":202,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":162,"op":243,"st":162,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"2","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":81,"s":[249]},{"t":162,"s":[268]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":121,"s":[0]},{"t":161,"s":[69.5]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":81,"s":[5.5]},{"t":121,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":81,"op":162,"st":81,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"1","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[-26]},{"t":81,"s":[0]}],"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[104,104,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":40,"s":[0]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":80,"s":[69]},{"t":81,"s":[69]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.4],"y":[0]},"t":0,"s":[5.5]},{"t":40,"s":[75]}],"ix":2},"o":{"a":0,"k":1,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Rotator","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":323,"s":[1444]}],"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[48,48,100],"ix":6}},"ao":0,"shapes":[],"ip":0,"op":324,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner_fail.json b/Signal/Lottie/payments_spinner_fail.json
new file mode 100644
index 00000000000..40979074711
--- /dev/null
+++ b/Signal/Lottie/payments_spinner_fail.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":120,"w":48,"h":48,"nm":"payment_spinner_success","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[52,52,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.956862747669,0.262745112181,0.211764708161,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.839],"y":[-0.029]},"t":31,"s":[0]},{"t":68,"s":[100]}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":122,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Mark","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24.066,23.558,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[48,48,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.641,0],[-1.003,-0.98],[0,-1.527],[1.026,-0.98],[1.664,0],[1.025,0.98],[0,1.504],[-1.003,0.98]],"o":[[1.664,0],[1.026,0.98],[0,1.504],[-1.003,0.98],[-1.641,0],[-1.003,-0.98],[0,-1.504],[1.025,-1.003]],"v":[[-0.017,14.732],[3.982,16.202],[5.52,19.962],[3.982,23.687],[-0.017,25.158],[-4.016,23.687],[-5.52,19.962],[-4.016,16.236]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[4.085,9.331],[-4.119,9.331],[-5.281,-25.158],[5.247,-25.158]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.956862747669,0.262745112181,0.211764708161,1],"ix":4},"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":79,"s":[0]},{"t":98,"s":[100]}],"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner_info.json b/Signal/Lottie/payments_spinner_info.json
new file mode 100644
index 00000000000..eb702c2b1bd
--- /dev/null
+++ b/Signal/Lottie/payments_spinner_info.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":120,"w":48,"h":48,"nm":"payment_spinner_success","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":6,"ty":4,"nm":"3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[52,52,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.172549024224,0.419607847929,0.929411768913,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.839],"y":[-0.029]},"t":31,"s":[0]},{"t":68,"s":[100]}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":122,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"info Outlines","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":79,"s":[0]},{"t":98,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[24,24,0],"ix":1},"s":{"a":0,"k":[90,90,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[2,-8],[2,5],[6,5],[6,8],[-6,8],[-6,5],[-1,5],[-1,-5],[-5,-5],[-5,-8]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[24,28.501],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.562,-0.562],[0.795,0],[0.365,0.152],[0.274,0.284],[0.144,0.473],[-0.097,0.484],[-0.313,0.381],[-0.456,0.189],[-0.491,-0.049],[-0.41,-0.275],[-0.232,-0.436],[0,-0.494]],"o":[[-0.562,0.562],[-0.395,0.007],[-0.365,-0.152],[-0.349,-0.349],[-0.143,-0.472],[0.096,-0.484],[0.313,-0.381],[0.456,-0.188],[0.491,0.048],[0.41,0.274],[0.233,0.435],[0,0.795]],"v":[[2.141,2.136],[0.02,3.015],[-1.133,2.796],[-2.1,2.135],[-2.852,0.884],[-2.923,-0.572],[-2.299,-1.891],[-1.128,-2.76],[0.314,-2.973],[1.688,-2.481],[2.665,-1.4],[3.02,0.015]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.172999991623,0.419999994016,0.929000016755,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.981,14.487],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner_info_dark.json b/Signal/Lottie/payments_spinner_info_dark.json
new file mode 100644
index 00000000000..977b50a48e0
--- /dev/null
+++ b/Signal/Lottie/payments_spinner_info_dark.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":120,"w":48,"h":48,"nm":"payment_spinner_success","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":6,"ty":4,"nm":"3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[52,52,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.839],"y":[-0.029]},"t":31,"s":[0]},{"t":68,"s":[100]}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":122,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"info Outlines","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":79,"s":[0]},{"t":98,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[24,24,0],"ix":1},"s":{"a":0,"k":[90,90,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[2,-8],[2,5],[6,5],[6,8],[-6,8],[-6,5],[-1,5],[-1,-5],[-5,-5],[-5,-8]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[24,28.501],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.562,-0.562],[0.795,0],[0.365,0.152],[0.274,0.284],[0.144,0.473],[-0.097,0.484],[-0.313,0.381],[-0.456,0.189],[-0.491,-0.049],[-0.41,-0.275],[-0.232,-0.436],[0,-0.494]],"o":[[-0.562,0.562],[-0.395,0.007],[-0.365,-0.152],[-0.349,-0.349],[-0.143,-0.472],[0.096,-0.484],[0.313,-0.381],[0.456,-0.188],[0.491,0.048],[0.41,0.274],[0.233,0.435],[0,0.795]],"v":[[2.141,2.136],[0.02,3.015],[-1.133,2.796],[-2.1,2.135],[-2.852,0.884],[-2.923,-0.572],[-2.299,-1.891],[-1.128,-2.76],[0.314,-2.973],[1.688,-2.481],[2.665,-1.4],[3.02,0.015]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.380392163992,0.568627476692,0.952941179276,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.981,14.487],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/Lottie/payments_spinner_success.json b/Signal/Lottie/payments_spinner_success.json
new file mode 100644
index 00000000000..5444473e049
--- /dev/null
+++ b/Signal/Lottie/payments_spinner_success.json
@@ -0,0 +1 @@
+{"v":"5.7.1","fr":60,"ip":1,"op":120,"w":48,"h":48,"nm":"payment_spinner_success","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"check Outlines","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":-1,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":79,"s":[0]},{"t":81,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24.24,24.48,0],"ix":2},"a":{"a":0,"k":[50,50,0],"ix":1},"s":{"a":0,"k":[42.88,42.88,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-19.278,2.378],[-7.103,14.354],[19.278,-14.354]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.298039227724,0.686274528503,0.313725501299,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":7,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[49.136,49.354],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":88,"s":[0]},{"t":94,"s":[100]}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":122,"st":-1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[24,24,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[52,52,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[82,82],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.298039227724,0.686274528503,0.313725501299,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.839],"y":[-0.029]},"t":31,"s":[0]},{"t":68,"s":[100]}],"ix":1},"e":{"a":0,"k":0,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":122,"st":0,"bm":0}],"markers":[]}
\ No newline at end of file
diff --git a/Signal/src/Experience Upgrades/ExperienceUpgradeManager.swift b/Signal/src/Experience Upgrades/ExperienceUpgradeManager.swift
index 345bcab5e94..d8179973b63 100644
--- a/Signal/src/Experience Upgrades/ExperienceUpgradeManager.swift	
+++ b/Signal/src/Experience Upgrades/ExperienceUpgradeManager.swift	
@@ -200,13 +200,6 @@ protocol ExperienceUpgradeView: class, Dependencies {
 
 extension ExperienceUpgradeView {
 
-    func presentToast(text: String, fromViewController: UIViewController) {
-        let toastController = ToastController(text: text)
-
-        let bottomInset = fromViewController.bottomLayoutGuide.length + 8
-        toastController.presentToastView(fromBottomOfView: fromViewController.view, inset: bottomInset)
-    }
-
     /// - Parameter transaction: An optional transaction to write the completion in.
     /// If nil is provided for `transaction` then the write will be performed under a synchronous write transaction
     func markAsSnoozed(transaction: SDSAnyWriteTransaction? = nil) {
diff --git a/Signal/src/Experience Upgrades/Upgrade Views/IntroducingPINs.swift b/Signal/src/Experience Upgrades/Upgrade Views/IntroducingPINs.swift
index bca764e8fc4..6056c1e2fb7 100644
--- a/Signal/src/Experience Upgrades/Upgrade Views/IntroducingPINs.swift	
+++ b/Signal/src/Experience Upgrades/Upgrade Views/IntroducingPINs.swift	
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 import Foundation
@@ -230,15 +230,13 @@ class IntroducingPinsSplash: SplashViewController {
 
     override func dismiss(animated flag: Bool, completion: (() -> Void)? = nil) {
         guard let fromViewController = presentingViewController else {
-            return //owsFailDebug("Trying to dismiss while not presented.")
+            return // owsFailDebug("Trying to dismiss while not presented.")
         }
 
+        let toastText = self.toastText
         super.dismiss(animated: flag) { [weak self] in
             if let self = self, !self.isDismissWithoutCompleting {
-                self.presentToast(
-                    text: self.toastText,
-                    fromViewController: fromViewController
-                )
+                fromViewController.presentToast(text: toastText)
             }
             completion?()
         }
diff --git a/Signal/src/Models/MessageActions.swift b/Signal/src/Models/MessageActions.swift
index 2116b65eced..4cb6eb07091 100644
--- a/Signal/src/Models/MessageActions.swift
+++ b/Signal/src/Models/MessageActions.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 import Foundation
diff --git a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.swift b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.swift
index 60126b5ad20..3fad1c4cf46 100644
--- a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.swift
@@ -77,6 +77,18 @@ class AppSettingsViewController: OWSTableViewController2 {
                 self?.navigationController?.pushViewController(vc, animated: true)
             }
         ))
+        if payments.shouldShowPaymentsUI {
+            section1.add(.disclosureItem(
+                icon: .settingsPayments,
+                name: NSLocalizedString("SETTINGS_PAYMENTS_TITLE",
+                                         comment: "Label for the 'payments' section of the app settings."),
+                accessibilityIdentifier: UIView.accessibilityIdentifier(in: self, name: "payments"),
+                actionBlock: { [weak self] in
+                    let vc = PaymentsSettingsViewController(mode: .inAppSettings)
+                    self?.navigationController?.pushViewController(vc, animated: true)
+                }
+            ))
+        }
         contents.addSection(section1)
 
         let section2 = OWSTableSection()
@@ -130,7 +142,7 @@ class AppSettingsViewController: OWSTableViewController2 {
         let section3 = OWSTableSection()
         section3.add(.disclosureItem(
             icon: .settingsHelp,
-            name: NSLocalizedString("SETTINGS_HELP", comment: "Title for support page in app settings."),
+            name: CommonStrings.help,
             accessibilityIdentifier: UIView.accessibilityIdentifier(in: self, name: "help"),
             actionBlock: { [weak self] in
                 let vc = HelpViewController()
diff --git a/Signal/src/ViewControllers/AppSettings/HelpViewController.swift b/Signal/src/ViewControllers/AppSettings/HelpViewController.swift
index e8b70564235..7d4fe56496c 100644
--- a/Signal/src/ViewControllers/AppSettings/HelpViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/HelpViewController.swift
@@ -14,8 +14,7 @@ final class HelpViewController: OWSTableViewController2 {
     }
 
     private func updateTableContents() {
-        let helpTitle = NSLocalizedString("SETTINGS_HELP",
-                                          comment: "Title for support page in app settings.")
+        let helpTitle = CommonStrings.help
         let supportCenterLabel = NSLocalizedString("HELP_SUPPORT_CENTER",
                                                    comment: "Help item that takes the user to the Signal support website")
         let contactLabel = NSLocalizedString("HELP_CONTACT_US",
diff --git a/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift b/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
index a3d7035f468..4b177f4a727 100644
--- a/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Internal/InternalSettingsViewController.swift
@@ -136,6 +136,9 @@ class InternalSettingsViewController: OWSTableViewController2 {
         infoSection.add(.label(withText: "Audio Category: \(AVAudioSession.sharedInstance().category.rawValue.replacingOccurrences(of: "AVAudioSessionCategory", with: ""))"))
         infoSection.add(.label(withText: "Local Profile Key: \(profileManager.localProfileKey().keyData.hexadecimalString)"))
 
+        infoSection.add(.label(withText: "Payments EnabledKey: \(payments.arePaymentsEnabled ? "Yes" : "No")"))
+        infoSection.add(.label(withText: "MobileCoin Root Entropy: \(payments.mcRootEntropy?.hexadecimalString ?? "None")"))
+
         contents.addSection(infoSection)
 
         if DebugFlags.groupsV2memberStatusIndicators, let localAddress = tsAccountManager.localAddress {
diff --git a/Signal/src/ViewControllers/AppSettings/Internal/TestingViewController.swift b/Signal/src/ViewControllers/AppSettings/Internal/TestingViewController.swift
index 27a7bcb8353..ec0ee3d723a 100644
--- a/Signal/src/ViewControllers/AppSettings/Internal/TestingViewController.swift
+++ b/Signal/src/ViewControllers/AppSettings/Internal/TestingViewController.swift
@@ -40,130 +40,19 @@ class TestingViewController: OWSTableViewController2 {
                                 selector: testableFlag.switchSelector)
         }
 
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("The app will not send 'group update' messages for v2 groups. " +
-            "Other group members will only learn of group changes from normal group messages.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Don't Send Updates"),
-                                        testableFlag: DebugFlags.groupsV2dontSendUpdates))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Members added to a v2 group will always be invited instead of added.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Always Invite"),
-                                        testableFlag: DebugFlags.groupsV2forceInvites))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will only emit corrupt invites to v2 groups.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Corrupt Invites"),
-                                        testableFlag: DebugFlags.groupsV2corruptInvites))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will not try to create v2 groups.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Only create v1 groups"),
-                                        testableFlag: DebugFlags.groupsV2onlyCreateV1Groups))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will update group state with corrupt blobs.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Corrupt blobs"),
-                                        testableFlag: DebugFlags.groupsV2corruptBlobEncryption))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will update group state with corrupt avatar URL paths.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Corrupt avatar URL paths"),
-                                        testableFlag: DebugFlags.groupsV2corruptAvatarUrlPaths))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will store but not process incoming messages.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Disable message processing"),
-                                        testableFlag: DebugFlags.disableMessageProcessing))
-            contents.addSection(section)
+        var testableFlags = FeatureFlags.allTestableFlags + DebugFlags.allTestableFlags
+        testableFlags.sort { (lhs, rhs) -> Bool in
+            lhs.title < rhs.title
         }
 
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will not send contact or group info to linked devices.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Don't send contact or group sync messages"),
-                                        testableFlag: DebugFlags.dontSendContactOrGroupSyncMessages))
-            contents.addSection(section)
-        }
-
-        do {
+        for testableFlag in testableFlags {
             let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will update profiles aggressively.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Aggressive profile fetching"),
-                                        testableFlag: DebugFlags.aggressiveProfileFetching))
+            section.footerTitle = testableFlag.details
+            section.add(buildSwitchItem(title: testableFlag.title, testableFlag: testableFlag))
             contents.addSection(section)
         }
 
-        // MARK: - Group Migrations
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will try to auto-migrate legacy groups." +
-            "\n\n" + "Do not use this on any device that communicates with devices that might not support migrations.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Force enable auto-migrations"),
-                                        testableFlag: DebugFlags.groupsV2migrationsForceEnableAutoMigrations))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Client will allow users to do manual migrations." +
-                                                            "\n\n" + "Do not use this on any device that communicates with devices that might not support migrations.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Force enable manual migrations"),
-                                        testableFlag: DebugFlags.groupsV2migrationsForceEnableManualMigrations))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Users will not be able to use v1 groups until they are migrated.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Force Blocking Migrations"),
-                                        testableFlag: DebugFlags.groupsV2MigrationForceBlockingMigrations))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Group migrations will drop other members.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Migrations drop others"),
-                                        testableFlag: DebugFlags.groupsV2migrationsDropOtherMembers))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Group migrations will invite other members.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Migrations invite others"),
-                                        testableFlag: DebugFlags.groupsV2migrationsInviteOtherMembers))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("The app will pretend not to support group migrations.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Groups v2: Disable Migration Capability"),
-                                        testableFlag: DebugFlags.groupsV2migrationsDisableMigrationCapability))
-            contents.addSection(section)
-        }
+        // MARK: - Other
 
         do {
             let section = OWSTableSection()
@@ -174,32 +63,6 @@ class TestingViewController: OWSTableViewController2 {
             contents.addSection(section)
         }
 
-        // MARK: - Other
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("All attachment downloads will fail.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Force attachment download failures."),
-                                        testableFlag: DebugFlags.forceAttachmentDownloadFailures))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Attachment downloads will be blocked by pending message request.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Attachment download vs. message request."),
-                                        testableFlag: DebugFlags.forceAttachmentDownloadPendingMessageRequest))
-            contents.addSection(section)
-        }
-
-        do {
-            let section = OWSTableSection()
-            section.footerTitle = LocalizationNotNeeded("Attachment downloads will be blocked by manual download.")
-            section.add(buildSwitchItem(title: LocalizationNotNeeded("Attachment download vs. manual download."),
-                                        testableFlag: DebugFlags.forceAttachmentDownloadPendingManualDownload))
-            contents.addSection(section)
-        }
-
         self.contents = contents
     }
 }
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentModelCell.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentModelCell.swift
new file mode 100644
index 00000000000..49b7d53925f
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentModelCell.swift
@@ -0,0 +1,140 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+public class PaymentModelCell: UITableViewCell {
+    static let reuseIdentifier = "PaymentModelCell"
+
+    let contactAvatarView = AvatarImageView()
+
+    let nameLabel = UILabel()
+    let statusLabel = UILabel()
+    let amountLabel = UILabel()
+    let hStack = UIStackView()
+    let vStack = UIStackView()
+
+    override init(style: UITableViewCell.CellStyle, reuseIdentifier: String?) {
+        super.init(style: style, reuseIdentifier: reuseIdentifier)
+
+        OWSTableItem.configureCell(self)
+        backgroundColor = .clear
+        selectionStyle = .none
+
+        contactAvatarView.autoSetDimensions(to: CGSize(square: CGFloat(Self.avatarDiameter)))
+        contactAvatarView.setCompressionResistanceHigh()
+        contactAvatarView.setContentHuggingHigh()
+
+        amountLabel.setCompressionResistanceHigh()
+        amountLabel.setContentHuggingHigh()
+
+        vStack.addArrangedSubview(nameLabel)
+        vStack.addArrangedSubview(statusLabel)
+        vStack.axis = .vertical
+        vStack.alignment = .fill
+        vStack.setContentHuggingHorizontalLow()
+
+        hStack.axis = .horizontal
+        hStack.alignment = .center
+        hStack.distribution = .fill
+        hStack.spacing = Self.hStackSpacing
+        hStack.isLayoutMarginsRelativeArrangement = true
+        hStack.layoutMargins = UIEdgeInsets(top: 0, leading: 0, bottom: 0, trailing: 0)
+        contentView.addSubview(hStack)
+        hStack.autoPinEdgesToSuperviewMargins()
+    }
+
+    required init?(coder aDecoder: NSCoder) {
+        fatalError("init(coder:) has not been implemented")
+    }
+
+    private static var avatarDiameter: UInt = 36
+
+    private static var hStackSpacing: CGFloat = 12
+
+    public static var separatorInsetLeading: CGFloat {
+        CGFloat(avatarDiameter) + hStackSpacing
+    }
+
+    func configure(paymentItem: PaymentsHistoryItem) {
+
+        let paymentModel = paymentItem.paymentModel
+
+        var arrangedSubviews = [UIView]()
+
+        nameLabel.font = .ows_dynamicTypeBodyClamped
+        nameLabel.textColor = Theme.primaryTextColor
+
+        statusLabel.font = .ows_dynamicTypeSubheadlineClamped
+        statusLabel.textColor = Theme.ternaryTextColor
+
+        amountLabel.font = .ows_dynamicTypeBodyClamped
+        amountLabel.textColor = (paymentItem.isIncoming
+                                    ? UIColor.ows_accentGreen
+                                    : Theme.primaryTextColor)
+
+        // PAYMENTS TODO: We probably don't want to render the "sender" and
+        // "amount" for incoming transactions until they are verified.
+
+        var avatarView: UIView
+        if let address = paymentItem.address {
+            let avatarBuilder = OWSContactAvatarBuilder(
+                address: address,
+                colorName: paymentItem.conversationColorName,
+                diameter: Self.avatarDiameter
+            )
+            contactAvatarView.image = avatarBuilder.build()
+            contactAvatarView.removeAllSubviews()
+            avatarView = contactAvatarView
+        } else {
+            owsAssertDebug(paymentItem.isUnidentified || paymentItem.isOutgoingTransfer)
+
+            avatarView = PaymentsViewUtils.buildUnidentifiedTransactionAvatar(avatarSize: Self.avatarDiameter)
+        }
+        if paymentModel.isUnread {
+            let avatarWrapper = UIView.container()
+            avatarWrapper.addSubview(avatarView)
+            avatarView.autoPinEdgesToSuperviewEdges()
+            avatarView = avatarWrapper
+            PaymentsViewUtils.addUnreadBadge(toView: avatarView)
+        }
+        arrangedSubviews.append(avatarView)
+
+        nameLabel.text = paymentItem.displayName
+
+        if let paymentAmount = paymentModel.paymentAmount {
+            var totalAmount = paymentAmount
+            if let feeAmount = paymentModel.mobileCoin?.feeAmount {
+                totalAmount = totalAmount.plus(feeAmount)
+            }
+            amountLabel.text = PaymentsImpl.format(paymentAmount: totalAmount,
+                                                   withCurrencyCode: true,
+                                                   withSpace: false,
+                                                   withPaymentType: paymentModel.paymentType)
+        } else {
+            amountLabel.text = ""
+        }
+
+        arrangedSubviews.append(vStack)
+        arrangedSubviews.append(amountLabel)
+        hStack.removeAllSubviews()
+        for subview in arrangedSubviews {
+            hStack.addArrangedSubview(subview)
+        }
+
+        statusLabel.text = paymentModel.statusDescription(isLongForm: false)
+
+        accessoryType = .disclosureIndicator
+    }
+
+    @objc
+    public override func prepareForReuse() {
+        super.prepareForReuse()
+
+        contactAvatarView.image = nil
+        nameLabel.text = nil
+        statusLabel.text = nil
+        amountLabel.text = nil
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsCurrencyViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsCurrencyViewController.swift
new file mode 100644
index 00000000000..dbcf037863d
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsCurrencyViewController.swift
@@ -0,0 +1,221 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+class PaymentsCurrencyViewController: OWSTableViewController2 {
+
+    private let searchBar = OWSSearchBar()
+
+    fileprivate var searchText: String? {
+        searchBar.text?.ows_stripped()
+    }
+
+    public override required init() {
+        super.init()
+
+        topHeader = OWSTableViewController2.buildTopHeader(forView: searchBar)
+    }
+
+    @objc
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_SET_CURRENCY",
+                                  comment: "Title for the 'set currency' view in the app settings.")
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .cancel, target: self, action: #selector(didTapCancel))
+
+        searchBar.placeholder = CommonStrings.searchBarPlaceholder
+        searchBar.delegate = self
+
+        updateTableContents()
+
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(paymentConversionRatesDidChange),
+            name: PaymentsCurrenciesImpl.paymentConversionRatesDidChange,
+            object: nil
+        )
+    }
+
+    override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        paymentsCurrencies.updateConversationRatesIfStale()
+    }
+
+    private func updateTableContents() {
+        if let searchText = searchText,
+           !searchText.isEmpty {
+            updateTableContentsForSearch(searchText: searchText)
+        } else {
+            updateTableContentsDefault()
+        }
+    }
+
+    private func updateTableContentsDefault() {
+        let contents = OWSTableContents()
+
+        let currentCurrencyCode = paymentsCurrencies.currentCurrencyCode
+        let preferredCurrencyInfos = paymentsCurrencies.preferredCurrencyInfos
+        let supportedCurrencyInfos = paymentsCurrencies.supportedCurrencyInfosWithCurrencyConversions
+
+        let preferredSection = OWSTableSection()
+        preferredSection.customHeaderHeight = 12
+        preferredSection.separatorInsetLeading = NSNumber(value: Double(OWSTableViewController2.cellHInnerMargin))
+        for currencyInfo in preferredCurrencyInfos {
+            preferredSection.add(buildTableItem(forCurrencyInfo: currencyInfo,
+                                                currentCurrencyCode: currentCurrencyCode))
+        }
+        contents.addSection(preferredSection)
+
+        // PAYMENTS TODO: Re-test this when currency conversion endpoint is working.
+        let supportedSection = OWSTableSection()
+        supportedSection.separatorInsetLeading = NSNumber(value: Double(OWSTableViewController2.cellHInnerMargin))
+        supportedSection.headerTitle = NSLocalizedString("SETTINGS_PAYMENTS_CURRENCY_VIEW_SECTION_ALL_CURRENCIES",
+                                                         comment: "Label for 'all currencies' section in the payment currency settings.")
+        if supportedCurrencyInfos.isEmpty {
+            supportedSection.add(OWSTableItem(customCellBlock: {
+                let cell = OWSTableItem.newCell()
+
+                // TODO: Design.
+                let activityIndicator = UIActivityIndicatorView(style: .gray)
+                activityIndicator.startAnimating()
+                activityIndicator.autoSetDimensions(to: .square(48))
+
+                cell.contentView.addSubview(activityIndicator)
+                activityIndicator.autoHCenterInSuperview()
+                activityIndicator.autoPinEdge(toSuperviewMargin: .top, withInset: 16)
+                activityIndicator.autoPinEdge(toSuperviewMargin: .bottom, withInset: 16)
+
+                return cell
+            },
+            actionBlock: nil))
+        } else {
+            for currencyInfo in supportedCurrencyInfos {
+                supportedSection.add(buildTableItem(forCurrencyInfo: currencyInfo,
+                                                    currentCurrencyCode: currentCurrencyCode))
+            }
+        }
+        contents.addSection(supportedSection)
+
+        self.contents = contents
+    }
+
+    private func updateTableContentsForSearch(searchText: String) {
+
+        let searchText = searchText.lowercased()
+
+        let contents = OWSTableContents()
+
+        let currentCurrencyCode = paymentsCurrencies.currentCurrencyCode
+        let preferredCurrencyInfos = paymentsCurrencies.preferredCurrencyInfos
+        let supportedCurrencyInfos = paymentsCurrencies.supportedCurrencyInfosWithCurrencyConversions
+
+        let currencyInfosToSearch = supportedCurrencyInfos.isEmpty ? preferredCurrencyInfos : supportedCurrencyInfos
+        let matchingCurrencyInfos = currencyInfosToSearch.filter { currencyInfo in
+            // We do the simplest possible matching.
+            // No terms, no sorting by match quality, etc.
+            (currencyInfo.name.lowercased().contains(searchText) ||
+                currencyInfo.currencyCode.lowercased().contains(searchText))
+        }
+
+        let resultsSection = OWSTableSection()
+        resultsSection.customHeaderHeight = 12
+        if matchingCurrencyInfos.isEmpty {
+            for currencyInfo in matchingCurrencyInfos {
+                resultsSection.add(buildTableItem(forCurrencyInfo: currencyInfo,
+                                                  currentCurrencyCode: currentCurrencyCode))
+            }
+        } else {
+            for currencyInfo in matchingCurrencyInfos {
+                resultsSection.add(buildTableItem(forCurrencyInfo: currencyInfo,
+                                                  currentCurrencyCode: currentCurrencyCode))
+            }
+        }
+        contents.addSection(resultsSection)
+
+        self.contents = contents
+    }
+
+    private func buildTableItem(forCurrencyInfo currencyInfo: CurrencyInfo,
+                                currentCurrencyCode: PaymentsCurrencies.CurrencyCode) -> OWSTableItem {
+
+        let currencyCode = currencyInfo.currencyCode
+
+        return OWSTableItem(customCellBlock: {
+            let cell = OWSTableItem.newCell()
+
+            let nameLabel = UILabel()
+            nameLabel.text = currencyInfo.name
+            nameLabel.font = UIFont.ows_dynamicTypeBodyClamped
+            nameLabel.textColor = Theme.primaryTextColor
+
+            let currencyCodeLabel = UILabel()
+            currencyCodeLabel.text = currencyCode.uppercased()
+            currencyCodeLabel.font = UIFont.ows_dynamicTypeFootnoteClamped
+            currencyCodeLabel.textColor = Theme.secondaryTextAndIconColor
+
+            let stackView = UIStackView(arrangedSubviews: [ nameLabel, currencyCodeLabel ])
+            stackView.axis = .vertical
+            stackView.alignment = .fill
+            cell.contentView.addSubview(stackView)
+            stackView.autoPinEdgesToSuperviewMargins()
+
+            cell.accessibilityIdentifier = "currency.\(currencyCode)"
+            cell.accessibilityLabel = currencyInfo.name
+            cell.isAccessibilityElement = true
+
+            if currencyCode == currentCurrencyCode {
+                cell.accessoryType = .checkmark
+            } else {
+                cell.accessoryType = .none
+            }
+
+            return cell
+        },
+        actionBlock: { [weak self] in
+            self?.didSelectCurrency(currencyCode)
+        })
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapCancel() {
+        navigationController?.popViewController(animated: true)
+    }
+
+    private func didSelectCurrency(_ currencyCode: PaymentsCurrencies.CurrencyCode) {
+        Self.databaseStorage.write { transaction in
+            Self.paymentsCurrencies.setCurrentCurrencyCode(currencyCode, transaction: transaction)
+        }
+        navigationController?.popViewController(animated: true)
+    }
+
+    @objc
+    func paymentConversionRatesDidChange() {
+        AssertIsOnMainThread()
+
+        updateTableContents()
+    }
+}
+
+// MARK: -
+
+extension PaymentsCurrencyViewController: UISearchBarDelegate {
+    open func searchBar(_ searchBar: UISearchBar, textDidChange searchText: String) {
+        updateTableContents()
+    }
+
+    public func searchBarSearchButtonClicked(_ searchBar: UISearchBar) {
+        searchBar.resignFirstResponder()
+    }
+
+    public func searchBarCancelButtonClicked(_ searchBar: UISearchBar) {
+        updateTableContents()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsDetailViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsDetailViewController.swift
new file mode 100644
index 00000000000..d8cafadd26d
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsDetailViewController.swift
@@ -0,0 +1,373 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+class PaymentsDetailViewController: OWSTableViewController2 {
+
+    private var paymentItem: PaymentsHistoryItem
+
+    public init(paymentItem: PaymentsHistoryItem) {
+        self.paymentItem = paymentItem
+
+        super.init()
+    }
+
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        useThemeBackgroundColors = true
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_DETAIL_VIEW_TITLE",
+                                  comment: "Label for the 'payments details' view of the app settings.")
+
+        if !paymentItem.isUnidentified,
+           FeatureFlags.paymentsScrubDetails {
+            let removeButton = OWSFlatButton.button(title: NSLocalizedString("SETTINGS_PAYMENTS_REMOVE_BUTTON",
+                                                                             comment: "Label for the 'remove payments details' button in the app settings."),
+                                                    font: UIFont.ows_dynamicTypeBody.ows_semibold,
+                                                    titleColor: Theme.secondaryTextAndIconColor,
+                                                    backgroundColor: Theme.washColor,
+                                                    target: self,
+                                                    selector: #selector(didTapRemove))
+            removeButton.autoSetHeightUsingFont()
+            view.addSubview(removeButton)
+            removeButton.autoPinWidthToSuperview(withMargin: Self.cellHOuterMargin)
+            removeButton.autoPin(toBottomLayoutGuideOf: self, withInset: 20)
+        }
+
+        updateTableContents()
+
+        Self.databaseStorage.appendUIDatabaseSnapshotDelegate(self)
+    }
+
+    override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        updateTableContents()
+    }
+
+    override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        paymentsCurrencies.updateConversationRatesIfStale()
+
+        if paymentItem.paymentModel.isUnread {
+            PaymentsViewUtils.markPaymentAsReadWithSneakyTransaction(paymentItem.paymentModel)
+        }
+    }
+
+    private func updateTableContents() {
+        AssertIsOnMainThread()
+
+        let contents = OWSTableContents()
+
+        let headerSection = OWSTableSection()
+        headerSection.add(OWSTableItem(customCellBlock: { [weak self] in
+            let cell = OWSTableItem.newCell()
+            self?.configureHeader(cell: cell)
+            return cell
+        },
+        actionBlock: nil))
+        contents.addSection(headerSection)
+
+        contents.addSection(buildStatusSection())
+
+        self.contents = contents
+    }
+
+    private func buildStatusSection() -> OWSTableSection {
+        let section = OWSTableSection()
+        section.customHeaderHeight = 16
+
+        let paymentItem = self.paymentItem
+        let paymentModel = paymentItem.paymentModel
+
+        if paymentModel.isOutgoing,
+           paymentModel.isIdentifiedPayment,
+           let feeAmount = paymentItem.paymentModel.mobileCoin?.feeAmount {
+            let bottomText = PaymentsImpl.format(paymentAmount: feeAmount,
+                                                 withCurrencyCode: true,
+                                                 withSpace: true)
+            section.add(buildStatusItem(topText: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_FEE",
+                                                                   comment: "Label for the 'MobileCoin network fee' in the payment details view in the app settings."),
+                                        bottomText: bottomText))
+        }
+
+        // TODO: We might not want to include dates if an incoming
+        //       transaction has not yet been verified.
+
+        section.add(buildStatusItem(topText: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER",
+                                                               comment: "Label for the sender in the payment details view in the app settings."),
+                                    bottomText: paymentModel.statusDescription(isLongForm: true)))
+
+        if let address = paymentModel.address {
+            var sender: String
+            if paymentItem.isIncoming {
+                sender = Self.contactsManager.displayName(for: address)
+            } else {
+                sender = NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER_YOU",
+                                           comment: "Indicates that you send the payment in the payment details view in the app settings.")
+            }
+            let senderFormat = NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER_FORMAT",
+                                                 comment: "Format for the sender info in the payment details view in the app settings. Embeds {{ %1$@ the name of the sender of the payment, %2$@ the date the transaction was sent }}.")
+            let bottomText = String(format: senderFormat,
+                                    sender,
+                                    TSPaymentModel.formateDate(paymentItem.sortDate,
+                                                               isLongForm: true))
+
+            section.add(buildStatusItem(topText: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_STATUS",
+                                                                   comment: "Label for the transaction status in the payment details view in the app settings."),
+                                        bottomText: bottomText))
+        }
+
+        let footerAttributedTitle = NSMutableAttributedString()
+        footerAttributedTitle.append(NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_DETAILS_STATUS_FOOTER",
+                                                       comment: "Footer string for the status section of the payment details view in the app settings."),
+                                     attributes: [
+                                        .font: UIFont.ows_dynamicTypeCaption1Clamped,
+                                        .foregroundColor: Theme.secondaryTextAndIconColor
+                                     ])
+        footerAttributedTitle.append(" ",
+                                     attributes: [
+                                        .font: UIFont.ows_dynamicTypeCaption1Clamped,
+                                        .foregroundColor: Theme.secondaryTextAndIconColor
+                                     ])
+        footerAttributedTitle.append(CommonStrings.learnMore,
+                                     attributes: [
+                                        .font: UIFont.ows_dynamicTypeCaption1Clamped.ows_semibold,
+                                        .foregroundColor: Theme.primaryTextColor
+                                     ])
+        let footerLabel = UILabel()
+        footerLabel.attributedText = footerAttributedTitle
+        footerLabel.numberOfLines = 0
+        footerLabel.lineBreakMode = .byWordWrapping
+        let footerStack = UIStackView(arrangedSubviews: [footerLabel])
+        footerStack.axis = .vertical
+        footerStack.alignment = .fill
+        footerStack.layoutMargins = UIEdgeInsets(hMargin: (OWSTableViewController2.cellHOuterMargin +
+                                                            OWSTableViewController2.cellHInnerMargin),
+                                                 vMargin: 12)
+        footerStack.isLayoutMarginsRelativeArrangement = true
+        footerStack.isUserInteractionEnabled = true
+        footerStack.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(didTapStatusFooter)))
+        section.customFooterView = footerStack
+
+        return section
+    }
+
+    private func buildStatusItem(topText: String, bottomText: String) -> OWSTableItem {
+        OWSTableItem(customCellBlock: {
+            let cell = OWSTableItem.newCell()
+
+            let topLabel = UILabel()
+            topLabel.text = topText
+            topLabel.textColor = Theme.primaryTextColor
+            topLabel.font = UIFont.ows_dynamicTypeBodyClamped
+
+            let bottomLabel = UILabel()
+            bottomLabel.text = bottomText
+            bottomLabel.textColor = Theme.secondaryTextAndIconColor
+            bottomLabel.font = UIFont.ows_dynamicTypeFootnoteClamped
+
+            let stack = UIStackView(arrangedSubviews: [topLabel, bottomLabel])
+            stack.axis = .vertical
+            stack.alignment = .fill
+
+            cell.contentView.addSubview(stack)
+            stack.autoPinEdgesToSuperviewMargins()
+
+            return cell
+        },
+        actionBlock: nil)
+    }
+
+    private func configureHeader(cell: UITableViewCell) {
+        if let address = paymentItem.paymentModel.address {
+            configureHeaderContact(cell: cell, address: address)
+        } else {
+            configureHeaderUnidentified(cell: cell)
+        }
+    }
+
+    private func configureHeaderContact(cell: UITableViewCell,
+                                        address: SignalServiceAddress) {
+
+        var stackViews = [UIView]()
+
+        let avatarSize: UInt = 52
+        let avatarView = AvatarImageView()
+        avatarView.autoSetDimensions(to: .square(CGFloat(avatarSize)))
+        stackViews.append(avatarView)
+        stackViews.append(UIView.spacer(withHeight: 12))
+
+        let usernameLabel = UILabel()
+        usernameLabel.textColor = Theme.primaryTextColor
+        usernameLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
+        usernameLabel.textAlignment = .center
+        usernameLabel.numberOfLines = 0
+        usernameLabel.lineBreakMode = .byWordWrapping
+        stackViews.append(usernameLabel)
+        stackViews.append(UIView.spacer(withHeight: 8))
+
+        stackViews.append(buildAmountView())
+
+        if let memoLabel = PaymentsViewUtils.buildMemoLabel(memoMessage: paymentItem.paymentModel.memoMessage) {
+            stackViews.append(UIView.spacer(withHeight: 12))
+            stackViews.append(memoLabel)
+        }
+
+        databaseStorage.read { transaction in
+            let colorName = TSContactThread.conversationColorName(forContactAddress: address,
+                                                                  transaction: transaction)
+            avatarView.image = OWSContactAvatarBuilder(address: address,
+                                                       colorName: colorName,
+                                                       diameter: avatarSize).build(with: transaction)
+
+            let username = Self.contactsManager.displayName(for: address, transaction: transaction)
+            let usernameFormat = (self.paymentItem.isIncoming
+                                    ? NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_USER_INCOMING_FORMAT",
+                                    comment: "Format string for the sender of an incoming payment. Embeds: {{ the name of the sender of the payment}}.")
+                                    : NSLocalizedString("SETTINGS_PAYMENTS_PAYMENT_USER_OUTGOING_FORMAT",
+                                    comment: "Format string for the recipient of an outgoing payment. Embeds: {{ the name of the recipient of the payment}}."))
+            usernameLabel.text = String(format: usernameFormat, username)
+        }
+
+        let headerStack = UIStackView(arrangedSubviews: stackViews)
+        headerStack.axis = .vertical
+        headerStack.alignment = .center
+        headerStack.layoutMargins = UIEdgeInsets(top: 24, leading: 0, bottom: 36, trailing: 0)
+        headerStack.isLayoutMarginsRelativeArrangement = true
+        cell.contentView.addSubview(headerStack)
+        headerStack.autoPinEdgesToSuperviewMargins()
+    }
+
+    private func configureHeaderUnidentified(cell: UITableViewCell) {
+
+        var stackViews = [UIView]()
+
+        let avatarSize: UInt = 52
+        let avatarView = PaymentsViewUtils.buildUnidentifiedTransactionAvatar(avatarSize: avatarSize)
+        avatarView.autoSetDimensions(to: .square(CGFloat(avatarSize)))
+        stackViews.append(avatarView)
+        stackViews.append(UIView.spacer(withHeight: 12))
+
+        let usernameLabel = UILabel()
+        usernameLabel.text = paymentItem.displayName
+        usernameLabel.textColor = Theme.primaryTextColor
+        usernameLabel.font = UIFont.ows_dynamicTypeBodyClamped
+        usernameLabel.textAlignment = .center
+        usernameLabel.numberOfLines = 0
+        usernameLabel.lineBreakMode = .byWordWrapping
+        stackViews.append(usernameLabel)
+        stackViews.append(UIView.spacer(withHeight: 8))
+
+        let amountLabel = UILabel()
+        amountLabel.textColor = Theme.primaryTextColor
+        amountLabel.font = UIFont.ows_dynamicTypeLargeTitle1Clamped.withSize(54)
+        amountLabel.textAlignment = .center
+        amountLabel.adjustsFontSizeToFitWidth = true
+
+        stackViews.append(buildAmountView())
+
+        let headerStack = UIStackView(arrangedSubviews: stackViews)
+        headerStack.axis = .vertical
+        headerStack.alignment = .center
+        headerStack.layoutMargins = UIEdgeInsets(top: 24, leading: 0, bottom: 36, trailing: 0)
+        headerStack.isLayoutMarginsRelativeArrangement = true
+        cell.contentView.addSubview(headerStack)
+        headerStack.autoPinEdgesToSuperviewMargins()
+    }
+
+    private func buildAmountView() -> UIView {
+
+        let amountLabel = UILabel()
+        amountLabel.textColor = Theme.primaryTextColor
+        amountLabel.font = UIFont.ows_dynamicTypeLargeTitle1Clamped.withSize(54)
+        amountLabel.textAlignment = .center
+        amountLabel.adjustsFontSizeToFitWidth = true
+
+        let amountWrapper = UIView.container()
+        amountWrapper.addSubview(amountLabel)
+        amountLabel.autoPinEdgesToSuperviewEdges()
+
+        if let paymentAmount = paymentItem.paymentAmount {
+            amountLabel.attributedText = PaymentsImpl.attributedFormat(paymentAmount: paymentAmount,
+                                                                       paymentType: paymentItem.paymentType)
+        } else {
+            amountLabel.text = " "
+
+            let activityIndicator = UIActivityIndicatorView(style: .gray)
+            amountWrapper.addSubview(activityIndicator)
+            activityIndicator.autoCenterInSuperview()
+            activityIndicator.startAnimating()
+        }
+
+        return amountWrapper
+    }
+
+    // MARK: -
+
+    private func updateItem() {
+        func reloadPaymentModel() -> TSPaymentModel? {
+            Self.databaseStorage.read { transaction in
+                TSPaymentModel.anyFetch(uniqueId: self.paymentItem.paymentModel.uniqueId, transaction: transaction)
+            }
+        }
+        guard let paymentModel = reloadPaymentModel() else {
+            navigationController?.popViewController(animated: true)
+            return
+        }
+
+        self.paymentItem = PaymentsHistoryItem(paymentModel: paymentModel,
+                                               displayName: paymentItem.displayName,
+                                               conversationColorName: paymentItem.conversationColorName)
+
+        updateTableContents()
+    }
+
+    // MARK: - Events
+
+    @objc
+    private func didTapRemove() {
+        databaseStorage.write { transaction in
+            self.payments.replaceAsUnidentified(paymentModel: self.paymentItem.paymentModel,
+                                                transaction: transaction)
+        }
+        navigationController?.popViewController(animated: true)
+    }
+
+    @objc
+    private func didTapStatusFooter() {
+        // TODO:
+    }
+}
+
+// MARK: -
+
+extension PaymentsDetailViewController: UIDatabaseSnapshotDelegate {
+    public func uiDatabaseSnapshotWillUpdate() {}
+
+    public func uiDatabaseSnapshotDidUpdate(databaseChanges: UIDatabaseChanges) {
+        AssertIsOnMainThread()
+
+        guard databaseChanges.didUpdateModel(collection: TSPaymentModel.collection()) else {
+            return
+        }
+
+        updateItem()
+    }
+
+    public func uiDatabaseSnapshotDidUpdateExternally() {
+        AssertIsOnMainThread()
+
+        updateItem()
+    }
+
+    public func uiDatabaseSnapshotDidReset() {
+        AssertIsOnMainThread()
+
+        updateItem()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistory.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistory.swift
new file mode 100644
index 00000000000..c8db87413e2
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistory.swift
@@ -0,0 +1,220 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+public struct PaymentsHistoryItem {
+    let paymentModel: TSPaymentModel
+    let displayName: String
+    let conversationColorName: ConversationColorName
+
+    var address: SignalServiceAddress? {
+        paymentModel.address
+    }
+
+    var isIncoming: Bool {
+        paymentModel.isIncoming
+    }
+
+    var isOutgoingTransfer: Bool {
+        paymentModel.isOutgoingTransfer
+    }
+
+    var isUnidentified: Bool {
+        paymentModel.isUnidentified
+    }
+
+    var paymentAmount: TSPaymentAmount? {
+        paymentModel.paymentAmount
+    }
+
+    var paymentType: TSPaymentType {
+        paymentModel.paymentType
+    }
+
+    var paymentState: TSPaymentState {
+        paymentModel.paymentState
+    }
+
+    var sortDate: Date {
+        paymentModel.sortDate
+    }
+}
+
+// MARK: -
+
+protocol PaymentsHistoryDataSourceDelegate: class {
+    var recordType: PaymentsHistoryDataSource.RecordType { get }
+
+    var maxRecordCount: Int? { get }
+
+    func didUpdateContent()
+}
+
+// MARK: -
+
+class PaymentsHistoryDataSource {
+
+    // MARK: - Dependencies
+
+    private static var databaseStorage: SDSDatabaseStorage {
+        return SDSDatabaseStorage.shared
+    }
+
+    private static var contactsManager: OWSContactsManager {
+        return Environment.shared.contactsManager
+    }
+
+    // MARK: -
+
+    public enum RecordType: Int, CustomStringConvertible {
+        case all = 0
+        case incoming
+        case outgoing
+
+        public var description: String {
+            switch self {
+            case .all:
+                return ".all"
+            case .incoming:
+                return ".incoming"
+            case .outgoing:
+                return ".outgoing"
+            }
+        }
+    }
+
+    // MARK: -
+
+    weak var delegate: PaymentsHistoryDataSourceDelegate? {
+        didSet {
+            updateContent()
+        }
+    }
+
+    public private(set) var items = [PaymentsHistoryItem]()
+
+    public var hasItems: Bool {
+        !items.isEmpty
+    }
+
+    public var count: Int {
+        items.count
+    }
+
+    public init() {
+        Self.databaseStorage.appendUIDatabaseSnapshotDelegate(self)
+
+        updateContent()
+    }
+
+    func updateContent() {
+        guard let delegate = delegate else {
+            return
+        }
+        items = loadAllPaymentsHistoryItems(delegate: delegate)
+        delegate.didUpdateContent()
+    }
+
+    private func loadAllPaymentsHistoryItems(delegate: PaymentsHistoryDataSourceDelegate) -> [PaymentsHistoryItem] {
+        Self.databaseStorage.uiRead { transaction in
+            // PAYMENTS TODO: Should we using paging, etc?
+            // PAYMENTS TODO: Sort in query?
+            var paymentModels: [TSPaymentModel] = TSPaymentModel.anyFetchAll(transaction: transaction)
+            paymentModels.sortBySortDate(descending: true)
+            paymentModels = paymentModels.filter { paymentModel in
+                switch delegate.recordType {
+                case .all:
+                    return true
+                case .incoming:
+                    return paymentModel.isIncoming
+                case .outgoing:
+                    return paymentModel.isOutgoing
+                }
+            }
+            if let maxRecordCount = delegate.maxRecordCount,
+               maxRecordCount < paymentModels.count {
+                paymentModels = Array(paymentModels.prefix(maxRecordCount))
+            }
+
+            var conversationColorNameCache = [SignalServiceAddress: ConversationColorName]()
+            let getConversationColorName = { (address: SignalServiceAddress) -> ConversationColorName in
+                if let cachedValue = conversationColorNameCache[address] {
+                    return cachedValue
+                }
+                let value = TSContactThread.conversationColorName(forContactAddress: address, transaction: transaction)
+                conversationColorNameCache[address] = value
+                return value
+            }
+            return paymentModels.map { paymentModel in
+                var conversationColorName: ConversationColorName = .default
+                var displayName: String
+                if paymentModel.isUnidentified {
+                    displayName = PaymentsViewUtils.buildUnidentifiedTransactionString(paymentModel: paymentModel)
+                } else if let address = paymentModel.address {
+                    conversationColorName = getConversationColorName(address)
+                    displayName = Self.contactsManager.displayName(for: address, transaction: transaction)
+                } else if paymentModel.isOutgoingTransfer {
+                    // TODO: Copy.
+                    displayName = NSLocalizedString("PAYMENTS_TRANSFER_OUT_PAYMENT",
+                                                    comment: "Label for 'transfer out' payments.")
+                } else {
+                    displayName = NSLocalizedString("PAYMENTS_UNKNOWN_PAYMENT",
+                                                    comment: "Label for unknown payments.")
+                }
+                return PaymentsHistoryItem(paymentModel: paymentModel,
+                                          displayName: displayName,
+                                          conversationColorName: conversationColorName)
+            }
+        }
+    }
+
+    func cell(forIndexPath indexPath: IndexPath, tableView: UITableView) -> UITableViewCell {
+        guard let paymentItem = items[safe: indexPath.row] else {
+            owsFailDebug("Invalid index path.")
+            return UITableViewCell()
+        }
+        return Self.cell(forPaymentItem: paymentItem, tableView: tableView, indexPath: indexPath)
+    }
+
+    public static func cell(forPaymentItem paymentItem: PaymentsHistoryItem,
+                            tableView: UITableView,
+                            indexPath: IndexPath) -> UITableViewCell {
+        guard let cell = tableView.dequeueReusableCell(withIdentifier: PaymentModelCell.reuseIdentifier,
+                                                       for: indexPath) as? PaymentModelCell else {
+            owsFailDebug("Cell had unexpected type.")
+            return UITableViewCell()
+        }
+        cell.configure(paymentItem: paymentItem)
+        return cell
+    }
+}
+
+// MARK: -
+
+extension PaymentsHistoryDataSource: UIDatabaseSnapshotDelegate {
+    public func uiDatabaseSnapshotWillUpdate() {}
+
+    public func uiDatabaseSnapshotDidUpdate(databaseChanges: UIDatabaseChanges) {
+        AssertIsOnMainThread()
+
+        guard databaseChanges.didUpdateModel(collection: TSPaymentModel.collection()) else {
+            return
+        }
+
+        updateContent()
+    }
+
+    public func uiDatabaseSnapshotDidUpdateExternally() {
+        AssertIsOnMainThread()
+
+        updateContent()
+    }
+
+    public func uiDatabaseSnapshotDidReset() {
+        AssertIsOnMainThread()
+
+        updateContent()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistoryViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistoryViewController.swift
new file mode 100644
index 00000000000..25d57bef8df
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsHistoryViewController.swift
@@ -0,0 +1,122 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+class PaymentsHistoryViewController: OWSTableViewController2 {
+
+    private let modeControl = UISegmentedControl()
+
+    public var recordType: PaymentsHistoryDataSource.RecordType = .all {
+        didSet {
+            dataSource.updateContent()
+        }
+    }
+
+    private let dataSource = PaymentsHistoryDataSource()
+
+    public override required init() {
+        super.init()
+
+        topHeader = OWSTableViewController2.buildTopHeader(forView: modeControl,
+                                                           vMargin: 10)
+    }
+
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_ALL_RECORDS",
+                                  comment: "Label for the 'all payment records' section of the app settings.")
+
+        createSubviews()
+
+        dataSource.delegate = self
+
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(updateTableContent),
+            name: PaymentsCurrenciesImpl.paymentConversionRatesDidChange,
+            object: nil
+        )
+    }
+
+    private func createSubviews() {
+
+        // PAYMENTS TODO: Are we going to restyle UISegmentedControl?
+        assert(PaymentsHistoryDataSource.RecordType.all.rawValue == 0)
+        modeControl.insertSegment(withTitle: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENTS_TYPE_ALL",
+                                                               comment: "Label for the 'all payments' mode of the 'all payment records' section of the app settings."),
+                                  at: PaymentsHistoryDataSource.RecordType.all.rawValue,
+                                  animated: false)
+        assert(PaymentsHistoryDataSource.RecordType.incoming.rawValue == 1)
+        modeControl.insertSegment(withTitle: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENTS_TYPE_INCOMING",
+                                                               comment: "Label for the 'incoming payments' mode of the 'all payment records' section of the app settings."),
+                                  at: PaymentsHistoryDataSource.RecordType.incoming.rawValue,
+                                  animated: false)
+        assert(PaymentsHistoryDataSource.RecordType.outgoing.rawValue == 2)
+        modeControl.insertSegment(withTitle: NSLocalizedString("SETTINGS_PAYMENTS_PAYMENTS_TYPE_OUTGOING",
+                                                               comment: "Label for the 'outgoing payments' mode of the 'all payment records' section of the app settings."),
+                                  at: PaymentsHistoryDataSource.RecordType.outgoing.rawValue,
+                                  animated: false)
+        modeControl.selectedSegmentIndex = recordType.rawValue
+        modeControl.addTarget(self,
+                              action: #selector(modeControlDidChange),
+                              for: .valueChanged)
+    }
+
+    @objc
+    private func updateTableContent() {
+        let contents = OWSTableContents()
+
+        let section = OWSTableSection()
+        section.customHeaderHeight = 16
+        section.separatorInsetLeading = NSNumber(value: Double(OWSTableViewController2.cellHOuterMargin +
+                                                                PaymentModelCell.separatorInsetLeading))
+        for paymentItem in dataSource.items {
+            section.add(OWSTableItem(customCellBlock: {
+                let cell = PaymentModelCell()
+                cell.configure(paymentItem: paymentItem)
+                return cell
+            },
+            actionBlock: { [weak self] in
+                self?.didTapPaymentItem(paymentItem: paymentItem)
+            }))
+        }
+        contents.addSection(section)
+
+        self.contents = contents
+    }
+
+    // MARK: -
+
+    private func didTapPaymentItem(paymentItem: PaymentsHistoryItem) {
+        let view = PaymentsDetailViewController(paymentItem: paymentItem)
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    @objc
+    func modeControlDidChange(_ sender: UISegmentedControl) {
+
+        guard let recordType = PaymentsHistoryDataSource.RecordType(rawValue: sender.selectedSegmentIndex) else {
+            owsFailDebug("Couldn't update recordType.")
+            return
+        }
+        self.recordType = recordType
+    }
+}
+
+// MARK: -
+
+extension PaymentsHistoryViewController: PaymentsHistoryDataSourceDelegate {
+    var maxRecordCount: Int? {
+        nil
+    }
+
+    func didUpdateContent() {
+        AssertIsOnMainThread()
+
+        updateTableContent()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsQRScanViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsQRScanViewController.swift
new file mode 100644
index 00000000000..559e1e1f8e2
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsQRScanViewController.swift
@@ -0,0 +1,122 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+public protocol PaymentsQRScanDelegate: class {
+    func didScanPaymentAddressQRCode(publicAddressBase58: String)
+}
+
+// MARK: -
+
+public class PaymentsQRScanViewController: OWSViewController {
+
+    private weak var delegate: PaymentsQRScanDelegate?
+
+    private let qrScanningController = OWSQRCodeScanningViewController()
+
+    public required init(delegate: PaymentsQRScanDelegate) {
+        self.delegate = delegate
+    }
+
+    public override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_SCAN_QR_TITLE",
+                                  comment: "Label for 'scan payment address QR code' view in the payment settings.")
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .cancel,
+                                                           target: self,
+                                                           action: #selector(didTapCancel),
+                                                           accessibilityIdentifier: "cancel")
+
+        createViews()
+    }
+
+    public override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
+        return UIDevice.current.isIPad ? .all : .portrait
+    }
+
+    public override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        self.ows_askForCameraPermissions { [weak self] granted in
+            guard let self = self else {
+                return
+            }
+            if granted {
+            // Camera stops capturing when "sharing" while in capture mode.
+            // Also, it's less obvious whats being "shared" at this point,
+            // so just disable sharing when in capture mode.
+
+                Logger.info("Showing Scanner")
+                self.qrScanningController.startCapture()
+            } else {
+                self.didTapCancel()
+            }
+        }
+    }
+
+    private func createViews() {
+        view.backgroundColor = .ows_black
+
+        qrScanningController.scanDelegate = self
+        let qrView = qrScanningController.view!
+        view.addSubview(qrView)
+        qrView.autoPinWidthToSuperview()
+        qrView.autoPin(toTopLayoutGuideOf: self, withInset: 0)
+
+        let footer = UIView.container()
+        footer.backgroundColor = UIColor(white: 0.25, alpha: 1.0)
+        view.addSubview(footer)
+        footer.autoPinWidthToSuperview()
+        footer.autoPinEdge(toSuperviewEdge: .bottom)
+        footer.autoPinEdge(.top, to: .bottom, of: qrView)
+
+        let instructionsLabel = UILabel()
+        // TODO: Need copy.
+        instructionsLabel.text = NSLocalizedString("SETTINGS_PAYMENTS_SCAN_QR_INSTRUCTIONS",
+                                                        comment: "Instructions in the 'scan payment address QR code' view in the payment settings.")
+        instructionsLabel.font = .ows_dynamicTypeBody
+        instructionsLabel.textColor = .ows_white
+        instructionsLabel.textAlignment = .center
+        instructionsLabel.numberOfLines = 0
+        instructionsLabel.lineBreakMode = .byWordWrapping
+        footer.addSubview(instructionsLabel)
+        instructionsLabel.autoPinWidthToSuperview(withMargin: 20)
+        instructionsLabel.autoPin(toBottomLayoutGuideOf: self, withInset: 16)
+        instructionsLabel.autoPinEdge(toSuperviewEdge: .top, withInset: 16)
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapCancel() {
+        navigationController?.popViewController(animated: true)
+    }
+}
+
+// MARK: -
+
+extension PaymentsQRScanViewController: OWSQRScannerDelegate {
+    public func controller(_ controller: OWSQRCodeScanningViewController, didDetectQRCodeWith data: Data) {
+        // TODO: Validate and parse the recipient address.
+    }
+
+    public func controller(_ controller: OWSQRCodeScanningViewController, didDetectQRCodeWith string: String) {
+        guard let publicAddressUrl = URL(string: string),
+              let publicAddress = PaymentsImpl.parse(publicAddressUrl: publicAddressUrl) else {
+            // TODO: Copy from design.
+            OWSActionSheets.showErrorAlert(message: NSLocalizedString("SETTINGS_PAYMENTS_SCAN_QR_INVALID_PUBLIC_ADDRESS_URL",
+                                                                      comment: "Error indicating that a QR code does not contain a valid MobileCoin public address URL."))
+            return
+        }
+        let publicAddressBase58 = PaymentsImpl.formatAsBase58(publicAddress: publicAddress)
+        delegate?.didScanPaymentAddressQRCode(publicAddressBase58: publicAddressBase58)
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSendRecipientViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSendRecipientViewController.swift
new file mode 100644
index 00000000000..1fab1008051
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSendRecipientViewController.swift
@@ -0,0 +1,169 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import PromiseKit
+
+@objc
+class PaymentsSendRecipientViewController: OWSViewController {
+
+    let recipientPicker = RecipientPickerViewController()
+
+    @objc
+    public static func presentAsFormSheet(fromViewController: UIViewController,
+                                          paymentRequestModel: TSPaymentRequestModel?) {
+        let view = PaymentsSendRecipientViewController()
+        let navigationController = OWSNavigationController(rootViewController: view)
+        fromViewController.presentFormSheet(navigationController, animated: true)
+    }
+
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_SEND_TO_RECIPIENT_TITLE",
+                                  comment: "Label for the 'send payment to recipient' view in the payment settings.")
+
+        view.backgroundColor = Theme.backgroundColor
+
+        recipientPicker.allowsSelectingUnregisteredPhoneNumbers = false
+        recipientPicker.allowsAddByPhoneNumber = false
+        recipientPicker.shouldHideLocalRecipient = true
+        recipientPicker.allowsSelectingUnregisteredPhoneNumbers = false
+        recipientPicker.shouldShowGroups = false
+        recipientPicker.delegate = self
+        addChild(recipientPicker)
+        view.addSubview(recipientPicker.view)
+        recipientPicker.view.autoPin(toTopLayoutGuideOf: self, withInset: 0)
+        recipientPicker.view.autoPinEdge(toSuperviewEdge: .leading)
+        recipientPicker.view.autoPinEdge(toSuperviewEdge: .trailing)
+        recipientPicker.view.autoPinEdge(toSuperviewEdge: .bottom)
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .stop, target: self, action: #selector(didTapDismiss))
+    }
+
+    @objc
+    func didTapDismiss() {
+        dismiss(animated: true)
+    }
+
+    private func showSendPayment(address: SignalServiceAddress) {
+        let recipientHasPaymentsEnabled = databaseStorage.read { transaction in
+            Self.payments.arePaymentsEnabled(for: address, transaction: transaction)
+        }
+        guard recipientHasPaymentsEnabled else {
+            // TODO: Should we try to fill in this state before showing the error alert?
+            ProfileFetcherJob.fetchProfile(address: address, ignoreThrottling: true)
+
+            OWSActionSheets.showErrorAlert(message: NSLocalizedString("PAYMENTS_RECIPIENT_PAYMENTS_NOT_ENABLED",
+                                                                      comment: "Indicator that a given user cannot receive payments because the have not enabled payments."))
+            return
+        }
+
+        guard let navigationController = self.navigationController else {
+            owsFailDebug("Missing navigationController.")
+            return
+        }
+        SendPaymentViewController.presentInNavigationController(navigationController,
+                                                                delegate: self,
+                                                                recipientAddress: address,
+                                                                paymentRequestModel: nil,
+                                                                isOutgoingTransfer: false)
+    }
+}
+
+// MARK: -
+
+extension PaymentsSendRecipientViewController: RecipientPickerDelegate {
+
+    func recipientPicker(
+        _ recipientPickerViewController: RecipientPickerViewController,
+        canSelectRecipient recipient: PickedRecipient
+    ) -> RecipientPickerRecipientState {
+        // TODO:
+        return .canBeSelected
+    }
+
+    func recipientPicker(
+        _ recipientPickerViewController: RecipientPickerViewController,
+        didSelectRecipient recipient: PickedRecipient
+    ) {
+        switch recipient.identifier {
+        case .address(let address):
+            showSendPayment(address: address)
+        case .group:
+            owsFailDebug("Invalid recipient.")
+            dismiss(animated: true)
+        }
+    }
+
+    func recipientPicker(_ recipientPickerViewController: RecipientPickerViewController,
+                         willRenderRecipient recipient: PickedRecipient) {
+        // Do nothing.
+    }
+
+    func recipientPicker(_ recipientPickerViewController: RecipientPickerViewController,
+                         prepareToSelectRecipient recipient: PickedRecipient) -> AnyPromise {
+        owsFailDebug("This method should not called.")
+        return AnyPromise(Promise.value(()))
+    }
+
+    func recipientPicker(_ recipientPickerViewController: RecipientPickerViewController,
+                         showInvalidRecipientAlert recipient: PickedRecipient) {
+        owsFailDebug("Unexpected error.")
+    }
+
+    func recipientPicker(
+        _ recipientPickerViewController: RecipientPickerViewController,
+        didDeselectRecipient recipient: PickedRecipient
+    ) {}
+
+    func recipientPicker(
+        _ recipientPickerViewController: RecipientPickerViewController,
+        accessoryMessageForRecipient recipient: PickedRecipient
+    ) -> String? {
+        // TODO: design
+        switch recipient.identifier {
+        case .address(let address):
+            guard contactsViewHelper.isSignalServiceAddressBlocked(address) else { return nil }
+            return MessageStrings.conversationIsBlocked
+        case .group(let thread):
+            guard contactsViewHelper.isThreadBlocked(thread) else { return nil }
+            return MessageStrings.conversationIsBlocked
+        }
+    }
+
+    func recipientPicker(_ recipientPickerViewController: RecipientPickerViewController,
+                         attributedSubtitleForRecipient recipient: PickedRecipient) -> NSAttributedString? {
+        // TODO: design
+        switch recipient.identifier {
+        case .address(let address):
+            guard !address.isLocalAddress else {
+                return nil
+            }
+            if let bioForDisplay = (Self.databaseStorage.read { transaction in
+                Self.profileManager.profileBioForDisplay(for: address, transaction: transaction)
+               }) {
+                return NSAttributedString(string: bioForDisplay)
+            }
+            return nil
+        case .group:
+            return nil
+        }
+    }
+
+    func recipientPickerTableViewWillBeginDragging(_ recipientPickerViewController: RecipientPickerViewController) {}
+
+    func recipientPickerNewGroupButtonWasPressed() {}
+
+    func recipientPickerCustomHeaderViews() -> [UIView] { return [] }
+}
+
+// MARK: -
+
+extension PaymentsSendRecipientViewController: SendPaymentViewDelegate {
+
+    func didSendPayment() {
+        dismiss(animated: true, completion: nil)
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSettingsViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSettingsViewController.swift
new file mode 100644
index 00000000000..c292a45a6e2
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsSettingsViewController.swift
@@ -0,0 +1,704 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import Lottie
+
+@objc
+public enum PaymentsSettingsMode: UInt {
+    case inAppSettings
+    case standalone
+}
+
+// MARK: -
+
+@objc
+public class PaymentsSettingsViewController: OWSTableViewController2 {
+
+    private let mode: PaymentsSettingsMode
+
+    private let paymentsHistoryDataSource = PaymentsHistoryDataSource()
+
+    // PAYMENTS TODO: What's the correct max?
+    fileprivate static let maxHistoryCount: Int = 4
+
+    @objc
+    public required init(mode: PaymentsSettingsMode) {
+        self.mode = mode
+
+        super.init()
+    }
+
+    public override func viewDidLoad() {
+        super.viewDidLoad()
+
+        useThemeBackgroundColors = true
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_TITLE",
+                                  comment: "Label for the 'payments' section of the app settings.")
+
+        if mode == .standalone {
+            navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .stop,
+                                                               target: self,
+                                                               action: #selector(didTapDismiss),
+                                                               accessibilityIdentifier: "dismiss")
+        }
+
+        addListeners()
+
+        updateTableContents()
+
+        updateNavbar()
+
+        paymentsHistoryDataSource.delegate = self
+    }
+
+    private func updateNavbar() {
+        if paymentsSwift.arePaymentsEnabled {
+            let moreOptionsIcon = UIImage(named: "more-horiz-24")?.withRenderingMode(.alwaysTemplate)
+            navigationItem.rightBarButtonItem = UIBarButtonItem(
+                image: moreOptionsIcon,
+                landscapeImagePhone: nil,
+                style: .plain,
+                target: self,
+                action: #selector(didTapSettings)
+            )
+        } else {
+            navigationItem.rightBarButtonItem = nil
+        }
+    }
+
+    public override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        updateTableContents()
+        updateNavbar()
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        paymentsSwift.updateCurrentPaymentBalance()
+        paymentsCurrencies.updateConversationRatesIfStale()
+    }
+
+    public override func viewDidDisappear(_ animated: Bool) {
+        super.viewDidDisappear(animated)
+
+        if isMovingFromParent,
+           mode == .inAppSettings {
+            PaymentsViewUtils.markAllUnreadPaymentsAsReadWithSneakyTransaction()
+        }
+    }
+
+    private func addListeners() {
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(arePaymentsEnabledDidChange),
+            name: PaymentsImpl.arePaymentsEnabledDidChange,
+            object: nil
+        )
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(updateTableContents),
+            name: PaymentsImpl.currentPaymentBalanceDidChange,
+            object: nil
+        )
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(updateTableContents),
+            name: PaymentsCurrenciesImpl.paymentConversionRatesDidChange,
+            object: nil
+        )
+    }
+
+    @objc
+    private func arePaymentsEnabledDidChange() {
+        updateTableContents()
+        updateNavbar()
+    }
+
+    @objc
+    private func updateTableContents() {
+        AssertIsOnMainThread()
+
+        let arePaymentsEnabled = paymentsSwift.arePaymentsEnabled
+        if arePaymentsEnabled {
+            updateTableContentsEnabled()
+        } else {
+            updateTableContentsNotEnabled()
+        }
+    }
+
+    private func updateTableContentsEnabled() {
+        AssertIsOnMainThread()
+
+        let contents = OWSTableContents()
+
+        let headerSection = OWSTableSection()
+        headerSection.hasBackground = false
+        headerSection.add(OWSTableItem(customCellBlock: { [weak self] in
+            let cell = OWSTableItem.newCell()
+            self?.configureEnabledHeader(cell: cell)
+            return cell
+        },
+        actionBlock: {
+            Self.paymentsSwift.updateCurrentPaymentBalance()
+            Self.paymentsCurrencies.updateConversationRatesIfStale()
+        }))
+        contents.addSection(headerSection)
+
+        let historySection = OWSTableSection()
+        configureHistorySection(historySection, paymentsHistoryDataSource: paymentsHistoryDataSource)
+        contents.addSection(historySection)
+
+        addHelpCards(contents: contents)
+
+        self.contents = contents
+    }
+
+    private func configureEnabledHeader(cell: UITableViewCell) {
+        let balanceLabel = UILabel()
+        balanceLabel.font = UIFont.ows_dynamicTypeLargeTitle1Clamped.withSize(54)
+        balanceLabel.textAlignment = .center
+        balanceLabel.adjustsFontSizeToFitWidth = true
+
+        let balanceWrapper = UIView.container()
+        balanceWrapper.addSubview(balanceLabel)
+        balanceLabel.autoPinEdgesToSuperviewEdges()
+
+        let conversionRefreshSize: CGFloat = 20
+        let conversionRefreshIcon = UIImageView.withTemplateImageName("refresh-20",
+                                                                      tintColor: Theme.primaryIconColor)
+        conversionRefreshIcon.autoSetDimensions(to: .square(conversionRefreshSize))
+
+        let conversionLabel = UILabel()
+        conversionLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
+        conversionLabel.textColor = Theme.secondaryTextAndIconColor
+
+        let conversionStack1 = UIStackView(arrangedSubviews: [
+            conversionRefreshIcon,
+            conversionLabel
+        ])
+        conversionStack1.axis = .horizontal
+        conversionStack1.alignment = .center
+        conversionStack1.spacing = 12
+
+        let conversionStack2 = UIStackView(arrangedSubviews: [ conversionStack1 ])
+        conversionStack2.axis = .vertical
+        conversionStack2.alignment = .center
+
+        func hideConversions() {
+            conversionRefreshIcon.tintColor = .clear
+            conversionLabel.text = " "
+        }
+
+        if let paymentBalance = Self.paymentsSwift.currentPaymentBalance {
+            balanceLabel.attributedText = PaymentsImpl.attributedFormat(paymentAmount: paymentBalance.amount)
+
+            if let balanceConversionText = Self.buildBalanceConversionText(paymentBalance: paymentBalance) {
+                conversionLabel.text = balanceConversionText
+            } else {
+                hideConversions()
+            }
+        } else {
+            // PAYMENTS TODO: How to format this?
+            balanceLabel.text = " "
+
+            let activityIndicator = UIActivityIndicatorView(style: .gray)
+            balanceWrapper.addSubview(activityIndicator)
+            activityIndicator.autoCenterInSuperview()
+            activityIndicator.startAnimating()
+
+            hideConversions()
+        }
+
+        let addMoneyButton = buildHeaderButton(title: NSLocalizedString("SETTINGS_PAYMENTS_ADD_MONEY",
+                                                                        comment: "Label for 'add money' view in the payment settings."),
+                                               iconName: "plus-24",
+                                               selector: #selector(didTapAddMoneyButton))
+        let sendPaymentButton = buildHeaderButton(title: NSLocalizedString("SETTINGS_PAYMENTS_SEND_PAYMENT",
+                                                                           comment: "Label for 'send payment' button in the payment settings."),
+                                                  iconName: "send-mob-24",
+                                                  selector: #selector(didTapSendPaymentButton))
+        let buttonStack = UIStackView(arrangedSubviews: [
+            addMoneyButton,
+            sendPaymentButton
+        ])
+        buttonStack.axis = .horizontal
+        buttonStack.spacing = 8
+        buttonStack.alignment = .fill
+        buttonStack.distribution = .fillEqually
+
+        let headerStack = UIStackView(arrangedSubviews: [
+            balanceWrapper,
+            UIView.spacer(withHeight: 8),
+            conversionStack2,
+            UIView.spacer(withHeight: 44),
+            buttonStack
+        ])
+        headerStack.axis = .vertical
+        headerStack.alignment = .fill
+        headerStack.layoutMargins = UIEdgeInsets(top: 30,
+                                                 leading: OWSTableViewController2.cellHOuterMargin * 2,
+                                                 bottom: 20,
+                                                 trailing: OWSTableViewController2.cellHOuterMargin * 2)
+        headerStack.isLayoutMarginsRelativeArrangement = true
+        headerStack.addBackgroundView(withBackgroundColor: Theme.tableView2BackgroundColor)
+        cell.contentView.addSubview(headerStack)
+        headerStack.autoPinEdgesToSuperviewEdges()
+    }
+
+    private func buildHeaderButton(title: String, iconName: String, selector: Selector) -> UIView {
+
+        let iconView = UIImageView.withTemplateImageName(iconName,
+                                                         tintColor: Theme.primaryIconColor)
+        iconView.autoSetDimensions(to: .square(24))
+
+        let label = UILabel()
+        label.text = title
+        label.textColor = Theme.primaryTextColor
+        label.font = .ows_dynamicTypeCaption2Clamped
+
+        let stack = UIStackView(arrangedSubviews: [
+            iconView,
+            label
+        ])
+        stack.axis = .vertical
+        stack.alignment = .center
+        stack.spacing = 5
+        stack.layoutMargins = UIEdgeInsets(top: 12, leading: 20, bottom: 6, trailing: 20)
+        stack.isLayoutMarginsRelativeArrangement = true
+        stack.isUserInteractionEnabled = true
+        stack.addGestureRecognizer(UITapGestureRecognizer(target: self, action: selector))
+
+        let backgroundView = UIView()
+        // TODO: We need design.
+        backgroundView.backgroundColor = Theme.tableCell2BackgroundColor
+        backgroundView.layer.cornerRadius = 10
+        stack.addSubview(backgroundView)
+        stack.sendSubviewToBack(backgroundView)
+        backgroundView.autoPinEdgesToSuperviewEdges()
+
+        return stack
+    }
+
+    private static func buildBalanceConversionText(paymentBalance: PaymentBalance) -> String? {
+        let localCurrencyCode = paymentsCurrencies.currentCurrencyCode
+        guard let currencyConversionInfo = paymentsCurrencies.conversionInfo(forCurrencyCode: localCurrencyCode)  else {
+            return nil
+        }
+        guard let fiatAmountString = PaymentsImpl.formatAsFiatCurrency(paymentAmount: paymentBalance.amount,
+                                                                       currencyConversionInfo: currencyConversionInfo) else {
+            return nil
+        }
+
+        // NOTE: conversion freshness is different than the balance freshness.
+        //
+        // We format the conversion freshness date using the local locale.
+        // We format the currency using the EN/US locale.
+        //
+        // TODO: Is it sufficient to format as a time?
+        let conversionFreshnessString = DateUtil.formatDate(asTime: currencyConversionInfo.conversionDate)
+        let formatString = NSLocalizedString("SETTINGS_PAYMENTS_BALANCE_CONVERSION_FORMAT",
+                                             comment: "Format string for the 'local balance converted into local currency' indicator. Embeds: {{ %1$@ the local balance in the local currency, %2$@ the local currency code, %3$@ the date the currency conversion rate was obtained. }}..")
+        return String(format: formatString, fiatAmountString, localCurrencyCode, conversionFreshnessString)
+    }
+
+    private func configureHistorySection(_ section: OWSTableSection,
+                                         paymentsHistoryDataSource: PaymentsHistoryDataSource) {
+
+        guard paymentsHistoryDataSource.hasItems else {
+            section.hasBackground = false
+            section.add(OWSTableItem(customCellBlock: {
+                let cell = OWSTableItem.newCell()
+
+                let label = UILabel()
+                label.text = NSLocalizedString("SETTINGS_PAYMENTS_NO_ACTIVITY_INDICATOR",
+                                                         comment: "Message indicating that there is no payment activity to display in the payment settings.")
+                label.textColor = Theme.secondaryTextAndIconColor
+                label.font = UIFont.ows_dynamicTypeBodyClamped
+                label.numberOfLines = 0
+                label.lineBreakMode = .byWordWrapping
+                label.textAlignment = .center
+
+                let stack = UIStackView(arrangedSubviews: [label])
+                stack.axis = .vertical
+                stack.alignment = .fill
+                stack.layoutMargins = UIEdgeInsets(top: 10, leading: 0, bottom: 30, trailing: 0)
+                stack.isLayoutMarginsRelativeArrangement = true
+
+                cell.contentView.addSubview(stack)
+                stack.autoPinEdgesToSuperviewMargins()
+
+                return cell
+            },
+            actionBlock: nil))
+            return
+        }
+
+        section.headerTitle = NSLocalizedString("SETTINGS_PAYMENTS_RECENT_PAYMENTS",
+                                                comment: "Label for the 'recent payments' section in the payment settings.")
+
+        section.separatorInsetLeading = NSNumber(value: Double(OWSTableViewController2.cellHInnerMargin +
+                                                                PaymentModelCell.separatorInsetLeading))
+
+        var hasMoreItems = false
+        for (index, paymentItem) in paymentsHistoryDataSource.items.enumerated() {
+            guard index < PaymentsSettingsViewController.maxHistoryCount else {
+                hasMoreItems = true
+                break
+            }
+            section.add(OWSTableItem(customCellBlock: {
+                let cell = PaymentModelCell()
+                cell.configure(paymentItem: paymentItem)
+                return cell
+            },
+            actionBlock: { [weak self] in
+                self?.didTapPaymentItem(paymentItem: paymentItem)
+                    }))
+        }
+
+        if hasMoreItems {
+            section.add(OWSTableItem(customCellBlock: {
+                let cell = OWSTableItem.newCell()
+                cell.selectionStyle = .none
+
+                let label = UILabel()
+                label.text = NSLocalizedString("SETTINGS_PAYMENTS_SHOW_ALL_PAYMENTS_BUTTON",
+                                               comment: "Label for the 'show all payments' button in the payment settings.")
+                label.font = .ows_dynamicTypeBodyClamped
+                label.textColor = Theme.primaryTextColor
+
+                let stack = UIStackView(arrangedSubviews: [label])
+                stack.axis = .vertical
+                stack.alignment = .fill
+                cell.contentView.addSubview(stack)
+                stack.autoPinEdgesToSuperviewMargins()
+                stack.layoutMargins = UIEdgeInsets(top: 10, leading: 0, bottom: 10, trailing: 0)
+                stack.isLayoutMarginsRelativeArrangement = true
+
+                cell.accessoryType = .disclosureIndicator
+                return cell
+            },
+            actionBlock: { [weak self] in
+                self?.showPaymentsHistoryView()
+            }))
+        }
+    }
+
+    private func updateTableContentsNotEnabled() {
+        AssertIsOnMainThread()
+
+        let contents = OWSTableContents()
+
+        let headerSection = OWSTableSection()
+        headerSection.add(OWSTableItem(customCellBlock: { [weak self] in
+            let cell = OWSTableItem.newCell()
+            self?.configureNotEnabledCell(cell)
+            return cell
+        },
+        actionBlock: nil))
+        contents.addSection(headerSection)
+
+        addHelpCards(contents: contents)
+
+        self.contents = contents
+    }
+
+    private func configureNotEnabledCell(_ cell: UITableViewCell) {
+
+        let titleLabel = UILabel()
+        titleLabel.text = NSLocalizedString("SETTINGS_PAYMENTS_OPT_IN_TITLE",
+                                            comment: "Title for the 'payments opt-in' view in the app settings.")
+        titleLabel.textColor = Theme.primaryTextColor
+        titleLabel.font = UIFont.ows_dynamicTypeBodyClamped.ows_semibold
+        titleLabel.numberOfLines = 0
+        titleLabel.lineBreakMode = .byWordWrapping
+        titleLabel.textAlignment = .center
+
+        let heroImageView = AnimationView(name: "activate-payments")
+        heroImageView.contentMode = .scaleAspectFit
+        let viewSize = view.bounds.size
+        let heroSize = min(viewSize.width, viewSize.height) * 0.5
+        heroImageView.autoSetDimension(.height, toSize: heroSize)
+
+        let bodyLabel = UILabel()
+        bodyLabel.text = NSLocalizedString("SETTINGS_PAYMENTS_OPT_IN_MESSAGE",
+                                            comment: "Message for the 'payments opt-in' view in the app settings.")
+        bodyLabel.textColor = Theme.secondaryTextAndIconColor
+        bodyLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
+        bodyLabel.textAlignment = .center
+        bodyLabel.numberOfLines = 0
+        bodyLabel.lineBreakMode = .byWordWrapping
+
+        let buttonTitle = NSLocalizedString("SETTINGS_PAYMENTS_OPT_IN_ACTIVATE_BUTTON",
+                                              comment: "Label for 'activate' button in the 'payments opt-in' view in the app settings.")
+        let activateButton = OWSFlatButton.button(title: buttonTitle,
+                                                 font: UIFont.ows_dynamicTypeBody.ows_semibold,
+                                                 titleColor: .white,
+                                                 backgroundColor: .ows_accentBlue,
+                                                 target: self,
+                                                 selector: #selector(didTapEnablePaymentsButton))
+        activateButton.autoSetHeightUsingFont()
+
+        let stack = UIStackView(arrangedSubviews: [
+            titleLabel,
+            UIView.spacer(withHeight: 24),
+            heroImageView,
+            UIView.spacer(withHeight: 20),
+            bodyLabel,
+            UIView.spacer(withHeight: 20),
+            activateButton
+        ])
+        stack.axis = .vertical
+        stack.alignment = .fill
+        stack.layoutMargins = UIEdgeInsets(top: 20, leading: 0, bottom: 32, trailing: 0)
+        stack.isLayoutMarginsRelativeArrangement = true
+        cell.contentView.addSubview(stack)
+        stack.autoPinEdgesToSuperviewMargins()
+    }
+
+    private func addHelpCards(contents: OWSTableContents) {
+        contents.addSection(buildHelpCard(title: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_ABOUT_MOBILECOIN_TITLE",
+                                                                   comment: "Title for the 'About MobileCoin' help card in the payments settings."),
+                                          body: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_ABOUT_MOBILECOIN_DESCRIPTION",
+                                                                  comment: "Description for the 'About MobileCoin' help card in the payments settings."),
+                                          iconName: "about-mobilecoin",
+                                          selector: #selector(didTapAboutMobileCoinCard)))
+
+        contents.addSection(buildHelpCard(title: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_ADDING_TO_YOUR_WALLET_TITLE",
+                                                                   comment: "Title for the 'Adding to your wallet' help card in the payments settings."),
+                                          body: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_ADDING_TO_YOUR_WALLET_DESCRIPTION",
+                                                                  comment: "Description for the 'Adding to your wallet' help card in the payments settings."),
+                                          iconName: "add-money",
+                                          selector: #selector(didTapAddingToYourWalletCard)))
+
+        contents.addSection(buildHelpCard(title: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_CASHING_OUT_TITLE",
+                                                                   comment: "Title for the 'Cashing Out' help card in the payments settings."),
+                                          body: NSLocalizedString("SETTINGS_PAYMENTS_HELP_CARD_CASHING_OUT_DESCRIPTION",
+                                                                  comment: "Description for the 'Cashing Out' help card in the payments settings."),
+                                          iconName: "cash-out",
+                                          selector: #selector(didTapCashingOutCoinCard)))
+    }
+
+    // TODO: How do we remove help cards?
+    // TODO: What are the links for the help cards?
+    // TODO: What are the "learn more" behaviors?
+    private func buildHelpCard(title: String,
+                               body: String,
+                               iconName: String,
+                               selector: Selector) -> OWSTableSection {
+        let section = OWSTableSection()
+
+        let tapGestureRecognizer = UITapGestureRecognizer(target: self, action: selector)
+
+        section.add(OWSTableItem(customCellBlock: {
+            let titleLabel = UILabel()
+            titleLabel.text = title
+            titleLabel.textColor = Theme.primaryTextColor
+            titleLabel.font = UIFont.ows_dynamicTypeBodyClamped.ows_semibold
+
+            let bodyLabel = UILabel()
+            bodyLabel.text = body
+            bodyLabel.textColor = Theme.secondaryTextAndIconColor
+            bodyLabel.font = UIFont.ows_dynamicTypeBody2Clamped
+            bodyLabel.numberOfLines = 0
+            bodyLabel.lineBreakMode = .byWordWrapping
+
+            let learnMoreLabel = UILabel()
+            learnMoreLabel.text = CommonStrings.learnMore
+            learnMoreLabel.textColor = Theme.accentBlueColor
+            learnMoreLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
+
+            let animationView = AnimationView(name: iconName)
+            animationView.contentMode = .scaleAspectFit
+            animationView.autoSetDimensions(to: .square(80))
+
+            let vStack = UIStackView(arrangedSubviews: [
+                titleLabel,
+                bodyLabel,
+                learnMoreLabel
+            ])
+            vStack.axis = .vertical
+            vStack.alignment = .leading
+            vStack.spacing = 8
+
+            let hStack = UIStackView(arrangedSubviews: [
+                vStack,
+                animationView
+            ])
+            hStack.axis = .horizontal
+            hStack.alignment = .center
+            hStack.spacing = 16
+
+            let cell = OWSTableItem.newCell()
+            cell.contentView.addSubview(hStack)
+            hStack.autoPinEdgesToSuperviewMargins()
+
+            cell.isUserInteractionEnabled = true
+            cell.addGestureRecognizer(tapGestureRecognizer)
+
+            return cell
+        },
+        actionBlock: { [weak self] in
+            self?.perform(selector)
+        }))
+
+        return section
+    }
+
+    // MARK: -
+
+    private func showSettingsActionSheet() {
+        let actionSheet = ActionSheetController(title: nil, message: nil)
+
+        actionSheet.addAction(ActionSheetAction(title: NSLocalizedString("SETTINGS_PAYMENTS_TRANSFER_TO_EXCHANGE",
+                                                                         comment: "Label for the 'transfer to exchange' button in the payment settings."),
+                                                accessibilityIdentifier: "payments.settings.transfer_to_exchange",
+                                                style: .default) { [weak self] _ in
+            self?.didTapTransferToExchangeButton()
+        })
+
+        actionSheet.addAction(ActionSheetAction(title: NSLocalizedString("SETTINGS_PAYMENTS_SET_CURRENCY",
+                                                                         comment: "Title for the 'set currency' view in the app settings."),
+                                                accessibilityIdentifier: "payments.settings.set_currency",
+                                                style: .default) { [weak self] _ in
+            self?.didTapSetCurrencyButton()
+        })
+
+        actionSheet.addAction(ActionSheetAction(title: NSLocalizedString("SETTINGS_PAYMENTS_DEACTIVATE_PAYMENTS",
+                                                                         comment: "Label for 'deactivate payments' button in the app settings."),
+                                                accessibilityIdentifier: "payments.settings.deactivate_payments",
+                                                style: .default) { [weak self] _ in
+            self?.didTapDeactivatePaymentsButton()
+        })
+
+        actionSheet.addAction(ActionSheetAction(title: CommonStrings.help,
+                                                accessibilityIdentifier: "payments.settings.help",
+                                                style: .default) { [weak self] _ in
+            self?.didTapHelpButton()
+        })
+
+        actionSheet.addAction(OWSActionSheets.cancelAction)
+
+        presentActionSheet(actionSheet)
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapDismiss() {
+        dismiss(animated: true, completion: nil)
+    }
+
+    @objc
+    func didTapEnablePaymentsButton(_ sender: UIButton) {
+        AssertIsOnMainThread()
+
+        databaseStorage.asyncWrite { transaction in
+            // We must preserve any existing mcRootEntropy.
+            let mcRootEntropy: Data
+            switch Self.paymentsSwift.paymentsState {
+            case .enabled(let oldMcRootEntropy):
+                mcRootEntropy = oldMcRootEntropy
+            case .disabled:
+                mcRootEntropy = Self.paymentsSwift.generateRandomMobileCoinRootEntropy()
+            case .disabledWithMCRootEntropy(let oldMcRootEntropy):
+                mcRootEntropy = oldMcRootEntropy
+            }
+            Self.paymentsSwift.setPaymentsState(.enabled(mcRootEntropy: mcRootEntropy),
+                                                transaction: transaction)
+
+            transaction.addAsyncCompletion {
+                AssertIsOnMainThread()
+
+                let toastText = NSLocalizedString("SETTINGS_PAYMENTS_OPT_IN_ACTIVATED_TOAST",
+                                                    comment: "Message shown when payments rae activated in the 'payments opt-in' view in the app settings.")
+                self.presentToast(text: toastText)
+            }
+        }
+    }
+
+    @objc
+    func didTapSettings() {
+        showSettingsActionSheet()
+    }
+
+    private func didTapSetCurrencyButton() {
+        let view = PaymentsCurrencyViewController()
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    private func didTapDeactivatePaymentsButton() {
+        // TODO:
+    }
+
+    private func didTapHelpButton() {
+        // TODO:
+    }
+
+    private func didTapTransferToExchangeButton() {
+        let view = PaymentsTransferOutViewController()
+        let navigationController = OWSNavigationController(rootViewController: view)
+        present(navigationController, animated: true, completion: nil)
+    }
+
+    private func showPaymentsHistoryView() {
+        let view = PaymentsHistoryViewController()
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    @objc
+    func didTapAddMoneyButton(sender: UIGestureRecognizer) {
+        let view = PaymentsTransferInViewController()
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    @objc
+    func didTapSendPaymentButton(sender: UIGestureRecognizer) {
+        PaymentsSendRecipientViewController.presentAsFormSheet(fromViewController: self,
+                                                               paymentRequestModel: nil)
+    }
+
+    private func didTapPaymentItem(paymentItem: PaymentsHistoryItem) {
+        let view = PaymentsDetailViewController(paymentItem: paymentItem)
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    @objc
+    private func didTapAboutMobileCoinCard() {
+        // TODO:
+    }
+
+    @objc
+    private func didTapAddingToYourWalletCard() {
+        // TODO:
+    }
+
+    @objc
+    private func didTapCashingOutCoinCard() {
+        // TODO:
+    }
+}
+
+// MARK: -
+
+extension PaymentsSettingsViewController: PaymentsHistoryDataSourceDelegate {
+    var recordType: PaymentsHistoryDataSource.RecordType {
+        .all
+    }
+
+    var maxRecordCount: Int? {
+        // Load an extra item so we can detect if there's more items
+        // to render.
+        Self.maxHistoryCount + 1
+    }
+
+    func didUpdateContent() {
+        AssertIsOnMainThread()
+
+        updateTableContents()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferInViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferInViewController.swift
new file mode 100644
index 00000000000..11e8284c7b9
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferInViewController.swift
@@ -0,0 +1,209 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+class PaymentsTransferInViewController: OWSTableViewController2 {
+
+    @objc
+    override func viewDidLoad() {
+        super.viewDidLoad()
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_ADD_MONEY",
+                                  comment: "Label for 'add money' view in the payment settings.")
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .done, target: self, action: #selector(didTapDone))
+
+        navigationItem.rightBarButtonItem = UIBarButtonItem(image: UIImage(named: "share-ios-24"),
+                                                            landscapeImagePhone: nil,
+                                                            style: .plain,
+                                                            target: self,
+                                                            action: #selector(didTapShare))
+
+        updateTableContents()
+    }
+
+    override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        updateTableContents()
+    }
+
+    private func updateTableContents() {
+        let contents = OWSTableContents()
+
+        let addressSection = OWSTableSection()
+        addressSection.hasBackground = false
+        addressSection.add(OWSTableItem(customCellBlock: { [weak self] in
+            let cell = OWSTableItem.newCell()
+            self?.configureAddressCell(cell: cell)
+            return cell
+        },
+        actionBlock: { [weak self] in
+            self?.didTapCopyAddress()
+        }))
+        contents.addSection(addressSection)
+
+        let infoSection = OWSTableSection()
+        infoSection.hasBackground = false
+        infoSection.add(OWSTableItem(customCellBlock: {
+            let cell = OWSTableItem.newCell()
+
+            let label1 = UILabel()
+            label1.text = NSLocalizedString("SETTINGS_PAYMENTS_ADD_MONEY_DESCRIPTION",
+                                            comment: "Explanation of the process for adding money in the 'add money' settings view.")
+            label1.textColor = Theme.secondaryTextAndIconColor
+            label1.font = .ows_dynamicTypeBody2Clamped
+            label1.numberOfLines = 0
+            label1.lineBreakMode = .byWordWrapping
+            label1.textAlignment = .center
+
+            let label2 = UILabel()
+            label2.text = CommonStrings.learnMore
+            label2.textColor = Theme.primaryTextColor
+            label2.font = UIFont.ows_dynamicTypeBody2Clamped.ows_semibold
+            label2.textAlignment = .center
+
+            let stack = UIStackView(arrangedSubviews: [label1, label2])
+            stack.axis = .vertical
+            stack.alignment = .center
+            stack.spacing = 8
+            cell.contentView.addSubview(stack)
+            stack.autoPinEdgesToSuperviewMargins()
+
+            return cell
+        },
+        actionBlock: { [weak self] in
+            self?.didTapLearnMore()
+        }))
+        contents.addSection(infoSection)
+
+        self.contents = contents
+    }
+
+    private func configureAddressCell(cell: UITableViewCell) {
+        func configureWithSubviews(subviews: [UIView]) {
+            let innerStack = UIStackView(arrangedSubviews: subviews)
+            innerStack.axis = .vertical
+            innerStack.alignment = .center
+            innerStack.layoutMargins = UIEdgeInsets(top: 44, leading: 44, bottom: 32, trailing: 44)
+            innerStack.isLayoutMarginsRelativeArrangement = true
+
+            let backgroundView = innerStack.addBackgroundView(withBackgroundColor: Theme.tableCell2BackgroundColor)
+            backgroundView.layer.cornerRadius = 10
+
+            let outerStack = UIStackView(arrangedSubviews: [innerStack])
+            outerStack.axis = .vertical
+            outerStack.alignment = .center
+            outerStack.layoutMargins = UIEdgeInsets(top: 40, leading: 40, bottom: 0, trailing: 40)
+            outerStack.isLayoutMarginsRelativeArrangement = true
+            cell.contentView.addSubview(outerStack)
+            outerStack.autoPinEdgesToSuperviewMargins()
+        }
+
+        func configureForError() {
+            let label = UILabel()
+            label.text = NSLocalizedString("SETTINGS_PAYMENTS_INVALID_WALLET_ADDRESS",
+                                           comment: "Indicator that the payments wallet address is invalid.")
+            label.textColor = Theme.primaryTextColor
+            label.font = UIFont.ows_dynamicTypeBody2Clamped.ows_semibold
+
+            configureWithSubviews(subviews: [label])
+        }
+
+        guard let walletAddressQRUrl = payments.walletAddressQRUrl(),
+              let walletAddressBase58 = payments.walletAddressBase58() else {
+            configureForError()
+            return
+        }
+        let qrImage: UIImage
+        do {
+            qrImage = try QRCodeView.buildQRImage(url: walletAddressQRUrl)
+        } catch {
+            owsFailDebug("Error: \(error)")
+            configureForError()
+            return
+        }
+
+        let qrCodeView = UIImageView(image: qrImage)
+        // Don't antialias QR Codes.
+        qrCodeView.layer.magnificationFilter = .nearest
+        qrCodeView.layer.minificationFilter = .nearest
+        let viewSize = view.bounds.size
+        let qrCodeSize = min(viewSize.width, viewSize.height) * 0.5
+        qrCodeView.autoSetDimensions(to: .square(qrCodeSize))
+
+        let titleLabel = UILabel()
+        titleLabel.text = NSLocalizedString("SETTINGS_PAYMENTS_WALLET_ADDRESS_LABEL",
+                                            comment: "Label for the payments wallet address.")
+        titleLabel.textColor = Theme.primaryTextColor
+        titleLabel.font = UIFont.ows_dynamicTypeBody2Clamped.ows_semibold
+        titleLabel.textAlignment = .center
+
+        let walletAddressLabel = UILabel()
+        walletAddressLabel.text = walletAddressBase58
+        walletAddressLabel.textColor = Theme.secondaryTextAndIconColor
+        walletAddressLabel.font = UIFont.ows_monospacedDigitFont(withSize: UIFont.ows_dynamicTypeBody2Clamped.pointSize)
+        walletAddressLabel.lineBreakMode = .byTruncatingMiddle
+        walletAddressLabel.textAlignment = .center
+
+        let copyLabel = UILabel()
+        copyLabel.text = CommonStrings.copyButton
+        copyLabel.textColor = Theme.accentBlueColor
+        copyLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped.ows_semibold
+
+        let copyStack = UIStackView(arrangedSubviews: [copyLabel])
+        copyStack.axis = .vertical
+        copyStack.layoutMargins = UIEdgeInsets(hMargin: 30, vMargin: 4)
+        copyStack.isLayoutMarginsRelativeArrangement = true
+        copyStack.addPillBackgroundView(backgroundColor: Theme.secondaryBackgroundColor)
+
+        configureWithSubviews(subviews: [
+            qrCodeView,
+            UIView.spacer(withHeight: 20),
+            titleLabel,
+            UIView.spacer(withHeight: 8),
+            walletAddressLabel,
+            UIView.spacer(withHeight: 20),
+            copyStack
+        ])
+    }
+
+    // MARK: - Events
+
+    private func didTapCopyAddress() {
+        AssertIsOnMainThread()
+
+        // TODO: Should this be the address b58 or the address url?
+        guard let walletAddressBase58 = payments.walletAddressBase58() else {
+            owsFailDebug("Missing walletAddressBase58.")
+            return
+        }
+        UIPasteboard.general.string = walletAddressBase58
+
+        presentToast(text: NSLocalizedString("SETTINGS_PAYMENTS_ADD_MONEY_WALLET_ADDRESS_COPIED",
+                                             comment: "Indicator that the payments wallet address has been copied to the pasteboard."))
+    }
+
+    @objc
+    func didTapDone() {
+        navigationController?.popViewController(animated: true)
+    }
+
+    @objc
+    func didTapShare() {
+        // TODO: Should this be walletAddressBase58 or walletAddressQRUrl?
+        guard let walletAddressQRUrl = payments.walletAddressQRUrl() else {
+            owsFailDebug("Missing walletAddressBase58.")
+            return
+        }
+        AttachmentSharing.showShareUI(forText: walletAddressQRUrl.absoluteString, sender: self)
+    }
+
+    @objc
+    func didTapLearnMore() {
+        // TODO:
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferOutViewController.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferOutViewController.swift
new file mode 100644
index 00000000000..51ae33a7073
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsTransferOutViewController.swift
@@ -0,0 +1,192 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import Lottie
+import MobileCoin
+
+@objc
+public class PaymentsTransferOutViewController: OWSTableViewController2 {
+
+    // TODO: Should this be a text area?
+    private let addressTextfield = UITextField()
+
+    private var addressValue: String? {
+        addressTextfield.text?.ows_stripped()
+    }
+
+    private var hasValidAddress: Bool {
+        guard let addressValue = addressValue else {
+            return false
+        }
+        // TODO:
+        return !addressValue.isEmpty
+    }
+
+    public override func viewDidLoad() {
+        super.viewDidLoad()
+
+        useThemeBackgroundColors = true
+
+        title = NSLocalizedString("SETTINGS_PAYMENTS_TRANSFER_OUT_TITLE",
+                                  comment: "Label for 'transfer currency out' view in the payment settings.")
+
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .cancel,
+                                                           target: self,
+                                                           action: #selector(didTapDismiss),
+                                                           accessibilityIdentifier: "dismiss")
+
+        createViews()
+
+        updateTableContents()
+
+        updateNavbar()
+    }
+
+    private func updateNavbar() {
+        let rightBarButtonItem = UIBarButtonItem(title: CommonStrings.nextButton,
+            style: .plain,
+            target: self,
+            action: #selector(didTapNext)
+        )
+        rightBarButtonItem.isEnabled = hasValidAddress
+        navigationItem.rightBarButtonItem = rightBarButtonItem
+    }
+
+    public override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        updateTableContents()
+        updateNavbar()
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        paymentsSwift.updateCurrentPaymentBalance()
+        paymentsCurrencies.updateConversationRatesIfStale()
+    }
+
+    private func createViews() {
+        addressTextfield.delegate = self
+        addressTextfield.textColor = Theme.primaryTextColor
+        addressTextfield.font = .ows_dynamicTypeBodyClamped
+        addressTextfield.keyboardAppearance = Theme.keyboardAppearance
+        addressTextfield.accessibilityIdentifier = "payments.transfer.out.addressTextfield"
+        addressTextfield.addTarget(self, action: #selector(addressDidChange), for: .editingChanged)
+        addressTextfield.placeholder = NSLocalizedString("SETTINGS_PAYMENTS_TRANSFER_OUT_PLACEHOLDER",
+                                                         comment: "Placeholder text for the address text field in the 'transfer currency out' settings view.")
+    }
+
+    @objc
+    private func updateTableContents() {
+        AssertIsOnMainThread()
+
+        let contents = OWSTableContents()
+
+        let section = OWSTableSection()
+        section.footerTitle = NSLocalizedString("SETTINGS_PAYMENTS_TRANSFER_OUT_FOOTER",
+                                                comment: "Footer of the 'transfer currency out' view in the payment settings.")
+        let addressTextfield = self.addressTextfield
+
+        let iconView = UIImageView.withTemplateImageName("qr-24", tintColor: Theme.primaryIconColor)
+        iconView.autoSetDimensions(to: .square(24))
+        iconView.setCompressionResistanceHigh()
+        iconView.setContentHuggingHigh()
+        iconView.isUserInteractionEnabled = true
+        iconView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(didTapScanQR)))
+
+        section.add(OWSTableItem(customCellBlock: {
+            let cell = OWSTableItem.newCell()
+
+            let stackView = UIStackView(arrangedSubviews: [ addressTextfield, iconView ])
+            stackView.axis = .horizontal
+            stackView.alignment = .center
+            stackView.spacing = 8
+            cell.contentView.addSubview(stackView)
+            stackView.autoPinEdgesToSuperviewMargins()
+
+            return cell
+        },
+        actionBlock: nil))
+        contents.addSection(section)
+
+        self.contents = contents
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapDismiss() {
+        dismiss(animated: true, completion: nil)
+    }
+
+    @objc
+    private func didTapNext() {
+        guard let publicAddress = tryToParseAddress() else {
+            // TODO: Copy from design.
+            OWSActionSheets.showErrorAlert(message: NSLocalizedString("SETTINGS_PAYMENTS_TRANSFER_OUT_INVALID_PUBLIC_ADDRESS",
+                                                                      comment: "Error indicating that MobileCoin public address is not valid."))
+            return
+        }
+        let recipient: SendPaymentRecipientImpl = .publicAddress(publicAddress: publicAddress)
+        let view = SendPaymentViewController(recipient: recipient,
+                                             paymentRequestModel: nil,
+                                             isOutgoingTransfer: true,
+                                             isStandaloneView: true)
+        view.delegate = self
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    private func tryToParseAddress() -> MobileCoin.PublicAddress? {
+        guard let text = addressTextfield.text?.ows_stripped() else {
+            return nil
+        }
+        if let publicAddressUrl = URL(string: text),
+           let publicAddress = PaymentsImpl.parse(publicAddressUrl: publicAddressUrl) {
+            return publicAddress
+        }
+        if let publicAddress = PaymentsImpl.parse(publicAddressBase58: text) {
+            return publicAddress
+        }
+        owsFailDebug("Could not parse value.")
+        return nil
+    }
+
+    @objc
+    private func addressDidChange() {
+        updateNavbar()
+    }
+
+    @objc
+    private func didTapScanQR() {
+        let view = PaymentsQRScanViewController(delegate: self)
+        navigationController?.pushViewController(view, animated: true)
+    }
+}
+
+// MARK: -
+
+extension PaymentsTransferOutViewController: UITextFieldDelegate {
+    public func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String) -> Bool {
+        return true
+    }
+}
+
+// MARK: -
+
+extension PaymentsTransferOutViewController: SendPaymentViewDelegate {
+    public func didSendPayment() {
+        dismiss(animated: true, completion: nil)
+    }
+}
+
+// MARK: -
+
+extension PaymentsTransferOutViewController: PaymentsQRScanDelegate {
+    public func didScanPaymentAddressQRCode(publicAddressBase58: String) {
+        addressTextfield.text = publicAddressBase58
+        updateNavbar()
+    }
+}
diff --git a/Signal/src/ViewControllers/AppSettings/Payments/PaymentsViewUtils.swift b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsViewUtils.swift
new file mode 100644
index 00000000000..775b5c98562
--- /dev/null
+++ b/Signal/src/ViewControllers/AppSettings/Payments/PaymentsViewUtils.swift
@@ -0,0 +1,285 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+public class PaymentsViewUtils: NSObject {
+
+    // MARK: - Dependencies
+
+    private static var databaseStorage: SDSDatabaseStorage {
+        return .shared
+    }
+
+    // MARK: -
+
+    @available(*, unavailable, message:"Do not instantiate this class.")
+    private override init() {}
+
+    public static func buildMemoLabel(memoMessage: String?) -> UIView? {
+        guard let memoMessage = memoMessage?.ows_stripped(),
+              memoMessage.count > 0 else {
+            return nil
+        }
+
+        let label = UILabel()
+        label.textColor = Theme.primaryTextColor
+        label.font = UIFont.ows_dynamicTypeBody2Clamped
+        label.textAlignment = .center
+        label.numberOfLines = 0
+        label.lineBreakMode = .byWordWrapping
+
+        let format = NSLocalizedString("SETTINGS_PAYMENTS_MEMO_MESSAGE_FORMAT",
+                                       comment: "Format string for payment memo messages. Embeds: {{ the memo message }}.")
+        label.text = String(format: format, memoMessage)
+
+        let stack = UIStackView(arrangedSubviews: [label])
+        stack.axis = .vertical
+        stack.layoutMargins = UIEdgeInsets(hMargin: 16, vMargin: 8)
+        stack.isLayoutMarginsRelativeArrangement = true
+
+        let backgroundView = OWSLayerView.pillView()
+        backgroundView.backgroundColor = Theme.secondaryBackgroundColor
+        stack.addSubview(backgroundView)
+        backgroundView.autoPinEdgesToSuperviewEdges()
+        stack.sendSubviewToBack(backgroundView)
+
+        return stack
+    }
+
+    static func buildUnidentifiedTransactionAvatar(avatarSize: UInt) -> UIView {
+        let circleView = OWSLayerView.circleView()
+        circleView.backgroundColor = (Theme.isDarkThemeEnabled ? .ows_gray75 : .ows_gray02)
+        circleView.autoSetDimensions(to: .square(CGFloat(avatarSize)))
+
+        let iconColor: UIColor = (Theme.isDarkThemeEnabled ? .ows_gray05 : .ows_gray75)
+        let iconView = UIImageView.withTemplateImageName("mobilecoin-24",
+                                                         tintColor: iconColor)
+        circleView.addSubview(iconView)
+        iconView.autoCenterInSuperview()
+        iconView.autoSetDimensions(to: .square(CGFloat(avatarSize) * 20.0 / 36.0))
+
+        return circleView
+    }
+
+    static func buildUnidentifiedTransactionString(paymentModel: TSPaymentModel) -> String {
+        // TODO: What is the correct value here?
+        owsAssertDebug(paymentModel.isUnidentified)
+        return paymentModel.uniqueId
+    }
+
+    // MARK: -
+
+    @objc
+    static func addUnreadBadge(toView: UIView) {
+        let avatarBadge = OWSLayerView.circleView(size: 12)
+        avatarBadge.backgroundColor = Theme.accentBlueColor
+        avatarBadge.layer.borderColor = UIColor.ows_white.cgColor
+        avatarBadge.layer.borderWidth = 1
+        toView.addSubview(avatarBadge)
+        avatarBadge.autoPinEdge(toSuperviewEdge: .top, withInset: -3)
+        avatarBadge.autoPinEdge(toSuperviewEdge: .trailing, withInset: -3)
+    }
+
+    static func markPaymentAsReadWithSneakyTransaction(_ paymentModel: TSPaymentModel) {
+        owsAssertDebug(paymentModel.isUnread)
+
+        databaseStorage.write { transaction in
+            paymentModel.update(withIsUnread: false, transaction: transaction)
+        }
+    }
+
+    static func markAllUnreadPaymentsAsReadWithSneakyTransaction() {
+        databaseStorage.write { transaction in
+            for paymentModel in PaymentFinder.allUnreadPaymentModels(transaction: transaction) {
+                owsAssertDebug(paymentModel.isUnread)
+                paymentModel.update(withIsUnread: false, transaction: transaction)
+            }
+        }
+    }
+}
+
+// MARK: -
+
+@objc
+public extension TSPaymentModel {
+
+    private static var statusDateShortFormatter: DateFormatter = {
+        let formatter = DateFormatter()
+        formatter.dateStyle = .short
+        formatter.timeStyle = .none
+        return formatter
+    }()
+
+    private static var statusDateTimeLongFormatter: DateFormatter = {
+        let formatter = DateFormatter()
+        formatter.dateStyle = .medium
+        formatter.timeStyle = .short
+        return formatter
+    }()
+
+    func statusDescription(isLongForm: Bool) -> String {
+        // PAYMENTS TODO: What's the correct copy here? What are all of the possible states?
+
+        //        let defaultState = (isLongForm
+        //                                ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_UNKNOWN",
+        //                                                    comment: "Status indicator for payments which had an unknown failure.")
+        //                                : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_UNKNOWN",
+        //                                                    comment: "Status indicator for payments which had an unknown failure."))
+
+        var result: String
+
+        if isOutgoingTransfer || isUnidentified {
+            if isOutgoing {
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_COMPLETE",
+                                                comment: "Status indicator for outgoing payments which are complete.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_COMPLETE",
+                                                comment: "Status indicator for outgoing payments which are complete."))
+            } else {
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_COMPLETE",
+                                                comment: "Status indicator for incoming payments which are complete.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_COMPLETE",
+                                                comment: "Status indicator for incoming payments which are complete."))
+            }
+        } else {
+            switch paymentState {
+            case .outgoingUnsubmitted:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_UNSUBMITTED",
+                                                comment: "Status indicator for outgoing payments which have not yet been submitted.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_UNSUBMITTED",
+                                                comment: "Status indicator for outgoing payments which have not yet been submitted."))
+            case .outgoingUnverified:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_UNVERIFIED",
+                                                comment: "Status indicator for outgoing payments which have been submitted but not yet verified.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_UNVERIFIED",
+                                                comment: "Status indicator for outgoing payments which have been submitted but not yet verified."))
+            case .outgoingVerified:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_VERIFIED",
+                                                comment: "Status indicator for outgoing payments which have been verified but not yet sent.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_VERIFIED",
+                                                comment: "Status indicator for outgoing payments which have been verified but not yet sent."))
+            //        case .outgoingSent:
+            case .outgoingSending:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_SENDING",
+                                                comment: "Status indicator for outgoing payments which are being sent.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SENDING",
+                                                comment: "Status indicator for outgoing payments which are being sent."))
+            //        case .outgoingSendFailed:
+            //            result = NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SEND_FAILED",
+            //                                       comment: "Status indicator for outgoing payments failed to be sent.")
+            case .outgoingSent,
+                 .outgoingMissingLedgerTimestamp,
+                 .outgoingComplete:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_SENT",
+                                                comment: "Status indicator for outgoing payments which have been sent.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SENT",
+                                                comment: "Status indicator for outgoing payments which have been sent."))
+            case .outgoingFailed:
+                result = Self.description(forFailure: paymentFailure, isIncoming: false, isLongForm: isLongForm)
+            case .incomingUnverified:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_UNVERIFIED",
+                                                comment: "Status indicator for incoming payments which have not yet been verified.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_UNVERIFIED",
+                                                comment: "Status indicator for incoming payments which have not yet been verified."))
+            //        case .incomingVerified:
+            case .incomingVerified,
+                 .incomingMissingLedgerTimestamp,
+                 .incomingComplete:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_VERIFIED",
+                                                comment: "Status indicator for incoming payments which have been verified.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_VERIFIED",
+                                                comment: "Status indicator for incoming payments which have been verified."))
+            case .incomingFailed:
+                result = Self.description(forFailure: paymentFailure, isIncoming: true, isLongForm: isLongForm)
+            //        case .incomingDuplicate:
+            //            // PAYMENTS TODO: We need copy from design.
+            //            result = NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_DUPLICATE",
+            //                                       comment: "Status indicator for incoming payments which are duplicates.")
+            //        case .incomingUnidentified:
+            //            if let mcReceiptData = self.mcReceiptData else {
+            //            } else {
+            //                result = defaultState
+            //            }
+            //            guard let
+            //             .outgoingUnidentified:
+            //            // TODO: This should use an identifier
+            @unknown default:
+                result = (isLongForm
+                            ? NSLocalizedString("PAYMENTS_PAYMENT_STATUS_LONG_UNKNOWN",
+                                                comment: "Status indicator for payments which had an unknown failure.")
+                            : NSLocalizedString("PAYMENTS_PAYMENT_STATUS_SHORT_UNKNOWN",
+                                                comment: "Status indicator for payments which had an unknown failure."))
+            }
+        }
+        result.append(" ")
+        result.append(Self.formateDate(sortDate, isLongForm: isLongForm))
+
+        return result
+    }
+
+    static func formateDate(_ date: Date, isLongForm: Bool) -> String {
+        if isLongForm {
+            return statusDateTimeLongFormatter.string(from: date)
+        } else {
+            return statusDateShortFormatter.string(from: date)
+        }
+    }
+
+    private static func description(forFailure failure: TSPaymentFailure,
+                                    isIncoming: Bool,
+                                    isLongForm: Bool) -> String {
+        // PAYMENTS TODO: What's the correct copy here? What are all of the possible states?
+
+        let defaultDescription = (isIncoming
+                                    ? NSLocalizedString("PAYMENTS_FAILURE_INCOMING_FAILED",
+                                                        comment: "Status indicator for incoming payments which failed.")
+                                    : NSLocalizedString("PAYMENTS_FAILURE_OUTGOING_FAILED",
+                                                        comment: "Status indicator for outgoing payments which failed."))
+
+        switch failure {
+        case .none:
+            // TODO: We should eventually convert this to an owsFailDebug().
+            Logger.warn("Unexpected failure type: \(failure.rawValue)")
+            if DebugFlags.paymentsIgnoreBadData.get() {
+            } else {
+                owsFailDebug("Unexpected failure type: \(failure.rawValue)")
+            }
+            return defaultDescription
+        case .unknown:
+            // TODO: We should eventually convert this to an owsFailDebug().
+            owsFailDebug("Unexpected failure type: \(failure.rawValue)")
+            return defaultDescription
+        case .insufficientFunds:
+            owsAssertDebug(!isIncoming)
+            return NSLocalizedString("PAYMENTS_FAILURE_OUTGOING_INSUFFICIENT_FUNDS",
+                                     comment: "Status indicator for outgoing payments which failed due to insufficient funds.")
+        case .validationFailed:
+            return (isIncoming
+                        ? NSLocalizedString("PAYMENTS_FAILURE_INCOMING_VALIDATION_FAILED",
+                                            comment: "Status indicator for incoming payments which failed to verify.")
+                        : NSLocalizedString("PAYMENTS_FAILURE_OUTGOING_VALIDATION_FAILED",
+                                            comment: "Status indicator for outgoing payments which failed to verify."))
+        case .notificationSendFailed:
+            owsAssertDebug(!isIncoming)
+            return NSLocalizedString("PAYMENTS_FAILURE_OUTGOING_NOTIFICATION_SEND_FAILED",
+                                     comment: "Status indicator for outgoing payments for which the notification could not be sent.")
+        case .invalid, .expired:
+            return NSLocalizedString("PAYMENTS_FAILURE_INVALID",
+                                     comment: "Status indicator for invalid payments which could not be processed.")
+        @unknown default:
+            owsFailDebug("Unknown failure type: \(failure.rawValue)")
+            return defaultDescription
+        }
+    }
+}
diff --git a/Signal/src/ViewControllers/Attachment Keyboard/AttachmentFormatPickerView.swift b/Signal/src/ViewControllers/Attachment Keyboard/AttachmentFormatPickerView.swift
index 425b5eda028..ba9b1209daa 100644
--- a/Signal/src/ViewControllers/Attachment Keyboard/AttachmentFormatPickerView.swift	
+++ b/Signal/src/ViewControllers/Attachment Keyboard/AttachmentFormatPickerView.swift	
@@ -11,6 +11,9 @@ protocol AttachmentFormatPickerDelegate: class {
     func didTapFile()
     func didTapContact()
     func didTapLocation()
+    func didTapPayment()
+
+    var isGroup: Bool { get }
 }
 
 class AttachmentFormatPickerView: UICollectionView {
@@ -25,6 +28,14 @@ class AttachmentFormatPickerView: UICollectionView {
 
     private let collectionViewFlowLayout = UICollectionViewFlowLayout()
 
+    private var isGroup: Bool {
+        guard let attachmentFormatPickerDelegate = attachmentFormatPickerDelegate else {
+            owsFailDebug("Missing attachmentFormatPickerDelegate.")
+            return false
+        }
+        return attachmentFormatPickerDelegate.isGroup
+    }
+
     init() {
         super.init(frame: .zero, collectionViewLayout: collectionViewFlowLayout)
 
@@ -64,15 +75,46 @@ enum AttachmentType: String, CaseIterable {
     case camera
     case gif
     case file
+    case payment
     case contact
     case location
+
+    // MARK: - Dependencies
+
+    private static var payments: PaymentsSwift {
+        SSKEnvironment.shared.payments as! PaymentsSwift
+    }
+
+    // MARK: -
+
+    static var contactCases: [AttachmentType] {
+        if payments.shouldShowPaymentsUI {
+            return allCases
+        } else {
+            return everythingExceptPayments
+        }
+    }
+
+    static var groupCases: [AttachmentType] {
+        everythingExceptPayments
+    }
+
+    static var everythingExceptPayments: [AttachmentType] {
+        return allCases.filter { (value: AttachmentType) in
+            value != .payment
+        }
+    }
+
+    static func cases(isGroup: Bool) -> [AttachmentType] {
+        return isGroup ? groupCases : contactCases
+    }
 }
 
 // MARK: - UICollectionViewDelegate
 
 extension AttachmentFormatPickerView: UICollectionViewDelegate {
     public func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
-        switch AttachmentType.allCases[indexPath.row] {
+        switch AttachmentType.cases(isGroup: isGroup)[indexPath.row] {
         case .camera:
             attachmentFormatPickerDelegate?.didTapCamera()
         case .contact:
@@ -83,6 +125,8 @@ extension AttachmentFormatPickerView: UICollectionViewDelegate {
             attachmentFormatPickerDelegate?.didTapGif()
         case .location:
             attachmentFormatPickerDelegate?.didTapLocation()
+        case .payment:
+            attachmentFormatPickerDelegate?.didTapPayment()
         }
     }
 }
@@ -96,7 +140,7 @@ extension AttachmentFormatPickerView: UICollectionViewDataSource {
     }
 
     public func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection sectionIdx: Int) -> Int {
-        return AttachmentType.allCases.count
+        return AttachmentType.cases(isGroup: isGroup).count
     }
 
     public func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -> UICollectionViewCell {
@@ -104,7 +148,7 @@ extension AttachmentFormatPickerView: UICollectionViewDataSource {
             owsFail("cell was unexpectedly nil")
         }
 
-        let type = AttachmentType.allCases[indexPath.item]
+        let type = AttachmentType.cases(isGroup: isGroup)[indexPath.item]
         cell.configure(type: type)
         return cell
     }
@@ -183,6 +227,9 @@ class AttachmentFormatCell: UICollectionViewCell {
         case .location:
             text = NSLocalizedString("ATTACHMENT_KEYBOARD_LOCATION", comment: "A button to select a location from the Attachment Keyboard")
             imageName = Theme.iconName(.attachmentLocation)
+        case .payment:
+            text = NSLocalizedString("ATTACHMENT_KEYBOARD_PAYMENT", comment: "A button to select a payment from the Attachment Keyboard")
+            imageName = Theme.iconName(.attachmentPayment)
         }
 
         // The light theme images come with a background baked in, so we don't tint them.
diff --git a/Signal/src/ViewControllers/Attachment Keyboard/AttachmentKeyboard.swift b/Signal/src/ViewControllers/Attachment Keyboard/AttachmentKeyboard.swift
index b119cb2f9a3..24fc27846a3 100644
--- a/Signal/src/ViewControllers/Attachment Keyboard/AttachmentKeyboard.swift	
+++ b/Signal/src/ViewControllers/Attachment Keyboard/AttachmentKeyboard.swift	
@@ -15,6 +15,8 @@ protocol AttachmentKeyboardDelegate {
     func didTapFile()
     func didTapContact()
     func didTapLocation()
+    func didTapPayment()
+    var isGroup: Bool { get }
 }
 
 class AttachmentKeyboard: CustomKeyboard {
@@ -238,6 +240,18 @@ extension AttachmentKeyboard: AttachmentFormatPickerDelegate {
     func didTapLocation() {
         delegate?.didTapLocation()
     }
+
+    func didTapPayment() {
+        delegate?.didTapPayment()
+    }
+
+    var isGroup: Bool {
+        guard let delegate = delegate else {
+            owsFailDebug("Missing delegate.")
+            return false
+        }
+        return delegate.isGroup
+    }
 }
 
 private class RecentPhotosErrorView: UIView {
diff --git a/Signal/src/ViewControllers/ContactsPicker.swift b/Signal/src/ViewControllers/ContactsPicker.swift
index b9bfd4b96c7..1076a6f5258 100644
--- a/Signal/src/ViewControllers/ContactsPicker.swift
+++ b/Signal/src/ViewControllers/ContactsPicker.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 //  Originally based on EPContacts
@@ -90,7 +90,7 @@ public class ContactsPicker: OWSViewController, UITableViewDelegate, UITableView
     override open func viewDidLoad() {
         super.viewDidLoad()
 
-        searchBar.placeholder = NSLocalizedString("INVITE_FRIENDS_PICKER_SEARCHBAR_PLACEHOLDER", comment: "Search")
+        searchBar.placeholder = CommonStrings.searchBarPlaceholder
 
         // Auto size cells for dynamic type
         tableView.estimatedRowHeight = 60.0
@@ -170,9 +170,9 @@ public class ContactsPicker: OWSViewController, UITableViewDelegate, UITableView
                 self.presentActionSheet(alert)
 
             case CNAuthorizationStatus.notDetermined:
-                //This case means the user is prompted for the first time for allowing contacts
+                // This case means the user is prompted for the first time for allowing contacts
                 contactStore.requestAccess(for: CNEntityType.contacts) { (granted, error) -> Void in
-                    //At this point an alert is provided to the user to provide access to contacts. This will get invoked if a user responds to the alert
+                    // At this point an alert is provided to the user to provide access to contacts. This will get invoked if a user responds to the alert
                     if granted {
                         self.getContacts(onError: errorHandler)
                     } else {
@@ -181,7 +181,7 @@ public class ContactsPicker: OWSViewController, UITableViewDelegate, UITableView
                 }
 
             case  CNAuthorizationStatus.authorized:
-                //Authorization granted by user for this app.
+                // Authorization granted by user for this app.
                 var contacts = [CNContact]()
 
                 do {
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
index e05227c1ff1..192f907e308 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponentDelegate.swift
@@ -193,6 +193,7 @@ struct CVMessageAction: Equatable {
     }
 
     enum Action: Equatable {
+        case none
         case cvc_didTapPreviouslyVerifiedIdentityChange(address: SignalServiceAddress)
         case cvc_didTapUnverifiedIdentityChange(address: SignalServiceAddress)
         case cvc_didTapInvalidIdentityKeyErrorMessage(errorMessage: TSInvalidIdentityKeyErrorMessage)
@@ -215,6 +216,8 @@ struct CVMessageAction: Equatable {
 
         func perform(delegate: CVComponentDelegate) {
             switch self {
+            case .none:
+                break
             case .cvc_didTapPreviouslyVerifiedIdentityChange(let address):
                 delegate.cvc_didTapPreviouslyVerifiedIdentityChange(address)
             case .cvc_didTapUnverifiedIdentityChange(let address):
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
index 811d5fe0107..c120b9c0fd0 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 import Foundation
@@ -37,7 +37,8 @@ public class CVComponentBottomButtons: CVComponentBase, CVComponent {
         stackView.apply(config: stackConfig)
 
         for action in actions {
-            let buttonView = ButtonView(action: action)
+            let buttonView = CVMessageActionButton(action: action)
+            buttonView.backgroundColor = Theme.conversationButtonBackgroundColor
             stackView.addArrangedSubview(buttonView)
             componentView.buttonViews.append(buttonView)
         }
@@ -47,13 +48,7 @@ public class CVComponentBottomButtons: CVComponentBase, CVComponent {
         CVStackViewConfig(axis: .vertical, alignment: .fill, spacing: Self.buttonSpacing, layoutMargins: .zero)
     }
 
-    fileprivate static var buttonHeight: CGFloat {
-        max(44, buttonFont.lineHeight + buttonVMargin * 2)
-    }
-    fileprivate static var buttonFont: UIFont {
-        UIFont.ows_dynamicTypeBodyClamped.ows_semibold
-    }
-    fileprivate static let buttonVMargin: CGFloat = 5
+    fileprivate static var buttonHeight: CGFloat { CVMessageActionButton.buttonHeight }
     fileprivate static let buttonSpacing: CGFloat = 1
 
     private var totalHeight: CGFloat {
@@ -64,35 +59,6 @@ public class CVComponentBottomButtons: CVComponentBase, CVComponent {
         return height
     }
 
-    fileprivate class ButtonView: UILabel {
-        fileprivate let action: CVMessageAction
-
-        required init(action: CVMessageAction) {
-            self.action = action
-
-            super.init(frame: .zero)
-
-            configure()
-        }
-
-        required init?(coder: NSCoder) {
-            fatalError("init(coder:) has not been implemented")
-        }
-
-        private func configure() {
-            layoutMargins = .zero
-            backgroundColor = Theme.conversationButtonBackgroundColor
-
-            text = action.title
-            font = CVComponentBottomButtons.buttonFont
-            textColor = Theme.conversationButtonTextColor
-            textAlignment = .center
-            autoSetDimension(.height, toSize: CVComponentBottomButtons.buttonHeight)
-            setContentHuggingVerticalHigh()
-            setCompressionResistanceVerticalHigh()
-        }
-    }
-
     public func measure(maxWidth: CGFloat, measurementBuilder: CVCellMeasurement.Builder) -> CGSize {
         owsAssertDebug(maxWidth > 0)
 
@@ -130,7 +96,7 @@ public class CVComponentBottomButtons: CVComponentBase, CVComponent {
     public class CVComponentViewBottomButtons: NSObject, CVComponentView {
 
         fileprivate let stackView = OWSStackView(name: "bottomButtons")
-        fileprivate var buttonViews = [ButtonView]()
+        fileprivate var buttonViews = [CVMessageActionButton]()
 
         public var isDedicatedCellView = false
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVMessageActionButton.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVMessageActionButton.swift
new file mode 100644
index 00000000000..846e60eea38
--- /dev/null
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVMessageActionButton.swift
@@ -0,0 +1,45 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+public class CVMessageActionButton: UILabel {
+    let action: CVMessageAction
+
+    required init(action: CVMessageAction) {
+        self.action = action
+
+        super.init(frame: .zero)
+
+        configure()
+    }
+
+    required init?(coder: NSCoder) {
+        fatalError("init(coder:) has not been implemented")
+    }
+
+    private func configure() {
+        layoutMargins = .zero
+
+        text = action.title
+        font = Self.buttonFont
+        textColor = (action.action == .none
+                        ? Theme.secondaryTextAndIconColor
+                        : Theme.conversationButtonTextColor)
+        textAlignment = .center
+        autoSetDimension(.height, toSize: Self.buttonHeight)
+        setContentHuggingVerticalHigh()
+        setCompressionResistanceVerticalHigh()
+    }
+
+    private static var buttonFont: UIFont {
+        UIFont.ows_dynamicTypeBodyClamped.ows_semibold
+    }
+
+    private static let buttonVMargin: CGFloat = 5
+
+    static var buttonHeight: CGFloat {
+        max(48, buttonFont.lineHeight + buttonVMargin * 2)
+    }
+}
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
index 99336b0a2b1..74fe90190ab 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.h
@@ -53,12 +53,16 @@ NS_ASSUME_NONNULL_BEGIN
 
 - (void)locationButtonPressed;
 
+- (void)paymentButtonPressed;
+
 - (void)didSelectRecentPhotoWithAsset:(PHAsset *)asset attachment:(SignalAttachment *)attachment;
 
 - (void)showUnblockConversationUI:(nullable BlockActionCompletionBlock)completionBlock;
 
 - (BOOL)isBlockedConversation;
 
+- (BOOL)isGroup;
+
 @end
 
 #pragma mark -
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
index b86205007c0..ab96d2de834 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
@@ -1624,6 +1624,16 @@ - (void)updateConversationStyle:(ConversationStyle *)conversationStyle
     _conversationStyle = conversationStyle;
 }
 
+- (void)didTapPayment
+{
+    [self.inputToolbarDelegate paymentButtonPressed];
+}
+
+- (BOOL)isGroup
+{
+    return self.inputToolbarDelegate.isGroup;
+}
+
 @end
 
 NS_ASSUME_NONNULL_END
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
index bd9cb5b98de..36f19ac7dcb 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
@@ -468,6 +468,7 @@ extension ConversationViewController: MessageDetailViewDelegate {
         navigationController?.popToViewController(self, animated: true)
     }
 }
+
 // MARK: -
 
 extension ConversationViewController: LongTextViewDelegate {
@@ -503,3 +504,13 @@ extension ConversationViewController: LongTextViewDelegate {
         }
     }
 }
+
+// MARK: -
+
+extension ConversationViewController: SendPaymentViewDelegate {
+    public func didSendPayment() {
+        let paymentSettingsView = PaymentsSettingsViewController(mode: .standalone)
+        let navigationController = OWSNavigationController(rootViewController: paymentSettingsView)
+        presentFormSheet(navigationController, animated: true)
+    }
+}
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
index 38e624fd937..3c3a6ce237f 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
@@ -923,6 +923,11 @@ - (BOOL)isBlockedConversation
     return [self.blockingManager isThreadBlocked:self.thread];
 }
 
+- (BOOL)isGroup
+{
+    return self.thread.isGroupThread;
+}
+
 - (int)blockedGroupMemberCount
 {
     OWSAssertDebug(self.isGroupConversation);
@@ -2692,6 +2697,36 @@ - (void)locationButtonPressed
     [self presentFormSheetViewController:navigationController animated:YES completion:nil];
 }
 
+- (void)paymentButtonPressed
+{
+    OWSAssertIsOnMainThread();
+
+    [self showSendPaymentUIWithPaymentRequest:nil];
+}
+
+- (void)showSendPaymentUIWithPaymentRequest:(nullable TSPaymentRequestModel *)paymentRequestModel
+{
+    OWSAssertIsOnMainThread();
+
+    if (!self.payments.arePaymentsEnabled) {
+        OWSFailDebug(@"Payments not enabled.");
+        return;
+    }
+    if (![self.thread isKindOfClass:[TSContactThread class]]) {
+        OWSFailDebug(@"Not a contact thread.");
+        return;
+    }
+
+    [self dismissKeyBoard];
+
+    TSContactThread *thread = (TSContactThread *)self.thread;
+    [SendPaymentViewController presentAsFormSheetFromViewController:self
+                                                           delegate:self
+                                                   recipientAddress:thread.contactAddress
+                                                paymentRequestModel:paymentRequestModel
+                                                 isOutgoingTransfer:NO];
+}
+
 - (void)didSelectRecentPhotoWithAsset:(PHAsset *)asset attachment:(SignalAttachment *)attachment
 {
     OWSAssertIsOnMainThread();
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
index bd5d971b9bf..1a4bcb05ca8 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
@@ -3160,6 +3160,7 @@ + (DebugUIMessagesAction *)sendContactShareMessageAction:(TSThread *)thread
                                        ActionFailureBlock failure) {
                                        OWSContact *contact = contactBlock(transaction);
                                        OWSLogVerbose(@"sending contact: %@", contact.debugDescription);
+        
                                        [ThreadUtil enqueueMessageWithContactShare:contact thread:thread];
 
                                        success();
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIPayments.swift b/Signal/src/ViewControllers/DebugUI/DebugUIPayments.swift
new file mode 100644
index 00000000000..9d2f9d2bd86
--- /dev/null
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIPayments.swift
@@ -0,0 +1,321 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import SignalServiceKit
+import SignalMessaging
+import PromiseKit
+
+#if DEBUG
+
+class DebugUIPayments: DebugUIPage {
+
+    // MARK: Dependencies
+
+    private static var databaseStorage: SDSDatabaseStorage {
+        return SDSDatabaseStorage.shared
+    }
+
+    private var databaseStorage: SDSDatabaseStorage {
+        return SDSDatabaseStorage.shared
+    }
+
+    private var tsAccountManager: TSAccountManager {
+        return .shared()
+    }
+
+    private var contactsManager: OWSContactsManager {
+        return Environment.shared.contactsManager
+    }
+
+    private static var payments: PaymentsSwift {
+        SSKEnvironment.shared.payments as! PaymentsSwift
+    }
+
+    // MARK: Overrides 
+
+    override func name() -> String {
+        return "Payments"
+    }
+
+    override func section(thread: TSThread?) -> OWSTableSection? {
+        var sectionItems = [OWSTableItem]()
+
+        if let contactThread = thread as? TSContactThread {
+            sectionItems.append(OWSTableItem(title: "Send payment request") { [weak self] in
+                self?.sendPaymentRequestMessage(contactThread: contactThread)
+            })
+            sectionItems.append(OWSTableItem(title: "Send payment notification") { [weak self] in
+                self?.sendPaymentNotificationMessage(contactThread: contactThread)
+            })
+            sectionItems.append(OWSTableItem(title: "Send payment cancellation") { [weak self] in
+                self?.sendPaymentCancellationMessage(contactThread: contactThread)
+            })
+            sectionItems.append(OWSTableItem(title: "Send payment request + cancellation") { [weak self] in
+                self?.sendPaymentRequestAndCancellation(contactThread: contactThread)
+            })
+            sectionItems.append(OWSTableItem(title: "Create all possible payment models") { [weak self] in
+                self?.insertAllPaymentModelVariations(contactThread: contactThread)
+            })
+            sectionItems.append(OWSTableItem(title: "Send tiny payments: 10") {
+                Self.sendTinyPayments(contactThread: contactThread, count: 10)
+            })
+            sectionItems.append(OWSTableItem(title: "Send tiny payments: 1000") {
+                Self.sendTinyPayments(contactThread: contactThread, count: 1000)
+            })
+        }
+
+        sectionItems.append(OWSTableItem(title: "Delete all payment models") { [weak self] in
+            self?.deleteAllPaymentModels()
+        })
+        sectionItems.append(OWSTableItem(title: "Reconcile now") {
+            Self.databaseStorage.write { transaction in
+                Self.payments.scheduleReconciliationNow(transaction: transaction)
+            }
+        })
+
+        return OWSTableSection(title: "Payments", items: sectionItems)
+    }
+
+    private func sendPaymentRequestMessage(contactThread: TSContactThread) {
+        let address = contactThread.contactAddress
+        let picoMob: UInt64 = 1 + UInt64(arc4random_uniform(255))
+        let paymentAmount = TSPaymentAmount(currency: .mobileCoin,
+                                            picoMob: picoMob)
+        let memoMessage = "Please pay me because: \(UUID().uuidString)."
+        firstly {
+            PaymentsImpl.sendPaymentRequestMessagePromise(address: address,
+                                                          paymentAmount: paymentAmount,
+                                                          memoMessage: memoMessage)
+        }.done { (_) -> Void in
+            Logger.info("Success.")
+        }.catch { error in
+            owsFailDebug("Error: \(error)")
+        }
+    }
+
+    private func sendPaymentNotificationMessage(contactThread: TSContactThread) {
+        let address = contactThread.contactAddress
+        // PAYMENTS TODO: Can we make this the right length?
+        let mcReceiptData = Randomness.generateRandomBytes(1)
+        let memoMessage = "I'm sending payment for: \(UUID().uuidString)."
+        firstly {
+            PaymentsImpl.sendPaymentNotificationMessagePromise(address: address,
+                                                               memoMessage: memoMessage,
+                                                               mcReceiptData: mcReceiptData,
+                                                               requestUuidString: nil)
+        }.done { (_) -> Void in
+            Logger.info("Success.")
+        }.catch { error in
+            owsFailDebug("Error: \(error)")
+        }
+    }
+
+    private func sendPaymentCancellationMessage(contactThread: TSContactThread) {
+        let address = contactThread.contactAddress
+        firstly { () -> Promise<OWSOutgoingPaymentMessage> in
+            let requestUuidString = UUID().uuidString
+            return PaymentsImpl.sendPaymentCancellationMessagePromise(address: address,
+                                                                      requestUuidString: requestUuidString)
+        }.done { (_) -> Void in
+            Logger.info("Success.")
+        }.catch { error in
+            owsFailDebug("Error: \(error)")
+        }
+    }
+
+    private func sendPaymentRequestAndCancellation(contactThread: TSContactThread) {
+        let address = contactThread.contactAddress
+        let picoMob: UInt64 = 1 + UInt64(arc4random_uniform(255))
+        let paymentAmount = TSPaymentAmount(currency: .mobileCoin,
+                                            picoMob: picoMob)
+        let memoMessage = "Please pay me because: \(UUID().uuidString)."
+        firstly { () -> Promise<OWSOutgoingPaymentMessage> in
+            PaymentsImpl.sendPaymentRequestMessagePromise(address: address,
+                                                          paymentAmount: paymentAmount,
+                                                          memoMessage: memoMessage)
+        }.then { (requestMessage: OWSOutgoingPaymentMessage) -> Promise<OWSOutgoingPaymentMessage> in
+            guard let requestUuidString = requestMessage.paymentRequest?.requestUuidString else {
+                throw OWSAssertionError("Missing requestUuidString.")
+            }
+            return PaymentsImpl.sendPaymentCancellationMessagePromise(address: address,
+                                                                      requestUuidString: requestUuidString)
+        }.done { (_) -> Void in
+            Logger.info("Success.")
+        }.catch { error in
+            owsFailDebug("Error: \(error)")
+        }
+    }
+
+    private func insertAllPaymentModelVariations(contactThread: TSContactThread) {
+        let address = contactThread.contactAddress
+        let uuid = address.uuid!
+
+        databaseStorage.write { transaction in
+            let paymentAmounts = [
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1),
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1000),
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1000 * 1000),
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1000 * 1000 * 1000),
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1000 * 1000 * 1000 * 1000),
+                TSPaymentAmount(currency: .mobileCoin, picoMob: 1000 * 1000 * 1000 * 1000 * 1000)
+            ]
+
+            func insertPaymentModel(paymentType: TSPaymentType,
+                                    paymentState: TSPaymentState) -> TSPaymentModel {
+                let mcReceiptData = Randomness.generateRandomBytes(32)
+                var mcTransactionData: Data?
+                if paymentState.isIncoming {
+                } else {
+                    mcTransactionData = Randomness.generateRandomBytes(32)
+                }
+                var memoMessage: String?
+                if arc4random_uniform(2) == 0 {
+                    memoMessage = "Pizza Party "
+                }
+                var addressUuidString: String?
+                if !paymentType.isUnidentified {
+                    addressUuidString = uuid.uuidString
+                }
+                // TODO: requestUuidString
+                // TODO: isUnread
+                // TODO: mcRecipientPublicAddressData
+                // TODO: mobileCoin
+                // TODO: feeAmount
+
+                let mobileCoin = MobileCoinPayment(recipientPublicAddressData: nil,
+                                                   transactionData: mcTransactionData,
+                                                   receiptData: mcReceiptData,
+                                                   incomingTransactionPublicKeys: nil,
+                                                   spentKeyImages: nil,
+                                                   outputPublicKeys: nil,
+                                                   ledgerBlockTimestamp: 0,
+                                                   ledgerBlockIndex: 0,
+                                                   feeAmount: nil)
+
+                let paymentModel = TSPaymentModel(paymentType: paymentType,
+                                                  paymentState: paymentState,
+                                                  paymentAmount: paymentAmounts.randomElement()!,
+                                                  createdDate: Date(),
+                                                  addressUuidString: addressUuidString,
+                                                  memoMessage: memoMessage,
+                                                  requestUuidString: nil,
+                                                  isUnread: false,
+                                                  mobileCoin: mobileCoin)
+                do {
+                    try Self.payments.tryToInsertPaymentModel(paymentModel, transaction: transaction)
+                } catch {
+                    owsFailDebug("Error: \(error)")
+                }
+                return paymentModel
+            }
+
+            var paymentModel: TSPaymentModel
+
+            // MARK: - Incoming
+
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingUnverified)
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingVerified)
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingMissingLedgerTimestamp)
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingComplete)
+
+            // MARK: - Outgoing
+
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingUnsubmitted)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingUnverified)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingVerified)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingSending)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingSent)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingMissingLedgerTimestamp)
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingComplete)
+
+            // MARK: - Failures
+
+            // TODO: We probably don't want to create .none and .unknown
+//            paymentModel = insertPaymentModel(paymentState: .outgoingFailed)
+//            paymentModel.update(withPaymentFailure: .none,
+//                                paymentState: .outgoingFailed,
+//                                transaction: transaction)
+//
+//            paymentModel = insertPaymentModel(paymentState: .incomingFailed)
+//            paymentModel.update(withPaymentFailure: .none,
+//                                paymentState: .incomingFailed,
+//                                transaction: transaction)
+//
+//            paymentModel = insertPaymentModel(paymentState: .outgoingFailed)
+//            paymentModel.update(withPaymentFailure: .unknown,
+//                                paymentState: .outgoingFailed,
+//                                transaction: transaction)
+//
+//            paymentModel = insertPaymentModel(paymentState: .incomingFailed)
+//            paymentModel.update(withPaymentFailure: .unknown,
+//                                paymentState: .incomingFailed,
+//                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingFailed)
+            paymentModel.update(withPaymentFailure: .insufficientFunds,
+                                paymentState: .outgoingFailed,
+                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingFailed)
+            paymentModel.update(withPaymentFailure: .validationFailed,
+                                paymentState: .outgoingFailed,
+                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingFailed)
+            paymentModel.update(withPaymentFailure: .validationFailed,
+                                paymentState: .incomingFailed,
+                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingFailed)
+            paymentModel.update(withPaymentFailure: .notificationSendFailed,
+                                paymentState: .outgoingFailed,
+                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .incomingPayment, paymentState: .incomingFailed)
+            paymentModel.update(withPaymentFailure: .invalid,
+                                paymentState: .incomingFailed,
+                                transaction: transaction)
+
+            paymentModel = insertPaymentModel(paymentType: .outgoingPayment, paymentState: .outgoingFailed)
+            paymentModel.update(withPaymentFailure: .invalid,
+                                paymentState: .outgoingFailed,
+                                transaction: transaction)
+
+            // MARK: - Unidentified
+
+            paymentModel = insertPaymentModel(paymentType: .incomingUnidentified, paymentState: .incomingComplete)
+            paymentModel = insertPaymentModel(paymentType: .outgoingUnidentified, paymentState: .outgoingComplete)
+        }
+    }
+
+    private static func sendTinyPayments(contactThread: TSContactThread, count: UInt) {
+        let picoMob = UInt64(1 + arc4random_uniform(1000))
+        let paymentAmount = TSPaymentAmount(currency: .mobileCoin, picoMob: picoMob)
+        firstly(on: .global()) { () -> Promise<TSPaymentModel> in
+            let recipient = SendPaymentRecipientImpl.address(address: contactThread .contactAddress)
+            return Self.payments.submitPaymentTransaction(recipient: recipient,
+                                                          paymentAmount: paymentAmount,
+                                                          memoMessage: "Tiny: \(count)",
+                                                          paymentRequestModel: nil,
+                                                          isOutgoingTransfer: false)
+        }.done(on: .global()) { _ in
+            if count > 1 {
+                Self.sendTinyPayments(contactThread: contactThread, count: count - 1)
+            } else {
+                Logger.info("Complete.")
+            }
+        }.catch(on: .global()) { error in
+            owsFailDebug("Error: \(error)")
+        }
+    }
+
+    private func deleteAllPaymentModels() {
+        databaseStorage.write { transaction in
+            TSPaymentModel.anyRemoveAllWithInstantation(transaction: transaction)
+        }
+    }
+}
+
+#endif
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
index 2fed2e26475..6e20e4adf08 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
@@ -128,6 +128,9 @@ + (void)presentDebugUIForThread:(TSThread *)thread fromViewController:(UIViewCon
     [subsectionItems addObject:[self itemForSubsection:[DebugUIGroupsV2 new]
                                         viewController:viewController
                                                 thread:thread]];
+    [subsectionItems addObject:[self itemForSubsection:[DebugUIPayments new]
+                                        viewController:viewController
+                                                thread:thread]];
     [subsectionItems addObject:[self itemForSubsection:[DebugUIMisc new] viewController:viewController thread:thread]];
 
     [contents addSection:[OWSTableSection sectionWithTitle:@"Sections" items:subsectionItems]];
@@ -154,6 +157,7 @@ + (void)presentDebugUIFromViewController:(UIViewController *)fromViewController
     [subsectionItems
         addObject:[self itemForSubsection:[DebugUISyncMessages new] viewController:viewController thread:nil]];
     [subsectionItems addObject:[self itemForSubsection:[DebugUIGroupsV2 new] viewController:viewController thread:nil]];
+    [subsectionItems addObject:[self itemForSubsection:[DebugUIPayments new] viewController:viewController thread:nil]];
     [subsectionItems addObject:[self itemForSubsection:[DebugUIScreenshots new]
                                         viewController:viewController
                                                 thread:nil]];
diff --git a/Signal/src/ViewControllers/GroupMigrationActionSheet.swift b/Signal/src/ViewControllers/GroupMigrationActionSheet.swift
index 083d3488921..e2f8c3d4e0e 100644
--- a/Signal/src/ViewControllers/GroupMigrationActionSheet.swift
+++ b/Signal/src/ViewControllers/GroupMigrationActionSheet.swift
@@ -465,10 +465,7 @@ public class GroupMigrationActionSheet: UIView {
             owsFailDebug("Missing frontmostViewController.")
             return
         }
-
-        let toastController = ToastController(text: text)
-        let toastInset = viewController.bottomLayoutGuide.length + 8
-        toastController.presentToastView(fromBottomOfView: viewController.view, inset: toastInset)
+        viewController.presentToast(text: text)
     }
 
     // MARK: - Events
diff --git a/Signal/src/ViewControllers/HomeView/ConversationListViewController.h b/Signal/src/ViewControllers/HomeView/ConversationListViewController.h
index b215955568c..54af6186f49 100644
--- a/Signal/src/ViewControllers/HomeView/ConversationListViewController.h
+++ b/Signal/src/ViewControllers/HomeView/ConversationListViewController.h
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 #import "ConversationViewController.h"
@@ -29,7 +29,6 @@ typedef NS_ENUM(NSInteger, ConversationListViewControllerSection) {
 // Used by force-touch Springboard icon shortcut and key commands
 - (void)showNewConversationView;
 - (void)showNewGroupView;
-- (void)showAppSettings;
 - (void)focusSearch;
 - (void)selectPreviousConversation;
 - (void)selectNextConversation;
diff --git a/Signal/src/ViewControllers/HomeView/ConversationListViewController.m b/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
index 4348eda192e..914ffe3bd9d 100644
--- a/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
+++ b/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
@@ -90,11 +90,15 @@ @interface ConversationListViewController () <UITableViewDelegate,
 @property (nonatomic, readonly) UIView *deregisteredView;
 @property (nonatomic, readonly) UIView *outageView;
 @property (nonatomic, readonly) UIView *archiveReminderView;
+@property (nonatomic, readonly) UIView *paymentsReminderView;
 
 @property (nonatomic) BOOL hasArchivedThreadsRow;
 @property (nonatomic) BOOL hasThemeChanged;
 @property (nonatomic) BOOL hasVisibleReminders;
 
+@property (nonatomic) NSUInteger unreadPaymentNotificationsCount;
+@property (nonatomic, nullable) TSPaymentModel *firstUnreadPaymentModel;
+
 @end
 
 #pragma mark -
@@ -354,6 +358,11 @@ - (void)loadView
     [reminderStackView addArrangedSubview:archiveReminderView];
     SET_SUBVIEW_ACCESSIBILITY_IDENTIFIER(self, archiveReminderView);
 
+    UIView *paymentsReminderView = [UIView new];
+    _paymentsReminderView = paymentsReminderView;
+    [reminderStackView addArrangedSubview:paymentsReminderView];
+    SET_SUBVIEW_ACCESSIBILITY_IDENTIFIER(self, paymentsReminderView);
+
     self.tableView = [[UITableView alloc] initWithFrame:CGRectZero style:UITableViewStyleGrouped];
     self.tableView.delegate = self;
     self.tableView.dataSource = self;
@@ -578,8 +587,24 @@ - (void)updateReminderViews
     self.expiredView.hidden = !AppExpiry.shared.isExpiringSoon;
     [self.expiredView updateText];
 
+    if (self.unreadPaymentNotificationsCount == 0 || self.firstUnreadPaymentModel == nil) {
+        self.paymentsReminderView.hidden = YES;
+    } else if (self.unreadPaymentNotificationsCount == 1 && self.firstUnreadPaymentModel != nil) {
+        self.paymentsReminderView.hidden = NO;
+
+        [self.databaseStorage uiReadWithBlock:^(SDSAnyReadTransaction *transaction) {
+            [self configureUnreadPaymentsBannerSingle:self.paymentsReminderView
+                                         paymentModel:self.firstUnreadPaymentModel
+                                          transaction:transaction];
+        }];
+    } else {
+        self.paymentsReminderView.hidden = NO;
+        [self configureUnreadPaymentsBannerMultiple:self.paymentsReminderView
+                                        unreadCount:self.unreadPaymentNotificationsCount];
+    }
+
     self.hasVisibleReminders = (!self.archiveReminderView.isHidden || !self.deregisteredView.isHidden
-        || !self.outageView.isHidden || !self.expiredView.isHidden);
+        || !self.outageView.isHidden || !self.expiredView.isHidden || !self.paymentsReminderView.isHidden);
 }
 
 - (void)setHasVisibleReminders:(BOOL)hasVisibleReminders
@@ -760,7 +785,15 @@ - (void)updateBarButtonItems
     [avatarButton autoSetDimension:ALDimensionWidth toSize:kAvatarSize];
     [avatarButton autoSetDimension:ALDimensionHeight toSize:kAvatarSize];
 
-    UIBarButtonItem *settingsButton = [[UIBarButtonItem alloc] initWithCustomView:avatarButton];
+    UIView *avatarWrapper = [UIView containerView];
+    [avatarWrapper addSubview:avatarButton];
+    [avatarButton autoPinEdgesToSuperviewEdges];
+
+    if (self.unreadPaymentNotificationsCount > 0) {
+        [PaymentsViewUtils addUnreadBadgeToView:avatarWrapper];
+    }
+
+    UIBarButtonItem *settingsButton = [[UIBarButtonItem alloc] initWithCustomView:avatarWrapper];
 
     settingsButton.accessibilityLabel = CommonStrings.openSettingsButton;
     self.navigationItem.leftBarButtonItem = settingsButton;
@@ -839,19 +872,6 @@ - (void)showNewGroupView
     }];
 }
 
-- (void)showAppSettings
-{
-    OWSAssertIsOnMainThread();
-
-    OWSLogInfo(@"");
-
-    // Dismiss any message actions if they're presented
-    [self.conversationSplitViewController.selectedConversationViewController dismissMessageActionsAnimated:YES];
-
-    OWSNavigationController *navigationController = [AppSettingsViewController inModalNavigationController];
-    [self presentFormSheetViewController:navigationController animated:YES completion:nil];
-}
-
 - (void)focusSearch
 {
     OWSAssertIsOnMainThread();
@@ -1016,6 +1036,8 @@ - (void)viewWillAppear:(BOOL)animated
     }
 
     [self.searchResultsController viewWillAppear:animated];
+
+    [self updateUnreadPaymentNotificationsCountWithSneakyTransaction];
 }
 
 - (void)viewWillDisappear:(BOOL)animated
@@ -1396,6 +1418,9 @@ - (UITableViewCell *)cellForArchivedConversationsRow:(UITableView *)tableView
 
 - (TSThread *)threadForIndexPath:(NSIndexPath *)indexPath
 {
+    OWSAssertDebug(indexPath.section == ConversationListViewControllerSectionPinned
+        || indexPath.section == ConversationListViewControllerSectionUnpinned);
+
     return [self.threadMapping threadForIndexPath:indexPath];
 }
 
@@ -2029,16 +2054,18 @@ - (BOOL)canPresentPreviewFromIndexPath:(nullable NSIndexPath *)indexPath
     NSString *currentSelectedThreadId = self.conversationSplitViewController.selectedThread.uniqueId;
     if (!indexPath) {
         return NO;
-    } else if ([[self threadForIndexPath:indexPath].uniqueId isEqual:currentSelectedThreadId]) {
-        // Currently, no previewing the currently selected thread.
-        // Though, in a scene-aware, multiwindow world, we may opt to permit this.
-        // If only to allow the user to pick up and drag a conversation to a new window.
-        return NO;
     } else {
         switch (indexPath.section) {
             case ConversationListViewControllerSectionPinned:
             case ConversationListViewControllerSectionUnpinned:
-                return YES;
+                if ([[self threadForIndexPath:indexPath].uniqueId isEqual:currentSelectedThreadId]) {
+                    // Currently, no previewing the currently selected thread.
+                    // Though, in a scene-aware, multiwindow world, we may opt to permit this.
+                    // If only to allow the user to pick up and drag a conversation to a new window.
+                    return NO;
+                } else {
+                    return YES;
+                }
             default:
                 return NO;
         }
@@ -2080,6 +2107,10 @@ - (void)uiDatabaseSnapshotDidUpdateWithDatabaseChanges:(id<UIDatabaseChanges>)da
     OWSAssertIsOnMainThread();
     OWSAssert(StorageCoordinator.dataStoreForUI == DataStoreGrdb);
 
+    if ([databaseChanges didUpdateModelWithCollection:TSPaymentModel.collection]) {
+        [self updateUnreadPaymentNotificationsCountWithSneakyTransaction];
+    }
+
     if (!self.shouldObserveDBModifications) {
         return;
     }
@@ -2087,6 +2118,26 @@ - (void)uiDatabaseSnapshotDidUpdateWithDatabaseChanges:(id<UIDatabaseChanges>)da
     [self anyUIDBDidUpdateWithUpdatedThreadIds:databaseChanges.threadUniqueIds];
 }
 
+- (void)updateUnreadPaymentNotificationsCountWithSneakyTransaction
+{
+    __block NSUInteger unreadPaymentNotificationsCount;
+    __block TSPaymentModel *_Nullable firstUnreadPaymentModel;
+    [self.databaseStorage uiReadWithBlock:^(SDSAnyReadTransaction *transaction) {
+        unreadPaymentNotificationsCount = [PaymentFinder unreadCountWithTransaction:transaction];
+        firstUnreadPaymentModel = [PaymentFinder firstUnreadPaymentModelWithTransaction:transaction];
+    }];
+    if (self.unreadPaymentNotificationsCount == unreadPaymentNotificationsCount &&
+        [NSObject isNullableObject:self.firstUnreadPaymentModel equalTo:firstUnreadPaymentModel]) {
+        return;
+    }
+
+    self.unreadPaymentNotificationsCount = unreadPaymentNotificationsCount;
+    self.firstUnreadPaymentModel = firstUnreadPaymentModel;
+
+    [self updateBarButtonItems];
+    [self updateReminderViews];
+}
+
 - (void)uiDatabaseSnapshotDidUpdateExternally
 {
     OWSAssertIsOnMainThread();
diff --git a/Signal/src/ViewControllers/HomeView/ConversationListViewController.swift b/Signal/src/ViewControllers/HomeView/ConversationListViewController.swift
new file mode 100644
index 00000000000..5a1b79d4096
--- /dev/null
+++ b/Signal/src/ViewControllers/HomeView/ConversationListViewController.swift
@@ -0,0 +1,212 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+
+@objc
+public extension ConversationListViewController {
+
+    func configureUnreadPaymentsBannerSingle(_ paymentsReminderView: UIView,
+                                             paymentModel: TSPaymentModel,
+                                             transaction: SDSAnyReadTransaction) {
+
+        guard paymentModel.isIncoming,
+              !paymentModel.isUnidentified,
+              let address = paymentModel.address,
+              let paymentAmount = paymentModel.paymentAmount,
+              paymentAmount.isValid else {
+            configureUnreadPaymentsBannerMultiple(paymentsReminderView, unreadCount: 1)
+            return
+        }
+        guard let contactThread = TSContactThread.getWithContactAddress(address, transaction: transaction) else {
+            configureUnreadPaymentsBannerMultiple(paymentsReminderView, unreadCount: 1)
+            return
+        }
+
+        let userName = contactsManager.shortDisplayName(for: address, transaction: transaction)
+        let formattedAmount = PaymentsImpl.format(paymentAmount: paymentAmount)
+        let format = NSLocalizedString("PAYMENTS_NOTIFICATION_BANNER_1_WITH_DETAILS_FORMAT",
+                                       comment: "Format for the payments notification banner for a single payment notification with details. Embeds: {{ %1$@ the name of the user who sent you the payment, %2$@ the amount of the payment }}.")
+        let title = String(format: format, userName, formattedAmount)
+
+        let avatarImage = OWSContactAvatarBuilder(address: address,
+                                                  colorName: contactThread.conversationColorName,
+                                                  diameter: Self.paymentsBannerAvatarSize,
+                                                  transaction: transaction).build(with: transaction)
+        let avatarView = AvatarImageView(image: avatarImage)
+
+        let paymentsHistoryItem = PaymentsHistoryItem(paymentModel: paymentModel,
+                                                      displayName: userName,
+                                                      conversationColorName: contactThread.conversationColorName)
+
+        configureUnreadPaymentsBanner(paymentsReminderView,
+                                      title: title,
+                                      avatarView: avatarView) { [weak self] in
+            self?.showAppSettings(mode: .payment(paymentsHistoryItem: paymentsHistoryItem))
+        }
+    }
+
+    func configureUnreadPaymentsBannerMultiple(_ paymentsReminderView: UIView,
+                                               unreadCount: UInt) {
+        let title: String
+        if unreadCount == 1 {
+            title = NSLocalizedString("PAYMENTS_NOTIFICATION_BANNER_1",
+                                      comment: "Label for the payments notification banner for a single payment notification.")
+        } else {
+            let format = NSLocalizedString("PAYMENTS_NOTIFICATION_BANNER_N_FORMAT",
+                                           comment: "Format for the payments notification banner for multiple payment notifications. Embeds: {{ the number of unread payment notifications }}.")
+            title = String(format: format, OWSFormat.formatUInt(unreadCount))
+        }
+
+        // TODO: Colors pending.
+        let iconView = UIImageView.withTemplateImageName(Theme.iconName(.paymentNotification),
+                                                         tintColor: (Theme.isDarkThemeEnabled
+                                                                        ? .ows_gray15
+                                                                        : .ows_white))
+        iconView.autoSetDimensions(to: .square(24))
+        let iconCircleView = OWSLayerView.circleView(size: CGFloat(Self.paymentsBannerAvatarSize))
+        iconCircleView.backgroundColor = (Theme.isDarkThemeEnabled
+                                            ? .ows_gray80
+                                            : .ows_gray95)
+        iconCircleView.addSubview(iconView)
+        iconView.autoCenterInSuperview()
+
+        configureUnreadPaymentsBanner(paymentsReminderView,
+                                      title: title,
+                                      avatarView: iconCircleView) { [weak self] in
+            self?.showAppSettings(mode: .payments)
+        }
+    }
+
+    private static let paymentsBannerAvatarSize: UInt = 40
+
+    private class PaymentsBannerView: UIView {
+        let block: () -> Void
+
+        required init(block: @escaping () -> Void) {
+            self.block = block
+
+            super.init(frame: .zero)
+
+            isUserInteractionEnabled = true
+            addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(didTap)))
+        }
+
+        required init?(coder: NSCoder) {
+            fatalError("init(coder:) has not been implemented")
+        }
+
+        @objc
+        func didTap() {
+            block()
+        }
+    }
+
+    private func configureUnreadPaymentsBanner(_ paymentsReminderView: UIView,
+                                               title: String,
+                                               avatarView: UIView,
+                                               block: @escaping () -> Void) {
+        paymentsReminderView.removeAllSubviews()
+
+        let paymentsBannerView = PaymentsBannerView(block: block)
+        paymentsReminderView.addSubview(paymentsBannerView)
+        paymentsBannerView.autoPinEdgesToSuperviewEdges()
+
+        if UIDevice.current.isIPad {
+            paymentsReminderView.backgroundColor = (Theme.isDarkThemeEnabled
+                                                        ? .ows_gray75
+                                                        : .ows_gray05)
+        } else {
+            paymentsReminderView.backgroundColor = (Theme.isDarkThemeEnabled
+                                                        ? .ows_gray90
+                                                        : .ows_gray02)
+        }
+
+        avatarView.autoSetDimensions(to: .square(CGFloat(Self.paymentsBannerAvatarSize)))
+        avatarView.setCompressionResistanceHigh()
+        avatarView.setContentHuggingHigh()
+
+        let titleLabel = UILabel()
+        titleLabel.text = title
+        titleLabel.textColor = Theme.primaryTextColor
+        titleLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped.ows_semibold
+
+        let viewLabel = UILabel()
+        viewLabel.text = CommonStrings.viewButton
+        viewLabel.textColor = Theme.accentBlueColor
+        viewLabel.font = UIFont.ows_dynamicTypeSubheadlineClamped
+
+        let textStack = UIStackView(arrangedSubviews: [ titleLabel, viewLabel ])
+        textStack.axis = .vertical
+        textStack.alignment = .leading
+
+        let dismissButton = OWSLayerView.circleView(size: 20)
+        dismissButton.backgroundColor = (Theme.isDarkThemeEnabled
+                                                    ? .ows_gray65
+                                                    : .ows_gray05)
+        dismissButton.setCompressionResistanceHigh()
+        dismissButton.setContentHuggingHigh()
+
+        let dismissIcon = UIImageView.withTemplateImageName("x-16",
+                                                            tintColor: (Theme.isDarkThemeEnabled
+                                                                            ? .ows_white
+                                                                            : .ows_gray60))
+        dismissIcon.autoSetDimensions(to: .square(16))
+        dismissButton.addSubview(dismissIcon)
+        dismissIcon.autoCenterInSuperview()
+
+        let stack = UIStackView(arrangedSubviews: [ avatarView,
+                                                    textStack,
+                                                    dismissButton ])
+        stack.axis = .horizontal
+        stack.alignment = .center
+        stack.spacing = 10
+        stack.layoutMargins = UIEdgeInsets(hMargin: OWSTableViewController2.cellHOuterMargin,
+                                           vMargin: OWSTableViewController2.cellVInnerMargin)
+        stack.isLayoutMarginsRelativeArrangement = true
+        paymentsBannerView.addSubview(stack)
+        stack.autoPinEdgesToSuperviewEdges()
+    }
+}
+
+// MARK: -
+
+public extension ConversationListViewController {
+    enum ShowAppSettingsMode {
+        case none
+        case payments
+        case payment(paymentsHistoryItem: PaymentsHistoryItem)
+    }
+
+    @objc
+    func showAppSettings() {
+        showAppSettings(mode: .none)
+    }
+
+    func showAppSettings(mode: ShowAppSettingsMode) {
+        AssertIsOnMainThread()
+
+        Logger.info("")
+
+        // Dismiss any message actions if they're presented
+        conversationSplitViewController?.selectedConversationViewController?.dismissMessageActions(animated: true)
+
+        let navigationController = AppSettingsViewController.inModalNavigationController()
+
+        switch mode {
+        case .none:
+            break
+        case .payments:
+            let paymentSettings = PaymentsSettingsViewController(mode: .inAppSettings)
+            navigationController.pushViewController(paymentSettings, animated: false)
+        case .payment(let paymentsHistoryItem):
+            let paymentSettings = PaymentsSettingsViewController(mode: .inAppSettings)
+            navigationController.pushViewController(paymentSettings, animated: false)
+            let view = PaymentsDetailViewController(paymentItem: paymentsHistoryItem)
+            navigationController.pushViewController(view, animated: false)
+        }
+
+        presentFormSheet(navigationController, animated: true)
+    }
+}
diff --git a/Signal/src/ViewControllers/Payments/SendPaymentCompletionActionSheet.swift b/Signal/src/ViewControllers/Payments/SendPaymentCompletionActionSheet.swift
new file mode 100644
index 00000000000..350d0a6a726
--- /dev/null
+++ b/Signal/src/ViewControllers/Payments/SendPaymentCompletionActionSheet.swift
@@ -0,0 +1,602 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import UIKit
+import PromiseKit
+import Lottie
+
+@objc
+public protocol SendPaymentCompletionDelegate {
+    func didSendPayment()
+}
+
+// MARK: -
+
+@objc
+public class SendPaymentCompletionActionSheet: ActionSheetController {
+
+    public typealias PaymentInfo = SendPaymentInfo
+    public typealias RequestInfo = SendRequestInfo
+
+    @objc
+    public weak var delegate: SendPaymentCompletionDelegate?
+
+    public enum Mode {
+        case payment(paymentInfo: PaymentInfo)
+        // TODO: Add support for requests.
+        // case request(requestInfo: RequestInfo)
+    }
+
+    private let mode: Mode
+
+    private enum Step {
+        case confirmPay(paymentInfo: PaymentInfo)
+        case progressPay(paymentInfo: PaymentInfo)
+        case successPay(paymentInfo: PaymentInfo)
+        case failurePay(paymentInfo: PaymentInfo, error: Error)
+        // TODO: Add support for requests.
+        //        case confirmRequest(paymentAmount: TSPaymentAmount,
+        //                            currencyConversion: CurrencyConversionInfo?)
+        //        case failureRequest
+    }
+
+    private var currentStep: Step {
+        didSet {
+            if self.isViewLoaded {
+                updateContentsForMode()
+            }
+        }
+    }
+
+    private let outerStack = UIStackView()
+
+    private let innerStack = UIStackView()
+
+    private let headerStack = UIStackView()
+
+    private let balanceLabel = SendPaymentHelper.buildBottomLabel()
+
+    private var helper: SendPaymentHelper?
+
+    private var currentCurrencyConversion: CurrencyConversionInfo? { helper?.currentCurrencyConversion }
+
+    public required init(mode: Mode, delegate: SendPaymentCompletionDelegate) {
+        self.mode = mode
+        self.delegate = delegate
+
+        // TODO: Add support for requests.
+        switch mode {
+        case .payment(let paymentInfo):
+            currentStep = .confirmPay(paymentInfo: paymentInfo)
+        @unknown default:
+            owsFail("Unknown mode.")
+        }
+
+        super.init(theme: .default)
+
+        helper = SendPaymentHelper(delegate: self)
+    }
+
+    @objc
+    public func present(fromViewController: UIViewController) {
+        self.customHeader = outerStack
+        self.isCancelable = true
+        fromViewController.presentFormSheet(self, animated: true)
+    }
+
+    open override func viewDidLoad() {
+        super.viewDidLoad()
+
+        createSubviews()
+
+        helper?.refreshObservedValues()
+    }
+
+    public override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        updateContentsForMode()
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        // For now, the design only allows for portrait layout on non-iPads
+        //
+        // PAYMENTS TODO:
+        if !UIDevice.current.isIPad && CurrentAppContext().interfaceOrientation != .portrait {
+            UIDevice.current.ows_setOrientation(.portrait)
+        }
+
+        helper?.refreshObservedValues()
+    }
+
+    public override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
+        UIDevice.current.isIPad ? .all : .portrait
+    }
+
+    private func createSubviews() {
+
+        outerStack.axis = .vertical
+        outerStack.alignment = .fill
+        outerStack.addBackgroundView(withBackgroundColor: Theme.actionSheetBackgroundColor)
+
+        innerStack.axis = .vertical
+        innerStack.alignment = .fill
+        innerStack.layoutMargins = UIEdgeInsets(top: 0, leading: 20, bottom: 0, trailing: 20)
+        innerStack.isLayoutMarginsRelativeArrangement = true
+
+        headerStack.axis = .horizontal
+        headerStack.alignment = .center
+        headerStack.distribution = .equalSpacing
+        headerStack.layoutMargins = UIEdgeInsets(top: 16, leading: 16, bottom: 16, trailing: 16)
+        headerStack.isLayoutMarginsRelativeArrangement = true
+
+        outerStack.addArrangedSubview(headerStack)
+        outerStack.addArrangedSubview(innerStack)
+    }
+
+    private func updateContentsForMode() {
+
+        switch currentStep {
+        case .confirmPay(let paymentInfo):
+            updateContentsForConfirmPay(paymentInfo: paymentInfo)
+        case .progressPay(let paymentInfo):
+            updateContentsForProgressPay(paymentInfo: paymentInfo)
+        case .successPay(let paymentInfo):
+            updateContentsForSuccessPay(paymentInfo: paymentInfo)
+        case .failurePay(let paymentInfo, let error):
+            updateContentsForFailurePay(paymentInfo: paymentInfo, error: error)
+        // TODO: Add support for requests.
+        //        case .confirmRequest:
+        //            // TODO: Payment requests
+        //            owsFailDebug("Requests not yet supported.")
+        //        case .failureRequest:
+        //            owsFailDebug("Requests not yet supported.")
+        }
+    }
+
+    private func setContents(_ subviews: [UIView]) {
+        AssertIsOnMainThread()
+
+        innerStack.removeAllSubviews()
+        for subview in subviews {
+            innerStack.addArrangedSubview(subview)
+        }
+    }
+
+    private func updateHeader(canCancel: Bool) {
+        AssertIsOnMainThread()
+
+        headerStack.removeAllSubviews()
+
+        let cancelLabel = UILabel()
+        cancelLabel.text = CommonStrings.cancelButton
+        cancelLabel.font = UIFont.ows_dynamicTypeBodyClamped
+        if canCancel {
+            cancelLabel.textColor = Theme.primaryTextColor
+            cancelLabel.isUserInteractionEnabled = true
+            cancelLabel.addGestureRecognizer(UITapGestureRecognizer(target: self,
+                                                                    action: #selector(didTapCancel)))
+        } else {
+            cancelLabel.textColor = Theme.secondaryTextAndIconColor
+        }
+        cancelLabel.setCompressionResistanceHigh()
+        cancelLabel.setContentHuggingHigh()
+
+        let titleLabel = UILabel()
+        // TODO: Add support for requests.
+        titleLabel.text = NSLocalizedString("PAYMENTS_NEW_PAYMENT_CONFIRM_PAYMENT_TITLE",
+                                            comment: "Title for the 'confirm payment' ui in the 'send payment' UI.")
+        titleLabel.font = UIFont.ows_dynamicTypeBodyClamped.ows_semibold
+        titleLabel.textColor = Theme.primaryTextColor
+        titleLabel.textAlignment = .center
+        titleLabel.lineBreakMode = .byTruncatingTail
+
+        let spacer = UIView.container()
+        spacer.setCompressionResistanceHigh()
+        spacer.setContentHuggingHigh()
+
+        headerStack.addArrangedSubview(cancelLabel)
+        headerStack.addArrangedSubview(titleLabel)
+        headerStack.addArrangedSubview(spacer)
+
+        // We use the spacer to balance the layout.
+        spacer.autoMatch(.width, to: .width, of: cancelLabel)
+    }
+
+    private func updateContentsForConfirmPay(paymentInfo: PaymentInfo) {
+        AssertIsOnMainThread()
+
+        updateHeader(canCancel: true)
+
+        updateBalanceLabel()
+
+        setContents([
+            UIView.spacer(withHeight: 32),
+            buildConfirmPaymentRows(paymentInfo: paymentInfo),
+            UIView.spacer(withHeight: 32),
+            buildConfirmPaymentButtons(),
+            UIView.spacer(withHeight: vSpacingAboveBalance),
+            balanceLabel
+        ])
+    }
+
+    private func updateContentsForProgressPay(paymentInfo: PaymentInfo) {
+        AssertIsOnMainThread()
+
+        updateHeader(canCancel: false)
+
+        let animationName = (Theme.isDarkThemeEnabled
+                                ? "payments_spinner_dark"
+                                : "payments_spinner")
+        let animationView = AnimationView(name: animationName)
+        animationView.backgroundBehavior = .pauseAndRestore
+        animationView.loopMode = .loop
+        animationView.contentMode = .scaleAspectFit
+        animationView.play()
+        animationView.autoSetDimensions(to: .square(48))
+
+        // To void layout jitter, we use a label
+        // that occupies exactly the same height.
+        let bottomLabel = buildBottomLabel()
+        bottomLabel.text = NSLocalizedString("PAYMENTS_NEW_PAYMENT_PROCESSING",
+                                             comment: "Indicator that a new payment is being processed in the 'send payment' UI.")
+
+        setContents([
+            UIView.spacer(withHeight: 32),
+            buildConfirmPaymentRows(paymentInfo: paymentInfo),
+            UIView.spacer(withHeight: 32),
+            // To void layout jitter, this view replaces the "bottom button"
+            // in the layout, exactly matching its height.
+            wrapBottomControl(animationView),
+            UIView.spacer(withHeight: vSpacingAboveBalance),
+            bottomLabel
+        ])
+    }
+
+    private func updateContentsForSuccessPay(paymentInfo: PaymentInfo) {
+        AssertIsOnMainThread()
+
+        updateHeader(canCancel: false)
+
+        let animationView = AnimationView(name: "payments_spinner_success")
+        animationView.backgroundBehavior = .pauseAndRestore
+        animationView.loopMode = .playOnce
+        animationView.contentMode = .scaleAspectFit
+        animationView.play()
+        animationView.autoSetDimensions(to: .square(48))
+
+        // To void layout jitter, we use a label
+        // that occupies exactly the same height.
+        let bottomLabel = buildBottomLabel()
+        bottomLabel.text = CommonStrings.doneButton
+
+        setContents([
+            UIView.spacer(withHeight: 32),
+            buildConfirmPaymentRows(paymentInfo: paymentInfo),
+            UIView.spacer(withHeight: 32),
+            // To void layout jitter, this view replaces the "bottom button"
+            // in the layout, exactly matching its height.
+            wrapBottomControl(animationView),
+            UIView.spacer(withHeight: vSpacingAboveBalance),
+            bottomLabel
+        ])
+    }
+
+    private func wrapBottomControl(_ bottomControl: UIView) -> UIView {
+        let bottomStack = UIStackView(arrangedSubviews: [bottomControl])
+        bottomStack.axis = .vertical
+        bottomStack.alignment = .center
+        bottomStack.distribution = .equalCentering
+        // To void layout jitter, this view replaces the "bottom button"
+        // in the layout, exactly matching its height.
+        bottomStack.autoSetDimension(.height, toSize: bottomControlHeight)
+        return bottomStack
+    }
+
+    private func updateContentsForFailurePay(paymentInfo: PaymentInfo, error: Error) {
+        AssertIsOnMainThread()
+
+        updateHeader(canCancel: false)
+
+        let animationView = AnimationView(name: "payments_spinner_fail")
+        animationView.backgroundBehavior = .pauseAndRestore
+        animationView.loopMode = .playOnce
+        animationView.contentMode = .scaleAspectFit
+        animationView.play()
+        animationView.autoSetDimensions(to: .square(48))
+
+        // To void layout jitter, we use an empty placeholder label
+        // that occupies the exact same height
+        let bottomLabel = buildBottomLabel()
+        bottomLabel.text = Self.formatPaymentFailure(error)
+
+        setContents([
+            UIView.spacer(withHeight: 32),
+            buildConfirmPaymentRows(paymentInfo: paymentInfo),
+            UIView.spacer(withHeight: 32),
+            // To void layout jitter, this view replaces the "bottom button"
+            // in the layout, exactly matching its height.
+            wrapBottomControl(animationView),
+            UIView.spacer(withHeight: vSpacingAboveBalance),
+            bottomLabel
+        ])
+    }
+
+    private func buildConfirmPaymentRows(paymentInfo: PaymentInfo) -> UIView {
+
+        var rows = [UIView]()
+
+        func addRow(titleView: UIView, valueView: UIView) {
+
+            valueView.setCompressionResistanceHorizontalHigh()
+            valueView.setContentHuggingHorizontalHigh()
+
+            let row = UIStackView(arrangedSubviews: [titleView, valueView])
+            row.axis = .horizontal
+            row.alignment = .center
+            row.spacing = 8
+
+            rows.append(row)
+        }
+
+        func addRow(title: String, value: String, isTotal: Bool = false) {
+
+            let titleLabel = UILabel()
+            titleLabel.text = title
+            titleLabel.font = .ows_dynamicTypeBodyClamped
+            titleLabel.textColor = Theme.primaryTextColor
+            titleLabel.lineBreakMode = .byTruncatingTail
+
+            let valueLabel = UILabel()
+            valueLabel.text = value
+            if isTotal {
+                valueLabel.font = .ows_dynamicTypeTitle2Clamped
+                valueLabel.textColor = Theme.primaryTextColor
+            } else {
+                valueLabel.font = .ows_dynamicTypeBodyClamped
+                valueLabel.textColor = Theme.secondaryTextAndIconColor
+            }
+
+            addRow(titleView: titleLabel, valueView: valueLabel)
+        }
+
+        let recipientDescription = recipientDescriptionWithSneakyTransaction(paymentInfo: paymentInfo)
+        addRow(title: recipientDescription,
+               value: formatMobileCoinAmount(paymentInfo.paymentAmount))
+
+        if let currencyConversion = paymentInfo.currencyConversion {
+            if let fiatAmountString = PaymentsImpl.formatAsFiatCurrency(paymentAmount: paymentInfo.paymentAmount,
+                                                                        currencyConversionInfo: currencyConversion) {
+                let fiatFormat = NSLocalizedString("PAYMENTS_NEW_PAYMENT_FIAT_CONVERSION_FORMAT",
+                                                   comment: "Format for the 'fiat currency conversion estimate' indicator. Embeds {{ the fiat currency code }}.")
+                addRow(title: String(format: fiatFormat, currencyConversion.currencyCode),
+                       value: fiatAmountString)
+            } else {
+                owsFailDebug("Could not convert to fiat.")
+            }
+        }
+
+        addRow(title: NSLocalizedString("PAYMENTS_NEW_PAYMENT_ESTIMATED_FEE",
+                                        comment: "Label for the 'payment estimated fee' indicator."),
+               value: formatMobileCoinAmount(paymentInfo.estimatedFeeAmount))
+
+        let separator = UIView()
+        separator.backgroundColor = Theme.hairlineColor
+        separator.autoSetDimension(.height, toSize: 1)
+        let separatorRow = UIStackView(arrangedSubviews: [separator])
+        separatorRow.axis = .horizontal
+        separatorRow.alignment = .center
+        separatorRow.distribution = .fill
+        rows.append(separatorRow)
+
+        let totalAmount = paymentInfo.paymentAmount.plus(paymentInfo.estimatedFeeAmount)
+        addRow(title: NSLocalizedString("PAYMENTS_NEW_PAYMENT_PAYMENT_TOTAL",
+                                        comment: "Label for the 'total payment amount' indicator."),
+               value: formatMobileCoinAmount(totalAmount),
+               isTotal: true)
+
+        let stack = UIStackView(arrangedSubviews: rows)
+        stack.axis = .vertical
+        stack.alignment = .fill
+        stack.spacing = 16
+
+        UIView.matchHeightsOfViews(rows)
+
+        return stack
+    }
+
+    private func recipientDescriptionWithSneakyTransaction(paymentInfo: PaymentInfo) -> String {
+        guard let recipient = paymentInfo.recipient as? SendPaymentRecipientImpl else {
+            owsFailDebug("Invalid recipient.")
+            return ""
+        }
+        let otherUserName: String
+        switch recipient {
+        case .address(let recipientAddress):
+            otherUserName = databaseStorage.uiRead { transaction in
+                self.contactsManager.displayName(for: recipientAddress, transaction: transaction)
+            }
+        case .publicAddress(let recipientPublicAddress):
+            otherUserName = PaymentsImpl.formatAsBase58(publicAddress: recipientPublicAddress)
+        }
+        let userFormat = NSLocalizedString("PAYMENTS_NEW_PAYMENT_RECIPIENT_AMOUNT_FORMAT",
+                                           comment: "Format for the 'payment recipient amount' indicator. Embeds {{ the name of the recipient of the payment }}.")
+        return String(format: userFormat, otherUserName)
+    }
+
+    private static func formatPaymentFailure(_ error: Error) -> String {
+
+        let errorDescription: String
+        switch error {
+        case PaymentsError.insufficientFunds:
+            // PAYMENTS TODO: We need copy from design.
+            errorDescription = NSLocalizedString("PAYMENTS_NEW_PAYMENT_ERROR_INSUFFICIENT_FUNDS",
+                                                 comment: "Indicates that a payment failed due to insufficient funds.")
+        default:
+            // PAYMENTS TODO: Revisit which errors we surface and how.
+            errorDescription = NSLocalizedString("PAYMENTS_NEW_PAYMENT_ERROR_UNKNOWN",
+                                                 comment: "Indicates that an unknown error occurred while sending a payment or payment request.")
+        }
+
+        // PAYMENTS TODO: We need copy from design.
+        let format = NSLocalizedString("PAYMENTS_NEW_PAYMENT_ERROR_FORMAT",
+                                       comment: "Format for message indicating that error occurred while sending a payment or payment request. Embeds: {{ a description of the error that occurred }}.")
+        return String(format: format, errorDescription)
+    }
+
+    private func buildConfirmPaymentButtons() -> UIView {
+        buildBottomButtonStack([
+            buildBottomButton(title: NSLocalizedString("PAYMENTS_NEW_PAYMENT_CONFIRM_PAYMENT_BUTTON",
+                                                       comment: "Label for the 'confirm payment' button."),
+                              target: self,
+                              selector: #selector(didTapConfirmButton))
+        ])
+    }
+
+    @objc
+    public func updateBalanceLabel() {
+        SendPaymentHelper.updateBalanceLabel(balanceLabel)
+    }
+
+    private func tryToSendPayment(paymentInfo: PaymentInfo) {
+
+        self.currentStep = .progressPay(paymentInfo: paymentInfo)
+
+        ModalActivityIndicatorViewController.presentAsInvisible(fromViewController: self) { [weak self] modalActivityIndicator in
+            guard let self = self else { return }
+
+            firstly {
+                self.paymentsSwift.submitPaymentTransaction(recipient: paymentInfo.recipient,
+                                                            paymentAmount: paymentInfo.paymentAmount,
+                                                            memoMessage: paymentInfo.memoMessage,
+                                                            paymentRequestModel: paymentInfo.paymentRequestModel,
+                                                            isOutgoingTransfer: paymentInfo.isOutgoingTransfer)
+            }.done { _ in
+                AssertIsOnMainThread()
+
+                self.didSucceedPayment(paymentInfo: paymentInfo)
+
+                modalActivityIndicator.dismiss {}
+            }.catch { error in
+                AssertIsOnMainThread()
+                owsFailDebug("Error: \(error)")
+
+                self.didFailPayment(paymentInfo: paymentInfo, error: error)
+
+                modalActivityIndicator.dismiss {}
+            }
+        }
+    }
+
+    private static let autoDismissDelay: TimeInterval = 2.5
+
+    private func didSucceedPayment(paymentInfo: PaymentInfo) {
+        self.currentStep = .successPay(paymentInfo: paymentInfo)
+
+        let delegate = self.delegate
+        DispatchQueue.main.asyncAfter(deadline: .now() + Self.autoDismissDelay) { [weak self] in
+            guard let self = self else { return }
+            self.dismiss(animated: true) {
+                delegate?.didSendPayment()
+            }
+        }
+    }
+
+    private func didFailPayment(paymentInfo: PaymentInfo, error: Error) {
+        self.currentStep = .failurePay(paymentInfo: paymentInfo, error: error)
+
+        let delegate = self.delegate
+        DispatchQueue.main.asyncAfter(deadline: .now() + Self.autoDismissDelay) { [weak self] in
+            guard let self = self else { return }
+            self.dismiss(animated: true) {
+                delegate?.didSendPayment()
+            }
+        }
+    }
+
+    // TODO: Add support for requests.
+    private func tryToSendPaymentRequest(requestInfo: RequestInfo) {
+
+        ModalActivityIndicatorViewController.present(fromViewController: self, canCancel: false) { [weak self] modalActivityIndicator in
+            guard let self = self else { return }
+
+            firstly {
+                PaymentsImpl.sendPaymentRequestMessagePromise(address: requestInfo.recipientAddress,
+                                                              paymentAmount: requestInfo.paymentAmount,
+                                                              memoMessage: requestInfo.memoMessage)
+            }.done { _ in
+                AssertIsOnMainThread()
+
+                modalActivityIndicator.dismiss {
+                    self.dismiss(animated: true)
+                }
+            }.catch { error in
+                AssertIsOnMainThread()
+                owsFailDebug("Error: \(error)")
+
+                // TODO: Add support for requests.
+                // self.currentStep = .failureRequest
+
+                modalActivityIndicator.dismiss {}
+            }
+        }
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapCancel() {
+        dismiss(animated: true, completion: nil)
+    }
+
+    //    private var actionSheet: SendPaymentCompletionActionSheet?
+    //
+    //    @objc
+    //    func didTapPayButton(_ sender: UIButton) {
+    //        guard let parsedAmount = parsedAmount,
+    //              parsedAmount > 0 else {
+    //            showInvalidAmountAlert()
+    //            return
+    //        }
+    //        let paymentAmount = TSPaymentAmount(currency: .mobileCoin, picoMob: parsedAmount)
+    //        // TODO: Fill in actual estimates.
+    //        let estimatedFeeAmount = TSPaymentAmount(currency: .mobileCoin, picoMob: 1)
+    //        // Snapshot the conversion rate.
+    //        let currencyConversion = self.currentCurrencyConversion
+    //
+    //        let paymentInfo = PaymentInfo(recipientAddress: recipientAddress,
+    //                                      paymentAmount: paymentAmount,
+    //                                      estimatedFeeAmount: estimatedFeeAmount,
+    //                                      currencyConversion: currencyConversion,
+    //                                      paymentRequestModel: paymentRequestModel)
+    //        let actionSheet = SendPaymentCompletionActionSheet(mode: .payment(paymentInfo: paymentInfo))
+    //        self.actionSheet = actionSheet
+    //        actionSheet.present(fromViewController: self)
+    //        //        currentStep = .confirmPay(paymentInfo: paymentInfo)
+    //    }
+
+    @objc
+    func didTapConfirmButton(_ sender: UIButton) {
+        switch currentStep {
+        case .confirmPay(let paymentInfo):
+            tryToSendPayment(paymentInfo: paymentInfo)
+        // TODO: Add support for requests.
+        //        case .confirmRequest(let paymentAmount, _):
+        //            tryToSendPaymentRequest(paymentAmount)
+        default:
+            owsFailDebug("Invalid step.")
+        }
+    }
+}
+
+// MARK: -
+
+extension SendPaymentCompletionActionSheet: SendPaymentHelperDelegate {
+    public func balanceDidChange() {}
+
+    public func currencyConversionDidChange() {}
+}
diff --git a/Signal/src/ViewControllers/Payments/SendPaymentHelper.swift b/Signal/src/ViewControllers/Payments/SendPaymentHelper.swift
new file mode 100644
index 00000000000..950bd589a80
--- /dev/null
+++ b/Signal/src/ViewControllers/Payments/SendPaymentHelper.swift
@@ -0,0 +1,222 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import Foundation
+import UIKit
+import PromiseKit
+
+public struct SendPaymentInfo {
+    let recipient: SendPaymentRecipient
+    let paymentAmount: TSPaymentAmount
+    let estimatedFeeAmount: TSPaymentAmount
+    let currencyConversion: CurrencyConversionInfo?
+    // TODO: Add support for requests.
+    let paymentRequestModel: TSPaymentRequestModel?
+    let memoMessage: String?
+    let isOutgoingTransfer: Bool
+}
+
+// MARK: -
+
+// TODO: Add support for requests.
+public struct SendRequestInfo {
+    let recipientAddress: SignalServiceAddress
+    let paymentAmount: TSPaymentAmount
+    let estimatedFeeAmount: TSPaymentAmount
+    let currencyConversion: CurrencyConversionInfo?
+    let memoMessage: String?
+}
+
+// MARK: -
+
+protocol SendPaymentHelperDelegate: class {
+    func balanceDidChange()
+    func currencyConversionDidChange()
+}
+
+// MARK: -
+
+class SendPaymentHelper {
+
+    // MARK: - Dependencies
+
+    private static var paymentsSwift: PaymentsSwift {
+        SSKEnvironment.shared.payments as! PaymentsSwift
+    }
+
+    private var paymentsCurrencies: PaymentsCurrenciesSwift {
+        SSKEnvironment.shared.paymentsCurrencies as! PaymentsCurrenciesSwift
+    }
+
+    // MARK: -
+
+    private weak var delegate: SendPaymentHelperDelegate?
+
+    private var _currentCurrencyConversion: CurrencyConversionInfo?
+    public var currentCurrencyConversion: CurrencyConversionInfo? {
+        get {
+            AssertIsOnMainThread()
+            return _currentCurrencyConversion
+        }
+        set {
+            AssertIsOnMainThread()
+            _currentCurrencyConversion = newValue
+        }
+    }
+
+    required init(delegate: SendPaymentHelperDelegate) {
+        self.delegate = delegate
+
+        addObservers()
+
+        updateCurrentCurrencyConversion()
+    }
+
+    private func addObservers() {
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(currentPaymentBalanceDidChange),
+            name: PaymentsImpl.currentPaymentBalanceDidChange,
+            object: nil
+        )
+        NotificationCenter.default.addObserver(
+            self,
+            selector: #selector(paymentConversionRatesDidChange),
+            name: PaymentsCurrenciesImpl.paymentConversionRatesDidChange,
+            object: nil
+        )
+    }
+
+    public func refreshObservedValues() {
+        updateCurrentCurrencyConversion()
+
+        Self.paymentsSwift.updateCurrentPaymentBalance()
+        paymentsCurrencies.updateConversationRatesIfStale()
+    }
+
+    public static let minTopVSpacing: CGFloat = 16
+
+    public static let vSpacingAboveBalance: CGFloat = 20
+
+    public static func buildBottomButton(title: String,
+                                         target: Any,
+                                         selector: Selector) -> UIView {
+        let button = OWSFlatButton.button(title: title,
+                                          font: bottomButtonFont,
+                                          titleColor: .white,
+                                          backgroundColor: .ows_accentBlue,
+                                          target: target,
+                                          selector: selector)
+        button.autoSetHeightUsingFont()
+        return button
+    }
+
+    public static func buildBottomButtonStack(_ subviews: [UIView]) -> UIView {
+        let buttonStack = UIStackView(arrangedSubviews: subviews)
+        buttonStack.axis = .horizontal
+        buttonStack.spacing = 20
+        buttonStack.distribution = .fillEqually
+        buttonStack.alignment = .center
+        buttonStack.autoSetDimension(.height, toSize: bottomControlHeight)
+        return buttonStack
+    }
+
+    public static let progressIndicatorSize: CGFloat = 48
+
+    // To avoid layout jitter, all of the "bottom controls"
+    // (buttons, progress indicator, error indicator) occupy
+    // the same exact height.
+    public static var bottomControlHeight: CGFloat {
+        max(progressIndicatorSize,
+            OWSFlatButton.heightForFont(bottomButtonFont))
+    }
+
+    public static var bottomButtonFont: UIFont {
+        UIFont.ows_dynamicTypeBody.ows_semibold
+    }
+
+    public static func buildBottomLabel() -> UILabel {
+        let label = UILabel()
+        label.font = .ows_dynamicTypeBody2Clamped
+        label.textColor = Theme.secondaryTextAndIconColor
+        label.textAlignment = .center
+        return label
+    }
+
+    public static func updateBalanceLabel(_ balanceLabel: UILabel) {
+
+        guard let paymentBalance = Self.paymentsSwift.currentPaymentBalance else {
+            // Use whitespace to ensure that the height of the label
+            // is constant, avoiding layout jitter.
+            balanceLabel.text = " "
+            return
+        }
+
+        let format = NSLocalizedString("PAYMENTS_NEW_PAYMENT_BALANCE_FORMAT",
+                                       comment: "Format for the 'balance' indicator. Embeds {{ the current payments balance }}.")
+        balanceLabel.text = String(format: format,
+                                   Self.formatMobileCoinAmount(paymentBalance.amount))
+    }
+
+    @objc
+    private func currentPaymentBalanceDidChange() {
+        delegate?.balanceDidChange()
+    }
+
+    @objc
+    private func paymentConversionRatesDidChange() {
+        updateCurrentCurrencyConversion()
+    }
+
+    private func updateCurrentCurrencyConversion() {
+        let localCurrencyCode = paymentsCurrencies.currentCurrencyCode
+        let currentCurrencyConversion = paymentsCurrencies.conversionInfo(forCurrencyCode: localCurrencyCode)
+        guard !CurrencyConversionInfo.areEqual(currentCurrencyConversion,
+                                               self.currentCurrencyConversion) else {
+            // Did not change.
+            return
+        }
+        self.currentCurrencyConversion = currentCurrencyConversion
+        delegate?.currencyConversionDidChange()
+    }
+
+    public static func formatMobileCoinAmount(_ paymentAmount: TSPaymentAmount) -> String {
+        owsAssertDebug(paymentAmount.isValid)
+        owsAssertDebug(paymentAmount.currency == .mobileCoin)
+        owsAssertDebug(paymentAmount.picoMob >= 0)
+
+        let formattedAmount = PaymentsImpl.format(paymentAmount: paymentAmount)
+        let format = NSLocalizedString("PAYMENTS_NEW_PAYMENT_CURRENCY_FORMAT",
+                                       comment: "Format for currency amounts in the 'send payment' UI. Embeds {{ %1$@ the current payments balance, %2$@ the currency indicator }}.")
+        return String(format: format,
+                      formattedAmount,
+                      PaymentsImpl.currencyAbbreviationMobileCoin)
+    }
+}
+
+// MARK: 
+
+extension SendPaymentHelperDelegate {
+    var minTopVSpacing: CGFloat { SendPaymentHelper.minTopVSpacing }
+
+    var vSpacingAboveBalance: CGFloat { SendPaymentHelper.vSpacingAboveBalance }
+
+    var bottomControlHeight: CGFloat { SendPaymentHelper.bottomControlHeight }
+
+    func buildBottomButtonStack(_ subviews: [UIView]) -> UIView {
+        SendPaymentHelper.buildBottomButtonStack(subviews)
+    }
+
+    func buildBottomButton(title: String, target: Any, selector: Selector) -> UIView {
+        SendPaymentHelper.buildBottomButton(title: title, target: target, selector: selector)
+    }
+
+    func buildBottomLabel() -> UILabel {
+        SendPaymentHelper.buildBottomLabel()
+    }
+
+    func formatMobileCoinAmount(_ paymentAmount: TSPaymentAmount) -> String {
+        SendPaymentHelper.formatMobileCoinAmount(paymentAmount)
+    }
+}
diff --git a/Signal/src/ViewControllers/Payments/SendPaymentMemoViewController.swift b/Signal/src/ViewControllers/Payments/SendPaymentMemoViewController.swift
new file mode 100644
index 00000000000..cf41fc3cf4c
--- /dev/null
+++ b/Signal/src/ViewControllers/Payments/SendPaymentMemoViewController.swift
@@ -0,0 +1,174 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import UIKit
+
+@objc
+public protocol SendPaymentMemoViewDelegate {
+    func didChangeMemo(memoMessage: String?)
+}
+
+// MARK: -
+
+@objc
+public class SendPaymentMemoViewController: OWSViewController {
+
+    @objc
+    public weak var delegate: SendPaymentMemoViewDelegate?
+
+    private let rootStack = UIStackView()
+
+    private let memoTextField = UITextField()
+    private let memoCharacterCountLabel = UILabel()
+
+    public required init(memoMessage: String?) {
+        super.init()
+
+        memoTextField.text = memoMessage
+    }
+
+    open override func viewDidLoad() {
+        super.viewDidLoad()
+
+        view.backgroundColor = Theme.backgroundColor
+
+        updateContents()
+    }
+
+    public override func viewWillAppear(_ animated: Bool) {
+        super.viewWillAppear(animated)
+
+        memoTextField.becomeFirstResponder()
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        memoTextField.becomeFirstResponder()
+    }
+
+    public override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
+        return UIDevice.current.isIPad ? .all : .portrait
+    }
+
+    private func updateContents() {
+        AssertIsOnMainThread()
+
+        view.backgroundColor = Theme.tableView2BackgroundColor
+        navigationItem.title = NSLocalizedString("PAYMENTS_NEW_PAYMENT_ADD_MEMO",
+                                                 comment: "Label for the 'add memo' ui in the 'send payment' UI.")
+        navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .cancel,
+                                                           target: self,
+                                                           action: #selector(didTapCancelMemo),
+                                                           accessibilityIdentifier: "memo.cancel")
+        navigationItem.rightBarButtonItem = UIBarButtonItem(barButtonSystemItem: .done,
+                                                            target: self,
+                                                            action: #selector(didTapDoneMemo),
+                                                            accessibilityIdentifier: "memo.done")
+
+        rootStack.axis = .vertical
+        rootStack.alignment = .fill
+        rootStack.layoutMargins = UIEdgeInsets(top: 0, leading: 0, bottom: 16, trailing: 0)
+        rootStack.isLayoutMarginsRelativeArrangement = true
+        view.addSubview(rootStack)
+        rootStack.autoPinEdge(toSuperviewMargin: .leading)
+        rootStack.autoPinEdge(toSuperviewMargin: .trailing)
+        rootStack.autoPin(toTopLayoutGuideOf: self, withInset: 0)
+        autoPinView(toBottomOfViewControllerOrKeyboard: rootStack, avoidNotch: true)
+
+        memoTextField.backgroundColor = .clear
+        memoTextField.font = .ows_dynamicTypeBodyClamped
+        memoTextField.placeholder = NSLocalizedString("PAYMENTS_NEW_PAYMENT_MESSAGE_PLACEHOLDER",
+                                                      comment: "Placeholder for the new payment or payment request message.")
+        memoTextField.delegate = self
+        memoTextField.addTarget(self, action: #selector(textFieldDidChange), for: .editingChanged)
+
+        memoCharacterCountLabel.font = .ows_dynamicTypeBodyClamped
+        memoCharacterCountLabel.textColor = Theme.ternaryTextColor
+
+        memoCharacterCountLabel.setCompressionResistanceHorizontalHigh()
+        memoCharacterCountLabel.setContentHuggingHorizontalHigh()
+
+        let memoRow = UIStackView(arrangedSubviews: [
+            memoTextField,
+            memoCharacterCountLabel
+        ])
+        memoRow.axis = .horizontal
+        memoRow.spacing = 8
+        memoRow.alignment = .center
+        memoRow.isLayoutMarginsRelativeArrangement = true
+        memoRow.layoutMargins = UIEdgeInsets(hMargin: 16, vMargin: 14)
+        let backgroundView = memoRow.addBackgroundView(withBackgroundColor: Theme.tableCell2BackgroundColor)
+        backgroundView.layer.cornerRadius = 10
+
+        updateMemoCharacterCount()
+
+        rootStack.addArrangedSubviews([
+            UIView.spacer(withHeight: SendPaymentHelper.minTopVSpacing),
+            memoRow,
+            UIView.vStretchingSpacer()
+        ])
+    }
+
+    // MARK: -
+
+    fileprivate func updateMemoCharacterCount() {
+        guard let strippedMemoMessage = memoTextField.text?.ows_stripped(),
+              strippedMemoMessage.count > 0 else {
+            // Use whitespace to reserve space in the layout
+            // to avoid jitter.
+            memoCharacterCountLabel.text = " "
+            return
+        }
+
+        let format = NSLocalizedString("PAYMENTS_NEW_PAYMENT_MESSAGE_COUNT_FORMAT",
+                                       comment: "Format for the 'message character count indicator' for the 'new payment or payment request' view. Embeds {{ %1$@ the number of characters in the message, %2$@ the maximum number of characters in the message }}.")
+        memoCharacterCountLabel.text = String(format: format,
+                                              OWSFormat.formatInt(strippedMemoMessage.count),
+                                              OWSFormat.formatInt(PaymentsImpl.maxPaymentMemoMessageLength))
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapCancelMemo() {
+        navigationController?.popViewController(animated: true)
+    }
+
+    @objc
+    func didTapDoneMemo() {
+        let memoMessage = memoTextField.text?.ows_stripped()
+        delegate?.didChangeMemo(memoMessage: memoMessage)
+        navigationController?.popViewController(animated: true)
+    }
+
+    @objc
+    func textFieldDidChange(_ textField: UITextField) {
+        updateMemoCharacterCount()
+    }
+}
+
+// MARK: 
+
+extension SendPaymentMemoViewController: UITextFieldDelegate {
+    public func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString: String) -> Bool {
+        // Truncate the replacement to fit.
+        let left: String = (textField.text ?? "").substring(to: range.location)
+        let right: String = (textField.text ?? "").substring(from: range.location + range.length)
+        let maxReplacementLength = PaymentsImpl.maxPaymentMemoMessageLength - Int(left.count + right.count)
+        let center = replacementString.substring(to: maxReplacementLength)
+        textField.text = (left + center + right)
+
+        updateMemoCharacterCount()
+
+        // Place the cursor after the truncated replacement.
+        let positionAfterChange = left.count + center.count
+        guard let position = textField.position(from: textField.beginningOfDocument, offset: positionAfterChange) else {
+            owsFailDebug("Invalid position")
+            return false
+        }
+        textField.selectedTextRange = textField.textRange(from: position, to: position)
+        return false
+    }
+}
diff --git a/Signal/src/ViewControllers/Payments/SendPaymentViewController.swift b/Signal/src/ViewControllers/Payments/SendPaymentViewController.swift
new file mode 100644
index 00000000000..d8f97c6077e
--- /dev/null
+++ b/Signal/src/ViewControllers/Payments/SendPaymentViewController.swift
@@ -0,0 +1,1009 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import UIKit
+import PromiseKit
+import Lottie
+
+@objc
+public protocol SendPaymentViewDelegate {
+    func didSendPayment()
+}
+
+// MARK: -
+
+// TODO: We either need a dismiss button or ensure that this isn't always visible.
+@objc
+public class SendPaymentViewController: OWSViewController {
+
+    fileprivate typealias PaymentInfo = SendPaymentInfo
+
+    @objc
+    public weak var delegate: SendPaymentViewDelegate?
+
+    private let recipient: SendPaymentRecipient
+    private let paymentRequestModel: TSPaymentRequestModel?
+    private let isOutgoingTransfer: Bool
+
+    private let isStandaloneView: Bool
+
+    private let rootStack = UIStackView()
+
+    private let bigAmountLabel = UILabel()
+    private let smallAmountLabel = UILabel()
+
+    private let balanceLabel = SendPaymentHelper.buildBottomLabel()
+
+    // MARK: - Amount
+
+    private let amounts = Amounts()
+    private var amount: Amount { amounts.currentAmount }
+    private var otherCurrencyAmount: Amount? { amounts.otherCurrencyAmount }
+
+    // MARK: -
+
+    private var memoMessage: String?
+
+    private var helper: SendPaymentHelper?
+
+    private var currentCurrencyConversion: CurrencyConversionInfo? { helper?.currentCurrencyConversion }
+
+    public required init(recipient: SendPaymentRecipient,
+                         paymentRequestModel: TSPaymentRequestModel?,
+                         isOutgoingTransfer: Bool,
+                         isStandaloneView: Bool) {
+        self.recipient = recipient
+        self.isStandaloneView = isStandaloneView
+        self.isOutgoingTransfer = isOutgoingTransfer
+
+        if !FeatureFlags.paymentsRequests {
+            owsAssertDebug(paymentRequestModel == nil)
+            self.paymentRequestModel = nil
+        } else {
+            self.paymentRequestModel = paymentRequestModel
+
+            if let paymentRequestModel = paymentRequestModel {
+                owsAssertDebug(paymentRequestModel.paymentAmount.currency == .mobileCoin)
+
+                if let requestAmountString = PaymentsImpl.formatAsDoubleString(picoMob: paymentRequestModel.paymentAmount.picoMob) {
+                    let inputString = InputString.forString(requestAmountString, isFiat: false)
+                    amounts.set(currentAmount: .mobileCoin(inputString: inputString), otherCurrencyAmount: nil)
+                } else {
+                    owsFailDebug("Could not apply request amount.")
+                }
+            }
+        }
+
+        super.init()
+
+        helper = SendPaymentHelper(delegate: self)
+        amounts.delegate = self
+    }
+
+    @objc
+    public static func presentAsFormSheet(fromViewController: UIViewController,
+                                          delegate: SendPaymentViewDelegate,
+                                          recipientAddress: SignalServiceAddress,
+                                          paymentRequestModel: TSPaymentRequestModel?,
+                                          isOutgoingTransfer: Bool) {
+
+        let recipientHasPaymentsEnabled = databaseStorage.read { transaction in
+            Self.payments.arePaymentsEnabled(for: recipientAddress, transaction: transaction)
+        }
+        guard recipientHasPaymentsEnabled else {
+            // TODO: Should we try to fill in this state before showing the error alert?
+            ProfileFetcherJob.fetchProfile(address: recipientAddress, ignoreThrottling: true)
+
+            OWSActionSheets.showErrorAlert(message: NSLocalizedString("PAYMENTS_RECIPIENT_PAYMENTS_NOT_ENABLED",
+                                                                      comment: "Indicator that a given user cannot receive payments because the have not enabled payments."))
+            return
+        }
+
+        let recipient: SendPaymentRecipientImpl = .address(address: recipientAddress)
+        let view = SendPaymentViewController(recipient: recipient,
+                                             paymentRequestModel: paymentRequestModel,
+                                             isOutgoingTransfer: isOutgoingTransfer,
+                                             isStandaloneView: true)
+        view.delegate = delegate
+        let navigationController = OWSNavigationController(rootViewController: view)
+        fromViewController.presentFormSheet(navigationController, animated: true)
+    }
+
+    @objc
+    public static func presentInNavigationController(_ navigationController: UINavigationController,
+                                                     delegate: SendPaymentViewDelegate,
+                                                     recipientAddress: SignalServiceAddress,
+                                                     paymentRequestModel: TSPaymentRequestModel?,
+                                                     isOutgoingTransfer: Bool) {
+
+        let recipientHasPaymentsEnabled = databaseStorage.read { transaction in
+            Self.payments.arePaymentsEnabled(for: recipientAddress, transaction: transaction)
+        }
+        guard recipientHasPaymentsEnabled else {
+            // TODO: Should we try to fill in this state before showing the error alert?
+            ProfileFetcherJob.fetchProfile(address: recipientAddress, ignoreThrottling: true)
+
+            OWSActionSheets.showErrorAlert(message: NSLocalizedString("PAYMENTS_RECIPIENT_PAYMENTS_NOT_ENABLED",
+                                                                      comment: "Indicator that a given user cannot receive payments because the have not enabled payments."))
+            return
+        }
+
+        let recipient: SendPaymentRecipientImpl = .address(address: recipientAddress)
+        let view = SendPaymentViewController(recipient: recipient,
+                                             paymentRequestModel: paymentRequestModel,
+                                             isOutgoingTransfer: isOutgoingTransfer,
+                                             isStandaloneView: false)
+        view.delegate = delegate
+        navigationController.pushViewController(view, animated: true)
+    }
+
+    open override func viewDidLoad() {
+        super.viewDidLoad()
+
+        view.backgroundColor = Theme.backgroundColor
+
+        createSubviews()
+
+        updateContents()
+
+        helper?.refreshObservedValues()
+    }
+
+    public override func viewDidAppear(_ animated: Bool) {
+        super.viewDidAppear(animated)
+
+        // For now, the design only allows for portrait layout on non-iPads
+        //
+        // PAYMENTS TODO:
+        if !UIDevice.current.isIPad && CurrentAppContext().interfaceOrientation != .portrait {
+            UIDevice.current.ows_setOrientation(.portrait)
+        }
+
+        helper?.refreshObservedValues()
+    }
+
+    public override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
+        return UIDevice.current.isIPad ? .all : .portrait
+    }
+
+    private func resetContents() {
+        amounts.reset()
+
+        memoMessage = ""
+    }
+
+    private func updateContents() {
+        AssertIsOnMainThread()
+
+        view.backgroundColor = Theme.backgroundColor
+        navigationItem.title = nil
+        if isStandaloneView {
+            navigationItem.leftBarButtonItem = UIBarButtonItem(barButtonSystemItem: .stop,
+                                                               target: self,
+                                                               action: #selector(didTapDismiss),
+                                                               accessibilityIdentifier: "dismiss")
+            navigationItem.rightBarButtonItem = nil
+        } else {
+            navigationItem.leftBarButtonItem = nil
+            navigationItem.rightBarButtonItem = nil
+        }
+
+        updateAmountLabels()
+        updateBalanceLabel()
+
+        let swapCurrencyIconSize: CGFloat = 24
+        let bigAmountLeft = UIView.container()
+        let bigAmountRight: UIView
+        if nil != currentCurrencyConversion {
+            bigAmountRight = UIImageView.withTemplateImageName("payments-toggle-24",
+                                                               tintColor: .ows_gray45)
+            bigAmountRight.autoPinToSquareAspectRatio()
+            bigAmountRight.isUserInteractionEnabled = true
+            bigAmountRight.addGestureRecognizer(UITapGestureRecognizer(target: self,
+                                                                       action: #selector(didTapSwapCurrency)))
+        } else {
+            bigAmountRight = UIView.container()
+        }
+        bigAmountLeft.autoSetDimension(.width, toSize: swapCurrencyIconSize)
+        bigAmountRight.autoSetDimension(.width, toSize: swapCurrencyIconSize)
+        let bigAmountRow = UIStackView(arrangedSubviews: [bigAmountLeft, bigAmountLabel, bigAmountRight])
+        bigAmountRow.axis = .horizontal
+        bigAmountRow.alignment = .center
+        bigAmountRow.spacing = 8
+
+        let addMemoLabel = UILabel()
+        addMemoLabel.text = NSLocalizedString("PAYMENTS_NEW_PAYMENT_ADD_MEMO",
+                                              comment: "Label for the 'add memo' ui in the 'send payment' UI.")
+        addMemoLabel.font = .ows_dynamicTypeBodyClamped
+        addMemoLabel.textColor = Theme.accentBlueColor
+
+        let addMemoStack = UIStackView(arrangedSubviews: [addMemoLabel])
+        addMemoStack.axis = .vertical
+        addMemoStack.alignment = .center
+        addMemoStack.isLayoutMarginsRelativeArrangement = true
+        addMemoStack.layoutMargins = UIEdgeInsets(hMargin: 0, vMargin: 12)
+        addMemoStack.isUserInteractionEnabled = true
+        addMemoStack.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(didTapAddMemo)))
+
+        let vSpacerFactory = VSpacerFactory()
+
+        let keyboardViews = buildKeyboard(vSpacerFactory: vSpacerFactory)
+
+        let amountButtons = buildAmountButtons()
+
+        let requiredViews = [
+            bigAmountRow,
+            smallAmountLabel,
+            addMemoStack,
+            amountButtons,
+            balanceLabel
+        ] + keyboardViews.keyboardRows
+        for requiredView in requiredViews {
+            requiredView.setCompressionResistanceVerticalHigh()
+            requiredView.setContentHuggingHigh()
+        }
+
+        rootStack.removeAllSubviews()
+        rootStack.addArrangedSubviews([
+            vSpacerFactory.buildVSpacer(),
+            bigAmountRow,
+            vSpacerFactory.buildVSpacer(),
+            smallAmountLabel,
+            vSpacerFactory.buildVSpacer(),
+            addMemoStack,
+            vSpacerFactory.buildVSpacer()
+        ] +
+        keyboardViews.allRows
+        + [
+            vSpacerFactory.buildVSpacer(),
+            amountButtons,
+            vSpacerFactory.buildVSpacer(),
+            balanceLabel
+        ])
+
+        vSpacerFactory.finalizeSpacers()
+
+        UIView.matchHeightsOfViews(keyboardViews.keyboardRows)
+    }
+
+    struct KeyboardViews {
+        let allRows: [UIView]
+        let keyboardRows: [UIView]
+    }
+
+    private func buildKeyboard(vSpacerFactory: VSpacerFactory) -> KeyboardViews {
+
+        let keyboardHSpacing: CGFloat = 25
+        let buttonFont = UIFont.ows_dynamicTypeTitle1Clamped
+        func buildAmountKeyboardButton(title: String, block: @escaping () -> Void) -> OWSButton {
+            // PAYMENTS TODO: Highlight down state?
+            let button = OWSButton(block: block)
+
+            let label = UILabel()
+            label.text = title
+            label.font = buttonFont
+            label.textColor = Theme.primaryTextColor
+            button.addSubview(label)
+            label.autoCenterInSuperview()
+
+            return button
+        }
+        func buildAmountKeyboardButton(imageName: String, block: @escaping () -> Void) -> OWSButton {
+            // PAYMENTS TODO: Highlight down state?
+            let button = OWSButton(imageName: imageName,
+                                   tintColor: Theme.primaryTextColor,
+                                   block: block)
+            return button
+        }
+        var keyboardRows = [UIView]()
+        let buildAmountKeyboardRow = { (buttons: [OWSButton]) -> UIView in
+
+            let buttons = buttons.map { (button) -> UIView in
+                button.autoPinToAspectRatio(with: CGSize(width: 1, height: 1))
+                let buttonSize = buttonFont.lineHeight * 2.0
+                button.autoSetDimension(.height, toSize: buttonSize)
+
+                let downStateView = OWSLayerView.circleView()
+                button.downStateView = downStateView
+                button.sendSubviewToBack(downStateView)
+                downStateView.autoPinEdgesToSuperviewEdges()
+                downStateView.backgroundColor = (Theme.isDarkThemeEnabled
+                                                    ? UIColor.ows_gray90
+                                                    : UIColor.ows_gray02)
+
+                let buttonWrapper = UIView.container()
+                buttonWrapper.addSubview(button)
+                button.autoPinEdge(toSuperviewEdge: .top)
+                button.autoPinEdge(toSuperviewEdge: .bottom)
+                button.autoHCenterInSuperview()
+                button.autoPinEdge(toSuperviewMargin: .leading, relation: .greaterThanOrEqual)
+                button.autoPinEdge(toSuperviewMargin: .trailing, relation: .greaterThanOrEqual)
+
+                return buttonWrapper
+            }
+
+            let rowStack = UIStackView(arrangedSubviews: buttons)
+            rowStack.axis = .horizontal
+            rowStack.spacing = keyboardHSpacing
+            rowStack.distribution = .fillEqually
+            rowStack.alignment = .fill
+
+            keyboardRows.append(rowStack)
+
+            return rowStack
+        }
+
+        // Don't localize; use Arabic numeral literals.
+        let allRows = [
+            buildAmountKeyboardRow([
+                buildAmountKeyboardButton(title: "1") { [weak self] in
+                    self?.keyboardPressedNumeral("1")
+                },
+                buildAmountKeyboardButton(title: "2") { [weak self] in
+                    self?.keyboardPressedNumeral("2")
+                },
+                buildAmountKeyboardButton(title: "3") { [weak self] in
+                    self?.keyboardPressedNumeral("3")
+                }
+            ]),
+            vSpacerFactory.buildVSpacer(),
+            buildAmountKeyboardRow([
+                buildAmountKeyboardButton(title: "4") { [weak self] in
+                    self?.keyboardPressedNumeral("4")
+                },
+                buildAmountKeyboardButton(title: "5") { [weak self] in
+                    self?.keyboardPressedNumeral("5")
+                },
+                buildAmountKeyboardButton(title: "6") { [weak self] in
+                    self?.keyboardPressedNumeral("6")
+                }
+            ]),
+            vSpacerFactory.buildVSpacer(),
+            buildAmountKeyboardRow([
+                buildAmountKeyboardButton(title: "7") { [weak self] in
+                    self?.keyboardPressedNumeral("7")
+                },
+                buildAmountKeyboardButton(title: "8") { [weak self] in
+                    self?.keyboardPressedNumeral("8")
+                },
+                buildAmountKeyboardButton(title: "9") { [weak self] in
+                    self?.keyboardPressedNumeral("9")
+                }
+            ]),
+            vSpacerFactory.buildVSpacer(),
+            buildAmountKeyboardRow([
+                buildAmountKeyboardButton(imageName: "decimal-32") { [weak self] in
+                    self?.keyboardPressedPeriod()
+                },
+                buildAmountKeyboardButton(title: "0") { [weak self] in
+                    self?.keyboardPressedNumeral("0")
+                },
+                buildAmountKeyboardButton(imageName: "delete-32") { [weak self] in
+                    self?.keyboardPressedBackspace()
+                }
+            ])
+        ]
+
+        return KeyboardViews(allRows: allRows, keyboardRows: keyboardRows)
+    }
+
+    private func buildAmountButtons() -> UIView {
+        let requestButton = buildBottomButton(title: NSLocalizedString("PAYMENTS_NEW_PAYMENT_REQUEST_BUTTON",
+                                                                       comment: "Label for the 'new payment request' button."),
+                                              target: self,
+                                              selector: #selector(didTapRequestButton))
+        let payButton = buildBottomButton(title: NSLocalizedString("PAYMENTS_NEW_PAYMENT_PAY_BUTTON",
+                                                                   comment: "Label for the 'new payment' button."),
+                                          target: self,
+                                          selector: #selector(didTapPayButton))
+
+        return buildBottomButtonStack(FeatureFlags.paymentsRequests
+                                        ? [requestButton, payButton]
+                                        : [payButton])
+    }
+
+    // MARK: -
+
+    private func createSubviews() {
+
+        rootStack.axis = .vertical
+        rootStack.alignment = .fill
+        rootStack.layoutMargins = UIEdgeInsets(top: 0, leading: 0, bottom: 16, trailing: 0)
+        rootStack.isLayoutMarginsRelativeArrangement = true
+        view.addSubview(rootStack)
+        rootStack.autoPinEdge(toSuperviewMargin: .leading)
+        rootStack.autoPinEdge(toSuperviewMargin: .trailing)
+        rootStack.autoPin(toTopLayoutGuideOf: self, withInset: 0)
+        autoPinView(toBottomOfViewControllerOrKeyboard: rootStack, avoidNotch: true)
+
+        bigAmountLabel.font = UIFont.ows_dynamicTypeLargeTitle1Clamped.withSize(60)
+        bigAmountLabel.textAlignment = .center
+        bigAmountLabel.adjustsFontSizeToFitWidth = true
+        bigAmountLabel.minimumScaleFactor = 0.25
+        bigAmountLabel.setContentHuggingVerticalHigh()
+        bigAmountLabel.setCompressionResistanceVerticalHigh()
+
+        smallAmountLabel.font = UIFont.ows_dynamicTypeBody2
+        smallAmountLabel.textAlignment = .center
+        smallAmountLabel.setContentHuggingVerticalHigh()
+        smallAmountLabel.setCompressionResistanceVerticalHigh()
+    }
+
+    private func updateAmountLabels() {
+
+        func disableSmallLabel() {
+            smallAmountLabel.text = NSLocalizedString("PAYMENTS_NEW_PAYMENT_INVALID_AMOUNT",
+                                                      comment: "Label for the 'invalid amount' button.")
+            smallAmountLabel.textColor = UIColor.ows_accentRed
+        }
+
+        bigAmountLabel.attributedText = amount.formatForDisplayAttributed(withSpace: false)
+
+        switch amount {
+        case .mobileCoin:
+            if let otherCurrencyAmount = self.otherCurrencyAmount {
+                smallAmountLabel.attributedText = otherCurrencyAmount.formatForDisplayAttributed(withSpace: true)
+            } else if let currencyConversion = currentCurrencyConversion,
+                      let fiatCurrencyAmount = currencyConversion.convertToFiatCurrency(paymentAmount: parsedPaymentAmount),
+                      let fiatString = PaymentsImpl.attributedFormat(fiatCurrencyAmount: fiatCurrencyAmount,
+                                                                     currencyCode: currencyConversion.currencyCode,
+                                                                     withSpace: true) {
+                smallAmountLabel.attributedText = fiatString
+            } else {
+                disableSmallLabel()
+            }
+        case .fiatCurrency(_, let currencyConversion):
+            if let otherCurrencyAmount = self.otherCurrencyAmount {
+                smallAmountLabel.attributedText = otherCurrencyAmount.formatForDisplayAttributed(withSpace: true)
+            } else {
+                let paymentAmount = currencyConversion.convertFromFiatCurrencyToMOB(amount.asDouble)
+                smallAmountLabel.attributedText = PaymentsImpl.attributedFormat(paymentAmount: paymentAmount,
+                                                                                withSpace: true)
+            }
+        }
+    }
+
+    private func updateBalanceLabel() {
+        SendPaymentHelper.updateBalanceLabel(balanceLabel)
+    }
+
+    private func showInvalidAmountAlert() {
+        let errorMessage = NSLocalizedString("PAYMENTS_NEW_PAYMENT_INVALID_AMOUNT",
+                                             comment: "Label for the 'invalid amount' button.")
+        OWSActionSheets.showErrorAlert(message: errorMessage)
+    }
+
+    // MARK: - Events
+
+    @objc
+    func didTapDismiss() {
+        dismiss(animated: true, completion: nil)
+    }
+
+    @objc
+    func didTapAddMemo() {
+        let view = SendPaymentMemoViewController(memoMessage: self.memoMessage)
+        view.delegate = self
+        navigationController?.pushViewController(view, animated: true)
+    }
+
+    private func updateAmount(_ amount: Amount) -> Amount {
+        guard let currencyConversion = self.currentCurrencyConversion else {
+            return amount
+        }
+        switch amount {
+        case .mobileCoin:
+            return amount
+        case .fiatCurrency(let inputString, _):
+            return .fiatCurrency(inputString: inputString, currencyConversion: currencyConversion)
+        }
+    }
+
+    @objc
+    func didTapSwapCurrency() {
+        // If users repeatedly swap input currency, we don't want the
+        // values to drift due to rounding errors.  So we keep around
+        // the "other" currency amount and use it to swap if no changes
+        // have been made since the last switch.
+        if let otherCurrencyAmount = otherCurrencyAmount {
+            amounts.set(currentAmount: updateAmount(otherCurrencyAmount),
+                        otherCurrencyAmount: updateAmount(self.amount))
+            return
+        }
+
+        switch amount {
+        case .mobileCoin:
+            if let currencyConversion = currentCurrencyConversion,
+               let fiatCurrencyAmount = currencyConversion.convertToFiatCurrency(paymentAmount: parsedPaymentAmount),
+               let fiatString = PaymentsImpl.formatAsDoubleString(fiatCurrencyAmount) {
+                // Store the otherCurrencyAmount.
+                Logger.verbose("fiatCurrencyAmount: \(fiatCurrencyAmount)")
+                Logger.verbose("fiatString: \(fiatString)")
+                Logger.flush()
+                amounts.set(currentAmount: .fiatCurrency(inputString: InputString.forString(fiatString, isFiat: true),
+                                                         currencyConversion: currencyConversion),
+                            otherCurrencyAmount: self.amount)
+            } else {
+                owsFailDebug("Could not switch to fiat currency.")
+                resetContents()
+            }
+        case .fiatCurrency(_, let currencyConversion):
+            let paymentAmount = currencyConversion.convertFromFiatCurrencyToMOB(amount.asDouble)
+            if let mobString = PaymentsImpl.formatAsDoubleString(picoMob: paymentAmount.picoMob) {
+                // Store the otherCurrencyAmount.
+                amounts.set(currentAmount: .mobileCoin(inputString: InputString.forString(mobString, isFiat: false)),
+                            otherCurrencyAmount: self.amount)
+            } else {
+                owsFailDebug("Could not switch from fiat currency.")
+                resetContents()
+            }
+        }
+    }
+
+    @objc
+    func didTapRequestButton(_ sender: UIButton) {
+        // TODO: Add support for requests.
+        //        guard let parsedAmount = parsedAmount,
+        //              parsedAmount > 0 else {
+        //            showInvalidAmountAlert()
+        //            return
+        //        }
+        //        let paymentAmount = TSPaymentAmount(currency: .mobileCoin, picoMob: parsedAmount)
+        //        // Snapshot the conversion rate.
+        //        let currencyConversion = self.currentCurrencyConversion
+        //        currentStep = .confirmRequest(paymentAmount: paymentAmount, currencyConversion: currencyConversion)
+    }
+
+    private var actionSheet: SendPaymentCompletionActionSheet?
+
+    @objc
+    func didTapPayButton(_ sender: UIButton) {
+        let paymentAmount = parsedPaymentAmount
+        guard paymentAmount.picoMob > 0 else {
+            showInvalidAmountAlert()
+            return
+        }
+        getEstimatedFeeAndSubmit(paymentAmount: paymentAmount)
+    }
+
+    private func getEstimatedFeeAndSubmit(paymentAmount: TSPaymentAmount) {
+        ModalActivityIndicatorViewController.presentAsInvisible(fromViewController: self) { modalActivityIndicator in
+            firstly {
+                Self.paymentsSwift.getEstimatedFee(forPaymentAmount: paymentAmount)
+            }.done { (estimatedFeeAmount: TSPaymentAmount) in
+                AssertIsOnMainThread()
+
+                modalActivityIndicator.dismiss {
+                    self.showPaymentCompletionUI(paymentAmount: paymentAmount,
+                                                 estimatedFeeAmount: estimatedFeeAmount)
+                }
+            }.catch { error in
+                AssertIsOnMainThread()
+                owsFailDebug("Error: \(error)")
+
+                modalActivityIndicator.dismiss {
+                    AssertIsOnMainThread()
+
+                    // TODO: Copy.
+                    OWSActionSheets.showErrorAlert(message: NSLocalizedString("PAYMENTS_ERROR_COULD_NOT_ESTIMATE_FEE",
+                                                                              comment: "Error message indicating that the estimated fee for a payment could not be determined."))
+                }
+            }
+        }
+    }
+
+    private func showPaymentCompletionUI(paymentAmount: TSPaymentAmount,
+                                         estimatedFeeAmount: TSPaymentAmount) {
+        // Snapshot the conversion rate.
+        let currencyConversion = self.currentCurrencyConversion
+
+        let paymentInfo = PaymentInfo(recipient: recipient,
+                                      paymentAmount: paymentAmount,
+                                      estimatedFeeAmount: estimatedFeeAmount,
+                                      currencyConversion: currencyConversion,
+                                      paymentRequestModel: paymentRequestModel,
+                                      memoMessage: memoMessage,
+                                      isOutgoingTransfer: isOutgoingTransfer)
+        let actionSheet = SendPaymentCompletionActionSheet(mode: .payment(paymentInfo: paymentInfo),
+                                                           delegate: self)
+        self.actionSheet = actionSheet
+        actionSheet.present(fromViewController: self)
+    }
+}
+
+// MARK: -
+
+extension SendPaymentViewController: SendPaymentMemoViewDelegate {
+    public func didChangeMemo(memoMessage: String?) {
+        self.memoMessage = memoMessage
+    }
+}
+
+// MARK: - Payment Keyboard
+
+fileprivate extension SendPaymentViewController {
+
+    private func keyboardPressedNumeral(_ numeralString: String) {
+        let inputString = amount.inputString.append(.digit(digit: numeralString))
+        updateAmountString(inputString)
+    }
+
+    private func keyboardPressedPeriod() {
+        let inputString = amount.inputString.append(.decimal)
+        updateAmountString(inputString)
+    }
+
+    private func keyboardPressedBackspace() {
+        let inputString = amount.inputString.removeLastChar()
+        updateAmountString(inputString)
+    }
+
+    private func updateAmountString(_ inputString: InputString) {
+        switch amount {
+        case .mobileCoin:
+            amounts.set(currentAmount: .mobileCoin(inputString: inputString),
+                        otherCurrencyAmount: nil)
+        case .fiatCurrency(_, let oldCurrencyConversion):
+            let newCurrencyConversion = self.currentCurrencyConversion ?? oldCurrencyConversion
+            amounts.set(currentAmount: .fiatCurrency(inputString: inputString,
+                                                     currencyConversion: newCurrencyConversion),
+                        otherCurrencyAmount: nil)
+        }
+    }
+
+    private var parsedPaymentAmount: TSPaymentAmount {
+        switch amount {
+        case .mobileCoin:
+            let picoMob = PaymentsConstants.convertMobToPicoMob(amount.asDouble)
+            return TSPaymentAmount(currency: .mobileCoin, picoMob: picoMob)
+        case .fiatCurrency(_, let currencyConversion):
+            return currencyConversion.convertFromFiatCurrencyToMOB(amount.asDouble)
+        }
+    }
+}
+
+// MARK: -
+
+extension SendPaymentViewController: SendPaymentHelperDelegate {
+    @objc
+    public func balanceDidChange() {
+        updateBalanceLabel()
+    }
+
+    @objc
+    public func currencyConversionDidChange() {
+        guard isViewLoaded else {
+            return
+        }
+        guard nil != currentCurrencyConversion else {
+            Logger.warn("Currency conversion unavailable.")
+            resetContents()
+            return
+        }
+
+        if let otherCurrencyAmount = otherCurrencyAmount {
+            amounts.set(currentAmount: updateAmount(self.amount),
+                        otherCurrencyAmount: updateAmount(otherCurrencyAmount))
+        } else {
+            amounts.set(currentAmount: updateAmount(self.amount),
+                        otherCurrencyAmount: nil)
+        }
+
+        updateAmountLabels()
+        updateBalanceLabel()
+    }
+}
+
+// MARK: -
+
+extension SendPaymentViewController: SendPaymentCompletionDelegate {
+    public func didSendPayment() {
+        let delegate = self.delegate
+        self.dismiss(animated: true) {
+            delegate?.didSendPayment()
+        }
+    }
+}
+
+// MARK: - Amount
+
+private enum Amount {
+    // inputString should be a raw double strings: e.g. 123456.789.
+    // It should not be formatted: e.g. 123,456.789
+    case mobileCoin(inputString: InputString)
+    case fiatCurrency(inputString: InputString, currencyConversion: CurrencyConversionInfo)
+
+    var isFiat: Bool {
+        switch self {
+        case .mobileCoin:
+            return false
+        case .fiatCurrency:
+            return true
+        }
+    }
+
+    var inputString: InputString {
+        switch self {
+        case .mobileCoin(let inputString):
+            return inputString
+        case .fiatCurrency(let inputString, _):
+            return inputString
+        }
+    }
+
+    var asDouble: Double {
+        inputString.asDouble
+    }
+
+    var formatForDisplay: String {
+        switch self {
+        case .mobileCoin:
+            guard let mobString = PaymentsImpl.format(mob: asDouble) else {
+                owsFailDebug("Couldn't format MOB string: \(inputString.asString)")
+                return inputString.asString
+            }
+            return mobString
+        case .fiatCurrency:
+            guard let fiatString = PaymentsImpl.format(fiatCurrencyAmount: asDouble,
+                                                       minimumFractionDigits: 0) else {
+                owsFailDebug("Couldn't format fiat string: \(inputString.asString)")
+                return inputString.asString
+            }
+            return fiatString
+        }
+    }
+
+    func formatForDisplayAttributed(withSpace: Bool) -> NSAttributedString {
+        switch self {
+        case .mobileCoin:
+            return PaymentsImpl.attributedFormat(mobileCoinString: formatForDisplay,
+                                                 withSpace: withSpace)
+        case .fiatCurrency(_, let currencyConversion):
+            return PaymentsImpl.attributedFormat(currencyString: formatForDisplay,
+                                                 currencyCode: currencyConversion.currencyCode,
+                                                 withSpace: withSpace)
+        }
+    }
+}
+
+// MARK: -
+
+private protocol AmountsDelegate: class {
+    func amountDidChange(oldValue: Amount, newValue: Amount)
+}
+
+// MARK: -
+
+private class Amounts {
+    weak var delegate: AmountsDelegate?
+
+    private static var defaultMCAmount: Amount {
+        .mobileCoin(inputString: InputString.defaultString(isFiat: false))
+    }
+
+    fileprivate private(set) var currentAmount: Amount = Amounts.defaultMCAmount
+    fileprivate private(set) var otherCurrencyAmount: Amount?
+
+    func set(currentAmount: Amount, otherCurrencyAmount: Amount?) {
+        let oldValue = self.currentAmount
+
+        self.currentAmount = currentAmount
+        self.otherCurrencyAmount = otherCurrencyAmount
+
+        delegate?.amountDidChange(oldValue: oldValue, newValue: currentAmount)
+    }
+
+    func reset() {
+        set(currentAmount: Self.defaultMCAmount, otherCurrencyAmount: nil)
+    }
+}
+
+// MARK: -
+
+extension SendPaymentViewController: AmountsDelegate {
+    fileprivate func amountDidChange(oldValue: Amount, newValue: Amount) {
+        guard isViewLoaded else {
+            return
+        }
+        if oldValue.isFiat != newValue.isFiat {
+            updateContents()
+        } else {
+            updateAmountLabels()
+        }
+    }
+}
+
+// MARK: -
+
+private enum InputChar: Equatable {
+    case digit(digit: String)
+    case decimal
+
+    var asString: String {
+        switch self {
+        case .digit(let digit):
+            return digit
+        case .decimal:
+            return "."
+        }
+    }
+
+    static func isDigit(_ value: String) -> Bool {
+        "0123456789".contains(value)
+    }
+}
+
+// MARK: -
+
+private struct InputString: Equatable {
+    let chars: [InputChar]
+    let isFiat: Bool
+
+    init(_ chars: [InputChar], isFiat: Bool) {
+        self.chars = chars
+        self.isFiat = isFiat
+    }
+
+    static func forDouble(_ value: Double, isFiat: Bool) -> InputString {
+        guard let stringValue = PaymentsImpl.formatAsDoubleString(value) else {
+            owsFailDebug("Couldn't format double: \(value)")
+            return Self.defaultString(isFiat: isFiat)
+        }
+        return forString(stringValue, isFiat: isFiat)
+    }
+
+    static func forString(_ stringValue: String, isFiat: Bool) -> InputString {
+        var result = InputString.defaultString(isFiat: isFiat)
+        for char in stringValue {
+            let charString = String(char)
+            if charString == InputChar.decimal.asString {
+                result = result.append(InputChar.decimal)
+            } else if InputChar.isDigit(charString) {
+                result = result.append(InputChar.digit(digit: charString))
+            } else {
+                owsFailDebug("Ignoring invalid character: \(charString)")
+            }
+        }
+        return result
+    }
+
+    static var defaultChar: InputChar { .digit(digit: "0") }
+    static func defaultString(isFiat: Bool) -> InputString {
+        InputString([defaultChar], isFiat: isFiat)
+    }
+
+    func append(_ char: InputChar) -> InputString {
+        let result: InputString = {
+            switch char {
+            case .digit:
+                // Avoid leading zeroes.
+                //
+                // "00" should be "0"
+                // "01" should be "1"
+                if self == Self.defaultString(isFiat: isFiat) {
+                    return InputString([char], isFiat: isFiat)
+                } else {
+                    return InputString(chars + [char], isFiat: isFiat)
+                }
+            case .decimal:
+                if hasDecimal {
+                    // Don't allow two decimals.
+                    return self
+                } else {
+                    return InputString(chars + [char], isFiat: isFiat)
+                }
+            }
+        }()
+        Logger.info("Before: \(self.asString), \(self.digitCountBeforeDecimal), \(self.digitCountAfterDecimal), \(result.asDouble)")
+        Logger.info("Considering: \(result.asString), \(result.digitCountBeforeDecimal), \(result.digitCountAfterDecimal), \(result.asDouble)")
+        guard result.isValid else {
+            Logger.warn("Invalid result: \(self.asString) -> \(result.asString)")
+            return self
+        }
+        return result
+    }
+
+    func removeLastChar() -> InputString {
+        if chars.count > 1 {
+            return InputString(Array(chars.prefix(chars.count - 1)),
+                               isFiat: isFiat)
+        } else {
+            return Self.defaultString(isFiat: isFiat)
+        }
+    }
+
+    var isValid: Bool {
+        (digitCountBeforeDecimal <= maxDigitsBeforeDecimal &&
+            digitCountAfterDecimal <= maxDigitsAfterDecimal)
+    }
+
+    static func maxDigitsBeforeDecimal(isFiat: Bool) -> UInt {
+        // Max transaction size: 1 billion MOB.
+        Logger.verbose("maxMobNonDecimalDigits: \(PaymentsConstants.maxMobNonDecimalDigits)")
+        return isFiat ? 9 : PaymentsConstants.maxMobNonDecimalDigits
+    }
+
+    static func maxDigitsAfterDecimal(isFiat: Bool) -> UInt {
+        // picoMob
+        isFiat ? 2 : 12
+    }
+
+    var maxDigitsBeforeDecimal: UInt {
+        Self.maxDigitsBeforeDecimal(isFiat: isFiat)
+    }
+
+    var maxDigitsAfterDecimal: UInt {
+        Self.maxDigitsAfterDecimal(isFiat: isFiat)
+    }
+
+    var digitCountBeforeDecimal: UInt {
+        var result: UInt = 0
+        for char in chars {
+            switch char {
+            case .digit:
+                result += 1
+            case .decimal:
+                return result
+            }
+        }
+        return result
+    }
+
+    var digitCountAfterDecimal: UInt {
+        var result: UInt = 0
+        var hasPassedDecimal = false
+        for char in chars {
+            switch char {
+            case .digit:
+                if hasPassedDecimal {
+                    result += 1
+                }
+            case .decimal:
+                hasPassedDecimal = true
+            }
+        }
+        return result
+    }
+
+    var hasDecimal: Bool {
+        !Array(chars.filter { $0 == .decimal }).isEmpty
+    }
+
+    var asString: String {
+        chars.map { $0.asString }.joined()
+    }
+
+    var asDouble: Double {
+        Self.parseAsDouble(asString)
+    }
+
+    private static func parseAsDouble(_ stringValue: String) -> Double {
+        guard let value = Double(stringValue.ows_stripped()) else {
+            // inputString should be parsable at all times.
+            owsFailDebug("Invalid inputString.")
+            return 0
+        }
+        return value
+    }
+}
+
+// MARK: -
+
+// This view's contents must adapt to a wide variety of form factors.
+// We use vertical spacers of equal height to ensure the layout is
+// both responsive and balanced.
+class VSpacerFactory {
+    private var spacers = [UIView]()
+
+    func buildVSpacer() -> UIView {
+        let spacer = UIView.container()
+        spacer.setContentHuggingVerticalLow()
+        spacers.append(spacer)
+        return spacer
+    }
+
+    func finalizeSpacers() {
+        UIView.matchHeightsOfViews(spacers)
+    }
+}
diff --git a/Signal/src/ViewControllers/Registration/OnboardingSplashViewController.swift b/Signal/src/ViewControllers/Registration/OnboardingSplashViewController.swift
index ee18b6fc696..fbacdd44728 100644
--- a/Signal/src/ViewControllers/Registration/OnboardingSplashViewController.swift
+++ b/Signal/src/ViewControllers/Registration/OnboardingSplashViewController.swift
@@ -52,6 +52,10 @@ public class OnboardingSplashViewController: OnboardingBaseViewController {
         primaryView.addSubview(titleLabel)
         titleLabel.accessibilityIdentifier = "onboarding.splash." + "titleLabel"
 
+        if !FeatureFlags.isUsingProductionService {
+            titleLabel.text = "Internal Staging Build" + "\n" + "\(AppVersion.shared().currentAppVersionLong)"
+        }
+
         let explanationLabel = UILabel()
         explanationLabel.text = NSLocalizedString("ONBOARDING_SPLASH_TERM_AND_PRIVACY_POLICY",
                                                   comment: "Link to the 'terms and privacy policy' in the 'onboarding splash' view.")
diff --git a/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.swift b/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.swift
index cf5e642589d..e25c4584da1 100644
--- a/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.swift
@@ -138,11 +138,8 @@ public class AddToGroupViewController: OWSTableViewController2 {
                 "ADD_TO_GROUP_ALREADY_MEMBER_TOAST_FORMAT",
                 comment: "A toast on the 'add to group' view indicating the user is already a member. Embeds {contact name} and {group name}"
             )
-
-            let toastController = ToastController(
-                text: String(format: toastFormat, shortName, groupThread.groupNameOrDefault)
-            )
-            toastController.presentToastView(fromBottomOfView: view, inset: bottomLayoutGuide.length + 8)
+            let toastText = String(format: toastFormat, shortName, groupThread.groupNameOrDefault)
+            presentToast(text: toastText)
             return
         }
 
@@ -201,17 +198,12 @@ public class AddToGroupViewController: OWSTableViewController2 {
         let toastInset = bottomLayoutGuide.length + 8
 
         dismiss(animated: true) { [presentingViewController] in
-            guard let presentingView = presentingViewController?.view else { return }
-
             let toastFormat = NSLocalizedString(
                 "ADD_TO_GROUP_SUCCESS_TOAST_FORMAT",
                 comment: "A toast on the 'add to group' view indicating the user was added. Embeds {contact name} and {group name}"
             )
-
-            let toastController = ToastController(
-                text: String(format: toastFormat, shortName, groupThread.groupNameOrDefault)
-            )
-            toastController.presentToastView(fromBottomOfView: presentingView, inset: toastInset)
+            let toastText = String(format: toastFormat, shortName, groupThread.groupNameOrDefault)
+            presentingViewController?.presentToast(text: toastText)
         }
     }
 
diff --git a/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController+Header.swift b/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController+Header.swift
index 02d7ce62e7b..1eb88e153a9 100644
--- a/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController+Header.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController+Header.swift
@@ -137,11 +137,22 @@ extension ConversationSettingsViewController {
             // TODO Message Request: In order to debug the profile is getting shared in the right moments,
             // display the thread whitelist state in settings. Eventually we can probably delete this.
             if DebugFlags.showWhitelisted {
-                let viewController = self.viewController
+                let thread = viewController.thread
+                let databaseStorage = viewController.databaseStorage
+                let payments = viewController.paymentsSwift
                 let isThreadInProfileWhitelist = UIView.profileManager.isThread(inProfileWhitelist: viewController.thread,
                                                                                 transaction: transaction)
                 let hasSharedProfile = String(format: "Whitelisted: %@", isThreadInProfileWhitelist ? "Yes" : "No")
                 addSubtitleLabel(text: hasSharedProfile)
+
+                if let contactThread = thread as? TSContactThread {
+                    let arePaymentsEnabled = databaseStorage.uiRead { transaction in
+                        payments.arePaymentsEnabled(for: contactThread.contactAddress,
+                                                    transaction: transaction)
+                    }
+                    addSubtitleLabel(text: String(format: "Payments Enabled: %@",
+                                                  arePaymentsEnabled ? "Yes" : "No"))
+                }
             }
         }
 
diff --git a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
index 2a7d4ee9cc1..1c6e23ddbf6 100644
--- a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 #import "FingerprintViewScanController.h"
@@ -20,7 +20,6 @@
 
 @interface FingerprintViewScanController () <OWSQRScannerDelegate>
 
-@property (nonatomic) TSAccountManager *accountManager;
 @property (nonatomic) SignalServiceAddress *recipientAddress;
 @property (nonatomic) NSData *identityKey;
 @property (nonatomic) OWSFingerprint *fingerprint;
@@ -38,7 +37,6 @@ - (void)configureWithRecipientAddress:(SignalServiceAddress *)address
     OWSAssertDebug(address.isValid);
 
     self.recipientAddress = address;
-    self.accountManager = [TSAccountManager shared];
 
     OWSContactsManager *contactsManager = Environment.shared.contactsManager;
     self.contactName = [contactsManager displayNameForAddress:address];
@@ -50,8 +48,8 @@ - (void)configureWithRecipientAddress:(SignalServiceAddress *)address
     // where the user verifies a key that we learned about while this view was open.
     self.identityKey = recipientIdentity.identityKey;
 
-    OWSFingerprintBuilder *builder =
-        [[OWSFingerprintBuilder alloc] initWithAccountManager:self.accountManager contactsManager:contactsManager];
+    OWSFingerprintBuilder *builder = [[OWSFingerprintBuilder alloc] initWithAccountManager:self.tsAccountManager
+                                                                           contactsManager:contactsManager];
     self.fingerprint = [builder fingerprintWithTheirSignalAddress:address
                                                  theirIdentityKey:recipientIdentity.identityKey];
 }
diff --git a/Signal/src/ViewControllers/ThreadSettings/GroupLinkViewController.swift b/Signal/src/ViewControllers/ThreadSettings/GroupLinkViewController.swift
index e4bfc6328b1..8651ffef575 100644
--- a/Signal/src/ViewControllers/ThreadSettings/GroupLinkViewController.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/GroupLinkViewController.swift
@@ -171,7 +171,7 @@ public class GroupLinkViewController: OWSTableViewController2 {
         guard canEditGroupLinkSettings else {
             let message = NSLocalizedString("GROUP_ADMIN_ONLY_WARNING",
                                             comment: "Message indicating that a feature can only be used by group admins.")
-            showToast(message: message)
+            presentToast(text: message)
             updateTableContents()
             return
         }
@@ -194,7 +194,7 @@ public class GroupLinkViewController: OWSTableViewController2 {
         guard canEditGroupLinkSettings else {
             let message = NSLocalizedString("GROUP_ADMIN_ONLY_WARNING",
                                             comment: "Message indicating that a feature can only be used by group admins.")
-            showToast(message: message)
+            presentToast(text: message)
             updateTableContents()
             return
         }
@@ -205,12 +205,6 @@ public class GroupLinkViewController: OWSTableViewController2 {
         updateLinkMode(linkMode: linkMode)
     }
 
-    private func showToast(message: String) {
-        let toastController = ToastController(text: message)
-        let toastInset = bottomLayoutGuide.length + 8
-        toastController.presentToastView(fromBottomOfView: view, inset: toastInset)
-    }
-
     func shareLinkPressed() {
         showShareLinkAlert()
     }
diff --git a/Signal/src/ViewControllers/ThreadSettings/GroupMemberRequestsAndInvitesViewController.swift b/Signal/src/ViewControllers/ThreadSettings/GroupMemberRequestsAndInvitesViewController.swift
index 61af3dcd55b..60ad48c3038 100644
--- a/Signal/src/ViewControllers/ThreadSettings/GroupMemberRequestsAndInvitesViewController.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/GroupMemberRequestsAndInvitesViewController.swift
@@ -452,12 +452,6 @@ public class GroupMemberRequestsAndInvitesViewController: OWSTableViewController
         let text = String(format: format, userName)
         presentToast(text: text)
     }
-
-    private func presentToast(text: String) {
-        let toastController = ToastController(text: text)
-        let bottomInset = bottomLayoutGuide.length + 8
-        toastController.presentToastView(fromBottomOfView: self.view, inset: bottomInset)
-    }
 }
 
 // MARK: -
diff --git a/Signal/src/util/Dependencies+MainApp.swift b/Signal/src/util/Dependencies+MainApp.swift
index 0c974ac6c3b..8e9582043d3 100644
--- a/Signal/src/util/Dependencies+MainApp.swift
+++ b/Signal/src/util/Dependencies+MainApp.swift
@@ -181,6 +181,14 @@ public extension Dependencies {
         .shared
     }
 
+    var audioPlayer: CVAudioPlayer {
+        AppEnvironment.shared.audioPlayerRef
+    }
+
+    static var audioPlayer: CVAudioPlayer {
+        AppEnvironment.shared.audioPlayerRef
+    }
+
     var signalApp: SignalApp {
         .shared()
     }
diff --git a/Signal/src/views/QRCodeView.swift b/Signal/src/views/QRCodeView.swift
index 028252b457b..7c5715a948f 100644
--- a/Signal/src/views/QRCodeView.swift
+++ b/Signal/src/views/QRCodeView.swift
@@ -1,5 +1,5 @@
 //
-//  Copyright (c) 2020 Open Whisper Systems. All rights reserved.
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
 //
 
 import Foundation
@@ -101,20 +101,34 @@ class QRCodeView: UIView {
         guard let urlData: Data = url.absoluteString.data(using: .utf8) else {
             throw OWSAssertionError("urlData was unexpectedly nil")
         }
+        return try buildQRImage(data: urlData, forExport: forExport)
+    }
+
+    public static func buildQRImage(data: Data, forExport: Bool = false) throws -> UIImage {
+        let foregroundColor: UIColor = (forExport ? .black : Theme.lightThemePrimaryColor)
+        let backgroundColor: UIColor = (forExport ? .white : .clear)
+        return try buildQRImage(data: data,
+                                foregroundColor: foregroundColor,
+                                backgroundColor: backgroundColor,
+                                largeSize: forExport)
+    }
+
+    public static func buildQRImage(data: Data,
+                                    foregroundColor: UIColor,
+                                    backgroundColor: UIColor,
+                                    largeSize: Bool) throws -> UIImage {
 
         guard let filter = CIFilter(name: "CIQRCodeGenerator") else {
             throw OWSAssertionError("filter was unexpectedly nil")
         }
         filter.setDefaults()
-        filter.setValue(urlData, forKey: "inputMessage")
+        filter.setValue(data, forKey: "inputMessage")
 
         guard let ciImage = filter.outputImage else {
             throw OWSAssertionError("ciImage was unexpectedly nil")
         }
 
         // Change the color using CIFilter
-        let foregroundColor: UIColor = (forExport ? .black : Theme.lightThemePrimaryColor)
-        let backgroundColor: UIColor = (forExport ? .white : .clear)
         let colorParameters = [
             "inputColor0": CIColor(color: foregroundColor),
             "inputColor1": CIColor(color: backgroundColor)
@@ -124,7 +138,7 @@ class QRCodeView: UIView {
 
         // When exporting, scale up the output so that each pixel of the
         // QR code is represented by a 10x10 pixel block.
-        let scaledCIIimage = (forExport
+        let scaledCIIimage = (largeSize
             ? recoloredCIImage.transformed(by: CGAffineTransform.scale(10.0))
             : recoloredCIImage)
 
@@ -136,7 +150,6 @@ class QRCodeView: UIView {
         }
 
         let image = UIImage(cgImage: cgImage)
-
         return image
     }
 }
diff --git a/Signal/test/Payments/PaymentsReconciliationTest.swift b/Signal/test/Payments/PaymentsReconciliationTest.swift
new file mode 100644
index 00000000000..3f5fb2ef9fa
--- /dev/null
+++ b/Signal/test/Payments/PaymentsReconciliationTest.swift
@@ -0,0 +1,351 @@
+//
+//  Copyright (c) 2021 Open Whisper Systems. All rights reserved.
+//
+
+import XCTest
+import PromiseKit
+@testable import SignalServiceKit
+@testable import SignalMessaging
+@testable import Signal
+@testable import MobileCoin
+
+private struct MockTransactionHistoryItem: MCTransactionHistoryItem {
+    let amountPicoMob: UInt64
+    let txoPublicKey: Data
+    let keyImage: Data
+    let receivedBlock: MobileCoin.BlockMetadata
+    let spentBlock: MobileCoin.BlockMetadata?
+}
+
+// MARK: -
+
+private struct MockTransactionHistory: MCTransactionHistory {
+    let items: [MCTransactionHistoryItem]
+    let blockCount: UInt64
+}
+
+// MARK: -
+
+class PaymentsReconciliationTest: SignalBaseTest {
+
+    // MARK: -
+
+    override func setUp() {
+        super.setUp()
+
+        let sskEnvironment = SSKEnvironment.shared as! MockSSKEnvironment
+        sskEnvironment.payments = PaymentsImpl()
+    }
+
+    override func tearDown() {
+        super.tearDown()
+    }
+
+    func test_reconcileAccountActivity_empty() {
+        do {
+            try databaseStorage.read { (transaction) -> Void in
+                let transactionHistory = Self.buildTransactionHistory_empty()
+                let databaseState = Self.buildPaymentsDatabaseState_empty()
+                try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory,
+                                                     databaseState: databaseState,
+                                                     transaction: transaction)
+            }
+        } catch {
+            owsFailDebug("Error: \(error)")
+            XCTFail("Error: \(error)")
+        }
+    }
+
+    private static func buildTransactionHistory_empty() -> MCTransactionHistory {
+        let items = [MockTransactionHistoryItem]()
+        let blockCount: UInt64 = 5
+        return MockTransactionHistory(items: items,
+                                      blockCount: blockCount)
+    }
+
+    private static func buildPaymentsDatabaseState_empty() -> PaymentsDatabaseState {
+        PaymentsDatabaseState()
+    }
+
+    func test_reconcileAccountActivity_unsavedChanges() {
+        do {
+            try databaseStorage.read { (transaction) -> Void in
+                let buildItem2a_incomingUnspent = Self.buildItem2a_incomingUnspent()
+                let transactionHistory = MockTransactionHistory(items: [
+                    buildItem2a_incomingUnspent
+                ],
+                blockCount: 3)
+                let databaseState = Self.buildPaymentsDatabaseState_empty()
+                try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory,
+                                                     databaseState: databaseState,
+                                                     transaction: transaction)
+            }
+            XCTFail("Missing error.")
+        } catch {
+            if case PaymentsError.unsavedChanges = error {
+                // Do nothing.
+            } else {
+                owsFailDebug("Error: \(error)")
+                XCTFail("Error: \(error)")
+            }
+        }
+    }
+
+    func test_reconcileAccountActivity_fillIn1() {
+        do {
+            try databaseStorage.write { (transaction) -> Void in
+
+                let buildItem2a_incomingUnspent = Self.buildItem2a_incomingUnspent()
+                let transactionHistory = MockTransactionHistory(items: [
+                    buildItem2a_incomingUnspent
+                ],
+                blockCount: 3)
+
+                // Reconciliation 1
+
+                do {
+
+                    var databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 0)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 0)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+
+                    // This reconciliation pass should create an "unidentified incoming" payment model.
+                    try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory,
+                                                         databaseState: databaseState,
+                                                         transaction: transaction)
+                    databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 1)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 1)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 1)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 0)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+
+                    if let paymentModel = databaseState.incomingAnyMap[buildItem2a_incomingUnspent.txoPublicKey] {
+                        let item = buildItem2a_incomingUnspent
+                        XCTAssertEqual(TSPaymentType.incomingUnidentified, paymentModel.paymentType)
+                        XCTAssertEqual(TSPaymentState.incomingComplete, paymentModel.paymentState)
+                        XCTAssertEqual(TSPaymentFailure.none, paymentModel.paymentFailure)
+                        XCTAssertEqual(TSPaymentCurrency.mobileCoin, paymentModel.paymentAmount?.currency)
+                        XCTAssertEqual(item.amountPicoMob, paymentModel.paymentAmount?.picoMob)
+                        XCTAssertEqual(item.txoPublicKey, paymentModel.mobileCoin?.incomingTransactionPublicKey)
+                        XCTAssertTrue(item.receivedBlock.index == paymentModel.mobileCoin?.ledgerBlockIndex)
+                        XCTAssertTrue(item.receivedBlock.timestamp?.ows_millisecondsSince1970 == paymentModel.mobileCoin?.ledgerBlockTimestamp)
+                        XCTAssertNil(paymentModel.addressUuidString)
+                        XCTAssertNil(paymentModel.memoMessage)
+                        XCTAssertEqual(true, paymentModel.isUnread)
+                        XCTAssertNil(paymentModel.mobileCoin?.recipientPublicAddressData)
+                        XCTAssertNil(paymentModel.mobileCoin?.transactionData)
+                        XCTAssertNil(paymentModel.mobileCoin?.receiptData)
+                        XCTAssertNil(paymentModel.mobileCoin?.spentKeyImages)
+                        XCTAssertNil(paymentModel.mobileCoin?.outputPublicKeys)
+                        XCTAssertNil(paymentModel.mobileCoin?.feeAmount)
+                    } else {
+                        XCTFail("Missing paymentModel for item2a.txoPublicKey")
+                    }
+                }
+
+                // Reconciliation 2
+
+                do {
+                    // This reconciliation pass should have no effect.
+                    var databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+                    try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory,
+                                                         databaseState: databaseState,
+                                                         transaction: transaction)
+                    databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 1)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 1)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 1)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 0)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+                }
+            }
+        } catch {
+            owsFailDebug("Error: \(error)")
+            XCTFail("Error: \(error)")
+        }
+    }
+
+    func test_reconcileAccountActivity_unspentThenSpent() {
+        do {
+            try databaseStorage.write { (transaction) -> Void in
+
+                // Reconciliation 1
+
+                do {
+                    let buildItem2a_incomingUnspent = Self.buildItem2a_incomingUnspent()
+                    let transactionHistory2 = MockTransactionHistory(items: [
+                        buildItem2a_incomingUnspent
+                    ],
+                    blockCount: 2)
+
+                    var databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 0)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 0)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+
+                    // This reconciliation pass should create an "unidentified incoming" payment model.
+                    try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory2,
+                                                         databaseState: databaseState,
+                                                         transaction: transaction)
+                    databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 1)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 1)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 1)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 0)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+
+                    if let paymentModel = databaseState.incomingAnyMap[buildItem2a_incomingUnspent.txoPublicKey] {
+                        let item = buildItem2a_incomingUnspent
+                        XCTAssertEqual(TSPaymentType.incomingUnidentified, paymentModel.paymentType)
+                        XCTAssertEqual(TSPaymentState.incomingComplete, paymentModel.paymentState)
+                        XCTAssertEqual(TSPaymentFailure.none, paymentModel.paymentFailure)
+                        XCTAssertEqual(TSPaymentCurrency.mobileCoin, paymentModel.paymentAmount?.currency)
+                        XCTAssertEqual(item.amountPicoMob, paymentModel.paymentAmount?.picoMob)
+                        XCTAssertEqual(item.txoPublicKey, paymentModel.mobileCoin?.incomingTransactionPublicKey)
+                        XCTAssertTrue(item.receivedBlock.index == paymentModel.mobileCoin?.ledgerBlockIndex)
+                        XCTAssertTrue(item.receivedBlock.timestamp?.ows_millisecondsSince1970 == paymentModel.mobileCoin?.ledgerBlockTimestamp)
+                        XCTAssertNil(paymentModel.addressUuidString)
+                        XCTAssertNil(paymentModel.memoMessage)
+                        XCTAssertEqual(true, paymentModel.isUnread)
+                        XCTAssertNil(paymentModel.mobileCoin?.recipientPublicAddressData)
+                        XCTAssertNil(paymentModel.mobileCoin?.transactionData)
+                        XCTAssertNil(paymentModel.mobileCoin?.receiptData)
+                        XCTAssertNil(paymentModel.mobileCoin?.spentKeyImages)
+                        XCTAssertNil(paymentModel.mobileCoin?.outputPublicKeys)
+                        XCTAssertNil(paymentModel.mobileCoin?.feeAmount)
+                    } else {
+                        XCTFail("Missing paymentModel for item2a.txoPublicKey")
+                    }
+                }
+
+                // Reconciliation 2
+
+                do {
+                    let buildItem2a_incomingSpentIn4 = Self.buildItem2a_incomingSpentIn4()
+                    let transactionHistory4 = MockTransactionHistory(items: [
+                        buildItem2a_incomingSpentIn4
+                    ],
+                    blockCount: 4)
+
+                    // This reconciliation pass should create an "unidentified outgoing" payment model.
+                    var databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+                    try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory4,
+                                                         databaseState: databaseState,
+                                                         transaction: transaction)
+                    databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 2)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 1)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 1)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 1)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+
+                    if let paymentModel = databaseState.spentImageKeyMap[buildItem2a_incomingSpentIn4.keyImage] {
+                        let item = buildItem2a_incomingSpentIn4
+                        XCTAssertEqual(TSPaymentType.outgoingUnidentified, paymentModel.paymentType)
+                        XCTAssertEqual(TSPaymentState.outgoingComplete, paymentModel.paymentState)
+                        XCTAssertEqual(TSPaymentFailure.none, paymentModel.paymentFailure)
+                        XCTAssertEqual(TSPaymentCurrency.mobileCoin, paymentModel.paymentAmount?.currency)
+                        XCTAssertEqual(item.amountPicoMob, paymentModel.paymentAmount?.picoMob)
+                        XCTAssertNil(paymentModel.mobileCoin?.incomingTransactionPublicKey)
+                        XCTAssertTrue(item.spentBlock?.index == paymentModel.mobileCoin?.ledgerBlockIndex)
+                        XCTAssertTrue(item.spentBlock?.timestamp?.ows_millisecondsSince1970 == paymentModel.mobileCoin?.ledgerBlockTimestamp)
+                        XCTAssertNil(paymentModel.addressUuidString)
+                        XCTAssertNil(paymentModel.memoMessage)
+                        XCTAssertEqual(true, paymentModel.isUnread)
+                        XCTAssertNil(paymentModel.mobileCoin?.recipientPublicAddressData)
+                        XCTAssertNil(paymentModel.mobileCoin?.transactionData)
+                        XCTAssertNil(paymentModel.mobileCoin?.receiptData)
+                        XCTAssertEqual([item.keyImage], paymentModel.mobileCoin?.spentKeyImages)
+                        XCTAssertEqual([], paymentModel.mobileCoin?.outputPublicKeys)
+                        XCTAssertNil(paymentModel.mobileCoin?.feeAmount)
+                    } else {
+                        XCTFail("Missing paymentModel for item2a.txoPublicKey")
+                    }
+                }
+
+                // Reconciliation 3
+
+                do {
+                    let buildItem2a_incomingSpentIn4 = Self.buildItem2a_incomingSpentIn4()
+                    let transactionHistory4 = MockTransactionHistory(items: [
+                        buildItem2a_incomingSpentIn4
+                    ],
+                    blockCount: 4)
+
+                    // This reconciliation pass should have no effect.
+                    var databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+                    try PaymentsReconciliation.reconcile(transactionHistory: transactionHistory4,
+                                                         databaseState: databaseState,
+                                                         transaction: transaction)
+                    databaseState = PaymentsReconciliation.buildPaymentsDatabaseState(transaction: transaction)
+
+                    XCTAssertEqual(databaseState.allPaymentModels.count, 2)
+                    XCTAssertEqual(databaseState.incomingAnyMap.count, 1)
+                    XCTAssertEqual(databaseState.incomingUnverifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingVerifiedMap.count, 0)
+                    XCTAssertEqual(databaseState.incomingUnidentifiedMap.count, 1)
+                    XCTAssertEqual(databaseState.spentImageKeyMap.count, 1)
+                    XCTAssertEqual(databaseState.outputPublicKeyMap.count, 0)
+                }
+            }
+        } catch {
+            owsFailDebug("Error: \(error)")
+            XCTFail("Error: \(error)")
+        }
+    }
+
+    private static let date2 = NSDate.ows_date(withMillisecondsSince1970: 1000 + 2)
+    private static let block2 = MobileCoin.BlockMetadata(index: 2, timestamp: date2)
+    private static let block4 = MobileCoin.BlockMetadata(index: 2, timestamp: date2)
+
+    private static func randomTxoPublicKey() -> Data {
+        Randomness.generateRandomBytes(32)
+    }
+
+    private static func randomKeyImage() -> Data {
+        Randomness.generateRandomBytes(32)
+    }
+
+    private static let txoPublicKey2a = randomTxoPublicKey()
+    private static let keyImage2a = randomKeyImage()
+
+    private static func buildItem2a_incomingUnspent() -> MCTransactionHistoryItem {
+        MockTransactionHistoryItem(amountPicoMob: 1002,
+                                   txoPublicKey: txoPublicKey2a,
+                                   keyImage: keyImage2a,
+                                   receivedBlock: block2,
+                                   spentBlock: nil)
+    }
+
+    private static func buildItem2a_incomingSpentIn4() -> MCTransactionHistoryItem {
+        MockTransactionHistoryItem(amountPicoMob: 1002,
+                                   txoPublicKey: txoPublicKey2a,
+                                   keyImage: keyImage2a,
+                                   receivedBlock: block2,
+                                   spentBlock: block4)
+    }
+}
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index a38e1f6c284..7c180f1b861 100644
--- a/Signal/translations/en.lproj/Localizable.strings
+++ b/Signal/translations/en.lproj/Localizable.strings
@@ -265,6 +265,9 @@
 /* A string indicating to the user that once they take photos, they'll be able to send them from this view. */
 "ATTACHMENT_KEYBOARD_NO_PHOTOS" = "Once youve taken photos, youll be able to send your recents here.";
 
+/* A button to select a payment from the Attachment Keyboard */
+"ATTACHMENT_KEYBOARD_PAYMENT" = "Payment";
+
 /* Accessibility label for attaching photos */
 "ATTACHMENT_LABEL" = "Attachment";
 
@@ -391,6 +394,9 @@
 /* Label for 'continue' button. */
 "BUTTON_CONTINUE" = "Continue";
 
+/* Label for the 'copy' button. */
+"BUTTON_COPY" = "Copy";
+
 /* Label for generic done button. */
 "BUTTON_DONE" = "Done";
 
@@ -412,6 +418,9 @@
 /* Label for the 'submit' button. */
 "BUTTON_SUBMIT" = "Submit";
 
+/* Label for the 'view' button. */
+"BUTTON_VIEW" = "View";
+
 /* Label for the 'yes' button. */
 "BUTTON_YES" = "Yes";
 
@@ -3325,6 +3334,189 @@
 /* info message text in conversation view. {embeds callee name} */
 "OUTGOING_CALL_FORMAT" = "You called %@";
 
+/* Button used to decline a payment request. */
+"PAYMENTS_ACTION_DECLINE_REQUEST" = "Decline Request";
+
+/* Abbreviation for MobileCoin currency. */
+"PAYMENTS_CURRENCY_ABBREVIATION_MOB" = "MOB";
+
+/* Indicator for unknown currency. */
+"PAYMENTS_CURRENCY_UNKNOWN" = "?";
+
+/* Message for the 'decline a payment request' alert. Embeds {{ the name of the user requesting payment }}. */
+"PAYMENTS_DECLINE_REQUEST_ALERT_MESSAGE_FORMAT" = "%@ will be notified that you declined.";
+
+/* Title for the 'decline a payment request' alert. */
+"PAYMENTS_DECLINE_REQUEST_ALERT_TITLE" = "Decline this Request?";
+
+/* Error message indicating that the estimated fee for a payment could not be determined. */
+"PAYMENTS_ERROR_COULD_NOT_ESTIMATE_FEE" = "Could not determine fee for payment";
+
+/* Error indicating that a payment request could not be cancelled. */
+"PAYMENTS_ERROR_PAYMENT_REQUEST_CANCEL_FAILED" = "Request could not be cancelled.";
+
+/* Error indicating that a payment request could not be declined. */
+"PAYMENTS_ERROR_PAYMENT_REQUEST_DECLINE_FAILED" = "Request could not be declined.";
+
+/* Status indicator for incoming payments which failed. */
+"PAYMENTS_FAILURE_INCOMING_FAILED" = "Failed";
+
+/* Status indicator for incoming payments which failed to verify. */
+"PAYMENTS_FAILURE_INCOMING_VALIDATION_FAILED" = "Invalid";
+
+/* Status indicator for invalid payments which could not be processed. */
+"PAYMENTS_FAILURE_INVALID" = "Invalid";
+
+/* Status indicator for outgoing payments which failed. */
+"PAYMENTS_FAILURE_OUTGOING_FAILED" = "Failed";
+
+/* Status indicator for outgoing payments which failed due to insufficient funds. */
+"PAYMENTS_FAILURE_OUTGOING_INSUFFICIENT_FUNDS" = "Insufficient Funds";
+
+/* Status indicator for outgoing payments for which the notification could not be sent. */
+"PAYMENTS_FAILURE_OUTGOING_NOTIFICATION_SEND_FAILED" = "Receipt Could Not Be Sent To Recipient";
+
+/* Status indicator for outgoing payments which failed to verify. */
+"PAYMENTS_FAILURE_OUTGOING_VALIDATION_FAILED" = "Invalid";
+
+/* Label for the 'add memo' ui in the 'send payment' UI. */
+"PAYMENTS_NEW_PAYMENT_ADD_MEMO" = "Add Note";
+
+/* Format for the 'balance' indicator. Embeds {{ the current payments balance }}. */
+"PAYMENTS_NEW_PAYMENT_BALANCE_FORMAT" = "Balance: %@";
+
+/* Label for the 'confirm payment' button. */
+"PAYMENTS_NEW_PAYMENT_CONFIRM_PAYMENT_BUTTON" = "Confirm Payment";
+
+/* Title for the 'confirm payment' ui in the 'send payment' UI. */
+"PAYMENTS_NEW_PAYMENT_CONFIRM_PAYMENT_TITLE" = "Pay";
+
+/* Format for currency amounts in the 'send payment' UI. Embeds {{ %1$@ the current payments balance, %2$@ the currency indicator }}. */
+"PAYMENTS_NEW_PAYMENT_CURRENCY_FORMAT" = "%1$@ %2$@";
+
+/* Format for message indicating that error occurred while sending a payment or payment request. Embeds: {{ a description of the error that occurred }}. */
+"PAYMENTS_NEW_PAYMENT_ERROR_FORMAT" = "Error: %@";
+
+/* Indicates that a payment failed due to insufficient funds. */
+"PAYMENTS_NEW_PAYMENT_ERROR_INSUFFICIENT_FUNDS" = "Insufficient funds";
+
+/* Indicates that an unknown error occurred while sending a payment or payment request. */
+"PAYMENTS_NEW_PAYMENT_ERROR_UNKNOWN" = "Payment could not be completed";
+
+/* Label for the 'payment estimated fee' indicator. */
+"PAYMENTS_NEW_PAYMENT_ESTIMATED_FEE" = "Network Fee";
+
+/* Format for the 'fiat currency conversion estimate' indicator. Embeds {{ the fiat currency code }}. */
+"PAYMENTS_NEW_PAYMENT_FIAT_CONVERSION_FORMAT" = "Estimated %@";
+
+/* Label for the 'invalid amount' button. */
+"PAYMENTS_NEW_PAYMENT_INVALID_AMOUNT" = "Invalid Amount";
+
+/* Format for the 'message character count indicator' for the 'new payment or payment request' view. Embeds {{ %1$@ the number of characters in the message, %2$@ the maximum number of characters in the message }}. */
+"PAYMENTS_NEW_PAYMENT_MESSAGE_COUNT_FORMAT" = "%1$@ / %2$@";
+
+/* Placeholder for the new payment or payment request message. */
+"PAYMENTS_NEW_PAYMENT_MESSAGE_PLACEHOLDER" = "Note";
+
+/* Label for the 'new payment' button. */
+"PAYMENTS_NEW_PAYMENT_PAY_BUTTON" = "Pay";
+
+/* Label for the 'total payment amount' indicator. */
+"PAYMENTS_NEW_PAYMENT_PAYMENT_TOTAL" = "Total Amount";
+
+/* Indicator that a new payment is being processed in the 'send payment' UI. */
+"PAYMENTS_NEW_PAYMENT_PROCESSING" = "Processing";
+
+/* Format for the 'payment recipient amount' indicator. Embeds {{ the name of the recipient of the payment }}. */
+"PAYMENTS_NEW_PAYMENT_RECIPIENT_AMOUNT_FORMAT" = "To %@";
+
+/* Label for the 'new payment request' button. */
+"PAYMENTS_NEW_PAYMENT_REQUEST_BUTTON" = "Request";
+
+/* Label for the payments notification banner for a single payment notification. */
+"PAYMENTS_NOTIFICATION_BANNER_1" = "1 new payment notification";
+
+/* Format for the payments notification banner for a single payment notification with details. Embeds: {{ %1$@ the name of the user who sent you the payment, %2$@ the amount of the payment }}. */
+"PAYMENTS_NOTIFICATION_BANNER_1_WITH_DETAILS_FORMAT" = "%1$@ sent you %2$@";
+
+/* Format for the payments notification banner for multiple payment notifications. Embeds: {{ the number of unread payment notifications }}. */
+"PAYMENTS_NOTIFICATION_BANNER_N_FORMAT" = "%@ new payment notifications";
+
+/* Status indicator for incoming payments which are complete. */
+"PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_COMPLETE" = "Complete";
+
+/* Status indicator for incoming payments which have not yet been verified. */
+"PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_UNVERIFIED" = "Unverified";
+
+/* Status indicator for incoming payments which have been verified. */
+"PAYMENTS_PAYMENT_STATUS_LONG_INCOMING_VERIFIED" = "Verified";
+
+/* Status indicator for outgoing payments which are complete. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_COMPLETE" = "Complete";
+
+/* Status indicator for outgoing payments which are being sent. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_SENDING" = "Sending";
+
+/* Status indicator for outgoing payments which have been sent. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_SENT" = "Sent";
+
+/* Status indicator for outgoing payments which have not yet been submitted. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_UNSUBMITTED" = "Preparing";
+
+/* Status indicator for outgoing payments which have been submitted but not yet verified. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_UNVERIFIED" = "Unverified";
+
+/* Status indicator for outgoing payments which have been verified but not yet sent. */
+"PAYMENTS_PAYMENT_STATUS_LONG_OUTGOING_VERIFIED" = "Verified";
+
+/* Status indicator for payments which had an unknown failure. */
+"PAYMENTS_PAYMENT_STATUS_LONG_UNKNOWN" = "Unknown Failure";
+
+/* Status indicator for incoming payments which are complete. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_COMPLETE" = "Complete";
+
+/* Status indicator for incoming payments which are duplicates. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_DUPLICATE" = "Duplicate Payment";
+
+/* Status indicator for incoming payments which have not yet been verified. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_UNVERIFIED" = "Unverified";
+
+/* Status indicator for incoming payments which have been verified. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_INCOMING_VERIFIED" = "Verified";
+
+/* Status indicator for outgoing payments which are complete. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_COMPLETE" = "Complete";
+
+/* Status indicator for outgoing payments failed to be sent. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SEND_FAILED" = "Sending";
+
+/* Status indicator for outgoing payments which are being sent. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SENDING" = "Sending";
+
+/* Status indicator for outgoing payments which have been sent. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_SENT" = "Sent";
+
+/* Status indicator for outgoing payments which have not yet been submitted. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_UNSUBMITTED" = "Preparing";
+
+/* Status indicator for outgoing payments which have been submitted but not yet verified. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_UNVERIFIED" = "Unverified";
+
+/* Status indicator for outgoing payments which have been verified but not yet sent. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_OUTGOING_VERIFIED" = "Verified";
+
+/* Status indicator for payments which had an unknown failure. */
+"PAYMENTS_PAYMENT_STATUS_SHORT_UNKNOWN" = "Unknown Failure";
+
+/* Indicator that a given user cannot receive payments because the have not enabled payments. */
+"PAYMENTS_RECIPIENT_PAYMENTS_NOT_ENABLED" = "User has not enabled payments.";
+
+/* Label for 'transfer out' payments. */
+"PAYMENTS_TRANSFER_OUT_PAYMENT" = "Transfer Out";
+
+/* Label for unknown payments. */
+"PAYMENTS_UNKNOWN_PAYMENT" = "Invalid Payment";
+
 /* Title of 'accept member request to join group' button. */
 "PENDING_GROUP_MEMBERS_ACCEPT_REQUEST_BUTTON" = "Add to Group";
 
@@ -4474,7 +4666,7 @@
 /* Title for the 'donate to signal' link in settings. */
 "SETTINGS_DONATE" = "Donate to Signal";
 
-/* Title for support page in app settings. */
+/* Title for help button and help pages in app settings. */
 "SETTINGS_HELP" = "Help";
 
 /* Settings table view cell label */
@@ -4549,6 +4741,150 @@
 /* The title for the notification settings. */
 "SETTINGS_NOTIFICATIONS" = "Notifications";
 
+/* Label for 'add money' view in the payment settings. */
+"SETTINGS_PAYMENTS_ADD_MONEY" = "Add Money";
+
+/* Explanation of the process for adding money in the 'add money' settings view. */
+"SETTINGS_PAYMENTS_ADD_MONEY_DESCRIPTION" = "To add money to Signal, send MobileCoin to your wallet address. To get started, start a transaction with a supported exchange, then scan or copy your wallet address here.";
+
+/* Indicator that the payments wallet address has been copied to the pasteboard. */
+"SETTINGS_PAYMENTS_ADD_MONEY_WALLET_ADDRESS_COPIED" = "Wallet Address Copied";
+
+/* Label for the 'all payment records' section of the app settings. */
+"SETTINGS_PAYMENTS_ALL_RECORDS" = "All Payments";
+
+/* Format string for the 'local balance converted into local currency' indicator. Embeds: {{ %1$@ the local balance in the local currency, %2$@ the local currency code, %3$@ the date the currency conversion rate was obtained. }}.. */
+"SETTINGS_PAYMENTS_BALANCE_CONVERSION_FORMAT" = "%1$@ %2$@ at %3$@";
+
+/* Label for 'all currencies' section in the payment currency settings. */
+"SETTINGS_PAYMENTS_CURRENCY_VIEW_SECTION_ALL_CURRENCIES" = "All Currencies";
+
+/* Label for 'deactivate payments' button in the app settings. */
+"SETTINGS_PAYMENTS_DEACTIVATE_PAYMENTS" = "Deactivate Wallet";
+
+/* Label for the 'payments details' view of the app settings. */
+"SETTINGS_PAYMENTS_DETAIL_VIEW_TITLE" = "Details";
+
+/* Description for the 'About MobileCoin' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_ABOUT_MOBILECOIN_DESCRIPTION" = "MobileCoin is a new digital currency protected by advanced encryption.";
+
+/* Title for the 'About MobileCoin' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_ABOUT_MOBILECOIN_TITLE" = "About MobileCoin";
+
+/* Description for the 'Adding to your wallet' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_ADDING_TO_YOUR_WALLET_DESCRIPTION" = "You can add funds to Signal by sending MobileCoin to your wallet address.";
+
+/* Title for the 'Adding to your wallet' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_ADDING_TO_YOUR_WALLET_TITLE" = "Adding to your wallet";
+
+/* Description for the 'Cashing Out' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_CASHING_OUT_DESCRIPTION" = "You can cash out at anytime. Just make a transfer to a supported exchange.";
+
+/* Title for the 'Cashing Out' help card in the payments settings. */
+"SETTINGS_PAYMENTS_HELP_CARD_CASHING_OUT_TITLE" = "Cashing out";
+
+/* Indicator that the payments wallet address is invalid. */
+"SETTINGS_PAYMENTS_INVALID_WALLET_ADDRESS" = "Invalid Wallet Address";
+
+/* Format string for payment memo messages. Embeds: {{ the memo message }}. */
+"SETTINGS_PAYMENTS_MEMO_MESSAGE_FORMAT" = "For: %@";
+
+/* Message indicating that there is no payment activity to display in the payment settings. */
+"SETTINGS_PAYMENTS_NO_ACTIVITY_INDICATOR" = "No recent activity yet.";
+
+/* Label for 'activate' button in the 'payments opt-in' view in the app settings. */
+"SETTINGS_PAYMENTS_OPT_IN_ACTIVATE_BUTTON" = "Activate Payments";
+
+/* Message shown when payments rae activated in the 'payments opt-in' view in the app settings. */
+"SETTINGS_PAYMENTS_OPT_IN_ACTIVATED_TOAST" = "Payments activated.";
+
+/* Message for the 'payments opt-in' view in the app settings. */
+"SETTINGS_PAYMENTS_OPT_IN_MESSAGE" = "Signal now supports payments in a new digital currency called MobileCoin. Activating payments will let you send and receive MobileCoin via chats in Signal.";
+
+/* Title for the 'payments opt-in' view in the app settings. */
+"SETTINGS_PAYMENTS_OPT_IN_TITLE" = "Introducing Payments";
+
+/* Label for the 'MobileCoin network fee' in the payment details view in the app settings. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_FEE" = "Network Fee";
+
+/* Label for the sender in the payment details view in the app settings. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER" = "Sent By";
+
+/* Format for the sender info in the payment details view in the app settings. Embeds {{ %1$@ the name of the sender of the payment, %2$@ the date the transaction was sent }}. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER_FORMAT" = "%1$@ on %2$@";
+
+/* Indicates that you send the payment in the payment details view in the app settings. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_SENDER_YOU" = "You";
+
+/* Label for the transaction status in the payment details view in the app settings. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_STATUS" = "Status";
+
+/* Footer string for the status section of the payment details view in the app settings. */
+"SETTINGS_PAYMENTS_PAYMENT_DETAILS_STATUS_FOOTER" = "Transaction details including the payment amount and time of transaction are part of the MobileCoin Ledger.";
+
+/* Format string for the sender of an incoming payment. Embeds: {{ the name of the sender of the payment}}. */
+"SETTINGS_PAYMENTS_PAYMENT_USER_INCOMING_FORMAT" = "From %@";
+
+/* Format string for the recipient of an outgoing payment. Embeds: {{ the name of the recipient of the payment}}. */
+"SETTINGS_PAYMENTS_PAYMENT_USER_OUTGOING_FORMAT" = "To %@";
+
+/* Label for the 'all payments' mode of the 'all payment records' section of the app settings. */
+"SETTINGS_PAYMENTS_PAYMENTS_TYPE_ALL" = "All";
+
+/* Label for the 'incoming payments' mode of the 'all payment records' section of the app settings. */
+"SETTINGS_PAYMENTS_PAYMENTS_TYPE_INCOMING" = "Received";
+
+/* Label for the 'outgoing payments' mode of the 'all payment records' section of the app settings. */
+"SETTINGS_PAYMENTS_PAYMENTS_TYPE_OUTGOING" = "Sent";
+
+/* Label for the 'recent payments' section in the payment settings. */
+"SETTINGS_PAYMENTS_RECENT_PAYMENTS" = "Recent Payments";
+
+/* Label for the 'remove payments details' button in the app settings. */
+"SETTINGS_PAYMENTS_REMOVE_BUTTON" = "Remove";
+
+/* Instructions in the 'scan payment address QR code' view in the payment settings. */
+"SETTINGS_PAYMENTS_SCAN_QR_INSTRUCTIONS" = "Scan the QR Code for the transfer recipient.";
+
+/* Error indicating that a QR code does not contain a valid MobileCoin public address URL. */
+"SETTINGS_PAYMENTS_SCAN_QR_INVALID_PUBLIC_ADDRESS_URL" = "Invalid URL";
+
+/* Label for 'scan payment address QR code' view in the payment settings. */
+"SETTINGS_PAYMENTS_SCAN_QR_TITLE" = "Scan QR Code";
+
+/* Label for 'send payment' button in the payment settings. */
+"SETTINGS_PAYMENTS_SEND_PAYMENT" = "Send Payment";
+
+/* Label for the 'send payment to recipient' view in the payment settings. */
+"SETTINGS_PAYMENTS_SEND_TO_RECIPIENT_TITLE" = "Choose Recipient";
+
+/* Title for the 'set currency' view in the app settings. */
+"SETTINGS_PAYMENTS_SET_CURRENCY" = "Set Currency";
+
+/* Label for the 'show all payments' button in the payment settings. */
+"SETTINGS_PAYMENTS_SHOW_ALL_PAYMENTS_BUTTON" = "See All";
+
+/* Label for the 'payments' section of the app settings. */
+"SETTINGS_PAYMENTS_TITLE" = "Payments";
+
+/* Footer of the 'transfer currency out' view in the payment settings. */
+"SETTINGS_PAYMENTS_TRANSFER_OUT_FOOTER" = "You can withdraw MobileCoin by completing a transfer to another wallet address. From another wallet, look for the 26-35 string of numbers and letters most commonly below the QR code.";
+
+/* Error indicating that MobileCoin public address is not valid. */
+"SETTINGS_PAYMENTS_TRANSFER_OUT_INVALID_PUBLIC_ADDRESS" = "Invalid payments recipient";
+
+/* Placeholder text for the address text field in the 'transfer currency out' settings view. */
+"SETTINGS_PAYMENTS_TRANSFER_OUT_PLACEHOLDER" = "To: Scan or enter wallet address";
+
+/* Label for 'transfer currency out' view in the payment settings. */
+"SETTINGS_PAYMENTS_TRANSFER_OUT_TITLE" = "Transfer";
+
+/* Label for the 'transfer to exchange' button in the payment settings. */
+"SETTINGS_PAYMENTS_TRANSFER_TO_EXCHANGE" = "Transfer to Exchange";
+
+/* Label for the payments wallet address. */
+"SETTINGS_PAYMENTS_WALLET_ADDRESS_LABEL" = "Your Wallet Address";
+
 /* Label for the 'phone number discoverability' setting. */
 "SETTINGS_PHONE_NUMBER_DISCOVERABILITY" = "Find Me by Phone Number";
 
diff --git a/SignalMessaging/appearance/Theme+OWS.swift b/SignalMessaging/appearance/Theme+OWS.swift
index d8342070864..7842933580f 100644
--- a/SignalMessaging/appearance/Theme+OWS.swift
+++ b/SignalMessaging/appearance/Theme+OWS.swift
@@ -44,6 +44,7 @@ public enum ThemeIcon: UInt {
     case settingsDonate
     case settingsAdvanced
     case settingsAbout
+    case settingsPayments
 
     case stickerButton
     case cameraButton
@@ -234,6 +235,8 @@ public extension Theme {
             return "advanced-24"
         case .settingsAbout:
             return isDarkThemeEnabled ? "compose-solid-24" : "compose-outline-24"
+        case .settingsPayments:
+            return "payments-32"
 
         // Input Toolbar
         case .stickerButton:
