diff --git a/.travis.yml b/.travis.yml
index 1f1f7e2d721..51a623aa809 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -1,7 +1,7 @@
 language: objective-c
 cache: cocoapods # pod install somtimes takes >20 minutes, so lets cache this
 
-osx_image: xcode7.3
+osx_image: xcode8
 
 before_install:
     - brew update # we may not be running the latest version so always update
@@ -16,5 +16,8 @@ script:
 - |
   set -o pipefail
   # default xctool was hanging. see https://github.com/travis-ci/travis-ci/issues/3986
-  xcodebuild -workspace Signal.xcworkspace -scheme Signal -sdk iphonesimulator build test | xcpretty
+  xcodebuild -workspace Signal.xcworkspace -scheme Signal \
+    -sdk iphonesimulator \
+    -destination 'platform=iOS Simulator,name=iPhone 6,OS=10.0' \
+    build test | xcpretty
 
diff --git a/Libraries/iRate/iRate.m b/Libraries/iRate/iRate.m
index ed571c8730d..e23693ae3eb 100755
--- a/Libraries/iRate/iRate.m
+++ b/Libraries/iRate/iRate.m
@@ -39,8 +39,8 @@
 #error This class requires automatic reference counting
 #endif
 
-
-#pragma clang diagnostic ignored "-Wreceiver-is-weak"
+// Unknown diagnostic
+// #pragma clang diagnostic ignored "-Wreceiver-is-weak"
 #pragma clang diagnostic ignored "-Warc-repeated-use-of-weak"
 #pragma clang diagnostic ignored "-Wobjc-missing-property-synthesis"
 #pragma clang diagnostic ignored "-Wdirect-ivar-access"
diff --git a/Podfile b/Podfile
index 36868addb3e..b71017aae26 100644
--- a/Podfile
+++ b/Podfile
@@ -3,7 +3,7 @@ source 'https://github.com/CocoaPods/Specs.git'
 
 target 'Signal' do
     pod 'SocketRocket',               :git => 'https://github.com/facebook/SocketRocket.git'
-    pod 'SignalServiceKit',           git: 'https://github.com/WhisperSystems/SignalServiceKit.git', branch: 'new-fingerprint-format'
+    pod 'SignalServiceKit',           git: 'https://github.com/WhisperSystems/SignalServiceKit.git', branch: 'release/2.6'
     #pod 'SignalServiceKit',           path: '../SignalServiceKit'
     pod 'OpenSSL',                    '~> 1.0.208'
     pod 'PastelogKit',                '~> 1.3'
diff --git a/Podfile.lock b/Podfile.lock
index d86da987234..8a5674383e6 100644
--- a/Podfile.lock
+++ b/Podfile.lock
@@ -122,20 +122,20 @@ DEPENDENCIES:
   - OpenSSL (~> 1.0.208)
   - PastelogKit (~> 1.3)
   - SCWaveformView (~> 1.0)
-  - SignalServiceKit (from `https://github.com/WhisperSystems/SignalServiceKit.git`, branch `new-fingerprint-format`)
+  - SignalServiceKit (from `https://github.com/WhisperSystems/SignalServiceKit.git`, branch `release/2.6`)
   - SocketRocket (from `https://github.com/facebook/SocketRocket.git`)
   - ZXingObjC
 
 EXTERNAL SOURCES:
   SignalServiceKit:
-    :branch: new-fingerprint-format
+    :branch: release/2.6
     :git: https://github.com/WhisperSystems/SignalServiceKit.git
   SocketRocket:
     :git: https://github.com/facebook/SocketRocket.git
 
 CHECKOUT OPTIONS:
   SignalServiceKit:
-    :commit: 2b612e9ab72b427b310b125b1dc82eef1d3f85ec
+    :commit: a277fbfacb10599ce609e625e599a9903f8d0ebf
     :git: https://github.com/WhisperSystems/SignalServiceKit.git
   SocketRocket:
     :commit: 41b57bb2fc292a814f758441a05243eb38457027
@@ -167,6 +167,6 @@ SPEC CHECKSUMS:
   YapDatabase: b1e43555a34a5298e23a045be96817a5ef0da58f
   ZXingObjC: bf15b3814f7a105b6d99f47da2333c93a063650a
 
-PODFILE CHECKSUM: d4204cf787649f9512dc74e5844f48d2570d5b2e
+PODFILE CHECKSUM: 1e76310fe364da5f11d50ef76ccf13714b52926b
 
 COCOAPODS: 1.0.1
diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index c026e95f889..a12df6d1722 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -9,12 +9,20 @@
 /* Begin PBXBuildFile section */
 		0DD55B166906AF3368995978 /* libPods-Signal.a in Frameworks */ = {isa = PBXBuildFile; fileRef = 80CD5E19DD23200E7926EEA7 /* libPods-Signal.a */; };
 		30209C98DABCE82064B4EAF5 /* libPods-SignalTests.a in Frameworks */ = {isa = PBXBuildFile; fileRef = A33D3C7EB4B17BDBD47F0FCC /* libPods-SignalTests.a */; };
+		450873C31D9D5149006B54F2 /* OWSExpirationTimerView.m in Sources */ = {isa = PBXBuildFile; fileRef = 450873C21D9D5149006B54F2 /* OWSExpirationTimerView.m */; };
+		450873C41D9D5149006B54F2 /* OWSExpirationTimerView.m in Sources */ = {isa = PBXBuildFile; fileRef = 450873C21D9D5149006B54F2 /* OWSExpirationTimerView.m */; };
+		450873C71D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m in Sources */ = {isa = PBXBuildFile; fileRef = 450873C61D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m */; };
+		450873C81D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m in Sources */ = {isa = PBXBuildFile; fileRef = 450873C61D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m */; };
 		4520D8D51D417D8E00123472 /* Photos.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 4520D8D41D417D8E00123472 /* Photos.framework */; };
+		452E3C8E1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 452E3C8D1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m */; };
+		452E3C8F1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 452E3C8D1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m */; };
 		453D28B31D32B87100D523F0 /* OWSErrorMessage.m in Sources */ = {isa = PBXBuildFile; fileRef = 453D28B01D32B87100D523F0 /* OWSErrorMessage.m */; };
 		453D28B41D32B87100D523F0 /* OWSInfoMessage.m in Sources */ = {isa = PBXBuildFile; fileRef = 453D28B21D32B87100D523F0 /* OWSInfoMessage.m */; };
 		453D28B71D32BA5F00D523F0 /* OWSDisplayedMessage.m in Sources */ = {isa = PBXBuildFile; fileRef = 453D28B61D32BA5F00D523F0 /* OWSDisplayedMessage.m */; };
 		453D28BA1D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m in Sources */ = {isa = PBXBuildFile; fileRef = 453D28B91D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m */; };
 		453D28BB1D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m in Sources */ = {isa = PBXBuildFile; fileRef = 453D28B91D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m */; };
+		45666EC61D99483D008FE134 /* OWSAvatarBuilder.m in Sources */ = {isa = PBXBuildFile; fileRef = 45666EC51D99483D008FE134 /* OWSAvatarBuilder.m */; };
+		45666EC91D994C0D008FE134 /* OWSGroupAvatarBuilder.m in Sources */ = {isa = PBXBuildFile; fileRef = 45666EC81D994C0D008FE134 /* OWSGroupAvatarBuilder.m */; };
 		45666F561D9B2827008FE134 /* OWSScrubbingLogFormatter.m in Sources */ = {isa = PBXBuildFile; fileRef = 45666F551D9B2827008FE134 /* OWSScrubbingLogFormatter.m */; };
 		45666F581D9B2880008FE134 /* OWSScrubbingLogFormatterTest.m in Sources */ = {isa = PBXBuildFile; fileRef = 45666F571D9B2880008FE134 /* OWSScrubbingLogFormatterTest.m */; };
 		45666F761D9BFE00008FE134 /* OWS100RemoveTSRecipientsMigration.m in Sources */ = {isa = PBXBuildFile; fileRef = 45666F751D9BFE00008FE134 /* OWS100RemoveTSRecipientsMigration.m */; };
@@ -23,6 +31,8 @@
 		45843D1F1D2236B30013E85A /* OWSContactsSearcher.m in Sources */ = {isa = PBXBuildFile; fileRef = 45843D1E1D2236B30013E85A /* OWSContactsSearcher.m */; };
 		45843D201D2236B30013E85A /* OWSContactsSearcher.m in Sources */ = {isa = PBXBuildFile; fileRef = 45843D1E1D2236B30013E85A /* OWSContactsSearcher.m */; };
 		45843D221D223BA10013E85A /* OWSContactsSearcherTest.m in Sources */ = {isa = PBXBuildFile; fileRef = 45843D211D223BA10013E85A /* OWSContactsSearcherTest.m */; };
+		45855F371D9498A40084F340 /* OWSContactAvatarBuilder.m in Sources */ = {isa = PBXBuildFile; fileRef = 45855F361D9498A40084F340 /* OWSContactAvatarBuilder.m */; };
+		45855F381D9498A40084F340 /* OWSContactAvatarBuilder.m in Sources */ = {isa = PBXBuildFile; fileRef = 45855F361D9498A40084F340 /* OWSContactAvatarBuilder.m */; };
 		458E38311D6682450094BD24 /* OWSQRCodeScanningViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 458E38301D6682450094BD24 /* OWSQRCodeScanningViewController.m */; };
 		458E38341D66873D0094BD24 /* OWSLinkDeviceViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 458E38331D66873D0094BD24 /* OWSLinkDeviceViewController.m */; };
 		458E38371D668EBF0094BD24 /* OWSDeviceProvisioningURLParser.m in Sources */ = {isa = PBXBuildFile; fileRef = 458E38361D668EBF0094BD24 /* OWSDeviceProvisioningURLParser.m */; };
@@ -43,6 +53,9 @@
 		45C681C91D305C9E0050903A /* OWSDisplayedMessageCollectionViewCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 45C681C31D305C9E0050903A /* OWSDisplayedMessageCollectionViewCell.xib */; };
 		45CB2FA81CB7146C00E1B343 /* Launch Screen.storyboard in Resources */ = {isa = PBXBuildFile; fileRef = 45CB2FA71CB7146C00E1B343 /* Launch Screen.storyboard */; };
 		45EB32CF1D7465C900735B2E /* OWSLinkedDevicesTableViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = 45EB32CE1D7465C900735B2E /* OWSLinkedDevicesTableViewController.m */; };
+		45F2B1941D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.m in Sources */ = {isa = PBXBuildFile; fileRef = 45F2B1931D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.m */; };
+		45F2B1971D9CA207000D2C69 /* OWSIncomingMessageCollectionViewCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 45F2B1951D9CA207000D2C69 /* OWSIncomingMessageCollectionViewCell.xib */; };
+		45F2B1981D9CA207000D2C69 /* OWSOutgoingMessageCollectionViewCell.xib in Resources */ = {isa = PBXBuildFile; fileRef = 45F2B1961D9CA207000D2C69 /* OWSOutgoingMessageCollectionViewCell.xib */; };
 		4CE0E3771B954546007210CF /* TSAnimatedAdapter.m in Sources */ = {isa = PBXBuildFile; fileRef = 4CE0E3761B954546007210CF /* TSAnimatedAdapter.m */; };
 		701231B518ECAA4500D456C4 /* EvpMessageDigest.m in Sources */ = {isa = PBXBuildFile; fileRef = 701231B418ECAA4500D456C4 /* EvpMessageDigest.m */; };
 		70377AAB1918450100CAF501 /* MobileCoreServices.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 70377AAA1918450100CAF501 /* MobileCoreServices.framework */; };
@@ -392,7 +405,6 @@
 		B6A3EB4B1A423B3800B2236B /* TSPhotoAdapter.m in Sources */ = {isa = PBXBuildFile; fileRef = B6A3EB4A1A423B3800B2236B /* TSPhotoAdapter.m */; };
 		B6B1013C196D213F007E3930 /* SignalKeyingStorage.m in Sources */ = {isa = PBXBuildFile; fileRef = B6B1013B196D213F007E3930 /* SignalKeyingStorage.m */; };
 		B6B226971BE4B7D200860F4D /* ContactsUI.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = B6B226961BE4B7D200860F4D /* ContactsUI.framework */; };
-		B6B2269A1BE4C59200860F4D /* APNavigationController.m in Sources */ = {isa = PBXBuildFile; fileRef = B6B226991BE4C59200860F4D /* APNavigationController.m */; };
 		B6B9ECFC198B31BA00C620D3 /* PushManager.m in Sources */ = {isa = PBXBuildFile; fileRef = B6B9ECFB198B31BA00C620D3 /* PushManager.m */; };
 		B6BADBE71B88D1AC0086A80D /* LockInteractionController.m in Sources */ = {isa = PBXBuildFile; fileRef = B6BADBE61B88D1AC0086A80D /* LockInteractionController.m */; };
 		B6C6AE551A305ED1006BAF8F /* redphone.cer in Resources */ = {isa = PBXBuildFile; fileRef = B6C6AE531A305ED1006BAF8F /* redphone.cer */; };
@@ -462,7 +474,7 @@
 		FC9120411A39EFB70074545C /* qr@2x.png in Resources */ = {isa = PBXBuildFile; fileRef = FC91203F1A39EFB70074545C /* qr@2x.png */; };
 		FCAC963C19FEF9280046DFC5 /* SignalsViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = FCAC963B19FEF9280046DFC5 /* SignalsViewController.m */; };
 		FCAC964019FEF99A0046DFC5 /* InboxTableViewCell.m in Sources */ = {isa = PBXBuildFile; fileRef = FCAC963E19FEF99A0046DFC5 /* InboxTableViewCell.m */; };
-		FCAC965119FF0A6E0046DFC5 /* MessagesViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = FCAC965019FF0A6E0046DFC5 /* MessagesViewController.m */; settings = {COMPILER_FLAGS = "-Wno-receiver-is-weak"; }; };
+		FCAC965119FF0A6E0046DFC5 /* MessagesViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = FCAC965019FF0A6E0046DFC5 /* MessagesViewController.m */; };
 		FCB11D8C1A129A76002F93FB /* CoreMedia.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = FCB11D8B1A129A76002F93FB /* CoreMedia.framework */; };
 		FCB11D931A12A4AA002F93FB /* FullImageViewController.m in Sources */ = {isa = PBXBuildFile; fileRef = FCB11D921A12A4AA002F93FB /* FullImageViewController.m */; };
 		FCC81A981A44558300DFEC7D /* UIDevice+TSHardwareVersion.m in Sources */ = {isa = PBXBuildFile; fileRef = FCC81A971A44558300DFEC7D /* UIDevice+TSHardwareVersion.m */; };
@@ -515,8 +527,15 @@
 /* End PBXContainerItemProxy section */
 
 /* Begin PBXFileReference section */
+		450873C11D9D5149006B54F2 /* OWSExpirationTimerView.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSExpirationTimerView.h; sourceTree = "<group>"; };
+		450873C21D9D5149006B54F2 /* OWSExpirationTimerView.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSExpirationTimerView.m; sourceTree = "<group>"; };
+		450873C51D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSIncomingMessageCollectionViewCell.h; sourceTree = "<group>"; };
+		450873C61D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSIncomingMessageCollectionViewCell.m; sourceTree = "<group>"; };
+		450873C91D9D86F4006B54F2 /* OWSExpirableMessageView.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSExpirableMessageView.h; sourceTree = "<group>"; };
 		4520D8D41D417D8E00123472 /* Photos.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Photos.framework; path = System/Library/Frameworks/Photos.framework; sourceTree = SDKROOT; };
 		4526BD481CA61C8D00166BC8 /* OWSMessageEditing.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSMessageEditing.h; sourceTree = "<group>"; };
+		452E3C8C1D935C77002A45B0 /* OWSConversationSettingsTableViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSConversationSettingsTableViewController.h; sourceTree = "<group>"; };
+		452E3C8D1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; lineEnding = 0; path = OWSConversationSettingsTableViewController.m; sourceTree = "<group>"; xcLanguageSpecificationIdentifier = xcode.lang.objc; };
 		453CC0361D08E1A60040EBA3 /* sn */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = sn; path = translations/sn.lproj/Localizable.strings; sourceTree = "<group>"; };
 		453D28AF1D32B87100D523F0 /* OWSErrorMessage.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSErrorMessage.h; sourceTree = "<group>"; };
 		453D28B01D32B87100D523F0 /* OWSErrorMessage.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSErrorMessage.m; sourceTree = "<group>"; };
@@ -527,6 +546,11 @@
 		453D28B81D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSMessagesBubblesSizeCalculator.h; sourceTree = "<group>"; };
 		453D28B91D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSMessagesBubblesSizeCalculator.m; sourceTree = "<group>"; };
 		454B35071D08EED80026D658 /* mk */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = mk; path = translations/mk.lproj/Localizable.strings; sourceTree = "<group>"; };
+		45666EC41D99483D008FE134 /* OWSAvatarBuilder.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSAvatarBuilder.h; sourceTree = "<group>"; };
+		45666EC51D99483D008FE134 /* OWSAvatarBuilder.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSAvatarBuilder.m; sourceTree = "<group>"; };
+		45666EC71D994C0D008FE134 /* OWSGroupAvatarBuilder.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSGroupAvatarBuilder.h; sourceTree = "<group>"; };
+		45666EC81D994C0D008FE134 /* OWSGroupAvatarBuilder.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSGroupAvatarBuilder.m; sourceTree = "<group>"; };
+		45666ECE1D995B94008FE134 /* OWSMessageData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSMessageData.h; sourceTree = "<group>"; };
 		45666F541D9B2827008FE134 /* OWSScrubbingLogFormatter.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSScrubbingLogFormatter.h; sourceTree = "<group>"; };
 		45666F551D9B2827008FE134 /* OWSScrubbingLogFormatter.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSScrubbingLogFormatter.m; sourceTree = "<group>"; };
 		45666F571D9B2880008FE134 /* OWSScrubbingLogFormatterTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSScrubbingLogFormatterTest.m; sourceTree = "<group>"; };
@@ -539,6 +563,8 @@
 		45843D1D1D2236B30013E85A /* OWSContactsSearcher.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSContactsSearcher.h; sourceTree = "<group>"; };
 		45843D1E1D2236B30013E85A /* OWSContactsSearcher.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSContactsSearcher.m; sourceTree = "<group>"; };
 		45843D211D223BA10013E85A /* OWSContactsSearcherTest.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSContactsSearcherTest.m; sourceTree = "<group>"; };
+		45855F351D9498A40084F340 /* OWSContactAvatarBuilder.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSContactAvatarBuilder.h; sourceTree = "<group>"; };
+		45855F361D9498A40084F340 /* OWSContactAvatarBuilder.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSContactAvatarBuilder.m; sourceTree = "<group>"; };
 		458E382F1D6682450094BD24 /* OWSQRCodeScanningViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSQRCodeScanningViewController.h; sourceTree = "<group>"; };
 		458E38301D6682450094BD24 /* OWSQRCodeScanningViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSQRCodeScanningViewController.m; sourceTree = "<group>"; };
 		458E38321D66873D0094BD24 /* OWSLinkDeviceViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSLinkDeviceViewController.h; sourceTree = "<group>"; };
@@ -566,6 +592,10 @@
 		45E282DF1D08E6CC00ADD4C8 /* id */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = id; path = translations/id.lproj/Localizable.strings; sourceTree = "<group>"; };
 		45EB32CD1D7465C900735B2E /* OWSLinkedDevicesTableViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSLinkedDevicesTableViewController.h; sourceTree = "<group>"; };
 		45EB32CE1D7465C900735B2E /* OWSLinkedDevicesTableViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSLinkedDevicesTableViewController.m; sourceTree = "<group>"; };
+		45F2B1921D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = OWSOutgoingMessageCollectionViewCell.h; sourceTree = "<group>"; };
+		45F2B1931D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = OWSOutgoingMessageCollectionViewCell.m; sourceTree = "<group>"; };
+		45F2B1951D9CA207000D2C69 /* OWSIncomingMessageCollectionViewCell.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; path = OWSIncomingMessageCollectionViewCell.xib; sourceTree = "<group>"; };
+		45F2B1961D9CA207000D2C69 /* OWSOutgoingMessageCollectionViewCell.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; path = OWSOutgoingMessageCollectionViewCell.xib; sourceTree = "<group>"; };
 		4CE0E3751B95453C007210CF /* TSAnimatedAdapter.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = TSAnimatedAdapter.h; sourceTree = "<group>"; };
 		4CE0E3761B954546007210CF /* TSAnimatedAdapter.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = TSAnimatedAdapter.m; sourceTree = "<group>"; };
 		701231B318ECAA4500D456C4 /* EvpMessageDigest.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = EvpMessageDigest.h; sourceTree = "<group>"; };
@@ -944,8 +974,6 @@
 		B6B1013A196D213F007E3930 /* SignalKeyingStorage.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = SignalKeyingStorage.h; sourceTree = "<group>"; };
 		B6B1013B196D213F007E3930 /* SignalKeyingStorage.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = SignalKeyingStorage.m; sourceTree = "<group>"; };
 		B6B226961BE4B7D200860F4D /* ContactsUI.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = ContactsUI.framework; path = System/Library/Frameworks/ContactsUI.framework; sourceTree = SDKROOT; };
-		B6B226981BE4C59200860F4D /* APNavigationController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = APNavigationController.h; sourceTree = "<group>"; };
-		B6B226991BE4C59200860F4D /* APNavigationController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = APNavigationController.m; sourceTree = "<group>"; };
 		B6B9ECFA198B31BA00C620D3 /* PushManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = PushManager.h; sourceTree = "<group>"; };
 		B6B9ECFB198B31BA00C620D3 /* PushManager.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = PushManager.m; sourceTree = "<group>"; };
 		B6BADBE51B88D1AC0086A80D /* LockInteractionController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = LockInteractionController.h; sourceTree = "<group>"; };
@@ -1047,8 +1075,8 @@
 		E85DB184824BA9DC302EC8B3 /* Pods-SignalTests.app store release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-SignalTests.app store release.xcconfig"; path = "Pods/Target Support Files/Pods-SignalTests/Pods-SignalTests.app store release.xcconfig"; sourceTree = "<group>"; };
 		FC3196281A067D8F0094C78E /* MessageComposeTableViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MessageComposeTableViewController.h; sourceTree = "<group>"; };
 		FC3196291A067D8F0094C78E /* MessageComposeTableViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = MessageComposeTableViewController.m; sourceTree = "<group>"; };
-		FC31962B1A06A2190094C78E /* FingerprintViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = FingerprintViewController.h; sourceTree = "<group>"; };
-		FC31962C1A06A2190094C78E /* FingerprintViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = FingerprintViewController.m; sourceTree = "<group>"; };
+		FC31962B1A06A2190094C78E /* FingerprintViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; lineEnding = 0; path = FingerprintViewController.h; sourceTree = "<group>"; xcLanguageSpecificationIdentifier = xcode.lang.objcpp; };
+		FC31962C1A06A2190094C78E /* FingerprintViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; lineEnding = 0; path = FingerprintViewController.m; sourceTree = "<group>"; xcLanguageSpecificationIdentifier = xcode.lang.objc; };
 		FC31962E1A0814130094C78E /* SettingsTableViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = SettingsTableViewController.h; sourceTree = "<group>"; };
 		FC31962F1A0814130094C78E /* SettingsTableViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = SettingsTableViewController.m; sourceTree = "<group>"; };
 		FC3BD9871A30A790005B96BB /* Social.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Social.framework; path = System/Library/Frameworks/Social.framework; sourceTree = SDKROOT; };
@@ -1062,7 +1090,7 @@
 		FCAC963D19FEF99A0046DFC5 /* InboxTableViewCell.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; name = InboxTableViewCell.h; path = "../view controllers/InboxTableViewCell.h"; sourceTree = "<group>"; };
 		FCAC963E19FEF99A0046DFC5 /* InboxTableViewCell.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; name = InboxTableViewCell.m; path = "../view controllers/InboxTableViewCell.m"; sourceTree = "<group>"; };
 		FCAC964F19FF0A6E0046DFC5 /* MessagesViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MessagesViewController.h; sourceTree = "<group>"; };
-		FCAC965019FF0A6E0046DFC5 /* MessagesViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = MessagesViewController.m; sourceTree = "<group>"; };
+		FCAC965019FF0A6E0046DFC5 /* MessagesViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; lineEnding = 0; path = MessagesViewController.m; sourceTree = "<group>"; xcLanguageSpecificationIdentifier = xcode.lang.objc; };
 		FCB11D8B1A129A76002F93FB /* CoreMedia.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CoreMedia.framework; path = System/Library/Frameworks/CoreMedia.framework; sourceTree = SDKROOT; };
 		FCB11D911A12A4AA002F93FB /* FullImageViewController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = FullImageViewController.h; sourceTree = "<group>"; };
 		FCB11D921A12A4AA002F93FB /* FullImageViewController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = FullImageViewController.m; sourceTree = "<group>"; };
@@ -1172,6 +1200,12 @@
 				453D28B91D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m */,
 				458E38351D668EBF0094BD24 /* OWSDeviceProvisioningURLParser.h */,
 				458E38361D668EBF0094BD24 /* OWSDeviceProvisioningURLParser.m */,
+				45855F351D9498A40084F340 /* OWSContactAvatarBuilder.h */,
+				45855F361D9498A40084F340 /* OWSContactAvatarBuilder.m */,
+				45666EC41D99483D008FE134 /* OWSAvatarBuilder.h */,
+				45666EC51D99483D008FE134 /* OWSAvatarBuilder.m */,
+				45666EC71D994C0D008FE134 /* OWSGroupAvatarBuilder.h */,
+				45666EC81D994C0D008FE134 /* OWSGroupAvatarBuilder.m */,
 			);
 			path = Models;
 			sourceTree = "<group>";
@@ -1731,8 +1765,6 @@
 				FC3196311A08141D0094C78E /* Settings */,
 				FC3196321A08142D0094C78E /* Signals */,
 				FCFD25791A1543D500F4C644 /* Signup */,
-				B6B226981BE4C59200860F4D /* APNavigationController.h */,
-				B6B226991BE4C59200860F4D /* APNavigationController.m */,
 				B6BADBE51B88D1AC0086A80D /* LockInteractionController.h */,
 				B6BADBE61B88D1AC0086A80D /* LockInteractionController.m */,
 				76EB050B18170B33006006FC /* InCallViewController.h */,
@@ -1753,6 +1785,12 @@
 				45C681B91D305C080050903A /* OWSCallCollectionViewCell.h */,
 				45C681BA1D305C080050903A /* OWSCallCollectionViewCell.m */,
 				45C681C01D305C9E0050903A /* OWSCallCollectionViewCell.xib */,
+				450873C51D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.h */,
+				450873C61D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m */,
+				45F2B1951D9CA207000D2C69 /* OWSIncomingMessageCollectionViewCell.xib */,
+				45F2B1921D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.h */,
+				45F2B1931D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.m */,
+				45F2B1961D9CA207000D2C69 /* OWSOutgoingMessageCollectionViewCell.xib */,
 				A5509ECB1A69B1D600ABA4BC /* CountryCodeTableViewCell.h */,
 				A5509ECC1A69B1D600ABA4BC /* CountryCodeTableViewCell.m */,
 				FCAC963D19FEF99A0046DFC5 /* InboxTableViewCell.h */,
@@ -1762,6 +1800,9 @@
 				76EB053818170B33006006FC /* xibs */,
 				459311FA1D75C948008DD4F0 /* OWSDeviceTableViewCell.h */,
 				459311FB1D75C948008DD4F0 /* OWSDeviceTableViewCell.m */,
+				450873C11D9D5149006B54F2 /* OWSExpirationTimerView.h */,
+				450873C21D9D5149006B54F2 /* OWSExpirationTimerView.m */,
+				450873C91D9D86F4006B54F2 /* OWSExpirableMessageView.h */,
 			);
 			name = Views;
 			path = views;
@@ -1809,6 +1850,7 @@
 				B62D53F61A23CCAD009AAF82 /* TSMessageAdapter.m */,
 				B6D3CBCE1C1376BE00C039DF /* TSContentAdapters.h */,
 				4526BD481CA61C8D00166BC8 /* OWSMessageEditing.h */,
+				45666ECE1D995B94008FE134 /* OWSMessageData.h */,
 			);
 			name = TSMessageAdapters;
 			path = TSMessageAdapaters;
@@ -2311,6 +2353,8 @@
 				FCFD256E1A151BCB00F4C644 /* NewGroupViewController.m */,
 				FC4FA0241A1B9DC600DA100A /* SignalsNavigationController.h */,
 				FC4FA0251A1B9DC600DA100A /* SignalsNavigationController.m */,
+				452E3C8C1D935C77002A45B0 /* OWSConversationSettingsTableViewController.h */,
+				452E3C8D1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m */,
 			);
 			name = Signals;
 			sourceTree = "<group>";
@@ -2521,7 +2565,9 @@
 				AD83FF3F1A73426500B5C81A /* audio_pause_button_blue.png in Resources */,
 				A5509ECA1A69AB8B00ABA4BC /* Storyboard.storyboard in Resources */,
 				A507A3B11A6C60E300BEED0D /* InboxTableViewCell.xib in Resources */,
+				45F2B1971D9CA207000D2C69 /* OWSIncomingMessageCollectionViewCell.xib in Resources */,
 				AD83FF421A73426500B5C81A /* audio_play_button.png in Resources */,
+				45F2B1981D9CA207000D2C69 /* OWSOutgoingMessageCollectionViewCell.xib in Resources */,
 				45C681C41D305C9E0050903A /* OWSCallCollectionViewCell.xib in Resources */,
 				B633C5C41A1D190B0059AC12 /* mute_on@2x.png in Resources */,
 				B633C5CE1A1D190B0059AC12 /* quit@2x.png in Resources */,
@@ -2720,6 +2766,7 @@
 				76EB058A18170B33006006FC /* Release.m in Sources */,
 				76EB061018170B33006006FC /* EventWindow.m in Sources */,
 				E197B62718BBF63B00F073E5 /* SoundBoard.m in Sources */,
+				450873C71D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m in Sources */,
 				76EB058418170B33006006FC /* LocalizableText.m in Sources */,
 				76EB057A18170B33006006FC /* OWSContactsManager.m in Sources */,
 				E197B61918BBEC1A00F073E5 /* RemoteIOBufferListWrapper.m in Sources */,
@@ -2732,7 +2779,9 @@
 				D221A09A169C9E5E00537ABF /* main.m in Sources */,
 				45843D1F1D2236B30013E85A /* OWSContactsSearcher.m in Sources */,
 				76EB061618170B33006006FC /* AnonymousOccurrenceLogger.m in Sources */,
+				450873C31D9D5149006B54F2 /* OWSExpirationTimerView.m in Sources */,
 				B6258B331C29E2E60014138E /* NotificationsManager.m in Sources */,
+				45666EC91D994C0D008FE134 /* OWSGroupAvatarBuilder.m in Sources */,
 				76EB063018170B33006006FC /* Conversions.m in Sources */,
 				76EB065618170B34006006FC /* InCallViewController.m in Sources */,
 				76EB05FE18170B33006006FC /* InitiateSignal.pb.m in Sources */,
@@ -2754,10 +2803,12 @@
 				E197B61E18BBEC6D00F073E5 /* AudioRouter.m in Sources */,
 				E197B60D18BBEC1A00F073E5 /* AudioSocket.m in Sources */,
 				A5D0699B1A50E9CB004CB540 /* ShowGroupMembersViewController.m in Sources */,
+				45855F371D9498A40084F340 /* OWSContactAvatarBuilder.m in Sources */,
 				FC31962D1A06A2190094C78E /* FingerprintViewController.m in Sources */,
 				76EB061418170B33006006FC /* AnonymousConditionLogger.m in Sources */,
 				76EB05C018170B33006006FC /* DhPacket.m in Sources */,
 				FC3196301A0814130094C78E /* SettingsTableViewController.m in Sources */,
+				45666EC61D99483D008FE134 /* OWSAvatarBuilder.m in Sources */,
 				7038632818F70C0700D4A43F /* EvpSymetricUtil.m in Sources */,
 				76EB068618170B34006006FC /* ContactTableViewCell.m in Sources */,
 				B63761ED19E1FBE8005735D1 /* HttpRequestOrResponse.m in Sources */,
@@ -2783,6 +2834,7 @@
 				76EB05A218170B33006006FC /* IpEndPoint.m in Sources */,
 				E197B61A18BBEC1A00F073E5 /* SpeexCodec.m in Sources */,
 				76EB05F018170B33006006FC /* PhoneManager.m in Sources */,
+				452E3C8E1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m in Sources */,
 				E197B60F18BBEC1A00F073E5 /* EncodedAudioFrame.m in Sources */,
 				76EB061818170B33006006FC /* AnonymousValueLogger.m in Sources */,
 				76EB05E618170B33006006FC /* CallController.m in Sources */,
@@ -2824,6 +2876,7 @@
 				FCC81A981A44558300DFEC7D /* UIDevice+TSHardwareVersion.m in Sources */,
 				76EB054018170B33006006FC /* AppDelegate.m in Sources */,
 				76EB05D018170B33006006FC /* ZrtpHandshakeSocket.m in Sources */,
+				45F2B1941D9C9F48000D2C69 /* OWSOutgoingMessageCollectionViewCell.m in Sources */,
 				B63761EF19E1FBE8005735D1 /* HttpResponse.m in Sources */,
 				E197B61518BBEC1A00F073E5 /* JitterQueue.m in Sources */,
 				BFB074C919A5611000F2947C /* ObservableValue.m in Sources */,
@@ -2839,7 +2892,6 @@
 				76EB059218170B33006006FC /* UnrecognizedRequestFailure.m in Sources */,
 				76EB05F818170B33006006FC /* CallConnectUtil_Initiator.m in Sources */,
 				B62F5E101C2980B4000D370C /* NSData+ows_StripToken.m in Sources */,
-				B6B2269A1BE4C59200860F4D /* APNavigationController.m in Sources */,
 				45666F7E1D9C0814008FE134 /* OWSDatabaseMigrationRunner.m in Sources */,
 				B63761E319E1F487005735D1 /* AFHTTPSessionManager+SignalMethods.m in Sources */,
 				76EB05CC18170B33006006FC /* ShortAuthenticationStringGenerator.m in Sources */,
@@ -2959,6 +3011,7 @@
 				B660F7501C29988E00687D6E /* LowLatencyConnector.m in Sources */,
 				B660F7511C29988E00687D6E /* StreamPair.m in Sources */,
 				B660F7521C29988E00687D6E /* Certificate.m in Sources */,
+				450873C41D9D5149006B54F2 /* OWSExpirationTimerView.m in Sources */,
 				B660F7531C29988E00687D6E /* NetworkStream.m in Sources */,
 				453D28BB1D332DB100D523F0 /* OWSMessagesBubblesSizeCalculator.m in Sources */,
 				B660F7541C29988E00687D6E /* SecureEndPoint.m in Sources */,
@@ -2983,6 +3036,7 @@
 				B660F7661C29988E00687D6E /* ResponderSessionDescriptor.m in Sources */,
 				45C681B81D305A580050903A /* OWSCall.m in Sources */,
 				B660F7671C29988E00687D6E /* SignalUtil.m in Sources */,
+				45855F381D9498A40084F340 /* OWSContactAvatarBuilder.m in Sources */,
 				B660F7681C29988E00687D6E /* CategorizingLogger.m in Sources */,
 				B660F7691C29988E00687D6E /* DecayingSampleEstimator.m in Sources */,
 				B660F76A1C29988E00687D6E /* EventWindow.m in Sources */,
@@ -3037,6 +3091,7 @@
 				B660F6DB1C29868000687D6E /* FunctionalUtilTest.m in Sources */,
 				B660F6CF1C29868000687D6E /* SessionDescriptorTest.m in Sources */,
 				B660F6C81C29868000687D6E /* PregeneratedKeyAgreementParticipantProtocol.m in Sources */,
+				452E3C8F1D935C77002A45B0 /* OWSConversationSettingsTableViewController.m in Sources */,
 				B660F6BC1C29868000687D6E /* DnsManagerTest.m in Sources */,
 				B660F6B61C29868000687D6E /* AudioRemoteIOTest.m in Sources */,
 				B660F6D71C29868000687D6E /* Crc32Test.m in Sources */,
@@ -3061,6 +3116,7 @@
 				B660F6C61C29868000687D6E /* MasterSecretTest.m in Sources */,
 				B660F6D91C29868000687D6E /* CyclicalBufferTest.m in Sources */,
 				B660F6DC1C29868000687D6E /* FutureUtilTest.m in Sources */,
+				450873C81D9D867B006B54F2 /* OWSIncomingMessageCollectionViewCell.m in Sources */,
 				B660F6CA1C29868000687D6E /* LowLatencyConnectorTest.m in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
diff --git a/Signal/Images.xcassets/ic_hourglass_empty.imageset/Contents.json b/Signal/Images.xcassets/ic_hourglass_empty.imageset/Contents.json
new file mode 100644
index 00000000000..c660cb9a970
--- /dev/null
+++ b/Signal/Images.xcassets/ic_hourglass_empty.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_empty.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_empty@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_empty@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty.png b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty.png
new file mode 100644
index 00000000000..ea3f048555f
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty.png differ
diff --git a/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@2x.png b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@2x.png
new file mode 100644
index 00000000000..49bc8a4a600
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@2x.png differ
diff --git a/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@3x.png b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@3x.png
new file mode 100644
index 00000000000..8a693939d9e
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_empty.imageset/ic_hourglass_empty@3x.png differ
diff --git a/Signal/Images.xcassets/ic_hourglass_full.imageset/Contents.json b/Signal/Images.xcassets/ic_hourglass_full.imageset/Contents.json
new file mode 100644
index 00000000000..9f72c5b3f69
--- /dev/null
+++ b/Signal/Images.xcassets/ic_hourglass_full.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_full.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_full@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_hourglass_full@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full.png b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full.png
new file mode 100644
index 00000000000..f5158ed760e
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full.png differ
diff --git a/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@2x.png b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@2x.png
new file mode 100644
index 00000000000..933dd350a5d
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@2x.png differ
diff --git a/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@3x.png b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@3x.png
new file mode 100644
index 00000000000..b0c4631c0d6
Binary files /dev/null and b/Signal/Images.xcassets/ic_hourglass_full.imageset/ic_hourglass_full@3x.png differ
diff --git a/Signal/Images.xcassets/ic_lock_outline.imageset/Contents.json b/Signal/Images.xcassets/ic_lock_outline.imageset/Contents.json
new file mode 100644
index 00000000000..3abcf764c51
--- /dev/null
+++ b/Signal/Images.xcassets/ic_lock_outline.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "ic_lock_outline_white.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_lock_outline_white@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_lock_outline_white@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white.png b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white.png
new file mode 100644
index 00000000000..b7fe6595198
Binary files /dev/null and b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white.png differ
diff --git a/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@2x.png b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@2x.png
new file mode 100644
index 00000000000..06066d21a6a
Binary files /dev/null and b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@2x.png differ
diff --git a/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@3x.png b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@3x.png
new file mode 100644
index 00000000000..f7c3aac6084
Binary files /dev/null and b/Signal/Images.xcassets/ic_lock_outline.imageset/ic_lock_outline_white@3x.png differ
diff --git a/Signal/Images.xcassets/ic_timer.imageset/Contents.json b/Signal/Images.xcassets/ic_timer.imageset/Contents.json
new file mode 100644
index 00000000000..f0a00fb617d
--- /dev/null
+++ b/Signal/Images.xcassets/ic_timer.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "ic_timer_white.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_timer_white@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "ic_timer_white@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white.png b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white.png
new file mode 100644
index 00000000000..dccf011eeca
Binary files /dev/null and b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white.png differ
diff --git a/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@2x.png b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@2x.png
new file mode 100644
index 00000000000..0b0e2134a51
Binary files /dev/null and b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@2x.png differ
diff --git a/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@3x.png b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@3x.png
new file mode 100644
index 00000000000..77a03d877c7
Binary files /dev/null and b/Signal/Images.xcassets/ic_timer.imageset/ic_timer_white@3x.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/Contents.json b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/Contents.json
new file mode 100644
index 00000000000..75efc1692df
--- /dev/null
+++ b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_empty.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_empty@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_empty@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty.png b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty.png
new file mode 100644
index 00000000000..58783674717
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@2x.png b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@2x.png
new file mode 100644
index 00000000000..5e29696f9ea
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@2x.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@3x.png b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@3x.png
new file mode 100644
index 00000000000..ac1d6cf915f
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_empty.imageset/table_ic_hourglass_empty@3x.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_full.imageset/Contents.json b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/Contents.json
new file mode 100644
index 00000000000..aac492cd01b
--- /dev/null
+++ b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_full.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_full@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_hourglass_full@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full.png b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full.png
new file mode 100644
index 00000000000..645491b17e9
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@2x.png b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@2x.png
new file mode 100644
index 00000000000..9016983b75d
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@2x.png differ
diff --git a/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@3x.png b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@3x.png
new file mode 100644
index 00000000000..1bfa7b1c24e
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_hourglass_full.imageset/table_ic_hourglass_full@3x.png differ
diff --git a/Signal/Images.xcassets/table_ic_timer.imageset/Contents.json b/Signal/Images.xcassets/table_ic_timer.imageset/Contents.json
new file mode 100644
index 00000000000..a623335439e
--- /dev/null
+++ b/Signal/Images.xcassets/table_ic_timer.imageset/Contents.json
@@ -0,0 +1,26 @@
+{
+  "images" : [
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_timer.png",
+      "scale" : "1x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_timer@2x.png",
+      "scale" : "2x"
+    },
+    {
+      "idiom" : "universal",
+      "filename" : "table_ic_timer@3x.png",
+      "scale" : "3x"
+    }
+  ],
+  "info" : {
+    "version" : 1,
+    "author" : "xcode"
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
\ No newline at end of file
diff --git a/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer.png b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer.png
new file mode 100644
index 00000000000..8c66731fea6
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer.png differ
diff --git a/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@2x.png b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@2x.png
new file mode 100644
index 00000000000..0a0f1570914
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@2x.png differ
diff --git a/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@3x.png b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@3x.png
new file mode 100644
index 00000000000..a10068531c5
Binary files /dev/null and b/Signal/Images.xcassets/table_ic_timer.imageset/table_ic_timer@3x.png differ
diff --git a/Signal/Signal-Info.plist b/Signal/Signal-Info.plist
index acb4471a2be..07c6c66aaa5 100644
--- a/Signal/Signal-Info.plist
+++ b/Signal/Signal-Info.plist
@@ -38,7 +38,7 @@
 		</dict>
 	</array>
 	<key>CFBundleVersion</key>
-	<string>2.6.0.1</string>
+	<string>2.6.0.7</string>
 	<key>ITSAppUsesNonExemptEncryption</key>
 	<false/>
 	<key>LOGS_EMAIL</key>
diff --git a/Signal/src/AppDelegate.m b/Signal/src/AppDelegate.m
index 3aa8f2ff395..078a6dbd90a 100644
--- a/Signal/src/AppDelegate.m
+++ b/Signal/src/AppDelegate.m
@@ -16,7 +16,8 @@
 #import "TextSecureKitEnv.h"
 #import "VersionMigrations.h"
 #import "OWSStaleNotificationObserver.h"
-#import <SignalServiceKit/OWSReadReceiptObserver.h>
+#import <SignalServiceKit/OWSDisappearingMessagesJob.h>
+#import <SignalServiceKit/OWSIncomingMessageReadObserver.h>
 
 static NSString *const kStoryboardName                  = @"Storyboard";
 static NSString *const kInitialViewControllerIdentifier = @"UserInitialViewController";
@@ -26,7 +27,7 @@
 @interface AppDelegate ()
 
 @property (nonatomic, retain) UIWindow *screenProtectionWindow;
-@property (nonatomic) OWSReadReceiptObserver *readReceiptObserver;
+@property (nonatomic) OWSIncomingMessageReadObserver *incomingMessageReadObserver;
 @property (nonatomic) OWSStaleNotificationObserver *staleNotificationObserver;
 
 @end
@@ -111,6 +112,9 @@ - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(
 
         [[PushManager sharedManager] validateUserNotificationSettings];
         [TSPreKeyManager refreshPreKeys];
+
+        // Clean up any messages that expired since last launch.
+        [[[OWSDisappearingMessagesJob alloc] initWithStorageManager:[TSStorageManager sharedManager]] run];
     }];
 
     [AppStoreRating setupRatingLibrary];
@@ -121,8 +125,9 @@ - (void)setupTSKitEnv {
     [TextSecureKitEnv sharedEnv].contactsManager = [Environment getCurrent].contactsManager;
     [[TSStorageManager sharedManager] setupDatabase];
     [TextSecureKitEnv sharedEnv].notificationsManager = [[NotificationsManager alloc] init];
-    self.readReceiptObserver = [OWSReadReceiptObserver new];
-    [self.readReceiptObserver startObserving];
+    self.incomingMessageReadObserver = [[OWSIncomingMessageReadObserver alloc] initWithStorageManager:[TSStorageManager sharedManager]
+                                                                                      messagesManager:[TSMessagesManager sharedManager]];
+    [self.incomingMessageReadObserver startObserving];
 
     self.staleNotificationObserver = [OWSStaleNotificationObserver new];
     [self.staleNotificationObserver startObserving];
diff --git a/Signal/src/Models/OWSAvatarBuilder.h b/Signal/src/Models/OWSAvatarBuilder.h
new file mode 100644
index 00000000000..b53af05365a
--- /dev/null
+++ b/Signal/src/Models/OWSAvatarBuilder.h
@@ -0,0 +1,19 @@
+//  Created by Michael Kirk on 9/26/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+NS_ASSUME_NONNULL_BEGIN
+
+@class TSThread;
+@class OWSContactsManager;
+
+@interface OWSAvatarBuilder : NSObject
+
++ (UIImage *)buildImageForThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager;
+
+- (nullable UIImage *)buildSavedImage;
+- (UIImage *)buildDefaultImage;
+- (UIImage *)build;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSAvatarBuilder.m b/Signal/src/Models/OWSAvatarBuilder.m
new file mode 100644
index 00000000000..fe22c94293f
--- /dev/null
+++ b/Signal/src/Models/OWSAvatarBuilder.m
@@ -0,0 +1,68 @@
+//  Created by Michael Kirk on 9/26/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSAvatarBuilder.h"
+#import "OWSContactAvatarBuilder.h"
+#import "OWSGroupAvatarBuilder.h"
+#import "TSContactThread.h"
+#import "TSGroupThread.h"
+
+NS_ASSUME_NONNULL_BEGIN
+
+@implementation OWSAvatarBuilder
+
++ (UIImage *)buildImageForThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager
+{
+    OWSAvatarBuilder *avatarBuilder;
+    if ([thread isKindOfClass:[TSContactThread class]]) {
+        avatarBuilder =
+            [[OWSContactAvatarBuilder alloc] initWithThread:(TSContactThread *)thread contactsManager:contactsManager];
+    } else if ([thread isKindOfClass:[TSGroupThread class]]) {
+        avatarBuilder = [[OWSGroupAvatarBuilder alloc] initWithThread:(TSGroupThread *)thread];
+    } else {
+        DDLogError(@"%@ called with unsupported thread: %@", self.tag, thread);
+    }
+    return [avatarBuilder build];
+}
+
+- (UIImage *)build
+{
+    UIImage *_Nullable savedImage = [self buildSavedImage];
+    if (savedImage) {
+        return savedImage;
+    } else {
+        return [self buildDefaultImage];
+    }
+}
+
+- (nullable UIImage *)buildSavedImage
+{
+    @throw [NSException
+        exceptionWithName:NSInternalInconsistencyException
+                   reason:[NSString stringWithFormat:@"You must override %@ in a subclass", NSStringFromSelector(_cmd)]
+                 userInfo:nil];
+}
+
+- (UIImage *)buildDefaultImage
+{
+    @throw [NSException
+        exceptionWithName:NSInternalInconsistencyException
+                   reason:[NSString stringWithFormat:@"You must override %@ in a subclass", NSStringFromSelector(_cmd)]
+                 userInfo:nil];
+}
+
+#pragma mark - Logging
+
++ (NSString *)tag
+{
+    return [NSString stringWithFormat:@"[%@]", self.class];
+}
+
+- (NSString *)tag
+{
+    return self.class.tag;
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSCall.h b/Signal/src/Models/OWSCall.h
index cd296bafa0d..bceafa9a9cf 100644
--- a/Signal/src/Models/OWSCall.h
+++ b/Signal/src/Models/OWSCall.h
@@ -1,9 +1,8 @@
 //  Created by Dylan Bourgeois on 20/11/14.
 //  Portions Copyright (c) 2016 Open Whisper Systems. All rights reserved.
 
+#import "OWSMessageData.h"
 #import "TSMessageAdapter.h"
-#import <Foundation/Foundation.h>
-#import <JSQMessagesViewController/JSQMessageData.h>
 
 typedef enum : NSUInteger {
     kCallOutgoing = 1,
@@ -14,7 +13,7 @@ typedef enum : NSUInteger {
     kGroupUpdate = 6
 } CallStatus;
 
-@interface OWSCall : NSObject <JSQMessageData, NSCoding, NSCopying>
+@interface OWSCall : NSObject <OWSMessageData, NSCoding, NSCopying>
 
 /*
  * Returns the string Id of the user who initiated the call
@@ -37,11 +36,6 @@ typedef enum : NSUInteger {
  */
 @property (nonatomic) CallStatus status;
 
-/*
- * Returns message type for adapter
- */
-@property (nonatomic) TSMessageAdapterType messageType;
-
 /**
  *  String to be displayed
  */
diff --git a/Signal/src/Models/OWSCall.m b/Signal/src/Models/OWSCall.m
index b68d5f5e9a0..922bf034a52 100644
--- a/Signal/src/Models/OWSCall.m
+++ b/Signal/src/Models/OWSCall.m
@@ -5,6 +5,16 @@
 #import <JSQMessagesViewController/JSQMessagesTimestampFormatter.h>
 #import <JSQMessagesViewController/UIImage+JSQMessages.h>
 
+@interface OWSCall ()
+
+// -- Redeclaring properties from OWSMessageData protocol to synthesize variables
+@property (nonatomic) TSMessageAdapterType messageType;
+@property (nonatomic, getter=isExpiringMessage) BOOL expiringMessage;
+@property (nonatomic) uint64_t expiresAtSeconds;
+@property (nonatomic) uint32_t expiresInSeconds;
+
+@end
+
 @implementation OWSCall
 
 #pragma mark - Initialzation
@@ -37,6 +47,7 @@ - (instancetype)initWithCallerId:(NSString *)senderId
     _senderDisplayName = [senderDisplayName copy];
     _date = [date copy];
     _status = status;
+    _expiringMessage = NO; // TODO - call notifications should expire too.
     _messageType = TSCallAdapter;
 
     // TODO interpret detailString from status. make sure it works for calls and
@@ -88,6 +99,20 @@ - (NSString *)description
                      self.date];
 }
 
+#pragma mark - OWSMessageEditing
+
+- (BOOL)canPerformEditingAction:(SEL)action
+{
+    return NO;
+}
+
+- (void)performEditingAction:(SEL)action
+{
+    // Shouldn't get here, as only supported actions should be exposed via canPerformEditingAction
+    NSString *actionString = NSStringFromSelector(action);
+    DDLogError(@"%@ '%@' action unsupported", self.tag, actionString);
+}
+
 #pragma mark - JSQMessageData
 
 - (BOOL)isMediaMessage
@@ -141,4 +166,16 @@ - (NSString *)text
     return _detailString;
 }
 
+#pragma mark - Logging
+
++ (NSString *)tag
+{
+    return [NSString stringWithFormat:@"[%@]", self.class];
+}
+
+- (NSString *)tag
+{
+    return self.class.tag;
+}
+
 @end
diff --git a/Signal/src/Models/OWSContactAvatarBuilder.h b/Signal/src/Models/OWSContactAvatarBuilder.h
new file mode 100644
index 00000000000..01b22a6fa4b
--- /dev/null
+++ b/Signal/src/Models/OWSContactAvatarBuilder.h
@@ -0,0 +1,17 @@
+//  Created by Michael Kirk on 9/22/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSAvatarBuilder.h"
+
+NS_ASSUME_NONNULL_BEGIN
+
+@class OWSContactsManager;
+@class TSContactThread;
+
+@interface OWSContactAvatarBuilder : OWSAvatarBuilder
+
+- (instancetype)initWithThread:(TSContactThread *)thread contactsManager:(OWSContactsManager *)contactsManager;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSContactAvatarBuilder.m b/Signal/src/Models/OWSContactAvatarBuilder.m
new file mode 100644
index 00000000000..1ed53a06be1
--- /dev/null
+++ b/Signal/src/Models/OWSContactAvatarBuilder.m
@@ -0,0 +1,74 @@
+//  Created by Michael Kirk on 9/22/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSContactAvatarBuilder.h"
+#import "OWSContactsManager.h"
+#import "TSContactThread.h"
+#import "TSGroupThread.h"
+#import "TSThread.h"
+#import "UIColor+OWS.h"
+#import "UIFont+OWS.h"
+#import <JSQMessagesViewController/JSQMessagesAvatarImageFactory.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSContactAvatarBuilder ()
+
+@property (nonatomic, readonly) OWSContactsManager *contactsManager;
+@property (nonatomic, readonly) NSString *signalId;
+@property (nonatomic, readonly) NSString *contactName;
+
+@end
+
+@implementation OWSContactAvatarBuilder
+
+- (instancetype)initWithThread:(TSContactThread *)thread contactsManager:(OWSContactsManager *)contactsManager
+{
+    self = [super init];
+    if (!self) {
+        return self;
+    }
+
+    _signalId = thread.contactIdentifier;
+    _contactName = thread.name;
+    _contactsManager = contactsManager;
+
+    return self;
+}
+
+- (nullable UIImage *)buildSavedImage
+{
+    return [self.contactsManager imageForPhoneIdentifier:self.signalId];
+}
+
+- (UIImage *)buildDefaultImage
+{
+    NSMutableString *initials = [NSMutableString string];
+
+    if (self.contactName.length > 0) {
+        NSArray *words =
+            [self.contactName componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
+        for (NSString *word in words) {
+            if (word.length > 0) {
+                NSString *firstLetter = [word substringToIndex:1];
+                [initials appendString:[firstLetter uppercaseString]];
+            }
+        }
+    }
+
+    NSRange stringRange = { 0, MIN([initials length], (NSUInteger)3) }; // Rendering max 3 letters.
+    initials = [[initials substringWithRange:stringRange] mutableCopy];
+
+    UIColor *backgroundColor = [UIColor backgroundColorForContact:self.signalId];
+
+    return [[JSQMessagesAvatarImageFactory avatarImageWithUserInitials:initials
+                                                       backgroundColor:backgroundColor
+                                                             textColor:[UIColor whiteColor]
+                                                                  font:[UIFont ows_boldFontWithSize:36.0]
+                                                              diameter:100] avatarImage];
+}
+
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSGroupAvatarBuilder.h b/Signal/src/Models/OWSGroupAvatarBuilder.h
new file mode 100644
index 00000000000..eb50e88b82d
--- /dev/null
+++ b/Signal/src/Models/OWSGroupAvatarBuilder.h
@@ -0,0 +1,16 @@
+//  Created by Michael Kirk on 9/26/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSAvatarBuilder.h"
+
+NS_ASSUME_NONNULL_BEGIN
+
+@class TSGroupThread;
+
+@interface OWSGroupAvatarBuilder : OWSAvatarBuilder
+
+- (instancetype)initWithThread:(TSGroupThread *)thread;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSGroupAvatarBuilder.m b/Signal/src/Models/OWSGroupAvatarBuilder.m
new file mode 100644
index 00000000000..aa10d913800
--- /dev/null
+++ b/Signal/src/Models/OWSGroupAvatarBuilder.m
@@ -0,0 +1,40 @@
+//  Created by Michael Kirk on 9/26/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSGroupAvatarBuilder.h"
+#import "TSGroupThread.h"
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSGroupAvatarBuilder ()
+
+@property (nonatomic, readonly) TSGroupThread *thread;
+
+@end
+
+@implementation OWSGroupAvatarBuilder
+
+- (instancetype)initWithThread:(TSGroupThread *)thread
+{
+    self = [super init];
+    if (!self) {
+        return self;
+    }
+
+    _thread = thread;
+
+    return self;
+}
+
+- (nullable UIImage *)buildSavedImage
+{
+    return self.thread.groupModel.groupImage;
+}
+
+- (UIImage *)buildDefaultImage
+{
+    return [UIImage imageNamed:@"empty-group-avatar"];
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/OWSMessagesBubblesSizeCalculator.m b/Signal/src/Models/OWSMessagesBubblesSizeCalculator.m
index b099067f3ad..bec016ac8cd 100644
--- a/Signal/src/Models/OWSMessagesBubblesSizeCalculator.m
+++ b/Signal/src/Models/OWSMessagesBubblesSizeCalculator.m
@@ -3,6 +3,7 @@
 #import "OWSMessagesBubblesSizeCalculator.h"
 #import "OWSDisplayedMessageCollectionViewCell.h"
 #import "TSMessageAdapter.h"
+#import "tgmath.h" // generic math allows fmax to handle CGFLoat correctly on 32 & 64bit.
 
 @implementation OWSMessagesBubblesSizeCalculator
 
@@ -23,11 +24,19 @@ - (CGSize)messageBubbleSizeForMessageData:(id<JSQMessageData>)messageData
 {
     CGSize superSize = [super messageBubbleSizeForMessageData:messageData atIndexPath:indexPath withLayout:layout];
 
-    TSMessageAdapter *message = (TSMessageAdapter *)messageData;
-    if (message.messageType == TSInfoMessageAdapter || message.messageType == TSErrorMessageAdapter) {
-        // Prevent cropping message text by accounting for message container/icon
-        // But also allow for multi-line error messages.
-        superSize.height = fmax(superSize.height, OWSDisplayedMessageCellHeight);
+    if ([messageData isKindOfClass:[TSMessageAdapter class]]) {
+        TSMessageAdapter *message = (TSMessageAdapter *)messageData;
+
+        if (message.messageType == TSInfoMessageAdapter || message.messageType == TSErrorMessageAdapter) {
+            // DDLogVerbose(@"[OWSMessagesBubblesSizeCalculator] superSize.height:%f, superSize.width:%f",
+            //     superSize.height,
+            //     superSize.width);
+
+            // header icon hangs ouside of the frame a bit.
+            CGFloat headerIconProtrusion = 30.0f; // too  much padding with normal font.
+            // CGFloat headerIconProtrusion = 18.0f; // clips
+            superSize.height = superSize.height + headerIconProtrusion;
+        }
     }
 
     return superSize;
diff --git a/Signal/src/Models/TSMessageAdapaters/OWSMessageData.h b/Signal/src/Models/TSMessageAdapaters/OWSMessageData.h
new file mode 100644
index 00000000000..99189ec93d5
--- /dev/null
+++ b/Signal/src/Models/TSMessageAdapaters/OWSMessageData.h
@@ -0,0 +1,28 @@
+//  Created by Michael Kirk on 9/26/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSMessageEditing.h"
+#import <JSQMessagesViewController/JSQMessageData.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+typedef NS_ENUM(NSInteger, TSMessageAdapterType) {
+    TSIncomingMessageAdapter,
+    TSOutgoingMessageAdapter,
+    TSCallAdapter,
+    TSInfoMessageAdapter,
+    TSErrorMessageAdapter,
+    TSMediaAttachmentAdapter,
+    TSGenericTextMessageAdapter, // Used when message direction is unknown (outgoing or incoming)
+};
+
+@protocol OWSMessageData <JSQMessageData, OWSMessageEditing>
+
+@property (nonatomic, readonly) TSMessageAdapterType messageType;
+@property (nonatomic, readonly, getter=isExpiringMessage) BOOL expiringMessage;
+@property (nonatomic, readonly) uint64_t expiresAtSeconds;
+@property (nonatomic, readonly) uint32_t expiresInSeconds;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/TSMessageAdapaters/OWSMessageEditing.h b/Signal/src/Models/TSMessageAdapaters/OWSMessageEditing.h
index ab10bc00cbb..061c9a9b582 100644
--- a/Signal/src/Models/TSMessageAdapaters/OWSMessageEditing.h
+++ b/Signal/src/Models/TSMessageAdapaters/OWSMessageEditing.h
@@ -1,4 +1,7 @@
 //  Copyright  2016 Open Whisper Systems. All rights reserved.
+//  Created by Michael Kirk on 3/11/16.
+
+NS_ASSUME_NONNULL_BEGIN
 
 @protocol OWSMessageEditing <NSObject>
 
@@ -6,3 +9,5 @@
 - (void)performEditingAction:(SEL)action;
 
 @end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.h b/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.h
index 663d92b4f5e..3ed4b9c6f36 100644
--- a/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.h
+++ b/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.h
@@ -6,29 +6,22 @@
 //  Copyright (c) 2014 Open Whisper Systems. All rights reserved.
 //
 
+#import "OWSMessageData.h"
 #import "OWSMessageEditing.h"
-#import <JSQMessagesViewController/JSQMessageData.h>
+
+NS_ASSUME_NONNULL_BEGIN
 
 @class TSInteraction;
 @class TSThread;
 
 #define ME_MESSAGE_IDENTIFIER @"Me";
 
-typedef NS_ENUM(NSInteger, TSMessageAdapterType) {
-    TSIncomingMessageAdapter,
-    TSOutgoingMessageAdapter,
-    TSCallAdapter,
-    TSInfoMessageAdapter,
-    TSErrorMessageAdapter,
-    TSMediaAttachmentAdapter,
-    TSGenericTextMessageAdapter, // Used when message direction is unknown (outgoing or incoming)
-};
-
-@interface TSMessageAdapter : NSObject <JSQMessageData, OWSMessageEditing>
+@interface TSMessageAdapter : NSObject <OWSMessageData>
 
-+ (id<JSQMessageData>)messageViewDataWithInteraction:(TSInteraction *)interaction inThread:(TSThread *)thread;
++ (id<OWSMessageData>)messageViewDataWithInteraction:(TSInteraction *)interaction inThread:(TSThread *)thread;
 
 @property TSInteraction *interaction;
-@property TSMessageAdapterType messageType;
 
 @end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.m b/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.m
index 0bc25988c90..e2abc1c0af8 100644
--- a/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.m
+++ b/Signal/src/Models/TSMessageAdapaters/TSMessageAdapter.m
@@ -47,7 +47,12 @@ @interface TSMessageAdapter ()
 
 @property JSQMediaItem<OWSMessageEditing> *mediaItem;
 
-// ---
+
+// -- Redeclaring properties from OWSMessageData protocol to synthesize variables
+@property (nonatomic) TSMessageAdapterType messageType;
+@property (nonatomic, getter=isExpiringMessage) BOOL expiringMessage;
+@property (nonatomic) uint64_t expiresAtSeconds;
+@property (nonatomic) uint32_t expiresInSeconds;
 
 @property (nonatomic, copy) NSDate *messageDate;
 @property (nonatomic, retain) NSString *messageBody;
@@ -59,13 +64,34 @@ @interface TSMessageAdapter ()
 
 @implementation TSMessageAdapter
 
-+ (id<JSQMessageData>)messageViewDataWithInteraction:(TSInteraction *)interaction inThread:(TSThread *)thread
+- (instancetype)initWithInteraction:(TSInteraction *)interaction
 {
-    TSMessageAdapter *adapter = [[TSMessageAdapter alloc] init];
-    adapter.interaction = interaction;
-    adapter.messageDate       = interaction.date;
+    self = [super init];
+    if (!self) {
+        return self;
+    }
+
+    _interaction = interaction;
+    _messageDate = interaction.date;
     // TODO casting a string to an integer? At least need a comment here explaining why we are doing this.
-    adapter.identifier        = (NSUInteger)interaction.uniqueId;
+    // Can we just remove this? Haven't found where we're using it...
+    _identifier = (NSUInteger)interaction.uniqueId;
+
+    if ([interaction isKindOfClass:[TSMessage class]]) {
+        TSMessage *message = (TSMessage *)interaction;
+        _expiringMessage = message.isExpiringMessage;
+        _expiresAtSeconds = message.expiresAt / 1000;
+        _expiresInSeconds = message.expiresInSeconds;
+    } else {
+        _expiringMessage = NO;
+    }
+
+    return self;
+}
+
++ (id<OWSMessageData>)messageViewDataWithInteraction:(TSInteraction *)interaction inThread:(TSThread *)thread
+{
+    TSMessageAdapter *adapter = [[TSMessageAdapter alloc] initWithInteraction:interaction];
 
     if ([thread isKindOfClass:[TSContactThread class]]) {
         adapter.thread = (TSContactThread *)thread;
diff --git a/Signal/src/Storyboard/Storyboard.storyboard b/Signal/src/Storyboard/Storyboard.storyboard
index 7052ac2e6a0..88a25aef0f0 100644
--- a/Signal/src/Storyboard/Storyboard.storyboard
+++ b/Signal/src/Storyboard/Storyboard.storyboard
@@ -1,11 +1,12 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB" version="3.0" toolsVersion="10117" systemVersion="15G1004" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" initialViewController="tuk-0x-yCb">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB" version="3.0" toolsVersion="11201" systemVersion="15G1004" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" colorMatched="YES" initialViewController="tuk-0x-yCb">
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="10085"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="11161"/>
         <capability name="Aspect ratio constraints" minToolsVersion="5.1"/>
         <capability name="Constraints to layout margins" minToolsVersion="6.0"/>
         <capability name="Constraints with non-1.0 multipliers" minToolsVersion="5.1"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
     <scenes>
         <!--Conversations-->
@@ -17,32 +18,29 @@
                         <viewControllerLayoutGuide type="bottom" id="7uh-gm-z8v"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="EFA-Fu-XJm">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <view userInteractionEnabled="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="lKc-rv-FH5" userLabel="empty state view">
-                                <rect key="frame" x="0.0" y="64" width="320" height="504"/>
                                 <subviews>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="No Messages :( Tap Compose to send a message or invite a friend to Signal" textAlignment="center" lineBreakMode="wordWrap" numberOfLines="2" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="Srx-i1-WhD">
-                                        <rect key="frame" x="10" y="57" width="300" height="200"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="200" id="GEd-dY-d8r"/>
                                             <constraint firstAttribute="width" constant="300" id="siA-1a-pO1"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                        <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="centerX" secondItem="Srx-i1-WhD" secondAttribute="centerX" id="JId-fq-hNc"/>
                                     <constraint firstAttribute="centerY" secondItem="Srx-i1-WhD" secondAttribute="centerY" constant="95" id="XST-YY-qXT"/>
                                 </constraints>
                             </view>
                             <tableView hidden="YES" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" showsHorizontalScrollIndicator="NO" dataMode="prototypes" style="plain" separatorStyle="default" allowsSelectionDuringEditing="YES" rowHeight="44" sectionHeaderHeight="28" sectionFooterHeight="28" translatesAutoresizingMaskIntoConstraints="NO" id="PaA-ol-uQT">
-                                <rect key="frame" x="0.0" y="64" width="330" height="504"/>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <sections/>
                                 <connections>
                                     <outlet property="dataSource" destination="MY2-bB-USa" id="kop-Y6-6DR"/>
@@ -66,14 +64,14 @@
                         <barButtonItem key="backBarButtonItem" title=" " id="a19-h1-1ZS"/>
                         <barButtonItem key="leftBarButtonItem" image="settings" width="100" id="PYj-7F-J24">
                             <inset key="imageInsets" minX="-10" minY="0.0" maxX="0.0" maxY="0.0"/>
-                            <color key="tintColor" red="0.99989169836044312" green="1" blue="0.99988096952438354" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                            <color key="tintColor" red="0.99987119436264038" green="0.99998223781585693" blue="0.99984109401702881" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                             <connections>
                                 <segue destination="n1f-7Y-906" kind="push" id="dB4-oM-uSL"/>
                             </connections>
                         </barButtonItem>
                         <barButtonItem key="rightBarButtonItem" systemItem="compose" id="Oft-fU-tf5">
                             <inset key="imageInsets" minX="-10" minY="0.0" maxX="10" maxY="0.0"/>
-                            <color key="tintColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                            <color key="tintColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                             <connections>
                                 <segue destination="cZ7-de-SUi" kind="modal" identifier="composeNew" id="Ea3-ew-jtL"/>
                             </connections>
@@ -99,55 +97,48 @@
                         <viewControllerLayoutGuide type="bottom" id="stV-ob-KSQ"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="5r3-kq-bbI">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </view>
                     <navigationItem key="navigationItem" title="Title" id="mLN-DG-4IU">
                         <barButtonItem key="backBarButtonItem" title=" " id="wnY-V7-zmi"/>
                         <barButtonItem key="rightBarButtonItem" image="contact-options-action" id="662-pN-RLf">
                             <inset key="imageInsets" minX="17" minY="10" maxX="0.0" maxY="5"/>
-                            <color key="tintColor" red="0.99989169836044312" green="1" blue="0.99988096952438354" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
-                            <connections>
-                                <action selector="didSelectShow:" destination="DtA-8O-wrT" id="ktP-VG-5bo"/>
-                            </connections>
+                            <color key="tintColor" red="0.99987119436264038" green="0.99998223781585693" blue="0.99984109401702881" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         </barButtonItem>
                     </navigationItem>
                     <connections>
-                        <segue destination="urv-62-RsD" kind="modal" identifier="fingerprintSegue" modalPresentationStyle="overCurrentContext" modalTransitionStyle="coverVertical" id="Zjl-QX-tHE"/>
-                        <segue destination="bDi-2Q-XOC" kind="push" identifier="updateGroupSegue" id="gZ1-lh-srF"/>
-                        <segue destination="JeZ-9g-U61" kind="push" identifier="showGroupMembersSegue" id="Gc6-AD-JV1"/>
+                        <segue destination="4oU-Rv-yJi" kind="push" identifier="OWSMessagesViewControllerSeguePushConversationSettings" id="vOd-aS-6Wx"/>
+                        <segue destination="urv-62-RsD" kind="modal" identifier="fingerprintSegue" id="tfr-ZV-qWs"/>
                     </connections>
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="yXZ-iE-5va" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
-            <point key="canvasLocation" x="-2380" y="-1537.8599999999999"/>
+            <point key="canvasLocation" x="-2294" y="-1539"/>
         </scene>
         <!--Fingerprint View Controller-->
         <scene sceneID="ldP-mt-Vsq">
             <objects>
-                <viewController storyboardIdentifier="FingerprintViewController" id="urv-62-RsD" customClass="FingerprintViewController" sceneMemberID="viewController">
+                <viewController storyboardIdentifier="FingerprintViewController" extendedLayoutIncludesOpaqueBars="YES" modalPresentationStyle="overCurrentContext" id="urv-62-RsD" customClass="FingerprintViewController" sceneMemberID="viewController">
                     <layoutGuides>
                         <viewControllerLayoutGuide type="top" id="8Oc-YZ-y0M"/>
                         <viewControllerLayoutGuide type="bottom" id="hdo-6G-gXy"/>
                     </layoutGuides>
-                    <view key="view" contentMode="scaleToFill" id="StY-nr-mRe">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                    <view key="view" clipsSubviews="YES" contentMode="scaleToFill" id="StY-nr-mRe">
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
-                            <visualEffectView opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="X9c-nY-Re0">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
-                                <view key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" id="GUy-oN-Va6">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                            <visualEffectView opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="IeR-8W-ae8">
+                                <view key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" id="0sM-dw-N3Z">
+                                    <frame key="frameInset"/>
                                     <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                                 </view>
                                 <blurEffect style="dark"/>
                             </visualEffectView>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="8DU-2J-HAz" userLabel="Scanner Container">
-                                <rect key="frame" x="0.0" y="-284" width="320" height="284"/>
                                 <subviews>
-                                    <containerView opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="MhA-kC-nBb" userLabel="Scanner">
-                                        <rect key="frame" x="0.0" y="66" width="320" height="218"/>
+                                    <containerView hidden="YES" opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="MhA-kC-nBb" userLabel="Scanner">
                                         <connections>
                                             <segue destination="EFG-13-FgR" kind="embed" identifier="embedIdentityQRScanner" id="0sF-Is-2kw"/>
                                         </connections>
@@ -156,24 +147,26 @@
                                 <constraints>
                                     <constraint firstItem="MhA-kC-nBb" firstAttribute="leading" secondItem="8DU-2J-HAz" secondAttribute="leading" id="EwE-x7-nyJ"/>
                                     <constraint firstAttribute="trailing" secondItem="MhA-kC-nBb" secondAttribute="trailing" id="Hj7-wD-3wR"/>
-                                    <constraint firstItem="MhA-kC-nBb" firstAttribute="top" secondItem="8DU-2J-HAz" secondAttribute="top" constant="66" id="JTj-zm-L8f"/>
+                                    <constraint firstItem="MhA-kC-nBb" firstAttribute="top" secondItem="8DU-2J-HAz" secondAttribute="top" constant="64" id="JTj-zm-L8f"/>
                                     <constraint firstAttribute="bottom" secondItem="MhA-kC-nBb" secondAttribute="bottom" id="RuO-nQ-fOf"/>
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="b7W-j4-3S1" userLabel="QR Container">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="284"/>
                                 <subviews>
-                                    <view contentMode="scaleToFill" misplaced="YES" translatesAutoresizingMaskIntoConstraints="NO" id="lA7-b4-o6C" userLabel="QR Frame">
-                                        <rect key="frame" x="54" y="66" width="212" height="212"/>
+                                    <label hidden="YES" opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Scan the QR Code on your contact's device." textAlignment="center" lineBreakMode="tailTruncation" numberOfLines="2" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" translatesAutoresizingMaskIntoConstraints="NO" id="NXP-Ue-iml">
+                                        <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
+                                        <color key="textColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <nil key="highlightedColor"/>
+                                    </label>
+                                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="lA7-b4-o6C" userLabel="QR Frame">
                                         <subviews>
-                                            <imageView userInteractionEnabled="NO" contentMode="scaleAspectFit" horizontalHuggingPriority="251" verticalHuggingPriority="251" misplaced="YES" image="btnQRShow--white" highlightedImage="btnQRShow--white-1" translatesAutoresizingMaskIntoConstraints="NO" id="YOs-e5-ee3" userLabel="Privacy Verification QR">
-                                                <rect key="frame" x="33" y="33" width="136" height="136"/>
+                                            <imageView userInteractionEnabled="NO" contentMode="scaleAspectFit" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="btnQRShow--white" highlightedImage="btnQRShow--white-1" translatesAutoresizingMaskIntoConstraints="NO" id="YOs-e5-ee3" userLabel="Privacy Verification QR">
                                                 <constraints>
                                                     <constraint firstAttribute="width" secondItem="YOs-e5-ee3" secondAttribute="height" multiplier="1:1" id="lN0-BE-w2c"/>
                                                 </constraints>
                                             </imageView>
                                         </subviews>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="width" secondItem="lA7-b4-o6C" secondAttribute="height" multiplier="1:1" id="01p-Ui-d1b"/>
                                             <constraint firstItem="YOs-e5-ee3" firstAttribute="centerY" secondItem="lA7-b4-o6C" secondAttribute="centerY" id="ZRp-fU-qZu"/>
@@ -183,34 +176,34 @@
                                     </view>
                                 </subviews>
                                 <constraints>
-                                    <constraint firstItem="lA7-b4-o6C" firstAttribute="width" secondItem="b7W-j4-3S1" secondAttribute="width" multiplier="2/3" id="axL-M0-aaE"/>
-                                    <constraint firstItem="lA7-b4-o6C" firstAttribute="centerY" secondItem="b7W-j4-3S1" secondAttribute="centerY" constant="30" id="uHm-ee-HVb"/>
+                                    <constraint firstItem="lA7-b4-o6C" firstAttribute="top" relation="greaterThanOrEqual" secondItem="NXP-Ue-iml" secondAttribute="bottom" constant="16" id="IDA-9e-419"/>
+                                    <constraint firstItem="lA7-b4-o6C" firstAttribute="top" secondItem="b7W-j4-3S1" secondAttribute="top" constant="72" id="Kai-I1-2Fj"/>
+                                    <constraint firstAttribute="bottom" secondItem="lA7-b4-o6C" secondAttribute="bottom" constant="8" id="O2s-eE-YTr"/>
+                                    <constraint firstItem="NXP-Ue-iml" firstAttribute="leading" secondItem="b7W-j4-3S1" secondAttribute="leading" constant="16" id="atk-3T-Ckr"/>
+                                    <constraint firstAttribute="trailing" secondItem="NXP-Ue-iml" secondAttribute="trailing" constant="16" id="qK7-id-dnA"/>
+                                    <constraint firstItem="NXP-Ue-iml" firstAttribute="top" secondItem="b7W-j4-3S1" secondAttribute="top" constant="16" id="rvZ-u1-kQD"/>
                                     <constraint firstItem="lA7-b4-o6C" firstAttribute="centerX" secondItem="b7W-j4-3S1" secondAttribute="centerX" id="zzE-ab-Qv9"/>
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="B4o-Rc-z68" userLabel="Instructions Container">
-                                <rect key="frame" x="0.0" y="284" width="320" height="284"/>
                                 <subviews>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="12345 54432 83456 89456 24327 87547 90123 31523 91052 84930 89304 00234" textAlignment="center" lineBreakMode="tailTruncation" numberOfLines="3" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" adjustsLetterSpacingToFitWidth="YES" translatesAutoresizingMaskIntoConstraints="NO" id="e7E-iS-3Oc" userLabel="Privacy Verification Key Text">
-                                        <rect key="frame" x="36" y="0.0" width="248" height="70"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="70" id="k9r-Fg-1QJ"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" name="Menlo-Regular" family="Menlo" pointSize="24"/>
-                                        <color key="textColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
-                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Scan the code on your contacts phone, or ask them to scan your code to verify that your messages are end-to-end encrypted." lineBreakMode="tailTruncation" numberOfLines="0" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" adjustsLetterSpacingToFitWidth="YES" translatesAutoresizingMaskIntoConstraints="NO" id="DV4-GV-ZPf" userLabel="Instructions ">
-                                        <rect key="frame" x="16" y="78" width="288" height="104"/>
+                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Scan the code on your contact's device, or ask them to scan your code to verify that your messages are end-to-end encrypted." lineBreakMode="tailTruncation" numberOfLines="0" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" adjustsLetterSpacingToFitWidth="YES" translatesAutoresizingMaskIntoConstraints="NO" id="DV4-GV-ZPf" userLabel="Instructions ">
                                         <constraints>
                                             <constraint firstAttribute="height" relation="greaterThanOrEqual" constant="44" id="bif-t1-qQO"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                        <color key="textColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="top" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="RX6-CJ-FV1">
-                                        <rect key="frame" x="90" y="202" width="141" height="70"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="70" id="g0E-XL-o8K"/>
                                         </constraints>
@@ -240,96 +233,331 @@
                                     <outletCollection property="gestureRecognizers" destination="Mg3-ad-PGG" appends="YES" id="fDZ-ZY-J04"/>
                                 </connections>
                             </view>
-                            <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="eyu-sj-AbV" userLabel="Top Bar">
-                                <rect key="frame" x="0.0" y="22" width="320" height="44"/>
-                                <subviews>
-                                    <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Yoz-ex-1gK">
-                                        <rect key="frame" x="0.0" y="0.0" width="44" height="44"/>
-                                        <constraints>
-                                            <constraint firstAttribute="width" constant="44" id="Ie5-wL-XEo"/>
-                                            <constraint firstAttribute="height" constant="44" id="aq2-hO-WY0"/>
-                                        </constraints>
-                                        <state key="normal" image="btnCancel--white"/>
-                                        <connections>
-                                            <action selector="closeButtonAction:" destination="urv-62-RsD" eventType="touchUpInside" id="m15-1K-9gB"/>
-                                        </connections>
-                                    </button>
-                                    <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Safety Number for Momo" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="vR4-Y9-ryx" userLabel="Safety Number for Momo">
-                                        <rect key="frame" x="40" y="0.0" width="240" height="45"/>
-                                        <fontDescription key="fontDescription" style="UICTFontTextStyleHeadline"/>
-                                        <color key="textColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
-                                        <nil key="highlightedColor"/>
-                                    </label>
-                                </subviews>
+                            <navigationBar contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="hFb-r7-ELc">
                                 <constraints>
-                                    <constraint firstItem="Yoz-ex-1gK" firstAttribute="leading" secondItem="eyu-sj-AbV" secondAttribute="leading" id="3YT-t8-R98"/>
-                                    <constraint firstItem="vR4-Y9-ryx" firstAttribute="centerY" secondItem="eyu-sj-AbV" secondAttribute="centerY" id="9dS-Pk-hvb"/>
-                                    <constraint firstItem="Yoz-ex-1gK" firstAttribute="top" secondItem="eyu-sj-AbV" secondAttribute="top" id="Rfl-RX-bgS"/>
-                                    <constraint firstItem="vR4-Y9-ryx" firstAttribute="width" secondItem="eyu-sj-AbV" secondAttribute="width" multiplier="3/4" id="TaA-GT-RI3"/>
-                                    <constraint firstAttribute="height" constant="44" id="cMD-p0-7XC"/>
-                                    <constraint firstItem="vR4-Y9-ryx" firstAttribute="centerX" secondItem="eyu-sj-AbV" secondAttribute="centerX" id="oE0-Zr-7Kv"/>
-                                    <constraint firstItem="vR4-Y9-ryx" firstAttribute="top" secondItem="eyu-sj-AbV" secondAttribute="top" id="tED-yF-Auq"/>
+                                    <constraint firstAttribute="height" constant="44" id="TPT-Ir-ox2"/>
                                 </constraints>
-                            </view>
+                                <items>
+                                    <navigationItem title="Title" id="d4h-j7-SJg"/>
+                                </items>
+                            </navigationBar>
                         </subviews>
                         <constraints>
                             <constraint firstItem="8DU-2J-HAz" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="00e-Rm-0Uk"/>
-                            <constraint firstAttribute="trailing" secondItem="eyu-sj-AbV" secondAttribute="trailing" id="2mP-vt-cG0"/>
+                            <constraint firstAttribute="trailing" secondItem="IeR-8W-ae8" secondAttribute="trailing" id="14T-uq-nf6"/>
                             <constraint firstAttribute="trailing" secondItem="B4o-Rc-z68" secondAttribute="trailing" id="3ii-xe-El5"/>
-                            <constraint firstItem="X9c-nY-Re0" firstAttribute="top" secondItem="StY-nr-mRe" secondAttribute="topMargin" id="4jD-8p-9y8"/>
                             <constraint firstItem="hdo-6G-gXy" firstAttribute="top" secondItem="B4o-Rc-z68" secondAttribute="bottom" id="ChJ-qg-hLJ"/>
-                            <constraint firstItem="eyu-sj-AbV" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="Dno-eX-doN"/>
-                            <constraint firstItem="eyu-sj-AbV" firstAttribute="top" secondItem="StY-nr-mRe" secondAttribute="topMargin" constant="22" id="FwQ-7E-lv5"/>
                             <constraint firstItem="b7W-j4-3S1" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="H4U-cb-hW7"/>
-                            <constraint firstItem="X9c-nY-Re0" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="JO9-ay-ebd"/>
+                            <constraint firstAttribute="trailing" secondItem="hFb-r7-ELc" secondAttribute="trailing" id="K1f-rb-8GL"/>
                             <constraint firstItem="B4o-Rc-z68" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="KhC-UZ-RCj"/>
                             <constraint firstAttribute="trailing" secondItem="b7W-j4-3S1" secondAttribute="trailing" id="PRX-ZC-wpQ"/>
                             <constraint firstItem="B4o-Rc-z68" firstAttribute="top" secondItem="b7W-j4-3S1" secondAttribute="bottom" id="V05-1p-r0f"/>
+                            <constraint firstItem="IeR-8W-ae8" firstAttribute="top" secondItem="8Oc-YZ-y0M" secondAttribute="bottom" constant="-60" id="a3D-CO-t78"/>
+                            <constraint firstItem="hFb-r7-ELc" firstAttribute="top" secondItem="8Oc-YZ-y0M" secondAttribute="bottom" id="bBx-33-RaJ"/>
                             <constraint firstItem="b7W-j4-3S1" firstAttribute="top" secondItem="StY-nr-mRe" secondAttribute="topMargin" id="byY-vN-ywN"/>
                             <constraint firstItem="8DU-2J-HAz" firstAttribute="bottom" secondItem="b7W-j4-3S1" secondAttribute="top" id="fOH-xt-epL"/>
+                            <constraint firstItem="IeR-8W-ae8" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="noU-je-pMr"/>
                             <constraint firstAttribute="trailing" secondItem="8DU-2J-HAz" secondAttribute="trailing" id="s7e-Xw-wGe"/>
                             <constraint firstItem="8DU-2J-HAz" firstAttribute="height" secondItem="StY-nr-mRe" secondAttribute="height" multiplier="1/2" id="sBp-BU-UlW"/>
+                            <constraint firstItem="hdo-6G-gXy" firstAttribute="top" secondItem="IeR-8W-ae8" secondAttribute="bottom" id="vE7-Zn-0bf"/>
+                            <constraint firstItem="hFb-r7-ELc" firstAttribute="leading" secondItem="StY-nr-mRe" secondAttribute="leading" id="vIc-tj-wK4"/>
                             <constraint firstItem="b7W-j4-3S1" firstAttribute="height" secondItem="StY-nr-mRe" secondAttribute="height" multiplier="1/2" id="wXF-0d-U9i"/>
-                            <constraint firstAttribute="trailing" secondItem="X9c-nY-Re0" secondAttribute="trailing" id="xdd-Qu-mV8"/>
-                            <constraint firstItem="hdo-6G-gXy" firstAttribute="top" secondItem="X9c-nY-Re0" secondAttribute="bottom" id="ySw-OZ-TGq"/>
                         </constraints>
                     </view>
+                    <toolbarItems/>
                     <navigationItem key="navigationItem" id="Gye-4f-x42"/>
                     <simulatedStatusBarMetrics key="simulatedStatusBarMetrics" statusBarStyle="lightContent"/>
+                    <simulatedToolbarMetrics key="simulatedBottomBarMetrics"/>
                     <connections>
+                        <outlet property="dismissModalButton" destination="kAa-FW-3Am" id="1rW-zn-Xoh"/>
                         <outlet property="instructionsContainer" destination="B4o-Rc-z68" id="Rc4-wf-8jw"/>
                         <outlet property="instructionsLabel" destination="DV4-GV-ZPf" id="f1p-P7-QOi"/>
+                        <outlet property="modalNavigationBar" destination="hFb-r7-ELc" id="P4F-u6-H6q"/>
                         <outlet property="privacyVerificationFingerprint" destination="e7E-iS-3Oc" id="IA0-ZU-vKJ"/>
                         <outlet property="privacyVerificationQRCode" destination="YOs-e5-ee3" id="Sbg-HQ-tnD"/>
-                        <outlet property="privacyVerificationQRCodeFrame" destination="lA7-b4-o6C" id="ngQ-6e-F2W"/>
-                        <outlet property="qrCodeCenterConstraint" destination="uHm-ee-HVb" id="8DE-qh-Qif"/>
+                        <outlet property="privacyVerificationQRCodeFrame" destination="lA7-b4-o6C" id="xgr-YI-DIC"/>
                         <outlet property="qrContainer" destination="b7W-j4-3S1" id="IpY-w1-yk6"/>
                         <outlet property="qrScanningView" destination="MhA-kC-nBb" id="gNX-7s-wIG"/>
                         <outlet property="scanButton" destination="RX6-CJ-FV1" id="BKY-4g-g3U"/>
                         <outlet property="scanningContainer" destination="8DU-2J-HAz" id="FH9-yo-8uI"/>
-                        <outlet property="titleLabel" destination="vR4-Y9-ryx" id="l8Y-0N-eKa"/>
+                        <outlet property="scanningInstructions" destination="NXP-Ue-iml" id="Iqf-NS-kzM"/>
                     </connections>
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="sd1-mY-rAe" userLabel="First Responder" sceneMemberID="firstResponder"/>
+                <barButtonItem image="btnCancel--white" id="kAa-FW-3Am" userLabel="Dismiss Button">
+                    <connections>
+                        <action selector="closeButtonAction:" destination="urv-62-RsD" id="Odq-bS-LCh"/>
+                    </connections>
+                </barButtonItem>
                 <tapGestureRecognizer id="fRl-Lt-y39"/>
                 <tapGestureRecognizer id="Mg3-ad-PGG"/>
             </objects>
-            <point key="canvasLocation" x="-1944" y="-2339"/>
+            <point key="canvasLocation" x="-1087" y="-2423"/>
+        </scene>
+        <!--Conversation Settings-->
+        <scene sceneID="Flt-X5-Amc">
+            <objects>
+                <tableViewController title="Contact Information" id="4oU-Rv-yJi" userLabel="Conversation Settings" customClass="OWSConversationSettingsTableViewController" sceneMemberID="viewController">
+                    <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="static" style="grouped" separatorStyle="default" sectionIndexMinimumDisplayRowCount="1" rowHeight="44" sectionHeaderHeight="18" sectionFooterHeight="18" id="Dgp-fo-Lyr">
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
+                        <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
+                        <color key="backgroundColor" cocoaTouchSystemColor="groupTableViewBackgroundColor"/>
+                        <view key="tableHeaderView" contentMode="scaleToFill" id="ISI-k9-YYb" userLabel="Header">
+                            <rect key="frame" x="0.0" y="0.0" width="375" height="100"/>
+                            <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
+                            <subviews>
+                                <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="FtL-Hb-6Dz" userLabel="Contact Info">
+                                    <subviews>
+                                        <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="empty-group-avatar" translatesAutoresizingMaskIntoConstraints="NO" id="7IV-AJ-aCS">
+                                            <constraints>
+                                                <constraint firstAttribute="width" secondItem="7IV-AJ-aCS" secondAttribute="height" multiplier="1:1" id="XYc-uT-wt9"/>
+                                            </constraints>
+                                        </imageView>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Edward Snowden" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="qCt-Cp-bFX" userLabel="Name">
+                                            <fontDescription key="fontDescription" style="UICTFontTextStyleTitle2"/>
+                                            <nil key="textColor"/>
+                                            <nil key="highlightedColor"/>
+                                        </label>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="+13235551234" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="tmV-r0-09O" userLabel="Signal ID">
+                                            <fontDescription key="fontDescription" style="UICTFontTextStyleSubhead"/>
+                                            <nil key="textColor"/>
+                                            <nil key="highlightedColor"/>
+                                        </label>
+                                    </subviews>
+                                    <constraints>
+                                        <constraint firstItem="7IV-AJ-aCS" firstAttribute="leading" secondItem="FtL-Hb-6Dz" secondAttribute="leading" id="5OG-5g-m6A"/>
+                                        <constraint firstItem="qCt-Cp-bFX" firstAttribute="centerY" secondItem="FtL-Hb-6Dz" secondAttribute="centerY" constant="-6" id="APJ-G5-AZh"/>
+                                        <constraint firstItem="tmV-r0-09O" firstAttribute="top" secondItem="qCt-Cp-bFX" secondAttribute="bottom" id="AyS-jZ-8Qn"/>
+                                        <constraint firstAttribute="bottom" secondItem="7IV-AJ-aCS" secondAttribute="bottom" id="QG8-cj-nKK"/>
+                                        <constraint firstItem="tmV-r0-09O" firstAttribute="leading" secondItem="7IV-AJ-aCS" secondAttribute="trailing" constant="16" id="XyN-cc-EeU"/>
+                                        <constraint firstItem="qCt-Cp-bFX" firstAttribute="leading" secondItem="7IV-AJ-aCS" secondAttribute="trailing" constant="16" id="hcC-NE-JzL"/>
+                                        <constraint firstAttribute="trailing" secondItem="qCt-Cp-bFX" secondAttribute="trailing" id="s0D-Ur-rWN"/>
+                                        <constraint firstAttribute="trailing" secondItem="tmV-r0-09O" secondAttribute="trailing" id="seF-vN-zav"/>
+                                        <constraint firstItem="7IV-AJ-aCS" firstAttribute="top" secondItem="FtL-Hb-6Dz" secondAttribute="top" id="w1Y-ji-wWV"/>
+                                    </constraints>
+                                </view>
+                            </subviews>
+                            <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                            <constraints>
+                                <constraint firstAttribute="bottom" secondItem="FtL-Hb-6Dz" secondAttribute="bottom" constant="16" id="5hM-1e-CCT"/>
+                                <constraint firstAttribute="trailing" secondItem="FtL-Hb-6Dz" secondAttribute="trailing" constant="16" id="DS6-6y-KUe"/>
+                                <constraint firstItem="FtL-Hb-6Dz" firstAttribute="top" secondItem="ISI-k9-YYb" secondAttribute="top" constant="16" id="F8S-4d-c1C"/>
+                                <constraint firstItem="FtL-Hb-6Dz" firstAttribute="leading" secondItem="ISI-k9-YYb" secondAttribute="leading" constant="16" id="iaB-xd-LVB"/>
+                            </constraints>
+                        </view>
+                        <sections>
+                            <tableViewSection id="Wb6-Ta-5b7">
+                                <cells>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="Iq5-ca-zUp" imageView="eGH-Vc-aKx" style="IBUITableViewCellStyleDefault" id="Dzg-XO-ciX">
+                                        <rect key="frame" x="0.0" y="100" width="375" height="44"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="Dzg-XO-ciX" id="KFb-kN-MV9">
+                                            <frame key="frameInset" width="342" height="43"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Verify Safety Numbers" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="Iq5-ca-zUp">
+                                                    <frame key="frameInset" minX="62" width="278" height="43"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                                <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" image="ic_lock_outline" id="eGH-Vc-aKx">
+                                                    <frame key="frameInset" minX="15" minY="5" width="32" height="32"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <color key="tintColor" cocoaTouchSystemColor="darkTextColor"/>
+                                                </imageView>
+                                            </subviews>
+                                        </tableViewCellContentView>
+                                        <connections>
+                                            <segue destination="urv-62-RsD" kind="modal" id="wgA-Oo-kKq"/>
+                                        </connections>
+                                    </tableViewCell>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" textLabel="PcZ-4Q-b9H" imageView="oHF-Dd-ljq" style="IBUITableViewCellStyleDefault" id="U6h-Xo-HEv">
+                                        <rect key="frame" x="0.0" y="144" width="375" height="44"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="U6h-Xo-HEv" id="Nmz-2u-fOY">
+                                            <frame key="frameInset" width="375" height="43"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Disappearing Messages" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="PcZ-4Q-b9H">
+                                                    <frame key="frameInset" minX="62" width="298" height="43"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                                <switch opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="750" verticalHuggingPriority="750" ambiguous="YES" contentHorizontalAlignment="center" contentVerticalAlignment="center" on="YES" translatesAutoresizingMaskIntoConstraints="NO" id="0dO-mx-W3I" userLabel="Disappearing Messages Switch">
+                                                    <frame key="frameInset" minX="312" minY="6" width="51" height="31"/>
+                                                    <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
+                                                    <connections>
+                                                        <action selector="disappearingMessagesSwitchValueDidChange:" destination="4oU-Rv-yJi" eventType="valueChanged" id="3fF-JA-69e"/>
+                                                    </connections>
+                                                </switch>
+                                                <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" image="table_ic_timer" id="oHF-Dd-ljq">
+                                                    <frame key="frameInset" minX="15" minY="5" width="32" height="32"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <color key="tintColor" cocoaTouchSystemColor="darkTextColor"/>
+                                                </imageView>
+                                            </subviews>
+                                        </tableViewCellContentView>
+                                        <connections>
+                                            <outlet property="accessoryView" destination="0dO-mx-W3I" id="1np-R6-rf7"/>
+                                        </connections>
+                                    </tableViewCell>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" rowHeight="84" id="3dL-aW-P1A">
+                                        <rect key="frame" x="0.0" y="188" width="375" height="84"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="3dL-aW-P1A" id="2a2-Po-p8O">
+                                            <frame key="frameInset" width="375" height="83"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="table_ic_hourglass_empty" translatesAutoresizingMaskIntoConstraints="NO" id="X7n-1t-1Q7">
+                                                    <color key="tintColor" cocoaTouchSystemColor="darkTextColor"/>
+                                                    <constraints>
+                                                        <constraint firstAttribute="width" constant="20" id="Pmb-2B-dEA"/>
+                                                        <constraint firstAttribute="width" secondItem="X7n-1t-1Q7" secondAttribute="height" multiplier="1:1" id="n74-jg-DRI"/>
+                                                    </constraints>
+                                                </imageView>
+                                                <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="table_ic_hourglass_empty" translatesAutoresizingMaskIntoConstraints="NO" id="atL-Pg-VhA">
+                                                    <color key="tintColor" cocoaTouchSystemColor="darkTextColor"/>
+                                                    <constraints>
+                                                        <constraint firstAttribute="width" constant="32" id="N3C-ww-dC8"/>
+                                                        <constraint firstAttribute="width" secondItem="atL-Pg-VhA" secondAttribute="height" multiplier="1:1" id="qWS-Cq-fN3"/>
+                                                    </constraints>
+                                                </imageView>
+                                                <slider opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" value="0.5" minValue="0.0" maxValue="1" translatesAutoresizingMaskIntoConstraints="NO" id="4Hn-9p-qsR">
+                                                    <constraints>
+                                                        <constraint firstAttribute="height" constant="30" id="D1q-zH-wtT"/>
+                                                    </constraints>
+                                                    <connections>
+                                                        <action selector="durationSliderDidChange:" destination="4oU-Rv-yJi" eventType="valueChanged" id="bCT-Zk-qlf"/>
+                                                    </connections>
+                                                </slider>
+                                                <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Keep messages for 8 hours." lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" translatesAutoresizingMaskIntoConstraints="NO" id="c6Q-rV-1LO" userLabel="Keep messages for 8 hours.">
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                            </subviews>
+                                            <constraints>
+                                                <constraint firstItem="c6Q-rV-1LO" firstAttribute="top" secondItem="2a2-Po-p8O" secondAttribute="topMargin" constant="8" id="558-sj-IHW"/>
+                                                <constraint firstItem="X7n-1t-1Q7" firstAttribute="centerY" secondItem="4Hn-9p-qsR" secondAttribute="centerY" id="6Vu-ic-3DV"/>
+                                                <constraint firstItem="X7n-1t-1Q7" firstAttribute="trailing" secondItem="4Hn-9p-qsR" secondAttribute="leading" constant="-22" id="BIH-vZ-UBx"/>
+                                                <constraint firstItem="atL-Pg-VhA" firstAttribute="leading" secondItem="4Hn-9p-qsR" secondAttribute="trailing" constant="22" id="Bbq-jp-v8d"/>
+                                                <constraint firstAttribute="trailingMargin" secondItem="atL-Pg-VhA" secondAttribute="trailing" id="JtZ-TH-VqO"/>
+                                                <constraint firstAttribute="bottomMargin" secondItem="4Hn-9p-qsR" secondAttribute="bottom" id="OrV-vw-IeD"/>
+                                                <constraint firstItem="atL-Pg-VhA" firstAttribute="centerY" secondItem="4Hn-9p-qsR" secondAttribute="centerY" id="SNj-vr-psP"/>
+                                                <constraint firstAttribute="trailingMargin" secondItem="c6Q-rV-1LO" secondAttribute="trailing" id="Td0-xm-0jB"/>
+                                                <constraint firstItem="4Hn-9p-qsR" firstAttribute="top" secondItem="c6Q-rV-1LO" secondAttribute="bottom" constant="8" id="cFF-k2-V3P"/>
+                                                <constraint firstItem="X7n-1t-1Q7" firstAttribute="leading" secondItem="2a2-Po-p8O" secondAttribute="leadingMargin" constant="16" id="qNh-GB-pE2"/>
+                                                <constraint firstItem="c6Q-rV-1LO" firstAttribute="leading" secondItem="4Hn-9p-qsR" secondAttribute="leading" id="tHq-Qw-GCY"/>
+                                            </constraints>
+                                        </tableViewCellContentView>
+                                    </tableViewCell>
+                                </cells>
+                            </tableViewSection>
+                            <tableViewSection headerTitle="Group Management" id="z5m-Fe-GK8">
+                                <cells>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="NxZ-wa-xV9" style="IBUITableViewCellStyleDefault" id="XHr-b6-Gvn" userLabel="Update Group">
+                                        <rect key="frame" x="0.0" y="328" width="375" height="44"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="XHr-b6-Gvn" id="Epj-vT-UYL">
+                                            <frame key="frameInset" width="342" height="43"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Update Group" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="NxZ-wa-xV9">
+                                                    <frame key="frameInset" minX="15" width="325" height="43"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                            </subviews>
+                                        </tableViewCellContentView>
+                                        <connections>
+                                            <segue destination="bDi-2Q-XOC" kind="push" identifier="OWSConversationSettingsTableViewControllerSegueUpdateGroup" id="E8S-Yc-X7E"/>
+                                        </connections>
+                                    </tableViewCell>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="geN-YN-TQg" style="IBUITableViewCellStyleDefault" id="w57-rz-BWN" userLabel="Leave Group">
+                                        <rect key="frame" x="0.0" y="372" width="375" height="44"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="w57-rz-BWN" id="Pgy-Fc-U25">
+                                            <frame key="frameInset" width="342" height="43"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Leave Group" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="geN-YN-TQg">
+                                                    <frame key="frameInset" minX="15" width="325" height="43"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                            </subviews>
+                                        </tableViewCellContentView>
+                                    </tableViewCell>
+                                    <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="Zml-Zn-2fd" style="IBUITableViewCellStyleDefault" id="Dnq-Ko-46l" userLabel="Group Members">
+                                        <rect key="frame" x="0.0" y="416" width="375" height="44"/>
+                                        <autoresizingMask key="autoresizingMask"/>
+                                        <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="Dnq-Ko-46l" id="VRQ-31-E5Y">
+                                            <frame key="frameInset" width="342" height="43"/>
+                                            <autoresizingMask key="autoresizingMask"/>
+                                            <subviews>
+                                                <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Group Members" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="Zml-Zn-2fd">
+                                                    <frame key="frameInset" minX="15" width="325" height="43"/>
+                                                    <autoresizingMask key="autoresizingMask"/>
+                                                    <fontDescription key="fontDescription" type="system" pointSize="17"/>
+                                                    <nil key="textColor"/>
+                                                    <nil key="highlightedColor"/>
+                                                </label>
+                                            </subviews>
+                                        </tableViewCellContentView>
+                                        <connections>
+                                            <segue destination="JeZ-9g-U61" kind="push" identifier="OWSConversationSettingsTableViewControllerSegueShowGroupMembers" id="uLh-RA-Vq1"/>
+                                        </connections>
+                                    </tableViewCell>
+                                </cells>
+                            </tableViewSection>
+                        </sections>
+                        <connections>
+                            <outlet property="dataSource" destination="4oU-Rv-yJi" id="88i-Ba-dhL"/>
+                            <outlet property="delegate" destination="4oU-Rv-yJi" id="2U7-1z-zIl"/>
+                        </connections>
+                    </tableView>
+                    <navigationItem key="navigationItem" title="Conversation Settings" id="3Gh-BY-xJE"/>
+                    <connections>
+                        <outlet property="avatar" destination="7IV-AJ-aCS" id="9LA-fh-tIF"/>
+                        <outlet property="disappearingMessagesDurationCell" destination="3dL-aW-P1A" id="fZT-hN-ZNB"/>
+                        <outlet property="disappearingMessagesDurationLabel" destination="c6Q-rV-1LO" id="dEt-U7-kFm"/>
+                        <outlet property="disappearingMessagesDurationSlider" destination="4Hn-9p-qsR" id="nMT-B6-hzM"/>
+                        <outlet property="disappearingMessagesSwitch" destination="0dO-mx-W3I" id="bBm-Lk-kgv"/>
+                        <outlet property="leaveGroupCell" destination="w57-rz-BWN" id="NhL-3S-t9C"/>
+                        <outlet property="listGroupMembersCell" destination="Dnq-Ko-46l" id="FF2-Vv-UPN"/>
+                        <outlet property="nameLabel" destination="qCt-Cp-bFX" id="7yI-kh-cN6"/>
+                        <outlet property="signalIdLabel" destination="tmV-r0-09O" id="jFP-hM-j3f"/>
+                        <outlet property="toggleDisappearingMessagesCell" destination="U6h-Xo-HEv" id="a3T-jn-u7Z"/>
+                        <outlet property="updateGroupCell" destination="XHr-b6-Gvn" id="JMz-e5-FNh"/>
+                        <outlet property="verifyPrivacyCell" destination="Dzg-XO-ciX" id="kKQ-3F-uIp"/>
+                    </connections>
+                </tableViewController>
+                <placeholder placeholderIdentifier="IBFirstResponder" id="Ftx-dN-loa" userLabel="First Responder" sceneMemberID="firstResponder"/>
+            </objects>
+            <point key="canvasLocation" x="-1567.5" y="-1539.5"/>
         </scene>
         <!--Show Group Members View Controller-->
         <scene sceneID="VBt-Ax-0G9">
             <objects>
                 <tableViewController storyboardIdentifier="ShowGroupMembersViewController" id="JeZ-9g-U61" customClass="ShowGroupMembersViewController" sceneMemberID="viewController">
                     <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="plain" separatorStyle="default" rowHeight="44" sectionHeaderHeight="22" sectionFooterHeight="22" id="Fdx-Zk-e27">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <prototypes>
                             <tableViewCell contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" reuseIdentifier="groupMemberCell" id="hyn-Ss-OAa">
-                                <rect key="frame" x="0.0" y="22" width="320" height="44"/>
+                                <rect key="frame" x="0.0" y="22" width="375" height="44"/>
                                 <autoresizingMask key="autoresizingMask"/>
                                 <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="hyn-Ss-OAa" id="4XE-JO-Upr">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="43"/>
+                                    <frame key="frameInset" width="375" height="44"/>
                                     <autoresizingMask key="autoresizingMask"/>
                                 </tableViewCellContentView>
                             </tableViewCell>
@@ -343,7 +571,7 @@
                 </tableViewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="3R8-C6-Zq8" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
-            <point key="canvasLocation" x="-1935.2" y="-1537.8599999999999"/>
+            <point key="canvasLocation" x="-1032" y="-1540"/>
         </scene>
         <!--_1.0 Registration Screen-->
         <scene sceneID="okO-46-HuB">
@@ -354,26 +582,22 @@
                         <viewControllerLayoutGuide type="bottom" id="g9k-sN-wqg"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="Y3I-8Y-pLa" userLabel="_1.0 Registration Screen">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="J5f-8V-ASm" userLabel="_1.0a Registration Screen Title">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="245"/>
                                 <subviews>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="top" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Your Phone Number" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="50y-cV-8aI">
-                                        <rect key="frame" x="1" y="190" width="320" height="29"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="29" id="T1b-ph-zPv"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="24"/>
-                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
-                                    <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" image="logoSignal" translatesAutoresizingMaskIntoConstraints="NO" id="hle-PK-Ivk">
-                                        <rect key="frame" x="91" y="43" width="138" height="139"/>
-                                    </imageView>
+                                    <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" image="logoSignal" translatesAutoresizingMaskIntoConstraints="NO" id="hle-PK-Ivk"/>
                                 </subviews>
-                                <color key="backgroundColor" red="0.12549019607843137" green="0.56470588235294117" blue="0.91764705882352937" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                <color key="backgroundColor" red="0.11356575042009354" green="0.47873002290725708" blue="0.89595204591751099" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="bottom" secondItem="50y-cV-8aI" secondAttribute="bottom" constant="26" id="9Ep-V2-rAF"/>
                                     <constraint firstAttribute="centerX" secondItem="50y-cV-8aI" secondAttribute="centerX" constant="-1" id="eOY-3p-Xc8"/>
@@ -384,46 +608,42 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="oS3-t9-5np" userLabel="_1.0b Registration Country Code Selection">
-                                <rect key="frame" x="0.0" y="245" width="320" height="60"/>
                                 <subviews>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="O6t-0o-mk5">
-                                        <rect key="frame" x="0.0" y="59" width="320" height="1"/>
-                                        <color key="backgroundColor" red="0.7999122142791748" green="0.80005049705505371" blue="0.7999035120010376" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.75549191236495972" green="0.75563699007034302" blue="0.75546777248382568" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="1" id="gpg-j8-Tjz"/>
                                         </constraints>
                                     </view>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="right" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="VvN-1x-NvR">
-                                        <rect key="frame" x="237" y="17" width="67" height="26"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="67" id="0Oj-m4-j2A"/>
                                             <constraint firstAttribute="height" constant="26" id="IlP-zb-7h9"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="20"/>
                                         <state key="normal" title="+1">
-                                            <color key="titleColor" red="0.0" green="0.54770743846893311" blue="0.94218957424163818" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="0.054103322327136993" green="0.45790460705757141" blue="0.92617350816726685" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <segue destination="1Vd-tn-37d" kind="modal" id="xo7-5J-BJb"/>
                                         </connections>
                                     </button>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="tailTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="ngV-Kv-6Ax">
-                                        <rect key="frame" x="20" y="0.0" width="195" height="60"/>
                                         <rect key="contentStretch" x="1" y="0.0" width="1" height="1"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="60" id="LOh-ty-lH1"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="16"/>
                                         <state key="normal" title="Country Code">
-                                            <color key="titleColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="titleColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <segue destination="1Vd-tn-37d" kind="modal" id="RW4-y4-lZo"/>
                                         </connections>
                                     </button>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="height" constant="60" id="4z2-Ss-eUR"/>
                                     <constraint firstAttribute="trailing" secondItem="VvN-1x-NvR" secondAttribute="trailing" constant="16" id="Gxg-K6-41b"/>
@@ -437,39 +657,35 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="tSy-r0-e7H" userLabel="_1.0c Registration Phone Number Input">
-                                <rect key="frame" x="0.0" y="305" width="320" height="61"/>
                                 <subviews>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="vpp-VC-z9v">
-                                        <rect key="frame" x="0.0" y="59" width="360" height="1"/>
-                                        <color key="backgroundColor" red="0.80000000000000004" green="0.80000000000000004" blue="0.80000000000000004" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.75559091567993164" green="0.75556838512420654" blue="0.75558114051818848" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="1" id="SiS-mn-Yud"/>
                                         </constraints>
                                     </view>
                                     <textField opaque="NO" clipsSubviews="YES" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" placeholder="Enter Number" textAlignment="right" minimumFontSize="17" translatesAutoresizingMaskIntoConstraints="NO" id="tTJ-pq-Z9L">
-                                        <rect key="frame" x="128" y="19" width="176" height="26"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="176" id="6Ux-PV-sZk"/>
                                             <constraint firstAttribute="height" constant="26" id="bkw-ef-Yt9"/>
                                         </constraints>
-                                        <color key="textColor" red="0.30192413926124573" green="0.30198189616203308" blue="0.30192050337791443" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="textColor" red="0.23574128746986389" green="0.2357865571975708" blue="0.23573371767997742" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <fontDescription key="fontDescription" type="system" pointSize="16"/>
                                         <textInputTraits key="textInputTraits" keyboardType="phonePad" keyboardAppearance="light"/>
                                     </textField>
                                     <button opaque="NO" userInteractionEnabled="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="AbN-AU-yk7">
-                                        <rect key="frame" x="20" y="18" width="152" height="26"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="26" id="hch-s1-zig"/>
                                             <constraint firstAttribute="width" constant="152" id="tZB-hO-p3n"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="15"/>
                                         <state key="normal" title="Phone Number">
-                                            <color key="titleColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                     </button>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="trailing" secondItem="tTJ-pq-Z9L" secondAttribute="trailing" constant="16" id="G4f-2B-yOo"/>
                                     <constraint firstAttribute="height" constant="61" id="RtR-L9-Slj"/>
@@ -482,33 +698,30 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="g8J-Eg-0PT" userLabel="_1.0d Registration Verification Code Button">
-                                <rect key="frame" x="0.0" y="375" width="320" height="47"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="7IK-hd-tli">
-                                        <rect key="frame" x="30" y="1" width="260" height="47"/>
-                                        <color key="backgroundColor" red="0.067691504955291748" green="0.55628502368927002" blue="0.92999207973480225" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="47" id="foJ-cw-ajR"/>
                                             <constraint firstAttribute="height" relation="greaterThanOrEqual" constant="47" id="gxX-eS-QSu"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="semibold" pointSize="14"/>
                                         <state key="normal" title="Verify This Device">
-                                            <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="sendCodeAction:" destination="sL4-Zw-2Og" eventType="touchUpInside" id="T8X-Mx-4I6"/>
                                         </connections>
                                     </button>
                                     <activityIndicatorView hidden="YES" opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="750" verticalHuggingPriority="750" hidesWhenStopped="YES" style="white" translatesAutoresizingMaskIntoConstraints="NO" id="Uhw-zc-NhO">
-                                        <rect key="frame" x="250" y="15" width="20" height="20"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="20" id="EN0-Kc-yUf"/>
                                             <constraint firstAttribute="width" constant="20" id="WRq-AE-2aq"/>
                                         </constraints>
                                     </activityIndicatorView>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="height" constant="47" id="2UQ-03-3A5"/>
                                     <constraint firstItem="Uhw-zc-NhO" firstAttribute="trailing" secondItem="7IK-hd-tli" secondAttribute="trailing" constant="-20" id="6gr-Dr-6tX"/>
@@ -519,7 +732,7 @@
                                 </constraints>
                             </view>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="oS3-t9-5np" firstAttribute="leading" secondItem="Y3I-8Y-pLa" secondAttribute="leadingMargin" constant="-16" id="3EZ-dN-uSz"/>
                             <constraint firstItem="oS3-t9-5np" firstAttribute="top" secondItem="J5f-8V-ASm" secondAttribute="bottom" id="71e-hb-Z1h"/>
@@ -562,7 +775,7 @@
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="fty-2s-xFJ">
                         <rect key="frame" x="0.0" y="0.0" width="320" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
-                        <color key="barTintColor" red="0.067691504955291748" green="0.55628502368927002" blue="0.92999207973480225" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <color key="barTintColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </navigationBar>
                     <connections>
                         <segue destination="nT9-Zl-5R0" kind="relationship" relationship="rootViewController" id="mkr-n5-2Nm"/>
@@ -577,11 +790,11 @@
             <objects>
                 <tableViewController storyboardIdentifier="CountryCodeViewController" id="nT9-Zl-5R0" userLabel="_2.0_1.0__1 Country Code Modal" customClass="CountryCodeViewController" sceneMemberID="viewController">
                     <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="plain" separatorStyle="default" rowHeight="44" sectionHeaderHeight="22" sectionFooterHeight="22" id="o7w-iD-5XF" userLabel="_1.0__1 Country Code Table">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <searchBar key="tableHeaderView" contentMode="redraw" id="Syd-Xl-kCG" userLabel="__1a Search Bar">
-                            <rect key="frame" x="0.0" y="64" width="320" height="44"/>
+                            <rect key="frame" x="0.0" y="64" width="375" height="44"/>
                             <autoresizingMask key="autoresizingMask" widthSizable="YES" flexibleMaxY="YES"/>
                             <textInputTraits key="textInputTraits"/>
                             <connections>
@@ -590,28 +803,26 @@
                         </searchBar>
                         <prototypes>
                             <tableViewCell contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" reuseIdentifier="CountryCodeTableViewCell" id="hpG-pz-GPZ" userLabel="__1b Country Code Table" customClass="CountryCodeTableViewCell">
-                                <rect key="frame" x="0.0" y="130" width="320" height="44"/>
+                                <rect key="frame" x="0.0" y="130" width="375" height="44"/>
                                 <autoresizingMask key="autoresizingMask"/>
                                 <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="hpG-pz-GPZ" id="gVo-Nw-ff7" userLabel="Country Code Table Row">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="43"/>
+                                    <frame key="frameInset" width="375" height="44"/>
                                     <autoresizingMask key="autoresizingMask"/>
                                     <subviews>
                                         <label opaque="NO" userInteractionEnabled="NO" tag="1" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="United states" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="SDz-Ag-lp3">
-                                            <rect key="frame" x="20" y="11" width="244" height="22"/>
                                             <constraints>
                                                 <constraint firstAttribute="width" constant="244" id="Y66-3d-yJI"/>
                                             </constraints>
                                             <fontDescription key="fontDescription" type="system" weight="medium" pointSize="18"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                         <label opaque="NO" userInteractionEnabled="NO" tag="2" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="+1" textAlignment="right" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="hl9-0w-DHU">
-                                            <rect key="frame" x="237" y="12" width="64" height="20"/>
                                             <constraints>
                                                 <constraint firstAttribute="width" constant="64" id="S6t-bW-MMl"/>
                                             </constraints>
                                             <fontDescription key="fontDescription" type="system" weight="medium" pointSize="16"/>
-                                            <color key="textColor" red="0.50196078431372548" green="0.50196078431372548" blue="0.50196078431372548" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="textColor" red="0.42667588591575623" green="0.4266631007194519" blue="0.42667034268379211" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                     </subviews>
@@ -670,44 +881,39 @@
                         <viewControllerLayoutGuide type="bottom" id="9Ut-k6-hNn"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="vir-2e-LN3">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <visualEffectView opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="87w-Jm-tMc">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
                                 <view key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" id="32G-1m-e8H">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                                    <frame key="frameInset"/>
                                     <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                                 </view>
                                 <blurEffect style="dark"/>
                             </visualEffectView>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="kYX-We-g3s" userLabel="conversation contact">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="140"/>
                                 <subviews>
                                     <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="eSg-l3-cbz">
-                                        <rect key="frame" x="236" y="67" width="62" height="62"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="62" id="SUM-4n-TK8"/>
                                             <constraint firstAttribute="height" constant="62" id="cNa-tL-3WW"/>
                                         </constraints>
                                     </imageView>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Moxie Marlinspike" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" adjustsLetterSpacingToFitWidth="YES" translatesAutoresizingMaskIntoConstraints="NO" id="zMG-vs-mRy">
-                                        <rect key="frame" x="25" y="56" width="195" height="45"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="45" id="pkz-I0-lQ2"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="light" pointSize="32"/>
-                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="calling mobile ..." lineBreakMode="tailTruncation" numberOfLines="3" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="dbS-Y4-Ge8">
-                                        <rect key="frame" x="25" y="102" width="195" height="28"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="195" id="Jym-Zt-gVp"/>
                                             <constraint firstAttribute="height" relation="greaterThanOrEqual" constant="28" id="mzl-vA-mVI"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="19"/>
-                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                 </subviews>
@@ -724,31 +930,27 @@
                                 </constraints>
                             </view>
                             <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Conversation Safe Words" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="bnt-nc-bE8">
-                                <rect key="frame" x="27" y="230" width="265" height="40"/>
                                 <constraints>
                                     <constraint firstAttribute="height" constant="40" id="DTP-4z-twz"/>
                                 </constraints>
                                 <fontDescription key="fontDescription" type="system" pointSize="16"/>
-                                <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                <color key="textColor" red="1" green="0.99997437000274658" blue="0.99999129772186279" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <nil key="highlightedColor"/>
                             </label>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="SWK-jL-8IG" userLabel="_safe words">
-                                <rect key="frame" x="0.0" y="238" width="320" height="130"/>
                                 <subviews>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="cXl-nO-D0h">
-                                        <rect key="frame" x="0.0" y="44" width="320" height="65"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="65" id="hmt-mu-kI4"/>
                                         </constraints>
                                     </view>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="watchword chambermaid" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" adjustsLetterSpacingToFitWidth="YES" translatesAutoresizingMaskIntoConstraints="NO" id="CLR-My-Jfk">
-                                        <rect key="frame" x="25" y="60" width="320" height="31"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="31" id="HEv-nI-1Sb"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="22"/>
-                                        <color key="textColor" red="0.067691504955291748" green="0.55628502368927002" blue="0.92999207973480225" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="textColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                 </subviews>
@@ -763,16 +965,14 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="nsz-Sa-Uh6" userLabel="Static Buttons">
-                                <rect key="frame" x="0.0" y="368" width="320" height="100"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="uqh-Gl-dvz" userLabel="Speaker">
-                                        <rect key="frame" x="200" y="0.0" width="80" height="80"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="80" id="CCC-wz-iw7"/>
                                             <constraint firstAttribute="height" constant="80" id="LqQ-FB-t9K"/>
                                         </constraints>
                                         <state key="normal" image="speaker-inactive">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <state key="selected" image="speaker-active"/>
                                         <connections>
@@ -780,13 +980,12 @@
                                         </connections>
                                     </button>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="4OS-z4-ixd" userLabel="Mute Button">
-                                        <rect key="frame" x="40" y="0.0" width="80" height="80"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="80" id="0QK-nC-B88"/>
                                             <constraint firstAttribute="height" constant="80" id="2DL-xO-VaK"/>
                                         </constraints>
                                         <state key="normal" image="mute-inactive">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <state key="selected" image="mute-active"/>
                                         <connections>
@@ -803,16 +1002,14 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="N3L-Um-Vnw" userLabel="Active Call Button">
-                                <rect key="frame" x="0.0" y="468" width="320" height="100"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="F2a-2h-UK2" userLabel="Hang Up Button">
-                                        <rect key="frame" x="120" y="0.0" width="80" height="80"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="80" id="ToV-Ks-2i9"/>
                                             <constraint firstAttribute="height" constant="80" id="ifY-o4-2Pv"/>
                                         </constraints>
                                         <state key="normal" image="endcall.png">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="endCallTapped" destination="Duq-aU-MmN" eventType="touchUpInside" id="rXu-gi-QGz"/>
@@ -826,29 +1023,26 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="WJ0-XC-WRe" userLabel="Incoming Call Buttons">
-                                <rect key="frame" x="0.0" y="468" width="320" height="100"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="De1-JJ-Nsi" userLabel="Decline">
-                                        <rect key="frame" x="40" y="0.0" width="80" height="80"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="80" id="GDu-4c-Hm7"/>
                                             <constraint firstAttribute="width" constant="80" id="rKd-Jd-G3l"/>
                                         </constraints>
                                         <state key="normal" image="endcall.png">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="rejectButtonTapped" destination="Duq-aU-MmN" eventType="touchUpInside" id="a1b-3s-CBO"/>
                                         </connections>
                                     </button>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="3b2-qR-0Y3" userLabel="Answer">
-                                        <rect key="frame" x="200" y="0.0" width="80" height="80"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="80" id="amq-H9-Gaa"/>
                                             <constraint firstAttribute="width" constant="80" id="wqt-Jl-Jf8"/>
                                         </constraints>
                                         <state key="normal" image="call.png">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="answerButtonTapped" destination="Duq-aU-MmN" eventType="touchUpInside" id="7Ss-JA-w0J"/>
@@ -864,7 +1058,7 @@
                                 </constraints>
                             </view>
                         </subviews>
-                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="87w-Jm-tMc" firstAttribute="centerX" secondItem="vir-2e-LN3" secondAttribute="centerX" id="2gh-0t-obh"/>
                             <constraint firstItem="bnt-nc-bE8" firstAttribute="leading" secondItem="vir-2e-LN3" secondAttribute="leadingMargin" constant="11" id="BlI-Sj-qcR"/>
@@ -912,7 +1106,7 @@
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="Zf9-os-O7P" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
-            <point key="canvasLocation" x="-2381" y="-2361"/>
+            <point key="canvasLocation" x="-2295" y="-2347"/>
         </scene>
         <!--_1.1 Verification Screen-->
         <scene sceneID="44F-BV-mQs">
@@ -923,26 +1117,22 @@
                         <viewControllerLayoutGuide type="bottom" id="MHI-1c-yZH"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="Zgb-Uj-73M" userLabel="_1.1 Verification Screen">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="lIs-Ck-sAt" userLabel="_1.1a Validation Screen Title">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="245"/>
                                 <subviews>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="top" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Verification" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="e8Y-At-xEK">
-                                        <rect key="frame" x="1" y="191" width="320" height="29"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="29" id="Mem-ez-9kw"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="20"/>
-                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
-                                    <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" image="logoSignal" translatesAutoresizingMaskIntoConstraints="NO" id="gVg-vn-tFu">
-                                        <rect key="frame" x="92" y="44" width="138" height="139"/>
-                                    </imageView>
+                                    <imageView opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" image="logoSignal" translatesAutoresizingMaskIntoConstraints="NO" id="gVg-vn-tFu"/>
                                 </subviews>
-                                <color key="backgroundColor" red="0.12549019610000001" green="0.56470588239999997" blue="0.91764705879999997" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                <color key="backgroundColor" red="0.11356575042009354" green="0.47873002290725708" blue="0.89595204591751099" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="height" constant="245" id="5bj-kr-L4s" userLabel="Height - (245) - _1.1 Registration Screen Title"/>
                                     <constraint firstAttribute="centerX" secondItem="gVg-vn-tFu" secondAttribute="centerX" constant="-1" id="BYD-AS-JGx"/>
@@ -953,10 +1143,8 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="XXt-2F-6KC" userLabel="_1.1b Verification Code Input">
-                                <rect key="frame" x="0.0" y="290" width="320" height="32"/>
                                 <subviews>
                                     <textField opaque="NO" clipsSubviews="YES" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" placeholder="Verification Code" textAlignment="center" minimumFontSize="17" translatesAutoresizingMaskIntoConstraints="NO" id="yK6-ad-ihc">
-                                        <rect key="frame" x="-40" y="0.0" width="401" height="32"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="401" id="aPy-KQ-lfQ"/>
                                         </constraints>
@@ -964,14 +1152,13 @@
                                         <textInputTraits key="textInputTraits" keyboardType="numberPad" keyboardAppearance="alert"/>
                                     </textField>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="260-Dq-fnd">
-                                        <rect key="frame" x="36" y="26" width="248" height="1"/>
-                                        <color key="backgroundColor" red="0.80000000000000004" green="0.80000000000000004" blue="0.80000000000000004" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.75559091567993164" green="0.75556838512420654" blue="0.75558114051818848" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="1" id="OPE-jg-ZYz"/>
                                         </constraints>
                                     </view>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="trailing" secondItem="260-Dq-fnd" secondAttribute="trailing" constant="36" id="0sO-fC-DMj"/>
                                     <constraint firstAttribute="centerX" secondItem="yK6-ad-ihc" secondAttribute="centerX" constant="-0.5" id="3S2-pc-LF2"/>
@@ -984,32 +1171,29 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="95o-ce-XGu" userLabel="_1.1c Verification Verify Code Button">
-                                <rect key="frame" x="0.0" y="330" width="320" height="47"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="5Nx-nz-ht7">
-                                        <rect key="frame" x="36" y="0.0" width="248" height="47"/>
-                                        <color key="backgroundColor" red="0.067691504959999996" green="0.55628502369999999" blue="0.92999207969999997" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="47" id="ote-hy-MTP"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="14"/>
                                         <state key="normal" title="Submit Verification Code">
-                                            <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="verifyChallengeAction:" destination="3Uo-Ow-qOD" eventType="touchUpInside" id="xhB-mH-aQJ"/>
                                         </connections>
                                     </button>
                                     <activityIndicatorView hidden="YES" opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="750" verticalHuggingPriority="750" hidesWhenStopped="YES" style="white" translatesAutoresizingMaskIntoConstraints="NO" id="vmS-8s-cvA">
-                                        <rect key="frame" x="249" y="14" width="20" height="20"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="20" id="IkO-na-VRc"/>
                                             <constraint firstAttribute="height" constant="20" id="rNO-wM-YcD"/>
                                         </constraints>
                                     </activityIndicatorView>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstItem="5Nx-nz-ht7" firstAttribute="leading" secondItem="95o-ce-XGu" secondAttribute="leading" constant="36" id="1C6-X7-eAN"/>
                                     <constraint firstItem="vmS-8s-cvA" firstAttribute="trailing" secondItem="5Nx-nz-ht7" secondAttribute="trailing" constant="-15" id="NKV-4w-3iV"/>
@@ -1020,31 +1204,28 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="UWb-Di-S2f" userLabel="_1.1d Verification Send Again Button">
-                                <rect key="frame" x="0.0" y="380" width="320" height="47"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="9dl-sl-tZN">
-                                        <rect key="frame" x="36" y="0.0" width="248" height="47"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="47" id="giC-el-dFa"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" weight="medium" pointSize="14"/>
                                         <state key="normal" title="Request Code Again">
-                                            <color key="titleColor" red="0.066666666666666666" green="0.55686274509803924" blue="0.92941176470588238" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="0.081759713590145111" green="0.46913978457450867" blue="0.91040575504302979" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="sendCodeSMSAction:" destination="3Uo-Ow-qOD" eventType="touchUpInside" id="a2S-fL-uqx"/>
                                         </connections>
                                     </button>
                                     <activityIndicatorView hidden="YES" opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="750" verticalHuggingPriority="750" hidesWhenStopped="YES" style="gray" translatesAutoresizingMaskIntoConstraints="NO" id="utk-2S-Qc7">
-                                        <rect key="frame" x="250" y="14" width="20" height="20"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="20" id="nY2-Ab-Abc"/>
                                             <constraint firstAttribute="width" constant="20" id="w86-JO-TiH"/>
                                         </constraints>
                                     </activityIndicatorView>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstItem="utk-2S-Qc7" firstAttribute="top" secondItem="UWb-Di-S2f" secondAttribute="top" constant="14" id="FZK-Y5-nhN"/>
                                     <constraint firstItem="utk-2S-Qc7" firstAttribute="trailing" secondItem="9dl-sl-tZN" secondAttribute="trailing" constant="-14" id="Fcp-qj-flP"/>
@@ -1055,28 +1236,24 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="J5A-hy-9hb" userLabel="_1.1f Verification Change Number">
-                                <rect key="frame" x="-1" y="511" width="320" height="57"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="IVn-LE-fmp">
-                                        <rect key="frame" x="0.0" y="3" width="328" height="56"/>
-                                        <color key="backgroundColor" red="0.90186256170272827" green="0.90201729536056519" blue="0.90185278654098511" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.87794482707977295" green="0.87811338901519775" blue="0.87791669368743896" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="56" id="qQe-8g-3LR"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="16"/>
                                         <state key="normal" title="     Change Number">
-                                            <color key="titleColor" white="0.66666666666666663" alpha="1" colorSpace="calibratedWhite"/>
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <segue destination="ZUP-dD-a8s" kind="unwind" unwindAction="unwindToChangeNumber:" id="4Dh-Ef-EAM"/>
                                         </connections>
                                     </button>
-                                    <imageView userInteractionEnabled="NO" contentMode="center" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="_arrow_button" translatesAutoresizingMaskIntoConstraints="NO" id="rj8-Z7-7mp">
-                                        <rect key="frame" x="8" y="17" width="12" height="23"/>
-                                    </imageView>
+                                    <imageView userInteractionEnabled="NO" contentMode="center" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="_arrow_button" translatesAutoresizingMaskIntoConstraints="NO" id="rj8-Z7-7mp"/>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstItem="IVn-LE-fmp" firstAttribute="width" secondItem="J5A-hy-9hb" secondAttribute="width" constant="8" id="8Dw-FS-ZwO"/>
                                     <constraint firstAttribute="centerY" secondItem="rj8-Z7-7mp" secondAttribute="centerY" id="9Q9-I2-jzZ"/>
@@ -1088,41 +1265,37 @@
                                 </constraints>
                             </view>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="65n-ug-kaa" userLabel="_1.1e Verification Call Me Button">
-                                <rect key="frame" x="0.0" y="456" width="320" height="57"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="2I5-tm-rMi">
-                                        <rect key="frame" x="0.0" y="0.0" width="320" height="57"/>
-                                        <color key="backgroundColor" red="0.70980392156862748" green="0.80392156862745101" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="backgroundColor" red="0.65349096059799194" green="0.75299829244613647" blue="0.99915063381195068" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="57" id="3CX-0k-nDf"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="16"/>
                                         <inset key="contentEdgeInsets" minX="0.0" minY="1" maxX="0.0" maxY="0.0"/>
                                         <state key="normal" title="     Call Me Instead">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="sendCodeVoiceAction:" destination="3Uo-Ow-qOD" eventType="touchUpInside" id="YWt-aa-RUW"/>
                                         </connections>
                                     </button>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="(555) 555-5555" textAlignment="right" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="wYz-da-3ZB">
-                                        <rect key="frame" x="129" y="18" width="164" height="21"/>
                                         <constraints>
                                             <constraint firstAttribute="width" constant="164" id="ElJ-Jb-M1R"/>
                                         </constraints>
                                         <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                        <color key="textColor" red="0.30192413926124573" green="0.30198189616203308" blue="0.30192050337791443" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                        <color key="textColor" red="0.23574128746986389" green="0.2357865571975708" blue="0.23573371767997742" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                     <activityIndicatorView hidden="YES" opaque="NO" contentMode="scaleToFill" horizontalHuggingPriority="750" verticalHuggingPriority="750" hidesWhenStopped="YES" style="gray" translatesAutoresizingMaskIntoConstraints="NO" id="lFE-KR-9iN">
-                                        <rect key="frame" x="149" y="19" width="20" height="20"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="20" id="S5y-W0-fAs"/>
                                             <constraint firstAttribute="width" constant="20" id="rFK-EJ-Xgu"/>
                                         </constraints>
                                     </activityIndicatorView>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="centerY" secondItem="wYz-da-3ZB" secondAttribute="centerY" id="21A-bh-r9x"/>
                                     <constraint firstItem="lFE-KR-9iN" firstAttribute="leading" secondItem="2I5-tm-rMi" secondAttribute="leading" constant="149" id="K86-nl-kJL"/>
@@ -1135,7 +1308,7 @@
                                 </constraints>
                             </view>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="XXt-2F-6KC" firstAttribute="leading" secondItem="Zgb-Uj-73M" secondAttribute="leadingMargin" constant="-16" id="186-I2-PpT"/>
                             <constraint firstAttribute="trailingMargin" secondItem="95o-ce-XGu" secondAttribute="trailing" constant="-16" id="1PA-ZM-HLt"/>
@@ -1187,7 +1360,7 @@
                     <navigationBar key="navigationBar" contentMode="scaleToFill" id="VNq-cN-pk9">
                         <rect key="frame" x="0.0" y="0.0" width="320" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
-                        <color key="barTintColor" red="0.067691504955291748" green="0.55628502368927002" blue="0.92999207973480225" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <color key="barTintColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </navigationBar>
                     <nil name="viewControllers"/>
                     <connections>
@@ -1202,34 +1375,31 @@
         <scene sceneID="R59-ey-Ucx">
             <objects>
                 <tableViewController id="euf-gj-Iag" customClass="OWSLinkedDevicesTableViewController" sceneMemberID="viewController">
-                    <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="grouped" separatorStyle="default" rowHeight="44" sectionHeaderHeight="18" sectionFooterHeight="18" id="zqK-o2-Psk">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                    <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="grouped" separatorStyle="default" allowsSelectionDuringEditing="YES" rowHeight="44" sectionHeaderHeight="18" sectionFooterHeight="18" id="zqK-o2-Psk">
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" red="0.93725490199999995" green="0.93725490199999995" blue="0.95686274510000002" alpha="1" colorSpace="calibratedRGB"/>
+                        <color key="backgroundColor" red="0.93725490199999995" green="0.93725490199999995" blue="0.95686274510000002" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <prototypes>
                             <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="none" indentationWidth="10" reuseIdentifier="ExistingDevice" rowHeight="72" id="XjV-oU-jSb" customClass="OWSDeviceTableViewCell">
-                                <rect key="frame" x="0.0" y="114" width="320" height="72"/>
+                                <rect key="frame" x="0.0" y="120" width="375" height="72"/>
                                 <autoresizingMask key="autoresizingMask"/>
                                 <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="XjV-oU-jSb" id="XqL-QG-IbY">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="71"/>
+                                    <frame key="frameInset" width="375" height="72"/>
                                     <autoresizingMask key="autoresizingMask"/>
                                     <subviews>
                                         <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Signal on Chrome" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="57o-uV-YOg">
-                                            <rect key="frame" x="17" y="8" width="129" height="20"/>
                                             <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
-                                        <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" misplaced="YES" text="Linked: Jun 12, 2016" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="uL2-wj-OZr">
-                                            <rect key="frame" x="17" y="28" width="116" height="17"/>
+                                        <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Linked: Jun 12, 2016" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="uL2-wj-OZr">
                                             <fontDescription key="fontDescription" style="UICTFontTextStyleFootnote"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
-                                        <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" misplaced="YES" text="Last Seen: Aug 25, 2016" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="Kek-MK-oLy">
-                                            <rect key="frame" x="17" y="45" width="138" height="18"/>
+                                        <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Last Seen: Aug 25, 2016" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="Kek-MK-oLy">
                                             <fontDescription key="fontDescription" style="UICTFontTextStyleFootnote"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                     </subviews>
@@ -1252,24 +1422,24 @@
                                 </connections>
                             </tableViewCell>
                             <tableViewCell clipsSubviews="YES" contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" reuseIdentifier="AddNewDevice" textLabel="w80-IJ-E6R" detailTextLabel="8ft-2u-wBF" style="IBUITableViewCellStyleSubtitle" id="6h2-gg-1C6">
-                                <rect key="frame" x="0.0" y="186" width="320" height="44"/>
+                                <rect key="frame" x="0.0" y="192" width="375" height="44"/>
                                 <autoresizingMask key="autoresizingMask"/>
                                 <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="6h2-gg-1C6" id="RKi-c6-pzb">
-                                    <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                    <frame key="frameInset" width="342" height="44"/>
                                     <autoresizingMask key="autoresizingMask"/>
                                     <subviews>
                                         <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Link New Device" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="w80-IJ-E6R">
-                                            <rect key="frame" x="15" y="4" width="121" height="20"/>
+                                            <frame key="frameInset" minX="15" minY="4" width="127" height="20.5"/>
                                             <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                             <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                         <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Scan QR Code" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="8ft-2u-wBF">
-                                            <rect key="frame" x="15" y="24" width="82" height="15"/>
+                                            <frame key="frameInset" minX="15" minY="24.5" width="88" height="16"/>
                                             <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                             <fontDescription key="fontDescription" style="UICTFontTextStyleFootnote"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                     </subviews>
@@ -1295,35 +1465,33 @@
             <objects>
                 <tableViewController storyboardIdentifier="SettingsTableViewController" id="n1f-7Y-906" userLabel="_7.0 - Settings" customClass="SettingsTableViewController" sceneMemberID="viewController">
                     <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="static" style="plain" separatorStyle="default" rowHeight="44" sectionHeaderHeight="22" sectionFooterHeight="22" id="FhQ-dM-1mj">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" red="0.93725490196078431" green="0.93725490196078431" blue="0.95686274509803926" alpha="1" colorSpace="calibratedRGB"/>
+                        <color key="backgroundColor" red="0.93725490196078431" green="0.93725490196078431" blue="0.95686274509803926" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <sections>
                             <tableViewSection id="2XP-ps-mfi">
                                 <cells>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="none" indentationWidth="10" rowHeight="118" id="5zF-Ko-9qU">
-                                        <rect key="frame" x="0.0" y="64" width="320" height="118"/>
+                                        <rect key="frame" x="0.0" y="64" width="375" height="118"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="5zF-Ko-9qU" id="gr7-Sm-bcs">
-                                            <rect key="frame" x="0.0" y="0.0" width="320" height="117"/>
+                                            <frame key="frameInset" width="375" height="118"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="1 (708) 000-1234" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="ipE-BI-sLL">
-                                                    <rect key="frame" x="0.0" y="58" width="320" height="21"/>
                                                     <constraints>
                                                         <constraint firstAttribute="height" constant="21" id="hnY-fM-R9C"/>
                                                     </constraints>
                                                     <fontDescription key="fontDescription" type="system" weight="medium" pointSize="15"/>
-                                                    <color key="textColor" red="0.72933125495910645" green="0.72945815324783325" blue="0.72932326793670654" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                                    <color key="textColor" red="0.67349421977996826" green="0.67362350225448608" blue="0.67347252368927002" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Tyler Reinhard" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="3Pu-Cs-0K2">
-                                                    <rect key="frame" x="0.0" y="28" width="320" height="30"/>
                                                     <constraints>
                                                         <constraint firstAttribute="height" constant="30" id="MJo-RF-hP8"/>
                                                     </constraints>
                                                     <fontDescription key="fontDescription" type="system" weight="semibold" pointSize="22"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
@@ -1343,30 +1511,28 @@
                             <tableViewSection id="Ga1-YS-vMz">
                                 <cells>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" id="8rk-06-1ZS" userLabel="Network Status Cell">
-                                        <rect key="frame" x="0.0" y="182" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="182" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="8rk-06-1ZS" id="hqv-P5-du9">
-                                            <rect key="frame" x="0.0" y="0.0" width="320" height="43"/>
+                                            <frame key="frameInset" width="375" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Network Status" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="uNq-FV-lwt">
-                                                    <rect key="frame" x="15" y="0.0" width="200" height="44"/>
                                                     <constraints>
                                                         <constraint firstAttribute="height" constant="44" id="nOw-0c-lAd"/>
                                                         <constraint firstAttribute="width" constant="200" id="q6L-Sa-lrA"/>
                                                     </constraints>
                                                     <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Connected" textAlignment="right" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsLetterSpacingToFitWidth="YES" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="tg3-dQ-odw">
-                                                    <rect key="frame" x="205" y="-1" width="100" height="45"/>
                                                     <constraints>
                                                         <constraint firstAttribute="width" constant="100" id="Lw2-Fv-sOC"/>
                                                         <constraint firstAttribute="height" constant="44" id="uvH-QZ-iUw"/>
                                                     </constraints>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleCallout"/>
-                                                    <color key="textColor" red="0.5725490196078431" green="1" blue="0.54117647058823526" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                                    <color key="textColor" red="0.51886790990829468" green="1" blue="0.46843132376670837" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
@@ -1383,51 +1549,51 @@
                             <tableViewSection id="JqD-8c-dMF">
                                 <cells>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="i1f-DT-7rL" style="IBUITableViewCellStyleDefault" id="ITG-sW-Zn0" userLabel="Privacy Cell">
-                                        <rect key="frame" x="0.0" y="226" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="226" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="ITG-sW-Zn0" id="vOb-SA-SH2">
-                                            <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                            <frame key="frameInset" width="342" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Privacy" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="i1f-DT-7rL">
-                                                    <rect key="frame" x="15" y="0.0" width="270" height="43"/>
+                                                    <frame key="frameInset" minX="15" width="325" height="43.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
                                         </tableViewCellContentView>
                                     </tableViewCell>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="tRQ-1p-6aT" style="IBUITableViewCellStyleDefault" id="jp5-vZ-AhJ" userLabel="Notifications Cell">
-                                        <rect key="frame" x="0.0" y="270" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="270" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="jp5-vZ-AhJ" id="sji-CJ-bhq">
-                                            <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                            <frame key="frameInset" width="342" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Notifications" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="tRQ-1p-6aT">
-                                                    <rect key="frame" x="15" y="0.0" width="270" height="43"/>
+                                                    <frame key="frameInset" minX="15" width="325" height="43.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
                                         </tableViewCellContentView>
                                     </tableViewCell>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="hrc-lZ-NeA" style="IBUITableViewCellStyleDefault" id="wZ8-fs-Ylw" userLabel="Linked Devices Cell">
-                                        <rect key="frame" x="0.0" y="314" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="314" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="wZ8-fs-Ylw" id="Ua5-nw-s2z">
-                                            <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                            <frame key="frameInset" width="342" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Linked Devices" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="hrc-lZ-NeA">
-                                                    <rect key="frame" x="15" y="0.0" width="270" height="43"/>
+                                                    <frame key="frameInset" minX="15" width="325" height="43.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
@@ -1437,34 +1603,34 @@
                                         </connections>
                                     </tableViewCell>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="dkL-Nz-E6H" style="IBUITableViewCellStyleDefault" id="Xx7-pz-aLN" userLabel="Advanced Cell">
-                                        <rect key="frame" x="0.0" y="358" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="358" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="Xx7-pz-aLN" id="pMA-vR-8Ae">
-                                            <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                            <frame key="frameInset" width="342" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Advanced" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="dkL-Nz-E6H">
-                                                    <rect key="frame" x="15" y="0.0" width="270" height="43"/>
+                                                    <frame key="frameInset" minX="15" width="325" height="43.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
                                         </tableViewCellContentView>
                                     </tableViewCell>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="default" accessoryType="disclosureIndicator" indentationWidth="10" textLabel="qeN-f1-cIQ" style="IBUITableViewCellStyleDefault" id="EI4-kQ-MMA" userLabel="About Cell">
-                                        <rect key="frame" x="0.0" y="402" width="320" height="44"/>
+                                        <rect key="frame" x="0.0" y="402" width="375" height="44"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="EI4-kQ-MMA" id="czg-5p-aVz">
-                                            <rect key="frame" x="0.0" y="0.0" width="287" height="43"/>
+                                            <frame key="frameInset" width="342" height="44"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="About" textAlignment="natural" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="qeN-f1-cIQ">
-                                                    <rect key="frame" x="15" y="0.0" width="270" height="43"/>
+                                                    <frame key="frameInset" minX="15" width="325" height="43.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
@@ -1475,21 +1641,20 @@
                             <tableViewSection id="FdD-MV-PUQ">
                                 <cells>
                                     <tableViewCell autoresizesSubviews="NO" contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" rowHeight="100" id="R82-FT-SEA" userLabel="Destroy Account Cell">
-                                        <rect key="frame" x="0.0" y="446" width="320" height="100"/>
+                                        <rect key="frame" x="0.0" y="446" width="375" height="100"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="R82-FT-SEA" id="Ok9-fE-WhB">
-                                            <rect key="frame" x="0.0" y="0.0" width="320" height="99"/>
+                                            <frame key="frameInset" width="375" height="100"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" buttonType="roundedRect" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="4Mk-ly-6fq">
-                                                    <rect key="frame" x="15" y="25" width="285" height="50"/>
-                                                    <color key="backgroundColor" red="1" green="0.2196078431372549" blue="0.40392156862745099" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                                    <color key="backgroundColor" red="0.98639106750488281" green="0.10408364236354828" blue="0.33135244250297546" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <constraints>
                                                         <constraint firstAttribute="height" constant="50" id="Pwj-l2-Tav"/>
                                                     </constraints>
                                                     <fontDescription key="fontDescription" type="boldSystem" pointSize="17"/>
                                                     <state key="normal" title="Destroy Account">
-                                                        <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="calibratedRGB"/>
+                                                        <color key="titleColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     </state>
                                                     <connections>
                                                         <action selector="unregisterUser:" destination="n1f-7Y-906" eventType="touchUpInside" id="GA2-Ke-con"/>
@@ -1515,7 +1680,7 @@
                     <navigationItem key="navigationItem" title="Settings" id="Yrv-vP-ZVP" userLabel="_7.0a - Navigation Bar">
                         <barButtonItem key="leftBarButtonItem" style="done" systemItem="done" id="B0V-Wf-lqd">
                             <inset key="imageInsets" minX="-10" minY="0.0" maxX="0.0" maxY="0.0"/>
-                            <color key="tintColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                            <color key="tintColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                             <connections>
                                 <segue destination="0Ge-H7-b9J" kind="unwind" unwindAction="unwindSettingsDone:" id="ud5-xW-wwg"/>
                             </connections>
@@ -1549,38 +1714,33 @@
                         <viewControllerLayoutGuide type="bottom" id="nre-8Q-MvI"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="XYT-jy-1yR">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="568"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="6B0-ZZ-d6K" userLabel="Instructions">
-                                <rect key="frame" x="16" y="294" width="288" height="230"/>
                                 <subviews>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="Oqf-fj-8Va" userLabel="Spacer">
-                                        <rect key="frame" x="0.0" y="0.0" width="288" height="49"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="height" relation="greaterThanOrEqual" constant="16" id="Xq5-fV-fUr"/>
                                         </constraints>
                                     </view>
                                     <imageView userInteractionEnabled="NO" contentMode="scaleAspectFit" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="ic_devices_ios" translatesAutoresizingMaskIntoConstraints="NO" id="zl7-KG-ma4">
-                                        <rect key="frame" x="72" y="49" width="144" height="96"/>
-                                        <color key="tintColor" red="0.67450980392156867" green="0.67450980392156867" blue="0.67450980392156867" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="tintColor" red="0.67450980392156867" green="0.67450980392156867" blue="0.67450980392156867" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <constraints>
                                             <constraint firstAttribute="width" secondItem="zl7-KG-ma4" secondAttribute="height" multiplier="3:2" id="RKt-hc-iWB"/>
                                         </constraints>
                                     </imageView>
                                     <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="GMf-cM-kQN" userLabel="Spacer">
-                                        <rect key="frame" x="0.0" y="181" width="288" height="49"/>
-                                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                     </view>
                                     <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Scan the QR code displayed on the device to link." textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" translatesAutoresizingMaskIntoConstraints="NO" id="3D8-yn-TJ8">
-                                        <rect key="frame" x="0.0" y="161" width="288" height="20"/>
                                         <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
-                                        <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                        <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         <nil key="highlightedColor"/>
                                     </label>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstItem="GMf-cM-kQN" firstAttribute="top" secondItem="3D8-yn-TJ8" secondAttribute="bottom" id="1Aa-eC-Btt"/>
                                     <constraint firstAttribute="trailing" secondItem="3D8-yn-TJ8" secondAttribute="trailing" id="3nn-2q-410"/>
@@ -1600,14 +1760,13 @@
                                 </constraints>
                             </view>
                             <containerView opaque="NO" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="eF5-us-VJe">
-                                <rect key="frame" x="0.0" y="64" width="320" height="230"/>
-                                <color key="backgroundColor" white="0.66666666666666663" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <connections>
                                     <segue destination="xDh-Mk-Yo9" kind="embed" identifier="embedDeviceQRScanner" id="mve-0t-D0g"/>
                                 </connections>
                             </containerView>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="eF5-us-VJe" firstAttribute="leading" secondItem="XYT-jy-1yR" secondAttribute="leading" id="Dhy-We-RwI"/>
                             <constraint firstItem="6B0-ZZ-d6K" firstAttribute="leading" secondItem="XYT-jy-1yR" secondAttribute="leadingMargin" id="EUH-nz-kiP"/>
@@ -1638,7 +1797,7 @@
                     <navigationBar key="navigationBar" contentMode="scaleToFill" translucent="NO" id="gzw-fh-en2">
                         <rect key="frame" x="0.0" y="0.0" width="320" height="44"/>
                         <autoresizingMask key="autoresizingMask"/>
-                        <color key="barTintColor" red="0.067691504955291748" green="0.55628502368927002" blue="0.92999207973480225" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <color key="barTintColor" red="0.082137122750282288" green="0.46843802928924561" blue="0.91112053394317627" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </navigationBar>
                     <nil name="viewControllers"/>
                     <connections>
@@ -1647,28 +1806,27 @@
                 </navigationController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="b1E-7L-eKw" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
-            <point key="canvasLocation" x="-2848.8000000000002" y="-732.72000000000003"/>
+            <point key="canvasLocation" x="-2836" y="-234"/>
         </scene>
         <!--New Message-->
         <scene sceneID="qez-9r-EDt">
             <objects>
                 <tableViewController storyboardIdentifier="MessageComposeTableViewController" modalTransitionStyle="crossDissolve" id="Qga-41-bw2" customClass="MessageComposeTableViewController" sceneMemberID="viewController">
                     <tableView key="view" clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" showsHorizontalScrollIndicator="NO" showsVerticalScrollIndicator="NO" dataMode="prototypes" style="plain" separatorStyle="default" rowHeight="44" sectionHeaderHeight="22" sectionFooterHeight="22" id="X9S-Pa-EbX">
-                        <rect key="frame" x="0.0" y="64" width="320" height="504"/>
+                        <rect key="frame" x="0.0" y="64" width="375" height="603"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <prototypes>
                             <tableViewCell contentMode="scaleToFill" selectionStyle="default" indentationWidth="10" reuseIdentifier="ContactTableViewCell" rowHeight="48" id="Ld5-sX-pB8" customClass="ContactTableViewCell">
-                                <rect key="frame" x="0.0" y="22" width="320" height="48"/>
+                                <rect key="frame" x="0.0" y="22" width="375" height="48"/>
                                 <autoresizingMask key="autoresizingMask"/>
                                 <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="Ld5-sX-pB8" id="EqP-87-4hZ">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="47"/>
+                                    <frame key="frameInset" width="375" height="48"/>
                                     <autoresizingMask key="autoresizingMask"/>
                                     <subviews>
                                         <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Label" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="urb-Me-knG">
-                                            <rect key="frame" x="20" y="4" width="220" height="39"/>
                                             <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                            <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                     </subviews>
@@ -1693,14 +1851,14 @@
                         <barButtonItem key="backBarButtonItem" title=" " id="rvF-0w-DNd"/>
                         <barButtonItem key="leftBarButtonItem" image="btnCancel--white" id="bP2-Tc-byJ">
                             <inset key="imageInsets" minX="-10" minY="0.0" maxX="0.0" maxY="0.0"/>
-                            <color key="tintColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                            <color key="tintColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                             <connections>
                                 <action selector="closeAction:" destination="Qga-41-bw2" id="i8h-aS-Y3o"/>
                             </connections>
                         </barButtonItem>
                         <barButtonItem key="rightBarButtonItem" image="btnGroup--white" id="Xmt-s8-mRN">
                             <inset key="imageInsets" minX="-10" minY="0.0" maxX="10" maxY="0.0"/>
-                            <color key="tintColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                            <color key="tintColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                             <connections>
                                 <segue destination="bDi-2Q-XOC" kind="push" id="D0d-4f-lcI"/>
                             </connections>
@@ -1710,7 +1868,7 @@
                 <placeholder placeholderIdentifier="IBFirstResponder" id="fUD-iU-Cax" userLabel="First Responder" sceneMemberID="firstResponder"/>
                 <searchDisplayController id="f1M-Dk-nMv"/>
             </objects>
-            <point key="canvasLocation" x="-2380" y="-732.72000000000003"/>
+            <point key="canvasLocation" x="-2357" y="-235"/>
         </scene>
         <!--New Group View Controller-->
         <scene sceneID="mdV-ti-fPA">
@@ -1721,27 +1879,24 @@
                         <viewControllerLayoutGuide type="bottom" id="kH6-9L-pzh"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="P0X-AM-Yjw">
-                        <rect key="frame" x="0.0" y="64" width="320" height="504"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="667"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
                         <subviews>
                             <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="Ukg-om-VX3" userLabel="Group Details">
-                                <rect key="frame" x="0.0" y="0.0" width="320" height="100"/>
                                 <subviews>
                                     <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Ul8-NY-i4c">
-                                        <rect key="frame" x="8" y="20" width="60" height="60"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="60" id="Fkg-iq-6Ap"/>
                                             <constraint firstAttribute="width" constant="60" id="l0W-ug-b1c"/>
                                         </constraints>
                                         <state key="normal" image="empty-group-avatar">
-                                            <color key="titleShadowColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="titleShadowColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                         </state>
                                         <connections>
                                             <action selector="addGroupPhoto:" destination="bDi-2Q-XOC" eventType="touchUpInside" id="S3n-hS-Ac6"/>
                                         </connections>
                                     </button>
                                     <textField opaque="NO" clipsSubviews="YES" contentMode="scaleToFill" contentHorizontalAlignment="left" contentVerticalAlignment="center" placeholder="Name this group chat" minimumFontSize="17" translatesAutoresizingMaskIntoConstraints="NO" id="gbm-B5-gCc">
-                                        <rect key="frame" x="86" y="35" width="221" height="30"/>
                                         <constraints>
                                             <constraint firstAttribute="height" constant="30" id="bKM-dc-IsP"/>
                                         </constraints>
@@ -1749,7 +1904,7 @@
                                         <textInputTraits key="textInputTraits" autocapitalizationType="sentences" returnKeyType="done" enablesReturnKeyAutomatically="YES"/>
                                     </textField>
                                 </subviews>
-                                <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <constraints>
                                     <constraint firstAttribute="trailing" secondItem="gbm-B5-gCc" secondAttribute="trailing" constant="13" id="1Pn-JF-Njp"/>
                                     <constraint firstItem="gbm-B5-gCc" firstAttribute="top" secondItem="Ukg-om-VX3" secondAttribute="top" constant="35" id="3Zi-yw-cGM"/>
@@ -1760,39 +1915,37 @@
                                 </constraints>
                             </view>
                             <tableView clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" dataMode="prototypes" style="plain" separatorStyle="default" allowsMultipleSelection="YES" rowHeight="44" sectionHeaderHeight="22" sectionFooterHeight="22" translatesAutoresizingMaskIntoConstraints="NO" id="cFo-AT-Srf">
-                                <rect key="frame" x="0.0" y="108" width="320" height="396"/>
-                                <color key="backgroundColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="calibratedRGB"/>
+                                <color key="backgroundColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <view key="tableHeaderView" contentMode="scaleToFill" id="ekO-kw-iHV" userLabel="Header View">
-                                    <rect key="frame" x="0.0" y="0.0" width="320" height="40"/>
+                                    <rect key="frame" x="0.0" y="0.0" width="375" height="40"/>
                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                     <subviews>
-                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Add people:" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumFontSize="9" translatesAutoresizingMaskIntoConstraints="NO" id="daD-wf-IGn">
-                                            <rect key="frame" x="10" y="10" width="99" height="21"/>
+                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Add people" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" minimumFontSize="9" translatesAutoresizingMaskIntoConstraints="NO" id="daD-wf-IGn">
                                             <fontDescription key="fontDescription" type="boldSystem" pointSize="17"/>
-                                            <color key="textColor" white="0.5" alpha="1" colorSpace="calibratedWhite"/>
+                                            <color key="textColor" red="0.5" green="0.5" blue="0.5" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                             <nil key="highlightedColor"/>
                                         </label>
                                     </subviews>
-                                    <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                                    <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                     <constraints>
                                         <constraint firstItem="daD-wf-IGn" firstAttribute="leading" secondItem="ekO-kw-iHV" secondAttribute="leading" constant="10" id="00e-AP-Ygd"/>
-                                        <constraint firstAttribute="trailing" relation="greaterThanOrEqual" secondItem="daD-wf-IGn" secondAttribute="trailing" constant="10" id="Gtz-Dx-9U1"/>
+                                        <constraint firstAttribute="trailing" secondItem="daD-wf-IGn" secondAttribute="trailing" constant="10" id="Gtz-Dx-9U1"/>
                                         <constraint firstAttribute="centerY" secondItem="daD-wf-IGn" secondAttribute="centerY" id="biL-jB-cMW"/>
                                     </constraints>
                                 </view>
                                 <prototypes>
                                     <tableViewCell contentMode="scaleToFill" selectionStyle="gray" hidesAccessoryWhenEditing="NO" indentationLevel="1" indentationWidth="0.0" reuseIdentifier="GroupSearchCell" textLabel="a4j-OQ-ala" rowHeight="60" style="IBUITableViewCellStyleDefault" id="yfF-Jl-bZ1">
-                                        <rect key="frame" x="0.0" y="62" width="320" height="60"/>
+                                        <rect key="frame" x="0.0" y="62" width="375" height="60"/>
                                         <autoresizingMask key="autoresizingMask"/>
                                         <tableViewCellContentView key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" tableViewCell="yfF-Jl-bZ1" id="f0v-od-N9K">
-                                            <rect key="frame" x="0.0" y="0.0" width="320" height="59"/>
+                                            <frame key="frameInset" width="375" height="60"/>
                                             <autoresizingMask key="autoresizingMask"/>
                                             <subviews>
                                                 <label opaque="NO" multipleTouchEnabled="YES" contentMode="left" text="Title" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" id="a4j-OQ-ala">
-                                                    <rect key="frame" x="15" y="0.0" width="290" height="59"/>
+                                                    <frame key="frameInset" minX="15" width="345" height="59.5"/>
                                                     <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                                                     <fontDescription key="fontDescription" type="system" weight="medium" pointSize="20"/>
-                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                                    <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                                     <nil key="highlightedColor"/>
                                                 </label>
                                             </subviews>
@@ -1805,7 +1958,7 @@
                                 </connections>
                             </tableView>
                         </subviews>
-                        <color key="backgroundColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="calibratedRGB"/>
+                        <color key="backgroundColor" red="0.94901960780000005" green="0.94901960780000005" blue="0.94901960780000005" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="cFo-AT-Srf" firstAttribute="centerX" secondItem="P0X-AM-Yjw" secondAttribute="centerX" id="EUd-V6-lGx"/>
                             <constraint firstItem="Ukg-om-VX3" firstAttribute="top" secondItem="iwX-I4-Aa3" secondAttribute="bottom" id="JAT-s5-mGe"/>
@@ -1833,7 +1986,7 @@
                 </navigationItem>
                 <exit id="JOx-5h-y9g" userLabel="Exit" sceneMemberID="exit"/>
             </objects>
-            <point key="canvasLocation" x="-1936" y="-733"/>
+            <point key="canvasLocation" x="-1816" y="-236"/>
         </scene>
         <!--Navigation Controller-->
         <scene sceneID="kfT-eG-hkf">
@@ -1846,6 +1999,7 @@
                     </navigationBar>
                     <nil name="viewControllers"/>
                     <toolbar key="toolbar" opaque="NO" clearsContextBeforeDrawing="NO" contentMode="scaleToFill" id="D2L-cq-DaY">
+                        <rect key="frame" x="0.0" y="0.0" width="1000" height="1000"/>
                         <autoresizingMask key="autoresizingMask"/>
                     </toolbar>
                     <connections>
@@ -1865,9 +2019,9 @@
                         <viewControllerLayoutGuide type="bottom" id="s4y-gf-WU5"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="aYO-nF-lxB">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="230"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="279.5"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="0.0" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </view>
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="sg5-uD-LVc" userLabel="First Responder" sceneMemberID="firstResponder"/>
@@ -1883,14 +2037,14 @@
                         <viewControllerLayoutGuide type="bottom" id="w3c-y6-c5W"/>
                     </layoutGuides>
                     <view key="view" contentMode="scaleToFill" id="Z7D-4g-GIf">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="218"/>
+                        <rect key="frame" x="0.0" y="0.0" width="375" height="269.5"/>
                         <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
-                        <color key="backgroundColor" white="0.0" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                     </view>
                 </viewController>
                 <placeholder placeholderIdentifier="IBFirstResponder" id="ExB-N2-kxx" userLabel="First Responder" sceneMemberID="firstResponder"/>
             </objects>
-            <point key="canvasLocation" x="-1516" y="-2450"/>
+            <point key="canvasLocation" x="-612" y="-2546"/>
         </scene>
     </scenes>
     <resources>
@@ -1905,15 +2059,24 @@
         <image name="empty-group-avatar" width="53" height="53"/>
         <image name="endcall.png" width="100" height="100"/>
         <image name="ic_devices_ios" width="180" height="119"/>
+        <image name="ic_lock_outline" width="32" height="32"/>
         <image name="logoSignal" width="138" height="139"/>
         <image name="mute-active" width="80" height="80"/>
         <image name="mute-inactive" width="80" height="80"/>
         <image name="settings" width="44" height="44"/>
         <image name="speaker-active" width="80" height="80"/>
         <image name="speaker-inactive" width="80" height="80"/>
+        <image name="table_ic_hourglass_empty" width="32" height="32"/>
+        <image name="table_ic_timer" width="32" height="32"/>
     </resources>
+    <simulatedMetricsContainer key="defaultSimulatedMetrics">
+        <simulatedStatusBarMetrics key="statusBar"/>
+        <simulatedOrientationMetrics key="orientation"/>
+        <simulatedScreenMetrics key="destination" type="retina4_7.fullscreen"/>
+    </simulatedMetricsContainer>
     <inferredMetricsTieBreakers>
-        <segue reference="D0d-4f-lcI"/>
         <segue reference="xo7-5J-BJb"/>
+        <segue reference="wgA-Oo-kKq"/>
+        <segue reference="E8S-Yc-X7E"/>
     </inferredMetricsTieBreakers>
 </document>
diff --git a/Signal/src/util/UIImage+normalizeImage.m b/Signal/src/util/UIImage+normalizeImage.m
index cfa31c0c4e7..6c80a48c26a 100644
--- a/Signal/src/util/UIImage+normalizeImage.m
+++ b/Signal/src/util/UIImage+normalizeImage.m
@@ -66,7 +66,7 @@ - (UIImage *)resizedImageToSize:(CGSize)dstSize {
 
         case UIImageOrientationDown: // EXIF = 3
             transform = CGAffineTransformMakeTranslation(srcSize.width, srcSize.height);
-            transform = CGAffineTransformRotate(transform, M_PI);
+            transform = CGAffineTransformRotate(transform, (CGFloat)M_PI);
             break;
 
         case UIImageOrientationDownMirrored: // EXIF = 4
@@ -78,25 +78,25 @@ - (UIImage *)resizedImageToSize:(CGSize)dstSize {
             dstSize   = CGSizeMake(dstSize.height, dstSize.width);
             transform = CGAffineTransformMakeTranslation(srcSize.height, srcSize.width);
             transform = CGAffineTransformScale(transform, -1.0, 1.0);
-            transform = CGAffineTransformRotate(transform, 3.0 * M_PI_2);
+            transform = CGAffineTransformRotate(transform, (CGFloat)(3.0f * M_PI_2));
             break;
 
         case UIImageOrientationLeft: // EXIF = 6
             dstSize   = CGSizeMake(dstSize.height, dstSize.width);
             transform = CGAffineTransformMakeTranslation(0.0, srcSize.width);
-            transform = CGAffineTransformRotate(transform, 3.0 * M_PI_2);
+            transform = CGAffineTransformRotate(transform, (CGFloat)(3.0 * M_PI_2));
             break;
 
         case UIImageOrientationRightMirrored: // EXIF = 7
             dstSize   = CGSizeMake(dstSize.height, dstSize.width);
             transform = CGAffineTransformMakeScale(-1.0, 1.0);
-            transform = CGAffineTransformRotate(transform, M_PI_2);
+            transform = CGAffineTransformRotate(transform, (CGFloat)M_PI_2);
             break;
 
         case UIImageOrientationRight: // EXIF = 8
             dstSize   = CGSizeMake(dstSize.height, dstSize.width);
             transform = CGAffineTransformMakeTranslation(srcSize.height, 0.0);
-            transform = CGAffineTransformRotate(transform, M_PI_2);
+            transform = CGAffineTransformRotate(transform, (CGFloat)M_PI_2);
             break;
 
         default:
@@ -166,10 +166,10 @@ - (UIImage *)resizedImageToFitInSize:(CGSize)boundingSize scaleIfSmaller:(BOOL)s
 
         if (wRatio < hRatio) {
             // NSLog(@"Width imposed, Height scaled ; ratio = %f",wRatio);
-            dstSize = CGSizeMake(boundingSize.width, floor(srcSize.height * wRatio));
+            dstSize = CGSizeMake(boundingSize.width, (CGFloat)floor(srcSize.height * wRatio));
         } else {
             // NSLog(@"Height imposed, Width scaled ; ratio = %f",hRatio);
-            dstSize = CGSizeMake(floor(srcSize.width * hRatio), boundingSize.height);
+            dstSize = CGSizeMake((CGFloat)floor(srcSize.width * hRatio), boundingSize.height);
         }
     }
 
diff --git a/Signal/src/view controllers/APNavigationController.h b/Signal/src/view controllers/APNavigationController.h
deleted file mode 100644
index 65878618040..00000000000
--- a/Signal/src/view controllers/APNavigationController.h	
+++ /dev/null
@@ -1,25 +0,0 @@
-//
-//  APNavigationController.h
-//  DropDownToolBar
-//
-//  Created by Ankur Patel on 2/24/14.
-//  Copyright (c) 2014 Encore Dev Labs LLC. All rights reserved.
-//
-
-#import <UIKit/UIKit.h>
-
-@interface APNavigationController : UINavigationController
-
-@property (nonatomic, strong)
-    UIToolbar *dropDownToolbar; // Reference to dynamically change items based on which bar button item is clicked
-@property (nonatomic, strong) NSString *activeNavigationBarTitle; // Navigation bar title when the toolbar is shown
-@property (nonatomic, strong) NSString *activeBarButtonTitle;     // UIBarButton title when toolbar is shown
-@property (nonatomic, assign) BOOL isDropDownVisible;
-
-- (void)setActiveBarButtonTitle:(NSString *)title;
-- (void)setActiveNavigationBarTitle:(NSString *)title;
-- (void)toggleDropDown:(id)sender;
-- (void)hideDropDown:(id)sender;
-- (void)showDropDown:(id)sender;
-
-@end
diff --git a/Signal/src/view controllers/APNavigationController.m b/Signal/src/view controllers/APNavigationController.m
deleted file mode 100644
index 50098158dc5..00000000000
--- a/Signal/src/view controllers/APNavigationController.m	
+++ /dev/null
@@ -1,99 +0,0 @@
-//
-//  APNavigationController.m
-//  DropDownToolBar
-//
-//  Created by Ankur Patel on 2/24/14.
-//  Copyright (c) 2014 Encore Dev Labs LLC. All rights reserved.
-//
-
-#import "APNavigationController.h"
-
-@interface APNavigationController ()
-
-@property (nonatomic, copy) NSString *originalNavigationBarTitle;
-@property (nonatomic, copy) NSString *originalBarButtonTitle;
-
-@end
-
-@implementation APNavigationController
-
-- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {
-    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
-    if (self) {
-        // Custom initialization
-    }
-    return self;
-}
-
-- (void)viewDidLoad {
-    [super viewDidLoad];
-    // Do any additional setup after loading the view.
-    self.dropDownToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 64)];
-    self.dropDownToolbar.autoresizingMask = UIViewAutoresizingFlexibleWidth;
-    self.dropDownToolbar.tintColor        = self.navigationBar.tintColor;
-    [self.navigationBar.superview insertSubview:self.dropDownToolbar belowSubview:self.navigationBar];
-    self.originalNavigationBarTitle = self.navigationBar.topItem.title;
-}
-
-- (void)toggleDropDown:(id)sender {
-    if (self.isDropDownVisible) {
-        [self hideDropDown:sender];
-    } else {
-        [self showDropDown:sender];
-    }
-}
-
-- (void)hideDropDown:(id)sender {
-    if (self.isDropDownVisible) {
-        __weak APNavigationController *weakSelf = self;
-        CGRect frame                            = self.dropDownToolbar.frame;
-        frame.origin.y                          = CGRectGetMaxY(self.navigationBar.frame);
-        self.dropDownToolbar.frame              = frame;
-        [UIView animateWithDuration:0.25
-            animations:^{
-              CGRect finalframe              = self.dropDownToolbar.frame;
-              finalframe.origin.y            = 0.;
-              weakSelf.dropDownToolbar.frame = finalframe;
-            }
-            completion:^(BOOL finished) {
-              weakSelf.isDropDownVisible      = !weakSelf.isDropDownVisible;
-              weakSelf.dropDownToolbar.hidden = YES;
-            }];
-        if (self.activeNavigationBarTitle) {
-            self.navigationBar.topItem.title = self.originalNavigationBarTitle;
-        }
-        if (sender && [sender isKindOfClass:[UIBarButtonItem class]]) {
-            [(UIBarButtonItem *)sender setTitle:self.originalBarButtonTitle];
-        }
-    }
-}
-
-- (void)showDropDown:(id)sender {
-    if (!self.isDropDownVisible) {
-        __weak APNavigationController *weakSelf = self;
-        CGRect frame                            = self.dropDownToolbar.frame;
-        frame.origin.y                          = 0.f;
-        self.dropDownToolbar.hidden             = NO;
-        self.dropDownToolbar.frame              = frame;
-        [UIView animateWithDuration:0.25
-            animations:^{
-              CGRect finalframe              = self.dropDownToolbar.frame;
-              finalframe.origin.y            = CGRectGetMaxY(self.navigationBar.frame);
-              weakSelf.dropDownToolbar.frame = finalframe;
-            }
-            completion:^(BOOL finished) {
-              weakSelf.isDropDownVisible = !weakSelf.isDropDownVisible;
-            }];
-        if (self.activeNavigationBarTitle) {
-            self.navigationBar.topItem.title = self.activeNavigationBarTitle;
-        }
-        if (sender && [sender isKindOfClass:[UIBarButtonItem class]]) {
-            self.originalBarButtonTitle = [(UIBarButtonItem *)sender title];
-            if (self.activeBarButtonTitle) {
-                [(UIBarButtonItem *)sender setTitle:self.activeBarButtonTitle];
-            }
-        }
-    }
-}
-
-@end
diff --git a/Signal/src/view controllers/FingerprintViewController.h b/Signal/src/view controllers/FingerprintViewController.h
index 6eccab2ecc5..915c5f59039 100644
--- a/Signal/src/view controllers/FingerprintViewController.h	
+++ b/Signal/src/view controllers/FingerprintViewController.h	
@@ -12,12 +12,16 @@ NS_ASSUME_NONNULL_BEGIN
 
 @class TSThread;
 @class OWSFingerprint;
+@class OWSConversationSettingsTableViewController;
 
 @interface FingerprintViewController : UIViewController <OWSQRScannerDelegate>
 
+@property (nullable) OWSConversationSettingsTableViewController *dismissDelegate;
+
 - (void)configureWithThread:(TSThread *)thread
                 fingerprint:(OWSFingerprint *)fingerprint
                 contactName:(NSString *)contactName;
+
 - (void)controller:(OWSQRCodeScanningViewController *)controller didDetectQRCodeWithData:(NSData *)data;
 
 @end
diff --git a/Signal/src/view controllers/FingerprintViewController.m b/Signal/src/view controllers/FingerprintViewController.m
index 40fac774b23..9da42fc040c 100644
--- a/Signal/src/view controllers/FingerprintViewController.m	
+++ b/Signal/src/view controllers/FingerprintViewController.m	
@@ -8,6 +8,7 @@
 
 #import "FingerprintViewController.h"
 #import "DJWActionSheet+OWS.h"
+#import "OWSConversationSettingsTableViewController.h"
 #import <SignalServiceKit/NSDate+millisecondTimeStamp.h>
 #import <SignalServiceKit/OWSFingerprint.h>
 #import <SignalServiceKit/TSInfoMessage.h>
@@ -27,7 +28,10 @@ @interface FingerprintViewController ()
 @property (strong, nonatomic) NSString *contactName;
 @property (strong, nonatomic) OWSQRCodeScanningViewController *qrScanningController;
 
+@property (strong, nonatomic) IBOutlet UINavigationBar *modalNavigationBar;
+@property (strong, nonatomic) IBOutlet UIBarButtonItem *dismissModalButton;
 @property (strong, nonatomic) IBOutlet UIView *qrScanningView;
+@property (strong, nonatomic) IBOutlet UILabel *scanningInstructions;
 @property (strong, nonatomic) IBOutlet UIView *scanningContainer;
 @property (strong, nonatomic) IBOutlet UIView *instructionsContainer;
 @property (strong, nonatomic) IBOutlet UIView *qrContainer;
@@ -35,9 +39,7 @@ @interface FingerprintViewController ()
 @property (strong, nonatomic) IBOutlet UIImageView *privacyVerificationQRCode;
 @property (strong, nonatomic) IBOutlet UILabel *privacyVerificationFingerprint;
 @property (strong, nonatomic) IBOutlet UILabel *instructionsLabel;
-@property (strong, nonatomic) IBOutlet UILabel *titleLabel;
 @property (strong, nonatomic) IBOutlet UIButton *scanButton;
-@property (strong, nonatomic) IBOutlet NSLayoutConstraint *qrCodeCenterConstraint;
 
 @end
 
@@ -55,8 +57,16 @@ - (void)configureWithThread:(TSThread *)thread
 - (void)viewDidLoad
 {
     [super viewDidLoad];
+
+    self.navigationItem.leftBarButtonItem = self.dismissModalButton;
+    [self.modalNavigationBar pushNavigationItem:self.navigationItem animated:NO];
+
+    // HACK for transparent navigation bar.
+    [self.modalNavigationBar setBackgroundImage:[UIImage new] forBarMetrics:UIBarMetricsDefault];
+    self.modalNavigationBar.shadowImage = [UIImage new];
+    self.modalNavigationBar.translucent = YES;
+
     self.storageManager = [TSStorageManager sharedManager];
-    self.qrScanningView.hidden = YES;
 
     // HACK to get full width preview layer
     CGRect oldFrame = self.qrScanningView.frame;
@@ -67,7 +77,7 @@ - (void)viewDidLoad
     self.qrScanningView.frame = newFrame;
     // END HACK to get full width preview layer
 
-    self.titleLabel.text = NSLocalizedString(@"PRIVACY_VERIFICATION_TITLE", @"Navbar title");
+    self.title = NSLocalizedString(@"PRIVACY_VERIFICATION_TITLE", @"Navbar title");
     NSString *instructionsFormat = NSLocalizedString(@"PRIVACY_VERIFICATION_INSTRUCTIONS",
         @"Paragraph(s) shown alongside keying material when verifying privacy with {{contact name}}");
     self.instructionsLabel.text = [NSString stringWithFormat:instructionsFormat, self.contactName];
@@ -97,6 +107,14 @@ - (void)viewDidLayoutSubviews
     self.privacyVerificationQRCodeFrame.layer.cornerRadius = self.privacyVerificationQRCodeFrame.frame.size.height / 2;
 }
 
+- (void)viewWillDisappear:(BOOL)animated
+{
+    [super viewWillDisappear:YES];
+    if (self.dismissDelegate) {
+        [self.dismissDelegate presentedModalWasDismissed];
+    }
+}
+
 - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(nullable id)sender
 {
     if ([segue.identifier isEqualToString:@"embedIdentityQRScanner"]) {
@@ -150,23 +168,14 @@ - (void)showScanner
 {
     DDLogInfo(@"%@ Showing Scanner", self.tag);
     self.qrScanningView.hidden = NO;
-
-    // Recommended before animating a constraint.
-    [self.view layoutIfNeeded];
-
-    // Shift QRCode up within it's own frame, while shifting it's whole
-    // frame down.
-    self.qrCodeCenterConstraint.constant = 0.0f;
+    self.scanningInstructions.hidden = NO;
     [UIView animateWithDuration:0.4
                           delay:0.0
                         options:UIViewAnimationOptionCurveEaseInOut
                      animations:^{
-
                          self.scanningContainer.frame = self.qrContainer.frame;
                          self.qrContainer.frame = self.instructionsContainer.frame;
                          self.instructionsContainer.alpha = 0.0f;
-                         // animate constraint smoothly
-                         [self.view layoutIfNeeded];
                      }
                      completion:nil];
 
@@ -254,6 +263,8 @@ - (void)dismissViewControllerAnimated:(BOOL)flag completion:(nullable void (^)(v
     [super dismissViewControllerAnimated:flag completion:completion];
 }
 
+#pragma mark - Logging
+
 + (NSString *)tag
 {
     return [NSString stringWithFormat:@"[%@]", self.class];
diff --git a/Signal/src/view controllers/InboxTableViewCell.h b/Signal/src/view controllers/InboxTableViewCell.h
index dcf09f2ff5e..1d13a0d7ba1 100644
--- a/Signal/src/view controllers/InboxTableViewCell.h	
+++ b/Signal/src/view controllers/InboxTableViewCell.h	
@@ -4,6 +4,10 @@
 #import <UIKit/UIKit.h>
 #import "TSThread.h"
 
+NS_ASSUME_NONNULL_BEGIN
+
+@class OWSContactsManager;
+
 typedef enum : NSUInteger { kArchiveState = 0, kInboxState = 1 } CellState;
 
 @interface InboxTableViewCell : UITableViewCell <UIScrollViewDelegate>
@@ -17,7 +21,10 @@ typedef enum : NSUInteger { kArchiveState = 0, kInboxState = 1 } CellState;
 @property (nonatomic, retain) NSString *threadId;
 
 + (instancetype)inboxTableViewCell;
-- (void)configureWithThread:(TSThread *)thread;
+
+- (void)configureWithThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager;
 - (void)animateDisappear;
 
 @end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/view controllers/InboxTableViewCell.m b/Signal/src/view controllers/InboxTableViewCell.m
index f978492b166..ad136b9f36f 100644
--- a/Signal/src/view controllers/InboxTableViewCell.m	
+++ b/Signal/src/view controllers/InboxTableViewCell.m	
@@ -1,15 +1,18 @@
 //  Created by Dylan Bourgeois on 27/10/14.
 //  Copyright (c) 2014 Open Whisper Systems. All rights reserved.
 
-#import <JSQMessagesViewController/JSQMessagesAvatarImageFactory.h>
-#import <JSQMessagesViewController/UIImage+JSQMessages.h>
-#import "Environment.h"
 #import "InboxTableViewCell.h"
+#import "Environment.h"
+#import "OWSAvatarBuilder.h"
 #import "PreferencesUtil.h"
 #import "TSContactThread.h"
 #import "TSGroupThread.h"
 #import "TSMessagesManager.h"
 #import "Util.h"
+#import <JSQMessagesViewController/JSQMessagesAvatarImageFactory.h>
+#import <JSQMessagesViewController/UIImage+JSQMessages.h>
+
+NS_ASSUME_NONNULL_BEGIN
 
 #define ARCHIVE_IMAGE_VIEW_WIDTH 22.0f
 #define DELETE_IMAGE_VIEW_WIDTH 19.0f
@@ -39,86 +42,45 @@ - (void)initializeLayout {
     self.selectionStyle = UITableViewCellSelectionStyleDefault;
 }
 
-- (NSString *)reuseIdentifier {
+- (nullable NSString *)reuseIdentifier
+{
     return NSStringFromClass(self.class);
 }
 
-- (void)configureWithThread:(TSThread *)thread {
+- (void)configureWithThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager
+{
     if (!_threadId || ![_threadId isEqualToString:thread.uniqueId]) {
         dispatch_async(dispatch_get_main_queue(), ^{
             self.hidden = YES;
         });
     }
 
-    NSString *name                     = thread.name;
-    _threadId                          = thread.uniqueId;
+    NSString *name = thread.name;
+    if (name.length == 0 && [thread isKindOfClass:[TSGroupThread class]]) {
+        name = NSLocalizedString(@"NEW_GROUP_DEFAULT_TITLE", @"");
+    }
+    UIImage *avatar = [OWSAvatarBuilder buildImageForThread:thread contactsManager:contactsManager];
+    self.threadId = thread.uniqueId;
     NSString *snippetLabel             = thread.lastMessageLabel;
     NSAttributedString *attributedDate = [self dateAttributedString:thread.lastMessageDate];
     NSUInteger unreadCount             = [[TSMessagesManager sharedManager] unreadMessagesInThread:thread];
 
     dispatch_async(dispatch_get_main_queue(), ^{
-      _nameLabel.text           = name;
-      _snippetLabel.text        = snippetLabel;
-      _timeLabel.attributedText = attributedDate;
-
-      if ([thread isKindOfClass:[TSGroupThread class]]) {
-          _contactPictureView.contentMode = UIViewContentModeScaleAspectFill;
-          _contactPictureView.image = ((TSGroupThread *)thread).groupModel.groupImage != nil
-                                          ? ((TSGroupThread *)thread).groupModel.groupImage
-                                          : [UIImage imageNamed:@"empty-group-avatar"];
-          if ([_nameLabel.text length] == 0) {
-              _nameLabel.text = NSLocalizedString(@"NEW_GROUP_DEFAULT_TITLE", @"");
-          }
-          if (_contactPictureView.image != nil) {
-              dispatch_async(dispatch_get_main_queue(), ^{
-                [UIUtil applyRoundedBorderToImageView:&_contactPictureView];
-              });
-          }
-      } else {
-          NSMutableString *initials = [NSMutableString string];
-
-          if ([name length] > 0) {
-              NSArray *words = [name componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
-              for (NSString *word in words) {
-                  if ([word length] > 0) {
-                      NSString *firstLetter = [word substringToIndex:1];
-                      [initials appendString:[firstLetter uppercaseString]];
-                  }
-              }
-          }
-
-          NSRange stringRange = {0, MIN([initials length], (NSUInteger)3)}; // Rendering max 3 letters.
-          initials            = [[initials substringWithRange:stringRange] mutableCopy];
-
-          UIColor *backgroundColor =
-              thread.isGroupThread ? [UIColor whiteColor]
-                                   : [UIColor backgroundColorForContact:((TSContactThread *)thread).contactIdentifier];
-          dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
-            UIImage *image =
-                [[JSQMessagesAvatarImageFactory avatarImageWithUserInitials:initials
-                                                            backgroundColor:backgroundColor
-                                                                  textColor:[UIColor whiteColor]
-                                                                       font:[UIFont ows_boldFontWithSize:36.0]
-                                                                   diameter:100] avatarImage];
-            dispatch_async(dispatch_get_main_queue(), ^{
-              _contactPictureView.image = thread.image != nil ? thread.image : image;
-
-              if (thread.image != nil) {
-                  [UIUtil applyRoundedBorderToImageView:&_contactPictureView];
-              }
-            });
-          });
-      }
-
-      self.separatorInset = UIEdgeInsetsMake(0, _contactPictureView.frame.size.width * 1.5f, 0, 0);
-
-      if (thread.hasUnreadMessages) {
-          [self updateCellForUnreadMessage];
-      } else {
-          [self updateCellForReadMessage];
-      }
-      [self setUnreadMsgCount:unreadCount];
-      self.hidden = NO;
+        self.nameLabel.text = name;
+        self.snippetLabel.text = snippetLabel;
+        self.timeLabel.attributedText = attributedDate;
+        self.contactPictureView.image = avatar;
+        [UIUtil applyRoundedBorderToImageView:&_contactPictureView];
+
+        self.separatorInset = UIEdgeInsetsMake(0, _contactPictureView.frame.size.width * 1.5f, 0, 0);
+
+        if (thread.hasUnreadMessages) {
+            [self updateCellForUnreadMessage];
+        } else {
+            [self updateCellForReadMessage];
+        }
+        [self setUnreadMsgCount:unreadCount];
+        self.hidden = NO;
     });
 }
 
@@ -202,11 +164,11 @@ - (void)setUnreadMsgCount:(NSUInteger)unreadMessages {
             [_unreadLabel sizeToFit];
 
             CGPoint offset = CGPointMake(0.0f, 5.0f);
-            _unreadLabel.frame =
-                CGRectMake(offset.x + floor((2.0f * (25 - _unreadLabel.frame.size.width) / 2.0f) / 2.0f),
-                           offset.y,
-                           _unreadLabel.frame.size.width,
-                           _unreadLabel.frame.size.height);
+            _unreadLabel.frame
+                = CGRectMake(offset.x + (CGFloat)floor((2.0f * (25.0f - _unreadLabel.frame.size.width) / 2.0f) / 2.0f),
+                    offset.y,
+                    _unreadLabel.frame.size.width,
+                    _unreadLabel.frame.size.height);
             _messageCounter.hidden = NO;
         } else {
             _messageCounter.hidden = YES;
@@ -225,3 +187,5 @@ - (void)animateDisappear {
 
 
 @end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/view controllers/MessageComposeTableViewController.m b/Signal/src/view controllers/MessageComposeTableViewController.m
index 21a1014fe48..eb367b4b773 100644
--- a/Signal/src/view controllers/MessageComposeTableViewController.m	
+++ b/Signal/src/view controllers/MessageComposeTableViewController.m	
@@ -222,9 +222,9 @@ - (void)initializeSearch {
     [self.sendTextButton setBackgroundColor:[UIColor ows_materialBlueColor]];
     [self.sendTextButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
     self.sendTextButton.frame = CGRectMake(self.searchController.searchBar.frame.origin.x,
-                                           self.searchController.searchBar.frame.origin.y + 44.0,
-                                           self.searchController.searchBar.frame.size.width,
-                                           44.0);
+        self.searchController.searchBar.frame.origin.y + 44.0f,
+        self.searchController.searchBar.frame.size.width,
+        44.0);
     [self.view addSubview:self.sendTextButton];
     self.sendTextButton.hidden = YES;
 
diff --git a/Signal/src/view controllers/MessagesViewController.h b/Signal/src/view controllers/MessagesViewController.h
index 0bd2e1ebfe2..de5f60a36f2 100644
--- a/Signal/src/view controllers/MessagesViewController.h	
+++ b/Signal/src/view controllers/MessagesViewController.h	
@@ -8,11 +8,12 @@
 
 #import <AVFoundation/AVFoundation.h>
 #import <MediaPlayer/MediaPlayer.h>
-#import "APNavigationController.h"
 #import <JSQMessagesViewController/JSQMessagesViewController.h>
 #import "TSGroupModel.h"
 @class TSThread;
 
+extern NSString *const OWSMessagesViewControllerDidAppearNotification;
+
 @interface MessagesViewController : JSQMessagesViewController <UIImagePickerControllerDelegate,
                                                                UINavigationControllerDelegate,
                                                                UITextViewDelegate,
@@ -22,7 +23,6 @@
 
 
 @property (nonatomic, readonly) TSThread *thread;
-@property (nonatomic, retain) APNavigationController *navController;
 @property (nonatomic, strong) MPMoviePlayerController *videoPlayer;
 @property (nonatomic, strong) AVAudioPlayer *audioPlayer;
 @property (nonatomic, strong) AVAudioRecorder *audioRecorder;
diff --git a/Signal/src/view controllers/MessagesViewController.m b/Signal/src/view controllers/MessagesViewController.m
index de7f646e656..60bf2054a89 100644
--- a/Signal/src/view controllers/MessagesViewController.m	
+++ b/Signal/src/view controllers/MessagesViewController.m	
@@ -18,13 +18,17 @@
 #import "OWSCall.h"
 #import "OWSCallCollectionViewCell.h"
 #import "OWSContactsManager.h"
+#import "OWSConversationSettingsTableViewController.h"
+#import "OWSDisappearingMessagesJob.h"
 #import "OWSDisplayedMessageCollectionViewCell.h"
 #import "OWSErrorMessage.h"
+#import "OWSExpirableMessageView.h"
+#import "OWSIncomingMessageCollectionViewCell.h"
 #import "OWSInfoMessage.h"
 #import "OWSMessagesBubblesSizeCalculator.h"
+#import "OWSOutgoingMessageCollectionViewCell.h"
 #import "PhoneManager.h"
 #import "PreferencesUtil.h"
-#import "ShowGroupMembersViewController.h"
 #import "SignalKeyingStorage.h"
 #import "TSAttachmentPointer.h"
 #import "TSCall.h"
@@ -32,6 +36,7 @@
 #import "TSContentAdapters.h"
 #import "TSDatabaseView.h"
 #import "TSErrorMessage.h"
+#import "TSGroupThread.h"
 #import "TSIncomingMessage.h"
 #import "TSInfoMessage.h"
 #import "TSInvalidIdentityKeyErrorMessage.h"
@@ -50,7 +55,9 @@
 #import <JSQSystemSoundPlayer.h>
 #import <MobileCoreServices/UTCoreTypes.h>
 #import <SignalServiceKit/MimeTypeUtil.h>
+#import <SignalServiceKit/OWSDisappearingMessagesConfiguration.h>
 #import <SignalServiceKit/OWSFingerprint.h>
+#import <SignalServiceKit/OWSFingerprintBuilder.h>
 #import <SignalServiceKit/SignalRecipient.h>
 #import <SignalServiceKit/TSAccountManager.h>
 #import <YapDatabase/YapDatabaseView.h>
@@ -65,9 +72,10 @@
 #define JSQ_IMAGE_INSET 5
 
 static NSTimeInterval const kTSMessageSentDateShowTimeInterval = 5 * 60;
-static NSString *const kUpdateGroupSegueIdentifier             = @"updateGroupSegue";
-static NSString *const kFingerprintSegueIdentifier             = @"fingerprintSegue";
-static NSString *const kShowGroupMembersSegue                  = @"showGroupMembersSegue";
+static NSString *const OWSMessagesViewControllerSegueShowFingerprint = @"fingerprintSegue";
+static NSString *const OWSMessagesViewControllerSeguePushConversationSettings =
+    @"OWSMessagesViewControllerSeguePushConversationSettings";
+NSString *const OWSMessagesViewControllerDidAppearNotification = @"OWSMessagesViewControllerDidAppear";
 
 typedef enum : NSUInteger {
     kMediaTypePicture,
@@ -85,24 +93,23 @@ @interface MessagesViewController () {
 }
 
 @property TSThread *thread;
-@property (nonatomic, weak) UIView *navView;
+@property TSMessage *lastDeliveredMessage;
 @property (nonatomic, strong) YapDatabaseConnection *editingDatabaseConnection;
 @property (nonatomic, strong) YapDatabaseConnection *uiDatabaseConnection;
 @property (nonatomic, strong) YapDatabaseViewMappings *messageMappings;
+
 @property (nonatomic, retain) JSQMessagesBubbleImage *outgoingBubbleImageData;
 @property (nonatomic, retain) JSQMessagesBubbleImage *incomingBubbleImageData;
 @property (nonatomic, retain) JSQMessagesBubbleImage *currentlyOutgoingBubbleImageData;
 @property (nonatomic, retain) JSQMessagesBubbleImage *outgoingMessageFailedImageData;
+
 @property (nonatomic, strong) NSTimer *audioPlayerPoller;
 @property (nonatomic, strong) TSVideoAttachmentAdapter *currentMediaAdapter;
 
 @property (nonatomic, retain) NSTimer *readTimer;
+@property (nonatomic, strong) UILabel *navbarTitleLabel;
 @property (nonatomic, retain) UIButton *attachButton;
-
 @property (nonatomic, retain) NSIndexPath *lastDeliveredMessageIndexPath;
-@property (nonatomic, retain) UIGestureRecognizer *showFingerprintGesture;
-@property (nonatomic, retain) UITapGestureRecognizer *toggleContactPhoneGesture;
-@property (nonatomic) BOOL displayPhoneAsTitle;
 
 @property NSUInteger page;
 @property (nonatomic) BOOL composeOnOpen;
@@ -110,13 +117,10 @@ @interface MessagesViewController () {
 
 @property (nonatomic, readonly) TSStorageManager *storageManager;
 @property (nonatomic, readonly) OWSContactsManager *contactsManager;
-@property NSCache *messageAdapterCache;
+@property (nonatomic, readonly) OWSDisappearingMessagesJob *disappearingMessagesJob;
 
-@end
+@property NSCache *messageAdapterCache;
 
-@interface UINavigationItem () {
-    UIView *backButtonView;
-}
 @end
 
 @implementation MessagesViewController
@@ -135,6 +139,7 @@ - (instancetype)init
 
     _contactsManager = [[Environment getCurrent] contactsManager];
     _storageManager = [TSStorageManager sharedManager];
+    _disappearingMessagesJob = [[OWSDisappearingMessagesJob alloc] initWithStorageManager:_storageManager];
 
     return self;
 }
@@ -148,6 +153,7 @@ - (instancetype)initWithCoder:(NSCoder *)aDecoder
 
     _contactsManager = [[Environment getCurrent] contactsManager];
     _storageManager = [TSStorageManager sharedManager];
+    _disappearingMessagesJob = [[OWSDisappearingMessagesJob alloc] initWithStorageManager:_storageManager];
 
     return self;
 }
@@ -181,6 +187,16 @@ - (void)configureForThread:(TSThread *)thread keyboardOnViewAppearing:(BOOL)keyb
     [self updateLoadEarlierVisible];
 }
 
+- (BOOL)userLeftGroup
+{
+    if (![_thread isKindOfClass:[TSGroupThread class]]) {
+        return NO;
+    }
+
+    TSGroupThread *groupThread = (TSGroupThread *)self.thread;
+    return ![groupThread.groupModel.groupMemberIds containsObject:[TSAccountManager localNumber]];
+}
+
 - (void)hideInputIfNeeded {
     if (_peek) {
         [self inputToolbar].hidden = YES;
@@ -188,13 +204,9 @@ - (void)hideInputIfNeeded {
         return;
     }
 
-    if ([_thread isKindOfClass:[TSGroupThread class]]) {
-        TSGroupThread *groupThread = (TSGroupThread *)self.thread;
-        if (![groupThread.groupModel.groupMemberIds containsObject:[TSAccountManager localNumber]]) {
-            [self inputToolbar].hidden = YES; // user has requested they leave the group. further sends disallowed
-            [self.inputToolbar endEditing:TRUE];
-            self.navigationItem.rightBarButtonItem = nil; // further group action disallowed
-        }
+    if (self.userLeftGroup) {
+        [self inputToolbar].hidden = YES; // user has requested they leave the group. further sends disallowed
+        [self.inputToolbar endEditing:TRUE];
     } else {
         [self inputToolbar].hidden = NO;
         [self loadDraftInCompose];
@@ -205,8 +217,6 @@ - (void)viewDidLoad
 {
     [super viewDidLoad];
 
-    self.navController = (APNavigationController *)self.navigationController;
-
     // JSQMVC width is 375px at this point (as specified by the xib), but this causes
     // our initial bubble calculations to be off since they happen before the containing
     // view is layed out. https://github.com/jessesquires/JSQMessagesViewController/issues/1257
@@ -217,12 +227,6 @@ - (void)viewDidLoad
 
     self.messageAdapterCache = [[NSCache alloc] init];
 
-    self.showFingerprintGesture =
-        [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(showFingerprint)];
-
-    self.toggleContactPhoneGesture =
-        [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(toggleContactPhone)];
-
     _attachButton = [[UIButton alloc] init];
     [_attachButton setFrame:CGRectMake(0,
                                        0,
@@ -249,6 +253,11 @@ - (void)viewDidLoad
     [self initializeToolbars];
 }
 
+- (void)didMoveToParentViewController:(UIViewController *)parent
+{
+    [self setupTitleLabelGestureRecognizer];
+}
+
 - (void)registerCustomMessageNibs
 {
     [self.collectionView registerNib:[OWSCallCollectionViewCell nib]
@@ -256,6 +265,22 @@ - (void)registerCustomMessageNibs
 
     [self.collectionView registerNib:[OWSDisplayedMessageCollectionViewCell nib]
           forCellWithReuseIdentifier:[OWSDisplayedMessageCollectionViewCell cellReuseIdentifier]];
+
+    self.outgoingCellIdentifier = [OWSOutgoingMessageCollectionViewCell cellReuseIdentifier];
+    [self.collectionView registerNib:[OWSOutgoingMessageCollectionViewCell nib]
+          forCellWithReuseIdentifier:[OWSOutgoingMessageCollectionViewCell cellReuseIdentifier]];
+
+    self.outgoingMediaCellIdentifier = [OWSOutgoingMessageCollectionViewCell mediaCellReuseIdentifier];
+    [self.collectionView registerNib:[OWSOutgoingMessageCollectionViewCell nib]
+          forCellWithReuseIdentifier:[OWSOutgoingMessageCollectionViewCell mediaCellReuseIdentifier]];
+
+    self.incomingCellIdentifier = [OWSIncomingMessageCollectionViewCell cellReuseIdentifier];
+    [self.collectionView registerNib:[OWSIncomingMessageCollectionViewCell nib]
+          forCellWithReuseIdentifier:[OWSIncomingMessageCollectionViewCell cellReuseIdentifier]];
+
+    self.incomingMediaCellIdentifier = [OWSIncomingMessageCollectionViewCell mediaCellReuseIdentifier];
+    [self.collectionView registerNib:[OWSIncomingMessageCollectionViewCell nib]
+          forCellWithReuseIdentifier:[OWSIncomingMessageCollectionViewCell mediaCellReuseIdentifier]];
 }
 
 - (void)toggleObservers:(BOOL)shouldObserve
@@ -303,8 +328,21 @@ - (void)viewWillAppear:(BOOL)animated
 {
     [super viewWillAppear:animated];
 
+    // We need to recheck on every appearance, since the user may have left the group in the settings VC,
+    // or on another device.
+    [self hideInputIfNeeded];
+
     [self toggleObservers:YES];
 
+    // restart any animations that were stopped e.g. while inspecting the contact info screens.
+    [[NSNotificationCenter defaultCenter] postNotificationName:OWSMessagesViewControllerDidAppearNotification
+                                                        object:nil];
+
+    OWSDisappearingMessagesConfiguration *configuration =
+        [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:self.thread.uniqueId];
+    [self setBarButtonItemsForDisappearingMessagesConfiguration:configuration];
+    [self setNavigationTitle];
+
     NSInteger numberOfMessages = (NSInteger)[self.messageMappings numberOfItemsInGroup:self.thread.uniqueId];
     if (numberOfMessages > 0) {
         NSIndexPath *lastCellIndexPath = [NSIndexPath indexPathForRow:numberOfMessages - 1 inSection:0];
@@ -331,15 +369,13 @@ - (void)viewDidAppear:(BOOL)animated {
     [self dismissKeyBoard];
     [self startReadTimer];
 
-    [self initializeTitleLabelGestureRecognizer];
-
     // TODO prep this sync one time before view loads so we don't have to repaint.
     [self updateBackButtonAsync];
 
     [self.inputToolbar.contentView.textView endEditing:YES];
 
     self.inputToolbar.contentView.textView.editable = YES;
-    if (_composeOnOpen) {
+    if (_composeOnOpen && !self.inputToolbar.hidden) {
         [self popKeyBoard];
     }
 }
@@ -359,11 +395,6 @@ - (void)viewWillDisappear:(BOOL)animated {
     [super viewWillDisappear:animated];
     [self toggleObservers:NO];
 
-    if ([self.navigationController.viewControllers indexOfObject:self] == NSNotFound) {
-        // back button was pressed.
-        [self.navController hideDropDown:self];
-    }
-
     [_unreadContainer removeFromSuperview];
     _unreadContainer = nil;
 
@@ -374,12 +405,11 @@ - (void)viewWillDisappear:(BOOL)animated {
     JSQMessagesCollectionView *collectionView = self.collectionView;
     NSInteger num_bubbles                     = [self collectionView:collectionView numberOfItemsInSection:0];
     for (NSInteger i = 0; i < num_bubbles; i++) {
-        NSIndexPath *index_path = [NSIndexPath indexPathForRow:i inSection:0];
-        TSMessageAdapter *msgAdapter =
-            [collectionView.dataSource collectionView:collectionView messageDataForItemAtIndexPath:index_path];
-        if (msgAdapter.messageType == TSIncomingMessageAdapter && msgAdapter.isMediaMessage &&
-            [msgAdapter isKindOfClass:[TSVideoAttachmentAdapter class]]) {
-            TSVideoAttachmentAdapter *msgMedia = (TSVideoAttachmentAdapter *)[msgAdapter media];
+        NSIndexPath *indexPath = [NSIndexPath indexPathForRow:i inSection:0];
+        id<OWSMessageData> message = [self messageAtIndexPath:indexPath];
+        if (message.messageType == TSIncomingMessageAdapter && message.isMediaMessage &&
+            [message isKindOfClass:[TSVideoAttachmentAdapter class]]) {
+            TSVideoAttachmentAdapter *msgMedia = (TSVideoAttachmentAdapter *)message.media;
             if ([msgMedia isAudio]) {
                 msgMedia.isPaused       = NO;
                 msgMedia.isAudioPlaying = NO;
@@ -390,7 +420,6 @@ - (void)viewWillDisappear:(BOOL)animated {
     }
 
     [self cancelReadTimer];
-    [self removeTitleLabelGestureRecognizer];
     [self saveDraft];
 }
 
@@ -401,103 +430,51 @@ - (void)viewDidDisappear:(BOOL)animated {
 
 #pragma mark - Initiliazers
 
+- (void)setNavigationTitle
+{
+    NSString *navTitle = self.thread.name;
+    if (isGroupConversation && [navTitle length] == 0) {
+        navTitle = NSLocalizedString(@"NEW_GROUP_DEFAULT_TITLE", @"");
+    }
+    self.title = navTitle;
+}
 
-- (IBAction)didSelectShow:(id)sender {
-    if (isGroupConversation) {
-        UIBarButtonItem *spaceEdge =
-            [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];
-
-        spaceEdge.width = 40;
-
-        UIBarButtonItem *spaceMiddleIcons =
-            [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];
-        spaceMiddleIcons.width = 61;
-
-        UIBarButtonItem *spaceMiddleWords =
-            [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace
-                                                          target:nil
-                                                          action:nil];
-
-        NSDictionary *buttonTextAttributes = @{
-            NSFontAttributeName : [UIFont ows_regularFontWithSize:15.0f],
-            NSForegroundColorAttributeName : [UIColor ows_materialBlueColor]
-        };
+- (void)setBarButtonItemsForDisappearingMessagesConfiguration:
+    (OWSDisappearingMessagesConfiguration *)disappearingMessagesConfiguration
 
+{
+    if (self.userLeftGroup) {
+        self.navigationItem.rightBarButtonItems = @[];
+        return;
+    }
 
-        UIButton *groupUpdateButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 65, 24)];
-        NSMutableAttributedString *updateTitle =
-            [[NSMutableAttributedString alloc] initWithString:NSLocalizedString(@"UPDATE_BUTTON_TITLE", @"")];
-        [updateTitle setAttributes:buttonTextAttributes range:NSMakeRange(0, [updateTitle length])];
-        [groupUpdateButton setAttributedTitle:updateTitle forState:UIControlStateNormal];
-        [groupUpdateButton addTarget:self action:@selector(updateGroup) forControlEvents:UIControlEventTouchUpInside];
-        [groupUpdateButton.titleLabel setTextAlignment:NSTextAlignmentCenter];
-        [groupUpdateButton.titleLabel setAdjustsFontSizeToFitWidth:YES];
-
-        UIBarButtonItem *groupUpdateBarButton =
-            [[UIBarButtonItem alloc] initWithTitle:@"" style:UIBarButtonItemStylePlain target:self action:nil];
-        groupUpdateBarButton.customView                        = groupUpdateButton;
-        groupUpdateBarButton.customView.userInteractionEnabled = YES;
-
-        UIButton *groupLeaveButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 50, 24)];
-        NSMutableAttributedString *leaveTitle =
-            [[NSMutableAttributedString alloc] initWithString:NSLocalizedString(@"LEAVE_BUTTON_TITLE", @"")];
-        [leaveTitle setAttributes:buttonTextAttributes range:NSMakeRange(0, [leaveTitle length])];
-        [groupLeaveButton setAttributedTitle:leaveTitle forState:UIControlStateNormal];
-        [groupLeaveButton addTarget:self action:@selector(leaveGroup) forControlEvents:UIControlEventTouchUpInside];
-        [groupLeaveButton.titleLabel setTextAlignment:NSTextAlignmentCenter];
-        UIBarButtonItem *groupLeaveBarButton =
-            [[UIBarButtonItem alloc] initWithTitle:@"" style:UIBarButtonItemStylePlain target:self action:nil];
-        groupLeaveBarButton.customView                        = groupLeaveButton;
-        groupLeaveBarButton.customView.userInteractionEnabled = YES;
-        [groupLeaveButton.titleLabel setAdjustsFontSizeToFitWidth:YES];
-
-        UIButton *groupMembersButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 65, 24)];
-        NSMutableAttributedString *membersTitle =
-            [[NSMutableAttributedString alloc] initWithString:NSLocalizedString(@"MEMBERS_BUTTON_TITLE", @"")];
-        [membersTitle setAttributes:buttonTextAttributes range:NSMakeRange(0, [membersTitle length])];
-        [groupMembersButton setAttributedTitle:membersTitle forState:UIControlStateNormal];
-        [groupMembersButton addTarget:self
-                               action:@selector(showGroupMembers)
-                     forControlEvents:UIControlEventTouchUpInside];
-        [groupMembersButton.titleLabel setTextAlignment:NSTextAlignmentCenter];
-        UIBarButtonItem *groupMembersBarButton =
-            [[UIBarButtonItem alloc] initWithTitle:@"" style:UIBarButtonItemStylePlain target:self action:nil];
-        groupMembersBarButton.customView                        = groupMembersButton;
-        groupMembersBarButton.customView.userInteractionEnabled = YES;
-        [groupMembersButton.titleLabel setAdjustsFontSizeToFitWidth:YES];
-
-
-        self.navController.dropDownToolbar.items = @[
-            spaceEdge,
-            groupUpdateBarButton,
-            spaceMiddleWords,
-            groupLeaveBarButton,
-            spaceMiddleWords,
-            groupMembersBarButton,
-            spaceEdge
-        ];
-
-        for (UIButton *button in self.navController.dropDownToolbar.items) {
-            [button setTintColor:[UIColor ows_materialBlueColor]];
-        }
-        if (self.navController.isDropDownVisible) {
-            [self.navController hideDropDown:sender];
-        } else {
-            [self.navController showDropDown:sender];
-        }
-        // Can also toggle toolbar from current state
-        // [self.navController toggleToolbar:sender];
-        [self setNavigationTitle];
+    NSMutableArray<UIBarButtonItem *> *barButtons = [NSMutableArray new];
+    if ([self canCall]) {
+        UIBarButtonItem *callButton = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"btnPhone--white"]
+                                                                       style:UIBarButtonItemStylePlain
+                                                                      target:self
+                                                                      action:@selector(callAction)];
+        callButton.imageInsets = UIEdgeInsetsMake(0, -10, 0, 10);
+        [barButtons addObject:callButton];
+    } else if ([self.thread isGroupThread]) {
+        UIBarButtonItem *manageGroupButton =
+            [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"contact-options-action"]
+                                             style:UIBarButtonItemStylePlain
+                                            target:self
+                                            action:@selector(didTapManageGroupButton:)];
+        // Hack to shrink button image
+        manageGroupButton.imageInsets = UIEdgeInsetsMake(10, 20, 10, 0);
+        [barButtons addObject:manageGroupButton];
     }
-}
 
-- (void)setNavigationTitle {
-    NSString *navTitle = self.thread.name;
-    if (isGroupConversation && [navTitle length] == 0) {
-        navTitle = NSLocalizedString(@"NEW_GROUP_DEFAULT_TITLE", @"");
+    if (disappearingMessagesConfiguration.isEnabled) {
+        [barButtons addObject:[[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"ic_timer"]
+                                                               style:UIBarButtonItemStylePlain
+                                                              target:self
+                                                              action:@selector(didTapTimerInNavbar)]];
     }
-    self.navController.activeNavigationBarTitle = nil;
-    self.title                                  = navTitle;
+
+    self.navigationItem.rightBarButtonItems = [barButtons copy];
 }
 
 - (void)initializeToolbars
@@ -510,73 +487,46 @@ - (void)initializeToolbars
     // prevent draft from obscuring message history in case user wants to scroll back to refer to something
     // while composing a long message.
     self.inputToolbar.maximumHeight = 300;
+}
 
-    if ([self canCall]) {
-        self.navigationItem.rightBarButtonItem =
-            [[UIBarButtonItem alloc] initWithImage:[[UIImage imageNamed:@"btnPhone--white"]
-                                                       imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal]
-                                             style:UIBarButtonItemStylePlain
-                                            target:self
-                                            action:@selector(callAction)];
-        self.navigationItem.rightBarButtonItem.imageInsets = UIEdgeInsetsMake(0, -10, 0, 10);
-    } else if ([self.thread isGroupThread]) {
-        self.navigationItem.rightBarButtonItem =
-            [[UIBarButtonItem alloc] initWithImage:[[UIImage imageNamed:@"contact-options-action"]
-                                                       imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal]
-                                             style:UIBarButtonItemStylePlain
-                                            target:self
-                                            action:@selector(didSelectShow:)];
-        self.navigationItem.rightBarButtonItem.imageInsets = UIEdgeInsetsMake(10, 20, 10, 0);
-    } else {
-        self.navigationItem.rightBarButtonItem = nil;
-        DDLogError(@"Thread was neither group thread nor callable");
+- (void)setupTitleLabelGestureRecognizer
+{
+    // Called on load/unload, but we only want to init once.
+    if (self.navbarTitleLabel) {
+        return;
     }
 
-    [self hideInputIfNeeded];
-    [self setNavigationTitle];
-}
-
-- (void)initializeTitleLabelGestureRecognizer {
-    if (isGroupConversation) {
+    UILabel *navbarTitleLabel = [self findNavbarTitleLabel];
+    if (!navbarTitleLabel) {
+        DDLogError(@"%@ Unable to find navbar title label. Skipping gesture recognition", self.tag);
         return;
     }
 
+    self.navbarTitleLabel = navbarTitleLabel;
+    navbarTitleLabel.userInteractionEnabled = YES;
+    navbarTitleLabel.superview.userInteractionEnabled = YES;
+
+    UITapGestureRecognizer *titleTapRecognizer =
+        [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(didTapTitle)];
+    [navbarTitleLabel addGestureRecognizer:titleTapRecognizer];
+}
+
+- (nullable UILabel *)findNavbarTitleLabel
+{
     for (UIView *view in self.navigationController.navigationBar.subviews) {
         if ([view isKindOfClass:NSClassFromString(@"UINavigationItemView")]) {
-            self.navView = view;
-            for (UIView *aView in self.navView.subviews) {
+            UIView *navItemView = view;
+            for (UIView *aView in navItemView.subviews) {
                 if ([aView isKindOfClass:[UILabel class]]) {
                     UILabel *label = (UILabel *)aView;
                     if ([label.text isEqualToString:self.title]) {
-                        [self.navView setUserInteractionEnabled:YES];
-                        [aView setUserInteractionEnabled:YES];
-                        [aView addGestureRecognizer:self.showFingerprintGesture];
-                        [aView addGestureRecognizer:self.toggleContactPhoneGesture];
-                        return;
+                        return label;
                     }
                 }
             }
         }
     }
-}
-
-- (void)removeTitleLabelGestureRecognizer {
-    if (isGroupConversation) {
-        return;
-    }
-
-    for (UIView *aView in self.navView.subviews) {
-        if ([aView isKindOfClass:[UILabel class]]) {
-            UILabel *label = (UILabel *)aView;
-            if ([label.text isEqualToString:self.title]) {
-                [self.navView setUserInteractionEnabled:NO];
-                [aView setUserInteractionEnabled:NO];
-                [aView removeGestureRecognizer:self.showFingerprintGesture];
-                [aView removeGestureRecognizer:self.toggleContactPhoneGesture];
-                return;
-            }
-        }
-    }
+    return nil;
 }
 
 // Overiding JSQMVC layout defaults
@@ -610,112 +560,13 @@ - (void)initializeCollectionViewLayout
 
 #pragma mark - Fingerprints
 
-- (void)showFingerprint
-{
-    // Show fingerprint for their most recently accepted identity
-    NSString *theirSignalId = self.thread.contactIdentifier;
-    NSData *theirIdentityKey = [self.storageManager identityKeyForRecipientId:theirSignalId];
-    [self showFingerprintWithTheirIdentityKey:theirIdentityKey theirSignalId:theirSignalId];
-}
-
 - (void)showFingerprintWithTheirIdentityKey:(NSData *)theirIdentityKey theirSignalId:(NSString *)theirSignalId
 {
-    NSString *mySignalId = [self.storageManager localNumber];
-    NSData *myIdentityKey = [self.storageManager identityKeyPair].publicKey;
-    OWSFingerprint *fingerprint = [OWSFingerprint fingerprintWithMyStableId:mySignalId
-                                                              myIdentityKey:myIdentityKey
-                                                              theirStableId:theirSignalId
-                                                           theirIdentityKey:theirIdentityKey];
-
+    OWSFingerprintBuilder *builder = [[OWSFingerprintBuilder alloc] initWithStorageManager:self.storageManager];
+    OWSFingerprint *fingerprint =
+        [builder fingerprintWithTheirSignalId:self.thread.contactIdentifier theirIdentityKey:theirIdentityKey];
     [self markAllMessagesAsRead];
-    [self performSegueWithIdentifier:kFingerprintSegueIdentifier sender:fingerprint];
-}
-
-
-- (void)toggleContactPhone {
-    _displayPhoneAsTitle = !_displayPhoneAsTitle;
-
-    if (!_thread.isGroupThread) {
-        Contact *contact = [self.contactsManager latestContactForPhoneNumber:[self phoneNumberForThread]];
-        if (!contact) {
-            if (!(SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(NSFoundationVersionNumber_iOS_9))) {
-                ABUnknownPersonViewController *view = [[ABUnknownPersonViewController alloc] init];
-
-                ABRecordRef aContact = ABPersonCreate();
-                CFErrorRef anError   = NULL;
-
-                ABMultiValueRef phone = ABMultiValueCreateMutable(kABMultiStringPropertyType);
-
-                ABMultiValueAddValueAndLabel(
-                    phone, (__bridge CFTypeRef)[self phoneNumberForThread].toE164, kABPersonPhoneMainLabel, NULL);
-
-                ABRecordSetValue(aContact, kABPersonPhoneProperty, phone, &anError);
-                CFRelease(phone);
-
-                if (!anError && aContact) {
-                    view.displayedPerson           = aContact; // Assume person is already defined.
-                    view.allowsAddingToAddressBook = YES;
-                    [self.navigationController pushViewController:view animated:YES];
-                }
-            } else {
-                CNContactStore *contactStore = self.contactsManager.contactStore;
-
-                CNMutableContact *cncontact = [[CNMutableContact alloc] init];
-                cncontact.phoneNumbers      = @[
-                    [CNLabeledValue
-                        labeledValueWithLabel:nil
-                                        value:[CNPhoneNumber
-                                                  phoneNumberWithStringValue:[self phoneNumberForThread].toE164]]
-                ];
-
-                CNContactViewController *controller =
-                    [CNContactViewController viewControllerForUnknownContact:cncontact];
-                controller.allowsActions = NO;
-                controller.allowsEditing = YES;
-                controller.contactStore  = contactStore;
-
-                [self.navigationController pushViewController:controller animated:YES];
-
-                // The "Add to existing contacts" is known to be destroying the view controller stack on iOS 9
-                // http://stackoverflow.com/questions/32973254/cncontactviewcontroller-forunknowncontact-unusable-destroys-interface
-
-                // Warning the user
-                UIAlertController *alertController = [UIAlertController
-                    alertControllerWithTitle:@"iOS 9 Bug"
-                                     message:@"iOS 9 introduced a bug that prevents us from adding this number to an "
-                                             @"existing contact from the app. You can still create a new contact for "
-                                             @"this number or copy-paste it into an existing contact sheet."
-                              preferredStyle:UIAlertControllerStyleAlert];
-
-
-                [alertController
-                    addAction:[UIAlertAction actionWithTitle:@"Continue" style:UIAlertActionStyleCancel handler:nil]];
-
-                [alertController
-                    addAction:[UIAlertAction actionWithTitle:@"Copy number"
-                                                       style:UIAlertActionStyleDefault
-                                                     handler:^(UIAlertAction *_Nonnull action) {
-                                                       UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
-                                                       pasteboard.string        = [self phoneNumberForThread].toE164;
-                                                       [controller.navigationController popViewControllerAnimated:YES];
-                                                     }]];
-
-                [controller presentViewController:alertController animated:YES completion:nil];
-            }
-        }
-    }
-
-    if (_displayPhoneAsTitle) {
-        self.title = [PhoneNumber
-            bestEffortFormatPartialUserSpecifiedTextToLookLikeAPhoneNumber:[[self phoneNumberForThread] toE164]];
-    } else {
-        [self setNavigationTitle];
-    }
-}
-
-- (void)showGroupMembers {
-    [self.navController hideDropDown:self];
-    [self performSegueWithIdentifier:kShowGroupMembersSegue sender:self];
+    [self performSegueWithIdentifier:OWSMessagesViewControllerSegueShowFingerprint sender:fingerprint];
 }
 
 #pragma mark - Calls
@@ -763,11 +614,29 @@ - (void)didPressSendButton:(UIButton *)button
     if (text.length > 0) {
         [JSQSystemSoundPlayer jsq_playMessageSentSound];
 
-        TSOutgoingMessage *message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
-                                                                         inThread:self.thread
-                                                                      messageBody:text];
+        TSOutgoingMessage *message;
+        OWSDisappearingMessagesConfiguration *configuration =
+            [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:self.thread.uniqueId];
+        if (configuration.isEnabled) {
+            message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                                                          inThread:self.thread
+                                                       messageBody:text
+                                                     attachmentIds:@[]
+                                                  expiresInSeconds:configuration.durationSeconds];
+        } else {
+            message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                                                          inThread:self.thread
+                                                       messageBody:text];
+        }
 
-        [[TSMessagesManager sharedManager] sendMessage:message inThread:self.thread success:nil failure:nil];
+        [[TSMessagesManager sharedManager] sendMessage:message
+            inThread:self.thread
+            success:^{
+                self.lastDeliveredMessage = message;
+            }
+            failure:^{
+                DDLogWarn(@"%@ Failed to deliver message.", self.tag);
+            }];
         [self finishSendingMessage];
     }
 }
@@ -789,7 +658,7 @@ - (BOOL)collectionView:(JSQMessagesCollectionView *)collectionView shouldShowMen
 
 #pragma mark - JSQMessages CollectionView DataSource
 
-- (id<JSQMessageData>)collectionView:(JSQMessagesCollectionView *)collectionView
+- (id<OWSMessageData>)collectionView:(JSQMessagesCollectionView *)collectionView
        messageDataForItemAtIndexPath:(NSIndexPath *)indexPath
 {
     return [self messageAtIndexPath:indexPath];
@@ -825,7 +694,7 @@ - (BOOL)collectionView:(JSQMessagesCollectionView *)collectionView shouldShowMen
 - (UICollectionViewCell *)collectionView:(JSQMessagesCollectionView *)collectionView
                   cellForItemAtIndexPath:(NSIndexPath *)indexPath
 {
-    TSMessageAdapter *message = [self messageAtIndexPath:indexPath];
+    id<OWSMessageData> message = [self messageAtIndexPath:indexPath];
     NSParameterAssert(message != nil);
 
     JSQMessagesCollectionViewCell *cell;
@@ -855,12 +724,18 @@ - (UICollectionViewCell *)collectionView:(JSQMessagesCollectionView *)collection
     }
     cell.delegate = collectionView;
 
+    if (message.isExpiringMessage && [cell conformsToProtocol:@protocol(OWSExpirableMessageView)]) {
+        id<OWSExpirableMessageView> expirableView = (id<OWSExpirableMessageView>)cell;
+        [expirableView startExpirationTimerWithExpiresAtSeconds:message.expiresAtSeconds
+                                         initialDurationSeconds:message.expiresInSeconds];
+    }
+
     return cell;
 }
 
 #pragma mark - Loading message cells
 
-- (JSQMessagesCollectionViewCell *)loadIncomingMessageCellForMessage:(id<JSQMessageData>)message
+- (JSQMessagesCollectionViewCell *)loadIncomingMessageCellForMessage:(id<OWSMessageData>)message
                                                          atIndexPath:(NSIndexPath *)indexPath
 {
     JSQMessagesCollectionViewCell *cell =
@@ -876,11 +751,12 @@ - (JSQMessagesCollectionViewCell *)loadIncomingMessageCellForMessage:(id<JSQMess
     return cell;
 }
 
-- (JSQMessagesCollectionViewCell *)loadOutgoingCellForMessage:(id<JSQMessageData>)message
+- (JSQMessagesCollectionViewCell *)loadOutgoingCellForMessage:(id<OWSMessageData>)message
                                                   atIndexPath:(NSIndexPath *)indexPath
 {
-    JSQMessagesCollectionViewCell *cell =
-        (JSQMessagesCollectionViewCell *)[super collectionView:self.collectionView cellForItemAtIndexPath:indexPath];
+    OWSOutgoingMessageCollectionViewCell *cell
+        = (OWSOutgoingMessageCollectionViewCell *)[super collectionView:self.collectionView
+                                                 cellForItemAtIndexPath:indexPath];
     if (!message.isMediaMessage) {
         cell.textView.textColor          = [UIColor whiteColor];
         cell.textView.linkTextAttributes = @{
@@ -888,7 +764,6 @@ - (JSQMessagesCollectionViewCell *)loadOutgoingCellForMessage:(id<JSQMessageData
             NSUnderlineStyleAttributeName : @(NSUnderlineStyleSingle | NSUnderlinePatternSolid)
         };
     }
-
     return cell;
 }
 
@@ -934,9 +809,14 @@ - (OWSDisplayedMessageCollectionViewCell *)loadInfoMessageCellForMessage:(OWSInf
                                                              atIndexPath:(NSIndexPath *)indexPath
 {
     OWSDisplayedMessageCollectionViewCell *infoCell = [self loadDisplayedMessageCollectionViewCellForIndexPath:indexPath];
+
+    // HACK this will get called when we get a new info message, but there's gotta be a better spot for this.
+    OWSDisappearingMessagesConfiguration *configuration =
+        [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:self.thread.uniqueId];
+    [self setBarButtonItemsForDisappearingMessagesConfiguration:configuration];
+
     infoCell.cellLabel.text = [infoMessage text];
-    infoCell.cellLabel.textColor = [UIColor darkGrayColor];
-    infoCell.textContainer.layer.borderColor = infoCell.textContainer.layer.borderColor = [[UIColor ows_infoMessageBorderColor] CGColor];
+    infoCell.messageBubbleContainerView.layer.borderColor = [[UIColor ows_infoMessageBorderColor] CGColor];
     infoCell.headerImageView.image = [UIImage imageNamed:@"warning_white"];
 
     return infoCell;
@@ -947,8 +827,7 @@ - (OWSDisplayedMessageCollectionViewCell *)loadErrorMessageCellForMessage:(OWSEr
 {
     OWSDisplayedMessageCollectionViewCell *errorCell = [self loadDisplayedMessageCollectionViewCellForIndexPath:indexPath];
     errorCell.cellLabel.text = [errorMessage text];
-    errorCell.cellLabel.textColor = [UIColor darkGrayColor];
-    errorCell.textContainer.layer.borderColor = [[UIColor ows_errorMessageBorderColor] CGColor];
+    errorCell.messageBubbleContainerView.layer.borderColor = [[UIColor ows_errorMessageBorderColor] CGColor];
     errorCell.headerImageView.image = [UIImage imageNamed:@"error_white"];
 
     return errorCell;
@@ -995,9 +874,14 @@ - (NSAttributedString *)collectionView:(JSQMessagesCollectionView *)collectionVi
     return nil;
 }
 
-- (BOOL)shouldShowMessageStatusAtIndexPath:(NSIndexPath *)indexPath {
+- (BOOL)shouldShowMessageStatusAtIndexPath:(NSIndexPath *)indexPath
+{
     TSMessageAdapter *currentMessage = [self messageAtIndexPath:indexPath];
 
+    if (currentMessage.isExpiringMessage) {
+        return YES;
+    }
+
     // If message failed, say that message should be tapped to retry;
     if (currentMessage.messageType == TSOutgoingMessageAdapter) {
         TSOutgoingMessage *outgoingMessage = (TSOutgoingMessage *)currentMessage;
@@ -1050,42 +934,40 @@ - (BOOL)isMessageOutgoingAndDelivered:(TSMessageAdapter *)message
 
 
 - (NSAttributedString *)collectionView:(JSQMessagesCollectionView *)collectionView
-    attributedTextForCellBottomLabelAtIndexPath:(NSIndexPath *)indexPath {
-    TSMessageAdapter *msg            = [self messageAtIndexPath:indexPath];
-    NSTextAttachment *textAttachment = [[NSTextAttachment alloc] init];
-    textAttachment.bounds            = CGRectMake(0, 0, 11.0f, 10.0f);
-
-    if ([self shouldShowMessageStatusAtIndexPath:indexPath]) {
-        if (msg.messageType == TSOutgoingMessageAdapter) {
-            TSOutgoingMessage *outgoingMessage = (TSOutgoingMessage *)msg;
-            if(outgoingMessage.messageState == TSOutgoingMessageStateUnsent) {
-                NSMutableAttributedString *attrStr =
-                [[NSMutableAttributedString alloc] initWithString:NSLocalizedString(@"FAILED_SENDING_TEXT", nil)];
-                [attrStr appendAttributedString:[NSAttributedString attributedStringWithAttachment:textAttachment]];
-                return attrStr;
-            }
-        }
-
-        if ([self.thread isKindOfClass:[TSGroupThread class]]) {
-            NSString *name = [self.contactsManager nameStringForPhoneIdentifier:msg.senderId];
-
-            if (!name) {
-                name = @"";
-            }
-
-            NSMutableAttributedString *attrStr = [[NSMutableAttributedString alloc] initWithString:name];
-            [attrStr appendAttributedString:[NSAttributedString attributedStringWithAttachment:textAttachment]];
+    attributedTextForCellBottomLabelAtIndexPath:(NSIndexPath *)indexPath
+{
+    if (![self shouldShowMessageStatusAtIndexPath:indexPath]) {
+        return nil;
+    }
 
-            return attrStr;
-        } else {
-            _lastDeliveredMessageIndexPath = indexPath;
-            NSMutableAttributedString *attrStr =
-                [[NSMutableAttributedString alloc] initWithString:NSLocalizedString(@"DELIVERED_MESSAGE_TEXT", @"")];
-            [attrStr appendAttributedString:[NSAttributedString attributedStringWithAttachment:textAttachment]];
+    id<OWSMessageData> messageData = [self messageAtIndexPath:indexPath];
+    if (![messageData isKindOfClass:[TSMessageAdapter class]]) {
+        return nil;
+    }
 
-            return attrStr;
+    TSMessageAdapter *message = (TSMessageAdapter *)messageData;
+    if (message.messageType == TSOutgoingMessageAdapter) {
+        TSOutgoingMessage *outgoingMessage = (TSOutgoingMessage *)message.interaction;
+        if (outgoingMessage.messageState == TSOutgoingMessageStateUnsent) {
+            NSAttributedString *failedString =
+                [[NSAttributedString alloc] initWithString:NSLocalizedString(@"FAILED_SENDING_TEXT", nil)];
+
+            return failedString;
+        } else if ([outgoingMessage isEqual:self.lastDeliveredMessage]) {
+            _lastDeliveredMessageIndexPath = indexPath; // So we can remove it later.
+            NSAttributedString *deliveredString =
+                [[NSAttributedString alloc] initWithString:NSLocalizedString(@"DELIVERED_MESSAGE_TEXT", @"")];
+
+            return deliveredString;
         }
+    } else if (message.messageType == TSIncomingMessageAdapter && [self.thread isKindOfClass:[TSGroupThread class]]) {
+        TSIncomingMessage *incomingMessage = (TSIncomingMessage *)message.interaction;
+        NSString *_Nonnull name = [self.contactsManager nameStringForPhoneIdentifier:incomingMessage.authorId];
+        NSAttributedString *senderNameString = [[NSAttributedString alloc] initWithString:name];
+
+        return senderNameString;
     }
+
     return nil;
 }
 
@@ -1101,11 +983,38 @@ - (CGFloat)collectionView:(JSQMessagesCollectionView *)collectionView
 
 #pragma mark - Actions
 
+- (void)showConversationSettings
+{
+    if (self.userLeftGroup) {
+        DDLogDebug(@"%@ Ignoring request to show conversation settings, since user left group", self.tag);
+        return;
+    }
+    [self performSegueWithIdentifier:OWSMessagesViewControllerSeguePushConversationSettings sender:self];
+}
+
+- (void)didTapTitle
+{
+    DDLogDebug(@"%@ Tapped title in navbar", self.tag);
+    [self showConversationSettings];
+}
+
+- (void)didTapManageGroupButton:(id)sender
+{
+    DDLogDebug(@"%@ Tapped options menu in navbar", self.tag);
+    [self showConversationSettings];
+}
+
+- (void)didTapTimerInNavbar
+{
+    DDLogDebug(@"%@ Tapped timer in navbar", self.tag);
+    [self showConversationSettings];
+}
+
+
 - (void)collectionView:(JSQMessagesCollectionView *)collectionView
     didTapMessageBubbleAtIndexPath:(NSIndexPath *)indexPath
 {
-    TSMessageAdapter *messageItem =
-        [collectionView.dataSource collectionView:collectionView messageDataForItemAtIndexPath:indexPath];
+    id<OWSMessageData> messageItem = [self messageAtIndexPath:indexPath];
     TSInteraction *interaction = [self interactionAtIndexPath:indexPath];
 
     switch (messageItem.messageType) {
@@ -1220,14 +1129,12 @@ - (void)collectionView:(JSQMessagesCollectionView *)collectionView
                                 // loop through all the other bubbles and set their isPlaying to false
                                 NSInteger num_bubbles = [self collectionView:collectionView numberOfItemsInSection:0];
                                 for (NSInteger i = 0; i < num_bubbles; i++) {
-                                    NSIndexPath *index_path = [NSIndexPath indexPathForRow:i inSection:0];
-                                    TSMessageAdapter *msgAdapter =
-                                        [collectionView.dataSource collectionView:collectionView
-                                                    messageDataForItemAtIndexPath:index_path];
-                                    if (msgAdapter.messageType == TSIncomingMessageAdapter &&
-                                        msgAdapter.isMediaMessage) {
-                                        TSVideoAttachmentAdapter *msgMedia =
-                                            (TSVideoAttachmentAdapter *)[msgAdapter media];
+                                    NSIndexPath *indexPathI = [NSIndexPath indexPathForRow:i inSection:0];
+                                    id<OWSMessageData> message = [self messageAtIndexPath:indexPathI];
+
+                                    if (message.messageType == TSIncomingMessageAdapter && message.isMediaMessage) {
+                                        TSVideoAttachmentAdapter *msgMedia
+                                            = (TSVideoAttachmentAdapter *)[message media];
                                         if ([msgMedia isAudio]) {
                                             if (msgMedia == messageMedia && messageMedia.isPaused) {
                                                 isResuming = YES;
@@ -1485,22 +1392,27 @@ - (void)tappedInvalidIdentityKeyErrorMessage:(TSInvalidIdentityKeyErrorMessage *
 #pragma mark - Navigation
 
 - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
-    if ([segue.identifier isEqualToString:kFingerprintSegueIdentifier]) {
-        FingerprintViewController *vc = [segue destinationViewController];
-        if ([sender isKindOfClass:[OWSFingerprint class]]) {
-            OWSFingerprint *fingerprint = (OWSFingerprint *)sender;
-            NSString *contactName = [self.contactsManager nameStringForPhoneIdentifier:fingerprint.theirStableId];
-            [vc configureWithThread:self.thread fingerprint:fingerprint contactName:contactName];
-        } else {
-            DDLogError(@"%@ Attempting to segueu to fingerprint VC without a valid fingerprint: %@", self.tag, sender);
+    if ([segue.identifier isEqualToString:OWSMessagesViewControllerSegueShowFingerprint]) {
+        if (![segue.destinationViewController isKindOfClass:[FingerprintViewController class]]) {
+            DDLogError(@"%@ Expected Fingerprint VC but got: %@", self.tag, segue.destinationViewController);
+            return;
         }
-    } else if ([segue.identifier isEqualToString:kUpdateGroupSegueIdentifier]) {
-        NewGroupViewController *vc = [segue destinationViewController];
-        [vc configWithThread:(TSGroupThread *)self.thread];
-    } else if ([segue.identifier isEqualToString:kShowGroupMembersSegue]) {
-        ShowGroupMembersViewController *vc = [segue destinationViewController];
-        [vc configWithThread:(TSGroupThread *)self.thread];
+        FingerprintViewController *vc = (FingerprintViewController *)segue.destinationViewController;
+
+        if (![sender isKindOfClass:[OWSFingerprint class]]) {
+            DDLogError(@"%@ Attempting to segue to fingerprint VC without a valid fingerprint: %@", self.tag, sender);
+            return;
+        }
+        OWSFingerprint *fingerprint = (OWSFingerprint *)sender;
+
+        NSString *contactName = [self.contactsManager nameStringForPhoneIdentifier:fingerprint.theirStableId];
+        [vc configureWithThread:self.thread fingerprint:fingerprint contactName:contactName];
+    } else if ([segue.destinationViewController isKindOfClass:[OWSConversationSettingsTableViewController class]]) {
+        OWSConversationSettingsTableViewController *controller
+            = (OWSConversationSettingsTableViewController *)segue.destinationViewController;
+        [controller configureWithThread:self.thread];
     }
+
 }
 
 
@@ -1605,7 +1517,8 @@ - (void)imagePickerController:(UIImagePickerController *)picker
                            if (assetFetchingError || !imageData) {
                                return failedToPickAttachment(assetFetchingError);
                            }
-                           DDLogVerbose(@"Size in bytes: %lu; detected filetype: %@", imageData.length, dataUTI);
+                           DDLogVerbose(
+                               @"Size in bytes: %lu; detected filetype: %@", (unsigned long)imageData.length, dataUTI);
 
                            if ([dataUTI isEqualToString:(__bridge NSString *)kUTTypeGIF]
                                && imageData.length <= 5 * 1024 * 1024) {
@@ -1633,10 +1546,21 @@ - (void)imagePickerController:(UIImagePickerController *)picker
 
 - (void)sendMessageAttachment:(NSData *)attachmentData ofType:(NSString *)attachmentType
 {
-    TSOutgoingMessage *message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
-                                                                     inThread:self.thread
-                                                                  messageBody:nil
-                                                                attachmentIds:[NSMutableArray new]];
+    TSOutgoingMessage *message;
+    OWSDisappearingMessagesConfiguration *configuration =
+        [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:self.thread.uniqueId];
+    if (configuration.isEnabled) {
+        message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                                                      inThread:self.thread
+                                                   messageBody:nil
+                                                 attachmentIds:[NSMutableArray new]
+                                              expiresInSeconds:configuration.durationSeconds];
+    } else {
+        message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                                                      inThread:self.thread
+                                                   messageBody:nil
+                                                 attachmentIds:[NSMutableArray new]];
+    }
 
     [self dismissViewControllerAnimated:YES
                              completion:^{
@@ -1834,8 +1758,9 @@ - (void)yapDatabaseModified:(NSNotification *)notification {
                   if (collectionKey.key) {
                       [self.messageAdapterCache removeObjectForKey:collectionKey.key];
                   }
-                  NSMutableArray *rowsToUpdate = [@[ rowChange.indexPath ] mutableCopy];
 
+                  // remove "delivered" from all but final message.
+                  NSMutableArray *rowsToUpdate = [@[ rowChange.indexPath ] mutableCopy];
                   if (_lastDeliveredMessageIndexPath) {
                       [rowsToUpdate addObject:_lastDeliveredMessageIndexPath];
                   }
@@ -1874,8 +1799,7 @@ - (TSInteraction *)interactionAtIndexPath:(NSIndexPath *)indexPath {
       NSParameterAssert(indexPath != nil);
       NSUInteger row                    = (NSUInteger)indexPath.row;
       NSUInteger section                = (NSUInteger)indexPath.section;
-      NSUInteger numberOfItemsInSection = [self.messageMappings numberOfItemsInSection:section];
-
+      NSUInteger numberOfItemsInSection __unused = [self.messageMappings numberOfItemsInSection:section];
       NSAssert(row < numberOfItemsInSection,
                @"Cannot fetch message because row %d is >= numberOfItemsInSection %d",
                (int)row,
@@ -1888,13 +1812,13 @@ - (TSInteraction *)interactionAtIndexPath:(NSIndexPath *)indexPath {
     return message;
 }
 
-// FIXME DANGER this method doesn't always return TSMessageAdapters - it can also return JSQCall!
-- (TSMessageAdapter *)messageAtIndexPath:(NSIndexPath *)indexPath {
+- (id<OWSMessageData>)messageAtIndexPath:(NSIndexPath *)indexPath
+{
     TSInteraction *interaction = [self interactionAtIndexPath:indexPath];
 
-    TSMessageAdapter *messageAdapter = [self.messageAdapterCache objectForKey:interaction.uniqueId];
+    id<OWSMessageData> messageAdapter = [self.messageAdapterCache objectForKey:interaction.uniqueId];
 
-    if (messageAdapter == nil) {
+    if (!messageAdapter) {
         messageAdapter = [TSMessageAdapter messageViewDataWithInteraction:interaction inThread:self.thread];
         [self.messageAdapterCache setObject:messageAdapter forKey: interaction.uniqueId];
     }
@@ -1989,10 +1913,12 @@ - (void)didPressAccessoryButton:(UIButton *)sender {
                       }];
 }
 
-- (void)markAllMessagesAsRead {
-    [self.editingDatabaseConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
-      [self.thread markAllAsReadWithTransaction:transaction];
-    }];
+- (void)markAllMessagesAsRead
+{
+    [self.thread markAllAsRead];
+    // In theory this should be unnecessary as read-status starts expiration
+    // but in practice I've seen messages not have their timer started.
+    [self.disappearingMessagesJob setExpirationsForThread:self.thread];
 }
 
 - (BOOL)collectionView:(UICollectionView *)collectionView
@@ -2019,32 +1945,6 @@ - (void)collectionView:(UICollectionView *)collectionView
     [[self messageAtIndexPath:indexPath] performEditingAction:action];
 }
 
-- (void)updateGroup {
-    [self.navController hideDropDown:self];
-
-    [self performSegueWithIdentifier:kUpdateGroupSegueIdentifier sender:self];
-}
-
-- (void)leaveGroup
-{
-    [self.navController hideDropDown:self];
-
-    TSGroupThread *gThread     = (TSGroupThread *)_thread;
-    TSOutgoingMessage *message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
-                                                                     inThread:gThread
-                                                                  messageBody:@""
-                                                                attachmentIds:[NSMutableArray new]];
-    message.groupMetaMessage = TSGroupMessageQuit;
-    [[TSMessagesManager sharedManager] sendMessage:message inThread:gThread success:nil failure:nil];
-    [self.editingDatabaseConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
-      NSMutableArray *newGroupMemberIds = [NSMutableArray arrayWithArray:gThread.groupModel.groupMemberIds];
-      [newGroupMemberIds removeObject:[TSAccountManager localNumber]];
-      gThread.groupModel.groupMemberIds = newGroupMemberIds;
-      [gThread saveWithTransaction:transaction];
-    }];
-    [self hideInputIfNeeded];
-}
-
 - (void)updateGroupModelTo:(TSGroupModel *)newGroupModel
 {
     __block TSGroupThread *groupThread;
@@ -2164,9 +2064,9 @@ - (void)setUnreadCount:(NSUInteger)unreadCount {
 
             _unreadBackground.frame =
                 CGRectMake(offset.x, offset.y, MAX(_unreadLabel.frame.size.width + 8.0f, 17.0f), 17.0f);
-            _unreadLabel.frame = CGRectMake(
-                offset.x +
-                    floor((2.0f * (_unreadBackground.frame.size.width - _unreadLabel.frame.size.width) / 2.0f) / 2.0f),
+            _unreadLabel.frame = CGRectMake(offset.x
+                    + (CGFloat)floor(
+                          (2.0 * (_unreadBackground.frame.size.width - _unreadLabel.frame.size.width) / 2.0f) / 2.0f),
                 offset.y + 1.0f,
                 _unreadLabel.frame.size.width,
                 _unreadLabel.frame.size.height);
@@ -2182,6 +2082,8 @@ - (void)setUnreadCount:(NSUInteger)unreadCount {
     return @[];
 }
 
+#pragma mark - Logging
+
 + (NSString *)tag
 {
     return [NSString stringWithFormat:@"[%@]", self.class];
diff --git a/Signal/src/view controllers/OWSConversationSettingsTableViewController.h b/Signal/src/view controllers/OWSConversationSettingsTableViewController.h
new file mode 100644
index 00000000000..e3c1e1e7954
--- /dev/null
+++ b/Signal/src/view controllers/OWSConversationSettingsTableViewController.h	
@@ -0,0 +1,17 @@
+//  Created by Michael Kirk on 9/21/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import <UIKit/UIKit.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@class TSThread;
+
+@interface OWSConversationSettingsTableViewController : UITableViewController
+
+- (void)configureWithThread:(TSThread *)thread;
+- (void)presentedModalWasDismissed;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/view controllers/OWSConversationSettingsTableViewController.m b/Signal/src/view controllers/OWSConversationSettingsTableViewController.m
new file mode 100644
index 00000000000..6d8a6e35d0b
--- /dev/null
+++ b/Signal/src/view controllers/OWSConversationSettingsTableViewController.m	
@@ -0,0 +1,459 @@
+//  Created by Michael Kirk on 9/21/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSConversationSettingsTableViewController.h"
+#import "Environment.h"
+#import "FingerprintViewController.h"
+#import "NewGroupViewController.h"
+#import "OWSAvatarBuilder.h"
+#import "OWSContactsManager.h"
+#import "PhoneNumber.h"
+#import "ShowGroupMembersViewController.h"
+#import "UIUtil.h"
+#import <25519/Curve25519.h>
+#import <SignalServiceKit/NSDate+millisecondTimeStamp.h>
+#import <SignalServiceKit/OWSDisappearingConfigurationUpdateInfoMessage.h>
+#import <SignalServiceKit/OWSDisappearingMessagesConfiguration.h>
+#import <SignalServiceKit/OWSFingerprint.h>
+#import <SignalServiceKit/OWSFingerprintBuilder.h>
+#import <SignalServiceKit/OWSNotifyRemoteOfUpdatedDisappearingConfigurationJob.h>
+#import <SignalServiceKit/TSGroupThread.h>
+#import <SignalServiceKit/TSMessagesManager+sendMessages.h>
+#import <SignalServiceKit/TSStorageManager.h>
+#import <SignalServiceKit/TSThread.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+typedef NS_ENUM(NSUInteger, OWSConversationSettingsTableViewControllerSection) {
+    OWSConversationSettingsTableViewControllerSectionContact,
+    OWSConversationSettingsTableViewControllerSectionGroup
+};
+
+typedef NS_ENUM(NSUInteger, OWSConversationSettingsTableViewControllerContactCellIndex) {
+    OWSConversationSettingsTableViewControllerCellIndexShowFingerprint,
+    OWSConversationSettingsTableViewControllerCellIndexToggleDisappearingMessages,
+    OWSConversationSettingsTableViewControllerCellIndexSetDisappearingMessagesDuration
+};
+
+typedef NS_ENUM(NSUInteger, OWSConversationSettingsTableViewControllerGroupCellIndex) {
+    OWSConversationSettingsTableViewControllerCellIndexUpdateGroup,
+    OWSConversationSettingsTableViewControllerCellIndexLeaveGroup,
+    OWSConversationSettingsTableViewControllerCellIndexSeeGroupMembers
+};
+
+static NSString *const OWSConversationSettingsTableViewControllerSegueUpdateGroup =
+    @"OWSConversationSettingsTableViewControllerSegueUpdateGroup";
+static NSString *const OWSConversationSettingsTableViewControllerSegueShowGroupMembers =
+    @"OWSConversationSettingsTableViewControllerSegueShowGroupMembers";
+
+@interface OWSConversationSettingsTableViewController ()
+
+@property (strong, nonatomic) IBOutlet UITableViewCell *verifyPrivacyCell;
+@property (strong, nonatomic) IBOutlet UITableViewCell *toggleDisappearingMessagesCell;
+@property (strong, nonatomic) IBOutlet UISwitch *disappearingMessagesSwitch;
+@property (strong, nonatomic) IBOutlet UITableViewCell *disappearingMessagesDurationCell;
+@property (strong, nonatomic) IBOutlet UILabel *disappearingMessagesDurationLabel;
+@property (strong, nonatomic) IBOutlet UISlider *disappearingMessagesDurationSlider;
+
+@property (strong, nonatomic) IBOutlet UITableViewCell *updateGroupCell;
+@property (strong, nonatomic) IBOutlet UITableViewCell *leaveGroupCell;
+@property (strong, nonatomic) IBOutlet UITableViewCell *listGroupMembersCell;
+@property (strong, nonatomic) IBOutlet UIImageView *avatar;
+@property (strong, nonatomic) IBOutlet UILabel *nameLabel;
+@property (strong, nonatomic) IBOutlet UILabel *signalIdLabel;
+
+@property (nonatomic) TSThread *thread;
+@property (nonatomic) NSString *contactName;
+@property (nonatomic) NSString *signalId;
+@property (nonatomic) UIImage *avatarImage;
+@property (nonatomic) BOOL isGroupThread;
+
+@property (nonatomic) NSArray<NSNumber *> *disappearingMessagesDurations;
+@property (nonatomic) OWSDisappearingMessagesConfiguration *disappearingMessagesConfiguration;
+
+@property (nonatomic, readonly) TSStorageManager *storageManager;
+@property (nonatomic, readonly) OWSContactsManager *contactsManager;
+@property (nonatomic, readonly) TSMessagesManager *messagesManager;
+
+@end
+
+@implementation OWSConversationSettingsTableViewController
+
+- (instancetype)init
+{
+    self = [super init];
+    if (!self) {
+        return self;
+    }
+
+    _storageManager = [TSStorageManager sharedManager];
+    _contactsManager = [[Environment getCurrent] contactsManager];
+    _messagesManager = [TSMessagesManager sharedManager];
+
+    return self;
+}
+
+- (nullable instancetype)initWithCoder:(NSCoder *)aDecoder
+{
+    self = [super initWithCoder:aDecoder];
+    if (!self) {
+        return self;
+    }
+
+    _storageManager = [TSStorageManager sharedManager];
+    _contactsManager = [[Environment getCurrent] contactsManager];
+    _messagesManager = [TSMessagesManager sharedManager];
+
+    return self;
+}
+
+- (void)configureWithThread:(TSThread *)thread
+{
+    self.thread = thread;
+    self.signalId = thread.contactIdentifier;
+    self.contactName = thread.name;
+
+    if ([thread isKindOfClass:[TSGroupThread class]]) {
+        self.isGroupThread = YES;
+        if (self.contactName.length == 0) {
+            self.contactName = NSLocalizedString(@"NEW_GROUP_DEFAULT_TITLE", @"");
+        }
+    } else {
+        self.isGroupThread = NO;
+    }
+}
+
+#pragma mark - View Lifecycle
+
+- (void)viewDidLoad
+{
+    [super viewDidLoad];
+
+    self.nameLabel.text = self.contactName;
+    if (self.signalId) {
+        self.signalIdLabel.text =
+            [PhoneNumber bestEffortFormatPartialUserSpecifiedTextToLookLikeAPhoneNumber:self.signalId];
+    } else {
+        // Don't print anything for groups.
+        self.signalIdLabel.text = nil;
+    }
+    self.avatar.image = [OWSAvatarBuilder buildImageForThread:self.thread contactsManager:self.contactsManager];
+
+    // Translations
+    self.title = NSLocalizedString(@"CONVERSATION_SETTINGS", @"title for conversation settings screen");
+    self.verifyPrivacyCell.textLabel.text
+        = NSLocalizedString(@"VERIFY_PRIVACY", @"table cell label in conversation settings");
+    self.toggleDisappearingMessagesCell.textLabel.text
+        = NSLocalizedString(@"DISAPPEARING_MESSAGES", @"table cell label in conversation settings");
+    self.updateGroupCell.textLabel.text
+        = NSLocalizedString(@"EDIT_GROUP_ACTION", @"table cell label in conversation settings");
+    self.leaveGroupCell.textLabel.text
+        = NSLocalizedString(@"LEAVE_GROUP_ACTION", @"table cell label in conversation settings");
+    self.listGroupMembersCell.textLabel.text
+        = NSLocalizedString(@"LIST_GROUP_MEMBERS_ACTION", @"table cell label in conversation settings");
+
+    self.toggleDisappearingMessagesCell.selectionStyle = UITableViewCellSelectionStyleNone;
+    self.disappearingMessagesDurationCell.selectionStyle = UITableViewCellSelectionStyleNone;
+
+    self.disappearingMessagesDurations = [OWSDisappearingMessagesConfiguration validDurationsSeconds];
+    self.disappearingMessagesDurationSlider.maximumValue = (float)(self.disappearingMessagesDurations.count - 1);
+    self.disappearingMessagesDurationSlider.minimumValue = 0;
+    self.disappearingMessagesDurationSlider.continuous = YES; // NO fires change event only once you let go
+
+    self.disappearingMessagesConfiguration =
+        [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:self.thread.uniqueId];
+
+    if (!self.disappearingMessagesConfiguration) {
+        self.disappearingMessagesConfiguration =
+            [[OWSDisappearingMessagesConfiguration alloc] initDefaultWithThreadId:self.thread.uniqueId];
+    }
+
+    self.disappearingMessagesDurationSlider.value = self.disappearingMessagesConfiguration.durationIndex;
+    [self toggleDisappearingMessages:self.disappearingMessagesConfiguration.isEnabled];
+}
+
+- (void)viewWillAppear:(BOOL)animated
+{
+    [super viewWillAppear:animated];
+    // HACK to unselect rows when swiping back
+    // http://stackoverflow.com/questions/19379510/uitableviewcell-doesnt-get-deselected-when-swiping-back-quickly
+    [self.tableView deselectRowAtIndexPath:[self.tableView indexPathForSelectedRow] animated:animated];
+}
+
+- (void)viewWillDisappear:(BOOL)animated
+{
+    [super viewWillDisappear:animated];
+
+    if (self.disappearingMessagesConfiguration.isNewRecord && !self.disappearingMessagesConfiguration.isEnabled) {
+        // don't save defaults, else we'll unintentionally save the configuration and notify the contact.
+        return;
+    }
+
+    if (self.disappearingMessagesConfiguration.dictionaryValueDidChange) {
+        [self.disappearingMessagesConfiguration save];
+        OWSDisappearingConfigurationUpdateInfoMessage *infoMessage =
+            [[OWSDisappearingConfigurationUpdateInfoMessage alloc]
+                initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                           thread:self.thread
+                    configuration:self.disappearingMessagesConfiguration];
+        [infoMessage save];
+
+        [OWSNotifyRemoteOfUpdatedDisappearingConfigurationJob
+            runWithConfiguration:self.disappearingMessagesConfiguration
+                          thread:self.thread
+                 messagesManager:self.messagesManager];
+    }
+}
+
+- (void)viewDidLayoutSubviews
+{
+    // Round avatar corners.
+    self.avatar.layer.borderColor = UIColor.clearColor.CGColor;
+    self.avatar.layer.masksToBounds = YES;
+    self.avatar.layer.cornerRadius = self.avatar.frame.size.height / 2.0f;
+}
+
+#pragma mark - UITableViewDelegate
+
+- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
+{
+    NSInteger baseCount = [super tableView:tableView numberOfRowsInSection:section];
+
+    if (section == OWSConversationSettingsTableViewControllerSectionGroup) {
+        if (self.isGroupThread) {
+            return baseCount;
+        } else {
+            return 0;
+        }
+    }
+
+    if (section == OWSConversationSettingsTableViewControllerSectionContact) {
+        if (self.isGroupThread) {
+            // No fingerprint for group thread.
+            baseCount -= 1;
+        }
+
+        if (!self.disappearingMessagesSwitch.isOn) {
+            // hide duration slider when disappearing messages is off.
+            baseCount -= 1;
+        }
+    }
+    return baseCount;
+}
+
+- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath
+{
+    if (self.isGroupThread && indexPath.section == OWSConversationSettingsTableViewControllerSectionContact) {
+        // Since fingerprint cell is hidden for group threads we offset our index path
+        NSIndexPath *offsetIndexPath = [NSIndexPath indexPathForRow:indexPath.row + 1 inSection:indexPath.section];
+        return [super tableView:tableView cellForRowAtIndexPath:offsetIndexPath];
+    }
+
+    return [super tableView:tableView cellForRowAtIndexPath:indexPath];
+}
+
+- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
+{
+    UITableViewCell *cell = [self tableView:tableView cellForRowAtIndexPath:indexPath];
+    if (cell == self.disappearingMessagesDurationCell) {
+        NSIndexPath *originalDurationSliderIndexPath = [NSIndexPath
+            indexPathForRow:OWSConversationSettingsTableViewControllerCellIndexSetDisappearingMessagesDuration
+                  inSection:OWSConversationSettingsTableViewControllerSectionContact];
+        return [super tableView:tableView heightForRowAtIndexPath:originalDurationSliderIndexPath];
+    } else {
+        return [super tableView:tableView heightForRowAtIndexPath:indexPath];
+    }
+}
+
+// Called before the user changes the selection. Return a new indexPath, or nil, to change the proposed selection.
+- (nullable NSIndexPath *)tableView:(UITableView *)tableView willSelectRowAtIndexPath:(NSIndexPath *)indexPath
+{
+    UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
+
+    // Don't highlight rows that have no selection style.
+    if (cell.selectionStyle == UITableViewCellSelectionStyleNone) {
+        return nil;
+    }
+    return indexPath;
+}
+
+- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
+{
+    DDLogDebug(@"%@ tapped indexPath:%@", self.tag, indexPath);
+
+    if (indexPath.section == OWSConversationSettingsTableViewControllerSectionGroup
+        && indexPath.row == OWSConversationSettingsTableViewControllerCellIndexLeaveGroup) {
+
+        [self didTapLeaveGroup];
+    }
+}
+
+- (nullable NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section
+{
+    if (section == OWSConversationSettingsTableViewControllerSectionGroup) {
+        if (self.isGroupThread) {
+            return NSLocalizedString(@"GROUP_MANAGEMENT_SECTION", @"Conversation settings table section title");
+        } else {
+            return nil;
+        }
+    } else {
+        return [super tableView:tableView titleForHeaderInSection:section];
+    }
+}
+
+#pragma mark - Actions
+
+- (void)didTapLeaveGroup
+{
+    UIAlertController *alertController =
+        [UIAlertController alertControllerWithTitle:NSLocalizedString(@"CONFIRM_LEAVE_GROUP_TITLE", @"Alert title")
+                                            message:NSLocalizedString(@"CONFIRM_LEAVE_GROUP_DESCRIPTION", @"Alert body")
+                                     preferredStyle:UIAlertControllerStyleAlert];
+
+    UIAlertAction *leaveAction = [UIAlertAction
+        actionWithTitle:NSLocalizedString(@"LEAVE_BUTTON_TITLE", @"Confirmation button within contextual alert")
+                  style:UIAlertActionStyleDestructive
+                handler:^(UIAlertAction *_Nonnull action) {
+                    [self leaveGroup];
+                }];
+    [alertController addAction:leaveAction];
+
+    UIAlertAction *cancelAction = [UIAlertAction
+        actionWithTitle:NSLocalizedString(@"TXT_CANCEL_TITLE", nil)
+                  style:UIAlertActionStyleCancel
+                handler:^(UIAlertAction *_Nonnull action) {
+                    [self.tableView deselectRowAtIndexPath:[self.tableView indexPathForSelectedRow] animated:YES];
+                }];
+    [alertController addAction:cancelAction];
+
+    [self presentViewController:alertController animated:YES completion:nil];
+}
+
+- (void)leaveGroup
+{
+    TSGroupThread *gThread = (TSGroupThread *)self.thread;
+    TSOutgoingMessage *message = [[TSOutgoingMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
+                                                                     inThread:gThread
+                                                                  messageBody:@""];
+    message.groupMetaMessage = TSGroupMessageQuit;
+    [self.messagesManager sendMessage:message
+        inThread:gThread
+        success:^{
+            DDLogInfo(@"%@ Successfully left group.", self.tag);
+        }
+        failure:^{
+            DDLogWarn(@"%@ Failed to leave group", self.tag);
+        }];
+
+    NSMutableArray *newGroupMemberIds = [NSMutableArray arrayWithArray:gThread.groupModel.groupMemberIds];
+    [newGroupMemberIds removeObject:[self.storageManager localNumber]];
+    gThread.groupModel.groupMemberIds = newGroupMemberIds;
+    [gThread save];
+
+    [self.navigationController popViewControllerAnimated:YES];
+}
+
+- (void)presentedModalWasDismissed
+{
+    // Else row stays selected after dismissing modal.
+    [self.tableView deselectRowAtIndexPath:[self.tableView indexPathForSelectedRow] animated:YES];
+}
+
+- (IBAction)disappearingMessagesSwitchValueDidChange:(id)sender
+{
+    if (![sender isKindOfClass:[UISwitch class]]) {
+        DDLogError(@"%@ Unexpected sender for disappearing messages switch: %@", self.tag, sender);
+    }
+    UISwitch *disappearingMessagesSwitch = (UISwitch *)sender;
+    [self toggleDisappearingMessages:disappearingMessagesSwitch.isOn];
+}
+
+- (void)toggleDisappearingMessages:(BOOL)flag
+{
+    self.disappearingMessagesConfiguration.enabled = flag;
+
+    // When this message is called as a result of the switch being flipped, this will be a no-op
+    // but it allows us to resuse the method to set the switch programmatically in view setup.
+    self.disappearingMessagesSwitch.on = flag;
+    [self durationSliderDidChange:self.disappearingMessagesDurationSlider];
+
+    // Animate show/hide of duration settings.
+    if (flag) {
+        [self.tableView insertRowsAtIndexPaths:@[ self.indexPathForDurationSlider ]
+                              withRowAnimation:UITableViewRowAnimationAutomatic];
+    } else {
+        [self.tableView deleteRowsAtIndexPaths:@[ self.indexPathForDurationSlider ]
+                              withRowAnimation:UITableViewRowAnimationTop];
+    }
+}
+
+- (NSIndexPath *)indexPathForDurationSlider
+{
+    if (self.isGroupThread) {
+        return [NSIndexPath
+            indexPathForRow:OWSConversationSettingsTableViewControllerCellIndexSetDisappearingMessagesDuration - 1
+                  inSection:OWSConversationSettingsTableViewControllerSectionContact];
+    } else {
+        return [NSIndexPath
+            indexPathForRow:OWSConversationSettingsTableViewControllerCellIndexSetDisappearingMessagesDuration
+                  inSection:OWSConversationSettingsTableViewControllerSectionContact];
+    }
+}
+
+- (IBAction)durationSliderDidChange:(UISlider *)slider
+{
+    // snap the slider to a valid value
+    NSUInteger index = (NSUInteger)(slider.value + 0.5);
+    [slider setValue:index animated:YES];
+    NSNumber *numberOfSeconds = self.disappearingMessagesDurations[index];
+    self.disappearingMessagesConfiguration.durationSeconds = [numberOfSeconds unsignedIntValue];
+
+    if (self.disappearingMessagesConfiguration.isEnabled) {
+        NSString *keepForFormat = NSLocalizedString(@"KEEP_MESSAGES_DURATION",
+            @"Slider label embeds {{TIME_AMOUNT}}, e.g. '2 hours'. See *_TIME_AMOUNT strings for examples.");
+        self.disappearingMessagesDurationLabel.text =
+            [NSString stringWithFormat:keepForFormat, self.disappearingMessagesConfiguration.durationString];
+    } else {
+        self.disappearingMessagesDurationLabel.text
+            = NSLocalizedString(@"KEEP_MESSAGES_FOREVER", @"Slider label when disappearing messages is off");
+    }
+}
+
+#pragma mark - Navigation
+
+// In a storyboard-based application, you will often want to do a little preparation before navigation
+- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(nullable id)sender
+{
+    if ([segue.destinationViewController isKindOfClass:[FingerprintViewController class]]) {
+        FingerprintViewController *controller = (FingerprintViewController *)segue.destinationViewController;
+
+        OWSFingerprintBuilder *fingerprintBuilder =
+            [[OWSFingerprintBuilder alloc] initWithStorageManager:self.storageManager];
+        OWSFingerprint *fingerprint = [fingerprintBuilder fingerprintWithTheirSignalId:self.thread.contactIdentifier];
+
+        [controller configureWithThread:self.thread fingerprint:fingerprint contactName:self.contactName];
+        controller.dismissDelegate = self;
+    } else if ([segue.identifier isEqualToString:OWSConversationSettingsTableViewControllerSegueUpdateGroup]) {
+        NewGroupViewController *vc = [segue destinationViewController];
+        [vc configWithThread:(TSGroupThread *)self.thread];
+    } else if ([segue.identifier isEqualToString:OWSConversationSettingsTableViewControllerSegueShowGroupMembers]) {
+        ShowGroupMembersViewController *vc = [segue destinationViewController];
+        [vc configWithThread:(TSGroupThread *)self.thread];
+    }
+}
+
+#pragma mark - Logging
+
++ (NSString *)tag
+{
+    return [NSString stringWithFormat:@"[%@]", self.class];
+}
+
+- (NSString *)tag
+{
+    return self.class.tag;
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/view controllers/OWSLinkedDevicesTableViewController.m b/Signal/src/view controllers/OWSLinkedDevicesTableViewController.m
index c4e18194d8e..61fbca5d013 100644
--- a/Signal/src/view controllers/OWSLinkedDevicesTableViewController.m	
+++ b/Signal/src/view controllers/OWSLinkedDevicesTableViewController.m	
@@ -59,8 +59,6 @@ - (void)viewDidLoad
     [self.refreshControl addTarget:self action:@selector(refreshDevices) forControlEvents:UIControlEventValueChanged];
 
     [self setupEditButton];
-    // So we can still tap on "add new device"
-    self.tableView.allowsSelectionDuringEditing = YES;
 }
 
 - (void)viewWillAppear:(BOOL)animated
diff --git a/Signal/src/view controllers/SignalsNavigationController.h b/Signal/src/view controllers/SignalsNavigationController.h
index 8d44dbf5838..97b699fe098 100644
--- a/Signal/src/view controllers/SignalsNavigationController.h	
+++ b/Signal/src/view controllers/SignalsNavigationController.h	
@@ -7,9 +7,9 @@
 //
 
 #import <UIKit/UIKit.h>
-#import "APNavigationController.h"
 #import "TSSocketManager.h"
-@interface SignalsNavigationController : APNavigationController
+
+@interface SignalsNavigationController : UINavigationController
 @property (nonatomic, strong) UIProgressView *socketStatusView;
 @property (nonatomic, strong) NSTimer *updateStatusTimer;
 @end
diff --git a/Signal/src/view controllers/SignalsViewController.m b/Signal/src/view controllers/SignalsViewController.m
index 375b591584b..872a8d64735 100644
--- a/Signal/src/view controllers/SignalsViewController.m	
+++ b/Signal/src/view controllers/SignalsViewController.m	
@@ -39,12 +39,39 @@ @interface SignalsViewController ()
 @property (nonatomic) long inboxCount;
 @property (nonatomic, retain) UISegmentedControl *segmentedControl;
 @property (nonatomic, strong) id previewingContext;
+@property (nonatomic, readonly) OWSContactsManager *contactsManager;
 
 @end
 
 @implementation SignalsViewController
 
-- (void)awakeFromNib {
+- (instancetype)init
+{
+    self = [super init];
+    if (!self) {
+        return self;
+    }
+
+    _contactsManager = [Environment getCurrent].contactsManager;
+
+    return self;
+}
+
+- (instancetype)initWithCoder:(NSCoder *)aDecoder
+{
+    self = [super initWithCoder:aDecoder];
+    if (!self) {
+        return self;
+    }
+
+    _contactsManager = [Environment getCurrent].contactsManager;
+
+    return self;
+}
+
+- (void)awakeFromNib
+{
+    [super awakeFromNib];
     [[Environment getCurrent] setSignalsViewController:self];
 }
 
@@ -172,7 +199,7 @@ - (InboxTableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath
     }
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
-      [cell configureWithThread:thread];
+        [cell configureWithThread:thread contactsManager:self.contactsManager];
     });
 
     if ((unsigned long)indexPath.row == [self.threadMappings numberOfItemsInSection:0] - 1) {
diff --git a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.h b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.h
index 98a2e9b7a01..a42b96a51bc 100644
--- a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.h
+++ b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.h
@@ -5,12 +5,11 @@
 #import <JSQMessagesViewController/JSQMessagesCollectionViewCell.h>
 #import <UIKit/UIKit.h>
 
-static const CGFloat OWSDisplayedMessageCellHeight = 70.0f;
+extern const CGFloat OWSDisplayedMessageCellMinimumHeight;
 
 @interface OWSDisplayedMessageCollectionViewCell : JSQMessagesCollectionViewCell
 
 @property (weak, nonatomic, readonly) JSQMessagesLabel *cellLabel;
 @property (weak, nonatomic, readonly) UIImageView *headerImageView;
-@property (strong, nonatomic, readonly) UIView *textContainer;
 
 @end
diff --git a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.m b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.m
index 7039a41b936..9022ba8126a 100644
--- a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.m
+++ b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.m
@@ -6,12 +6,13 @@
 
 #import <JSQMessagesViewController/UIView+JSQMessages.h>
 
+const CGFloat OWSDisplayedMessageCellMinimumHeight = 70.0;
+
 @interface OWSDisplayedMessageCollectionViewCell ()
 
 @property (weak, nonatomic) IBOutlet JSQMessagesLabel *cellLabel;
 @property (weak, nonatomic) IBOutlet NSLayoutConstraint *cellTopLabelHeightConstraint;
 @property (weak, nonatomic) IBOutlet UIImageView *headerImageView;
-@property (strong, nonatomic) IBOutlet UIView *textContainer;
 
 @end
 
@@ -39,12 +40,10 @@ - (void)awakeFromNib
 
     self.backgroundColor = [UIColor whiteColor];
 
-    self.textContainer.layer.borderColor = [[UIColor lightGrayColor] CGColor];
-    self.textContainer.layer.borderWidth = 0.75f;
-    self.textContainer.layer.cornerRadius = 5.0f;
-    self.cellLabel.textAlignment = NSTextAlignmentCenter;
-    self.cellLabel.font = [UIFont fontWithName:@"HelveticaNeue-Light" size:14.0f];
-    self.cellLabel.textColor = [UIColor lightGrayColor];
+    self.messageBubbleContainerView.layer.borderColor = [[UIColor lightGrayColor] CGColor];
+    self.messageBubbleContainerView.layer.borderWidth = 0.75f;
+    self.messageBubbleContainerView.layer.cornerRadius = 5.0f;
+    self.cellLabel.textColor = [UIColor darkGrayColor];
 }
 
 #pragma mark - Collection view cell
@@ -56,13 +55,4 @@ - (void)prepareForReuse
     self.cellLabel.text = nil;
 }
 
-// This subclass does not have a messageBubbleContainerView, so superclass
-// touch calculations will be incorrect. Since this view spans the entire
-// frame, we can override the touch handler to respond to user actions by
-// default.
-- (void)jsq_handleTapGesture:(UITapGestureRecognizer *)tap
-{
-    [self.delegate messagesCollectionViewCellDidTapMessageBubble:self];
-}
-
 @end
diff --git a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.xib b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.xib
index 62d7f9ed2ff..7459982d698 100644
--- a/Signal/src/views/OWSDisplayedMessageCollectionViewCell.xib
+++ b/Signal/src/views/OWSDisplayedMessageCollectionViewCell.xib
@@ -1,9 +1,10 @@
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="10117" systemVersion="15G31" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="11201" systemVersion="15G1004" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" colorMatched="YES">
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="10085"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="11161"/>
         <capability name="Alignment constraints with different attributes" minToolsVersion="5.1"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
     </dependencies>
     <objects>
         <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner"/>
@@ -16,8 +17,7 @@
                 <autoresizingMask key="autoresizingMask"/>
                 <subviews>
                     <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="cell top label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="gcR-Rk-KDC" userLabel="Cell top label" customClass="JSQMessagesLabel">
-                        <rect key="frame" x="0.0" y="0.0" width="320" height="20"/>
-                        <color key="backgroundColor" white="0.66666666666666663" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstAttribute="height" constant="20" id="ckj-xD-FJI"/>
                         </constraints>
@@ -25,20 +25,18 @@
                         <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
                         <nil key="highlightedColor"/>
                     </label>
-                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="qCf-bs-dBd" userLabel="textContainer">
-                        <rect key="frame" x="0.0" y="42" width="320" height="48"/>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="qCf-bs-dBd" userLabel="Bubble container">
                         <subviews>
-                            <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Info Message" textAlignment="center" lineBreakMode="wordWrap" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" numberOfLines="0" translatesAutoresizingMaskIntoConstraints="NO" id="OVa-Xw-5vl" customClass="JSQMessagesLabel">
-                                <rect key="frame" x="8" y="12" width="304" height="28"/>
+                            <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Info Message" textAlignment="center" lineBreakMode="wordWrap" numberOfLines="0" baselineAdjustment="alignBaselines" minimumScaleFactor="0.5" translatesAutoresizingMaskIntoConstraints="NO" id="OVa-Xw-5vl" customClass="JSQMessagesLabel">
                                 <constraints>
                                     <constraint firstAttribute="height" relation="greaterThanOrEqual" constant="14" id="fed-2c-dqd"/>
                                 </constraints>
-                                <fontDescription key="fontDescription" type="system" pointSize="17"/>
-                                <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="calibratedRGB"/>
+                                <fontDescription key="fontDescription" style="UICTFontTextStyleBody"/>
+                                <color key="textColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                                 <nil key="highlightedColor"/>
                             </label>
                         </subviews>
-                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <color key="backgroundColor" red="1" green="1" blue="1" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
                         <constraints>
                             <constraint firstItem="OVa-Xw-5vl" firstAttribute="leading" secondItem="qCf-bs-dBd" secondAttribute="leading" constant="8" id="2IE-8k-czI"/>
                             <constraint firstAttribute="bottom" secondItem="OVa-Xw-5vl" secondAttribute="bottom" constant="8" id="MtI-jW-t1x"/>
@@ -47,14 +45,12 @@
                         </constraints>
                     </view>
                     <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" image="warning_white.png" translatesAutoresizingMaskIntoConstraints="NO" id="ePO-Cy-jUE">
-                        <rect key="frame" x="143" y="20" width="35" height="35"/>
                         <constraints>
                             <constraint firstAttribute="height" constant="35" id="Llx-81-oyV"/>
                             <constraint firstAttribute="width" constant="35" id="Nth-3D-Wo9"/>
                         </constraints>
                     </imageView>
                 </subviews>
-                <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="calibratedWhite"/>
             </view>
             <constraints>
                 <constraint firstItem="ePO-Cy-jUE" firstAttribute="top" secondItem="gcR-Rk-KDC" secondAttribute="bottom" id="1yH-xH-np2"/>
@@ -73,7 +69,7 @@
                 <outlet property="cellTopLabel" destination="gcR-Rk-KDC" id="Ogk-hD-ge8"/>
                 <outlet property="cellTopLabelHeightConstraint" destination="ckj-xD-FJI" id="wBH-pQ-Wc7"/>
                 <outlet property="headerImageView" destination="ePO-Cy-jUE" id="4uq-2C-V7U"/>
-                <outlet property="textContainer" destination="qCf-bs-dBd" id="fL7-LO-El1"/>
+                <outlet property="messageBubbleContainerView" destination="qCf-bs-dBd" id="WMx-Di-LZG"/>
             </connections>
             <point key="canvasLocation" x="219" y="433"/>
         </collectionViewCell>
diff --git a/Signal/src/views/OWSExpirableMessageView.h b/Signal/src/views/OWSExpirableMessageView.h
new file mode 100644
index 00000000000..ea4ceeb12db
--- /dev/null
+++ b/Signal/src/views/OWSExpirableMessageView.h
@@ -0,0 +1,20 @@
+//  Created by Michael Kirk on 9/29/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+NS_ASSUME_NONNULL_BEGIN
+
+@class OWSExpirationTimerView;
+
+static const CGFloat OWSExpirableMessageViewTimerWidth = 10.0f;
+
+@protocol OWSExpirableMessageView
+
+@property (strong, nonatomic, readonly) IBOutlet OWSExpirationTimerView *expirationTimerView;
+@property (strong, nonatomic, readonly) IBOutlet NSLayoutConstraint *expirationTimerViewWidthConstraint;
+
+- (void)startExpirationTimerWithExpiresAtSeconds:(uint64_t)expiresAtSeconds
+                          initialDurationSeconds:(uint32_t)initialDurationSeconds;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSExpirationTimerView.h b/Signal/src/views/OWSExpirationTimerView.h
new file mode 100644
index 00000000000..043efdf8a02
--- /dev/null
+++ b/Signal/src/views/OWSExpirationTimerView.h
@@ -0,0 +1,17 @@
+//  Created by Michael Kirk on 9/29/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import <UIKit/UIKit.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSExpirationTimerView : UIView
+
+- (void)startTimerWithExpiresAtSeconds:(uint64_t)expiresAtSeconds
+                initialDurationSeconds:(uint32_t)initialDurationSeconds;
+
+- (void)stopBlinking;
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSExpirationTimerView.m b/Signal/src/views/OWSExpirationTimerView.m
new file mode 100644
index 00000000000..680a868f572
--- /dev/null
+++ b/Signal/src/views/OWSExpirationTimerView.m
@@ -0,0 +1,184 @@
+//  Created by Michael Kirk on 9/29/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSExpirationTimerView.h"
+#import "MessagesViewController.h"
+#import "UIColor+OWS.h"
+#import <QuartzCore/CAShapeLayer.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSExpirationTimerView ()
+
+@property (nonatomic) uint32_t initialDurationSeconds;
+@property (atomic) uint64_t expiresAtSeconds;
+
+@property (nonatomic, readonly) UIImageView *emptyHourglassImageView;
+@property (nonatomic, readonly) UIImageView *fullHourglassImageView;
+@property CGFloat ratioRemaining;
+
+@end
+
+@implementation OWSExpirationTimerView
+
+- (instancetype)initWithFrame:(CGRect)frame
+{
+    self = [super initWithFrame:frame];
+    if (!self) {
+        return self;
+    }
+
+    self.clipsToBounds = YES;
+
+    _emptyHourglassImageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"ic_hourglass_empty"]];
+    _emptyHourglassImageView.tintColor = [UIColor ows_blackColor];
+    [self insertSubview:_emptyHourglassImageView atIndex:0];
+
+    _fullHourglassImageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"ic_hourglass_full"]];
+    _fullHourglassImageView.tintColor = [UIColor ows_darkGrayColor];
+    [self insertSubview:_fullHourglassImageView atIndex:1];
+
+    _ratioRemaining = 1.0f;
+
+    return self;
+}
+
+- (nullable instancetype)initWithCoder:(NSCoder *)aDecoder
+{
+    self = [super initWithCoder:aDecoder];
+    if (!self) {
+        return self;
+    }
+
+    self.clipsToBounds = YES;
+
+    _emptyHourglassImageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"ic_hourglass_empty"]];
+    _emptyHourglassImageView.tintColor = [UIColor lightGrayColor];
+    [self insertSubview:_emptyHourglassImageView atIndex:1];
+
+    _fullHourglassImageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"ic_hourglass_full"]];
+    _fullHourglassImageView.tintColor = [UIColor lightGrayColor];
+    [self insertSubview:_fullHourglassImageView atIndex:0];
+
+    _ratioRemaining = 1.0f;
+
+    return self;
+}
+
+- (void)layoutSubviews
+{
+    CGFloat leftMargin = 0.0f;
+    CGFloat padding = 6.0f;
+    CGRect hourglassFrame
+        = CGRectMake(leftMargin, padding / 2, self.frame.size.height - padding, self.frame.size.height - padding);
+    self.emptyHourglassImageView.frame = hourglassFrame;
+    self.emptyHourglassImageView.bounds = hourglassFrame;
+    self.fullHourglassImageView.frame = hourglassFrame;
+    self.fullHourglassImageView.bounds = hourglassFrame;
+}
+
+- (void)restartAnimation:(NSNotification *)notification
+{
+    [self startTimerWithExpiresAtSeconds:self.expiresAtSeconds initialDurationSeconds:self.initialDurationSeconds];
+}
+
+- (void)startTimerWithExpiresAtSeconds:(uint64_t)expiresAtSeconds
+                initialDurationSeconds:(uint32_t)initialDurationSeconds
+{
+    if (expiresAtSeconds == 0) {
+        DDLogWarn(
+            @"%@ Asked to animate expiration for message which hasn't started expiring. intitialDurationSeconds:%u",
+            self.logTag,
+            initialDurationSeconds);
+    }
+
+    DDLogVerbose(@"%@ Starting animation timer with expiresAtSeconds: %llu initialDurationSeconds: %d",
+        self.logTag,
+        expiresAtSeconds,
+        initialDurationSeconds);
+
+    self.expiresAtSeconds = expiresAtSeconds;
+    self.initialDurationSeconds = initialDurationSeconds;
+    [[NSNotificationCenter defaultCenter] addObserver:self
+                                             selector:@selector(restartAnimation:)
+                                                 name:OWSMessagesViewControllerDidAppearNotification
+                                               object:nil];
+
+    double secondsLeft = (double)self.expiresAtSeconds - [NSDate new].timeIntervalSince1970;
+
+    if (secondsLeft < 0) {
+        secondsLeft = 0;
+    }
+
+    // Get hourglass frames to the proper size.
+    [self setNeedsLayout];
+    [self layoutIfNeeded];
+
+    CAGradientLayer *maskLayer = [CAGradientLayer new];
+    self.fullHourglassImageView.layer.mask = maskLayer;
+
+    maskLayer.frame = self.fullHourglassImageView.frame;
+
+    // Blur the top of the mask a bit with gradient
+    maskLayer.colors = @[ (id)[UIColor clearColor].CGColor, (id)[UIColor blackColor].CGColor ];
+    maskLayer.startPoint = CGPointMake(0.5f, 0);
+    maskLayer.endPoint = CGPointMake(0.5f, 0.2f);
+
+    CGFloat ratioRemaining = ((CGFloat)secondsLeft / (CGFloat)self.initialDurationSeconds);
+    if (ratioRemaining < 0) {
+        ratioRemaining = 0.0;
+    }
+    CGPoint defaultPosition = maskLayer.position;
+    CGPoint finalPosition = CGPointMake(defaultPosition.x, defaultPosition.y + maskLayer.bounds.size.height);
+    CGPoint startingPosition
+        = CGPointMake(defaultPosition.x, finalPosition.y - maskLayer.bounds.size.height * ratioRemaining);
+    maskLayer.position = startingPosition;
+
+    CABasicAnimation *revealAnimation = [CABasicAnimation animationWithKeyPath:@"position"];
+    revealAnimation.duration = secondsLeft;
+    revealAnimation.fromValue = [NSValue valueWithCGPoint:startingPosition];
+    revealAnimation.toValue = [NSValue valueWithCGPoint:finalPosition];
+
+    [maskLayer addAnimation:revealAnimation forKey:@"revealAnimation"];
+    maskLayer.position = finalPosition; // don't snap back
+
+    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, ((long long)secondsLeft - 2) * (long long)NSEC_PER_SEC),
+        dispatch_get_main_queue(),
+        ^{
+            [self startBlinking];
+        });
+}
+
+- (void)startBlinking
+{
+    CABasicAnimation *blinkAnimation = [CABasicAnimation animationWithKeyPath:@"opacity"];
+    blinkAnimation.duration = 0.5;
+    blinkAnimation.fromValue = @(1.0);
+    blinkAnimation.toValue = @(0.0);
+    blinkAnimation.repeatCount = 4;
+    blinkAnimation.autoreverses = YES;
+    blinkAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];
+    [self.layer addAnimation:blinkAnimation forKey:@"alphaBlink"];
+}
+
+- (void)stopBlinking
+{
+    [self.layer removeAnimationForKey:@"alphaBlink"];
+    self.layer.opacity = 1;
+}
+
+#pragma mark - Logging
+
++ (NSString *)logTag
+{
+    return [NSString stringWithFormat:@"[%@]", self.class];
+}
+
+- (NSString *)logTag
+{
+    return self.class.logTag;
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSIncomingMessageCollectionViewCell.h b/Signal/src/views/OWSIncomingMessageCollectionViewCell.h
new file mode 100644
index 00000000000..848669628d7
--- /dev/null
+++ b/Signal/src/views/OWSIncomingMessageCollectionViewCell.h
@@ -0,0 +1,13 @@
+//  Created by Michael Kirk on 9/29/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSExpirableMessageView.h"
+#import <JSQMessagesViewController/JSQMessagesCollectionViewCellIncoming.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSIncomingMessageCollectionViewCell : JSQMessagesCollectionViewCellIncoming <OWSExpirableMessageView>
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSIncomingMessageCollectionViewCell.m b/Signal/src/views/OWSIncomingMessageCollectionViewCell.m
new file mode 100644
index 00000000000..541fd955d0d
--- /dev/null
+++ b/Signal/src/views/OWSIncomingMessageCollectionViewCell.m
@@ -0,0 +1,43 @@
+//  Created by Michael Kirk on 9/29/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSIncomingMessageCollectionViewCell.h"
+#import "OWSExpirationTimerView.h"
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSIncomingMessageCollectionViewCell ()
+
+@property (strong, nonatomic) IBOutlet OWSExpirationTimerView *expirationTimerView;
+@property (strong, nonatomic) IBOutlet NSLayoutConstraint *expirationTimerViewWidthConstraint;
+
+@end
+
+@implementation OWSIncomingMessageCollectionViewCell
+
+- (void)awakeFromNib
+{
+    [super awakeFromNib];
+    self.expirationTimerViewWidthConstraint.constant = 0.0;
+}
+
+- (void)prepareForReuse
+{
+    [super prepareForReuse];
+    [self.expirationTimerView stopBlinking];
+    self.expirationTimerViewWidthConstraint.constant = 0.0f;
+}
+
+// pragma mark - OWSExpirableMessageView
+
+- (void)startExpirationTimerWithExpiresAtSeconds:(uint64_t)expiresAtSeconds
+                          initialDurationSeconds:(uint32_t)initialDurationSeconds
+{
+    self.expirationTimerViewWidthConstraint.constant = OWSExpirableMessageViewTimerWidth;
+    [self.expirationTimerView startTimerWithExpiresAtSeconds:expiresAtSeconds
+                                      initialDurationSeconds:initialDurationSeconds];
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSIncomingMessageCollectionViewCell.xib b/Signal/src/views/OWSIncomingMessageCollectionViewCell.xib
new file mode 100644
index 00000000000..08807f6b608
--- /dev/null
+++ b/Signal/src/views/OWSIncomingMessageCollectionViewCell.xib
@@ -0,0 +1,153 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="11201" systemVersion="15G1004" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" colorMatched="YES">
+    <dependencies>
+        <deployment identifier="iOS"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="11161"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
+    </dependencies>
+    <objects>
+        <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner"/>
+        <placeholder placeholderIdentifier="IBFirstResponder" id="-2" customClass="UIResponder"/>
+        <collectionViewCell opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" reuseIdentifier="" id="4lh-CK-yVn" customClass="OWSIncomingMessageCollectionViewCell">
+            <rect key="frame" x="0.0" y="0.0" width="320" height="154"/>
+            <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMinY="YES"/>
+            <view key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center">
+                <rect key="frame" x="0.0" y="0.0" width="320" height="154"/>
+                <autoresizingMask key="autoresizingMask"/>
+                <subviews>
+                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="cell top label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="afj-rd-iNv" userLabel="Cell top label" customClass="JSQMessagesLabel">
+                        <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="height" constant="20" id="fKS-MR-YPI"/>
+                        </constraints>
+                        <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                        <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                        <nil key="highlightedColor"/>
+                    </label>
+                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="bubble top label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="Ufa-bF-l1Y" userLabel="Bubble top label" customClass="JSQMessagesLabel">
+                        <color key="backgroundColor" red="0.33333333333333331" green="0.33333333333333331" blue="0.33333333333333331" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="height" constant="20" id="fal-sy-hrK"/>
+                        </constraints>
+                        <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                        <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                        <nil key="highlightedColor"/>
+                    </label>
+                    <view contentMode="scaleToFill" ambiguous="YES" misplaced="YES" translatesAutoresizingMaskIntoConstraints="NO" id="btS-p8-B7Z" userLabel="Bubble container">
+                        <frame key="frameInset" minX="36" minY="40" width="244" height="94"/>
+                        <subviews>
+                            <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" ambiguous="YES" misplaced="YES" translatesAutoresizingMaskIntoConstraints="NO" id="OCS-Fu-acq" userLabel="Bubble Image View">
+                                <frame key="frameInset" width="244" height="94"/>
+                            </imageView>
+                            <textView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" ambiguous="YES" misplaced="YES" translatesAutoresizingMaskIntoConstraints="NO" id="KYU-B8-cUW" customClass="JSQMessagesCellTextView">
+                                <frame key="frameInset" minX="6" width="238" height="94"/>
+                                <color key="backgroundColor" cocoaTouchSystemColor="groupTableViewBackgroundColor"/>
+                                <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                                <textInputTraits key="textInputTraits" autocapitalizationType="sentences"/>
+                            </textView>
+                        </subviews>
+                        <color key="backgroundColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="trailing" secondItem="KYU-B8-cUW" secondAttribute="trailing" id="4qS-03-PFO"/>
+                            <constraint firstAttribute="bottom" secondItem="KYU-B8-cUW" secondAttribute="bottom" id="B2v-Gq-Y1L"/>
+                            <constraint firstAttribute="trailing" secondItem="OCS-Fu-acq" secondAttribute="trailing" id="TdB-8V-aUc"/>
+                            <constraint firstItem="KYU-B8-cUW" firstAttribute="leading" secondItem="btS-p8-B7Z" secondAttribute="leading" constant="6" id="Tg9-9l-vr8"/>
+                            <constraint firstItem="KYU-B8-cUW" firstAttribute="top" secondItem="btS-p8-B7Z" secondAttribute="top" id="aEL-yH-N1p"/>
+                            <constraint firstAttribute="bottom" secondItem="OCS-Fu-acq" secondAttribute="bottom" id="aJ4-ZD-tk9"/>
+                            <constraint firstItem="OCS-Fu-acq" firstAttribute="leading" secondItem="btS-p8-B7Z" secondAttribute="leading" id="qpQ-dc-2V5"/>
+                            <constraint firstAttribute="width" constant="244" id="stE-iz-VHo"/>
+                            <constraint firstItem="OCS-Fu-acq" firstAttribute="top" secondItem="btS-p8-B7Z" secondAttribute="top" id="zTa-8g-VY4"/>
+                        </constraints>
+                    </view>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="Da1-09-wR4" userLabel="Avatar container">
+                        <subviews>
+                            <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="w23-sL-0Rh" userLabel="Avatar Image View"/>
+                        </subviews>
+                        <color key="backgroundColor" red="0.33333333333333331" green="0.33333333333333331" blue="0.33333333333333331" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstItem="w23-sL-0Rh" firstAttribute="leading" secondItem="Da1-09-wR4" secondAttribute="leading" id="6zm-sH-cOT"/>
+                            <constraint firstAttribute="trailing" secondItem="w23-sL-0Rh" secondAttribute="trailing" id="JgK-7W-L10"/>
+                            <constraint firstAttribute="bottom" secondItem="w23-sL-0Rh" secondAttribute="bottom" id="U39-Ze-JZ6"/>
+                            <constraint firstAttribute="width" constant="34" id="YwX-fW-Me6"/>
+                            <constraint firstItem="w23-sL-0Rh" firstAttribute="top" secondItem="Da1-09-wR4" secondAttribute="top" id="hxb-KR-hNK"/>
+                            <constraint firstAttribute="height" constant="34" id="tZk-AK-JFa"/>
+                        </constraints>
+                    </view>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="0eu-Z9-ndP" userLabel="Footer Container">
+                        <subviews>
+                            <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="cell bottom label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="UPz-5x-c1T" userLabel="Cell bottom label" customClass="JSQMessagesLabel">
+                                <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                <constraints>
+                                    <constraint firstAttribute="height" constant="20" id="xPR-Ph-Ze9"/>
+                                </constraints>
+                                <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                                <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                                <nil key="highlightedColor"/>
+                            </label>
+                            <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="UYa-ee-mie" userLabel="Expiration Timer" customClass="OWSExpirationTimerView">
+                                <constraints>
+                                    <constraint firstAttribute="width" constant="10" id="Spx-mv-2DX"/>
+                                </constraints>
+                            </view>
+                        </subviews>
+                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <constraints>
+                            <constraint firstAttribute="bottom" secondItem="UPz-5x-c1T" secondAttribute="bottom" id="3hV-mq-Bcf"/>
+                            <constraint firstItem="UPz-5x-c1T" firstAttribute="top" secondItem="0eu-Z9-ndP" secondAttribute="top" id="7v5-pU-s1n"/>
+                            <constraint firstAttribute="trailing" secondItem="UPz-5x-c1T" secondAttribute="trailing" id="TlZ-tg-six"/>
+                            <constraint firstItem="UPz-5x-c1T" firstAttribute="leading" secondItem="UYa-ee-mie" secondAttribute="trailing" id="WVv-6q-I5l"/>
+                            <constraint firstAttribute="bottom" secondItem="UYa-ee-mie" secondAttribute="bottom" id="fVy-Bf-ePa"/>
+                            <constraint firstItem="UYa-ee-mie" firstAttribute="top" secondItem="0eu-Z9-ndP" secondAttribute="top" id="iHb-8v-vc4"/>
+                            <constraint firstItem="UYa-ee-mie" firstAttribute="leading" secondItem="0eu-Z9-ndP" secondAttribute="leading" id="p2g-wW-Ra6"/>
+                            <constraint firstAttribute="height" secondItem="UPz-5x-c1T" secondAttribute="height" id="vbI-L6-mkn"/>
+                        </constraints>
+                    </view>
+                </subviews>
+            </view>
+            <constraints>
+                <constraint firstAttribute="trailing" secondItem="0eu-Z9-ndP" secondAttribute="trailing" id="JeQ-cB-BZe"/>
+                <constraint firstAttribute="trailing" secondItem="afj-rd-iNv" secondAttribute="trailing" id="Ka4-Dy-jCS"/>
+                <constraint firstItem="0eu-Z9-ndP" firstAttribute="top" secondItem="Da1-09-wR4" secondAttribute="bottom" id="Mxx-Zi-4pN"/>
+                <constraint firstItem="afj-rd-iNv" firstAttribute="leading" secondItem="4lh-CK-yVn" secondAttribute="leading" id="OnD-mZ-QtR"/>
+                <constraint firstAttribute="bottom" secondItem="0eu-Z9-ndP" secondAttribute="bottom" id="VPM-Vk-cDj"/>
+                <constraint firstItem="Ufa-bF-l1Y" firstAttribute="leading" secondItem="4lh-CK-yVn" secondAttribute="leading" id="Z5z-m3-8Ne"/>
+                <constraint firstItem="afj-rd-iNv" firstAttribute="top" secondItem="4lh-CK-yVn" secondAttribute="top" id="ZG9-2M-N52"/>
+                <constraint firstAttribute="trailing" secondItem="Ufa-bF-l1Y" secondAttribute="trailing" id="cWQ-1Q-xOA"/>
+                <constraint firstItem="Ufa-bF-l1Y" firstAttribute="top" secondItem="afj-rd-iNv" secondAttribute="bottom" id="i9Y-sV-v6b"/>
+                <constraint firstItem="btS-p8-B7Z" firstAttribute="leading" secondItem="Da1-09-wR4" secondAttribute="trailing" constant="2" id="j0I-pm-eex"/>
+                <constraint firstItem="btS-p8-B7Z" firstAttribute="top" secondItem="Ufa-bF-l1Y" secondAttribute="bottom" id="jAu-Dn-7rN"/>
+                <constraint firstItem="Da1-09-wR4" firstAttribute="leading" secondItem="4lh-CK-yVn" secondAttribute="leading" id="jiu-B4-TSD"/>
+                <constraint firstItem="0eu-Z9-ndP" firstAttribute="leading" secondItem="4lh-CK-yVn" secondAttribute="leading" constant="10" id="kwA-RP-CSv"/>
+            </constraints>
+            <size key="customSize" width="317" height="245"/>
+            <connections>
+                <outlet property="avatarContainerView" destination="Da1-09-wR4" id="tpM-P4-qUR"/>
+                <outlet property="avatarContainerViewHeightConstraint" destination="tZk-AK-JFa" id="tPu-mC-ITh"/>
+                <outlet property="avatarContainerViewWidthConstraint" destination="YwX-fW-Me6" id="5PN-NL-hEP"/>
+                <outlet property="avatarImageView" destination="w23-sL-0Rh" id="Yf4-UR-VRC"/>
+                <outlet property="cellBottomLabel" destination="UPz-5x-c1T" id="MKm-hp-T6v"/>
+                <outlet property="cellBottomLabelHeightConstraint" destination="xPR-Ph-Ze9" id="nvV-Tk-AIs"/>
+                <outlet property="cellTopLabel" destination="afj-rd-iNv" id="bTd-4q-U7e"/>
+                <outlet property="cellTopLabelHeightConstraint" destination="fKS-MR-YPI" id="YWd-Rd-qSL"/>
+                <outlet property="expirationTimerView" destination="UYa-ee-mie" id="y5V-L9-vWJ"/>
+                <outlet property="expirationTimerViewWidthConstraint" destination="Spx-mv-2DX" id="ebW-8s-AfN"/>
+                <outlet property="messageBubbleContainerView" destination="btS-p8-B7Z" id="2sk-5p-NEd"/>
+                <outlet property="messageBubbleContainerWidthConstraint" destination="stE-iz-VHo" id="lle-iT-67d"/>
+                <outlet property="messageBubbleImageView" destination="OCS-Fu-acq" id="OuN-5t-30g"/>
+                <outlet property="messageBubbleTopLabel" destination="Ufa-bF-l1Y" id="VtH-te-blR"/>
+                <outlet property="messageBubbleTopLabelHeightConstraint" destination="fal-sy-hrK" id="kgv-NO-Gud"/>
+                <outlet property="textView" destination="KYU-B8-cUW" id="1Yv-ln-EUZ"/>
+                <outlet property="textViewAvatarHorizontalSpaceConstraint" destination="Tg9-9l-vr8" id="HWn-aO-NbR"/>
+                <outlet property="textViewBottomVerticalSpaceConstraint" destination="B2v-Gq-Y1L" id="oKV-Ti-Oci"/>
+                <outlet property="textViewMarginHorizontalSpaceConstraint" destination="4qS-03-PFO" id="1Qe-Ee-fUO"/>
+                <outlet property="textViewTopVerticalSpaceConstraint" destination="aEL-yH-N1p" id="WPl-0b-tf1"/>
+            </connections>
+            <point key="canvasLocation" x="255" y="202"/>
+        </collectionViewCell>
+    </objects>
+    <simulatedMetricsContainer key="defaultSimulatedMetrics">
+        <simulatedStatusBarMetrics key="statusBar"/>
+        <simulatedOrientationMetrics key="orientation"/>
+        <simulatedScreenMetrics key="destination" type="retina4_7.fullscreen"/>
+    </simulatedMetricsContainer>
+</document>
diff --git a/Signal/src/views/OWSOutgoingMessageCollectionViewCell.h b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.h
new file mode 100644
index 00000000000..16ce98ce663
--- /dev/null
+++ b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.h
@@ -0,0 +1,13 @@
+//  Created by Michael Kirk on 9/28/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSExpirableMessageView.h"
+#import <JSQMessagesViewController/JSQMessagesCollectionViewCellOutgoing.h>
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSOutgoingMessageCollectionViewCell : JSQMessagesCollectionViewCellOutgoing <OWSExpirableMessageView>
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSOutgoingMessageCollectionViewCell.m b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.m
new file mode 100644
index 00000000000..34e32e30e10
--- /dev/null
+++ b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.m
@@ -0,0 +1,43 @@
+//  Created by Michael Kirk on 9/28/16.
+//  Copyright  2016 Open Whisper Systems. All rights reserved.
+
+#import "OWSOutgoingMessageCollectionViewCell.h"
+#import "OWSExpirationTimerView.h"
+
+NS_ASSUME_NONNULL_BEGIN
+
+@interface OWSOutgoingMessageCollectionViewCell ()
+
+@property (strong, nonatomic) IBOutlet OWSExpirationTimerView *expirationTimerView;
+@property (strong, nonatomic) IBOutlet NSLayoutConstraint *expirationTimerViewWidthConstraint;
+
+@end
+
+@implementation OWSOutgoingMessageCollectionViewCell
+
+- (void)awakeFromNib
+{
+    [super awakeFromNib];
+    self.expirationTimerViewWidthConstraint.constant = 0.0;
+}
+
+- (void)prepareForReuse
+{
+    [super prepareForReuse];
+    [self.expirationTimerView stopBlinking];
+    self.expirationTimerViewWidthConstraint.constant = 0.0f;
+}
+
+// pragma mark - OWSExpirableMessageView
+
+- (void)startExpirationTimerWithExpiresAtSeconds:(uint64_t)expiresAtSeconds
+                          initialDurationSeconds:(uint32_t)initialDurationSeconds
+{
+    self.expirationTimerViewWidthConstraint.constant = OWSExpirableMessageViewTimerWidth;
+    [self.expirationTimerView startTimerWithExpiresAtSeconds:expiresAtSeconds
+                                      initialDurationSeconds:initialDurationSeconds];
+}
+
+@end
+
+NS_ASSUME_NONNULL_END
diff --git a/Signal/src/views/OWSOutgoingMessageCollectionViewCell.xib b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.xib
new file mode 100644
index 00000000000..b31e71517a9
--- /dev/null
+++ b/Signal/src/views/OWSOutgoingMessageCollectionViewCell.xib
@@ -0,0 +1,150 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="11201" systemVersion="15G1004" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" colorMatched="YES">
+    <dependencies>
+        <deployment identifier="iOS"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="11161"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
+    </dependencies>
+    <objects>
+        <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner"/>
+        <placeholder placeholderIdentifier="IBFirstResponder" id="-2" customClass="UIResponder"/>
+        <collectionViewCell opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center" reuseIdentifier="" id="23f-xH-rkY" customClass="OWSOutgoingMessageCollectionViewCell">
+            <rect key="frame" x="0.0" y="0.0" width="320" height="154"/>
+            <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMinY="YES"/>
+            <view key="contentView" opaque="NO" clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="center">
+                <rect key="frame" x="0.0" y="0.0" width="320" height="154"/>
+                <autoresizingMask key="autoresizingMask"/>
+                <subviews>
+                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="cell top label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="jxM-YD-sVG" userLabel="Cell top label" customClass="JSQMessagesLabel">
+                        <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="height" constant="20" id="9oK-E7-iXA"/>
+                        </constraints>
+                        <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                        <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                        <nil key="highlightedColor"/>
+                    </label>
+                    <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="bubble top label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="p52-YN-yLu" userLabel="Bubble top label" customClass="JSQMessagesLabel">
+                        <color key="backgroundColor" red="0.33333333333333331" green="0.33333333333333331" blue="0.33333333333333331" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="height" constant="20" id="8TB-va-f8L"/>
+                        </constraints>
+                        <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                        <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                        <nil key="highlightedColor"/>
+                    </label>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="2zh-vR-QJW" userLabel="Bubble container">
+                        <subviews>
+                            <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="2qm-c6-OZf" userLabel="Bubble Image View"/>
+                            <textView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="vLY-aM-0Dr" customClass="JSQMessagesCellTextView">
+                                <color key="backgroundColor" cocoaTouchSystemColor="groupTableViewBackgroundColor"/>
+                                <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                                <textInputTraits key="textInputTraits" autocapitalizationType="sentences"/>
+                            </textView>
+                        </subviews>
+                        <color key="backgroundColor" red="0.0" green="0.0" blue="0.0" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstItem="vLY-aM-0Dr" firstAttribute="leading" secondItem="2zh-vR-QJW" secondAttribute="leading" id="7rI-Nc-AK3"/>
+                            <constraint firstAttribute="trailing" secondItem="2qm-c6-OZf" secondAttribute="trailing" id="AEu-1l-tqh"/>
+                            <constraint firstItem="2qm-c6-OZf" firstAttribute="top" secondItem="2zh-vR-QJW" secondAttribute="top" id="DbW-Cx-zOW"/>
+                            <constraint firstItem="2qm-c6-OZf" firstAttribute="leading" secondItem="2zh-vR-QJW" secondAttribute="leading" id="H1H-yn-Raq"/>
+                            <constraint firstItem="vLY-aM-0Dr" firstAttribute="top" secondItem="2zh-vR-QJW" secondAttribute="top" id="RiG-21-Bqc"/>
+                            <constraint firstAttribute="bottom" secondItem="vLY-aM-0Dr" secondAttribute="bottom" id="UbF-Bl-Q7v"/>
+                            <constraint firstAttribute="trailing" secondItem="vLY-aM-0Dr" secondAttribute="trailing" constant="6" id="aVg-yy-8K7"/>
+                            <constraint firstAttribute="width" constant="244" id="imD-52-K45"/>
+                            <constraint firstAttribute="bottom" secondItem="2qm-c6-OZf" secondAttribute="bottom" id="lts-Ve-wSh"/>
+                        </constraints>
+                    </view>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="X89-B1-aAd" userLabel="Avatar container">
+                        <subviews>
+                            <imageView userInteractionEnabled="NO" contentMode="scaleToFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" translatesAutoresizingMaskIntoConstraints="NO" id="y9b-D9-Q7W" userLabel="Avatar Image View"/>
+                        </subviews>
+                        <color key="backgroundColor" red="0.33333333333333331" green="0.33333333333333331" blue="0.33333333333333331" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                        <constraints>
+                            <constraint firstAttribute="bottom" secondItem="y9b-D9-Q7W" secondAttribute="bottom" id="7SX-4t-GAr"/>
+                            <constraint firstAttribute="width" constant="34" id="Pkm-tW-k4z"/>
+                            <constraint firstItem="y9b-D9-Q7W" firstAttribute="leading" secondItem="X89-B1-aAd" secondAttribute="leading" id="Pya-tL-FjE"/>
+                            <constraint firstItem="y9b-D9-Q7W" firstAttribute="top" secondItem="X89-B1-aAd" secondAttribute="top" id="e5w-hn-mre"/>
+                            <constraint firstAttribute="height" constant="34" id="tgw-aN-JJu"/>
+                            <constraint firstAttribute="trailing" secondItem="y9b-D9-Q7W" secondAttribute="trailing" id="w9X-3u-BNY"/>
+                        </constraints>
+                    </view>
+                    <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="wFK-dt-TWZ" userLabel="Footer Container">
+                        <subviews>
+                            <label opaque="NO" clipsSubviews="YES" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="cell bottom label" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="7Uc-dI-YDD" userLabel="Cell bottom label" customClass="JSQMessagesLabel">
+                                <color key="backgroundColor" red="0.66666666666666663" green="0.66666666666666663" blue="0.66666666666666663" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+                                <constraints>
+                                    <constraint firstAttribute="height" constant="20" id="cPs-M4-tjX"/>
+                                </constraints>
+                                <fontDescription key="fontDescription" type="system" pointSize="14"/>
+                                <color key="textColor" cocoaTouchSystemColor="darkTextColor"/>
+                                <nil key="highlightedColor"/>
+                            </label>
+                            <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="0tt-tR-3Iu" userLabel="Expiration Timer" customClass="OWSExpirationTimerView">
+                                <constraints>
+                                    <constraint firstAttribute="width" constant="10" id="5XO-l6-PgT"/>
+                                </constraints>
+                            </view>
+                        </subviews>
+                        <color key="backgroundColor" white="1" alpha="1" colorSpace="calibratedWhite"/>
+                        <constraints>
+                            <constraint firstItem="0tt-tR-3Iu" firstAttribute="leading" secondItem="7Uc-dI-YDD" secondAttribute="trailing" id="3rd-VE-2kc"/>
+                            <constraint firstItem="7Uc-dI-YDD" firstAttribute="leading" secondItem="wFK-dt-TWZ" secondAttribute="leading" id="8bH-5V-WeT"/>
+                            <constraint firstItem="7Uc-dI-YDD" firstAttribute="top" secondItem="wFK-dt-TWZ" secondAttribute="top" id="HU0-Ql-nzh"/>
+                            <constraint firstAttribute="bottom" secondItem="7Uc-dI-YDD" secondAttribute="bottom" id="aG2-Au-de4"/>
+                            <constraint firstItem="0tt-tR-3Iu" firstAttribute="top" secondItem="wFK-dt-TWZ" secondAttribute="top" id="cWj-FU-zAs"/>
+                            <constraint firstAttribute="bottom" secondItem="0tt-tR-3Iu" secondAttribute="bottom" id="d3u-eO-0Vh"/>
+                            <constraint firstAttribute="trailing" secondItem="0tt-tR-3Iu" secondAttribute="trailing" id="ikV-vO-dvu"/>
+                            <constraint firstItem="7Uc-dI-YDD" firstAttribute="height" secondItem="wFK-dt-TWZ" secondAttribute="height" id="tBD-NV-24p"/>
+                        </constraints>
+                    </view>
+                </subviews>
+            </view>
+            <constraints>
+                <constraint firstItem="wFK-dt-TWZ" firstAttribute="leading" secondItem="23f-xH-rkY" secondAttribute="leading" id="3WR-qA-BlN"/>
+                <constraint firstItem="2zh-vR-QJW" firstAttribute="top" secondItem="p52-YN-yLu" secondAttribute="bottom" id="3Wx-g0-fTc"/>
+                <constraint firstAttribute="trailing" secondItem="jxM-YD-sVG" secondAttribute="trailing" id="AwY-g7-f1T"/>
+                <constraint firstItem="wFK-dt-TWZ" firstAttribute="top" secondItem="2zh-vR-QJW" secondAttribute="bottom" id="Ckg-Bj-HXn"/>
+                <constraint firstItem="jxM-YD-sVG" firstAttribute="top" secondItem="23f-xH-rkY" secondAttribute="top" id="HYT-Tw-whz"/>
+                <constraint firstAttribute="trailing" secondItem="X89-B1-aAd" secondAttribute="trailing" id="KLt-Ix-wDa"/>
+                <constraint firstAttribute="bottom" secondItem="wFK-dt-TWZ" secondAttribute="bottom" id="g9n-w3-IXp"/>
+                <constraint firstAttribute="trailing" secondItem="p52-YN-yLu" secondAttribute="trailing" id="gen-N0-uZj"/>
+                <constraint firstItem="wFK-dt-TWZ" firstAttribute="top" secondItem="X89-B1-aAd" secondAttribute="bottom" id="hNe-hv-ytt"/>
+                <constraint firstItem="p52-YN-yLu" firstAttribute="top" secondItem="jxM-YD-sVG" secondAttribute="bottom" id="jBD-JV-AWk"/>
+                <constraint firstItem="jxM-YD-sVG" firstAttribute="leading" secondItem="23f-xH-rkY" secondAttribute="leading" id="qeB-G5-1Wq"/>
+                <constraint firstAttribute="trailing" secondItem="wFK-dt-TWZ" secondAttribute="trailing" constant="10" id="r4Q-Yj-BY6"/>
+                <constraint firstItem="p52-YN-yLu" firstAttribute="leading" secondItem="23f-xH-rkY" secondAttribute="leading" id="tTj-Mp-0va"/>
+                <constraint firstItem="X89-B1-aAd" firstAttribute="leading" secondItem="2zh-vR-QJW" secondAttribute="trailing" constant="2" id="vMz-Yi-B0w"/>
+            </constraints>
+            <size key="customSize" width="317" height="245"/>
+            <connections>
+                <outlet property="avatarContainerView" destination="X89-B1-aAd" id="WSI-Zc-qIE"/>
+                <outlet property="avatarContainerViewHeightConstraint" destination="tgw-aN-JJu" id="pgV-tY-5Cm"/>
+                <outlet property="avatarContainerViewWidthConstraint" destination="Pkm-tW-k4z" id="Cpe-d3-yiq"/>
+                <outlet property="avatarImageView" destination="y9b-D9-Q7W" id="cZo-SR-S9h"/>
+                <outlet property="cellBottomLabel" destination="7Uc-dI-YDD" id="gVD-C2-UcZ"/>
+                <outlet property="cellBottomLabelHeightConstraint" destination="cPs-M4-tjX" id="b5k-6e-iA8"/>
+                <outlet property="cellTopLabel" destination="jxM-YD-sVG" id="acH-pr-spx"/>
+                <outlet property="cellTopLabelHeightConstraint" destination="9oK-E7-iXA" id="MZM-kV-2dI"/>
+                <outlet property="expirationTimerView" destination="0tt-tR-3Iu" id="1Yp-Fs-DUh"/>
+                <outlet property="expirationTimerViewWidthConstraint" destination="5XO-l6-PgT" id="6md-KV-QkY"/>
+                <outlet property="messageBubbleContainerView" destination="2zh-vR-QJW" id="pu0-GU-eZl"/>
+                <outlet property="messageBubbleContainerWidthConstraint" destination="imD-52-K45" id="Xld-Pa-yJw"/>
+                <outlet property="messageBubbleImageView" destination="2qm-c6-OZf" id="bpy-Gv-jSh"/>
+                <outlet property="messageBubbleTopLabel" destination="p52-YN-yLu" id="SLH-sA-Chu"/>
+                <outlet property="messageBubbleTopLabelHeightConstraint" destination="8TB-va-f8L" id="FNt-BS-Wxi"/>
+                <outlet property="textView" destination="vLY-aM-0Dr" id="YEp-mW-xIY"/>
+                <outlet property="textViewAvatarHorizontalSpaceConstraint" destination="aVg-yy-8K7" id="CIe-Bi-eng"/>
+                <outlet property="textViewBottomVerticalSpaceConstraint" destination="UbF-Bl-Q7v" id="KHP-49-3u4"/>
+                <outlet property="textViewMarginHorizontalSpaceConstraint" destination="7rI-Nc-AK3" id="ciu-j6-IpH"/>
+                <outlet property="textViewTopVerticalSpaceConstraint" destination="RiG-21-Bqc" id="i3j-z0-feE"/>
+            </connections>
+            <point key="canvasLocation" x="371" y="145"/>
+        </collectionViewCell>
+    </objects>
+    <simulatedMetricsContainer key="defaultSimulatedMetrics">
+        <simulatedStatusBarMetrics key="statusBar"/>
+        <simulatedOrientationMetrics key="orientation"/>
+        <simulatedScreenMetrics key="destination" type="retina4_7.fullscreen"/>
+    </simulatedMetricsContainer>
+</document>
diff --git a/Signal/translations/ar.lproj/Localizable.strings b/Signal/translations/ar.lproj/Localizable.strings
index 3b38e586e07..8832b9732ce 100644
Binary files a/Signal/translations/ar.lproj/Localizable.strings and b/Signal/translations/ar.lproj/Localizable.strings differ
diff --git a/Signal/translations/az_AZ.lproj/Localizable.strings b/Signal/translations/az_AZ.lproj/Localizable.strings
index 108982f7f46..f86d20689c4 100644
Binary files a/Signal/translations/az_AZ.lproj/Localizable.strings and b/Signal/translations/az_AZ.lproj/Localizable.strings differ
diff --git a/Signal/translations/bg.lproj/Localizable.strings b/Signal/translations/bg.lproj/Localizable.strings
index cdbe227f116..e2d5ee884d0 100644
Binary files a/Signal/translations/bg.lproj/Localizable.strings and b/Signal/translations/bg.lproj/Localizable.strings differ
diff --git a/Signal/translations/bin/append-strings-from-file b/Signal/translations/bin/append-strings-from-file
new file mode 100755
index 00000000000..9bc3b93bd3e
--- /dev/null
+++ b/Signal/translations/bin/append-strings-from-file
@@ -0,0 +1,37 @@
+#!/usr/bin/env bash
+
+set -x
+
+function usage() {
+cat <<EOS
+Extracts string from target file and appends to Localizable.strings
+
+    $0 <filename.m>
+
+e.g.
+
+    $0 path/to/my/ClassName.m
+EOS
+}
+
+BIN_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
+cd $BIN_DIR/..
+
+TARGET=$1
+if [[ -z $TARGET ]]
+then
+  echo "Can't proceed without target"
+  usage
+  exit 1
+fi
+
+if [[ ! -e $TARGET ]]
+then
+  echo "No file exists at ${TARGET}"
+  exit 1
+fi
+
+# pwd.
+OUTPUT_DIR=en.lproj/
+mkdir -p "${OUTPUT_DIR}"
+genstrings -a -o "${OUTPUT_DIR}" "${TARGET}"
diff --git a/Signal/translations/bin/genstrings-for-file b/Signal/translations/bin/genstrings-for-file
deleted file mode 100755
index 6f73fda61ba..00000000000
--- a/Signal/translations/bin/genstrings-for-file
+++ /dev/null
@@ -1,27 +0,0 @@
-#!/usr/bin/env bash
-
-set -x
-
-function usage() {
-cat <<EOS
-Extracts string from target file to new.strings
-
-    $0 <filename.m>
-
-e.g.
-
-    $0 path/to/my/ClassName.m
-EOS
-}
-
-TARGET=$1
-if [[ -z $TARGET ]]
-then
-  echo "Can't proceed without target"
-  usage
-  exit 1
-fi
-
-OUTPUT_DIR=new_strings
-mkdir -p "${OUTPUT_DIR}"
-genstrings -o "${OUTPUT_DIR}" "${TARGET}"
diff --git a/Signal/translations/bs.lproj/Localizable.strings b/Signal/translations/bs.lproj/Localizable.strings
index 454a76ee725..b83cf83242a 100644
Binary files a/Signal/translations/bs.lproj/Localizable.strings and b/Signal/translations/bs.lproj/Localizable.strings differ
diff --git a/Signal/translations/ca.lproj/Localizable.strings b/Signal/translations/ca.lproj/Localizable.strings
index 5a8fd86b416..1f8bbe9bca5 100644
Binary files a/Signal/translations/ca.lproj/Localizable.strings and b/Signal/translations/ca.lproj/Localizable.strings differ
diff --git a/Signal/translations/cs.lproj/Localizable.strings b/Signal/translations/cs.lproj/Localizable.strings
index 1774dfbc557..33535365ced 100644
Binary files a/Signal/translations/cs.lproj/Localizable.strings and b/Signal/translations/cs.lproj/Localizable.strings differ
diff --git a/Signal/translations/da.lproj/Localizable.strings b/Signal/translations/da.lproj/Localizable.strings
index eeeae0383b2..c447b174d25 100644
Binary files a/Signal/translations/da.lproj/Localizable.strings and b/Signal/translations/da.lproj/Localizable.strings differ
diff --git a/Signal/translations/de.lproj/Localizable.strings b/Signal/translations/de.lproj/Localizable.strings
index 39ae4086a70..f0023044223 100644
Binary files a/Signal/translations/de.lproj/Localizable.strings and b/Signal/translations/de.lproj/Localizable.strings differ
diff --git a/Signal/translations/el_GR.lproj/Localizable.strings b/Signal/translations/el_GR.lproj/Localizable.strings
index 13843dce987..afbd57a9045 100644
Binary files a/Signal/translations/el_GR.lproj/Localizable.strings and b/Signal/translations/el_GR.lproj/Localizable.strings differ
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index 4052fa00781..c30c723c3e4 100644
Binary files a/Signal/translations/en.lproj/Localizable.strings and b/Signal/translations/en.lproj/Localizable.strings differ
diff --git a/Signal/translations/es.lproj/Localizable.strings b/Signal/translations/es.lproj/Localizable.strings
index f55956ccda2..f74df947abe 100644
Binary files a/Signal/translations/es.lproj/Localizable.strings and b/Signal/translations/es.lproj/Localizable.strings differ
diff --git a/Signal/translations/fa.lproj/Localizable.strings b/Signal/translations/fa.lproj/Localizable.strings
index daad2d10b66..5f4db740aae 100644
Binary files a/Signal/translations/fa.lproj/Localizable.strings and b/Signal/translations/fa.lproj/Localizable.strings differ
diff --git a/Signal/translations/fi.lproj/Localizable.strings b/Signal/translations/fi.lproj/Localizable.strings
index 2510fefc0c2..64421d05b21 100644
Binary files a/Signal/translations/fi.lproj/Localizable.strings and b/Signal/translations/fi.lproj/Localizable.strings differ
diff --git a/Signal/translations/fil.lproj/Localizable.strings b/Signal/translations/fil.lproj/Localizable.strings
index e607a58f092..7c653495a98 100644
Binary files a/Signal/translations/fil.lproj/Localizable.strings and b/Signal/translations/fil.lproj/Localizable.strings differ
diff --git a/Signal/translations/fr.lproj/Localizable.strings b/Signal/translations/fr.lproj/Localizable.strings
index c04a9734df0..6ff216d5c54 100644
Binary files a/Signal/translations/fr.lproj/Localizable.strings and b/Signal/translations/fr.lproj/Localizable.strings differ
diff --git a/Signal/translations/gl.lproj/Localizable.strings b/Signal/translations/gl.lproj/Localizable.strings
index 9df5bab9a89..db443382093 100644
Binary files a/Signal/translations/gl.lproj/Localizable.strings and b/Signal/translations/gl.lproj/Localizable.strings differ
diff --git a/Signal/translations/he.lproj/Localizable.strings b/Signal/translations/he.lproj/Localizable.strings
index 20d84be1d07..b783260d414 100644
Binary files a/Signal/translations/he.lproj/Localizable.strings and b/Signal/translations/he.lproj/Localizable.strings differ
diff --git a/Signal/translations/hr.lproj/Localizable.strings b/Signal/translations/hr.lproj/Localizable.strings
index 223fdd70fac..6f7ac487cdf 100644
Binary files a/Signal/translations/hr.lproj/Localizable.strings and b/Signal/translations/hr.lproj/Localizable.strings differ
diff --git a/Signal/translations/hu.lproj/Localizable.strings b/Signal/translations/hu.lproj/Localizable.strings
index e27f94bb3b5..20fb4e59734 100644
Binary files a/Signal/translations/hu.lproj/Localizable.strings and b/Signal/translations/hu.lproj/Localizable.strings differ
diff --git a/Signal/translations/id.lproj/Localizable.strings b/Signal/translations/id.lproj/Localizable.strings
index ee6ae4793f7..da5618f1135 100644
Binary files a/Signal/translations/id.lproj/Localizable.strings and b/Signal/translations/id.lproj/Localizable.strings differ
diff --git a/Signal/translations/it_IT.lproj/Localizable.strings b/Signal/translations/it_IT.lproj/Localizable.strings
index c8f89e57722..9ff294c4c07 100644
Binary files a/Signal/translations/it_IT.lproj/Localizable.strings and b/Signal/translations/it_IT.lproj/Localizable.strings differ
diff --git a/Signal/translations/ja_JP.lproj/Localizable.strings b/Signal/translations/ja_JP.lproj/Localizable.strings
index 9956beb74bb..1e77896c733 100644
Binary files a/Signal/translations/ja_JP.lproj/Localizable.strings and b/Signal/translations/ja_JP.lproj/Localizable.strings differ
diff --git a/Signal/translations/ko_KR.lproj/Localizable.strings b/Signal/translations/ko_KR.lproj/Localizable.strings
index 19c69a09048..513789f93fb 100644
Binary files a/Signal/translations/ko_KR.lproj/Localizable.strings and b/Signal/translations/ko_KR.lproj/Localizable.strings differ
diff --git a/Signal/translations/lv.lproj/Localizable.strings b/Signal/translations/lv.lproj/Localizable.strings
index d1134c7ff90..1c3070b6927 100644
Binary files a/Signal/translations/lv.lproj/Localizable.strings and b/Signal/translations/lv.lproj/Localizable.strings differ
diff --git a/Signal/translations/mk.lproj/Localizable.strings b/Signal/translations/mk.lproj/Localizable.strings
index 6ad7dea2546..3d5204495d6 100644
Binary files a/Signal/translations/mk.lproj/Localizable.strings and b/Signal/translations/mk.lproj/Localizable.strings differ
diff --git a/Signal/translations/nb_NO.lproj/Localizable.strings b/Signal/translations/nb_NO.lproj/Localizable.strings
index daa30e332ae..bc6d5f0f650 100644
Binary files a/Signal/translations/nb_NO.lproj/Localizable.strings and b/Signal/translations/nb_NO.lproj/Localizable.strings differ
diff --git a/Signal/translations/nl.lproj/Localizable.strings b/Signal/translations/nl.lproj/Localizable.strings
index b0cd092924b..5ffdcf8b7b4 100644
Binary files a/Signal/translations/nl.lproj/Localizable.strings and b/Signal/translations/nl.lproj/Localizable.strings differ
diff --git a/Signal/translations/pl.lproj/Localizable.strings b/Signal/translations/pl.lproj/Localizable.strings
index 250444795fa..f01753cb97d 100644
Binary files a/Signal/translations/pl.lproj/Localizable.strings and b/Signal/translations/pl.lproj/Localizable.strings differ
diff --git a/Signal/translations/pt_BR.lproj/Localizable.strings b/Signal/translations/pt_BR.lproj/Localizable.strings
index d8331b9413e..81ef464d3aa 100644
Binary files a/Signal/translations/pt_BR.lproj/Localizable.strings and b/Signal/translations/pt_BR.lproj/Localizable.strings differ
diff --git a/Signal/translations/pt_PT.lproj/Localizable.strings b/Signal/translations/pt_PT.lproj/Localizable.strings
index 3df34b5124e..1a78b1f706a 100644
Binary files a/Signal/translations/pt_PT.lproj/Localizable.strings and b/Signal/translations/pt_PT.lproj/Localizable.strings differ
diff --git a/Signal/translations/ro.lproj/Localizable.strings b/Signal/translations/ro.lproj/Localizable.strings
index cc074338807..a4ca857d6ba 100644
Binary files a/Signal/translations/ro.lproj/Localizable.strings and b/Signal/translations/ro.lproj/Localizable.strings differ
diff --git a/Signal/translations/ru.lproj/Localizable.strings b/Signal/translations/ru.lproj/Localizable.strings
index b6f52abeaf9..44660d6eaaf 100644
Binary files a/Signal/translations/ru.lproj/Localizable.strings and b/Signal/translations/ru.lproj/Localizable.strings differ
diff --git a/Signal/translations/sl.lproj/Localizable.strings b/Signal/translations/sl.lproj/Localizable.strings
index fc129e8c389..303407dbe1e 100644
Binary files a/Signal/translations/sl.lproj/Localizable.strings and b/Signal/translations/sl.lproj/Localizable.strings differ
diff --git a/Signal/translations/sn.lproj/Localizable.strings b/Signal/translations/sn.lproj/Localizable.strings
index 37c21bae051..a27779710df 100644
Binary files a/Signal/translations/sn.lproj/Localizable.strings and b/Signal/translations/sn.lproj/Localizable.strings differ
diff --git a/Signal/translations/sq.lproj/Localizable.strings b/Signal/translations/sq.lproj/Localizable.strings
index 0f9f10cdfbd..24a52b0098a 100644
Binary files a/Signal/translations/sq.lproj/Localizable.strings and b/Signal/translations/sq.lproj/Localizable.strings differ
diff --git a/Signal/translations/sv_SE.lproj/Localizable.strings b/Signal/translations/sv_SE.lproj/Localizable.strings
index 7da747900dd..06d3ba1faa1 100644
Binary files a/Signal/translations/sv_SE.lproj/Localizable.strings and b/Signal/translations/sv_SE.lproj/Localizable.strings differ
diff --git a/Signal/translations/th_TH.lproj/Localizable.strings b/Signal/translations/th_TH.lproj/Localizable.strings
index 958fe00fc5b..eaafd3630de 100644
Binary files a/Signal/translations/th_TH.lproj/Localizable.strings and b/Signal/translations/th_TH.lproj/Localizable.strings differ
diff --git a/Signal/translations/tr_TR.lproj/Localizable.strings b/Signal/translations/tr_TR.lproj/Localizable.strings
index fd8a9c6ce4e..5541a9b319e 100644
Binary files a/Signal/translations/tr_TR.lproj/Localizable.strings and b/Signal/translations/tr_TR.lproj/Localizable.strings differ
diff --git a/Signal/translations/zh_CN.lproj/Localizable.strings b/Signal/translations/zh_CN.lproj/Localizable.strings
index 7bd28355fe4..abde906610b 100644
Binary files a/Signal/translations/zh_CN.lproj/Localizable.strings and b/Signal/translations/zh_CN.lproj/Localizable.strings differ
