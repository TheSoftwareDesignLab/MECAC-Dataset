diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
index a11a150758d..8f2217cc84a 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
@@ -3797,12 +3797,15 @@ + (void)sendFakeMessages:(NSUInteger)counter thread:(TSThread *)thread isTextOnl
         dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
             NSUInteger remainder = counter;
             while (remainder > 0) {
-                NSUInteger batchSize = MIN(kMaxBatchSize, remainder);
-                [self writeWithBlock:^(SDSAnyWriteTransaction *_Nonnull transaction) {
-                    [self sendFakeMessages:batchSize thread:thread isTextOnly:isTextOnly transaction:transaction];
-                }];
-                remainder -= batchSize;
-                OWSLogInfo(@"sendFakeMessages %lu / %lu", (unsigned long)(counter - remainder), (unsigned long)counter);
+                @autoreleasepool {
+                    NSUInteger batchSize = MIN(kMaxBatchSize, remainder);
+                    [self writeWithBlock:^(SDSAnyWriteTransaction *_Nonnull transaction) {
+                        [self sendFakeMessages:batchSize thread:thread isTextOnly:isTextOnly transaction:transaction];
+                    }];
+                    remainder -= batchSize;
+                    OWSLogInfo(
+                        @"sendFakeMessages %lu / %lu", (unsigned long)(counter - remainder), (unsigned long)counter);
+                }
             }
         });
     }
