diff --git a/Signal/src/AppDelegate.m b/Signal/src/AppDelegate.m
index 52a4327206d..d00700ed61d 100644
--- a/Signal/src/AppDelegate.m
+++ b/Signal/src/AppDelegate.m
@@ -307,7 +307,7 @@ - (BOOL)ensureIsReadyForAppExtensions
         return NO;
     }
 
-    OWSAssert(backgroundTask);
+    OWSAssertDebug(backgroundTask);
     backgroundTask = nil;
 
     return YES;
@@ -781,7 +781,7 @@ - (BOOL)application:(UIApplication *)application
             }
 
             OutboundCallInitiator *outboundCallInitiator = SignalApp.sharedApp.outboundCallInitiator;
-            OWSAssert(outboundCallInitiator);
+            OWSAssertDebug(outboundCallInitiator);
             [outboundCallInitiator initiateCallWithHandle:phoneNumber];
         }];
         return YES;
@@ -824,7 +824,7 @@ - (BOOL)application:(UIApplication *)application
             }
 
             OutboundCallInitiator *outboundCallInitiator = SignalApp.sharedApp.outboundCallInitiator;
-            OWSAssert(outboundCallInitiator);
+            OWSAssertDebug(outboundCallInitiator);
             [outboundCallInitiator initiateCallWithHandle:phoneNumber];
         }];
         return YES;
diff --git a/Signal/src/ViewControllers/AppSettings/AddToBlockListViewController.m b/Signal/src/ViewControllers/AppSettings/AddToBlockListViewController.m
index 8eedf41b313..ad42e26f739 100644
--- a/Signal/src/ViewControllers/AppSettings/AddToBlockListViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/AddToBlockListViewController.m
@@ -46,7 +46,7 @@ - (NSString *)contactsSectionTitle
 
 - (void)phoneNumberWasSelected:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
 
     __weak AddToBlockListViewController *weakSelf = self;
     [BlockListUIUtils showBlockPhoneNumberActionSheet:phoneNumber
@@ -62,7 +62,7 @@ - (void)phoneNumberWasSelected:(NSString *)phoneNumber
 
 - (BOOL)canSignalAccountBeSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     ContactsViewHelper *helper = self.contactsViewHelper;
     return ![helper isRecipientIdBlocked:signalAccount.recipientId];
@@ -70,7 +70,7 @@ - (BOOL)canSignalAccountBeSelected:(SignalAccount *)signalAccount
 
 - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     __weak AddToBlockListViewController *weakSelf = self;
     ContactsViewHelper *helper = self.contactsViewHelper;
diff --git a/Signal/src/ViewControllers/AppSettings/AdvancedSettingsTableViewController.m b/Signal/src/ViewControllers/AppSettings/AdvancedSettingsTableViewController.m
index 5a533d1159c..3a404ddef0b 100644
--- a/Signal/src/ViewControllers/AppSettings/AdvancedSettingsTableViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/AdvancedSettingsTableViewController.m
@@ -182,7 +182,7 @@ - (void)updateTableContents
     if (OWSSignalService.sharedInstance.isCensorshipCircumventionManuallyActivated) {
         OWSCountryMetadata *manualCensorshipCircumventionCountry =
             [weakSelf ensureManualCensorshipCircumventionCountry];
-        OWSAssert(manualCensorshipCircumventionCountry);
+        OWSAssertDebug(manualCensorshipCircumventionCountry);
         NSString *text = [NSString
             stringWithFormat:NSLocalizedString(@"SETTINGS_ADVANCED_CENSORSHIP_CIRCUMVENTION_COUNTRY_FORMAT",
                                  @"Label for the 'manual censorship circumvention' country. Embeds {{the manual "
@@ -235,7 +235,7 @@ - (OWSCountryMetadata *)ensureManualCensorshipCircumventionCountry
     if (!countryMetadata) {
         countryCode = @"US";
         countryMetadata = [OWSCountryMetadata countryMetadataForCountryCode:countryCode];
-        OWSAssert(countryMetadata);
+        OWSAssertDebug(countryMetadata);
     }
 
     if (countryMetadata) {
diff --git a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
index c99e350af00..c70db1dbc04 100644
--- a/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/AppSettingsViewController.m
@@ -79,7 +79,7 @@ - (void)viewDidLoad
     [super viewDidLoad];
     [self.navigationItem setHidesBackButton:YES];
 
-    OWSAssert([self.navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug([self.navigationController isKindOfClass:[OWSNavigationController class]]);
 
     self.navigationItem.leftBarButtonItem =
         [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemStop
@@ -286,7 +286,7 @@ - (UITableViewCell *)profileHeaderCell
     UIImage *avatarImage = (localProfileAvatarImage
             ?: [[UIImage imageNamed:@"profile_avatar_default"]
                    imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate]);
-    OWSAssert(avatarImage);
+    OWSAssertDebug(avatarImage);
 
     AvatarImageView *avatarView = [[AvatarImageView alloc] initWithImage:avatarImage];
     if (!localProfileAvatarImage) {
@@ -342,7 +342,7 @@ - (UITableViewCell *)profileHeaderCell
     [subtitleLabel autoPinEdgeToSuperviewEdge:ALEdgeBottom];
 
     UIImage *disclosureImage = [UIImage imageNamed:(CurrentAppContext().isRTL ? @"NavBarBack" : @"NavBarBackRTL")];
-    OWSAssert(disclosureImage);
+    OWSAssertDebug(disclosureImage);
     UIImageView *disclosureButton =
         [[UIImageView alloc] initWithImage:[disclosureImage imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate]];
     disclosureButton.tintColor = [UIColor colorWithRGBHex:0xcccccc];
diff --git a/Signal/src/ViewControllers/AppSettings/DomainFrontingCountryViewController.m b/Signal/src/ViewControllers/AppSettings/DomainFrontingCountryViewController.m
index d20bc594b1f..0f0be7ea98b 100644
--- a/Signal/src/ViewControllers/AppSettings/DomainFrontingCountryViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/DomainFrontingCountryViewController.m
@@ -84,7 +84,7 @@ - (void)updateTableContents
 
 - (void)selectCountry:(OWSCountryMetadata *)countryMetadata
 {
-    OWSAssert(countryMetadata);
+    OWSAssertDebug(countryMetadata);
 
     OWSSignalService.sharedInstance.manualCensorshipCircumventionCountryCode = countryMetadata.countryCode;
 
diff --git a/Signal/src/ViewControllers/AppSettings/OWSLinkDeviceViewController.m b/Signal/src/ViewControllers/AppSettings/OWSLinkDeviceViewController.m
index 82dc8488538..99578b609b4 100644
--- a/Signal/src/ViewControllers/AppSettings/OWSLinkDeviceViewController.m
+++ b/Signal/src/ViewControllers/AppSettings/OWSLinkDeviceViewController.m
@@ -148,7 +148,7 @@ - (void)provisionWithParser:(OWSDeviceProvisioningURLParser *)parser
     [OWSDeviceManager.sharedManager setMayHaveLinkedDevices];
 
     ECKeyPair *_Nullable identityKeyPair = [[OWSIdentityManager sharedManager] identityKeyPair];
-    OWSAssert(identityKeyPair);
+    OWSAssertDebug(identityKeyPair);
     NSData *myPublicKey = identityKeyPair.publicKey;
     NSData *myPrivateKey = identityKeyPair.privateKey;
     NSString *accountIdentifier = [TSAccountManager localNumber];
diff --git a/Signal/src/ViewControllers/AvatarViewHelper.m b/Signal/src/ViewControllers/AvatarViewHelper.m
index d1b6640cc4d..43db3ba8de5 100644
--- a/Signal/src/ViewControllers/AvatarViewHelper.m
+++ b/Signal/src/ViewControllers/AvatarViewHelper.m
@@ -28,7 +28,7 @@ @implementation AvatarViewHelper
 - (void)showChangeAvatarUI
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     UIAlertController *actionSheetController =
         [UIAlertController alertControllerWithTitle:self.delegate.avatarActionSheetTitle
@@ -67,7 +67,7 @@ - (void)showChangeAvatarUI
 - (void)takePicture
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     [self.delegate.fromViewController ows_askForCameraPermissions:^(BOOL granted) {
         if (!granted) {
@@ -88,7 +88,7 @@ - (void)takePicture
 - (void)chooseFromLibrary
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     [self.delegate.fromViewController ows_askForMediaLibraryPermissions:^(BOOL granted) {
         if (!granted) {
@@ -112,7 +112,7 @@ - (void)chooseFromLibrary
 - (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     [self.delegate.fromViewController dismissViewControllerAnimated:YES completion:nil];
 }
@@ -123,7 +123,7 @@ - (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
 - (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     UIImage *rawAvatar = [info objectForKey:UIImagePickerControllerOriginalImage];
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/AttachmentUploadView.m b/Signal/src/ViewControllers/ConversationView/Cells/AttachmentUploadView.m
index 6ae16e02529..48fc5a3b9e9 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/AttachmentUploadView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/AttachmentUploadView.m
@@ -39,7 +39,7 @@ - (instancetype)initWithAttachment:(TSAttachmentStream *)attachment
     self = [super init];
 
     if (self) {
-        OWSAssert(attachment);
+        OWSAssertDebug(attachment);
 
         self.attachment = attachment;
         self.attachmentStateCallback = attachmentStateCallback;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSAudioMessageView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSAudioMessageView.m
index 13ecd63c9eb..3c228b18441 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSAudioMessageView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSAudioMessageView.m
@@ -66,7 +66,7 @@ - (CGFloat)audioProgressSeconds
 
 - (CGFloat)audioDurationSeconds
 {
-    OWSAssert(self.viewItem.audioDurationSeconds > 0.f);
+    OWSAssertDebug(self.viewItem.audioDurationSeconds > 0.f);
 
     return self.viewItem.audioDurationSeconds;
 }
@@ -96,7 +96,7 @@ - (void)updateAudioBottomLabel
 
 - (void)setAudioIcon:(UIImage *)icon
 {
-    OWSAssert(icon.size.height == self.iconSize);
+    OWSAssertDebug(icon.size.height == self.iconSize);
 
     icon = [icon imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
     [_audioPlayPauseButton setImage:icon forState:UIControlStateNormal];
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSBubbleView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSBubbleView.m
index ab6ab1162dc..ce012b29de6 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSBubbleView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSBubbleView.m
@@ -245,7 +245,7 @@ + (UIBezierPath *)roundedBezierRectWithBubbleTop:(CGFloat)bubbleTop
 
 - (void)addPartnerView:(id<OWSBubbleViewPartner>)partnerView
 {
-    OWSAssert(self.partnerViews);
+    OWSAssertDebug(self.partnerViews);
 
     [partnerView setBubbleView:self];
 
@@ -254,7 +254,7 @@ - (void)addPartnerView:(id<OWSBubbleViewPartner>)partnerView
 
 - (void)clearPartnerViews
 {
-    OWSAssert(self.partnerViews);
+    OWSAssertDebug(self.partnerViews);
 
     [self.partnerViews removeAllObjects];
 }
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactOffersCell.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactOffersCell.m
index a70b87b37fe..1d9356b757c 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactOffersCell.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactOffersCell.m
@@ -39,7 +39,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 
 - (void)commontInit
 {
-    OWSAssert(!self.titleLabel);
+    OWSAssertDebug(!self.titleLabel);
 
     self.layoutMargins = UIEdgeInsetsZero;
     self.contentView.layoutMargins = UIEdgeInsetsZero;
@@ -110,10 +110,10 @@ + (NSString *)cellReuseIdentifier
 
 - (void)loadForDisplay
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.viewWidth > 0);
-    OWSAssert(self.viewItem);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[OWSContactOffersInteraction class]]);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.viewWidth > 0);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[OWSContactOffersInteraction class]]);
 
     self.backgroundColor = [Theme backgroundColor];
 
@@ -131,7 +131,7 @@ - (void)loadForDisplay
 
     OWSContactOffersInteraction *interaction = (OWSContactOffersInteraction *)self.viewItem.interaction;
 
-    OWSAssert(
+    OWSAssertDebug(
         interaction.hasBlockOffer || interaction.hasAddToContactsOffer || interaction.hasAddToProfileWhitelistOffer);
 
     self.addToContactsButton.hidden = !interaction.hasAddToContactsOffer;
@@ -175,10 +175,10 @@ - (CGFloat)buttonHeight
 
 - (CGSize)cellSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.viewWidth > 0);
-    OWSAssert(self.viewItem);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[OWSContactOffersInteraction class]]);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.viewWidth > 0);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[OWSContactOffersInteraction class]]);
 
     [self configureFonts];
 
@@ -201,8 +201,8 @@ - (CGSize)cellSize
 
 - (nullable OWSContactOffersInteraction *)interaction
 {
-    OWSAssert(self.viewItem);
-    OWSAssert(self.viewItem.interaction);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug(self.viewItem.interaction);
     if (![self.viewItem.interaction isKindOfClass:[OWSContactOffersInteraction class]]) {
         OWSFailDebug(@"expected OWSContactOffersInteraction but found: %@", self.viewItem.interaction);
         return nil;
@@ -212,24 +212,24 @@ - (nullable OWSContactOffersInteraction *)interaction
 
 - (void)addToContacts
 {
-    OWSAssert(self.delegate);
-    OWSAssert(self.interaction);
+    OWSAssertDebug(self.delegate);
+    OWSAssertDebug(self.interaction);
 
     [self.delegate tappedAddToContactsOfferMessage:self.interaction];
 }
 
 - (void)addToProfileWhitelist
 {
-    OWSAssert(self.delegate);
-    OWSAssert(self.interaction);
+    OWSAssertDebug(self.delegate);
+    OWSAssertDebug(self.interaction);
 
     [self.delegate tappedAddToProfileWhitelistOfferMessage:self.interaction];
 }
 
 - (void)block
 {
-    OWSAssert(self.delegate);
-    OWSAssert(self.interaction);
+    OWSAssertDebug(self.delegate);
+    OWSAssertDebug(self.interaction);
 
     [self.delegate tappedUnknownContactBlockOfferMessage:self.interaction];
 }
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareButtonsView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareButtonsView.m
index 19f0322ddf8..7fe2be379fa 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareButtonsView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareButtonsView.m
@@ -49,30 +49,30 @@ - (instancetype)initWithContactShare:(ContactShareViewModel *)contactShare
 
 + (BOOL)hasSendTextButton:(ContactShareViewModel *)contactShare contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(contactShare);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(contactShare);
+    OWSAssertDebug(contactsManager);
 
     return [contactShare systemContactsWithSignalAccountPhoneNumbers:contactsManager].count > 0;
 }
 
 + (BOOL)hasInviteButton:(ContactShareViewModel *)contactShare contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(contactShare);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(contactShare);
+    OWSAssertDebug(contactsManager);
 
     return [contactShare systemContactPhoneNumbers:contactsManager].count > 0;
 }
 
 + (BOOL)hasAddToContactsButton:(ContactShareViewModel *)contactShare
 {
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     return [contactShare e164PhoneNumbers].count > 0;
 }
 
 + (BOOL)hasAnyButton:(ContactShareViewModel *)contactShare
 {
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     OWSContactsManager *contactsManager = [Environment current].contactsManager;
 
@@ -81,7 +81,7 @@ + (BOOL)hasAnyButton:(ContactShareViewModel *)contactShare
 
 + (BOOL)hasAnyButton:(ContactShareViewModel *)contactShare contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     return ([self hasSendTextButton:contactShare contactsManager:contactsManager] ||
         [self hasInviteButton:contactShare contactsManager:contactsManager] ||
@@ -110,7 +110,7 @@ + (CGFloat)buttonVMargin
 
 - (void)createContents
 {
-    OWSAssert([OWSContactShareButtonsView hasAnyButton:self.contactShare contactsManager:self.contactsManager]);
+    OWSAssertDebug([OWSContactShareButtonsView hasAnyButton:self.contactShare contactsManager:self.contactsManager]);
 
     self.layoutMargins = UIEdgeInsetsZero;
     self.backgroundColor = Theme.conversationButtonBackgroundColor;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareView.m
index 077722987a3..862bcce6671 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSContactShareView.m
@@ -139,7 +139,7 @@ - (void)createContents
 
     UIImage *disclosureImage =
         [UIImage imageNamed:(CurrentAppContext().isRTL ? @"small_chevron_left" : @"small_chevron_right")];
-    OWSAssert(disclosureImage);
+    OWSAssertDebug(disclosureImage);
     UIImageView *disclosureImageView = [UIImageView new];
     disclosureImageView.image = [disclosureImage imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
     disclosureImageView.tintColor = textColor;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSGenericAttachmentView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSGenericAttachmentView.m
index 94da5eee646..337209345e8 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSGenericAttachmentView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSGenericAttachmentView.m
@@ -87,7 +87,7 @@ - (CGFloat)iconHeight
 
 - (void)createContentsWithConversationStyle:(ConversationStyle *)conversationStyle
 {
-    OWSAssert(conversationStyle);
+    OWSAssertDebug(conversationStyle);
 
     self.axis = UILayoutConstraintAxisHorizontal;
     self.alignment = UIStackViewAlignmentCenter;
@@ -97,9 +97,9 @@ - (void)createContentsWithConversationStyle:(ConversationStyle *)conversationSty
 
     // attachment_file
     UIImage *image = [UIImage imageNamed:@"generic-attachment"];
-    OWSAssert(image);
-    OWSAssert(image.size.width == self.iconWidth);
-    OWSAssert(image.size.height == self.iconHeight);
+    OWSAssertDebug(image);
+    OWSAssertDebug(image.size.width == self.iconWidth);
+    OWSAssertDebug(image.size.height == self.iconHeight);
     UIImageView *imageView = [UIImageView new];
     imageView.image = image;
     [self addArrangedSubview:imageView];
@@ -150,7 +150,7 @@ - (void)createContentsWithConversationStyle:(ConversationStyle *)conversationSty
     NSError *error;
     unsigned long long fileSize =
         [[NSFileManager defaultManager] attributesOfItemAtPath:[self.attachmentStream filePath] error:&error].fileSize;
-    OWSAssert(!error);
+    OWSAssertDebug(!error);
     NSString *bottomText = [OWSFormat formatFileSize:fileSize];
     UILabel *bottomLabel = [UILabel new];
     self.bottomLabel = bottomLabel;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageBubbleView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageBubbleView.m
index 5931e1886aa..8b2054e77cf 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageBubbleView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageBubbleView.m
@@ -74,7 +74,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 - (void)commontInit
 {
     // Ensure only called once.
-    OWSAssert(!self.bodyTextView);
+    OWSAssertDebug(!self.bodyTextView);
 
     _viewConstraints = [NSMutableArray new];
 
@@ -119,7 +119,7 @@ - (OWSMessageTextView *)newTextView
 
 - (UIFont *)textMessageFont
 {
-    OWSAssert(DisplayableText.kMaxJumbomojiCount == 5);
+    OWSAssertDebug(DisplayableText.kMaxJumbomojiCount == 5);
 
     CGFloat basePointSize = UIFont.ows_dynamicTypeBodyFont.pointSize;
     switch (self.displayableBodyText.jumbomojiCount) {
@@ -151,7 +151,7 @@ - (OWSMessageCellType)cellType
 - (BOOL)hasBodyText
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.viewItem);
 
     return self.viewItem.hasBodyText;
 }
@@ -159,7 +159,7 @@ - (BOOL)hasBodyText
 - (nullable DisplayableText *)displayableBodyText
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem.displayableBodyText);
+    OWSAssertDebug(self.viewItem.displayableBodyText);
 
     return self.viewItem.displayableBodyText;
 }
@@ -167,7 +167,7 @@ - (nullable DisplayableText *)displayableBodyText
 - (nullable TSAttachmentStream *)attachmentStream
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem.attachmentStream);
+    OWSAssertDebug(self.viewItem.attachmentStream);
 
     return self.viewItem.attachmentStream;
 }
@@ -175,14 +175,14 @@ - (nullable TSAttachmentStream *)attachmentStream
 - (nullable TSAttachmentPointer *)attachmentPointer
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem.attachmentPointer);
+    OWSAssertDebug(self.viewItem.attachmentPointer);
 
     return self.viewItem.attachmentPointer;
 }
 
 - (TSMessage *)message
 {
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     return (TSMessage *)self.viewItem.interaction;
 }
@@ -190,7 +190,7 @@ - (TSMessage *)message
 - (CGSize)mediaSize
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem.mediaSize.width > 0 && self.viewItem.mediaSize.height > 0);
+    OWSAssertDebug(self.viewItem.mediaSize.width > 0 && self.viewItem.mediaSize.height > 0);
 
     return self.viewItem.mediaSize;
 }
@@ -198,7 +198,7 @@ - (CGSize)mediaSize
 - (BOOL)isQuotedReply
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.viewItem);
 
     return self.viewItem.isQuotedReply;
 }
@@ -206,7 +206,7 @@ - (BOOL)isQuotedReply
 - (BOOL)hasQuotedText
 {
     // This should always be valid for the appropriate cell types.
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.viewItem);
 
     return self.viewItem.hasQuotedText;
 }
@@ -247,10 +247,10 @@ - (BOOL)hasBodyTextContent
 
 - (void)configureViews
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.viewItem);
-    OWSAssert(self.viewItem.interaction);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug(self.viewItem.interaction);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     NSValue *_Nullable quotedMessageSize = [self quotedMessageSize];
     NSValue *_Nullable bodyMediaSize = [self bodyMediaSize];
@@ -291,7 +291,7 @@ - (void)configureViews
         self.quotedMessageView = quotedMessageView;
         [quotedMessageView createContents];
         [self.stackView addArrangedSubview:quotedMessageView];
-        OWSAssert(quotedMessageSize);
+        OWSAssertDebug(quotedMessageSize);
         [self.viewConstraints addObject:[quotedMessageView autoSetDimension:ALDimensionHeight
                                                                      toSize:quotedMessageSize.CGSizeValue.height]];
     }
@@ -303,19 +303,19 @@ - (void)configureViews
         case OWSMessageCellType_OversizeTextMessage:
             break;
         case OWSMessageCellType_StillImage:
-            OWSAssert(self.viewItem.attachmentStream);
+            OWSAssertDebug(self.viewItem.attachmentStream);
             bodyMediaView = [self loadViewForStillImage];
             break;
         case OWSMessageCellType_AnimatedImage:
-            OWSAssert(self.viewItem.attachmentStream);
+            OWSAssertDebug(self.viewItem.attachmentStream);
             bodyMediaView = [self loadViewForAnimatedImage];
             break;
         case OWSMessageCellType_Video:
-            OWSAssert(self.viewItem.attachmentStream);
+            OWSAssertDebug(self.viewItem.attachmentStream);
             bodyMediaView = [self loadViewForVideo];
             break;
         case OWSMessageCellType_Audio:
-            OWSAssert(self.viewItem.attachmentStream);
+            OWSAssertDebug(self.viewItem.attachmentStream);
             bodyMediaView = [self loadViewForAudio];
             break;
         case OWSMessageCellType_GenericAttachment:
@@ -330,8 +330,8 @@ - (void)configureViews
     }
 
     if (bodyMediaView) {
-        OWSAssert(self.loadCellContentBlock);
-        OWSAssert(self.unloadCellContentBlock);
+        OWSAssertDebug(self.loadCellContentBlock);
+        OWSAssertDebug(self.unloadCellContentBlock);
 
         bodyMediaView.clipsToBounds = YES;
 
@@ -360,7 +360,7 @@ - (void)configureViews
                 [self.bubbleView addPartnerView:strokeView];
                 [self.viewConstraints addObjectsFromArray:[strokeView ows_autoPinToSuperviewEdges]];
             } else {
-                OWSAssert(self.cellType == OWSMessageCellType_ContactShare);
+                OWSAssertDebug(self.cellType == OWSMessageCellType_ContactShare);
 
                 if (self.contactShareHasSpacerTop) {
                     UIView *spacerView = [UIView containerView];
@@ -389,7 +389,7 @@ - (void)configureViews
         [self configureBodyTextView];
         [textViews addObject:self.bodyTextView];
 
-        OWSAssert(bodyTextSize);
+        OWSAssertDebug(bodyTextSize);
         [self.viewConstraints addObjectsFromArray:@[
             [self.bodyTextView autoSetDimension:ALDimensionHeight toSize:bodyTextSize.CGSizeValue.height],
         ]];
@@ -407,7 +407,7 @@ - (void)configureViews
     if (self.viewItem.shouldHideFooter) {
         // Do nothing.
     } else if (shouldFooterOverlayMedia) {
-        OWSAssert(bodyMediaView);
+        OWSAssertDebug(bodyMediaView);
 
         CGFloat maxGradientHeight = 40.f;
         CAGradientLayer *gradientLayer = [CAGradientLayer new];
@@ -455,7 +455,7 @@ - (void)configureViews
         [self autoSetDimension:ALDimensionWidth toSize:bubbleSize.width],
     ]];
     if (bodyMediaView) {
-        OWSAssert(bodyMediaSize);
+        OWSAssertDebug(bodyMediaSize);
         [self.viewConstraints
             addObject:[bodyMediaView autoSetDimension:ALDimensionHeight toSize:bodyMediaSize.CGSizeValue.height]];
     }
@@ -477,13 +477,13 @@ - (void)insertContactShareButtonsIfNecessary
         return;
     }
 
-    OWSAssert(self.viewItem.contactShare);
+    OWSAssertDebug(self.viewItem.contactShare);
 
     OWSContactShareButtonsView *buttonsView =
         [[OWSContactShareButtonsView alloc] initWithContactShare:self.viewItem.contactShare delegate:self];
 
     NSValue *_Nullable actionButtonsSize = [self actionButtonsSize];
-    OWSAssert(actionButtonsSize);
+    OWSAssertDebug(actionButtonsSize);
     [self.viewConstraints addObjectsFromArray:@[
         [buttonsView autoSetDimension:ALDimensionHeight toSize:actionButtonsSize.CGSizeValue.height],
     ]];
@@ -515,7 +515,7 @@ - (void)insertContactShareButtonsIfNecessary
     [CATransaction begin];
     [CATransaction setDisableActions:YES];
 
-    OWSAssert(buttonsView.backgroundColor);
+    OWSAssertDebug(buttonsView.backgroundColor);
     shadowView.fillColor = buttonsView.backgroundColor;
     shadowView.layer.shadowColor = Theme.boldColor.CGColor;
     shadowView.layer.shadowOpacity = 0.12f;
@@ -590,7 +590,7 @@ - (void)updateBubbleColor
 
 - (UIColor *)bubbleColor
 {
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     TSMessage *message = (TSMessage *)self.viewItem.interaction;
     return [self.conversationStyle bubbleColorWithMessage:message];
@@ -658,10 +658,10 @@ - (nullable id)tryToLoadCellMedia:(nullable id (^)(void))loadCellMediaBlock
                          cacheKey:(NSString *)cacheKey
                   shouldSkipCache:(BOOL)shouldSkipCache
 {
-    OWSAssert(self.attachmentStream);
-    OWSAssert(mediaView);
-    OWSAssert(cacheKey);
-    OWSAssert(self.cellMediaCache);
+    OWSAssertDebug(self.attachmentStream);
+    OWSAssertDebug(mediaView);
+    OWSAssertDebug(cacheKey);
+    OWSAssertDebug(self.cellMediaCache);
 
     if (self.viewItem.didCellMediaFailToLoad) {
         return nil;
@@ -721,7 +721,7 @@ - (void)unloadContent
 
 - (void)configureBodyTextView
 {
-    OWSAssert(self.hasBodyText);
+    OWSAssertDebug(self.hasBodyText);
 
     BOOL shouldIgnoreEvents = NO;
     if (self.viewItem.interaction.interactionType == OWSInteractionType_OutgoingMessage) {
@@ -765,8 +765,8 @@ - (BOOL)shouldShowSenderName
 
 - (void)configureSenderNameLabel
 {
-    OWSAssert(self.senderNameLabel);
-    OWSAssert(self.shouldShowSenderName);
+    OWSAssertDebug(self.senderNameLabel);
+    OWSAssertDebug(self.shouldShowSenderName);
 
     self.senderNameLabel.textColor = self.bodyTextColor;
     self.senderNameLabel.font = OWSMessageBubbleView.senderNameFont;
@@ -824,8 +824,8 @@ - (nullable UIView *)createTapForMoreLabelIfNecessary
 
 - (UIView *)loadViewForStillImage
 {
-    OWSAssert(self.attachmentStream);
-    OWSAssert([self.attachmentStream isImage]);
+    OWSAssertDebug(self.attachmentStream);
+    OWSAssertDebug([self.attachmentStream isImage]);
 
     UIImageView *stillImageView = [UIImageView new];
     // We need to specify a contentMode since the size of the image
@@ -844,7 +844,7 @@ - (UIView *)loadViewForStillImage
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == stillImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == stillImageView);
         if (stillImageView.image) {
             return;
         }
@@ -855,7 +855,7 @@ - (UIView *)loadViewForStillImage
         BOOL shouldSkipCache =
             [OWSFileSystem fileSizeOfPath:strongSelf.attachmentStream.filePath].unsignedIntegerValue < kMaxCachableSize;
         stillImageView.image = [strongSelf tryToLoadCellMedia:^{
-            OWSCAssert([strongSelf.attachmentStream isImage]);
+            OWSCAssertDebug([strongSelf.attachmentStream isImage]);
             return strongSelf.attachmentStream.image;
         }
                                                     mediaView:stillImageView
@@ -867,7 +867,7 @@ - (UIView *)loadViewForStillImage
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == stillImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == stillImageView);
         stillImageView.image = nil;
     };
 
@@ -876,8 +876,8 @@ - (UIView *)loadViewForStillImage
 
 - (UIView *)loadViewForAnimatedImage
 {
-    OWSAssert(self.attachmentStream);
-    OWSAssert([self.attachmentStream isAnimated]);
+    OWSAssertDebug(self.attachmentStream);
+    OWSAssertDebug([self.attachmentStream isAnimated]);
 
     YYAnimatedImageView *animatedImageView = [[YYAnimatedImageView alloc] init];
     // We need to specify a contentMode since the size of the image
@@ -892,12 +892,12 @@ - (UIView *)loadViewForAnimatedImage
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == animatedImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == animatedImageView);
         if (animatedImageView.image) {
             return;
         }
         animatedImageView.image = [strongSelf tryToLoadCellMedia:^{
-            OWSCAssert([strongSelf.attachmentStream isAnimated]);
+            OWSCAssertDebug([strongSelf.attachmentStream isAnimated]);
 
             NSString *_Nullable filePath = [strongSelf.attachmentStream filePath];
             YYImage *_Nullable animatedImage = nil;
@@ -915,7 +915,7 @@ - (UIView *)loadViewForAnimatedImage
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == animatedImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == animatedImageView);
         animatedImageView.image = nil;
     };
 
@@ -924,8 +924,8 @@ - (UIView *)loadViewForAnimatedImage
 
 - (UIView *)loadViewForAudio
 {
-    OWSAssert(self.attachmentStream);
-    OWSAssert([self.attachmentStream isAudio]);
+    OWSAssertDebug(self.attachmentStream);
+    OWSAssertDebug([self.attachmentStream isAudio]);
 
     OWSAudioMessageView *audioMessageView = [[OWSAudioMessageView alloc] initWithAttachment:self.attachmentStream
                                                                                  isIncoming:self.isIncoming
@@ -947,8 +947,8 @@ - (UIView *)loadViewForAudio
 
 - (UIView *)loadViewForVideo
 {
-    OWSAssert(self.attachmentStream);
-    OWSAssert([self.attachmentStream isVideo]);
+    OWSAssertDebug(self.attachmentStream);
+    OWSAssertDebug([self.attachmentStream isVideo]);
 
     UIImageView *stillImageView = [UIImageView new];
     // We need to specify a contentMode since the size of the image
@@ -973,12 +973,12 @@ - (UIView *)loadViewForVideo
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == stillImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == stillImageView);
         if (stillImageView.image) {
             return;
         }
         stillImageView.image = [strongSelf tryToLoadCellMedia:^{
-            OWSCAssert([strongSelf.attachmentStream isVideo]);
+            OWSCAssertDebug([strongSelf.attachmentStream isVideo]);
 
             return strongSelf.attachmentStream.image;
         }
@@ -991,7 +991,7 @@ - (UIView *)loadViewForVideo
         if (!strongSelf) {
             return;
         }
-        OWSCAssert(strongSelf.bodyMediaView == stillImageView);
+        OWSCAssertDebug(strongSelf.bodyMediaView == stillImageView);
         stillImageView.image = nil;
     };
 
@@ -1000,7 +1000,7 @@ - (UIView *)loadViewForVideo
 
 - (UIView *)loadViewForGenericAttachment
 {
-    OWSAssert(self.viewItem.attachmentStream);
+    OWSAssertDebug(self.viewItem.attachmentStream);
     OWSGenericAttachmentView *attachmentView =
         [[OWSGenericAttachmentView alloc] initWithAttachment:self.attachmentStream isIncoming:self.isIncoming];
     [attachmentView createContentsWithConversationStyle:self.conversationStyle];
@@ -1018,7 +1018,7 @@ - (UIView *)loadViewForGenericAttachment
 
 - (UIView *)loadViewForDownloadingAttachment
 {
-    OWSAssert(self.attachmentPointer);
+    OWSAssertDebug(self.attachmentPointer);
 
     AttachmentPointerView *downloadView =
         [[AttachmentPointerView alloc] initWithAttachmentPointer:self.attachmentPointer
@@ -1041,7 +1041,7 @@ - (UIView *)loadViewForDownloadingAttachment
 
 - (UIView *)loadViewForContactShare
 {
-    OWSAssert(self.viewItem.contactShare);
+    OWSAssertDebug(self.viewItem.contactShare);
 
     OWSContactShareView *contactShareView = [[OWSContactShareView alloc] initWithContactShare:self.viewItem.contactShare
                                                                                    isIncoming:self.isIncoming
@@ -1067,7 +1067,7 @@ - (void)addAttachmentUploadViewIfNecessary
 - (void)addAttachmentUploadViewIfNecessaryWithAttachmentStateCallback:
     (nullable AttachmentStateBlock)attachmentStateCallback
 {
-    OWSAssert(self.attachmentStream);
+    OWSAssertDebug(self.attachmentStream);
 
     if (!attachmentStateCallback) {
         attachmentStateCallback = ^(BOOL isAttachmentReady) {
@@ -1087,7 +1087,7 @@ - (void)addAttachmentUploadViewIfNecessaryWithAttachmentStateCallback:
 
 - (void)showAttachmentErrorViewWithMediaView:(UIView *)mediaView
 {
-    OWSAssert(mediaView);
+    OWSAssertDebug(mediaView);
 
     // TODO: We could do a better job of indicating that the media could not be loaded.
     UIView *errorView = [UIView new];
@@ -1102,8 +1102,8 @@ - (void)showAttachmentErrorViewWithMediaView:(UIView *)mediaView
 // Size of "message body" text, not quoted reply text.
 - (nullable NSValue *)bodyTextSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
 
     if (!self.hasBodyText) {
         return nil;
@@ -1121,8 +1121,8 @@ - (nullable NSValue *)bodyTextSize
 
 - (nullable NSValue *)bodyMediaSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
 
     CGFloat maxMessageWidth = self.conversationStyle.maxMessageWidth;
     if (!self.hasFullWidthMediaView) {
@@ -1140,8 +1140,8 @@ - (nullable NSValue *)bodyMediaSize
         case OWSMessageCellType_StillImage:
         case OWSMessageCellType_AnimatedImage:
         case OWSMessageCellType_Video: {
-            OWSAssert(self.mediaSize.width > 0);
-            OWSAssert(self.mediaSize.height > 0);
+            OWSAssertDebug(self.mediaSize.width > 0);
+            OWSAssertDebug(self.mediaSize.height > 0);
 
             // TODO: Adjust this behavior.
 
@@ -1178,7 +1178,7 @@ - (nullable NSValue *)bodyMediaSize
             result = CGSizeMake(maxMessageWidth, OWSAudioMessageView.bubbleHeight);
             break;
         case OWSMessageCellType_GenericAttachment: {
-            OWSAssert(self.viewItem.attachmentStream);
+            OWSAssertDebug(self.viewItem.attachmentStream);
             OWSGenericAttachmentView *attachmentView =
                 [[OWSGenericAttachmentView alloc] initWithAttachment:self.attachmentStream isIncoming:self.isIncoming];
             [attachmentView createContentsWithConversationStyle:self.conversationStyle];
@@ -1189,13 +1189,13 @@ - (nullable NSValue *)bodyMediaSize
             result = CGSizeMake(MIN(200, maxMessageWidth), [AttachmentPointerView measureHeight]);
             break;
         case OWSMessageCellType_ContactShare:
-            OWSAssert(self.viewItem.contactShare);
+            OWSAssertDebug(self.viewItem.contactShare);
 
             result = CGSizeMake(maxMessageWidth, [OWSContactShareView bubbleHeight]);
             break;
     }
 
-    OWSAssert(result.width <= maxMessageWidth);
+    OWSAssertDebug(result.width <= maxMessageWidth);
     result.width = MIN(result.width, maxMessageWidth);
 
     return [NSValue valueWithCGSize:CGSizeCeil(result)];
@@ -1203,10 +1203,10 @@ - (nullable NSValue *)bodyMediaSize
 
 - (nullable NSValue *)quotedMessageSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
-    OWSAssert(self.viewItem);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     if (!self.isQuotedReply) {
         return nil;
@@ -1227,8 +1227,8 @@ - (nullable NSValue *)quotedMessageSize
 
 - (nullable NSValue *)senderNameSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
 
     if (!self.shouldShowSenderName) {
         return nil;
@@ -1245,11 +1245,11 @@ - (nullable NSValue *)senderNameSize
 
 - (nullable NSValue *)actionButtonsSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
 
     if (self.cellType == OWSMessageCellType_ContactShare) {
-        OWSAssert(self.viewItem.contactShare);
+        OWSAssertDebug(self.viewItem.contactShare);
 
         if ([OWSContactShareButtonsView hasAnyButton:self.viewItem.contactShare]) {
             CGSize buttonsSize = CGSizeCeil(
@@ -1262,10 +1262,10 @@ - (nullable NSValue *)actionButtonsSize
 
 - (CGSize)measureSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.viewWidth > 0);
-    OWSAssert(self.viewItem);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.viewWidth > 0);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     CGSize cellSize = CGSizeZero;
 
@@ -1338,7 +1338,7 @@ - (CGSize)measureSize
     // Make sure the bubble is always wide enough to complete it's bubble shape.
     cellSize.width = MAX(cellSize.width, self.bubbleView.minWidth);
 
-    OWSAssert(cellSize.width > 0 && cellSize.height > 0);
+    OWSAssertDebug(cellSize.width > 0 && cellSize.height > 0);
 
     if (self.hasTapForMore) {
         cellSize.height += self.tapForMoreHeight + self.textViewVSpacing;
@@ -1352,7 +1352,7 @@ - (CGSize)measureSize
 
     cellSize = CGSizeCeil(cellSize);
 
-    OWSAssert(cellSize.width <= self.conversationStyle.maxMessageWidth);
+    OWSAssertDebug(cellSize.width <= self.conversationStyle.maxMessageWidth);
     cellSize.width = MIN(cellSize.width, self.conversationStyle.maxMessageWidth);
 
     return cellSize;
@@ -1360,10 +1360,10 @@ - (CGSize)measureSize
 
 - (CGSize)sizeForTextViewGroup:(NSArray<NSValue *> *)textViewSizes
 {
-    OWSAssert(textViewSizes);
-    OWSAssert(textViewSizes.count > 0);
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.maxMessageWidth > 0);
+    OWSAssertDebug(textViewSizes);
+    OWSAssertDebug(textViewSizes.count > 0);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.maxMessageWidth > 0);
 
     CGSize result = CGSizeZero;
     for (NSValue *size in textViewSizes) {
@@ -1391,7 +1391,7 @@ - (CGFloat)tapForMoreHeight
 
 - (UIColor *)bodyTextColor
 {
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     TSMessage *message = (TSMessage *)self.viewItem.interaction;
     return [self.conversationStyle bubbleTextColorWithMessage:message];
@@ -1476,7 +1476,7 @@ - (void)addTapGestureHandler
 
 - (void)handleTapGesture:(UITapGestureRecognizer *)sender
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     if (sender.state != UIGestureRecognizerStateRecognized) {
         OWSLogVerbose(@"Ignoring tap on message: %@", self.viewItem.interaction.debugDescription);
@@ -1522,7 +1522,7 @@ - (void)handleTapGesture:(UITapGestureRecognizer *)sender
 
 - (void)handleMediaTapGesture
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     TSAttachmentStream *_Nullable attachmentStream = self.viewItem.attachmentStream;
 
@@ -1532,42 +1532,42 @@ - (void)handleMediaTapGesture
         case OWSMessageCellType_OversizeTextMessage:
             break;
         case OWSMessageCellType_StillImage:
-            OWSAssert(self.bodyMediaView);
-            OWSAssert(attachmentStream);
+            OWSAssertDebug(self.bodyMediaView);
+            OWSAssertDebug(attachmentStream);
 
             [self.delegate didTapImageViewItem:self.viewItem
                               attachmentStream:attachmentStream
                                      imageView:self.bodyMediaView];
             break;
         case OWSMessageCellType_AnimatedImage:
-            OWSAssert(self.bodyMediaView);
-            OWSAssert(attachmentStream);
+            OWSAssertDebug(self.bodyMediaView);
+            OWSAssertDebug(attachmentStream);
 
             [self.delegate didTapImageViewItem:self.viewItem
                               attachmentStream:attachmentStream
                                      imageView:self.bodyMediaView];
             break;
         case OWSMessageCellType_Audio:
-            OWSAssert(attachmentStream);
+            OWSAssertDebug(attachmentStream);
 
             [self.delegate didTapAudioViewItem:self.viewItem attachmentStream:attachmentStream];
             return;
         case OWSMessageCellType_Video:
-            OWSAssert(self.bodyMediaView);
-            OWSAssert(attachmentStream);
+            OWSAssertDebug(self.bodyMediaView);
+            OWSAssertDebug(attachmentStream);
 
             [self.delegate didTapVideoViewItem:self.viewItem
                               attachmentStream:attachmentStream
                                      imageView:self.bodyMediaView];
             return;
         case OWSMessageCellType_GenericAttachment:
-            OWSAssert(attachmentStream);
+            OWSAssertDebug(attachmentStream);
 
             [AttachmentSharing showShareUIForAttachment:attachmentStream];
             break;
         case OWSMessageCellType_DownloadingAttachment: {
             TSAttachmentPointer *_Nullable attachmentPointer = self.viewItem.attachmentPointer;
-            OWSAssert(attachmentPointer);
+            OWSAssertDebug(attachmentPointer);
 
             if (attachmentPointer.state == TSAttachmentPointerStateFailed) {
                 [self.delegate didTapFailedIncomingAttachment:self.viewItem attachmentPointer:attachmentPointer];
@@ -1628,7 +1628,7 @@ - (void)didTapQuotedReply:(OWSQuotedReplyModel *)quotedReply
 - (void)didTapSendMessageToContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.delegate didTapSendMessageToContactShare:contactShare];
 }
@@ -1636,7 +1636,7 @@ - (void)didTapSendMessageToContactShare:(ContactShareViewModel *)contactShare
 - (void)didTapSendInviteToContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.delegate didTapSendInviteToContactShare:contactShare];
 }
@@ -1644,7 +1644,7 @@ - (void)didTapSendInviteToContactShare:(ContactShareViewModel *)contactShare
 - (void)didTapShowAddToContactUIForContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.delegate didTapShowAddToContactUIForContactShare:contactShare];
 }
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageCell.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageCell.m
index 26ce8feca54..d7c924c6620 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageCell.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageCell.m
@@ -43,7 +43,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 - (void)commontInit
 {
     // Ensure only called once.
-    OWSAssert(!self.messageBubbleView);
+    OWSAssertDebug(!self.messageBubbleView);
 
     self.layoutMargins = UIEdgeInsetsZero;
     self.contentView.layoutMargins = UIEdgeInsetsZero;
@@ -98,7 +98,7 @@ - (OWSMessageCellType)cellType
 
 - (TSMessage *)message
 {
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
 
     return (TSMessage *)self.viewItem.interaction;
 }
@@ -126,11 +126,11 @@ - (BOOL)shouldHaveSendFailureBadge
 
 - (void)loadForDisplay
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.viewItem);
-    OWSAssert(self.viewItem.interaction);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
-    OWSAssert(self.messageBubbleView);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug(self.viewItem.interaction);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(self.messageBubbleView);
 
     self.messageBubbleView.viewItem = self.viewItem;
     self.messageBubbleView.cellMediaCache = self.delegate.cellMediaCache;
@@ -217,8 +217,8 @@ - (void)loadForDisplay
 - (UIImage *)sendFailureBadge
 {
     UIImage *image = [UIImage imageNamed:@"message_status_failed_large"];
-    OWSAssert(image);
-    OWSAssert(image.size.width == self.sendFailureBadgeSize && image.size.height == self.sendFailureBadgeSize);
+    OWSAssertDebug(image);
+    OWSAssertDebug(image.size.width == self.sendFailureBadgeSize && image.size.height == self.sendFailureBadgeSize);
     return image;
 }
 
@@ -236,7 +236,7 @@ - (CGFloat)sendFailureBadgeSpacing
 // * If cell is not visible, eagerly unload view contents.
 - (void)ensureMediaLoadState
 {
-    OWSAssert(self.messageBubbleView);
+    OWSAssertDebug(self.messageBubbleView);
 
     if (!self.isCellVisible) {
         [self.messageBubbleView unloadContent];
@@ -322,11 +322,11 @@ - (void)otherUsersProfileDidChange:(NSNotification *)notification
 
 - (CGSize)cellSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.conversationStyle.viewWidth > 0);
-    OWSAssert(self.viewItem);
-    OWSAssert([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
-    OWSAssert(self.messageBubbleView);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle.viewWidth > 0);
+    OWSAssertDebug(self.viewItem);
+    OWSAssertDebug([self.viewItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(self.messageBubbleView);
 
     self.messageBubbleView.viewItem = self.viewItem;
     self.messageBubbleView.cellMediaCache = self.delegate.cellMediaCache;
@@ -334,7 +334,7 @@ - (CGSize)cellSize
 
     CGSize cellSize = messageBubbleSize;
 
-    OWSAssert(cellSize.width > 0 && cellSize.height > 0);
+    OWSAssertDebug(cellSize.width > 0 && cellSize.height > 0);
 
     if (self.viewItem.hasCellHeader) {
         cellSize.height +=
@@ -392,7 +392,7 @@ - (void)setIsCellVisible:(BOOL)isCellVisible {
 
 - (void)handleTapGesture:(UITapGestureRecognizer *)sender
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     if (sender.state != UIGestureRecognizerStateRecognized) {
         OWSLogVerbose(@"Ignoring tap on message: %@", self.viewItem.interaction.debugDescription);
@@ -419,7 +419,7 @@ - (void)handleTapGesture:(UITapGestureRecognizer *)sender
 
 - (void)handleLongPressGesture:(UILongPressGestureRecognizer *)sender
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     if (sender.state != UIGestureRecognizerStateBegan) {
         return;
@@ -460,7 +460,7 @@ - (void)handleLongPressGesture:(UILongPressGestureRecognizer *)sender
 
 - (BOOL)isGestureInCellHeader:(UIGestureRecognizer *)sender
 {
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.viewItem);
 
     if (!self.viewItem.hasCellHeader) {
         return NO;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageFooterView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageFooterView.m
index 3aae464db89..253a08b4462 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageFooterView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageFooterView.m
@@ -34,7 +34,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 - (void)commontInit
 {
     // Ensure only called once.
-    OWSAssert(!self.timestampLabel);
+    OWSAssertDebug(!self.timestampLabel);
 
     self.layoutMargins = UIEdgeInsetsZero;
 
@@ -90,8 +90,8 @@ - (void)configureWithConversationViewItem:(ConversationViewItem *)viewItem
                         conversationStyle:(ConversationStyle *)conversationStyle
                                isIncoming:(BOOL)isIncoming
 {
-    OWSAssert(viewItem);
-    OWSAssert(conversationStyle);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(conversationStyle);
 
     [self configureLabelsWithConversationViewItem:viewItem];
 
@@ -154,7 +154,7 @@ - (void)configureWithConversationViewItem:(ConversationViewItem *)viewItem
 
 - (void)showStatusIndicatorWithIcon:(UIImage *)icon textColor:(UIColor *)textColor
 {
-    OWSAssert(icon.size.width <= self.maxImageWidth);
+    OWSAssertDebug(icon.size.width <= self.maxImageWidth);
     self.statusIndicatorImageView.image = [icon imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
     self.statusIndicatorImageView.tintColor = textColor;
     [self.statusIndicatorImageView setContentHuggingHigh];
@@ -188,7 +188,7 @@ - (void)animateSpinningIcon
 
 - (BOOL)isFailedOutgoingMessage:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     if (viewItem.interaction.interactionType != OWSInteractionType_OutgoingMessage) {
         return NO;
@@ -202,7 +202,7 @@ - (BOOL)isFailedOutgoingMessage:(ConversationViewItem *)viewItem
 
 - (void)configureLabelsWithConversationViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     [self configureFonts];
 
@@ -219,7 +219,7 @@ - (void)configureLabelsWithConversationViewItem:(ConversationViewItem *)viewItem
 
 - (CGSize)measureWithConversationViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     [self configureLabelsWithConversationViewItem:viewItem];
 
@@ -245,7 +245,7 @@ - (CGSize)measureWithConversationViewItem:(ConversationViewItem *)viewItem
 
 - (nullable NSString *)messageStatusTextForConversationViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
     if (viewItem.interaction.interactionType != OWSInteractionType_OutgoingMessage) {
         return nil;
     }
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageHeaderView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageHeaderView.m
index 9fd50d9df4d..73ea8227745 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageHeaderView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageHeaderView.m
@@ -40,7 +40,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 
 - (void)commontInit
 {
-    OWSAssert(!self.titleLabel);
+    OWSAssertDebug(!self.titleLabel);
 
     self.layoutMargins = UIEdgeInsetsZero;
     self.layoutConstraints = @[];
@@ -75,9 +75,9 @@ - (void)commontInit
 - (void)loadForDisplayWithViewItem:(ConversationViewItem *)viewItem
                  conversationStyle:(ConversationStyle *)conversationStyle
 {
-    OWSAssert(viewItem);
-    OWSAssert(conversationStyle);
-    OWSAssert(viewItem.unreadIndicator || viewItem.shouldShowDate);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(conversationStyle);
+    OWSAssertDebug(viewItem.unreadIndicator || viewItem.shouldShowDate);
 
     self.titleLabel.textColor = Theme.primaryColor;
     self.subtitleLabel.textColor = Theme.primaryColor;
@@ -102,7 +102,7 @@ - (void)loadForDisplayWithViewItem:(ConversationViewItem *)viewItem
 
 - (CGFloat)strokeThicknessWithViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     if (viewItem.unreadIndicator) {
         return 4.f;
@@ -113,7 +113,7 @@ - (CGFloat)strokeThicknessWithViewItem:(ConversationViewItem *)viewItem
 
 - (UIColor *)strokeColorWithViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     if (viewItem.unreadIndicator) {
         return Theme.secondaryColor;
@@ -124,7 +124,7 @@ - (UIColor *)strokeColorWithViewItem:(ConversationViewItem *)viewItem
 
 - (void)configureLabelsWithViewItem:(ConversationViewItem *)viewItem
 {
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     NSDate *date = viewItem.interaction.dateForSorting;
     NSString *dateString = [DateUtil formatDateForConversationDateBreaks:date].localizedUppercaseString;
@@ -161,9 +161,9 @@ - (void)configureLabelsWithViewItem:(ConversationViewItem *)viewItem
 - (CGSize)measureWithConversationViewItem:(ConversationViewItem *)viewItem
                         conversationStyle:(ConversationStyle *)conversationStyle
 {
-    OWSAssert(viewItem);
-    OWSAssert(conversationStyle);
-    OWSAssert(viewItem.unreadIndicator || viewItem.shouldShowDate);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(conversationStyle);
+    OWSAssertDebug(viewItem.unreadIndicator || viewItem.shouldShowDate);
 
     [self configureLabelsWithViewItem:viewItem];
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageTimerView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageTimerView.m
index 5cc6eabd896..c35c7a2aa31 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageTimerView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSMessageTimerView.m
@@ -89,8 +89,8 @@ - (void)updateProgress12
     if (self.initialDurationSeconds > 0) {
         progress = CGFloatClamp(secondsLeft / self.initialDurationSeconds, 0.f, 1.f);
     }
-    OWSAssert(progress >= 0.f);
-    OWSAssert(progress <= 1.f);
+    OWSAssertDebug(progress >= 0.f);
+    OWSAssertDebug(progress <= 1.f);
 
     self.progress12 = (NSInteger)round(CGFloatClamp(progress, 0.f, 1.f) * 12);
 }
@@ -113,8 +113,8 @@ - (void)updateIcon
 
 - (UIImage *)progressIcon
 {
-    OWSAssert(self.progress12 >= 0);
-    OWSAssert(self.progress12 <= 12);
+    OWSAssertDebug(self.progress12 >= 0);
+    OWSAssertDebug(self.progress12 <= 12);
 
     UIImage *_Nullable image;
     switch (self.progress12) {
@@ -159,9 +159,9 @@ - (UIImage *)progressIcon
             image = [UIImage imageNamed:@"disappearing_message_60"];
             break;
     }
-    OWSAssert(image);
-    OWSAssert(image.size.width == kDisappearingMessageIconSize);
-    OWSAssert(image.size.height == kDisappearingMessageIconSize);
+    OWSAssertDebug(image);
+    OWSAssertDebug(image.size.width == kDisappearingMessageIconSize);
+    OWSAssertDebug(image.size.height == kDisappearingMessageIconSize);
     return image;
 }
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSQuotedMessageView.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSQuotedMessageView.m
index 94a0689a672..ca879d0333e 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSQuotedMessageView.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSQuotedMessageView.m
@@ -46,7 +46,7 @@ + (OWSQuotedMessageView *)quotedMessageViewForConversation:(OWSQuotedReplyModel
                                                 isOutgoing:(BOOL)isOutgoing
                                               sharpCorners:(OWSDirectionalRectCorner)sharpCorners
 {
-    OWSAssert(quotedMessage);
+    OWSAssertDebug(quotedMessage);
 
     return [[OWSQuotedMessageView alloc] initWithQuotedMessage:quotedMessage
                                          displayableQuotedText:displayableQuotedText
@@ -59,7 +59,7 @@ + (OWSQuotedMessageView *)quotedMessageViewForConversation:(OWSQuotedReplyModel
 + (OWSQuotedMessageView *)quotedMessageViewForPreview:(OWSQuotedReplyModel *)quotedMessage
                                     conversationStyle:(ConversationStyle *)conversationStyle
 {
-    OWSAssert(quotedMessage);
+    OWSAssertDebug(quotedMessage);
 
     DisplayableText *_Nullable displayableQuotedText = nil;
     if (quotedMessage.body.length > 0) {
@@ -90,7 +90,7 @@ - (instancetype)initWithQuotedMessage:(OWSQuotedReplyModel *)quotedMessage
         return self;
     }
 
-    OWSAssert(quotedMessage);
+    OWSAssertDebug(quotedMessage);
 
     _quotedMessage = quotedMessage;
     _displayableQuotedText = displayableQuotedText;
@@ -156,7 +156,7 @@ - (UIColor *)quoteBubbleBackgroundColor
 - (void)createContents
 {
     // Ensure only called once.
-    OWSAssert(self.subviews.count < 1);
+    OWSAssertDebug(self.subviews.count < 1);
 
     self.userInteractionEnabled = YES;
     self.layoutMargins = UIEdgeInsetsZero;
@@ -302,8 +302,8 @@ - (UIView *)buildRemoteContentSourceView
 {
     UIImage *glyphImage =
         [[UIImage imageNamed:@"ic_broken_link"] imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
-    OWSAssert(glyphImage);
-    OWSAssert(CGSizeEqualToSize(
+    OWSAssertDebug(glyphImage);
+    OWSAssertDebug(CGSizeEqualToSize(
         CGSizeMake(kRemotelySourcedContentGlyphLength, kRemotelySourcedContentGlyphLength), glyphImage.size));
     UIImageView *glyphView = [[UIImageView alloc] initWithImage:glyphImage];
     glyphView.tintColor = Theme.secondaryColor;
@@ -362,7 +362,7 @@ - (nullable UIImage *)tryToLoadThumbnailImage
 
 - (UIImageView *)imageViewForImage:(UIImage *)image
 {
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     UIImageView *imageView = [UIImageView new];
     imageView.image = image;
@@ -378,7 +378,7 @@ - (UIImageView *)imageViewForImage:(UIImage *)image
 
 - (UILabel *)configureQuotedTextLabel
 {
-    OWSAssert(self.quotedTextLabel);
+    OWSAssertDebug(self.quotedTextLabel);
 
     UIColor *textColor = self.quotedTextColor;
     SUPPRESS_DEADSTORE_WARNING(textColor);
@@ -419,7 +419,7 @@ - (UILabel *)configureQuotedTextLabel
 
 - (UILabel *)configureQuoteContentSourceLabel
 {
-    OWSAssert(self.quoteContentSourceLabel);
+    OWSAssertDebug(self.quoteContentSourceLabel);
 
     self.quoteContentSourceLabel.font = UIFont.ows_dynamicTypeFootnoteFont;
     self.quoteContentSourceLabel.textColor = Theme.primaryColor;
@@ -479,7 +479,7 @@ - (BOOL)isVideoAttachment
 
 - (UILabel *)configureQuotedAuthorLabel
 {
-    OWSAssert(self.quotedAuthorLabel);
+    OWSAssertDebug(self.quotedAuthorLabel);
 
     NSString *_Nullable localNumber = [TSAccountManager localNumber];
     NSString *quotedAuthorText;
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/OWSSystemMessageCell.m b/Signal/src/ViewControllers/ConversationView/Cells/OWSSystemMessageCell.m
index f2e2fda4527..f44c4c1323b 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/OWSSystemMessageCell.m
+++ b/Signal/src/ViewControllers/ConversationView/Cells/OWSSystemMessageCell.m
@@ -73,7 +73,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 
 - (void)commontInit
 {
-    OWSAssert(!self.iconView);
+    OWSAssertDebug(!self.iconView);
 
     self.layoutMargins = UIEdgeInsetsZero;
     self.contentView.layoutMargins = UIEdgeInsetsZero;
@@ -163,8 +163,8 @@ + (NSString *)cellReuseIdentifier
 
 - (void)loadForDisplay
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.viewItem);
 
     self.cellBackgroundView.backgroundColor = [Theme backgroundColor];
 
@@ -288,7 +288,7 @@ - (nullable UIImage *)iconForInteraction:(TSInteraction *)interaction
                 break;
             }
             case TSInfoMessageVerificationStateChange:
-                OWSAssert([interaction isKindOfClass:[OWSVerificationStateChangeMessage class]]);
+                OWSAssertDebug([interaction isKindOfClass:[OWSVerificationStateChangeMessage class]]);
                 if ([interaction isKindOfClass:[OWSVerificationStateChangeMessage class]]) {
                     OWSVerificationStateChangeMessage *message = (OWSVerificationStateChangeMessage *)interaction;
                     BOOL isVerified = message.verificationState == OWSVerificationStateVerified;
@@ -305,16 +305,16 @@ - (nullable UIImage *)iconForInteraction:(TSInteraction *)interaction
         OWSFailDebug(@"Unknown interaction type: %@", [interaction class]);
         return nil;
     }
-    OWSAssert(result);
+    OWSAssertDebug(result);
     return result;
 }
 
 - (void)applyTitleForInteraction:(TSInteraction *)interaction
                            label:(UILabel *)label
 {
-    OWSAssert(interaction);
-    OWSAssert(label);
-    OWSAssert(self.viewItem.systemMessageText.length > 0);
+    OWSAssertDebug(interaction);
+    OWSAssertDebug(label);
+    OWSAssertDebug(self.viewItem.systemMessageText.length > 0);
 
     [self configureFonts];
 
@@ -343,8 +343,8 @@ - (CGFloat)iconSize
 
 - (CGSize)titleSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.viewItem);
 
     CGFloat maxTitleWidth = (CGFloat)floor(self.conversationStyle.fullWidthContentWidth);
     return [self.titleLabel sizeThatFits:CGSizeMake(maxTitleWidth, CGFLOAT_MAX)];
@@ -352,8 +352,8 @@ - (CGSize)titleSize
 
 - (CGSize)cellSize
 {
-    OWSAssert(self.conversationStyle);
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.conversationStyle);
+    OWSAssertDebug(self.viewItem);
 
     TSInteraction *interaction = self.viewItem.interaction;
 
@@ -389,7 +389,7 @@ - (CGSize)cellSize
 - (nullable SystemMessageAction *)actionForInteraction:(TSInteraction *)interaction
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(interaction);
+    OWSAssertDebug(interaction);
 
     if ([interaction isKindOfClass:[TSErrorMessage class]]) {
         return [self actionForErrorMessage:(TSErrorMessage *)interaction];
@@ -405,7 +405,7 @@ - (nullable SystemMessageAction *)actionForInteraction:(TSInteraction *)interact
 
 - (nullable SystemMessageAction *)actionForErrorMessage:(TSErrorMessage *)message
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     __weak OWSSystemMessageCell *weakSelf = self;
     switch (message.errorType) {
@@ -453,7 +453,7 @@ - (nullable SystemMessageAction *)actionForErrorMessage:(TSErrorMessage *)messag
 
 - (nullable SystemMessageAction *)actionForInfoMessage:(TSInfoMessage *)message
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     __weak OWSSystemMessageCell *weakSelf = self;
     switch (message.messageType) {
@@ -501,7 +501,7 @@ - (nullable SystemMessageAction *)actionForInfoMessage:(TSInfoMessage *)message
 
 - (nullable SystemMessageAction *)actionForCall:(TSCall *)call
 {
-    OWSAssert(call);
+    OWSAssertDebug(call);
 
     __weak OWSSystemMessageCell *weakSelf = self;
     switch (call.callType) {
@@ -531,14 +531,14 @@ - (nullable SystemMessageAction *)actionForCall:(TSCall *)call
 
 - (void)handleLongPressGesture:(UILongPressGestureRecognizer *)longPress
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     if ([self isGestureInCellHeader:longPress]) {
         return;
     }
 
     TSInteraction *interaction = self.viewItem.interaction;
-    OWSAssert(interaction);
+    OWSAssertDebug(interaction);
 
     if (longPress.state == UIGestureRecognizerStateBegan) {
         [self.delegate conversationCell:self didLongpressSystemMessageViewItem:self.viewItem];
@@ -547,7 +547,7 @@ - (void)handleLongPressGesture:(UILongPressGestureRecognizer *)longPress
 
 - (BOOL)isGestureInCellHeader:(UIGestureRecognizer *)sender
 {
-    OWSAssert(self.viewItem);
+    OWSAssertDebug(self.viewItem);
 
     if (!self.viewItem.hasCellHeader) {
         return NO;
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputTextView.m b/Signal/src/ViewControllers/ConversationView/ConversationInputTextView.m
index c94835b68b6..eded7fae762 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputTextView.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputTextView.m
@@ -97,7 +97,7 @@ - (void)setTextContainerInset:(UIEdgeInsets)textContainerInset
 
 - (void)ensurePlaceholderConstraints
 {
-    OWSAssert(self.placeholderView);
+    OWSAssertDebug(self.placeholderView);
 
     if (self.placeholderConstraints) {
         [NSLayoutConstraint deactivateConstraints:self.placeholderConstraints];
@@ -176,7 +176,7 @@ - (NSString *)trimmedText
 
 - (void)textViewDidChange:(UITextView *)textView
 {
-    OWSAssert(self.textViewToolbarDelegate);
+    OWSAssertDebug(self.textViewToolbarDelegate);
 
     [self updatePlaceholderVisibility];
 
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
index 8a6ea6653e9..3c46a691254 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.m
@@ -134,7 +134,7 @@ - (void)createContents
     [self.sendButton addTarget:self action:@selector(sendButtonPressed) forControlEvents:UIControlEventTouchUpInside];
 
     UIImage *voiceMemoIcon = [UIImage imageNamed:@"voice-memo-button"];
-    OWSAssert(voiceMemoIcon);
+    OWSAssertDebug(voiceMemoIcon);
     _voiceMemoButton = [UIButton buttonWithType:UIButtonTypeCustom];
     [self.voiceMemoButton setImage:[voiceMemoIcon imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate]
                           forState:UIControlStateNormal];
@@ -174,22 +174,22 @@ - (void)updateFontSizes
 
 - (void)setInputTextViewDelegate:(id<ConversationInputTextViewDelegate>)value
 {
-    OWSAssert(self.inputTextView);
-    OWSAssert(value);
+    OWSAssertDebug(self.inputTextView);
+    OWSAssertDebug(value);
 
     self.inputTextView.inputTextViewDelegate = value;
 }
 
 - (NSString *)messageText
 {
-    OWSAssert(self.inputTextView);
+    OWSAssertDebug(self.inputTextView);
 
     return self.inputTextView.trimmedText;
 }
 
 - (void)setMessageText:(NSString *_Nullable)value animated:(BOOL)isAnimated
 {
-    OWSAssert(self.inputTextView);
+    OWSAssertDebug(self.inputTextView);
 
     self.inputTextView.text = value;
 
@@ -237,7 +237,7 @@ - (void)setQuotedReply:(nullable OWSQuotedReplyModel *)quotedReply
     if (self.quotedMessagePreview) {
         [self clearQuotedMessagePreview];
     }
-    OWSAssert(self.quotedMessagePreview == nil);
+    OWSAssertDebug(self.quotedMessagePreview == nil);
 
     _quotedReply = quotedReply;
 
@@ -400,7 +400,7 @@ - (void)showVoiceMemoUI
     [self updateVoiceMemo];
 
     UIImage *icon = [UIImage imageNamed:@"voice-memo-button"];
-    OWSAssert(icon);
+    OWSAssertDebug(icon);
     UIImageView *imageView =
         [[UIImageView alloc] initWithImage:[icon imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate]];
     imageView.tintColor = [UIColor ows_destructiveRedColor];
@@ -465,7 +465,7 @@ - (void)showVoiceMemoUI
     [redCircleView autoAlignAxis:ALAxisVertical toSameAxisOfView:self.voiceMemoButton];
 
     UIImage *whiteIcon = [UIImage imageNamed:@"voice-message-large-white"];
-    OWSAssert(whiteIcon);
+    OWSAssertDebug(whiteIcon);
     UIImageView *whiteIconView = [[UIImageView alloc] initWithImage:whiteIcon];
     [redCircleView addSubview:whiteIconView];
     [whiteIconView autoCenterInSuperview];
@@ -581,14 +581,14 @@ - (void)cancelVoiceMemoIfNecessary
 
 - (void)sendButtonPressed
 {
-    OWSAssert(self.inputToolbarDelegate);
+    OWSAssertDebug(self.inputToolbarDelegate);
 
     [self.inputToolbarDelegate sendButtonPressed];
 }
 
 - (void)attachmentButtonPressed
 {
-    OWSAssert(self.inputToolbarDelegate);
+    OWSAssertDebug(self.inputToolbarDelegate);
 
     [self.inputToolbarDelegate attachmentButtonPressed];
 }
@@ -597,7 +597,7 @@ - (void)attachmentButtonPressed
 
 - (void)textViewDidChange:(UITextView *)textView
 {
-    OWSAssert(self.inputToolbarDelegate);
+    OWSAssertDebug(self.inputToolbarDelegate);
     [self ensureShouldShowVoiceMemoButtonAnimated:YES];
     [self updateHeightWithTextView:textView];
 }
@@ -610,7 +610,7 @@ - (void)updateHeightWithTextView:(UITextView *)textView
 
     if (newHeight != self.textViewHeight) {
         self.textViewHeight = newHeight;
-        OWSAssert(self.textViewHeightConstraint);
+        OWSAssertDebug(self.textViewHeightConstraint);
         self.textViewHeightConstraint.constant = newHeight;
         [self invalidateIntrinsicContentSize];
     }
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
index 4611c501ebc..f3eb9e441e1 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController.m
@@ -360,7 +360,7 @@ - (void)addNotificationListeners
 
 - (BOOL)isGroupConversation
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
 
     return self.thread.isGroupThread;
 }
@@ -377,7 +377,7 @@ - (void)otherUsersProfileDidChange:(NSNotification *)notification
     OWSAssertIsOnMainThread();
 
     NSString *recipientId = notification.userInfo[kNSNotificationKey_ProfileRecipientId];
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
     if (recipientId.length > 0 && [self.thread.recipientIdentifiers containsObject:recipientId]) {
         if ([self.thread isKindOfClass:[TSContactThread class]]) {
             // update title with profile name
@@ -441,7 +441,7 @@ - (void)configureForThread:(TSThread *)thread
                     action:(ConversationViewAction)action
             focusMessageId:(nullable NSString *)focusMessageId
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     OWSLogInfo(@"configureForThread.");
 
@@ -553,7 +553,7 @@ - (void)viewDidLoad
 
 - (void)createContents
 {
-    OWSAssert(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle);
 
     _layout = [[ConversationViewLayout alloc] initWithConversationStyle:self.conversationStyle];
     self.conversationStyle.viewWidth = self.view.width;
@@ -729,8 +729,8 @@ - (NSIndexPath *_Nullable)indexPathOfUnreadMessagesIndicator
 
 - (NSIndexPath *_Nullable)indexPathOfMessageOnOpen
 {
-    OWSAssert(self.focusMessageIdOnOpen);
-    OWSAssert(self.dynamicInteractions.focusMessagePosition);
+    OWSAssertDebug(self.focusMessageIdOnOpen);
+    OWSAssertDebug(self.dynamicInteractions.focusMessagePosition);
 
     if (!self.dynamicInteractions.focusMessagePosition) {
         // This might happen if the focus message has disappeared
@@ -901,8 +901,8 @@ - (void)ensureBannerState
 
 - (void)createBannerWithTitle:(NSString *)title bannerColor:(UIColor *)bannerColor tapSelector:(SEL)tapSelector
 {
-    OWSAssert(title.length > 0);
-    OWSAssert(bannerColor);
+    OWSAssertDebug(title.length > 0);
+    OWSAssertDebug(bannerColor);
 
     UIView *bannerView = [UIView containerView];
     bannerView.backgroundColor = bannerColor;
@@ -1035,14 +1035,14 @@ - (void)resetVerificationStateToDefault
 
     NSArray<NSString *> *noLongerVerifiedRecipientIds = [self noLongerVerifiedRecipientIds];
     for (NSString *recipientId in noLongerVerifiedRecipientIds) {
-        OWSAssert(recipientId.length > 0);
+        OWSAssertDebug(recipientId.length > 0);
 
         OWSRecipientIdentity *_Nullable recipientIdentity =
             [[OWSIdentityManager sharedManager] recipientIdentityForRecipientId:recipientId];
-        OWSAssert(recipientIdentity);
+        OWSAssertDebug(recipientIdentity);
 
         NSData *identityKey = recipientIdentity.identityKey;
-        OWSAssert(identityKey.length > 0);
+        OWSAssertDebug(identityKey.length > 0);
         if (identityKey.length < 1) {
             continue;
         }
@@ -1056,7 +1056,7 @@ - (void)resetVerificationStateToDefault
 
 - (void)showUnblockContactUI:(nullable BlockActionCompletionBlock)completionBlock
 {
-    OWSAssert([self.thread isKindOfClass:[TSContactThread class]]);
+    OWSAssertDebug([self.thread isKindOfClass:[TSContactThread class]]);
 
     self.userHasScrolled = NO;
 
@@ -1087,8 +1087,8 @@ - (BOOL)isBlockedContactConversation
 
 - (int)blockedGroupMemberCount
 {
-    OWSAssert(self.isGroupConversation);
-    OWSAssert([self.thread isKindOfClass:[TSGroupThread class]]);
+    OWSAssertDebug(self.isGroupConversation);
+    OWSAssertDebug([self.thread isKindOfClass:[TSGroupThread class]]);
 
     TSGroupThread *groupThread = (TSGroupThread *)self.thread;
     int blockedMemberCount = 0;
@@ -1233,7 +1233,7 @@ - (void)updateNavigationTitle
             name = [[NSAttributedString alloc] initWithString:self.thread.name];
         }
     } else {
-        OWSAssert(self.thread.contactIdentifier);
+        OWSAssertDebug(self.thread.contactIdentifier);
         name =
             [self.contactsManager attributedContactOrProfileNameForPhoneIdentifier:self.thread.contactIdentifier
                                                                        primaryFont:self.headerView.titlePrimaryFont
@@ -1515,7 +1515,7 @@ - (void)startVideoCall
 
 - (void)callWithVideo:(BOOL)isVideo
 {
-    OWSAssert([self.thread isKindOfClass:[TSContactThread class]]);
+    OWSAssertDebug([self.thread isKindOfClass:[TSContactThread class]]);
 
     if (![self canCall]) {
         OWSLogWarn(@"Tried to initiate a call but thread is not callable.");
@@ -1724,10 +1724,10 @@ - (void)updateMessageMappingRangeOptions
         // If this is the first time we're configuring the range length,
         // try to take into account the position of the unread indicator
         // and the "focus message".
-        OWSAssert(self.dynamicInteractions);
+        OWSAssertDebug(self.dynamicInteractions);
 
         if (self.focusMessageIdOnOpen) {
-            OWSAssert(self.dynamicInteractions.focusMessagePosition);
+            OWSAssertDebug(self.dynamicInteractions.focusMessagePosition);
             if (self.dynamicInteractions.focusMessagePosition) {
                 OWSLogVerbose(@"ensuring load of focus message: %@", self.dynamicInteractions.focusMessagePosition);
                 rangeLength = MAX(rangeLength, 1 + self.dynamicInteractions.focusMessagePosition.unsignedIntegerValue);
@@ -1740,8 +1740,8 @@ - (void)updateMessageMappingRangeOptions
 
             // If there is an unread indicator, increase the initial load window
             // to include it.
-            OWSAssert(unreadIndicatorPosition > 0);
-            OWSAssert(unreadIndicatorPosition <= kYapDatabaseRangeMaxLength);
+            OWSAssertDebug(unreadIndicatorPosition > 0);
+            OWSAssertDebug(unreadIndicatorPosition <= kYapDatabaseRangeMaxLength);
 
             // We'd like to include at least N seen messages,
             // to give the user the context of where they left off the conversation.
@@ -1919,7 +1919,7 @@ - (void)tappedInvalidIdentityKeyErrorMessage:(TSInvalidIdentityKeyErrorMessage *
 
 - (void)handleCallTap:(TSCall *)call
 {
-    OWSAssert(call);
+    OWSAssertDebug(call);
 
     if (![self.thread isKindOfClass:[TSContactThread class]]) {
         OWSFailDebug(@"unexpected thread: %@", self.thread);
@@ -2061,7 +2061,7 @@ - (void)presentMessageActions:(NSArray<MenuAction *> *)messageActions withFocuse
 - (NSAttributedString *)attributedContactOrProfileNameForPhoneIdentifier:(NSString *)recipientId
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return [self.contactsManager attributedContactOrProfileNameForPhoneIdentifier:recipientId];
 }
@@ -2162,9 +2162,9 @@ - (void)didTapImageViewItem:(ConversationViewItem *)viewItem
                   imageView:(UIView *)imageView
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(attachmentStream);
-    OWSAssert(imageView);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(attachmentStream);
+    OWSAssertDebug(imageView);
 
     [self dismissKeyBoard];
 
@@ -2193,8 +2193,8 @@ - (void)didTapVideoViewItem:(ConversationViewItem *)viewItem
                   imageView:(UIImageView *)imageView
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(attachmentStream);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(attachmentStream);
 
     [self dismissKeyBoard];
     // In case we were presenting edit menu, we need to become first responder before presenting another VC
@@ -2220,8 +2220,8 @@ - (void)didTapVideoViewItem:(ConversationViewItem *)viewItem
 - (void)didTapAudioViewItem:(ConversationViewItem *)viewItem attachmentStream:(TSAttachmentStream *)attachmentStream
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(attachmentStream);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(attachmentStream);
 
     NSFileManager *fileManager = [NSFileManager defaultManager];
     if (![fileManager fileExistsAtPath:[attachmentStream.mediaURL path]]) {
@@ -2249,8 +2249,8 @@ - (void)didTapAudioViewItem:(ConversationViewItem *)viewItem attachmentStream:(T
 - (void)didTapTruncatedTextMessage:(ConversationViewItem *)conversationItem
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(conversationItem);
-    OWSAssert([conversationItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(conversationItem);
+    OWSAssertDebug([conversationItem.interaction isKindOfClass:[TSMessage class]]);
 
     LongTextViewController *view = [[LongTextViewController alloc] initWithViewItem:conversationItem];
     [self.navigationController pushViewController:view animated:YES];
@@ -2259,9 +2259,9 @@ - (void)didTapTruncatedTextMessage:(ConversationViewItem *)conversationItem
 - (void)didTapContactShareViewItem:(ConversationViewItem *)conversationItem
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(conversationItem);
-    OWSAssert(conversationItem.contactShare);
-    OWSAssert([conversationItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(conversationItem);
+    OWSAssertDebug(conversationItem.contactShare);
+    OWSAssertDebug([conversationItem.interaction isKindOfClass:[TSMessage class]]);
 
     ContactViewController *view = [[ContactViewController alloc] initWithContactShare:conversationItem.contactShare];
     [self.navigationController pushViewController:view animated:YES];
@@ -2270,7 +2270,7 @@ - (void)didTapContactShareViewItem:(ConversationViewItem *)conversationItem
 - (void)didTapSendMessageToContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.contactShareViewHelper sendMessageWithContactShare:contactShare fromViewController:self];
 }
@@ -2278,7 +2278,7 @@ - (void)didTapSendMessageToContactShare:(ContactShareViewModel *)contactShare
 - (void)didTapSendInviteToContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.contactShareViewHelper showInviteContactWithContactShare:contactShare fromViewController:self];
 }
@@ -2286,7 +2286,7 @@ - (void)didTapSendInviteToContactShare:(ContactShareViewModel *)contactShare
 - (void)didTapShowAddToContactUIForContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     [self.contactShareViewHelper showAddToContactsWithContactShare:contactShare fromViewController:self];
 }
@@ -2295,8 +2295,8 @@ - (void)didTapFailedIncomingAttachment:(ConversationViewItem *)viewItem
                      attachmentPointer:(TSAttachmentPointer *)attachmentPointer
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(attachmentPointer);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(attachmentPointer);
 
     // Restart failed downloads
     TSMessage *message = (TSMessage *)viewItem.interaction;
@@ -2306,7 +2306,7 @@ - (void)didTapFailedIncomingAttachment:(ConversationViewItem *)viewItem
 - (void)didTapFailedOutgoingMessage:(TSOutgoingMessage *)message
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     [self handleUnsentMessageTap:message];
 }
@@ -2316,8 +2316,8 @@ - (void)didTapConversationItem:(ConversationViewItem *)viewItem
     failedThumbnailDownloadAttachmentPointer:(TSAttachmentPointer *)attachmentPointer
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(attachmentPointer);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(attachmentPointer);
 
     TSMessage *message = (TSMessage *)viewItem.interaction;
     if (![message isKindOfClass:[TSMessage class]]) {
@@ -2352,10 +2352,10 @@ - (void)didTapConversationItem:(ConversationViewItem *)viewItem
 - (void)didTapConversationItem:(ConversationViewItem *)viewItem quotedReply:(OWSQuotedReplyModel *)quotedReply
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
-    OWSAssert(quotedReply);
-    OWSAssert(quotedReply.timestamp > 0);
-    OWSAssert(quotedReply.authorId.length > 0);
+    OWSAssertDebug(viewItem);
+    OWSAssertDebug(quotedReply);
+    OWSAssertDebug(quotedReply.timestamp > 0);
+    OWSAssertDebug(quotedReply.authorId.length > 0);
 
     // We try to find the index of the item within the current thread's
     // interactions that includes the "quoted interaction".
@@ -2465,8 +2465,8 @@ - (void)didTapConversationItem:(ConversationViewItem *)viewItem quotedReply:(OWS
 - (nullable NSNumber *)findGroupIndexOfThreadInteraction:(TSInteraction *)interaction
                                              transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(interaction);
-    OWSAssert(transaction);
+    OWSAssertDebug(interaction);
+    OWSAssertDebug(transaction);
 
     YapDatabaseAutoViewTransaction *_Nullable extension = [transaction extension:TSMessageDatabaseViewExtensionName];
     if (!extension) {
@@ -2487,8 +2487,8 @@ - (nullable NSNumber *)findGroupIndexOfThreadInteraction:(TSInteraction *)intera
 - (void)showDetailViewForViewItem:(ConversationViewItem *)conversationItem
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(conversationItem);
-    OWSAssert([conversationItem.interaction isKindOfClass:[TSMessage class]]);
+    OWSAssertDebug(conversationItem);
+    OWSAssertDebug([conversationItem.interaction isKindOfClass:[TSMessage class]]);
 
     TSMessage *message = (TSMessage *)conversationItem.interaction;
     MessageDetailViewController *view =
@@ -2575,7 +2575,7 @@ - (void)clearUnreadMessagesIndicator
     NSIndexPath *_Nullable indexPathOfUnreadIndicator = [self indexPathOfUnreadMessagesIndicator];
     if (indexPathOfUnreadIndicator) {
         ConversationViewItem *oldIndicatorItem = [self viewItemForIndex:indexPathOfUnreadIndicator.row];
-        OWSAssert(oldIndicatorItem);
+        OWSAssertDebug(oldIndicatorItem);
 
         // TODO ideally this would be happening within the *same* transaction that caused the unreadMessageIndicator
         // to be cleared.
@@ -2689,7 +2689,7 @@ - (void)ensureScrollDownButton
 
     if (self.viewItems.count > 0) {
         ConversationViewItem *lastViewItem = [self.viewItems lastObject];
-        OWSAssert(lastViewItem);
+        OWSAssertDebug(lastViewItem);
 
         if (lastViewItem.interaction.timestampForSorting > self.lastVisibleTimestamp) {
             shouldShowScrollDownButton = YES;
@@ -2747,7 +2747,7 @@ - (void)showAttachmentDocumentPickerMenu
     menuController.delegate = self;
 
     UIImage *takeMediaImage = [UIImage imageNamed:@"actionsheet_camera_black"];
-    OWSAssert(takeMediaImage);
+    OWSAssertDebug(takeMediaImage);
     [menuController addOptionWithTitle:NSLocalizedString(
                                            @"MEDIA_FROM_LIBRARY_BUTTON", @"media picker option to choose from library")
                                  image:takeMediaImage
@@ -2777,7 +2777,7 @@ - (void)showGifPicker
 
 - (void)gifPickerDidSelectWithAttachment:(SignalAttachment *)attachment
 {
-    OWSAssert(attachment);
+    OWSAssertDebug(attachment);
 
     [self tryToSendAttachmentIfApproved:attachment];
 
@@ -2788,7 +2788,7 @@ - (void)gifPickerDidSelectWithAttachment:(SignalAttachment *)attachment
 - (void)messageWasSent:(TSOutgoingMessage *)message
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     [self updateLastVisibleTimestamp:message.timestampForSorting];
     self.lastMessageSentDate = [NSDate new];
@@ -2859,8 +2859,8 @@ - (void)documentPicker:(UIDocumentPickerViewController *)controller didPickDocum
             @"ATTACHMENT_DEFAULT_FILENAME", @"Generic filename for an attachment with no known name");
     }
 
-    OWSAssert(type);
-    OWSAssert(filename);
+    OWSAssertDebug(type);
+    OWSAssertDebug(filename);
     DataSource *_Nullable dataSource = [DataSourcePath dataSourceWithURL:url shouldDeleteOnDeallocation:NO];
     if (!dataSource) {
         OWSFailDebug(@"attachment data was unexpectedly empty for picked document");
@@ -3100,9 +3100,9 @@ - (void)sendMessageAttachment:(SignalAttachment *)attachment
 {
     OWSAssertIsOnMainThread();
     // TODO: Should we assume non-nil or should we check for non-nil?
-    OWSAssert(attachment != nil);
-    OWSAssert(![attachment hasError]);
-    OWSAssert([attachment mimeType].length > 0);
+    OWSAssertDebug(attachment != nil);
+    OWSAssertDebug(![attachment hasError]);
+    OWSAssertDebug([attachment mimeType].length > 0);
 
     OWSLogVerbose(@"Sending attachment. Size in bytes: %lu, contentType: %@",
         (unsigned long)[attachment dataLength],
@@ -3125,7 +3125,7 @@ - (void)sendMessageAttachment:(SignalAttachment *)attachment
 - (void)sendContactShare:(ContactShareViewModel *)contactShare
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
+    OWSAssertDebug(contactShare);
 
     OWSLogVerbose(@"Sending contact share.");
 
@@ -3169,7 +3169,7 @@ - (void)sendQualityAdjustedAttachmentForVideo:(NSURL *)movieURL
 
                       compressionResult.attachmentPromise.then(^(SignalAttachment *attachment) {
                           OWSAssertIsOnMainThread();
-                          OWSAssert([attachment isKindOfClass:[SignalAttachment class]]);
+                          OWSAssertDebug([attachment isKindOfClass:[SignalAttachment class]]);
 
                           if (modalActivityIndicator.wasCancelled) {
                               return;
@@ -3242,7 +3242,7 @@ - (void)uiDatabaseDidUpdate:(NSNotification *)notification
     OWSLogVerbose(@"");
 
     NSArray *notifications = notification.userInfo[OWSUIDatabaseConnectionNotificationsKey];
-    OWSAssert([notifications isKindOfClass:[NSArray class]]);
+    OWSAssertDebug([notifications isKindOfClass:[NSArray class]]);
     
     [self updateBackButtonUnreadCount];
     [self updateNavigationBarSubtitleLabel];
@@ -3313,7 +3313,7 @@ - (void)uiDatabaseDidUpdate:(NSNotification *)notification
                 } else if (rowChange.indexPath && rowChange.originalIndex < self.viewItems.count) {
                     // Do nothing, this is a pseudo-update generated due to
                     // setCellDrawingDependencyOffsets.
-                    OWSAssert(rowChange.changes == YapDatabaseViewChangedDependency);
+                    OWSAssertDebug(rowChange.changes == YapDatabaseViewChangedDependency);
                 } else {
                     hasMalformedRowChange = YES;
                 }
@@ -3378,7 +3378,7 @@ - (void)uiDatabaseDidUpdate:(NSNotification *)notification
                         (unsigned long)rowChange.finalIndex);
                     [self.collectionView deleteItemsAtIndexPaths:@[ rowChange.indexPath ]];
                     YapCollectionKey *collectionKey = rowChange.collectionKey;
-                    OWSAssert(collectionKey.key.length > 0);
+                    OWSAssertDebug(collectionKey.key.length > 0);
                     break;
                 }
                 case YapDatabaseViewChangeInsert: {
@@ -3513,7 +3513,7 @@ - (void)uiDatabaseDidUpdate:(NSNotification *)notification
 - (BOOL)shouldAnimateRowUpdates:(NSArray<YapDatabaseViewRowChange *> *)rowChanges
                oldViewItemCount:(NSUInteger)oldViewItemCount
 {
-    OWSAssert(rowChanges);
+    OWSAssertDebug(rowChanges);
 
     // If user sends a new outgoing message, don't animate the change.
     BOOL isOnlyModifyingLastMessage = YES;
@@ -3799,7 +3799,7 @@ - (void)attachmentButtonPressed
                     [self takePictureOrVideo];
                 }];
     UIImage *takeMediaImage = [UIImage imageNamed:@"actionsheet_camera_black"];
-    OWSAssert(takeMediaImage);
+    OWSAssertDebug(takeMediaImage);
     [takeMediaAction setValue:takeMediaImage forKey:@"image"];
     [actionSheetController addAction:takeMediaAction];
 
@@ -3810,7 +3810,7 @@ - (void)attachmentButtonPressed
                     [self chooseFromLibraryAsMedia];
                 }];
     UIImage *chooseMediaImage = [UIImage imageNamed:@"actionsheet_camera_roll_black"];
-    OWSAssert(chooseMediaImage);
+    OWSAssertDebug(chooseMediaImage);
     [chooseMediaAction setValue:chooseMediaImage forKey:@"image"];
     [actionSheetController addAction:chooseMediaAction];
 
@@ -3821,7 +3821,7 @@ - (void)attachmentButtonPressed
                     [self showGifPicker];
                 }];
     UIImage *gifImage = [UIImage imageNamed:@"actionsheet_gif_black"];
-    OWSAssert(gifImage);
+    OWSAssertDebug(gifImage);
     [gifAction setValue:gifImage forKey:@"image"];
     [actionSheetController addAction:gifAction];
 
@@ -3833,7 +3833,7 @@ - (void)attachmentButtonPressed
                                    [self showAttachmentDocumentPickerMenu];
                                }];
     UIImage *chooseDocumentImage = [UIImage imageNamed:@"actionsheet_document_black"];
-    OWSAssert(chooseDocumentImage);
+    OWSAssertDebug(chooseDocumentImage);
     [chooseDocumentAction setValue:chooseDocumentImage forKey:@"image"];
     [actionSheetController addAction:chooseDocumentAction];
 
@@ -3846,7 +3846,7 @@ - (void)attachmentButtonPressed
                                        [self chooseContactForSending];
                                    }];
         UIImage *chooseContactImage = [UIImage imageNamed:@"actionsheet_contact"];
-        OWSAssert(takeMediaImage);
+        OWSAssertDebug(takeMediaImage);
         [chooseContactAction setValue:chooseContactImage forKey:@"image"];
         [actionSheetController addAction:chooseContactAction];
     }
@@ -3916,7 +3916,7 @@ - (void)updateLastVisibleTimestamp
 
 - (void)updateLastVisibleTimestamp:(uint64_t)timestamp
 {
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(timestamp > 0);
 
     self.lastVisibleTimestamp = MAX(self.lastVisibleTimestamp, timestamp);
 
@@ -4063,10 +4063,10 @@ - (void)setBackButtonUnreadCount:(NSUInteger)unreadCount
     }
     _backButtonUnreadCount = unreadCount;
 
-    OWSAssert(_backButtonUnreadCountView != nil);
+    OWSAssertDebug(_backButtonUnreadCountView != nil);
     _backButtonUnreadCountView.hidden = unreadCount <= 0;
 
-    OWSAssert(_backButtonUnreadCountLabel != nil);
+    OWSAssertDebug(_backButtonUnreadCountLabel != nil);
 
     // Max out the unread count at 99+.
     const NSUInteger kMaxUnreadCount = 99;
@@ -4278,7 +4278,7 @@ - (void)attachmentApproval:(AttachmentApprovalViewController *)attachmentApprova
 
 - (void)showErrorAlertForAttachment:(SignalAttachment *_Nullable)attachment
 {
-    OWSAssert(attachment == nil || [attachment hasError]);
+    OWSAssertDebug(attachment == nil || [attachment hasError]);
 
     NSString *errorMessage
         = (attachment ? [attachment localizedErrorDescription] : [SignalAttachment missingDataErrorMessage]);
@@ -4363,8 +4363,8 @@ - (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL
 - (void)resendGroupUpdateForErrorMessage:(TSErrorMessage *)message
 {
     OWSAssertIsOnMainThread();
-    OWSAssert([_thread isKindOfClass:[TSGroupThread class]]);
-    OWSAssert(message);
+    OWSAssertDebug([_thread isKindOfClass:[TSGroupThread class]]);
+    OWSAssertDebug(message);
 
     TSGroupThread *groupThread = (TSGroupThread *)self.thread;
     TSGroupModel *groupModel = groupThread.groupModel;
@@ -4385,7 +4385,7 @@ - (void)conversationColorWasUpdated
 
 - (void)groupWasUpdated:(TSGroupModel *)groupModel
 {
-    OWSAssert(groupModel);
+    OWSAssertDebug(groupModel);
 
     NSMutableSet *groupMemberIds = [NSMutableSet setWithArray:groupModel.groupMemberIds];
     [groupMemberIds addObject:[TSAccountManager localNumber]];
@@ -4620,7 +4620,7 @@ - (void)setShouldObserveDBModifications:(BOOL)shouldObserveDBModifications
         // bottom of content"; if the mapping's "window" size grows, it will grow
         // _upward_.
         CGFloat viewTopToContentBottom = 0;
-        OWSAssert([self.collectionView.collectionViewLayout isKindOfClass:[ConversationViewLayout class]]);
+        OWSAssertDebug([self.collectionView.collectionViewLayout isKindOfClass:[ConversationViewLayout class]]);
         ConversationViewLayout *conversationViewLayout
             = (ConversationViewLayout *)self.collectionView.collectionViewLayout;
         // To avoid laying out the collection view during initial view
@@ -4712,7 +4712,7 @@ - (void)setShouldObserveDBModifications:(BOOL)shouldObserveDBModifications
 
 - (nullable NSIndexPath *)firstIndexPathAtViewHorizonTimestamp
 {
-    OWSAssert(self.shouldObserveDBModifications);
+    OWSAssertDebug(self.shouldObserveDBModifications);
 
     if (!self.viewHorizonTimestamp) {
         return nil;
@@ -4728,10 +4728,10 @@ - (nullable NSIndexPath *)firstIndexPathAtViewHorizonTimestamp
     // If we converge on an item _before_ this cutoff, there was no interaction that fit our criteria.
     NSUInteger left = 0, right = self.viewItems.count - 1;
     while (left != right) {
-        OWSAssert(left < right);
+        OWSAssertDebug(left < right);
         NSUInteger mid = (left + right) / 2;
-        OWSAssert(left <= mid);
-        OWSAssert(mid < right);
+        OWSAssertDebug(left <= mid);
+        OWSAssertDebug(mid < right);
         ConversationViewItem *viewItem  = self.viewItems[mid];
         if (viewItem.interaction.timestamp >= viewHorizonTimestamp) {
             right = mid;
@@ -4740,7 +4740,7 @@ - (nullable NSIndexPath *)firstIndexPathAtViewHorizonTimestamp
             left = mid + 1;
         }
     }
-    OWSAssert(left == right);
+    OWSAssertDebug(left == right);
     ConversationViewItem *viewItem  = self.viewItems[left];
     if (viewItem.interaction.timestamp >= viewHorizonTimestamp) {
         OWSLogInfo(@"firstIndexPathAtViewHorizonTimestamp: %zd / %zd", left, self.viewItems.count);
@@ -4884,7 +4884,7 @@ - (BOOL)reloadViewItems
     __block BOOL hasError = NO;
     [self.uiDatabaseConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
         YapDatabaseViewTransaction *viewTransaction = [transaction ext:TSMessageDatabaseViewExtensionName];
-        OWSAssert(viewTransaction);
+        OWSAssertDebug(viewTransaction);
         for (NSUInteger row = 0; row < count; row++) {
             TSInteraction *interaction =
                 [viewTransaction objectAtRow:row inSection:0 withMappings:self.messageMappings];
@@ -4913,7 +4913,7 @@ - (BOOL)reloadViewItems
                                                            conversationStyle:self.conversationStyle];
             }
             [viewItems addObject:viewItem];
-            OWSAssert(!viewItemCache[interaction.uniqueId]);
+            OWSAssertDebug(!viewItemCache[interaction.uniqueId]);
             viewItemCache[interaction.uniqueId] = viewItem;
         }
     }];
@@ -4950,7 +4950,7 @@ - (BOOL)reloadViewItems
         }
 
         uint64_t viewItemTimestamp = viewItem.interaction.timestampForSorting;
-        OWSAssert(viewItemTimestamp > 0);
+        OWSAssertDebug(viewItemTimestamp > 0);
 
         BOOL shouldShowDate = NO;
         if (previousViewItemTimestamp == 0) {
@@ -5063,14 +5063,14 @@ - (BOOL)reloadViewItems
 
             TSIncomingMessage *incomingMessage = (TSIncomingMessage *)viewItem.interaction;
             NSString *incomingSenderId = incomingMessage.authorId;
-            OWSAssert(incomingSenderId.length > 0);
+            OWSAssertDebug(incomingSenderId.length > 0);
             BOOL isDisappearingMessage = incomingMessage.isExpiringMessage;
 
             NSString *_Nullable nextIncomingSenderId = nil;
             if (nextViewItem && nextViewItem.interaction.interactionType == interactionType) {
                 TSIncomingMessage *nextIncomingMessage = (TSIncomingMessage *)nextViewItem.interaction;
                 nextIncomingSenderId = nextIncomingMessage.authorId;
-                OWSAssert(nextIncomingSenderId.length > 0);
+                OWSAssertDebug(nextIncomingSenderId.length > 0);
             }
 
             if (nextViewItem && nextViewItem.interaction.interactionType == interactionType) {
@@ -5115,7 +5115,7 @@ - (BOOL)reloadViewItems
 
                     TSIncomingMessage *previousIncomingMessage = (TSIncomingMessage *)previousViewItem.interaction;
                     NSString *previousIncomingSenderId = previousIncomingMessage.authorId;
-                    OWSAssert(previousIncomingSenderId.length > 0);
+                    OWSAssertDebug(previousIncomingSenderId.length > 0);
 
                     shouldShowSenderName
                         = (![NSObject isNullableObject:previousIncomingSenderId equalTo:incomingSenderId]
@@ -5163,7 +5163,7 @@ - (BOOL)reloadViewItems
 - (void)reloadInteractionForViewItem:(ConversationViewItem *)viewItem
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewItem);
+    OWSAssertDebug(viewItem);
 
     // This should never happen, but don't crash in production if we have a bug.
     if (!viewItem) {
@@ -5225,7 +5225,7 @@ - (void)collectionView:(UICollectionView *)collectionView
        willDisplayCell:(UICollectionViewCell *)cell
     forItemAtIndexPath:(NSIndexPath *)indexPath
 {
-    OWSAssert([cell isKindOfClass:[ConversationViewCell class]]);
+    OWSAssertDebug([cell isKindOfClass:[ConversationViewCell class]]);
 
     ConversationViewCell *conversationViewCell = (ConversationViewCell *)cell;
     conversationViewCell.isCellVisible = YES;
@@ -5235,7 +5235,7 @@ - (void)collectionView:(UICollectionView *)collectionView
     didEndDisplayingCell:(nonnull UICollectionViewCell *)cell
       forItemAtIndexPath:(nonnull NSIndexPath *)indexPath
 {
-    OWSAssert([cell isKindOfClass:[ConversationViewCell class]]);
+    OWSAssertDebug([cell isKindOfClass:[ConversationViewCell class]]);
 
     ConversationViewCell *conversationViewCell = (ConversationViewCell *)cell;
     conversationViewCell.isCellVisible = NO;
@@ -5257,7 +5257,7 @@ - (void)contactsPicker:(ContactsPicker *)contactsPicker contactFetchDidFail:(NSE
 
 - (void)contactsPicker:(ContactsPicker *)contactsPicker didSelectContact:(Contact *)contact
 {
-    OWSAssert(contact);
+    OWSAssertDebug(contact);
 
     CNContact *_Nullable cnContact = [self.contactsManager cnContactWithId:contact.cnContactId];
     if (!cnContact) {
@@ -5294,7 +5294,7 @@ - (void)contactsPicker:(ContactsPicker *)contactsPicker didSelectContact:(Contac
         [[ContactShareApprovalViewController alloc] initWithContactShare:contactShare
                                                          contactsManager:self.contactsManager
                                                                 delegate:self];
-    OWSAssert(contactsPicker.navigationController);
+    OWSAssertDebug(contactsPicker.navigationController);
     [contactsPicker.navigationController pushViewController:approveContactShare animated:YES];
 }
 
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewItem.m b/Signal/src/ViewControllers/ConversationView/ConversationViewItem.m
index de76ce9255c..9edb9859d27 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewItem.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewItem.m
@@ -81,9 +81,9 @@ - (instancetype)initWithInteraction:(TSInteraction *)interaction
                         transaction:(YapDatabaseReadTransaction *)transaction
                   conversationStyle:(ConversationStyle *)conversationStyle
 {
-    OWSAssert(interaction);
-    OWSAssert(transaction);
-    OWSAssert(conversationStyle);
+    OWSAssertDebug(interaction);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(conversationStyle);
 
     self = [super init];
 
@@ -102,7 +102,7 @@ - (instancetype)initWithInteraction:(TSInteraction *)interaction
 
 - (void)replaceInteraction:(TSInteraction *)interaction transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(interaction);
+    OWSAssertDebug(interaction);
 
     _interaction = interaction;
 
@@ -220,7 +220,7 @@ - (void)clearCachedLayoutState
 - (CGSize)cellSize
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.conversationStyle);
+    OWSAssertDebug(self.conversationStyle);
 
     if (!self.cachedCellSize) {
         ConversationViewCell *_Nullable measurementCell = [self measurementCell];
@@ -236,7 +236,7 @@ - (CGSize)cellSize
 - (nullable ConversationViewCell *)measurementCell
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.interaction);
+    OWSAssertDebug(self.interaction);
 
     // For performance reasons, we cache one instance of each kind of
     // cell and uses these cells for measurement.
@@ -267,7 +267,7 @@ - (nullable ConversationViewCell *)measurementCell
                 break;
         }
 
-        OWSAssert(measurementCell);
+        OWSAssertDebug(measurementCell);
         measurementCellCache[cellCacheKey] = measurementCell;
     }
 
@@ -276,7 +276,7 @@ - (nullable ConversationViewCell *)measurementCell
 
 - (CGFloat)vSpacingWithPreviousLayoutItem:(ConversationViewItem *)previousLayoutItem
 {
-    OWSAssert(previousLayoutItem);
+    OWSAssertDebug(previousLayoutItem);
 
     if (self.hasCellHeader) {
         return OWSMessageHeaderViewDateHeaderVMargin;
@@ -302,9 +302,9 @@ - (ConversationViewCell *)dequeueCellForCollectionView:(UICollectionView *)colle
                                              indexPath:(NSIndexPath *)indexPath
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(collectionView);
-    OWSAssert(indexPath);
-    OWSAssert(self.interaction);
+    OWSAssertDebug(collectionView);
+    OWSAssertDebug(indexPath);
+    OWSAssertDebug(self.interaction);
 
     switch (self.interaction.interactionType) {
         case OWSInteractionType_Unknown:
@@ -361,8 +361,8 @@ - (NSCache *)displayableTextCache
 
 - (DisplayableText *)displayableBodyTextForText:(NSString *)text interactionId:(NSString *)interactionId
 {
-    OWSAssert(text);
-    OWSAssert(interactionId.length > 0);
+    OWSAssertDebug(text);
+    OWSAssertDebug(interactionId.length > 0);
 
     NSString *displayableTextCacheKey = [@"body-" stringByAppendingString:interactionId];
 
@@ -375,8 +375,8 @@ - (DisplayableText *)displayableBodyTextForText:(NSString *)text interactionId:(
 - (DisplayableText *)displayableBodyTextForOversizeTextAttachment:(TSAttachmentStream *)attachmentStream
                                                     interactionId:(NSString *)interactionId
 {
-    OWSAssert(attachmentStream);
-    OWSAssert(interactionId.length > 0);
+    OWSAssertDebug(attachmentStream);
+    OWSAssertDebug(interactionId.length > 0);
 
     NSString *displayableTextCacheKey = [@"oversize-body-" stringByAppendingString:interactionId];
 
@@ -391,8 +391,8 @@ - (DisplayableText *)displayableBodyTextForOversizeTextAttachment:(TSAttachmentS
 
 - (DisplayableText *)displayableQuotedTextForText:(NSString *)text interactionId:(NSString *)interactionId
 {
-    OWSAssert(text);
-    OWSAssert(interactionId.length > 0);
+    OWSAssertDebug(text);
+    OWSAssertDebug(interactionId.length > 0);
 
     NSString *displayableTextCacheKey = [@"quoted-" stringByAppendingString:interactionId];
 
@@ -405,7 +405,7 @@ - (DisplayableText *)displayableQuotedTextForText:(NSString *)text interactionId
 - (DisplayableText *)displayableTextForCacheKey:(NSString *)displayableTextCacheKey
                                       textBlock:(NSString * (^_Nonnull)(void))textBlock
 {
-    OWSAssert(displayableTextCacheKey.length > 0);
+    OWSAssertDebug(displayableTextCacheKey.length > 0);
 
     DisplayableText *_Nullable displayableText = [[self displayableTextCache] objectForKey:displayableTextCacheKey];
     if (!displayableText) {
@@ -421,7 +421,7 @@ - (DisplayableText *)displayableTextForCacheKey:(NSString *)displayableTextCache
 - (nullable TSAttachment *)firstAttachmentIfAnyOfMessage:(TSMessage *)message
                                              transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (message.attachmentIds.count == 0) {
         return nil;
@@ -436,8 +436,8 @@ - (nullable TSAttachment *)firstAttachmentIfAnyOfMessage:(TSMessage *)message
 - (void)ensureViewState:(YapDatabaseReadTransaction *)transaction
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(transaction);
-    OWSAssert(!self.hasViewState);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(!self.hasViewState);
 
     switch (self.interaction.interactionType) {
         case OWSInteractionType_Unknown:
@@ -447,7 +447,7 @@ - (void)ensureViewState:(YapDatabaseReadTransaction *)transaction
         case OWSInteractionType_Info:
         case OWSInteractionType_Call:
             self.systemMessageText = [self systemMessageTextWithTransaction:transaction];
-            OWSAssert(self.systemMessageText.length > 0);
+            OWSAssertDebug(self.systemMessageText.length > 0);
             return;
         case OWSInteractionType_IncomingMessage:
         case OWSInteractionType_OutgoingMessage:
@@ -457,7 +457,7 @@ - (void)ensureViewState:(YapDatabaseReadTransaction *)transaction
             return;
     }
 
-    OWSAssert([self.interaction isKindOfClass:[TSOutgoingMessage class]] ||
+    OWSAssertDebug([self.interaction isKindOfClass:[TSOutgoingMessage class]] ||
         [self.interaction isKindOfClass:[TSIncomingMessage class]]);
 
     self.hasViewState = YES;
@@ -541,11 +541,11 @@ - (void)ensureViewState:(YapDatabaseReadTransaction *)transaction
         // If we haven't already assigned an attachment type at this point, message.body isn't a caption,
         // it's a stand-alone text message.
         if (self.messageCellType == OWSMessageCellType_Unknown) {
-            OWSAssert(message.attachmentIds.count == 0);
+            OWSAssertDebug(message.attachmentIds.count == 0);
             self.messageCellType = OWSMessageCellType_TextMessage;
         }
         self.displayableBodyText = [self displayableBodyTextForText:message.body interactionId:message.uniqueId];
-        OWSAssert(self.displayableBodyText);
+        OWSAssertDebug(self.displayableBodyText);
     }
 
     if (self.messageCellType == OWSMessageCellType_Unknown) {
@@ -569,7 +569,7 @@ - (void)ensureViewState:(YapDatabaseReadTransaction *)transaction
 
 - (NSString *)systemMessageTextWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     switch (self.interaction.interactionType) {
         case OWSInteractionType_Error: {
@@ -638,11 +638,11 @@ - (OWSMessageCellType)messageCellType
 - (nullable DisplayableText *)displayableBodyText
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.hasViewState);
+    OWSAssertDebug(self.hasViewState);
 
-    OWSAssert(_displayableBodyText);
-    OWSAssert(_displayableBodyText.displayText);
-    OWSAssert(_displayableBodyText.fullText);
+    OWSAssertDebug(_displayableBodyText);
+    OWSAssertDebug(_displayableBodyText.displayText);
+    OWSAssertDebug(_displayableBodyText.fullText);
 
     return _displayableBodyText;
 }
@@ -650,7 +650,7 @@ - (nullable DisplayableText *)displayableBodyText
 - (nullable TSAttachmentStream *)attachmentStream
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.hasViewState);
+    OWSAssertDebug(self.hasViewState);
 
     return _attachmentStream;
 }
@@ -658,7 +658,7 @@ - (nullable TSAttachmentStream *)attachmentStream
 - (nullable TSAttachmentPointer *)attachmentPointer
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.hasViewState);
+    OWSAssertDebug(self.hasViewState);
 
     return _attachmentPointer;
 }
@@ -666,7 +666,7 @@ - (nullable TSAttachmentPointer *)attachmentPointer
 - (CGSize)mediaSize
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.hasViewState);
+    OWSAssertDebug(self.hasViewState);
 
     return _mediaSize;
 }
@@ -674,11 +674,11 @@ - (CGSize)mediaSize
 - (nullable DisplayableText *)displayableQuotedText
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.hasViewState);
+    OWSAssertDebug(self.hasViewState);
 
-    OWSAssert(_displayableQuotedText);
-    OWSAssert(_displayableQuotedText.displayText);
-    OWSAssert(_displayableQuotedText.fullText);
+    OWSAssertDebug(_displayableQuotedText);
+    OWSAssertDebug(_displayableQuotedText.displayText);
+    OWSAssertDebug(_displayableQuotedText.fullText);
 
     return _displayableQuotedText;
 }
@@ -693,7 +693,7 @@ - (void)copyTextAction
         case OWSMessageCellType_Audio:
         case OWSMessageCellType_Video:
         case OWSMessageCellType_GenericAttachment: {
-            OWSAssert(self.displayableBodyText);
+            OWSAssertDebug(self.displayableBodyText);
             [UIPasteboard.generalPasteboard setString:self.displayableBodyText.fullText];
             break;
         }
@@ -758,7 +758,7 @@ - (void)shareTextAction
         case OWSMessageCellType_Audio:
         case OWSMessageCellType_Video:
         case OWSMessageCellType_GenericAttachment: {
-            OWSAssert(self.displayableBodyText);
+            OWSAssertDebug(self.displayableBodyText);
             [AttachmentSharing showShareUIForText:self.displayableBodyText.fullText];
             break;
         }
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewLayout.m b/Signal/src/ViewControllers/ConversationView/ConversationViewLayout.m
index 542a2f77e9c..55235ffd5a9 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewLayout.m
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewLayout.m
@@ -115,7 +115,7 @@ - (void)prepareLayoutOfItems
         CGSize layoutSize = CGSizeCeil([layoutItem cellSize]);
 
         // Ensure cell fits within view.
-        OWSAssert(layoutSize.width <= viewWidth);
+        OWSAssertDebug(layoutSize.width <= viewWidth);
         layoutSize.width = MIN(viewWidth, layoutSize.width);
 
         // All cells are "full width" and are responsible for aligning their own content.
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
index b1aa800e0bc..f1d57eb2d5b 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIBackup.m
@@ -61,10 +61,10 @@ + (void)backupTestFile
     OWSLogInfo(@"backupTestFile.");
 
     NSData *_Nullable data = [Randomness generateRandomBytes:32];
-    OWSAssert(data);
+    OWSAssertDebug(data);
     NSString *filePath = [OWSFileSystem temporaryFilePathWithFileExtension:@"pdf"];
     BOOL success = [data writeToFile:filePath atomically:YES];
-    OWSAssert(success);
+    OWSAssertDebug(success);
 
     [OWSBackupAPI checkCloudKitAccessWithCompletion:^(BOOL hasAccess) {
         if (hasAccess) {
@@ -133,7 +133,7 @@ + (void)logDatabaseSizeStats
                                                   interactionCount++;
                                                   NSData *_Nullable data =
                                                       [NSKeyedArchiver archivedDataWithRootObject:interaction];
-                                                  OWSAssert(data);
+                                                  OWSAssertDebug(data);
                                                   interactionSizeTotal += data.length;
                                               }];
         [transaction enumerateKeysAndObjectsInCollection:[TSAttachment collection]
@@ -142,7 +142,7 @@ + (void)logDatabaseSizeStats
                                                   attachmentCount++;
                                                   NSData *_Nullable data =
                                                       [NSKeyedArchiver archivedDataWithRootObject:attachment];
-                                                  OWSAssert(data);
+                                                  OWSAssertDebug(data);
                                                   attachmentSizeTotal += data.length;
                                               }];
     }];
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
index e93a7c19b62..6a73b4a49e2 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIContacts.m
@@ -1153,7 +1153,7 @@ + (void)createRandomContacts:(NSUInteger)count
               contactHandler:
                   (nullable void (^)(CNContact *_Nonnull contact, NSUInteger idx, BOOL *_Nonnull stop))contactHandler
 {
-    OWSAssert(count > 0);
+    OWSAssertDebug(count > 0);
 
     NSUInteger remainder = count;
     const NSUInteger kMaxBatchSize = 20;
@@ -1175,8 +1175,8 @@ + (void)createRandomContactsBatch:(NSUInteger)count
                                       CNContact *_Nonnull contact, NSUInteger idx, BOOL *_Nonnull stop))contactHandler
            batchCompletionHandler:(nullable void (^)(void))batchCompletionHandler
 {
-    OWSAssert(count > 0);
-    OWSAssert(batchCompletionHandler);
+    OWSAssertDebug(count > 0);
+    OWSAssertDebug(batchCompletionHandler);
 
     OWSLogDebug(@"createRandomContactsBatch: %zu", count);
 
@@ -1215,7 +1215,7 @@ + (void)createRandomContactsBatch:(NSUInteger)count
                              const NSUInteger kPercentWithAvatar = 50;
                              const NSUInteger kMinimumAvatarDiameter = 200;
                              const NSUInteger kMaximumAvatarDiameter = 800;
-                             OWSAssert(kMaximumAvatarDiameter >= kMinimumAvatarDiameter);
+                             OWSAssertDebug(kMaximumAvatarDiameter >= kMinimumAvatarDiameter);
                              if (arc4random_uniform(100) < kPercentWithAvatar) {
                                  NSUInteger avatarDiameter
                                      = arc4random_uniform(kMaximumAvatarDiameter - kMinimumAvatarDiameter)
@@ -1252,7 +1252,7 @@ + (void)createRandomContactsBatch:(NSUInteger)count
 
 + (void)deleteContactsWithFilter:(BOOL (^_Nonnull)(CNContact *contact))filterBlock
 {
-    OWSAssert(filterBlock);
+    OWSAssertDebug(filterBlock);
 
     CNAuthorizationStatus status = [CNContactStore authorizationStatusForEntityType:CNEntityTypeContacts];
     if (status == CNAuthorizationStatusDenied || status == CNAuthorizationStatusRestricted) {
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
index 558ef8ce299..82cc4f10c70 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessages.m
@@ -81,7 +81,7 @@ - (NSString *)name
 
 - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<OWSTableItem *> *items = [NSMutableArray new];
 
@@ -339,7 +339,7 @@ + (void)sendNTextMessagesInThread:(TSThread *)thread
 
 + (DebugUIMessagesAction *)sendTextMessagesActionInThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction actionWithLabel:@"Send Text Message"
                                    staggeredActionBlock:^(NSUInteger index,
@@ -361,8 +361,8 @@ + (void)sendAttachment:(NSString *)filePath
                success:(nullable void (^)(void))success
                failure:(nullable void (^)(void))failure
 {
-    OWSAssert(filePath);
-    OWSAssert(thread);
+    OWSAssertDebug(filePath);
+    OWSAssertDebug(thread);
 
     OWSMessageSender *messageSender = [Environment current].messageSender;
     NSString *filename = [filePath lastPathComponent];
@@ -384,12 +384,12 @@ + (void)sendAttachment:(NSString *)filePath
     }
     attachment.captionText = messageBody;
 
-    OWSAssert(attachment);
+    OWSAssertDebug(attachment);
     if ([attachment hasError]) {
         OWSLogError(@"attachment[%@]: %@", [attachment sourceFilename], [attachment errorName]);
         [DDLog flushLog];
     }
-    OWSAssert(![attachment hasError]);
+    OWSAssertDebug(![attachment hasError]);
     [ThreadUtil sendMessageWithAttachment:attachment
                                  inThread:thread
                          quotedReplyModel:nil
@@ -403,7 +403,7 @@ + (void)sendAttachment:(NSString *)filePath
 + (void)performActionNTimes:(DebugUIMessagesAction *)action
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(action);
+    OWSAssertDebug(action);
 
     UIAlertController *alert = [UIAlertController alertControllerWithTitle:@"How many?"
                                                                    message:nil
@@ -431,7 +431,7 @@ + (void)performActionNTimes:(DebugUIMessagesAction *)action
 
 + (NSArray<DebugUIMessagesAction *> *)allSendMediaActions:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSArray<DebugUIMessagesAction *> *actions = @[
         [self sendJpegAction:thread hasCaption:NO],
@@ -450,7 +450,7 @@ + (void)performActionNTimes:(DebugUIMessagesAction *)action
 
 + (DebugUIMessagesAction *)sendJpegAction:(TSThread *)thread hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self sendMediaAction:@"Send Jpeg"
                       hasCaption:hasCaption
@@ -460,7 +460,7 @@ + (DebugUIMessagesAction *)sendJpegAction:(TSThread *)thread hasCaption:(BOOL)ha
 
 + (DebugUIMessagesAction *)sendGifAction:(TSThread *)thread hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self sendMediaAction:@"Send Gif"
                       hasCaption:hasCaption
@@ -470,7 +470,7 @@ + (DebugUIMessagesAction *)sendGifAction:(TSThread *)thread hasCaption:(BOOL)has
 
 + (DebugUIMessagesAction *)sendLargeGifAction:(TSThread *)thread hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self sendMediaAction:@"Send Large Gif"
                       hasCaption:hasCaption
@@ -480,7 +480,7 @@ + (DebugUIMessagesAction *)sendLargeGifAction:(TSThread *)thread hasCaption:(BOO
 
 + (DebugUIMessagesAction *)sendMp3Action:(TSThread *)thread hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self sendMediaAction:@"Send Mp3"
                       hasCaption:hasCaption
@@ -490,7 +490,7 @@ + (DebugUIMessagesAction *)sendMp3Action:(TSThread *)thread hasCaption:(BOOL)has
 
 + (DebugUIMessagesAction *)sendMp4Action:(TSThread *)thread hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self sendMediaAction:@"Send Mp4"
                       hasCaption:hasCaption
@@ -503,9 +503,9 @@ + (DebugUIMessagesAction *)sendMediaAction:(NSString *)labelParam
                            fakeAssetLoader:(DebugUIMessagesAssetLoader *)fakeAssetLoader
                                     thread:(TSThread *)thread
 {
-    OWSAssert(labelParam.length > 0);
-    OWSAssert(fakeAssetLoader);
-    OWSAssert(thread);
+    OWSAssertDebug(labelParam.length > 0);
+    OWSAssertDebug(fakeAssetLoader);
+    OWSAssertDebug(thread);
 
     NSString *label = labelParam;
     if (hasCaption) {
@@ -519,7 +519,7 @@ + (DebugUIMessagesAction *)sendMediaAction:(NSString *)labelParam
             ActionSuccessBlock success,
             ActionFailureBlock failure) {
             dispatch_async(dispatch_get_main_queue(), ^{
-                OWSAssert(fakeAssetLoader.filePath.length > 0);
+                OWSAssertDebug(fakeAssetLoader.filePath.length > 0);
                 [self sendAttachment:fakeAssetLoader.filePath
                               thread:thread
                                label:label
@@ -533,7 +533,7 @@ + (DebugUIMessagesAction *)sendMediaAction:(NSString *)labelParam
 
 + (DebugUIMessagesAction *)sendAllMediaAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Send Media"
                                                     subactions:[self allSendMediaActions:thread]];
@@ -541,7 +541,7 @@ + (DebugUIMessagesAction *)sendAllMediaAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)sendRandomMediaAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction randomGroupActionWithLabel:@"Random Send Media"
                                                        subactions:[self allSendMediaActions:thread]];
@@ -549,7 +549,7 @@ + (DebugUIMessagesAction *)sendRandomMediaAction:(TSThread *)thread
 
 + (void)selectSendMediaAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [self selectActionUI:[self allSendMediaActions:thread] label:@"Select Send Media"];
 }
@@ -560,7 +560,7 @@ + (DebugUIMessagesAction *)fakeOutgoingJpegAction:(TSThread *)thread
                                      messageState:(TSOutgoingMessageState)messageState
                                        hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Jpeg"
                             messageState:messageState
@@ -573,7 +573,7 @@ + (DebugUIMessagesAction *)fakeOutgoingGifAction:(TSThread *)thread
                                     messageState:(TSOutgoingMessageState)messageState
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Gif"
                             messageState:messageState
@@ -586,7 +586,7 @@ + (DebugUIMessagesAction *)fakeOutgoingLargeGifAction:(TSThread *)thread
                                          messageState:(TSOutgoingMessageState)messageState
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Large Gif"
                             messageState:messageState
@@ -599,7 +599,7 @@ + (DebugUIMessagesAction *)fakeOutgoingMp3Action:(TSThread *)thread
                                     messageState:(TSOutgoingMessageState)messageState
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Mp3"
                             messageState:messageState
@@ -612,7 +612,7 @@ + (DebugUIMessagesAction *)fakeOutgoingMp4Action:(TSThread *)thread
                                     messageState:(TSOutgoingMessageState)messageState
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Mp4"
                             messageState:messageState
@@ -625,7 +625,7 @@ + (DebugUIMessagesAction *)fakeOutgoingCompactPortraitPngAction:(TSThread *)thre
                                                    messageState:(TSOutgoingMessageState)messageState
                                                      hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Portrait Png"
                             messageState:messageState
@@ -638,7 +638,7 @@ + (DebugUIMessagesAction *)fakeOutgoingCompactLandscapePngAction:(TSThread *)thr
                                                     messageState:(TSOutgoingMessageState)messageState
                                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Landscape Png"
                             messageState:messageState
@@ -651,7 +651,7 @@ + (DebugUIMessagesAction *)fakeOutgoingTallPortraitPngAction:(TSThread *)thread
                                                 messageState:(TSOutgoingMessageState)messageState
                                                   hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Tall Portrait Png"
                             messageState:messageState
@@ -664,7 +664,7 @@ + (DebugUIMessagesAction *)fakeOutgoingWideLandscapePngAction:(TSThread *)thread
                                                  messageState:(TSOutgoingMessageState)messageState
                                                    hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Wide Landscape Png"
                             messageState:messageState
@@ -677,7 +677,7 @@ + (DebugUIMessagesAction *)fakeOutgoingLargePngAction:(TSThread *)thread
                                          messageState:(TSOutgoingMessageState)messageState
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Large Png"
                             messageState:messageState
@@ -690,7 +690,7 @@ + (DebugUIMessagesAction *)fakeOutgoingTinyPngAction:(TSThread *)thread
                                         messageState:(TSOutgoingMessageState)messageState
                                           hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Tiny Png"
                             messageState:messageState
@@ -708,7 +708,7 @@ + (DebugUIMessagesAction *)fakeOutgoingPngAction:(TSThread *)thread
                                     messageState:(TSOutgoingMessageState)messageState
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:actionLabel
                             messageState:messageState
@@ -724,7 +724,7 @@ + (DebugUIMessagesAction *)fakeOutgoingTinyPdfAction:(TSThread *)thread
                                         messageState:(TSOutgoingMessageState)messageState
                                           hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Tiny Pdf"
                             messageState:messageState
@@ -737,7 +737,7 @@ + (DebugUIMessagesAction *)fakeOutgoingLargePdfAction:(TSThread *)thread
                                          messageState:(TSOutgoingMessageState)messageState
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Large Pdf"
                             messageState:messageState
@@ -750,7 +750,7 @@ + (DebugUIMessagesAction *)fakeOutgoingMissingPngAction:(TSThread *)thread
                                            messageState:(TSOutgoingMessageState)messageState
                                              hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Missing Png"
                             messageState:messageState
@@ -763,7 +763,7 @@ + (DebugUIMessagesAction *)fakeOutgoingMissingPdfAction:(TSThread *)thread
                                            messageState:(TSOutgoingMessageState)messageState
                                              hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Missing Pdf"
                             messageState:messageState
@@ -776,7 +776,7 @@ + (DebugUIMessagesAction *)fakeOutgoingOversizeTextAction:(TSThread *)thread
                                              messageState:(TSOutgoingMessageState)messageState
                                                hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeOutgoingMediaAction:@"Fake Outgoing Oversize Text"
                             messageState:messageState
@@ -791,9 +791,9 @@ + (DebugUIMessagesAction *)fakeOutgoingMediaAction:(NSString *)labelParam
                                    fakeAssetLoader:(DebugUIMessagesAssetLoader *)fakeAssetLoader
                                             thread:(TSThread *)thread
 {
-    OWSAssert(labelParam.length > 0);
-    OWSAssert(fakeAssetLoader);
-    OWSAssert(thread);
+    OWSAssertDebug(labelParam.length > 0);
+    OWSAssertDebug(fakeAssetLoader);
+    OWSAssertDebug(thread);
 
     NSString *label = [labelParam stringByAppendingString:[self actionLabelForHasCaption:hasCaption
                                                                     outgoingMessageState:messageState
@@ -803,7 +803,7 @@ + (DebugUIMessagesAction *)fakeOutgoingMediaAction:(NSString *)labelParam
     return
         [DebugUIMessagesSingleAction actionWithLabel:label
                               unstaggeredActionBlock:^(NSUInteger index, YapDatabaseReadWriteTransaction *transaction) {
-                                  OWSAssert(fakeAssetLoader.filePath.length > 0);
+                                  OWSAssertDebug(fakeAssetLoader.filePath.length > 0);
                                   [self createFakeOutgoingMedia:index
                                                    messageState:messageState
                                                      hasCaption:hasCaption
@@ -821,9 +821,9 @@ + (void)createFakeOutgoingMedia:(NSUInteger)index
                          thread:(TSThread *)thread
                     transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(fakeAssetLoader.filePath);
-    OWSAssert(transaction);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(fakeAssetLoader.filePath);
+    OWSAssertDebug(transaction);
 
     // Random time within last n years. Helpful for filling out a media gallery over time.
     //    double yearsMillis = 4.0 * kYearsInMs;
@@ -866,7 +866,7 @@ + (DebugUIMessagesAction *)fakeIncomingJpegAction:(TSThread *)thread
                            isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                        hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Jpeg"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -879,7 +879,7 @@ + (DebugUIMessagesAction *)fakeIncomingGifAction:(TSThread *)thread
                           isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Gif"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -892,7 +892,7 @@ + (DebugUIMessagesAction *)fakeIncomingLargeGifAction:(TSThread *)thread
                                isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Large Gif"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -905,7 +905,7 @@ + (DebugUIMessagesAction *)fakeIncomingMp3Action:(TSThread *)thread
                           isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Mp3"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -918,7 +918,7 @@ + (DebugUIMessagesAction *)fakeIncomingMp4Action:(TSThread *)thread
                           isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Mp4"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -931,7 +931,7 @@ + (DebugUIMessagesAction *)fakeIncomingCompactPortraitPngAction:(TSThread *)thre
                                          isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                                      hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Portrait Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -944,7 +944,7 @@ + (DebugUIMessagesAction *)fakeIncomingCompactLandscapePngAction:(TSThread *)thr
                                           isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Landscape Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -957,7 +957,7 @@ + (DebugUIMessagesAction *)fakeIncomingTallPortraitPngAction:(TSThread *)thread
                                       isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                                   hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Tall Portrait Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -970,7 +970,7 @@ + (DebugUIMessagesAction *)fakeIncomingWideLandscapePngAction:(TSThread *)thread
                                        isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                                    hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Wide Landscape Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -983,7 +983,7 @@ + (DebugUIMessagesAction *)fakeIncomingLargePngAction:(TSThread *)thread
                                isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Large Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -996,7 +996,7 @@ + (DebugUIMessagesAction *)fakeIncomingTinyPngAction:(TSThread *)thread
                               isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                           hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Tiny Incoming Large Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1014,7 +1014,7 @@ + (DebugUIMessagesAction *)fakeIncomingPngAction:(TSThread *)thread
                           isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                       hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:actionLabel
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1030,7 +1030,7 @@ + (DebugUIMessagesAction *)fakeIncomingTinyPdfAction:(TSThread *)thread
                               isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                           hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Tiny Pdf"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1043,7 +1043,7 @@ + (DebugUIMessagesAction *)fakeIncomingLargePdfAction:(TSThread *)thread
                                isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                            hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Large Pdf"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1056,7 +1056,7 @@ + (DebugUIMessagesAction *)fakeIncomingMissingPngAction:(TSThread *)thread
                                  isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                              hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Missing Png"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1069,7 +1069,7 @@ + (DebugUIMessagesAction *)fakeIncomingMissingPdfAction:(TSThread *)thread
                                  isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                              hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Missing Pdf"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1082,7 +1082,7 @@ + (DebugUIMessagesAction *)fakeIncomingOversizeTextAction:(TSThread *)thread
                                    isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                                                hasCaption:(BOOL)hasCaption
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [self fakeIncomingMediaAction:@"Fake Incoming Oversize Text"
                   isAttachmentDownloaded:isAttachmentDownloaded
@@ -1097,9 +1097,9 @@ + (DebugUIMessagesAction *)fakeIncomingMediaAction:(NSString *)labelParam
                                    fakeAssetLoader:(DebugUIMessagesAssetLoader *)fakeAssetLoader
                                             thread:(TSThread *)thread
 {
-    OWSAssert(labelParam.length > 0);
-    OWSAssert(fakeAssetLoader);
-    OWSAssert(thread);
+    OWSAssertDebug(labelParam.length > 0);
+    OWSAssertDebug(fakeAssetLoader);
+    OWSAssertDebug(thread);
 
     NSString *label = labelParam;
     if (hasCaption) {
@@ -1113,7 +1113,7 @@ + (DebugUIMessagesAction *)fakeIncomingMediaAction:(NSString *)labelParam
     return
         [DebugUIMessagesSingleAction actionWithLabel:label
                               unstaggeredActionBlock:^(NSUInteger index, YapDatabaseReadWriteTransaction *transaction) {
-                                  OWSAssert(fakeAssetLoader.filePath.length > 0);
+                                  OWSAssertDebug(fakeAssetLoader.filePath.length > 0);
                                   [self createFakeIncomingMedia:index
                                          isAttachmentDownloaded:isAttachmentDownloaded
                                                      hasCaption:hasCaption
@@ -1153,9 +1153,9 @@ + (TSIncomingMessage *)createFakeIncomingMedia:(NSUInteger)index
                                         thread:(TSThread *)thread
                                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(fakeAssetLoader.filePath);
-    OWSAssert(transaction);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(fakeAssetLoader.filePath);
+    OWSAssertDebug(transaction);
 
     //    // Random time within last n years. Helpful for filling out a media gallery over time.
     //    double yearsMillis = 4.0 * kYearsInMs;
@@ -1185,7 +1185,7 @@ + (TSIncomingMessage *)createFakeIncomingMedia:(NSUInteger)index
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeMediaActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
 
@@ -1633,7 +1633,7 @@ + (TSIncomingMessage *)createFakeIncomingMedia:(NSUInteger)index
 
 + (DebugUIMessagesAction *)fakeAllMediaAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake Media"
                                                     subactions:[self allFakeMediaActions:thread includeLabels:YES]];
@@ -1641,7 +1641,7 @@ + (DebugUIMessagesAction *)fakeAllMediaAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)fakeRandomMediaAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction randomGroupActionWithLabel:@"Random Fake Media"
                                                        subactions:[self allFakeMediaActions:thread includeLabels:NO]];
@@ -1651,7 +1651,7 @@ + (DebugUIMessagesAction *)fakeRandomMediaAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)sendShortTextMessageAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction actionWithLabel:@"Send Short Text Message"
                                    staggeredActionBlock:^(NSUInteger index,
@@ -1666,7 +1666,7 @@ + (DebugUIMessagesAction *)sendShortTextMessageAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)sendOversizeTextMessageAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction actionWithLabel:@"Send Oversize Text Message"
                                    staggeredActionBlock:^(NSUInteger index,
@@ -1681,7 +1681,7 @@ + (DebugUIMessagesAction *)sendOversizeTextMessageAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)sendMessageVariationsAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSArray<DebugUIMessagesAction *> *actions = @[
         [self sendShortTextMessageAction:thread],
@@ -1695,7 +1695,7 @@ + (DebugUIMessagesAction *)sendMessageVariationsAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)fakeShortIncomingTextMessageAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
                actionWithLabel:@"Fake Short Incoming Text Message"
@@ -1713,7 +1713,7 @@ + (DebugUIMessagesAction *)fakeShortIncomingTextMessageAction:(TSThread *)thread
 
 + (SignalAttachment *)signalAttachmentForFilePath:(NSString *)filePath
 {
-    OWSAssert(filePath);
+    OWSAssertDebug(filePath);
 
     NSString *filename = [filePath lastPathComponent];
     NSString *utiType = [MIMETypeUtil utiTypeForFileExtension:filename.pathExtension];
@@ -1725,12 +1725,12 @@ + (SignalAttachment *)signalAttachmentForFilePath:(NSString *)filePath
         attachment.captionText = [self randomCaptionText];
     }
 
-    OWSAssert(attachment);
+    OWSAssertDebug(attachment);
     if ([attachment hasError]) {
         OWSLogError(@"attachment[%@]: %@", [attachment sourceFilename], [attachment errorName]);
         [DDLog flushLog];
     }
-    OWSAssert(![attachment hasError]);
+    OWSAssertDebug(![attachment hasError]);
     return attachment;
 }
 
@@ -1739,8 +1739,8 @@ + (void)sendAttachment:(NSString *)filePath
                success:(nullable void (^)(void))success
                failure:(nullable void (^)(void))failure
 {
-    OWSAssert(filePath);
-    OWSAssert(thread);
+    OWSAssertDebug(filePath);
+    OWSAssertDebug(thread);
 
     SignalAttachment *attachment = [self signalAttachmentForFilePath:filePath];
     OWSMessageSender *messageSender = [Environment current].messageSender;
@@ -1754,7 +1754,7 @@ + (void)sendAttachment:(NSString *)filePath
 
 + (DebugUIMessagesAction *)fakeIncomingTextMessageAction:(TSThread *)thread text:(NSString *)text
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
                actionWithLabel:[NSString stringWithFormat:@"Fake Incoming Text Message (%@)", text]
@@ -1773,7 +1773,7 @@ + (DebugUIMessagesAction *)fakeOutgoingTextMessageAction:(TSThread *)thread
                                             messageState:(TSOutgoingMessageState)messageState
                                                     text:(NSString *)text
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
                actionWithLabel:[NSString stringWithFormat:@"Fake Incoming Text Message (%@)", text]
@@ -1815,7 +1815,7 @@ + (DebugUIMessagesAction *)fakeShortOutgoingTextMessageAction:(TSThread *)thread
                                                   isDelivered:(BOOL)isDelivered
                                                        isRead:(BOOL)isRead
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSString *label = @"Fake Short Incoming Text Message";
     label = [label stringByAppendingString:[self actionLabelForHasCaption:YES
@@ -1841,7 +1841,7 @@ + (DebugUIMessagesAction *)fakeShortOutgoingTextMessageAction:(TSThread *)thread
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeTextActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSArray<NSString *> *messageBodies = @[
         @"Hi",
@@ -1896,7 +1896,7 @@ + (DebugUIMessagesAction *)fakeShortOutgoingTextMessageAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)fakeAllTextAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake Text"
                                                     subactions:[self allFakeTextActions:thread includeLabels:YES]];
@@ -1904,7 +1904,7 @@ + (DebugUIMessagesAction *)fakeAllTextAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction randomGroupActionWithLabel:@"Random Fake Text"
                                                        subactions:[self allFakeTextActions:thread includeLabels:NO]];
@@ -1927,7 +1927,7 @@ + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
                   // Only applies if !isReplyIncoming.
                   replyMessageState:(TSOutgoingMessageState)replyMessageState
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     // Used fixed values for properties that shouldn't matter much.
     BOOL quotedMessageIsDelivered = NO;
@@ -1938,13 +1938,13 @@ + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
 
     // Seamlessly convert oversize text messages to oversize text attachments.
     if ([quotedMessageBody lengthOfBytesUsingEncoding:NSUTF8StringEncoding] >= kOversizeTextMessageSizeThreshold) {
-        OWSAssert(!quotedMessageAssetLoader);
+        OWSAssertDebug(!quotedMessageAssetLoader);
         quotedMessageAssetLoader = [DebugUIMessagesAssetLoader oversizeTextInstanceWithText:quotedMessageBody];
         quotedMessageBody = nil;
     }
     if (replyMessageBody &&
         [replyMessageBody lengthOfBytesUsingEncoding:NSUTF8StringEncoding] >= kOversizeTextMessageSizeThreshold) {
-        OWSAssert(!replyAssetLoader);
+        OWSAssertDebug(!replyAssetLoader);
         replyAssetLoader = [DebugUIMessagesAssetLoader oversizeTextInstanceWithText:replyMessageBody];
         replyMessageBody = nil;
     }
@@ -1998,7 +1998,7 @@ + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
                                           isAttachmentDownloaded:YES
                                                    quotedMessage:nil
                                                      transaction:transaction];
-                OWSAssert(messageToQuote);
+                OWSAssertDebug(messageToQuote);
                 OWSLogVerbose(@"%@", label);
                 [DDLog flushLog];
                 ConversationViewItem *viewItem = [[ConversationViewItem alloc] initWithInteraction:messageToQuote
@@ -2018,7 +2018,7 @@ + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
                                                                                 quotedMessage:nil
                                                                                  contactShare:nil
                                                                                   transaction:transaction];
-                OWSAssert(messageToQuote);
+                OWSAssertDebug(messageToQuote);
 
                 ConversationViewItem *viewItem = [[ConversationViewItem alloc] initWithInteraction:messageToQuote
                                                                                      isGroupThread:thread.isGroupThread
@@ -2028,7 +2028,7 @@ + (DebugUIMessagesAction *)fakeRandomTextAction:(TSThread *)thread
                     [OWSQuotedReplyModel quotedReplyForSendingWithConversationViewItem:viewItem transaction:transaction]
                     buildQuotedMessageForSending];
             }
-            OWSAssert(quotedMessage);
+            OWSAssertDebug(quotedMessage);
 
             NSString *_Nullable replyMessageBodyWIndex
                 = (replyMessageBody ? [NSString stringWithFormat:@"%zd %@", index, replyMessageBody] : nil);
@@ -2083,7 +2083,7 @@ + (void)groupPrepareBlockStepWithPrepareBlocks:(NSMutableArray<ActionPrepareBloc
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeQuotedReplyActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSString *shortText = @"Lorem ipsum";
     NSString *mediumText = @"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, "
@@ -2669,7 +2669,7 @@ + (void)groupPrepareBlockStepWithPrepareBlocks:(NSMutableArray<ActionPrepareBloc
 
 + (DebugUIMessagesAction *)allQuotedReplyAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return
         [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Quoted Reply"
@@ -2679,14 +2679,14 @@ + (DebugUIMessagesAction *)allQuotedReplyAction:(TSThread *)thread
 + (void)selectQuotedReplyAction:(TSThread *)thread
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [self selectActionUI:[self allFakeQuotedReplyActions:thread includeLabels:NO] label:@"Select QuotedReply"];
 }
 
 + (DebugUIMessagesAction *)randomQuotedReplyAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction
         randomGroupActionWithLabel:@"Random Quoted Reply"
@@ -2697,7 +2697,7 @@ + (DebugUIMessagesAction *)randomQuotedReplyAction:(TSThread *)thread
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
     [actions addObjectsFromArray:[self allFakeMediaActions:thread includeLabels:includeLabels]];
@@ -2711,7 +2711,7 @@ + (DebugUIMessagesAction *)randomQuotedReplyAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)allFakeAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake"
                                                     subactions:[self allFakeActions:thread includeLabels:YES]];
@@ -2720,7 +2720,7 @@ + (DebugUIMessagesAction *)allFakeAction:(TSThread *)thread
 + (void)selectFakeAction:(TSThread *)thread
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [self selectActionUI:[self allFakeActions:thread includeLabels:NO] label:@"Select Fake"];
 }
@@ -2748,7 +2748,7 @@ + (void)selectActionUI:(NSArray<DebugUIMessagesAction *> *)actions label:(NSStri
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeSequenceActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
 
@@ -2870,7 +2870,7 @@ + (void)selectActionUI:(NSArray<DebugUIMessagesAction *> *)actions label:(NSStri
 
 + (DebugUIMessagesAction *)allFakeSequencesAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake Sequences"
                                                     subactions:[self allFakeSequenceActions:thread includeLabels:YES]];
@@ -2882,7 +2882,7 @@ + (DebugUIMessagesAction *)fakeBackDatedMessageAction:(TSThread *)thread
                                                 label:(NSString *)label
                                            dateOffset:(int64_t)dateOffset
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
                actionWithLabel:[NSString stringWithFormat:@"Fake Back-Date Message (%@)", label]
@@ -2905,7 +2905,7 @@ + (DebugUIMessagesAction *)fakeBackDatedMessageAction:(TSThread *)thread
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeBackDatedActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
 
@@ -2931,7 +2931,7 @@ + (DebugUIMessagesAction *)fakeBackDatedMessageAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)allFakeBackDatedAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake Back-Dated"
                                                     subactions:[self allFakeBackDatedActions:thread includeLabels:YES]];
@@ -2940,7 +2940,7 @@ + (DebugUIMessagesAction *)allFakeBackDatedAction:(TSThread *)thread
 + (void)selectBackDatedAction:(TSThread *)thread
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [self selectActionUI:[self allFakeBackDatedActions:thread includeLabels:NO] label:@"Select Back-Dated"];
 }
@@ -2953,7 +2953,7 @@ + (DebugUIMessagesAction *)fakeContactShareMessageAction:(TSThread *)thread
                                                    label:(NSString *)label
                                             contactBlock:(OWSContactBlock)contactBlock
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
                actionWithLabel:[NSString stringWithFormat:@"Fake Contact Share (%@)", label]
@@ -2974,7 +2974,7 @@ + (DebugUIMessagesAction *)fakeContactShareMessageAction:(TSThread *)thread
 
 + (NSArray<DebugUIMessagesAction *> *)allFakeContactShareActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
 
@@ -3128,7 +3128,7 @@ + (DebugUIMessagesAction *)fakeContactShareMessageAction:(TSThread *)thread
 
 + (DebugUIMessagesAction *)fakeAllContactShareAction:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return
         [DebugUIMessagesGroupAction allGroupActionWithLabel:@"All Fake Contact Shares"
@@ -3140,7 +3140,7 @@ + (DebugUIMessagesAction *)sendContactShareMessageAction:(TSThread *)thread
                                                    label:(NSString *)label
                                             contactBlock:(OWSContactBlock)contactBlock
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     return [DebugUIMessagesSingleAction
              actionWithLabel:[NSString stringWithFormat:@"Send Contact Share (%@)", label]
@@ -3159,7 +3159,7 @@ + (DebugUIMessagesAction *)sendContactShareMessageAction:(TSThread *)thread
 
 + (NSArray<DebugUIMessagesAction *> *)allSendContactShareActions:(TSThread *)thread includeLabels:(BOOL)includeLabels
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<DebugUIMessagesAction *> *actions = [NSMutableArray new];
 
@@ -3356,8 +3356,8 @@ + (void)sendOversizeTextMessage:(TSThread *)thread
 
 + (NSData *)createRandomNSDataOfSize:(size_t)size
 {
-    OWSAssert(size % 4 == 0);
-    OWSAssert(size < INT_MAX);
+    OWSAssertDebug(size % 4 == 0);
+    OWSAssertDebug(size < INT_MAX);
 
     return [Randomness generateRandomBytes:(int)size];
 }
@@ -3395,7 +3395,7 @@ + (void)sendRandomAttachment:(TSThread *)thread uti:(NSString *)uti length:(NSUI
 
 + (SSKProtoEnvelope *)createEnvelopeForThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     uint64_t timestamp = [NSDate ows_millisecondTimeStamp];
     NSString *source = ^{
@@ -3427,7 +3427,7 @@ + (SSKProtoEnvelope *)createEnvelopeForThread:(TSThread *)thread
 
 + (NSArray<TSInteraction *> *)unsavedSystemMessagesInThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSMutableArray<TSInteraction *> *result = [NSMutableArray new];
 
@@ -3583,7 +3583,7 @@ + (SSKProtoEnvelope *)createEnvelopeForThread:(TSThread *)thread
         TSInvalidIdentityKeyReceivingErrorMessage *_Nullable blockingSNChangeMessage =
             [TSInvalidIdentityKeyReceivingErrorMessage untrustedKeyWithEnvelope:[self createEnvelopeForThread:thread]
                                                                 withTransaction:transaction];
-        OWSAssert(blockingSNChangeMessage);
+        OWSAssertDebug(blockingSNChangeMessage);
         [result addObject:blockingSNChangeMessage];
         [result addObject:[[TSErrorMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
                                                            inThread:thread
@@ -3596,7 +3596,7 @@ + (SSKProtoEnvelope *)createEnvelopeForThread:(TSThread *)thread
 
 + (void)createSystemMessagesInThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSArray<TSInteraction *> *messages = [self unsavedSystemMessagesInThread:thread];
     [OWSPrimaryStorage.dbReadWriteConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -3608,7 +3608,7 @@ + (void)createSystemMessagesInThread:(TSThread *)thread
 
 + (void)createSystemMessageInThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     NSArray<TSInteraction *> *messages = [self unsavedSystemMessagesInThread:thread];
     TSInteraction *message = messages[(NSUInteger)arc4random_uniform((uint32_t)messages.count)];
@@ -3677,10 +3677,10 @@ + (void)createFakeThreads:(NSUInteger)threadCount withFakeMessages:(NSUInteger)m
         createRandomContacts:threadCount
               contactHandler:^(CNContact *_Nonnull contact, NSUInteger idx, BOOL *_Nonnull stop) {
                   NSString *phoneNumberText = contact.phoneNumbers.firstObject.value.stringValue;
-                  OWSAssert(phoneNumberText);
+                  OWSAssertDebug(phoneNumberText);
                   PhoneNumber *phoneNumber = [PhoneNumber tryParsePhoneNumberFromUserSpecifiedText:phoneNumberText];
-                  OWSAssert(phoneNumber);
-                  OWSAssert(phoneNumber.toE164);
+                  OWSAssertDebug(phoneNumber);
+                  OWSAssertDebug(phoneNumber.toE164);
 
                   TSContactThread *contactThread = [TSContactThread getOrCreateThreadWithContactId:phoneNumber.toE164];
                   [self sendFakeMessages:messageCount thread:contactThread];
@@ -3812,7 +3812,7 @@ + (void)sendFakeMessages:(NSUInteger)counter
 
                 NSError *error;
                 BOOL success = [attachmentStream writeData:[self createRandomNSDataOfSize:filesize] error:&error];
-                OWSAssert(success && !error);
+                OWSAssertDebug(success && !error);
                 [attachmentStream saveWithTransaction:transaction];
 
                 [self createFakeOutgoingMessage:thread
@@ -3854,7 +3854,7 @@ + (void)createNewGroups:(NSUInteger)counter recipientId:(NSString *)recipientId
         readWriteWithBlock:^(YapDatabaseReadWriteTransaction *_Nonnull transaction) {
             thread = [TSGroupThread getOrCreateThreadWithGroupModel:groupModel transaction:transaction];
         }];
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     TSOutgoingMessage *message =
         [TSOutgoingMessage outgoingMessageInThread:thread groupMetaMessage:TSGroupMetaMessageNew expiresInSeconds:0];
@@ -3894,7 +3894,7 @@ + (void)injectFakeIncomingMessages:(NSUInteger)counter thread:(TSThread *)thread
 
 + (void)injectIncomingMessageInThread:(TSThread *)thread counter:(NSUInteger)counter
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     OWSLogInfo(@"injectIncomingMessageInThread: %lu", (unsigned long)counter);
 
@@ -4037,7 +4037,7 @@ + (void)deleteRandomMessages:(NSUInteger)count
 
         TSInteraction *_Nullable interaction =
             [interactionsByThread objectAtIndex:messageIdx.unsignedIntegerValue inGroup:thread.uniqueId];
-        OWSAssert(interaction);
+        OWSAssertDebug(interaction);
         [interactions addObject:interaction];
     }
 
@@ -4064,7 +4064,7 @@ + (void)deleteLastMessages:(NSUInteger)count
     for (NSNumber *messageIdx in messageIndices) {
         TSInteraction *_Nullable interaction =
             [interactionsByThread objectAtIndex:messageIdx.unsignedIntegerValue inGroup:thread.uniqueId];
-        OWSAssert(interaction);
+        OWSAssertDebug(interaction);
         [interactions addObject:interaction];
     }
     for (TSInteraction *interaction in interactions) {
@@ -4097,7 +4097,7 @@ + (void)deleteRandomRecentMessages:(NSUInteger)count
 
         TSInteraction *_Nullable interaction =
             [interactionsByThread objectAtIndex:messageIdx.unsignedIntegerValue inGroup:thread.uniqueId];
-        OWSAssert(interaction);
+        OWSAssertDebug(interaction);
         [interactions addObject:interaction];
     }
     for (TSInteraction *interaction in interactions) {
@@ -4226,7 +4226,7 @@ + (void)resurrectNewOutgoingMessages2:(NSUInteger)count
 
 + (void)createTimestampMessagesInThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     long long now = (long long)[NSDate ows_millisecondTimeStamp];
     NSArray<NSNumber *> *timestamps = @[
@@ -4342,7 +4342,7 @@ + (void)testIndicScriptsInThread:(TSThread *)thread
 
                     TSGroupThread *groupThread =
                         [TSGroupThread getOrCreateThreadWithGroupModel:groupModel transaction:transaction];
-                    OWSAssert(groupThread);
+                    OWSAssertDebug(groupThread);
                 }
             }
         }];
@@ -4381,7 +4381,7 @@ + (void)testZalgoTextInThread:(TSThread *)thread
 
                     TSGroupThread *groupThread =
                         [TSGroupThread getOrCreateThreadWithGroupModel:groupModel transaction:transaction];
-                    OWSAssert(groupThread);
+                    OWSAssertDebug(groupThread);
                 }
             }
         }];
@@ -4410,12 +4410,12 @@ + (void)testDirectionalFilenamesInThread:(TSThread *)thread
         SignalAttachment *attachment =
             [SignalAttachment attachmentWithDataSource:dataSource dataUTI:utiType imageQuality:TSImageQualityOriginal];
 
-        OWSAssert(attachment);
+        OWSAssertDebug(attachment);
         if ([attachment hasError]) {
             OWSLogError(@"attachment[%@]: %@", [attachment sourceFilename], [attachment errorName]);
             [DDLog flushLog];
         }
-        OWSAssert(![attachment hasError]);
+        OWSAssertDebug(![attachment hasError]);
         [ThreadUtil sendMessageWithAttachment:attachment
                                      inThread:thread
                              quotedReplyModel:nil
@@ -4476,11 +4476,11 @@ + (TSOutgoingMessage *)createFakeOutgoingMessage:(TSThread *)thread
                                     contactShare:(nullable OWSContact *)contactShare
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     // Seamlessly convert oversize text messages to oversize text attachments.
     if ([messageBody lengthOfBytesUsingEncoding:NSUTF8StringEncoding] >= kOversizeTextMessageSizeThreshold) {
-        OWSAssert(!fakeAssetLoader);
+        OWSAssertDebug(!fakeAssetLoader);
         fakeAssetLoader = [DebugUIMessagesAssetLoader oversizeTextInstanceWithText:messageBody];
         messageBody = nil;
     }
@@ -4515,9 +4515,9 @@ + (TSOutgoingMessage *)createFakeOutgoingMessage:(TSThread *)thread
                                     contactShare:(nullable OWSContact *)contactShare
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(transaction);
-    OWSAssert(messageBody.length > 0 || attachmentId.length > 0 || contactShare);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(messageBody.length > 0 || attachmentId.length > 0 || contactShare);
 
     NSMutableArray<NSString *> *attachmentIds = [NSMutableArray new];
     if (attachmentId) {
@@ -4544,14 +4544,14 @@ + (TSOutgoingMessage *)createFakeOutgoingMessage:(TSThread *)thread
     [message updateWithFakeMessageState:messageState transaction:transaction];
     if (isDelivered) {
         NSString *_Nullable recipientId = thread.recipientIdentifiers.lastObject;
-        OWSAssert(recipientId.length > 0);
+        OWSAssertDebug(recipientId.length > 0);
         [message updateWithDeliveredRecipient:recipientId
                             deliveryTimestamp:@([NSDate ows_millisecondTimeStamp])
                                   transaction:transaction];
     }
     if (isRead) {
         NSString *_Nullable recipientId = thread.recipientIdentifiers.lastObject;
-        OWSAssert(recipientId.length > 0);
+        OWSAssertDebug(recipientId.length > 0);
         [message updateWithReadRecipientId:recipientId
                              readTimestamp:[NSDate ows_millisecondTimeStamp]
                                transaction:transaction];
@@ -4566,11 +4566,11 @@ + (TSIncomingMessage *)createFakeIncomingMessage:(TSThread *)thread
                                    quotedMessage:(nullable TSQuotedMessage *)quotedMessage
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     // Seamlessly convert oversize text messages to oversize text attachments.
     if ([messageBody lengthOfBytesUsingEncoding:NSUTF8StringEncoding] >= kOversizeTextMessageSizeThreshold) {
-        OWSAssert(!fakeAssetLoader);
+        OWSAssertDebug(!fakeAssetLoader);
         fakeAssetLoader = [DebugUIMessagesAssetLoader oversizeTextInstanceWithText:messageBody];
         messageBody = nil;
     }
@@ -4599,9 +4599,9 @@ + (TSIncomingMessage *)createFakeIncomingMessage:(TSThread *)thread
                                    quotedMessage:(nullable TSQuotedMessage *)quotedMessage
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(transaction);
-    OWSAssert(messageBody.length > 0 || attachmentId.length > 0);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(messageBody.length > 0 || attachmentId.length > 0);
 
     NSMutableArray<NSString *> *attachmentIds = [NSMutableArray new];
     if (attachmentId) {
@@ -4631,9 +4631,9 @@ + (TSAttachment *)createFakeAttachment:(DebugUIMessagesAssetLoader *)fakeAssetLo
                 isAttachmentDownloaded:(BOOL)isAttachmentDownloaded
                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(fakeAssetLoader);
-    OWSAssert(fakeAssetLoader.filePath);
-    OWSAssert(transaction);
+    OWSAssertDebug(fakeAssetLoader);
+    OWSAssertDebug(fakeAssetLoader.filePath);
+    OWSAssertDebug(transaction);
 
     if (isAttachmentDownloaded) {
         DataSource *dataSource =
@@ -4647,7 +4647,7 @@ + (TSAttachment *)createFakeAttachment:(DebugUIMessagesAssetLoader *)fakeAssetLo
                                                                                 sourceFilename:filename];
         NSError *error;
         BOOL success = [attachmentStream writeData:dataSource.data error:&error];
-        OWSAssert(success && !error);
+        OWSAssertDebug(success && !error);
         [attachmentStream saveWithTransaction:transaction];
         return attachmentStream;
     } else {
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
index ee3fb26ee47..6647283480d 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAction.m
@@ -36,8 +36,8 @@ - (DebugUIMessagesSingleAction *)nextActionToPerform
 
 - (void)prepare:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     OWSAbstractMethod();
 
@@ -62,8 +62,8 @@ - (void)prepareAndPerformNTimes:(NSUInteger)count
 
 - (void)performNTimes:(NSUInteger)countParam success:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     OWSLogInfo(@"%@ performNTimes: %zd", self.label, countParam);
     [DDLog flushLog];
@@ -81,10 +81,10 @@ - (void)performNTimes:(NSUInteger)countParam success:(ActionSuccessBlock)success
             NSUInteger index = count;
 
             DebugUIMessagesSingleAction *action = [self nextActionToPerform];
-            OWSAssert([action isKindOfClass:[DebugUIMessagesSingleAction class]]);
+            OWSAssertDebug([action isKindOfClass:[DebugUIMessagesSingleAction class]]);
 
             if (action.staggeredActionBlock) {
-                OWSAssert(!action.unstaggeredActionBlock);
+                OWSAssertDebug(!action.unstaggeredActionBlock);
                 action.staggeredActionBlock(index,
                     transaction,
                     ^{
@@ -98,7 +98,7 @@ - (void)performNTimes:(NSUInteger)countParam success:(ActionSuccessBlock)success
 
                 break;
             } else {
-                OWSAssert(action.unstaggeredActionBlock);
+                OWSAssertDebug(action.unstaggeredActionBlock);
 
                 // TODO: We could check result for failure.
                 action.unstaggeredActionBlock(index, transaction);
@@ -129,8 +129,8 @@ @implementation DebugUIMessagesSingleAction
 + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
                       staggeredActionBlock:(StaggeredActionBlock)staggeredActionBlock
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(staggeredActionBlock);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(staggeredActionBlock);
 
     DebugUIMessagesSingleAction *instance = [DebugUIMessagesSingleAction new];
     instance.label = label;
@@ -141,8 +141,8 @@ + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
 + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
                     unstaggeredActionBlock:(UnstaggeredActionBlock)unstaggeredActionBlock
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(unstaggeredActionBlock);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(unstaggeredActionBlock);
 
     DebugUIMessagesSingleAction *instance = [DebugUIMessagesSingleAction new];
     instance.label = label;
@@ -154,9 +154,9 @@ + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
                       staggeredActionBlock:(StaggeredActionBlock)staggeredActionBlock
                               prepareBlock:(ActionPrepareBlock)prepareBlock
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(staggeredActionBlock);
-    OWSAssert(prepareBlock);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(staggeredActionBlock);
+    OWSAssertDebug(prepareBlock);
 
     DebugUIMessagesSingleAction *instance = [DebugUIMessagesSingleAction new];
     instance.label = label;
@@ -169,9 +169,9 @@ + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
                     unstaggeredActionBlock:(UnstaggeredActionBlock)unstaggeredActionBlock
                               prepareBlock:(ActionPrepareBlock)prepareBlock
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(unstaggeredActionBlock);
-    OWSAssert(prepareBlock);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(unstaggeredActionBlock);
+    OWSAssertDebug(prepareBlock);
 
     DebugUIMessagesSingleAction *instance = [DebugUIMessagesSingleAction new];
     instance.label = label;
@@ -182,8 +182,8 @@ + (DebugUIMessagesAction *)actionWithLabel:(NSString *)label
 
 - (void)prepare:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     if (self.prepareBlock) {
         self.prepareBlock(success, failure);
@@ -210,17 +210,17 @@ @implementation DebugUIMessagesGroupAction
 
 - (DebugUIMessagesSingleAction *)nextActionToPerform
 {
-    OWSAssert(self.subactions.count > 0);
+    OWSAssertDebug(self.subactions.count > 0);
 
     switch (self.subactionMode) {
         case SubactionMode_Random: {
             DebugUIMessagesAction *subaction = self.subactions[arc4random_uniform((uint32_t)self.subactions.count)];
-            OWSAssert(subaction);
+            OWSAssertDebug(subaction);
             return subaction.nextActionToPerform;
         }
         case SubactionMode_Ordered: {
             DebugUIMessagesAction *subaction = self.subactions[self.subactionIndex];
-            OWSAssert(subaction);
+            OWSAssertDebug(subaction);
             self.subactionIndex = (self.subactionIndex + 1) % self.subactions.count;
             return subaction.nextActionToPerform;
         }
@@ -229,8 +229,8 @@ - (DebugUIMessagesSingleAction *)nextActionToPerform
 
 - (void)prepare:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     [DebugUIMessagesGroupAction prepareSubactions:[self.subactions mutableCopy] success:success failure:failure];
 }
@@ -239,8 +239,8 @@ + (void)prepareSubactions:(NSMutableArray<DebugUIMessagesAction *> *)unpreparedS
                   success:(ActionSuccessBlock)success
                   failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     if (unpreparedSubactions.count < 1) {
         return success();
@@ -260,8 +260,8 @@ + (void)prepareSubactions:(NSMutableArray<DebugUIMessagesAction *> *)unpreparedS
 + (DebugUIMessagesAction *)randomGroupActionWithLabel:(NSString *)label
                                            subactions:(NSArray<DebugUIMessagesAction *> *)subactions
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(subactions.count > 0);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(subactions.count > 0);
 
     DebugUIMessagesGroupAction *instance = [DebugUIMessagesGroupAction new];
     instance.label = label;
@@ -273,8 +273,8 @@ + (DebugUIMessagesAction *)randomGroupActionWithLabel:(NSString *)label
 + (DebugUIMessagesAction *)allGroupActionWithLabel:(NSString *)label
                                         subactions:(NSArray<DebugUIMessagesAction *> *)subactions
 {
-    OWSAssert(label.length > 0);
-    OWSAssert(subactions.count > 0);
+    OWSAssertDebug(label.length > 0);
+    OWSAssertDebug(subactions.count > 0);
 
     DebugUIMessagesGroupAction *instance = [DebugUIMessagesGroupAction new];
     instance.label = label;
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
index 4356e2af60f..6b3bb79d024 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMessagesAssetLoader.m
@@ -21,8 +21,8 @@ - (NSString *)labelEmoji
 
 + (DebugUIMessagesAssetLoader *)fakeAssetLoaderWithUrl:(NSString *)fileUrl mimeType:(NSString *)mimeType
 {
-    OWSAssert(fileUrl.length > 0);
-    OWSAssert(mimeType.length > 0);
+    OWSAssertDebug(fileUrl.length > 0);
+    OWSAssertDebug(mimeType.length > 0);
 
     DebugUIMessagesAssetLoader *instance = [DebugUIMessagesAssetLoader new];
     instance.mimeType = mimeType;
@@ -36,10 +36,10 @@ + (DebugUIMessagesAssetLoader *)fakeAssetLoaderWithUrl:(NSString *)fileUrl mimeT
 
 - (void)ensureURLAssetLoaded:(NSString *)fileUrl success:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
 
     if (self.filePath) {
         success();
@@ -59,14 +59,14 @@ - (void)ensureURLAssetLoaded:(NSString *)fileUrl success:(ActionSuccessBlock)suc
     NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];
     AFHTTPSessionManager *sessionManager = [[AFHTTPSessionManager alloc] initWithSessionConfiguration:configuration];
     sessionManager.responseSerializer = [AFHTTPResponseSerializer serializer];
-    OWSAssert(sessionManager.responseSerializer);
+    OWSAssertDebug(sessionManager.responseSerializer);
     [sessionManager GET:fileUrl
         parameters:nil
         progress:nil
         success:^(NSURLSessionDataTask *task, NSData *_Nullable responseObject) {
             if ([responseObject writeToFile:filePath atomically:YES]) {
                 self.filePath = filePath;
-                OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+                OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
                 success();
             } else {
                 OWSFailDebug(@"Error write url response [%@]: %@", fileUrl, filePath);
@@ -86,11 +86,11 @@ + (DebugUIMessagesAssetLoader *)fakePngAssetLoaderWithImageSize:(CGSize)imageSiz
                                                       textColor:(UIColor *)textColor
                                                           label:(NSString *)label
 {
-    OWSAssert(imageSize.width > 0);
-    OWSAssert(imageSize.height > 0);
-    OWSAssert(backgroundColor);
-    OWSAssert(textColor);
-    OWSAssert(label.length > 0);
+    OWSAssertDebug(imageSize.width > 0);
+    OWSAssertDebug(imageSize.height > 0);
+    OWSAssertDebug(backgroundColor);
+    OWSAssertDebug(textColor);
+    OWSAssertDebug(label.length > 0);
 
     DebugUIMessagesAssetLoader *instance = [DebugUIMessagesAssetLoader new];
     instance.mimeType = OWSMimeTypeImagePng;
@@ -114,14 +114,14 @@ - (void)ensurePngAssetLoaded:(CGSize)imageSize
                      success:(ActionSuccessBlock)success
                      failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
-    OWSAssert(imageSize.width > 0 && imageSize.height > 0);
-    OWSAssert(backgroundColor);
-    OWSAssert(textColor);
-    OWSAssert(label.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
+    OWSAssertDebug(imageSize.width > 0 && imageSize.height > 0);
+    OWSAssertDebug(backgroundColor);
+    OWSAssertDebug(textColor);
+    OWSAssertDebug(label.length > 0);
 
     if (self.filePath) {
         success();
@@ -135,7 +135,7 @@ - (void)ensurePngAssetLoaded:(CGSize)imageSize
         NSData *pngData = UIImagePNGRepresentation(image);
         [pngData writeToFile:filePath atomically:YES];
         self.filePath = filePath;
-        OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+        OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
         success();
     }
 }
@@ -145,10 +145,10 @@ - (nullable UIImage *)createRandomPngWithSize:(CGSize)imageSize
                                     textColor:(UIColor *)textColor
                                         label:(NSString *)label
 {
-    OWSAssert(imageSize.width > 0 && imageSize.height > 0);
-    OWSAssert(backgroundColor);
-    OWSAssert(textColor);
-    OWSAssert(label.length > 0);
+    OWSAssertDebug(imageSize.width > 0 && imageSize.height > 0);
+    OWSAssertDebug(backgroundColor);
+    OWSAssertDebug(textColor);
+    OWSAssertDebug(label.length > 0);
 
     @autoreleasepool {
         CGRect frame = CGRectZero;
@@ -183,13 +183,13 @@ - (nullable UIImage *)createRandomPngWithSize:(CGSize)imageSize
 
 + (DebugUIMessagesAssetLoader *)fakeRandomAssetLoaderWithLength:(NSUInteger)dataLength mimeType:(NSString *)mimeType
 {
-    OWSAssert(dataLength > 0);
-    OWSAssert(mimeType.length > 0);
+    OWSAssertDebug(dataLength > 0);
+    OWSAssertDebug(mimeType.length > 0);
 
     DebugUIMessagesAssetLoader *instance = [DebugUIMessagesAssetLoader new];
     instance.mimeType = mimeType;
     NSString *fileExtension = [MIMETypeUtil fileExtensionForMIMEType:mimeType];
-    OWSAssert(fileExtension.length > 0);
+    OWSAssertDebug(fileExtension.length > 0);
     instance.filename = [@"attachment" stringByAppendingPathExtension:fileExtension];
     __weak DebugUIMessagesAssetLoader *weakSelf = instance;
     instance.prepareBlock = ^(ActionSuccessBlock success, ActionFailureBlock failure) {
@@ -202,12 +202,12 @@ - (void)ensureRandomAssetLoaded:(NSUInteger)dataLength
                         success:(ActionSuccessBlock)success
                         failure:(ActionFailureBlock)failure
 {
-    OWSAssert(dataLength > 0);
-    OWSAssert(dataLength < INT_MAX);
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
+    OWSAssertDebug(dataLength > 0);
+    OWSAssertDebug(dataLength < INT_MAX);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
 
     if (self.filePath) {
         success();
@@ -216,14 +216,14 @@ - (void)ensureRandomAssetLoaded:(NSUInteger)dataLength
 
     @autoreleasepool {
         NSString *fileExtension = [MIMETypeUtil fileExtensionForMIMEType:self.mimeType];
-        OWSAssert(fileExtension.length > 0);
+        OWSAssertDebug(fileExtension.length > 0);
         NSData *data = [Randomness generateRandomBytes:(int)dataLength];
-        OWSAssert(data);
+        OWSAssertDebug(data);
         NSString *filePath = [OWSFileSystem temporaryFilePathWithFileExtension:fileExtension];
         BOOL didWrite = [data writeToFile:filePath atomically:YES];
-        OWSAssert(didWrite);
+        OWSAssertDebug(didWrite);
         self.filePath = filePath;
-        OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+        OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
     }
 
     success();
@@ -233,12 +233,12 @@ - (void)ensureRandomAssetLoaded:(NSUInteger)dataLength
 
 + (DebugUIMessagesAssetLoader *)fakeMissingAssetLoaderWithMimeType:(NSString *)mimeType
 {
-    OWSAssert(mimeType.length > 0);
+    OWSAssertDebug(mimeType.length > 0);
 
     DebugUIMessagesAssetLoader *instance = [DebugUIMessagesAssetLoader new];
     instance.mimeType = mimeType;
     NSString *fileExtension = [MIMETypeUtil fileExtensionForMIMEType:mimeType];
-    OWSAssert(fileExtension.length > 0);
+    OWSAssertDebug(fileExtension.length > 0);
     instance.filename = [@"attachment" stringByAppendingPathExtension:fileExtension];
     __weak DebugUIMessagesAssetLoader *weakSelf = instance;
     instance.prepareBlock = ^(ActionSuccessBlock success, ActionFailureBlock failure) {
@@ -249,10 +249,10 @@ + (DebugUIMessagesAssetLoader *)fakeMissingAssetLoaderWithMimeType:(NSString *)m
 
 - (void)ensureMissingAssetLoaded:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
 
     if (self.filePath) {
         success();
@@ -260,12 +260,12 @@ - (void)ensureMissingAssetLoaded:(ActionSuccessBlock)success failure:(ActionFail
     }
 
     NSString *fileExtension = [MIMETypeUtil fileExtensionForMIMEType:self.mimeType];
-    OWSAssert(fileExtension.length > 0);
+    OWSAssertDebug(fileExtension.length > 0);
     NSString *filePath = [OWSFileSystem temporaryFilePathWithFileExtension:fileExtension];
     BOOL didCreate = [NSFileManager.defaultManager createFileAtPath:filePath contents:nil attributes:nil];
-    OWSAssert(didCreate);
+    OWSAssertDebug(didCreate);
     self.filePath = filePath;
-    OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+    OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
 
     success();
 }
@@ -286,10 +286,10 @@ + (DebugUIMessagesAssetLoader *)fakeOversizeTextAssetLoader
 
 - (void)ensureOversizeTextAssetLoaded:(ActionSuccessBlock)success failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
 
     if (self.filePath) {
         success();
@@ -314,11 +314,11 @@ - (void)ensureOversizeTextAssetLoaded:(ActionSuccessBlock)success failure:(Actio
     NSString *fileExtension = @"txt";
     NSString *filePath = [OWSFileSystem temporaryFilePathWithFileExtension:fileExtension];
     NSData *data = [message dataUsingEncoding:NSUTF8StringEncoding];
-    OWSAssert(data);
+    OWSAssertDebug(data);
     BOOL didWrite = [data writeToFile:filePath atomically:YES];
-    OWSAssert(didWrite);
+    OWSAssertDebug(didWrite);
     self.filePath = filePath;
-    OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+    OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
 
     success();
 }
@@ -341,10 +341,10 @@ - (void)ensureOversizeTextAssetLoadedWithText:(NSString *)text
                                       success:(ActionSuccessBlock)success
                                       failure:(ActionFailureBlock)failure
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(self.filename.length > 0);
-    OWSAssert(self.mimeType.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(self.filename.length > 0);
+    OWSAssertDebug(self.mimeType.length > 0);
 
     if (self.filePath) {
         success();
@@ -354,11 +354,11 @@ - (void)ensureOversizeTextAssetLoadedWithText:(NSString *)text
     NSString *fileExtension = @"txt";
     NSString *filePath = [OWSFileSystem temporaryFilePathWithFileExtension:fileExtension];
     NSData *data = [text dataUsingEncoding:NSUTF8StringEncoding];
-    OWSAssert(data);
+    OWSAssertDebug(data);
     BOOL didWrite = [data writeToFile:filePath atomically:YES];
-    OWSAssert(didWrite);
+    OWSAssertDebug(didWrite);
     self.filePath = filePath;
-    OWSAssert([NSFileManager.defaultManager fileExistsAtPath:filePath]);
+    OWSAssertDebug([NSFileManager.defaultManager fileExistsAtPath:filePath]);
 
     success();
 }
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
index d2585500b22..57e88722314 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIMisc.m
@@ -179,7 +179,7 @@ + (void)setManualCensorshipCircumventionEnabled:(BOOL)isEnabled
         countryMetadata = [OWSCountryMetadata countryMetadataForCountryCode:countryCode];
     }
 
-    OWSAssert(countryMetadata);
+    OWSAssertDebug(countryMetadata);
     OWSSignalService.sharedInstance.manualCensorshipCircumventionCountryCode = countryCode;
     OWSSignalService.sharedInstance.isCensorshipCircumventionManuallyActivated = isEnabled;
 }
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
index b3bcb100394..21f959760d6 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUISessionState.m
@@ -46,7 +46,7 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)threadParame
                                     const char xorByte = currentKeyBytes[i] ^ 0xff;
                                     [flippedKey appendBytes:&xorByte length:1];
                                 }
-                                OWSAssert(flippedKey.length == currentKey.length);
+                                OWSAssertDebug(flippedKey.length == currentKey.length);
                                 [identityManager saveRemoteIdentity:flippedKey recipientId:recipientId];
                             }],
             [OWSTableItem itemWithTitle:@"Delete all sessions"
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUIStress.m b/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
index 6122539631f..b783d9ef3e4 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUIStress.m
@@ -30,7 +30,7 @@ - (NSString *)name
 
 - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
     
     NSMutableArray<OWSTableItem *> *items = [NSMutableArray new];
 
@@ -453,8 +453,8 @@ - (nullable OWSTableSection *)sectionForThread:(nullable TSThread *)thread
 
 + (void)ensureGroupOfDataBuilder:(SSKProtoDataMessageBuilder *)dataBuilder thread:(TSThread *)thread
 {
-    OWSAssert(dataBuilder);
-    OWSAssert(thread);
+    OWSAssertDebug(dataBuilder);
+    OWSAssertDebug(thread);
 
     if (![thread isKindOfClass:[TSGroupThread class]]) {
         return;
@@ -469,7 +469,7 @@ + (void)ensureGroupOfDataBuilder:(SSKProtoDataMessageBuilder *)dataBuilder threa
 
 + (void)sendStressMessage:(TSOutgoingMessage *)message
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     OWSMessageSender *messageSender = [Environment current].messageSender;
     [messageSender enqueueMessage:message
@@ -484,8 +484,8 @@ + (void)sendStressMessage:(TSOutgoingMessage *)message
 + (void)sendStressMessage:(TSThread *)thread
                     block:(DynamicOutgoingMessageBlock)block
 {
-    OWSAssert(thread);
-    OWSAssert(block);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(block);
 
     OWSDynamicOutgoingMessage *message =
         [[OWSDynamicOutgoingMessage alloc] initWithPlainTextDataBlock:block thread:thread];
@@ -495,8 +495,8 @@ + (void)sendStressMessage:(TSThread *)thread
 
 + (void)sendStressMessage:(TSThread *)thread timestamp:(uint64_t)timestamp block:(DynamicOutgoingMessageBlock)block
 {
-    OWSAssert(thread);
-    OWSAssert(block);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(block);
 
     OWSDynamicOutgoingMessage *message =
         [[OWSDynamicOutgoingMessage alloc] initWithPlainTextDataBlock:block timestamp:timestamp thread:thread];
@@ -518,7 +518,7 @@ + (void)hallucinateTwinGroup:(TSGroupThread *)groupThread
                                             groupId:[Randomness generateRandomBytes:16]];
             thread = [TSGroupThread getOrCreateThreadWithGroupModel:groupModel transaction:transaction];
         }];
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [SignalApp.sharedApp presentConversationForThread:thread animated:YES];
 }
diff --git a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
index d517f78d13d..22d9fbf8d32 100644
--- a/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
+++ b/Signal/src/ViewControllers/DebugUI/DebugUITableViewController.m
@@ -53,8 +53,8 @@ + (OWSTableItem *)itemForSubsection:(DebugUIPage *)page
                      viewController:(DebugUITableViewController *)viewController
                              thread:(nullable TSThread *)thread
 {
-    OWSAssert(page);
-    OWSAssert(viewController);
+    OWSAssertDebug(page);
+    OWSAssertDebug(viewController);
 
     __weak DebugUITableViewController *weakSelf = viewController;
     return [OWSTableItem disclosureItemWithText:page.name
@@ -65,8 +65,8 @@ + (OWSTableItem *)itemForSubsection:(DebugUIPage *)page
 
 + (void)presentDebugUIForThread:(TSThread *)thread fromViewController:(UIViewController *)fromViewController
 {
-    OWSAssert(thread);
-    OWSAssert(fromViewController);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(fromViewController);
 
     DebugUITableViewController *viewController = [DebugUITableViewController new];
 
@@ -122,7 +122,7 @@ + (void)presentDebugUIForThread:(TSThread *)thread fromViewController:(UIViewCon
 
 + (void)presentDebugUIFromViewController:(UIViewController *)fromViewController
 {
-    OWSAssert(fromViewController);
+    OWSAssertDebug(fromViewController);
 
     DebugUITableViewController *viewController = [DebugUITableViewController new];
 
diff --git a/Signal/src/ViewControllers/HomeView/HomeViewCell.m b/Signal/src/ViewControllers/HomeView/HomeViewCell.m
index 84f3a683a7b..ed36b96b2d8 100644
--- a/Signal/src/ViewControllers/HomeView/HomeViewCell.m
+++ b/Signal/src/ViewControllers/HomeView/HomeViewCell.m
@@ -59,7 +59,7 @@ - (instancetype)initWithFrame:(CGRect)frame
 
 - (void)commontInit
 {
-    OWSAssert(!self.avatarView);
+    OWSAssertDebug(!self.avatarView);
 
     self.backgroundColor = Theme.backgroundColor;
 
@@ -190,9 +190,9 @@ - (void)configureWithThread:(ThreadViewModel *)thread
                overrideDate:(nullable NSDate *)overrideDate
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(thread);
-    OWSAssert(contactsManager);
-    OWSAssert(blockedPhoneNumberSet);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(contactsManager);
+    OWSAssertDebug(blockedPhoneNumberSet);
 
     [OWSTableItem configureCell:self];
 
@@ -254,7 +254,7 @@ - (void)configureWithThread:(ThreadViewModel *)thread
                                  CGFloat minMargin = CeilEven(unreadBadgeHeight * .5f);
 
                                  // Spec check. Should be 12pts (6pt on each side) when using default font size.
-                                 OWSAssert(UIFont.ows_dynamicTypeBodyFont.pointSize != 17 || minMargin == 12);
+                                 OWSAssertDebug(UIFont.ows_dynamicTypeBodyFont.pointSize != 17 || minMargin == 12);
 
                                  [self.viewConstraints addObjectsFromArray:@[
                                      [self.unreadBadge autoMatchDimension:ALDimensionWidth
@@ -344,7 +344,7 @@ - (void)updateAvatarView
 - (NSAttributedString *)attributedSnippetForThread:(ThreadViewModel *)thread
                              blockedPhoneNumberSet:(NSSet<NSString *> *)blockedPhoneNumberSet
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     BOOL isBlocked = NO;
     if (!thread.isGroupThread) {
diff --git a/Signal/src/ViewControllers/HomeView/HomeViewController.m b/Signal/src/ViewControllers/HomeView/HomeViewController.m
index 47dea884d75..72e89cbdd26 100644
--- a/Signal/src/ViewControllers/HomeView/HomeViewController.m
+++ b/Signal/src/ViewControllers/HomeView/HomeViewController.m
@@ -252,8 +252,8 @@ - (void)themeDidChange:(NSNotification *)notification
 - (void)applyTheme
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.tableView);
-    OWSAssert(self.searchBar);
+    OWSAssertDebug(self.tableView);
+    OWSAssertDebug(self.searchBar);
 
     self.view.backgroundColor = Theme.backgroundColor;
     self.tableView.backgroundColor = Theme.backgroundColor;
@@ -406,7 +406,7 @@ - (void)viewDidLoad
     [searchBar sizeToFit];
 
     // Setting tableHeader calls numberOfSections, which must happen after updateMappings has been called at least once.
-    OWSAssert(self.tableView.tableHeaderView == nil);
+    OWSAssertDebug(self.tableView.tableHeaderView == nil);
     self.tableView.tableHeaderView = self.searchBar;
     // Hide search bar by default.  User can pull down to search.
     self.tableView.contentOffset = CGPointMake(0, CGRectGetHeight(searchBar.frame));
@@ -579,10 +579,10 @@ - (void)viewWillAppear:(BOOL)animated
 
     BOOL isShowingSearchResults = !self.searchResultsController.view.hidden;
     if (isShowingSearchResults) {
-        OWSAssert(self.searchBar.text.ows_stripped.length > 0);
+        OWSAssertDebug(self.searchBar.text.ows_stripped.length > 0);
         [self scrollSearchBarToTopAnimated:NO];
     } else if (self.lastThread) {
-        OWSAssert(self.searchBar.text.ows_stripped.length == 0);
+        OWSAssertDebug(self.searchBar.text.ows_stripped.length == 0);
         
         // When returning to home view, try to ensure that the "last" thread is still
         // visible.  The threads often change ordering while in conversation view due
@@ -795,7 +795,7 @@ - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger
 - (ThreadViewModel *)threadViewModelForIndexPath:(NSIndexPath *)indexPath
 {
     TSThread *threadRecord = [self threadForIndexPath:indexPath];
-    OWSAssert(threadRecord);
+    OWSAssertDebug(threadRecord);
 
     ThreadViewModel *_Nullable cachedThreadViewModel = [self.threadViewModelCache objectForKey:threadRecord.uniqueId];
     if (cachedThreadViewModel) {
@@ -832,7 +832,7 @@ - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(N
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForConversationAtIndexPath:(NSIndexPath *)indexPath
 {
     HomeViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:HomeViewCell.cellReuseIdentifier];
-    OWSAssert(cell);
+    OWSAssertDebug(cell);
 
     ThreadViewModel *thread = [self threadViewModelForIndexPath:indexPath];
     [cell configureWithThread:thread
@@ -845,7 +845,7 @@ - (UITableViewCell *)tableView:(UITableView *)tableView cellForConversationAtInd
 - (UITableViewCell *)cellForArchivedConversationsRow:(UITableView *)tableView
 {
     UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:kArchivedConversationsReuseIdentifier];
-    OWSAssert(cell);
+    OWSAssertDebug(cell);
     [OWSTableItem configureCell:cell];
 
     for (UIView *subview in cell.contentView.subviews) {
@@ -853,7 +853,7 @@ - (UITableViewCell *)cellForArchivedConversationsRow:(UITableView *)tableView
     }
 
     UIImage *disclosureImage = [UIImage imageNamed:(CurrentAppContext().isRTL ? @"NavBarBack" : @"NavBarBackRTL")];
-    OWSAssert(disclosureImage);
+    OWSAssertDebug(disclosureImage);
     UIImageView *disclosureImageView = [UIImageView new];
     disclosureImageView.image = [disclosureImage imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
     disclosureImageView.tintColor = [UIColor colorWithRGBHex:0xd1d1d6];
@@ -1010,7 +1010,7 @@ - (void)searchBarCancelButtonClicked:(UISearchBar *)searchBar
     self.searchBar.text = nil;
 
     [self.searchBar resignFirstResponder];
-    OWSAssert(!self.searchBar.isFirstResponder);
+    OWSAssertDebug(!self.searchBar.isFirstResponder);
 
     [self updateSearchResultsVisibility];
 
@@ -1050,7 +1050,7 @@ - (void)scrollSearchBarToTopAnimated:(BOOL)isAnimated
 - (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView
 {
     [self.searchBar resignFirstResponder];
-    OWSAssert(!self.searchBar.isFirstResponder);
+    OWSAssertDebug(!self.searchBar.isFirstResponder);
 }
 
 #pragma mark - ConversationSearchViewDelegate
@@ -1058,7 +1058,7 @@ - (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView
 - (void)conversationSearchViewWillBeginDragging
 {
     [self.searchBar resignFirstResponder];
-    OWSAssert(!self.searchBar.isFirstResponder);
+    OWSAssertDebug(!self.searchBar.isFirstResponder);
 }
 
 #pragma mark - HomeFeedTableViewCellDelegate
@@ -1193,20 +1193,20 @@ - (void)presentThread:(TSThread *)thread
 
 - (YapDatabaseViewMappings *)threadMappings
 {
-    OWSAssert(_threadMappings != nil);
+    OWSAssertDebug(_threadMappings != nil);
     return _threadMappings;
 }
 
 - (void)showInboxGrouping
 {
-    OWSAssert(self.homeViewMode == HomeViewMode_Archive);
+    OWSAssertDebug(self.homeViewMode == HomeViewMode_Archive);
 
     [self.navigationController popToRootViewControllerAnimated:YES];
 }
 
 - (void)showArchivedConversations
 {
-    OWSAssert(self.homeViewMode == HomeViewMode_Inbox);
+    OWSAssertDebug(self.homeViewMode == HomeViewMode_Inbox);
 
     // When showing archived conversations, we want to use a conventional "back" button
     // to return to the "inbox" home view.
@@ -1351,7 +1351,7 @@ - (void)yapDatabaseModified:(NSNotification *)notification
 
     for (YapDatabaseViewRowChange *rowChange in rowChanges) {
         NSString *key = rowChange.collectionKey.key;
-        OWSAssert(key);
+        OWSAssertDebug(key);
         [self.threadViewModelCache removeObjectForKey:key];
 
         switch (rowChange.type) {
@@ -1447,7 +1447,7 @@ - (void)updateEmptyBoxText
                 @"EMPTY_INBOX_NEW_USER_TEXT", @"Body text a new user sees when viewing an empty inbox");
         }
     } else {
-        OWSAssert(self.homeViewMode == HomeViewMode_Archive);
+        OWSAssertDebug(self.homeViewMode == HomeViewMode_Archive);
         firstLine = NSLocalizedString(
             @"EMPTY_ARCHIVE_TITLE", @"Header text an existing user sees when viewing an empty archive");
         secondLine = NSLocalizedString(
diff --git a/Signal/src/ViewControllers/MediaDetailViewController.m b/Signal/src/ViewControllers/MediaDetailViewController.m
index 27f6e4c133d..ff2ce8429ed 100644
--- a/Signal/src/ViewControllers/MediaDetailViewController.m
+++ b/Signal/src/ViewControllers/MediaDetailViewController.m
@@ -136,7 +136,7 @@ - (void)updateMinZoomScale
 {
     CGSize viewSize = self.scrollView.bounds.size;
     UIImage *image = self.image;
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     if (image.size.width == 0 || image.size.height == 0) {
         OWSFailDebug(@"Invalid image dimensions. %@", NSStringFromCGSize(image.size));
@@ -200,7 +200,7 @@ - (void)createContents
         self.mediaView = imageView;
     }
 
-    OWSAssert(self.mediaView);
+    OWSAssertDebug(self.mediaView);
 
     // We add these gestures to mediaView rather than
     // the root view so that interacting with the video player
@@ -355,15 +355,15 @@ - (void)didPressDelete:(id)sender
 
 - (void)didPressPlayBarButton:(id)sender
 {
-    OWSAssert(self.isVideo);
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.isVideo);
+    OWSAssertDebug(self.videoPlayer);
     [self playVideo];
 }
 
 - (void)didPressPauseBarButton:(id)sender
 {
-    OWSAssert(self.isVideo);
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.isVideo);
+    OWSAssertDebug(self.videoPlayer);
     [self pauseVideo];
 }
 
@@ -376,7 +376,7 @@ - (nullable UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView
 
 - (void)centerMediaViewConstraints
 {
-    OWSAssert(self.scrollView);
+    OWSAssertDebug(self.scrollView);
 
     CGSize scrollViewSize = self.scrollView.bounds.size;
     CGSize imageViewSize = self.mediaView.frame.size;
@@ -411,7 +411,7 @@ - (void)resetMediaFrame
 
 - (void)playVideo
 {
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.videoPlayer);
 
     self.playVideoButton.hidden = YES;
 
@@ -422,8 +422,8 @@ - (void)playVideo
 
 - (void)pauseVideo
 {
-    OWSAssert(self.isVideo);
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.isVideo);
+    OWSAssertDebug(self.videoPlayer);
 
     [self.videoPlayer pause];
 
@@ -439,8 +439,8 @@ - (void)stopAnyVideo
 
 - (void)stopVideo
 {
-    OWSAssert(self.isVideo);
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.isVideo);
+    OWSAssertDebug(self.videoPlayer);
 
     [self.videoPlayer stop];
 
@@ -453,8 +453,8 @@ - (void)stopVideo
 
 - (void)videoPlayerDidPlayToCompletion:(OWSVideoPlayer *)videoPlayer
 {
-    OWSAssert(self.isVideo);
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.isVideo);
+    OWSAssertDebug(self.videoPlayer);
     OWSLogVerbose(@"");
 
     [self stopVideo];
@@ -464,13 +464,13 @@ - (void)videoPlayerDidPlayToCompletion:(OWSVideoPlayer *)videoPlayer
 
 - (void)playerProgressBarDidStartScrubbing:(PlayerProgressBar *)playerProgressBar
 {
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.videoPlayer);
     [self.videoPlayer pause];
 }
 
 - (void)playerProgressBar:(PlayerProgressBar *)playerProgressBar scrubbedToTime:(CMTime)time
 {
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.videoPlayer);
     [self.videoPlayer seekToTime:time];
 }
 
@@ -478,7 +478,7 @@ - (void)playerProgressBar:(PlayerProgressBar *)playerProgressBar
     didFinishScrubbingAtTime:(CMTime)time
         shouldResumePlayback:(BOOL)shouldResumePlayback
 {
-    OWSAssert(self.videoPlayer);
+    OWSAssertDebug(self.videoPlayer);
     [self.videoPlayer seekToTime:time];
 
     if (shouldResumePlayback) {
diff --git a/Signal/src/ViewControllers/NewContactThreadViewController.m b/Signal/src/ViewControllers/NewContactThreadViewController.m
index b8524bbc5e5..e84d5d7433a 100644
--- a/Signal/src/ViewControllers/NewContactThreadViewController.m
+++ b/Signal/src/ViewControllers/NewContactThreadViewController.m
@@ -86,7 +86,7 @@ - (void)loadView
                                                       action:@selector(dismissPressed)];
     // TODO: We should use separate RTL and LTR flavors of this asset.
     UIImage *newGroupImage = [UIImage imageNamed:@"btnGroup--white"];
-    OWSAssert(newGroupImage);
+    OWSAssertDebug(newGroupImage);
     UIBarButtonItem *newGroupButton = [[UIBarButtonItem alloc] initWithImage:newGroupImage
                                                                        style:UIBarButtonItemStylePlain
                                                                       target:self
@@ -182,7 +182,7 @@ - (UIView *)createNoSignalContactsView
     [contents autoCenterInSuperview];
 
     UIImage *heroImage = [UIImage imageNamed:@"uiEmptyContact"];
-    OWSAssert(heroImage);
+    OWSAssertDebug(heroImage);
     UIImageView *heroImageView = [[UIImageView alloc] initWithImage:heroImage];
     heroImageView.layer.minificationFilter = kCAFilterTrilinear;
     heroImageView.layer.magnificationFilter = kCAFilterTrilinear;
@@ -413,7 +413,7 @@ - (void)updateTableContents
                                                       customRowHeight:UITableViewAutomaticDimension]];
             } else {
                 UITableViewCell *loadingCell = [OWSTableItem newCell];
-                OWSAssert(loadingCell.contentView);
+                OWSAssertDebug(loadingCell.contentView);
 
                 UIActivityIndicatorView *activityIndicatorView =
                     [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
@@ -506,7 +506,7 @@ - (void)updateTableContents
     // "invite via SMS..." cells.
     NSArray<NSString *> *searchPhoneNumbers = [self parsePossibleSearchPhoneNumbers];
     for (NSString *phoneNumber in searchPhoneNumbers) {
-        OWSAssert(phoneNumber.length > 0);
+        OWSAssertDebug(phoneNumber.length > 0);
 
         if ([self.nonContactAccountSet containsObject:phoneNumber]) {
             [phoneNumbersSection
@@ -611,7 +611,7 @@ - (void)updateTableContents
     for (Contact *contact in invitees) {
         hasSearchResults = YES;
 
-        OWSAssert(contact.parsedPhoneNumbers.count > 0);
+        OWSAssertDebug(contact.parsedPhoneNumbers.count > 0);
         // TODO: Should we invite all of their phone numbers?
         PhoneNumber *phoneNumber = contact.parsedPhoneNumbers[0];
         NSString *displayName = contact.fullName;
@@ -737,7 +737,7 @@ - (void)sendTextToPhoneNumber:(NSString *)phoneNumber
         [[OWSInviteFlow alloc] initWithPresentingViewController:self
                                                 contactsManager:self.contactsViewHelper.contactsManager];
 
-    OWSAssert([phoneNumber length] > 0);
+    OWSAssertDebug([phoneNumber length] > 0);
     NSString *confirmMessage = NSLocalizedString(@"SEND_SMS_CONFIRM_TITLE", @"");
     if ([phoneNumber length] > 0) {
         confirmMessage = [[NSLocalizedString(@"SEND_SMS_INVITE_TITLE", @"") stringByAppendingString:phoneNumber]
@@ -815,14 +815,14 @@ - (void)dismissPressed
 
 - (void)newConversationWithRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
     TSContactThread *thread = [TSContactThread getOrCreateThreadWithContactId:recipientId];
     [self newConversationWithThread:thread];
 }
 
 - (void)newConversationWithThread:(TSThread *)thread
 {
-    OWSAssert(thread != nil);
+    OWSAssertDebug(thread != nil);
     [SignalApp.sharedApp presentConversationForThread:thread action:ConversationViewActionCompose animated:NO];
     [self.presentingViewController dismissViewControllerAnimated:YES completion:nil];
 }
@@ -858,7 +858,7 @@ - (BOOL)shouldHideLocalNumber
 
 - (void)recipientIdWasSelected:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self newConversationWithRecipientId:recipientId];
 }
@@ -904,11 +904,11 @@ - (void)searchTextDidChange
     dispatch_once(&onceToken, ^{
         NSMutableDictionary *map = [NSMutableDictionary new];
         for (NSString *countryCode in [PhoneNumberUtil countryCodesForSearchTerm:nil]) {
-            OWSAssert(countryCode.length > 0);
+            OWSAssertDebug(countryCode.length > 0);
             NSString *callingCode = [PhoneNumberUtil callingCodeFromCountryCode:countryCode];
-            OWSAssert(callingCode.length > 0);
-            OWSAssert([callingCode hasPrefix:@"+"]);
-            OWSAssert(![callingCode isEqualToString:@"+0"]);
+            OWSAssertDebug(callingCode.length > 0);
+            OWSAssertDebug([callingCode hasPrefix:@"+"]);
+            OWSAssertDebug(![callingCode isEqualToString:@"+0"]);
 
             map[callingCode] = countryCode;
         }
@@ -919,7 +919,7 @@ - (void)searchTextDidChange
 
 - (nullable NSString *)callingCodeForPossiblePhoneNumber:(NSString *)phoneNumber
 {
-    OWSAssert([phoneNumber hasPrefix:@"+"]);
+    OWSAssertDebug([phoneNumber hasPrefix:@"+"]);
 
     for (NSString *callingCode in [self callingCodesToCountryCodeMap].allKeys) {
         if ([phoneNumber hasPrefix:callingCode]) {
diff --git a/Signal/src/ViewControllers/NewGroupViewController.m b/Signal/src/ViewControllers/NewGroupViewController.m
index a7d5cf47fac..c625d8f976f 100644
--- a/Signal/src/ViewControllers/NewGroupViewController.m
+++ b/Signal/src/ViewControllers/NewGroupViewController.m
@@ -227,7 +227,7 @@ - (void)updateTableContents
                 addItem:[OWSTableItem
                             itemWithCustomCellBlock:^{
                                 NewGroupViewController *strongSelf = weakSelf;
-                                OWSCAssert(strongSelf);
+                                OWSCAssertDebug(strongSelf);
 
                                 ContactTableViewCell *cell = [ContactTableViewCell new];
                                 BOOL isCurrentMember = [strongSelf.memberRecipientIds containsObject:recipientId];
@@ -313,7 +313,7 @@ - (void)updateTableContents
                 addItem:[OWSTableItem
                             itemWithCustomCellBlock:^{
                                 NewGroupViewController *strongSelf = weakSelf;
-                                OWSCAssert(strongSelf);
+                                OWSCAssertDebug(strongSelf);
 
                                 ContactTableViewCell *cell = [ContactTableViewCell new];
 
@@ -404,7 +404,7 @@ - (OWSTableItem *)createAddNonContactItem
 
 - (void)removeRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.memberRecipientIds removeObject:recipientId];
     [self updateTableContents];
@@ -412,7 +412,7 @@ - (void)removeRecipientId:(NSString *)recipientId
 
 - (void)addRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.memberRecipientIds addObject:recipientId];
     self.hasUnsavedChanges = YES;
@@ -444,7 +444,7 @@ - (void)createGroup
         readWriteWithBlock:^(YapDatabaseReadWriteTransaction *_Nonnull transaction) {
             thread = [TSGroupThread getOrCreateThreadWithGroupModel:model transaction:transaction];
         }];
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
     
     [OWSProfileManager.sharedManager addThreadToProfileWhitelist:thread];
 
@@ -606,7 +606,7 @@ - (NSString *)avatarActionSheetTitle
 - (void)avatarDidChange:(UIImage *)image
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     self.groupAvatar = image;
 }
@@ -630,7 +630,7 @@ - (void)recipientIdWasAdded:(NSString *)recipientId
 
 - (BOOL)isRecipientGroupMember:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return [self.memberRecipientIds containsObject:recipientId];
 }
diff --git a/Signal/src/ViewControllers/OWS2FARegistrationViewController.m b/Signal/src/ViewControllers/OWS2FARegistrationViewController.m
index 69ac1d64032..20c47c5ba5f 100644
--- a/Signal/src/ViewControllers/OWS2FARegistrationViewController.m
+++ b/Signal/src/ViewControllers/OWS2FARegistrationViewController.m
@@ -96,7 +96,7 @@ - (void)viewDidAppear:(BOOL)animated
 
 - (void)pinEntryView:(PinEntryView *)entryView submittedPinCode:(NSString *)pinCode
 {
-    OWSAssert(self.entryView.hasValidPin);
+    OWSAssertDebug(self.entryView.hasValidPin);
 
     [self tryToRegisterWithPinCode:pinCode];
 }
@@ -112,9 +112,9 @@ - (void)pinEntryViewForgotPinLinkTapped:(PinEntryView *)entryView
 
 - (void)tryToRegisterWithPinCode:(NSString *)pinCode
 {
-    OWSAssert(self.entryView.hasValidPin);
-    OWSAssert(self.verificationCode.length > 0);
-    OWSAssert(pinCode.length > 0);
+    OWSAssertDebug(self.entryView.hasValidPin);
+    OWSAssertDebug(self.verificationCode.length > 0);
+    OWSAssertDebug(pinCode.length > 0);
 
     OWSLogInfo(@"");
 
diff --git a/Signal/src/ViewControllers/OWS2FASettingsViewController.m b/Signal/src/ViewControllers/OWS2FASettingsViewController.m
index 591204ba965..163fbb4e681 100644
--- a/Signal/src/ViewControllers/OWS2FASettingsViewController.m
+++ b/Signal/src/ViewControllers/OWS2FASettingsViewController.m
@@ -76,7 +76,7 @@ - (void)viewWillAppear:(BOOL)animated
             break;
         case OWS2FASettingsMode_SelectPIN:
         case OWS2FASettingsMode_ConfirmPIN:
-            OWSAssert(![OWS2FAManager.sharedManager is2FAEnabled]);
+            OWSAssertDebug(![OWS2FAManager.sharedManager is2FAEnabled]);
             break;
     }
 
@@ -301,18 +301,18 @@ - (void)nextButtonWasPressed
             OWSFailDebug(@"status mode should not have a next button.");
             return;
         case OWS2FASettingsMode_SelectPIN: {
-            OWSAssert(self.hasValidPin);
+            OWSAssertDebug(self.hasValidPin);
 
             OWS2FASettingsViewController *vc = [OWS2FASettingsViewController new];
             vc.mode = OWS2FASettingsMode_ConfirmPIN;
             vc.candidatePin = self.pinTextfield.text;
-            OWSAssert(self.root2FAViewController);
+            OWSAssertDebug(self.root2FAViewController);
             vc.root2FAViewController = self.root2FAViewController;
             [self.navigationController pushViewController:vc animated:YES];
             break;
         }
         case OWS2FASettingsMode_ConfirmPIN: {
-            OWSAssert(self.hasValidPin);
+            OWSAssertDebug(self.hasValidPin);
 
             if ([self.pinTextfield.text isEqualToString:self.candidatePin]) {
                 [self tryToEnable2FA];
@@ -336,7 +336,7 @@ - (BOOL)hasValidPin
 
 - (void)showEnable2FAWorkUI
 {
-    OWSAssert(![OWS2FAManager.sharedManager is2FAEnabled]);
+    OWSAssertDebug(![OWS2FAManager.sharedManager is2FAEnabled]);
 
     OWSLogInfo(@"");
 
@@ -378,7 +378,7 @@ - (void)tryToDisable2FA
 
 - (void)tryToEnable2FA
 {
-    OWSAssert(self.candidatePin.length > 0);
+    OWSAssertDebug(self.candidatePin.length > 0);
 
     OWSLogInfo(@"");
 
@@ -414,8 +414,8 @@ - (void)tryToEnable2FA
 
 - (void)showCompleteUI
 {
-    OWSAssert([OWS2FAManager.sharedManager is2FAEnabled]);
-    OWSAssert(self.root2FAViewController);
+    OWSAssertDebug([OWS2FAManager.sharedManager is2FAEnabled]);
+    OWSAssertDebug(self.root2FAViewController);
 
     OWSLogInfo(@"");
 
diff --git a/Signal/src/ViewControllers/ProfileViewController.m b/Signal/src/ViewControllers/ProfileViewController.m
index a698b4f357d..86f164d3d40 100644
--- a/Signal/src/ViewControllers/ProfileViewController.m
+++ b/Signal/src/ViewControllers/ProfileViewController.m
@@ -444,7 +444,7 @@ - (void)showHomeView
         [[SignalsNavigationController alloc] initWithRootViewController:homeView];
     AppDelegate *appDelegate = (AppDelegate *)[UIApplication sharedApplication].delegate;
     appDelegate.window.rootViewController = navigationController;
-    OWSAssert([navigationController.topViewController isKindOfClass:[HomeViewController class]]);
+    OWSAssertDebug([navigationController.topViewController isKindOfClass:[HomeViewController class]]);
 }
 
 #pragma mark - UITextFieldDelegate
@@ -542,8 +542,8 @@ + (BOOL)shouldDisplayProfileViewOnLaunch
 
 + (void)presentForAppSettings:(UINavigationController *)navigationController
 {
-    OWSAssert(navigationController);
-    OWSAssert([navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug(navigationController);
+    OWSAssertDebug([navigationController isKindOfClass:[OWSNavigationController class]]);
 
     ProfileViewController *vc = [[ProfileViewController alloc] initWithMode:ProfileViewMode_AppSettings];
     [navigationController pushViewController:vc animated:YES];
@@ -551,8 +551,8 @@ + (void)presentForAppSettings:(UINavigationController *)navigationController
 
 + (void)presentForRegistration:(UINavigationController *)navigationController
 {
-    OWSAssert(navigationController);
-    OWSAssert([navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug(navigationController);
+    OWSAssertDebug([navigationController isKindOfClass:[OWSNavigationController class]]);
 
     ProfileViewController *vc = [[ProfileViewController alloc] initWithMode:ProfileViewMode_Registration];
     [navigationController pushViewController:vc animated:YES];
@@ -560,7 +560,7 @@ + (void)presentForRegistration:(UINavigationController *)navigationController
 
 + (void)presentForUpgradeOrNag:(HomeViewController *)fromViewController
 {
-    OWSAssert(fromViewController);
+    OWSAssertDebug(fromViewController);
 
     ProfileViewController *vc = [[ProfileViewController alloc] initWithMode:ProfileViewMode_UpgradeOrNag];
     OWSNavigationController *navigationController = [[OWSNavigationController alloc] initWithRootViewController:vc];
@@ -578,7 +578,7 @@ - (NSString *)avatarActionSheetTitle
 - (void)avatarDidChange:(UIImage *)image
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     self.avatar = [image resizedImageToFillPixelSize:CGSizeMake(kOWSProfileManager_MaxAvatarDiameter,
                                                          kOWSProfileManager_MaxAvatarDiameter)];
diff --git a/Signal/src/ViewControllers/Registration/CodeVerificationViewController.m b/Signal/src/ViewControllers/Registration/CodeVerificationViewController.m
index a2b5a3abcc4..2ad433b203f 100644
--- a/Signal/src/ViewControllers/Registration/CodeVerificationViewController.m
+++ b/Signal/src/ViewControllers/Registration/CodeVerificationViewController.m
@@ -251,7 +251,7 @@ - (void)createViews
 
 - (NSString *)phoneNumberText
 {
-    OWSAssert([TSAccountManager localNumber] != nil);
+    OWSAssertDebug([TSAccountManager localNumber] != nil);
     return [PhoneNumber bestEffortFormatPartialUserSpecifiedTextToLookLikeAPhoneNumber:[TSAccountManager localNumber]];
 }
 
diff --git a/Signal/src/ViewControllers/Registration/RegistrationViewController.m b/Signal/src/ViewControllers/Registration/RegistrationViewController.m
index 9a6892ad2cb..1a83c037662 100644
--- a/Signal/src/ViewControllers/Registration/RegistrationViewController.m
+++ b/Signal/src/ViewControllers/Registration/RegistrationViewController.m
@@ -53,7 +53,7 @@ - (void)loadView
 
     // Do any additional setup after loading the view.
     [self populateDefaultCountryNameAndCode];
-    OWSAssert([self.navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug([self.navigationController isKindOfClass:[OWSNavigationController class]]);
     [SignalApp.sharedApp setSignUpFlowNavigationController:(OWSNavigationController *)self.navigationController];
 }
 
@@ -302,7 +302,7 @@ - (void)viewDidAppear:(BOOL)animated
 
 - (BOOL)tryToApplyPhoneNumberE164:(NSString *)phoneNumberE164
 {
-    OWSAssert(phoneNumberE164);
+    OWSAssertDebug(phoneNumberE164);
 
     if (phoneNumberE164.length < 1) {
         OWSFailDebug(@"Could not resume re-registration; invalid phoneNumberE164.");
@@ -368,9 +368,9 @@ - (void)updateCountryWithName:(NSString *)countryName
                   countryCode:(NSString *)countryCode
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(countryName.length > 0);
-    OWSAssert(callingCode.length > 0);
-    OWSAssert(countryCode.length > 0);
+    OWSAssertDebug(countryName.length > 0);
+    OWSAssertDebug(callingCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
 
     _countryCode = countryCode;
     _callingCode = callingCode;
@@ -510,9 +510,9 @@ - (void)countryCodeViewController:(CountryCodeViewController *)vc
                       countryName:(NSString *)countryName
                       callingCode:(NSString *)callingCode
 {
-    OWSAssert(countryCode.length > 0);
-    OWSAssert(countryName.length > 0);
-    OWSAssert(callingCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
+    OWSAssertDebug(countryName.length > 0);
+    OWSAssertDebug(callingCode.length > 0);
 
     [self updateCountryWithName:countryName callingCode:callingCode countryCode:countryCode];
 
@@ -562,8 +562,8 @@ - (BOOL)textFieldShouldReturn:(UITextField *)textField
 
 - (NSString *_Nullable)debugValueForKey:(NSString *)key
 {
-    OWSCAssert([NSThread isMainThread]);
-    OWSCAssert(key.length > 0);
+    OWSCAssertDebug([NSThread isMainThread]);
+    OWSCAssertDebug(key.length > 0);
 
     NSError *error;
     NSString *value = [SAMKeychain passwordForService:kKeychainService_LastRegistered account:key error:&error];
@@ -575,9 +575,9 @@ - (NSString *_Nullable)debugValueForKey:(NSString *)key
 
 - (void)setDebugValue:(NSString *)value forKey:(NSString *)key
 {
-    OWSCAssert([NSThread isMainThread]);
-    OWSCAssert(key.length > 0);
-    OWSCAssert(value.length > 0);
+    OWSCAssertDebug([NSThread isMainThread]);
+    OWSCAssertDebug(key.length > 0);
+    OWSCAssertDebug(value.length > 0);
 
     NSError *error;
     [SAMKeychain setAccessibilityType:kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly];
diff --git a/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.m b/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.m
index fc2f779ca78..55377613eba 100644
--- a/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/AddToGroupViewController.m
@@ -48,7 +48,7 @@ - (NSString *)contactsSectionTitle
 
 - (void)phoneNumberWasSelected:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
 
     __weak AddToGroupViewController *weakSelf = self;
 
@@ -87,14 +87,14 @@ - (void)phoneNumberWasSelected:(NSString *)phoneNumber
 
 - (BOOL)canSignalAccountBeSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     return ![self.addToGroupDelegate isRecipientGroupMember:signalAccount.recipientId];
 }
 
 - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     __weak AddToGroupViewController *weakSelf = self;
     ContactsViewHelper *helper = self.contactsViewHelper;
@@ -137,7 +137,7 @@ - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
 
 - (void)addToGroup:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.addToGroupDelegate recipientIdWasAdded:recipientId];
     [self.navigationController popViewControllerAnimated:YES];
@@ -160,7 +160,7 @@ - (BOOL)shouldValidatePhoneNumbers
 
 - (nullable NSString *)accessoryMessageForSignalAccount:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     if ([self.addToGroupDelegate isRecipientGroupMember:signalAccount.recipientId]) {
         return NSLocalizedString(@"NEW_GROUP_MEMBER_LABEL", @"An indicator that a user is a member of the new group.");
diff --git a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewController.m b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewController.m
index 4993bd7eae0..fea362a281f 100644
--- a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewController.m
@@ -91,7 +91,7 @@ @implementation FingerprintViewController
 
 + (void)presentFromViewController:(UIViewController *)viewController recipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSRecipientIdentity *_Nullable recipientIdentity =
         [[OWSIdentityManager sharedManager] recipientIdentityForRecipientId:recipientId];
@@ -140,7 +140,7 @@ - (void)observeNotifications
 
 - (void)configureWithRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     self.recipientId = recipientId;
 
@@ -149,7 +149,7 @@ - (void)configureWithRecipientId:(NSString *)recipientId
 
     OWSRecipientIdentity *_Nullable recipientIdentity =
         [[OWSIdentityManager sharedManager] recipientIdentityForRecipientId:recipientId];
-    OWSAssert(recipientIdentity);
+    OWSAssertDebug(recipientIdentity);
     // By capturing the identity key when we enter these views, we prevent the edge case
     // where the user verifies a key that we learned about while this view was open.
     self.identityKey = recipientIdentity.identityKey;
@@ -340,7 +340,7 @@ - (void)createViews
 
 - (void)updateVerificationStateLabel
 {
-    OWSAssert(self.recipientId.length > 0);
+    OWSAssertDebug(self.recipientId.length > 0);
 
     BOOL isVerified = [[OWSIdentityManager sharedManager] verificationStateForRecipientId:self.recipientId]
         == OWSVerificationStateVerified;
diff --git a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
index 4744967065d..76097c3ff11 100644
--- a/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/FingerprintViewScanController.m
@@ -36,7 +36,7 @@ @implementation FingerprintViewScanController
 
 - (void)configureWithRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     self.recipientId = recipientId;
     self.accountManager = [TSAccountManager sharedInstance];
@@ -46,7 +46,7 @@ - (void)configureWithRecipientId:(NSString *)recipientId
 
     OWSRecipientIdentity *_Nullable recipientIdentity =
         [[OWSIdentityManager sharedManager] recipientIdentityForRecipientId:recipientId];
-    OWSAssert(recipientIdentity);
+    OWSAssertDebug(recipientIdentity);
     // By capturing the identity key when we enter these views, we prevent the edge case
     // where the user verifies a key that we learned about while this view was open.
     self.identityKey = recipientIdentity.identityKey;
@@ -165,11 +165,11 @@ + (void)showVerificationSucceeded:(UIViewController *)viewController
                       contactName:(NSString *)contactName
                               tag:(NSString *)tag
 {
-    OWSAssert(viewController);
-    OWSAssert(identityKey.length > 0);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(contactName.length > 0);
-    OWSAssert(tag.length > 0);
+    OWSAssertDebug(viewController);
+    OWSAssertDebug(identityKey.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(contactName.length > 0);
+    OWSAssertDebug(tag.length > 0);
 
     OWSLogInfo(@"%@ Successfully verified safety numbers.", tag);
 
@@ -209,9 +209,9 @@ + (void)showVerificationFailedWithError:(NSError *)error
                             cancelBlock:(void (^_Nonnull)(void))cancelBlock
                                     tag:(NSString *)tag
 {
-    OWSAssert(viewController);
-    OWSAssert(cancelBlock);
-    OWSAssert(tag.length > 0);
+    OWSAssertDebug(viewController);
+    OWSAssertDebug(cancelBlock);
+    OWSAssertDebug(tag.length > 0);
 
     OWSLogInfo(@"%@ Failed to verify safety numbers.", tag);
 
diff --git a/Signal/src/ViewControllers/ThreadSettings/OWSAddToContactViewController.m b/Signal/src/ViewControllers/ThreadSettings/OWSAddToContactViewController.m
index 1f3271cae86..a945fb1fc64 100644
--- a/Signal/src/ViewControllers/ThreadSettings/OWSAddToContactViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/OWSAddToContactViewController.m
@@ -69,7 +69,7 @@ - (void)commonInit
 
 - (void)configureWithRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     _recipientId = recipientId;
 }
@@ -129,7 +129,7 @@ - (void)viewDidLoad
 
 - (nullable NSString *)displayNameForContact:(Contact *)contact
 {
-    OWSAssert(contact);
+    OWSAssertDebug(contact);
 
     if (contact.fullName.length > 0) {
         return contact.fullName;
@@ -186,8 +186,8 @@ - (void)viewWillAppear:(BOOL)animated
 
 - (void)presentContactViewControllerForContact:(Contact *)contact
 {
-    OWSAssert(contact);
-    OWSAssert(self.recipientId);
+    OWSAssertDebug(contact);
+    OWSAssertDebug(self.recipientId);
 
     if (!self.contactsManager.supportsContactEditing) {
         OWSFailDebug(@"Contact editing not supported");
diff --git a/Signal/src/ViewControllers/ThreadSettings/OWSConversationSettingsViewController.m b/Signal/src/ViewControllers/ThreadSettings/OWSConversationSettingsViewController.m
index ba4372d2b14..500f07b8047 100644
--- a/Signal/src/ViewControllers/ThreadSettings/OWSConversationSettingsViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/OWSConversationSettingsViewController.m
@@ -153,7 +153,7 @@ - (BOOL)isGroupThread
 
 - (void)configureWithThread:(TSThread *)thread uiDatabaseConnection:(YapDatabaseConnection *)uiDatabaseConnection
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
     self.thread = thread;
     self.uiDatabaseConnection = uiDatabaseConnection;
 
@@ -170,7 +170,7 @@ - (void)configureWithThread:(TSThread *)thread uiDatabaseConnection:(YapDatabase
 
 - (void)updateEditButton
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
 
     if ([self.thread isKindOfClass:[TSContactThread class]] && self.contactsManager.supportsContactEditing
         && self.hasExistingContact) {
@@ -184,7 +184,7 @@ - (void)updateEditButton
 
 - (BOOL)hasExistingContact
 {
-    OWSAssert([self.thread isKindOfClass:[TSContactThread class]]);
+    OWSAssertDebug([self.thread isKindOfClass:[TSContactThread class]]);
     TSContactThread *contactThread = (TSContactThread *)self.thread;
     NSString *recipientId = contactThread.contactIdentifier;
     return [self.contactsManager hasSignalAccountForRecipientId:recipientId];
@@ -318,7 +318,7 @@ - (void)updateTableContents
         }
                                  actionBlock:^{
                                      OWSConversationSettingsViewController *strongSelf = weakSelf;
-                                     OWSCAssert(strongSelf);
+                                     OWSCAssertDebug(strongSelf);
                                      TSContactThread *contactThread = (TSContactThread *)strongSelf.thread;
                                      NSString *recipientId = contactThread.contactIdentifier;
                                      [strongSelf presentAddToContactViewControllerWithRecipientId:recipientId];
@@ -371,7 +371,7 @@ - (void)updateTableContents
                              itemWithCustomCellBlock:^{
                                  UITableViewCell *cell = [OWSTableItem newCell];
                                  OWSConversationSettingsViewController *strongSelf = weakSelf;
-                                 OWSCAssert(strongSelf);
+                                 OWSCAssertDebug(strongSelf);
                                  cell.preservesSuperviewLayoutMargins = YES;
                                  cell.contentView.preservesSuperviewLayoutMargins = YES;
                                  cell.selectionStyle = UITableViewCellSelectionStyleNone;
@@ -425,7 +425,7 @@ - (void)updateTableContents
                         itemWithCustomCellBlock:^{
                             UITableViewCell *cell = [OWSTableItem newCell];
                             OWSConversationSettingsViewController *strongSelf = weakSelf;
-                            OWSCAssert(strongSelf);
+                            OWSCAssertDebug(strongSelf);
                             cell.preservesSuperviewLayoutMargins = YES;
                             cell.contentView.preservesSuperviewLayoutMargins = YES;
                             cell.selectionStyle = UITableViewCellSelectionStyleNone;
@@ -517,7 +517,7 @@ - (void)updateTableContents
                             [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:nil];
                         [OWSTableItem configureCell:cell];
                         OWSConversationSettingsViewController *strongSelf = weakSelf;
-                        OWSCAssert(strongSelf);
+                        OWSCAssertDebug(strongSelf);
                         cell.preservesSuperviewLayoutMargins = YES;
                         cell.contentView.preservesSuperviewLayoutMargins = YES;
                         cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
@@ -556,7 +556,7 @@ - (void)updateTableContents
                             [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:nil];
                         [OWSTableItem configureCell:cell];
                         OWSConversationSettingsViewController *strongSelf = weakSelf;
-                        OWSCAssert(strongSelf);
+                        OWSCAssertDebug(strongSelf);
                         cell.preservesSuperviewLayoutMargins = YES;
                         cell.contentView.preservesSuperviewLayoutMargins = YES;
                         cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
@@ -631,7 +631,7 @@ - (void)updateTableContents
                                                      @"table cell label in conversation settings")
                                         iconName:@"table_ic_block"];
             OWSConversationSettingsViewController *strongSelf = weakSelf;
-            OWSCAssert(strongSelf);
+            OWSCAssertDebug(strongSelf);
             cell.selectionStyle = UITableViewCellSelectionStyleNone;
 
             UISwitch *blockUserSwitch = [UISwitch new];
@@ -656,7 +656,7 @@ - (CGFloat)iconSpacing
 
 - (UITableViewCell *)disclosureCellWithName:(NSString *)name iconColor:(UIColor *)iconColor
 {
-    OWSAssert(name.length > 0);
+    OWSAssertDebug(name.length > 0);
 
     UIView *iconView = [UIView containerView];
     [iconView autoSetDimensionsToSize:CGSizeMake(kIconViewLength, kIconViewLength)];
@@ -674,14 +674,14 @@ - (UITableViewCell *)disclosureCellWithName:(NSString *)name iconColor:(UIColor
 
 - (UITableViewCell *)cellWithName:(NSString *)name iconName:(NSString *)iconName
 {
-    OWSAssert(iconName.length > 0);
+    OWSAssertDebug(iconName.length > 0);
     UIImageView *iconView = [self viewForIconWithName:iconName];
     return [self cellWithName:name iconView:iconView];
 }
 
 - (UITableViewCell *)cellWithName:(NSString *)name iconView:(UIView *)iconView
 {
-    OWSAssert(name.length > 0);
+    OWSAssertDebug(name.length > 0);
 
     UITableViewCell *cell = [OWSTableItem newCell];
     cell.preservesSuperviewLayoutMargins = YES;
@@ -727,7 +727,7 @@ - (UIView *)mainSectionHeader
     const NSUInteger kAvatarSize = 68;
     UIImage *avatarImage =
         [OWSAvatarBuilder buildImageForThread:self.thread diameter:kAvatarSize contactsManager:self.contactsManager];
-    OWSAssert(avatarImage);
+    OWSAssertDebug(avatarImage);
 
     AvatarImageView *avatarView = [[AvatarImageView alloc] initWithImage:avatarImage];
     _avatarView = avatarView;
@@ -833,7 +833,7 @@ - (UIImageView *)viewForIconWithName:(NSString *)iconName
 {
     UIImage *icon = [UIImage imageNamed:iconName];
 
-    OWSAssert(icon);
+    OWSAssertDebug(icon);
     UIImageView *iconView = [UIImageView new];
     iconView.image = [icon imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
     iconView.tintColor = [Theme secondaryColor];
@@ -901,7 +901,7 @@ - (void)showShareProfileAlert
 - (void)showVerificationView
 {
     NSString *recipientId = self.thread.contactIdentifier;
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [FingerprintViewController presentFromViewController:self recipientId:recipientId];
 }
@@ -915,7 +915,7 @@ - (void)showGroupMembersView
 
 - (void)showUpdateGroupView:(UpdateGroupMode)mode
 {
-    OWSAssert(self.conversationSettingsViewDelegate);
+    OWSAssertDebug(self.conversationSettingsViewDelegate);
 
     UpdateGroupViewController *updateGroupViewController = [UpdateGroupViewController new];
     updateGroupViewController.conversationSettingsViewDelegate = self.conversationSettingsViewDelegate;
@@ -1015,7 +1015,7 @@ - (void)disappearingMessagesSwitchValueDidChange:(UISwitch *)sender
 
 - (void)blockUserSwitchDidChange:(id)sender
 {
-    OWSAssert(!self.isGroupThread);
+    OWSAssertDebug(!self.isGroupThread);
 
     if (![sender isKindOfClass:[UISwitch class]]) {
         OWSFailDebug(@"Unexpected sender for block user switch: %@", sender);
@@ -1025,7 +1025,7 @@ - (void)blockUserSwitchDidChange:(id)sender
     BOOL isCurrentlyBlocked = [[_blockingManager blockedPhoneNumbers] containsObject:self.thread.contactIdentifier];
 
     if (blockUserSwitch.isOn) {
-        OWSAssert(!isCurrentlyBlocked);
+        OWSAssertDebug(!isCurrentlyBlocked);
         if (isCurrentlyBlocked) {
             return;
         }
@@ -1038,7 +1038,7 @@ - (void)blockUserSwitchDidChange:(id)sender
                                               blockUserSwitch.on = isBlocked;
                                           }];
     } else {
-        OWSAssert(isCurrentlyBlocked);
+        OWSAssertDebug(isCurrentlyBlocked);
         if (!isCurrentlyBlocked) {
             return;
         }
@@ -1226,7 +1226,7 @@ - (void)showMediaGallery
     // reference to it until we're dismissed.
     self.mediaGalleryViewController = vc;
 
-    OWSAssert([self.navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug([self.navigationController isKindOfClass:[OWSNavigationController class]]);
     [vc pushTileViewFromNavController:(OWSNavigationController *)self.navigationController];
 }
 #pragma mark - Notifications
@@ -1243,7 +1243,7 @@ - (void)otherUsersProfileDidChange:(NSNotification *)notification
     OWSAssertIsOnMainThread();
 
     NSString *recipientId = notification.userInfo[kNSNotificationKey_ProfileRecipientId];
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     if (recipientId.length > 0 && [self.thread isKindOfClass:[TSContactThread class]] &&
         [self.thread.contactIdentifier isEqualToString:recipientId]) {
@@ -1276,7 +1276,7 @@ - (void)colorPicker:(ColorPickerViewController *)colorPicker didPickColorName:(N
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         ConversationConfigurationSyncOperation *operation =
             [[ConversationConfigurationSyncOperation alloc] initWithThread:self.thread];
-        OWSAssert(operation.isReady);
+        OWSAssertDebug(operation.isReady);
         [operation start];
     });
 
diff --git a/Signal/src/ViewControllers/ThreadSettings/ShowGroupMembersViewController.m b/Signal/src/ViewControllers/ThreadSettings/ShowGroupMembersViewController.m
index e688f99f97f..e6d7e07345e 100644
--- a/Signal/src/ViewControllers/ThreadSettings/ShowGroupMembersViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/ShowGroupMembersViewController.m
@@ -87,9 +87,9 @@ - (void)configWithThread:(TSGroupThread *)thread
 
     _thread = thread;
 
-    OWSAssert(self.thread);
-    OWSAssert(self.thread.groupModel);
-    OWSAssert(self.thread.groupModel.groupMemberIds);
+    OWSAssertDebug(self.thread);
+    OWSAssertDebug(self.thread.groupModel);
+    OWSAssertDebug(self.thread.groupModel.groupMemberIds);
 
     self.memberRecipientIds = [NSSet setWithArray:self.thread.groupModel.groupMemberIds];
 }
@@ -98,7 +98,7 @@ - (void)viewDidLoad
 {
     [super viewDidLoad];
 
-    OWSAssert([self.navigationController isKindOfClass:[OWSNavigationController class]]);
+    OWSAssertDebug([self.navigationController isKindOfClass:[OWSNavigationController class]]);
 
     self.title = _thread.groupModel.groupName;
 
@@ -112,7 +112,7 @@ - (void)viewDidLoad
 
 - (void)updateTableContents
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
 
     OWSTableContents *contents = [OWSTableContents new];
 
@@ -156,8 +156,8 @@ - (void)addMembers:(NSArray<NSString *> *)recipientIds
           toSection:(OWSTableSection *)section
     useVerifyAction:(BOOL)useVerifyAction
 {
-    OWSAssert(recipientIds);
-    OWSAssert(section);
+    OWSAssertDebug(recipientIds);
+    OWSAssertDebug(section);
 
     __weak ShowGroupMembersViewController *weakSelf = self;
     ContactsViewHelper *helper = self.contactsViewHelper;
@@ -172,7 +172,7 @@ - (void)addMembers:(NSArray<NSString *> *)recipientIds
         [section addItem:[OWSTableItem
                              itemWithCustomCellBlock:^{
                                  ShowGroupMembersViewController *strongSelf = weakSelf;
-                                 OWSCAssert(strongSelf);
+                                 OWSCAssertDebug(strongSelf);
 
                                  ContactTableViewCell *cell = [ContactTableViewCell new];
                                  OWSVerificationState verificationState =
@@ -270,7 +270,7 @@ - (void)resetAllNoLongerVerified
 
 - (void)didSelectRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     ContactsViewHelper *helper = self.contactsViewHelper;
     SignalAccount *_Nullable signalAccount = [helper fetchSignalAccountForRecipientId:recipientId];
@@ -392,7 +392,7 @@ - (void)didSelectRecipientId:(NSString *)recipientId
 
 - (void)showContactInfoViewForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.contactsViewHelper presentContactViewControllerForRecipientId:recipientId
                                                      fromViewController:self
@@ -401,7 +401,7 @@ - (void)showContactInfoViewForRecipientId:(NSString *)recipientId
 
 - (void)showConversationViewForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [SignalApp.sharedApp presentConversationForRecipientId:recipientId
                                                     action:ConversationViewActionCompose
@@ -417,7 +417,7 @@ - (void)callMember:(NSString *)recipientId
 
 - (void)showSafetyNumberView:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [FingerprintViewController presentFromViewController:self recipientId:recipientId];
 }
diff --git a/Signal/src/ViewControllers/ThreadSettings/UpdateGroupViewController.m b/Signal/src/ViewControllers/ThreadSettings/UpdateGroupViewController.m
index 6489ebd08d8..3f638d321fd 100644
--- a/Signal/src/ViewControllers/ThreadSettings/UpdateGroupViewController.m
+++ b/Signal/src/ViewControllers/ThreadSettings/UpdateGroupViewController.m
@@ -97,9 +97,9 @@ - (void)loadView
 {
     [super loadView];
 
-    OWSAssert(self.thread);
-    OWSAssert(self.thread.groupModel);
-    OWSAssert(self.thread.groupModel.groupMemberIds);
+    OWSAssertDebug(self.thread);
+    OWSAssertDebug(self.thread.groupModel);
+    OWSAssertDebug(self.thread.groupModel.groupMemberIds);
 
     self.view.backgroundColor = Theme.backgroundColor;
 
@@ -166,8 +166,8 @@ - (void)viewDidAppear:(BOOL)animated
 
 - (UIView *)firstSectionHeader
 {
-    OWSAssert(self.thread);
-    OWSAssert(self.thread.groupModel);
+    OWSAssertDebug(self.thread);
+    OWSAssertDebug(self.thread.groupModel);
 
     UIView *firstSectionHeader = [UIView new];
     firstSectionHeader.userInteractionEnabled = YES;
@@ -232,7 +232,7 @@ - (void)avatarTouched:(UIGestureRecognizer *)sender
 
 - (void)updateTableContents
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
 
     OWSTableContents *contents = [OWSTableContents new];
 
@@ -262,7 +262,7 @@ - (void)updateTableContents
             addItem:[OWSTableItem
                         itemWithCustomCellBlock:^{
                             UpdateGroupViewController *strongSelf = weakSelf;
-                            OWSCAssert(strongSelf);
+                            OWSCAssertDebug(strongSelf);
 
                             ContactTableViewCell *cell = [ContactTableViewCell new];
                             BOOL isPreviousMember = [strongSelf.previousMemberRecipientIds containsObject:recipientId];
@@ -323,7 +323,7 @@ - (void)updateTableContents
 
 - (void)showUnblockAlertForSignalAccount:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     __weak UpdateGroupViewController *weakSelf = self;
     [BlockListUIUtils showUnblockSignalAccountActionSheet:signalAccount
@@ -339,7 +339,7 @@ - (void)showUnblockAlertForSignalAccount:(SignalAccount *)signalAccount
 
 - (void)showUnblockAlertForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __weak UpdateGroupViewController *weakSelf = self;
     [BlockListUIUtils showUnblockPhoneNumberActionSheet:recipientId
@@ -355,7 +355,7 @@ - (void)showUnblockAlertForRecipientId:(NSString *)recipientId
 
 - (void)removeRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.memberRecipientIds removeObject:recipientId];
     [self updateTableContents];
@@ -365,7 +365,7 @@ - (void)removeRecipientId:(NSString *)recipientId
 
 - (void)updateGroup
 {
-    OWSAssert(self.conversationSettingsViewDelegate);
+    OWSAssertDebug(self.conversationSettingsViewDelegate);
 
     NSString *groupName = [self.groupNameTextField.text ows_stripped];
     TSGroupModel *groupModel = [[TSGroupModel alloc] initWithTitle:groupName
@@ -424,7 +424,7 @@ - (void)backButtonPressed
                                                      @"The label for the 'save' button in action sheets.")
                                            style:UIAlertActionStyleDefault
                                          handler:^(UIAlertAction *action) {
-                                             OWSAssert(self.conversationSettingsViewDelegate);
+                                             OWSAssertDebug(self.conversationSettingsViewDelegate);
 
                                              [self updateGroup];
 
@@ -441,7 +441,7 @@ - (void)backButtonPressed
 
 - (void)updateGroupPressed
 {
-    OWSAssert(self.conversationSettingsViewDelegate);
+    OWSAssertDebug(self.conversationSettingsViewDelegate);
 
     [self updateGroup];
 
@@ -491,7 +491,7 @@ - (NSString *)avatarActionSheetTitle
 - (void)avatarDidChange:(UIImage *)image
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     self.groupAvatar = image;
 }
@@ -517,7 +517,7 @@ - (void)recipientIdWasAdded:(NSString *)recipientId
 
 - (BOOL)isRecipientGroupMember:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return [self.memberRecipientIds containsObject:recipientId];
 }
diff --git a/Signal/src/environment/NotificationsManager.m b/Signal/src/environment/NotificationsManager.m
index 5ebdada96be..8525e6aedb7 100644
--- a/Signal/src/environment/NotificationsManager.m
+++ b/Signal/src/environment/NotificationsManager.m
@@ -90,7 +90,7 @@ - (void)presentIncomingCall:(SignalCall *)call callerName:(NSString *)callerName
 - (void)presentMissedCall:(SignalCall *)call callerName:(NSString *)callerName
 {
     TSContactThread *thread = [TSContactThread getOrCreateThreadWithContactId:call.remotePhoneNumber];
-    OWSAssert(thread != nil);
+    OWSAssertDebug(thread != nil);
 
     UILocalNotification *notification = [UILocalNotification new];
     notification.category = PushManagerCategoriesMissedCall;
@@ -128,7 +128,7 @@ - (void)presentMissedCall:(SignalCall *)call callerName:(NSString *)callerName
 - (void)presentMissedCallBecauseOfNewIdentity:(SignalCall *)call callerName:(NSString *)callerName
 {
     TSContactThread *thread = [TSContactThread getOrCreateThreadWithContactId:call.remotePhoneNumber];
-    OWSAssert(thread != nil);
+    OWSAssertDebug(thread != nil);
 
     UILocalNotification *notification = [UILocalNotification new];
     // Use category which allows call back
@@ -165,7 +165,7 @@ - (void)presentMissedCallBecauseOfNewIdentity:(SignalCall *)call callerName:(NSS
 - (void)presentMissedCallBecauseOfNoLongerVerifiedIdentity:(SignalCall *)call callerName:(NSString *)callerName
 {
     TSContactThread *thread = [TSContactThread getOrCreateThreadWithContactId:call.remotePhoneNumber];
-    OWSAssert(thread != nil);
+    OWSAssertDebug(thread != nil);
 
     UILocalNotification *notification = [UILocalNotification new];
     // Use category which does not allow call back
@@ -205,7 +205,7 @@ - (void)notifyUserForErrorMessage:(TSErrorMessage *)message
                            thread:(TSThread *)thread
                       transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     if (!thread) {
         OWSFailDebug(@"unexpected notification not associated with a thread: %@.", [message class]);
@@ -261,7 +261,7 @@ - (void)notifyUserForErrorMessage:(TSErrorMessage *)message
 - (void)notifyUserForThreadlessErrorMessage:(TSErrorMessage *)message
                                 transaction:(YapDatabaseReadWriteTransaction *)transaction;
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     NSString *messageText = [message previewTextWithTransaction:transaction];
 
@@ -297,9 +297,9 @@ - (void)notifyUserForIncomingMessage:(TSIncomingMessage *)message
                      contactsManager:(id<ContactsManagerProtocol>)contactsManager
                          transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(message);
-    OWSAssert(thread);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(message);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(contactsManager);
 
     // While batch processing, some of the necessary changes have not been commited.
     NSString *rawMessageText = [message previewTextWithTransaction:transaction];
diff --git a/Signal/src/environment/SignalApp.m b/Signal/src/environment/SignalApp.m
index 37ea0eb6024..ea6e5951d93 100644
--- a/Signal/src/environment/SignalApp.m
+++ b/Signal/src/environment/SignalApp.m
@@ -75,9 +75,9 @@ - (CallService *)callService
     @synchronized(self)
     {
         if (!_callService) {
-            OWSAssert(self.accountManager);
-            OWSAssert(Environment.current.contactsManager);
-            OWSAssert(Environment.current.messageSender);
+            OWSAssertDebug(self.accountManager);
+            OWSAssertDebug(Environment.current.contactsManager);
+            OWSAssertDebug(Environment.current.messageSender);
             [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(didChangeCallLoggingPreference:) name:OWSPreferencesCallLoggingDidChangeNotification object:nil];
             
             _callService = [[CallService alloc] initWithAccountManager:self.accountManager
@@ -100,8 +100,8 @@ - (OutboundCallInitiator *)outboundCallInitiator
     @synchronized(self)
     {
         if (!_outboundCallInitiator) {
-            OWSAssert(Environment.current.contactsManager);
-            OWSAssert(Environment.current.contactsUpdater);
+            OWSAssertDebug(Environment.current.contactsManager);
+            OWSAssertDebug(Environment.current.contactsUpdater);
             _outboundCallInitiator =
                 [[OutboundCallInitiator alloc] initWithContactsManager:Environment.current.contactsManager
                                                        contactsUpdater:Environment.current.contactsUpdater];
@@ -171,7 +171,7 @@ - (void)presentConversationForRecipientId:(NSString *)recipientId
 
 - (void)presentConversationForThreadId:(NSString *)threadId animated:(BOOL)isAnimated
 {
-    OWSAssert(threadId.length > 0);
+    OWSAssertDebug(threadId.length > 0);
 
     TSThread *thread = [TSThread fetchObjectWithUniqueID:threadId];
     if (thread == nil) {
diff --git a/Signal/src/util/DateUtil.m b/Signal/src/util/DateUtil.m
index 76d6a6ae131..cc7d70239e0 100644
--- a/Signal/src/util/DateUtil.m
+++ b/Signal/src/util/DateUtil.m
@@ -235,7 +235,7 @@ + (NSInteger)yearsFromFirstDate:(NSDate *)firstDate toSecondDate:(NSDate *)secon
 
 + (NSString *)formatPastTimestampRelativeToNow:(uint64_t)pastTimestamp
 {
-    OWSCAssert(pastTimestamp > 0);
+    OWSCAssertDebug(pastTimestamp > 0);
 
     uint64_t nowTimestamp = [NSDate ows_millisecondTimeStamp];
     BOOL isFutureTimestamp = pastTimestamp >= nowTimestamp;
@@ -260,7 +260,7 @@ + (NSString *)formatTimestampShort:(uint64_t)timestamp
 + (NSString *)formatDateShort:(NSDate *)date
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(date);
+    OWSAssertDebug(date);
 
     NSDate *now = [NSDate date];
     NSInteger dayDifference = [self daysFromFirstDate:date toSecondDate:now];
@@ -283,7 +283,7 @@ + (NSString *)formatDateShort:(NSDate *)date
 
 + (NSString *)formatDateForConversationDateBreaks:(NSDate *)date
 {
-    OWSAssert(date);
+    OWSAssertDebug(date);
 
     if (![self dateIsThisYear:date]) {
         // last year formatter: Nov 11, 2017
@@ -307,7 +307,7 @@ + (NSString *)formatTimestampAsTime:(uint64_t)timestamp
 
 + (NSString *)formatDateAsTime:(NSDate *)date
 {
-    OWSAssert(date);
+    OWSAssertDebug(date);
 
     NSString *dateTimeString = [[DateUtil timeFormatter] stringFromDate:date];
     return dateTimeString.localizedUppercaseString;
diff --git a/Signal/src/util/FunctionalUtil.m b/Signal/src/util/FunctionalUtil.m
index ed74b9eadd1..148f3c52294 100644
--- a/Signal/src/util/FunctionalUtil.m
+++ b/Signal/src/util/FunctionalUtil.m
@@ -6,7 +6,7 @@
 
 @implementation NSArray (FunctionalUtil)
 - (bool)any:(int (^)(id item))predicate {
-    OWSAssert(predicate != nil);
+    OWSAssertDebug(predicate != nil);
     for (id e in self) {
         if (predicate(e)) {
             return true;
@@ -15,7 +15,7 @@ - (bool)any:(int (^)(id item))predicate {
     return false;
 }
 - (bool)all:(int (^)(id item))predicate {
-    OWSAssert(predicate != nil);
+    OWSAssertDebug(predicate != nil);
     for (id e in self) {
         if (!predicate(e)) {
             return false;
@@ -24,7 +24,7 @@ - (bool)all:(int (^)(id item))predicate {
     return true;
 }
 - (id)firstMatchingElseNil:(int (^)(id item))predicate {
-    OWSAssert(predicate != nil);
+    OWSAssertDebug(predicate != nil);
     for (id e in self) {
         if (predicate(e)) {
             return e;
@@ -33,7 +33,7 @@ - (id)firstMatchingElseNil:(int (^)(id item))predicate {
     return nil;
 }
 - (NSArray *)map:(id (^)(id item))projection {
-    OWSAssert(projection != nil);
+    OWSAssertDebug(projection != nil);
 
     NSMutableArray *r = [NSMutableArray arrayWithCapacity:self.count];
     for (id e in self) {
@@ -42,7 +42,7 @@ - (NSArray *)map:(id (^)(id item))projection {
     return r;
 }
 - (NSArray *)filter:(int (^)(id item))predicate {
-    OWSAssert(predicate != nil);
+    OWSAssertDebug(predicate != nil);
 
     NSMutableArray *r = [NSMutableArray array];
     for (id e in self) {
@@ -74,19 +74,19 @@ - (NSInteger)sumNSInteger {
     return s;
 }
 - (NSDictionary *)keyedBy:(id (^)(id value))keySelector {
-    OWSAssert(keySelector != nil);
+    OWSAssertDebug(keySelector != nil);
 
     NSMutableDictionary *result = [NSMutableDictionary dictionary];
 
     for (id value in self) {
         result[keySelector(value)] = value;
     }
-    OWSAssert(result.count == self.count);
+    OWSAssertDebug(result.count == self.count);
 
     return result;
 }
 - (NSDictionary *)groupBy:(id (^)(id value))keySelector {
-    OWSAssert(keySelector != nil);
+    OWSAssertDebug(keySelector != nil);
 
     NSMutableDictionary *result = [NSMutableDictionary dictionary];
 
diff --git a/Signal/src/util/MainAppContext.m b/Signal/src/util/MainAppContext.m
index 6fad69e1d72..209245e9b79 100644
--- a/Signal/src/util/MainAppContext.m
+++ b/Signal/src/util/MainAppContext.m
@@ -222,7 +222,7 @@ - (nullable UIAlertAction *)openSystemSettingsAction
 
 - (void)doMultiDeviceUpdateWithProfileKey:(OWSAES256Key *)profileKey
 {
-    OWSAssert(profileKey);
+    OWSAssertDebug(profileKey);
 
     [MultiDeviceProfileKeyUpdateJob runWithProfileKey:profileKey
                                       identityManager:OWSIdentityManager.sharedManager
@@ -244,7 +244,7 @@ - (void)setNetworkActivityIndicatorVisible:(BOOL)value
 
 - (void)runNowOrWhenMainAppIsActive:(AppActiveBlock)block
 {
-    OWSAssert(block);
+    OWSAssertDebug(block);
 
     DispatchMainThreadSafe(^{
         if (self.isMainAppAndActive) {
@@ -254,7 +254,7 @@ - (void)runNowOrWhenMainAppIsActive:(AppActiveBlock)block
             OWSBackgroundTask *_Nullable backgroundTask =
                 [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
             block();
-            OWSAssert(backgroundTask);
+            OWSAssertDebug(backgroundTask);
             backgroundTask = nil;
             return;
         }
@@ -266,7 +266,7 @@ - (void)runNowOrWhenMainAppIsActive:(AppActiveBlock)block
 - (void)runAppActiveBlocks
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.isMainAppAndActive);
+    OWSAssertDebug(self.isMainAppAndActive);
 
     // App active blocks typically will be used to safely access the
     // shared data container, so use a background task to protect this
@@ -279,7 +279,7 @@ - (void)runAppActiveBlocks
         block();
     }
 
-    OWSAssert(backgroundTask);
+    OWSAssertDebug(backgroundTask);
     backgroundTask = nil;
 }
 
diff --git a/Signal/src/util/OWSBackup.m b/Signal/src/util/OWSBackup.m
index 314ace5ab88..4e6fbf830ed 100644
--- a/Signal/src/util/OWSBackup.m
+++ b/Signal/src/util/OWSBackup.m
@@ -69,7 +69,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
         return self;
     }
 
-    OWSAssert(primaryStorage);
+    OWSAssertDebug(primaryStorage);
 
     _dbConnection = primaryStorage.newDatabaseConnection;
 
@@ -112,7 +112,7 @@ - (void)setup
 - (void)tryToExportBackup
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(!self.backupExportJob);
+    OWSAssertDebug(!self.backupExportJob);
 
     if (!self.canBackupExport) {
         // TODO: Offer a reason in the UI.
@@ -144,7 +144,7 @@ - (void)cancelExportBackup
 
 - (void)setLastExportSuccessDate:(NSDate *)value
 {
-    OWSAssert(value);
+    OWSAssertDebug(value);
 
     [self.dbConnection setDate:value
                         forKey:OWSBackup_LastExportSuccessDateKey
@@ -159,7 +159,7 @@ - (nullable NSDate *)lastExportSuccessDate
 
 - (void)setLastExportFailureDate:(NSDate *)value
 {
-    OWSAssert(value);
+    OWSAssertDebug(value);
 
     [self.dbConnection setDate:value
                         forKey:OWSBackup_LastExportFailureDateKey
@@ -312,7 +312,7 @@ - (void)checkCanImportBackup:(OWSBackupBoolBlock)success failure:(OWSBackupError
 - (void)tryToImportBackup
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(!self.backupImportJob);
+    OWSAssertDebug(!self.backupImportJob);
 
     // In development, make sure there's no export or import in progress.
     [self.backupExportJob cancel];
@@ -540,9 +540,9 @@ - (void)lazyRestoreAttachment:(TSAttachmentStream *)attachment
                      backupIO:(OWSBackupIO *)backupIO
                    completion:(OWSBackupBoolBlock)completion
 {
-    OWSAssert(attachment);
-    OWSAssert(backupIO);
-    OWSAssert(completion);
+    OWSAssertDebug(attachment);
+    OWSAssertDebug(backupIO);
+    OWSAssertDebug(completion);
 
     NSString *_Nullable attachmentFilePath = [attachment filePath];
     if (attachmentFilePath.length < 1) {
@@ -594,11 +594,11 @@ - (void)lazyRestoreAttachment:(TSAttachmentStream *)attachment
                 encryptionKey:(NSData *)encryptionKey
                    completion:(OWSBackupBoolBlock)completion
 {
-    OWSAssert(attachment);
-    OWSAssert(backupIO);
-    OWSAssert(encryptedFilePath.length > 0);
-    OWSAssert(encryptionKey.length > 0);
-    OWSAssert(completion);
+    OWSAssertDebug(attachment);
+    OWSAssertDebug(backupIO);
+    OWSAssertDebug(encryptedFilePath.length > 0);
+    OWSAssertDebug(encryptionKey.length > 0);
+    OWSAssertDebug(completion);
 
     NSData *_Nullable data = [NSData dataWithContentsOfFile:encryptedFilePath];
     if (!data) {
diff --git a/Signal/src/util/OWSBackupExportJob.m b/Signal/src/util/OWSBackupExportJob.m
index e3fd4253104..a541e10729f 100644
--- a/Signal/src/util/OWSBackupExportJob.m
+++ b/Signal/src/util/OWSBackupExportJob.m
@@ -49,7 +49,7 @@ - (instancetype)initWithEncryptedItem:(OWSBackupEncryptedItem *)encryptedItem
         return self;
     }
 
-    OWSAssert(encryptedItem);
+    OWSAssertDebug(encryptedItem);
 
     self.encryptedItem = encryptedItem;
 
@@ -99,7 +99,7 @@ - (instancetype)initWithBackupIO:(OWSBackupIO *)backupIO
         return self;
     }
 
-    OWSAssert(backupIO);
+    OWSAssertDebug(backupIO);
 
     self.exportItems = [NSMutableArray new];
     self.backupIO = backupIO;
@@ -113,7 +113,7 @@ - (instancetype)initWithBackupIO:(OWSBackupIO *)backupIO
 // this work, help with debugging issue, etc.
 - (BOOL)writeObject:(TSYapDatabaseObject *)object entityType:(SignalIOSProtoBackupSnapshotBackupEntityType)entityType
 {
-    OWSAssert(object);
+    OWSAssertDebug(object);
 
     NSData *_Nullable data = [NSKeyedArchiver archivedDataWithRootObject:object];
     if (!data) {
@@ -227,9 +227,9 @@ - (instancetype)initWithBackupIO:(OWSBackupIO *)backupIO
         return self;
     }
 
-    OWSAssert(backupIO);
-    OWSAssert(attachmentId.length > 0);
-    OWSAssert(attachmentFilePath.length > 0);
+    OWSAssertDebug(backupIO);
+    OWSAssertDebug(attachmentId.length > 0);
+    OWSAssertDebug(attachmentFilePath.length > 0);
 
     self.backupIO = backupIO;
     self.attachmentId = attachmentId;
@@ -251,8 +251,8 @@ - (void)dealloc
 // Returns YES on success.
 - (BOOL)prepareForUpload
 {
-    OWSAssert(self.attachmentId.length > 0);
-    OWSAssert(self.attachmentFilePath.length > 0);
+    OWSAssertDebug(self.attachmentId.length > 0);
+    OWSAssertDebug(self.attachmentFilePath.length > 0);
 
     NSString *attachmentsDirPath = [TSAttachmentStream attachmentsFolder];
     if (![self.attachmentFilePath hasPrefix:attachmentsDirPath]) {
@@ -394,7 +394,7 @@ - (void)start
 
 - (void)configureExportWithCompletion:(OWSBackupJobBoolCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
@@ -430,7 +430,7 @@ - (void)configureExportWithCompletion:(OWSBackupJobBoolCompletion)completion
 
 - (void)fetchAllRecordsWithCompletion:(OWSBackupJobBoolCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     if (self.isComplete) {
         return;
@@ -461,7 +461,7 @@ - (void)fetchAllRecordsWithCompletion:(OWSBackupJobBoolCompletion)completion
 
 - (BOOL)exportDatabase
 {
-    OWSAssert(self.backupIO);
+    OWSAssertDebug(self.backupIO);
 
     OWSLogVerbose(@"");
 
@@ -543,7 +543,7 @@ typedef NSUInteger (^ExportBlock)(YapDatabaseReadTransaction *,
                 if (!filePath) {
                     OWSLogError(@"attachment is missing file.");
                     return NO;
-                    OWSAssert(attachmentStream.uniqueId.length > 0);
+                    OWSAssertDebug(attachmentStream.uniqueId.length > 0);
                 }
 
                 // OWSAttachmentExport is used to lazily write an encrypted copy of the
@@ -618,7 +618,7 @@ typedef NSUInteger (^ExportBlock)(YapDatabaseReadTransaction *,
 
 - (void)saveToCloudWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
@@ -662,7 +662,7 @@ - (void)saveToCloudWithCompletion:(OWSBackupJobCompletion)completion
 // until the last (the manifest file).
 - (void)saveNextFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     if (self.isComplete) {
         return;
@@ -689,7 +689,7 @@ - (void)saveNextFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 // This method returns YES IFF "work was done and there might be more work to do".
 - (BOOL)saveNextDatabaseFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     __weak OWSBackupExportJob *weakSelf = self;
     if (self.unsavedDatabaseItems.count < 1) {
@@ -700,7 +700,7 @@ - (BOOL)saveNextDatabaseFileToCloudWithCompletion:(OWSBackupJobCompletion)comple
     OWSBackupExportItem *item = self.unsavedDatabaseItems.firstObject;
     [self.unsavedDatabaseItems removeObjectAtIndex:0];
 
-    OWSAssert(item.encryptedItem.filePath.length > 0);
+    OWSAssertDebug(item.encryptedItem.filePath.length > 0);
 
     [OWSBackupAPI saveEphemeralDatabaseFileToCloudWithFileUrl:[NSURL fileURLWithPath:item.encryptedItem.filePath]
         success:^(NSString *recordName) {
@@ -725,7 +725,7 @@ - (BOOL)saveNextDatabaseFileToCloudWithCompletion:(OWSBackupJobCompletion)comple
 // This method returns YES IFF "work was done and there might be more work to do".
 - (BOOL)saveNextAttachmentFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     __weak OWSBackupExportJob *weakSelf = self;
     if (self.unsavedAttachmentExports.count < 1) {
@@ -751,8 +751,8 @@ - (BOOL)saveNextAttachmentFileToCloudWithCompletion:(OWSBackupJobCompletion)comp
         NSString *lastRecordName = [OWSBackupAPI recordNameForPersistentFileWithFileId:attachmentExport.attachmentId];
         OWSBackupFragment *_Nullable lastBackupFragment = [OWSBackupFragment fetchObjectWithUniqueID:lastRecordName];
         if (lastBackupFragment && [self.lastValidRecordNames containsObject:lastRecordName]) {
-            OWSAssert(lastBackupFragment.encryptionKey.length > 0);
-            OWSAssert(lastBackupFragment.relativeFilePath.length > 0);
+            OWSAssertDebug(lastBackupFragment.encryptionKey.length > 0);
+            OWSAssertDebug(lastBackupFragment.relativeFilePath.length > 0);
 
             // Recycle the metadata from the last backup's manifest.
             OWSBackupEncryptedItem *encryptedItem = [OWSBackupEncryptedItem new];
@@ -782,8 +782,8 @@ - (BOOL)saveNextAttachmentFileToCloudWithCompletion:(OWSBackupJobCompletion)comp
             [weakSelf saveNextFileToCloudWithCompletion:completion];
             return YES;
         }
-        OWSAssert(attachmentExport.relativeFilePath.length > 0);
-        OWSAssert(attachmentExport.encryptedItem);
+        OWSAssertDebug(attachmentExport.relativeFilePath.length > 0);
+        OWSAssertDebug(attachmentExport.encryptedItem);
     }
 
     [OWSBackupAPI savePersistentFileOnceToCloudWithFileId:attachmentExport.attachmentId
@@ -850,7 +850,7 @@ - (BOOL)saveNextAttachmentFileToCloudWithCompletion:(OWSBackupJobCompletion)comp
 
 - (void)saveManifestFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSBackupEncryptedItem *_Nullable encryptedItem = [self writeManifestFile];
     if (!encryptedItem) {
@@ -892,10 +892,10 @@ - (void)saveManifestFileToCloudWithCompletion:(OWSBackupJobCompletion)completion
 
 - (nullable OWSBackupEncryptedItem *)writeManifestFile
 {
-    OWSAssert(self.savedDatabaseItems.count > 0);
-    OWSAssert(self.savedAttachmentItems);
-    OWSAssert(self.jobTempDirPath.length > 0);
-    OWSAssert(self.backupIO);
+    OWSAssertDebug(self.savedDatabaseItems.count > 0);
+    OWSAssertDebug(self.savedAttachmentItems);
+    OWSAssertDebug(self.jobTempDirPath.length > 0);
+    OWSAssertDebug(self.backupIO);
 
     NSDictionary *json = @{
         kOWSBackup_ManifestKey_DatabaseFiles : [self jsonForItems:self.savedDatabaseItems],
@@ -919,17 +919,17 @@ - (nullable OWSBackupEncryptedItem *)writeManifestFile
     NSMutableArray *result = [NSMutableArray new];
     for (OWSBackupExportItem *item in items) {
         NSMutableDictionary<NSString *, id> *itemJson = [NSMutableDictionary new];
-        OWSAssert(item.recordName.length > 0);
+        OWSAssertDebug(item.recordName.length > 0);
 
         itemJson[kOWSBackup_ManifestKey_RecordName] = item.recordName;
-        OWSAssert(item.encryptedItem.encryptionKey.length > 0);
+        OWSAssertDebug(item.encryptedItem.encryptionKey.length > 0);
         itemJson[kOWSBackup_ManifestKey_EncryptionKey] = item.encryptedItem.encryptionKey.base64EncodedString;
         if (item.attachmentExport) {
-            OWSAssert(item.attachmentExport.relativeFilePath.length > 0);
+            OWSAssertDebug(item.attachmentExport.relativeFilePath.length > 0);
             itemJson[kOWSBackup_ManifestKey_RelativeFilePath] = item.attachmentExport.relativeFilePath;
         }
         if (item.attachmentExport.attachmentId) {
-            OWSAssert(item.attachmentExport.attachmentId.length > 0);
+            OWSAssertDebug(item.attachmentExport.attachmentId.length > 0);
             itemJson[kOWSBackup_ManifestKey_AttachmentId] = item.attachmentExport.attachmentId;
         }
         if (item.uncompressedDataLength) {
@@ -943,7 +943,7 @@ - (nullable OWSBackupEncryptedItem *)writeManifestFile
 
 - (void)cleanUpWithCompletion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     if (self.isComplete) {
         // Job was aborted.
@@ -961,19 +961,19 @@ - (void)cleanUpWithCompletion:(OWSBackupJobCompletion)completion
     // records not involved in this backup export.
     NSMutableSet<NSString *> *activeRecordNames = [NSMutableSet new];
 
-    OWSAssert(self.savedDatabaseItems.count > 0);
+    OWSAssertDebug(self.savedDatabaseItems.count > 0);
     for (OWSBackupExportItem *item in self.savedDatabaseItems) {
-        OWSAssert(item.recordName.length > 0);
-        OWSAssert(![activeRecordNames containsObject:item.recordName]);
+        OWSAssertDebug(item.recordName.length > 0);
+        OWSAssertDebug(![activeRecordNames containsObject:item.recordName]);
         [activeRecordNames addObject:item.recordName];
     }
     for (OWSBackupExportItem *item in self.savedAttachmentItems) {
-        OWSAssert(item.recordName.length > 0);
-        OWSAssert(![activeRecordNames containsObject:item.recordName]);
+        OWSAssertDebug(item.recordName.length > 0);
+        OWSAssertDebug(![activeRecordNames containsObject:item.recordName]);
         [activeRecordNames addObject:item.recordName];
     }
-    OWSAssert(self.manifestItem.recordName.length > 0);
-    OWSAssert(![activeRecordNames containsObject:self.manifestItem.recordName]);
+    OWSAssertDebug(self.manifestItem.recordName.length > 0);
+    OWSAssertDebug(![activeRecordNames containsObject:self.manifestItem.recordName]);
     [activeRecordNames addObject:self.manifestItem.recordName];
 
     // Because we do "lazy attachment restores", we need to include the record names for all
@@ -988,7 +988,7 @@ - (void)cleanUpWithCompletion:(OWSBackupJobCompletion)completion
 
 - (void)cleanUpMetadataCacheWithActiveRecordNames:(NSSet<NSString *> *)activeRecordNames
 {
-    OWSAssert(activeRecordNames.count > 0);
+    OWSAssertDebug(activeRecordNames.count > 0);
 
     if (self.isComplete) {
         // Job was aborted.
@@ -1010,8 +1010,8 @@ - (void)cleanUpMetadataCacheWithActiveRecordNames:(NSSet<NSString *> *)activeRec
 - (void)cleanUpCloudWithActiveRecordNames:(NSSet<NSString *> *)activeRecordNames
                                completion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(activeRecordNames.count > 0);
-    OWSAssert(completion);
+    OWSAssertDebug(activeRecordNames.count > 0);
+    OWSAssertDebug(completion);
 
     if (self.isComplete) {
         // Job was aborted.
@@ -1049,8 +1049,8 @@ - (void)deleteRecordsFromCloud:(NSMutableArray<NSString *> *)obsoleteRecordNames
                   deletedCount:(NSUInteger)deletedCount
                     completion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(obsoleteRecordNames);
-    OWSAssert(completion);
+    OWSAssertDebug(obsoleteRecordNames);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
diff --git a/Signal/src/util/OWSBackupIO.m b/Signal/src/util/OWSBackupIO.m
index 6c6fb85e205..abcb8d7aa12 100644
--- a/Signal/src/util/OWSBackupIO.m
+++ b/Signal/src/util/OWSBackupIO.m
@@ -63,7 +63,7 @@ - (nullable NSString *)createTempFile
 
 - (nullable OWSBackupEncryptedItem *)encryptFileAsTempFile:(NSString *)srcFilePath
 {
-    OWSAssert(srcFilePath.length > 0);
+    OWSAssertDebug(srcFilePath.length > 0);
 
     NSData *encryptionKey = [Randomness generateRandomBytes:(int)kOWSBackupKeyLength];
 
@@ -72,8 +72,8 @@ - (nullable OWSBackupEncryptedItem *)encryptFileAsTempFile:(NSString *)srcFilePa
 
 - (nullable OWSBackupEncryptedItem *)encryptFileAsTempFile:(NSString *)srcFilePath encryptionKey:(NSData *)encryptionKey
 {
-    OWSAssert(srcFilePath.length > 0);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(srcFilePath.length > 0);
+    OWSAssertDebug(encryptionKey.length > 0);
 
     @autoreleasepool {
 
@@ -89,7 +89,7 @@ - (nullable OWSBackupEncryptedItem *)encryptFileAsTempFile:(NSString *)srcFilePa
 
 - (nullable OWSBackupEncryptedItem *)encryptDataAsTempFile:(NSData *)srcData
 {
-    OWSAssert(srcData);
+    OWSAssertDebug(srcData);
 
     NSData *encryptionKey = [Randomness generateRandomBytes:(int)kOWSBackupKeyLength];
 
@@ -99,8 +99,8 @@ - (nullable OWSBackupEncryptedItem *)encryptDataAsTempFile:(NSData *)srcData
 - (nullable OWSBackupEncryptedItem *)encryptDataAsTempFile:(NSData *)unencryptedData
                                              encryptionKey:(NSData *)encryptionKey
 {
-    OWSAssert(unencryptedData);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(unencryptedData);
+    OWSAssertDebug(encryptionKey.length > 0);
 
     @autoreleasepool {
 
@@ -131,8 +131,8 @@ - (BOOL)decryptFileAsFile:(NSString *)srcFilePath
               dstFilePath:(NSString *)dstFilePath
             encryptionKey:(NSData *)encryptionKey
 {
-    OWSAssert(srcFilePath.length > 0);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(srcFilePath.length > 0);
+    OWSAssertDebug(encryptionKey.length > 0);
 
     @autoreleasepool {
 
@@ -157,8 +157,8 @@ - (BOOL)decryptFileAsFile:(NSString *)srcFilePath
 
 - (nullable NSData *)decryptFileAsData:(NSString *)srcFilePath encryptionKey:(NSData *)encryptionKey
 {
-    OWSAssert(srcFilePath.length > 0);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(srcFilePath.length > 0);
+    OWSAssertDebug(encryptionKey.length > 0);
 
     @autoreleasepool {
 
@@ -180,8 +180,8 @@ - (nullable NSData *)decryptFileAsData:(NSString *)srcFilePath encryptionKey:(NS
 
 - (nullable NSData *)decryptDataAsData:(NSData *)encryptedData encryptionKey:(NSData *)encryptionKey
 {
-    OWSAssert(encryptedData);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(encryptedData);
+    OWSAssertDebug(encryptionKey.length > 0);
 
     @autoreleasepool {
 
@@ -196,7 +196,7 @@ - (nullable NSData *)decryptDataAsData:(NSData *)encryptedData encryptionKey:(NS
 
 - (nullable NSData *)compressData:(NSData *)srcData
 {
-    OWSAssert(srcData);
+    OWSAssertDebug(srcData);
 
     @autoreleasepool {
 
@@ -232,7 +232,7 @@ - (nullable NSData *)compressData:(NSData *)srcData
 
 - (nullable NSData *)decompressData:(NSData *)srcData uncompressedDataLength:(NSUInteger)uncompressedDataLength
 {
-    OWSAssert(srcData);
+    OWSAssertDebug(srcData);
 
     @autoreleasepool {
 
@@ -254,7 +254,7 @@ - (nullable NSData *)decompressData:(NSData *)srcData uncompressedDataLength:(NS
         size_t dstLength = compression_decode_buffer(
             dstBufferData.mutableBytes, dstBufferLength, srcData.bytes, srcLength, NULL, SignalCompressionAlgorithm);
         NSData *decompressedData = [dstBufferData subdataWithRange:NSMakeRange(0, dstLength)];
-        OWSAssert(decompressedData.length == uncompressedDataLength);
+        OWSAssertDebug(decompressedData.length == uncompressedDataLength);
         OWSLogVerbose(@"decompressed %zd -> %zd = %0.2f",
             srcLength,
             dstLength,
diff --git a/Signal/src/util/OWSBackupImportJob.m b/Signal/src/util/OWSBackupImportJob.m
index ae49f5c5606..381e2dcae2d 100644
--- a/Signal/src/util/OWSBackupImportJob.m
+++ b/Signal/src/util/OWSBackupImportJob.m
@@ -88,8 +88,8 @@ - (void)start
         if (self.isComplete) {
             return;
         }
-        OWSCAssert(manifest.databaseItems.count > 0);
-        OWSCAssert(manifest.attachmentsItems);
+        OWSCAssertDebug(manifest.databaseItems.count > 0);
+        OWSCAssertDebug(manifest.attachmentsItems);
         strongSelf.databaseItems = manifest.databaseItems;
         strongSelf.attachmentsItems = manifest.attachmentsItems;
         [strongSelf downloadAndProcessImport];
@@ -102,8 +102,8 @@ - (void)start
 
 - (void)downloadAndProcessImport
 {
-    OWSAssert(self.databaseItems);
-    OWSAssert(self.attachmentsItems);
+    OWSAssertDebug(self.databaseItems);
+    OWSAssertDebug(self.attachmentsItems);
 
     NSMutableArray<OWSBackupFragment *> *allItems = [NSMutableArray new];
     [allItems addObjectsFromArray:self.databaseItems];
@@ -187,8 +187,8 @@ - (BOOL)configureImport
 - (void)downloadFilesFromCloud:(NSMutableArray<OWSBackupFragment *> *)items
                     completion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(items.count > 0);
-    OWSAssert(completion);
+    OWSAssertDebug(items.count > 0);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
@@ -199,8 +199,8 @@ - (void)downloadNextItemFromCloud:(NSMutableArray<OWSBackupFragment *> *)items
                       recordCount:(NSUInteger)recordCount
                        completion:(OWSBackupJobCompletion)completion
 {
-    OWSAssert(items);
-    OWSAssert(completion);
+    OWSAssertDebug(items);
+    OWSAssertDebug(completion);
 
     if (self.isComplete) {
         // Job was aborted.
@@ -300,7 +300,7 @@ - (void)restoreAttachmentFiles
 
 - (void)restoreDatabaseWithCompletion:(OWSBackupJobBoolCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
@@ -458,7 +458,7 @@ - (void)restoreDatabaseWithCompletion:(OWSBackupJobBoolCompletion)completion
 
 - (void)ensureMigrationsWithCompletion:(OWSBackupJobBoolCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"");
 
diff --git a/Signal/src/util/OWSBackupJob.m b/Signal/src/util/OWSBackupJob.m
index 8f87a59e388..57df13c502d 100644
--- a/Signal/src/util/OWSBackupJob.m
+++ b/Signal/src/util/OWSBackupJob.m
@@ -52,8 +52,8 @@ - (instancetype)initWithDelegate:(id<OWSBackupJobDelegate>)delegate primaryStora
         return self;
     }
 
-    OWSAssert(primaryStorage);
-    OWSAssert([OWSStorage isStorageReady]);
+    OWSAssertDebug(primaryStorage);
+    OWSAssertDebug([OWSStorage isStorageReady]);
 
     self.delegate = delegate;
     self.primaryStorage = primaryStorage;
@@ -105,14 +105,14 @@ - (void)succeed
 
     dispatch_async(dispatch_get_main_queue(), ^{
         if (self.isComplete) {
-            OWSAssert(!self.hasSucceeded);
+            OWSAssertDebug(!self.hasSucceeded);
             return;
         }
         self.isComplete = YES;
 
         // There's a lot of asynchrony in these backup jobs;
         // ensure we only end up finishing these jobs once.
-        OWSAssert(!self.hasSucceeded);
+        OWSAssertDebug(!self.hasSucceeded);
         self.hasSucceeded = YES;
 
         [self.delegate backupJobDidSucceed:self];
@@ -129,7 +129,7 @@ - (void)failWithError:(NSError *)error
     OWSFailDebug(@"%@", error);
 
     dispatch_async(dispatch_get_main_queue(), ^{
-        OWSAssert(!self.hasSucceeded);
+        OWSAssertDebug(!self.hasSucceeded);
         if (self.isComplete) {
             return;
         }
@@ -156,9 +156,9 @@ - (void)downloadAndProcessManifestWithSuccess:(OWSBackupJobManifestSuccess)succe
                                       failure:(OWSBackupJobManifestFailure)failure
                                      backupIO:(OWSBackupIO *)backupIO
 {
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(backupIO);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(backupIO);
 
     OWSLogVerbose(@"");
 
@@ -189,10 +189,10 @@ - (void)processManifest:(NSData *)manifestDataEncrypted
                 failure:(dispatch_block_t)failure
                backupIO:(OWSBackupIO *)backupIO
 {
-    OWSAssert(manifestDataEncrypted.length > 0);
-    OWSAssert(success);
-    OWSAssert(failure);
-    OWSAssert(backupIO);
+    OWSAssertDebug(manifestDataEncrypted.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
+    OWSAssertDebug(backupIO);
 
     if (self.isComplete) {
         return;
@@ -237,8 +237,8 @@ - (void)processManifest:(NSData *)manifestDataEncrypted
 
 - (nullable NSArray<OWSBackupFragment *> *)parseItems:(id)json key:(NSString *)key
 {
-    OWSAssert(json);
-    OWSAssert(key.length);
+    OWSAssertDebug(json);
+    OWSAssertDebug(key.length);
 
     if (![json isKindOfClass:[NSDictionary class]]) {
         OWSFailDebug(@"manifest has invalid data.");
diff --git a/Signal/src/util/OWSOrphanDataCleaner.m b/Signal/src/util/OWSOrphanDataCleaner.m
index c8d28972dab..f8528b66bc0 100644
--- a/Signal/src/util/OWSOrphanDataCleaner.m
+++ b/Signal/src/util/OWSOrphanDataCleaner.m
@@ -141,7 +141,7 @@ + (void)findOrphanDataWithRetries:(NSInteger)remainingRetries
                           success:(OrphanDataBlock)success
                           failure:(dispatch_block_t)failure
 {
-    OWSAssert(databaseConnection);
+    OWSAssertDebug(databaseConnection);
 
     if (remainingRetries < 1) {
         OWSLogInfo(@"Aborting orphan data search.");
@@ -173,7 +173,7 @@ + (void)findOrphanDataWithRetries:(NSInteger)remainingRetries
 // abort if the app resigns active, in order to avoid 0xdead10cc crashes.
 + (nullable OWSOrphanData *)findOrphanDataSync:(YapDatabaseConnection *)databaseConnection
 {
-    OWSAssert(databaseConnection);
+    OWSAssertDebug(databaseConnection);
 
     __block BOOL shouldAbort = NO;
 
@@ -469,7 +469,7 @@ + (dispatch_queue_t)workQueue
 + (void)auditAndCleanup:(BOOL)shouldRemoveOrphans databaseConnection:(YapDatabaseConnection *)databaseConnection
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(databaseConnection);
+    OWSAssertDebug(databaseConnection);
 
     if (!AppReadiness.isAppReady) {
         OWSFailDebug(@"can't audit orphan data until app is ready.");
@@ -543,8 +543,8 @@ + (void)processOrphans:(OWSOrphanData *)orphanData
                 success:(dispatch_block_t)success
                 failure:(dispatch_block_t)failure
 {
-    OWSAssert(databaseConnection);
-    OWSAssert(orphanData);
+    OWSAssertDebug(databaseConnection);
+    OWSAssertDebug(orphanData);
 
     if (remainingRetries < 1) {
         OWSLogInfo(@"Aborting orphan data audit.");
@@ -582,8 +582,8 @@ + (BOOL)processOrphansSync:(OWSOrphanData *)orphanData
         databaseConnection:(YapDatabaseConnection *)databaseConnection
        shouldRemoveOrphans:(BOOL)shouldRemoveOrphans
 {
-    OWSAssert(databaseConnection);
-    OWSAssert(orphanData);
+    OWSAssertDebug(databaseConnection);
+    OWSAssertDebug(orphanData);
 
     __block BOOL shouldAbort = NO;
 
diff --git a/Signal/src/util/OWSScreenLockUI.m b/Signal/src/util/OWSScreenLockUI.m
index f4830ec4f3c..583807a1d1b 100644
--- a/Signal/src/util/OWSScreenLockUI.m
+++ b/Signal/src/util/OWSScreenLockUI.m
@@ -118,10 +118,10 @@ - (void)observeNotifications
 - (void)setupWithRootWindow:(UIWindow *)rootWindow
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(rootWindow);
+    OWSAssertDebug(rootWindow);
 
     [self createScreenBlockingWindowWithRootWindow:rootWindow];
-    OWSAssert(self.screenBlockingWindow);
+    OWSAssertDebug(self.screenBlockingWindow);
 }
 
 - (void)startObserving
@@ -149,7 +149,7 @@ - (void)startObserving
 
 - (void)tryToActivateScreenLockBasedOnCountdown
 {
-    OWSAssert(!self.appIsInBackground);
+    OWSAssertDebug(!self.appIsInBackground);
     OWSAssertIsOnMainThread();
 
     if (!AppReadiness.isAppReady) {
@@ -177,9 +177,9 @@ - (void)tryToActivateScreenLockBasedOnCountdown
         return;
     }
     NSTimeInterval countdownInterval = fabs([self.screenLockCountdownDate timeIntervalSinceNow]);
-    OWSAssert(countdownInterval >= 0);
+    OWSAssertDebug(countdownInterval >= 0);
     NSTimeInterval screenLockTimeout = OWSScreenLock.sharedManager.screenLockTimeout;
-    OWSAssert(screenLockTimeout >= 0);
+    OWSAssertDebug(screenLockTimeout >= 0);
     if (countdownInterval >= screenLockTimeout) {
         self.isScreenLockLocked = YES;
 
@@ -379,7 +379,7 @@ - (void)showScreenLockFailureAlertWithMessage:(NSString *)message
 - (void)createScreenBlockingWindowWithRootWindow:(UIWindow *)rootWindow
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(rootWindow);
+    OWSAssertDebug(rootWindow);
 
     UIWindow *window = [[UIWindow alloc] initWithFrame:rootWindow.bounds];
     window.hidden = NO;
diff --git a/Signal/src/util/Pastelog.m b/Signal/src/util/Pastelog.m
index 15a65c08a6a..26d2dc0b139 100644
--- a/Signal/src/util/Pastelog.m
+++ b/Signal/src/util/Pastelog.m
@@ -53,10 +53,10 @@ - (void)uploadFileWithURL:(NSURL *)fileUrl
                   success:(DebugLogUploadSuccess)success
                   failure:(DebugLogUploadFailure)failure
 {
-    OWSAssert(fileUrl);
-    OWSAssert(mimeType.length > 0);
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(fileUrl);
+    OWSAssertDebug(mimeType.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     self.fileUrl = fileUrl;
     self.mimeType = mimeType;
@@ -145,9 +145,9 @@ - (void)getUploadParameters
 
 - (void)uploadFileWithUploadUrl:(NSString *)uploadUrl fields:(NSDictionary *)fields uploadKey:(NSString *)uploadKey
 {
-    OWSAssert(uploadUrl.length > 0);
-    OWSAssert(fields);
-    OWSAssert(uploadKey.length > 0);
+    OWSAssertDebug(uploadUrl.length > 0);
+    OWSAssertDebug(fields);
+    OWSAssertDebug(uploadKey.length > 0);
 
     __weak DebugLogUploader *weakSelf = self;
     NSURLSessionConfiguration *sessionConf = NSURLSessionConfiguration.ephemeralSessionConfiguration;
@@ -213,7 +213,7 @@ - (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)err
 
 - (void)failWithError:(NSError *)error
 {
-    OWSAssert(error);
+    OWSAssertDebug(error);
 
     OWSLogError(@"%@", error);
 
@@ -229,7 +229,7 @@ - (void)failWithError:(NSError *)error
 
 - (void)succeedWithUrl:(NSURL *)url
 {
-    OWSAssert(url);
+    OWSAssertDebug(url);
 
     OWSLogVerbose(@"%@", url);
 
@@ -359,7 +359,7 @@ + (void)submitLogsWithCompletion:(nullable SubmitDebugLogsCompletion)completionP
 
 + (void)uploadLogsWithSuccess:(nullable UploadDebugLogsSuccess)success
 {
-    OWSAssert(success);
+    OWSAssertDebug(success);
 
     [[self sharedManager] uploadLogsWithSuccess:success
                                         failure:^(NSString *localizedErrorMessage) {
@@ -369,8 +369,8 @@ + (void)uploadLogsWithSuccess:(nullable UploadDebugLogsSuccess)success
 
 - (void)uploadLogsWithSuccess:(nullable UploadDebugLogsSuccess)successParam failure:(UploadDebugLogsFailure)failureParam
 {
-    OWSAssert(successParam);
-    OWSAssert(failureParam);
+    OWSAssertDebug(successParam);
+    OWSAssertDebug(failureParam);
 
     // Ensure that we call the completions on the main thread.
     UploadDebugLogsSuccess success = ^(NSURL *url) {
@@ -489,7 +489,7 @@ - (void)submitEmail:(NSURL *)url
 
 - (void)prepareRedirection:(NSURL *)url completion:(SubmitDebugLogsCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     UIPasteboard *pb = [UIPasteboard generalPasteboard];
     [pb setString:url.absoluteString];
diff --git a/Signal/src/views/OWSAnyTouchGestureRecognizer.m b/Signal/src/views/OWSAnyTouchGestureRecognizer.m
index de47425bff8..879086bb1f1 100644
--- a/Signal/src/views/OWSAnyTouchGestureRecognizer.m
+++ b/Signal/src/views/OWSAnyTouchGestureRecognizer.m
@@ -40,7 +40,7 @@ - (void)touchesBegan:(NSSet<UITouch *> *)touches withEvent:(UIEvent *)event
 
 - (UIView *)rootViewInViewHierarchy:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
     UIResponder *responder = view;
     UIView *lastView = nil;
     while (responder) {
diff --git a/Signal/src/views/OWSBezierPathView.m b/Signal/src/views/OWSBezierPathView.m
index 119842eb77b..1426a19b6d2 100644
--- a/Signal/src/views/OWSBezierPathView.m
+++ b/Signal/src/views/OWSBezierPathView.m
@@ -60,14 +60,14 @@ - (void)setBounds:(CGRect)bounds
 
 - (void)setConfigureShapeLayerBlock:(ConfigureShapeLayerBlock)configureShapeLayerBlock
 {
-    OWSAssert(configureShapeLayerBlock);
+    OWSAssertDebug(configureShapeLayerBlock);
 
     [self setConfigureShapeLayerBlocks:@[ configureShapeLayerBlock ]];
 }
 
 - (void)setConfigureShapeLayerBlocks:(NSArray<ConfigureShapeLayerBlock> *)configureShapeLayerBlocks
 {
-    OWSAssert(configureShapeLayerBlocks.count > 0);
+    OWSAssertDebug(configureShapeLayerBlocks.count > 0);
 
     _configureShapeLayerBlocks = configureShapeLayerBlocks;
 
diff --git a/Signal/src/views/OWSDeviceTableViewCell.m b/Signal/src/views/OWSDeviceTableViewCell.m
index 222b4e38873..c4d418127da 100644
--- a/Signal/src/views/OWSDeviceTableViewCell.m
+++ b/Signal/src/views/OWSDeviceTableViewCell.m
@@ -13,7 +13,7 @@ @implementation OWSDeviceTableViewCell
 
 - (void)configureWithDevice:(OWSDevice *)device
 {
-    OWSAssert(device);
+    OWSAssertDebug(device);
 
     [OWSTableItem configureCell:self];
 
diff --git a/Signal/test/ViewControllers/ConversationViewItemTest.m b/Signal/test/ViewControllers/ConversationViewItemTest.m
index 97cdd2dc773..f9a8141d3ea 100644
--- a/Signal/test/ViewControllers/ConversationViewItemTest.m
+++ b/Signal/test/ViewControllers/ConversationViewItemTest.m
@@ -56,19 +56,19 @@ - (ConversationViewItem *)textViewItem
 
 - (ConversationViewItem *)viewItemWithAttachmentMimetype:(NSString *)mimeType filename:(NSString *)filename
 {
-    OWSAssert(filename.length > 0);
+    OWSAssertDebug(filename.length > 0);
 
     NSString *resourcePath = [[NSBundle bundleForClass:[self class]] resourcePath];
     NSString *filePath = [resourcePath stringByAppendingPathComponent:filename];
 
-    OWSAssert([[NSFileManager defaultManager] fileExistsAtPath:filePath]);
+    OWSAssertDebug([[NSFileManager defaultManager] fileExistsAtPath:filePath]);
 
     DataSource *dataSource = [DataSourcePath dataSourceWithFilePath:filePath shouldDeleteOnDeallocation:NO];
     TSAttachmentStream *attachment = [[TSAttachmentStream alloc] initWithContentType:mimeType
                                                                            byteCount:(UInt32)dataSource.dataLength
                                                                       sourceFilename:nil];
     BOOL success = [attachment writeDataSource:dataSource];
-    OWSAssert(success);
+    OWSAssertDebug(success);
     [attachment save];
     TSOutgoingMessage *message =
         [TSOutgoingMessage outgoingMessageInThread:self.thread messageBody:nil attachmentId:attachment.uniqueId];
diff --git a/Signal/test/util/OWSDatabaseConverterTest.m b/Signal/test/util/OWSDatabaseConverterTest.m
index f81248ecb79..2786ec8e6d0 100644
--- a/Signal/test/util/OWSDatabaseConverterTest.m
+++ b/Signal/test/util/OWSDatabaseConverterTest.m
@@ -66,9 +66,9 @@ - (void)openYapDatabase:(NSString *)databaseFilePath
         databaseKeySpec:(NSData *_Nullable)databaseKeySpec
           databaseBlock:(void (^_Nonnull)(YapDatabase *))databaseBlock
 {
-    OWSAssert(databaseFilePath.length > 0);
-    OWSAssert(databasePassword.length > 0 || databaseKeySpec.length > 0);
-    OWSAssert(databaseBlock);
+    OWSAssertDebug(databaseFilePath.length > 0);
+    OWSAssertDebug(databasePassword.length > 0 || databaseKeySpec.length > 0);
+    OWSAssertDebug(databaseBlock);
 
     OWSLogVerbose(@"openYapDatabase: %@", databaseFilePath);
     [DDLog flushLog];
@@ -102,17 +102,17 @@ - (void)openYapDatabase:(NSString *)databaseFilePath
             options.cipherUnencryptedHeaderLength = kSqliteHeaderLength;
         }
 
-        OWSAssert(options.cipherDefaultkdfIterNumber == 0);
-        OWSAssert(options.kdfIterNumber == 0);
-        OWSAssert(options.cipherPageSize == 0);
-        OWSAssert(options.pragmaPageSize == 0);
-        OWSAssert(options.pragmaJournalSizeLimit == 0);
+        OWSAssertDebug(options.cipherDefaultkdfIterNumber == 0);
+        OWSAssertDebug(options.kdfIterNumber == 0);
+        OWSAssertDebug(options.cipherPageSize == 0);
+        OWSAssertDebug(options.pragmaPageSize == 0);
+        OWSAssertDebug(options.pragmaJournalSizeLimit == 0);
 
         YapDatabase *database = [[YapDatabase alloc] initWithPath:databaseFilePath
                                                        serializer:nil
                                                      deserializer:[OWSStorage logOnFailureDeserializer]
                                                           options:options];
-        OWSAssert(database);
+        OWSAssertDebug(database);
 
         weakDatabase = database;
         snapshotQueue = database->snapshotQueue;
@@ -163,7 +163,7 @@ - (void)openYapDatabase:(NSString *)databaseFilePath
 
     // Verify that the database is indeed closed.
     YapDatabase *_Nullable strongDatabase = weakDatabase;
-    OWSAssert(!strongDatabase);
+    OWSAssertDebug(!strongDatabase);
 }
 
 - (void)createTestDatabase:(NSString *)databaseFilePath
@@ -171,10 +171,10 @@ - (void)createTestDatabase:(NSString *)databaseFilePath
               databaseSalt:(NSData *_Nullable)databaseSalt
            databaseKeySpec:(NSData *_Nullable)databaseKeySpec
 {
-    OWSAssert(databaseFilePath.length > 0);
-    OWSAssert(databasePassword.length > 0 || databaseKeySpec.length > 0);
+    OWSAssertDebug(databaseFilePath.length > 0);
+    OWSAssertDebug(databasePassword.length > 0 || databaseKeySpec.length > 0);
 
-    OWSAssert(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     [self openYapDatabase:databaseFilePath
          databasePassword:databasePassword
@@ -189,12 +189,12 @@ - (void)createTestDatabase:(NSString *)databaseFilePath
                 [dbConnection flushTransactionsWithCompletionQueue:dispatch_get_main_queue() completionBlock:nil];
             }];
 
-    OWSAssert([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     NSError *_Nullable error = nil;
     NSDictionary *fileAttributes =
         [[NSFileManager defaultManager] attributesOfItemAtPath:databaseFilePath error:&error];
-    OWSAssert(fileAttributes && !error);
+    OWSAssertDebug(fileAttributes && !error);
     OWSLogVerbose(@"test database file size: %@", fileAttributes[NSFileSize]);
 }
 
@@ -203,10 +203,10 @@ - (BOOL)verifyTestDatabase:(NSString *)databaseFilePath
               databaseSalt:(NSData *_Nullable)databaseSalt
            databaseKeySpec:(NSData *_Nullable)databaseKeySpec
 {
-    OWSAssert(databaseFilePath.length > 0);
-    OWSAssert(databasePassword.length > 0 || databaseKeySpec.length > 0);
+    OWSAssertDebug(databaseFilePath.length > 0);
+    OWSAssertDebug(databasePassword.length > 0 || databaseKeySpec.length > 0);
 
-    OWSAssert([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     __block BOOL isValid = NO;
     [self openYapDatabase:databaseFilePath
@@ -219,7 +219,7 @@ - (BOOL)verifyTestDatabase:(NSString *)databaseFilePath
                 isValid = [@(YES) isEqual:value];
             }];
 
-    OWSAssert([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug([[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     return isValid;
 }
@@ -245,7 +245,7 @@ - (nullable NSString *)createDatabase:(NSData *_Nullable)databasePassword
                          databaseSalt:(NSData *_Nullable)databaseSalt
                       databaseKeySpec:(NSData *_Nullable)databaseKeySpec
 {
-    OWSAssert(databasePassword.length > 0 || databaseKeySpec.length > 0);
+    OWSAssertDebug(databasePassword.length > 0 || databaseKeySpec.length > 0);
 
     NSString *databaseFilePath = [self createTempDatabaseFilePath];
 
@@ -261,7 +261,7 @@ - (nullable NSString *)createDatabase:(NSData *_Nullable)databasePassword
                            databasePassword:databasePassword
                                databaseSalt:databaseSalt
                             databaseKeySpec:databaseKeySpec];
-    OWSAssert(isValid);
+    OWSAssertDebug(isValid);
 
     return databaseFilePath;
 }
@@ -305,8 +305,8 @@ - (void)testDatabaseConversion_WithoutKeyspec
     __block NSData *_Nullable databaseSalt = nil;
     __block NSData *_Nullable databaseKeySpec = nil;
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(!databaseSalt);
-        OWSAssert(saltData);
+        OWSAssertDebug(!databaseSalt);
+        OWSAssertDebug(saltData);
 
         databaseSalt = saltData;
         databaseKeySpec = [YapDatabaseCryptoUtils deriveDatabaseKeySpecForPassword:databasePassword saltData:saltData];
@@ -346,8 +346,8 @@ - (void)testDatabaseConversion_WithKeyspec
 
     __block NSData *_Nullable databaseKeySpec = nil;
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(!databaseSalt);
-        OWSAssert(saltData);
+        OWSAssertDebug(!databaseSalt);
+        OWSAssertDebug(saltData);
         
         databaseSalt = saltData;
         databaseKeySpec = [YapDatabaseCryptoUtils deriveDatabaseKeySpecForPassword:databasePassword saltData:saltData];
@@ -389,8 +389,8 @@ - (void)testDatabaseConversionDoesNotProceedWhenRecordingSaltFails
 
     __block NSData *_Nullable databaseKeySpec = nil;
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(!databaseSalt);
-        OWSAssert(saltData);
+        OWSAssertDebug(!databaseSalt);
+        OWSAssertDebug(saltData);
 
         // Simulate a failure to record the new salt, e.g. if KDF returns nil
         return NO;
@@ -438,8 +438,8 @@ - (void)testDatabaseConversionPerformance_WithKeyspec
     __block NSData *_Nullable databaseSalt = nil;
     __block NSData *_Nullable databaseKeySpec = nil;
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(!databaseSalt);
-        OWSAssert(saltData);
+        OWSAssertDebug(!databaseSalt);
+        OWSAssertDebug(saltData);
 
         databaseSalt = saltData;
         databaseKeySpec = [YapDatabaseCryptoUtils deriveDatabaseKeySpecForPassword:databasePassword saltData:saltData];
@@ -485,7 +485,7 @@ - (void)testDatabaseCreation_WithoutKeySpec
     XCTAssertFalse([YapDatabaseCryptoUtils doesDatabaseNeedToBeConverted:databaseFilePath]);
 
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(saltData);
+        OWSAssertDebug(saltData);
 
         XCTFail(@"No conversion should be necessary");
         return NO;
@@ -518,7 +518,7 @@ - (void)testDatabaseCreation_WithKeySpec
     XCTAssertFalse([YapDatabaseCryptoUtils doesDatabaseNeedToBeConverted:databaseFilePath]);
 
     YapRecordDatabaseSaltBlock recordSaltBlock = ^(NSData *saltData) {
-        OWSAssert(saltData);
+        OWSAssertDebug(saltData);
 
         XCTFail(@"No conversion should be necessary");
         return NO;
@@ -549,7 +549,7 @@ - (void)testConversionWithoutYapDatabase
 
     NSString *databaseFilePath = [self createTempDatabaseFilePath];
 
-    OWSAssert(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     NSData *keyData = [self randomDatabasePassword];
 
@@ -706,7 +706,7 @@ - (void)testNewUserWithoutYapDatabase
 
     NSString *databaseFilePath = [self createTempDatabaseFilePath];
 
-    OWSAssert(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     NSData *keyData = [self randomDatabasePassword];
     NSData *databaseSalt = [self randomDatabaseSalt];
@@ -800,7 +800,7 @@ - (void)testNewUserLikeYapDatabase
 
     NSString *databaseFilePath = [self createTempDatabaseFilePath];
 
-    OWSAssert(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
+    OWSAssertDebug(![[NSFileManager defaultManager] fileExistsAtPath:databaseFilePath]);
 
     NSData *keyData = [self randomDatabasePassword];
     NSData *databaseSalt = [self randomDatabaseSalt];
@@ -927,12 +927,12 @@ - (void)testNewUserLikeYapDatabase
 - (void)logHeaderOfDatabaseFile:(NSString *)databaseFilePath
                           label:(NSString *)label
 {
-    OWSAssert(databaseFilePath.length > 0);
-    OWSAssert(label.length > 0);
+    OWSAssertDebug(databaseFilePath.length > 0);
+    OWSAssertDebug(label.length > 0);
 
     NSData *headerData =
         [YapDatabaseCryptoUtils readFirstNBytesOfDatabaseFile:databaseFilePath byteCount:kSqliteHeaderLength];
-    OWSAssert(headerData);
+    OWSAssertDebug(headerData);
     NSMutableString *output = [NSMutableString new];
     [output appendFormat:@"Hex: %@, ", headerData.hexadecimalString];
     [output appendString:@"Ascii: "];
@@ -991,7 +991,7 @@ - (void)createTestDatabase:(NSString *)databaseFilePath
 - (void)storeTestPasswordInKeychain:(NSData *)password
 {
     // legacy password length
-    OWSAssert(password.length == 30);
+    OWSAssertDebug(password.length == 30);
     [OWSStorage storeKeyChainValue:password keychainKey:@"_OWSTestingPassword"];
 }
 
@@ -999,17 +999,17 @@ - (nullable NSData *)fetchTestPasswordFromKeychain
 {
     NSError *error;
     NSData *password = [OWSStorage tryToLoadKeyChainValue:@"_OWSTestingPassword" errorHandle:&error];
-    OWSAssert(password);
-    OWSAssert(!error);
+    OWSAssertDebug(password);
+    OWSAssertDebug(!error);
     // legacy password length
-    OWSAssert(password.length == 30);
+    OWSAssertDebug(password.length == 30);
 
     return password;
 }
 
 - (void)storeTestSaltInKeychain:(NSData *)salt
 {
-    OWSAssert(salt.length == kSQLCipherSaltLength);
+    OWSAssertDebug(salt.length == kSQLCipherSaltLength);
     [OWSStorage storeKeyChainValue:salt keychainKey:@"_OWSTestingSalt"];
 }
 
@@ -1017,15 +1017,15 @@ - (nullable NSData *)fetchTestSaltFromKeychain
 {
     NSError *error;
     NSData *salt = [OWSStorage tryToLoadKeyChainValue:@"_OWSTestingSalt" errorHandle:&error];
-    OWSAssert(salt);
-    OWSAssert(!error);
-    OWSAssert(salt.length == kSQLCipherSaltLength);
+    OWSAssertDebug(salt);
+    OWSAssertDebug(!error);
+    OWSAssertDebug(salt.length == kSQLCipherSaltLength);
     return salt;
 }
 
 - (void)storeTestKeySpecInKeychain:(NSData *)keySpec
 {
-    OWSAssert(keySpec.length == kSQLCipherKeySpecLength);
+    OWSAssertDebug(keySpec.length == kSQLCipherKeySpecLength);
     [OWSStorage storeKeyChainValue:keySpec keychainKey:@"_OWSTestingKeySpec"];
 }
 
@@ -1033,9 +1033,9 @@ - (nullable NSData *)fetchTestKeySpecFromKeychain
 {
     NSError *error;
     NSData *keySpec = [OWSStorage tryToLoadKeyChainValue:@"_OWSTestingKeySpec" errorHandle:&error];
-    OWSAssert(keySpec);
-    OWSAssert(!error);
-    OWSAssert(keySpec.length == kSQLCipherKeySpecLength);
+    OWSAssertDebug(keySpec);
+    OWSAssertDebug(!error);
+    OWSAssertDebug(keySpec.length == kSQLCipherKeySpecLength);
 
     return keySpec;
 }
diff --git a/SignalMessaging/Models/OWSContactOffersInteraction.m b/SignalMessaging/Models/OWSContactOffersInteraction.m
index 02a39c11dc4..6be86f2e1cc 100644
--- a/SignalMessaging/Models/OWSContactOffersInteraction.m
+++ b/SignalMessaging/Models/OWSContactOffersInteraction.m
@@ -29,7 +29,7 @@ - (instancetype)initContactOffersWithTimestamp:(uint64_t)timestamp
     _hasBlockOffer = hasBlockOffer;
     _hasAddToContactsOffer = hasAddToContactsOffer;
     _hasAddToProfileWhitelistOffer = hasAddToProfileWhitelistOffer;
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
     _recipientId = recipientId;
 
     return self;
diff --git a/SignalMessaging/ViewControllers/CountryCodeViewController.m b/SignalMessaging/ViewControllers/CountryCodeViewController.m
index 6feb61702e0..e5a7b7f5603 100644
--- a/SignalMessaging/ViewControllers/CountryCodeViewController.m
+++ b/SignalMessaging/ViewControllers/CountryCodeViewController.m
@@ -67,10 +67,10 @@ - (void)updateTableContents
     OWSTableSection *section = [OWSTableSection new];
 
     for (NSString *countryCode in self.countryCodes) {
-        OWSAssert(countryCode.length > 0);
-        OWSAssert([PhoneNumberUtil countryNameFromCountryCode:countryCode].length > 0);
-        OWSAssert([PhoneNumberUtil callingCodeFromCountryCode:countryCode].length > 0);
-        OWSAssert(![[PhoneNumberUtil callingCodeFromCountryCode:countryCode] isEqualToString:@"+0"]);
+        OWSAssertDebug(countryCode.length > 0);
+        OWSAssertDebug([PhoneNumberUtil countryNameFromCountryCode:countryCode].length > 0);
+        OWSAssertDebug([PhoneNumberUtil callingCodeFromCountryCode:countryCode].length > 0);
+        OWSAssertDebug(![[PhoneNumberUtil callingCodeFromCountryCode:countryCode] isEqualToString:@"+0"]);
 
         [section addItem:[OWSTableItem
                              itemWithCustomCellBlock:^{
@@ -99,7 +99,7 @@ - (void)updateTableContents
 
 - (void)countryCodeWasSelected:(NSString *)countryCode
 {
-    OWSAssert(countryCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
 
     NSString *callingCodeSelected = [PhoneNumberUtil callingCodeFromCountryCode:countryCode];
     NSString *countryNameSelected = [PhoneNumberUtil countryNameFromCountryCode:countryCode];
diff --git a/SignalMessaging/ViewControllers/NewNonContactConversationViewController.m b/SignalMessaging/ViewControllers/NewNonContactConversationViewController.m
index 6eace1c5072..f6d458c752a 100644
--- a/SignalMessaging/ViewControllers/NewNonContactConversationViewController.m
+++ b/SignalMessaging/ViewControllers/NewNonContactConversationViewController.m
@@ -48,21 +48,21 @@ - (NSString *)contactsSectionTitle
 
 - (void)phoneNumberWasSelected:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
 
     [self selectRecipient:phoneNumber];
 }
 
 - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     [self selectRecipient:signalAccount.recipientId];
 }
 
 - (void)selectRecipient:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.nonContactConversationDelegate recipientIdWasSelected:recipientId];
 }
diff --git a/SignalMessaging/ViewControllers/OWSNavigationController.m b/SignalMessaging/ViewControllers/OWSNavigationController.m
index 54093153b84..9c45f4ca3ff 100644
--- a/SignalMessaging/ViewControllers/OWSNavigationController.m
+++ b/SignalMessaging/ViewControllers/OWSNavigationController.m
@@ -78,7 +78,7 @@ - (void)viewDidLoad
 // if a view has unsaved changes.
 - (BOOL)navigationBar:(UINavigationBar *)navigationBar shouldPopItem:(UINavigationItem *)item
 {
-    OWSAssert(self.interactivePopGestureRecognizer.delegate == self);
+    OWSAssertDebug(self.interactivePopGestureRecognizer.delegate == self);
     UIViewController *topViewController = self.topViewController;
 
     // wasBackButtonClicked is YES if the back button was pressed but not
@@ -110,7 +110,7 @@ - (BOOL)navigationBar:(UINavigationBar *)navigationBar shouldPopItem:(UINavigati
 // if a view has unsaved changes.
 - (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
 {
-    OWSAssert(gestureRecognizer == self.interactivePopGestureRecognizer);
+    OWSAssertDebug(gestureRecognizer == self.interactivePopGestureRecognizer);
 
     UIViewController *topViewController = self.topViewController;
     if ([topViewController conformsToProtocol:@protocol(OWSNavigationView)]) {
diff --git a/SignalMessaging/ViewControllers/OWSTableViewController.m b/SignalMessaging/ViewControllers/OWSTableViewController.m
index abca77dbce9..52d1840bd50 100644
--- a/SignalMessaging/ViewControllers/OWSTableViewController.m
+++ b/SignalMessaging/ViewControllers/OWSTableViewController.m
@@ -32,7 +32,7 @@ - (instancetype)init
 
 - (void)addSection:(OWSTableSection *)section
 {
-    OWSAssert(section);
+    OWSAssertDebug(section);
 
     [_sections addObject:section];
 }
@@ -69,7 +69,7 @@ - (instancetype)init
 
 - (void)addItem:(OWSTableItem *)item
 {
-    OWSAssert(item);
+    OWSAssertDebug(item);
 
     [_items addObject:item];
 }
@@ -120,7 +120,7 @@ + (void)configureCell:(UITableViewCell *)cell
 
 + (OWSTableItem *)itemWithTitle:(NSString *)title actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(title.length > 0);
+    OWSAssertDebug(title.length > 0);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -132,8 +132,8 @@ + (OWSTableItem *)itemWithCustomCell:(UITableViewCell *)customCell
                      customRowHeight:(CGFloat)customRowHeight
                          actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(customCell);
-    OWSAssert(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
+    OWSAssertDebug(customCell);
+    OWSAssertDebug(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -146,7 +146,7 @@ + (OWSTableItem *)itemWithCustomCellBlock:(OWSTableCustomCellBlock)customCellBlo
                           customRowHeight:(CGFloat)customRowHeight
                               actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
+    OWSAssertDebug(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
 
     OWSTableItem *item = [self itemWithCustomCellBlock:customCellBlock actionBlock:actionBlock];
     item.customRowHeight = @(customRowHeight);
@@ -156,7 +156,7 @@ + (OWSTableItem *)itemWithCustomCellBlock:(OWSTableCustomCellBlock)customCellBlo
 + (OWSTableItem *)itemWithCustomCellBlock:(OWSTableCustomCellBlock)customCellBlock
                               actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(customCellBlock);
+    OWSAssertDebug(customCellBlock);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -178,8 +178,8 @@ + (OWSTableItem *)itemWithText:(NSString *)text
                    actionBlock:(nullable OWSTableActionBlock)actionBlock
                  accessoryType:(UITableViewCellAccessoryType)accessoryType
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(actionBlock);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(actionBlock);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -196,7 +196,7 @@ + (OWSTableItem *)disclosureItemWithText:(NSString *)text
                          customRowHeight:(CGFloat)customRowHeight
                              actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
+    OWSAssertDebug(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
 
     OWSTableItem *item = [self disclosureItemWithText:text actionBlock:actionBlock];
     item.customRowHeight = @(customRowHeight);
@@ -207,8 +207,8 @@ + (OWSTableItem *)disclosureItemWithText:(NSString *)text
                               detailText:(NSString *)detailText
                              actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(actionBlock);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(actionBlock);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -226,15 +226,15 @@ + (OWSTableItem *)disclosureItemWithText:(NSString *)text
 
 + (OWSTableItem *)subPageItemWithText:(NSString *)text actionBlock:(nullable OWSTableSubPageBlock)actionBlock
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(actionBlock);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(actionBlock);
 
     OWSTableItem *item = [OWSTableItem new];
     __weak OWSTableItem *weakItem = item;
     item.actionBlock = ^{
         OWSTableItem *strongItem = weakItem;
-        OWSAssert(strongItem);
-        OWSAssert(strongItem.tableViewController);
+        OWSAssertDebug(strongItem);
+        OWSAssertDebug(strongItem.tableViewController);
 
         if (actionBlock) {
             actionBlock(strongItem.tableViewController);
@@ -253,7 +253,7 @@ + (OWSTableItem *)subPageItemWithText:(NSString *)text
                       customRowHeight:(CGFloat)customRowHeight
                           actionBlock:(nullable OWSTableSubPageBlock)actionBlock
 {
-    OWSAssert(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
+    OWSAssertDebug(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
 
     OWSTableItem *item = [self subPageItemWithText:text actionBlock:actionBlock];
     item.customRowHeight = @(customRowHeight);
@@ -262,8 +262,8 @@ + (OWSTableItem *)subPageItemWithText:(NSString *)text
 
 + (OWSTableItem *)actionItemWithText:(NSString *)text actionBlock:(nullable OWSTableActionBlock)actionBlock
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(actionBlock);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(actionBlock);
 
     OWSTableItem *item = [OWSTableItem new];
     item.actionBlock = actionBlock;
@@ -277,7 +277,7 @@ + (OWSTableItem *)actionItemWithText:(NSString *)text actionBlock:(nullable OWST
 
 + (OWSTableItem *)softCenterLabelItemWithText:(NSString *)text
 {
-    OWSAssert(text.length > 0);
+    OWSAssertDebug(text.length > 0);
 
     OWSTableItem *item = [OWSTableItem new];
     item.customCellBlock = ^{
@@ -300,7 +300,7 @@ + (OWSTableItem *)softCenterLabelItemWithText:(NSString *)text
 
 + (OWSTableItem *)softCenterLabelItemWithText:(NSString *)text customRowHeight:(CGFloat)customRowHeight
 {
-    OWSAssert(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
+    OWSAssertDebug(customRowHeight > 0 || customRowHeight == UITableViewAutomaticDimension);
 
     OWSTableItem *item = [self softCenterLabelItemWithText:text];
     item.customRowHeight = @(customRowHeight);
@@ -309,7 +309,7 @@ + (OWSTableItem *)softCenterLabelItemWithText:(NSString *)text customRowHeight:(
 
 + (OWSTableItem *)labelItemWithText:(NSString *)text
 {
-    OWSAssert(text.length > 0);
+    OWSAssertDebug(text.length > 0);
 
     OWSTableItem *item = [OWSTableItem new];
     item.customCellBlock = ^{
@@ -323,8 +323,8 @@ + (OWSTableItem *)labelItemWithText:(NSString *)text
 
 + (OWSTableItem *)labelItemWithText:(NSString *)text accessoryText:(NSString *)accessoryText
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(accessoryText.length > 0);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(accessoryText.length > 0);
 
     OWSTableItem *item = [OWSTableItem new];
     item.customCellBlock = ^{
@@ -356,9 +356,9 @@ + (OWSTableItem *)switchItemWithText:(NSString *)text
                               target:(id)target
                             selector:(SEL)selector
 {
-    OWSAssert(text.length > 0);
-    OWSAssert(target);
-    OWSAssert(selector);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(target);
+    OWSAssertDebug(selector);
 
     OWSTableItem *item = [OWSTableItem new];
     __weak id weakTarget = target;
@@ -452,7 +452,7 @@ - (void)loadView
 {
     [super loadView];
 
-    OWSAssert(self.contents);
+    OWSAssertDebug(self.contents);
 
     if (self.contents.title.length > 0) {
         self.title = self.contents.title;
@@ -503,8 +503,8 @@ - (void)viewWillAppear:(BOOL)animated
 
 - (OWSTableSection *)sectionForIndex:(NSInteger)sectionIndex
 {
-    OWSAssert(self.contents);
-    OWSAssert(sectionIndex >= 0 && sectionIndex < (NSInteger)self.contents.sections.count);
+    OWSAssertDebug(self.contents);
+    OWSAssertDebug(sectionIndex >= 0 && sectionIndex < (NSInteger)self.contents.sections.count);
 
     OWSTableSection *section = self.contents.sections[(NSUInteger)sectionIndex];
     return section;
@@ -512,11 +512,11 @@ - (OWSTableSection *)sectionForIndex:(NSInteger)sectionIndex
 
 - (OWSTableItem *)itemForIndexPath:(NSIndexPath *)indexPath
 {
-    OWSAssert(self.contents);
-    OWSAssert(indexPath.section >= 0 && indexPath.section < (NSInteger)self.contents.sections.count);
+    OWSAssertDebug(self.contents);
+    OWSAssertDebug(indexPath.section >= 0 && indexPath.section < (NSInteger)self.contents.sections.count);
 
     OWSTableSection *section = self.contents.sections[(NSUInteger)indexPath.section];
-    OWSAssert(indexPath.item >= 0 && indexPath.item < (NSInteger)section.items.count);
+    OWSAssertDebug(indexPath.item >= 0 && indexPath.item < (NSInteger)section.items.count);
     OWSTableItem *item = section.items[(NSUInteger)indexPath.item];
 
     return item;
@@ -524,7 +524,7 @@ - (OWSTableItem *)itemForIndexPath:(NSIndexPath *)indexPath
 
 - (void)setContents:(OWSTableContents *)contents
 {
-    OWSAssert(contents);
+    OWSAssertDebug(contents);
     OWSAssertIsOnMainThread();
 
     _contents = contents;
@@ -536,14 +536,14 @@ - (void)setContents:(OWSTableContents *)contents
 
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
 {
-    OWSAssert(self.contents);
+    OWSAssertDebug(self.contents);
     return (NSInteger)self.contents.sections.count;
 }
 
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)sectionIndex
 {
     OWSTableSection *section = [self sectionForIndex:sectionIndex];
-    OWSAssert(section.items);
+    OWSAssertDebug(section.items);
     return (NSInteger)section.items.count;
 }
 
@@ -571,7 +571,7 @@ - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(N
     }
 
     UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:kOWSTableCellIdentifier];
-    OWSAssert(cell);
+    OWSAssertDebug(cell);
     [OWSTableItem configureCell:cell];
 
     cell.textLabel.text = item.title;
@@ -610,7 +610,7 @@ - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSIntege
     }
 
     if (section.customHeaderHeight) {
-        OWSAssert([section.customHeaderHeight floatValue] > 0);
+        OWSAssertDebug([section.customHeaderHeight floatValue] > 0);
         return [section.customHeaderHeight floatValue];
     } else if (section.headerTitle.length > 0) {
         return UITableViewAutomaticDimension;
@@ -628,7 +628,7 @@ - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSIntege
     }
 
     if (section.customFooterHeight) {
-        OWSAssert([section.customFooterHeight floatValue] > 0);
+        OWSAssertDebug([section.customFooterHeight floatValue] > 0);
         return [section.customFooterHeight floatValue];
     } else if (section.footerTitle.length > 0) {
         return UITableViewAutomaticDimension;
@@ -682,7 +682,7 @@ - (NSInteger)tableView:(UITableView *)tableView sectionForSectionIndexTitle:(NSS
 
 - (void)presentFromViewController:(UIViewController *)fromViewController
 {
-    OWSAssert(fromViewController);
+    OWSAssertDebug(fromViewController);
 
     OWSNavigationController *navigationController = [[OWSNavigationController alloc] initWithRootViewController:self];
     self.navigationItem.leftBarButtonItem =
diff --git a/SignalMessaging/ViewControllers/OWSViewController.m b/SignalMessaging/ViewControllers/OWSViewController.m
index aaf942cc448..9846aecf84d 100644
--- a/SignalMessaging/ViewControllers/OWSViewController.m
+++ b/SignalMessaging/ViewControllers/OWSViewController.m
@@ -64,8 +64,8 @@ - (void)viewDidLoad
 
 - (void)autoPinViewToBottomOfViewControllerOrKeyboard:(UIView *)view avoidNotch:(BOOL)avoidNotch
 {
-    OWSAssert(view);
-    OWSAssert(!self.bottomLayoutConstraint);
+    OWSAssertDebug(view);
+    OWSAssertDebug(!self.bottomLayoutConstraint);
 
     [[NSNotificationCenter defaultCenter] addObserver:self
                                              selector:@selector(keyboardWillShow:)
diff --git a/SignalMessaging/ViewControllers/SelectRecipientViewController.m b/SignalMessaging/ViewControllers/SelectRecipientViewController.m
index 005484384fd..29caf72b42f 100644
--- a/SignalMessaging/ViewControllers/SelectRecipientViewController.m
+++ b/SignalMessaging/ViewControllers/SelectRecipientViewController.m
@@ -70,7 +70,7 @@ - (void)loadView
 
 - (void)viewDidLoad
 {
-    OWSAssert(self.tableViewController);
+    OWSAssertDebug(self.tableViewController);
 
     [super viewDidLoad];
 }
@@ -87,7 +87,7 @@ - (void)viewDidAppear:(BOOL)animated
 
 - (void)createViews
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     _tableViewController = [OWSTableViewController new];
     _tableViewController.delegate = self;
@@ -212,13 +212,13 @@ - (UIView *)createRowWithHeight:(CGFloat)height
 - (void)populateDefaultCountryNameAndCode
 {
     PhoneNumber *localNumber = [PhoneNumber phoneNumberFromE164:[TSAccountManager localNumber]];
-    OWSAssert(localNumber);
+    OWSAssertDebug(localNumber);
 
     NSString *countryCode;
     NSNumber *callingCode;
     if (localNumber) {
         callingCode = [localNumber getCountryCode];
-        OWSAssert(callingCode);
+        OWSAssertDebug(callingCode);
         if (callingCode) {
             NSString *prefix = [NSString stringWithFormat:@"+%d", callingCode.intValue];
             countryCode = [[PhoneNumberUtil sharedThreadLocal] probableCountryCodeForCallingCode:prefix];
@@ -283,7 +283,7 @@ - (void)phoneNumberButtonPressed
 
 - (void)tryToSelectPhoneNumber
 {
-    OWSAssert(self.delegate);
+    OWSAssertDebug(self.delegate);
 
     if (![self hasValidPhoneNumber]) {
         OWSFailDebug(@"Invalid phone number was selected.");
@@ -307,7 +307,7 @@ - (void)tryToSelectPhoneNumber
 
     // There should only be one phone number, since we're explicitly specifying
     // a country code and therefore parsing a number in e164 format.
-    OWSAssert([possiblePhoneNumbers count] == 1);
+    OWSAssertDebug([possiblePhoneNumbers count] == 1);
 
     if ([self.delegate shouldValidatePhoneNumbers]) {
         // Show an alert while validating the recipient.
@@ -403,9 +403,9 @@ - (void)countryCodeViewController:(CountryCodeViewController *)vc
                       countryName:(NSString *)countryName
                       callingCode:(NSString *)callingCode
 {
-    OWSAssert(countryCode.length > 0);
-    OWSAssert(countryName.length > 0);
-    OWSAssert(callingCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
+    OWSAssertDebug(countryName.length > 0);
+    OWSAssertDebug(callingCode.length > 0);
 
     [self updateCountryWithName:countryName callingCode:callingCode countryCode:countryCode];
 
@@ -456,7 +456,7 @@ - (void)updateTableContents
     const CGFloat kButtonRowHeight = 60;
     [phoneNumberSection addItem:[OWSTableItem itemWithCustomCellBlock:^{
         SelectRecipientViewController *strongSelf = weakSelf;
-        OWSCAssert(strongSelf);
+        OWSCAssertDebug(strongSelf);
 
         UITableViewCell *cell = [OWSTableItem newCell];
         cell.preservesSuperviewLayoutMargins = YES;
@@ -539,7 +539,7 @@ - (void)updateTableContents
                     addItem:[OWSTableItem
                                 itemWithCustomCellBlock:^{
                                     SelectRecipientViewController *strongSelf = weakSelf;
-                                    OWSCAssert(strongSelf);
+                                    OWSCAssertDebug(strongSelf);
 
                                     ContactTableViewCell *cell = [ContactTableViewCell new];
                                     BOOL isBlocked = [helper isRecipientIdBlocked:signalAccount.recipientId];
diff --git a/SignalMessaging/ViewControllers/SelectThreadViewController.m b/SignalMessaging/ViewControllers/SelectThreadViewController.m
index ae7f32dd52a..359e8c191aa 100644
--- a/SignalMessaging/ViewControllers/SelectThreadViewController.m
+++ b/SignalMessaging/ViewControllers/SelectThreadViewController.m
@@ -84,7 +84,7 @@ - (void)loadView
 
 - (void)createViews
 {
-    OWSAssert(self.selectThreadViewDelegate);
+    OWSAssertDebug(self.selectThreadViewDelegate);
 
     // Search
     UISearchBar *searchBar = [OWSSearchBar new];
@@ -191,7 +191,7 @@ - (void)updateTableContents
             addItem:[OWSTableItem
                         itemWithCustomCellBlock:^{
                             SelectThreadViewController *strongSelf = weakSelf;
-                            OWSCAssert(strongSelf);
+                            OWSCAssertDebug(strongSelf);
 
                             // To be consistent with the threads (above), we use ContactTableViewCell
                             // instead of HomeViewCell to present contacts and threads.
@@ -273,7 +273,7 @@ - (void)updateTableContents
             addItem:[OWSTableItem
                         itemWithCustomCellBlock:^{
                             SelectThreadViewController *strongSelf = weakSelf;
-                            OWSCAssert(strongSelf);
+                            OWSCAssertDebug(strongSelf);
 
                             ContactTableViewCell *cell = [ContactTableViewCell new];
                             BOOL isBlocked = [helper isRecipientIdBlocked:signalAccount.recipientId];
@@ -309,8 +309,8 @@ - (void)updateTableContents
 
 - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
-    OWSAssert(self.selectThreadViewDelegate);
+    OWSAssertDebug(signalAccount);
+    OWSAssertDebug(self.selectThreadViewDelegate);
 
     ContactsViewHelper *helper = self.contactsViewHelper;
 
@@ -334,7 +334,7 @@ - (void)signalAccountWasSelected:(SignalAccount *)signalAccount
     [OWSPrimaryStorage.dbReadWriteConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
         thread = [TSContactThread getOrCreateThreadWithContactId:signalAccount.recipientId transaction:transaction];
     }];
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [self.selectThreadViewDelegate threadWasSelected:thread];
 }
diff --git a/SignalMessaging/ViewControllers/SharingThreadPickerViewController.m b/SignalMessaging/ViewControllers/SharingThreadPickerViewController.m
index f5cee206f7e..d3261b1a72d 100644
--- a/SignalMessaging/ViewControllers/SharingThreadPickerViewController.m
+++ b/SignalMessaging/ViewControllers/SharingThreadPickerViewController.m
@@ -82,7 +82,7 @@ - (BOOL)canSelectBlockedContact
 
 - (nullable UIView *)createHeaderWithSearchBar:(UISearchBar *)searchBar
 {
-    OWSAssert(searchBar);
+    OWSAssertDebug(searchBar);
 
     const CGFloat contentVMargin = 0;
 
@@ -135,7 +135,7 @@ - (nullable NSString *)convertAttachmentToMessageTextIfPossible
         return nil;
     }
     NSData *data = self.attachment.data;
-    OWSAssert(data.length < kOversizeTextMessageSizeThreshold);
+    OWSAssertDebug(data.length < kOversizeTextMessageSizeThreshold);
     NSString *_Nullable messageText = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
     OWSLogVerbose(@"messageTextForAttachment: %@", messageText);
     return [messageText filterStringForDisplay];
@@ -143,8 +143,8 @@ - (nullable NSString *)convertAttachmentToMessageTextIfPossible
 
 - (void)threadWasSelected:(TSThread *)thread
 {
-    OWSAssert(self.attachment);
-    OWSAssert(thread);
+    OWSAssertDebug(self.attachment);
+    OWSAssertDebug(thread);
 
     self.thread = thread;
 
@@ -172,9 +172,9 @@ - (void)threadWasSelected:(TSThread *)thread
 
 - (void)showContactShareApproval
 {
-    OWSAssert(self.attachment);
-    OWSAssert(self.thread);
-    OWSAssert(self.attachment.isConvertibleToContactShare);
+    OWSAssertDebug(self.attachment);
+    OWSAssertDebug(self.thread);
+    OWSAssertDebug(self.attachment.isConvertibleToContactShare);
 
     NSData *data = self.attachment.data;
 
@@ -262,7 +262,7 @@ - (void)attachmentApproval:(AttachmentApprovalViewController *)attachmentApprova
 - (void)messageApproval:(MessageApprovalViewController *)approvalViewController
       didApproveMessage:(NSString *)messageText
 {
-    OWSAssert(messageText.length > 0);
+    OWSAssertDebug(messageText.length > 0);
 
     [ThreadUtil addThreadToProfileWhitelistIfEmptyContactThread:self.thread];
     [self tryToSendMessageWithBlock:^(SendCompletionBlock sendCompletion) {
@@ -397,9 +397,9 @@ - (void)showSendFailureAlertWithError:(NSError *)error
                    fromViewController:(UIViewController *)fromViewController
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(error);
-    OWSAssert(message);
-    OWSAssert(fromViewController);
+    OWSAssertDebug(error);
+    OWSAssertDebug(message);
+    OWSAssertDebug(fromViewController);
 
     NSString *failureTitle = NSLocalizedString(@"SHARE_EXTENSION_SENDING_FAILURE_TITLE", @"Alert title");
 
@@ -472,9 +472,9 @@ - (void)confirmIdentityAndResendMessage:(TSOutgoingMessage *)message
                      fromViewController:(UIViewController *)fromViewController
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(message);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(fromViewController);
+    OWSAssertDebug(message);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(fromViewController);
 
     OWSLogDebug(@"Confirming identity for recipient: %@", recipientId);
 
@@ -500,7 +500,7 @@ - (void)confirmIdentityAndResendMessage:(TSOutgoingMessage *)message
                 OWSLogInfo(@"marked recipient: %@ as default verification status.", recipientId);
                 NSData *identityKey =
                     [[OWSIdentityManager sharedManager] identityKeyForRecipientId:recipientId transaction:transaction];
-                OWSAssert(identityKey);
+                OWSAssertDebug(identityKey);
                 [[OWSIdentityManager sharedManager] setVerificationState:OWSVerificationStateDefault
                                                              identityKey:identityKey
                                                              recipientId:recipientId
@@ -519,8 +519,8 @@ - (void)confirmIdentityAndResendMessage:(TSOutgoingMessage *)message
 - (void)resendMessage:(TSOutgoingMessage *)message fromViewController:(UIViewController *)fromViewController
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(message);
-    OWSAssert(fromViewController);
+    OWSAssertDebug(message);
+    OWSAssertDebug(fromViewController);
 
     NSString *progressTitle = NSLocalizedString(@"SHARE_EXTENSION_SENDING_IN_PROGRESS_TITLE", @"Alert title");
     UIAlertController *progressAlert = [UIAlertController alertControllerWithTitle:progressTitle
@@ -565,7 +565,7 @@ - (void)attachmentUploadProgress:(NSNotification *)notification
 {
     OWSLogDebug(@"upload progress.");
     OWSAssertIsOnMainThread();
-    OWSAssert(self.progressView);
+    OWSAssertDebug(self.progressView);
 
     if (!self.outgoingMessage) {
         OWSLogDebug(@"Ignoring upload progress until there is an outgoing message.");
diff --git a/SignalMessaging/ViewControllers/ViewControllerUtils.m b/SignalMessaging/ViewControllers/ViewControllerUtils.m
index 180e74f8342..157411b01c1 100644
--- a/SignalMessaging/ViewControllers/ViewControllerUtils.m
+++ b/SignalMessaging/ViewControllers/ViewControllerUtils.m
@@ -129,11 +129,11 @@ + (void)ows2FAPINTextField:(UITextField *)textField
 
 + (NSString *)examplePhoneNumberForCountryCode:(NSString *)countryCode callingCode:(NSString *)callingCode
 {
-    OWSAssert(countryCode.length > 0);
-    OWSAssert(callingCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
+    OWSAssertDebug(callingCode.length > 0);
 
     NSString *examplePhoneNumber = [PhoneNumberUtil examplePhoneNumberForCountryCode:countryCode];
-    OWSAssert(!examplePhoneNumber || [examplePhoneNumber hasPrefix:callingCode]);
+    OWSAssertDebug(!examplePhoneNumber || [examplePhoneNumber hasPrefix:callingCode]);
     if (examplePhoneNumber && [examplePhoneNumber hasPrefix:callingCode]) {
         NSString *formattedPhoneNumber =
             [PhoneNumber bestEffortFormatPartialUserSpecifiedTextToLookLikeAPhoneNumber:examplePhoneNumber
diff --git a/SignalMessaging/ViewModels/OWSQuotedReplyModel.m b/SignalMessaging/ViewModels/OWSQuotedReplyModel.m
index 35c1cea7ffb..1d600a2720b 100644
--- a/SignalMessaging/ViewModels/OWSQuotedReplyModel.m
+++ b/SignalMessaging/ViewModels/OWSQuotedReplyModel.m
@@ -75,7 +75,7 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
 + (instancetype)quotedReplyWithQuotedMessage:(TSQuotedMessage *)quotedMessage
                                  transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(quotedMessage.quotedAttachments.count <= 1);
+    OWSAssertDebug(quotedMessage.quotedAttachments.count <= 1);
     OWSAttachmentInfo *attachmentInfo = quotedMessage.quotedAttachments.firstObject;
 
     BOOL thumbnailDownloadFailed = NO;
@@ -118,8 +118,8 @@ + (instancetype)quotedReplyWithQuotedMessage:(TSQuotedMessage *)quotedMessage
 + (nullable instancetype)quotedReplyForSendingWithConversationViewItem:(ConversationViewItem *)conversationItem
                                                            transaction:(YapDatabaseReadTransaction *)transaction;
 {
-    OWSAssert(conversationItem);
-    OWSAssert(transaction);
+    OWSAssertDebug(conversationItem);
+    OWSAssertDebug(transaction);
 
     TSMessage *message = (TSMessage *)conversationItem.interaction;
     if (![message isKindOfClass:[TSMessage class]]) {
@@ -128,7 +128,7 @@ + (nullable instancetype)quotedReplyForSendingWithConversationViewItem:(Conversa
     }
 
     TSThread *thread = [message threadWithTransaction:transaction];
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     uint64_t timestamp = message.timestamp;
 
@@ -142,7 +142,7 @@ + (nullable instancetype)quotedReplyForSendingWithConversationViewItem:(Conversa
             return (NSString * _Nullable) nil;
         }
     }();
-    OWSAssert(authorId.length > 0);
+    OWSAssertDebug(authorId.length > 0);
     
     if (conversationItem.contactShare) {
         ContactShareViewModel *contactShare = conversationItem.contactShare;
diff --git a/SignalMessaging/Views/ContactCellView.m b/SignalMessaging/Views/ContactCellView.m
index 591a72ebae5..8ee98f1536c 100644
--- a/SignalMessaging/Views/ContactCellView.m
+++ b/SignalMessaging/Views/ContactCellView.m
@@ -48,7 +48,7 @@ - (instancetype)init
 
 - (void)configure
 {
-    OWSAssert(!self.nameLabel);
+    OWSAssertDebug(!self.nameLabel);
 
     self.layoutMargins = UIEdgeInsetsZero;
 
@@ -105,8 +105,8 @@ - (void)configureFontsAndColors
 
 - (void)configureWithRecipientId:(NSString *)recipientId contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(contactsManager);
 
     // Update fonts to reflect changes to dynamic type.
     [self configureFontsAndColors];
@@ -135,7 +135,7 @@ - (void)configureWithRecipientId:(NSString *)recipientId contactsManager:(OWSCon
 
 - (void)configureWithThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
     self.thread = thread;
     
     // Update fonts to reflect changes to dynamic type.
@@ -196,7 +196,7 @@ - (void)updateAvatar
         if (self.thread) {
             return self.thread.conversationColorName;
         } else {
-            OWSAssert(self.recipientId);
+            OWSAssertDebug(self.recipientId);
             return [TSThread stableConversationColorNameForString:self.recipientId];
         }
     }();
@@ -255,7 +255,7 @@ - (void)otherUsersProfileDidChange:(NSNotification *)notification
     OWSAssertIsOnMainThread();
 
     NSString *recipientId = notification.userInfo[kNSNotificationKey_ProfileRecipientId];
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     if (recipientId.length > 0 && [self.recipientId isEqualToString:recipientId]) {
         [self updateProfileName];
@@ -291,9 +291,9 @@ - (BOOL)hasAccessoryText
 
 - (void)setAccessoryView:(UIView *)accessoryView
 {
-    OWSAssert(accessoryView);
-    OWSAssert(self.accessoryViewContainer);
-    OWSAssert(self.accessoryViewContainer.subviews.count < 1);
+    OWSAssertDebug(accessoryView);
+    OWSAssertDebug(self.accessoryViewContainer);
+    OWSAssertDebug(self.accessoryViewContainer.subviews.count < 1);
 
     [self.accessoryViewContainer addSubview:accessoryView];
 
diff --git a/SignalMessaging/Views/ContactTableViewCell.m b/SignalMessaging/Views/ContactTableViewCell.m
index 7c5c3a7c814..862966824a4 100644
--- a/SignalMessaging/Views/ContactTableViewCell.m
+++ b/SignalMessaging/Views/ContactTableViewCell.m
@@ -42,7 +42,7 @@ - (void)setAccessoryView:(nullable UIView *)accessoryView
 
 - (void)configure
 {
-    OWSAssert(!self.cellView);
+    OWSAssertDebug(!self.cellView);
 
     self.preservesSuperviewLayoutMargins = YES;
     self.contentView.preservesSuperviewLayoutMargins = YES;
@@ -65,7 +65,7 @@ - (void)configureWithRecipientId:(NSString *)recipientId contactsManager:(OWSCon
 
 - (void)configureWithThread:(TSThread *)thread contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     [OWSTableItem configureCell:self];
 
@@ -77,7 +77,7 @@ - (void)configureWithThread:(TSThread *)thread contactsManager:(OWSContactsManag
 
 - (void)setAccessoryMessage:(nullable NSString *)accessoryMessage
 {
-    OWSAssert(self.cellView);
+    OWSAssertDebug(self.cellView);
 
     self.cellView.accessoryMessage = accessoryMessage;
 }
diff --git a/SignalMessaging/Views/ContactsViewHelper.m b/SignalMessaging/Views/ContactsViewHelper.m
index 60da33f7f51..0390255effc 100644
--- a/SignalMessaging/Views/ContactsViewHelper.m
+++ b/SignalMessaging/Views/ContactsViewHelper.m
@@ -47,7 +47,7 @@ - (instancetype)initWithDelegate:(id<ContactsViewHelperDelegate>)delegate
         return self;
     }
 
-    OWSAssert(delegate);
+    OWSAssertDebug(delegate);
     _delegate = delegate;
 
     _blockingManager = [OWSBlockingManager sharedManager];
@@ -105,14 +105,14 @@ - (void)blockedPhoneNumbersDidChange:(id)notification
 - (nullable SignalAccount *)fetchSignalAccountForRecipientId:(NSString *)recipientId
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return self.signalAccountMap[recipientId];
 }
 
 - (SignalAccount *)fetchOrBuildSignalAccountForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     return (signalAccount ?: [[SignalAccount alloc] initWithRecipientId:recipientId]);
@@ -201,8 +201,8 @@ - (void)updateContacts
 
 - (BOOL)doesContact:(Contact *)contact matchSearchTerm:(NSString *)searchTerm
 {
-    OWSAssert(contact);
-    OWSAssert(searchTerm.length > 0);
+    OWSAssertDebug(contact);
+    OWSAssertDebug(searchTerm.length > 0);
 
     if ([contact.fullName.lowercaseString containsString:searchTerm.lowercaseString]) {
         return YES;
@@ -222,8 +222,8 @@ - (BOOL)doesContact:(Contact *)contact matchSearchTerm:(NSString *)searchTerm
 
 - (BOOL)doesContact:(Contact *)contact matchSearchTerms:(NSArray<NSString *> *)searchTerms
 {
-    OWSAssert(contact);
-    OWSAssert(searchTerms.count > 0);
+    OWSAssertDebug(contact);
+    OWSAssertDebug(searchTerms.count > 0);
 
     for (NSString *searchTerm in searchTerms) {
         if (![self doesContact:contact matchSearchTerm:searchTerm]) {
diff --git a/SignalMessaging/Views/ThreadViewHelper.m b/SignalMessaging/Views/ThreadViewHelper.m
index ee77a86e639..289155f4914 100644
--- a/SignalMessaging/Views/ThreadViewHelper.m
+++ b/SignalMessaging/Views/ThreadViewHelper.m
@@ -191,7 +191,7 @@ - (void)updateThreads
     NSMutableArray<TSThread *> *threads = [NSMutableArray new];
     [self.uiDatabaseConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
         NSUInteger numberOfSections = [self.threadMappings numberOfSections];
-        OWSAssert(numberOfSections == 1);
+        OWSAssertDebug(numberOfSections == 1);
         for (NSUInteger section = 0; section < numberOfSections; section++) {
             NSUInteger numberOfItems = [self.threadMappings numberOfItemsInSection:section];
             for (NSUInteger item = 0; item < numberOfItems; item++) {
diff --git a/SignalMessaging/attachments/AttachmentSharing.m b/SignalMessaging/attachments/AttachmentSharing.m
index 8ccd63b90e2..da9b9e6b2e0 100644
--- a/SignalMessaging/attachments/AttachmentSharing.m
+++ b/SignalMessaging/attachments/AttachmentSharing.m
@@ -14,7 +14,7 @@ @implementation AttachmentSharing
 
 + (void)showShareUIForAttachment:(TSAttachmentStream *)stream
 {
-    OWSAssert(stream);
+    OWSAssertDebug(stream);
 
     [self showShareUIForURL:stream.mediaURL];
 }
@@ -26,7 +26,7 @@ + (void)showShareUIForURL:(NSURL *)url
 
 + (void)showShareUIForURL:(NSURL *)url completion:(nullable AttachmentSharingCompletion)completion
 {
-    OWSAssert(url);
+    OWSAssertDebug(url);
 
     [AttachmentSharing showShareUIForActivityItems:@[
         url,
@@ -41,7 +41,7 @@ + (void)showShareUIForText:(NSString *)text
 
 + (void)showShareUIForText:(NSString *)text completion:(nullable AttachmentSharingCompletion)completion
 {
-    OWSAssert(text);
+    OWSAssertDebug(text);
 
     [AttachmentSharing showShareUIForActivityItems:@[
         text,
@@ -52,7 +52,7 @@ + (void)showShareUIForText:(NSString *)text completion:(nullable AttachmentShari
 #ifdef DEBUG
 + (void)showShareUIForUIImage:(UIImage *)image
 {
-    OWSAssert(image);
+    OWSAssertDebug(image);
 
     [AttachmentSharing showShareUIForActivityItems:@[
         image,
@@ -63,7 +63,7 @@ + (void)showShareUIForUIImage:(UIImage *)image
 
 + (void)showShareUIForActivityItems:(NSArray *)activityItems completion:(nullable AttachmentSharingCompletion)completion
 {
-    OWSAssert(activityItems);
+    OWSAssertDebug(activityItems);
 
     DispatchMainThreadSafe(^{
         UIActivityViewController *activityViewController =
@@ -89,7 +89,7 @@ + (void)showShareUIForActivityItems:(NSArray *)activityItems completion:(nullabl
         while (fromViewController.presentedViewController) {
             fromViewController = fromViewController.presentedViewController;
         }
-        OWSAssert(fromViewController);
+        OWSAssertDebug(fromViewController);
         [fromViewController presentViewController:activityViewController animated:YES completion:nil];
     });
 }
diff --git a/SignalMessaging/categories/NSAttributedString+OWS.m b/SignalMessaging/categories/NSAttributedString+OWS.m
index bd6d3fa939e..968b5136c29 100644
--- a/SignalMessaging/categories/NSAttributedString+OWS.m
+++ b/SignalMessaging/categories/NSAttributedString+OWS.m
@@ -12,8 +12,8 @@ @implementation NSAttributedString (OWS)
 
 - (NSAttributedString *)rtlSafeAppend:(NSString *)text attributes:(NSDictionary *)attributes
 {
-    OWSAssert(text);
-    OWSAssert(attributes);
+    OWSAssertDebug(text);
+    OWSAssertDebug(attributes);
 
     NSAttributedString *substring = [[NSAttributedString alloc] initWithString:text attributes:attributes];
     return [self rtlSafeAppend:substring];
@@ -21,7 +21,7 @@ - (NSAttributedString *)rtlSafeAppend:(NSString *)text attributes:(NSDictionary
 
 - (NSAttributedString *)rtlSafeAppend:(NSAttributedString *)string
 {
-    OWSAssert(string);
+    OWSAssertDebug(string);
 
     NSMutableAttributedString *result = [NSMutableAttributedString new];
     if (CurrentAppContext().isRTL) {
diff --git a/SignalMessaging/categories/NSString+OWS.m b/SignalMessaging/categories/NSString+OWS.m
index 0cc97b1f69f..1a51b65bb53 100644
--- a/SignalMessaging/categories/NSString+OWS.m
+++ b/SignalMessaging/categories/NSString+OWS.m
@@ -17,7 +17,7 @@ - (NSString *)ows_stripped
 
 - (NSString *)rtlSafeAppend:(NSString *)string
 {
-    OWSAssert(string);
+    OWSAssertDebug(string);
 
     if (CurrentAppContext().isRTL) {
         return [string stringByAppendingString:self];
@@ -28,7 +28,7 @@ - (NSString *)rtlSafeAppend:(NSString *)string
 
 - (NSString *)removeAllCharactersIn:(NSCharacterSet *)characterSet
 {
-    OWSAssert(characterSet);
+    OWSAssertDebug(characterSet);
 
     return [[self componentsSeparatedByCharactersInSet:characterSet] componentsJoinedByString:@""];
 }
diff --git a/SignalMessaging/categories/UIColor+OWS.m b/SignalMessaging/categories/UIColor+OWS.m
index 7caee12ddf7..5fcda92fdd4 100644
--- a/SignalMessaging/categories/UIColor+OWS.m
+++ b/SignalMessaging/categories/UIColor+OWS.m
@@ -110,14 +110,14 @@ - (UIColor *)blendWithColor:(UIColor *)otherColor alpha:(CGFloat)alpha
     BOOL result =
 #endif
         [self getRed:&r0 green:&g0 blue:&b0 alpha:&a0];
-    OWSAssert(result);
+    OWSAssertDebug(result);
 
     CGFloat r1, g1, b1, a1;
 #ifdef DEBUG
     result =
 #endif
         [otherColor getRed:&r1 green:&g1 blue:&b1 alpha:&a1];
-    OWSAssert(result);
+    OWSAssertDebug(result);
 
     return [UIColor colorWithRed:CGFloatLerp(r0, r1, alpha)
                            green:CGFloatLerp(g0, g1, alpha)
@@ -306,7 +306,7 @@ + (UIColor *)ows_darkSkyBlueColor
 
 + (nullable UIColor *)ows_conversationColorForColorName:(NSString *)colorName
 {
-    OWSAssert(colorName.length > 0);
+    OWSAssertDebug(colorName.length > 0);
 
     return [self.ows_conversationColorMap objectForKey:colorName];
 }
diff --git a/SignalMessaging/categories/UIFont+OWS.m b/SignalMessaging/categories/UIFont+OWS.m
index 2c214108f47..2cd08f62843 100644
--- a/SignalMessaging/categories/UIFont+OWS.m
+++ b/SignalMessaging/categories/UIFont+OWS.m
@@ -113,7 +113,7 @@ - (UIFont *)styleWithSymbolicTraits:(UIFontDescriptorSymbolicTraits)symbolicTrai
 {
     UIFontDescriptor *fontDescriptor = [self.fontDescriptor fontDescriptorWithSymbolicTraits:symbolicTraits];
     UIFont *font = [UIFont fontWithDescriptor:fontDescriptor size:0];
-    OWSAssert(font);
+    OWSAssertDebug(font);
     return font ?: self;
 }
 
diff --git a/SignalMessaging/categories/UIView+OWS.m b/SignalMessaging/categories/UIView+OWS.m
index 439b0a5eaa8..de441a4206f 100644
--- a/SignalMessaging/categories/UIView+OWS.m
+++ b/SignalMessaging/categories/UIView+OWS.m
@@ -113,7 +113,7 @@ - (NSLayoutConstraint *)autoVCenterInSuperview
 
 - (void)autoPinWidthToWidthOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     [self autoPinEdge:ALEdgeLeft toEdge:ALEdgeLeft ofView:view];
     [self autoPinEdge:ALEdgeRight toEdge:ALEdgeRight ofView:view];
@@ -121,7 +121,7 @@ - (void)autoPinWidthToWidthOfView:(UIView *)view
 
 - (void)autoPinHeightToHeightOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     [self autoPinEdge:ALEdgeTop toEdge:ALEdgeTop ofView:view];
     [self autoPinEdge:ALEdgeBottom toEdge:ALEdgeBottom ofView:view];
@@ -252,7 +252,7 @@ - (CGFloat)height
 
 - (void)centerOnSuperview
 {
-    OWSAssert(self.superview);
+    OWSAssertDebug(self.superview);
 
     CGFloat x = (CGFloat)round((self.superview.width - self.width) * 0.5f);
     CGFloat y = (CGFloat)round((self.superview.height - self.height) * 0.5f);
@@ -323,14 +323,14 @@ - (NSLayoutConstraint *)autoPinTopToSuperviewMarginWithInset:(CGFloat)inset
 
 - (NSLayoutConstraint *)autoPinLeadingToTrailingEdgeOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     return [self autoPinLeadingToTrailingEdgeOfView:view offset:0];
 }
 
 - (NSLayoutConstraint *)autoPinLeadingToTrailingEdgeOfView:(UIView *)view offset:(CGFloat)offset
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     self.translatesAutoresizingMaskIntoConstraints = NO;
 
@@ -341,14 +341,14 @@ - (NSLayoutConstraint *)autoPinLeadingToTrailingEdgeOfView:(UIView *)view offset
 
 - (NSLayoutConstraint *)autoPinTrailingToLeadingEdgeOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     return [self autoPinTrailingToLeadingEdgeOfView:view offset:0];
 }
 
 - (NSLayoutConstraint *)autoPinTrailingToLeadingEdgeOfView:(UIView *)view offset:(CGFloat)offset
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     self.translatesAutoresizingMaskIntoConstraints = NO;
 
@@ -359,14 +359,14 @@ - (NSLayoutConstraint *)autoPinTrailingToLeadingEdgeOfView:(UIView *)view offset
 
 - (NSLayoutConstraint *)autoPinLeadingToEdgeOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     return [self autoPinLeadingToEdgeOfView:view offset:0];
 }
 
 - (NSLayoutConstraint *)autoPinLeadingToEdgeOfView:(UIView *)view offset:(CGFloat)offset
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     self.translatesAutoresizingMaskIntoConstraints = NO;
 
@@ -377,14 +377,14 @@ - (NSLayoutConstraint *)autoPinLeadingToEdgeOfView:(UIView *)view offset:(CGFloa
 
 - (NSLayoutConstraint *)autoPinTrailingToEdgeOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     return [self autoPinTrailingToEdgeOfView:view offset:0];
 }
 
 - (NSLayoutConstraint *)autoPinTrailingToEdgeOfView:(UIView *)view offset:(CGFloat)margin
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     self.translatesAutoresizingMaskIntoConstraints = NO;
 
@@ -408,7 +408,7 @@ - (void)setHLayoutMargins:(CGFloat)value
 
 - (NSArray<NSLayoutConstraint *> *)autoPinToEdgesOfView:(UIView *)view
 {
-    OWSAssert(view);
+    OWSAssertDebug(view);
 
     return @[
         [self autoPinEdge:ALEdgeTop toEdge:ALEdgeTop ofView:view],
@@ -514,7 +514,7 @@ - (void)logHierarchyUpwardLaterWithLabel:(NSString *)label
 - (void)traverseViewHierarchyWithVisitor:(UIViewVisitorBlock)visitor
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(visitor);
+    OWSAssertDebug(visitor);
 
     visitor(self);
 
diff --git a/SignalMessaging/categories/UIViewController+OWS.m b/SignalMessaging/categories/UIViewController+OWS.m
index 34b83d9491a..33a8a15082c 100644
--- a/SignalMessaging/categories/UIViewController+OWS.m
+++ b/SignalMessaging/categories/UIViewController+OWS.m
@@ -50,8 +50,8 @@ - (UIBarButtonItem *)createOWSBackButtonWithTarget:(id)target selector:(SEL)sele
 
 + (UIBarButtonItem *)createOWSBackButtonWithTarget:(id)target selector:(SEL)selector
 {
-    OWSAssert(target);
-    OWSAssert(selector);
+    OWSAssertDebug(target);
+    OWSAssertDebug(selector);
 
     UIButton *backButton = [UIButton buttonWithType:UIButtonTypeCustom];
     BOOL isRTL = CurrentAppContext().isRTL;
@@ -75,7 +75,7 @@ + (UIBarButtonItem *)createOWSBackButtonWithTarget:(id)target selector:(SEL)sele
 
     UIImage *backImage = [[UIImage imageNamed:(isRTL ? @"NavBarBackRTL" : @"NavBarBack")]
         imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];
-    OWSAssert(backImage);
+    OWSAssertDebug(backImage);
     [backButton setImage:backImage forState:UIControlStateNormal];
     backButton.tintColor = Theme.navbarIconColor;
 
diff --git a/SignalMessaging/contacts/OWSContactsManager.m b/SignalMessaging/contacts/OWSContactsManager.m
index 3793b8e40e9..3edef44282f 100644
--- a/SignalMessaging/contacts/OWSContactsManager.m
+++ b/SignalMessaging/contacts/OWSContactsManager.m
@@ -158,7 +158,7 @@ - (BOOL)supportsContactEditing
 
 - (nullable CNContact *)cnContactWithId:(nullable NSString *)contactId
 {
-    OWSAssert(self.cnContactCache);
+    OWSAssertDebug(self.cnContactCache);
 
     if (!contactId) {
         return nil;
@@ -187,7 +187,7 @@ - (nullable NSData *)avatarDataForCNContactId:(nullable NSString *)contactId
 
 - (nullable UIImage *)avatarImageForCNContactId:(nullable NSString *)contactId
 {
-    OWSAssert(self.cnContactAvatarCache);
+    OWSAssertDebug(self.cnContactAvatarCache);
 
     if (!contactId) {
         return nil;
@@ -242,7 +242,7 @@ - (void)systemContactsFetcher:(SystemContactsFetcher *)systemContactsFetcher
 
 - (NSSet<NSString *> *)recipientIdsForIntersectionWithContacts:(NSArray<Contact *> *)contacts
 {
-    OWSAssert(contacts);
+    OWSAssertDebug(contacts);
 
     NSMutableSet<NSString *> *recipientIds = [NSMutableSet set];
 
@@ -259,8 +259,8 @@ - (void)intersectContacts:(NSArray<Contact *> *)contacts
           isUserRequested:(BOOL)isUserRequested
                completion:(void (^)(NSError *_Nullable error))completion
 {
-    OWSAssert(contacts);
-    OWSAssert(completion);
+    OWSAssertDebug(contacts);
+    OWSAssertDebug(completion);
 
     dispatch_async(self.serialQueue, ^{
         __block BOOL isFullIntersection = YES;
@@ -299,7 +299,7 @@ - (void)intersectContacts:(NSArray<Contact *> *)contacts
                 }
             }
         }];
-        OWSAssert(recipientIdsForIntersection);
+        OWSAssertDebug(recipientIdsForIntersection);
 
         if (recipientIdsForIntersection.count < 1) {
             OWSLogInfo(@"Skipping intersection; no contacts to intersect.");
@@ -329,7 +329,7 @@ - (void)intersectContacts:(NSArray<Contact *> *)contacts
 - (void)markIntersectionAsComplete:(NSSet<NSString *> *)recipientIdsForIntersection
                 isFullIntersection:(BOOL)isFullIntersection
 {
-    OWSAssert(recipientIdsForIntersection.count > 0);
+    OWSAssertDebug(recipientIdsForIntersection.count > 0);
 
     dispatch_async(self.serialQueue, ^{
         [self.dbReadConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -355,10 +355,10 @@ - (void)intersectContacts:(NSSet<NSString *> *)recipientIds
                   success:(void (^)(NSSet<SignalRecipient *> *))successParameter
                   failure:(void (^)(NSError *))failureParameter
 {
-    OWSAssert(recipientIds.count > 0);
-    OWSAssert(retryDelaySeconds > 0);
-    OWSAssert(successParameter);
-    OWSAssert(failureParameter);
+    OWSAssertDebug(recipientIds.count > 0);
+    OWSAssertDebug(retryDelaySeconds > 0);
+    OWSAssertDebug(successParameter);
+    OWSAssertDebug(failureParameter);
 
     void (^success)(NSArray<SignalRecipient *> *) = ^(NSArray<SignalRecipient *> *registeredRecipientIds) {
         OWSLogInfo(@"Successfully intersected contacts.");
@@ -401,7 +401,7 @@ - (void)otherUsersProfileWillChange:(NSNotification *)notification
     OWSAssertIsOnMainThread();
 
     NSString *recipientId = notification.userInfo[kNSNotificationKey_ProfileRecipientId];
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.avatarCache removeAllImagesForKey:recipientId];
 }
@@ -482,7 +482,7 @@ - (void)buildSignalAccountsAndClearStaleCache:(BOOL)shouldClearStaleCache
             [SignalAccount
                 enumerateCollectionObjectsWithTransaction:transaction
                                                usingBlock:^(id _Nonnull object, BOOL *_Nonnull stop) {
-                                                   OWSAssert([object isKindOfClass:[SignalAccount class]]);
+                                                   OWSAssertDebug([object isKindOfClass:[SignalAccount class]]);
                                                    SignalAccount *oldSignalAccount = (SignalAccount *)object;
 
                                                    oldSignalAccounts[oldSignalAccount.uniqueId] = oldSignalAccount;
@@ -582,7 +582,7 @@ - (OWSProfileManager *)profileManager
 
 - (NSString *_Nullable)cachedContactNameForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     if (!signalAccount) {
@@ -610,7 +610,7 @@ - (NSString *_Nullable)cachedContactNameForRecipientId:(NSString *)recipientId
 
 - (NSString *_Nullable)cachedFirstNameForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     return signalAccount.contact.firstName.filterStringForDisplay;
@@ -618,7 +618,7 @@ - (NSString *_Nullable)cachedFirstNameForRecipientId:(NSString *)recipientId
 
 - (NSString *_Nullable)cachedLastNameForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     return signalAccount.contact.lastName.filterStringForDisplay;
@@ -629,9 +629,9 @@ - (NSString *_Nullable)cachedLastNameForRecipientId:(NSString *)recipientId
 // TODO move into Contact class.
 + (NSString *)accountLabelForContact:(Contact *)contact recipientId:(NSString *)recipientId
 {
-    OWSAssert(contact);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert([contact.textSecureIdentifiers containsObject:recipientId]);
+    OWSAssertDebug(contact);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug([contact.textSecureIdentifiers containsObject:recipientId]);
 
     if (contact.textSecureIdentifiers.count <= 1) {
         return nil;
@@ -648,7 +648,7 @@ + (NSString *)accountLabelForContact:(Contact *)contact recipientId:(NSString *)
         }
     }
 
-    OWSAssert([phoneNumbersWithTheSameName containsObject:recipientId]);
+    OWSAssertDebug([phoneNumbersWithTheSameName containsObject:recipientId]);
     if (phoneNumbersWithTheSameName.count > 1) {
         NSUInteger index =
             [[phoneNumbersWithTheSameName sortedArrayUsingSelector:@selector((compare:))] indexOfObject:recipientId];
@@ -673,14 +673,14 @@ - (BOOL)phoneNumber:(PhoneNumber *)phoneNumber1 matchesNumber:(PhoneNumber *)pho
 
 - (BOOL)isSystemContact:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return self.allContactsMap[recipientId] != nil;
 }
 
 - (BOOL)isSystemContactWithSignalAccount:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     return [self hasSignalAccountForRecipientId:recipientId];
 }
@@ -737,23 +737,23 @@ - (NSString *_Nonnull)displayNameForPhoneIdentifier:(NSString *_Nullable)recipie
 
 - (NSString *_Nonnull)displayNameForSignalAccount:(SignalAccount *)signalAccount
 {
-    OWSAssert(signalAccount);
+    OWSAssertDebug(signalAccount);
 
     return [self displayNameForPhoneIdentifier:signalAccount.recipientId];
 }
 
 - (NSAttributedString *_Nonnull)formattedDisplayNameForSignalAccount:(SignalAccount *)signalAccount font:(UIFont *)font
 {
-    OWSAssert(signalAccount);
-    OWSAssert(font);
+    OWSAssertDebug(signalAccount);
+    OWSAssertDebug(font);
 
     return [self formattedFullNameForRecipientId:signalAccount.recipientId font:font];
 }
 
 - (NSAttributedString *)formattedFullNameForRecipientId:(NSString *)recipientId font:(UIFont *)font
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(font);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(font);
 
     UIFont *boldFont = [UIFont ows_mediumFontWithSize:font.pointSize];
 
@@ -819,7 +819,7 @@ - (NSAttributedString *)formattedFullNameForRecipientId:(NSString *)recipientId
     // Append unique label for contacts with multiple Signal accounts
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     if (signalAccount && signalAccount.multipleAccountLabelText) {
-        OWSAssert(signalAccount.multipleAccountLabelText.length > 0);
+        OWSAssertDebug(signalAccount.multipleAccountLabelText.length > 0);
 
         [formattedName
             appendAttributedString:[[NSAttributedString alloc] initWithString:@" (" attributes:normalFontAttributes]];
@@ -866,8 +866,8 @@ - (NSAttributedString *)attributedContactOrProfileNameForPhoneIdentifier:(NSStri
                                                              primaryFont:(UIFont *)primaryFont
                                                            secondaryFont:(UIFont *)secondaryFont
 {
-    OWSAssert(primaryFont);
-    OWSAssert(secondaryFont);
+    OWSAssertDebug(primaryFont);
+    OWSAssertDebug(secondaryFont);
 
     return [self attributedContactOrProfileNameForPhoneIdentifier:(NSString *)recipientId
                                                 primaryAttributes:@{
@@ -882,8 +882,8 @@ - (NSAttributedString *)attributedContactOrProfileNameForPhoneIdentifier:(NSStri
                                                        primaryAttributes:(NSDictionary *)primaryAttributes
                                                      secondaryAttributes:(NSDictionary *)secondaryAttributes
 {
-    OWSAssert(primaryAttributes.count > 0);
-    OWSAssert(secondaryAttributes.count > 0);
+    OWSAssertDebug(primaryAttributes.count > 0);
+    OWSAssertDebug(secondaryAttributes.count > 0);
 
     // Prefer a saved name from system contacts, if available
     NSString *_Nullable savedContactName = [self cachedContactNameForRecipientId:recipientId];
@@ -936,7 +936,7 @@ - (NSString *)stringForConversationTitleWithPhoneIdentifier:(NSString *)recipien
 
 - (nullable SignalAccount *)fetchSignalAccountForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block SignalAccount *signalAccount = self.signalAccountMap[recipientId];
 
@@ -953,7 +953,7 @@ - (nullable SignalAccount *)fetchSignalAccountForRecipientId:(NSString *)recipie
 
 - (SignalAccount *)fetchOrBuildSignalAccountForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalAccount *_Nullable signalAccount = [self fetchSignalAccountForRecipientId:recipientId];
     return (signalAccount ?: [[SignalAccount alloc] initWithRecipientId:recipientId]);
diff --git a/SignalMessaging/contacts/OWSContactsSyncing.m b/SignalMessaging/contacts/OWSContactsSyncing.m
index db4580a34fa..7665197f0cb 100644
--- a/SignalMessaging/contacts/OWSContactsSyncing.m
+++ b/SignalMessaging/contacts/OWSContactsSyncing.m
@@ -64,9 +64,9 @@ - (instancetype)initWithContactsManager:(OWSContactsManager *)contactsManager
         return self;
     }
 
-    OWSAssert(contactsManager);
-    OWSAssert(messageSender);
-    OWSAssert(identityManager);
+    OWSAssertDebug(contactsManager);
+    OWSAssertDebug(messageSender);
+    OWSAssertDebug(identityManager);
 
     _contactsManager = contactsManager;
     _identityManager = identityManager;
diff --git a/SignalMessaging/environment/AppSetup.m b/SignalMessaging/environment/AppSetup.m
index 4064b9f2a18..f09279f4bca 100644
--- a/SignalMessaging/environment/AppSetup.m
+++ b/SignalMessaging/environment/AppSetup.m
@@ -22,9 +22,9 @@ + (void)setupEnvironmentWithCallMessageHandlerBlock:(CallMessageHandlerBlock)cal
                          notificationsProtocolBlock:(NotificationsManagerBlock)notificationsManagerBlock
                                 migrationCompletion:(dispatch_block_t)migrationCompletion
 {
-    OWSAssert(callMessageHandlerBlock);
-    OWSAssert(notificationsManagerBlock);
-    OWSAssert(migrationCompletion);
+    OWSAssertDebug(callMessageHandlerBlock);
+    OWSAssertDebug(notificationsManagerBlock);
+    OWSAssertDebug(migrationCompletion);
 
     __block OWSBackgroundTask *_Nullable backgroundTask =
         [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
@@ -58,7 +58,7 @@ + (void)setupEnvironmentWithCallMessageHandlerBlock:(CallMessageHandlerBlock)cal
 
                 migrationCompletion();
 
-                OWSAssert(backgroundTask);
+                OWSAssertDebug(backgroundTask);
                 backgroundTask = nil;
             }];
         }];
diff --git a/SignalMessaging/environment/Environment.m b/SignalMessaging/environment/Environment.m
index f8d2300940e..248820f1e2e 100644
--- a/SignalMessaging/environment/Environment.m
+++ b/SignalMessaging/environment/Environment.m
@@ -31,7 +31,7 @@ @implementation Environment
 
 + (Environment *)current
 {
-    OWSAssert(sharedEnvironment);
+    OWSAssertDebug(sharedEnvironment);
 
     return sharedEnvironment;
 }
@@ -42,8 +42,8 @@ + (void)setCurrent:(Environment *)environment
     //
     // App extensions may be opened multiple times in the same process,
     // so statics will persist.
-    OWSAssert(!sharedEnvironment || !CurrentAppContext().isMainApp);
-    OWSAssert(environment);
+    OWSAssertDebug(!sharedEnvironment || !CurrentAppContext().isMainApp);
+    OWSAssertDebug(environment);
 
     sharedEnvironment = environment;
 }
@@ -75,35 +75,35 @@ - (instancetype)initWithContactsManager:(OWSContactsManager *)contactsManager
 
 - (OWSContactsManager *)contactsManager
 {
-    OWSAssert(_contactsManager);
+    OWSAssertDebug(_contactsManager);
 
     return _contactsManager;
 }
 
 - (ContactsUpdater *)contactsUpdater
 {
-    OWSAssert(_contactsUpdater);
+    OWSAssertDebug(_contactsUpdater);
 
     return _contactsUpdater;
 }
 
 - (TSNetworkManager *)networkManager
 {
-    OWSAssert(_networkManager);
+    OWSAssertDebug(_networkManager);
 
     return _networkManager;
 }
 
 - (OWSMessageSender *)messageSender
 {
-    OWSAssert(_messageSender);
+    OWSAssertDebug(_messageSender);
 
     return _messageSender;
 }
 
 + (OWSPreferences *)preferences
 {
-    OWSAssert([Environment current].preferences);
+    OWSAssertDebug([Environment current].preferences);
 
     return [Environment current].preferences;
 }
diff --git a/SignalMessaging/environment/OWSSounds.m b/SignalMessaging/environment/OWSSounds.m
index db8fc1fa973..591ff6300ec 100644
--- a/SignalMessaging/environment/OWSSounds.m
+++ b/SignalMessaging/environment/OWSSounds.m
@@ -39,8 +39,8 @@ - (instancetype)initWithURL:(NSURL *)url
 
     SystemSoundID newSoundID;
     OSStatus status = AudioServicesCreateSystemSoundID((__bridge CFURLRef _Nonnull)(url), &newSoundID);
-    OWSAssert(status == kAudioServicesNoError);
-    OWSAssert(newSoundID);
+    OWSAssertDebug(status == kAudioServicesNoError);
+    OWSAssertDebug(newSoundID);
     _soundID = newSoundID;
 
     return self;
@@ -50,7 +50,7 @@ - (void)dealloc
 {
     OWSLogDebug(@"in dealloc disposing sound: %@", _soundURL.lastPathComponent);
     OSStatus status = AudioServicesDisposeSystemSoundID(_soundID);
-    OWSAssert(status == kAudioServicesNoError);
+    OWSAssertDebug(status == kAudioServicesNoError);
 }
 
 @end
@@ -91,7 +91,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
         return self;
     }
 
-    OWSAssert(primaryStorage);
+    OWSAssertDebug(primaryStorage);
 
     _dbConnection = primaryStorage.newDatabaseConnection;
 
@@ -253,7 +253,7 @@ + (nullable NSURL *)soundURLForSound:(OWSSound)sound quiet:(BOOL)quiet
     }
     NSURL *_Nullable url = [[NSBundle mainBundle] URLForResource:filename.stringByDeletingPathExtension
                                                    withExtension:filename.pathExtension];
-    OWSAssert(url);
+    OWSAssertDebug(url);
     return url;
 }
 
@@ -268,7 +268,7 @@ - (SystemSoundID)systemSoundIDForSound:(OWSSound)sound quiet:(BOOL)quiet
     OWSSystemSound *_Nullable cachedSound = (OWSSystemSound *)[self.cachedSystemSounds getWithKey:cacheKey];
 
     if (cachedSound) {
-        OWSAssert([cachedSound isKindOfClass:[OWSSystemSound class]]);
+        OWSAssertDebug([cachedSound isKindOfClass:[OWSSystemSound class]]);
         return cachedSound.soundID;
     }
 
@@ -314,7 +314,7 @@ + (void)setGlobalNotificationSound:(OWSSound)sound transaction:(YapDatabaseReadW
 
 - (void)setGlobalNotificationSound:(OWSSound)sound transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSLogInfo(@"Setting global notification sound to: %@", [[self class] displayNameForSound:sound]);
 
@@ -336,7 +336,7 @@ - (void)setGlobalNotificationSound:(OWSSound)sound transaction:(YapDatabaseReadW
         if (soundURL) {
             return [NSData dataWithContentsOfURL:soundURL];
         } else {
-            OWSAssert(sound == OWSSound_None);
+            OWSAssertDebug(sound == OWSSound_None);
             return [NSData new];
         }
     }();
diff --git a/SignalMessaging/environment/VersionMigrations.m b/SignalMessaging/environment/VersionMigrations.m
index d6751777d4f..22adf857d5a 100644
--- a/SignalMessaging/environment/VersionMigrations.m
+++ b/SignalMessaging/environment/VersionMigrations.m
@@ -37,8 +37,8 @@ + (void)performUpdateCheckWithCompletion:(VersionMigrationCompletion)completion
 
     // performUpdateCheck must be invoked after Environment has been initialized because
     // upgrade process may depend on Environment.
-    OWSAssert([Environment current]);
-    OWSAssert(completion);
+    OWSAssertDebug([Environment current]);
+    OWSAssertDebug(completion);
 
     NSString *previousVersion = AppVersion.sharedInstance.lastAppVersion;
     NSString *currentVersion = AppVersion.sharedInstance.currentAppVersion;
diff --git a/SignalMessaging/environment/migrations/OWS100RemoveTSRecipientsMigration.m b/SignalMessaging/environment/migrations/OWS100RemoveTSRecipientsMigration.m
index d785ddfedef..471da53fef0 100644
--- a/SignalMessaging/environment/migrations/OWS100RemoveTSRecipientsMigration.m
+++ b/SignalMessaging/environment/migrations/OWS100RemoveTSRecipientsMigration.m
@@ -19,7 +19,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSUInteger legacyRecipientCount = [transaction numberOfKeysInCollection:@"TSRecipient"];
     OWSLogWarn(@"Removing %lu objects from TSRecipient collection", (unsigned long)legacyRecipientCount);
diff --git a/SignalMessaging/environment/migrations/OWS101ExistingUsersBlockOnIdentityChange.m b/SignalMessaging/environment/migrations/OWS101ExistingUsersBlockOnIdentityChange.m
index 3d05c68ac50..9e414b6524e 100644
--- a/SignalMessaging/environment/migrations/OWS101ExistingUsersBlockOnIdentityChange.m
+++ b/SignalMessaging/environment/migrations/OWS101ExistingUsersBlockOnIdentityChange.m
@@ -24,7 +24,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSFailDebug(@"[OWS101ExistingUsersBlockOnIdentityChange] has been obviated.");
 }
diff --git a/SignalMessaging/environment/migrations/OWS102MoveLoggingPreferenceToUserDefaults.m b/SignalMessaging/environment/migrations/OWS102MoveLoggingPreferenceToUserDefaults.m
index b4daf43c9b4..edfefa37acd 100644
--- a/SignalMessaging/environment/migrations/OWS102MoveLoggingPreferenceToUserDefaults.m
+++ b/SignalMessaging/environment/migrations/OWS102MoveLoggingPreferenceToUserDefaults.m
@@ -20,7 +20,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSLogWarn(@"[OWS102MoveLoggingPreferenceToUserDefaultsMigrationId] copying existing logging preference to "
                @"NSUserDefaults");
diff --git a/SignalMessaging/environment/migrations/OWS103EnableVideoCalling.m b/SignalMessaging/environment/migrations/OWS103EnableVideoCalling.m
index 2503181897b..b8687f4228c 100644
--- a/SignalMessaging/environment/migrations/OWS103EnableVideoCalling.m
+++ b/SignalMessaging/environment/migrations/OWS103EnableVideoCalling.m
@@ -20,7 +20,7 @@ + (NSString *)migrationId
 // Override parent migration
 - (void)runUpWithCompletion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSLogWarn(@"running migration...");
     if ([TSAccountManager isRegistered]) {
diff --git a/SignalMessaging/environment/migrations/OWS104CreateRecipientIdentities.m b/SignalMessaging/environment/migrations/OWS104CreateRecipientIdentities.m
index 4fb2de9dddb..5811b75a2be 100644
--- a/SignalMessaging/environment/migrations/OWS104CreateRecipientIdentities.m
+++ b/SignalMessaging/environment/migrations/OWS104CreateRecipientIdentities.m
@@ -26,7 +26,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableDictionary<NSString *, NSData *> *identityKeys = [NSMutableDictionary new];
 
diff --git a/SignalMessaging/environment/migrations/OWS105AttachmentFilePaths.m b/SignalMessaging/environment/migrations/OWS105AttachmentFilePaths.m
index 5e8482dbc60..3ff8b6357d7 100644
--- a/SignalMessaging/environment/migrations/OWS105AttachmentFilePaths.m
+++ b/SignalMessaging/environment/migrations/OWS105AttachmentFilePaths.m
@@ -20,7 +20,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSAttachmentStream *> *attachmentStreams = [NSMutableArray new];
     [transaction enumerateKeysAndObjectsInCollection:TSAttachmentStream.collection
diff --git a/SignalMessaging/environment/migrations/OWS107LegacySounds.m b/SignalMessaging/environment/migrations/OWS107LegacySounds.m
index 20cb6c48a83..00314d0fd7e 100644
--- a/SignalMessaging/environment/migrations/OWS107LegacySounds.m
+++ b/SignalMessaging/environment/migrations/OWS107LegacySounds.m
@@ -20,7 +20,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [OWSSounds setGlobalNotificationSound:OWSSound_SignalClassic transaction:transaction];
 }
diff --git a/SignalMessaging/environment/migrations/OWS108CallLoggingPreference.m b/SignalMessaging/environment/migrations/OWS108CallLoggingPreference.m
index 04552234f08..7135308460e 100644
--- a/SignalMessaging/environment/migrations/OWS108CallLoggingPreference.m
+++ b/SignalMessaging/environment/migrations/OWS108CallLoggingPreference.m
@@ -21,7 +21,7 @@ + (NSString *)migrationId
 
 - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [[Environment preferences] applyCallLoggingSettingsForLegacyUsersWithTransaction:transaction];
 }
diff --git a/SignalMessaging/environment/migrations/OWS109OutgoingMessageState.m b/SignalMessaging/environment/migrations/OWS109OutgoingMessageState.m
index 1e2e16d940f..3f407150df6 100644
--- a/SignalMessaging/environment/migrations/OWS109OutgoingMessageState.m
+++ b/SignalMessaging/environment/migrations/OWS109OutgoingMessageState.m
@@ -22,7 +22,7 @@ + (NSString *)migrationId
 // Override parent migration
 - (void)runUpWithCompletion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
 
     OWSDatabaseConnection *dbConnection = (OWSDatabaseConnection *)self.primaryStorage.newDatabaseConnection;
diff --git a/SignalMessaging/environment/migrations/OWSDatabaseMigration.m b/SignalMessaging/environment/migrations/OWSDatabaseMigration.m
index 74760301ca2..56cf5eb6c42 100644
--- a/SignalMessaging/environment/migrations/OWSDatabaseMigration.m
+++ b/SignalMessaging/environment/migrations/OWSDatabaseMigration.m
@@ -55,7 +55,7 @@ - (void)runUpWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 
 - (void)runUpWithCompletion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(completion);
+    OWSAssertDebug(completion);
 
     OWSDatabaseConnection *dbConnection = (OWSDatabaseConnection *)self.primaryStorage.newDatabaseConnection;
 
diff --git a/SignalMessaging/environment/migrations/OWSDatabaseMigrationRunner.m b/SignalMessaging/environment/migrations/OWSDatabaseMigrationRunner.m
index 69f4360af45..f150e17b933 100644
--- a/SignalMessaging/environment/migrations/OWSDatabaseMigrationRunner.m
+++ b/SignalMessaging/environment/migrations/OWSDatabaseMigrationRunner.m
@@ -68,8 +68,8 @@ - (void)runAllOutstandingWithCompletion:(OWSDatabaseMigrationCompletion)completi
 - (void)runMigrations:(NSMutableArray<OWSDatabaseMigration *> *)migrations
            completion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(migrations);
-    OWSAssert(completion);
+    OWSAssertDebug(migrations);
+    OWSAssertDebug(completion);
 
     // If there are no more migrations to run, complete.
     if (migrations.count < 1) {
diff --git a/SignalMessaging/environment/migrations/OWSResaveCollectionDBMigration.m b/SignalMessaging/environment/migrations/OWSResaveCollectionDBMigration.m
index f45624a7329..9e20917fceb 100644
--- a/SignalMessaging/environment/migrations/OWSResaveCollectionDBMigration.m
+++ b/SignalMessaging/environment/migrations/OWSResaveCollectionDBMigration.m
@@ -15,9 +15,9 @@ - (void)resaveDBCollection:(NSString *)collection
               dbConnection:(YapDatabaseConnection *)dbConnection
                 completion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(collection.length > 0);
-    OWSAssert(dbConnection);
-    OWSAssert(completion);
+    OWSAssertDebug(collection.length > 0);
+    OWSAssertDebug(dbConnection);
+    OWSAssertDebug(completion);
 
     NSMutableArray<NSString *> *recordIds = [NSMutableArray new];
     [dbConnection asyncReadWriteWithBlock:^(YapDatabaseReadWriteTransaction *_Nonnull transaction) {
@@ -40,10 +40,10 @@ - (void)resaveBatch:(NSMutableArray<NSString *> *)recordIds
        dbConnection:(YapDatabaseConnection *)dbConnection
          completion:(OWSDatabaseMigrationCompletion)completion
 {
-    OWSAssert(recordIds);
-    OWSAssert(collection.length > 0);
-    OWSAssert(dbConnection);
-    OWSAssert(completion);
+    OWSAssertDebug(recordIds);
+    OWSAssertDebug(collection.length > 0);
+    OWSAssertDebug(dbConnection);
+    OWSAssertDebug(completion);
 
     OWSLogVerbose(@"%lu", (unsigned long)recordIds.count);
 
diff --git a/SignalMessaging/profiles/OWSProfileManager.m b/SignalMessaging/profiles/OWSProfileManager.m
index 9f53ed90c42..a3262e6be52 100644
--- a/SignalMessaging/profiles/OWSProfileManager.m
+++ b/SignalMessaging/profiles/OWSProfileManager.m
@@ -96,9 +96,9 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
     }
 
     OWSAssertIsOnMainThread();
-    OWSAssert(primaryStorage);
-    OWSAssert(messageSender);
-    OWSAssert(messageSender);
+    OWSAssertDebug(primaryStorage);
+    OWSAssertDebug(messageSender);
+    OWSAssertDebug(messageSender);
 
     _messageSender = messageSender;
     _dbConnection = primaryStorage.newDatabaseConnection;
@@ -156,7 +156,7 @@ - (OWSUserProfile *)localUserProfile
         }
     }
 
-    OWSAssert(_localUserProfile.profileKey);
+    OWSAssertDebug(_localUserProfile.profileKey);
 
     return _localUserProfile;
 }
@@ -168,7 +168,7 @@ - (BOOL)localProfileExists
 
 - (OWSAES256Key *)localProfileKey
 {
-    OWSAssert(self.localUserProfile.profileKey.keyData.length == kAES256_KeyByteLength);
+    OWSAssertDebug(self.localUserProfile.profileKey.keyData.length == kAES256_KeyByteLength);
 
     return self.localUserProfile.profileKey;
 }
@@ -193,8 +193,8 @@ - (void)updateLocalProfileName:(nullable NSString *)profileName
                        success:(void (^)(void))successBlockParameter
                        failure:(void (^)(void))failureBlockParameter
 {
-    OWSAssert(successBlockParameter);
-    OWSAssert(failureBlockParameter);
+    OWSAssertDebug(successBlockParameter);
+    OWSAssertDebug(failureBlockParameter);
 
     // Ensure that the success and failure blocks are called on the main thread.
     void (^failureBlock)(void) = ^{
@@ -221,7 +221,7 @@ - (void)updateLocalProfileName:(nullable NSString *)profileName
         [self updateServiceWithProfileName:profileName
             success:^{
                 OWSUserProfile *userProfile = self.localUserProfile;
-                OWSAssert(userProfile);
+                OWSAssertDebug(userProfile);
 
                 [userProfile updateWithProfileName:profileName
                                      avatarUrlPath:avatarUrlPath
@@ -241,7 +241,7 @@ - (void)updateLocalProfileName:(nullable NSString *)profileName
     };
 
     OWSUserProfile *userProfile = self.localUserProfile;
-    OWSAssert(userProfile);
+    OWSAssertDebug(userProfile);
 
     if (avatarImage) {
         // If we have a new avatar image, we must first:
@@ -252,8 +252,8 @@ - (void)updateLocalProfileName:(nullable NSString *)profileName
         // * Upload it to asset service
         // * Send asset service info to Signal Service
         if (self.localProfileAvatarImage == avatarImage) {
-            OWSAssert(userProfile.avatarUrlPath.length > 0);
-            OWSAssert(userProfile.avatarFileName.length > 0);
+            OWSAssertDebug(userProfile.avatarUrlPath.length > 0);
+            OWSAssertDebug(userProfile.avatarFileName.length > 0);
 
             OWSLogVerbose(@"Updating local profile on service with unchanged avatar.");
             // If the avatar hasn't changed, reuse the existing metadata.
@@ -293,19 +293,19 @@ - (void)writeAvatarToDisk:(UIImage *)avatar
                   success:(void (^)(NSData *data, NSString *fileName))successBlock
                   failure:(void (^)(void))failureBlock
 {
-    OWSAssert(avatar);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(avatar);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         if (avatar) {
             NSData *data = [self processedImageDataForRawAvatar:avatar];
-            OWSAssert(data);
+            OWSAssertDebug(data);
             if (data) {
                 NSString *fileName = [[NSUUID UUID].UUIDString stringByAppendingPathExtension:@"jpg"];
                 NSString *filePath = [OWSUserProfile profileAvatarFilepathWithFilename:fileName];
                 BOOL success = [data writeToFile:filePath atomically:YES];
-                OWSAssert(success);
+                OWSAssertDebug(success);
                 if (success) {
                     successBlock(data, fileName);
                     return;
@@ -344,9 +344,9 @@ - (void)uploadAvatarToService:(NSData *_Nullable)avatarData
                       success:(void (^)(NSString *_Nullable avatarUrlPath))successBlock
                       failure:(void (^)(void))failureBlock
 {
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
-    OWSAssert(avatarData == nil || avatarData.length > 0);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
+    OWSAssertDebug(avatarData == nil || avatarData.length > 0);
 
     // We want to clear the local user's profile avatar as soon as
     // we request the upload form, since that request clears our
@@ -449,7 +449,7 @@ - (void)uploadAvatarToService:(NSData *_Nullable)avatarData
                         [formData appendPartWithFormData:formDataForString(OWSMimeTypeApplicationOctetStream)
                                                     name:@"Content-Type"];
                         NSData *encryptedAvatarData = [self encryptProfileData:avatarData];
-                        OWSAssert(encryptedAvatarData.length > 0);
+                        OWSAssertDebug(encryptedAvatarData.length > 0);
                         [formData appendPartWithFormData:encryptedAvatarData name:@"file"];
 
                         OWSLogVerbose(@"constructed body");
@@ -483,8 +483,8 @@ - (void)updateServiceWithProfileName:(nullable NSString *)localProfileName
                              success:(void (^)(void))successBlock
                              failure:(void (^)(void))failureBlock
 {
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         NSData *_Nullable encryptedPaddedName = [self encryptProfileNameWithUnpaddedName:localProfileName];
@@ -521,8 +521,8 @@ - (void)clearProfileWhitelist
     [self.dbConnection asyncReadWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
         [transaction removeAllObjectsInCollection:kOWSProfileManager_UserWhitelistCollection];
         [transaction removeAllObjectsInCollection:kOWSProfileManager_GroupWhitelistCollection];
-        OWSAssert(0 == [transaction numberOfKeysInCollection:kOWSProfileManager_UserWhitelistCollection]);
-        OWSAssert(0 == [transaction numberOfKeysInCollection:kOWSProfileManager_GroupWhitelistCollection]);
+        OWSAssertDebug(0 == [transaction numberOfKeysInCollection:kOWSProfileManager_UserWhitelistCollection]);
+        OWSAssertDebug(0 == [transaction numberOfKeysInCollection:kOWSProfileManager_GroupWhitelistCollection]);
     }];
 }
 
@@ -552,14 +552,14 @@ - (void)regenerateLocalProfile
 
 - (void)addUserToProfileWhitelist:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self addUsersToProfileWhitelist:@[ recipientId ]];
 }
 
 - (void)addUsersToProfileWhitelist:(NSArray<NSString *> *)recipientIds
 {
-    OWSAssert(recipientIds);
+    OWSAssertDebug(recipientIds);
 
     NSMutableSet<NSString *> *newRecipientIds = [NSMutableSet new];
     [self.dbConnection asyncReadWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -587,7 +587,7 @@ - (void)addUsersToProfileWhitelist:(NSArray<NSString *> *)recipientIds
 
 - (BOOL)isUserInProfileWhitelist:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block BOOL result = NO;
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
@@ -600,7 +600,7 @@ - (BOOL)isUserInProfileWhitelist:(NSString *)recipientId
 
 - (void)addGroupIdToProfileWhitelist:(NSData *)groupId
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     NSString *groupIdKey = [groupId hexadecimalString];
 
@@ -629,7 +629,7 @@ - (void)addGroupIdToProfileWhitelist:(NSData *)groupId
 
 - (void)addThreadToProfileWhitelist:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     if (thread.isGroupThread) {
         TSGroupThread *groupThread = (TSGroupThread *)thread;
@@ -651,7 +651,7 @@ - (void)addThreadToProfileWhitelist:(TSThread *)thread
 
 - (BOOL)isGroupIdInProfileWhitelist:(NSData *)groupId
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     NSString *groupIdKey = [groupId hexadecimalString];
 
@@ -666,7 +666,7 @@ - (BOOL)isGroupIdInProfileWhitelist:(NSData *)groupId
 
 - (BOOL)isThreadInProfileWhitelist:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     if (thread.isGroupThread) {
         TSGroupThread *groupThread = (TSGroupThread *)thread;
@@ -680,7 +680,7 @@ - (BOOL)isThreadInProfileWhitelist:(TSThread *)thread
 
 - (void)setContactRecipientIds:(NSArray<NSString *> *)contactRecipientIds
 {
-    OWSAssert(contactRecipientIds);
+    OWSAssertDebug(contactRecipientIds);
 
     [self addUsersToProfileWhitelist:contactRecipientIds];
 }
@@ -694,7 +694,7 @@ - (void)logUserProfiles
         [transaction
             enumerateKeysAndObjectsInCollection:OWSUserProfile.collection
                                      usingBlock:^(NSString *_Nonnull key, id _Nonnull object, BOOL *_Nonnull stop) {
-                                         OWSAssert([object isKindOfClass:[OWSUserProfile class]]);
+                                         OWSAssertDebug([object isKindOfClass:[OWSUserProfile class]]);
                                          OWSUserProfile *userProfile = object;
                                          OWSLogError(@"\t [%@]: has profile key: %d, has avatar URL: %d, has "
                                                      @"avatar file: %d, name: %@",
@@ -719,7 +719,7 @@ - (void)setProfileKeyData:(NSData *)profileKeyData forRecipientId:(NSString *)re
         OWSUserProfile *userProfile =
             [OWSUserProfile getOrBuildUserProfileForRecipientId:recipientId dbConnection:self.dbConnection];
 
-        OWSAssert(userProfile);
+        OWSAssertDebug(userProfile);
         if (userProfile.profileKey && [userProfile.profileKey.keyData isEqual:profileKey.keyData]) {
             // Ignore redundant update.
             return;
@@ -744,18 +744,18 @@ - (nullable NSData *)profileKeyDataForRecipientId:(NSString *)recipientId
 
 - (nullable OWSAES256Key *)profileKeyForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSUserProfile *userProfile =
         [OWSUserProfile getOrBuildUserProfileForRecipientId:recipientId dbConnection:self.dbConnection];
-    OWSAssert(userProfile);
+    OWSAssertDebug(userProfile);
 
     return userProfile.profileKey;
 }
 
 - (nullable NSString *)profileNameForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSUserProfile *userProfile =
         [OWSUserProfile getOrBuildUserProfileForRecipientId:recipientId dbConnection:self.dbConnection];
@@ -765,7 +765,7 @@ - (nullable NSString *)profileNameForRecipientId:(NSString *)recipientId
 
 - (nullable UIImage *)profileAvatarForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSUserProfile *userProfile =
         [OWSUserProfile getOrBuildUserProfileForRecipientId:recipientId dbConnection:self.dbConnection];
@@ -783,7 +783,7 @@ - (nullable UIImage *)profileAvatarForRecipientId:(NSString *)recipientId
 
 - (nullable NSData *)profileAvatarDataForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSUserProfile *userProfile =
         [OWSUserProfile getOrBuildUserProfileForRecipientId:recipientId dbConnection:self.dbConnection];
@@ -797,7 +797,7 @@ - (nullable NSData *)profileAvatarDataForRecipientId:(NSString *)recipientId
 
 - (void)downloadAvatarForUserProfile:(OWSUserProfile *)userProfile
 {
-    OWSAssert(userProfile);
+    OWSAssertDebug(userProfile);
 
     __block OWSBackgroundTask *backgroundTask = [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
 
@@ -880,13 +880,13 @@ - (void)downloadAvatarForUserProfile:(OWSUserProfile *)userProfile
                 NSString *_Nullable localNumber = [TSAccountManager sharedInstance].localNumber;
                 if (localNumber && [localNumber isEqualToString:userProfile.recipientId]) {
                     OWSUserProfile *localUserProfile = self.localUserProfile;
-                    OWSAssert(localUserProfile);
+                    OWSAssertDebug(localUserProfile);
 
                     [localUserProfile updateWithAvatarFileName:fileName dbConnection:self.dbConnection completion:nil];
                     [self updateProfileAvatarCache:image filename:fileName];
                 }
 
-                OWSAssert(backgroundTask);
+                OWSAssertDebug(backgroundTask);
                 backgroundTask = nil;
             });
         };
@@ -911,7 +911,7 @@ - (void)updateProfileForRecipientId:(NSString *)recipientId
                profileNameEncrypted:(nullable NSData *)profileNameEncrypted
                       avatarUrlPath:(nullable NSString *)avatarUrlPath
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     OWSLogDebug(@"update profile for: %@ name: %@ avatar: %@", recipientId, profileNameEncrypted, avatarUrlPath);
 
@@ -937,7 +937,7 @@ - (void)updateProfileForRecipientId:(NSString *)recipientId
         NSString *_Nullable localNumber = [TSAccountManager sharedInstance].localNumber;
         if (localNumber && [localNumber isEqualToString:recipientId]) {
             OWSUserProfile *localUserProfile = self.localUserProfile;
-            OWSAssert(localUserProfile);
+            OWSAssertDebug(localUserProfile);
 
             [localUserProfile updateWithProfileName:profileName
                                       avatarUrlPath:avatarUrlPath
@@ -981,7 +981,7 @@ - (BOOL)isNullableStringEqual:(NSString *_Nullable)left toString:(NSString *_Nul
 
 - (nullable NSData *)encryptProfileData:(nullable NSData *)encryptedData profileKey:(OWSAES256Key *)profileKey
 {
-    OWSAssert(profileKey.keyData.length == kAES256_KeyByteLength);
+    OWSAssertDebug(profileKey.keyData.length == kAES256_KeyByteLength);
 
     if (!encryptedData) {
         return nil;
@@ -992,7 +992,7 @@ - (nullable NSData *)encryptProfileData:(nullable NSData *)encryptedData profile
 
 - (nullable NSData *)decryptProfileData:(nullable NSData *)encryptedData profileKey:(OWSAES256Key *)profileKey
 {
-    OWSAssert(profileKey.keyData.length == kAES256_KeyByteLength);
+    OWSAssertDebug(profileKey.keyData.length == kAES256_KeyByteLength);
 
     if (!encryptedData) {
         return nil;
@@ -1003,7 +1003,7 @@ - (nullable NSData *)decryptProfileData:(nullable NSData *)encryptedData profile
 
 - (nullable NSString *)decryptProfileNameData:(nullable NSData *)encryptedData profileKey:(OWSAES256Key *)profileKey
 {
-    OWSAssert(profileKey.keyData.length == kAES256_KeyByteLength);
+    OWSAssertDebug(profileKey.keyData.length == kAES256_KeyByteLength);
 
     NSData *_Nullable decryptedData = [self decryptProfileData:encryptedData profileKey:profileKey];
     if (decryptedData.length < 1) {
@@ -1056,7 +1056,7 @@ - (nullable NSData *)encryptProfileNameWithUnpaddedName:(NSString *)name
     // Since we want all encrypted profile names to be the same length on the server, we use `increaseLengthBy`
     // to pad out any remaining length with 0 bytes.
     [paddedNameData increaseLengthBy:paddingByteCount];
-    OWSAssert(paddedNameData.length == kOWSProfileManager_NameDataLength);
+    OWSAssertDebug(paddedNameData.length == kOWSProfileManager_NameDataLength);
 
     return [self encryptProfileData:[paddedNameData copy] profileKey:self.localProfileKey];
 }
@@ -1065,7 +1065,7 @@ - (nullable NSData *)encryptProfileNameWithUnpaddedName:(NSString *)name
 
 - (nullable NSData *)loadProfileDataWithFilename:(NSString *)filename
 {
-    OWSAssert(filename.length > 0);
+    OWSAssertDebug(filename.length > 0);
 
     NSString *filePath = [OWSUserProfile profileAvatarFilepathWithFilename:filename];
     return [NSData dataWithContentsOfFile:filePath];
@@ -1097,8 +1097,8 @@ - (nullable UIImage *)loadProfileAvatarWithFilename:(NSString *)filename
 
 - (void)updateProfileAvatarCache:(nullable UIImage *)image filename:(NSString *)filename
 {
-    OWSAssert(filename.length > 0);
-    OWSAssert(image);
+    OWSAssertDebug(filename.length > 0);
+    OWSAssertDebug(image);
 
     @synchronized(self.profileAvatarImageCache)
     {
diff --git a/SignalMessaging/profiles/OWSUserProfile.m b/SignalMessaging/profiles/OWSUserProfile.m
index d16a92d03fd..27d1d6f9e53 100644
--- a/SignalMessaging/profiles/OWSUserProfile.m
+++ b/SignalMessaging/profiles/OWSUserProfile.m
@@ -51,7 +51,7 @@ + (NSString *)collection
 + (OWSUserProfile *)getOrBuildUserProfileForRecipientId:(NSString *)recipientId
                                            dbConnection:(YapDatabaseConnection *)dbConnection
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block OWSUserProfile *userProfile;
     [dbConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
@@ -68,7 +68,7 @@ + (OWSUserProfile *)getOrBuildUserProfileForRecipientId:(NSString *)recipientId
         }
     }
 
-    OWSAssert(userProfile);
+    OWSAssertDebug(userProfile);
 
     return userProfile;
 }
@@ -91,7 +91,7 @@ - (instancetype)initWithRecipientId:(NSString *)recipientId
         return self;
     }
 
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
     _recipientId = recipientId;
 
     return self;
@@ -314,7 +314,7 @@ - (void)updateWithProfileKey:(OWSAES256Key *)profileKey
                 dbConnection:(YapDatabaseConnection *)dbConnection
                   completion:(nullable OWSUserProfileCompletion)completion
 {
-    OWSAssert(profileKey);
+    OWSAssertDebug(profileKey);
 
     [self applyChanges:^(OWSUserProfile *userProfile) {
         [userProfile setProfileKey:profileKey];
@@ -387,7 +387,7 @@ - (void)setProfileName:(nullable NSString *)profileName
 
 + (NSString *)profileAvatarFilepathWithFilename:(NSString *)filename
 {
-    OWSAssert(filename.length > 0);
+    OWSAssertDebug(filename.length > 0);
 
     return [self.profileAvatarsDirPath stringByAppendingPathComponent:filename];
 }
diff --git a/SignalMessaging/utils/BlockListUIUtils.m b/SignalMessaging/utils/BlockListUIUtils.m
index d7001690f96..41f6608bed9 100644
--- a/SignalMessaging/utils/BlockListUIUtils.m
+++ b/SignalMessaging/utils/BlockListUIUtils.m
@@ -53,15 +53,15 @@ + (void)showBlockPhoneNumbersActionSheet:(NSArray<NSString *> *)phoneNumbers
                          blockingManager:(OWSBlockingManager *)blockingManager
                          completionBlock:(nullable BlockActionCompletionBlock)completionBlock
 {
-    OWSAssert(phoneNumbers.count > 0);
-    OWSAssert(displayName.length > 0);
-    OWSAssert(fromViewController);
-    OWSAssert(blockingManager);
+    OWSAssertDebug(phoneNumbers.count > 0);
+    OWSAssertDebug(displayName.length > 0);
+    OWSAssertDebug(fromViewController);
+    OWSAssertDebug(blockingManager);
 
     NSString *localContactId = [TSAccountManager localNumber];
-    OWSAssert(localContactId.length > 0);
+    OWSAssertDebug(localContactId.length > 0);
     for (NSString *phoneNumber in phoneNumbers) {
-        OWSAssert(phoneNumber.length > 0);
+        OWSAssertDebug(phoneNumber.length > 0);
 
         if ([localContactId isEqualToString:phoneNumber]) {
             [self showOkAlertWithTitle:NSLocalizedString(@"BLOCK_LIST_VIEW_CANT_BLOCK_SELF_ALERT_TITLE",
@@ -123,13 +123,13 @@ + (void)blockPhoneNumbers:(NSArray<NSString *> *)phoneNumbers
           blockingManager:(OWSBlockingManager *)blockingManager
           completionBlock:(BlockAlertCompletionBlock)completionBlock
 {
-    OWSAssert(phoneNumbers.count > 0);
-    OWSAssert(displayName.length > 0);
-    OWSAssert(fromViewController);
-    OWSAssert(blockingManager);
+    OWSAssertDebug(phoneNumbers.count > 0);
+    OWSAssertDebug(displayName.length > 0);
+    OWSAssertDebug(fromViewController);
+    OWSAssertDebug(blockingManager);
 
     for (NSString *phoneNumber in phoneNumbers) {
-        OWSAssert(phoneNumber.length > 0);
+        OWSAssertDebug(phoneNumber.length > 0);
         [blockingManager addBlockedPhoneNumber:phoneNumber];
     }
 
@@ -180,10 +180,10 @@ + (void)showUnblockPhoneNumbersActionSheet:(NSArray<NSString *> *)phoneNumbers
                            blockingManager:(OWSBlockingManager *)blockingManager
                            completionBlock:(nullable BlockActionCompletionBlock)completionBlock
 {
-    OWSAssert(phoneNumbers.count > 0);
-    OWSAssert(displayName.length > 0);
-    OWSAssert(fromViewController);
-    OWSAssert(blockingManager);
+    OWSAssertDebug(phoneNumbers.count > 0);
+    OWSAssertDebug(displayName.length > 0);
+    OWSAssertDebug(fromViewController);
+    OWSAssertDebug(blockingManager);
 
     NSString *title = [NSString stringWithFormat:NSLocalizedString(@"BLOCK_LIST_UNBLOCK_TITLE_FORMAT",
                                                      @"A format for the 'unblock user' action sheet title. Embeds "
@@ -227,13 +227,13 @@ + (void)unblockPhoneNumbers:(NSArray<NSString *> *)phoneNumbers
             blockingManager:(OWSBlockingManager *)blockingManager
             completionBlock:(BlockAlertCompletionBlock)completionBlock
 {
-    OWSAssert(phoneNumbers.count > 0);
-    OWSAssert(displayName.length > 0);
-    OWSAssert(fromViewController);
-    OWSAssert(blockingManager);
+    OWSAssertDebug(phoneNumbers.count > 0);
+    OWSAssertDebug(displayName.length > 0);
+    OWSAssertDebug(fromViewController);
+    OWSAssertDebug(blockingManager);
 
     for (NSString *phoneNumber in phoneNumbers) {
-        OWSAssert(phoneNumber.length > 0);
+        OWSAssertDebug(phoneNumber.length > 0);
         [blockingManager removeBlockedPhoneNumber:phoneNumber];
     }
 
@@ -251,7 +251,7 @@ + (void)unblockPhoneNumbers:(NSArray<NSString *> *)phoneNumbers
 + (void)showBlockFailedAlert:(UIViewController *)fromViewController
              completionBlock:(BlockAlertCompletionBlock)completionBlock
 {
-    OWSAssert(fromViewController);
+    OWSAssertDebug(fromViewController);
 
     [self showOkAlertWithTitle:NSLocalizedString(@"BLOCK_LIST_VIEW_BLOCK_FAILED_ALERT_TITLE",
                                    @"The title of the 'block user failed' alert.")
@@ -264,7 +264,7 @@ + (void)showBlockFailedAlert:(UIViewController *)fromViewController
 + (void)showUnblockFailedAlert:(UIViewController *)fromViewController
                completionBlock:(BlockAlertCompletionBlock)completionBlock
 {
-    OWSAssert(fromViewController);
+    OWSAssertDebug(fromViewController);
 
     [self showOkAlertWithTitle:NSLocalizedString(@"BLOCK_LIST_VIEW_UNBLOCK_FAILED_ALERT_TITLE",
                                    @"The title of the 'unblock user failed' alert.")
@@ -281,9 +281,9 @@ + (void)showOkAlertWithTitle:(NSString *)title
           fromViewController:(UIViewController *)fromViewController
              completionBlock:(BlockAlertCompletionBlock)completionBlock
 {
-    OWSAssert(title.length > 0);
-    OWSAssert(message.length > 0);
-    OWSAssert(fromViewController);
+    OWSAssertDebug(title.length > 0);
+    OWSAssertDebug(message.length > 0);
+    OWSAssertDebug(fromViewController);
 
     UIAlertController *controller =
         [UIAlertController alertControllerWithTitle:title message:message preferredStyle:UIAlertControllerStyleAlert];
@@ -306,7 +306,7 @@ + (NSString *)formatDisplayNameForAlertMessage:(NSString *)displayName
 
 + (NSString *)formatDisplayName:(NSString *)displayName withMaxLength:(NSUInteger)maxLength
 {
-    OWSAssert(displayName.length > 0);
+    OWSAssertDebug(displayName.length > 0);
 
     if (displayName.length > maxLength) {
         return [[displayName substringToIndex:maxLength] stringByAppendingString:@""];
diff --git a/SignalMessaging/utils/OWSAudioPlayer.m b/SignalMessaging/utils/OWSAudioPlayer.m
index c6a4d6ced8d..9cc8dec9020 100644
--- a/SignalMessaging/utils/OWSAudioPlayer.m
+++ b/SignalMessaging/utils/OWSAudioPlayer.m
@@ -55,8 +55,8 @@ - (instancetype)initWithMediaUrl:(NSURL *)mediaUrl delegate:(id<OWSAudioPlayerDe
         return self;
     }
 
-    OWSAssert(mediaUrl);
-    OWSAssert(delegate);
+    OWSAssertDebug(mediaUrl);
+    OWSAssertDebug(delegate);
 
     _delegate = delegate;
     _mediaUrl = mediaUrl;
@@ -107,8 +107,8 @@ - (void)playWithPlaybackAudioCategory
 - (void)play
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.mediaUrl);
-    OWSAssert([self.delegate audioPlaybackState] != AudioPlaybackState_Playing);
+    OWSAssertDebug(self.mediaUrl);
+    OWSAssertDebug([self.delegate audioPlaybackState] != AudioPlaybackState_Playing);
 
     [self.audioPlayerPoller invalidate];
 
@@ -191,8 +191,8 @@ - (void)audioPlayerUpdated:(NSTimer *)timer
 {
     OWSAssertIsOnMainThread();
 
-    OWSAssert(self.audioPlayer);
-    OWSAssert(self.audioPlayerPoller);
+    OWSAssertDebug(self.audioPlayer);
+    OWSAssertDebug(self.audioPlayerPoller);
 
     [self.delegate setAudioProgress:(CGFloat)[self.audioPlayer currentTime] duration:(CGFloat)[self.audioPlayer duration]];
 }
diff --git a/SignalMessaging/utils/OWSAvatarBuilder.m b/SignalMessaging/utils/OWSAvatarBuilder.m
index dfbe6b2a64e..e5c0e3060e9 100644
--- a/SignalMessaging/utils/OWSAvatarBuilder.m
+++ b/SignalMessaging/utils/OWSAvatarBuilder.m
@@ -18,8 +18,8 @@ + (UIImage *)buildImageForThread:(TSThread *)thread
                         diameter:(NSUInteger)diameter
                  contactsManager:(OWSContactsManager *)contactsManager
 {
-    OWSAssert(thread);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(contactsManager);
 
     OWSAvatarBuilder *avatarBuilder;
     if ([thread isKindOfClass:[TSContactThread class]]) {
diff --git a/SignalMessaging/utils/OWSContactAvatarBuilder.m b/SignalMessaging/utils/OWSContactAvatarBuilder.m
index 2704c3d670f..04c75a4d881 100644
--- a/SignalMessaging/utils/OWSContactAvatarBuilder.m
+++ b/SignalMessaging/utils/OWSContactAvatarBuilder.m
@@ -72,7 +72,7 @@ - (instancetype)initWithNonSignalName:(NSString *)nonSignalName
     
     NSString *colorName = [TSThread stableConversationColorNameForString:colorSeed];
     UIColor *color = [UIColor ows_conversationColorForColorName:colorName];
-    OWSAssert(color);
+    OWSAssertDebug(color);
     return [self initWithContactId:colorSeed
                               name:nonSignalName
                              color:color
diff --git a/SignalMessaging/utils/OWSPreferences.m b/SignalMessaging/utils/OWSPreferences.m
index 72ee60970ef..3ebd9c08a75 100644
--- a/SignalMessaging/utils/OWSPreferences.m
+++ b/SignalMessaging/utils/OWSPreferences.m
@@ -54,7 +54,7 @@ - (void)clear
 
 - (nullable id)tryGetValueForKey:(NSString *)key
 {
-    OWSAssert(key != nil);
+    OWSAssertDebug(key != nil);
 
     __block id result;
     [OWSPrimaryStorage.dbReadConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
@@ -65,7 +65,7 @@ - (nullable id)tryGetValueForKey:(NSString *)key
 
 - (nullable id)tryGetValueForKey:(NSString *)key transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(key != nil);
+    OWSAssertDebug(key != nil);
     return [transaction objectForKey:key inCollection:OWSPreferencesSignalDatabaseCollection];
 }
 
@@ -80,7 +80,7 @@ - (void)setValueForKey:(NSString *)key
                toValue:(nullable id)value
            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(key != nil);
+    OWSAssertDebug(key != nil);
 
     [transaction setObject:value forKey:key inCollection:OWSPreferencesSignalDatabaseCollection];
 }
@@ -100,7 +100,7 @@ + (BOOL)isReadyForAppExtensions
 
 + (void)setIsReadyForAppExtensions
 {
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     [NSUserDefaults.appUserDefaults setObject:@(YES) forKey:OWSPreferencesKey_IsReadyForAppExtensions];
     [NSUserDefaults.appUserDefaults synchronize];
@@ -140,7 +140,7 @@ + (BOOL)isLoggingEnabled
 
 + (void)setIsLoggingEnabled:(BOOL)flag
 {
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     // Logging preferences are stored in UserDefaults instead of the database, so that we can (optionally) start
     // logging before the database is initialized. This is important because sometimes there are problems *with* the
diff --git a/SignalMessaging/utils/OWSWindowManager.m b/SignalMessaging/utils/OWSWindowManager.m
index 8c432ef56cf..e600ee8039e 100644
--- a/SignalMessaging/utils/OWSWindowManager.m
+++ b/SignalMessaging/utils/OWSWindowManager.m
@@ -147,10 +147,10 @@ - (instancetype)initDefault
 - (void)setupWithRootWindow:(UIWindow *)rootWindow screenBlockingWindow:(UIWindow *)screenBlockingWindow
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(rootWindow);
-    OWSAssert(!self.rootWindow);
-    OWSAssert(screenBlockingWindow);
-    OWSAssert(!self.screenBlockingWindow);
+    OWSAssertDebug(rootWindow);
+    OWSAssertDebug(!self.rootWindow);
+    OWSAssertDebug(screenBlockingWindow);
+    OWSAssertDebug(!self.screenBlockingWindow);
 
     self.rootWindow = rootWindow;
     self.screenBlockingWindow = screenBlockingWindow;
@@ -189,7 +189,7 @@ - (void)applicationWillResignActive:(NSNotification *)notification
 - (UIWindow *)createReturnToCallWindow:(UIWindow *)rootWindow
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(rootWindow);
+    OWSAssertDebug(rootWindow);
 
     // "Return to call" should remain at the top of the screen.
     CGRect windowFrame = UIScreen.mainScreen.bounds;
@@ -232,7 +232,7 @@ - (UIWindow *)createMenuActionsWindowWithRoowWindow:(UIWindow *)rootWindow
 - (UIWindow *)createCallViewWindow:(UIWindow *)rootWindow
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(rootWindow);
+    OWSAssertDebug(rootWindow);
 
     UIWindow *window = [[UIWindow alloc] initWithFrame:rootWindow.bounds];
     window.hidden = YES;
@@ -251,7 +251,7 @@ - (UIWindow *)createCallViewWindow:(UIWindow *)rootWindow
     UINavigationController *navigationController =
         [[UINavigationController alloc] initWithRootViewController:viewController];
     navigationController.navigationBarHidden = YES;
-    OWSAssert(!self.callNavigationController);
+    OWSAssertDebug(!self.callNavigationController);
     self.callNavigationController = navigationController;
 
     window.rootViewController = navigationController;
@@ -277,7 +277,7 @@ - (BOOL)isPresentingMenuActions
 
 - (void)showMenuActionsWindow:(UIViewController *)menuActionsViewController
 {
-    OWSAssert(self.menuActionsViewController == nil);
+    OWSAssertDebug(self.menuActionsViewController == nil);
 
     self.menuActionsViewController = menuActionsViewController;
     self.menuActionsWindow.rootViewController = menuActionsViewController;
@@ -311,8 +311,8 @@ - (void)setCallViewController:(nullable UIViewController *)callViewController
 - (void)startCall:(UIViewController *)callViewController
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(callViewController);
-    OWSAssert(!self.callViewController);
+    OWSAssertDebug(callViewController);
+    OWSAssertDebug(!self.callViewController);
 
     self.callViewController = callViewController;
 
@@ -327,8 +327,8 @@ - (void)startCall:(UIViewController *)callViewController
 - (void)endCall:(UIViewController *)callViewController
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(callViewController);
-    OWSAssert(self.callViewController);
+    OWSAssertDebug(callViewController);
+    OWSAssertDebug(self.callViewController);
 
     if (self.callViewController != callViewController) {
         OWSLogWarn(@"Ignoring end call request from obsolete call view controller.");
@@ -347,8 +347,8 @@ - (void)endCall:(UIViewController *)callViewController
 - (void)leaveCallView
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.callViewController);
-    OWSAssert(self.shouldShowCallView);
+    OWSAssertDebug(self.callViewController);
+    OWSAssertDebug(self.shouldShowCallView);
 
     self.shouldShowCallView = NO;
 
@@ -358,8 +358,8 @@ - (void)leaveCallView
 - (void)showCallView
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.callViewController);
-    OWSAssert(!self.shouldShowCallView);
+    OWSAssertDebug(self.callViewController);
+    OWSAssertDebug(!self.shouldShowCallView);
 
     self.shouldShowCallView = YES;
 
@@ -378,10 +378,10 @@ - (BOOL)hasCall
 - (void)ensureWindowState
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.rootWindow);
-    OWSAssert(self.returnToCallWindow);
-    OWSAssert(self.callViewWindow);
-    OWSAssert(self.screenBlockingWindow);
+    OWSAssertDebug(self.rootWindow);
+    OWSAssertDebug(self.returnToCallWindow);
+    OWSAssertDebug(self.callViewWindow);
+    OWSAssertDebug(self.screenBlockingWindow);
 
     // To avoid bad frames, we never want to hide the blocking window, so we manipulate
     // its window level to "hide" it behind other windows.  The other windows have fixed
@@ -425,7 +425,7 @@ - (void)ensureWindowState
             [self ensureMessageActionsWindowShown];
 
             // Don't hide rootWindow so as not to dismiss keyboard.
-            OWSAssert(!self.rootWindow.isHidden);
+            OWSAssertDebug(!self.rootWindow.isHidden);
         } else {
             [self ensureMessageActionsWindowHidden];
         }
diff --git a/SignalMessaging/utils/ThreadUtil.m b/SignalMessaging/utils/ThreadUtil.m
index 413ee4151b1..5a5225b55b9 100644
--- a/SignalMessaging/utils/ThreadUtil.m
+++ b/SignalMessaging/utils/ThreadUtil.m
@@ -77,9 +77,9 @@ + (TSOutgoingMessage *)sendMessageWithText:(NSString *)text
                                    failure:(void (^)(NSError *error))failureHandler
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(text.length > 0);
-    OWSAssert(thread);
-    OWSAssert(messageSender);
+    OWSAssertDebug(text.length > 0);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(messageSender);
 
     OWSDisappearingMessagesConfiguration *configuration =
         [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:thread.uniqueId];
@@ -118,11 +118,11 @@ + (TSOutgoingMessage *)sendMessageWithAttachment:(SignalAttachment *)attachment
                                       completion:(void (^_Nullable)(NSError *_Nullable error))completion
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(attachment);
-    OWSAssert(ignoreErrors || ![attachment hasError]);
-    OWSAssert([attachment mimeType].length > 0);
-    OWSAssert(thread);
-    OWSAssert(messageSender);
+    OWSAssertDebug(attachment);
+    OWSAssertDebug(ignoreErrors || ![attachment hasError]);
+    OWSAssertDebug([attachment mimeType].length > 0);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(messageSender);
 
     OWSDisappearingMessagesConfiguration *configuration =
         [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:thread.uniqueId];
@@ -170,10 +170,10 @@ + (TSOutgoingMessage *)sendMessageWithContactShare:(OWSContact *)contactShare
                                         completion:(void (^_Nullable)(NSError *_Nullable error))completion
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(contactShare);
-    OWSAssert(contactShare.ows_isValid);
-    OWSAssert(thread);
-    OWSAssert(messageSender);
+    OWSAssertDebug(contactShare);
+    OWSAssertDebug(contactShare.ows_isValid);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(messageSender);
 
     OWSDisappearingMessagesConfiguration *configuration =
         [OWSDisappearingMessagesConfiguration fetchObjectWithUniqueID:thread.uniqueId];
@@ -221,14 +221,14 @@ + (ThreadDynamicInteractions *)ensureDynamicInteractionsForThread:(TSThread *)th
                                                    focusMessageId:(nullable NSString *)focusMessageId
                                                      maxRangeSize:(int)maxRangeSize
 {
-    OWSAssert(thread);
-    OWSAssert(dbConnection);
-    OWSAssert(contactsManager);
-    OWSAssert(blockingManager);
-    OWSAssert(maxRangeSize > 0);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(dbConnection);
+    OWSAssertDebug(contactsManager);
+    OWSAssertDebug(blockingManager);
+    OWSAssertDebug(maxRangeSize > 0);
 
     NSString *localNumber = [TSAccountManager localNumber];
-    OWSAssert(localNumber.length > 0);
+    OWSAssertDebug(localNumber.length > 0);
 
     // Many OWSProfileManager methods aren't safe to call from inside a database
     // transaction, so do this work now.
@@ -277,7 +277,7 @@ + (ThreadDynamicInteractions *)ensureDynamicInteractionsForThread:(TSThread *)th
                               // Remove obsolete unread indicator interactions;
                               [interactionsToDelete addObject:object];
                           } else if ([object isKindOfClass:[OWSContactOffersInteraction class]]) {
-                              OWSAssert(!existingContactOffers);
+                              OWSAssertDebug(!existingContactOffers);
                               if (existingContactOffers) {
                                   // There should never be more than one "contact offers" in
                                   // a given thread, but if there is, discard all but one.
@@ -288,7 +288,7 @@ + (ThreadDynamicInteractions *)ensureDynamicInteractionsForThread:(TSThread *)th
                               [blockingSafetyNumberChanges addObject:object];
                           } else if ([object isKindOfClass:[TSErrorMessage class]]) {
                               TSErrorMessage *errorMessage = (TSErrorMessage *)object;
-                              OWSAssert(errorMessage.errorType == TSErrorMessageNonBlockingIdentityChange);
+                              OWSAssertDebug(errorMessage.errorType == TSErrorMessageNonBlockingIdentityChange);
                               [nonBlockingSafetyNumberChanges addObject:errorMessage];
                           } else {
                               OWSFailDebug(@"Unexpected dynamic interaction type: %@", [object class]);
@@ -324,7 +324,7 @@ + (ThreadDynamicInteractions *)ensureDynamicInteractionsForThread:(TSThread *)th
                       usingBlock:^(
                           NSString *collection, NSString *key, id object, id metadata, NSUInteger index, BOOL *stop) {
 
-                          OWSAssert([object isKindOfClass:[TSInteraction class]]);
+                          OWSAssertDebug([object isKindOfClass:[TSInteraction class]]);
 
                           if ([object isKindOfClass:[TSIncomingMessage class]] ||
                               [object isKindOfClass:[TSOutgoingMessage class]] ||
@@ -497,11 +497,11 @@ + (void)ensureUnreadIndicator:(ThreadDynamicInteractions *)dynamicInteractions
         hideUnreadMessagesIndicator:(BOOL)hideUnreadMessagesIndicator
     firstUnseenInteractionTimestamp:(nullable NSNumber *)firstUnseenInteractionTimestamp
 {
-    OWSAssert(dynamicInteractions);
-    OWSAssert(thread);
-    OWSAssert(transaction);
-    OWSAssert(blockingSafetyNumberChanges);
-    OWSAssert(nonBlockingSafetyNumberChanges);
+    OWSAssertDebug(dynamicInteractions);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(blockingSafetyNumberChanges);
+    OWSAssertDebug(nonBlockingSafetyNumberChanges);
 
     if (hideUnreadMessagesIndicator) {
         return;
@@ -512,7 +512,7 @@ + (void)ensureUnreadIndicator:(ThreadDynamicInteractions *)dynamicInteractions
     }
 
     YapDatabaseViewTransaction *threadMessagesTransaction = [transaction ext:TSMessageDatabaseViewExtensionName];
-    OWSAssert([threadMessagesTransaction isKindOfClass:[YapDatabaseViewTransaction class]]);
+    OWSAssertDebug([threadMessagesTransaction isKindOfClass:[YapDatabaseViewTransaction class]]);
 
     // Determine unread indicator position, if necessary.
     //
@@ -568,7 +568,7 @@ + (void)ensureUnreadIndicator:(ThreadDynamicInteractions *)dynamicInteractions
         // expired.
         return;
     }
-    OWSAssert(visibleUnseenMessageCount > 0);
+    OWSAssertDebug(visibleUnseenMessageCount > 0);
 
     NSUInteger missingUnseenSafetyNumberChangeCount = 0;
     if (hasMoreUnseenMessages) {
@@ -618,9 +618,9 @@ + (nullable NSNumber *)focusMessagePositionForThread:(TSThread *)thread
                                          transaction:(YapDatabaseReadWriteTransaction *)transaction
                                       focusMessageId:(NSString *)focusMessageId
 {
-    OWSAssert(thread);
-    OWSAssert(transaction);
-    OWSAssert(focusMessageId);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(focusMessageId);
 
     YapDatabaseViewTransaction *databaseView = [transaction ext:TSMessageDatabaseViewExtensionName];
 
@@ -649,8 +649,8 @@ + (nullable NSNumber *)focusMessagePositionForThread:(TSThread *)thread
 
 + (BOOL)shouldShowGroupProfileBannerInThread:(TSThread *)thread blockingManager:(OWSBlockingManager *)blockingManager
 {
-    OWSAssert(thread);
-    OWSAssert(blockingManager);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(blockingManager);
 
     if (!thread.isGroupThread) {
         return NO;
@@ -678,7 +678,7 @@ + (BOOL)shouldShowGroupProfileBannerInThread:(TSThread *)thread blockingManager:
 
 + (BOOL)addThreadToProfileWhitelistIfEmptyContactThread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     if (thread.isGroupThread) {
         return NO;
@@ -719,9 +719,9 @@ + (void)deleteAllContent
 + (void)removeAllObjectsInCollection:(NSString *)collection
                                class:(Class) class
                          transaction:(YapDatabaseReadWriteTransaction *)transaction {
-    OWSAssert(collection.length > 0);
-    OWSAssert(class);
-    OWSAssert(transaction);
+    OWSAssertDebug(collection.length > 0);
+    OWSAssertDebug(class);
+    OWSAssertDebug(transaction);
 
     NSArray<NSString *> *_Nullable uniqueIds = [transaction allKeysInCollection:collection];
     if (!uniqueIds) {
@@ -751,8 +751,8 @@ + (nullable TSInteraction *)findInteractionInThreadByTimestamp:(uint64_t)timesta
                                                 threadUniqueId:(NSString *)threadUniqueId
                                                    transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(timestamp > 0);
-    OWSAssert(authorId.length > 0);
+    OWSAssertDebug(timestamp > 0);
+    OWSAssertDebug(authorId.length > 0);
 
     NSString *localNumber = [TSAccountManager localNumber];
     if (localNumber.length < 1) {
diff --git a/SignalServiceKit/src/Account/TSAccountManager.m b/SignalServiceKit/src/Account/TSAccountManager.m
index 5b26ec400c5..bb835ed0aa7 100644
--- a/SignalServiceKit/src/Account/TSAccountManager.m
+++ b/SignalServiceKit/src/Account/TSAccountManager.m
@@ -312,7 +312,7 @@ + (void)rerequestSMSWithSuccess:(void (^)(void))successBlock failure:(void (^)(N
     TSAccountManager *manager = [self sharedInstance];
     NSString *number          = manager.phoneNumberAwaitingVerification;
 
-    OWSAssert(number);
+    OWSAssertDebug(number);
 
     [self registerWithPhoneNumber:number success:successBlock failure:failureBlock smsVerification:YES];
 }
@@ -322,7 +322,7 @@ + (void)rerequestVoiceWithSuccess:(void (^)(void))successBlock failure:(void (^)
     TSAccountManager *manager = [self sharedInstance];
     NSString *number          = manager.phoneNumberAwaitingVerification;
 
-    OWSAssert(number);
+    OWSAssertDebug(number);
 
     [self registerWithPhoneNumber:number success:successBlock failure:failureBlock smsVerification:NO];
 }
@@ -351,9 +351,9 @@ - (void)verifyAccountWithCode:(NSString *)verificationCode
     NSString *signalingKey = [[self class] generateNewSignalingKeyToken];
     NSString *phoneNumber = self.phoneNumberAwaitingVerification;
 
-    OWSAssert(signalingKey);
-    OWSAssert(authToken);
-    OWSAssert(phoneNumber);
+    OWSAssertDebug(signalingKey);
+    OWSAssertDebug(authToken);
+    OWSAssertDebug(phoneNumber);
 
     TSVerifyCodeRequest *request = [[TSVerifyCodeRequest alloc] initWithVerificationCode:verificationCode
                                                                                forNumber:phoneNumber
@@ -388,7 +388,7 @@ - (void)verifyAccountWithCode:(NSString *)verificationCode
             if (!IsNSErrorNetworkFailure(error)) {
                 OWSProdError([OWSAnalyticsEvents accountsErrorVerifyAccountRequestFailed]);
             }
-            OWSAssert([error.domain isEqualToString:TSNetworkManagerDomain]);
+            OWSAssertDebug([error.domain isEqualToString:TSNetworkManagerDomain]);
 
             OWSLogWarn(@"Error verifying code: %@", error.debugDescription);
 
@@ -533,7 +533,7 @@ - (BOOL)isDeregistered
                                                            defaultValue:NO]);
         }
 
-        OWSAssert(self.cachedIsDeregistered);
+        OWSAssertDebug(self.cachedIsDeregistered);
         return self.cachedIsDeregistered.boolValue;
     }
 }
@@ -591,11 +591,11 @@ - (BOOL)resetForReregistration
 
 - (NSString *)reregisterationPhoneNumber
 {
-    OWSAssert([self isReregistering]);
+    OWSAssertDebug([self isReregistering]);
 
     NSString *_Nullable result = [self.dbConnection stringForKey:TSAccountManager_ReregisteringPhoneNumberKey
                                                     inCollection:TSAccountManager_UserAccountCollection];
-    OWSAssert(result);
+    OWSAssertDebug(result);
     return result;
 }
 
diff --git a/SignalServiceKit/src/Account/TSAttributes.m b/SignalServiceKit/src/Account/TSAttributes.m
index da326b82c26..5ca669ed2d1 100644
--- a/SignalServiceKit/src/Account/TSAttributes.m
+++ b/SignalServiceKit/src/Account/TSAttributes.m
@@ -22,8 +22,8 @@ + (NSDictionary *)attributesWithSignalingKey:(NSString *)signalingKey
                        manualMessageFetching:(BOOL)isEnabled
                                          pin:(nullable NSString *)pin
 {
-    OWSAssert(signalingKey.length > 0);
-    OWSAssert(authToken.length > 0);
+    OWSAssertDebug(signalingKey.length > 0);
+    OWSAssertDebug(authToken.length > 0);
 
     NSMutableDictionary *result = [@{
         @"signalingKey" : signalingKey,
diff --git a/SignalServiceKit/src/Account/TSPreKeyManager.m b/SignalServiceKit/src/Account/TSPreKeyManager.m
index 69a0656fc0b..98671deabce 100644
--- a/SignalServiceKit/src/Account/TSPreKeyManager.m
+++ b/SignalServiceKit/src/Account/TSPreKeyManager.m
@@ -86,7 +86,7 @@ + (void)checkPreKeysIfNecessary
     if (!CurrentAppContext().isMainApp) {
         return;
     }
-    OWSAssert(CurrentAppContext().isMainAppAndActive);
+    OWSAssertDebug(CurrentAppContext().isMainAppAndActive);
 
     // Update the prekey check timestamp.
     dispatch_async(TSPreKeyManager.prekeyQueue, ^{
@@ -289,7 +289,7 @@ + (void)checkPreKeys
                     success:^(NSURLSessionDataTask *task, NSDictionary *responseObject) {
                         NSString *keyIdDictKey = @"keyId";
                         NSNumber *keyId = [responseObject objectForKey:keyIdDictKey];
-                        OWSAssert(keyId);
+                        OWSAssertDebug(keyId);
 
                         OWSPrimaryStorage *primaryStorage = [OWSPrimaryStorage sharedManager];
                         NSNumber *currentSignedPrekeyId = [primaryStorage currentSignedPrekeyId];
diff --git a/SignalServiceKit/src/Contacts/CDSSigningCertificate.m b/SignalServiceKit/src/Contacts/CDSSigningCertificate.m
index f358bfbd2fd..6f73fef4ab7 100644
--- a/SignalServiceKit/src/Contacts/CDSSigningCertificate.m
+++ b/SignalServiceKit/src/Contacts/CDSSigningCertificate.m
@@ -51,7 +51,7 @@ - (void)dealloc
 
 + (nullable CDSSigningCertificate *)parseCertificateFromPem:(NSString *)certificatePem
 {
-    OWSAssert(certificatePem);
+    OWSAssertDebug(certificatePem);
 
     CDSSigningCertificate *signingCertificate = [CDSSigningCertificate new];
 
@@ -238,7 +238,7 @@ + (nullable NSData *)certificateDataForService:(NSString *)service
 
 - (BOOL)verifySignatureOfBody:(NSString *)body signature:(NSData *)signature
 {
-    OWSAssert(self.publicKey);
+    OWSAssertDebug(self.publicKey);
 
     NSData *bodyData = [body dataUsingEncoding:NSUTF8StringEncoding];
 
@@ -266,7 +266,7 @@ - (BOOL)verifySignatureOfBody:(NSString *)body signature:(NSData *)signature
 
 + (BOOL)verifyDistinguishedNameOfCertificate:(NSData *)certificateData
 {
-    OWSAssert(certificateData);
+    OWSAssertDebug(certificateData);
 
     // The Security framework doesn't offer access to certificate properties
     // with API available on iOS 9. We use OpenSSL to extract the name.
@@ -299,7 +299,7 @@ + (BOOL)verifyDistinguishedNameOfCertificate:(NSData *)certificateData
 
 + (nullable NSDictionary<NSString *, NSString *> *)propertiesForCertificate:(NSData *)certificateData
 {
-    OWSAssert(certificateData);
+    OWSAssertDebug(certificateData);
 
     if (certificateData.length >= UINT32_MAX) {
         OWSFailDebug(@"certificate data is too long.");
diff --git a/SignalServiceKit/src/Contacts/Contact.m b/SignalServiceKit/src/Contacts/Contact.m
index 17efa9d05b3..86dd0ede82d 100644
--- a/SignalServiceKit/src/Contacts/Contact.m
+++ b/SignalServiceKit/src/Contacts/Contact.m
@@ -143,7 +143,7 @@ + (nullable Contact *)contactWithVCardData:(NSData *)data
                                                     phoneNumberNameMap:(nullable NSDictionary<NSString *, NSString *> *)
                                                                            phoneNumberNameMap
 {
-    OWSAssert(self.phoneNumberNameMap);
+    OWSAssertDebug(self.phoneNumberNameMap);
 
     NSMutableDictionary<NSString *, PhoneNumber *> *parsedPhoneNumberMap = [NSMutableDictionary new];
     NSMutableArray<PhoneNumber *> *parsedPhoneNumbers = [NSMutableArray new];
@@ -255,11 +255,11 @@ + (NSString *)formattedFullNameWithCNContact:(CNContact *)cnContact
 
 - (NSString *)nameForPhoneNumber:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert([self.textSecureIdentifiers containsObject:recipientId]);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug([self.textSecureIdentifiers containsObject:recipientId]);
 
     NSString *value = self.phoneNumberNameMap[recipientId];
-    OWSAssert(value);
+    OWSAssertDebug(value);
     if (!value) {
         return NSLocalizedString(@"PHONE_NUMBER_TYPE_UNKNOWN",
             @"Label used when we don't what kind of phone number it is (e.g. mobile/work/home).");
@@ -305,7 +305,7 @@ - (NSUInteger)hash
 
 + (nullable CNContact *)cnContactWithVCardData:(NSData *)data
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     NSError *error;
     NSArray<CNContact *> *_Nullable contacts = [CNContactVCardSerialization contactsWithData:data error:&error];
@@ -325,8 +325,8 @@ + (nullable CNContact *)cnContactWithVCardData:(NSData *)data
 
 + (CNContact *)mergeCNContact:(CNContact *)oldCNContact newCNContact:(CNContact *)newCNContact
 {
-    OWSAssert(oldCNContact);
-    OWSAssert(newCNContact);
+    OWSAssertDebug(oldCNContact);
+    OWSAssertDebug(newCNContact);
 
     Contact *oldContact = [[Contact alloc] initWithSystemContact:oldCNContact];
 
diff --git a/SignalServiceKit/src/Contacts/ContactDiscoveryService.m b/SignalServiceKit/src/Contacts/ContactDiscoveryService.m
index 88d1969911b..59cc3811a07 100644
--- a/SignalServiceKit/src/Contacts/ContactDiscoveryService.m
+++ b/SignalServiceKit/src/Contacts/ContactDiscoveryService.m
@@ -355,10 +355,10 @@ - (nullable RemoteAttestation *)parseAttestationResponseJson:(id)responseJson
                                                    enclaveId:(NSString *)enclaveId
                                                         auth:(RemoteAttestationAuth *)auth
 {
-    OWSAssert(responseJson);
-    OWSAssert(response);
-    OWSAssert(keyPair);
-    OWSAssert(enclaveId.length > 0);
+    OWSAssertDebug(responseJson);
+    OWSAssertDebug(response);
+    OWSAssertDebug(keyPair);
+    OWSAssertDebug(enclaveId.length > 0);
 
     if (![response isKindOfClass:[NSHTTPURLResponse class]]) {
         OWSFailDebug(@"unexpected response type.");
@@ -480,10 +480,10 @@ - (BOOL)verifyIasSignatureWithCertificates:(NSString *)certificates
                                  signature:(NSData *)signature
                                  quoteData:(NSData *)quoteData
 {
-    OWSAssert(certificates.length > 0);
-    OWSAssert(signatureBody.length > 0);
-    OWSAssert(signature.length > 0);
-    OWSAssert(quoteData);
+    OWSAssertDebug(certificates.length > 0);
+    OWSAssertDebug(signatureBody.length > 0);
+    OWSAssertDebug(signature.length > 0);
+    OWSAssertDebug(quoteData);
 
     CDSSigningCertificate *_Nullable certificate = [CDSSigningCertificate parseCertificateFromPem:certificates];
     if (!certificate) {
@@ -555,7 +555,7 @@ - (BOOL)verifyIasSignatureWithCertificates:(NSString *)certificates
 
 - (nullable SignatureBodyEntity *)parseSignatureBodyEntity:(NSString *)signatureBody
 {
-    OWSAssert(signatureBody.length > 0);
+    OWSAssertDebug(signatureBody.length > 0);
 
     NSError *error = nil;
     NSDictionary *_Nullable jsonDict =
@@ -591,9 +591,9 @@ - (nullable SignatureBodyEntity *)parseSignatureBodyEntity:(NSString *)signature
 
 - (BOOL)verifyServerQuote:(CDSQuote *)quote keys:(RemoteAttestationKeys *)keys enclaveId:(NSString *)enclaveId
 {
-    OWSAssert(quote);
-    OWSAssert(keys);
-    OWSAssert(enclaveId.length > 0);
+    OWSAssertDebug(quote);
+    OWSAssertDebug(keys);
+    OWSAssertDebug(enclaveId.length > 0);
 
     if (quote.reportData.length < keys.serverStaticPublic.length) {
         OWSFailDebug(
@@ -633,10 +633,10 @@ - (nullable NSData *)decryptRequestId:(NSData *)encryptedRequestId
                   encryptedRequestTag:(NSData *)encryptedRequestTag
                                  keys:(RemoteAttestationKeys *)keys
 {
-    OWSAssert(encryptedRequestId.length > 0);
-    OWSAssert(encryptedRequestIv.length > 0);
-    OWSAssert(encryptedRequestTag.length > 0);
-    OWSAssert(keys);
+    OWSAssertDebug(encryptedRequestId.length > 0);
+    OWSAssertDebug(encryptedRequestIv.length > 0);
+    OWSAssertDebug(encryptedRequestTag.length > 0);
+    OWSAssertDebug(keys);
 
     OWSAES256Key *_Nullable key = keys.serverKey;
     if (!key) {
diff --git a/SignalServiceKit/src/Contacts/OWSDisappearingMessagesConfiguration.m b/SignalServiceKit/src/Contacts/OWSDisappearingMessagesConfiguration.m
index 9b8d3f14de5..1acd19fba09 100644
--- a/SignalServiceKit/src/Contacts/OWSDisappearingMessagesConfiguration.m
+++ b/SignalServiceKit/src/Contacts/OWSDisappearingMessagesConfiguration.m
@@ -84,7 +84,7 @@ + (uint32_t)maxDurationSeconds
     uint32_t max = [[self.validDurationsSeconds valueForKeyPath:@"@max.intValue"] unsignedIntValue];
 
     // It's safe to update this assert if we add a larger duration
-    OWSAssert(max == 1 * kWeekInterval);
+    OWSAssertDebug(max == 1 * kWeekInterval);
 
     return max;
 }
diff --git a/SignalServiceKit/src/Contacts/PhoneNumber.m b/SignalServiceKit/src/Contacts/PhoneNumber.m
index b8dc868094c..12de6be57c9 100644
--- a/SignalServiceKit/src/Contacts/PhoneNumber.m
+++ b/SignalServiceKit/src/Contacts/PhoneNumber.m
@@ -27,8 +27,8 @@ @implementation PhoneNumber
 - (instancetype)initWithPhoneNumber:(NBPhoneNumber *)phoneNumber e164:(NSString *)e164
 {
     if (self = [self init]) {
-        OWSAssert(phoneNumber);
-        OWSAssert(e164.length > 0);
+        OWSAssertDebug(phoneNumber);
+        OWSAssertDebug(e164.length > 0);
 
         _phoneNumber = phoneNumber;
         _e164 = e164;
@@ -37,8 +37,8 @@ - (instancetype)initWithPhoneNumber:(NBPhoneNumber *)phoneNumber e164:(NSString
 }
 
 + (PhoneNumber *)phoneNumberFromText:(NSString *)text andRegion:(NSString *)regionCode {
-    OWSAssert(text != nil);
-    OWSAssert(regionCode != nil);
+    OWSAssertDebug(text != nil);
+    OWSAssertDebug(regionCode != nil);
 
     PhoneNumberUtil *phoneUtil = [PhoneNumberUtil sharedThreadLocal];
 
@@ -60,7 +60,7 @@ + (PhoneNumber *)phoneNumberFromText:(NSString *)text andRegion:(NSString *)regi
 }
 
 + (PhoneNumber *)phoneNumberFromUserSpecifiedText:(NSString *)text {
-    OWSAssert(text != nil);
+    OWSAssertDebug(text != nil);
 
     return [PhoneNumber phoneNumberFromText:text andRegion:[self defaultCountryCode]];
 }
@@ -87,11 +87,11 @@ + (NSString *)defaultCountryCode
 }
 
 + (PhoneNumber *)phoneNumberFromE164:(NSString *)text {
-    OWSAssert(text != nil);
-    OWSAssert([text hasPrefix:COUNTRY_CODE_PREFIX]);
+    OWSAssertDebug(text != nil);
+    OWSAssertDebug([text hasPrefix:COUNTRY_CODE_PREFIX]);
     PhoneNumber *number = [PhoneNumber phoneNumberFromText:text andRegion:@"ZZ"];
 
-    OWSAssert(number != nil);
+    OWSAssertDebug(number != nil);
     return number;
 }
 
@@ -132,7 +132,7 @@ + (NSString *)formatIntAsEN:(int)value
 
 + (NSString *)bestEffortLocalizedPhoneNumberWithE164:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber);
+    OWSAssertDebug(phoneNumber);
 
     if (![phoneNumber hasPrefix:COUNTRY_CODE_PREFIX]) {
         return phoneNumber;
@@ -171,7 +171,7 @@ + (NSString *)regionCodeFromCountryCodeString:(NSString *)countryCodeString {
 }
 
 + (PhoneNumber *)tryParsePhoneNumberFromUserSpecifiedText:(NSString *)text {
-    OWSAssert(text != nil);
+    OWSAssertDebug(text != nil);
 
     if ([text isEqualToString:@""]) {
         return nil;
@@ -218,7 +218,7 @@ + (NSString *)nationalPrefixTransformRuleForClientPhoneNumber:(NSString *)client
         }
         cachedClientPhoneNumber = [clientPhoneNumber copy];
     });
-    OWSAssert([cachedClientPhoneNumber isEqualToString:clientPhoneNumber]);
+    OWSAssertDebug([cachedClientPhoneNumber isEqualToString:clientPhoneNumber]);
     return result;
 }
 
@@ -268,7 +268,7 @@ + (NSString *)nationalPrefixTransformRuleForClientPhoneNumber:(NSString *)client
 + (NSArray<PhoneNumber *> *)tryParsePhoneNumbersFromNormalizedText:(NSString *)text
                                                  clientPhoneNumber:(NSString *)clientPhoneNumber
 {
-    OWSAssert(text != nil);
+    OWSAssertDebug(text != nil);
 
     text = [text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
     if ([text isEqualToString:@""]) {
@@ -276,7 +276,7 @@ + (NSString *)nationalPrefixTransformRuleForClientPhoneNumber:(NSString *)client
     }
     
     NSString *sanitizedString = [self removeFormattingCharacters:text];
-    OWSAssert(sanitizedString != nil);
+    OWSAssertDebug(sanitizedString != nil);
 
     NSMutableArray *result = [NSMutableArray new];
     NSMutableSet *phoneNumberSet = [NSMutableSet new];
@@ -303,7 +303,7 @@ + (NSString *)nationalPrefixTransformRuleForClientPhoneNumber:(NSString *)client
 
     // Order matters; better results should appear first so prefer
     // matches with the same country code as this client's phone number.
-    OWSAssert(clientPhoneNumber.length > 0);
+    OWSAssertDebug(clientPhoneNumber.length > 0);
     if (clientPhoneNumber.length > 0) {
         // Note that NBPhoneNumber uses "country code" to refer to what we call a
         // "calling code" (i.e. 44 in +44123123).  Within SSK we use "country code"
@@ -351,7 +351,7 @@ + (NSString *)removeFormattingCharacters:(NSString *)inputString {
 }
 
 + (PhoneNumber *)tryParsePhoneNumberFromE164:(NSString *)text {
-    OWSAssert(text != nil);
+    OWSAssertDebug(text != nil);
     if (![text hasPrefix:COUNTRY_CODE_PREFIX]) {
         return nil;
     }
diff --git a/SignalServiceKit/src/Contacts/PhoneNumberUtil.m b/SignalServiceKit/src/Contacts/PhoneNumberUtil.m
index 5be24ae7d69..c2e80093b11 100644
--- a/SignalServiceKit/src/Contacts/PhoneNumberUtil.m
+++ b/SignalServiceKit/src/Contacts/PhoneNumberUtil.m
@@ -52,11 +52,11 @@ - (nullable NBPhoneNumber *)parse:(NSString *)numberToParse
     if (!result) {
         result = [self.nbPhoneNumberUtil parse:numberToParse defaultRegion:defaultRegion error:error];
         if (error && *error) {
-            OWSAssert(!result);
+            OWSAssertDebug(!result);
             return nil;
         }
 
-        OWSAssert(result);
+        OWSAssertDebug(result);
 
         if (result) {
             [self.parsedPhoneNumberCache setObject:result forKey:hashKey];
@@ -81,7 +81,7 @@ - (NSString *)format:(NBPhoneNumber *)phoneNumber
 
 // country code -> country name
 + (NSString *)countryNameFromCountryCode:(NSString *)countryCode {
-    OWSAssert(countryCode);
+    OWSAssertDebug(countryCode);
 
     NSDictionary *countryCodeComponent = @{NSLocaleCountryCode : countryCode};
     NSString *identifier               = [NSLocale localeIdentifierFromComponents:countryCodeComponent];
@@ -425,7 +425,7 @@ + (NSString *)callingCodeFromCountryCode:(NSString *)countryCode
 {
     @synchronized(self)
     {
-        OWSAssert(callingCode.length > 0);
+        OWSAssertDebug(callingCode.length > 0);
 
         NSArray *result = self.countryCodesFromCallingCodeCache[callingCode];
         if (!result) {
@@ -445,7 +445,7 @@ + (NSString *)callingCodeFromCountryCode:(NSString *)countryCode
 
 - (NSString *)probableCountryCodeForCallingCode:(NSString *)callingCode
 {
-    OWSAssert(callingCode.length > 0);
+    OWSAssertDebug(callingCode.length > 0);
 
     NSArray<NSString *> *countryCodes = [self countryCodesFromCallingCode:callingCode];
     return (countryCodes.count > 0 ? countryCodes[0] : nil);
@@ -517,9 +517,9 @@ + (NSUInteger)translateCursorPosition:(NSUInteger)offset
                                  from:(NSString *)source
                                    to:(NSString *)target
                     stickingRightward:(bool)preferHigh {
-    OWSAssert(source != nil);
-    OWSAssert(target != nil);
-    OWSAssert(offset <= source.length);
+    OWSAssertDebug(source != nil);
+    OWSAssertDebug(target != nil);
+    OWSAssertDebug(offset <= source.length);
 
     NSUInteger n = source.length;
     NSUInteger m = target.length;
@@ -585,19 +585,19 @@ + (NSString *)examplePhoneNumberForCountryCode:(NSString *)countryCode
     NSError *error;
     NBPhoneNumber *nbPhoneNumber =
         [sharedUtil.nbPhoneNumberUtil getExampleNumberForType:countryCode type:NBEPhoneNumberTypeMOBILE error:&error];
-    OWSAssert(!error);
+    OWSAssertDebug(!error);
     if (!nbPhoneNumber) {
         // For countries that with similar mobile and land lines, use "line or mobile"
         // examples.
         nbPhoneNumber = [sharedUtil.nbPhoneNumberUtil getExampleNumberForType:countryCode
                                                                          type:NBEPhoneNumberTypeFIXED_LINE_OR_MOBILE
                                                                         error:&error];
-        OWSAssert(!error);
+        OWSAssertDebug(!error);
     }
     NSString *result = (nbPhoneNumber
             ? [sharedUtil.nbPhoneNumberUtil format:nbPhoneNumber numberFormat:NBEPhoneNumberFormatE164 error:&error]
             : nil);
-    OWSAssert(!error);
+    OWSAssertDebug(!error);
     return result;
 }
 
diff --git a/SignalServiceKit/src/Contacts/SignalAccount.m b/SignalServiceKit/src/Contacts/SignalAccount.m
index 523947479d1..fb34ee5da44 100644
--- a/SignalServiceKit/src/Contacts/SignalAccount.m
+++ b/SignalServiceKit/src/Contacts/SignalAccount.m
@@ -22,14 +22,14 @@ @implementation SignalAccount
 
 - (instancetype)initWithSignalRecipient:(SignalRecipient *)signalRecipient
 {
-    OWSAssert(signalRecipient);
+    OWSAssertDebug(signalRecipient);
     return [self initWithRecipientId:signalRecipient.recipientId];
 }
 
 - (instancetype)initWithRecipientId:(NSString *)recipientId
 {
     if (self = [super init]) {
-        OWSAssert(recipientId.length > 0);
+        OWSAssertDebug(recipientId.length > 0);
 
         _recipientId = recipientId;
     }
diff --git a/SignalServiceKit/src/Contacts/SignalRecipient.m b/SignalServiceKit/src/Contacts/SignalRecipient.m
index 955c4e773f0..87be54d2cda 100644
--- a/SignalServiceKit/src/Contacts/SignalRecipient.m
+++ b/SignalServiceKit/src/Contacts/SignalRecipient.m
@@ -21,8 +21,8 @@ @implementation SignalRecipient
 + (instancetype)getOrBuildUnsavedRecipientForRecipientId:(NSString *)recipientId
                                              transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(recipientId.length > 0);
     
     SignalRecipient *_Nullable recipient = [self registeredRecipientForRecipientId:recipientId transaction:transaction];
     if (!recipient) {
@@ -38,7 +38,7 @@ - (instancetype)initWithTextSecureIdentifier:(NSString *)textSecureIdentifier
         return self;
     }
 
-    OWSAssert([TSAccountManager localNumber].length > 0);
+    OWSAssertDebug([TSAccountManager localNumber].length > 0);
     if ([[TSAccountManager localNumber] isEqualToString:textSecureIdentifier]) {
         // Default to no devices.
         //
@@ -80,15 +80,15 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
 + (nullable instancetype)registeredRecipientForRecipientId:(NSString *)recipientId
                                                transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(recipientId.length > 0);
 
     return [self fetchObjectWithUniqueID:recipientId transaction:transaction];
 }
 
 + (nullable instancetype)recipientForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block SignalRecipient *recipient;
     [self.dbReadConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
@@ -109,7 +109,7 @@ + (instancetype)selfRecipient
 
 - (void)addDevices:(NSSet *)devices
 {
-    OWSAssert(devices.count > 0);
+    OWSAssertDebug(devices.count > 0);
     
     if ([self.uniqueId isEqual:[TSAccountManager localNumber]] && [devices containsObject:@(1)]) {
         OWSFailDebug(@"adding self as recipient device");
@@ -123,7 +123,7 @@ - (void)addDevices:(NSSet *)devices
 
 - (void)removeDevices:(NSSet *)devices
 {
-    OWSAssert(devices.count > 0);
+    OWSAssertDebug(devices.count > 0);
 
     NSMutableOrderedSet *updatedDevices = [self.devices mutableCopy];
     [updatedDevices minusSet:devices];
@@ -132,8 +132,8 @@ - (void)removeDevices:(NSSet *)devices
 
 - (void)addDevicesToRegisteredRecipient:(NSSet *)devices transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(devices.count > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(devices.count > 0);
     
     [self addDevices:devices];
 
@@ -151,8 +151,8 @@ - (void)addDevicesToRegisteredRecipient:(NSSet *)devices transaction:(YapDatabas
 
 - (void)removeDevicesFromRecipient:(NSSet *)devices transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(devices.count > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(devices.count > 0);
 
     [self removeDevices:devices];
 
@@ -210,8 +210,8 @@ + (BOOL)isRegisteredRecipient:(NSString *)recipientId transaction:(YapDatabaseRe
 + (SignalRecipient *)markRecipientAsRegisteredAndGet:(NSString *)recipientId
                                          transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalRecipient *_Nullable instance = [self registeredRecipientForRecipientId:recipientId transaction:transaction];
 
@@ -228,8 +228,8 @@ + (void)markRecipientAsRegistered:(NSString *)recipientId
                          deviceId:(UInt32)deviceId
                       transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalRecipient *recipient = [self markRecipientAsRegisteredAndGet:recipientId transaction:transaction];
     if (![recipient.devices containsObject:@(deviceId)]) {
@@ -242,8 +242,8 @@ + (void)markRecipientAsRegistered:(NSString *)recipientId
 
 + (void)removeUnregisteredRecipient:(NSString *)recipientId transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(recipientId.length > 0);
 
     SignalRecipient *_Nullable instance = [self registeredRecipientForRecipientId:recipientId transaction:transaction];
     if (!instance) {
diff --git a/SignalServiceKit/src/Contacts/TSThread.m b/SignalServiceKit/src/Contacts/TSThread.m
index 459ae61ec04..56daa1f89a7 100644
--- a/SignalServiceKit/src/Contacts/TSThread.m
+++ b/SignalServiceKit/src/Contacts/TSThread.m
@@ -96,7 +96,7 @@ - (void)removeAllThreadInteractionsWithTransaction:(YapDatabaseReadWriteTransact
     // or when deleting them.
     NSMutableArray<NSString *> *interactionIds = [NSMutableArray new];
     YapDatabaseViewTransaction *interactionsByThread = [transaction ext:TSMessageDatabaseViewExtensionName];
-    OWSAssert(interactionsByThread);
+    OWSAssertDebug(interactionsByThread);
     __block BOOL didDetectCorruption = NO;
     [interactionsByThread enumerateKeysInGroup:self.uniqueId
                                     usingBlock:^(NSString *collection, NSString *key, NSUInteger index, BOOL *stop) {
@@ -261,12 +261,12 @@ - (void)markAllAsReadWithTransaction:(YapDatabaseReadWriteTransaction *)transact
     }
 
     // Just to be defensive, we'll also check for unread messages.
-    OWSAssert([self unseenMessagesWithTransaction:transaction].count < 1);
+    OWSAssertDebug([self unseenMessagesWithTransaction:transaction].count < 1);
 }
 
 - (nullable TSInteraction *)lastInteractionForInboxWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     __block NSUInteger missedCount = 0;
     __block TSInteraction *last = nil;
@@ -276,7 +276,7 @@ - (nullable TSInteraction *)lastInteractionForInboxWithTransaction:(YapDatabaseR
      usingBlock:^(
                   NSString *collection, NSString *key, id object, id metadata, NSUInteger index, BOOL *stop) {
          
-         OWSAssert([object isKindOfClass:[TSInteraction class]]);
+         OWSAssertDebug([object isKindOfClass:[TSInteraction class]]);
 
          missedCount++;
          TSInteraction *interaction = (TSInteraction *)object;
@@ -319,7 +319,7 @@ - (NSString *)lastMessageTextWithTransaction:(YapDatabaseReadTransaction *)trans
 // Returns YES IFF the interaction should show up in the inbox as the last message.
 + (BOOL)shouldInteractionAppearInInbox:(TSInteraction *)interaction
 {
-    OWSAssert(interaction);
+    OWSAssertDebug(interaction);
 
     if (interaction.isDynamicInteraction) {
         return NO;
@@ -343,8 +343,8 @@ + (BOOL)shouldInteractionAppearInInbox:(TSInteraction *)interaction
 }
 
 - (void)updateWithLastMessage:(TSInteraction *)lastMessage transaction:(YapDatabaseReadWriteTransaction *)transaction {
-    OWSAssert(lastMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(lastMessage);
+    OWSAssertDebug(transaction);
 
     if (![self.class shouldInteractionAppearInInbox:lastMessage]) {
         return;
diff --git a/SignalServiceKit/src/Contacts/Threads/TSContactThread.m b/SignalServiceKit/src/Contacts/Threads/TSContactThread.m
index 53464dee5b0..c882b5e52b4 100644
--- a/SignalServiceKit/src/Contacts/Threads/TSContactThread.m
+++ b/SignalServiceKit/src/Contacts/Threads/TSContactThread.m
@@ -20,7 +20,7 @@ @implementation TSContactThread
 - (instancetype)initWithContactId:(NSString *)contactId {
     NSString *uniqueIdentifier = [[self class] threadIdFromContactId:contactId];
 
-    OWSAssert(contactId.length > 0);
+    OWSAssertDebug(contactId.length > 0);
 
     self = [super initWithUniqueId:uniqueIdentifier];
 
@@ -29,7 +29,7 @@ - (instancetype)initWithContactId:(NSString *)contactId {
 
 + (instancetype)getOrCreateThreadWithContactId:(NSString *)contactId
                                    transaction:(YapDatabaseReadWriteTransaction *)transaction {
-    OWSAssert(contactId.length > 0);
+    OWSAssertDebug(contactId.length > 0);
 
     TSContactThread *thread =
         [self fetchObjectWithUniqueID:[self threadIdFromContactId:contactId] transaction:transaction];
@@ -44,7 +44,7 @@ + (instancetype)getOrCreateThreadWithContactId:(NSString *)contactId
 
 + (instancetype)getOrCreateThreadWithContactId:(NSString *)contactId
 {
-    OWSAssert(contactId.length > 0);
+    OWSAssertDebug(contactId.length > 0);
 
     __block TSContactThread *thread;
     [[self dbReadWriteConnection] readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
diff --git a/SignalServiceKit/src/Contacts/Threads/TSGroupThread.m b/SignalServiceKit/src/Contacts/Threads/TSGroupThread.m
index 98a3ded81f1..91cdf708fc7 100644
--- a/SignalServiceKit/src/Contacts/Threads/TSGroupThread.m
+++ b/SignalServiceKit/src/Contacts/Threads/TSGroupThread.m
@@ -20,11 +20,11 @@ @implementation TSGroupThread
 
 - (instancetype)initWithGroupModel:(TSGroupModel *)groupModel
 {
-    OWSAssert(groupModel);
-    OWSAssert(groupModel.groupId.length > 0);
-    OWSAssert(groupModel.groupMemberIds.count > 0);
+    OWSAssertDebug(groupModel);
+    OWSAssertDebug(groupModel.groupId.length > 0);
+    OWSAssertDebug(groupModel.groupMemberIds.count > 0);
     for (NSString *recipientId in groupModel.groupMemberIds) {
-        OWSAssert(recipientId.length > 0);
+        OWSAssertDebug(recipientId.length > 0);
     }
 
     NSString *uniqueIdentifier = [[self class] threadIdFromGroupId:groupModel.groupId];
@@ -40,10 +40,10 @@ - (instancetype)initWithGroupModel:(TSGroupModel *)groupModel
 
 - (instancetype)initWithGroupId:(NSData *)groupId
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     NSString *localNumber = [TSAccountManager localNumber];
-    OWSAssert(localNumber.length > 0);
+    OWSAssertDebug(localNumber.length > 0);
 
     TSGroupModel *groupModel = [[TSGroupModel alloc] initWithTitle:nil
                                                          memberIds:@[ localNumber ]
@@ -60,7 +60,7 @@ - (instancetype)initWithGroupId:(NSData *)groupId
 
 + (nullable instancetype)threadWithGroupId:(NSData *)groupId transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     return [self fetchObjectWithUniqueID:[self threadIdFromGroupId:groupId] transaction:transaction];
 }
@@ -68,8 +68,8 @@ + (nullable instancetype)threadWithGroupId:(NSData *)groupId transaction:(YapDat
 + (instancetype)getOrCreateThreadWithGroupId:(NSData *)groupId
                                  transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(groupId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(groupId.length > 0);
+    OWSAssertDebug(transaction);
 
     TSGroupThread *thread = [self fetchObjectWithUniqueID:[self threadIdFromGroupId:groupId] transaction:transaction];
     if (!thread) {
@@ -81,7 +81,7 @@ + (instancetype)getOrCreateThreadWithGroupId:(NSData *)groupId
 
 + (instancetype)getOrCreateThreadWithGroupId:(NSData *)groupId
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     __block TSGroupThread *thread;
     [[self dbReadWriteConnection] readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -92,9 +92,9 @@ + (instancetype)getOrCreateThreadWithGroupId:(NSData *)groupId
 
 + (instancetype)getOrCreateThreadWithGroupModel:(TSGroupModel *)groupModel
                                     transaction:(YapDatabaseReadWriteTransaction *)transaction {
-    OWSAssert(groupModel);
-    OWSAssert(groupModel.groupId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(groupModel);
+    OWSAssertDebug(groupModel.groupId.length > 0);
+    OWSAssertDebug(transaction);
 
     TSGroupThread *thread =
         [self fetchObjectWithUniqueID:[self threadIdFromGroupId:groupModel.groupId] transaction:transaction];
@@ -108,8 +108,8 @@ + (instancetype)getOrCreateThreadWithGroupModel:(TSGroupModel *)groupModel
 
 + (instancetype)getOrCreateThreadWithGroupModel:(TSGroupModel *)groupModel
 {
-    OWSAssert(groupModel);
-    OWSAssert(groupModel.groupId.length > 0);
+    OWSAssertDebug(groupModel);
+    OWSAssertDebug(groupModel.groupId.length > 0);
 
     __block TSGroupThread *thread;
     [[self dbReadWriteConnection] readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -120,14 +120,14 @@ + (instancetype)getOrCreateThreadWithGroupModel:(TSGroupModel *)groupModel
 
 + (NSString *)threadIdFromGroupId:(NSData *)groupId
 {
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
 
     return [TSGroupThreadPrefix stringByAppendingString:[groupId base64EncodedString]];
 }
 
 + (NSData *)groupIdFromThreadId:(NSString *)threadId
 {
-    OWSAssert(threadId.length > 0);
+    OWSAssertDebug(threadId.length > 0);
 
     return [NSData dataFromBase64String:[threadId substringWithRange:NSMakeRange(1, threadId.length - 1)]];
 }
@@ -151,8 +151,8 @@ + (NSData *)groupIdFromThreadId:(NSString *)threadId
 + (NSArray<TSGroupThread *> *)groupThreadsWithRecipientId:(NSString *)recipientId
                                               transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSGroupThread *> *groupThreads = [NSMutableArray new];
 
@@ -188,8 +188,8 @@ - (void)updateAvatarWithAttachmentStream:(TSAttachmentStream *)attachmentStream
 - (void)updateAvatarWithAttachmentStream:(TSAttachmentStream *)attachmentStream
                              transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(attachmentStream);
-    OWSAssert(transaction);
+    OWSAssertDebug(attachmentStream);
+    OWSAssertDebug(transaction);
 
     self.groupModel.groupImage = [attachmentStream image];
     [self saveWithTransaction:transaction];
diff --git a/SignalServiceKit/src/Devices/OWSChunkedOutputStream.m b/SignalServiceKit/src/Devices/OWSChunkedOutputStream.m
index 1e37b5bd034..23026bc199a 100644
--- a/SignalServiceKit/src/Devices/OWSChunkedOutputStream.m
+++ b/SignalServiceKit/src/Devices/OWSChunkedOutputStream.m
@@ -21,7 +21,7 @@ @implementation OWSChunkedOutputStream
 - (instancetype)initWithOutputStream:(NSOutputStream *)outputStream
 {
     if (self = [super init]) {
-        OWSAssert(outputStream);
+        OWSAssertDebug(outputStream);
         _outputStream = outputStream;
     }
 
@@ -41,7 +41,7 @@ - (BOOL)writeByte:(uint8_t)value
 
 - (BOOL)writeData:(NSData *)data
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     if (data.length < 1) {
         return YES;
diff --git a/SignalServiceKit/src/Devices/OWSContactsOutputStream.m b/SignalServiceKit/src/Devices/OWSContactsOutputStream.m
index 92f93877e06..b9270220df7 100644
--- a/SignalServiceKit/src/Devices/OWSContactsOutputStream.m
+++ b/SignalServiceKit/src/Devices/OWSContactsOutputStream.m
@@ -27,9 +27,9 @@ - (void)writeSignalAccount:(SignalAccount *)signalAccount
      conversationColorName:(NSString *)conversationColorName
 disappearingMessagesConfiguration:(nullable OWSDisappearingMessagesConfiguration *)disappearingMessagesConfiguration
 {
-    OWSAssert(signalAccount);
-    OWSAssert(signalAccount.contact);
-    OWSAssert(contactsManager);
+    OWSAssertDebug(signalAccount);
+    OWSAssertDebug(signalAccount.contact);
+    OWSAssertDebug(contactsManager);
 
     SSKProtoContactDetailsBuilder *contactBuilder = [SSKProtoContactDetailsBuilder new];
     [contactBuilder setName:signalAccount.contact.fullName];
@@ -69,7 +69,7 @@ - (void)writeSignalAccount:(SignalAccount *)signalAccount
     }
 
     if (profileKeyData) {
-        OWSAssert(profileKeyData.length == kAES256_KeyByteLength);
+        OWSAssertDebug(profileKeyData.length == kAES256_KeyByteLength);
         [contactBuilder setProfileKey:profileKeyData];
     }
 
diff --git a/SignalServiceKit/src/Devices/OWSDevice.m b/SignalServiceKit/src/Devices/OWSDevice.m
index 20d759c7bdd..a6b54f1f34f 100644
--- a/SignalServiceKit/src/Devices/OWSDevice.m
+++ b/SignalServiceKit/src/Devices/OWSDevice.m
@@ -44,7 +44,7 @@ - (instancetype)initDefault
 
 - (BOOL)mayHaveLinkedDevices:(YapDatabaseConnection *)dbConnection
 {
-    OWSAssert(dbConnection);
+    OWSAssertDebug(dbConnection);
 
     return [dbConnection boolForKey:kOWSPrimaryStorage_MayHaveLinkedDevices
                        inCollection:kOWSPrimaryStorage_OWSDeviceCollection
diff --git a/SignalServiceKit/src/Devices/OWSGroupsOutputStream.m b/SignalServiceKit/src/Devices/OWSGroupsOutputStream.m
index cd255434bd7..d8faf2b9b5f 100644
--- a/SignalServiceKit/src/Devices/OWSGroupsOutputStream.m
+++ b/SignalServiceKit/src/Devices/OWSGroupsOutputStream.m
@@ -15,11 +15,11 @@ @implementation OWSGroupsOutputStream
 
 - (void)writeGroup:(TSGroupThread *)groupThread transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(groupThread);
-    OWSAssert(transaction);
+    OWSAssertDebug(groupThread);
+    OWSAssertDebug(transaction);
 
     TSGroupModel *group = groupThread.groupModel;
-    OWSAssert(group);
+    OWSAssertDebug(group);
 
     SSKProtoGroupDetailsBuilder *groupBuilder = [SSKProtoGroupDetailsBuilder new];
     [groupBuilder setId:group.groupId];
diff --git a/SignalServiceKit/src/Devices/OWSLinkedDeviceReadReceipt.m b/SignalServiceKit/src/Devices/OWSLinkedDeviceReadReceipt.m
index 7dfa06420c0..79eff24ccc5 100644
--- a/SignalServiceKit/src/Devices/OWSLinkedDeviceReadReceipt.m
+++ b/SignalServiceKit/src/Devices/OWSLinkedDeviceReadReceipt.m
@@ -12,7 +12,7 @@ - (instancetype)initWithSenderId:(NSString *)senderId
               messageIdTimestamp:(uint64_t)messageIdTimestamp
                    readTimestamp:(uint64_t)readTimestamp
 {
-    OWSAssert(senderId.length > 0 && messageIdTimestamp > 0);
+    OWSAssertDebug(senderId.length > 0 && messageIdTimestamp > 0);
 
     NSString *receiptId =
         [OWSLinkedDeviceReadReceipt uniqueIdForSenderId:senderId messageIdTimestamp:messageIdTimestamp];
@@ -38,7 +38,7 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
     // renamed timestamp -> messageIdTimestamp
     if (!_messageIdTimestamp) {
         NSNumber *_Nullable legacyTimestamp = (NSNumber *)[coder decodeObjectForKey:@"timestamp"];
-        OWSAssert(legacyTimestamp.unsignedLongLongValue > 0);
+        OWSAssertDebug(legacyTimestamp.unsignedLongLongValue > 0);
         _messageIdTimestamp = legacyTimestamp.unsignedLongLongValue;
     }
 
@@ -55,7 +55,7 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
 
 + (NSString *)uniqueIdForSenderId:(NSString *)senderId messageIdTimestamp:(uint64_t)messageIdTimestamp
 {
-    OWSAssert(senderId.length > 0 && messageIdTimestamp > 0);
+    OWSAssertDebug(senderId.length > 0 && messageIdTimestamp > 0);
 
     return [NSString stringWithFormat:@"%@-%llu", senderId, messageIdTimestamp];
 }
@@ -65,7 +65,7 @@ + (nullable OWSLinkedDeviceReadReceipt *)findLinkedDeviceReadReceiptWithSenderId
                                                                      transaction:
                                                                          (YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
     NSString *receiptId =
         [OWSLinkedDeviceReadReceipt uniqueIdForSenderId:senderId messageIdTimestamp:messageIdTimestamp];
     return [OWSLinkedDeviceReadReceipt fetchObjectWithUniqueID:receiptId transaction:transaction];
diff --git a/SignalServiceKit/src/Devices/OWSReadReceiptsForSenderMessage.m b/SignalServiceKit/src/Devices/OWSReadReceiptsForSenderMessage.m
index d16457ab331..4d06a8d0ef5 100644
--- a/SignalServiceKit/src/Devices/OWSReadReceiptsForSenderMessage.m
+++ b/SignalServiceKit/src/Devices/OWSReadReceiptsForSenderMessage.m
@@ -56,7 +56,7 @@ - (BOOL)isSilent
 
 - (nullable NSData *)buildPlainTextData:(SignalRecipient *)recipient
 {
-    OWSAssert(recipient);
+    OWSAssertDebug(recipient);
 
     SSKProtoReceiptMessage *_Nullable receiptMessage = [self buildReceiptMessage:recipient.recipientId];
     if (!receiptMessage) {
@@ -81,7 +81,7 @@ - (nullable SSKProtoReceiptMessage *)buildReceiptMessage:(NSString *)recipientId
     SSKProtoReceiptMessageBuilder *builder = [SSKProtoReceiptMessageBuilder new];
     [builder setType:SSKProtoReceiptMessageTypeRead];
 
-    OWSAssert(self.messageTimestamps.count > 0);
+    OWSAssertDebug(self.messageTimestamps.count > 0);
     for (NSNumber *messageTimestamp in self.messageTimestamps) {
         [builder addTimestamp:[messageTimestamp unsignedLongLongValue]];
     }
diff --git a/SignalServiceKit/src/Devices/OWSRecordTranscriptJob.m b/SignalServiceKit/src/Devices/OWSRecordTranscriptJob.m
index fd03db17320..74e3c3b8d6e 100644
--- a/SignalServiceKit/src/Devices/OWSRecordTranscriptJob.m
+++ b/SignalServiceKit/src/Devices/OWSRecordTranscriptJob.m
@@ -62,7 +62,7 @@ - (instancetype)initWithIncomingSentMessageTranscript:(OWSIncomingSentMessageTra
 - (void)runWithAttachmentHandler:(void (^)(TSAttachmentStream *attachmentStream))attachmentHandler
                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSIncomingSentMessageTranscript *transcript = self.incomingSentMessageTranscript;
     OWSLogDebug(@"Recording transcript: %@", transcript);
@@ -134,8 +134,8 @@ - (void)runWithAttachmentHandler:(void (^)(TSAttachmentStream *attachmentStream)
 
 
         // early return to avoid saving an empty incoming message.
-        OWSAssert(transcript.body.length == 0);
-        OWSAssert(outgoingMessage.attachmentIds.count == 0);
+        OWSAssertDebug(transcript.body.length == 0);
+        OWSAssertDebug(outgoingMessage.attachmentIds.count == 0);
         
         return;
     }
diff --git a/SignalServiceKit/src/Devices/OWSVerificationStateSyncMessage.m b/SignalServiceKit/src/Devices/OWSVerificationStateSyncMessage.m
index c7e3146093c..daad0dc00ed 100644
--- a/SignalServiceKit/src/Devices/OWSVerificationStateSyncMessage.m
+++ b/SignalServiceKit/src/Devices/OWSVerificationStateSyncMessage.m
@@ -26,12 +26,12 @@ - (instancetype)initWithVerificationState:(OWSVerificationState)verificationStat
                               identityKey:(NSData *)identityKey
                verificationForRecipientId:(NSString *)verificationForRecipientId
 {
-    OWSAssert(identityKey.length == kIdentityKeyLength);
-    OWSAssert(verificationForRecipientId.length > 0);
+    OWSAssertDebug(identityKey.length == kIdentityKeyLength);
+    OWSAssertDebug(verificationForRecipientId.length > 0);
 
     // we only sync user's marking as un/verified. Never sync the conflicted state, the sibling device
     // will figure that out on it's own.
-    OWSAssert(verificationState != OWSVerificationStateNoLongerVerified);
+    OWSAssertDebug(verificationState != OWSVerificationStateNoLongerVerified);
 
     self = [super init];
     if (!self) {
@@ -56,19 +56,19 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
 
 - (nullable SSKProtoSyncMessageBuilder *)syncMessageBuilder
 {
-    OWSAssert(self.identityKey.length == kIdentityKeyLength);
-    OWSAssert(self.verificationForRecipientId.length > 0);
+    OWSAssertDebug(self.identityKey.length == kIdentityKeyLength);
+    OWSAssertDebug(self.verificationForRecipientId.length > 0);
 
     // we only sync user's marking as un/verified. Never sync the conflicted state, the sibling device
     // will figure that out on it's own.
-    OWSAssert(self.verificationState != OWSVerificationStateNoLongerVerified);
+    OWSAssertDebug(self.verificationState != OWSVerificationStateNoLongerVerified);
 
     // We add the same amount of padding in the VerificationStateSync message and it's coresponding NullMessage so that
     // the sync message is indistinguishable from an outgoing Sent transcript corresponding to the NullMessage. We pad
     // the NullMessage so as to obscure it's content. The sync message (like all sync messages) will be *additionally*
     // padded by the superclass while being sent. The end result is we send a NullMessage of a non-distinct size, and a
     // verification sync which is ~1-512 bytes larger then that.
-    OWSAssert(self.paddingBytesLength != 0);
+    OWSAssertDebug(self.paddingBytesLength != 0);
 
     SSKProtoVerified *_Nullable verifiedProto = BuildVerifiedProtoWithRecipientId(
         self.verificationForRecipientId, self.identityKey, self.verificationState, self.paddingBytesLength);
@@ -84,12 +84,12 @@ - (nullable SSKProtoSyncMessageBuilder *)syncMessageBuilder
 
 - (size_t)unpaddedVerifiedLength
 {
-    OWSAssert(self.identityKey.length == kIdentityKeyLength);
-    OWSAssert(self.verificationForRecipientId.length > 0);
+    OWSAssertDebug(self.identityKey.length == kIdentityKeyLength);
+    OWSAssertDebug(self.verificationForRecipientId.length > 0);
 
     // we only sync user's marking as un/verified. Never sync the conflicted state, the sibling device
     // will figure that out on it's own.
-    OWSAssert(self.verificationState != OWSVerificationStateNoLongerVerified);
+    OWSAssertDebug(self.verificationState != OWSVerificationStateNoLongerVerified);
 
     SSKProtoVerified *_Nullable verifiedProto = BuildVerifiedProtoWithRecipientId(
         self.verificationForRecipientId, self.identityKey, self.verificationState, 0);
diff --git a/SignalServiceKit/src/Messages/Attachments/OWSAttachmentsProcessor.m b/SignalServiceKit/src/Messages/Attachments/OWSAttachmentsProcessor.m
index ce83dc8c179..a88ec0003f6 100644
--- a/SignalServiceKit/src/Messages/Attachments/OWSAttachmentsProcessor.m
+++ b/SignalServiceKit/src/Messages/Attachments/OWSAttachmentsProcessor.m
@@ -103,7 +103,7 @@ - (void)fetchAttachmentsForMessage:(nullable TSMessage *)message
                            success:(void (^)(TSAttachmentStream *attachmentStream))successHandler
                            failure:(void (^)(NSError *error))failureHandler
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     for (TSAttachmentPointer *attachmentPointer in self.attachmentPointers) {
         [self retrieveAttachment:attachmentPointer
@@ -120,7 +120,7 @@ - (void)retrieveAttachment:(TSAttachmentPointer *)attachment
                    success:(void (^)(TSAttachmentStream *attachmentStream))successHandler
                    failure:(void (^)(NSError *error))failureHandler
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     __block OWSBackgroundTask *_Nullable backgroundTask =
         [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
@@ -133,7 +133,7 @@ - (void)retrieveAttachment:(TSAttachmentPointer *)attachment
             [self setAttachment:attachment didFailInMessage:message error:error];
             failureHandler(error);
 
-            OWSAssert(backgroundTask);
+            OWSAssertDebug(backgroundTask);
             backgroundTask = nil;
         });
     };
@@ -146,7 +146,7 @@ - (void)retrieveAttachment:(TSAttachmentPointer *)attachment
                 [message touch];
             }
 
-            OWSAssert(backgroundTask);
+            OWSAssertDebug(backgroundTask);
             backgroundTask = nil;
         });
     };
@@ -272,7 +272,7 @@ - (void)downloadFromLocation:(NSString *)location
     task = [manager GET:location
         parameters:nil
         progress:^(NSProgress *progress) {
-            OWSAssert(progress != nil);
+            OWSAssertDebug(progress != nil);
             
             // Don't do anything until we've received at least one byte of data.
             if (progress.completedUnitCount < 1) {
@@ -385,7 +385,7 @@ - (void)setAttachment:(TSAttachmentPointer *)pointer
     isDownloadingInMessage:(nullable TSMessage *)message
                transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     pointer.state = TSAttachmentPointerStateDownloading;
     [pointer saveWithTransaction:transaction];
diff --git a/SignalServiceKit/src/Messages/Attachments/TSAttachment.m b/SignalServiceKit/src/Messages/Attachments/TSAttachment.m
index d1220ed1707..48c7b3814e0 100644
--- a/SignalServiceKit/src/Messages/Attachments/TSAttachment.m
+++ b/SignalServiceKit/src/Messages/Attachments/TSAttachment.m
@@ -30,8 +30,8 @@ - (instancetype)initWithServerId:(UInt64)serverId
                      contentType:(NSString *)contentType
                   sourceFilename:(nullable NSString *)sourceFilename
 {
-    OWSAssert(serverId > 0);
-    OWSAssert(encryptionKey.length > 0);
+    OWSAssertDebug(serverId > 0);
+    OWSAssertDebug(encryptionKey.length > 0);
     if (byteCount <= 0) {
         // This will fail with legacy iOS clients which don't upload attachment size.
         OWSLogWarn(@"Missing byteCount for attachment with serverId: %lld", serverId);
@@ -41,7 +41,7 @@ - (instancetype)initWithServerId:(UInt64)serverId
 
         contentType = OWSMimeTypeApplicationOctetStream;
     }
-    OWSAssert(contentType.length > 0);
+    OWSAssertDebug(contentType.length > 0);
 
     self = [super init];
     if (!self) {
@@ -70,7 +70,7 @@ - (instancetype)initWithContentType:(NSString *)contentType
 
         contentType = OWSMimeTypeApplicationOctetStream;
     }
-    OWSAssert(contentType.length > 0);
+    OWSAssertDebug(contentType.length > 0);
 
     self = [super init];
     if (!self) {
@@ -91,13 +91,13 @@ - (instancetype)initWithContentType:(NSString *)contentType
 // that represent downloaded incoming attachments.
 - (instancetype)initWithPointer:(TSAttachment *)pointer
 {
-    OWSAssert(pointer.serverId > 0);
-    OWSAssert(pointer.encryptionKey.length > 0);
+    OWSAssertDebug(pointer.serverId > 0);
+    OWSAssertDebug(pointer.encryptionKey.length > 0);
     if (pointer.byteCount <= 0) {
         // This will fail with legacy iOS clients which don't upload attachment size.
         OWSLogWarn(@"Missing pointer.byteCount for attachment with serverId: %lld", pointer.serverId);
     }
-    OWSAssert(pointer.contentType.length > 0);
+    OWSAssertDebug(pointer.contentType.length > 0);
 
     // Once saved, this AttachmentStream will replace the AttachmentPointer in the attachments collection.
     self = [super initWithUniqueId:pointer.uniqueId];
@@ -137,7 +137,7 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
     if (!_sourceFilename) {
         // renamed _filename to _sourceFilename
         _sourceFilename = [coder decodeObjectForKey:@"filename"];
-        OWSAssert(!_sourceFilename || [_sourceFilename isKindOfClass:[NSString class]]);
+        OWSAssertDebug(!_sourceFilename || [_sourceFilename isKindOfClass:[NSString class]]);
     }
 
     if (_contentType.length < 1) {
diff --git a/SignalServiceKit/src/Messages/Attachments/TSAttachmentPointer.m b/SignalServiceKit/src/Messages/Attachments/TSAttachmentPointer.m
index 7ebac72637b..3ccdb8df5ca 100644
--- a/SignalServiceKit/src/Messages/Attachments/TSAttachmentPointer.m
+++ b/SignalServiceKit/src/Messages/Attachments/TSAttachmentPointer.m
@@ -53,9 +53,9 @@ - (instancetype)initWithServerId:(UInt64)serverId
 
 + (TSAttachmentPointer *)attachmentPointerFromProto:(SSKProtoAttachmentPointer *)attachmentProto
 {
-    OWSAssert(attachmentProto.id != 0);
-    OWSAssert(attachmentProto.key != nil);
-    OWSAssert(attachmentProto.contentType != nil);
+    OWSAssertDebug(attachmentProto.id != 0);
+    OWSAssertDebug(attachmentProto.key != nil);
+    OWSAssertDebug(attachmentProto.contentType != nil);
 
     // digest will be empty for old clients.
     NSData *digest = attachmentProto.hasDigest ? attachmentProto.digest : nil;
@@ -88,7 +88,7 @@ - (void)upgradeFromAttachmentSchemaVersion:(NSUInteger)attachmentSchemaVersion
     // Legacy instances of TSAttachmentPointer apparently used the serverId as their
     // uniqueId.
     if (attachmentSchemaVersion < 2 && self.serverId == 0) {
-        OWSAssert([self isDecimalNumberText:self.uniqueId]);
+        OWSAssertDebug([self isDecimalNumberText:self.uniqueId]);
         if ([self isDecimalNumberText:self.uniqueId]) {
             // For legacy instances, try to parse the serverId from the uniqueId.
             self.serverId = [self.uniqueId integerValue];
diff --git a/SignalServiceKit/src/Messages/Attachments/TSAttachmentStream.m b/SignalServiceKit/src/Messages/Attachments/TSAttachmentStream.m
index 080b2c92551..04f81307f40 100644
--- a/SignalServiceKit/src/Messages/Attachments/TSAttachmentStream.m
+++ b/SignalServiceKit/src/Messages/Attachments/TSAttachmentStream.m
@@ -156,7 +156,7 @@ - (void)ensureFilePath
     }
 
     self.localRelativeFilePath = localRelativeFilePath;
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 }
 
 #pragma mark - File Management
@@ -174,7 +174,7 @@ - (nullable NSData *)readDataFromFileWithError:(NSError **)error
 
 - (BOOL)writeData:(NSData *)data error:(NSError **)error
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     *error = nil;
     NSString *_Nullable filePath = self.filePath;
@@ -188,7 +188,7 @@ - (BOOL)writeData:(NSData *)data error:(NSError **)error
 
 - (BOOL)writeDataSource:(DataSource *)dataSource
 {
-    OWSAssert(dataSource);
+    OWSAssertDebug(dataSource);
 
     NSString *_Nullable filePath = self.filePath;
     if (!filePath) {
@@ -319,14 +319,14 @@ - (BOOL)isAudio {
 
 - (BOOL)isValidImage
 {
-    OWSAssert(self.isImage || self.isAnimated);
+    OWSAssertDebug(self.isImage || self.isAnimated);
 
     return [NSData ows_isValidImageAtPath:self.filePath mimeType:self.contentType];
 }
 
 - (BOOL)isValidVideo
 {
-    OWSAssert(self.isVideo);
+    OWSAssertDebug(self.isVideo);
 
     return [NSData ows_isValidVideoAtURL:self.mediaURL];
 }
@@ -380,7 +380,7 @@ - (nullable UIImage *)thumbnailImage
 {
     NSString *thumbnailPath = self.thumbnailPath;
     if (!thumbnailPath) {
-        OWSAssert(!self.isImage && !self.isVideo && !self.isAnimated);
+        OWSAssertDebug(!self.isImage && !self.isVideo && !self.isAnimated);
 
         return nil;
     }
@@ -399,7 +399,7 @@ - (nullable NSData *)thumbnailData
 {
     NSString *thumbnailPath = self.thumbnailPath;
     if (!thumbnailPath) {
-        OWSAssert(!self.isImage && !self.isVideo && !self.isAnimated);
+        OWSAssertDebug(!self.isImage && !self.isVideo && !self.isAnimated);
 
         return nil;
     }
@@ -428,7 +428,7 @@ - (void)ensureThumbnail
     if (![[NSFileManager defaultManager] fileExistsAtPath:self.mediaURL.path]) {
         OWSLogError(@"while generating thumbnail, source file doesn't exist: %@", self.mediaURL);
         // If we're not lazy-restoring this message, the attachment should exist on disk.
-        OWSAssert(self.lazyRestoreFragmentId);
+        OWSAssertDebug(self.lazyRestoreFragmentId);
         return;
     }
 
@@ -443,7 +443,7 @@ - (void)ensureThumbnail
         }
 
         CGImageSourceRef imageSource = CGImageSourceCreateWithURL((__bridge CFURLRef)self.mediaURL, NULL);
-        OWSAssert(imageSource != NULL);
+        OWSAssertDebug(imageSource != NULL);
         NSDictionary *imageOptions = @{
             (NSString const *)kCGImageSourceCreateThumbnailFromImageIfAbsent : (NSNumber const *)kCFBooleanTrue,
             (NSString const *)kCGImageSourceThumbnailMaxPixelSize : @(thumbnailSize),
@@ -475,7 +475,7 @@ - (void)ensureThumbnail
 
     NSData *thumbnailData = UIImageJPEGRepresentation(result, 0.9);
 
-    OWSAssert(thumbnailData.length > 0);
+    OWSAssertDebug(thumbnailData.length > 0);
     OWSLogDebug(@"generated thumbnail with size: %lu", (unsigned long)thumbnailData.length);
     [thumbnailData writeToFile:thumbnailPath atomically:YES];
 }
@@ -613,7 +613,7 @@ - (BOOL)shouldHaveImageSize
 
 - (CGSize)imageSize
 {
-    OWSAssert(self.shouldHaveImageSize);
+    OWSAssertDebug(self.shouldHaveImageSize);
 
     @synchronized(self)
     {
@@ -651,7 +651,7 @@ - (CGSize)imageSize
 - (CGFloat)calculateAudioDurationSeconds
 {
     OWSAssertIsOnMainThread();
-    OWSAssert([self isAudio]);
+    OWSAssertDebug([self isAudio]);
 
     NSError *error;
     AVAudioPlayer *audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:self.mediaURL error:&error];
@@ -730,14 +730,14 @@ - (nullable NSString *)readOversizeText
 - (void)markForLazyRestoreWithFragment:(OWSBackupFragment *)lazyRestoreFragment
                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(lazyRestoreFragment);
-    OWSAssert(transaction);
+    OWSAssertDebug(lazyRestoreFragment);
+    OWSAssertDebug(transaction);
 
     if (!lazyRestoreFragment.uniqueId) {
         // If metadata hasn't been saved yet, save now.
         [lazyRestoreFragment saveWithTransaction:transaction];
 
-        OWSAssert(lazyRestoreFragment.uniqueId);
+        OWSAssertDebug(lazyRestoreFragment.uniqueId);
     }
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSAttachmentStream *attachment) {
@@ -784,7 +784,7 @@ - (nullable TSAttachmentStream *)cloneAsThumbnail
 
 + (nullable SSKProtoAttachmentPointer *)buildProtoForAttachmentId:(nullable NSString *)attachmentId
 {
-    OWSAssert(attachmentId.length > 0);
+    OWSAssertDebug(attachmentId.length > 0);
 
     // TODO we should past in a transaction, rather than sneakily generate one in `fetch...` to make sure we're
     // getting a consistent view in the message sending process. A brief glance shows it touches quite a bit of code,
@@ -806,7 +806,7 @@ - (nullable SSKProtoAttachmentPointer *)buildProto
 
     builder.id = self.serverId;
 
-    OWSAssert(self.contentType.length > 0);
+    OWSAssertDebug(self.contentType.length > 0);
     builder.contentType = self.contentType;
 
     OWSLogVerbose(@"Sending attachment with filename: '%@'", self.sourceFilename);
diff --git a/SignalServiceKit/src/Messages/DeviceSyncing/OWSSyncGroupsRequestMessage.m b/SignalServiceKit/src/Messages/DeviceSyncing/OWSSyncGroupsRequestMessage.m
index 0a966ef8a23..7f491f9d25d 100644
--- a/SignalServiceKit/src/Messages/DeviceSyncing/OWSSyncGroupsRequestMessage.m
+++ b/SignalServiceKit/src/Messages/DeviceSyncing/OWSSyncGroupsRequestMessage.m
@@ -34,7 +34,7 @@ - (instancetype)initWithThread:(nullable TSThread *)thread groupId:(NSData *)gro
         return self;
     }
 
-    OWSAssert(groupId.length > 0);
+    OWSAssertDebug(groupId.length > 0);
     _groupId = groupId;
 
     return self;
diff --git a/SignalServiceKit/src/Messages/Interactions/OWSContact.m b/SignalServiceKit/src/Messages/Interactions/OWSContact.m
index b5e583cc6c5..aface13279c 100644
--- a/SignalServiceKit/src/Messages/Interactions/OWSContact.m
+++ b/SignalServiceKit/src/Messages/Interactions/OWSContact.m
@@ -458,7 +458,7 @@ - (NSString *)debugDescription
 
 - (OWSContact *)newContactWithName:(OWSContactName *)name
 {
-    OWSAssert(name);
+    OWSAssertDebug(name);
 
     OWSContact *newContact = [OWSContact new];
 
@@ -471,7 +471,7 @@ - (OWSContact *)newContactWithName:(OWSContactName *)name
 
 - (OWSContact *)copyContactWithName:(OWSContactName *)name
 {
-    OWSAssert(name);
+    OWSAssertDebug(name);
 
     OWSContact *contactCopy = [self copy];
 
@@ -500,7 +500,7 @@ - (void)saveAvatarImage:(UIImage *)image transaction:(YapDatabaseReadWriteTransa
 
     NSError *error;
     BOOL success = [attachmentStream writeData:imageData error:&error];
-    OWSAssert(success && !error);
+    OWSAssertDebug(success && !error);
 
     [attachmentStream saveWithTransaction:transaction];
     self.avatarAttachmentId = attachmentStream.uniqueId;
@@ -517,7 +517,7 @@ - (void)removeAvatarAttachmentWithTransaction:(YapDatabaseReadWriteTransaction *
 
 - (NSArray<NSString *> *)systemContactsWithSignalAccountPhoneNumbers:(id<ContactsManagerProtocol>)contactsManager
 {
-    OWSAssert(contactsManager);
+    OWSAssertDebug(contactsManager);
 
     return [self.e164PhoneNumbers
         filteredArrayUsingPredicate:[NSPredicate predicateWithBlock:^BOOL(NSString *_Nullable recipientId,
@@ -528,7 +528,7 @@ - (void)removeAvatarAttachmentWithTransaction:(YapDatabaseReadWriteTransaction *
 
 - (NSArray<NSString *> *)systemContactPhoneNumbers:(id<ContactsManagerProtocol>)contactsManager
 {
-    OWSAssert(contactsManager);
+    OWSAssertDebug(contactsManager);
 
     return [self.e164PhoneNumbers
         filteredArrayUsingPredicate:[NSPredicate predicateWithBlock:^BOOL(NSString *_Nullable recipientId,
@@ -768,7 +768,7 @@ + (nullable CNContact *)systemContactForContact:(OWSContact *)contact imageData:
 
 + (nullable SSKProtoDataMessageContact *)protoForContact:(OWSContact *)contact
 {
-    OWSAssert(contact);
+    OWSAssertDebug(contact);
 
     SSKProtoDataMessageContactBuilder *contactBuilder =
         [SSKProtoDataMessageContactBuilder new];
@@ -930,12 +930,12 @@ + (nullable SSKProtoDataMessageContact *)protoForContact:(OWSContact *)contact
 + (nullable OWSContact *)contactForDataMessage:(SSKProtoDataMessage *)dataMessage
                                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(dataMessage);
+    OWSAssertDebug(dataMessage);
 
     if (dataMessage.contact.count < 1) {
         return nil;
     }
-    OWSAssert(dataMessage.contact.count == 1);
+    OWSAssertDebug(dataMessage.contact.count == 1);
     SSKProtoDataMessageContact *contactProto = dataMessage.contact.firstObject;
 
     OWSContact *contact = [OWSContact new];
diff --git a/SignalServiceKit/src/Messages/Interactions/OWSDisappearingConfigurationUpdateInfoMessage.m b/SignalServiceKit/src/Messages/Interactions/OWSDisappearingConfigurationUpdateInfoMessage.m
index 13561f40cd2..da4be63772f 100644
--- a/SignalServiceKit/src/Messages/Interactions/OWSDisappearingConfigurationUpdateInfoMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/OWSDisappearingConfigurationUpdateInfoMessage.m
@@ -33,7 +33,7 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
     _configurationDurationSeconds = configuration.durationSeconds;
 
     // At most one should be set
-    OWSAssert(!remoteName || !createdInExistingGroup);
+    OWSAssertDebug(!remoteName || !createdInExistingGroup);
 
     _createdByRemoteName = remoteName;
     _createdInExistingGroup = createdInExistingGroup;
@@ -51,7 +51,7 @@ - (BOOL)shouldUseReceiptDateForSorting
 -(NSString *)previewTextWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
     if (self.createdInExistingGroup) {
-        OWSAssert(self.configurationIsEnabled && self.configurationDurationSeconds > 0);
+        OWSAssertDebug(self.configurationIsEnabled && self.configurationDurationSeconds > 0);
         NSString *infoFormat = NSLocalizedString(@"DISAPPEARING_MESSAGES_CONFIGURATION_GROUP_EXISTING_FORMAT",
             @"Info Message when added to a group which has enabled disappearing messages. Embeds {{time amount}} "
             @"before messages disappear, see the *_TIME_AMOUNT strings for context.");
diff --git a/SignalServiceKit/src/Messages/Interactions/OWSDynamicOutgoingMessage.m b/SignalServiceKit/src/Messages/Interactions/OWSDynamicOutgoingMessage.m
index 7d1a735291b..bfc008f15a4 100644
--- a/SignalServiceKit/src/Messages/Interactions/OWSDynamicOutgoingMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/OWSDynamicOutgoingMessage.m
@@ -53,7 +53,7 @@ - (BOOL)shouldBeSaved
 - (nullable NSData *)buildPlainTextData:(SignalRecipient *)recipient
 {
     NSData *plainTextData = self.block(recipient);
-    OWSAssert(plainTextData);
+    OWSAssertDebug(plainTextData);
     return plainTextData;
 }
 
diff --git a/SignalServiceKit/src/Messages/Interactions/OWSVerificationStateChangeMessage.m b/SignalServiceKit/src/Messages/Interactions/OWSVerificationStateChangeMessage.m
index 8b82f51b292..31c33e8036b 100644
--- a/SignalServiceKit/src/Messages/Interactions/OWSVerificationStateChangeMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/OWSVerificationStateChangeMessage.m
@@ -15,7 +15,7 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
                 verificationState:(OWSVerificationState)verificationState
                     isLocalChange:(BOOL)isLocalChange
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     self = [super initWithTimestamp:timestamp inThread:thread messageType:TSInfoMessageVerificationStateChange];
     if (!self) {
diff --git a/SignalServiceKit/src/Messages/Interactions/TSErrorMessage.m b/SignalServiceKit/src/Messages/Interactions/TSErrorMessage.m
index 838289a1bab..de9d614ceb7 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSErrorMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSErrorMessage.m
@@ -206,7 +206,7 @@ - (void)markAsReadAtTimestamp:(uint64_t)readTimestamp
               sendReadReceipt:(BOOL)sendReadReceipt
                   transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (_read) {
         return;
diff --git a/SignalServiceKit/src/Messages/Interactions/TSIncomingMessage.m b/SignalServiceKit/src/Messages/Interactions/TSIncomingMessage.m
index 4514c433988..f88f097ecad 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSIncomingMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSIncomingMessage.m
@@ -70,7 +70,7 @@ + (nullable instancetype)findMessageWithAuthorId:(NSString *)authorId
                                        timestamp:(uint64_t)timestamp
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     __block TSIncomingMessage *foundMessage;
     // In theory we could build a new secondaryIndex for (authorId,timestamp), but in practice there should
@@ -84,7 +84,7 @@ + (nullable instancetype)findMessageWithAuthorId:(NSString *)authorId
                                      TSIncomingMessage *message = (TSIncomingMessage *)interaction;
 
                                      NSString *messageAuthorId = message.messageAuthorId;
-                                     OWSAssert(messageAuthorId.length > 0);
+                                     OWSAssertDebug(messageAuthorId.length > 0);
 
                                      if ([messageAuthorId isEqualToString:authorId]) {
                                          foundMessage = message;
@@ -109,7 +109,7 @@ - (NSString *)messageAuthorId
         // Contact Thread
         messageAuthorId = [TSContactThread contactIdFromThreadId:self.uniqueThreadId];
     }
-    OWSAssert(messageAuthorId.length > 0);
+    OWSAssertDebug(messageAuthorId.length > 0);
     return messageAuthorId;
 }
 
@@ -149,7 +149,7 @@ - (void)markAsReadAtTimestamp:(uint64_t)readTimestamp
               sendReadReceipt:(BOOL)sendReadReceipt
                   transaction:(YapDatabaseReadWriteTransaction *)transaction;
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (_read && readTimestamp >= self.expireStartedAt) {
         return;
diff --git a/SignalServiceKit/src/Messages/Interactions/TSInfoMessage.m b/SignalServiceKit/src/Messages/Interactions/TSInfoMessage.m
index 0c3e7814f11..5100b1fc58d 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSInfoMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSInfoMessage.m
@@ -97,8 +97,8 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
 
 + (instancetype)userNotRegisteredMessageInThread:(TSThread *)thread recipientId:(NSString *)recipientId
 {
-    OWSAssert(thread);
-    OWSAssert(recipientId);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(recipientId);
 
     return [[self alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
                                   inThread:thread
@@ -168,7 +168,7 @@ - (void)markAsReadAtTimestamp:(uint64_t)readTimestamp
               sendReadReceipt:(BOOL)sendReadReceipt
                   transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (_read) {
         return;
diff --git a/SignalServiceKit/src/Messages/Interactions/TSInteraction.m b/SignalServiceKit/src/Messages/Interactions/TSInteraction.m
index b7b90ff8068..d76cfe9e5ac 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSInteraction.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSInteraction.m
@@ -36,7 +36,7 @@ @implementation TSInteraction
                                                 ofClass:(Class)clazz
                                         withTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(timestamp > 0);
 
     // Accept any interaction.
     return [self interactionsWithTimestamp:timestamp
@@ -50,7 +50,7 @@ @implementation TSInteraction
                                                  filter:(BOOL (^_Nonnull)(TSInteraction *))filter
                                         withTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(timestamp > 0);
 
     NSMutableArray<TSInteraction *> *interactions = [NSMutableArray new];
 
@@ -76,7 +76,7 @@ + (NSString *)collection {
 
 - (instancetype)initInteractionWithTimestamp:(uint64_t)timestamp inThread:(TSThread *)thread
 {
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(timestamp > 0);
 
     self = [super initWithUniqueId:nil];
 
@@ -122,7 +122,7 @@ - (uint64_t)timestampForSorting
 
 - (NSComparisonResult)compareForSorting:(TSInteraction *)other
 {
-    OWSAssert(other);
+    OWSAssertDebug(other);
 
     uint64_t timestamp1 = self.timestampForSorting;
     uint64_t timestamp2 = other.timestampForSorting;
diff --git a/SignalServiceKit/src/Messages/Interactions/TSMessage.m b/SignalServiceKit/src/Messages/Interactions/TSMessage.m
index 839772cfbdc..32433022963 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSMessage.m
@@ -205,7 +205,7 @@ - (nullable TSAttachment *)attachmentWithTransaction:(YapDatabaseReadTransaction
         return nil;
     }
 
-    OWSAssert(self.attachmentIds.count == 1);
+    OWSAssertDebug(self.attachmentIds.count == 1);
     return [TSAttachment fetchObjectWithUniqueID:self.attachmentIds.firstObject transaction:transaction];
 }
 
@@ -345,7 +345,7 @@ - (uint64_t)timestampForSorting
     if ([self shouldUseReceiptDateForSorting] && self.receivedAtTimestamp > 0) {
         return self.receivedAtTimestamp;
     } else {
-        OWSAssert(self.timestamp > 0);
+        OWSAssertDebug(self.timestamp > 0);
         return self.timestamp;
     }
 }
@@ -362,9 +362,9 @@ - (nullable NSString *)body
 
 - (void)setQuotedMessageThumbnailAttachmentStream:(TSAttachmentStream *)attachmentStream
 {
-    OWSAssert([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
-    OWSAssert(self.quotedMessage);
-    OWSAssert(self.quotedMessage.quotedAttachments.count == 1);
+    OWSAssertDebug([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
+    OWSAssertDebug(self.quotedMessage);
+    OWSAssertDebug(self.quotedMessage.quotedAttachments.count == 1);
 
     [self.quotedMessage setThumbnailAttachmentStream:attachmentStream];
 }
@@ -374,7 +374,7 @@ - (void)setQuotedMessageThumbnailAttachmentStream:(TSAttachmentStream *)attachme
 - (void)applyChangeToSelfAndLatestCopy:(YapDatabaseReadWriteTransaction *)transaction
                            changeBlock:(void (^)(id))changeBlock
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [super applyChangeToSelfAndLatestCopy:transaction changeBlock:changeBlock];
     [self touchThreadWithTransaction:transaction];
@@ -382,7 +382,7 @@ - (void)applyChangeToSelfAndLatestCopy:(YapDatabaseReadWriteTransaction *)transa
 
 - (void)updateWithExpireStartedAt:(uint64_t)expireStartedAt transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(expireStartedAt > 0);
+    OWSAssertDebug(expireStartedAt > 0);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSMessage *message) {
diff --git a/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m b/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
index 5bc9f01dba0..d9f0b555d65 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSOutgoingMessage.m
@@ -102,7 +102,7 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
 
         if (!self.recipientStateMap) {
             [self migrateRecipientStateMapWithCoder:coder];
-            OWSAssert(self.recipientStateMap);
+            OWSAssertDebug(self.recipientStateMap);
         }
     }
 
@@ -111,8 +111,8 @@ - (nullable instancetype)initWithCoder:(NSCoder *)coder
 
 - (void)migrateRecipientStateMapWithCoder:(NSCoder *)coder
 {
-    OWSAssert(!self.recipientStateMap);
-    OWSAssert(coder);
+    OWSAssertDebug(!self.recipientStateMap);
+    OWSAssertDebug(coder);
 
     // Determine the "overall message state."
     TSOutgoingMessageState oldMessageState = TSOutgoingMessageStateFailed;
@@ -200,7 +200,7 @@ - (void)migrateRecipientStateMapWithCoder:(NSCoder *)coder
             recipientState.state = OWSOutgoingMessageRecipientStateSent;
             recipientState.deliveryTimestamp = deliveryTimestamp;
         } else if (wasDeliveredToContact) {
-            OWSAssert(!isGroupThread);
+            OWSAssertDebug(!isGroupThread);
             recipientState.state = OWSOutgoingMessageRecipientStateSent;
             // Use message time as an estimate of delivery time.
             recipientState.deliveryTimestamp = @(self.timestamp);
@@ -322,7 +322,7 @@ - (instancetype)initOutgoingMessageWithTimestamp:(uint64_t)timestamp
             _groupMetaMessage = groupMetaMessage;
         }
     } else {
-        OWSAssert(groupMetaMessage == TSGroupMetaMessageUnspecified);
+        OWSAssertDebug(groupMetaMessage == TSGroupMetaMessageUnspecified);
         // Specifying a group meta message only makes sense for Group threads
         _groupMetaMessage = TSGroupMetaMessageUnspecified;
     }
@@ -337,7 +337,7 @@ - (instancetype)initOutgoingMessageWithTimestamp:(uint64_t)timestamp
     NSArray<NSString *> *recipientIds;
     if ([self isKindOfClass:[OWSOutgoingSyncMessage class]]) {
         NSString *_Nullable localNumber = [TSAccountManager localNumber];
-        OWSAssert(localNumber);
+        OWSAssertDebug(localNumber);
         recipientIds = @[
             localNumber,
         ];
@@ -411,7 +411,7 @@ - (BOOL)wasDeliveredToAnyRecipient
 
 + (TSOutgoingMessageState)messageStateForRecipientStates:(NSArray<TSOutgoingMessageRecipientState *> *)recipientStates
 {
-    OWSAssert(recipientStates);
+    OWSAssertDebug(recipientStates);
 
     // If there are any "sending" recipients, consider this message "sending".
     BOOL hasFailed = NO;
@@ -550,10 +550,10 @@ - (NSUInteger)sentRecipientsCount
 
 - (nullable TSOutgoingMessageRecipientState *)recipientStateForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     TSOutgoingMessageRecipientState *_Nullable result = self.recipientStateMap[recipientId];
-    OWSAssert(result);
+    OWSAssertDebug(result);
     return [result copy];
 }
 
@@ -561,7 +561,7 @@ - (nullable TSOutgoingMessageRecipientState *)recipientStateForRecipientId:(NSSt
 
 - (void)updateWithSendingError:(NSError *)error
 {
-    OWSAssert(error);
+    OWSAssertDebug(error);
 
     [self.dbReadWriteConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
         [self applyChangeToSelfAndLatestCopy:transaction
@@ -580,7 +580,7 @@ - (void)updateWithSendingError:(NSError *)error
 
 - (void)updateWithAllSendingRecipientsMarkedAsFailedWithTansaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -596,7 +596,7 @@ - (void)updateWithAllSendingRecipientsMarkedAsFailedWithTansaction:(YapDatabaseR
 
 - (void)updateWithMarkingAllUnsentRecipientsAsSendingWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -621,8 +621,8 @@ - (void)updateWithHasSyncedTranscript:(BOOL)hasSyncedTranscript
 
 - (void)updateWithCustomMessage:(NSString *)customMessage transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(customMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(customMessage);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -639,8 +639,8 @@ - (void)updateWithCustomMessage:(NSString *)customMessage
 
 - (void)updateWithSentRecipient:(NSString *)recipientId transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -656,8 +656,8 @@ - (void)updateWithSentRecipient:(NSString *)recipientId transaction:(YapDatabase
 
 - (void)updateWithSkippedRecipient:(NSString *)recipientId transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -675,8 +675,8 @@ - (void)updateWithDeliveredRecipient:(NSString *)recipientId
                    deliveryTimestamp:(NSNumber *_Nullable)deliveryTimestamp
                          transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     // If delivery notification doesn't include timestamp, use "now" as an estimate.
     if (!deliveryTimestamp) {
@@ -703,8 +703,8 @@ - (void)updateWithReadRecipientId:(NSString *)recipientId
                     readTimestamp:(uint64_t)readTimestamp
                       transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -724,7 +724,7 @@ - (void)updateWithReadRecipientId:(NSString *)recipientId
 
 - (void)updateWithWasSentFromLinkedDeviceWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -742,8 +742,8 @@ - (void)updateWithWasSentFromLinkedDeviceWithTransaction:(YapDatabaseReadWriteTr
 - (void)updateWithSendingToSingleGroupRecipient:(NSString *)singleGroupRecipient
                                     transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
-    OWSAssert(singleGroupRecipient.length > 0);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(singleGroupRecipient.length > 0);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -773,7 +773,7 @@ - (nullable NSNumber *)firstRecipientReadTimestamp
 - (void)updateWithFakeMessageState:(TSOutgoingMessageState)messageState
                        transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [self applyChangeToSelfAndLatestCopy:transaction
                              changeBlock:^(TSOutgoingMessage *message) {
@@ -801,7 +801,7 @@ - (void)updateWithFakeMessageState:(TSOutgoingMessageState)messageState
 - (nullable SSKProtoDataMessageBuilder *)dataMessageBuilder
 {
     TSThread *thread = self.thread;
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
     
     SSKProtoDataMessageBuilder *builder = [SSKProtoDataMessageBuilder new];
     [builder setTimestamp:self.timestamp];
@@ -959,7 +959,7 @@ - (nullable SSKProtoDataMessageQuoteBuilder *)quotedMessageBuilder
 // recipientId is nil when building "sent" sync messages for messages sent to groups.
 - (nullable SSKProtoDataMessage *)buildDataMessage:(NSString *_Nullable)recipientId
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
     SSKProtoDataMessageBuilder *_Nullable builder = [self dataMessageBuilder];
     if (!builder) {
         OWSFailDebug(@"could not build protobuf.");
diff --git a/SignalServiceKit/src/Messages/Interactions/TSQuotedMessage.m b/SignalServiceKit/src/Messages/Interactions/TSQuotedMessage.m
index 74d7852f933..bb45c3fb48c 100644
--- a/SignalServiceKit/src/Messages/Interactions/TSQuotedMessage.m
+++ b/SignalServiceKit/src/Messages/Interactions/TSQuotedMessage.m
@@ -20,9 +20,9 @@ @implementation OWSAttachmentInfo
 
 - (instancetype)initWithAttachmentStream:(TSAttachmentStream *)attachmentStream;
 {
-    OWSAssert([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
-    OWSAssert(attachmentStream.uniqueId);
-    OWSAssert(attachmentStream.contentType);
+    OWSAssertDebug([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
+    OWSAssertDebug(attachmentStream.uniqueId);
+    OWSAssertDebug(attachmentStream.contentType);
 
     return [self initWithAttachmentId:attachmentStream.uniqueId
                           contentType:attachmentStream.contentType
@@ -62,8 +62,8 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
                        bodySource:(TSQuotedMessageContentSource)bodySource
     receivedQuotedAttachmentInfos:(NSArray<OWSAttachmentInfo *> *)attachmentInfos
 {
-    OWSAssert(timestamp > 0);
-    OWSAssert(authorId.length > 0);
+    OWSAssertDebug(timestamp > 0);
+    OWSAssertDebug(authorId.length > 0);
 
     self = [super init];
     if (!self) {
@@ -84,8 +84,8 @@ - (instancetype)initWithTimestamp:(uint64_t)timestamp
                              body:(NSString *_Nullable)body
       quotedAttachmentsForSending:(NSArray<TSAttachmentStream *> *)attachments
 {
-    OWSAssert(timestamp > 0);
-    OWSAssert(authorId.length > 0);
+    OWSAssertDebug(timestamp > 0);
+    OWSAssertDebug(authorId.length > 0);
 
     self = [super init];
     if (!self) {
@@ -110,7 +110,7 @@ + (TSQuotedMessage *_Nullable)quotedMessageForDataMessage:(SSKProtoDataMessage *
                                                    thread:(TSThread *)thread
                                               transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(dataMessage);
+    OWSAssertDebug(dataMessage);
 
     if (!dataMessage.quote) {
         return nil;
@@ -156,7 +156,7 @@ + (TSQuotedMessage *_Nullable)quotedMessageForDataMessage:(SSKProtoDataMessage *
         }
     }
 
-    OWSAssert(bodySource != TSQuotedMessageContentSourceUnknown);
+    OWSAssertDebug(bodySource != TSQuotedMessageContentSourceUnknown);
 
     NSMutableArray<OWSAttachmentInfo *> *attachmentInfos = [NSMutableArray new];
     for (SSKProtoDataMessageQuoteQuotedAttachment *quotedAttachment in quoteProto.attachments) {
@@ -268,7 +268,7 @@ + (nullable TSAttachmentStream *)tryToDeriveLocalThumbnailWithAttachmentInfo:(OW
 
 - (nullable OWSAttachmentInfo *)firstAttachmentInfo
 {
-    OWSAssert(self.quotedAttachments.count <= 1);
+    OWSAssertDebug(self.quotedAttachments.count <= 1);
     return self.quotedAttachments.firstObject;
 }
 
@@ -302,8 +302,8 @@ - (nullable NSString *)thumbnailAttachmentStreamId
 
 - (void)setThumbnailAttachmentStream:(TSAttachmentStream *)attachmentStream
 {
-    OWSAssert([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
-    OWSAssert(self.quotedAttachments.count == 1);
+    OWSAssertDebug([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
+    OWSAssertDebug(self.quotedAttachments.count == 1);
 
     OWSAttachmentInfo *firstAttachment = self.firstAttachmentInfo;
     firstAttachment.thumbnailAttachmentStreamId = attachmentStream.uniqueId;
@@ -329,7 +329,7 @@ - (void)setThumbnailAttachmentStream:(TSAttachmentStream *)attachmentStream
 
     for (OWSAttachmentInfo *info in self.quotedAttachments) {
 
-        OWSAssert(info.attachmentId);
+        OWSAssertDebug(info.attachmentId);
         TSAttachment *attachment = [TSAttachment fetchObjectWithUniqueID:info.attachmentId transaction:transaction];
         if (![attachment isKindOfClass:[TSAttachmentStream class]]) {
             continue;
diff --git a/SignalServiceKit/src/Messages/OWSBatchMessageProcessor.m b/SignalServiceKit/src/Messages/OWSBatchMessageProcessor.m
index ce8bd6509ba..a250ba9e586 100644
--- a/SignalServiceKit/src/Messages/OWSBatchMessageProcessor.m
+++ b/SignalServiceKit/src/Messages/OWSBatchMessageProcessor.m
@@ -54,7 +54,7 @@ + (NSString *)collection
 
 - (instancetype)initWithEnvelopeData:(NSData *)envelopeData plaintextData:(NSData *_Nullable)plaintextData
 {
-    OWSAssert(envelopeData);
+    OWSAssertDebug(envelopeData);
 
     self = [super initWithUniqueId:[NSUUID new].UUIDString];
     if (!self) {
@@ -128,7 +128,7 @@ - (instancetype)initWithDBConnection:(YapDatabaseConnection *)dbConnection
     NSMutableArray<OWSMessageContentJob *> *jobs = [NSMutableArray new];
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *_Nonnull transaction) {
         YapDatabaseViewTransaction *viewTransaction = [transaction ext:OWSMessageContentJobFinderExtensionName];
-        OWSAssert(viewTransaction != nil);
+        OWSAssertDebug(viewTransaction != nil);
         [viewTransaction enumerateKeysAndObjectsInGroup:OWSMessageContentJobFinderExtensionGroup
                                              usingBlock:^(NSString *_Nonnull collection,
                                                  NSString *_Nonnull key,
@@ -150,8 +150,8 @@ - (void)addJobWithEnvelopeData:(NSData *)envelopeData
                  plaintextData:(NSData *_Nullable)plaintextData
                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelopeData);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelopeData);
+    OWSAssertDebug(transaction);
 
     OWSMessageContentJob *job =
         [[OWSMessageContentJob alloc] initWithEnvelopeData:envelopeData plaintextData:plaintextData];
@@ -314,8 +314,8 @@ - (void)enqueueEnvelopeData:(NSData *)envelopeData
               plaintextData:(NSData *_Nullable)plaintextData
                 transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelopeData);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelopeData);
+    OWSAssertDebug(transaction);
 
     // We need to persist the decrypted envelope data ASAP to prevent data loss.
     [self.finder addJobWithEnvelopeData:envelopeData plaintextData:plaintextData transaction:transaction];
@@ -323,7 +323,7 @@ - (void)enqueueEnvelopeData:(NSData *)envelopeData
 
 - (void)drainQueue
 {
-    OWSAssert(AppReadiness.isAppReady);
+    OWSAssertDebug(AppReadiness.isAppReady);
 
     // Don't process incoming messages in app extensions.
     if (!CurrentAppContext().isMainApp) {
@@ -348,7 +348,7 @@ - (void)drainQueueWorkStep
     const NSUInteger kIncomingMessageBatchSize = 32;
 
     NSArray<OWSMessageContentJob *> *batchJobs = [self.finder nextJobsForBatchSize:kIncomingMessageBatchSize];
-    OWSAssert(batchJobs);
+    OWSAssertDebug(batchJobs);
     if (batchJobs.count < 1) {
         self.isDrainingQueue = NO;
         OWSLogVerbose(@"Queue is drained");
@@ -361,7 +361,7 @@ - (void)drainQueueWorkStep
 
     [self.finder removeJobsWithIds:processedJobs.uniqueIds];
 
-    OWSAssert(backgroundTask);
+    OWSAssertDebug(backgroundTask);
     backgroundTask = nil;
 
     OWSLogVerbose(@"completed %lu/%lu jobs. %lu jobs left.",
@@ -503,8 +503,8 @@ - (void)enqueueEnvelopeData:(NSData *)envelopeData
               plaintextData:(NSData *_Nullable)plaintextData
                 transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelopeData);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelopeData);
+    OWSAssertDebug(transaction);
 
     // We need to persist the decrypted envelope data ASAP to prevent data loss.
     [self.processingQueue enqueueEnvelopeData:envelopeData plaintextData:plaintextData transaction:transaction];
diff --git a/SignalServiceKit/src/Messages/OWSBlockingManager.m b/SignalServiceKit/src/Messages/OWSBlockingManager.m
index e329cfc19fa..b7564c1a36b 100644
--- a/SignalServiceKit/src/Messages/OWSBlockingManager.m
+++ b/SignalServiceKit/src/Messages/OWSBlockingManager.m
@@ -65,8 +65,8 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
         return self;
     }
 
-    OWSAssert(primaryStorage);
-    OWSAssert(messageSender);
+    OWSAssertDebug(primaryStorage);
+    OWSAssertDebug(messageSender);
 
     _dbConnection = primaryStorage.newDatabaseConnection;
     _messageSender = messageSender;
@@ -95,7 +95,7 @@ - (void)observeNotifications
 
 - (void)addBlockedPhoneNumber:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
 
     OWSLogInfo(@"addBlockedPhoneNumber: %@", phoneNumber);
 
@@ -116,7 +116,7 @@ - (void)addBlockedPhoneNumber:(NSString *)phoneNumber
 
 - (void)removeBlockedPhoneNumber:(NSString *)phoneNumber
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
 
     OWSLogInfo(@"removeBlockedPhoneNumber: %@", phoneNumber);
 
@@ -137,7 +137,7 @@ - (void)removeBlockedPhoneNumber:(NSString *)phoneNumber
 
 - (void)setBlockedPhoneNumbers:(NSArray<NSString *> *)blockedPhoneNumbers sendSyncMessage:(BOOL)sendSyncMessage
 {
-    OWSAssert(blockedPhoneNumbers != nil);
+    OWSAssertDebug(blockedPhoneNumbers != nil);
 
     OWSLogInfo(@"setBlockedPhoneNumbers: %d", (int)blockedPhoneNumbers.count);
 
@@ -231,7 +231,7 @@ - (void)ensureLazyInitialization
 
 - (void)syncBlockedPhoneNumbers
 {
-    OWSAssert(_blockedPhoneNumberSet);
+    OWSAssertDebug(_blockedPhoneNumberSet);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         [self sendBlockedPhoneNumbersMessage:self.blockedPhoneNumbers];
@@ -241,7 +241,7 @@ - (void)syncBlockedPhoneNumbers
 // This method should only be called from within a synchronized block.
 - (void)syncBlockedPhoneNumbersIfNecessary
 {
-    OWSAssert(_blockedPhoneNumberSet);
+    OWSAssertDebug(_blockedPhoneNumberSet);
 
     // If we haven't yet successfully synced the current "blocked phone numbers" changes,
     // try again to sync now.
@@ -257,7 +257,7 @@ - (void)syncBlockedPhoneNumbersIfNecessary
 
 - (void)sendBlockedPhoneNumbersMessage:(NSArray<NSString *> *)blockedPhoneNumbers
 {
-    OWSAssert(blockedPhoneNumbers);
+    OWSAssertDebug(blockedPhoneNumbers);
 
     OWSBlockedPhoneNumbersMessage *message =
         [[OWSBlockedPhoneNumbersMessage alloc] initWithPhoneNumbers:blockedPhoneNumbers];
@@ -276,7 +276,7 @@ - (void)sendBlockedPhoneNumbersMessage:(NSArray<NSString *> *)blockedPhoneNumber
 
 - (void)saveSyncedBlockedPhoneNumbers:(NSArray<NSString *> *)blockedPhoneNumbers
 {
-    OWSAssert(blockedPhoneNumbers);
+    OWSAssertDebug(blockedPhoneNumbers);
 
     // Record the last set of "blocked phone numbers" which we successfully synced.
     [self.dbConnection setObject:blockedPhoneNumbers
diff --git a/SignalServiceKit/src/Messages/OWSDisappearingMessagesFinder.m b/SignalServiceKit/src/Messages/OWSDisappearingMessagesFinder.m
index 4b2e9f459b4..f66ed9bb41b 100644
--- a/SignalServiceKit/src/Messages/OWSDisappearingMessagesFinder.m
+++ b/SignalServiceKit/src/Messages/OWSDisappearingMessagesFinder.m
@@ -24,7 +24,7 @@ @implementation OWSDisappearingMessagesFinder
 - (NSArray<NSString *> *)fetchUnstartedExpiringMessageIdsInThread:(TSThread *)thread
                                                       transaction:(YapDatabaseReadTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *messageIds = [NSMutableArray new];
     NSString *formattedString = [NSString stringWithFormat:@"WHERE %@ = 0 AND %@ = \"%@\"",
@@ -44,7 +44,7 @@ @implementation OWSDisappearingMessagesFinder
 
 - (NSArray<NSString *> *)fetchMessageIdsWhichFailedToStartExpiring:(YapDatabaseReadTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *messageIds = [NSMutableArray new];
     NSString *formattedString =
@@ -60,7 +60,7 @@ @implementation OWSDisappearingMessagesFinder
                                       }
                                       
                                       // We'll need to update if we ever support expiring other message types
-                                      OWSAssert([object isKindOfClass:[TSOutgoingMessage class]] || [object isKindOfClass:[TSIncomingMessage class]]);
+                                      OWSAssertDebug([object isKindOfClass:[TSOutgoingMessage class]] || [object isKindOfClass:[TSIncomingMessage class]]);
                                       
                                       TSMessage *message = (TSMessage *)object;
                                       if ([message shouldStartExpireTimerWithTransaction:transaction]) {
@@ -79,7 +79,7 @@ @implementation OWSDisappearingMessagesFinder
 
 - (NSArray<NSString *> *)fetchExpiredMessageIdsWithTransaction:(YapDatabaseReadTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *messageIds = [NSMutableArray new];
 
@@ -101,7 +101,7 @@ @implementation OWSDisappearingMessagesFinder
 
 - (nullable NSNumber *)nextExpirationTimestampWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSString *formattedString = [NSString stringWithFormat:@"WHERE %@ > 0 ORDER BY %@ ASC",
                                           OWSDisappearingMessageFinderExpiresAtColumn,
@@ -127,7 +127,7 @@ - (void)enumerateUnstartedExpiringMessagesInThread:(TSThread *)thread
                                              block:(void (^_Nonnull)(TSMessage *message))block
                                        transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     for (NSString *expiringMessageId in
         [self fetchUnstartedExpiringMessageIdsInThread:thread transaction:transaction]) {
@@ -143,7 +143,7 @@ - (void)enumerateUnstartedExpiringMessagesInThread:(TSThread *)thread
 - (void)enumerateMessagesWhichFailedToStartExpiringWithBlock:(void (^_Nonnull)(TSMessage *message))block
                                                  transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     for (NSString *expiringMessageId in [self fetchMessageIdsWhichFailedToStartExpiring:transaction]) {
 
@@ -169,7 +169,7 @@ - (void)enumerateMessagesWhichFailedToStartExpiringWithBlock:(void (^_Nonnull)(T
 - (NSArray<TSMessage *> *)fetchUnstartedExpiringMessagesInThread:(TSThread *)thread
                                                      transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSMessage *> *messages = [NSMutableArray new];
     [self enumerateUnstartedExpiringMessagesInThread:thread
@@ -185,7 +185,7 @@ - (void)enumerateMessagesWhichFailedToStartExpiringWithBlock:(void (^_Nonnull)(T
 - (void)enumerateExpiredMessagesWithBlock:(void (^_Nonnull)(TSMessage *message))block
                               transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     // Since we can't directly mutate the enumerated expired messages, we store only their ids in hopes of saving a
     // little memory and then enumerate the (larger) TSMessage objects one at a time.
@@ -205,7 +205,7 @@ - (void)enumerateExpiredMessagesWithBlock:(void (^_Nonnull)(TSMessage *message))
  */
 - (NSArray<TSMessage *> *)fetchExpiredMessagesWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSMessage *> *messages = [NSMutableArray new];
     [self enumerateExpiredMessagesWithBlock:^(TSMessage *message) {
diff --git a/SignalServiceKit/src/Messages/OWSDisappearingMessagesJob.m b/SignalServiceKit/src/Messages/OWSDisappearingMessagesJob.m
index 0aff7ad401d..5bacb50d6c5 100644
--- a/SignalServiceKit/src/Messages/OWSDisappearingMessagesJob.m
+++ b/SignalServiceKit/src/Messages/OWSDisappearingMessagesJob.m
@@ -136,7 +136,7 @@ - (NSUInteger)deleteExpiredMessages
 
     OWSLogDebug(@"Removed %lu expired messages", (unsigned long)expirationCount);
 
-    OWSAssert(backgroundTask);
+    OWSAssertDebug(backgroundTask);
     backgroundTask = nil;
     return expirationCount;
 }
@@ -171,7 +171,7 @@ - (void)startAnyExpirationForMessage:(TSMessage *)message
                  expirationStartedAt:(uint64_t)expirationStartedAt
                          transaction:(YapDatabaseReadWriteTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (!message.isExpiringMessage) {
         return;
@@ -219,9 +219,9 @@ - (void)becomeConsistentWithDisappearingDuration:(uint32_t)duration
                           createdInExistingGroup:(BOOL)createdInExistingGroup
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(timestampForSorting > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(timestampForSorting > 0);
+    OWSAssertDebug(transaction);
 
     OWSBackgroundTask *_Nullable backgroundTask = [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
 
@@ -255,7 +255,7 @@ - (void)becomeConsistentWithDisappearingDuration:(uint32_t)duration
                                                           createdInExistingGroup:createdInExistingGroup];
     [infoMessage saveWithTransaction:transaction];
 
-    OWSAssert(backgroundTask);
+    OWSAssertDebug(backgroundTask);
     backgroundTask = nil;
 }
 
@@ -295,7 +295,7 @@ - (NSDateFormatter *)dateFormatter
 
 - (void)scheduleRunByDate:(NSDate *)date
 {
-    OWSAssert(date);
+    OWSAssertDebug(date);
 
     dispatch_async(dispatch_get_main_queue(), ^{
         if (!CurrentAppContext().isMainAppAndActive) {
diff --git a/SignalServiceKit/src/Messages/OWSFailedAttachmentDownloadsJob.m b/SignalServiceKit/src/Messages/OWSFailedAttachmentDownloadsJob.m
index 6412d7e5295..d132878801b 100644
--- a/SignalServiceKit/src/Messages/OWSFailedAttachmentDownloadsJob.m
+++ b/SignalServiceKit/src/Messages/OWSFailedAttachmentDownloadsJob.m
@@ -39,7 +39,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 - (NSArray<NSString *> *)fetchAttemptingOutAttachmentIdsWithTransaction:
     (YapDatabaseReadWriteTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *attachmentIds = [NSMutableArray new];
 
@@ -59,7 +59,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 - (void)enumerateAttemptingOutAttachmentsWithBlock:(void (^_Nonnull)(TSAttachmentPointer *attachment))block
                                        transaction:(YapDatabaseReadWriteTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     // Since we can't directly mutate the enumerated attachments, we store only their ids in hopes
     // of saving a little memory and then enumerate the (larger) TSAttachment objects one at a time.
diff --git a/SignalServiceKit/src/Messages/OWSFailedMessagesJob.m b/SignalServiceKit/src/Messages/OWSFailedMessagesJob.m
index bae105e580e..5b5713765ce 100644
--- a/SignalServiceKit/src/Messages/OWSFailedMessagesJob.m
+++ b/SignalServiceKit/src/Messages/OWSFailedMessagesJob.m
@@ -40,7 +40,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 - (NSArray<NSString *> *)fetchAttemptingOutMessageIdsWithTransaction:
     (YapDatabaseReadWriteTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *messageIds = [NSMutableArray new];
 
@@ -59,7 +59,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 - (void)enumerateAttemptingOutMessagesWithBlock:(void (^_Nonnull)(TSOutgoingMessage *message))block
                                     transaction:(YapDatabaseReadWriteTransaction *_Nonnull)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     // Since we can't directly mutate the enumerated "attempting out" expired messages, we store only their ids in hopes
     // of saving a little memory and then enumerate the (larger) TSMessage objects one at a time.
@@ -82,7 +82,7 @@ - (void)run
         readWriteWithBlock:^(YapDatabaseReadWriteTransaction *_Nonnull transaction) {
             [self enumerateAttemptingOutMessagesWithBlock:^(TSOutgoingMessage *message) {
                 // sanity check
-                OWSAssert(message.messageState == TSOutgoingMessageStateSending);
+                OWSAssertDebug(message.messageState == TSOutgoingMessageStateSending);
                 if (message.messageState != TSOutgoingMessageStateSending) {
                     OWSLogError(@"Refusing to mark as unsent message with state: %d", (int)message.messageState);
                     return;
@@ -90,7 +90,7 @@ - (void)run
 
                 OWSLogDebug(@"marking message as unsent: %@", message.uniqueId);
                 [message updateWithAllSendingRecipientsMarkedAsFailedWithTansaction:transaction];
-                OWSAssert(message.messageState == TSOutgoingMessageStateFailed);
+                OWSAssertDebug(message.messageState == TSOutgoingMessageStateFailed);
 
                 count++;
             }
diff --git a/SignalServiceKit/src/Messages/OWSIdentityManager.m b/SignalServiceKit/src/Messages/OWSIdentityManager.m
index 4310d92cb22..844e06c9288 100644
--- a/SignalServiceKit/src/Messages/OWSIdentityManager.m
+++ b/SignalServiceKit/src/Messages/OWSIdentityManager.m
@@ -93,8 +93,8 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
         return self;
     }
 
-    OWSAssert(primaryStorage);
-    OWSAssert(messageSender);
+    OWSAssertDebug(primaryStorage);
+    OWSAssertDebug(messageSender);
 
     _primaryStorage = primaryStorage;
     _dbConnection = primaryStorage.newDatabaseConnection;
@@ -140,8 +140,8 @@ - (nullable NSData *)identityKeyForRecipientId:(NSString *)recipientId
 - (nullable NSData *)identityKeyForRecipientId:(NSString *)recipientId
                                    transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     return [OWSRecipientIdentity fetchObjectWithUniqueID:recipientId transaction:transaction].identityKey;
 }
@@ -159,7 +159,7 @@ - (nullable ECKeyPair *)identityKeyPair
 // Whenever possible, prefer to call the strongly typed variant: `identityKeyPairWithTransaction:`.
 - (nullable ECKeyPair *)identityKeyPair:(nullable id)protocolContext
 {
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadTransaction class]]);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadTransaction class]]);
 
     YapDatabaseReadTransaction *transaction = protocolContext;
 
@@ -168,7 +168,7 @@ - (nullable ECKeyPair *)identityKeyPair:(nullable id)protocolContext
 
 - (nullable ECKeyPair *)identityKeyPairWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     ECKeyPair *_Nullable identityKeyPair = [transaction keyPairForKey:OWSPrimaryStorageIdentityKeyStoreIdentityKey
                                                          inCollection:OWSPrimaryStorageIdentityKeyStoreCollection];
@@ -177,7 +177,7 @@ - (nullable ECKeyPair *)identityKeyPairWithTransaction:(YapDatabaseReadTransacti
 
 - (int)localRegistrationId:(nullable id)protocolContext
 {
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -186,8 +186,8 @@ - (int)localRegistrationId:(nullable id)protocolContext
 
 - (BOOL)saveRemoteIdentity:(NSData *)identityKey recipientId:(NSString *)recipientId
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block BOOL result;
     [self.dbConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -201,9 +201,9 @@ - (BOOL)saveRemoteIdentity:(NSData *)identityKey
                recipientId:(NSString *)recipientId
            protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -275,8 +275,8 @@ - (void)setVerificationState:(OWSVerificationState)verificationState
                  recipientId:(NSString *)recipientId
        isUserInitiatedChange:(BOOL)isUserInitiatedChange
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
 
     [self.dbConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *_Nonnull transaction) {
         [self setVerificationState:verificationState
@@ -293,9 +293,9 @@ - (void)setVerificationState:(OWSVerificationState)verificationState
        isUserInitiatedChange:(BOOL)isUserInitiatedChange
              protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -312,9 +312,9 @@ - (void)setVerificationState:(OWSVerificationState)verificationState
        isUserInitiatedChange:(BOOL)isUserInitiatedChange
                  transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     // Ensure a remote identity exists for this key. We may be learning about
     // it for the first time.
@@ -365,8 +365,8 @@ - (OWSVerificationState)verificationStateForRecipientId:(NSString *)recipientId
 - (OWSVerificationState)verificationStateForRecipientId:(NSString *)recipientId
                                             transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     OWSRecipientIdentity *_Nullable currentIdentity =
         [OWSRecipientIdentity fetchObjectWithUniqueID:recipientId transaction:transaction];
@@ -381,7 +381,7 @@ - (OWSVerificationState)verificationStateForRecipientId:(NSString *)recipientId
 
 - (nullable OWSRecipientIdentity *)recipientIdentityForRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block OWSRecipientIdentity *_Nullable result;
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *_Nonnull transaction) {
@@ -392,7 +392,7 @@ - (nullable OWSRecipientIdentity *)recipientIdentityForRecipientId:(NSString *)r
 
 - (nullable OWSRecipientIdentity *)untrustedIdentityForSendingToRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     __block OWSRecipientIdentity *_Nullable result;
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *_Nonnull transaction) {
@@ -429,10 +429,10 @@ - (BOOL)isTrustedIdentityKey:(NSData *)identityKey
                    direction:(TSMessageDirection)direction
              protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(direction != TSMessageDirectionUnknown);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(direction != TSMessageDirectionUnknown);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -444,10 +444,10 @@ - (BOOL)isTrustedIdentityKey:(NSData *)identityKey
                    direction:(TSMessageDirection)direction
                  transaction:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(direction != TSMessageDirectionUnknown);
-    OWSAssert(transaction);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(direction != TSMessageDirectionUnknown);
+    OWSAssertDebug(transaction);
 
     if ([[TSAccountManager localNumber] isEqualToString:recipientId]) {
         ECKeyPair *_Nullable localIdentityKeyPair = [self identityKeyPairWithTransaction:transaction];
@@ -481,13 +481,13 @@ - (BOOL)isTrustedIdentityKey:(NSData *)identityKey
 
 - (BOOL)isTrustedKey:(NSData *)identityKey forSendingToIdentity:(nullable OWSRecipientIdentity *)recipientIdentity
 {
-    OWSAssert(identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(identityKey.length == kStoredIdentityKeyLength);
 
     if (recipientIdentity == nil) {
         return YES;
     }
 
-    OWSAssert(recipientIdentity.identityKey.length == kStoredIdentityKeyLength);
+    OWSAssertDebug(recipientIdentity.identityKey.length == kStoredIdentityKeyLength);
     if (![recipientIdentity.identityKey isEqualToData:identityKey]) {
         OWSLogWarn(@"key mismatch for recipient: %@", recipientIdentity.recipientId);
         return NO;
@@ -519,14 +519,14 @@ - (BOOL)isTrustedKey:(NSData *)identityKey forSendingToIdentity:(nullable OWSRec
 - (void)createIdentityChangeInfoMessageForRecipientId:(NSString *)recipientId
                                           transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSMessage *> *messages = [NSMutableArray new];
 
     TSContactThread *contactThread =
         [TSContactThread getOrCreateThreadWithContactId:recipientId transaction:transaction];
-    OWSAssert(contactThread != nil);
+    OWSAssertDebug(contactThread != nil);
 
     TSErrorMessage *errorMessage =
         [TSErrorMessage nonblockingIdentityChangeInThread:contactThread recipientId:recipientId];
@@ -548,8 +548,8 @@ - (void)createIdentityChangeInfoMessageForRecipientId:(NSString *)recipientId
 - (void)enqueueSyncMessageForVerificationStateForRecipientId:(NSString *)recipientId
                                                  transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     [transaction setObject:recipientId
                     forKey:recipientId
@@ -626,8 +626,8 @@ - (void)syncQueuedVerificationStates
 
 - (void)sendSyncVerificationStateMessage:(OWSVerificationStateSyncMessage *)message
 {
-    OWSAssert(message);
-    OWSAssert(message.verificationForRecipientId.length > 0);
+    OWSAssertDebug(message);
+    OWSAssertDebug(message.verificationForRecipientId.length > 0);
 
     TSContactThread *contactThread = [TSContactThread getOrCreateThreadWithContactId:message.verificationForRecipientId];
     
@@ -667,8 +667,8 @@ - (void)sendSyncVerificationStateMessage:(OWSVerificationStateSyncMessage *)mess
 - (void)clearSyncMessageForRecipientId:(NSString *)recipientId
                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     [transaction removeObjectForKey:recipientId inCollection:OWSIdentityManager_QueuedVerificationStateSyncMessages];
 }
@@ -676,8 +676,8 @@ - (void)clearSyncMessageForRecipientId:(NSString *)recipientId
 - (void)processIncomingSyncMessage:(SSKProtoVerified *)verified
                        transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(verified);
-    OWSAssert(transaction);
+    OWSAssertDebug(verified);
+    OWSAssertDebug(transaction);
 
     NSString *recipientId = verified.destination;
     if (recipientId.length < 1) {
@@ -724,8 +724,8 @@ - (void)tryToApplyVerificationStateFromSyncMessage:(OWSVerificationState)verific
                                overwriteOnConflict:(BOOL)overwriteOnConflict
                                        transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     if (recipientId.length < 1) {
         OWSFailDebug(@"Verification state sync message missing recipientId.");
@@ -845,14 +845,14 @@ - (void)saveChangeMessagesForRecipientId:(NSString *)recipientId
                            isLocalChange:(BOOL)isLocalChange
                              transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<TSMessage *> *messages = [NSMutableArray new];
 
     TSContactThread *contactThread =
         [TSContactThread getOrCreateThreadWithContactId:recipientId transaction:transaction];
-    OWSAssert(contactThread);
+    OWSAssertDebug(contactThread);
     [messages addObject:[[OWSVerificationStateChangeMessage alloc] initWithTimestamp:[NSDate ows_millisecondTimeStamp]
                                                                               thread:contactThread
                                                                          recipientId:recipientId
@@ -879,7 +879,7 @@ - (void)saveChangeMessagesForRecipientId:(NSString *)recipientId
 #if DEBUG
 - (void)clearIdentityState:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *identityKeysToRemove = [NSMutableArray new];
     [transaction enumerateKeysInCollection:OWSPrimaryStorageIdentityKeyStoreCollection
@@ -912,7 +912,7 @@ - (NSString *)trustedKeySnapshotFilePath
 
 - (void)snapshotIdentityState:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [transaction snapshotCollection:OWSPrimaryStorageIdentityKeyStoreCollection
                    snapshotFilePath:self.identityKeySnapshotFilePath];
@@ -922,7 +922,7 @@ - (void)snapshotIdentityState:(YapDatabaseReadWriteTransaction *)transaction
 
 - (void)restoreIdentityState:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [transaction restoreSnapshotOfCollection:OWSPrimaryStorageIdentityKeyStoreCollection
                             snapshotFilePath:self.identityKeySnapshotFilePath];
diff --git a/SignalServiceKit/src/Messages/OWSIncompleteCallsJob.m b/SignalServiceKit/src/Messages/OWSIncompleteCallsJob.m
index 456ea083039..97ca0eb36be 100644
--- a/SignalServiceKit/src/Messages/OWSIncompleteCallsJob.m
+++ b/SignalServiceKit/src/Messages/OWSIncompleteCallsJob.m
@@ -40,7 +40,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 
 - (NSArray<NSString *> *)fetchIncompleteCallIdsWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<NSString *> *messageIds = [NSMutableArray new];
 
@@ -62,7 +62,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 - (void)enumerateIncompleteCallsWithBlock:(void (^)(TSCall *call))block
                               transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     // Since we can't directly mutate the enumerated "incomplete" calls, we store only their ids in hopes
     // of saving a little memory and then enumerate the (larger) TSCall objects one at a time.
@@ -80,7 +80,7 @@ - (void)run
 {
     __block uint count = 0;
 
-    OWSAssert(CurrentAppContext().appLaunchTime);
+    OWSAssertDebug(CurrentAppContext().appLaunchTime);
     uint64_t cutoffTimestamp = [NSDate ows_millisecondsSince1970ForDate:CurrentAppContext().appLaunchTime];
 
     [[self.primaryStorage newDatabaseConnection] readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -94,11 +94,11 @@ - (void)run
                 if (call.callType == RPRecentCallTypeOutgoingIncomplete) {
                     OWSLogDebug(@"marking call as missed: %@", call.uniqueId);
                     [call updateCallType:RPRecentCallTypeOutgoingMissed transaction:transaction];
-                    OWSAssert(call.callType == RPRecentCallTypeOutgoingMissed);
+                    OWSAssertDebug(call.callType == RPRecentCallTypeOutgoingMissed);
                 } else if (call.callType == RPRecentCallTypeIncomingIncomplete) {
                     OWSLogDebug(@"marking call as missed: %@", call.uniqueId);
                     [call updateCallType:RPRecentCallTypeIncomingMissed transaction:transaction];
-                    OWSAssert(call.callType == RPRecentCallTypeIncomingMissed);
+                    OWSAssertDebug(call.callType == RPRecentCallTypeIncomingMissed);
                 } else {
                     OWSFailDebug(@"call has unexpected call type: %@", NSStringFromCallType(call.callType));
                     return;
diff --git a/SignalServiceKit/src/Messages/OWSMessageDecrypter.m b/SignalServiceKit/src/Messages/OWSMessageDecrypter.m
index 7dd2258b8ad..2609a4f24c8 100644
--- a/SignalServiceKit/src/Messages/OWSMessageDecrypter.m
+++ b/SignalServiceKit/src/Messages/OWSMessageDecrypter.m
@@ -82,7 +82,7 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
 
 - (BOOL)isEnvelopeBlocked:(SSKProtoEnvelope *)envelope
 {
-    OWSAssert(envelope);
+    OWSAssertDebug(envelope);
 
     return [_blockingManager.blockedPhoneNumbers containsObject:envelope.source];
 }
@@ -93,10 +93,10 @@ - (void)decryptEnvelope:(SSKProtoEnvelope *)envelope
            successBlock:(DecryptSuccessBlock)successBlockParameter
            failureBlock:(DecryptFailureBlock)failureBlockParameter
 {
-    OWSAssert(envelope);
-    OWSAssert(successBlockParameter);
-    OWSAssert(failureBlockParameter);
-    OWSAssert([TSAccountManager isRegistered]);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(successBlockParameter);
+    OWSAssertDebug(failureBlockParameter);
+    OWSAssertDebug([TSAccountManager isRegistered]);
 
     // successBlock is called synchronously so that we can avail ourselves of
     // the transaction.
@@ -120,7 +120,7 @@ - (void)decryptEnvelope:(SSKProtoEnvelope *)envelope
     @try {
         OWSLogInfo(@"decrypting envelope: %@", [self descriptionForEnvelope:envelope]);
 
-        OWSAssert(envelope.source.length > 0);
+        OWSAssertDebug(envelope.source.length > 0);
         if ([self isEnvelopeBlocked:envelope]) {
             OWSLogInfo(@"ignoring blocked envelope: %@", envelope.source);
             failureBlock();
@@ -194,9 +194,9 @@ - (void)decryptSecureMessage:(SSKProtoEnvelope *)envelope
                 successBlock:(DecryptSuccessBlock)successBlock
                 failureBlock:(void (^)(NSError *_Nullable error))failureBlock
 {
-    OWSAssert(envelope);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     [self decryptEnvelope:envelope
             cipherTypeName:@"Secure Message"
@@ -211,9 +211,9 @@ - (void)decryptPreKeyBundle:(SSKProtoEnvelope *)envelope
                successBlock:(DecryptSuccessBlock)successBlock
                failureBlock:(void (^)(NSError *_Nullable error))failureBlock
 {
-    OWSAssert(envelope);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     // Check whether we need to refresh our PreKeys every time we receive a PreKeyWhisperMessage.
     [TSPreKeyManager checkPreKeys];
@@ -233,11 +233,11 @@ - (void)decryptEnvelope:(SSKProtoEnvelope *)envelope
            successBlock:(DecryptSuccessBlock)successBlock
            failureBlock:(void (^)(NSError *_Nullable error))failureBlock
 {
-    OWSAssert(envelope);
-    OWSAssert(cipherTypeName.length > 0);
-    OWSAssert(cipherMessageBlock);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(cipherTypeName.length > 0);
+    OWSAssertDebug(cipherMessageBlock);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     OWSPrimaryStorage *primaryStorage = self.primaryStorage;
     NSString *recipientId = envelope.source;
@@ -310,7 +310,7 @@ - (void)processException:(NSException *)exception envelope:(SSKProtoEnvelope *)e
             errorMessage = [TSErrorMessage corruptedMessageWithEnvelope:envelope withTransaction:transaction];
         }
 
-        OWSAssert(errorMessage);
+        OWSAssertDebug(errorMessage);
         if (errorMessage != nil) {
             [errorMessage saveWithTransaction:transaction];
             [self notifyUserForErrorMessage:errorMessage envelope:envelope transaction:transaction];
diff --git a/SignalServiceKit/src/Messages/OWSMessageHandler.m b/SignalServiceKit/src/Messages/OWSMessageHandler.m
index ecb77391d59..aba0896fbb8 100644
--- a/SignalServiceKit/src/Messages/OWSMessageHandler.m
+++ b/SignalServiceKit/src/Messages/OWSMessageHandler.m
@@ -17,7 +17,7 @@ @implementation OWSMessageHandler
 
 - (NSString *)descriptionForEnvelopeType:(SSKProtoEnvelope *)envelope
 {
-    OWSAssert(envelope != nil);
+    OWSAssertDebug(envelope != nil);
 
     switch (envelope.type) {
         case SSKProtoEnvelopeTypeReceipt:
@@ -43,7 +43,7 @@ - (NSString *)descriptionForEnvelopeType:(SSKProtoEnvelope *)envelope
 
 - (NSString *)descriptionForEnvelope:(SSKProtoEnvelope *)envelope
 {
-    OWSAssert(envelope != nil);
+    OWSAssertDebug(envelope != nil);
 
     return [NSString stringWithFormat:@"<Envelope type: %@, source: %@, timestamp: %llu content.length: %lu />",
                      [self descriptionForEnvelopeType:envelope],
diff --git a/SignalServiceKit/src/Messages/OWSMessageManager.m b/SignalServiceKit/src/Messages/OWSMessageManager.m
index ae2c9b9be19..777cd54a43e 100644
--- a/SignalServiceKit/src/Messages/OWSMessageManager.m
+++ b/SignalServiceKit/src/Messages/OWSMessageManager.m
@@ -123,7 +123,7 @@ - (instancetype)initWithNetworkManager:(TSNetworkManager *)networkManager
     _blockingManager = [OWSBlockingManager sharedManager];
 
     OWSSingletonAssert();
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     [self startObserving];
 
@@ -160,7 +160,7 @@ - (void)yapDatabaseModified:(NSNotification *)notification
 
 - (BOOL)isEnvelopeBlocked:(SSKProtoEnvelope *)envelope
 {
-    OWSAssert(envelope);
+    OWSAssertDebug(envelope);
 
     return [_blockingManager isRecipientIdBlocked:envelope.source];
 }
@@ -171,10 +171,10 @@ - (void)processEnvelope:(SSKProtoEnvelope *)envelope
           plaintextData:(NSData *_Nullable)plaintextData
             transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(transaction);
-    OWSAssert([TSAccountManager isRegistered]);
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug([TSAccountManager isRegistered]);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     OWSLogInfo(@"handling decrypted envelope: %@", [self descriptionForEnvelope:envelope]);
 
@@ -183,8 +183,8 @@ - (void)processEnvelope:(SSKProtoEnvelope *)envelope
         return;
     }
 
-    OWSAssert(envelope.source.length > 0);
-    OWSAssert(![self isEnvelopeBlocked:envelope]);
+    OWSAssertDebug(envelope.source.length > 0);
+    OWSAssertDebug(![self isEnvelopeBlocked:envelope]);
 
     switch (envelope.type) {
         case SSKProtoEnvelopeTypeCiphertext:
@@ -196,7 +196,7 @@ - (void)processEnvelope:(SSKProtoEnvelope *)envelope
             }
             break;
         case SSKProtoEnvelopeTypeReceipt:
-            OWSAssert(!plaintextData);
+            OWSAssertDebug(!plaintextData);
             [self handleDeliveryReceipt:envelope transaction:transaction];
             break;
             // Other messages are just dismissed for now.
@@ -214,8 +214,8 @@ - (void)processEnvelope:(SSKProtoEnvelope *)envelope
 
 - (void)handleDeliveryReceipt:(SSKProtoEnvelope *)envelope transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(transaction);
 
     // Old-style delivery notices don't include a "delivery timestamp".
     [self processDeliveryReceiptsFromRecipientId:envelope.source
@@ -235,9 +235,9 @@ - (void)processDeliveryReceiptsFromRecipientId:(NSString *)recipientId
                              deliveryTimestamp:(NSNumber *_Nullable)deliveryTimestamp
                                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(recipientId);
-    OWSAssert(sentTimestamps);
-    OWSAssert(transaction);
+    OWSAssertDebug(recipientId);
+    OWSAssertDebug(sentTimestamps);
+    OWSAssertDebug(transaction);
 
     for (NSNumber *nsTimestamp in sentTimestamps) {
         uint64_t timestamp = [nsTimestamp unsignedLongLongValue];
@@ -271,12 +271,12 @@ - (void)handleEnvelope:(SSKProtoEnvelope *)envelope
          plaintextData:(NSData *)plaintextData
            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(plaintextData);
-    OWSAssert(transaction);
-    OWSAssert(envelope.timestamp > 0);
-    OWSAssert(envelope.source.length > 0);
-    OWSAssert(envelope.sourceDevice > 0);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(plaintextData);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(envelope.timestamp > 0);
+    OWSAssertDebug(envelope.source.length > 0);
+    OWSAssertDebug(envelope.sourceDevice > 0);
 
     BOOL duplicateEnvelope = [self.incomingMessageFinder existsMessageWithTimestamp:envelope.timestamp
                                                                            sourceId:envelope.source
@@ -334,9 +334,9 @@ - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
                withDataMessage:(SSKProtoDataMessage *)dataMessage
                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     if (dataMessage.hasTimestamp) {
         if (dataMessage.timestamp <= 0) {
@@ -401,9 +401,9 @@ - (void)sendGroupInfoRequest:(NSData *)groupId
                     envelope:(SSKProtoEnvelope *)envelope
                  transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(groupId.length > 0);
-    OWSAssert(envelope);
-    OWSAssert(transaction);
+    OWSAssertDebug(groupId.length > 0);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(transaction);
 
     if (groupId.length < 1) {
         return;
@@ -436,9 +436,9 @@ - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
             withReceiptMessage:(SSKProtoReceiptMessage *)receiptMessage
                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(receiptMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(receiptMessage);
+    OWSAssertDebug(transaction);
 
     NSArray<NSNumber *> *sentTimestamps = receiptMessage.timestamp;
 
@@ -465,8 +465,8 @@ - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
 - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
                withCallMessage:(SSKProtoCallMessage *)callMessage
 {
-    OWSAssert(envelope);
-    OWSAssert(callMessage);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(callMessage);
 
     if ([callMessage hasProfileKey]) {
         NSData *profileKey = [callMessage profileKey];
@@ -501,9 +501,9 @@ - (void)handleReceivedGroupAvatarUpdateWithEnvelope:(SSKProtoEnvelope *)envelope
                                         dataMessage:(SSKProtoDataMessage *)dataMessage
                                         transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     TSGroupThread *_Nullable groupThread =
         [TSGroupThread threadWithGroupId:dataMessage.group.id transaction:transaction];
@@ -512,7 +512,7 @@ - (void)handleReceivedGroupAvatarUpdateWithEnvelope:(SSKProtoEnvelope *)envelope
         return;
     }
 
-    OWSAssert(groupThread);
+    OWSAssertDebug(groupThread);
     OWSAttachmentsProcessor *attachmentsProcessor =
         [[OWSAttachmentsProcessor alloc] initWithAttachmentProtos:@[ dataMessage.group.avatar ]
                                                    networkManager:self.networkManager
@@ -538,9 +538,9 @@ - (void)handleReceivedMediaWithEnvelope:(SSKProtoEnvelope *)envelope
                             dataMessage:(SSKProtoDataMessage *)dataMessage
                             transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     TSThread *_Nullable thread = [self threadForEnvelope:envelope dataMessage:dataMessage transaction:transaction];
     if (!thread) {
@@ -582,10 +582,10 @@ - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
                withSyncMessage:(SSKProtoSyncMessage *)syncMessage
                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(syncMessage);
-    OWSAssert(transaction);
-    OWSAssert([TSAccountManager isRegistered]);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(syncMessage);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug([TSAccountManager isRegistered]);
 
     NSString *localNumber = [TSAccountManager localNumber];
     if (![localNumber isEqualToString:envelope.source]) {
@@ -603,7 +603,7 @@ - (void)handleIncomingEnvelope:(SSKProtoEnvelope *)envelope
             [[OWSRecordTranscriptJob alloc] initWithIncomingSentMessageTranscript:transcript];
 
         SSKProtoDataMessage *dataMessage = syncMessage.sent.message;
-        OWSAssert(dataMessage);
+        OWSAssertDebug(dataMessage);
         NSString *destination = syncMessage.sent.destination;
         if (dataMessage && destination.length > 0 && dataMessage.hasProfileKey) {
             // If we observe a linked device sending our profile key to another
@@ -725,9 +725,9 @@ - (void)handleEndSessionMessageWithEnvelope:(SSKProtoEnvelope *)envelope
                                 dataMessage:(SSKProtoDataMessage *)dataMessage
                                 transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     TSContactThread *thread = [TSContactThread getOrCreateThreadWithContactId:envelope.source transaction:transaction];
 
@@ -742,9 +742,9 @@ - (void)handleExpirationTimerUpdateMessageWithEnvelope:(SSKProtoEnvelope *)envel
                                            dataMessage:(SSKProtoDataMessage *)dataMessage
                                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     TSThread *_Nullable thread = [self threadForEnvelope:envelope dataMessage:dataMessage transaction:transaction];
     if (!thread) {
@@ -767,7 +767,7 @@ - (void)handleExpirationTimerUpdateMessageWithEnvelope:(SSKProtoEnvelope *)envel
                      enabled:NO
              durationSeconds:OWSDisappearingMessagesConfigurationDefaultExpirationDuration];
     }
-    OWSAssert(disappearingMessagesConfiguration);
+    OWSAssertDebug(disappearingMessagesConfiguration);
     [disappearingMessagesConfiguration saveWithTransaction:transaction];
     NSString *name = [self.contactsManager displayNameForPhoneIdentifier:envelope.source];
     OWSDisappearingConfigurationUpdateInfoMessage *message =
@@ -782,8 +782,8 @@ - (void)handleExpirationTimerUpdateMessageWithEnvelope:(SSKProtoEnvelope *)envel
 - (void)handleProfileKeyMessageWithEnvelope:(SSKProtoEnvelope *)envelope
                                 dataMessage:(SSKProtoDataMessage *)dataMessage
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
 
     NSString *recipientId = envelope.source;
     if (!dataMessage.hasProfileKey) {
@@ -806,18 +806,18 @@ - (void)handleReceivedTextMessageWithEnvelope:(SSKProtoEnvelope *)envelope
                                   dataMessage:(SSKProtoDataMessage *)dataMessage
                                   transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     [self handleReceivedEnvelope:envelope withDataMessage:dataMessage attachmentIds:@[] transaction:transaction];
 }
 
 - (void)sendGroupUpdateForThread:(TSGroupThread *)gThread message:(TSOutgoingMessage *)message
 {
-    OWSAssert(gThread);
-    OWSAssert(gThread.groupModel);
-    OWSAssert(message);
+    OWSAssertDebug(gThread);
+    OWSAssertDebug(gThread.groupModel);
+    OWSAssertDebug(message);
 
     if (gThread.groupModel.groupImage) {
         NSData *data = UIImagePNGRepresentation(gThread.groupModel.groupImage);
@@ -846,10 +846,10 @@ - (void)handleGroupInfoRequest:(SSKProtoEnvelope *)envelope
                    dataMessage:(SSKProtoDataMessage *)dataMessage
                    transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
-    OWSAssert(dataMessage.group.type == SSKProtoGroupContextTypeRequestInfo);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
+    OWSAssertDebug(dataMessage.group.type == SSKProtoGroupContextTypeRequestInfo);
 
     NSData *groupId = dataMessage.group ? dataMessage.group.id : nil;
     if (!groupId) {
@@ -874,7 +874,7 @@ - (void)handleGroupInfoRequest:(SSKProtoEnvelope *)envelope
     }
 
     // Ensure we are in the group.
-    OWSAssert([TSAccountManager isRegistered]);
+    OWSAssertDebug([TSAccountManager isRegistered]);
     NSString *localNumber = [TSAccountManager localNumber];
     if (![gThread.groupModel.groupMemberIds containsObject:localNumber]) {
         OWSLogWarn(@"Ignoring 'Request Group Info' message for group we no longer belong to.");
@@ -901,9 +901,9 @@ - (TSIncomingMessage *_Nullable)handleReceivedEnvelope:(SSKProtoEnvelope *)envel
                                          attachmentIds:(NSArray<NSString *> *)attachmentIds
                                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     uint64_t timestamp = envelope.timestamp;
     NSString *body = dataMessage.body;
@@ -1075,12 +1075,12 @@ - (void)finalizeIncomingMessage:(TSIncomingMessage *)incomingMessage
                        envelope:(SSKProtoEnvelope *)envelope
                     transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(thread);
-    OWSAssert(incomingMessage);
-    OWSAssert(envelope);
-    OWSAssert(transaction);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(incomingMessage);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(transaction);
 
-    OWSAssert([TSAccountManager isRegistered]);
+    OWSAssertDebug([TSAccountManager isRegistered]);
 
     if (!thread) {
         OWSFailDebug(@"Can't finalize without thread");
@@ -1191,17 +1191,17 @@ - (nullable TSThread *)threadForEnvelope:(SSKProtoEnvelope *)envelope
                              dataMessage:(SSKProtoDataMessage *)dataMessage
                              transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(envelope);
-    OWSAssert(dataMessage);
-    OWSAssert(transaction);
+    OWSAssertDebug(envelope);
+    OWSAssertDebug(dataMessage);
+    OWSAssertDebug(transaction);
 
     if (dataMessage.group) {
         NSData *groupId = dataMessage.group.id;
-        OWSAssert(groupId.length > 0);
+        OWSAssertDebug(groupId.length > 0);
         TSGroupThread *_Nullable groupThread = [TSGroupThread threadWithGroupId:groupId transaction:transaction];
         // This method should only be called from a code path that has already verified
         // that this is a "known" group.
-        OWSAssert(groupThread);
+        OWSAssertDebug(groupThread);
         return groupThread;
     } else {
         return [TSContactThread getOrCreateThreadWithContactId:envelope.source transaction:transaction];
diff --git a/SignalServiceKit/src/Messages/OWSMessageReceiver.m b/SignalServiceKit/src/Messages/OWSMessageReceiver.m
index 1cf9956ae2e..dfd6ef169ac 100644
--- a/SignalServiceKit/src/Messages/OWSMessageReceiver.m
+++ b/SignalServiceKit/src/Messages/OWSMessageReceiver.m
@@ -49,7 +49,7 @@ + (NSString *)collection
 
 - (instancetype)initWithEnvelopeData:(NSData *)envelopeData
 {
-    OWSAssert(envelopeData);
+    OWSAssertDebug(envelopeData);
 
     self = [super initWithUniqueId:[NSUUID new].UUIDString];
     if (!self) {
@@ -123,7 +123,7 @@ - (OWSMessageDecryptJob *_Nullable)nextJob
     __block OWSMessageDecryptJob *_Nullable job = nil;
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *_Nonnull transaction) {
         YapDatabaseViewTransaction *viewTransaction = [transaction ext:OWSMessageDecryptJobFinderExtensionName];
-        OWSAssert(viewTransaction != nil);
+        OWSAssertDebug(viewTransaction != nil);
         job = [viewTransaction firstObjectInGroup:OWSMessageDecryptJobFinderExtensionGroup];
     }];
 
@@ -279,7 +279,7 @@ - (void)enqueueEnvelopeData:(NSData *)envelopeData
 
 - (void)drainQueue
 {
-    OWSAssert(AppReadiness.isAppReady);
+    OWSAssertDebug(AppReadiness.isAppReady);
 
     // Don't decrypt messages in app extensions.
     if (!CurrentAppContext().isMainApp) {
@@ -317,7 +317,7 @@ - (void)drainQueueWorkStep
                   success ? @"decrypted" : @"failed to decrypt",
                   (unsigned long)[OWSMessageDecryptJob numberOfKeysInCollection]);
               [self drainQueueWorkStep];
-              OWSAssert(backgroundTask);
+              OWSAssertDebug(backgroundTask);
               backgroundTask = nil;
           }];
 }
@@ -325,7 +325,7 @@ - (void)drainQueueWorkStep
 - (void)processJob:(OWSMessageDecryptJob *)job completion:(void (^)(BOOL))completion
 {
     AssertOnDispatchQueue(self.serialQueue);
-    OWSAssert(job);
+    OWSAssertDebug(job);
 
     SSKProtoEnvelope *_Nullable envelope = job.envelopeProto;
     if (!envelope) {
@@ -347,7 +347,7 @@ - (void)processJob:(OWSMessageDecryptJob *)job completion:(void (^)(BOOL))comple
 
     [self.messageDecrypter decryptEnvelope:envelope
         successBlock:^(NSData *_Nullable plaintextData, YapDatabaseReadWriteTransaction *transaction) {
-            OWSAssert(transaction);
+            OWSAssertDebug(transaction);
 
             // We persist the decrypted envelope data in the same transaction within which
             // it was decrypted to prevent data loss.  If the new job isn't persisted,
diff --git a/SignalServiceKit/src/Messages/OWSMessageSender.m b/SignalServiceKit/src/Messages/OWSMessageSender.m
index 004ef619d22..6bc43cde4c8 100644
--- a/SignalServiceKit/src/Messages/OWSMessageSender.m
+++ b/SignalServiceKit/src/Messages/OWSMessageSender.m
@@ -143,10 +143,10 @@ - (nullable NSError *)checkForPreconditionError
         [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction * transaction) {
             TSAttachmentStream *attachmentStream
                 = (TSAttachmentStream *)[self.message attachmentWithTransaction:transaction];
-            OWSAssert(attachmentStream);
-            OWSAssert([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
-            OWSAssert(attachmentStream.serverId);
-            OWSAssert(attachmentStream.isUploaded);
+            OWSAssertDebug(attachmentStream);
+            OWSAssertDebug([attachmentStream isKindOfClass:[TSAttachmentStream class]]);
+            OWSAssertDebug(attachmentStream.serverId);
+            OWSAssertDebug(attachmentStream.isUploaded);
         }];
     }
 
@@ -232,20 +232,20 @@ - (instancetype)initWithNetworkManager:(TSNetworkManager *)networkManager
 
 - (void)setBlockingManager:(OWSBlockingManager *)blockingManager
 {
-    OWSAssert(blockingManager);
-    OWSAssert(!_blockingManager);
+    OWSAssertDebug(blockingManager);
+    OWSAssertDebug(!_blockingManager);
 
     _blockingManager = blockingManager;
 }
 
 - (NSOperationQueue *)sendingQueueForMessage:(TSOutgoingMessage *)message
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
 
     NSString *kDefaultQueueKey = @"kDefaultQueueKey";
     NSString *queueKey = message.uniqueThreadId ?: kDefaultQueueKey;
-    OWSAssert(queueKey.length > 0);
+    OWSAssertDebug(queueKey.length > 0);
 
     if ([kDefaultQueueKey isEqualToString:queueKey]) {
         // when do we get here?
@@ -272,9 +272,9 @@ - (void)enqueueMessage:(TSOutgoingMessage *)message
                success:(void (^)(void))successHandler
                failure:(void (^)(NSError *error))failureHandler
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
     if (message.body.length > 0) {
-        OWSAssert([message.body lengthOfBytesUsingEncoding:NSUTF8StringEncoding] <= kOversizeTextMessageSizeThreshold);
+        OWSAssertDebug([message.body lengthOfBytesUsingEncoding:NSUTF8StringEncoding] <= kOversizeTextMessageSizeThreshold);
     }
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
@@ -335,9 +335,9 @@ - (void)enqueueMessage:(TSOutgoingMessage *)message
         // Though we currently only ever expect at most one thumbnail, the proto data model
         // suggests this could change. The logic is intended to work with multiple, but
         // if we ever actually want to send multiple, we should do more testing.
-        OWSAssert(quotedThumbnailAttachments.count <= 1);
+        OWSAssertDebug(quotedThumbnailAttachments.count <= 1);
         for (TSAttachmentStream *thumbnailAttachment in quotedThumbnailAttachments) {
-            OWSAssert(message.quotedMessage);
+            OWSAssertDebug(message.quotedMessage);
 
             OWSUploadOperation *uploadQuoteThumbnailOperation =
                 [[OWSUploadOperation alloc] initWithAttachmentId:thumbnailAttachment.uniqueId
@@ -349,7 +349,7 @@ - (void)enqueueMessage:(TSOutgoingMessage *)message
         }
 
         if (contactShareAvatarAttachment != nil) {
-            OWSAssert(message.contactShare);
+            OWSAssertDebug(message.contactShare);
             OWSUploadOperation *uploadAvatarOperation =
                 [[OWSUploadOperation alloc] initWithAttachmentId:contactShareAvatarAttachment.uniqueId
                                                     dbConnection:self.dbConnection];
@@ -369,7 +369,7 @@ - (void)enqueueTemporaryAttachment:(DataSource *)dataSource
                            success:(void (^)(void))successHandler
                            failure:(void (^)(NSError *error))failureHandler
 {
-    OWSAssert(dataSource);
+    OWSAssertDebug(dataSource);
 
     void (^successWithDeleteHandler)(void) = ^() {
         successHandler();
@@ -400,7 +400,7 @@ - (void)enqueueAttachment:(DataSource *)dataSource
                   success:(void (^)(void))successHandler
                   failure:(void (^)(NSError *error))failureHandler
 {
-    OWSAssert(dataSource);
+    OWSAssertDebug(dataSource);
 
     dispatch_async([OWSDispatch attachmentsQueue], ^{
         TSAttachmentStream *attachmentStream =
@@ -430,8 +430,8 @@ - (void)enqueueAttachment:(DataSource *)dataSource
 - (NSArray<SignalRecipient *> *)signalRecipientsForRecipientIds:(NSArray<NSString *> *)recipientIds
                                                         message:(TSOutgoingMessage *)message
 {
-    OWSAssert(recipientIds);
-    OWSAssert(message);
+    OWSAssertDebug(recipientIds);
+    OWSAssertDebug(message);
 
     NSMutableArray<SignalRecipient *> *recipients = [NSMutableArray new];
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
@@ -455,7 +455,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
         if ([thread isKindOfClass:[TSContactThread class]] &&
             [((TSContactThread *)thread).contactIdentifier isEqualToString:[TSAccountManager localNumber]]) {
             // Send to self.
-            OWSAssert(message.recipientIds.count == 1);
+            OWSAssertDebug(message.recipientIds.count == 1);
             [self.dbConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
                 for (NSString *recipientId in message.sendingRecipientIds) {
                     [message updateWithReadRecipientId:recipientId
@@ -512,7 +512,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
 
             NSArray<SignalRecipient *> *recipients =
                 [self signalRecipientsForRecipientIds:sendingRecipientIds.allObjects message:message];
-            OWSAssert(recipients.count == sendingRecipientIds.count);
+            OWSAssertDebug(recipients.count == sendingRecipientIds.count);
 
             [self groupSend:recipients message:message thread:gThread success:successHandler failure:failureHandler];
 
@@ -529,7 +529,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
             // should prevent this from occurring, but in some edge cases
             // you might, for example, have a pending outgoing message when
             // you block them.
-            OWSAssert(recipientContactId.length > 0);
+            OWSAssertDebug(recipientContactId.length > 0);
             if ([self.blockingManager isRecipientIdBlocked:recipientContactId]) {
                 OWSLogInfo(@"skipping 1:1 send to blocked contact: %@", recipientContactId);
                 NSError *error = OWSErrorMakeMessageSendFailedToBlockListError();
@@ -541,7 +541,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
 
             NSArray<SignalRecipient *> *recipients =
             [self signalRecipientsForRecipientIds:@[recipientContactId] message:message];
-            OWSAssert(recipients.count == 1);
+            OWSAssertDebug(recipients.count == 1);
             SignalRecipient *recipient = recipients.firstObject;
 
             if (!recipient) {
@@ -713,9 +713,9 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
                      success:(void (^)(void))successHandler
                      failure:(RetryableFailureHandler)failureHandler
 {
-    OWSAssert(message);
-    OWSAssert(recipient);
-    OWSAssert(thread || [message isKindOfClass:[OWSOutgoingSyncMessage class]]);
+    OWSAssertDebug(message);
+    OWSAssertDebug(recipient);
+    OWSAssertDebug(thread || [message isKindOfClass:[OWSOutgoingSyncMessage class]]);
 
     OWSLogInfo(@"attempting to send message: %@, timestamp: %llu, recipient: %@",
         message.class,
@@ -841,7 +841,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
     NSString *localNumber = [TSAccountManager localNumber];
     BOOL isLocalNumber = [localNumber isEqualToString:recipient.uniqueId];
     if (isLocalNumber) {
-        OWSAssert([message isKindOfClass:[OWSOutgoingSyncMessage class]]);
+        OWSAssertDebug([message isKindOfClass:[OWSOutgoingSyncMessage class]]);
         // Messages sent to the "local number" should be sync messages.
         //
         // We can skip sending sync messages if we know that we have no linked
@@ -867,7 +867,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
 
         if (!mayHaveLinkedDevices && !hasDeviceMessages) {
             OWSLogInfo(@"Ignoring sync message without secondary devices: %@", [message class]);
-            OWSAssert([message isKindOfClass:[OWSOutgoingSyncMessage class]]);
+            OWSAssertDebug([message isKindOfClass:[OWSOutgoingSyncMessage class]]);
 
             dispatch_async([OWSDispatch sendingQueue], ^{
                 // This emulates the completion logic of an actual successful save (see below).
@@ -887,7 +887,7 @@ - (void)sendMessageToService:(TSOutgoingMessage *)message
             OWSFailDebug(@"sync message has device messages for unknown secondary devices.");
         }
     } else {
-        OWSAssert(deviceMessages.count > 0);
+        OWSAssertDebug(deviceMessages.count > 0);
     }
 
     if (deviceMessages.count == 0) {
@@ -970,10 +970,10 @@ - (void)messageSendDidSucceed:(TSOutgoingMessage *)message
                deviceMessages:(NSArray<NSDictionary *> *)deviceMessages
                       success:(void (^)(void))successHandler
 {
-    OWSAssert(message);
-    OWSAssert(recipient);
-    OWSAssert(deviceMessages);
-    OWSAssert(successHandler);
+    OWSAssertDebug(message);
+    OWSAssertDebug(recipient);
+    OWSAssertDebug(deviceMessages);
+    OWSAssertDebug(successHandler);
 
     OWSLogInfo(@"Message send succeeded.");
 
@@ -1015,13 +1015,13 @@ - (void)messageSendDidFail:(TSOutgoingMessage *)message
                    success:(void (^)(void))successHandler
                    failure:(RetryableFailureHandler)failureHandler
 {
-    OWSAssert(message);
-    OWSAssert(recipient);
-    OWSAssert(thread || [message isKindOfClass:[OWSOutgoingSyncMessage class]]);
-    OWSAssert(deviceMessages);
-    OWSAssert(responseError);
-    OWSAssert(successHandler);
-    OWSAssert(failureHandler);
+    OWSAssertDebug(message);
+    OWSAssertDebug(recipient);
+    OWSAssertDebug(thread || [message isKindOfClass:[OWSOutgoingSyncMessage class]]);
+    OWSAssertDebug(deviceMessages);
+    OWSAssertDebug(responseError);
+    OWSAssertDebug(successHandler);
+    OWSAssertDebug(failureHandler);
 
     OWSLogInfo(@"sending to recipient: %@, failed with error.", recipient.uniqueId);
 
@@ -1048,7 +1048,7 @@ - (void)messageSendDidFail:(TSOutgoingMessage *)message
     void (^handle404)(void) = ^{
         OWSLogWarn(@"Unregistered recipient: %@", recipient.uniqueId);
 
-        OWSAssert(thread);
+        OWSAssertDebug(thread);
 
         dispatch_async([OWSDispatch sendingQueue], ^{
             [self unregisteredRecipient:recipient message:message thread:thread];
@@ -1133,9 +1133,9 @@ - (void)handleMismatchedDevicesWithResponseJson:(NSDictionary *)responseJson
                                       recipient:(SignalRecipient *)recipient
                                      completion:(void (^)(void))completionHandler
 {
-    OWSAssert(responseJson);
-    OWSAssert(recipient);
-    OWSAssert(completionHandler);
+    OWSAssertDebug(responseJson);
+    OWSAssertDebug(recipient);
+    OWSAssertDebug(completionHandler);
 
     NSArray *extraDevices = responseJson[@"extraDevices"];
     NSArray *missingDevices = responseJson[@"missingDevices"];
@@ -1219,8 +1219,8 @@ - (void)sendSyncTranscriptForMessage:(TSOutgoingMessage *)message
 
 - (NSArray<NSDictionary *> *)deviceMessages:(TSOutgoingMessage *)message recipient:(SignalRecipient *)recipient
 {
-    OWSAssert(message);
-    OWSAssert(recipient);
+    OWSAssertDebug(message);
+    OWSAssertDebug(recipient);
 
     NSMutableArray *messagesArray = [NSMutableArray arrayWithCapacity:recipient.devices.count];
 
@@ -1279,14 +1279,14 @@ - (NSDictionary *)encryptedMessageWithPlaintext:(NSData *)plainText
                                        isSilent:(BOOL)isSilent
                                     transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(plainText);
-    OWSAssert(recipient);
-    OWSAssert(deviceNumber);
-    OWSAssert(storage);
-    OWSAssert(transaction);
+    OWSAssertDebug(plainText);
+    OWSAssertDebug(recipient);
+    OWSAssertDebug(deviceNumber);
+    OWSAssertDebug(storage);
+    OWSAssertDebug(transaction);
 
     NSString *identifier = recipient.recipientId;
-    OWSAssert(identifier.length > 0);
+    OWSAssertDebug(identifier.length > 0);
 
     if (![storage containsSession:identifier deviceId:[deviceNumber intValue] protocolContext:transaction]) {
         __block dispatch_semaphore_t sema = dispatch_semaphore_create(0);
diff --git a/SignalServiceKit/src/Messages/OWSMessageUtils.m b/SignalServiceKit/src/Messages/OWSMessageUtils.m
index b6c631cac90..5b39aa3af0b 100644
--- a/SignalServiceKit/src/Messages/OWSMessageUtils.m
+++ b/SignalServiceKit/src/Messages/OWSMessageUtils.m
@@ -78,7 +78,7 @@ - (NSUInteger)unreadMessagesCountExcept:(TSThread *)thread
     __block NSUInteger numberOfItems;
     [self.dbConnection readWithBlock:^(YapDatabaseReadTransaction *transaction) {
         id databaseView = [transaction ext:TSUnreadDatabaseViewExtensionName];
-        OWSAssert(databaseView);
+        OWSAssertDebug(databaseView);
         numberOfItems = ([databaseView numberOfItemsInAllGroups] - [databaseView numberOfItemsInGroup:thread.uniqueId]);
     }];
 
diff --git a/SignalServiceKit/src/Messages/OWSOutgoingCallMessage.m b/SignalServiceKit/src/Messages/OWSOutgoingCallMessage.m
index 904ac9a6a1b..82fea4cf537 100644
--- a/SignalServiceKit/src/Messages/OWSOutgoingCallMessage.m
+++ b/SignalServiceKit/src/Messages/OWSOutgoingCallMessage.m
@@ -123,7 +123,7 @@ - (BOOL)isSilent
 
 - (nullable NSData *)buildPlainTextData:(SignalRecipient *)recipient
 {
-    OWSAssert(recipient);
+    OWSAssertDebug(recipient);
 
     SSKProtoContentBuilder *builder = [SSKProtoContentBuilder new];
     [builder setCallMessage:[self buildCallMessage:recipient.recipientId]];
diff --git a/SignalServiceKit/src/Messages/OWSOutgoingNullMessage.m b/SignalServiceKit/src/Messages/OWSOutgoingNullMessage.m
index f34ac449665..2f3525a57a2 100644
--- a/SignalServiceKit/src/Messages/OWSOutgoingNullMessage.m
+++ b/SignalServiceKit/src/Messages/OWSOutgoingNullMessage.m
@@ -51,7 +51,7 @@ - (nullable NSData *)buildPlainTextData:(SignalRecipient *)recipient
 
     NSUInteger contentLength = self.verificationStateSyncMessage.unpaddedVerifiedLength;
 
-    OWSAssert(self.verificationStateSyncMessage.paddingBytesLength > 0);
+    OWSAssertDebug(self.verificationStateSyncMessage.paddingBytesLength > 0);
 
     // We add the same amount of padding in the VerificationStateSync message and it's coresponding NullMessage so that
     // the sync message is indistinguishable from an outgoing Sent transcript corresponding to the NullMessage. We pad
@@ -60,7 +60,7 @@ - (nullable NSData *)buildPlainTextData:(SignalRecipient *)recipient
     // verification sync which is ~1-512 bytes larger then that.
     contentLength += self.verificationStateSyncMessage.paddingBytesLength;
 
-    OWSAssert(contentLength > 0);
+    OWSAssertDebug(contentLength > 0);
 
     nullMessageBuilder.padding = [Cryptography generateRandomBytes:contentLength];
 
diff --git a/SignalServiceKit/src/Messages/OWSProfileKeyMessage.m b/SignalServiceKit/src/Messages/OWSProfileKeyMessage.m
index 5e5955228bc..49a2429be7b 100644
--- a/SignalServiceKit/src/Messages/OWSProfileKeyMessage.m
+++ b/SignalServiceKit/src/Messages/OWSProfileKeyMessage.m
@@ -43,7 +43,7 @@ - (BOOL)shouldSyncTranscript
 
 - (nullable SSKProtoDataMessage *)buildDataMessage:(NSString *_Nullable)recipientId
 {
-    OWSAssert(self.thread);
+    OWSAssertDebug(self.thread);
 
     SSKProtoDataMessageBuilder *_Nullable builder = [self dataMessageBuilder];
     if (!builder) {
diff --git a/SignalServiceKit/src/Messages/OWSReadReceiptManager.m b/SignalServiceKit/src/Messages/OWSReadReceiptManager.m
index 252d58792ab..7dd24e15928 100644
--- a/SignalServiceKit/src/Messages/OWSReadReceiptManager.m
+++ b/SignalServiceKit/src/Messages/OWSReadReceiptManager.m
@@ -46,7 +46,7 @@ + (NSString *)collection
 
 - (instancetype)initWithSentTimestamp:(uint64_t)sentTimestamp
 {
-    OWSAssert(sentTimestamp > 0);
+    OWSAssertDebug(sentTimestamp > 0);
 
     self = [super initWithUniqueId:[TSRecipientReadReceipt uniqueIdForSentTimestamp:sentTimestamp]];
 
@@ -65,8 +65,8 @@ + (NSString *)uniqueIdForSentTimestamp:(uint64_t)timestamp
 
 - (void)addRecipientId:(NSString *)recipientId timestamp:(uint64_t)timestamp
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(timestamp > 0);
 
     NSMutableDictionary<NSString *, NSNumber *> *recipientMapCopy = [self.recipientMap mutableCopy];
     recipientMapCopy[recipientId] = @(timestamp);
@@ -78,7 +78,7 @@ + (void)addRecipientId:(NSString *)recipientId
          readTimestamp:(uint64_t)readTimestamp
            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     TSRecipientReadReceipt *_Nullable recipientReadReceipt =
         [transaction objectForKey:[self uniqueIdForSentTimestamp:sentTimestamp] inCollection:[self collection]];
@@ -93,7 +93,7 @@ + (void)addRecipientId:(NSString *)recipientId
                                                                     transaction:
                                                                         (YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     TSRecipientReadReceipt *_Nullable recipientReadReceipt =
         [transaction objectForKey:[self uniqueIdForSentTimestamp:sentTimestamp] inCollection:[self collection]];
@@ -103,7 +103,7 @@ + (void)addRecipientId:(NSString *)recipientId
 + (void)removeRecipientIdsForTimestamp:(uint64_t)sentTimestamp
                            transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [transaction removeObjectForKey:[self uniqueIdForSentTimestamp:sentTimestamp] inCollection:[self collection]];
 }
@@ -195,7 +195,7 @@ - (void)dealloc
 // Schedules a processing pass, unless one is already scheduled.
 - (void)scheduleProcessing
 {
-    OWSAssert(AppReadiness.isAppReady);
+    OWSAssertDebug(AppReadiness.isAppReady);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         @synchronized(self)
@@ -240,7 +240,7 @@ - (void)process
         if (toSenderReadReceiptMap.count > 0) {
             for (NSString *recipientId in toSenderReadReceiptMap) {
                 NSSet<NSNumber *> *timestamps = toSenderReadReceiptMap[recipientId];
-                OWSAssert(timestamps.count > 0);
+                OWSAssertDebug(timestamps.count > 0);
 
                 TSThread *thread = [TSContactThread getOrCreateThreadWithContactId:recipientId];
                 OWSReadReceiptsForSenderMessage *message =
@@ -283,7 +283,7 @@ - (void)process
 
 - (void)markAsReadLocallyBeforeTimestamp:(uint64_t)timestamp thread:(TSThread *)thread
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         [self.dbConnection readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
@@ -302,10 +302,10 @@ - (void)messageWasReadLocally:(TSIncomingMessage *)message
         @synchronized(self)
         {
             NSString *threadUniqueId = message.uniqueThreadId;
-            OWSAssert(threadUniqueId.length > 0);
+            OWSAssertDebug(threadUniqueId.length > 0);
 
             NSString *messageAuthorId = message.messageAuthorId;
-            OWSAssert(messageAuthorId.length > 0);
+            OWSAssertDebug(messageAuthorId.length > 0);
 
             OWSLinkedDeviceReadReceipt *newReadReceipt =
                 [[OWSLinkedDeviceReadReceipt alloc] initWithSenderId:messageAuthorId
@@ -348,8 +348,8 @@ - (void)processReadReceiptsFromRecipientId:(NSString *)recipientId
                             sentTimestamps:(NSArray<NSNumber *> *)sentTimestamps
                              readTimestamp:(uint64_t)readTimestamp
 {
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(sentTimestamps);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(sentTimestamps);
 
     if (![self areReadReceiptsEnabled]) {
         OWSLogInfo(@"Ignoring incoming receipt message as read receipts are disabled.");
@@ -392,8 +392,8 @@ - (void)processReadReceiptsFromRecipientId:(NSString *)recipientId
 - (void)applyEarlyReadReceiptsForOutgoingMessageFromLinkedDevice:(TSOutgoingMessage *)message
                                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(message);
-    OWSAssert(transaction);
+    OWSAssertDebug(message);
+    OWSAssertDebug(transaction);
 
     uint64_t sentTimestamp = message.timestamp;
     NSDictionary<NSString *, NSNumber *> *recipientMap =
@@ -401,10 +401,10 @@ - (void)applyEarlyReadReceiptsForOutgoingMessageFromLinkedDevice:(TSOutgoingMess
     if (!recipientMap) {
         return;
     }
-    OWSAssert(recipientMap.count > 0);
+    OWSAssertDebug(recipientMap.count > 0);
     for (NSString *recipientId in recipientMap) {
         NSNumber *nsReadTimestamp = recipientMap[recipientId];
-        OWSAssert(nsReadTimestamp);
+        OWSAssertDebug(nsReadTimestamp);
         uint64_t readTimestamp = [nsReadTimestamp unsignedLongLongValue];
 
         [message updateWithReadRecipientId:recipientId readTimestamp:readTimestamp transaction:transaction];
@@ -417,8 +417,8 @@ - (void)applyEarlyReadReceiptsForOutgoingMessageFromLinkedDevice:(TSOutgoingMess
 - (void)applyEarlyReadReceiptsForIncomingMessage:(TSIncomingMessage *)message
                                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(message);
-    OWSAssert(transaction);
+    OWSAssertDebug(message);
+    OWSAssertDebug(transaction);
 
     NSString *senderId = message.messageAuthorId;
     uint64_t timestamp = message.timestamp;
@@ -443,8 +443,8 @@ - (void)processReadReceiptsFromLinkedDevice:(NSArray<SSKProtoSyncMessageRead *>
                               readTimestamp:(uint64_t)readTimestamp
                                 transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(readReceiptProtos);
-    OWSAssert(transaction);
+    OWSAssertDebug(readReceiptProtos);
+    OWSAssertDebug(transaction);
 
     for (SSKProtoSyncMessageRead *readReceiptProto in readReceiptProtos) {
         NSString *_Nullable senderId = readReceiptProto.sender;
@@ -467,7 +467,7 @@ - (void)processReadReceiptsFromLinkedDevice:(NSArray<SSKProtoSyncMessageRead *>
         if (messages.count > 0) {
             for (TSIncomingMessage *message in messages) {
                 NSTimeInterval secondsSinceRead = [NSDate new].timeIntervalSince1970 - readTimestamp / 1000;
-                OWSAssert([message isKindOfClass:[TSIncomingMessage class]]);
+                OWSAssertDebug([message isKindOfClass:[TSIncomingMessage class]]);
                 OWSLogDebug(@"read on linked device %f seconds ago", secondsSinceRead);
                 [self markAsReadOnLinkedDevice:message readTimestamp:readTimestamp transaction:transaction];
             }
@@ -487,8 +487,8 @@ - (void)markAsReadOnLinkedDevice:(TSIncomingMessage *)message
                    readTimestamp:(uint64_t)readTimestamp
                      transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(message);
-    OWSAssert(transaction);
+    OWSAssertDebug(message);
+    OWSAssertDebug(transaction);
 
     // Always re-mark the message as read to ensure any earlier read time is applied to disappearing messages.
     [message markAsReadAtTimestamp:readTimestamp sendReadReceipt:NO transaction:transaction];
@@ -512,9 +512,9 @@ - (void)markAsReadBeforeTimestamp:(uint64_t)timestamp
                          wasLocal:(BOOL)wasLocal
                       transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(timestamp > 0);
-    OWSAssert(thread);
-    OWSAssert(transaction);
+    OWSAssertDebug(timestamp > 0);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(transaction);
 
     NSMutableArray<id<OWSReadTracking>> *newlyReadList = [NSMutableArray new];
 
@@ -542,8 +542,8 @@ - (void)markAsReadBeforeTimestamp:(uint64_t)timestamp
              return;
          }
          
-         OWSAssert(!possiblyRead.read);
-         OWSAssert(possiblyRead.expireStartedAt == 0);
+         OWSAssertDebug(!possiblyRead.read);
+         OWSAssertDebug(possiblyRead.expireStartedAt == 0);
          if (!possiblyRead.read) {
              [newlyReadList addObject:possiblyRead];
          }
diff --git a/SignalServiceKit/src/Messages/TSCall.m b/SignalServiceKit/src/Messages/TSCall.m
index 6c2a08a9f19..a32ee627cfc 100644
--- a/SignalServiceKit/src/Messages/TSCall.m
+++ b/SignalServiceKit/src/Messages/TSCall.m
@@ -135,7 +135,7 @@ - (void)markAsReadAtTimestamp:(uint64_t)readTimestamp
                   transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
 
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     if (_read) {
         return;
@@ -160,7 +160,7 @@ - (void)updateCallType:(RPRecentCallType)callType
 
 - (void)updateCallType:(RPRecentCallType)callType transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSLogInfo(@"updating call type of call: %@ -> %@ with uniqueId: %@ which has timestamp: %llu",
         NSStringFromCallType(_callType),
diff --git a/SignalServiceKit/src/Messages/TSGroupModel.m b/SignalServiceKit/src/Messages/TSGroupModel.m
index b863cb25443..146306a1eb7 100644
--- a/SignalServiceKit/src/Messages/TSGroupModel.m
+++ b/SignalServiceKit/src/Messages/TSGroupModel.m
@@ -24,7 +24,7 @@ - (instancetype)initWithTitle:(nullable NSString *)title
                         image:(nullable UIImage *)image
                       groupId:(NSData *)groupId
 {
-    OWSAssert(memberIds);
+    OWSAssertDebug(memberIds);
 
     _groupName              = title;
     _groupMemberIds         = [memberIds copy];
diff --git a/SignalServiceKit/src/Network/API/OWSRequestBuilder.m b/SignalServiceKit/src/Network/API/OWSRequestBuilder.m
index ff134043448..d5fa8217926 100644
--- a/SignalServiceKit/src/Network/API/OWSRequestBuilder.m
+++ b/SignalServiceKit/src/Network/API/OWSRequestBuilder.m
@@ -27,7 +27,7 @@ + (TSRequest *)profileNameSetRequestWithEncryptedPaddedName:(nullable NSData *)e
         urlString = [NSString stringWithFormat:textSecureSetProfileNameAPIFormat, urlEncodedName];
     } else {
         // if name length doesn't match exactly, assume blank name
-        OWSAssert(encryptedPaddedName == nil);
+        OWSAssertDebug(encryptedPaddedName == nil);
         urlString = [NSString stringWithFormat:textSecureSetProfileNameAPIFormat, @""];
     }
     
diff --git a/SignalServiceKit/src/Network/API/Requests/OWSRequestFactory.m b/SignalServiceKit/src/Network/API/Requests/OWSRequestFactory.m
index ef3ab20031a..67de23c766f 100644
--- a/SignalServiceKit/src/Network/API/Requests/OWSRequestFactory.m
+++ b/SignalServiceKit/src/Network/API/Requests/OWSRequestFactory.m
@@ -19,7 +19,7 @@ @implementation OWSRequestFactory
 
 + (TSRequest *)enable2FARequestWithPin:(NSString *)pin
 {
-    OWSAssert(pin.length > 0);
+    OWSAssertDebug(pin.length > 0);
 
     return [TSRequest requestWithUrl:[NSURL URLWithString:textSecure2FAAPI]
                               method:@"PUT"
@@ -35,8 +35,8 @@ + (TSRequest *)disable2FARequest
 
 + (TSRequest *)acknowledgeMessageDeliveryRequestWithSource:(NSString *)source timestamp:(UInt64)timestamp
 {
-    OWSAssert(source.length > 0);
-    OWSAssert(timestamp > 0);
+    OWSAssertDebug(source.length > 0);
+    OWSAssertDebug(timestamp > 0);
 
     NSString *path = [NSString stringWithFormat:@"v1/messages/%@/%llu", source, timestamp];
 
@@ -45,7 +45,7 @@ + (TSRequest *)acknowledgeMessageDeliveryRequestWithSource:(NSString *)source ti
 
 + (TSRequest *)deleteDeviceRequestWithDevice:(OWSDevice *)device
 {
-    OWSAssert(device);
+    OWSAssertDebug(device);
 
     NSString *path = [NSString stringWithFormat:textSecureDevicesAPIFormat, @(device.deviceId)];
 
@@ -61,8 +61,8 @@ + (TSRequest *)deviceProvisioningCodeRequest
 
 + (TSRequest *)deviceProvisioningRequestWithMessageBody:(NSData *)messageBody ephemeralDeviceId:(NSString *)deviceId
 {
-    OWSAssert(messageBody.length > 0);
-    OWSAssert(deviceId.length > 0);
+    OWSAssertDebug(messageBody.length > 0);
+    OWSAssertDebug(deviceId.length > 0);
 
     NSString *path = [NSString stringWithFormat:textSecureDeviceProvisioningAPIFormat, deviceId];
     return [TSRequest requestWithUrl:[NSURL URLWithString:path]
@@ -85,7 +85,7 @@ + (TSRequest *)getMessagesRequest
 
 + (TSRequest *)getProfileRequestWithRecipientId:(NSString *)recipientId
 {
-    OWSAssert(recipientId.length > 0);
+    OWSAssertDebug(recipientId.length > 0);
 
     NSString *path = [NSString stringWithFormat:textSecureProfileAPIFormat, recipientId];
     return [TSRequest requestWithUrl:[NSURL URLWithString:path] method:@"GET" parameters:@{}];
@@ -104,7 +104,7 @@ + (TSRequest *)allocAttachmentRequest
 
 + (TSRequest *)attachmentRequestWithAttachmentId:(UInt64)attachmentId
 {
-    OWSAssert(attachmentId > 0);
+    OWSAssertDebug(attachmentId > 0);
 
     NSString *path = [NSString stringWithFormat:@"%@/%llu", textSecureAttachmentsAPI, attachmentId];
 
@@ -119,7 +119,7 @@ + (TSRequest *)availablePreKeysCountRequest
 
 + (TSRequest *)contactsIntersectionRequestWithHashesArray:(NSArray<NSString *> *)hashes
 {
-    OWSAssert(hashes.count > 0);
+    OWSAssertDebug(hashes.count > 0);
 
     NSString *path = [NSString stringWithFormat:@"%@/%@", textSecureDirectoryAPI, @"tokens"];
     return [TSRequest requestWithUrl:[NSURL URLWithString:path]
@@ -143,8 +143,8 @@ + (TSRequest *)profileAvatarUploadFormRequest
 
 + (TSRequest *)recipientPrekeyRequestWithRecipient:(NSString *)recipientNumber deviceId:(NSString *)deviceId
 {
-    OWSAssert(recipientNumber.length > 0);
-    OWSAssert(deviceId.length > 0);
+    OWSAssertDebug(recipientNumber.length > 0);
+    OWSAssertDebug(deviceId.length > 0);
 
     NSString *path = [NSString stringWithFormat:@"%@/%@/%@", textSecureKeysAPI, recipientNumber, deviceId];
     return [TSRequest requestWithUrl:[NSURL URLWithString:path] method:@"GET" parameters:@{}];
@@ -152,11 +152,11 @@ + (TSRequest *)recipientPrekeyRequestWithRecipient:(NSString *)recipientNumber d
 
 + (TSRequest *)registerForPushRequestWithPushIdentifier:(NSString *)identifier voipIdentifier:(NSString *)voipId
 {
-    OWSAssert(identifier.length > 0);
-    OWSAssert(voipId.length > 0);
+    OWSAssertDebug(identifier.length > 0);
+    OWSAssertDebug(voipId.length > 0);
 
     NSString *path = [NSString stringWithFormat:@"%@/%@", textSecureAccountsAPI, @"apn"];
-    OWSAssert(voipId);
+    OWSAssertDebug(voipId);
     return [TSRequest requestWithUrl:[NSURL URLWithString:path]
                               method:@"PUT"
                           parameters:@{
@@ -185,7 +185,7 @@ + (TSRequest *)unregisterAccountRequest
 + (TSRequest *)requestVerificationCodeRequestWithPhoneNumber:(NSString *)phoneNumber
                                                    transport:(TSVerificationTransport)transport
 {
-    OWSAssert(phoneNumber.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
     NSString *path = [NSString stringWithFormat:@"%@/%@/code/%@?client=ios",
                                textSecureAccountsAPI,
                                [self stringForTransport:transport],
@@ -210,8 +210,8 @@ + (TSRequest *)submitMessageRequestWithRecipient:(NSString *)recipientId
                                        timeStamp:(uint64_t)timeStamp
 {
     // NOTE: messages may be empty; See comments in OWSDeviceManager.
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(timeStamp > 0);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(timeStamp > 0);
 
     NSString *path = [textSecureMessagesAPI stringByAppendingString:recipientId];
     NSDictionary *parameters = @{
@@ -224,7 +224,7 @@ + (TSRequest *)submitMessageRequestWithRecipient:(NSString *)recipientId
 
 + (TSRequest *)registerSignedPrekeyRequestWithSignedPreKeyRecord:(SignedPreKeyRecord *)signedPreKey
 {
-    OWSAssert(signedPreKey);
+    OWSAssertDebug(signedPreKey);
 
     NSString *path = textSecureSignedKeysAPI;
     return [TSRequest requestWithUrl:[NSURL URLWithString:path]
@@ -237,10 +237,10 @@ + (TSRequest *)registerPrekeysRequestWithPrekeyArray:(NSArray *)prekeys
                                         signedPreKey:(SignedPreKeyRecord *)signedPreKey
                                     preKeyLastResort:(PreKeyRecord *)preKeyLastResort
 {
-    OWSAssert(prekeys.count > 0);
-    OWSAssert(identityKeyPublic.length > 0);
-    OWSAssert(signedPreKey);
-    OWSAssert(preKeyLastResort);
+    OWSAssertDebug(prekeys.count > 0);
+    OWSAssertDebug(identityKeyPublic.length > 0);
+    OWSAssertDebug(signedPreKey);
+    OWSAssertDebug(preKeyLastResort);
 
     NSString *path = textSecureKeysAPI;
     NSString *publicIdentityKey = [[identityKeyPublic prependKeyType] base64EncodedStringWithOptions:0];
@@ -280,10 +280,10 @@ + (TSRequest *)remoteAttestationRequest:(ECKeyPair *)keyPair
                            authUsername:(NSString *)authUsername
                            authPassword:(NSString *)authPassword
 {
-    OWSAssert(keyPair);
-    OWSAssert(enclaveId.length > 0);
-    OWSAssert(authUsername.length > 0);
-    OWSAssert(authPassword.length > 0);
+    OWSAssertDebug(keyPair);
+    OWSAssertDebug(enclaveId.length > 0);
+    OWSAssertDebug(authUsername.length > 0);
+    OWSAssertDebug(authPassword.length > 0);
 
     NSString *path =
         [NSString stringWithFormat:@"https://api.contact-discovery.acton-signal.org/v1/attestation/%@", enclaveId];
diff --git a/SignalServiceKit/src/Network/API/Requests/TSRequest.m b/SignalServiceKit/src/Network/API/Requests/TSRequest.m
index 452790c24bb..745f8923ab8 100644
--- a/SignalServiceKit/src/Network/API/Requests/TSRequest.m
+++ b/SignalServiceKit/src/Network/API/Requests/TSRequest.m
@@ -12,7 +12,7 @@ @implementation TSRequest
 @synthesize authPassword = _authPassword;
 
 - (id)initWithURL:(NSURL *)URL {
-    OWSAssert(URL);
+    OWSAssertDebug(URL);
     self = [super initWithURL:URL
                   cachePolicy:NSURLRequestReloadIgnoringLocalAndRemoteCacheData
               timeoutInterval:textSecureHTTPTimeOut];
@@ -47,9 +47,9 @@ - (instancetype)initWithURL:(NSURL *)URL
                      method:(NSString *)method
                  parameters:(nullable NSDictionary<NSString *, id> *)parameters
 {
-    OWSAssert(URL);
-    OWSAssert(method.length > 0);
-    OWSAssert(parameters);
+    OWSAssertDebug(URL);
+    OWSAssertDebug(method.length > 0);
+    OWSAssertDebug(parameters);
 
     self = [super initWithURL:URL
                   cachePolicy:NSURLRequestReloadIgnoringLocalAndRemoteCacheData
@@ -76,7 +76,7 @@ + (instancetype)requestWithUrl:(NSURL *)url
 
 - (void)setAuthUsername:(nullable NSString *)authUsername
 {
-    OWSAssert(self.shouldHaveAuthorizationHeaders);
+    OWSAssertDebug(self.shouldHaveAuthorizationHeaders);
 
     @synchronized(self) {
         _authUsername = authUsername;
@@ -85,7 +85,7 @@ - (void)setAuthUsername:(nullable NSString *)authUsername
 
 - (void)setAuthPassword:(nullable NSString *)authPassword
 {
-    OWSAssert(self.shouldHaveAuthorizationHeaders);
+    OWSAssertDebug(self.shouldHaveAuthorizationHeaders);
 
     @synchronized(self) {
         _authPassword = authPassword;
@@ -94,7 +94,7 @@ - (void)setAuthPassword:(nullable NSString *)authPassword
 
 - (NSString *)authUsername
 {
-    OWSAssert(self.shouldHaveAuthorizationHeaders);
+    OWSAssertDebug(self.shouldHaveAuthorizationHeaders);
 
     @synchronized(self) {
         return (_authUsername ?: [TSAccountManager localNumber]);
@@ -103,7 +103,7 @@ - (NSString *)authUsername
 
 - (NSString *)authPassword
 {
-    OWSAssert(self.shouldHaveAuthorizationHeaders);
+    OWSAssertDebug(self.shouldHaveAuthorizationHeaders);
 
     @synchronized(self) {
         return (_authPassword ?: [TSAccountManager serverAuthToken]);
diff --git a/SignalServiceKit/src/Network/API/Requests/TSVerifyCodeRequest.m b/SignalServiceKit/src/Network/API/Requests/TSVerifyCodeRequest.m
index bfb77aac547..06d12818d6b 100644
--- a/SignalServiceKit/src/Network/API/Requests/TSVerifyCodeRequest.m
+++ b/SignalServiceKit/src/Network/API/Requests/TSVerifyCodeRequest.m
@@ -17,10 +17,10 @@ - (TSRequest *)initWithVerificationCode:(NSString *)verificationCode
                            signalingKey:(NSString *)signalingKey
                                 authKey:(NSString *)authKey
 {
-    OWSAssert(verificationCode.length > 0);
-    OWSAssert(phoneNumber.length > 0);
-    OWSAssert(signalingKey.length > 0);
-    OWSAssert(authKey.length > 0);
+    OWSAssertDebug(verificationCode.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
+    OWSAssertDebug(signalingKey.length > 0);
+    OWSAssertDebug(authKey.length > 0);
 
     NSURL *url =
         [NSURL URLWithString:[NSString stringWithFormat:@"%@/code/%@", textSecureAccountsAPI, verificationCode]];
diff --git a/SignalServiceKit/src/Network/API/TSNetworkManager.m b/SignalServiceKit/src/Network/API/TSNetworkManager.m
index 16506bc75d8..eac193464b6 100644
--- a/SignalServiceKit/src/Network/API/TSNetworkManager.m
+++ b/SignalServiceKit/src/Network/API/TSNetworkManager.m
@@ -66,9 +66,9 @@ - (void)makeRequest:(TSRequest *)request
             success:(TSNetworkManagerSuccess)successBlock
             failure:(TSNetworkManagerFailure)failureBlock
 {
-    OWSAssert(request);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(request);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         [self makeRequestSync:request completionQueue:completionQueue success:successBlock failure:failureBlock];
@@ -80,9 +80,9 @@ - (void)makeRequestSync:(TSRequest *)request
                 success:(TSNetworkManagerSuccess)successBlock
                 failure:(TSNetworkManagerFailure)failureBlock
 {
-    OWSAssert(request);
-    OWSAssert(successBlock);
-    OWSAssert(failureBlock);
+    OWSAssertDebug(request);
+    OWSAssertDebug(successBlock);
+    OWSAssertDebug(failureBlock);
 
     OWSLogInfo(@"Making request: %@", request);
 
@@ -149,8 +149,8 @@ - (void)makeRequestSync:(TSRequest *)request
 
 + (failureBlock)errorPrettifyingForFailureBlock:(failureBlock)failureBlock request:(TSRequest *)request
 {
-    OWSAssert(failureBlock);
-    OWSAssert(request);
+    OWSAssertDebug(failureBlock);
+    OWSAssertDebug(request);
 
     return ^(NSURLSessionDataTask *_Nullable task, NSError *_Nonnull networkError) {
       NSInteger statusCode = [task statusCode];
diff --git a/SignalServiceKit/src/Network/OWSCensorshipConfiguration.m b/SignalServiceKit/src/Network/OWSCensorshipConfiguration.m
index 4d5a4a02c65..943ff7a871d 100644
--- a/SignalServiceKit/src/Network/OWSCensorshipConfiguration.m
+++ b/SignalServiceKit/src/Network/OWSCensorshipConfiguration.m
@@ -34,7 +34,7 @@ + (nullable instancetype)censorshipConfigurationWithPhoneNumber:(NSString *)e164
 + (instancetype)censorshipConfigurationWithCountryCode:(NSString *)countryCode
 {
     OWSCountryMetadata *countryMetadadata = [OWSCountryMetadata countryMetadataForCountryCode:countryCode];
-    OWSAssert(countryMetadadata);
+    OWSAssertDebug(countryMetadadata);
 
     NSString *_Nullable specifiedDomain = countryMetadadata.frontingDomain;
 
@@ -51,8 +51,8 @@ + (instancetype)censorshipConfigurationWithCountryCode:(NSString *)countryCode
         securityPolicy = [self securityPolicyForDomain:OWSCensorshipConfiguration_DefaultFrontingHost];
     }
 
-    OWSAssert(baseURL);
-    OWSAssert(securityPolicy);
+    OWSAssertDebug(baseURL);
+    OWSAssertDebug(securityPolicy);
 
 
     return [[OWSCensorshipConfiguration alloc] initWithDomainFrontBaseURL:baseURL securityPolicy:securityPolicy];
@@ -60,8 +60,8 @@ + (instancetype)censorshipConfigurationWithCountryCode:(NSString *)countryCode
 
 - (instancetype)initWithDomainFrontBaseURL:(NSURL *)domainFrontBaseURL securityPolicy:(AFSecurityPolicy *)securityPolicy
 {
-    OWSAssert(domainFrontBaseURL);
-    OWSAssert(securityPolicy);
+    OWSAssertDebug(domainFrontBaseURL);
+    OWSAssertDebug(securityPolicy);
 
     self = [super init];
     if (!self) {
diff --git a/SignalServiceKit/src/Network/OWSCountryMetadata.m b/SignalServiceKit/src/Network/OWSCountryMetadata.m
index e6d17afda85..95cf9a4bbbf 100644
--- a/SignalServiceKit/src/Network/OWSCountryMetadata.m
+++ b/SignalServiceKit/src/Network/OWSCountryMetadata.m
@@ -14,9 +14,9 @@ + (OWSCountryMetadata *)countryMetadataWithName:(NSString *)name
                                  frontingDomain:(nullable NSString *)frontingDomain
                                     countryCode:(NSString *)countryCode
 {
-    OWSAssert(name.length > 0);
-    OWSAssert(tld.length > 0);
-    OWSAssert(countryCode.length > 0);
+    OWSAssertDebug(name.length > 0);
+    OWSAssertDebug(tld.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
 
     OWSCountryMetadata *instance = [OWSCountryMetadata new];
     instance.name = name;
@@ -35,7 +35,7 @@ + (OWSCountryMetadata *)countryMetadataWithName:(NSString *)name
 
 + (OWSCountryMetadata *)countryMetadataForCountryCode:(NSString *)countryCode
 {
-    OWSAssert(countryCode.length > 0);
+    OWSAssertDebug(countryCode.length > 0);
 
     return [self countryCodeToCountryMetadataMap][countryCode];
 }
diff --git a/SignalServiceKit/src/Network/OWSSignalService.m b/SignalServiceKit/src/Network/OWSSignalService.m
index 169eb4f0363..0b203532e07 100644
--- a/SignalServiceKit/src/Network/OWSSignalService.m
+++ b/SignalServiceKit/src/Network/OWSSignalService.m
@@ -160,7 +160,7 @@ - (AFHTTPSessionManager *)signalServiceSessionManager
 - (AFHTTPSessionManager *)defaultSignalServiceSessionManager
 {
     NSURL *baseURL = [[NSURL alloc] initWithString:textSecureServerURL];
-    OWSAssert(baseURL);
+    OWSAssertDebug(baseURL);
     NSURLSessionConfiguration *sessionConf = NSURLSessionConfiguration.ephemeralSessionConfiguration;
     AFHTTPSessionManager *sessionManager =
         [[AFHTTPSessionManager alloc] initWithBaseURL:baseURL sessionConfiguration:sessionConf];
@@ -205,7 +205,7 @@ - (AFHTTPSessionManager *)CDNSessionManager
 - (AFHTTPSessionManager *)defaultCDNSessionManager
 {
     NSURL *baseURL = [[NSURL alloc] initWithString:textSecureCDNServerURL];
-    OWSAssert(baseURL);
+    OWSAssertDebug(baseURL);
     
     NSURLSessionConfiguration *sessionConf = NSURLSessionConfiguration.ephemeralSessionConfiguration;
     AFHTTPSessionManager *sessionManager =
@@ -263,7 +263,7 @@ - (nullable OWSCensorshipConfiguration *)censorshipConfiguration
 
         OWSCensorshipConfiguration *configuration =
             [OWSCensorshipConfiguration censorshipConfigurationWithCountryCode:countryCode];
-        OWSAssert(configuration);
+        OWSAssertDebug(configuration);
 
         return configuration;
     }
diff --git a/SignalServiceKit/src/Network/WebSockets/TSSocketManager.m b/SignalServiceKit/src/Network/WebSockets/TSSocketManager.m
index 99b7d4bb359..6cc314729df 100644
--- a/SignalServiceKit/src/Network/WebSockets/TSSocketManager.m
+++ b/SignalServiceKit/src/Network/WebSockets/TSSocketManager.m
@@ -62,8 +62,8 @@ - (instancetype)initWithRequestId:(UInt64)requestId
                           failure:(TSSocketMessageFailure)failure
 {
     if (self = [super init]) {
-        OWSAssert(success);
-        OWSAssert(failure);
+        OWSAssertDebug(success);
+        OWSAssertDebug(failure);
 
         _requestId = requestId;
         _success = success;
@@ -84,8 +84,8 @@ - (void)didSucceedWithResponseObject:(id _Nullable)responseObject
         self.hasCompleted = YES;
     }
 
-    OWSAssert(self.success);
-    OWSAssert(self.failure);
+    OWSAssertDebug(self.success);
+    OWSAssertDebug(self.failure);
 
     TSSocketMessageSuccess success = self.success;
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
@@ -115,7 +115,7 @@ - (void)didFailBeforeSending
 
 - (void)didFailWithStatusCode:(NSInteger)statusCode responseData:(nullable NSData *)responseData error:(NSError *)error
 {
-    OWSAssert(error);
+    OWSAssertDebug(error);
 
     @synchronized(self)
     {
@@ -127,8 +127,8 @@ - (void)didFailWithStatusCode:(NSInteger)statusCode responseData:(nullable NSDat
 
     OWSLogError(@"didFailWithStatusCode: %zd, %@", statusCode, error);
 
-    OWSAssert(self.success);
-    OWSAssert(self.failure);
+    OWSAssertDebug(self.success);
+    OWSAssertDebug(self.failure);
 
     TSSocketMessageFailure failure = self.failure;
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
@@ -275,7 +275,7 @@ + (instancetype)sharedManager {
 - (void)ensureWebsocketIsOpen
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(!self.signalService.isCensorshipCircumventionActive);
+    OWSAssertDebug(!self.signalService.isCensorshipCircumventionActive);
 
     // Try to reuse the existing socket (if any) if it is in a valid state.
     if (self.websocket) {
@@ -346,13 +346,13 @@ - (void)setState:(SocketManagerState)state
     if (_state == state) {
         switch (state) {
             case SocketManagerStateClosed:
-                OWSAssert(!self.websocket);
+                OWSAssertDebug(!self.websocket);
                 break;
             case SocketManagerStateOpen:
-                OWSAssert(self.websocket);
+                OWSAssertDebug(self.websocket);
                 break;
             case SocketManagerStateConnecting:
-                OWSAssert(self.websocket);
+                OWSAssertDebug(self.websocket);
                 break;
         }
         return;
@@ -370,7 +370,7 @@ - (void)setState:(SocketManagerState)state
             break;
         }
         case SocketManagerStateOpen: {
-            OWSAssert(self.state == SocketManagerStateConnecting);
+            OWSAssertDebug(self.state == SocketManagerStateConnecting);
 
             self.heartbeatTimer = [NSTimer timerWithTimeInterval:kSocketHeartbeatPeriodSeconds
                                                           target:self
@@ -460,10 +460,10 @@ + (BOOL)canMakeRequests
 
 - (void)makeRequest:(TSRequest *)request success:(TSSocketMessageSuccess)success failure:(TSSocketMessageFailure)failure
 {
-    OWSAssert(request);
-    OWSAssert(request.HTTPMethod.length > 0);
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(request);
+    OWSAssertDebug(request.HTTPMethod.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     TSSocketMessage *socketMessage =
         [[TSSocketMessage alloc] initWithRequestId:[Cryptography randomUInt64] success:success failure:failure];
@@ -550,7 +550,7 @@ - (void)makeRequest:(TSRequest *)request success:(TSSocketMessageSuccess)success
 - (void)processWebSocketResponseMessage:(WebSocketProtoWebSocketResponseMessage *)message
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
         [self processWebSocketResponseMessageAsync:message];
@@ -559,7 +559,7 @@ - (void)processWebSocketResponseMessage:(WebSocketProtoWebSocketResponseMessage
 
 - (void)processWebSocketResponseMessageAsync:(WebSocketProtoWebSocketResponseMessage *)message
 {
-    OWSAssert(message);
+    OWSAssertDebug(message);
 
     OWSLogInfo(@"received WebSocket response.");
 
@@ -650,7 +650,7 @@ - (void)failAllPendingSocketMessages
 
 - (void)webSocketDidOpen:(SRWebSocket *)webSocket {
     OWSAssertIsOnMainThread();
-    OWSAssert(webSocket);
+    OWSAssertDebug(webSocket);
     if (webSocket != self.websocket) {
         // Ignore events from obsolete web sockets.
         return;
@@ -666,7 +666,7 @@ - (void)webSocketDidOpen:(SRWebSocket *)webSocket {
 
 - (void)webSocket:(SRWebSocket *)webSocket didFailWithError:(NSError *)error {
     OWSAssertIsOnMainThread();
-    OWSAssert(webSocket);
+    OWSAssertDebug(webSocket);
     if (webSocket != self.websocket) {
         // Ignore events from obsolete web sockets.
         return;
@@ -686,7 +686,7 @@ - (void)webSocket:(SRWebSocket *)webSocket didFailWithError:(NSError *)error {
 
 - (void)webSocket:(SRWebSocket *)webSocket didReceiveMessage:(NSData *)data {
     OWSAssertIsOnMainThread();
-    OWSAssert(webSocket);
+    OWSAssertDebug(webSocket);
 
     if (webSocket != self.websocket) {
         // Ignore events from obsolete web sockets.
@@ -736,7 +736,7 @@ - (void)processWebSocketRequestMessage:(WebSocketProtoWebSocketRequestMessage *)
                 if (!decryptedPayload) {
                     OWSLogWarn(@"Failed to decrypt incoming payload or bad HMAC");
                     [self sendWebSocketMessageAcknowledgement:message];
-                    OWSAssert(backgroundTask);
+                    OWSAssertDebug(backgroundTask);
                     backgroundTask = nil;
                     return;
                 }
@@ -756,7 +756,7 @@ - (void)processWebSocketRequestMessage:(WebSocketProtoWebSocketRequestMessage *)
 
             dispatch_async(dispatch_get_main_queue(), ^{
                 [self sendWebSocketMessageAcknowledgement:message];
-                OWSAssert(backgroundTask);
+                OWSAssertDebug(backgroundTask);
                 backgroundTask = nil;
             });
         });
@@ -836,7 +836,7 @@ - (void)webSocket:(SRWebSocket *)webSocket
             wasClean:(BOOL)wasClean
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(webSocket);
+    OWSAssertDebug(webSocket);
     if (webSocket != self.websocket) {
         // Ignore events from obsolete web sockets.
         return;
@@ -894,7 +894,7 @@ - (BOOL)shouldSocketBeOpen
         // If app is active, keep web socket alive.
         return YES;
     } else if (self.backgroundKeepAliveUntilDate && [self.backgroundKeepAliveUntilDate timeIntervalSinceNow] > 0.f) {
-        OWSAssert(self.backgroundKeepAliveTimer);
+        OWSAssertDebug(self.backgroundKeepAliveTimer);
         // If app is doing any work in the background, keep web socket alive.
         return YES;
     } else {
@@ -905,14 +905,14 @@ - (BOOL)shouldSocketBeOpen
 - (void)requestSocketAliveForAtLeastSeconds:(CGFloat)durationSeconds
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(durationSeconds > 0.f);
+    OWSAssertDebug(durationSeconds > 0.f);
 
     if (self.appIsActive) {
         // If app is active, clean up state used to keep socket alive in background.
         [self clearBackgroundState];
     } else if (!self.backgroundKeepAliveUntilDate) {
-        OWSAssert(!self.backgroundKeepAliveUntilDate);
-        OWSAssert(!self.backgroundKeepAliveTimer);
+        OWSAssertDebug(!self.backgroundKeepAliveUntilDate);
+        OWSAssertDebug(!self.backgroundKeepAliveTimer);
 
         OWSLogInfo(@"activating socket in the background");
 
@@ -947,9 +947,9 @@ - (void)requestSocketAliveForAtLeastSeconds:(CGFloat)durationSeconds
                                               [strongSelf applyDesiredSocketState];
                                           }];
     } else {
-        OWSAssert(self.backgroundKeepAliveUntilDate);
-        OWSAssert(self.backgroundKeepAliveTimer);
-        OWSAssert([self.backgroundKeepAliveTimer isValid]);
+        OWSAssertDebug(self.backgroundKeepAliveUntilDate);
+        OWSAssertDebug(self.backgroundKeepAliveTimer);
+        OWSAssertDebug([self.backgroundKeepAliveTimer isValid]);
 
         if ([self.backgroundKeepAliveUntilDate timeIntervalSinceNow] < durationSeconds) {
             // Update state used to keep socket alive in background.
@@ -1027,10 +1027,10 @@ - (void)clearBackgroundState
 - (void)ensureReconnect
 {
     OWSAssertIsOnMainThread();
-    OWSAssert([self shouldSocketBeOpen]);
+    OWSAssertDebug([self shouldSocketBeOpen]);
 
     if (self.reconnectTimer) {
-        OWSAssert([self.reconnectTimer isValid]);
+        OWSAssertDebug([self.reconnectTimer isValid]);
     } else {
         // TODO: It'd be nice to do exponential backoff.
         self.reconnectTimer = [NSTimer timerWithTimeInterval:kSocketReconnectDelaySeconds
diff --git a/SignalServiceKit/src/Protocols/ProtoUtils.m b/SignalServiceKit/src/Protocols/ProtoUtils.m
index df34a1e73b0..acb8ba2ac7e 100644
--- a/SignalServiceKit/src/Protocols/ProtoUtils.m
+++ b/SignalServiceKit/src/Protocols/ProtoUtils.m
@@ -15,7 +15,7 @@ @implementation ProtoUtils
 
 + (BOOL)shouldMessageHaveLocalProfileKey:(TSThread *)thread recipientId:(NSString *_Nullable)recipientId
 {
-    OWSAssert(thread);
+    OWSAssertDebug(thread);
 
     id<ProfileManagerProtocol> profileManager = [TextSecureKitEnv sharedEnv].profileManager;
 
@@ -43,8 +43,8 @@ + (void)addLocalProfileKeyIfNecessary:(TSThread *)thread
                           recipientId:(NSString *_Nullable)recipientId
                    dataMessageBuilder:(SSKProtoDataMessageBuilder *)dataMessageBuilder
 {
-    OWSAssert(thread);
-    OWSAssert(dataMessageBuilder);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(dataMessageBuilder);
 
     if ([self shouldMessageHaveLocalProfileKey:thread recipientId:recipientId]) {
         [dataMessageBuilder setProfileKey:self.localProfileKey.keyData];
@@ -63,7 +63,7 @@ + (void)addLocalProfileKeyIfNecessary:(TSThread *)thread
 
 + (void)addLocalProfileKeyToDataMessageBuilder:(SSKProtoDataMessageBuilder *)dataMessageBuilder
 {
-    OWSAssert(dataMessageBuilder);
+    OWSAssertDebug(dataMessageBuilder);
 
     [dataMessageBuilder setProfileKey:self.localProfileKey.keyData];
 }
@@ -72,9 +72,9 @@ + (void)addLocalProfileKeyIfNecessary:(TSThread *)thread
                           recipientId:(NSString *)recipientId
                    callMessageBuilder:(SSKProtoCallMessageBuilder *)callMessageBuilder
 {
-    OWSAssert(thread);
-    OWSAssert(recipientId.length > 0);
-    OWSAssert(callMessageBuilder);
+    OWSAssertDebug(thread);
+    OWSAssertDebug(recipientId.length > 0);
+    OWSAssertDebug(callMessageBuilder);
 
     if ([self shouldMessageHaveLocalProfileKey:thread recipientId:recipientId]) {
         [callMessageBuilder setProfileKey:self.localProfileKey.keyData];
diff --git a/SignalServiceKit/src/Security/OWSFingerprint.m b/SignalServiceKit/src/Security/OWSFingerprint.m
index b20d68027db..201a904dad6 100644
--- a/SignalServiceKit/src/Security/OWSFingerprint.m
+++ b/SignalServiceKit/src/Security/OWSFingerprint.m
@@ -37,8 +37,8 @@ - (instancetype)initWithMyStableId:(NSString *)myStableId
                          theirName:(NSString *)theirName
                     hashIterations:(uint32_t)hashIterations
 {
-    OWSAssert(theirIdentityKeyWithoutKeyType.length == 32);
-    OWSAssert(myIdentityKeyWithoutKeyType.length == 32);
+    OWSAssertDebug(theirIdentityKeyWithoutKeyType.length == 32);
+    OWSAssertDebug(myIdentityKeyWithoutKeyType.length == 32);
 
     self = [super init];
     if (!self) {
@@ -90,8 +90,8 @@ + (instancetype)fingerprintWithMyStableId:(NSString *)myStableId
 
 - (BOOL)matchesLogicalFingerprintsData:(NSData *)data error:(NSError **)error
 {
-    OWSAssert(data.length > 0);
-    OWSAssert(error);
+    OWSAssertDebug(data.length > 0);
+    OWSAssertDebug(error);
 
     *error = nil;
     FingerprintProtoLogicalFingerprints *_Nullable logicalFingerprints;
@@ -206,8 +206,8 @@ - (NSData *)dataFromShort:(uint32_t)aShort
  */
 - (NSData *)dataForStableId:(NSData *)stableIdData publicKey:(NSData *)publicKey
 {
-    OWSAssert(stableIdData);
-    OWSAssert(publicKey);
+    OWSAssertDebug(stableIdData);
+    OWSAssertDebug(publicKey);
 
     NSData *versionData = [self dataFromShort:OWSFingerprintHashingVersion];
     NSMutableData *hash = [versionData mutableCopy];
@@ -236,7 +236,7 @@ - (NSData *)dataForStableId:(NSData *)stableIdData publicKey:(NSData *)publicKey
 
 - (NSString *)stringForFingerprintData:(NSData *)data
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     return [NSString stringWithFormat:@"%@%@%@%@%@%@",
                      [self encodedChunkFromData:data offset:0],
@@ -249,7 +249,7 @@ - (NSString *)stringForFingerprintData:(NSData *)data
 
 - (NSString *)encodedChunkFromData:(NSData *)data offset:(uint)offset
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     uint8_t fiveBytes[5];
     [data getBytes:fiveBytes range:NSMakeRange(offset, 5)];
diff --git a/SignalServiceKit/src/Security/OWSRecipientIdentity.m b/SignalServiceKit/src/Security/OWSRecipientIdentity.m
index f6f7ac8848f..ae0dd5eba83 100644
--- a/SignalServiceKit/src/Security/OWSRecipientIdentity.m
+++ b/SignalServiceKit/src/Security/OWSRecipientIdentity.m
@@ -41,11 +41,11 @@ SSKProtoVerifiedState OWSVerificationStateToProtoState(OWSVerificationState veri
     OWSVerificationState verificationState,
     NSUInteger paddingBytesLength)
 {
-    OWSCAssert(identityKey.length == kIdentityKeyLength);
-    OWSCAssert(destinationRecipientId.length > 0);
+    OWSCAssertDebug(identityKey.length == kIdentityKeyLength);
+    OWSCAssertDebug(destinationRecipientId.length > 0);
     // we only sync user's marking as un/verified. Never sync the conflicted state, the sibling device
     // will figure that out on it's own.
-    OWSCAssert(verificationState != OWSVerificationStateNoLongerVerified);
+    OWSCAssertDebug(verificationState != OWSVerificationStateNoLongerVerified);
 
     SSKProtoVerifiedBuilder *verifiedBuilder = [SSKProtoVerifiedBuilder new];
     verifiedBuilder.destination = destinationRecipientId;
@@ -120,7 +120,7 @@ - (instancetype)initWithRecipientId:(NSString *)recipientId
 - (void)updateWithVerificationState:(OWSVerificationState)verificationState
                         transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     // Ensure changes are persisted without clobbering any work done on another thread or instance.
     [self updateWithChangeBlock:^(OWSRecipientIdentity *_Nonnull obj) {
@@ -132,7 +132,7 @@ - (void)updateWithVerificationState:(OWSVerificationState)verificationState
 - (void)updateWithChangeBlock:(void (^)(OWSRecipientIdentity *obj))changeBlock
                   transaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     changeBlock(self);
 
diff --git a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+Calling.m b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+Calling.m
index cf33e4cd557..0feb2839741 100644
--- a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+Calling.m
+++ b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+Calling.m
@@ -13,8 +13,8 @@ @implementation OWSPrimaryStorage (Calling)
 
 - (void)setPhoneNumber:(NSString *)phoneNumber forCallKitId:(NSString *)callKitId
 {
-    OWSAssert(phoneNumber.length > 0);
-    OWSAssert(callKitId.length > 0);
+    OWSAssertDebug(phoneNumber.length > 0);
+    OWSAssertDebug(callKitId.length > 0);
 
     [self.dbReadWriteConnection setObject:phoneNumber
                                    forKey:callKitId
@@ -23,7 +23,7 @@ - (void)setPhoneNumber:(NSString *)phoneNumber forCallKitId:(NSString *)callKitI
 
 - (NSString *)phoneNumberForCallKitId:(NSString *)callKitId
 {
-    OWSAssert(callKitId.length > 0);
+    OWSAssertDebug(callKitId.length > 0);
 
     return
         [self.dbReadConnection objectForKey:callKitId inCollection:OWSPrimaryStorageCallKitIdToPhoneNumberCollection];
diff --git a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+PreKeyStore.m b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+PreKeyStore.m
index 9736178e8a7..b8737de04f8 100644
--- a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+PreKeyStore.m
+++ b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+PreKeyStore.m
@@ -106,7 +106,7 @@ - (int)nextPreKeyId
         // to avoid biasing towards higher values.
         lastPreKeyId = 1;
     }
-    OWSCAssert(lastPreKeyId > 0 && lastPreKeyId < kPreKeyOfLastResortId);
+    OWSCAssertDebug(lastPreKeyId > 0 && lastPreKeyId < kPreKeyOfLastResortId);
 
     return lastPreKeyId;
 }
diff --git a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+SessionStore.m b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+SessionStore.m
index ad1f93b94de..ec4ff7413df 100644
--- a/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+SessionStore.m
+++ b/SignalServiceKit/src/Storage/AxolotlStore/OWSPrimaryStorage+SessionStore.m
@@ -44,9 +44,9 @@ - (SessionRecord *)loadSession:(NSString *)contactIdentifier
                       deviceId:(int)deviceId
                protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert(deviceId >= 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug(deviceId >= 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -70,8 +70,8 @@ - (SessionRecord *)loadSession:(NSString *)contactIdentifier
 #pragma clang diagnostic ignored "-Wdeprecated-declarations"
 - (NSArray *)subDevicesSessions:(NSString *)contactIdentifier protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     // Deprecated. We aren't currently using this anywhere, but it's "required" by the SessionStore protocol.
     // If we are going to start using it I'd want to re-verify it works as intended.
@@ -91,9 +91,9 @@ - (void)storeSession:(NSString *)contactIdentifier
              session:(SessionRecord *)session
      protocolContext:protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert(deviceId >= 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug(deviceId >= 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -122,9 +122,9 @@ - (BOOL)containsSession:(NSString *)contactIdentifier
                deviceId:(int)deviceId
         protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert(deviceId >= 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug(deviceId >= 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     return [self loadSession:contactIdentifier deviceId:deviceId protocolContext:protocolContext]
         .sessionState.hasSenderChain;
@@ -134,9 +134,9 @@ - (void)deleteSessionForContact:(NSString *)contactIdentifier
                        deviceId:(int)deviceId
                 protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert(deviceId >= 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug(deviceId >= 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -158,8 +158,8 @@ - (void)deleteSessionForContact:(NSString *)contactIdentifier
 
 - (void)deleteAllSessionsForContact:(NSString *)contactIdentifier protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -170,8 +170,8 @@ - (void)deleteAllSessionsForContact:(NSString *)contactIdentifier protocolContex
 
 - (void)archiveAllSessionsForContact:(NSString *)contactIdentifier protocolContext:(nullable id)protocolContext
 {
-    OWSAssert(contactIdentifier.length > 0);
-    OWSAssert([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
+    OWSAssertDebug(contactIdentifier.length > 0);
+    OWSAssertDebug([protocolContext isKindOfClass:[YapDatabaseReadWriteTransaction class]]);
 
     YapDatabaseReadWriteTransaction *transaction = protocolContext;
 
@@ -200,7 +200,7 @@ - (void)archiveAllSessionsForContact:(NSString *)contactIdentifier protocolConte
 
 - (void)resetSessionStore:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     OWSLogWarn(@"resetting session store");
 
@@ -260,14 +260,14 @@ - (NSString *)snapshotFilePath
 
 - (void)snapshotSessionStore:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [transaction snapshotCollection:OWSPrimaryStorageSessionStoreCollection snapshotFilePath:self.snapshotFilePath];
 }
 
 - (void)restoreSessionStore:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     [transaction restoreSnapshotOfCollection:OWSPrimaryStorageSessionStoreCollection
                             snapshotFilePath:self.snapshotFilePath];
diff --git a/SignalServiceKit/src/Storage/OWSIncomingMessageFinder.m b/SignalServiceKit/src/Storage/OWSIncomingMessageFinder.m
index a6a2c42fd28..f8f5cd9d96b 100644
--- a/SignalServiceKit/src/Storage/OWSIncomingMessageFinder.m
+++ b/SignalServiceKit/src/Storage/OWSIncomingMessageFinder.m
@@ -31,7 +31,7 @@ @implementation OWSIncomingMessageFinder
 
 - (instancetype)init
 {
-    OWSAssert([OWSPrimaryStorage sharedManager]);
+    OWSAssertDebug([OWSPrimaryStorage sharedManager]);
 
     return [self initWithPrimaryStorage:[OWSPrimaryStorage sharedManager]];
 }
diff --git a/SignalServiceKit/src/Storage/OWSMediaGalleryFinder.m b/SignalServiceKit/src/Storage/OWSMediaGalleryFinder.m
index 348dd80fd66..3dbd2117c8f 100644
--- a/SignalServiceKit/src/Storage/OWSMediaGalleryFinder.m
+++ b/SignalServiceKit/src/Storage/OWSMediaGalleryFinder.m
@@ -53,8 +53,8 @@ - (NSUInteger)mediaIndexForMessage:(TSMessage *)message transaction:(YapDatabase
                                                                           forKey:message.uniqueId
                                                                     inCollection:[TSMessage collection]];
 
-    OWSAssert(wasFound);
-    OWSAssert([self.mediaGroup isEqual:groupId]);
+    OWSAssertDebug(wasFound);
+    OWSAssertDebug([self.mediaGroup isEqual:groupId]);
 
     return index;
 }
@@ -84,7 +84,7 @@ - (void)enumerateMediaMessagesWithRange:(NSRange)range
                                 NSUInteger index,
                                 BOOL *_Nonnull stop) {
 
-                                OWSAssert([object isKindOfClass:[TSMessage class]]);
+                                OWSAssertDebug([object isKindOfClass:[TSMessage class]]);
                                 messageBlock((TSMessage *)object);
                             }];
 }
@@ -94,7 +94,7 @@ - (void)enumerateMediaMessagesWithRange:(NSRange)range
 - (YapDatabaseAutoViewTransaction *)galleryExtensionWithTransaction:(YapDatabaseReadTransaction *)transaction
 {
     YapDatabaseAutoViewTransaction *extension = [transaction extension:OWSMediaGalleryFinderExtensionName];
-    OWSAssert(extension);
+    OWSAssertDebug(extension);
     
     return extension;
 }
@@ -148,7 +148,7 @@ + (YapDatabaseAutoView *)mediaGalleryDatabaseExtension
         }
         TSMessage *message = (TSMessage *)object;
         
-        OWSAssert(message.attachmentIds.count <= 1);
+        OWSAssertDebug(message.attachmentIds.count <= 1);
         NSString *attachmentId = message.attachmentIds.firstObject;
         if (attachmentId.length == 0) {
             return nil;
diff --git a/SignalServiceKit/src/Storage/OWSPrimaryStorage.m b/SignalServiceKit/src/Storage/OWSPrimaryStorage.m
index 05eb4675b78..8f8dc7bcc1b 100644
--- a/SignalServiceKit/src/Storage/OWSPrimaryStorage.m
+++ b/SignalServiceKit/src/Storage/OWSPrimaryStorage.m
@@ -32,7 +32,7 @@
 
 void VerifyRegistrationsForPrimaryStorage(OWSStorage *storage)
 {
-    OWSCAssert(storage);
+    OWSCAssertDebug(storage);
 
     [[storage newDatabaseConnection] asyncReadWithBlock:^(YapDatabaseReadTransaction *transaction) {
         for (NSString *extensionName in storage.registeredExtensionNames) {
@@ -173,14 +173,14 @@ - (void)runSyncRegistrations
     // seeing, this issue only seems to affect sync and not async registrations.  We've always
     // been opening write transactions before the async registrations complete without negative
     // consequences.
-    OWSAssert(!self.areSyncRegistrationsComplete);
+    OWSAssertDebug(!self.areSyncRegistrationsComplete);
     self.areSyncRegistrationsComplete = YES;
 }
 
 - (void)runAsyncRegistrationsWithCompletion:(void (^_Nonnull)(void))completion
 {
-    OWSAssert(completion);
-    OWSAssert(self.database);
+    OWSAssertDebug(completion);
+    OWSAssertDebug(self.database);
 
     OWSLogVerbose(@"async registrations enqueuing.");
 
@@ -214,7 +214,7 @@ - (void)runAsyncRegistrationsWithCompletion:(void (^_Nonnull)(void))completion
     [self.database flushExtensionRequestsWithCompletionQueue:nil
                                              completionBlock:^{
                                                  OWSAssertIsOnMainThread();
-                                                 OWSAssert(!self.areAsyncRegistrationsComplete);
+                                                 OWSAssertDebug(!self.areAsyncRegistrationsComplete);
                                                  OWSLogVerbose(@"async registrations complete.");
                                                  self.areAsyncRegistrationsComplete = YES;
 
diff --git a/SignalServiceKit/src/Storage/OWSStorage.m b/SignalServiceKit/src/Storage/OWSStorage.m
index cec7da53baa..2d8ed5a45b3 100644
--- a/SignalServiceKit/src/Storage/OWSStorage.m
+++ b/SignalServiceKit/src/Storage/OWSStorage.m
@@ -65,7 +65,7 @@ - (id)initWithDatabase:(YapDatabase *)database delegate:(id<OWSDatabaseConnectio
         return self;
     }
 
-    OWSAssert(delegate);
+    OWSAssertDebug(delegate);
 
     self.delegate = delegate;
 
@@ -82,8 +82,8 @@ - (id)initWithDatabase:(YapDatabase *)database delegate:(id<OWSDatabaseConnectio
 - (void)readWriteWithBlock:(void (^)(YapDatabaseReadWriteTransaction *transaction))block
 {
     id<OWSDatabaseConnectionDelegate> delegate = self.delegate;
-    OWSAssert(delegate);
-    OWSAssert(delegate.areAllRegistrationsComplete);
+    OWSAssertDebug(delegate);
+    OWSAssertDebug(delegate.areAllRegistrationsComplete);
 
     OWSBackgroundTask *_Nullable backgroundTask = nil;
     if (CurrentAppContext().isMainApp) {
@@ -109,8 +109,8 @@ - (void)asyncReadWriteWithBlock:(void (^)(YapDatabaseReadWriteTransaction *trans
                 completionBlock:(nullable dispatch_block_t)completionBlock
 {
     id<OWSDatabaseConnectionDelegate> delegate = self.delegate;
-    OWSAssert(delegate);
-    OWSAssert(delegate.areAllRegistrationsComplete);
+    OWSAssertDebug(delegate);
+    OWSAssertDebug(delegate.areAllRegistrationsComplete);
 
     __block OWSBackgroundTask *_Nullable backgroundTask = nil;
     if (CurrentAppContext().isMainApp) {
@@ -161,7 +161,7 @@ - (id)initWithPath:(NSString *)inPath
         return self;
     }
 
-    OWSAssert(delegate);
+    OWSAssertDebug(delegate);
 
     self.delegate = delegate;
 
@@ -175,7 +175,7 @@ - (id)initWithPath:(NSString *)inPath
 - (YapDatabaseConnection *)newConnection
 {
     id<OWSDatabaseConnectionDelegate> delegate = self.delegate;
-    OWSAssert(delegate);
+    OWSAssertDebug(delegate);
 
     OWSDatabaseConnection *connection = [[OWSDatabaseConnection alloc] initWithDatabase:self delegate:delegate];
     [self addConnection:connection];
@@ -337,7 +337,7 @@ - (void)loadDatabase
 
 - (nullable id)dbNotificationObject
 {
-    OWSAssert(self.database);
+    OWSAssertDebug(self.database);
 
     return self.database;
 }
@@ -373,7 +373,7 @@ - (void)runAsyncRegistrationsWithCompletion:(void (^_Nonnull)(void))completion
 
 + (void)registerExtensionsWithMigrationBlock:(OWSStorageMigrationBlock)migrationBlock
 {
-    OWSAssert(migrationBlock);
+    OWSAssertDebug(migrationBlock);
 
     __block OWSBackgroundTask *_Nullable backgroundTask =
         [OWSBackgroundTask backgroundTaskWithLabelStr:__PRETTY_FUNCTION__];
@@ -381,7 +381,7 @@ + (void)registerExtensionsWithMigrationBlock:(OWSStorageMigrationBlock)migration
     [OWSPrimaryStorage.sharedManager runSyncRegistrations];
 
     [OWSPrimaryStorage.sharedManager runAsyncRegistrationsWithCompletion:^{
-        OWSAssert(self.isStorageReady);
+        OWSAssertDebug(self.isStorageReady);
 
         [self postRegistrationCompleteNotification];
 
@@ -399,7 +399,7 @@ - (YapDatabaseConnection *)registrationConnection
 // Returns YES IFF all registrations are complete.
 + (void)postRegistrationCompleteNotification
 {
-    OWSAssert(self.isStorageReady);
+    OWSAssertDebug(self.isStorageReady);
 
     OWSLogInfo(@"");
 
@@ -425,16 +425,16 @@ - (BOOL)tryToLoadDatabase
     options.enableMultiProcessSupport = YES;
     options.cipherKeySpecBlock = ^{
         // NOTE: It's critical that we don't capture a reference to self
-        // (e.g. by using OWSAssert()) or this database will contain a
+        // (e.g. by using OWSAssertDebug()) or this database will contain a
         // circular reference and will leak.
         OWSStorage *strongSelf = weakSelf;
-        OWSCAssert(strongSelf);
+        OWSCAssertDebug(strongSelf);
 
         // Rather than compute this once and capture the value of the key
         // in the closure, we prefer to fetch the key from the keychain multiple times
         // in order to keep the key out of application memory.
         NSData *databaseKeySpec = [strongSelf databaseKeySpec];
-        OWSCAssert(databaseKeySpec.length == kSQLCipherKeySpecLength);
+        OWSCAssertDebug(databaseKeySpec.length == kSQLCipherKeySpecLength);
         return databaseKeySpec;
     };
 
@@ -446,12 +446,12 @@ - (BOOL)tryToLoadDatabase
 
     // If any of these asserts fails, we need to verify and update
     // OWSDatabaseConverter which assumes the values of these options.
-    OWSAssert(options.cipherDefaultkdfIterNumber == 0);
-    OWSAssert(options.kdfIterNumber == 0);
-    OWSAssert(options.cipherPageSize == 0);
-    OWSAssert(options.pragmaPageSize == 0);
-    OWSAssert(options.pragmaJournalSizeLimit == 0);
-    OWSAssert(options.pragmaMMapSize == 0);
+    OWSAssertDebug(options.cipherDefaultkdfIterNumber == 0);
+    OWSAssertDebug(options.kdfIterNumber == 0);
+    OWSAssertDebug(options.cipherPageSize == 0);
+    OWSAssertDebug(options.pragmaPageSize == 0);
+    OWSAssertDebug(options.pragmaJournalSizeLimit == 0);
+    OWSAssertDebug(options.pragmaMMapSize == 0);
 
     // Sanity checking elsewhere asserts we should only regenerate key specs when
     // there is no existing database, so rather than lazily generate in the cipherKeySpecBlock
@@ -516,7 +516,7 @@ + (void)incrementVersionOfDatabaseExtension:(NSString *)extensionName
     OWSLogError(@"%@", extensionName);
 
     NSUserDefaults *appUserDefaults = [NSUserDefaults appUserDefaults];
-    OWSAssert(appUserDefaults);
+    OWSAssertDebug(appUserDefaults);
     NSMutableDictionary<NSString *, NSNumber *> *_Nullable versionMap =
         [[appUserDefaults valueForKey:kNSUserDefaults_DatabaseExtensionVersionMap] mutableCopy];
     if (!versionMap) {
@@ -534,7 +534,7 @@ - (nullable NSString *)appendSuffixToDatabaseExtensionVersionIfNecessary:(nullab
     OWSAssertIsOnMainThread();
 
     NSUserDefaults *appUserDefaults = [NSUserDefaults appUserDefaults];
-    OWSAssert(appUserDefaults);
+    OWSAssertDebug(appUserDefaults);
     NSDictionary<NSString *, NSNumber *> *_Nullable versionMap =
         [appUserDefaults valueForKey:kNSUserDefaults_DatabaseExtensionVersionMap];
     NSNumber *_Nullable versionSuffix = versionMap[extensionName];
@@ -550,8 +550,8 @@ - (nullable NSString *)appendSuffixToDatabaseExtensionVersionIfNecessary:(nullab
 
 - (YapDatabaseExtension *)updateExtensionVersion:(YapDatabaseExtension *)extension withName:(NSString *)extensionName
 {
-    OWSAssert(extension);
-    OWSAssert(extensionName.length > 0);
+    OWSAssertDebug(extension);
+    OWSAssertDebug(extensionName.length > 0);
 
     if ([extension isKindOfClass:[YapDatabaseAutoView class]]) {
         YapDatabaseAutoView *databaseView = (YapDatabaseAutoView *)extension;
@@ -564,8 +564,8 @@ - (YapDatabaseExtension *)updateExtensionVersion:(YapDatabaseExtension *)extensi
         return databaseViewCopy;
     } else if ([extension isKindOfClass:[YapDatabaseSecondaryIndex class]]) {
         YapDatabaseSecondaryIndex *secondaryIndex = (YapDatabaseSecondaryIndex *)extension;
-        OWSAssert(secondaryIndex->setup);
-        OWSAssert(secondaryIndex->handler);
+        OWSAssertDebug(secondaryIndex->setup);
+        OWSAssertDebug(secondaryIndex->handler);
         YapDatabaseSecondaryIndex *secondaryIndexCopy = [[YapDatabaseSecondaryIndex alloc]
             initWithSetup:secondaryIndex->setup
                   handler:secondaryIndex->handler
@@ -602,7 +602,7 @@ - (BOOL)registerExtension:(YapDatabaseExtension *)extension withName:(NSString *
 {
     extension = [self updateExtensionVersion:extension withName:extensionName];
 
-    OWSAssert(![self.extensionNames containsObject:extensionName]);
+    OWSAssertDebug(![self.extensionNames containsObject:extensionName]);
     [self.extensionNames addObject:extensionName];
 
     return [self.database registerExtension:extension withName:extensionName];
@@ -620,7 +620,7 @@ - (void)asyncRegisterExtension:(YapDatabaseExtension *)extension
 {
     extension = [self updateExtensionVersion:extension withName:extensionName];
 
-    OWSAssert(![self.extensionNames containsObject:extensionName]);
+    OWSAssertDebug(![self.extensionNames containsObject:extensionName]);
     [self.extensionNames addObject:extensionName];
 
     [self.database asyncRegisterExtension:extension
@@ -734,14 +734,14 @@ + (nullable NSData *)tryToLoadDatabaseLegacyPassphrase:(NSError **)errorHandle
 + (nullable NSData *)tryToLoadDatabaseCipherKeySpec:(NSError **)errorHandle
 {
     NSData *_Nullable data = [self tryToLoadKeyChainValue:keychainDBCipherKeySpec errorHandle:errorHandle];
-    OWSAssert(!data || data.length == kSQLCipherKeySpecLength);
+    OWSAssertDebug(!data || data.length == kSQLCipherKeySpecLength);
 
     return data;
 }
 
 + (void)storeDatabaseCipherKeySpec:(NSData *)cipherKeySpecData
 {
-    OWSAssert(cipherKeySpecData.length == kSQLCipherKeySpecLength);
+    OWSAssertDebug(cipherKeySpecData.length == kSQLCipherKeySpecLength);
 
     [self storeKeyChainValue:cipherKeySpecData keychainKey:keychainDBCipherKeySpec];
 }
@@ -824,7 +824,7 @@ - (NSData *)databaseKeySpec
 
 - (void)raiseKeySpecInaccessibleExceptionWithErrorDescription:(NSString *)errorDescription
 {
-    OWSAssert(CurrentAppContext().isMainApp && CurrentAppContext().isInBackground);
+    OWSAssertDebug(CurrentAppContext().isMainApp && CurrentAppContext().isInBackground);
 
     // Sleep to give analytics events time to be delivered.
     [NSThread sleepForTimeInterval:5.0f];
@@ -858,16 +858,16 @@ - (unsigned long long)databaseSHMFileSize
 
 + (nullable NSData *)tryToLoadKeyChainValue:(NSString *)keychainKey errorHandle:(NSError **)errorHandle
 {
-    OWSAssert(keychainKey.length > 0);
-    OWSAssert(errorHandle);
+    OWSAssertDebug(keychainKey.length > 0);
+    OWSAssertDebug(errorHandle);
 
     return [SAMKeychain passwordDataForService:keychainService account:keychainKey error:errorHandle];
 }
 
 + (void)storeKeyChainValue:(NSData *)data keychainKey:(NSString *)keychainKey
 {
-    OWSAssert(keychainKey.length > 0);
-    OWSAssert(data.length > 0);
+    OWSAssertDebug(keychainKey.length > 0);
+    OWSAssertDebug(data.length > 0);
 
     NSError *error;
     [SAMKeychain setAccessibilityType:kSecAttrAccessibleAfterFirstUnlockThisDeviceOnly];
diff --git a/SignalServiceKit/src/Storage/TSDatabaseView.m b/SignalServiceKit/src/Storage/TSDatabaseView.m
index 75319598451..ce24c108782 100644
--- a/SignalServiceKit/src/Storage/TSDatabaseView.m
+++ b/SignalServiceKit/src/Storage/TSDatabaseView.m
@@ -46,7 +46,7 @@ @implementation TSDatabaseView
 
 + (void)registerCrossProcessNotifier:(OWSStorage *)storage
 {
-    OWSAssert(storage);
+    OWSAssertDebug(storage);
 
     // I don't think the identifier and name of this extension matter for our purposes,
     // so long as they don't conflict with any other extension names.
@@ -61,9 +61,9 @@ + (void)registerMessageDatabaseViewWithName:(NSString *)viewName
                                     storage:(OWSStorage *)storage
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(viewName.length > 0);
-    OWSAssert((viewGrouping));
-    OWSAssert(storage);
+    OWSAssertDebug(viewName.length > 0);
+    OWSAssertDebug((viewGrouping));
+    OWSAssertDebug(storage);
 
     YapDatabaseView *existingView = [storage registeredExtension:viewName];
     if (existingView) {
@@ -208,7 +208,7 @@ + (void)asyncRegisterThreadDatabaseView:(OWSStorage *)storage
             // Do nothing; we never hide threads that have ever had a message.
         } else {
             YapDatabaseViewTransaction *viewTransaction = [transaction ext:TSMessageDatabaseViewExtensionName];
-            OWSAssert(viewTransaction);
+            OWSAssertDebug(viewTransaction);
             NSUInteger threadMessageCount = [viewTransaction numberOfItemsInGroup:thread.uniqueId];
             if (threadMessageCount < 1) {
                 return nil;
@@ -415,13 +415,13 @@ + (void)asyncRegisterLazyRestoreAttachmentsDatabaseView:(OWSStorage *)storage
 
 + (id)unseenDatabaseViewExtension:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     id result = [transaction ext:TSUnseenDatabaseViewExtensionName];
 
     if (!result) {
         result = [transaction ext:TSUnreadDatabaseViewExtensionName];
-        OWSAssert(result);
+        OWSAssertDebug(result);
     }
 
     return result;
@@ -429,20 +429,20 @@ + (id)unseenDatabaseViewExtension:(YapDatabaseReadTransaction *)transaction
 
 + (id)threadOutgoingMessageDatabaseView:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     id result = [transaction ext:TSThreadOutgoingMessageDatabaseViewExtensionName];
-    OWSAssert(result);
+    OWSAssertDebug(result);
 
     return result;
 }
 
 + (id)threadSpecialMessagesDatabaseView:(YapDatabaseReadTransaction *)transaction
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     id result = [transaction ext:TSThreadSpecialMessagesDatabaseViewExtensionName];
-    OWSAssert(result);
+    OWSAssertDebug(result);
 
     return result;
 }
diff --git a/SignalServiceKit/src/Storage/TSYapDatabaseObject.m b/SignalServiceKit/src/Storage/TSYapDatabaseObject.m
index ed77961bf32..d41feab0846 100644
--- a/SignalServiceKit/src/Storage/TSYapDatabaseObject.m
+++ b/SignalServiceKit/src/Storage/TSYapDatabaseObject.m
@@ -211,7 +211,7 @@ + (nullable instancetype)fetchObjectWithUniqueID:(NSString *)uniqueID
 - (void)applyChangeToSelfAndLatestCopy:(YapDatabaseReadWriteTransaction *)transaction
                            changeBlock:(void (^)(id))changeBlock
 {
-    OWSAssert(transaction);
+    OWSAssertDebug(transaction);
 
     changeBlock(self);
 
diff --git a/SignalServiceKit/src/Storage/YapDatabaseConnection+OWS.m b/SignalServiceKit/src/Storage/YapDatabaseConnection+OWS.m
index c90134debf0..7da0d63a703 100644
--- a/SignalServiceKit/src/Storage/YapDatabaseConnection+OWS.m
+++ b/SignalServiceKit/src/Storage/YapDatabaseConnection+OWS.m
@@ -14,16 +14,16 @@ @implementation YapDatabaseConnection (OWS)
 
 - (BOOL)hasObjectForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return nil != [self objectForKey:key inCollection:collection];
 }
 
 - (nullable id)objectForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     __block NSString *_Nullable object;
 
@@ -37,7 +37,7 @@ - (nullable id)objectForKey:(NSString *)key inCollection:(NSString *)collection
 - (nullable id)objectForKey:(NSString *)key inCollection:(NSString *)collection ofExpectedType:(Class)class
 {
     id _Nullable value = [self objectForKey:key inCollection:collection];
-    OWSAssert(!value || [value isKindOfClass:class]);
+    OWSAssertDebug(!value || [value isKindOfClass:class]);
     return value;
 }
 
@@ -124,8 +124,8 @@ - (void)purgeCollection:(NSString *)collection
 
 - (void)setObject:(id)object forKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     [self readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
         [transaction setObject:object forKey:key inCollection:collection];
@@ -134,24 +134,24 @@ - (void)setObject:(id)object forKey:(NSString *)key inCollection:(NSString *)col
 
 - (void)setBool:(BOOL)value forKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     [self setObject:@(value) forKey:key inCollection:collection];
 }
 
 - (void)setDouble:(double)value forKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     [self setObject:@(value) forKey:key inCollection:collection];
 }
 
 - (void)removeObjectForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     [self readWriteWithBlock:^(YapDatabaseReadWriteTransaction *transaction) {
         [transaction removeObjectForKey:key inCollection:collection];
@@ -160,8 +160,8 @@ - (void)removeObjectForKey:(NSString *)key inCollection:(NSString *)collection
 
 - (void)setInt:(int)value forKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     [self setObject:@(value) forKey:key inCollection:collection];
 }
diff --git a/SignalServiceKit/src/Storage/YapDatabaseTransaction+OWS.m b/SignalServiceKit/src/Storage/YapDatabaseTransaction+OWS.m
index e3e638e61bc..70de6301266 100644
--- a/SignalServiceKit/src/Storage/YapDatabaseTransaction+OWS.m
+++ b/SignalServiceKit/src/Storage/YapDatabaseTransaction+OWS.m
@@ -12,42 +12,42 @@
 @implementation YapDatabaseReadTransaction (OWS)
 
 - (nullable id)objectForKey:(NSString *)key inCollection:(NSString *)collection ofExpectedType:(Class) class {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     id _Nullable value = [self objectForKey:key inCollection:collection];
-    OWSAssert(!value || [value isKindOfClass:class]);
+    OWSAssertDebug(!value || [value isKindOfClass:class]);
     return value;
 }
 
     - (nullable NSDictionary *)dictionaryForKey : (NSString *)key inCollection : (NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[NSDictionary class]];
 }
 
 - (nullable NSString *)stringForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[NSString class]];
 }
 
 - (BOOL)boolForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self boolForKey:key inCollection:collection defaultValue:NO];
 }
 
 - (BOOL)boolForKey:(NSString *)key inCollection:(NSString *)collection defaultValue:(BOOL)defaultValue
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     NSNumber *_Nullable value = [self objectForKey:key inCollection:collection ofExpectedType:[NSNumber class]];
     return value ? [value boolValue] : defaultValue;
@@ -55,40 +55,40 @@ - (BOOL)boolForKey:(NSString *)key inCollection:(NSString *)collection defaultVa
 
 - (nullable NSData *)dataForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[NSData class]];
 }
 
 - (nullable ECKeyPair *)keyPairForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[ECKeyPair class]];
 }
 
 - (nullable PreKeyRecord *)preKeyRecordForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[PreKeyRecord class]];
 }
 
 - (nullable SignedPreKeyRecord *)signedPreKeyRecordForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     return [self objectForKey:key inCollection:collection ofExpectedType:[SignedPreKeyRecord class]];
 }
 
 - (int)intForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     NSNumber *_Nullable number = [self objectForKey:key inCollection:collection ofExpectedType:[NSNumber class]];
     return [number intValue];
@@ -96,8 +96,8 @@ - (int)intForKey:(NSString *)key inCollection:(NSString *)collection
 
 - (nullable NSDate *)dateForKey:(NSString *)key inCollection:(NSString *)collection
 {
-    OWSAssert(key.length > 0);
-    OWSAssert(collection.length > 0);
+    OWSAssertDebug(key.length > 0);
+    OWSAssertDebug(collection.length > 0);
 
     NSNumber *_Nullable value = [self objectForKey:key inCollection:collection ofExpectedType:[NSNumber class]];
     if (value) {
@@ -118,8 +118,8 @@ @implementation YapDatabaseReadWriteTransaction (OWS)
 #if DEBUG
 - (void)snapshotCollection:(NSString *)collection snapshotFilePath:(NSString *)snapshotFilePath
 {
-    OWSAssert(collection.length > 0);
-    OWSAssert(snapshotFilePath.length > 0);
+    OWSAssertDebug(collection.length > 0);
+    OWSAssertDebug(snapshotFilePath.length > 0);
 
     NSMutableDictionary<NSString *, id> *snapshot = [NSMutableDictionary new];
     [self enumerateKeysAndObjectsInCollection:collection
@@ -127,20 +127,20 @@ - (void)snapshotCollection:(NSString *)collection snapshotFilePath:(NSString *)s
                                        snapshot[key] = value;
                                    }];
     NSData *_Nullable data = [NSKeyedArchiver archivedDataWithRootObject:snapshot];
-    OWSAssert(data);
+    OWSAssertDebug(data);
     BOOL success = [data writeToFile:snapshotFilePath atomically:YES];
-    OWSAssert(success);
+    OWSAssertDebug(success);
 }
 
 - (void)restoreSnapshotOfCollection:(NSString *)collection snapshotFilePath:(NSString *)snapshotFilePath
 {
-    OWSAssert(collection.length > 0);
-    OWSAssert(snapshotFilePath.length > 0);
+    OWSAssertDebug(collection.length > 0);
+    OWSAssertDebug(snapshotFilePath.length > 0);
 
     NSData *_Nullable data = [NSData dataWithContentsOfFile:snapshotFilePath];
-    OWSAssert(data);
+    OWSAssertDebug(data);
     NSMutableDictionary<NSString *, id> *_Nullable snapshot = [NSKeyedUnarchiver unarchiveObjectWithData:data];
-    OWSAssert(snapshot);
+    OWSAssertDebug(snapshot);
 
     [self removeAllObjectsInCollection:collection];
     [snapshot enumerateKeysAndObjectsUsingBlock:^(NSString *_Nonnull key, id _Nonnull value, BOOL *_Nonnull stop) {
diff --git a/SignalServiceKit/src/TextSecureKitEnv.m b/SignalServiceKit/src/TextSecureKitEnv.m
index 856c8ae80af..264d16073b3 100644
--- a/SignalServiceKit/src/TextSecureKitEnv.m
+++ b/SignalServiceKit/src/TextSecureKitEnv.m
@@ -34,11 +34,11 @@ - (instancetype)initWithCallMessageHandler:(id<OWSCallMessageHandler>)callMessag
         return self;
     }
 
-    OWSAssert(callMessageHandler);
-    OWSAssert(contactsManager);
-    OWSAssert(messageSender);
-    OWSAssert(notificationsManager);
-    OWSAssert(profileManager);
+    OWSAssertDebug(callMessageHandler);
+    OWSAssertDebug(contactsManager);
+    OWSAssertDebug(messageSender);
+    OWSAssertDebug(notificationsManager);
+    OWSAssertDebug(profileManager);
 
     _callMessageHandler = callMessageHandler;
     _contactsManager = contactsManager;
@@ -51,15 +51,15 @@ - (instancetype)initWithCallMessageHandler:(id<OWSCallMessageHandler>)callMessag
 
 + (instancetype)sharedEnv
 {
-    OWSAssert(sharedTextSecureKitEnv);
+    OWSAssertDebug(sharedTextSecureKitEnv);
 
     return sharedTextSecureKitEnv;
 }
 
 + (void)setSharedEnv:(TextSecureKitEnv *)env
 {
-    OWSAssert(env);
-    OWSAssert(!sharedTextSecureKitEnv || CurrentAppContext().isRunningTests);
+    OWSAssertDebug(env);
+    OWSAssertDebug(!sharedTextSecureKitEnv || CurrentAppContext().isRunningTests);
 
     sharedTextSecureKitEnv = env;
 }
diff --git a/SignalServiceKit/src/Util/AppContext.m b/SignalServiceKit/src/Util/AppContext.m
index aa77fb6e7b3..1633910f8a3 100755
--- a/SignalServiceKit/src/Util/AppContext.m
+++ b/SignalServiceKit/src/Util/AppContext.m
@@ -27,7 +27,7 @@
 
 id<AppContext> CurrentAppContext(void)
 {
-    OWSCAssert(currentAppContext);
+    OWSCAssertDebug(currentAppContext);
 
     return currentAppContext;
 }
@@ -38,7 +38,7 @@ void SetCurrentAppContext(id<AppContext> appContext)
     //
     // App extensions may be opened multiple times in the same process,
     // so statics will persist.
-    OWSCAssert(!currentAppContext || !currentAppContext.isMainApp);
+    OWSCAssertDebug(!currentAppContext || !currentAppContext.isMainApp);
 
     currentAppContext = appContext;
 }
diff --git a/SignalServiceKit/src/Util/AppReadiness.m b/SignalServiceKit/src/Util/AppReadiness.m
index a9a8c13f751..4621e0cc1d4 100755
--- a/SignalServiceKit/src/Util/AppReadiness.m
+++ b/SignalServiceKit/src/Util/AppReadiness.m
@@ -59,7 +59,7 @@ + (void)runNowOrWhenAppIsReady:(AppReadyBlock)block
 - (void)runNowOrWhenAppIsReady:(AppReadyBlock)block
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(block);
+    OWSAssertDebug(block);
 
     if (self.isAppReady) {
         block();
@@ -77,7 +77,7 @@ + (void)setAppIsReady
 - (void)setAppIsReady
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(!self.isAppReady);
+    OWSAssertDebug(!self.isAppReady);
 
     OWSLogInfo(@"");
 
@@ -89,7 +89,7 @@ - (void)setAppIsReady
 - (void)runAppReadyBlocks
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(self.isAppReady);
+    OWSAssertDebug(self.isAppReady);
 
     NSArray<AppReadyBlock> *appReadyBlocks = [self.appReadyBlocks copy];
     [self.appReadyBlocks removeAllObjects];
diff --git a/SignalServiceKit/src/Util/ByteParser.m b/SignalServiceKit/src/Util/ByteParser.m
index 83ec52d65d1..f8f1f6b10f6 100644
--- a/SignalServiceKit/src/Util/ByteParser.m
+++ b/SignalServiceKit/src/Util/ByteParser.m
@@ -35,7 +35,7 @@ - (uint16_t)shortAtIndex:(NSUInteger)index
 {
     uint16_t value;
     const size_t valueSize = sizeof(value);
-    OWSAssert(valueSize == 2);
+    OWSAssertDebug(valueSize == 2);
     if (index + valueSize > self.data.length) {
         self.hasError = YES;
         return 0;
@@ -61,7 +61,7 @@ - (uint32_t)intAtIndex:(NSUInteger)index
 {
     uint32_t value;
     const size_t valueSize = sizeof(value);
-    OWSAssert(valueSize == 4);
+    OWSAssertDebug(valueSize == 4);
     if (index + valueSize > self.data.length) {
         self.hasError = YES;
         return 0;
@@ -87,7 +87,7 @@ - (uint64_t)longAtIndex:(NSUInteger)index
 {
     uint64_t value;
     const size_t valueSize = sizeof(value);
-    OWSAssert(valueSize == 8);
+    OWSAssertDebug(valueSize == 8);
     if (index + valueSize > self.data.length) {
         self.hasError = YES;
         return 0;
diff --git a/SignalServiceKit/src/Util/Cryptography.m b/SignalServiceKit/src/Util/Cryptography.m
index d96da4e2eb6..60a719b61f1 100755
--- a/SignalServiceKit/src/Util/Cryptography.m
+++ b/SignalServiceKit/src/Util/Cryptography.m
@@ -256,7 +256,7 @@ + (nullable NSData *)truncatedSHA1HMAC:(NSData *)dataToHMAC
                            withHMACKey:(NSData *)HMACKey
                             truncation:(NSUInteger)truncation
 {
-    OWSAssert(truncation <= CC_SHA1_DIGEST_LENGTH);
+    OWSAssertDebug(truncation <= CC_SHA1_DIGEST_LENGTH);
 
     return [[Cryptography computeSHA1HMAC:dataToHMAC withHMACKey:HMACKey] subdataWithRange:NSMakeRange(0, truncation)];
 }
@@ -265,7 +265,7 @@ + (nullable NSData *)truncatedSHA256HMAC:(NSData *)dataToHMAC
                              withHMACKey:(NSData *)HMACKey
                               truncation:(NSUInteger)truncation
 {
-    OWSAssert(truncation <= CC_SHA256_DIGEST_LENGTH);
+    OWSAssertDebug(truncation <= CC_SHA256_DIGEST_LENGTH);
 
     return
         [[Cryptography computeSHA256HMAC:dataToHMAC withHMACKey:HMACKey] subdataWithRange:NSMakeRange(0, truncation)];
@@ -365,8 +365,8 @@ + (nullable NSData *)decryptCBCMode:(NSData *)dataToDecrypt
 
 + (nullable NSData *)decryptAppleMessagePayload:(NSData *)payload withSignalingKey:(NSString *)signalingKeyString
 {
-    OWSAssert(payload);
-    OWSAssert(signalingKeyString);
+    OWSAssertDebug(payload);
+    OWSAssertDebug(signalingKeyString);
 
     size_t versionLength = 1;
     size_t ivLength = 16;
@@ -673,10 +673,10 @@ + (nullable NSData *)decryptAESGCMWithInitializationVector:(NSData *)initializat
                                                    authTag:(NSData *)authTagFromEncrypt
                                                        key:(OWSAES256Key *)key
 {
-    OWSAssert(initializationVector.length == kAESGCM256_IVLength);
-    OWSAssert(ciphertext.length > 0);
-    OWSAssert(authTagFromEncrypt.length == kAESGCM256_TagLength);
-    OWSAssert(key);
+    OWSAssertDebug(initializationVector.length == kAESGCM256_IVLength);
+    OWSAssertDebug(ciphertext.length > 0);
+    OWSAssertDebug(authTagFromEncrypt.length == kAESGCM256_TagLength);
+    OWSAssertDebug(key);
 
     NSMutableData *plaintext = [NSMutableData dataWithLength:ciphertext.length];
 
@@ -762,7 +762,7 @@ + (nullable NSData *)decryptAESGCMWithInitializationVector:(NSData *)initializat
     int decryptStatus = EVP_DecryptFinal_ex(ctx, (unsigned char *)(plaintext.bytes + decryptedBytes), &finalBytes);
 
     // AESGCM doesn't write any final bytes
-    OWSAssert(finalBytes == 0);
+    OWSAssertDebug(finalBytes == 0);
 
     // Clean up
     EVP_CIPHER_CTX_free(ctx);
@@ -790,7 +790,7 @@ + (nullable NSData *)encryptAESGCMWithProfileData:(NSData *)plaintext key:(OWSAE
 
 + (nullable NSData *)decryptAESGCMWithProfileData:(NSData *)encryptedData key:(OWSAES256Key *)key
 {
-    OWSAssert(encryptedData.length > kAESGCM256_IVLength + kAESGCM256_TagLength);
+    OWSAssertDebug(encryptedData.length > kAESGCM256_IVLength + kAESGCM256_TagLength);
     NSUInteger cipherTextLength = encryptedData.length - kAESGCM256_IVLength - kAESGCM256_TagLength;
 
     // encryptedData layout: initializationVector || ciphertext || authTag
diff --git a/SignalServiceKit/src/Util/DataSource.m b/SignalServiceKit/src/Util/DataSource.m
index 95c531f79fc..82a6249968e 100755
--- a/SignalServiceKit/src/Util/DataSource.m
+++ b/SignalServiceKit/src/Util/DataSource.m
@@ -129,7 +129,7 @@ - (void)dealloc
 + (nullable DataSource *)dataSourceWithData:(NSData *)data
                               fileExtension:(NSString *)fileExtension
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     if (!data) {
         return nil;
@@ -171,7 +171,7 @@ + (DataSource *)emptyDataSource
 
 - (NSData *)data
 {
-    OWSAssert(self.dataValue);
+    OWSAssertDebug(self.dataValue);
 
     return self.dataValue;
 }
@@ -184,7 +184,7 @@ - (nullable NSURL *)dataUrl
 
 - (nullable NSString *)dataPath
 {
-    OWSAssert(self.dataValue);
+    OWSAssertDebug(self.dataValue);
 
     @synchronized(self)
     {
@@ -209,14 +209,14 @@ - (nullable NSString *)dataPathIfOnDisk
 
 - (NSUInteger)dataLength
 {
-    OWSAssert(self.dataValue);
+    OWSAssertDebug(self.dataValue);
 
     return self.dataValue.length;
 }
 
 - (BOOL)writeToPath:(NSString *)dstFilePath
 {
-    OWSAssert(self.dataValue);
+    OWSAssertDebug(self.dataValue);
 
     // There's an odd bug wherein instances of NSData/Data created in Swift
     // code reliably crash on iOS 9 when calling [NSData writeToFile:...].
@@ -274,7 +274,7 @@ - (void)dealloc
 
 + (nullable DataSource *)dataSourceWithURL:(NSURL *)fileUrl shouldDeleteOnDeallocation:(BOOL)shouldDeleteOnDeallocation
 {
-    OWSAssert(fileUrl);
+    OWSAssertDebug(fileUrl);
 
     if (!fileUrl || ![fileUrl isFileURL]) {
         return nil;
@@ -288,7 +288,7 @@ + (nullable DataSource *)dataSourceWithURL:(NSURL *)fileUrl shouldDeleteOnDeallo
 + (nullable DataSource *)dataSourceWithFilePath:(NSString *)filePath
                      shouldDeleteOnDeallocation:(BOOL)shouldDeleteOnDeallocation
 {
-    OWSAssert(filePath);
+    OWSAssertDebug(filePath);
 
     if (!filePath) {
         return nil;
@@ -302,13 +302,13 @@ + (nullable DataSource *)dataSourceWithFilePath:(NSString *)filePath
 
 - (void)setFilePath:(NSString *)filePath
 {
-    OWSAssert(filePath.length > 0);
+    OWSAssertDebug(filePath.length > 0);
 
 #ifdef DEBUG
     BOOL isDirectory;
     BOOL exists = [[NSFileManager defaultManager] fileExistsAtPath:filePath isDirectory:&isDirectory];
-    OWSAssert(exists);
-    OWSAssert(!isDirectory);
+    OWSAssertDebug(exists);
+    OWSAssertDebug(!isDirectory);
 #endif
 
     _filePath = filePath;
@@ -316,7 +316,7 @@ - (void)setFilePath:(NSString *)filePath
 
 - (NSData *)data
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     @synchronized(self)
     {
@@ -335,28 +335,28 @@ - (NSData *)data
 
 - (nullable NSURL *)dataUrl
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     return [NSURL fileURLWithPath:self.filePath];
 }
 
 - (nullable NSString *)dataPath
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     return self.filePath;
 }
 
 - (nullable NSString *)dataPathIfOnDisk
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     return self.filePath;
 }
 
 - (NSUInteger)dataLength
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     @synchronized(self)
     {
@@ -379,7 +379,7 @@ - (NSUInteger)dataLength
 
 - (BOOL)writeToPath:(NSString *)dstFilePath
 {
-    OWSAssert(self.filePath);
+    OWSAssertDebug(self.filePath);
 
     NSError *error;
     BOOL success = [[NSFileManager defaultManager] copyItemAtPath:self.filePath toPath:dstFilePath error:&error];
diff --git a/SignalServiceKit/src/Util/MIMETypeUtil.m b/SignalServiceKit/src/Util/MIMETypeUtil.m
index aec24f1899f..20d9d8a327f 100644
--- a/SignalServiceKit/src/Util/MIMETypeUtil.m
+++ b/SignalServiceKit/src/Util/MIMETypeUtil.m
@@ -1573,7 +1573,7 @@ + (NSDictionary *)genericMIMETypesToExtensionTypes
 
 + (nullable NSString *)mimeTypeForFileExtension:(NSString *)fileExtension
 {
-    OWSAssert(fileExtension.length > 0);
+    OWSAssertDebug(fileExtension.length > 0);
 
     return [self genericExtensionTypesToMIMETypes][fileExtension];
 }
@@ -2594,7 +2594,7 @@ + (nullable NSString *)fileExtensionForMIMEType:(NSString *)mimeType
 
 + (nullable NSString *)utiTypeForFileExtension:(NSString *)fileExtension
 {
-    OWSAssert(fileExtension.length > 0);
+    OWSAssertDebug(fileExtension.length > 0);
 
     NSString *_Nullable utiType = (__bridge_transfer NSString *)UTTypeCreatePreferredIdentifierForTag(
         kUTTagClassFilenameExtension, (__bridge CFStringRef)fileExtension, NULL);
diff --git a/SignalServiceKit/src/Util/NSArray+OWS.m b/SignalServiceKit/src/Util/NSArray+OWS.m
index adc18de367a..cb6c06376da 100644
--- a/SignalServiceKit/src/Util/NSArray+OWS.m
+++ b/SignalServiceKit/src/Util/NSArray+OWS.m
@@ -13,7 +13,7 @@ @implementation NSArray (OWS)
 {
     NSMutableArray<NSString *> *result = [NSMutableArray new];
     for (id object in self) {
-        OWSAssert([object isKindOfClass:[TSYapDatabaseObject class]]);
+        OWSAssertDebug([object isKindOfClass:[TSYapDatabaseObject class]]);
         TSYapDatabaseObject *dbObject = object;
         [result addObject:dbObject.uniqueId];
     }
diff --git a/SignalServiceKit/src/Util/NSData+Image.m b/SignalServiceKit/src/Util/NSData+Image.m
index e180b7bf291..810617bf84d 100644
--- a/SignalServiceKit/src/Util/NSData+Image.m
+++ b/SignalServiceKit/src/Util/NSData+Image.m
@@ -85,7 +85,7 @@ + (BOOL)ows_hasValidImageDimensionsAtPath:(NSString *)path
 
 + (BOOL)ows_hasValidImageDimensionWithImageSource:(CGImageSourceRef)imageSource
 {
-    OWSAssert(imageSource);
+    OWSAssertDebug(imageSource);
 
     NSDictionary *imageProperties
         = (__bridge_transfer NSDictionary *)CGImageSourceCopyPropertiesAtIndex(imageSource, 0, NULL);
@@ -263,7 +263,7 @@ - (BOOL)ows_hasValidGifSize
 
 + (BOOL)ows_isValidVideoAtURL:(NSURL *)url
 {
-    OWSAssert(url);
+    OWSAssertDebug(url);
     AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:url options:nil];
 
     CGSize maxSize = CGSizeZero;
diff --git a/SignalServiceKit/src/Util/NSError+MessageSending.m b/SignalServiceKit/src/Util/NSError+MessageSending.m
index f34db80892b..681b9df04e3 100644
--- a/SignalServiceKit/src/Util/NSError+MessageSending.m
+++ b/SignalServiceKit/src/Util/NSError+MessageSending.m
@@ -22,7 +22,7 @@ - (BOOL)isRetryable
     NSNumber *value = objc_getAssociatedObject(self, kNSError_MessageSender_IsRetryable);
     // This value should always be set for all errors by the time OWSSendMessageOperation
     // queries it's value.  If not, default to retrying in production.
-    OWSAssert(value);
+    OWSAssertDebug(value);
     return value ? [value boolValue] : YES;
 }
 
diff --git a/SignalServiceKit/src/Util/NSString+SSK.m b/SignalServiceKit/src/Util/NSString+SSK.m
index de31cde9670..551816e8b4c 100644
--- a/SignalServiceKit/src/Util/NSString+SSK.m
+++ b/SignalServiceKit/src/Util/NSString+SSK.m
@@ -19,7 +19,7 @@ @implementation UnicodeCodeRange
 
 + (UnicodeCodeRange *)rangeWithStart:(unichar)first last:(unichar)last
 {
-    OWSAssert(first <= last);
+    OWSAssertDebug(first <= last);
 
     UnicodeCodeRange *range = [UnicodeCodeRange new];
     range.first = first;
diff --git a/SignalServiceKit/src/Util/NSTimer+OWS.m b/SignalServiceKit/src/Util/NSTimer+OWS.m
index 6abc567904a..a2f02f2a48f 100644
--- a/SignalServiceKit/src/Util/NSTimer+OWS.m
+++ b/SignalServiceKit/src/Util/NSTimer+OWS.m
@@ -41,7 +41,7 @@ - (NSTimerProxy *)ows_proxy
 
 - (void)ows_setProxy:(NSTimerProxy *)proxy
 {
-    OWSAssert(proxy);
+    OWSAssertDebug(proxy);
 
     objc_setAssociatedObject(self, kNSTimer_OWS_Proxy, proxy, OBJC_ASSOCIATION_RETAIN);
 }
diff --git a/SignalServiceKit/src/Util/NSUserDefaults+OWS.m b/SignalServiceKit/src/Util/NSUserDefaults+OWS.m
index 2a1c3eae113..3c286011fa3 100644
--- a/SignalServiceKit/src/Util/NSUserDefaults+OWS.m
+++ b/SignalServiceKit/src/Util/NSUserDefaults+OWS.m
@@ -24,7 +24,7 @@ + (void)migrateToSharedUserDefaults
     NSDictionary<NSString *, id> *dictionary = [NSUserDefaults standardUserDefaults].dictionaryRepresentation;
     for (NSString *key in dictionary) {
         id value = dictionary[key];
-        OWSAssert(value);
+        OWSAssertDebug(value);
         [appUserDefaults setObject:value forKey:key];
     }
 }
@@ -37,7 +37,7 @@ + (void)removeAll
 
 - (void)removeAll
 {
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     NSDictionary<NSString *, id> *dictionary = self.dictionaryRepresentation;
     for (NSString *key in dictionary) {
diff --git a/SignalServiceKit/src/Util/OWS2FAManager.m b/SignalServiceKit/src/Util/OWS2FAManager.m
index df3017104d7..98fa4d14e7a 100644
--- a/SignalServiceKit/src/Util/OWS2FAManager.m
+++ b/SignalServiceKit/src/Util/OWS2FAManager.m
@@ -59,8 +59,8 @@ - (instancetype)initWithPrimaryStorage:(OWSPrimaryStorage *)primaryStorage
         return self;
     }
 
-    OWSAssert(primaryStorage);
-    OWSAssert(networkManager);
+    OWSAssertDebug(primaryStorage);
+    OWSAssertDebug(networkManager);
 
     _dbConnection = primaryStorage.newDatabaseConnection;
     _networkManager = networkManager;
@@ -91,7 +91,7 @@ - (void)set2FANotEnabled
 
 - (void)mark2FAAsEnabledWithPin:(NSString *)pin
 {
-    OWSAssert(pin.length > 0);
+    OWSAssertDebug(pin.length > 0);
 
     [self.dbConnection setObject:pin forKey:kOWS2FAManager_PinCode inCollection:kOWS2FAManager_Collection];
 
@@ -107,9 +107,9 @@ - (void)requestEnable2FAWithPin:(NSString *)pin
                         success:(nullable OWS2FASuccess)success
                         failure:(nullable OWS2FAFailure)failure
 {
-    OWSAssert(pin.length > 0);
-    OWSAssert(success);
-    OWSAssert(failure);
+    OWSAssertDebug(pin.length > 0);
+    OWSAssertDebug(success);
+    OWSAssertDebug(failure);
 
     TSRequest *request = [OWSRequestFactory enable2FARequestWithPin:pin];
     [self.networkManager makeRequest:request
diff --git a/SignalServiceKit/src/Util/OWSAnalytics.m b/SignalServiceKit/src/Util/OWSAnalytics.m
index 95870688c8f..0150ba62f9e 100755
--- a/SignalServiceKit/src/Util/OWSAnalytics.m
+++ b/SignalServiceKit/src/Util/OWSAnalytics.m
@@ -70,7 +70,7 @@ + (YapDatabaseConnection *)dbConnection
     static dispatch_once_t onceToken;
     dispatch_once(&onceToken, ^{
         OWSPrimaryStorage *primaryStorage = [OWSPrimaryStorage sharedManager];
-        OWSAssert(primaryStorage);
+        OWSAssertDebug(primaryStorage);
         // Use a newDatabaseConnection so as not to block reads in the launch path.
         instance = primaryStorage.newDatabaseConnection;
     });
@@ -154,8 +154,8 @@ - (void)tryToSyncEvents
             }
             
             firstEventDictionary = [transaction objectForKey:firstEventKey inCollection:kOWSAnalytics_EventsCollection];
-            OWSAssert(firstEventDictionary);
-            OWSAssert([firstEventDictionary isKindOfClass:[NSDictionary class]]);
+            OWSAssertDebug(firstEventDictionary);
+            OWSAssertDebug([firstEventDictionary isKindOfClass:[NSDictionary class]]);
         }];
 
         if (firstEventDictionary) {
@@ -166,8 +166,8 @@ - (void)tryToSyncEvents
 
 - (void)sendEvent:(NSDictionary *)eventDictionary eventKey:(NSString *)eventKey isCritical:(BOOL)isCritical
 {
-    OWSAssert(eventDictionary);
-    OWSAssert(eventKey);
+    OWSAssertDebug(eventDictionary);
+    OWSAssertDebug(eventKey);
     AssertOnDispatchQueue(self.serialQueue);
 
     if (isCritical) {
@@ -229,8 +229,8 @@ - (void)submitEvent:(NSDictionary *)eventDictionary
             success:(void (^_Nonnull)(void))successBlock
             failure:(void (^_Nonnull)(void))failureBlock
 {
-    OWSAssert(eventDictionary);
-    OWSAssert(eventKey);
+    OWSAssertDebug(eventDictionary);
+    OWSAssertDebug(eventKey);
     AssertOnDispatchQueue(self.serialQueue);
 
     OWSLogDebug(@"submitting: %@", eventKey);
@@ -299,8 +299,8 @@ + (long)orderOfMagnitudeOf:(long)value
 
 - (void)addEvent:(NSString *)eventName severity:(OWSAnalyticsSeverity)severity properties:(NSDictionary *)properties
 {
-    OWSAssert(eventName.length > 0);
-    OWSAssert(properties);
+    OWSAssertDebug(eventName.length > 0);
+    OWSAssertDebug(properties);
 
 #ifndef NO_SIGNAL_ANALYTICS
     BOOL isError = severity == OWSAnalyticsSeverityError;
@@ -318,7 +318,7 @@ - (void)addEvent:(NSString *)eventName severity:(OWSAnalyticsSeverity)severity p
         [eventProperties addEntriesFromDictionary:self.eventSuperProperties];
 
         NSDictionary *eventDictionary = [eventProperties copy];
-        OWSAssert(eventDictionary);
+        OWSAssertDebug(eventDictionary);
         NSString *eventKey = [NSUUID UUID].UUIDString;
         OWSLogDebug(@"enqueuing event: %@", eventKey);
 
diff --git a/SignalServiceKit/src/Util/OWSBackgroundTask.m b/SignalServiceKit/src/Util/OWSBackgroundTask.m
index bbcdcf7afe8..127368bdc69 100644
--- a/SignalServiceKit/src/Util/OWSBackgroundTask.m
+++ b/SignalServiceKit/src/Util/OWSBackgroundTask.m
@@ -126,7 +126,7 @@ - (void)applicationWillResignActive:(UIApplication *)application
 // In that case expirationBlock will not be called.
 - (nullable OWSTaskId)addTaskWithExpirationBlock:(BackgroundTaskExpirationBlock)expirationBlock
 {
-    OWSAssert(expirationBlock);
+    OWSAssertDebug(expirationBlock);
 
     OWSTaskId _Nullable taskId;
 
@@ -150,11 +150,11 @@ - (nullable OWSTaskId)addTaskWithExpirationBlock:(BackgroundTaskExpirationBlock)
 
 - (void)removeTask:(OWSTaskId)taskId
 {
-    OWSAssert(taskId);
+    OWSAssertDebug(taskId);
 
     @synchronized(self)
     {
-        OWSAssert(self.expirationMap[taskId] != nil);
+        OWSAssertDebug(self.expirationMap[taskId] != nil);
 
         [self.expirationMap removeObjectForKey:taskId];
 
@@ -212,11 +212,11 @@ - (BOOL)ensureBackgroundTaskState
 // Returns NO if the background task cannot be begun.
 - (BOOL)startBackgroundTask
 {
-    OWSAssert(CurrentAppContext().isMainApp);
+    OWSAssertDebug(CurrentAppContext().isMainApp);
 
     @synchronized(self)
     {
-        OWSAssert(self.backgroundTaskId == UIBackgroundTaskInvalid);
+        OWSAssertDebug(self.backgroundTaskId == UIBackgroundTaskInvalid);
 
         self.backgroundTaskId = [CurrentAppContext() beginBackgroundTaskWithExpirationHandler:^{
             // Supposedly [UIApplication beginBackgroundTaskWithExpirationHandler]'s handler
@@ -225,7 +225,7 @@ - (BOOL)startBackgroundTask
             //
             // See:
             // https://developer.apple.com/documentation/uikit/uiapplication/1623031-beginbackgroundtaskwithexpiratio)
-            OWSAssert([NSThread isMainThread]);
+            OWSAssertDebug([NSThread isMainThread]);
 
             [self backgroundTaskExpired];
         }];
@@ -304,7 +304,7 @@ @implementation OWSBackgroundTask
 
 + (OWSBackgroundTask *)backgroundTaskWithLabelStr:(const char *)labelStr
 {
-    OWSAssert(labelStr);
+    OWSAssertDebug(labelStr);
 
     NSString *label = [NSString stringWithFormat:@"%s", labelStr];
     return [[OWSBackgroundTask alloc] initWithLabel:label completionBlock:nil];
@@ -314,7 +314,7 @@ + (OWSBackgroundTask *)backgroundTaskWithLabelStr:(const char *)labelStr
                                   completionBlock:(BackgroundTaskCompletionBlock)completionBlock
 {
 
-    OWSAssert(labelStr);
+    OWSAssertDebug(labelStr);
 
     NSString *label = [NSString stringWithFormat:@"%s", labelStr];
     return [[OWSBackgroundTask alloc] initWithLabel:label completionBlock:completionBlock];
@@ -339,7 +339,7 @@ - (instancetype)initWithLabel:(NSString *)label completionBlock:(BackgroundTaskC
         return self;
     }
 
-    OWSAssert(label.length > 0);
+    OWSAssertDebug(label.length > 0);
 
     _label = label;
     self.completionBlock = completionBlock;
diff --git a/SignalServiceKit/src/Util/OWSBackupFragment.m b/SignalServiceKit/src/Util/OWSBackupFragment.m
index 4561707e7a0..e38c42a93be 100644
--- a/SignalServiceKit/src/Util/OWSBackupFragment.m
+++ b/SignalServiceKit/src/Util/OWSBackupFragment.m
@@ -10,7 +10,7 @@ @implementation OWSBackupFragment
 
 - (void)saveWithTransaction:(YapDatabaseReadWriteTransaction *)transaction
 {
-    OWSAssert(self.recordName.length > 0);
+    OWSAssertDebug(self.recordName.length > 0);
 
     if (!self.uniqueId) {
         self.uniqueId = self.recordName;
diff --git a/SignalServiceKit/src/Util/OWSFileSystem.m b/SignalServiceKit/src/Util/OWSFileSystem.m
index 8922f9ec594..0899848349d 100644
--- a/SignalServiceKit/src/Util/OWSFileSystem.m
+++ b/SignalServiceKit/src/Util/OWSFileSystem.m
@@ -118,7 +118,7 @@ + (NSString *)appSharedDataDirectoryPath
 + (NSString *)cachesDirectoryPath
 {
     NSArray<NSString *> *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);
-    OWSAssert(paths.count >= 1);
+    OWSAssertDebug(paths.count >= 1);
     return paths[0];
 }
 
@@ -201,7 +201,7 @@ + (BOOL)ensureDirectoryExists:(NSString *)dirPath
     BOOL isDirectory;
     BOOL exists = [[NSFileManager defaultManager] fileExistsAtPath:dirPath isDirectory:&isDirectory];
     if (exists) {
-        OWSAssert(isDirectory);
+        OWSAssertDebug(isDirectory);
 
         return [self protectFileOrFolderAtPath:dirPath];
     } else {
@@ -256,7 +256,7 @@ + (BOOL)deleteFileIfExists:(NSString *)filePath
 
 + (NSArray<NSString *> *_Nullable)allFilesInDirectoryRecursive:(NSString *)dirPath error:(NSError **)error
 {
-    OWSAssert(dirPath.length > 0);
+    OWSAssertDebug(dirPath.length > 0);
 
     *error = nil;
 
@@ -305,7 +305,7 @@ + (NSString *)temporaryFilePathWithFileExtension:(NSString *_Nullable)fileExtens
 
 + (nullable NSString *)writeDataToTemporaryFile:(NSData *)data fileExtension:(NSString *_Nullable)fileExtension
 {
-    OWSAssert(data);
+    OWSAssertDebug(data);
 
     NSString *tempFilePath = [self temporaryFilePathWithFileExtension:fileExtension];
     NSError *error;
diff --git a/SignalServiceKit/src/Util/OWSOperation.m b/SignalServiceKit/src/Util/OWSOperation.m
index b029e8c56dc..4ebd055a4c1 100644
--- a/SignalServiceKit/src/Util/OWSOperation.m
+++ b/SignalServiceKit/src/Util/OWSOperation.m
@@ -198,7 +198,7 @@ - (void)markAsComplete
     // Ensure we call the success or failure handler exactly once.
     @synchronized(self)
     {
-        OWSAssert(self.operationState != OWSOperationStateFinished);
+        OWSAssertDebug(self.operationState != OWSOperationStateFinished);
 
         self.operationState = OWSOperationStateFinished;
     }
diff --git a/SignalServiceKit/src/Util/OWSQueues.h b/SignalServiceKit/src/Util/OWSQueues.h
index 1325c25385e..eace0d71b50 100644
--- a/SignalServiceKit/src/Util/OWSQueues.h
+++ b/SignalServiceKit/src/Util/OWSQueues.h
@@ -12,7 +12,7 @@ NS_ASSUME_NONNULL_BEGIN
             dispatch_assert_queue(queue);                                                                              \
         } else {                                                                                                       \
             _Pragma("clang diagnostic push") _Pragma("clang diagnostic ignored \"-Wdeprecated-declarations\"")         \
-                OWSAssert(dispatch_get_current_queue() == queue);                                                      \
+                OWSAssertDebug(dispatch_get_current_queue() == queue);                                                      \
             _Pragma("clang diagnostic pop")                                                                            \
         }                                                                                                              \
     }
diff --git a/SignalServiceKit/src/Util/Threading.m b/SignalServiceKit/src/Util/Threading.m
index be0f00501ab..a2ea94b68ae 100644
--- a/SignalServiceKit/src/Util/Threading.m
+++ b/SignalServiceKit/src/Util/Threading.m
@@ -8,7 +8,7 @@
 
 void DispatchMainThreadSafe(dispatch_block_t block)
 {
-    OWSCAssert(block);
+    OWSCAssertDebug(block);
 
     if ([NSThread isMainThread]) {
         block();
@@ -21,7 +21,7 @@ void DispatchMainThreadSafe(dispatch_block_t block)
 
 void DispatchSyncMainThreadSafe(dispatch_block_t block)
 {
-    OWSCAssert(block);
+    OWSCAssertDebug(block);
 
     if ([NSThread isMainThread]) {
         block();
diff --git a/SignalServiceKit/src/Util/UIImage+OWS.m b/SignalServiceKit/src/Util/UIImage+OWS.m
index 300fd07e343..8b000df029e 100644
--- a/SignalServiceKit/src/Util/UIImage+OWS.m
+++ b/SignalServiceKit/src/Util/UIImage+OWS.m
@@ -132,15 +132,15 @@ - (UIImage *)resizedImageToSize:(CGSize)dstSize
 
 - (UIImage *)resizedImageToFillPixelSize:(CGSize)dstSize
 {
-    OWSAssert(dstSize.width > 0);
-    OWSAssert(dstSize.height > 0);
+    OWSAssertDebug(dstSize.width > 0);
+    OWSAssertDebug(dstSize.height > 0);
 
     UIImage *normalized = [self normalizedImage];
 
     // Get the size in pixels, not points.
     CGSize srcSize = CGSizeMake(CGImageGetWidth(normalized.CGImage), CGImageGetHeight(normalized.CGImage));
-    OWSAssert(srcSize.width > 0);
-    OWSAssert(srcSize.height > 0);
+    OWSAssertDebug(srcSize.width > 0);
+    OWSAssertDebug(srcSize.height > 0);
 
     CGFloat widthRatio = srcSize.width / dstSize.width;
     CGFloat heightRatio = srcSize.height / dstSize.height;
@@ -149,13 +149,13 @@ - (UIImage *)resizedImageToFillPixelSize:(CGSize)dstSize
         drawRect.origin.y = 0;
         drawRect.size.height = dstSize.height;
         drawRect.size.width = dstSize.height * srcSize.width / srcSize.height;
-        OWSAssert(drawRect.size.width > dstSize.width);
+        OWSAssertDebug(drawRect.size.width > dstSize.width);
         drawRect.origin.x = (drawRect.size.width - dstSize.width) * -0.5f;
     } else {
         drawRect.origin.x = 0;
         drawRect.size.width = dstSize.width;
         drawRect.size.height = dstSize.width * srcSize.height / srcSize.width;
-        OWSAssert(drawRect.size.height >= dstSize.height);
+        OWSAssertDebug(drawRect.size.height >= dstSize.height);
         drawRect.origin.y = (drawRect.size.height - dstSize.height) * -0.5f;
     }
 
@@ -171,7 +171,7 @@ - (UIImage *)resizedImageToFillPixelSize:(CGSize)dstSize
 + (UIImage *)imageWithColor:(UIColor *)color
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(color);
+    OWSAssertDebug(color);
 
     return [self imageWithColor:color size:CGSizeMake(1.f, 1.f)];
 }
@@ -179,7 +179,7 @@ + (UIImage *)imageWithColor:(UIColor *)color
 + (UIImage *)imageWithColor:(UIColor *)color size:(CGSize)size
 {
     OWSAssertIsOnMainThread();
-    OWSAssert(color);
+    OWSAssertDebug(color);
 
     CGRect rect = CGRectMake(0.0f, 0.0f, size.width, size.height);
     UIGraphicsBeginImageContextWithOptions(rect.size, NO, 1.f);
diff --git a/SignalShareExtension/utils/ShareAppExtensionContext.m b/SignalShareExtension/utils/ShareAppExtensionContext.m
index 993a6854252..780a99abc87 100644
--- a/SignalShareExtension/utils/ShareAppExtensionContext.m
+++ b/SignalShareExtension/utils/ShareAppExtensionContext.m
@@ -31,7 +31,7 @@ - (instancetype)initWithRootViewController:(UIViewController *)rootViewControlle
         return self;
     }
 
-    OWSAssert(rootViewController);
+    OWSAssertDebug(rootViewController);
 
     _rootViewController = rootViewController;
 
@@ -166,7 +166,7 @@ - (UIBackgroundTaskIdentifier)beginBackgroundTaskWithExpirationHandler:
 
 - (void)endBackgroundTask:(UIBackgroundTaskIdentifier)backgroundTaskIdentifier
 {
-    OWSAssert(backgroundTaskIdentifier == UIBackgroundTaskInvalid);
+    OWSAssertDebug(backgroundTaskIdentifier == UIBackgroundTaskInvalid);
 }
 
 - (void)ensureSleepBlocking:(BOOL)shouldBeBlocking blockingObjects:(NSArray<id> *)blockingObjects
@@ -181,7 +181,7 @@ - (void)setMainAppBadgeNumber:(NSInteger)value
 
 - (nullable UIViewController *)frontmostViewController
 {
-    OWSAssert(self.rootViewController);
+    OWSAssertDebug(self.rootViewController);
 
     return [self.rootViewController findFrontmostViewController:YES];
 }
