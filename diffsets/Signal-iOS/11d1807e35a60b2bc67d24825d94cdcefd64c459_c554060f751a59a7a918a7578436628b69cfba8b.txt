diff --git a/Signal/Images.xcassets/camera-outline-24.imageset/Contents.json b/Signal/Images.xcassets/camera-outline-24.imageset/Contents.json
index b91b365902c..3723f3f6652 100644
--- a/Signal/Images.xcassets/camera-outline-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/camera-outline-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/Images.xcassets/camera-solid-24.imageset/Contents.json b/Signal/Images.xcassets/camera-solid-24.imageset/Contents.json
index 8aca8d7774b..ee54f43ce5a 100644
--- a/Signal/Images.xcassets/camera-solid-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/camera-solid-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/Images.xcassets/keyboard-outline-24.imageset/Contents.json b/Signal/Images.xcassets/keyboard-outline-24.imageset/Contents.json
new file mode 100644
index 00000000000..66ab482fc60
--- /dev/null
+++ b/Signal/Images.xcassets/keyboard-outline-24.imageset/Contents.json
@@ -0,0 +1,15 @@
+{
+  "images" : [
+    {
+      "filename" : "keyboard-outline-24.pdf",
+      "idiom" : "universal"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
+  }
+}
diff --git a/Signal/Images.xcassets/keyboard-outline-24.imageset/keyboard-outline-24.pdf b/Signal/Images.xcassets/keyboard-outline-24.imageset/keyboard-outline-24.pdf
new file mode 100644
index 00000000000..2c7234fbd99
Binary files /dev/null and b/Signal/Images.xcassets/keyboard-outline-24.imageset/keyboard-outline-24.pdf differ
diff --git a/Signal/Images.xcassets/send-arrow-up-20.imageset/Contents.json b/Signal/Images.xcassets/keyboard-solid-24.imageset/Contents.json
similarity index 81%
rename from Signal/Images.xcassets/send-arrow-up-20.imageset/Contents.json
rename to Signal/Images.xcassets/keyboard-solid-24.imageset/Contents.json
index 32481360aa1..1e1f0821c82 100644
--- a/Signal/Images.xcassets/send-arrow-up-20.imageset/Contents.json
+++ b/Signal/Images.xcassets/keyboard-solid-24.imageset/Contents.json
@@ -1,7 +1,7 @@
 {
   "images" : [
     {
-      "filename" : "send-arrow-up-20.pdf",
+      "filename" : "keyboard-solid-24.pdf",
       "idiom" : "universal"
     }
   ],
diff --git a/Signal/Images.xcassets/keyboard-solid-24.imageset/keyboard-solid-24.pdf b/Signal/Images.xcassets/keyboard-solid-24.imageset/keyboard-solid-24.pdf
new file mode 100644
index 00000000000..1090849f583
Binary files /dev/null and b/Signal/Images.xcassets/keyboard-solid-24.imageset/keyboard-solid-24.pdf differ
diff --git a/Signal/Images.xcassets/mic-outline-24.imageset/Contents.json b/Signal/Images.xcassets/mic-outline-24.imageset/Contents.json
index e939882ed7a..ac3ea270723 100644
--- a/Signal/Images.xcassets/mic-outline-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/mic-outline-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/Images.xcassets/mic-solid-24.imageset/Contents.json b/Signal/Images.xcassets/mic-solid-24.imageset/Contents.json
index 5d54e51f4d6..d8fa2207169 100644
--- a/Signal/Images.xcassets/mic-solid-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/mic-solid-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/Images.xcassets/send-blue-32.imageset/Contents.json b/Signal/Images.xcassets/send-blue-32.imageset/Contents.json
new file mode 100644
index 00000000000..7c3f3a8de2c
--- /dev/null
+++ b/Signal/Images.xcassets/send-blue-32.imageset/Contents.json
@@ -0,0 +1,15 @@
+{
+  "images" : [
+    {
+      "filename" : "send-blue-32.pdf",
+      "idiom" : "universal"
+    }
+  ],
+  "info" : {
+    "author" : "xcode",
+    "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "original"
+  }
+}
diff --git a/Signal/Images.xcassets/send-arrow-up-20.imageset/send-arrow-up-20.pdf b/Signal/Images.xcassets/send-blue-32.imageset/send-blue-32.pdf
similarity index 69%
rename from Signal/Images.xcassets/send-arrow-up-20.imageset/send-arrow-up-20.pdf
rename to Signal/Images.xcassets/send-blue-32.imageset/send-blue-32.pdf
index 167b41c33d3..174ad4a7d75 100644
Binary files a/Signal/Images.xcassets/send-arrow-up-20.imageset/send-arrow-up-20.pdf and b/Signal/Images.xcassets/send-blue-32.imageset/send-blue-32.pdf differ
diff --git a/Signal/Images.xcassets/sticker-outline-24.imageset/Contents.json b/Signal/Images.xcassets/sticker-outline-24.imageset/Contents.json
index a692c8b6825..05fa88f9011 100644
--- a/Signal/Images.xcassets/sticker-outline-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/sticker-outline-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/Images.xcassets/sticker-solid-24.imageset/Contents.json b/Signal/Images.xcassets/sticker-solid-24.imageset/Contents.json
index 18e6687de8b..c3d543cd39a 100644
--- a/Signal/Images.xcassets/sticker-solid-24.imageset/Contents.json
+++ b/Signal/Images.xcassets/sticker-solid-24.imageset/Contents.json
@@ -8,5 +8,8 @@
   "info" : {
     "author" : "xcode",
     "version" : 1
+  },
+  "properties" : {
+    "template-rendering-intent" : "template"
   }
 }
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.swift b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.swift
index ea16620d2bf..d779722b903 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationInputToolbar.swift
@@ -184,14 +184,34 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
     }()
 
     private lazy var stickerButton: UIButton = {
-        let button = UIButton(type: .custom)
+        let imageResourceName = Theme.isDarkThemeEnabled ? "sticker-solid-24" : "sticker-outline-24"
+        let button = UIButton(type: .system)
+        button.tintColor = Theme.primaryIconColor
         button.accessibilityLabel = NSLocalizedString(
             "INPUT_TOOLBAR_STICKER_BUTTON_ACCESSIBILITY_LABEL",
-            comment: "accessibility label for the button which shows the sticker picker")
+            comment: "accessibility label for the button which shows the sticker picker"
+        )
         button.accessibilityIdentifier = UIView.accessibilityIdentifier(in: self, name: "stickerButton")
-        button.setTemplateImage(Theme.iconImage(.stickerButton), tintColor: Theme.primaryIconColor)
+        button.setImage(UIImage(imageLiteralResourceName: imageResourceName), for: .normal)
         button.addTarget(self, action: #selector(stickerButtonPressed), for: .touchUpInside)
-        button.autoSetDimensions(to: CGSize(width: 40, height: LayoutMetrics.minToolbarItemHeight))
+        button.autoSetDimensions(to: CGSize(width: 40, height: LayoutMetrics.minTextViewHeight))
+        button.setContentHuggingHorizontalHigh()
+        button.setCompressionResistanceHorizontalHigh()
+        return button
+    }()
+
+    private lazy var keyboardButton: UIButton = {
+        let imageResourceName = Theme.isDarkThemeEnabled ? "keyboard-solid-24" : "keyboard-outline-24"
+        let button = UIButton(type: .system)
+        button.tintColor = Theme.primaryIconColor
+        button.accessibilityLabel = NSLocalizedString(
+            "INPUT_TOOLBAR_KEYBOARD_BUTTON_ACCESSIBILITY_LABEL",
+            comment: "accessibility label for the button which shows the regular keyboard instead of sticker picker"
+        )
+        button.accessibilityIdentifier = UIView.accessibilityIdentifier(in: self, name: "keyboardButton")
+        button.setImage(UIImage(imageLiteralResourceName: imageResourceName), for: .normal)
+        button.addTarget(self, action: #selector(keyboardButtonPressed), for: .touchUpInside)
+        button.autoSetDimensions(to: CGSize(width: 40, height: LayoutMetrics.minTextViewHeight))
         button.setContentHuggingHorizontalHigh()
         button.setCompressionResistanceHorizontalHigh()
         return button
@@ -367,8 +387,11 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
         // Sticker button: looks like is a part of the text input view,
         // but is reality it located a couple levels up in the view hierarchy.
         vStackRoundingView.addSubview(stickerButton)
+        vStackRoundingView.addSubview(keyboardButton)
         stickerButton.autoVCenterInSuperview()
         stickerButton.autoPinEdge(toSuperviewEdge: .right, withInset: 4)
+        keyboardButton.autoAlignAxis(.vertical, toSameAxisOf: stickerButton)
+        keyboardButton.autoAlignAxis(.horizontal, toSameAxisOf: stickerButton)
 
         // Horizontal Stack: Attachment button, message components, Camera|VoiceNote|Send button.
         //
@@ -414,6 +437,24 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
         isConfigurationComplete = true
     }
 
+    @discardableResult
+    class func setView(_ view: UIView, hidden isHidden: Bool, usingAnimator animator: UIViewPropertyAnimator?) -> Bool {
+        let viewAlpha: CGFloat = isHidden ? 0 : 1
+
+        guard viewAlpha != view.alpha else { return false }
+
+        let viewUpdateBlock = {
+            view.alpha = viewAlpha
+            view.transform = isHidden ? .scale(0.1) : .identity
+        }
+        if let animator {
+            animator.addAnimations(viewUpdateBlock)
+        } else {
+            viewUpdateBlock()
+        }
+        return true
+    }
+
     private func ensureButtonVisibility(withAnimation isAnimated: Bool, doLayout: Bool) {
 
         var hasLayoutChanged = false
@@ -434,46 +475,69 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
             rightEdgeControlsState = hasNonWhitespaceTextInput ? .sendButton : .default
         }
 
-        if rightEdgeControlsView.state != rightEdgeControlsState {
-            hasLayoutChanged = true
+        let animator: UIViewPropertyAnimator?
+        if isAnimated {
+            let animationDuration: TimeInterval = 0.25
+            let dampingFraction: CGFloat = 0.645
+            let response: CGFloat = 0.25
+            let stiffness = pow(2 * .pi / response, 2)
+            let damping = 4 * .pi * dampingFraction / response
+            let timingParameters = UISpringTimingParameters(mass: 1, stiffness: stiffness, damping: damping, initialVelocity: .zero)
+            animator = UIViewPropertyAnimator(duration: animationDuration, timingParameters: timingParameters)
+            animator?.isUserInteractionEnabled = false
+        } else {
+            animator = nil
         }
 
         // Attachment Button
         let hideAttachmentButton = isShowingVoiceMemoUI
-        if setAttachmentButtonHidden(hideAttachmentButton, animated: isAnimated) {
+        if setAttachmentButtonHidden(hideAttachmentButton, usingAnimator: animator) {
             hasLayoutChanged = true
         }
-        attachmentButton.setAppearance(desiredKeyboardType == .attachment ? .close : .add, animated: isAnimated)
 
-        // Sticker button disappears when there's any text input, including whitespace-only.
-        let hasTextInput = !inputTextView.untrimmedText.isEmpty
-        let hideStickerButton = hasTextInput || isShowingVoiceMemoUI || quotedReply != nil
-        stickerButton.setIsHidden(hideStickerButton, animated: isAnimated)
+        // Attachment button has more complex animations and cannot be grouped with the rest.
+        let attachmentButtonAppearance: AttachmentButton.Appearance = desiredKeyboardType == .attachment ? .close : .add
+        attachmentButton.setAppearance(attachmentButtonAppearance, usingAnimator: animator)
 
-        let updateBlock: () -> Void = {
-            if !hideStickerButton {
-                // TODO: check that tint color change animation works properly
-                self.stickerButton.imageView?.tintColor = self.desiredKeyboardType == .sticker ? .ows_accentBlue : Theme.primaryIconColor
-            }
+        // Show / hide Sticker or Keyboard buttons inside of the text input field.
+        // Either buttons are only visible if there's no any text input, including whitespace-only.
+        let hideStickerOrKeyboardButton = !inputTextView.untrimmedText.isEmpty || isShowingVoiceMemoUI || quotedReply != nil
+        let hideStickerButton = hideStickerOrKeyboardButton || desiredKeyboardType == .sticker
+        let hideKeyboardButton = hideStickerOrKeyboardButton || !hideStickerButton
+        ConversationInputToolbar.setView(stickerButton, hidden: hideStickerButton, usingAnimator: animator)
+        ConversationInputToolbar.setView(keyboardButton, hidden: hideKeyboardButton, usingAnimator: animator)
+
+        if rightEdgeControlsView.state != rightEdgeControlsState {
+            hasLayoutChanged = true
 
-            // `state` in implicitly animatable.
-            self.rightEdgeControlsView.state = rightEdgeControlsState
+            if let animator {
+                // `state` in implicitly animatable.
+                animator.addAnimations {
+                    self.rightEdgeControlsView.state = rightEdgeControlsState
+                }
+            } else {
+                rightEdgeControlsView.state = rightEdgeControlsState
+            }
+        }
 
-            self.updateSuggestedStickers()
+        if let animator {
+            if doLayout && hasLayoutChanged {
+                animator.addAnimations {
+                    self.mainPanelView.setNeedsLayout()
+                    self.mainPanelView.layoutIfNeeded()
+                }
+            }
 
+            animator.startAnimation()
+        } else {
             if doLayout && hasLayoutChanged {
                 self.mainPanelView.setNeedsLayout()
                 self.mainPanelView.layoutIfNeeded()
             }
         }
 
-        if isAnimated {
-            let animator = ConversationInputToolbar.configuredPropertyAnimator()
-            animator.addAnimations(updateBlock)
-            animator.startAnimation()
-        } else {
-            updateBlock()
-        }
+        // TODO: This will be updated in a separate PR.
+        updateSuggestedStickers()
     }
 
     private var messageContentViewLeftEdgeConstraint: NSLayoutConstraint?
@@ -495,9 +559,8 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
         messageContentViewLeftEdgeConstraint = constraint
     }
 
-    private func setAttachmentButtonHidden(_ isHidden: Bool, animated: Bool) -> Bool {
-        guard attachmentButton.isHidden != isHidden else { return false }
-        attachmentButton.setIsHidden(isHidden, animated: animated)
+    private func setAttachmentButtonHidden(_ isHidden: Bool, usingAnimator animator: UIViewPropertyAnimator?) -> Bool {
+        guard ConversationInputToolbar.setView(attachmentButton, hidden: isHidden, usingAnimator: animator) else { return false }
         updateMessageContentViewLeftEdgeConstraint(isViewHidden: isHidden)
         return true
     }
@@ -560,24 +623,21 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
 
         lazy var sendButton: UIButton = {
             let visibleButtonSize: CGFloat = 32
-            let buttonSize = CGSize(width: 48, height: LayoutMetrics.minToolbarItemHeight)
-            let button = RoundMediaButton(
-                image: UIImage(imageLiteralResourceName: "send-arrow-up-20"),
-                backgroundStyle: .solid(.ows_accentBlue)
-            )
+            let buttonImage = UIImage(imageLiteralResourceName: "send-blue-32")
+            let highlightAlpha: CGFloat = Theme.isDarkThemeEnabled ? 0.4 : 0.2
+            let highlightedButtonImage = buttonImage.withAlphaComponent(highlightAlpha)
+            let button = UIButton(type: .custom)
             button.accessibilityLabel = MessageStrings.sendButton
             button.accessibilityIdentifier = UIView.accessibilityIdentifier(in: self, name: "sendButton")
-            button.tintColor = .white
-            button.bounds.size = buttonSize
-            button.layoutMargins = UIEdgeInsets(
-                hMargin: 0.5 * (buttonSize.width - visibleButtonSize),
-                vMargin: 0.5 * (buttonSize.height - visibleButtonSize)
-            )
+            button.setImage(buttonImage, for: .normal)
+            button.setImage(highlightedButtonImage, for: .highlighted)
+            button.bounds.size = CGSize(width: 48, height: LayoutMetrics.minToolbarItemHeight)
             return button
         }()
 
         lazy var cameraButton: UIButton = {
-            let button = UIButton()
+            let button = UIButton(type: .system)
+            button.tintColor = Theme.primaryIconColor
             button.accessibilityLabel = NSLocalizedString(
                 "CAMERA_BUTTON_LABEL",
                 comment: "Accessibility label for camera button."
@@ -587,13 +647,14 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
                 comment: "Accessibility hint describing what you can do with the camera button"
             )
             button.accessibilityIdentifier = UIView.accessibilityIdentifier(in: self, name: "cameraButton")
-            button.setTemplateImage(Theme.iconImage(.cameraButton), tintColor: Theme.primaryIconColor)
+            button.setImage(Theme.iconImage(.cameraButton), for: .normal)
             button.bounds.size = CGSize(width: 40, height: LayoutMetrics.minToolbarItemHeight)
             return button
         }()
 
         lazy var voiceMemoButton: UIButton = {
-            let button = UIButton(type: .custom)
+            let button = UIButton(type: .system)
+            button.tintColor = Theme.primaryIconColor
             button.accessibilityLabel = NSLocalizedString(
                 "INPUT_TOOLBAR_VOICE_MEMO_BUTTON_ACCESSIBILITY_LABEL",
                 comment: "accessibility label for the button which records voice memos"
@@ -603,7 +664,7 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
                 comment: "accessibility hint for the button which records voice memos"
             )
             button.accessibilityIdentifier = UIView.accessibilityIdentifier(in: self, name: "voiceMemoButton")
-            button.setTemplateImage(Theme.iconImage(.micButton), tintColor: Theme.primaryIconColor)
+            button.setImage(Theme.iconImage(.micButton), for: .normal)
             button.bounds.size = CGSize(width: 40, height: LayoutMetrics.minToolbarItemHeight)
             return button
         }()
@@ -721,7 +782,8 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
                 // We don't want changes performed by this method to interfere with animations.
                 guard !isAnimatingAppearance else { return }
 
-                let opacity: CGFloat = isHighlighted ? 0.5 : 1
+                // Mimic behavior of a standard system button.
+                let opacity: CGFloat = isHighlighted ? (Theme.isDarkThemeEnabled ? 0.4 : 0.2) : 1
                 switch appearance {
                 case .add:
                     iconImageView.alpha = opacity
@@ -742,23 +804,21 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
 
         var appearance: Appearance {
             get { _appearance }
-            set { setAppearance(newValue, animated: false) }
+            set { setAppearance(newValue, usingAnimator: nil) }
         }
 
-        func setAppearance(_ appearance: Appearance, animated: Bool) {
+        func setAppearance(_ appearance: Appearance, usingAnimator animator: UIViewPropertyAnimator?) {
             guard appearance != _appearance else { return }
 
             _appearance = appearance
 
-            guard animated else {
+            guard let animator else {
                 updateImageColorAndBackground()
                 updateImageTransform()
                 return
             }
 
             isAnimatingAppearance = true
-
-            let animator = ConversationInputToolbar.configuredPropertyAnimator()
             animator.addAnimations({
                     self.updateImageColorAndBackground()
                 },
@@ -770,7 +830,6 @@ public class ConversationInputToolbar: UIView, LinkPreviewViewDraftDelegate, Quo
             animator.addCompletion { _ in
                 self.isAnimatingAppearance = false
             }
-            animator.startAnimation()
         }
 
         private func updateImageColorAndBackground() {
@@ -1792,6 +1851,15 @@ extension ConversationInputToolbar {
         }
         toggleKeyboardType(.sticker, animated: true)
     }
+
+    @objc
+    private func keyboardButtonPressed() {
+        Logger.verbose("")
+
+        ImpactHapticFeedback.impactOccured(style: .light)
+
+        toggleKeyboardType(.system, animated: true)
+    }
 }
 
 extension ConversationInputToolbar: ConversationTextViewToolbarDelegate {
diff --git a/Signal/translations/en.lproj/Localizable.strings b/Signal/translations/en.lproj/Localizable.strings
index 184b211ed6f..129af05ca5e 100644
--- a/Signal/translations/en.lproj/Localizable.strings
+++ b/Signal/translations/en.lproj/Localizable.strings
@@ -3253,6 +3253,9 @@
 /* Shown in inbox and conversation when a user joins Signal, embeds the new user's {{contact name}} */
 "INFO_MESSAGE_USER_JOINED_SIGNAL_BODY_FORMAT" = "%@ is on Signal!";
 
+/* accessibility label for the button which shows the regular keyboard instead of sticker picker */
+"INPUT_TOOLBAR_KEYBOARD_BUTTON_ACCESSIBILITY_LABEL" = "Keyboard";
+
 /* accessibility label for the button which shows the sticker picker */
 "INPUT_TOOLBAR_STICKER_BUTTON_ACCESSIBILITY_LABEL" = "Stickers";
 
diff --git a/SignalUI/Appearance/Theme+OWS.swift b/SignalUI/Appearance/Theme+OWS.swift
index 689e886a0e2..32a53e20f1b 100644
--- a/SignalUI/Appearance/Theme+OWS.swift
+++ b/SignalUI/Appearance/Theme+OWS.swift
@@ -52,7 +52,6 @@ public enum ThemeIcon: UInt {
     case settingsReceipts
     case settingsGift
 
-    case stickerButton
     case cameraButton
     case micButton
     case messageActionSpeak
@@ -295,8 +294,6 @@ public extension Theme {
             return isDarkThemeEnabled ? "gift-solid-24" : "gift-outline-24"
 
         // Input Toolbar
-        case .stickerButton:
-            return isDarkThemeEnabled ? "sticker-solid-24" : "sticker-outline-24"
         case .cameraButton:
             return isDarkThemeEnabled ? "camera-solid-24" : "camera-outline-24"
         case .micButton:
diff --git a/SignalUI/Categories/UIView+SignalUI.swift b/SignalUI/Categories/UIView+SignalUI.swift
index 05a9ee6ab41..35204a2e40f 100644
--- a/SignalUI/Categories/UIView+SignalUI.swift
+++ b/SignalUI/Categories/UIView+SignalUI.swift
@@ -828,6 +828,33 @@ extension UIImage {
         }
         return newImage
     }
+
+    // In most cases it would be significantly better to adjust `UIImageView.alpha`.
+    // Only use this method if you have no control over opacity of UIImageView:
+    // e.g. when setting image as UIButton's image for "highlghted" state.
+    public func withAlphaComponent(_ alpha: CGFloat) -> UIImage? {
+        UIGraphicsBeginImageContextWithOptions(size, false, 0)
+        defer {
+            UIGraphicsEndImageContext()
+        }
+
+        guard let context = UIGraphicsGetCurrentContext(), let cgImage else {
+            owsFailDebug("Failed to create image context")
+            return nil
+        }
+
+        let imageRect = CGRect(origin: .zero, size: size)
+        context.concatenate(CGAffineTransform(a: 1, b: 0, c: 0, d: -1, tx: 0, ty: size.height))
+        context.setBlendMode(.multiply)
+        context.setAlpha(alpha)
+        context.draw(cgImage, in: imageRect)
+
+        guard let image = UIGraphicsGetImageFromCurrentImageContext() else {
+            owsFailDebug("Failed to create non-opaque image from context")
+            return nil
+        }
+        return image
+    }
 }
 
 // MARK: -
