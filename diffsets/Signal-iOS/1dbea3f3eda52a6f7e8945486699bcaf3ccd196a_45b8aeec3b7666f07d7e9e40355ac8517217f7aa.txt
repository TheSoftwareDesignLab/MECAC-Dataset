diff --git a/Signal.xcodeproj/project.pbxproj b/Signal.xcodeproj/project.pbxproj
index 85dc9077ff0..fecf34d65f2 100644
--- a/Signal.xcodeproj/project.pbxproj
+++ b/Signal.xcodeproj/project.pbxproj
@@ -902,6 +902,7 @@
 		76A2EB1228B57AEE00A29C24 /* ColorPickerBar.swift in Sources */ = {isa = PBXBuildFile; fileRef = 76A2EB1128B57AEE00A29C24 /* ColorPickerBar.swift */; };
 		76C87F19181EFCE600C4ACAB /* MediaPlayer.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 76C87F18181EFCE600C4ACAB /* MediaPlayer.framework */; };
 		76C87FE128BE8E2400BD8709 /* LinkPreviewAttachmentViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 76C87FE028BE8E2400BD8709 /* LinkPreviewAttachmentViewController.swift */; };
+		76DFBF8C29AE6B80004A771D /* MediaTransitionImageView.swift in Sources */ = {isa = PBXBuildFile; fileRef = 76DFBF8B29AE6B80004A771D /* MediaTransitionImageView.swift */; };
 		76E54D69290B4E7800D03BA8 /* UIFont+TextStyle.swift in Sources */ = {isa = PBXBuildFile; fileRef = 76E54D68290B4E7800D03BA8 /* UIFont+TextStyle.swift */; };
 		76EB054018170B33006006FC /* AppDelegate.m in Sources */ = {isa = PBXBuildFile; fileRef = 76EB03C318170B33006006FC /* AppDelegate.m */; };
 		76ECBA922915B5BB00676507 /* ConversationScrollButton.swift in Sources */ = {isa = PBXBuildFile; fileRef = 76ECBA912915B5BB00676507 /* ConversationScrollButton.swift */; };
@@ -3336,6 +3337,7 @@
 		76A2EB1128B57AEE00A29C24 /* ColorPickerBar.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ColorPickerBar.swift; sourceTree = "<group>"; };
 		76C87F18181EFCE600C4ACAB /* MediaPlayer.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = MediaPlayer.framework; path = System/Library/Frameworks/MediaPlayer.framework; sourceTree = SDKROOT; };
 		76C87FE028BE8E2400BD8709 /* LinkPreviewAttachmentViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = LinkPreviewAttachmentViewController.swift; sourceTree = "<group>"; };
+		76DFBF8B29AE6B80004A771D /* MediaTransitionImageView.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = MediaTransitionImageView.swift; sourceTree = "<group>"; };
 		76E54D68290B4E7800D03BA8 /* UIFont+TextStyle.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = "UIFont+TextStyle.swift"; sourceTree = "<group>"; };
 		76EB03C218170B33006006FC /* AppDelegate.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AppDelegate.h; sourceTree = "<group>"; };
 		76EB03C318170B33006006FC /* AppDelegate.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = AppDelegate.m; sourceTree = "<group>"; };
@@ -6265,6 +6267,7 @@
 				4CD675BD22E7BE35008010D2 /* MediaDismissAnimationController.swift */,
 				4C8A6DFD22E54AFA00469AE7 /* MediaInteractiveDismiss.swift */,
 				4CD675C622E7D393008010D2 /* MediaPresentationContext.swift */,
+				76DFBF8B29AE6B80004A771D /* MediaTransitionImageView.swift */,
 				4C8A6DFB22E5499300469AE7 /* MediaZoomAnimationController.swift */,
 			);
 			path = Transitions;
@@ -11144,6 +11147,7 @@
 				4CD675C722E7D393008010D2 /* MediaPresentationContext.swift in Sources */,
 				45CADA8B298DD2B4009EBDF5 /* MediaTileScrollFlag.swift in Sources */,
 				454A84042059C787008B8C75 /* MediaTileViewController.swift in Sources */,
+				76DFBF8C29AE6B80004A771D /* MediaTransitionImageView.swift in Sources */,
 				4C8A6DFC22E5499300469AE7 /* MediaZoomAnimationController.swift in Sources */,
 				8837F74123DA0B0F00772A32 /* MegaphoneView.swift in Sources */,
 				88A357B923639384009D6B9A /* MemberActionSheet.swift in Sources */,
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
index 4292404540d..66f820acf07 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
@@ -71,7 +71,7 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
         buildComponentStates()
     }
 
-    private var sharpCorners: OWSDirectionalRectCorner {
+    var sharpCorners: OWSDirectionalRectCorner {
         var result: OWSDirectionalRectCorner = []
 
         if !itemViewState.isFirstInCluster {
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
index b2eeb7f38c2..a872128f3ea 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+OWS.swift
@@ -353,10 +353,54 @@ extension ConversationViewController: MediaPresentationContextProvider {
 
         let presentationFrame = coordinateSpace.convert(mediaView.frame, from: mediaSuperview)
 
-        // TODO exactly match corner radius for collapsed cells - maybe requires passing a masking view?
-        return MediaPresentationContext(mediaView: mediaView,
-                                        presentationFrame: presentationFrame,
-                                        cornerRadius: CVComponentMessage.bubbleSharpCornerRadius * 2)
+        var roundedCorners = RoundedCorners.all(CVComponentMessage.bubbleWideCornerRadius)
+        let mediaViewFrame = mediaView.convert(mediaView.bounds, to: messageCell)
+        var sharpBubbleCorners: UIRectCorner = []
+        if let componentMessage = messageCell.rootComponent as? CVComponentMessage {
+            sharpBubbleCorners = UIView.uiRectCorner(forOWSDirectionalRectCorner: componentMessage.sharpCorners)
+        }
+        if mediaViewFrame.minY > messageCell.bounds.minY {
+            // Media isn't aligned to cell's top edge - both top corners are square.
+            roundedCorners.topLeft = 0
+            roundedCorners.topRight = 0
+        } else {
+            // If media isn't pinned to cell's left edge it's left corners would be square.
+            if mediaView.frame.minX > mediaSuperview.bounds.minX {
+                roundedCorners.topLeft = 0
+            } else if sharpBubbleCorners.contains(.topLeft) {
+                roundedCorners.topLeft = CVComponentMessage.bubbleSharpCornerRadius
+            }
+            // If media isn't pinned to cell's right edge it's right corners would be square.
+            if mediaView.frame.maxX < mediaSuperview.bounds.maxX {
+                roundedCorners.topRight = 0
+            } else if sharpBubbleCorners.contains(.topRight) {
+                roundedCorners.topRight = CVComponentMessage.bubbleSharpCornerRadius
+            }
+        }
+        if mediaViewFrame.maxY < messageCell.bounds.maxY {
+            // Media isn't aligned to cell's bottom edge - both bottom corners are square.
+            roundedCorners.bottomLeft = 0
+            roundedCorners.bottomRight = 0
+        } else {
+            // If media isn't pinned to cell's left edge it's left corners would be square.
+            if mediaView.frame.minX > mediaSuperview.bounds.minX {
+                roundedCorners.bottomLeft = 0
+            } else if sharpBubbleCorners.contains(.bottomLeft) {
+                roundedCorners.bottomLeft = CVComponentMessage.bubbleSharpCornerRadius
+            }
+            // If media isn't pinned to cell's right edge it's right corners would be square.
+            if mediaView.frame.maxX < mediaSuperview.bounds.maxX {
+                roundedCorners.bottomRight = 0
+            } else if sharpBubbleCorners.contains(.bottomRight) {
+                roundedCorners.bottomRight = CVComponentMessage.bubbleSharpCornerRadius
+            }
+        }
+
+        return MediaPresentationContext(
+            mediaView: mediaView,
+            presentationFrame: presentationFrame,
+            roundedCorners: roundedCorners
+        )
     }
 
     func snapshotOverlayView(in coordinateSpace: UICoordinateSpace) -> (UIView, CGRect)? {
diff --git a/Signal/src/ViewControllers/MediaGallery/MediaPageViewController.swift b/Signal/src/ViewControllers/MediaGallery/MediaPageViewController.swift
index 8bb8d4300a5..84d824ea769 100644
--- a/Signal/src/ViewControllers/MediaGallery/MediaPageViewController.swift
+++ b/Signal/src/ViewControllers/MediaGallery/MediaPageViewController.swift
@@ -857,8 +857,7 @@ extension MediaPageViewController: MediaPresentationContextProvider {
             return nil
         }
 
-        // TODO better match the corner radius
-        return MediaPresentationContext(mediaView: mediaView, presentationFrame: mediaView.frame, cornerRadius: 0)
+        return MediaPresentationContext(mediaView: mediaView, presentationFrame: mediaView.frame, roundedCorners: .none)
     }
 
     func snapshotOverlayView(in coordinateSpace: UICoordinateSpace) -> (UIView, CGRect)? {
diff --git a/Signal/src/ViewControllers/MediaGallery/MediaTileViewController.swift b/Signal/src/ViewControllers/MediaGallery/MediaTileViewController.swift
index 8b1960e24d0..1b7eb1d2dd7 100644
--- a/Signal/src/ViewControllers/MediaGallery/MediaTileViewController.swift
+++ b/Signal/src/ViewControllers/MediaGallery/MediaTileViewController.swift
@@ -1087,7 +1087,7 @@ extension MediaTileViewController: MediaPresentationContextProvider {
 
         let presentationFrame = coordinateSpace.convert(mediaView.frame, from: mediaSuperview)
 
-        return MediaPresentationContext(mediaView: mediaView, presentationFrame: presentationFrame, cornerRadius: 0)
+        return MediaPresentationContext(mediaView: mediaView, presentationFrame: presentationFrame, roundedCorners: .none)
     }
 
     func snapshotOverlayView(in coordinateSpace: UICoordinateSpace) -> (UIView, CGRect)? {
diff --git a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaDismissAnimationController.swift b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaDismissAnimationController.swift
index 5be242da713..9790d695dc2 100644
--- a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaDismissAnimationController.swift
+++ b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaDismissAnimationController.swift
@@ -28,7 +28,7 @@ class MediaDismissAnimationController: NSObject {
 
 extension MediaDismissAnimationController: UIViewControllerAnimatedTransitioning {
     func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -> TimeInterval {
-        return kIsDebuggingMediaPresentationAnimations ? 1.5 : 0.25
+        return kIsDebuggingMediaPresentationAnimations ? 2.5 : 0.25
     }
 
     func animateTransition(using transitionContext: UIViewControllerContextTransitioning) {
@@ -141,13 +141,13 @@ extension MediaDismissAnimationController: UIViewControllerAnimatedTransitioning
         self.transitionView = transitionView
         containerView.addSubview(transitionView)
 
-        let imageView = UIImageView(image: presentationImage)
+        let imageView = MediaTransitionImageView(image: presentationImage)
         imageView.contentMode = .scaleAspectFill
         imageView.autoresizingMask = [ .flexibleWidth, .flexibleHeight ]
         imageView.layer.masksToBounds = true
-        imageView.layer.cornerRadius = fromMediaContext.cornerRadius
-        transitionView.addSubview(imageView)
+        imageView.roundedCorners = fromMediaContext.roundedCorners
         imageView.frame = transitionView.bounds
+        transitionView.addSubview(imageView)
 
         let fromTransitionalOverlayView: UIView?
         if let (overlayView, overlayViewFrame) = fromContextProvider.snapshotOverlayView(in: containerView) {
@@ -170,20 +170,20 @@ extension MediaDismissAnimationController: UIViewControllerAnimatedTransitioning
 
         let completion = {
             let destinationFrame: CGRect
-            let destinationCornerRadius: CGFloat
+            let destinationRoundedCorners: RoundedCorners
             if transitionContext.transitionWasCancelled {
                 destinationFrame = fromMediaContext.presentationFrame
-                destinationCornerRadius = fromMediaContext.cornerRadius
+                destinationRoundedCorners = fromMediaContext.roundedCorners
             } else if let toMediaContext {
                 destinationFrame = toMediaContext.presentationFrame
-                destinationCornerRadius = toMediaContext.cornerRadius
+                destinationRoundedCorners = toMediaContext.roundedCorners
             } else {
                 // `toMediaContext` can be nil if the target item is scrolled off of the
                 // contextProvider's screen, so we synthesize a context to dismiss the item
                 // off screen
                 let offscreenFrame = fromMediaContext.presentationFrame.offsetBy(dx: 0, dy: fromMediaContext.presentationFrame.height)
                 destinationFrame = offscreenFrame
-                destinationCornerRadius = fromMediaContext.cornerRadius
+                destinationRoundedCorners = fromMediaContext.roundedCorners
             }
 
             let animator = UIViewPropertyAnimator(duration: duration, springDamping: 0.77, springResponse: 0.3)
@@ -194,11 +194,11 @@ extension MediaDismissAnimationController: UIViewControllerAnimatedTransitioning
                     dimmerView.alpha = 0
                 }
 
+                imageView.roundedCorners = destinationRoundedCorners
                 transitionView.transform = .identity
                 transitionView.bounds.size = destinationFrame.size
                 transitionView.center = destinationFrame.center
                 transitionView.layer.shadowOpacity = 0
-                imageView.layer.cornerRadius = destinationCornerRadius
             }
             animator.addCompletion { _ in
                 fromTransitionalOverlayView?.removeFromSuperview()
diff --git a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaPresentationContext.swift b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaPresentationContext.swift
index 60badd1fa67..eda10a71384 100644
--- a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaPresentationContext.swift
+++ b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaPresentationContext.swift
@@ -22,10 +22,23 @@ enum Media {
     }
 }
 
+struct RoundedCorners: Equatable {
+    var topLeft: CGFloat
+    var topRight: CGFloat
+    var bottomRight: CGFloat
+    var bottomLeft: CGFloat
+
+    static var none: RoundedCorners { RoundedCorners.all(0) }
+
+    static func all(_ radius: CGFloat) -> RoundedCorners {
+        return RoundedCorners(topLeft: radius, topRight: radius, bottomRight: radius, bottomLeft: radius)
+    }
+}
+
 struct MediaPresentationContext {
     let mediaView: UIView
     let presentationFrame: CGRect
-    let cornerRadius: CGFloat
+    let roundedCorners: RoundedCorners
 }
 
 // There are two kinds of AnimationControllers that interact with the media detail view. Both
diff --git a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaTransitionImageView.swift b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaTransitionImageView.swift
new file mode 100644
index 00000000000..8830af1de8e
--- /dev/null
+++ b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaTransitionImageView.swift
@@ -0,0 +1,74 @@
+//
+// Copyright 2023 Signal Messenger, LLC
+// SPDX-License-Identifier: AGPL-3.0-only
+//
+
+import UIKit
+
+class MediaTransitionImageView: UIImageView {
+
+    var roundedCorners: RoundedCorners = .none
+
+    override var bounds: CGRect {
+        get { super.bounds }
+        set {
+            super.bounds = newValue
+
+            let maskAnimation: CABasicAnimation?
+            if let animation = layer.animation(forKey: "bounds.size") as? CABasicAnimation {
+                maskAnimation = animation.copy() as? CABasicAnimation
+            } else {
+                maskAnimation = nil
+            }
+            updateMask(using: maskAnimation)
+        }
+    }
+
+    override var frame: CGRect {
+        get { super.frame }
+        set {
+            super.frame = newValue
+
+            let maskAnimation: CABasicAnimation?
+            if let animation = layer.animation(forKey: "bounds.size") as? CABasicAnimation {
+                maskAnimation = animation.copy() as? CABasicAnimation
+            } else {
+                maskAnimation = nil
+            }
+            updateMask(using: maskAnimation)
+        }
+    }
+
+    private func updateMask(using animation: CABasicAnimation?) {
+        let maskLayer: CAShapeLayer
+        if let existingMaskLayer = layer.mask as? CAShapeLayer {
+            maskLayer = existingMaskLayer
+        } else {
+            maskLayer = CAShapeLayer()
+            layer.mask = maskLayer
+        }
+
+        maskLayer.frame = layer.bounds
+
+        // Note that path must be constructed using the same method even if there are no rounded corners,
+        // otherwise animation would be incorrect.
+        let maskPath: UIBezierPath = {
+            return UIBezierPath.roundedRect(
+                maskLayer.bounds,
+                topLeftRounding: roundedCorners.topLeft,
+                topRightRounding: roundedCorners.topRight,
+                bottomRightRounding: roundedCorners.bottomRight,
+                bottomLeftRounding: roundedCorners.bottomLeft
+            )
+        }()
+        if let animation {
+            animation.keyPath = "path"
+            animation.fromValue = maskLayer.path
+            animation.toValue = maskPath.cgPath
+            maskLayer.add(animation, forKey: "path")
+            maskLayer.path = maskPath.cgPath
+        } else {
+            maskLayer.path = maskPath.cgPath
+        }
+    }
+}
diff --git a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaZoomAnimationController.swift b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaZoomAnimationController.swift
index 3d7911eca64..9da9396f8d2 100644
--- a/Signal/src/ViewControllers/MediaGallery/Transitions/MediaZoomAnimationController.swift
+++ b/Signal/src/ViewControllers/MediaGallery/Transitions/MediaZoomAnimationController.swift
@@ -20,7 +20,7 @@ class MediaZoomAnimationController: NSObject {
 
 extension MediaZoomAnimationController: UIViewControllerAnimatedTransitioning {
     func transitionDuration(using transitionContext: UIViewControllerContextTransitioning?) -> TimeInterval {
-        return kIsDebuggingMediaPresentationAnimations ? 1.5 : 0.25
+        return kIsDebuggingMediaPresentationAnimations ? 2.5 : 0.25
     }
 
     func animateTransition(using transitionContext: UIViewControllerContextTransitioning) {
@@ -104,13 +104,12 @@ extension MediaZoomAnimationController: UIViewControllerAnimatedTransitioning {
             return
         }
 
-        let transitionView = UIImageView(image: presentationImage)
+        let transitionView = MediaTransitionImageView(image: presentationImage)
         transitionView.contentMode = .scaleAspectFill
         transitionView.layer.masksToBounds = true
-        transitionView.layer.cornerRadius = fromMediaContext.cornerRadius
-
-        containerView.addSubview(transitionView)
+        transitionView.roundedCorners = fromMediaContext.roundedCorners
         transitionView.frame = fromMediaContext.presentationFrame
+        containerView.addSubview(transitionView)
 
         let fromTransitionalOverlayView: UIView?
         if let (overlayView, overlayViewFrame) = fromContextProvider.snapshotOverlayView(in: containerView) {
@@ -147,8 +146,8 @@ extension MediaZoomAnimationController: UIViewControllerAnimatedTransitioning {
             fromTransitionalOverlayView?.alpha = 0.0
             toView.alpha = 1.0
             toTransitionalOverlayView?.alpha = 1.0
+            transitionView.roundedCorners = toMediaContext.roundedCorners
             transitionView.frame = toMediaContext.presentationFrame
-            transitionView.layer.cornerRadius = toMediaContext.cornerRadius
         }
         animator.addCompletion { _ in
             fromContextProvider.mediaDidPresent(fromContext: fromMediaContext)
diff --git a/Signal/src/ViewControllers/MessageDetailViewController.swift b/Signal/src/ViewControllers/MessageDetailViewController.swift
index 0b64ca50b50..cf00d3a8f97 100644
--- a/Signal/src/ViewControllers/MessageDetailViewController.swift
+++ b/Signal/src/ViewControllers/MessageDetailViewController.swift
@@ -712,10 +712,11 @@ extension MessageDetailViewController: MediaPresentationContextProvider {
 
         let presentationFrame = coordinateSpace.convert(mediaView.frame, from: mediaSuperview)
 
-        // TODO better corner rounding.
-        return MediaPresentationContext(mediaView: mediaView,
-                                        presentationFrame: presentationFrame,
-                                        cornerRadius: CVComponentMessage.bubbleSharpCornerRadius * 2)
+        return MediaPresentationContext(
+            mediaView: mediaView,
+            presentationFrame: presentationFrame,
+            roundedCorners: .all(CVComponentMessage.bubbleWideCornerRadius)
+        )
     }
 
     func snapshotOverlayView(in coordinateSpace: UICoordinateSpace) -> (UIView, CGRect)? {
diff --git a/Signal/src/ViewControllers/Photos/AvatarViewController.swift b/Signal/src/ViewControllers/Photos/AvatarViewController.swift
index bbde589603e..e4b63239d3f 100644
--- a/Signal/src/ViewControllers/Photos/AvatarViewController.swift
+++ b/Signal/src/ViewControllers/Photos/AvatarViewController.swift
@@ -157,7 +157,11 @@ class AvatarViewController: UIViewController, InteractivelyDismissableViewContro
 
 extension AvatarViewController: MediaPresentationContextProvider {
     func mediaPresentationContext(item: Media, in coordinateSpace: UICoordinateSpace) -> MediaPresentationContext? {
-        return MediaPresentationContext(mediaView: circleView, presentationFrame: circleView.frame, cornerRadius: circleView.layer.cornerRadius)
+        return MediaPresentationContext(
+            mediaView: circleView,
+            presentationFrame: circleView.frame,
+            roundedCorners: .all(circleView.layer.cornerRadius)
+        )
     }
 
     func snapshotOverlayView(in coordinateSpace: UICoordinateSpace) -> (UIView, CGRect)? {
diff --git a/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController.swift b/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController.swift
index e5903f529f3..128b16ecaf5 100644
--- a/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/ConversationSettingsViewController.swift
@@ -1102,7 +1102,7 @@ extension ConversationSettingsViewController: MediaPresentationContextProvider {
         return MediaPresentationContext(
             mediaView: mediaView,
             presentationFrame: presentationFrame,
-            cornerRadius: cornerRadius
+            roundedCorners: .all(cornerRadius)
         )
     }
 
diff --git a/Signal/src/ViewControllers/ThreadSettings/MemberActionSheet.swift b/Signal/src/ViewControllers/ThreadSettings/MemberActionSheet.swift
index 8831d336d62..bd09795e963 100644
--- a/Signal/src/ViewControllers/ThreadSettings/MemberActionSheet.swift
+++ b/Signal/src/ViewControllers/ThreadSettings/MemberActionSheet.swift
@@ -357,7 +357,7 @@ extension MemberActionSheet: MediaPresentationContextProvider {
         return MediaPresentationContext(
             mediaView: mediaView,
             presentationFrame: presentationFrame,
-            cornerRadius: cornerRadius
+            roundedCorners: .all(cornerRadius)
         )
     }
 
diff --git a/SignalUI/Categories/UIView+SignalUI.swift b/SignalUI/Categories/UIView+SignalUI.swift
index e6a39dfa60a..9b80539924d 100644
--- a/SignalUI/Categories/UIView+SignalUI.swift
+++ b/SignalUI/Categories/UIView+SignalUI.swift
@@ -924,8 +924,6 @@ public extension UIBezierPath {
 
         assert(sharpCorners.isDisjoint(with: wideCorners))
 
-        let bezierPath = UIBezierPath()
-
         func cornerRounding(forCorner corner: UIRectCorner) -> CGFloat {
             if sharpCorners.contains(corner) {
                 return sharpCornerRadius
@@ -935,10 +933,23 @@ public extension UIBezierPath {
             }
             return 0
         }
-        let topLeftRounding = cornerRounding(forCorner: .topLeft)
-        let topRightRounding = cornerRounding(forCorner: .topRight)
-        let bottomRightRounding = cornerRounding(forCorner: .bottomRight)
-        let bottomLeftRounding = cornerRounding(forCorner: .bottomLeft)
+
+        return UIBezierPath.roundedRect(
+            rect,
+            topLeftRounding: cornerRounding(forCorner: .topLeft),
+            topRightRounding: cornerRounding(forCorner: .topRight),
+            bottomRightRounding: cornerRounding(forCorner: .bottomRight),
+            bottomLeftRounding: cornerRounding(forCorner: .bottomLeft)
+        )
+    }
+
+    static func roundedRect(
+        _ rect: CGRect,
+        topLeftRounding: CGFloat,
+        topRightRounding: CGFloat,
+        bottomRightRounding: CGFloat,
+        bottomLeftRounding: CGFloat
+    ) -> UIBezierPath {
 
         let topAngle = CGFloat.halfPi * 3
         let rightAngle = CGFloat.halfPi * 0
@@ -950,6 +961,8 @@ public extension UIBezierPath {
         let bubbleRight = rect.maxX
         let bubbleBottom = rect.maxY
 
+        let bezierPath = UIBezierPath()
+
         // starting just to the right of the top left corner and working clockwise
         bezierPath.move(to: CGPoint(x: bubbleLeft + topLeftRounding, y: bubbleTop))
 
