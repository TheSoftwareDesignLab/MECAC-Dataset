diff --git a/Signal/src/ViewControllers/HomeView/ConversationListCell.swift b/Signal/src/ViewControllers/HomeView/ConversationListCell.swift
index 34fcf66a146..c3141df8dc2 100644
--- a/Signal/src/ViewControllers/HomeView/ConversationListCell.swift
+++ b/Signal/src/ViewControllers/HomeView/ConversationListCell.swift
@@ -14,24 +14,54 @@ public class ConversationListCell: UITableViewCell {
                                                     localUserDisplayMode: .noteToSelf,
                                                     shouldLoadAsync: false)
 
-    private let nameLabel = UILabel()
-    private let snippetLabel = UILabel()
-    private let dateTimeLabel = UILabel()
-    private let messageStatusIconView = UIImageView()
-    private let messageStatusWrapper = UIView.container()
+    private let nameLabel = CVLabel()
+    private let snippetLabel = CVLabel()
+    private let dateTimeLabel = CVLabel()
+    private let messageStatusIconView = CVImageView()
+    //    private let messageStatusWrapper = UIView.container()
     private let typingIndicatorView = TypingIndicatorView()
-    private let typingIndicatorWrapper = UIView.container()
-    private let muteIconView = UIImageView()
-    private let muteIconWrapper = UIView.container()
+    //    private let typingIndicatorWrapper = UIView.container()
+    private let muteIconView = CVImageView()
+    //    private let muteIconWrapper = UIView.container()
 
     private let unreadBadge = NeverClearView()
-    private let unreadLabel = UILabel()
-
-    private var viewConstraints = [NSLayoutConstraint]()
+    private let unreadLabel = CVLabel()
+
+    // TODO:
+    private let outerHStack = ManualStackViewWithLayer(name: "outerHStack")
+    private let avatarStack = ManualStackView(name: "avatarStack")
+    private let vStack = ManualStackView(name: "vStack")
+    private let topRowStack = ManualStackView(name: "topRowStack")
+    private let bottomRowStack = ManualStackView(name: "bottomRowStack")
+    // The "Wrapper" shows either "snippet label" or "typing indicator".
+    private let bottomRowWrapper = ManualLayoutView(name: "bottomRowWrapper")
+
+//    private var heightConstraint: NSLayoutConstraint?
+
+    private var cvviews: [CVView] {
+        [
+            avatarView,
+            nameLabel,
+            snippetLabel,
+            dateTimeLabel,
+            messageStatusIconView,
+            typingIndicatorView,
+            muteIconView,
+            unreadLabel,
+
+            outerHStack,
+            avatarStack,
+            vStack,
+            topRowStack,
+            bottomRowStack,
+            bottomRowWrapper
+        ]
+    }
 
     @objc(ConversationListCellConfiguration)
     public class Configuration: NSObject {
         let thread: ThreadViewModel
+        let tableWidth: CGFloat
         let shouldLoadAvatarAsync: Bool
         let isBlocked: Bool
         let overrideSnippet: NSAttributedString?
@@ -39,11 +69,13 @@ public class ConversationListCell: UITableViewCell {
 
         @objc
         public init(thread: ThreadViewModel,
+                    tableWidth: CGFloat,
                     shouldLoadAvatarAsync: Bool,
                     isBlocked: Bool,
                     overrideSnippet: NSAttributedString? = nil,
                     overrideDate: Date? = nil) {
             self.thread = thread
+            self.tableWidth = tableWidth
             self.shouldLoadAvatarAsync = shouldLoadAvatarAsync
             self.isBlocked = isBlocked
             self.overrideSnippet = overrideSnippet
@@ -92,7 +124,7 @@ public class ConversationListCell: UITableViewCell {
     // This value is now larger than AvatarBuilder.standardAvatarSizePoints.
     private static let avatarSize: UInt = 56
 
-    private let avatarHSpacing: UInt = 12
+//    private let avatarHSpacing: CGFloat = 12
 
     // MARK: -
 
@@ -109,118 +141,162 @@ public class ConversationListCell: UITableViewCell {
     private func commonInit() {
         self.backgroundColor = Theme.backgroundColor
 
-        contentView.addSubview(avatarView)
-        avatarView.autoPinEdge(toSuperviewEdge: .leading, withInset: 16)
-        avatarView.autoVCenterInSuperview()
-        // Ensure that the cell's contents never overflow the cell bounds.
-        avatarView.autoPinEdge(toSuperviewEdge: .top, withInset: 12, relation: .greaterThanOrEqual)
-        avatarView.autoPinEdge(toSuperviewEdge: .bottom, withInset: 12, relation: .greaterThanOrEqual)
-
-        nameLabel.lineBreakMode = .byTruncatingTail
-        nameLabel.font = nameFont
-        nameLabel.setContentHuggingHorizontalLow()
+        // TODO:
+        self.preservesSuperviewLayoutMargins = false
+        self.contentView.preservesSuperviewLayoutMargins = false
+
+        //        self.preservesSuperviewLayoutMargins = true
+        //        self.contentView.preservesSuperviewLayoutMargins = true
+
+        contentView.addSubview(outerHStack)
+        //        outerHStack.autoPinWidthToSuperviewMargins()
+//        outerHStack.autoPinEdge(toSuperviewEdge: .leading, withInset: 16)
+        outerHStack.shouldDeactivateConstraints = false
+        outerHStack.autoPinEdge(toSuperviewEdge: .leading)
+//        outerHStack.autoPinLeadingToSuperviewMargin()
+        outerHStack.autoPinTrailingToSuperviewMargin()
+        outerHStack.autoPinHeightToSuperview()
+
+        // TODO:
+
+//        contentView.addSubview(avatarView)
+//        avatarView.autoPinEdge(toSuperviewEdge: .leading, withInset: 16)
+//        avatarView.autoVCenterInSuperview()
+//        // Ensure that the cell's contents never overflow the cell bounds.
+//        avatarView.autoPinEdge(toSuperviewEdge: .top, withInset: 12, relation: .greaterThanOrEqual)
+//        avatarView.autoPinEdge(toSuperviewEdge: .bottom, withInset: 12, relation: .greaterThanOrEqual)
+
+//        nameLabel.setContentHuggingHorizontalLow()
+
+//        dateTimeLabel.setContentHuggingHorizontalHigh()
+//        dateTimeLabel.setCompressionResistanceHorizontalHigh()
+
+        //        typingIndicatorWrapper.setContentHuggingHorizontalHigh()
+        //        typingIndicatorWrapper.setCompressionResistanceHorizontalHigh()
+        //
+        //        messageStatusWrapper.setContentHuggingHorizontalHigh()
+        //        messageStatusWrapper.setCompressionResistanceHorizontalHigh()
+        //
+        //        muteIconWrapper.setContentHuggingHorizontalHigh()
+        //        muteIconWrapper.setCompressionResistanceHorizontalHigh()
+
+//        muteIconView.setContentHuggingHorizontalHigh()
+//        muteIconView.setCompressionResistanceHorizontalHigh()
+//        muteIconWrapper.addSubview(muteIconView)
+//        muteIconView.autoPinEdgesToSuperviewEdges(withInsets: UIEdgeInsets(top: 0, leading: 0, bottom: 2, trailing: 0))
+
+//        let topRowSpacer = UIView.hStretchingSpacer()
+//
+//        let topRowView = UIStackView(arrangedSubviews: [
+//            nameLabel,
+//            muteIconWrapper,
+//            topRowSpacer,
+//            dateTimeLabel
+//        ])
+//        topRowView.axis = .horizontal
+//        topRowView.alignment = .lastBaseline
+//        topRowView.spacing = 6
+
+//        snippetLabel.setContentHuggingHorizontalLow()
+//        snippetLabel.setCompressionResistanceHorizontalLow()
+
+//        let bottomRowView = UIStackView(arrangedSubviews: [
+//            typingIndicatorWrapper,
+//            snippetLabel,
+//            messageStatusWrapper
+//        ])
+//        bottomRowView.axis = .horizontal
+//        bottomRowView.alignment = .top
+//        bottomRowView.spacing = 6
+
+//        let vStackView = UIStackView(arrangedSubviews: [ topRowView, bottomRowView ])
+//        vStackView.axis = .vertical
+//        vStackView.spacing = 1
+//
+//        contentView.addSubview(vStackView)
+//        vStackView.autoPinLeading(toTrailingEdgeOf: avatarView, offset: avatarHSpacing)
+//        vStackView.autoVCenterInSuperview()
+//        // Ensure that the cell's contents never overflow the cell bounds.
+//        vStackView.autoPinEdge(toSuperviewEdge: .top, withInset: 7, relation: .greaterThanOrEqual)
+//        vStackView.autoPinEdge(toSuperviewEdge: .bottom, withInset: 9, relation: .greaterThanOrEqual)
+//        vStackView.autoPinTrailingToSuperviewMargin()
+//        vStackView.isUserInteractionEnabled = false
+
+//        messageStatusIconView.setContentHuggingHorizontalHigh()
+//        messageStatusIconView.setCompressionResistanceHorizontalHigh()
+////        messageStatusWrapper.addSubview(messageStatusIconView)
+//        messageStatusIconView.autoPinWidthToSuperview()
+//        messageStatusIconView.autoVCenterInSuperview()
+
+//        unreadLabel.setContentHuggingHigh()
+//        unreadLabel.setCompressionResistanceHigh()
+
+        // TODO:
+//        unreadBadge.backgroundColor = .ows_accentBlue
+//        unreadBadge.addSubview(unreadLabel)
+//        unreadLabel.autoCenterInSuperview()
+//        unreadBadge.setContentHuggingHigh()
+//        unreadBadge.setCompressionResistanceHigh()
+//        contentView.addSubview(unreadBadge)
+
+//        typingIndicatorView.setContentHuggingHorizontalHigh()
+//        typingIndicatorView.setCompressionResistanceHorizontalHigh()
+////        typingIndicatorWrapper.addSubview(typingIndicatorView)
+//        typingIndicatorView.autoPinWidthToSuperview()
+//        typingIndicatorView.autoVCenterInSuperview()
 
-        dateTimeLabel.setContentHuggingHorizontalHigh()
-        dateTimeLabel.setCompressionResistanceHorizontalHigh()
+        // TODO: ?
+        self.selectionStyle = .default
+    }
 
-        typingIndicatorWrapper.setContentHuggingHorizontalHigh()
-        typingIndicatorWrapper.setCompressionResistanceHorizontalHigh()
+    @objc
+    public func configure(_ configuration: Configuration) {
+        AssertIsOnMainThread()
 
-        messageStatusWrapper.setContentHuggingHorizontalHigh()
-        messageStatusWrapper.setCompressionResistanceHorizontalHigh()
+        OWSTableItem.configureCell(self)
 
-        muteIconWrapper.setContentHuggingHorizontalHigh()
-        muteIconWrapper.setCompressionResistanceHorizontalHigh()
+        self.preservesSuperviewLayoutMargins = false
+        self.contentView.preservesSuperviewLayoutMargins = false
 
         muteIconView.setTemplateImageName("bell-disabled-outline-24",
                                           tintColor: Theme.primaryTextColor)
-        muteIconView.setContentHuggingHorizontalHigh()
-        muteIconView.setCompressionResistanceHorizontalHigh()
-        muteIconWrapper.addSubview(muteIconView)
-        muteIconView.autoPinEdgesToSuperviewEdges(withInsets: UIEdgeInsets(top: 0, leading: 0, bottom: 2, trailing: 0))
-
-        let topRowSpacer = UIView.hStretchingSpacer()
-
-        let topRowView = UIStackView(arrangedSubviews: [
-            nameLabel,
-            muteIconWrapper,
-            topRowSpacer,
-            dateTimeLabel
-        ])
-        topRowView.axis = .horizontal
-        topRowView.alignment = .lastBaseline
-        topRowView.spacing = 6
-
         snippetLabel.numberOfLines = 2
         snippetLabel.lineBreakMode = .byWordWrapping
-        snippetLabel.setContentHuggingHorizontalLow()
-        snippetLabel.setCompressionResistanceHorizontalLow()
-
-        let bottomRowView = UIStackView(arrangedSubviews: [
-            typingIndicatorWrapper,
-            snippetLabel,
-            messageStatusWrapper
-        ])
-        bottomRowView.axis = .horizontal
-        bottomRowView.alignment = .top
-        bottomRowView.spacing = 6
-
-        let vStackView = UIStackView(arrangedSubviews: [ topRowView, bottomRowView ])
-        vStackView.axis = .vertical
-        vStackView.spacing = 1
-
-        contentView.addSubview(vStackView)
-        vStackView.autoPinLeading(toTrailingEdgeOf: avatarView, offset: CGFloat(avatarHSpacing))
-        vStackView.autoVCenterInSuperview()
-        // Ensure that the cell's contents never overflow the cell bounds.
-        vStackView.autoPinEdge(toSuperviewEdge: .top, withInset: 7, relation: .greaterThanOrEqual)
-        vStackView.autoPinEdge(toSuperviewEdge: .bottom, withInset: 9, relation: .greaterThanOrEqual)
-        vStackView.autoPinTrailingToSuperviewMargin()
-        vStackView.isUserInteractionEnabled = false
-
-        messageStatusIconView.setContentHuggingHorizontalHigh()
-        messageStatusIconView.setCompressionResistanceHorizontalHigh()
-        messageStatusWrapper.addSubview(messageStatusIconView)
-        messageStatusIconView.autoPinWidthToSuperview()
-        messageStatusIconView.autoVCenterInSuperview()
-
         unreadLabel.textColor = .ows_white
         unreadLabel.lineBreakMode = .byTruncatingTail
         unreadLabel.textAlignment = .center
-        unreadLabel.setContentHuggingHigh()
-        unreadLabel.setCompressionResistanceHigh()
-
-        unreadBadge.backgroundColor = .ows_accentBlue
-        unreadBadge.addSubview(unreadLabel)
-        unreadLabel.autoCenterInSuperview()
-        unreadBadge.setContentHuggingHigh()
-        unreadBadge.setCompressionResistanceHigh()
-        contentView.addSubview(unreadBadge)
-
-        typingIndicatorView.configureForConversationList()
-        typingIndicatorView.setContentHuggingHorizontalHigh()
-        typingIndicatorView.setCompressionResistanceHorizontalHigh()
-        typingIndicatorWrapper.addSubview(typingIndicatorView)
-        typingIndicatorView.autoPinWidthToSuperview()
-        typingIndicatorView.autoVCenterInSuperview()
-
-        // TODO: ?
-        self.selectionStyle = .default
-    }
-
-    @objc
-    public func configure(_ configuration: Configuration) {
-        AssertIsOnMainThread()
-
-        OWSTableItem.configureCell(self)
 
         self.configuration = configuration
 
+//        if true {
+//            outerHStack.backgroundColor = .orange
+//            outerHStack.addRedBorder()
+//
+//            let fakeSize: CGFloat = 300
+//            let outerHStackConfig = self.outerHStackConfig
+//            let outerHStackSize = outerHStack.configure(config: outerHStackConfig,
+//                                                        subviews: [ UIView() ],
+//                                                        subviewInfos: [
+//                                                            CGSize(width: 1, height: fakeSize).asManualSubviewInfo
+//                                                        ]).measuredSize
+//
+//            owsAssertDebug(heightConstraint == nil)
+//            let heightConstraint = outerHStack.autoSetDimension(.height, toSize: fakeSize)
+//            self.heightConstraint = heightConstraint
+//            heightConstraint.autoInstall()
+//
+////            Logger.verbose("outerHStackSize.height: \(outerHStackSize.height)")
+//
+//            return
+//        }
+
         let thread = configuration.thread
 
         avatarView.shouldLoadAsync = configuration.shouldLoadAvatarAsync
         avatarView.configureWithSneakyTransaction(thread: thread.threadRecord)
 
+        typingIndicatorView.configureForConversationList()
+
         NotificationCenter.default.addObserver(self,
                                                selector: #selector(otherUsersProfileDidChange(notification:)),
                                                name: .otherUsersProfileDidChange,
@@ -230,7 +306,7 @@ public class ConversationListCell: UITableViewCell {
                                                name: TypingIndicatorsImpl.typingIndicatorStateDidChange,
                                                object: nil)
 
-        updateNameLabel()
+//        updateNameLabel()
 
         // We update the fonts every time this cell is configured to ensure that
         // changes to the dynamic type settings are reflected.
@@ -241,35 +317,36 @@ public class ConversationListCell: UITableViewCell {
 
         let muteIconSize: CGFloat = 16
 
-        viewConstraints.append(contentsOf: [
-            muteIconView.autoSetDimension(.width, toSize: muteIconSize),
-            muteIconView.autoSetDimension(.height, toSize: muteIconSize),
-
-            // These views should align with the first (of two) of the snippet,
-            // so their a v-center within wrappers with the height of a single
-            // snippet line.
-            messageStatusWrapper.autoSetDimension(.height, toSize: snippetLineHeight),
-            typingIndicatorWrapper.autoSetDimension(.height, toSize: snippetLineHeight)
-        ])
+//        viewConstraints.append(contentsOf: [
+//            muteIconView.autoSetDimension(.width, toSize: muteIconSize),
+//            muteIconView.autoSetDimension(.height, toSize: muteIconSize),
+//            
+//            // These views should align with the first (of two) of the snippet,
+//            // so their a v-center within wrappers with the height of a single
+//            // snippet line.
+//            messageStatusWrapper.autoSetDimension(.height, toSize: snippetLineHeight),
+//            typingIndicatorWrapper.autoSetDimension(.height, toSize: snippetLineHeight)
+//        ])
 
         updatePreview()
 
-        if let labelDate = configuration.overrideDate ?? thread.conversationListInfo?.lastMessageDate {
-            dateTimeLabel.text = DateUtil.formatDateShort(labelDate)
-        } else {
-            dateTimeLabel.text = nil
-        }
-
-        if hasUnreadStyle {
-            dateTimeLabel.font = dateTimeFont.ows_semibold
-            dateTimeLabel.textColor = Theme.primaryTextColor
-        } else {
-            dateTimeLabel.font = dateTimeFont
-            dateTimeLabel.textColor = snippetColor
-        }
+//        if let labelDate = configuration.overrideDate ?? thread.conversationListInfo?.lastMessageDate {
+//            dateTimeLabel.text = DateUtil.formatDateShort(labelDate)
+//        } else {
+//            dateTimeLabel.text = nil
+//        }
+//
+//        if hasUnreadStyle {
+//            dateTimeLabel.font = dateTimeFont.ows_semibold
+//            dateTimeLabel.textColor = Theme.primaryTextColor
+//        } else {
+//            dateTimeLabel.font = dateTimeFont
+//            dateTimeLabel.textColor = snippetColor
+//        }
 
         var shouldHideStatusIndicator = false
 
+        // TODO:
         if hasOverrideSnippet {
             // If we're using the conversation list cell to render search results,
             // don't show "unread badge" or "message status" indicator.
@@ -292,70 +369,372 @@ public class ConversationListCell: UITableViewCell {
             unreadBadge.layer.borderColor = Theme.backgroundColor.cgColor
             unreadBadge.layer.borderWidth = 2
 
-            NSLayoutConstraint.autoSetPriority(.defaultHigh) {
-                // This is a bit arbitrary, but it should scale with the size of dynamic text
-                let minMargin = CeilEven(unreadBadgeHeight * 0.5)
-
-                viewConstraints.append(contentsOf: [
-                    // badge sizing
-                    unreadBadge.autoMatch(.width, to: .width, of: unreadLabel, withOffset: minMargin, relation: .greaterThanOrEqual),
-                    unreadBadge.autoSetDimension(.width, toSize: unreadBadgeHeight, relation: .greaterThanOrEqual),
-                    unreadBadge.autoSetDimension(.height, toSize: unreadBadgeHeight),
-                    unreadBadge.autoPinEdge(.trailing, to: .trailing, of: avatarView, withOffset: 6),
-                    unreadBadge.autoPinEdge(.top, to: .top, of: avatarView)
-                ])
-            }
+//            NSLayoutConstraint.autoSetPriority(.defaultHigh) {
+//                // This is a bit arbitrary, but it should scale with the size of dynamic text
+//                let minMargin = CeilEven(unreadBadgeHeight * 0.5)
+//
+////                viewConstraints.append(contentsOf: [
+////                    // badge sizing
+////                    unreadBadge.autoMatch(.width, to: .width, of: unreadLabel, withOffset: minMargin, relation: .greaterThanOrEqual),
+////                    unreadBadge.autoSetDimension(.width, toSize: unreadBadgeHeight, relation: .greaterThanOrEqual),
+////                    unreadBadge.autoSetDimension(.height, toSize: unreadBadgeHeight),
+////                    unreadBadge.autoPinEdge(.trailing, to: .trailing, of: avatarView, withOffset: 6),
+////                    unreadBadge.autoPinEdge(.top, to: .top, of: avatarView)
+////                ])
+//            }
         } else {
             unreadBadge.isHidden = true
         }
 
-        if !shouldHideStatusIndicator,
-           let outgoingMessage = thread.lastMessageForInbox as? TSOutgoingMessage {
-            var statusIndicatorImage: UIImage?
-            var messageStatusViewTintColor = snippetColor
-            var shouldAnimateStatusIcon = false
-
-            let messageStatus =
-                MessageRecipientStatusUtils.recipientStatus(outgoingMessage: outgoingMessage)
-            switch messageStatus {
-            case .uploading, .sending:
-                statusIndicatorImage = UIImage(named: "message_status_sending")
-                shouldAnimateStatusIcon = true
-            case .sent, .skipped:
-                statusIndicatorImage = UIImage(named: "message_status_sent")
-                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
-            case .delivered:
-                statusIndicatorImage = UIImage(named: "message_status_delivered")
-                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
-            case .read, .viewed:
-                statusIndicatorImage = UIImage(named: "message_status_read")
-                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
-            case .failed:
-                statusIndicatorImage = UIImage(named: "error-outline-12")
-                messageStatusViewTintColor = .ows_accentRed
-            case .pending:
-                statusIndicatorImage = UIImage(named: "error-outline-12")
-                messageStatusViewTintColor = .ows_gray60
-            }
+//        if !shouldHideStatusIndicator,
+//           let outgoingMessage = thread.lastMessageForInbox as? TSOutgoingMessage {
+//            var statusIndicatorImage: UIImage?
+//            var messageStatusViewTintColor = snippetColor
+//            var shouldAnimateStatusIcon = false
+//
+//            let messageStatus =
+//                MessageRecipientStatusUtils.recipientStatus(outgoingMessage: outgoingMessage)
+//            switch messageStatus {
+//            case .uploading, .sending:
+//                statusIndicatorImage = UIImage(named: "message_status_sending")
+//                shouldAnimateStatusIcon = true
+//            case .sent, .skipped:
+//                statusIndicatorImage = UIImage(named: "message_status_sent")
+//                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
+//            case .delivered:
+//                statusIndicatorImage = UIImage(named: "message_status_delivered")
+//                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
+//            case .read, .viewed:
+//                statusIndicatorImage = UIImage(named: "message_status_read")
+//                shouldHideStatusIndicator = outgoingMessage.wasRemotelyDeleted
+//            case .failed:
+//                statusIndicatorImage = UIImage(named: "error-outline-12")
+//                messageStatusViewTintColor = .ows_accentRed
+//            case .pending:
+//                statusIndicatorImage = UIImage(named: "error-outline-12")
+//                messageStatusViewTintColor = .ows_gray60
+//            }
+//
+//            messageStatusIconView.image = statusIndicatorImage?.withRenderingMode(.alwaysTemplate)
+//            messageStatusIconView.tintColor = messageStatusViewTintColor
+//            messageStatusWrapper.isHidden = shouldHideStatusIndicator || statusIndicatorImage == nil
+//            if shouldAnimateStatusIcon {
+//                let animation = CABasicAnimation(keyPath: "transform.rotation.z")
+//                animation.toValue = NSNumber(value: Double.pi * 2)
+//                animation.duration = kSecondInterval * 1
+//                animation.isCumulative = true
+//                animation.repeatCount = .greatestFiniteMagnitude
+//                messageStatusIconView.layer.add(animation, forKey: "animation")
+//            } else {
+//                messageStatusIconView.layer.removeAllAnimations()
+//            }
+//        } else {
+//            messageStatusWrapper.isHidden = true
+//        }
+
+        // MARK: -
+
+        //        let thread = configuration.thread
+        let tableWidth = configuration.tableWidth
+        let isBlocked = configuration.isBlocked
+        let topRowStackConfig = self.topRowStackConfig
+        let bottomRowStackConfig = self.bottomRowStackConfig
+        let vStackConfig = self.vStackConfig
+        let outerHStackConfig = self.outerHStackConfig
+
+        guard tableWidth > 0 else {
+            return
+        }
 
-            messageStatusIconView.image = statusIndicatorImage?.withRenderingMode(.alwaysTemplate)
-            messageStatusIconView.tintColor = messageStatusViewTintColor
-            messageStatusWrapper.isHidden = shouldHideStatusIndicator || statusIndicatorImage == nil
-            if shouldAnimateStatusIcon {
-                let animation = CABasicAnimation(keyPath: "transform.rotation.z")
-                animation.toValue = NSNumber(value: Double.pi * 2)
-                animation.duration = kSecondInterval * 1
-                animation.isCumulative = true
-                animation.repeatCount = .greatestFiniteMagnitude
-                messageStatusIconView.layer.add(animation, forKey: "animation")
+        let avatarSize: CGSize = .square(CGFloat(ConversationListCell.avatarSize))
+        //        let avatarStackConfig = ManualStackView.Config(axis: .horizontal,
+        //                                                       alignment: .center,
+        //                                                       spacing: 0,
+        //                                                       layoutMargins: UIEdgeInsets(hMargin: 0, vMargin: 12))
+        let avatarStackSize = avatarStack.configure(config: ManualStackView.Config(axis: .horizontal,
+                                                                                   alignment: .center,
+                                                                                   spacing: 0,
+                                                                                   layoutMargins: UIEdgeInsets(hMargin: 0, vMargin: 12)),
+                                                    subviews: [ avatarView ],
+                                                    subviewInfos: [ avatarSize.asManualSubviewInfo(hasFixedSize: true) ]).measuredSize
+
+        let dateTimeLabelConfig: CVLabelConfig = {
+            var text: String = ""
+            if let labelDate = configuration.overrideDate ?? thread.conversationListInfo?.lastMessageDate {
+                text = DateUtil.formatDateShort(labelDate)
+            }
+            if hasUnreadStyle {
+                return CVLabelConfig(text: text,
+                                     font: dateTimeFont.ows_semibold,
+                                     textColor: Theme.primaryTextColor,
+                                     textAlignment: .trailing)
             } else {
-                messageStatusIconView.layer.removeAllAnimations()
+                return CVLabelConfig(text: text,
+                                     font: dateTimeFont,
+                                     textColor: snippetColor,
+                                     textAlignment: .trailing)
             }
+        }()
+        dateTimeLabelConfig.applyForRendering(label: dateTimeLabel)
+        let dateLabelSize = CVText.measureLabel(config: dateTimeLabelConfig,
+                                                maxWidth: CGFloat.greatestFiniteMagnitude)
+
+        let nameLabelConfig: CVLabelConfig = {
+            let text: String = {
+                if thread.threadRecord is TSContactThread {
+                    if thread.threadRecord.isNoteToSelf {
+                        return MessageStrings.noteToSelf
+                    } else {
+                        return thread.name
+                    }
+                } else {
+                    if let name: String = thread.name.nilIfEmpty {
+                        return name
+                    } else {
+                        return MessageStrings.newGroupDefaultTitle
+                    }
+                }
+            }()
+            return CVLabelConfig(text: text,
+                                 font: nameFont,
+                                 textColor: Theme.primaryTextColor,
+                                 lineBreakMode: .byTruncatingTail)
+        }()
+        nameLabelConfig.applyForRendering(label: nameLabel)
+        var nameLabelMaxWidth = max(0, tableWidth - CGFloat(avatarStackSize.width +
+                                                                outerHStackConfig.spacing +
+                                                                topRowStackConfig.layoutMargins.totalWidth +
+                                                                vStackConfig.layoutMargins.totalWidth +
+                                                                outerHStackConfig.layoutMargins.totalWidth +
+                                                                dateLabelSize.width +
+                                                                topRowStackConfig.spacing))
+
+        // The "top row stack" layout was a lot easier to express in iOS Auto Layout
+        // (thanks to compression resistence and content hugging priorities).
+        // The top row contains:
+        //
+        // * Name label
+        // * Mute icon (optional)
+        // * (spacing)
+        // * Date/Time label (fixed width)
+        //
+        // If there's "overflow" (not enough space to render the entire name)
+        // The name label should compress.
+        //
+        // If there's "underflow" (extra space in the layout) it should appear
+        // before the date/time label.
+        //
+        // The catch is that mute icon should "hug" the name label, so the
+        // name label can't always handle any underflow in the layout.
+        //
+        // Solution:
+        //
+        // If there's no mute icon, the name label can always handle overflow
+        // and underflow.
+        //
+        // If there is a mute icon, the name label aligns "leading/natural" and
+        // the date/time label aligns "trailing". If there's enough space to
+        // to render the name, the name has fixed width and the date/time does
+        // not.  And vice versa.
+        let topRowStackSubviews: [UIView]
+        let topRowStackSubviewInfos: [ManualStackSubviewInfo]
+        if shouldShowMuteIndicator(forThread: thread, isBlocked: isBlocked) {
+            muteIconView.tintColor = snippetColor
+
+            nameLabelMaxWidth -= muteIconSize + topRowStackConfig.spacing
+            let nameLabelSize = CVText.measureLabel(config: nameLabelConfig,
+                                                    maxWidth: CGFloat.greatestFiniteMagnitude)
+            let doesNameLabelFit = nameLabelSize.width <= nameLabelMaxWidth
+
+            Logger.verbose("---- doesNameLabelFit: \(doesNameLabelFit), name: \(nameLabelConfig.stringValue)")
+
+            topRowStackSubviews = [ nameLabel, muteIconView, dateTimeLabel ]
+            topRowStackSubviewInfos = [
+                nameLabelSize.asManualSubviewInfo(hasFixedWidth: doesNameLabelFit,
+                                                  hasFixedHeight: true),
+                CGSize(square: muteIconSize).asManualSubviewInfo(hasFixedSize: true),
+                dateLabelSize.asManualSubviewInfo(hasFixedWidth: !doesNameLabelFit,
+                                                  hasFixedHeight: true)
+            ]
+        } else {
+            let nameLabelSize = CVText.measureLabel(config: nameLabelConfig, maxWidth: nameLabelMaxWidth)
+
+            topRowStackSubviews = [ nameLabel, dateTimeLabel ]
+            topRowStackSubviewInfos = [
+                nameLabelSize.asManualSubviewInfo(hasFixedHeight: true),
+                dateLabelSize.asManualSubviewInfo(hasFixedSize: true)
+            ]
+        }
+
+        // TODO: topRowView.alignment = .lastBaseline
+        let topRowStackSize = topRowStack.configure(config: topRowStackConfig,
+                                                    subviews: topRowStackSubviews,
+                                                    subviewInfos: topRowStackSubviewInfos).measuredSize
+
+        // The bottom row layout is also complicated because we want to be able to
+        // show/hide the typing indicator without reloading the cell. And we need
+        // to switch between them without any "jitter" in the layout.
+        //
+        // The "Wrapper" shows either "snippet label" or "typing indicator".
+        bottomRowWrapper.addSubviewToFillSuperviewEdges(snippetLabel)
+        let typingIndicatorSize = TypingIndicatorView.measurement().measuredSize
+        bottomRowWrapper.addSubview(typingIndicatorView) { [weak self] _ in
+            guard let self = self else { return }
+            // Vertically align the typing indicator with the first line of the snippet label.
+            self.typingIndicatorView.frame = CGRect(x: 0,
+                                                    y: (snippetLineHeight - typingIndicatorSize.height) * 0.5,
+                                                    width: typingIndicatorSize.width,
+                                                    height: typingIndicatorSize.height)
+        }
+        // Use a fixed size for the snippet label and its wrapper.
+        let bottomRowWrapperSize = CGSize(width: 0, height: snippetLineHeight * 2)
+
+        var bottomRowStackSubviews: [UIView] = [ bottomRowWrapper ]
+        var bottomRowStackSubviewInfos: [ManualStackSubviewInfo] = [
+            bottomRowWrapperSize.asManualSubviewInfo()
+        ]
+        if let statusIndicator = prepareStatusIndicatorView(thread: thread,
+                                                            shouldHideStatusIndicator: shouldHideStatusIndicator) {
+            bottomRowStackSubviews.append(statusIndicator.view)
+            bottomRowStackSubviewInfos.append(statusIndicator.size.asManualSubviewInfo(hasFixedSize: true))
+        }
+        let bottomRowStackSize = bottomRowStack.configure(config: bottomRowStackConfig,
+                                                          subviews: bottomRowStackSubviews,
+                                                          subviewInfos: bottomRowStackSubviewInfos).measuredSize
+
+        let vStackSize = vStack.configure(config: vStackConfig,
+                                          subviews: [ topRowStack, bottomRowStack ],
+                                          subviewInfos: [
+                                            topRowStackSize.asManualSubviewInfo,
+                                            bottomRowStackSize.asManualSubviewInfo
+                                          ]).measuredSize
+
+        let outerHStackSize = outerHStack.configure(config: outerHStackConfig,
+                                                    subviews: [ avatarStack, vStack ],
+                                                    subviewInfos: [
+                                                        avatarStackSize.asManualSubviewInfo(hasFixedWidth: true),
+                                                        vStackSize.asManualSubviewInfo
+                                                    ]).measuredSize
+//        owsAssertDebug(heightConstraint == nil)
+//        let heightConstraint = outerHStack.autoSetDimension(.height, toSize: outerHStackSize.height)
+//        self.heightConstraint = heightConstraint
+//        heightConstraint.autoInstall()
+
+        Logger.verbose("outerHStackSize.height: \(outerHStackSize.height)")
+
+    }
+
+    private var topRowStackConfig: ManualStackView.Config {
+        ManualStackView.Config(axis: .horizontal,
+                               alignment: .center,
+                               spacing: 6,
+                               layoutMargins: .zero)
+    }
+
+    private var bottomRowStackConfig: ManualStackView.Config {
+        ManualStackView.Config(axis: .horizontal,
+                               alignment: .center,
+                               spacing: 6,
+                               layoutMargins: .zero)
+    }
+
+    private var vStackConfig: ManualStackView.Config {
+        ManualStackView.Config(axis: .vertical,
+                               alignment: .fill,
+                               spacing: 1,
+                               layoutMargins: UIEdgeInsets(top: 7,
+                                                           leading: 0,
+                                                           bottom: 9,
+                                                           trailing: 0))
+    }
+
+    private var outerHStackConfig: ManualStackView.Config {
+        ManualStackView.Config(axis: .horizontal,
+                               alignment: .center,
+                               spacing: 12,
+                               layoutMargins: UIEdgeInsets(hMargin: 16, vMargin: 0))
+    }
+
+    struct StatusIndicator {
+        let view: UIView
+        let size: CGSize
+    }
+    private func prepareStatusIndicatorView(thread: ThreadViewModel,
+                                            shouldHideStatusIndicator: Bool) -> StatusIndicator? {
+        guard !shouldHideStatusIndicator,
+           let outgoingMessage = thread.lastMessageForInbox as? TSOutgoingMessage else {
+            return nil
+        }
+
+        var statusIndicatorImage: UIImage?
+        var messageStatusViewTintColor = snippetColor
+        var shouldAnimateStatusIcon = false
+
+        let messageStatus =
+            MessageRecipientStatusUtils.recipientStatus(outgoingMessage: outgoingMessage)
+        switch messageStatus {
+        case .uploading, .sending:
+            statusIndicatorImage = UIImage(named: "message_status_sending")
+            shouldAnimateStatusIcon = true
+        case .sent, .skipped:
+            if outgoingMessage.wasRemotelyDeleted {
+                return nil
+            }
+            statusIndicatorImage = UIImage(named: "message_status_sent")
+        case .delivered:
+            if outgoingMessage.wasRemotelyDeleted {
+                return nil
+            }
+            statusIndicatorImage = UIImage(named: "message_status_delivered")
+        case .read, .viewed:
+            if outgoingMessage.wasRemotelyDeleted {
+                return nil
+            }
+            statusIndicatorImage = UIImage(named: "message_status_read")
+        case .failed:
+            statusIndicatorImage = UIImage(named: "error-outline-12")
+            messageStatusViewTintColor = .ows_accentRed
+        case .pending:
+            statusIndicatorImage = UIImage(named: "error-outline-12")
+            messageStatusViewTintColor = .ows_gray60
+        }
+        if statusIndicatorImage == nil {
+            return nil
+        }
+
+        guard let image = statusIndicatorImage else {
+            return nil
+        }
+        messageStatusIconView.image = image.withRenderingMode(.alwaysTemplate)
+        messageStatusIconView.tintColor = messageStatusViewTintColor
+
+        if shouldAnimateStatusIcon {
+            let animation = CABasicAnimation(keyPath: "transform.rotation.z")
+            animation.toValue = NSNumber(value: Double.pi * 2)
+            animation.duration = kSecondInterval * 1
+            animation.isCumulative = true
+            animation.repeatCount = .greatestFiniteMagnitude
+            messageStatusIconView.layer.add(animation, forKey: "animation")
         } else {
-            messageStatusWrapper.isHidden = true
+            messageStatusIconView.layer.removeAllAnimations()
         }
+
+        return StatusIndicator(view: messageStatusIconView, size: image.size)
     }
 
+    //    private static func configureStack(_ stack: ManualStackView,
+    //                                       config: ManualStackView.Config,
+    //                                       subviews: [UIView],
+    //                                       subviewInfos: [ManualStackSubviewInfo]) {
+    //        stack.configure(config: config, subviews: subviews, subviewInfos: subviewInfos)
+    ////        let measurementBuilder = CVCellMeasurement.Builder()
+    ////        let linkPreviewSize = Self.measure(maxWidth: maxWidth,
+    ////                                           measurementBuilder: measurementBuilder,
+    ////                                           state: state,
+    ////                                           isDraft: isDraft)
+    ////        let cellMeasurement = measurementBuilder.build()
+    //    }
+
     private var hasUnreadStyle: Bool {
         guard let thread = thread else {
             return false
@@ -476,13 +855,18 @@ public class ConversationListCell: UITableViewCell {
     public override func prepareForReuse() {
         super.prepareForReuse()
 
-        NSLayoutConstraint.deactivate(viewConstraints)
-        viewConstraints = []
+        for cvview in cvviews {
+            cvview.reset()
+        }
 
         configuration = nil
-        messageStatusWrapper.isHidden = false
+        //        messageStatusWrapper.isHidden = false
         avatarView.image = nil
         avatarView.reset()
+        typingIndicatorView.reset()
+
+//        heightConstraint?.autoRemove()
+//        heightConstraint = nil
 
         NotificationCenter.default.removeObserver(self)
     }
@@ -499,7 +883,8 @@ public class ConversationListCell: UITableViewCell {
               contactThread.contactAddress == address else {
             return
         }
-        updateNameLabel()
+        // TODO:
+        //        updateNameLabel()
     }
 
     @objc
@@ -515,34 +900,34 @@ public class ConversationListCell: UITableViewCell {
         updatePreview()
     }
 
-    private func updateNameLabel() {
-        AssertIsOnMainThread()
-
-        nameLabel.font = nameFont
-        nameLabel.textColor = Theme.primaryTextColor
-
-        guard let thread = self.thread else {
-            owsFailDebug("Missing thread.")
-            nameLabel.attributedText = nil
-            return
-        }
-
-        nameLabel.text = {
-            if thread.threadRecord is TSContactThread {
-                if thread.threadRecord.isNoteToSelf {
-                    return MessageStrings.noteToSelf
-                } else {
-                    return thread.name
-                }
-            } else {
-                if let name = thread.name.nilIfEmpty {
-                    return name
-                } else {
-                    return MessageStrings.newGroupDefaultTitle
-                }
-            }
-        }()
-    }
+    //    private func updateNameLabel() {
+    //        AssertIsOnMainThread()
+    //
+    //        nameLabel.font = nameFont
+    //        nameLabel.textColor = Theme.primaryTextColor
+    //
+    //        guard let thread = self.thread else {
+    //            owsFailDebug("Missing thread.")
+    //            nameLabel.attributedText = nil
+    //            return
+    //        }
+    //
+    //        nameLabel.text = {
+    //            if thread.threadRecord is TSContactThread {
+    //                if thread.threadRecord.isNoteToSelf {
+    //                    return MessageStrings.noteToSelf
+    //                } else {
+    //                    return thread.name
+    //                }
+    //            } else {
+    //                if let name = thread.name.nilIfEmpty {
+    //                    return name
+    //                } else {
+    //                    return MessageStrings.newGroupDefaultTitle
+    //                }
+    //            }
+    //        }()
+    //    }
 
     // MARK: - Typing Indicators
 
@@ -562,46 +947,47 @@ public class ConversationListCell: UITableViewCell {
             return
         }
 
+        // TODO:
+        //
+        // We want to be able to show/hide the typing indicators without
+        // any "jitter" in the cell layout.
+        //
+        // Therefore we do not hide the snippet label, but use it to
+        // display two lines of non-rendering text so that it retains its
+        // full height.
+        var attributedText: NSAttributedString = {
+            if let overrideSnippet = self.overrideSnippet {
+                return overrideSnippet
+            }
+            return self.attributedSnippet(forThread: configuration.thread,
+                                          isBlocked: configuration.isBlocked)
+        }()
+        // Ensure that the snippet is at least two lines so that it is top-aligned.
+        //
+        // UILabel appears to have an issue where it's height is
+        // too large if its text is just a series of empty lines,
+        // so we include spaces to avoid that issue.
+        attributedText = attributedText.stringByAppendingString(" \n \n",
+                                                                attributes: [
+                                                                    .font: snippetFont
+                                                                ])
+        snippetLabel.attributedText = attributedText
+
         // We use "override snippets" to show "message" search results.
         // We don't want to show typing indicators in that case.
         if shouldShowTypingIndicators {
-            // We want to be able to show/hide the typing indicators without
-            // any "jitter" in the cell layout.
-            //
-            // Therefore we do not hide the snippet label, but use it to
-            // display two lines of non-rendering text so that it retains its
-            // full height.
-            snippetLabel.attributedText = " \n ".asAttributedString(attributes: [
-                .font: snippetFont
-            ])
-            snippetLabel.textColor = Theme.backgroundColor
-            typingIndicatorWrapper.isHidden = false
+            snippetLabel.isHidden = true
+            typingIndicatorView.isHidden = false
             typingIndicatorView.startAnimation()
         } else {
-            var attributedText: NSAttributedString = {
-                if let overrideSnippet = self.overrideSnippet {
-                    return overrideSnippet
-                }
-                return self.attributedSnippet(forThread: configuration.thread,
-                                              isBlocked: configuration.isBlocked)
-            }()
-            // Ensure that the snippet is at least two lines so that it is top-aligned.
-            //
-            // UILabel appears to have an issue where it's height is
-            // too large if its text is just a series of empty lines,
-            // so we include spaces to avoid that issue.
-            attributedText = attributedText.stringByAppendingString(" \n \n",
-                                                                    attributes: [
-                                                                        .font: snippetFont
-                              ])
-            snippetLabel.attributedText = attributedText
-
-            typingIndicatorWrapper.isHidden = true
+            snippetLabel.isHidden = false
+            typingIndicatorView.isHidden = true
             typingIndicatorView.stopAnimation()
         }
 
-        muteIconWrapper.isHidden = !shouldShowMuteIndicator(forThread: configuration.thread,
-                                                          isBlocked: configuration.isBlocked)
+        // TODO:
+//        muteIconWrapper.isHidden = !shouldShowMuteIndicator(forThread: configuration.thread,
+//                                                            isBlocked: configuration.isBlocked)
         muteIconView.tintColor = snippetColor
     }
 }
diff --git a/Signal/src/ViewControllers/HomeView/ConversationListViewController.m b/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
index 5d7007ae70d..4a2e6b6b999 100644
--- a/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
+++ b/Signal/src/ViewControllers/HomeView/ConversationListViewController.m
@@ -1327,6 +1327,7 @@ - (UITableViewCell *)tableView:(UITableView *)tableView cellForConversationAtInd
         && (self.lastReloadDate == nil || fabs(self.lastReloadDate.timeIntervalSinceNow) > avatarAsyncLoadInterval));
     BOOL isBlocked = [self.blocklistCache isThreadBlocked:thread.threadRecord];
     [cell configure:[[ConversationListCellConfiguration alloc] initWithThread:thread
+                                                                   tableWidth:tableView.width
                                                         shouldLoadAvatarAsync:shouldLoadAvatarAsync
                                                                     isBlocked:isBlocked
                                                               overrideSnippet:nil
diff --git a/Signal/src/ViewControllers/HomeView/ConversationSearchViewController.swift b/Signal/src/ViewControllers/HomeView/ConversationSearchViewController.swift
index d911d952e6d..5a54bd56284 100644
--- a/Signal/src/ViewControllers/HomeView/ConversationSearchViewController.swift
+++ b/Signal/src/ViewControllers/HomeView/ConversationSearchViewController.swift
@@ -270,6 +270,7 @@ class ConversationSearchViewController: UITableViewController, BlockListCacheDel
             }
             cell.configure(.init(
                 thread: searchResult.thread,
+                tableWidth: tableView.width,
                 shouldLoadAvatarAsync: shouldLoadAvatarAsync,
                 isBlocked: isBlocked(thread: searchResult.thread)
             ))
@@ -287,6 +288,7 @@ class ConversationSearchViewController: UITableViewController, BlockListCacheDel
 
             cell.configure(.init(
                 thread: searchResult.thread,
+                tableWidth: tableView.width,
                 shouldLoadAvatarAsync: shouldLoadAvatarAsync,
                 isBlocked: isBlocked(thread: searchResult.thread),
                 overrideSnippet: searchResult.matchedMembersSnippet?.styled(with: Self.matchSnippetStyle),
@@ -339,6 +341,7 @@ class ConversationSearchViewController: UITableViewController, BlockListCacheDel
 
             cell.configure(.init(
                 thread: searchResult.thread,
+                tableWidth: tableView.width,
                 shouldLoadAvatarAsync: shouldLoadAvatarAsync,
                 isBlocked: isBlocked(thread: searchResult.thread),
                 overrideSnippet: overrideSnippet,
diff --git a/Signal/src/views/TypingIndicatorView.swift b/Signal/src/views/TypingIndicatorView.swift
index 769d3d944b2..6e02380148a 100644
--- a/Signal/src/views/TypingIndicatorView.swift
+++ b/Signal/src/views/TypingIndicatorView.swift
@@ -53,8 +53,8 @@ class TypingIndicatorView: ManualStackView {
                        measurement: measurement,
                        subviews: [ dot1, dot2, dot3 ])
         // Conversation list view cells use iOS auto layout.
-        self.shouldDeactivateConstraints = false
-        self.translatesAutoresizingMaskIntoConstraints = true
+//        self.shouldDeactivateConstraints = false
+//        self.translatesAutoresizingMaskIntoConstraints = true
 
         NotificationCenter.default.addObserver(self,
                                                selector: #selector(didBecomeActive),
@@ -83,7 +83,7 @@ class TypingIndicatorView: ManualStackView {
 
     private static let measurementKey_stack = "TypingIndicatorView.measurementKey_stack"
 
-    private static func measurement() -> ManualStackView.Measurement {
+    static func measurement() -> ManualStackView.Measurement {
         let dotSize = CGSize.square(kMaxRadiusPt)
         let subviewInfos = [
             dotSize.asManualSubviewInfo(hasFixedSize: true),
diff --git a/SignalMessaging/Views/AvatarImageView.swift b/SignalMessaging/Views/AvatarImageView.swift
index e9f1f3e4be4..08a38c830dc 100644
--- a/SignalMessaging/Views/AvatarImageView.swift
+++ b/SignalMessaging/Views/AvatarImageView.swift
@@ -5,7 +5,7 @@
 import UIKit
 
 @objc
-open class AvatarImageView: UIImageView {
+open class AvatarImageView: UIImageView, CVView {
 
     @objc
     public var shouldDeactivateConstraints = false
@@ -58,6 +58,10 @@ open class AvatarImageView: UIImageView {
             deactivateAllConstraints()
         }
     }
+
+    public func reset() {
+        self.image = nil
+    }
 }
 
 // MARK: -
diff --git a/SignalMessaging/Views/ConversationAvatarView.swift b/SignalMessaging/Views/ConversationAvatarView.swift
index c6c050a5514..38bb050aa90 100644
--- a/SignalMessaging/Views/ConversationAvatarView.swift
+++ b/SignalMessaging/Views/ConversationAvatarView.swift
@@ -431,11 +431,12 @@ public class ConversationAvatarView: AvatarImageView {
     }
 
     @objc
-    public func reset() {
+    public override func reset() {
         AssertIsOnMainThread()
 
+        super.reset()
+
         self.content = nil
-        self.image = nil
     }
 }
 
diff --git a/SignalMessaging/Views/ConversationView/CVUtils.swift b/SignalMessaging/Views/ConversationView/CVUtils.swift
index 309f02eb32b..127e816c135 100644
--- a/SignalMessaging/Views/ConversationView/CVUtils.swift
+++ b/SignalMessaging/Views/ConversationView/CVUtils.swift
@@ -35,25 +35,39 @@ public class CVUtils {
 
 // MARK: -
 
+public protocol CVView: UIView {
+    func reset()
+}
+
+// MARK: -
+
 @objc
-open class CVLabel: UILabel {
+open class CVLabel: UILabel, CVView {
     public override func updateConstraints() {
         super.updateConstraints()
 
         deactivateAllConstraints()
     }
+
+    public func reset() {
+        self.text = nil
+    }
 }
 
 // MARK: -
 
 @objc
-open class CVImageView: UIImageView {
+open class CVImageView: UIImageView, CVView {
     public override func updateConstraints() {
         super.updateConstraints()
 
         deactivateAllConstraints()
     }
 
+    public func reset() {
+        self.image = nil
+    }
+
     // MARK: - Layout
 
     public typealias LayoutBlock = (UIView) -> Void
@@ -121,10 +135,14 @@ open class CVImageView: UIImageView {
 // MARK: -
 
 @objc
-open class CVAnimatedImageView: YYAnimatedImageView {
+open class CVAnimatedImageView: YYAnimatedImageView, CVView {
     public override func updateConstraints() {
         super.updateConstraints()
 
         deactivateAllConstraints()
     }
+
+    public func reset() {
+        self.image = nil
+    }
 }
diff --git a/SignalMessaging/Views/Link Preview/LinkPreviewView.swift b/SignalMessaging/Views/Link Preview/LinkPreviewView.swift
index 6f75c453465..262301b9c88 100644
--- a/SignalMessaging/Views/Link Preview/LinkPreviewView.swift	
+++ b/SignalMessaging/Views/Link Preview/LinkPreviewView.swift	
@@ -1212,11 +1212,12 @@ private class LinkPreviewImageView: CVImageView {
         notImplemented()
     }
 
-    func reset() {
+    public override func reset() {
+        super.reset()
+
         rounding = .standard
         isHero = false
         configurationId = 0
-        image = nil
     }
 
     override var bounds: CGRect {
diff --git a/SignalMessaging/Views/ManualLayoutView.swift b/SignalMessaging/Views/ManualLayoutView.swift
index bbf83bc3ccf..10964882870 100644
--- a/SignalMessaging/Views/ManualLayoutView.swift
+++ b/SignalMessaging/Views/ManualLayoutView.swift
@@ -21,7 +21,7 @@ open class ManualLayoutViewWithLayer: ManualLayoutView {
 // MARK: -
 
 @objc
-open class ManualLayoutView: UIView {
+open class ManualLayoutView: UIView, CVView {
 
     public typealias LayoutBlock = (UIView) -> Void
 
diff --git a/SignalMessaging/categories/UIView+OWS.swift b/SignalMessaging/categories/UIView+OWS.swift
index f4b6f5e7397..3f10ff174c3 100644
--- a/SignalMessaging/categories/UIView+OWS.swift
+++ b/SignalMessaging/categories/UIView+OWS.swift
@@ -1188,3 +1188,11 @@ public extension CGFloat {
         self * self
     }
 }
+
+// MARK: -
+
+public extension NSTextAlignment {
+    static var trailing: NSTextAlignment {
+        CurrentAppContext().isRTL ? .left : .right
+    }
+}
