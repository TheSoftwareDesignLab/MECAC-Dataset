diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentAudioAttachment.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentAudioAttachment.swift
index d6a9541d5d7..d4228f96960 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentAudioAttachment.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentAudioAttachment.swift
@@ -67,7 +67,8 @@ public class CVComponentAudioAttachment: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackViewConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: [ audioInfo ])
+                                                       subviewInfos: [ audioInfo ],
+                                                       maxWidth: maxWidth)
         var measuredSize = stackMeasurement.measuredSize
         measuredSize.width = maxWidth
         return measuredSize
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyMedia.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyMedia.swift
index 3cc73c86794..b16b69ff11c 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyMedia.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyMedia.swift
@@ -293,7 +293,8 @@ public class CVComponentBodyMedia: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: [ albumInfo ])
+                                                       subviewInfos: [ albumInfo ],
+                                                       maxWidth: maxWidth)
         return stackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyText.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyText.swift
index 3994dca3f9f..f8cc2d4b7cd 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyText.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBodyText.swift
@@ -655,7 +655,8 @@ public class CVComponentBodyText: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackViewConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: [ textInfo ])
+                                                       subviewInfos: [ textInfo ],
+                                                       maxWidth: maxWidth)
         return stackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
index 856056a7d85..01e04f2e563 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentBottomButtons.swift
@@ -69,7 +69,8 @@ public class CVComponentBottomButtons: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: subviewInfos)
+                                                       subviewInfos: subviewInfos,
+                                                       maxWidth: maxWidth)
         return stackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentDateHeader.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentDateHeader.swift
index dc194f8892c..ee92608bd85 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentDateHeader.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentDateHeader.swift
@@ -179,7 +179,8 @@ public class CVComponentDateHeader: CVComponentBase, CVRootComponent {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                         measurementBuilder: measurementBuilder,
                                                         measurementKey: Self.measurementKey_outerStack,
-                                                        subviewInfos: [ innerStackInfo ])
+                                                        subviewInfos: [ innerStackInfo ],
+                                                        maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentFooter.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentFooter.swift
index 70d719c4bd2..00acaf4564f 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentFooter.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentFooter.swift
@@ -328,7 +328,8 @@ public class CVComponentFooter: CVComponentBase, CVComponent {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: outerSubviewInfos)
+                                                            subviewInfos: outerSubviewInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
index aec254d17f2..25ba56c385f 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentGenericAttachment.swift
@@ -270,7 +270,8 @@ public class CVComponentGenericAttachment: CVComponentBase, CVComponent {
         let hStackMeasurement = ManualStackView.measure(config: hStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_hStack,
-                                                            subviewInfos: hSubviewInfos)
+                                                            subviewInfos: hSubviewInfos,
+                                                            maxWidth: maxWidth)
         return hStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
index 8468100d3a0..0296c05461c 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentMessage.swift
@@ -768,6 +768,9 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
 
         let contentStackSize = measureContentStack(maxWidth: contentMaxWidth,
                                                    measurementBuilder: measurementBuilder)
+        if contentStackSize.width > contentMaxWidth {
+            owsFailDebug("contentStackSize: \(contentStackSize) > contentMaxWidth: \(contentMaxWidth)")
+        }
         owsAssertDebug(contentStackSize.width <= contentMaxWidth)
 
         var hInnerStackSubviewInfos = [ManualStackSubviewInfo]()
@@ -809,7 +812,8 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
         let hOuterStackMeasurement = ManualStackView.measure(config: hOuterStackConfig,
                                                              measurementBuilder: measurementBuilder,
                                                              measurementKey: Self.measurementKey_hOuterStack,
-                                                             subviewInfos: hOuterStackSubviewInfos)
+                                                             subviewInfos: hOuterStackSubviewInfos,
+                                                             maxWidth: maxWidth)
 
         if let reactionsSubcomponent = subcomponent(forKey: .reactions) {
             let reactionsSize = reactionsSubcomponent.measure(maxWidth: maxWidth,
@@ -835,6 +839,9 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                 }
                 let subviewSize = subcomponent.measure(maxWidth: maxWidth,
                                                        measurementBuilder: measurementBuilder)
+                if subviewSize.width > maxWidth {
+                    owsFailDebug("key: \(key), subviewSize: \(subviewSize) > maxWidth: \(maxWidth)")
+                }
                 subviewSizes.append(subviewSize)
             }
             let subviewInfos: [ManualStackSubviewInfo] = subviewSizes.map { subviewSize in
@@ -869,9 +876,10 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
 
             if !topFullWidthSubcomponents.isEmpty {
                 let stackConfig = buildFullWidthStackConfig(includeTopMargin: false)
-                subviewSizes.append(measure(stackConfig: stackConfig,
-                                            measurementKey: Self.measurementKey_topFullWidthStackView,
-                                            componentKeys: topFullWidthCVComponentKeys))
+                let stackSize = measure(stackConfig: stackConfig,
+                                        measurementKey: Self.measurementKey_topFullWidthStackView,
+                                        componentKeys: topFullWidthCVComponentKeys)
+                subviewSizes.append(stackSize)
             }
             if !topNestedSubcomponents.isEmpty {
                 let hasNeighborsAbove = !topFullWidthSubcomponents.isEmpty
@@ -880,9 +888,10 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                                             nil != bottomButtons)
                 let stackConfig = buildNestedStackConfig(hasNeighborsAbove: hasNeighborsAbove,
                                                          hasNeighborsBelow: hasNeighborsBelow)
-                subviewSizes.append(measure(stackConfig: stackConfig,
-                                            measurementKey: Self.measurementKey_topNestedStackView,
-                                            componentKeys: topNestedCVComponentKeys))
+                let stackSize = measure(stackConfig: stackConfig,
+                                        measurementKey: Self.measurementKey_topNestedStackView,
+                                        componentKeys: topNestedCVComponentKeys)
+                subviewSizes.append(stackSize)
             }
             if !bottomFullWidthSubcomponents.isEmpty {
                 // If a quoted reply is the top-most subcomponent,
@@ -891,9 +900,10 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                                                         topNestedSubcomponents.isEmpty &&
                                                         quotedReply != nil)
                 let stackConfig = buildFullWidthStackConfig(includeTopMargin: applyTopMarginToFullWidthStack)
-                subviewSizes.append(measure(stackConfig: stackConfig,
-                                            measurementKey: Self.measurementKey_bottomFullWidthStackView,
-                                            componentKeys: bottomFullWidthCVComponentKeys))
+                let stackSize = measure(stackConfig: stackConfig,
+                                        measurementKey: Self.measurementKey_bottomFullWidthStackView,
+                                        componentKeys: bottomFullWidthCVComponentKeys)
+                subviewSizes.append(stackSize)
             }
             if !bottomNestedSubcomponents.isEmpty {
                 let hasNeighborsAbove = (!topFullWidthSubcomponents.isEmpty ||
@@ -902,9 +912,10 @@ public class CVComponentMessage: CVComponentBase, CVRootComponent {
                 let hasNeighborsBelow = (nil != bottomButtons)
                 let stackConfig = buildNestedStackConfig(hasNeighborsAbove: hasNeighborsAbove,
                                                          hasNeighborsBelow: hasNeighborsBelow)
-                subviewSizes.append(measure(stackConfig: stackConfig,
-                                            measurementKey: Self.measurementKey_bottomNestedStackView,
-                                            componentKeys: bottomNestedCVComponentKeys))
+                let stackSize = measure(stackConfig: stackConfig,
+                                        measurementKey: Self.measurementKey_bottomNestedStackView,
+                                        componentKeys: bottomNestedCVComponentKeys)
+                subviewSizes.append(stackSize)
             }
             if let bottomButtons = bottomButtons {
                 let subviewSize = bottomButtons.measure(maxWidth: contentMaxWidth,
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentQuotedReply.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentQuotedReply.swift
index 484c7e3c717..0f789e88aac 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentQuotedReply.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentQuotedReply.swift
@@ -56,9 +56,10 @@ public class CVComponentQuotedReply: CVComponentBase, CVComponent {
     public func measure(maxWidth: CGFloat, measurementBuilder: CVCellMeasurement.Builder) -> CGSize {
         owsAssertDebug(maxWidth > 0)
 
-        return QuotedMessageView.measure(state: quotedReply.viewState,
-                                         maxWidth: maxWidth,
-                                         measurementBuilder: measurementBuilder)
+        let size = QuotedMessageView.measure(state: quotedReply.viewState,
+                                             maxWidth: maxWidth,
+                                             measurementBuilder: measurementBuilder)
+        return size
     }
 
     // MARK: - Events
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSenderName.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSenderName.swift
index 03e51a0fa06..aa791f2076f 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSenderName.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSenderName.swift
@@ -106,7 +106,8 @@ public class CVComponentSenderName: CVComponentBase, CVComponent {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_outerStack,
-                                                       subviewInfos: [ innerStackInfo ])
+                                                       subviewInfos: [ innerStackInfo ],
+                                                       maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSticker.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSticker.swift
index e29759c1b79..8019a27ce6a 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSticker.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSticker.swift
@@ -128,7 +128,8 @@ public class CVComponentSticker: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackViewConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: [ stickerInfo ])
+                                                       subviewInfos: [ stickerInfo ],
+                                                       maxWidth: maxWidth)
         return stackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSystemMessage.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSystemMessage.swift
index 9eabe6cf571..1e044337632 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSystemMessage.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentSystemMessage.swift
@@ -332,7 +332,8 @@ public class CVComponentSystemMessage: CVComponentBase, CVRootComponent {
         let outerHStackMeasurement = ManualStackView.measure(config: outerHStackConfig,
                                                              measurementBuilder: measurementBuilder,
                                                              measurementKey: Self.measurementKey_outerHStack,
-                                                             subviewInfos: outerHStackSubviewInfos)
+                                                             subviewInfos: outerHStackSubviewInfos,
+                                                             maxWidth: maxWidth)
         return outerHStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentThreadDetails.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentThreadDetails.swift
index 58b7b7a376c..62f85b00af1 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentThreadDetails.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentThreadDetails.swift
@@ -457,7 +457,8 @@ public class CVComponentThreadDetails: CVComponentBase, CVRootComponent {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: outerSubviewInfos)
+                                                            subviewInfos: outerSubviewInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentTypingIndicator.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentTypingIndicator.swift
index 9da56c91953..ee91626753a 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentTypingIndicator.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentTypingIndicator.swift
@@ -135,7 +135,8 @@ public class CVComponentTypingIndicator: CVComponentBase, CVRootComponent {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackViewConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: outerSubviewInfos)
+                                                            subviewInfos: outerSubviewInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentUnreadIndicator.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentUnreadIndicator.swift
index dd6a871fa87..e5acac74059 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentUnreadIndicator.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentUnreadIndicator.swift
@@ -151,14 +151,15 @@ public class CVComponentUnreadIndicator: CVComponentBase, CVRootComponent {
 
         let strokeInfo = strokeSize.asManualSubviewInfo(hasFixedHeight: true)
         let innerStackInfo = innerStackMeasurement.measuredSize.asManualSubviewInfo(hasFixedWidth: true)
+        let vStackSubviewInfos = [
+            strokeInfo,
+            innerStackInfo
+        ]
         let vStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                         measurementBuilder: measurementBuilder,
                                                         measurementKey: Self.measurementKey_outerStack,
-        subviewInfos: [
-            strokeInfo,
-            innerStackInfo
-                                                        ])
-
+                                                        subviewInfos: vStackSubviewInfos,
+                                                        maxWidth: maxWidth)
         return vStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentViewOnce.swift b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentViewOnce.swift
index 02b4670d8fb..f93a0788e0a 100644
--- a/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentViewOnce.swift
+++ b/Signal/src/ViewControllers/ConversationView/CV/CVComponents/CVComponentViewOnce.swift
@@ -146,7 +146,8 @@ public class CVComponentViewOnce: CVComponentBase, CVComponent {
         let stackMeasurement = ManualStackView.measure(config: stackViewConfig,
                                                        measurementBuilder: measurementBuilder,
                                                        measurementKey: Self.measurementKey_stackView,
-                                                       subviewInfos: subviewInfos)
+                                                       subviewInfos: subviewInfos,
+                                                       maxWidth: maxWidth)
         var result = stackMeasurement.measuredSize
         // We use this "min width" to reduce/avoid "flutter"
         // in the bubble's size as the message changes states.
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/AudioMessageView.swift b/Signal/src/ViewControllers/ConversationView/Cells/AudioMessageView.swift
index 7b9d99ccb65..dfc9dfa57d6 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/AudioMessageView.swift
+++ b/Signal/src/ViewControllers/ConversationView/Cells/AudioMessageView.swift
@@ -180,7 +180,8 @@ class AudioMessageView: ManualStackView {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: outerSubviewInfos)
+                                                            subviewInfos: outerSubviewInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/CVContactShareView.swift b/Signal/src/ViewControllers/ConversationView/Cells/CVContactShareView.swift
index d2b926b5cca..92a1bfb17c7 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/CVContactShareView.swift
+++ b/Signal/src/ViewControllers/ConversationView/Cells/CVContactShareView.swift
@@ -155,7 +155,8 @@ public class CVContactShareView: ManualStackView {
         let outerStackMeasurement = ManualStackView.measure(config: outerStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: outerSubviewInfos)
+                                                            subviewInfos: outerSubviewInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/CVMediaAlbumView.swift b/Signal/src/ViewControllers/ConversationView/Cells/CVMediaAlbumView.swift
index 42bf490874c..ce0ecbe0450 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/CVMediaAlbumView.swift
+++ b/Signal/src/ViewControllers/ConversationView/Cells/CVMediaAlbumView.swift
@@ -269,7 +269,8 @@ public class CVMediaAlbumView: ManualStackViewWithLayer {
         let outerStackMeasurement = ManualStackView.measure(config: imageArrangement.outerStackConfig,
                                                             measurementBuilder: measurementBuilder,
                                                             measurementKey: Self.measurementKey_outerStack,
-                                                            subviewInfos: groupInfos)
+                                                            subviewInfos: groupInfos,
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/Cells/QuotedMessageView.swift b/Signal/src/ViewControllers/ConversationView/Cells/QuotedMessageView.swift
index 6a62dc54968..a15b764e891 100644
--- a/Signal/src/ViewControllers/ConversationView/Cells/QuotedMessageView.swift
+++ b/Signal/src/ViewControllers/ConversationView/Cells/QuotedMessageView.swift
@@ -590,7 +590,8 @@ public class QuotedMessageView: ManualStackViewWithLayer {
                                                             measurementKey: Self.measurementKey_outerStack,
                                                             subviewInfos: [
                                                                 outerVStackMeasurement.measuredSize.asManualSubviewInfo
-                                                            ])
+                                                            ],
+                                                            maxWidth: maxWidth)
         return outerStackMeasurement.measuredSize
     }
 
diff --git a/SignalMessaging/Views/ConversationView/CVCellMeasurement.swift b/SignalMessaging/Views/ConversationView/CVCellMeasurement.swift
index d2f4b60210a..80c762a5b7e 100644
--- a/SignalMessaging/Views/ConversationView/CVCellMeasurement.swift
+++ b/SignalMessaging/Views/ConversationView/CVCellMeasurement.swift
@@ -140,11 +140,22 @@ public extension ManualStackView {
                         measurementBuilder: CVCellMeasurement.Builder,
                         measurementKey: String,
                         subviewInfos: [ManualStackSubviewInfo],
+                        maxWidth: CGFloat? = nil,
                         verboseLogging: Bool = false) -> Measurement {
         let measurement = Self.measure(config: config,
                                        subviewInfos: subviewInfos,
                                        verboseLogging: verboseLogging)
         measurementBuilder.setMeasurement(key: measurementKey, value: measurement)
+        if let maxWidth = maxWidth,
+           measurement.measuredSize.width > maxWidth {
+            #if DEBUG
+            Logger.verbose("config: \(config)")
+            for subviewInfo in subviewInfos {
+                Logger.verbose("subviewInfo: \(subviewInfo.measuredSize)")
+            }
+            #endif
+            owsFailDebug("\(measurementKey): measuredSize \(measurement.measuredSize) > maxWidth: \(maxWidth).")
+        }
         return measurement
     }
 }
diff --git a/SignalMessaging/Views/ConversationView/CVText.swift b/SignalMessaging/Views/ConversationView/CVText.swift
index 73a96191f2a..3d14b51bfdb 100644
--- a/SignalMessaging/Views/ConversationView/CVText.swift
+++ b/SignalMessaging/Views/ConversationView/CVText.swift
@@ -126,7 +126,11 @@ public struct CVLabelConfig {
     }
 
     public func measure(maxWidth: CGFloat) -> CGSize {
-        CVText.measureLabel(config: self, maxWidth: maxWidth)
+        let size = CVText.measureLabel(config: self, maxWidth: maxWidth)
+        if size.width > maxWidth {
+            owsFailDebug("size.width: \(size.width) > maxWidth: \(maxWidth)")
+        }
+        return size
     }
 
     public var stringValue: String {
@@ -212,7 +216,11 @@ public struct CVTextViewConfig {
     }
 
     public func measure(maxWidth: CGFloat) -> CGSize {
-        CVText.measureTextView(config: self, maxWidth: maxWidth)
+        let size = CVText.measureTextView(config: self, maxWidth: maxWidth)
+        if size.width > maxWidth {
+            owsFailDebug("size.width: \(size.width) > maxWidth: \(maxWidth)")
+        }
+        return size
     }
 
     public var stringValue: String {
diff --git a/SignalMessaging/Views/Link Preview/LinkPreviewView.swift b/SignalMessaging/Views/Link Preview/LinkPreviewView.swift
index 88711bf096e..9dfb5ae873a 100644
--- a/SignalMessaging/Views/Link Preview/LinkPreviewView.swift	
+++ b/SignalMessaging/Views/Link Preview/LinkPreviewView.swift	
@@ -56,7 +56,7 @@ public class LinkPreviewView: ManualStackViewWithLayer {
         super.init(name: "LinkPreviewView")
 
         if let draftDelegate = draftDelegate,
-            draftDelegate.linkPreviewCanCancel() {
+           draftDelegate.linkPreviewCanCancel() {
             self.isUserInteractionEnabled = true
             self.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(wasTapped)))
         }
@@ -232,8 +232,8 @@ public class LinkPreviewView: ManualStackViewWithLayer {
 
     static var defaultActivityIndicatorStyle: UIActivityIndicatorView.Style {
         Theme.isDarkThemeEnabled
-        ? .white
-        : .gray
+            ? .white
+            : .gray
     }
 
     // MARK: Events
@@ -258,9 +258,13 @@ public class LinkPreviewView: ManualStackViewWithLayer {
                                state: LinkPreviewState,
                                isDraft: Bool) -> CGSize {
         let adapter = Self.adapter(forState: state, isDraft: isDraft)
-        return adapter.measure(maxWidth: maxWidth,
-                               measurementBuilder: measurementBuilder,
-                               state: state)
+        let size = adapter.measure(maxWidth: maxWidth,
+                                   measurementBuilder: measurementBuilder,
+                                   state: state)
+        if size.width > maxWidth {
+            owsFailDebug("size.width: \(size.width) > maxWidth: \(maxWidth)")
+        }
+        return size
     }
 
     @objc
@@ -655,15 +659,16 @@ private class LinkPreviewViewAdapterDraft: LinkPreviewViewAdapter {
         rightStackSubviewInfos.append(CGSize.square(cancelSize).asManualSubviewInfo(hasFixedWidth: true))
 
         let rightStackMeasurement = ManualStackView.measure(config: rightStackConfig,
-                                                           measurementBuilder: measurementBuilder,
-                                                           measurementKey: Self.measurementKey_rightStack,
-                                                           subviewInfos: rightStackSubviewInfos)
+                                                            measurementBuilder: measurementBuilder,
+                                                            measurementKey: Self.measurementKey_rightStack,
+                                                            subviewInfos: rightStackSubviewInfos)
         rootStackSubviewInfos.append(rightStackMeasurement.measuredSize.asManualSubviewInfo)
 
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
                                                            measurementBuilder: measurementBuilder,
                                                            measurementKey: Self.measurementKey_rootStack,
-                                                           subviewInfos: rootStackSubviewInfos)
+                                                           subviewInfos: rootStackSubviewInfos,
+                                                           maxWidth: maxWidth)
         var rootStackSize = rootStackMeasurement.measuredSize
         rootStackSize.height = (LinkPreviewViewAdapterDraft.draftHeight +
                                     LinkPreviewViewAdapterDraft.draftMarginTop)
@@ -717,9 +722,10 @@ private class LinkPreviewViewAdapterDraftLoading: LinkPreviewViewAdapter {
                  state: LinkPreviewState) -> CGSize {
 
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
-                                                  measurementBuilder: measurementBuilder,
-                                                  measurementKey: Self.measurementKey_rootStack,
-                                                  subviewInfos: [])
+                                                           measurementBuilder: measurementBuilder,
+                                                           measurementKey: Self.measurementKey_rootStack,
+                                                           subviewInfos: [],
+                                                           maxWidth: maxWidth)
         var rootStackSize = rootStackMeasurement.measuredSize
         rootStackSize.height = (LinkPreviewViewAdapterDraft.draftHeight +
                                     LinkPreviewViewAdapterDraft.draftMarginTop)
@@ -827,7 +833,8 @@ private class LinkPreviewViewAdapterGroupLink: LinkPreviewViewAdapter {
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
                                                            measurementBuilder: measurementBuilder,
                                                            measurementKey: Self.measurementKey_rootStack,
-                                                           subviewInfos: rootStackSubviewInfos)
+                                                           subviewInfos: rootStackSubviewInfos,
+                                                           maxWidth: maxWidth)
         return rootStackMeasurement.measuredSize
     }
 }
@@ -917,7 +924,8 @@ private class LinkPreviewViewAdapterSentHero: LinkPreviewViewAdapter {
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
                                                            measurementBuilder: measurementBuilder,
                                                            measurementKey: Self.measurementKey_rootStack,
-                                                           subviewInfos: rootStackSubviewInfos)
+                                                           subviewInfos: rootStackSubviewInfos,
+                                                           maxWidth: maxWidth)
         return rootStackMeasurement.measuredSize
     }
 
@@ -1020,7 +1028,8 @@ private class LinkPreviewViewAdapterSent: LinkPreviewViewAdapter {
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
                                                            measurementBuilder: measurementBuilder,
                                                            measurementKey: Self.measurementKey_rootStack,
-                                                           subviewInfos: rootStackSubviewInfos)
+                                                           subviewInfos: rootStackSubviewInfos,
+                                                           maxWidth: maxWidth)
         return rootStackMeasurement.measuredSize
     }
 }
@@ -1082,9 +1091,9 @@ private class LinkPreviewViewAdapterSentWithDescription: LinkPreviewViewAdapter
 
         let titleStack = linkPreviewView.titleStack
         titleStack.configure(config: titleStackConfig,
-                            cellMeasurement: cellMeasurement,
-                            measurementKey: Self.measurementKey_titleStack,
-                            subviews: titleStackSubviews)
+                             cellMeasurement: cellMeasurement,
+                             measurementKey: Self.measurementKey_titleStack,
+                             subviews: titleStackSubviews)
         rootStackSubviews.append(titleStack)
 
         if let descriptionLabel = sentDescriptionLabel(state: state) {
@@ -1117,7 +1126,7 @@ private class LinkPreviewViewAdapterSentWithDescription: LinkPreviewViewAdapter
         if state.hasLoadedImage {
             let imageSize = LinkPreviewView.sentNonHeroImageSize
             titleStackSubviewInfos.append(CGSize.square(imageSize).asManualSubviewInfo(hasFixedSize: true))
-            maxTitleLabelWidth -= imageSize + rootStackConfig.spacing
+            maxTitleLabelWidth -= imageSize + titleStackConfig.spacing
         }
 
         maxTitleLabelWidth = max(0, maxTitleLabelWidth)
@@ -1132,9 +1141,9 @@ private class LinkPreviewViewAdapterSentWithDescription: LinkPreviewViewAdapter
         var rootStackSubviewInfos = [ManualStackSubviewInfo]()
 
         let titleStackMeasurement = ManualStackView.measure(config: titleStackConfig,
-                                                           measurementBuilder: measurementBuilder,
-                                                           measurementKey: Self.measurementKey_titleStack,
-                                                           subviewInfos: titleStackSubviewInfos)
+                                                            measurementBuilder: measurementBuilder,
+                                                            measurementKey: Self.measurementKey_titleStack,
+                                                            subviewInfos: titleStackSubviewInfos)
         rootStackSubviewInfos.append(titleStackMeasurement.measuredSize.asManualSubviewInfo)
 
         if let labelConfig = sentDescriptionLabelConfig(state: state) {
@@ -1153,7 +1162,8 @@ private class LinkPreviewViewAdapterSentWithDescription: LinkPreviewViewAdapter
         let rootStackMeasurement = ManualStackView.measure(config: rootStackConfig,
                                                            measurementBuilder: measurementBuilder,
                                                            measurementKey: Self.measurementKey_rootStack,
-                                                           subviewInfos: rootStackSubviewInfos)
+                                                           subviewInfos: rootStackSubviewInfos,
+                                                           maxWidth: maxWidth)
         return rootStackMeasurement.measuredSize
     }
 }
