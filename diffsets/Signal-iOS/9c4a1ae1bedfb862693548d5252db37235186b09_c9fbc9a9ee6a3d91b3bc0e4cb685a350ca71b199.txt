diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+LastVisibleSortId.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+LastVisibleSortId.swift
index ca64fe75829..2c3a50eebc7 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+LastVisibleSortId.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+LastVisibleSortId.swift
@@ -4,6 +4,7 @@
 //
 
 import Foundation
+import SignalServiceKit
 
 extension ConversationViewController {
 
@@ -85,8 +86,18 @@ extension ConversationViewController {
             return
         }
 
-        let thread = self.thread
-        let readAndUpdateBlock = { (newValue: TSThread.LastVisibleInteraction?) in
+        let newValue: TSThread.LastVisibleInteraction? = {
+            guard
+                let lastVisibleIndexPath,
+                let reference = firstRenderItemReferenceWithSortId(atOrBeforeIndexPath: lastVisibleIndexPath)
+            else {
+                return nil
+            }
+            let onScreenPercentage = percentOfIndexPathVisibleAboveBottom(reference.indexPath)
+            return TSThread.LastVisibleInteraction(sortId: reference.sortId, onScreenPercentage: onScreenPercentage)
+        }()
+
+        let updateBlock: () -> Void = { [thread] in
             let oldValue = self.databaseStorage.read { transaction in
                 thread.lastVisibleInteraction(transaction: transaction)
             }
@@ -100,26 +111,9 @@ extension ConversationViewController {
             }
         }
         if async {
-            if let lastVisibleIndexPath = lastVisibleIndexPath, let reference = firstRenderItemReferenceWithSortId(atOrBeforeIndexPath: lastVisibleIndexPath) {
-                let onScreenPercentage = percentOfIndexPathVisibleAboveBottom(reference.indexPath)
-                DispatchQueue.sharedUserInitiated.async {
-                    readAndUpdateBlock(TSThread.LastVisibleInteraction(sortId: reference.sortId,
-                                                                       onScreenPercentage: onScreenPercentage))
-                }
-            } else {
-                DispatchQueue.sharedUserInitiated.async {
-                    readAndUpdateBlock(nil)
-                }
-            }
+            DispatchQueue.sharedUserInitiated.async { updateBlock() }
         } else {
-            var newValue: TSThread.LastVisibleInteraction?
-            if let lastVisibleIndexPath = lastVisibleIndexPath,
-               let reference = firstRenderItemReferenceWithSortId(atOrBeforeIndexPath: lastVisibleIndexPath) {
-                let onScreenPercentage = percentOfIndexPathVisibleAboveBottom(reference.indexPath)
-                newValue = TSThread.LastVisibleInteraction(sortId: reference.sortId,
-                                                           onScreenPercentage: onScreenPercentage)
-            }
-            readAndUpdateBlock(newValue)
+            updateBlock()
         }
     }
 
diff --git a/Signal/src/ViewControllers/ConversationView/ConversationViewController+UIScrollView.swift b/Signal/src/ViewControllers/ConversationView/ConversationViewController+UIScrollView.swift
index d36e4560726..b4bda273bf5 100644
--- a/Signal/src/ViewControllers/ConversationView/ConversationViewController+UIScrollView.swift
+++ b/Signal/src/ViewControllers/ConversationView/ConversationViewController+UIScrollView.swift
@@ -4,6 +4,7 @@
 //
 
 import Foundation
+import SignalServiceKit
 
 extension ConversationViewController {
 
@@ -159,15 +160,16 @@ extension ConversationViewController: UIScrollViewDelegate {
         }
 
         Logger.verbose("")
-        self.scrollUpdateTimer?.invalidate()
 
         // We need to manually schedule this timer using NSRunLoopCommonModes
         // or it won't fire during scrolling.
-        let scrollUpdateTimer = Timer.weakTimer(withTimeInterval: 0.1,
-                                                target: self,
-                                                selector: #selector(scrollUpdateTimerDidFire),
-                                                userInfo: nil,
-                                                repeats: false)
+        let scrollUpdateTimer = Timer.weakTimer(
+            withTimeInterval: 0.1,
+            target: self,
+            selector: #selector(scrollUpdateTimerDidFire),
+            userInfo: nil,
+            repeats: false
+        )
         self.scrollUpdateTimer = scrollUpdateTimer
         RunLoop.main.add(scrollUpdateTimer, forMode: .common)
     }
@@ -183,7 +185,7 @@ extension ConversationViewController: UIScrollViewDelegate {
         AssertIsOnMainThread()
 
         scrollUpdateTimer?.invalidate()
-        self.scrollUpdateTimer = nil
+        scrollUpdateTimer = nil
 
         guard viewHasEverAppeared else {
             return
@@ -191,7 +193,7 @@ extension ConversationViewController: UIScrollViewDelegate {
 
         _ = autoLoadMoreIfNecessary()
 
-        if !isUserScrolling {
+        if !isUserScrolling, !isWaitingForDeceleration {
             saveLastVisibleSortIdAndOnScreenPercentage()
         }
     }
