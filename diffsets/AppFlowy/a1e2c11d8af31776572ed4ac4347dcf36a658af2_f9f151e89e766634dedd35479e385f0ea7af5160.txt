diff --git a/frontend/appflowy_flutter/lib/startup/startup.dart b/frontend/appflowy_flutter/lib/startup/startup.dart
index 7a282b3856d58..1b835130e6927 100644
--- a/frontend/appflowy_flutter/lib/startup/startup.dart
+++ b/frontend/appflowy_flutter/lib/startup/startup.dart
@@ -12,6 +12,7 @@ import 'package:flutter/foundation.dart';
 import 'package:flutter/material.dart';
 import 'package:get_it/get_it.dart';
 import 'package:package_info_plus/package_info_plus.dart';
+import 'package:synchronized/synchronized.dart';
 
 import 'deps_resolver.dart';
 import 'entry_point.dart';
@@ -210,14 +211,20 @@ enum LaunchTaskType {
 
 /// The interface of an app launch task, which will trigger
 /// some nonresident indispensable task in app launching task.
-abstract class LaunchTask {
+class LaunchTask {
   const LaunchTask();
 
   LaunchTaskType get type => LaunchTaskType.dataProcessing;
 
-  Future<void> initialize(LaunchContext context);
+  @mustCallSuper
+  Future<void> initialize(LaunchContext context) async {
+    Log.info('LaunchTask: $runtimeType initialize');
+  }
 
-  Future<void> dispose();
+  @mustCallSuper
+  Future<void> dispose() async {
+    Log.info('LaunchTask: $runtimeType dispose');
+  }
 }
 
 class AppLauncher {
@@ -227,26 +234,53 @@ class AppLauncher {
 
   final LaunchContext context;
   final List<LaunchTask> tasks = [];
+  final lock = Lock();
 
   void addTask(LaunchTask task) {
-    tasks.add(task);
+    lock.synchronized(() {
+      Log.info('AppLauncher: adding task: $task');
+      tasks.add(task);
+    });
   }
 
   void addTasks(Iterable<LaunchTask> tasks) {
-    this.tasks.addAll(tasks);
+    lock.synchronized(() {
+      Log.info('AppLauncher: adding tasks: ${tasks.map((e) => e.runtimeType)}');
+      this.tasks.addAll(tasks);
+    });
   }
 
   Future<void> launch() async {
-    for (final task in tasks) {
-      await task.initialize(context);
-    }
+    await lock.synchronized(() async {
+      final startTime = Stopwatch()..start();
+      Log.info('AppLauncher: start initializing tasks');
+
+      for (final task in tasks) {
+        final startTaskTime = Stopwatch()..start();
+        await task.initialize(context);
+        final endTaskTime = startTaskTime.elapsed.inMilliseconds;
+        Log.info(
+          'AppLauncher: task ${task.runtimeType} initialized in $endTaskTime ms',
+        );
+      }
+
+      final endTime = startTime.elapsed.inMilliseconds;
+      Log.info('AppLauncher: tasks initialized in $endTime ms');
+    });
   }
 
   Future<void> dispose() async {
-    for (final task in tasks) {
-      await task.dispose();
-    }
-    tasks.clear();
+    await lock.synchronized(() async {
+      Log.info('AppLauncher: start clearing tasks');
+
+      for (final task in tasks) {
+        await task.dispose();
+      }
+
+      tasks.clear();
+
+      Log.info('AppLauncher: tasks cleared');
+    });
   }
 }
 
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/app_widget.dart b/frontend/appflowy_flutter/lib/startup/tasks/app_widget.dart
index 48e76cecbc9cd..1db404e90bd47 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/app_widget.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/app_widget.dart
@@ -44,6 +44,8 @@ class InitAppWidgetTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     WidgetsFlutterBinding.ensureInitialized();
 
     await NotificationService.initialize();
@@ -112,9 +114,6 @@ class InitAppWidgetTask extends LaunchTask {
 
     return;
   }
-
-  @override
-  Future<void> dispose() async {}
 }
 
 class ApplicationWidget extends StatefulWidget {
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/appflowy_cloud_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/appflowy_cloud_task.dart
index 362b27a85a913..144c058ccc656 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/appflowy_cloud_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/appflowy_cloud_task.dart
@@ -10,7 +10,6 @@ import 'package:appflowy/user/application/auth/auth_service.dart';
 import 'package:appflowy/user/application/auth/device_id.dart';
 import 'package:appflowy/user/application/user_auth_listener.dart';
 import 'package:appflowy/workspace/application/subscription_success_listenable/subscription_success_listenable.dart';
-import 'package:appflowy/workspace/presentation/home/toast.dart';
 import 'package:appflowy/workspace/presentation/widgets/dialogs.dart';
 import 'package:appflowy_backend/dispatch/dispatch.dart';
 import 'package:appflowy_backend/log.dart';
@@ -151,9 +150,9 @@ class AppFlowyCloudDeepLink {
         if (_completer == null) {
           final context = AppGlobals.rootNavKey.currentState?.context;
           if (context != null) {
-            showSnackBarMessage(
-              context,
-              err.msg,
+            showToastNotification(
+              message: err.msg,
+              type: ToastificationType.error,
             );
           }
         } else {
@@ -238,6 +237,8 @@ class InitAppFlowyCloudTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     if (!isAppFlowyCloudEnabled) {
       return;
     }
@@ -258,6 +259,8 @@ class InitAppFlowyCloudTask extends LaunchTask {
 
   @override
   Future<void> dispose() async {
+    await super.dispose();
+
     await _authStateListener?.stop();
     _authStateListener = null;
   }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/auto_update_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/auto_update_task.dart
index b666392544198..887cb56267498 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/auto_update_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/auto_update_task.dart
@@ -23,6 +23,8 @@ class AutoUpdateTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // the auto updater is not supported on mobile
     if (UniversalPlatform.isMobile) {
       return;
@@ -38,6 +40,8 @@ class AutoUpdateTask extends LaunchTask {
 
   @override
   Future<void> dispose() async {
+    await super.dispose();
+
     autoUpdater.removeListener(_listener);
 
     ApplicationInfo.isCriticalUpdateNotifier.removeListener(
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/debug_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/debug_task.dart
index 9a34e84f70a03..143955f8fdbc6 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/debug_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/debug_task.dart
@@ -13,6 +13,8 @@ class DebugTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // hide the keyboard on mobile
     if (UniversalPlatform.isMobile && kDebugMode) {
       await SystemChannels.textInput.invokeMethod('TextInput.hide');
@@ -41,7 +43,4 @@ class DebugTask extends LaunchTask {
       );
     }
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/device_info_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/device_info_task.dart
index 2c90afbdda5b5..0b3f9e5510028 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/device_info_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/device_info_task.dart
@@ -57,6 +57,7 @@ class ApplicationInfoTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
     final DeviceInfoPlugin deviceInfoPlugin = DeviceInfoPlugin();
     final PackageInfo packageInfo = await PackageInfo.fromPlatform();
 
@@ -120,7 +121,4 @@ class ApplicationInfoTask extends LaunchTask {
     ApplicationInfo.architecture = architecture ?? '';
     ApplicationInfo.os = os ?? '';
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/feature_flag_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/feature_flag_task.dart
index fd2439c89224e..9e2babb073682 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/feature_flag_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/feature_flag_task.dart
@@ -8,6 +8,8 @@ class FeatureFlagTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // the hotkey manager is not supported on mobile
     if (!kDebugMode) {
       return;
@@ -15,7 +17,4 @@ class FeatureFlagTask extends LaunchTask {
 
     await FeatureFlag.initialize();
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/file_storage_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/file_storage_task.dart
index 0695ceeab5bf5..6afc3d23913d3 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/file_storage_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/file_storage_task.dart
@@ -19,14 +19,13 @@ class FileStorageTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     context.getIt.registerSingleton(
       FileStorageService(),
       dispose: (service) async => service.dispose(),
     );
   }
-
-  @override
-  Future<void> dispose() async {}
 }
 
 class FileStorageService {
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/hot_key.dart b/frontend/appflowy_flutter/lib/startup/tasks/hot_key.dart
index 9e23a0017c9ef..0ae33feccf90b 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/hot_key.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/hot_key.dart
@@ -8,13 +8,12 @@ class HotKeyTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // the hotkey manager is not supported on mobile
     if (UniversalPlatform.isMobile) {
       return;
     }
     await hotKeyManager.unregisterAll();
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/load_plugin.dart b/frontend/appflowy_flutter/lib/startup/tasks/load_plugin.dart
index 9a75607d74270..a2a2bbf890b0c 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/load_plugin.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/load_plugin.dart
@@ -17,6 +17,8 @@ class PluginLoadTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     registerPlugin(builder: BlankPluginBuilder(), config: BlankPluginConfig());
     registerPlugin(builder: TrashPluginBuilder(), config: TrashPluginConfig());
     registerPlugin(builder: DocumentPluginBuilder());
@@ -39,7 +41,4 @@ class PluginLoadTask extends LaunchTask {
       config: AIChatPluginConfig(),
     );
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/localization.dart b/frontend/appflowy_flutter/lib/startup/tasks/localization.dart
index 83950ffc1b93a..b6630f800552c 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/localization.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/localization.dart
@@ -7,10 +7,9 @@ class InitLocalizationTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     await EasyLocalization.ensureInitialized();
     EasyLocalization.logger.enableBuildModes = [];
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/memory_leak_detector.dart b/frontend/appflowy_flutter/lib/startup/tasks/memory_leak_detector.dart
index f35c955b3da1c..aad5097a732ec 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/memory_leak_detector.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/memory_leak_detector.dart
@@ -22,6 +22,8 @@ class MemoryLeakDetectorTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     if (!kDebugMode || !enableMemoryLeakDetect) {
       return;
     }
@@ -53,6 +55,8 @@ class MemoryLeakDetectorTask extends LaunchTask {
 
   @override
   Future<void> dispose() async {
+    await super.dispose();
+
     if (!kDebugMode || !enableMemoryLeakDetect) {
       return;
     }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/platform_error_catcher.dart b/frontend/appflowy_flutter/lib/startup/tasks/platform_error_catcher.dart
index c2c64536b2dc4..91927bf5dd20e 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/platform_error_catcher.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/platform_error_catcher.dart
@@ -10,6 +10,8 @@ class PlatformErrorCatcherTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // Handle platform errors not caught by Flutter.
     // Reduces the likelihood of the app crashing, and logs the error.
     // only active in non debug mode.
@@ -37,7 +39,4 @@ class PlatformErrorCatcherTask extends LaunchTask {
       return const SizedBox.shrink();
     };
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/platform_service.dart b/frontend/appflowy_flutter/lib/startup/tasks/platform_service.dart
index 4206d447dbfe3..04aae7d705719 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/platform_service.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/platform_service.dart
@@ -9,11 +9,15 @@ class InitPlatformServiceTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     return getIt<NetworkListener>().start();
   }
 
   @override
   Future<void> dispose() async {
+    await super.dispose();
+
     await getIt<NetworkListener>().stop();
   }
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/recent_service_task.dart b/frontend/appflowy_flutter/lib/startup/tasks/recent_service_task.dart
index 5d632903cc0c7..3fa4cda91ad2e 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/recent_service_task.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/recent_service_task.dart
@@ -1,14 +1,13 @@
 import 'package:appflowy/startup/startup.dart';
-import 'package:appflowy/workspace/application/recent/prelude.dart';
 import 'package:appflowy_backend/log.dart';
 
 class RecentServiceTask extends LaunchTask {
   const RecentServiceTask();
 
   @override
-  Future<void> initialize(LaunchContext context) async =>
-      Log.info('[CachedRecentService] Initialized');
+  Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
 
-  @override
-  Future<void> dispose() async => getIt<CachedRecentService>().dispose();
+    Log.info('[CachedRecentService] Initialized');
+  }
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/rust_sdk.dart b/frontend/appflowy_flutter/lib/startup/tasks/rust_sdk.dart
index c406dd161aa92..efea055443c0e 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/rust_sdk.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/rust_sdk.dart
@@ -23,6 +23,8 @@ class InitRustSDKTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     final root = await getApplicationSupportDirectory();
     final applicationPath = await appFlowyApplicationDataDirectory();
     final dir = customApplicationPath ?? applicationPath;
@@ -39,9 +41,6 @@ class InitRustSDKTask extends LaunchTask {
     );
     await context.getIt<FlowySDK>().init(jsonEncode(env.toJson()));
   }
-
-  @override
-  Future<void> dispose() async {}
 }
 
 AppFlowyConfiguration _makeAppFlowyConfiguration(
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/sentry.dart b/frontend/appflowy_flutter/lib/startup/tasks/sentry.dart
index 9076569a9c172..d65e25fec620e 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/sentry.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/sentry.dart
@@ -9,6 +9,8 @@ class InitSentryTask extends LaunchTask {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     const dsn = Env.sentryDsn;
     if (dsn.isEmpty) {
       Log.info('Sentry DSN is not set, skipping initialization');
@@ -25,7 +27,4 @@ class InitSentryTask extends LaunchTask {
       },
     );
   }
-
-  @override
-  Future<void> dispose() async {}
 }
diff --git a/frontend/appflowy_flutter/lib/startup/tasks/windows.dart b/frontend/appflowy_flutter/lib/startup/tasks/windows.dart
index 20b8b0b56e1df..094d361bbbb97 100644
--- a/frontend/appflowy_flutter/lib/startup/tasks/windows.dart
+++ b/frontend/appflowy_flutter/lib/startup/tasks/windows.dart
@@ -19,6 +19,8 @@ class InitAppWindowTask extends LaunchTask with WindowListener {
 
   @override
   Future<void> initialize(LaunchContext context) async {
+    await super.initialize(context);
+
     // Don't initialize on mobile or web.
     if (!defaultTargetPlatform.isDesktop || context.env.isIntegrationTest) {
       return;
@@ -130,6 +132,8 @@ class InitAppWindowTask extends LaunchTask with WindowListener {
 
   @override
   Future<void> dispose() async {
+    await super.dispose();
+
     windowManager.removeListener(this);
   }
 }
diff --git a/frontend/appflowy_flutter/lib/user/presentation/screens/sign_in_screen/desktop_sign_in_screen.dart b/frontend/appflowy_flutter/lib/user/presentation/screens/sign_in_screen/desktop_sign_in_screen.dart
index 40901e92e1de1..b1df74ec60de3 100644
--- a/frontend/appflowy_flutter/lib/user/presentation/screens/sign_in_screen/desktop_sign_in_screen.dart
+++ b/frontend/appflowy_flutter/lib/user/presentation/screens/sign_in_screen/desktop_sign_in_screen.dart
@@ -14,12 +14,19 @@ import 'package:flowy_infra_ui/flowy_infra_ui.dart';
 import 'package:flutter/material.dart';
 import 'package:flutter_bloc/flutter_bloc.dart';
 import 'package:universal_platform/universal_platform.dart';
+import 'package:window_manager/window_manager.dart';
 
-class DesktopSignInScreen extends StatelessWidget {
+class DesktopSignInScreen extends StatefulWidget {
   const DesktopSignInScreen({
     super.key,
   });
 
+  @override
+  State<DesktopSignInScreen> createState() => _DesktopSignInScreenState();
+}
+
+class _DesktopSignInScreenState extends State<DesktopSignInScreen>
+    with WindowListener {
   @override
   Widget build(BuildContext context) {
     final theme = AppFlowyTheme.of(context);
@@ -87,6 +94,13 @@ class DesktopSignInScreen extends StatelessWidget {
           : const MoveWindowDetector(),
     );
   }
+
+  @override
+  void onWindowFocus() {
+    // https://pub.dev/packages/window_manager#windows
+    // must call setState once when the window is focused
+    setState(() {});
+  }
 }
 
 class DesktopSignInSettingsButton extends StatelessWidget {
diff --git a/frontend/appflowy_flutter/lib/workspace/application/command_palette/command_palette_bloc.dart b/frontend/appflowy_flutter/lib/workspace/application/command_palette/command_palette_bloc.dart
index 01f638fe7ac57..27b5db89a2dc9 100644
--- a/frontend/appflowy_flutter/lib/workspace/application/command_palette/command_palette_bloc.dart
+++ b/frontend/appflowy_flutter/lib/workspace/application/command_palette/command_palette_bloc.dart
@@ -68,7 +68,11 @@ class CommandPaletteBloc
 
     final trashOrFailure = await _trashService.readTrash();
     trashOrFailure.fold(
-      (trash) => add(CommandPaletteEvent.trashChanged(trash: trash.items)),
+      (trash) {
+        if (!isClosed) {
+          add(CommandPaletteEvent.trashChanged(trash: trash.items));
+        }
+      },
       (error) => debugPrint('Failed to load trash: $error'),
     );
   }
diff --git a/frontend/appflowy_flutter/lib/workspace/application/recent/cached_recent_service.dart b/frontend/appflowy_flutter/lib/workspace/application/recent/cached_recent_service.dart
index a5381ce17fe52..51b7df2a78795 100644
--- a/frontend/appflowy_flutter/lib/workspace/application/recent/cached_recent_service.dart
+++ b/frontend/appflowy_flutter/lib/workspace/application/recent/cached_recent_service.dart
@@ -32,6 +32,8 @@ class CachedRecentService {
 
   final _listener = RecentViewsListener();
 
+  bool isDisposed = false;
+
   Future<List<SectionViewPB>> recentViews() async {
     if (_isInitialized || _completer.isCompleted) return _recentViews;
 
@@ -97,6 +99,9 @@ class CachedRecentService {
   }
 
   Future<void> dispose() async {
+    if (isDisposed) return;
+
+    isDisposed = true;
     notifier.dispose();
     await _listener.stop();
   }
diff --git a/frontend/appflowy_flutter/lib/workspace/presentation/home/home_stack.dart b/frontend/appflowy_flutter/lib/workspace/presentation/home/home_stack.dart
index 464394cd39030..ac2b71068999f 100644
--- a/frontend/appflowy_flutter/lib/workspace/presentation/home/home_stack.dart
+++ b/frontend/appflowy_flutter/lib/workspace/presentation/home/home_stack.dart
@@ -28,6 +28,7 @@ import 'package:flutter_bloc/flutter_bloc.dart';
 import 'package:provider/provider.dart';
 import 'package:time/time.dart';
 import 'package:universal_platform/universal_platform.dart';
+import 'package:window_manager/window_manager.dart';
 
 import 'home_layout.dart';
 
@@ -53,7 +54,7 @@ class HomeStack extends StatefulWidget {
   State<HomeStack> createState() => _HomeStackState();
 }
 
-class _HomeStackState extends State<HomeStack> {
+class _HomeStackState extends State<HomeStack> with WindowListener {
   int selectedIndex = 0;
 
   @override
@@ -168,6 +169,13 @@ class _HomeStackState extends State<HomeStack> {
       ),
     );
   }
+
+  @override
+  void onWindowFocus() {
+    // https://pub.dev/packages/window_manager#windows
+    // must call setState once when the window is focused
+    setState(() {});
+  }
 }
 
 class PageStack extends StatefulWidget {
diff --git a/frontend/appflowy_flutter/packages/appflowy_backend/lib/dispatch/dispatch.dart b/frontend/appflowy_flutter/packages/appflowy_backend/lib/dispatch/dispatch.dart
index 12fdd60ccf12e..432b3836620e2 100644
--- a/frontend/appflowy_flutter/packages/appflowy_backend/lib/dispatch/dispatch.dart
+++ b/frontend/appflowy_flutter/packages/appflowy_backend/lib/dispatch/dispatch.dart
@@ -49,61 +49,74 @@ class DispatchException implements Exception {
 
 class Dispatch {
   static Future<FlowyResult<Uint8List, Uint8List>> asyncRequest(
-      FFIRequest request) {
+    FFIRequest request,
+  ) async {
+    final event = request.event;
+
     // FFIRequest => Rust SDK
     final bytesFuture = _sendToRust(request);
 
+    _infoLog(event, 'sent request');
+
     // Rust SDK => FFIResponse
-    final responseFuture = _extractResponse(bytesFuture);
+    final response = await _extractResponse(bytesFuture);
+
+    _infoLog(event, 'received response');
 
     // FFIResponse's payload is the bytes of the Response object
-    final payloadFuture = _extractPayload(responseFuture);
+    final payload = _extractPayload(response);
+
+    _infoLog(event, 'parsed payload');
+
+    return payload;
+  }
 
-    return payloadFuture;
+  // only enable it when you need to debug the dispatch
+  static void _infoLog(String event, String message) {
+    // Log.info('[dispatch] [$event] $message');
   }
 }
 
-Future<FlowyResult<Uint8List, Uint8List>> _extractPayload(
-    Future<FlowyResult<FFIResponse, FlowyInternalError>> responseFuture) {
-  return responseFuture.then((result) {
-    return result.fold(
-      (response) {
-        switch (response.code) {
-          case FFIStatusCode.Ok:
-            return FlowySuccess(Uint8List.fromList(response.payload));
-          case FFIStatusCode.Err:
-            final errorBytes = Uint8List.fromList(response.payload);
-            GlobalErrorCodeNotifier.receiveErrorBytes(errorBytes);
-            return FlowyFailure(errorBytes);
-          case FFIStatusCode.Internal:
-            final error = utf8.decode(response.payload);
-            Log.error("Dispatch internal error: $error");
-            return FlowyFailure(emptyBytes());
-          default:
-            Log.error("Impossible to here");
-            return FlowyFailure(emptyBytes());
-        }
-      },
-      (error) {
-        Log.error("Response should not be empty $error");
-        return FlowyFailure(emptyBytes());
-      },
-    );
-  });
+FlowyResult<Uint8List, Uint8List> _extractPayload(
+  FlowyResult<FFIResponse, FlowyInternalError> response,
+) {
+  return response.fold(
+    (response) {
+      switch (response.code) {
+        case FFIStatusCode.Ok:
+          return FlowySuccess(Uint8List.fromList(response.payload));
+        case FFIStatusCode.Err:
+          final errorBytes = Uint8List.fromList(response.payload);
+          GlobalErrorCodeNotifier.receiveErrorBytes(errorBytes);
+          return FlowyFailure(errorBytes);
+        case FFIStatusCode.Internal:
+          final error = utf8.decode(response.payload);
+          Log.error("Dispatch internal error: $error");
+          return FlowyFailure(emptyBytes());
+        default:
+          Log.error("Impossible to here");
+          return FlowyFailure(emptyBytes());
+      }
+    },
+    (error) {
+      Log.error("Response should not be empty $error");
+      return FlowyFailure(emptyBytes());
+    },
+  );
 }
 
 Future<FlowyResult<FFIResponse, FlowyInternalError>> _extractResponse(
-    Completer<Uint8List> bytesFuture) {
-  return bytesFuture.future.then((bytes) {
-    try {
-      final response = FFIResponse.fromBuffer(bytes);
-      return FlowySuccess(response);
-    } catch (e, s) {
-      final error = StackTraceError(e, s);
-      Log.error('Deserialize response failed. ${error.toString()}');
-      return FlowyFailure(error.asFlowyError());
-    }
-  });
+  Completer<Uint8List> bytesFuture,
+) async {
+  final bytes = await bytesFuture.future;
+  try {
+    final response = FFIResponse.fromBuffer(bytes);
+    return FlowySuccess(response);
+  } catch (e, s) {
+    final error = StackTraceError(e, s);
+    Log.error('Deserialize response failed. ${error.toString()}');
+    return FlowyFailure(error.asFlowyError());
+  }
 }
 
 Completer<Uint8List> _sendToRust(FFIRequest request) {
diff --git a/frontend/appflowy_flutter/pubspec.lock b/frontend/appflowy_flutter/pubspec.lock
index 1a393e1180544..4837bf0e6970f 100644
--- a/frontend/appflowy_flutter/pubspec.lock
+++ b/frontend/appflowy_flutter/pubspec.lock
@@ -220,10 +220,10 @@ packages:
     dependency: transitive
     description:
       name: bidi
-      sha256: "9a712c7ddf708f7c41b1923aa83648a3ed44cfd75b04f72d598c45e5be287f9d"
+      sha256: "77f475165e94b261745cf1032c751e2032b8ed92ccb2bf5716036db79320637d"
       url: "https://pub.dev"
     source: hosted
-    version: "2.0.12"
+    version: "2.0.13"
   bitsdojo_window:
     dependency: "direct main"
     description:
@@ -2574,10 +2574,11 @@ packages:
   window_manager:
     dependency: "direct main"
     description:
-      name: window_manager
-      sha256: "732896e1416297c63c9e3fb95aea72d0355f61390263982a47fd519169dc5059"
-      url: "https://pub.dev"
-    source: hosted
+      path: "packages/window_manager"
+      ref: "5a43aed"
+      resolved-ref: "5a43aed33ffd9f86e1bac2fc9f4931383cc2ee2b"
+      url: "https://github.com/leanflutter/window_manager.git"
+    source: git
     version: "0.4.3"
   xdg_directories:
     dependency: transitive
diff --git a/frontend/appflowy_flutter/pubspec.yaml b/frontend/appflowy_flutter/pubspec.yaml
index 1e92765ff61eb..961115f5d4893 100644
--- a/frontend/appflowy_flutter/pubspec.yaml
+++ b/frontend/appflowy_flutter/pubspec.yaml
@@ -201,6 +201,12 @@ dependency_overrides:
       ref: e44458d
       path: sheet
 
+  window_manager:
+    git:
+      url: https://github.com/leanflutter/window_manager.git
+      ref: "5a43aed"
+      path: packages/window_manager
+
   uuid: ^4.4.0
 
   flutter_cache_manager:
diff --git a/frontend/appflowy_flutter/windows/runner/flutter_window.cpp b/frontend/appflowy_flutter/windows/runner/flutter_window.cpp
index 955ee3038f988..5da85a97d4b0a 100644
--- a/frontend/appflowy_flutter/windows/runner/flutter_window.cpp
+++ b/frontend/appflowy_flutter/windows/runner/flutter_window.cpp
@@ -28,7 +28,8 @@ bool FlutterWindow::OnCreate() {
   SetChildContent(flutter_controller_->view()->GetNativeWindow());
 
   flutter_controller_->engine()->SetNextFrameCallback([&]() {
-    this->Show();
+    // https://pub.dev/packages/window_manager#windows
+    // this->Show();
   });
 
   // Flutter can complete the first frame before the "show window" callback is
