diff --git a/.github/labeler.yml b/.github/labeler.yml
index 16ba25cb672a..a6b897e76bff 100644
--- a/.github/labeler.yml
+++ b/.github/labeler.yml
@@ -84,11 +84,7 @@ scan:
 - packages/smooth_app/lib/pages/scan/**/*
 - packages/smooth_app/lib/pages/scan/continuous_scan_page.dart
 - packages/smooth_app/lib/pages/scan/scan_page.dart
-- packages/smooth_app/lib/pages/scan/scanner_overlay.dart
-- packages/smooth_app/lib/pages/scan/lifecycle_manager.dart
 - packages/smooth_app/lib/pages/scan/abstract_camera_image_getter.dart
-- packages/smooth_app/lib/pages/scan/camera_image_cropper.dart
-- packages/smooth_app/lib/pages/scan/camera_image_full_getter.dart
 - packages/smooth_app/lib/pages/scan/ml_kit_scan_page.dart
 
 mlkit:
diff --git a/.github/workflows/android-release-to-org-openfoodfacts-scanner.yml b/.github/workflows/android-release-to-org-openfoodfacts-scanner.yml
index 9af5da8fdd81..81d5cef53143 100644
--- a/.github/workflows/android-release-to-org-openfoodfacts-scanner.yml
+++ b/.github/workflows/android-release-to-org-openfoodfacts-scanner.yml
@@ -93,8 +93,8 @@ jobs:
         with:
           channel: stable
           cache: true
-          flutter-version: '3.0.5'
-          cache-key: revert-3.0.5
+          #flutter-version: '3.0.5'
+          cache-key: current-stable
 
       - name: Flutter version    
         run: flutter --version
diff --git a/.github/workflows/ios-release-to-org-openfoodfacts-scanner.yml b/.github/workflows/ios-release-to-org-openfoodfacts-scanner.yml
index 5d5102819dfe..cdc4a849ad73 100644
--- a/.github/workflows/ios-release-to-org-openfoodfacts-scanner.yml
+++ b/.github/workflows/ios-release-to-org-openfoodfacts-scanner.yml
@@ -70,8 +70,8 @@ jobs:
         with:
           channel: stable
           cache: true
-          flutter-version: '3.0.5'
-          cache-key: revert-3.0.5
+          #flutter-version: '3.0.5'
+          cache-key: current-stable
 
       - name: Flutter version    
         run: flutter --version
diff --git a/.github/workflows/postsubmit.yml b/.github/workflows/postsubmit.yml
index d1a375103454..1eeddbb2937f 100644
--- a/.github/workflows/postsubmit.yml
+++ b/.github/workflows/postsubmit.yml
@@ -29,8 +29,8 @@ jobs:
         with:
           channel: stable
           cache: true
-          flutter-version: '3.0.5'
-          cache-key: revert-3.0.5
+          #flutter-version: '3.0.5'
+          cache-key: current-stable
         
       - run: flutter --version
       
diff --git a/.github/workflows/presubmit.yml b/.github/workflows/presubmit.yml
index 0e9a817fed6b..21f0cca899d9 100644
--- a/.github/workflows/presubmit.yml
+++ b/.github/workflows/presubmit.yml
@@ -24,8 +24,8 @@ jobs:
         with:
           channel: stable
           cache: true
-          flutter-version: '3.0.5'
-          cache-key: revert-3.0.5-debug
+          #flutter-version: '3.0.5'
+          cache-key: current-stable
 
       - run: flutter --version
 
diff --git a/packages/app_store/apple_app_store/pubspec.yaml b/packages/app_store/apple_app_store/pubspec.yaml
index 796030a3b978..5acd2e9814f9 100644
--- a/packages/app_store/apple_app_store/pubspec.yaml
+++ b/packages/app_store/apple_app_store/pubspec.yaml
@@ -4,8 +4,7 @@ version: 0.0.1
 publish_to: "none"
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
diff --git a/packages/app_store/google_play/pubspec.yaml b/packages/app_store/google_play/pubspec.yaml
index cc0c6067d7b9..4e95ac06dac8 100644
--- a/packages/app_store/google_play/pubspec.yaml
+++ b/packages/app_store/google_play/pubspec.yaml
@@ -4,8 +4,7 @@ version: 0.0.1
 publish_to: "none"
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
diff --git a/packages/app_store/shared/pubspec.yaml b/packages/app_store/shared/pubspec.yaml
index 3e2418852593..a62667308d0a 100644
--- a/packages/app_store/shared/pubspec.yaml
+++ b/packages/app_store/shared/pubspec.yaml
@@ -4,8 +4,7 @@ version: 1.0.0
 publish_to: "none"
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
diff --git a/packages/app_store/uri_store/pubspec.yaml b/packages/app_store/uri_store/pubspec.yaml
index aaab3615135d..15288c9dd8ba 100644
--- a/packages/app_store/uri_store/pubspec.yaml
+++ b/packages/app_store/uri_store/pubspec.yaml
@@ -4,8 +4,7 @@ version: 0.0.1
 publish_to: "none"
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
diff --git a/packages/data_importer/pubspec.yaml b/packages/data_importer/pubspec.yaml
index aa59d30a8ab9..de44beae2f4d 100644
--- a/packages/data_importer/pubspec.yaml
+++ b/packages/data_importer/pubspec.yaml
@@ -4,8 +4,7 @@ version: 1.0.0
 publish_to: none
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
diff --git a/packages/data_importer_shared/pubspec.yaml b/packages/data_importer_shared/pubspec.yaml
index ec5df3593b07..3a9ec131a632 100644
--- a/packages/data_importer_shared/pubspec.yaml
+++ b/packages/data_importer_shared/pubspec.yaml
@@ -3,8 +3,7 @@ description: A starting point for Dart libraries or applications.
 publish_to: none
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dev_dependencies:
   flutter_driver:
diff --git a/packages/scanner/mlkit/.gitignore b/packages/scanner/mlkit/.gitignore
deleted file mode 100644
index 96486fd93024..000000000000
--- a/packages/scanner/mlkit/.gitignore
+++ /dev/null
@@ -1,30 +0,0 @@
-# Miscellaneous
-*.class
-*.log
-*.pyc
-*.swp
-.DS_Store
-.atom/
-.buildlog/
-.history
-.svn/
-migrate_working_dir/
-
-# IntelliJ related
-*.iml
-*.ipr
-*.iws
-.idea/
-
-# The .vscode folder contains launch configuration and tasks you configure in
-# VS Code which you may wish to be included in version control, so this line
-# is commented out by default.
-#.vscode/
-
-# Flutter/Dart/Pub related
-# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
-/pubspec.lock
-**/doc/api/
-.dart_tool/
-.packages
-build/
diff --git a/packages/scanner/mlkit/.metadata b/packages/scanner/mlkit/.metadata
deleted file mode 100644
index e7011f64f39d..000000000000
--- a/packages/scanner/mlkit/.metadata
+++ /dev/null
@@ -1,10 +0,0 @@
-# This file tracks properties of this Flutter project.
-# Used by Flutter tool to assess capabilities and perform upgrades etc.
-#
-# This file should be version controlled and should not be manually edited.
-
-version:
-  revision: f1875d570e39de09040c8f79aa13cc56baab8db1
-  channel: stable
-
-project_type: package
diff --git a/packages/scanner/mlkit/analysis_options.yaml b/packages/scanner/mlkit/analysis_options.yaml
deleted file mode 100644
index b1e818e22eaf..000000000000
--- a/packages/scanner/mlkit/analysis_options.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
-# Shared rules
-include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/mlkit/coverage/lcov.info b/packages/scanner/mlkit/coverage/lcov.info
deleted file mode 100644
index e69de29bb2d1..000000000000
diff --git a/packages/scanner/mlkit/lib/scanner_mlkit.dart b/packages/scanner/mlkit/lib/scanner_mlkit.dart
deleted file mode 100644
index 0fe341a1b95b..000000000000
--- a/packages/scanner/mlkit/lib/scanner_mlkit.dart
+++ /dev/null
@@ -1,3 +0,0 @@
-library scanner_mlkit;
-
-export 'src/mlkit_camera_scanner.dart';
diff --git a/packages/scanner/mlkit/lib/src/mlkit_camera_scanner.dart b/packages/scanner/mlkit/lib/src/mlkit_camera_scanner.dart
deleted file mode 100644
index b94d23af81b3..000000000000
--- a/packages/scanner/mlkit/lib/src/mlkit_camera_scanner.dart
+++ /dev/null
@@ -1,420 +0,0 @@
-import 'dart:async';
-import 'dart:io';
-import 'dart:isolate';
-
-import 'package:flutter_isolate/flutter_isolate.dart';
-import 'package:google_mlkit_barcode_scanning/google_mlkit_barcode_scanning.dart';
-import 'package:scanner_mlkit/src/utils/abstract_camera_image_getter.dart';
-import 'package:scanner_mlkit/src/utils/camera_image_cropper.dart';
-import 'package:scanner_mlkit/src/utils/camera_image_full_getter.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-
-class MLKitCameraScanner extends CameraScanner {
-  bool _initialized = false;
-  late DevModeScanMode _scanMode;
-  late _MLKitScanDecoderMainIsolate _mainIsolate;
-
-  /// Ensures the dispose() method is called if this class is GC'ed.
-  static final Finalizer<_MLKitScanDecoderMainIsolate> _finalizer =
-      Finalizer<_MLKitScanDecoderMainIsolate>(
-    (_MLKitScanDecoderMainIsolate isolate) => isolate.dispose(),
-  );
-
-  @override
-  Future<void> onInit({
-    required CameraDescription camera,
-    required DevModeScanMode mode,
-  }) async {
-    _scanMode = mode;
-    _mainIsolate = _MLKitScanDecoderMainIsolate(
-      camera: camera,
-      scanMode: mode,
-    );
-
-    _initialized = true;
-  }
-
-  @override
-  Future<List<String?>?> onNewCameraImage(CameraImage image) async =>
-      _onNewImage(image);
-
-  @override
-  Future<List<String?>?> onNewCameraFile(String path) async =>
-      _onNewImage(path);
-
-  Future<List<String?>?> _onNewImage(dynamic image) async {
-    // TODO(g123k): Not implemented
-    switch (_scanMode) {
-      case DevModeScanMode.CAMERA_ONLY:
-      case DevModeScanMode.PREPROCESS_FULL_IMAGE:
-      case DevModeScanMode.PREPROCESS_HALF_IMAGE:
-        return null;
-      case DevModeScanMode.SCAN_FULL_IMAGE:
-      case DevModeScanMode.SCAN_HALF_IMAGE:
-      // OK -> continue
-    }
-
-    /// The next call with recreate the isolate if necessary.
-    /// Re-attaching it to the finalizer is mandatory.
-    if (_mainIsolate.isDisposed) {
-      _finalizer.attach(this, _mainIsolate, detach: this);
-    }
-
-    return _mainIsolate.decode(image);
-  }
-
-  @override
-  bool get supportCameraFile => !Platform.isIOS;
-
-  @override
-  bool get supportCameraImage => true;
-
-  @override
-  bool get isInitialized => _initialized;
-
-  @override
-  Future<void> onDispose() async {
-    _initialized = false;
-    _mainIsolate.dispose();
-    _finalizer.detach(this);
-    addLog(message: 'Disposed');
-
-    return super.onDispose();
-  }
-}
-
-/// Main class allowing to communicate with [_MLKitScanDecoderIsolate]
-/// The communication is bi-directional:
-/// -> From the main Isolate to the "decoder" Isolate
-///   -> Send the configuration (camera description + scan mode)
-///   -> Send a camera image to decode
-/// <- From the "decoder" Isolate
-///   -> When the Isolate is started (a [SendPort] is provided to communicate)
-///   -> When the Isolate is ready (camera description & scan mode are provided)
-///   -> When an image is decoded
-class _MLKitScanDecoderMainIsolate {
-  _MLKitScanDecoderMainIsolate({
-    required this.camera,
-    required this.scanMode,
-  }) : _port = ReceivePort() {
-    _port.listen((dynamic message) {
-      if (message is SendPort) {
-        _sendPort = message;
-
-        _sendPort!.send(
-          _MLKitScanDecoderIsolate._createConfig(
-            camera,
-            scanMode,
-          ),
-        );
-      } else if (message is bool) {
-        _isIsolateInitialized = true;
-
-        if (_queuedImage != null && _completer != null) {
-          if (_queuedImage is CameraImage) {
-            _sendPort!.send((_queuedImage as CameraImage).export());
-          } else if (_queuedImage is String) {
-            _sendPort!.send(_CameraFileUtils.export(_queuedImage as String));
-          }
-
-          _queuedImage = null;
-        }
-      } else if (message is List) {
-        _completer?.complete(message as List<String>);
-        _completer = null;
-      }
-    });
-  }
-
-  final CameraDescription camera;
-  final DevModeScanMode scanMode;
-
-  /// Port used by the Isolate to send us events:
-  /// - when a [SendPort] is available
-  /// - when the Isolate is ready to receive images
-  /// - when the Isolate has finished a detection
-  final ReceivePort _port;
-
-  /// Port provided by the Isolate to send instructions
-  /// - send the configuration (camera & scan mode)
-  /// - send a camera image
-  SendPort? _sendPort;
-
-  FlutterIsolate? _isolate;
-
-  /// Flag used when the Isolate is both started and ready to receive images
-  bool _isIsolateInitialized = false;
-
-  /// When an image is provided, this [Completer] allows to notify the response
-  Completer<List<String>?>? _completer;
-
-  /// When the Isolate is started, we have to wait until [_isIsolateInitialized]
-  /// is [true]. This variable temporary contains the image waiting to be
-  /// decoded.
-  dynamic _queuedImage;
-
-  /// Decodes barcodes from an image
-  /// A null result will be sent until the Isolate isn't ready
-  Future<List<String>?> decode(dynamic image) async {
-    // If a decoding process is running -> ignore new requests
-    if (_completer != null) {
-      return null;
-    }
-
-    _completer = Completer<List<String>?>();
-
-    if (_isolate == null) {
-      _isolate = await FlutterIsolate.spawn(
-        _MLKitScanDecoderIsolate.startIsolate,
-        _port.sendPort,
-      );
-      _queuedImage = image;
-      return _completer!.future;
-    } else if (_isIsolateInitialized) {
-      if (image is CameraImage) {
-        _sendPort?.send(image.export());
-      } else if (image is String) {
-        _sendPort?.send(_CameraFileUtils.export(image));
-      }
-
-      return _completer!.future;
-    }
-
-    return null;
-  }
-
-  void dispose() {
-    _isIsolateInitialized = false;
-
-    _completer?.completeError(Exception('Isolate stopped'));
-    _completer = null;
-
-    _sendPort = null;
-
-    _isolate?.kill(priority: Isolate.immediate);
-    _isolate = null;
-  }
-
-  bool get isDisposed =>
-      _isIsolateInitialized == false &&
-      _completer == null &&
-      _sendPort == null &&
-      _isolate == null;
-}
-
-// ignore: avoid_classes_with_only_static_members
-class _MLKitScanDecoderIsolate {
-  // Only 1D barcodes. More info on:
-  // [https://www.scandit.com/blog/types-barcodes-choosing-right-barcode/]
-  static final BarcodeScanner _barcodeScanner = BarcodeScanner(
-    formats: <BarcodeFormat>[
-      BarcodeFormat.ean8,
-      BarcodeFormat.ean13,
-      BarcodeFormat.upca,
-      BarcodeFormat.upce,
-      BarcodeFormat.code39,
-      BarcodeFormat.code93,
-      BarcodeFormat.code128,
-      BarcodeFormat.itf,
-      BarcodeFormat.codabar,
-    ],
-  );
-
-  static const String _cameraKey = 'camera';
-  static const String _scanModeKey = 'scanMode';
-
-  /// Port to communicate with the main Isolate
-  static late ReceivePort? _port;
-  static CameraDescription? _camera;
-  static DevModeScanMode? _scanMode;
-
-  static void startIsolate(SendPort port) {
-    _port = ReceivePort();
-
-    _port!.listen(
-      (dynamic message) async {
-        if (message is Map<String, dynamic>) {
-          if (message.containsKey(_cameraKey)) {
-            _initIsolate(message);
-            port.send(true);
-          } else {
-            await onNewBarcode(message, port);
-          }
-        }
-      },
-    );
-
-    port.send(_port!.sendPort);
-  }
-
-  /// Content required for this Isolate to be "ready"
-  static Map<String, dynamic> _createConfig(
-    CameraDescription camera,
-    DevModeScanMode scanMode,
-  ) {
-    return <String, dynamic>{
-      _cameraKey: camera.export(),
-      _scanModeKey: scanMode.index,
-    };
-  }
-
-  /// Parse content containing the configuration of this Isolate
-  // ignore: avoid_dynamic_calls
-  static void _initIsolate(Map<String, dynamic> message) {
-    _camera = _CameraDescriptionUtils.import(
-      message[_cameraKey] as Map<String, dynamic>,
-    );
-    _scanMode = DevModeScanMode.values[message[_scanModeKey] as int];
-  }
-
-  static bool get isReady => _camera != null && _scanMode != null;
-
-  static Future<void> onNewBarcode(
-    Map<dynamic, dynamic> message,
-    SendPort port,
-  ) async {
-    if (!isReady) {
-      return;
-    }
-
-    Iterable<Barcode>? barcodes;
-    if (_CameraFileUtils.containsKey(message)) {
-      final String path = _CameraFileUtils.import(message);
-      final File file = File(path);
-
-      if (file.existsSync() && file.lengthSync() > 0) {
-        try {
-          barcodes = await _barcodeScanner.processImage(
-            InputImage.fromFilePath(path),
-          );
-        } catch (ignored) {
-          // The native code may fail if the file is invalid
-        }
-
-        // Not mandatory as the native part also removes the file
-        File(path).delete();
-      }
-    } else {
-      final CameraImage image = CameraImage.fromPlatformData(message);
-      final InputImage cropImage = _cropImage(image);
-      final double imageHeight =
-          cropImage.inputImageData?.size.longestSide ?? double.infinity;
-
-      final List<Barcode> list = await _barcodeScanner.processImage(cropImage);
-
-      // With files, we don't know the imageHeight
-      barcodes = list.where((Barcode barcode) =>
-          (barcode.boundingBox?.top ?? 0.0) <= imageHeight * 0.5);
-    }
-
-    if (barcodes == null || barcodes.isEmpty) {
-      port.send(<String>['']);
-    } else {
-      port.send(
-        barcodes
-            .map((Barcode barcode) => _changeBarcodeType(barcode))
-            .where((String? barcode) => barcode?.isNotEmpty == true)
-            .cast<String>()
-            .toList(growable: false),
-      );
-    }
-  }
-
-  static String? _changeBarcodeType(Barcode barcode) {
-    //EAN13 begins with 0 is detected as UPC-A by google_mlkit_barcode_scanning v0.3.0
-    if (barcode.rawValue != null && barcode.format == BarcodeFormat.upca) {
-      return '0${barcode.rawValue}';
-    }
-    return barcode.rawValue;
-  }
-
-  static InputImage _cropImage(CameraImage image) {
-    final AbstractCameraImageGetter getter;
-
-    switch (_scanMode!) {
-      case DevModeScanMode.CAMERA_ONLY:
-      case DevModeScanMode.PREPROCESS_FULL_IMAGE:
-      case DevModeScanMode.PREPROCESS_HALF_IMAGE:
-        throw Exception('Unsupported mode $_scanMode!');
-      case DevModeScanMode.SCAN_FULL_IMAGE:
-        getter = CameraImageFullGetter(image, _camera!);
-        break;
-      case DevModeScanMode.SCAN_HALF_IMAGE:
-        getter = CameraImageCropper(
-          image,
-          _camera!,
-          left01: 0,
-          top01: 0,
-          width01: 1,
-          height01: .5,
-        );
-        break;
-    }
-
-    return getter.getInputImage();
-  }
-}
-
-/// [Isolate]s don't support custom classes.
-/// This extension exports raw data from a [CameraImage], to be able to call
-/// [CameraImage.fromPlatformData]
-extension _CameraImageExtension on CameraImage {
-  Map<String, dynamic> export() => <String, dynamic>{
-        'format': format.raw,
-        'width': width,
-        'height': height,
-        'lensAperture': lensAperture,
-        'sensorExposureTime': sensorExposureTime,
-        'sensorSensitivity': sensorSensitivity,
-        'planes': planes
-            .map((Plane p) => <dynamic, dynamic>{
-                  'bytes': p.bytes,
-                  'bytesPerPixel': p.bytesPerPixel,
-                  'bytesPerRow': p.bytesPerRow,
-                  'height': p.height,
-                  'width': p.width,
-                })
-            .toList(
-              growable: false,
-            )
-      };
-}
-
-/// [Isolate]s don't support custom classes.
-/// This extension exports raw data from a [CameraDescription], to be able to
-/// call the [CameraDescription] constructor via [_CameraDescriptionUtils.import].
-extension _CameraDescriptionExtension on CameraDescription {
-  Map<String, dynamic> export() => <String, dynamic>{
-        _CameraDescriptionUtils._nameKey: name,
-        _CameraDescriptionUtils._lensDirectionKey: lensDirection.index,
-        _CameraDescriptionUtils._sensorOrientationKey: sensorOrientation,
-      };
-}
-
-/// Recreate a [CameraDescription] from [_CameraDescriptionExtension.export]
-class _CameraDescriptionUtils {
-  const _CameraDescriptionUtils._();
-
-  static const String _nameKey = 'name';
-  static const String _lensDirectionKey = 'lensDirection';
-  static const String _sensorOrientationKey = 'sensorOrientation';
-
-  static CameraDescription import(Map<String, dynamic> map) {
-    return CameraDescription(
-      name: map[_nameKey] as String,
-      lensDirection: CameraLensDirection.values[map[_lensDirectionKey] as int],
-      sensorOrientation: map[_sensorOrientationKey] as int,
-    );
-  }
-}
-
-class _CameraFileUtils {
-  const _CameraFileUtils._();
-
-  static Map<String, dynamic> export(String file) =>
-      <String, dynamic>{'file': file};
-
-  static String import(Map<dynamic, dynamic> map) => map['file'] as String;
-
-  static bool containsKey(Map<dynamic, dynamic> map) => map.containsKey('file');
-}
diff --git a/packages/scanner/mlkit/lib/src/utils/abstract_camera_image_getter.dart b/packages/scanner/mlkit/lib/src/utils/abstract_camera_image_getter.dart
deleted file mode 100644
index 3303eafba6ce..000000000000
--- a/packages/scanner/mlkit/lib/src/utils/abstract_camera_image_getter.dart
+++ /dev/null
@@ -1,50 +0,0 @@
-import 'dart:typed_data';
-
-import 'package:flutter/material.dart';
-import 'package:google_mlkit_barcode_scanning/google_mlkit_barcode_scanning.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-
-/// Abstract getter of Camera Image, for barcode scan.
-///
-/// Use CameraController with imageFormatGroup: ImageFormatGroup.yuv420
-abstract class AbstractCameraImageGetter {
-  AbstractCameraImageGetter(this.cameraImage, this.cameraDescription);
-
-  final CameraImage cameraImage;
-  final CameraDescription cameraDescription;
-
-  InputImage getInputImage() {
-    final InputImageRotation imageRotation =
-        InputImageRotationValue.fromRawValue(
-                cameraDescription.sensorOrientation) ??
-            InputImageRotation.rotation0deg;
-
-    final InputImageFormat inputImageFormat =
-        InputImageFormatValue.fromRawValue(
-      int.parse(cameraImage.format.raw.toString()),
-    )!;
-
-    final List<InputImagePlaneMetadata> planeData = getPlaneMetaData();
-
-    final InputImageData inputImageData = InputImageData(
-      size: getSize(),
-      imageRotation: imageRotation,
-      inputImageFormat: inputImageFormat,
-      planeData: planeData,
-    );
-
-    return InputImage.fromBytes(
-      bytes: getBytes(),
-      inputImageData: inputImageData,
-    );
-  }
-
-  @protected
-  Size getSize();
-
-  @protected
-  Uint8List getBytes();
-
-  @protected
-  List<InputImagePlaneMetadata> getPlaneMetaData();
-}
diff --git a/packages/scanner/mlkit/lib/src/utils/camera_image_cropper.dart b/packages/scanner/mlkit/lib/src/utils/camera_image_cropper.dart
deleted file mode 100644
index b51be60b57ed..000000000000
--- a/packages/scanner/mlkit/lib/src/utils/camera_image_cropper.dart
+++ /dev/null
@@ -1,128 +0,0 @@
-import 'dart:typed_data';
-
-import 'package:flutter/material.dart';
-import 'package:google_mlkit_barcode_scanning/google_mlkit_barcode_scanning.dart';
-import 'package:scanner_mlkit/src/utils/abstract_camera_image_getter.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-import 'package:typed_data/typed_buffers.dart';
-
-/// Camera Image Cropper, in order to limit the barcode scan computations.
-///
-/// Use CameraController with imageFormatGroup: ImageFormatGroup.yuv420
-/// [left01], [top01], [width01] and [height01] are values between 0 and 1
-/// that delimit the cropping area.
-/// For instance:
-/// * left01: 0, top01: 0, width01: 1, height01: .2 delimit the top 20% banner
-/// * left01: .5, top01: .5, width01: .5, height01: ..5 the bottom right rect
-class CameraImageCropper extends AbstractCameraImageGetter {
-  CameraImageCropper(
-    super.cameraImage,
-    super.cameraDescription, {
-    required this.left01,
-    required this.top01,
-    required this.width01,
-    required this.height01,
-  }) {
-    _computeCropParameters();
-  }
-
-  final double left01;
-  final double top01;
-  final double width01;
-  final double height01;
-  late int _left;
-  late int _top;
-  late int _width;
-  late int _height;
-
-  int _getEven(final double value) => 2 * (value ~/ 2);
-
-  void _computeCropParameters() {
-    assert(width01 > 0 && width01 <= 1);
-    assert(height01 > 0 && height01 <= 1);
-    assert(left01 >= 0 && left01 < 1);
-    assert(top01 >= 0 && top01 < 1);
-    assert(left01 + width01 <= 1);
-    assert(top01 + height01 <= 1);
-
-    final int fullWidth = cameraImage.width;
-    final int fullHeight = cameraImage.height;
-    final int orientation = cameraDescription.sensorOrientation;
-
-    if (orientation == 0) {
-      _width = _getEven(fullWidth * width01);
-      _height = _getEven(fullHeight * height01);
-      _left = _getEven(fullWidth * left01);
-      _top = _getEven(fullHeight * top01);
-      return;
-    }
-    if (orientation == 90) {
-      _width = _getEven(fullWidth * height01);
-      _height = _getEven(fullHeight * width01);
-      _left = _getEven(fullWidth * top01);
-      _top = _getEven(fullHeight * left01);
-      return;
-    }
-    throw Exception('Orientation $orientation not dealt with for the moment');
-  }
-
-  // cf. https://en.wikipedia.org/wiki/YUV#Y′UV420p_(and_Y′V12_or_YV12)_to_RGB888_conversion
-  static const Map<int, int> _planeDividers = <int, int>{
-    0: 1, // Y
-    1: 2, // U
-    2: 2, // V
-  };
-
-  @override
-  Size getSize() => Size(_width.toDouble(), _height.toDouble());
-
-  @override
-  Uint8List getBytes() {
-    int size = 0;
-    for (final int divider in _planeDividers.values) {
-      size += (_width ~/ divider) * (_height ~/ divider);
-    }
-    final Uint8Buffer buffer = Uint8Buffer(size);
-    final int imageWidth = cameraImage.width;
-    int planeIndex = 0;
-    int bufferOffset = 0;
-    for (final Plane plane in cameraImage.planes) {
-      final int divider = _planeDividers[planeIndex]!;
-      final int fullWidth = imageWidth ~/ divider;
-      final int cropLeft = _left ~/ divider;
-      final int cropTop = _top ~/ divider;
-      final int cropWidth = _width ~/ divider;
-      final int cropHeight = _height ~/ divider;
-
-      for (int i = 0; i < cropHeight; i++) {
-        //buffer.replaceRange(bufferOffset, bufferOffset + cropWidth, plane.bytes.getRange(15, 16));
-        for (int j = 0; j < cropWidth; j++) {
-          buffer[bufferOffset++] =
-              plane.bytes[fullWidth * (cropTop + i) + cropLeft + j];
-        }
-      }
-      planeIndex++;
-    }
-
-    return buffer.buffer.asUint8List();
-  }
-
-  @override
-  List<InputImagePlaneMetadata> getPlaneMetaData() {
-    final List<InputImagePlaneMetadata> planeData = <InputImagePlaneMetadata>[];
-    for (final Plane plane in cameraImage.planes) {
-      planeData.add(
-        InputImagePlaneMetadata(
-          bytesPerRow: (plane.bytesPerRow * _width) ~/ cameraImage.width,
-          height: plane.height == null
-              ? null
-              : (plane.height! * _height) ~/ cameraImage.height,
-          width: plane.width == null
-              ? null
-              : (plane.width! * _width) ~/ cameraImage.width,
-        ),
-      );
-    }
-    return planeData;
-  }
-}
diff --git a/packages/scanner/mlkit/lib/src/utils/camera_image_full_getter.dart b/packages/scanner/mlkit/lib/src/utils/camera_image_full_getter.dart
deleted file mode 100644
index 05991fe0fce2..000000000000
--- a/packages/scanner/mlkit/lib/src/utils/camera_image_full_getter.dart
+++ /dev/null
@@ -1,47 +0,0 @@
-import 'dart:typed_data';
-
-import 'package:flutter/foundation.dart';
-import 'package:flutter/material.dart';
-import 'package:google_mlkit_barcode_scanning/google_mlkit_barcode_scanning.dart';
-import 'package:scanner_mlkit/src/utils/abstract_camera_image_getter.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-
-/// Camera Image helper where we get the full image.
-///
-/// Use CameraController with imageFormatGroup: ImageFormatGroup.yuv420
-class CameraImageFullGetter extends AbstractCameraImageGetter {
-  CameraImageFullGetter(
-    super.cameraImage,
-    super.cameraDescription,
-  );
-
-  @override
-  Size getSize() => Size(
-        cameraImage.width.toDouble(),
-        cameraImage.height.toDouble(),
-      );
-
-  @override
-  Uint8List getBytes() {
-    final WriteBuffer allBytes = WriteBuffer();
-    for (final Plane plane in cameraImage.planes) {
-      allBytes.putUint8List(plane.bytes);
-    }
-    return allBytes.done().buffer.asUint8List();
-  }
-
-  @override
-  List<InputImagePlaneMetadata> getPlaneMetaData() {
-    final List<InputImagePlaneMetadata> planeData = <InputImagePlaneMetadata>[];
-    for (final Plane plane in cameraImage.planes) {
-      planeData.add(
-        InputImagePlaneMetadata(
-          bytesPerRow: plane.bytesPerRow,
-          height: plane.height,
-          width: plane.width,
-        ),
-      );
-    }
-    return planeData;
-  }
-}
diff --git a/packages/scanner/mlkit/pubspec.yaml b/packages/scanner/mlkit/pubspec.yaml
deleted file mode 100644
index c0b451143581..000000000000
--- a/packages/scanner/mlkit/pubspec.yaml
+++ /dev/null
@@ -1,28 +0,0 @@
-name: scanner_mlkit
-description: MLKit implementation for the scanning feature
-version: 0.0.1
-publish_to: "none"
-
-environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
-
-dependencies:
-  flutter:
-    sdk: flutter
-
-  scanner_shared:
-    path: ../shared
-
-  flutter_isolate: 2.0.3
-  google_mlkit_barcode_scanning: 0.3.0
-  typed_data: 1.3.1
-
-dev_dependencies:
-  flutter_test:
-    sdk: flutter
-  flutter_lints: 2.0.1
-  openfoodfacts_flutter_lints:
-    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
-
-flutter:
\ No newline at end of file
diff --git a/packages/scanner/mlkit/test/scanner_mlkit_test.dart b/packages/scanner/mlkit/test/scanner_mlkit_test.dart
deleted file mode 100644
index 8963f00be1e0..000000000000
--- a/packages/scanner/mlkit/test/scanner_mlkit_test.dart
+++ /dev/null
@@ -1,8 +0,0 @@
-import 'package:flutter_test/flutter_test.dart';
-
-// The CI needs at least one test
-void main() {
-  testWidgets('Fake test', (WidgetTester tester) async {
-    expect(true, true);
-  });
-}
diff --git a/packages/scanner/shared/.gitignore b/packages/scanner/shared/.gitignore
deleted file mode 100644
index 96486fd93024..000000000000
--- a/packages/scanner/shared/.gitignore
+++ /dev/null
@@ -1,30 +0,0 @@
-# Miscellaneous
-*.class
-*.log
-*.pyc
-*.swp
-.DS_Store
-.atom/
-.buildlog/
-.history
-.svn/
-migrate_working_dir/
-
-# IntelliJ related
-*.iml
-*.ipr
-*.iws
-.idea/
-
-# The .vscode folder contains launch configuration and tasks you configure in
-# VS Code which you may wish to be included in version control, so this line
-# is commented out by default.
-#.vscode/
-
-# Flutter/Dart/Pub related
-# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
-/pubspec.lock
-**/doc/api/
-.dart_tool/
-.packages
-build/
diff --git a/packages/scanner/shared/.metadata b/packages/scanner/shared/.metadata
deleted file mode 100644
index 1e05dac7fec6..000000000000
--- a/packages/scanner/shared/.metadata
+++ /dev/null
@@ -1,10 +0,0 @@
-# This file tracks properties of this Flutter project.
-# Used by Flutter tool to assess capabilities and perform upgrades etc.
-#
-# This file should be version controlled and should not be manually edited.
-
-version:
-  revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-  channel: stable
-
-project_type: package
diff --git a/packages/scanner/shared/analysis_options.yaml b/packages/scanner/shared/analysis_options.yaml
deleted file mode 100644
index b1e818e22eaf..000000000000
--- a/packages/scanner/shared/analysis_options.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
-# Shared rules
-include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/shared/coverage/lcov.info b/packages/scanner/shared/coverage/lcov.info
deleted file mode 100644
index e69de29bb2d1..000000000000
diff --git a/packages/scanner/shared/lib/scanner_shared.dart b/packages/scanner/shared/lib/scanner_shared.dart
deleted file mode 100644
index 89d0021bab13..000000000000
--- a/packages/scanner/shared/lib/scanner_shared.dart
+++ /dev/null
@@ -1,6 +0,0 @@
-library scanner_shared;
-
-export 'src/scanner.dart';
-export 'src/scanner_log.dart';
-export 'src/scanner_mocked.dart';
-export 'src/scanner_modes.dart';
diff --git a/packages/scanner/shared/lib/src/scanner.dart b/packages/scanner/shared/lib/src/scanner.dart
deleted file mode 100644
index 095823401cb6..000000000000
--- a/packages/scanner/shared/lib/src/scanner.dart
+++ /dev/null
@@ -1,50 +0,0 @@
-import 'package:flutter/foundation.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-
-/// Export the [CameraImage] class
-export 'package:camera/camera.dart';
-
-/// Base class for MLKit, ZXing and other scanners
-abstract class CameraScanner with CameraScannerLogMixin {
-  Future<void> onInit({
-    required CameraDescription camera,
-    required DevModeScanMode mode,
-  });
-
-  Future<List<String?>?> processImage(dynamic image) {
-    assert(isInitialized, 'onInit() must be called before _onNewImage()');
-
-    if (image is CameraImage && supportCameraImage) {
-      return onNewCameraImage(image);
-    } else if (image is String && supportCameraFile) {
-      return onNewCameraFile(image);
-    } else {
-      throw Exception('Unsupported image type: $image');
-    }
-  }
-
-  @protected
-  Future<List<String?>?> onNewCameraImage(CameraImage image);
-
-  @protected
-  Future<List<String?>?> onNewCameraFile(String path);
-
-  bool get supportCameraImage;
-
-  bool get supportCameraFile;
-
-  bool get isInitialized;
-
-  /// When the device is in low memory mode
-  void onLowMemory() {}
-
-  Future<void> onPause() async {}
-
-  Future<void> onResume() async {}
-
-  @mustCallSuper
-  Future<void> onDispose() async => disposeLogs();
-
-  @protected
-  Stream<CameraScannerLog> listenToLogs() => controller;
-}
diff --git a/packages/scanner/shared/lib/src/scanner_log.dart b/packages/scanner/shared/lib/src/scanner_log.dart
deleted file mode 100644
index b1a34827d09d..000000000000
--- a/packages/scanner/shared/lib/src/scanner_log.dart
+++ /dev/null
@@ -1,35 +0,0 @@
-import 'dart:async';
-
-mixin CameraScannerLogMixin {
-  final StreamController<CameraScannerLog> _controller =
-      StreamController<CameraScannerLog>.broadcast();
-
-  void addLog(
-      {required String message, dynamic exception, StackTrace? stackTrace}) {
-    if (!_controller.isClosed) {
-      _controller.add(
-        CameraScannerLog(
-          message,
-          exception: exception,
-          stackTrace: stackTrace,
-        ),
-      );
-    }
-  }
-
-  Stream<CameraScannerLog> get controller => _controller.stream;
-
-  Future<dynamic> disposeLogs() => _controller.close();
-}
-
-class CameraScannerLog {
-  const CameraScannerLog(
-    this.message, {
-    this.exception,
-    this.stackTrace,
-  });
-
-  final String message;
-  final dynamic exception;
-  final StackTrace? stackTrace;
-}
diff --git a/packages/scanner/shared/lib/src/scanner_mocked.dart b/packages/scanner/shared/lib/src/scanner_mocked.dart
deleted file mode 100644
index b2055842a598..000000000000
--- a/packages/scanner/shared/lib/src/scanner_mocked.dart
+++ /dev/null
@@ -1,30 +0,0 @@
-import 'package:scanner_shared/scanner_shared.dart';
-
-/// Empty implementation
-/// (for testing or on non-supported platforms like the desktop)
-class MockedCameraScanner extends CameraScanner {
-  @override
-  Future<void> onInit({
-    required CameraDescription camera,
-    required DevModeScanMode mode,
-  }) async {}
-
-  @override
-  Future<List<String?>?> onNewCameraFile(String path) async {
-    return <String>[];
-  }
-
-  @override
-  Future<List<String?>?> onNewCameraImage(CameraImage image) async {
-    return <String>[];
-  }
-
-  @override
-  bool get supportCameraFile => true;
-
-  @override
-  bool get supportCameraImage => true;
-
-  @override
-  bool get isInitialized => true;
-}
diff --git a/packages/scanner/shared/lib/src/scanner_modes.dart b/packages/scanner/shared/lib/src/scanner_modes.dart
deleted file mode 100644
index b9c16e53ae20..000000000000
--- a/packages/scanner/shared/lib/src/scanner_modes.dart
+++ /dev/null
@@ -1,51 +0,0 @@
-enum DevModeScanMode {
-  CAMERA_ONLY,
-  PREPROCESS_FULL_IMAGE,
-  PREPROCESS_HALF_IMAGE,
-  SCAN_FULL_IMAGE,
-  SCAN_HALF_IMAGE;
-
-  static DevModeScanMode get defaultScanMode => DevModeScanMode.SCAN_FULL_IMAGE;
-
-  String get label {
-    switch (this) {
-      case DevModeScanMode.CAMERA_ONLY:
-        return 'Only camera stream, no scanning';
-      case DevModeScanMode.PREPROCESS_FULL_IMAGE:
-        return 'Camera stream and full image preprocessing, no scanning';
-      case DevModeScanMode.PREPROCESS_HALF_IMAGE:
-        return 'Camera stream and half image preprocessing, no scanning';
-      case DevModeScanMode.SCAN_FULL_IMAGE:
-        return 'Full image scanning';
-      case DevModeScanMode.SCAN_HALF_IMAGE:
-        return 'Half image scanning';
-    }
-  }
-
-  int get idx {
-    switch (this) {
-      case DevModeScanMode.CAMERA_ONLY:
-        return 4;
-      case DevModeScanMode.PREPROCESS_FULL_IMAGE:
-        return 3;
-      case DevModeScanMode.PREPROCESS_HALF_IMAGE:
-        return 2;
-      case DevModeScanMode.SCAN_FULL_IMAGE:
-        return 0;
-      case DevModeScanMode.SCAN_HALF_IMAGE:
-        return 1;
-    }
-  }
-
-  static DevModeScanMode fromIndex(final int? index) {
-    if (index == null) {
-      return defaultScanMode;
-    }
-    for (final DevModeScanMode scanMode in DevModeScanMode.values) {
-      if (scanMode.index == index) {
-        return scanMode;
-      }
-    }
-    throw Exception('Unknown index $index');
-  }
-}
diff --git a/packages/scanner/shared/pubspec.yaml b/packages/scanner/shared/pubspec.yaml
deleted file mode 100644
index 5e8be8202e1a..000000000000
--- a/packages/scanner/shared/pubspec.yaml
+++ /dev/null
@@ -1,33 +0,0 @@
-name: scanner_shared
-description: Shared interfaces between implementations
-version: 1.0.0
-publish_to: "none"
-
-environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
-
-dependencies:
-  flutter:
-    sdk: flutter
-
-  # Camera (custom implementation for Android)
-  camera:
-    git:
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-      ref: "smooth_camera"
-      path: "packages/camera/camera"
-  camera_platform_interface:
-    git:
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-      ref: "smooth_camera"
-      path: "packages/camera/camera_platform_interface"
-
-dev_dependencies:
-  flutter_test:
-    sdk: flutter
-  flutter_lints: 2.0.1
-  openfoodfacts_flutter_lints:
-    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
-
-flutter:
\ No newline at end of file
diff --git a/packages/scanner/shared/test/shared_test.dart b/packages/scanner/shared/test/shared_test.dart
deleted file mode 100644
index 8963f00be1e0..000000000000
--- a/packages/scanner/shared/test/shared_test.dart
+++ /dev/null
@@ -1,8 +0,0 @@
-import 'package:flutter_test/flutter_test.dart';
-
-// The CI needs at least one test
-void main() {
-  testWidgets('Fake test', (WidgetTester tester) async {
-    expect(true, true);
-  });
-}
diff --git a/packages/scanner/zxing/.gitignore b/packages/scanner/zxing/.gitignore
deleted file mode 100644
index 57f1713d8a6a..000000000000
--- a/packages/scanner/zxing/.gitignore
+++ /dev/null
@@ -1,26 +0,0 @@
-# Miscellaneous
-*.class
-*.log
-*.pyc
-*.swp
-.DS_Store
-.atom/
-.buildlog/
-.history
-.svn/
-migrate_working_dir/
-
-# IntelliJ related
-*.iml
-*.ipr
-*.iws
-.idea/
-
-
-# Flutter/Dart/Pub related
-# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
-/pubspec.lock
-**/doc/api/
-.dart_tool/
-.packages
-build/
diff --git a/packages/scanner/zxing/.metadata b/packages/scanner/zxing/.metadata
deleted file mode 100644
index 90506faae2cf..000000000000
--- a/packages/scanner/zxing/.metadata
+++ /dev/null
@@ -1,30 +0,0 @@
-# This file tracks properties of this Flutter project.
-# Used by Flutter tool to assess capabilities and perform upgrades etc.
-#
-# This file should be version controlled.
-
-version:
-  revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-  channel: stable
-
-project_type: plugin
-
-# Tracks metadata for the flutter migrate command
-migration:
-  platforms:
-    - platform: root
-      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-    - platform: android
-      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
-
-  # User provided section
-
-  # List of Local paths (relative to this file) that should be
-  # ignored by the migrate tool.
-  #
-  # Files that are not part of the templates will be ignored by default.
-  unmanaged_files:
-    - 'lib/main.dart'
-    - 'ios/Runner.xcodeproj/project.pbxproj'
diff --git a/packages/scanner/zxing/analysis_options.yaml b/packages/scanner/zxing/analysis_options.yaml
deleted file mode 100644
index b1e818e22eaf..000000000000
--- a/packages/scanner/zxing/analysis_options.yaml
+++ /dev/null
@@ -1,2 +0,0 @@
-# Shared rules
-include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/zxing/android/.gitignore b/packages/scanner/zxing/android/.gitignore
deleted file mode 100644
index 161bdcdaf88c..000000000000
--- a/packages/scanner/zxing/android/.gitignore
+++ /dev/null
@@ -1,9 +0,0 @@
-*.iml
-.gradle
-/local.properties
-/.idea/workspace.xml
-/.idea/libraries
-.DS_Store
-/build
-/captures
-.cxx
diff --git a/packages/scanner/zxing/android/build.gradle b/packages/scanner/zxing/android/build.gradle
deleted file mode 100644
index d4110afa812b..000000000000
--- a/packages/scanner/zxing/android/build.gradle
+++ /dev/null
@@ -1,50 +0,0 @@
-group 'com.example.scanner_zxing'
-version '1.0-SNAPSHOT'
-
-buildscript {
-    ext.kotlin_version = '1.7.20'
-    repositories {
-        google()
-        mavenCentral()
-    }
-
-    dependencies {
-        classpath 'com.android.tools.build:gradle:7.1.3'
-        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
-    }
-}
-
-allprojects {
-    repositories {
-        google()
-        mavenCentral()
-    }
-}
-
-apply plugin: 'com.android.library'
-apply plugin: 'kotlin-android'
-
-android {
-    compileSdkVersion 31
-
-    compileOptions {
-        sourceCompatibility JavaVersion.VERSION_1_8
-        targetCompatibility JavaVersion.VERSION_1_8
-    }
-
-    kotlinOptions {
-        jvmTarget = '1.8'
-    }
-
-    sourceSets {
-        main.java.srcDirs += 'src/main/kotlin'
-    }
-
-    defaultConfig {
-        minSdkVersion 19
-    }
-
-    dependencies {
-        implementation 'com.google.zxing:core:3.3.0'
-    }
-}
diff --git a/packages/scanner/zxing/android/gradle/wrapper/gradle-wrapper.properties b/packages/scanner/zxing/android/gradle/wrapper/gradle-wrapper.properties
deleted file mode 100644
index 41dfb87909a8..000000000000
--- a/packages/scanner/zxing/android/gradle/wrapper/gradle-wrapper.properties
+++ /dev/null
@@ -1,5 +0,0 @@
-distributionBase=GRADLE_USER_HOME
-distributionPath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-7.4-bin.zip
-zipStoreBase=GRADLE_USER_HOME
-zipStorePath=wrapper/dists
diff --git a/packages/scanner/zxing/android/settings.gradle b/packages/scanner/zxing/android/settings.gradle
deleted file mode 100644
index 8a68346d3fb6..000000000000
--- a/packages/scanner/zxing/android/settings.gradle
+++ /dev/null
@@ -1 +0,0 @@
-rootProject.name = 'scanner_zxing'
diff --git a/packages/scanner/zxing/android/src/main/AndroidManifest.xml b/packages/scanner/zxing/android/src/main/AndroidManifest.xml
deleted file mode 100644
index 8cc70f96750a..000000000000
--- a/packages/scanner/zxing/android/src/main/AndroidManifest.xml
+++ /dev/null
@@ -1,3 +0,0 @@
-<manifest xmlns:android="http://schemas.android.com/apk/res/android"
-  package="org.openfoodfacts.scanner_zxing">
-</manifest>
diff --git a/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ScannerZxingPlugin.kt b/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ScannerZxingPlugin.kt
deleted file mode 100644
index 04ec621993ce..000000000000
--- a/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ScannerZxingPlugin.kt
+++ /dev/null
@@ -1,36 +0,0 @@
-package org.openfoodfacts.scanner_zxing
-
-import androidx.annotation.NonNull
-
-import io.flutter.embedding.engine.plugins.FlutterPlugin
-import io.flutter.plugin.common.MethodCall
-import io.flutter.plugin.common.MethodChannel
-import io.flutter.plugin.common.MethodChannel.MethodCallHandler
-import io.flutter.plugin.common.MethodChannel.Result
-
-class ScannerZxingPlugin : FlutterPlugin, MethodCallHandler {
-
-    private lateinit var channel: MethodChannel
-
-    override fun onAttachedToEngine(@NonNull flutterPluginBinding: FlutterPlugin.FlutterPluginBinding) {
-        channel = MethodChannel(flutterPluginBinding.binaryMessenger, "openfoodfacts/zxing")
-        channel.setMethodCallHandler(this)
-    }
-
-    override fun onMethodCall(@NonNull call: MethodCall, @NonNull result: Result) {
-        if (call.method == "scanFile") {
-            result.success(
-                ZXingUtils.extractBarcodeFromImage(
-                    call.argument("path") as String?,
-                    call.argument("orientation") as Int?,
-                )
-            )
-        } else {
-            result.notImplemented()
-        }
-    }
-
-    override fun onDetachedFromEngine(@NonNull binding: FlutterPlugin.FlutterPluginBinding) {
-        channel.setMethodCallHandler(null)
-    }
-}
diff --git a/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ZXingUtils.kt b/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ZXingUtils.kt
deleted file mode 100644
index 961fbe3f7ab4..000000000000
--- a/packages/scanner/zxing/android/src/main/kotlin/org/openfoodfacts/scanner_zxing/ZXingUtils.kt
+++ /dev/null
@@ -1,60 +0,0 @@
-package org.openfoodfacts.scanner_zxing
-
-import android.graphics.Bitmap
-import android.graphics.BitmapFactory
-import android.graphics.Matrix
-import android.util.Log
-import com.google.zxing.BinaryBitmap
-import com.google.zxing.MultiFormatReader
-import com.google.zxing.NotFoundException
-import com.google.zxing.RGBLuminanceSource
-import com.google.zxing.common.HybridBinarizer
-
-
-object ZXingUtils {
-
-    fun extractBarcodeFromImage(path: String?, orientation: Int?): String? {
-        if (path.isNullOrEmpty() || orientation == null) {
-            return null
-        }
-
-        val matrix = Matrix().apply {
-            postRotate(orientation.toFloat())
-        }
-
-        val bitmap = BitmapFactory.decodeFile(path)
-
-        val rotatedBitmap = Bitmap.createBitmap(
-            bitmap,
-            0,
-            0,
-            bitmap.width,
-            bitmap.height,
-            matrix,
-            true
-        )
-
-        val width = rotatedBitmap.width
-        val height = rotatedBitmap.height
-        val pixels = IntArray(width * height)
-
-        bitmap.recycle()
-        rotatedBitmap.getPixels(pixels, 0, width, 0, 0, width, height)
-        rotatedBitmap.recycle()
-
-        val binaryBitmap = BinaryBitmap(
-            HybridBinarizer(
-                RGBLuminanceSource(
-                    width,
-                    height,
-                    pixels
-                )
-            )
-        )
-
-        return runCatching {
-            MultiFormatReader().decode(binaryBitmap).text
-        }.getOrNull()
-    }
-
-}
\ No newline at end of file
diff --git a/packages/scanner/zxing/lib/scanner_zxing.dart b/packages/scanner/zxing/lib/scanner_zxing.dart
deleted file mode 100644
index b7db4652bdc9..000000000000
--- a/packages/scanner/zxing/lib/scanner_zxing.dart
+++ /dev/null
@@ -1,3 +0,0 @@
-library scanner_zxing;
-
-export 'src/scanner_zxing_method_channel.dart';
diff --git a/packages/scanner/zxing/lib/src/scanner_zxing_method_channel.dart b/packages/scanner/zxing/lib/src/scanner_zxing_method_channel.dart
deleted file mode 100644
index 2dfb5a4c1473..000000000000
--- a/packages/scanner/zxing/lib/src/scanner_zxing_method_channel.dart
+++ /dev/null
@@ -1,47 +0,0 @@
-import 'dart:async';
-
-import 'package:flutter/foundation.dart';
-import 'package:flutter/services.dart';
-import 'package:scanner_shared/scanner_shared.dart';
-
-class ZXingCameraScanner extends CameraScanner {
-  @visibleForTesting
-  final MethodChannel methodChannel =
-      const MethodChannel('openfoodfacts/zxing');
-
-  CameraDescription? _camera;
-
-  @override
-  Future<void> onInit({
-    required CameraDescription camera,
-    required DevModeScanMode mode,
-  }) async {
-    _camera = camera;
-  }
-
-  @override
-  Future<List<String?>?> onNewCameraFile(String path) async {
-    assert(path.isNotEmpty);
-
-    return methodChannel.invokeMethod<String>('scanFile', <String, dynamic>{
-      'path': path,
-      'orientation': _camera!.sensorOrientation,
-    }).then((String? value) {
-      return value != null ? <String>[value] : null;
-    });
-  }
-
-  @override
-  Future<List<String?>?> onNewCameraImage(CameraImage image) async {
-    throw UnimplementedError();
-  }
-
-  @override
-  bool get isInitialized => _camera != null;
-
-  @override
-  bool get supportCameraFile => true;
-
-  @override
-  bool get supportCameraImage => false;
-}
diff --git a/packages/scanner/zxing/pubspec.yaml b/packages/scanner/zxing/pubspec.yaml
deleted file mode 100644
index 869f377e10f8..000000000000
--- a/packages/scanner/zxing/pubspec.yaml
+++ /dev/null
@@ -1,29 +0,0 @@
-name: scanner_zxing
-description: A new Flutter project.
-version: 0.0.1
-publish_to: "none"
-
-environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
-
-dependencies:
-  flutter:
-    sdk: flutter
-
-  scanner_shared:
-    path: ../shared
-
-dev_dependencies:
-  flutter_test:
-    sdk: flutter
-  flutter_lints: 2.0.1
-  openfoodfacts_flutter_lints:
-    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
-
-flutter:
-  plugin:
-    platforms:
-      android:
-        package: org.openfoodfacts.scanner_zxing
-        pluginClass: ScannerZxingPlugin
\ No newline at end of file
diff --git a/packages/scanner/zxing/test/scanner_zxing_test.dart b/packages/scanner/zxing/test/scanner_zxing_test.dart
deleted file mode 100644
index 8963f00be1e0..000000000000
--- a/packages/scanner/zxing/test/scanner_zxing_test.dart
+++ /dev/null
@@ -1,8 +0,0 @@
-import 'package:flutter_test/flutter_test.dart';
-
-// The CI needs at least one test
-void main() {
-  testWidgets('Fake test', (WidgetTester tester) async {
-    expect(true, true);
-  });
-}
diff --git a/packages/smooth_app/android/build.gradle b/packages/smooth_app/android/build.gradle
index 83ae220041c7..dfce013c4d52 100644
--- a/packages/smooth_app/android/build.gradle
+++ b/packages/smooth_app/android/build.gradle
@@ -1,5 +1,5 @@
 buildscript {
-    ext.kotlin_version = '1.6.10'
+    ext.kotlin_version = '1.8.0'
     repositories {
         google()
         mavenCentral()
diff --git a/packages/smooth_app/integration_test/app_test.dart b/packages/smooth_app/integration_test/app_test.dart
index 7e44bc3936db..647b79586de7 100644
--- a/packages/smooth_app/integration_test/app_test.dart
+++ b/packages/smooth_app/integration_test/app_test.dart
@@ -4,9 +4,9 @@ import 'package:app_store_shared/app_store_shared.dart';
 import 'package:flutter/foundation.dart';
 import 'package:flutter_test/flutter_test.dart';
 import 'package:integration_test/integration_test.dart';
-import 'package:scanner_shared/scanner_shared.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 import 'package:smooth_app/main.dart' as app;
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 Future<void> _initScreenshot(
   final IntegrationTestWidgetsFlutterBinding binding,
@@ -56,7 +56,7 @@ void main() {
         await _initScreenshot(binding);
 
         await app.launchSmoothApp(
-          scanner: MockedCameraScanner(),
+          scanner: SmoothBarcodeScannerType.mockup,
           appStore: const MockedAppStore(),
           appFlavour: 'test-runner',
           screenshots: true,
diff --git a/packages/smooth_app/lib/background/background_task_badge.dart b/packages/smooth_app/lib/background/background_task_badge.dart
index cb5f8c75e8ca..a423fed59510 100644
--- a/packages/smooth_app/lib/background/background_task_badge.dart
+++ b/packages/smooth_app/lib/background/background_task_badge.dart
@@ -1,4 +1,3 @@
-import 'package:badges/badges.dart' as badges;
 import 'package:flutter/material.dart';
 import 'package:provider/provider.dart';
 import 'package:smooth_app/database/local_database.dart';
@@ -16,14 +15,12 @@ class BackgroundTaskBadge extends StatelessWidget {
     if (tasks.isEmpty) {
       return child;
     }
-    return badges.Badge(
-      badgeColor: Colors.blue.shade900,
-      showBadge: true,
-      badgeContent: Text(
+    return Badge(
+      backgroundColor: Colors.blue.shade900,
+      label: Text(
         '${tasks.length}',
         style: const TextStyle(color: Colors.white),
       ),
-      position: badges.BadgePosition.topStart(start: -16),
       child: child,
     );
   }
diff --git a/packages/smooth_app/lib/cache/files/file_cache_manager_impl.dart b/packages/smooth_app/lib/cache/files/file_cache_manager_impl.dart
index 71150368c588..eebe0ac1a2dc 100644
--- a/packages/smooth_app/lib/cache/files/file_cache_manager_impl.dart
+++ b/packages/smooth_app/lib/cache/files/file_cache_manager_impl.dart
@@ -1,5 +1,4 @@
 import 'dart:io';
-import 'dart:typed_data';
 
 import 'package:flutter/foundation.dart';
 import 'package:path/path.dart';
diff --git a/packages/smooth_app/lib/data_models/user_preferences.dart b/packages/smooth_app/lib/data_models/user_preferences.dart
index 77334eeda81e..3c8b16f101c8 100644
--- a/packages/smooth_app/lib/data_models/user_preferences.dart
+++ b/packages/smooth_app/lib/data_models/user_preferences.dart
@@ -272,13 +272,6 @@ class UserPreferences extends ChangeNotifier {
 
   int get devMode => _sharedPreferences.getInt(_TAG_DEV_MODE) ?? 0;
 
-  Future<void> setDevModeIndex(final String tag, final int index) async {
-    await _sharedPreferences.setInt(tag, index);
-    notifyListeners();
-  }
-
-  int? getDevModeIndex(final String tag) => _sharedPreferences.getInt(tag);
-
   Future<void> setDevModeString(final String tag, final String value) async {
     await _sharedPreferences.setString(tag, value);
     notifyListeners();
diff --git a/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart b/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
index a73f0d1abeb3..da8cdf996108 100644
--- a/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
+++ b/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_uri/app_store_uri.dart';
-import 'package:scanner_zxing/scanner_zxing.dart';
 import 'package:smooth_app/main.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// Fdroid version with:
 /// - Barcode decoding algorithm: ZXing
 /// - Intent to launch the review
 void main() {
   launchSmoothApp(
-    scanner: ZXingCameraScanner(),
+    scanner: SmoothBarcodeScannerType.zxing,
     appStore: URIAppStore(
       Uri.parse(
         'https://f-droid.org/fr/packages/openfoodfacts.github.scrachx.openfood/',
diff --git a/packages/smooth_app/lib/entrypoints/android/main_google_play.dart b/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
index 58cec99a9366..8c9970d10e3d 100644
--- a/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
+++ b/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_google_play/app_store_google.dart';
-import 'package:scanner_mlkit/scanner_mlkit.dart';
 import 'package:smooth_app/main.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// Google Play version with:
 /// - Barcode decoding algorithm: MLKit
 /// - Google Play app review SDK
 void main() {
   launchSmoothApp(
-    scanner: MLKitCameraScanner(),
+    scanner: SmoothBarcodeScannerType.mlkit,
     appStore: GooglePlayStore(),
     appFlavour: 'ml-play',
   );
diff --git a/packages/smooth_app/lib/entrypoints/ios/main_ios.dart b/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
index ebb7e20f952d..97b0bd5f687e 100644
--- a/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
+++ b/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_apple_store/app_store_apple.dart';
-import 'package:scanner_mlkit/scanner_mlkit.dart';
 import 'package:smooth_app/main.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// App Store/TestFlight version with:
 /// - Barcode decoding algorithm: MLKit
 /// - iOS SDK to open the store
 void main() {
   launchSmoothApp(
-    scanner: MLKitCameraScanner(),
+    scanner: SmoothBarcodeScannerType.mlkit,
     appStore: AppleAppStore('588797948'),
     appFlavour: 'ml-ios',
   );
diff --git a/packages/smooth_app/lib/helpers/camera_helper.dart b/packages/smooth_app/lib/helpers/camera_helper.dart
index a424ad80b744..845ab4bf62a3 100644
--- a/packages/smooth_app/lib/helpers/camera_helper.dart
+++ b/packages/smooth_app/lib/helpers/camera_helper.dart
@@ -2,14 +2,10 @@ import 'dart:io';
 
 import 'package:camera/camera.dart';
 import 'package:flutter/foundation.dart';
-import 'package:smooth_app/pages/scan/camera_controller.dart';
 
 class CameraHelper {
   const CameraHelper._();
 
-  static final CameraControllerNotifier _cameraControllerWrapper =
-      CameraControllerNotifier();
-
   static List<CameraDescription>? _cameras;
 
   /// Mandatory method to call before [findBestCamera]
@@ -21,87 +17,22 @@ class CameraHelper {
     }
   }
 
-  /// Returns if the device has at least one camera
-  static bool get hasACamera {
+  /// Returns if the device has more than one camera
+  static bool get hasMoreThanOneCamera {
     if (_cameras == null) {
       throw Exception('Please call [init] before!');
-    } else {
-      return _cameras!.isNotEmpty;
     }
+    return _cameras!.length > 1;
   }
 
-  /// Find the most relevant camera to use if none of these criteria are met,
-  /// the default value of [_cameraIndex] will be used to select the first
-  /// camera in the global cameras list.
-  /// if non matching is found we fall back to the first in the list
-  /// initValue of [_cameraIndex]/
-  static CameraDescription? findBestCamera({
-    CameraLensDirection cameraLensDirection = CameraLensDirection.back,
-  }) {
+  /// Returns if the device has at least one camera
+  static bool get hasACamera {
     if (_cameras == null) {
       throw Exception('Please call [init] before!');
-    } else if (_cameras!.isEmpty) {
-      return null;
-    }
-
-    int cameraIndex = -1;
-
-    if (_cameras!.any(
-      (CameraDescription element) =>
-          element.lensDirection == cameraLensDirection &&
-          element.sensorOrientation == 90,
-    )) {
-      cameraIndex = _cameras!.indexOf(
-        _cameras!.firstWhere((CameraDescription element) =>
-            element.lensDirection == cameraLensDirection &&
-            element.sensorOrientation == 90),
-      );
-    } else if (_cameras!.any((CameraDescription element) =>
-        element.lensDirection == cameraLensDirection)) {
-      cameraIndex = _cameras!.indexOf(
-        _cameras!.firstWhere(
-          (CameraDescription element) =>
-              element.lensDirection == cameraLensDirection,
-        ),
-      );
+    } else {
+      return _cameras!.isNotEmpty;
     }
-
-    return _cameras![cameraIndex];
-  }
-
-  /// Init the controller
-  /// And prevents the redefinition of it
-  static void initController(SmoothCameraController controller) {
-    _cameraControllerWrapper._updateController(controller);
   }
 
-  static void destroyControllerInstance() {
-    _cameraControllerWrapper._updateController(null);
-  }
-
-  static SmoothCameraController? get controller =>
-      _cameraControllerWrapper._controller;
-
-  /// Subscribe to this notifier to know when the controller is created /
-  /// destroyed
-  static CameraControllerNotifier get cameraControllerNotifier =>
-      _cameraControllerWrapper;
-
   static bool get isSupported => kIsWeb || Platform.isAndroid || Platform.isIOS;
 }
-
-/// Custom implementation to prevent the use of a [ValueNotifier] which may be
-/// limited in some case (@see [_updateController] below)
-class CameraControllerNotifier extends ChangeNotifier {
-  SmoothCameraController? _controller;
-
-  void _updateController(SmoothCameraController? controller) {
-    try {
-      _controller = controller;
-      // Always call [notifyListeners] even if the value is similar
-      notifyListeners();
-    } catch (err) {
-      // If no Widget listens to us, an error may be thrown here
-    }
-  }
-}
diff --git a/packages/smooth_app/lib/helpers/network_config.dart b/packages/smooth_app/lib/helpers/network_config.dart
index 9a51524ca4eb..c6234fa0c0e0 100644
--- a/packages/smooth_app/lib/helpers/network_config.dart
+++ b/packages/smooth_app/lib/helpers/network_config.dart
@@ -82,7 +82,7 @@ Future<void> _importSSLCertificate() async {
   if (Platform.isAndroid) {
     await dip.loadLibrary();
     final int sdkInt =
-        (await dip.DeviceInfoPlugin().androidInfo).version.sdkInt ?? 1;
+        (await dip.DeviceInfoPlugin().androidInfo).version.sdkInt;
 
     // API Level 25 is Android 7.1
     if (sdkInt < 25) {
diff --git a/packages/smooth_app/lib/l10n/app_en.arb b/packages/smooth_app/lib/l10n/app_en.arb
index c35729f08e69..44ac7dc14449 100644
--- a/packages/smooth_app/lib/l10n/app_en.arb
+++ b/packages/smooth_app/lib/l10n/app_en.arb
@@ -1057,6 +1057,10 @@
     "permission_photo_denied_dialog_settings_message": "As you've previously denied the camera permission, you must allow it manually from the Settings.",
     "permission_photo_denied_dialog_settings_button_open": "Open settings",
     "permission_photo_denied_dialog_settings_button_cancel": "Cancel",
+    "permission_photo_none_found": "No camera detected",
+    "@permission_photo_none_found": {
+        "description": "Message for the user when no camera was detected, replacing the barcode scanner"
+    },
     "permission_photo_denied": "No camera access granted",
     "@permission_photo_denied": {
         "description": "When the camera/photo permission is denied by user"
diff --git a/packages/smooth_app/lib/l10n/app_fr.arb b/packages/smooth_app/lib/l10n/app_fr.arb
index 996a1e3580fe..2e33fded447f 100644
--- a/packages/smooth_app/lib/l10n/app_fr.arb
+++ b/packages/smooth_app/lib/l10n/app_fr.arb
@@ -1057,6 +1057,10 @@
     "permission_photo_denied_dialog_settings_message": "Puisque vous avez refusé l'utilisation de l'appareil photo, vous devez l'autoriser manuellement dans les paramètres.",
     "permission_photo_denied_dialog_settings_button_open": "Ouvrir les paramètres",
     "permission_photo_denied_dialog_settings_button_cancel": "Annuler",
+    "permission_photo_none_found": "Pas de caméra détectée",
+    "@permission_photo_none_found": {
+        "description": "Message for the user when no camera was detected, replacing the barcode scanner"
+    },
     "permission_photo_denied": "Aucun accès à l'appareil photo autorisé",
     "@permission_photo_denied": {
         "description": "When the camera/photo permission is denied by user"
diff --git a/packages/smooth_app/lib/main.dart b/packages/smooth_app/lib/main.dart
index 51e4a6b374d3..b5fd4824fa7f 100644
--- a/packages/smooth_app/lib/main.dart
+++ b/packages/smooth_app/lib/main.dart
@@ -13,7 +13,6 @@ import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:permission_handler/permission_handler.dart';
 import 'package:provider/provider.dart';
 import 'package:provider/single_child_widget.dart';
-import 'package:scanner_shared/scanner_shared.dart';
 import 'package:sentry_flutter/sentry_flutter.dart';
 import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/data_models/product_preferences.dart';
@@ -27,6 +26,7 @@ import 'package:smooth_app/helpers/data_importer/smooth_app_data_importer.dart';
 import 'package:smooth_app/helpers/network_config.dart';
 import 'package:smooth_app/helpers/permission_helper.dart';
 import 'package:smooth_app/pages/onboarding/onboarding_flow_navigator.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 import 'package:smooth_app/query/product_query.dart';
 import 'package:smooth_app/services/smooth_services.dart';
 import 'package:smooth_app/themes/color_provider.dart';
@@ -56,7 +56,7 @@ late bool _screenshots;
 late String flavour;
 
 Future<void> launchSmoothApp({
-  required CameraScanner scanner,
+  required SmoothBarcodeScannerType scanner,
   required AppStore appStore,
   required String appFlavour,
   final bool screenshots = false,
@@ -89,7 +89,7 @@ Future<void> launchSmoothApp({
 class SmoothApp extends StatefulWidget {
   const SmoothApp(this.scanner, this.appStore);
 
-  final CameraScanner scanner;
+  final SmoothBarcodeScannerType scanner;
   final AppStore appStore;
 
   // This widget is the root of your application
@@ -216,10 +216,7 @@ class _SmoothAppState extends State<SmoothApp> {
             provide<ContinuousScanModel>(_continuousScanModel),
             provide<SmoothAppDataImporter>(_appDataImporter),
             provide<PermissionListener>(_permissionListener),
-            provide<CameraControllerNotifier>(
-              CameraHelper.cameraControllerNotifier,
-            ),
-            Provider<CameraScanner>.value(
+            Provider<SmoothBarcodeScannerType>.value(
               value: widget.scanner,
             ),
           ],
diff --git a/packages/smooth_app/lib/pages/onboarding/onboarding_bottom_bar.dart b/packages/smooth_app/lib/pages/onboarding/onboarding_bottom_bar.dart
index f1dd9b5c0456..1a89d947e3b4 100644
--- a/packages/smooth_app/lib/pages/onboarding/onboarding_bottom_bar.dart
+++ b/packages/smooth_app/lib/pages/onboarding/onboarding_bottom_bar.dart
@@ -115,8 +115,8 @@ class OnboardingBottomIcon extends StatelessWidget {
         style: ElevatedButton.styleFrom(
           shape: const CircleBorder(),
           padding: const EdgeInsets.all(MEDIUM_SPACE),
-          primary: backgroundColor,
-          onPrimary: foregroundColor,
+          backgroundColor: backgroundColor,
+          foregroundColor: foregroundColor,
         ),
         onPressed: onPressed,
         child: Padding(
diff --git a/packages/smooth_app/lib/pages/preferences/user_preferences_dev_mode.dart b/packages/smooth_app/lib/pages/preferences/user_preferences_dev_mode.dart
index e0675758fa5b..77b217458e2a 100644
--- a/packages/smooth_app/lib/pages/preferences/user_preferences_dev_mode.dart
+++ b/packages/smooth_app/lib/pages/preferences/user_preferences_dev_mode.dart
@@ -4,7 +4,6 @@ import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:flutter_localizations/flutter_localizations.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:provider/provider.dart';
-import 'package:scanner_shared/scanner_shared.dart';
 import 'package:smooth_app/background/background_task_badge.dart';
 import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/data_models/product_list.dart';
@@ -19,9 +18,7 @@ import 'package:smooth_app/pages/offline_tasks_page.dart';
 import 'package:smooth_app/pages/onboarding/onboarding_flow_navigator.dart';
 import 'package:smooth_app/pages/preferences/abstract_user_preferences.dart';
 import 'package:smooth_app/pages/preferences/user_preferences_dev_debug_info.dart';
-import 'package:smooth_app/pages/preferences/user_preferences_dialog_editor.dart';
 import 'package:smooth_app/pages/preferences/user_preferences_page.dart';
-import 'package:smooth_app/pages/scan/camera_scan_page.dart';
 import 'package:smooth_app/query/product_query.dart';
 
 /// Full page display of "dev mode" for the preferences page.
@@ -48,8 +45,6 @@ class UserPreferencesDevMode extends AbstractUserPreferences {
   static const String userPreferencesFlagEditIngredients = '__editIngredients';
   static const String userPreferencesEnumScanMode = '__scanMode';
   static const String userPreferencesAppLanguageCode = '__appLanguage';
-  static const String userPreferencesCameraPostFrameDuration =
-      '__cameraPostFrameDuration';
   static const String userPreferencesFlagAccessibilityNoColor =
       '__accessibilityNoColor';
   static const String userPreferencesFlagAccessibilityEmoji =
@@ -148,10 +143,6 @@ class UserPreferencesDevMode extends AbstractUserPreferences {
           ),
           onTap: () async => _changeTestEnvHost(),
         ),
-        ListTile(
-          title: const Text('Change camera post frame callback duration'),
-          onTap: () async => _changeCameraPostFrameCallbackDuration(),
-        ),
         SwitchListTile(
           title: Text(
             appLocalizations.dev_preferences_edit_ingredients_title,
@@ -324,53 +315,6 @@ class UserPreferencesDevMode extends AbstractUserPreferences {
             }
           },
         ),
-        ListTile(
-          title: Text(
-            appLocalizations.dev_mode_scan_mode_title,
-          ),
-          subtitle: Text(
-            appLocalizations
-                .dev_mode_scan_mode_subtitle(DevModeScanMode.fromIndex(
-              userPreferences.getDevModeIndex(
-                userPreferencesEnumScanMode,
-              ),
-            ).localizedLabel(appLocalizations)),
-          ),
-          onTap: () async {
-            final DevModeScanMode? scanMode = await showDialog<DevModeScanMode>(
-              context: context,
-              builder: (BuildContext context) => SmoothAlertDialog(
-                title: appLocalizations.dev_mode_scan_mode_dialog_title,
-                body: SizedBox(
-                  height: 400,
-                  width: 300,
-                  child: ListView.builder(
-                    itemCount: DevModeScanMode.values.length,
-                    itemBuilder: (final BuildContext context, final int index) {
-                      final DevModeScanMode scanMode =
-                          DevModeScanMode.values[index];
-                      return ListTile(
-                        title: Text(scanMode.localizedLabel(appLocalizations)),
-                        onTap: () => Navigator.pop(context, scanMode),
-                      );
-                    },
-                  ),
-                ),
-                negativeAction: SmoothActionButton(
-                  text: appLocalizations.dev_preferences_button_negative,
-                  onPressed: () => Navigator.pop(context),
-                ),
-              ),
-            );
-            if (scanMode != null) {
-              await userPreferences.setDevModeIndex(
-                userPreferencesEnumScanMode,
-                scanMode.idx,
-              );
-              setState(() {});
-            }
-          },
-        ),
         SwitchListTile(
           title: Text(
             appLocalizations.dev_mode_hide_ecoscore_title,
@@ -476,51 +420,4 @@ class UserPreferencesDevMode extends AbstractUserPreferences {
       setState(() {});
     }
   }
-
-  Future<void> _changeCameraPostFrameCallbackDuration() async {
-    const int minValue = CameraScannerPageState.postFrameCallbackStandardDelay;
-    final int initialValue = userPreferences.getDevModeIndex(
-          userPreferencesCameraPostFrameDuration,
-        ) ??
-        minValue;
-
-    final int? result = await showDialog<int>(
-        context: context,
-        builder: (BuildContext context) {
-          return UserPreferencesEditValueDialog<int>(
-            label: 'Camera post frame callback duration',
-            initialValue: initialValue,
-            converter: (String value) => int.tryParse(value) ?? 0,
-            validator: (int? newValue) =>
-                newValue != null && newValue >= minValue,
-            textAlignment: TextAlign.center,
-            keyboardType: TextInputType.number,
-          );
-        });
-
-    if (result is int && result > minValue) {
-      userPreferences.setDevModeIndex(
-        userPreferencesCameraPostFrameDuration,
-        result,
-      );
-      setState(() {});
-    }
-  }
-}
-
-extension DevModeScanModeExt on DevModeScanMode {
-  String localizedLabel(AppLocalizations appLocalizations) {
-    switch (this) {
-      case DevModeScanMode.CAMERA_ONLY:
-        return appLocalizations.dev_mode_scan_camera_only;
-      case DevModeScanMode.PREPROCESS_FULL_IMAGE:
-        return appLocalizations.dev_mode_scan_preprocess_full_image;
-      case DevModeScanMode.PREPROCESS_HALF_IMAGE:
-        return appLocalizations.dev_mode_scan_preprocess_half_image;
-      case DevModeScanMode.SCAN_FULL_IMAGE:
-        return appLocalizations.dev_mode_scan_scan_full_image;
-      case DevModeScanMode.SCAN_HALF_IMAGE:
-        return appLocalizations.dev_mode_scan_scan_half_image;
-    }
-  }
 }
diff --git a/packages/smooth_app/lib/pages/preferences/user_preferences_dialog_editor.dart b/packages/smooth_app/lib/pages/preferences/user_preferences_dialog_editor.dart
deleted file mode 100644
index 2ef42c3821d7..000000000000
--- a/packages/smooth_app/lib/pages/preferences/user_preferences_dialog_editor.dart
+++ /dev/null
@@ -1,96 +0,0 @@
-import 'package:flutter/material.dart';
-import 'package:flutter_gen/gen_l10n/app_localizations.dart';
-import 'package:smooth_app/generic_lib/dialogs/smooth_alert_dialog.dart';
-
-/// Generic value editor
-/// The result will be sent through the [Navigator]
-class UserPreferencesEditValueDialog<T> extends StatefulWidget {
-  const UserPreferencesEditValueDialog({
-    required this.label,
-    required this.initialValue,
-    required this.converter,
-    this.validator,
-    this.keyboardType,
-    this.textAlignment,
-    Key? key,
-  }) : super(key: key);
-
-  /// Title of the dialog
-  final String label;
-
-  /// Mandatory field to convert between the [String] entered by the user
-  /// and the expected type [T]. This is also the result passed to the
-  /// [Navigator].
-  final EditorValueConverter<T?> converter;
-
-  /// Initial value of type [T], which may be null.
-  /// In that case the [label] will be used as the hint.
-  final T? initialValue;
-
-  /// Current value validator.
-  /// The "OK" button will be disabled until [false] is returned.
-  /// Without passing this validator, all values are considered as correct.
-  final EditorValueValidator<T>? validator;
-  final TextInputType? keyboardType;
-  final TextAlign? textAlignment;
-
-  @override
-  State<UserPreferencesEditValueDialog<T>> createState() =>
-      _UserPreferencesEditValueDialogState<T>();
-}
-
-class _UserPreferencesEditValueDialogState<T>
-    extends State<UserPreferencesEditValueDialog<T>> {
-  late TextEditingController _controller;
-  late bool _isValid;
-  T? _currentValue;
-
-  @override
-  void initState() {
-    super.initState();
-
-    _currentValue = widget.initialValue;
-    _controller = TextEditingController(
-      text: widget.initialValue?.toString(),
-    );
-
-    _isValid = widget.validator?.call(_currentValue) ?? true;
-  }
-
-  @override
-  Widget build(BuildContext context) {
-    final AppLocalizations appLocalizations = AppLocalizations.of(context);
-
-    return SmoothAlertDialog(
-      title: widget.label,
-      body: TextField(
-        autofocus: true,
-        controller: _controller,
-        onChanged: (String value) {
-          _currentValue = widget.converter(value);
-
-          setState(() {
-            _isValid = widget.validator?.call(_currentValue) ?? true;
-          });
-        },
-        decoration: InputDecoration(
-          hintText: widget.label,
-        ),
-        textAlign: widget.textAlignment ?? TextAlign.start,
-        keyboardType: widget.keyboardType ?? TextInputType.text,
-      ),
-      negativeAction: SmoothActionButton(
-        text: appLocalizations.cancel,
-        onPressed: () => Navigator.of(context).pop(),
-      ),
-      positiveAction: SmoothActionButton(
-        text: appLocalizations.okay,
-        onPressed:
-            _isValid ? () => Navigator.of(context).pop(_currentValue) : null,
-      ),
-    );
-  }
-}
-
-typedef EditorValueConverter<T> = T Function(String newValue);
-typedef EditorValueValidator<T> = bool Function(T? newValue);
diff --git a/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart b/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
index 32958243aba0..6b2cccbbc7ba 100644
--- a/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
+++ b/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
@@ -17,7 +17,6 @@ import 'package:smooth_app/pages/onboarding/country_selector.dart';
 import 'package:smooth_app/pages/preferences/abstract_user_preferences.dart';
 import 'package:smooth_app/pages/preferences/user_preferences_page.dart';
 import 'package:smooth_app/pages/preferences/user_preferences_widgets.dart';
-import 'package:smooth_app/pages/scan/camera_modes.dart';
 import 'package:smooth_app/services/smooth_services.dart';
 import 'package:smooth_app/themes/color_provider.dart';
 import 'package:smooth_app/themes/color_schemes.dart';
@@ -530,7 +529,7 @@ class _AdvancedSettings extends StatelessWidget {
               padding: const EdgeInsets.only(top: SMALL_SPACE),
               child: Text(
                 appLocalizations.native_app_description,
-                style: Theme.of(context).textTheme.bodyText2,
+                style: Theme.of(context).textTheme.bodyMedium,
               ),
             ),
             trailing: const Padding(
@@ -611,10 +610,6 @@ class _CameraSettings extends StatelessWidget {
         UserPreferencesTitle(
           label: appLocalizations.settings_app_camera,
         ),
-        if (CameraModes.supportBothModes) ...<Widget>[
-          const _CameraModesSelectorSetting(),
-          const UserPreferencesListItemDivider(),
-        ],
         const _CameraPlayScanSoundSetting(),
       ],
     );
@@ -640,42 +635,6 @@ class _CameraPlayScanSoundSetting extends StatelessWidget {
   }
 }
 
-/// This setting will act as a toggle between the two camera modes.
-class _CameraModesSelectorSetting extends StatelessWidget {
-  const _CameraModesSelectorSetting({Key? key}) : super(key: key);
-
-  @override
-  Widget build(BuildContext context) {
-    final AppLocalizations appLocalizations = AppLocalizations.of(context);
-    final UserPreferences userPreferences = context.watch<UserPreferences>();
-
-    CameraMode mode;
-
-    if (userPreferences.useFileBasedCameraMode == true) {
-      mode = CameraMode.FILE_BASED;
-    } else if (userPreferences.useFileBasedCameraMode == false) {
-      mode = CameraMode.BYTES_ARRAY;
-    } else {
-      mode = CameraModes.defaultCameraMode;
-    }
-
-    // File-based mode is called "Safe mode" for users
-    // Bytes array mode is called "Quick mode"
-    return UserPreferencesSwitchItem(
-      title: appLocalizations.camera_mode_title,
-      subtitle: appLocalizations.camera_mode_subtitle(
-        mode == CameraMode.FILE_BASED
-            ? appLocalizations.camera_mode_file_based
-            : appLocalizations.camera_mode_bytes_array_based,
-      ),
-      value: mode == CameraMode.FILE_BASED,
-      onChanged: (final bool value) {
-        userPreferences.setUseFileBasedCameraMode(value);
-      },
-    );
-  }
-}
-
 class _ProductsSettings extends StatelessWidget {
   const _ProductsSettings({Key? key}) : super(key: key);
 
diff --git a/packages/smooth_app/lib/pages/product/new_product_page.dart b/packages/smooth_app/lib/pages/product/new_product_page.dart
index b3c927d03ea6..36e28be25840 100644
--- a/packages/smooth_app/lib/pages/product/new_product_page.dart
+++ b/packages/smooth_app/lib/pages/product/new_product_page.dart
@@ -357,7 +357,7 @@ class _ProductPageState extends State<ProductPage> with TraceableClientMixin {
               padding: const EdgeInsets.all(
                 18,
               ), // TODO(monsieurtanuki): cf. FloatingActionButton
-              primary: colorScheme.primary,
+              backgroundColor: colorScheme.primary,
             ),
             child: Icon(iconData, color: colorScheme.onPrimary),
           ),
diff --git a/packages/smooth_app/lib/pages/scan/camera_controller.dart b/packages/smooth_app/lib/pages/scan/camera_controller.dart
deleted file mode 100644
index 1928ca289c74..000000000000
--- a/packages/smooth_app/lib/pages/scan/camera_controller.dart
+++ /dev/null
@@ -1,387 +0,0 @@
-import 'dart:async';
-import 'dart:io';
-
-import 'package:camera/camera.dart';
-import 'package:camera_platform_interface/camera_platform_interface.dart';
-import 'package:flutter/material.dart';
-import 'package:flutter/services.dart';
-import 'package:smooth_app/data_models/user_preferences.dart';
-import 'package:smooth_app/generic_lib/duration_constants.dart';
-import 'package:smooth_app/pages/scan/camera_modes.dart';
-import 'package:smooth_app/services/smooth_services.dart';
-
-/// A lifecycle-aware [CameraController]
-/// On Android it supports pause/resume feed
-/// On iOS, pausing the feed will dispose the controller instead, as the camera
-/// indicator stays on
-class SmoothCameraController extends CameraController {
-  SmoothCameraController(
-    this.preferences,
-    super.description,
-    super.resolutionPreset, {
-    super.imageFormatGroup,
-  })  : _state = _CameraState.notInitialized,
-        _hasAPendingResume = false,
-        super(
-          enableAudio: false,
-        ) {
-    Logs.d(tag: 'CameraController', 'New controller created');
-  }
-
-  final UserPreferences preferences;
-
-  /// Status of the preview
-  _CameraState _state;
-
-  /// Flag to indicate that the [resumePreview] method was called, but
-  /// [pausePreview] was still processing
-  bool _hasAPendingResume;
-
-  /// Listen to camera closed events
-  StreamSubscription<CameraClosingEvent>? _closeListener;
-
-  /// Listen to camera error events
-  StreamSubscription<CameraErrorEvent>? _errorListener;
-
-  /// Last focus point position
-  Offset? _focusPoint;
-
-  /// Does the camera use the alternative mode (file based implementation)?
-  /// Enabled to [false] by default, as [changeImageMode] can be called, even if
-  /// [init] wasn't called before.
-  bool _persistToFileMode = false;
-
-  Future<void> init({
-    required FocusMode focusMode,
-    required Offset focusPoint,
-    required DeviceOrientation deviceOrientation,
-    required onLatestImageAvailable onAvailable,
-    bool? enableTorch,
-  }) async {
-    if (!isInitialized) {
-      Logs.d(tag: 'CameraController', 'Controller is being initialized');
-      _updateState(_CameraState.beingInitialized);
-      await initialize();
-      await setFocusMode(focusMode);
-      await setExposurePoint(focusPoint);
-      await setFocusPointTo(focusPoint);
-      await lockCaptureOrientation(deviceOrientation);
-      await startStream(onAvailable);
-      await enableFlash(enableTorch ?? preferences.useFlashWithCamera);
-      _updateState(_CameraState.initialized);
-      _hasAPendingResume = false;
-
-      _closeListener = CameraPlatform.instance
-          .onCameraClosing(cameraId)
-          .listen((CameraClosingEvent event) async {
-        value = value.markAsClosed();
-        Logs.d(tag: 'CameraController', 'Camera closed!');
-      });
-
-      _errorListener = CameraPlatform.instance
-          .onCameraError(cameraId)
-          .listen((CameraErrorEvent event) async {
-        Logs.d(
-            tag: 'CameraController', 'On camera error: ${event.description}');
-      });
-
-      _updateState(_CameraState.resumed);
-    } else {
-      Logs.w(tag: 'CameraController', 'Controller already initialized!');
-    }
-  }
-
-  /// Please use [init] instead
-  @protected
-  @override
-  Future<void> initialize() => super.initialize();
-
-  @protected
-  Future<void> startStream(onLatestImageAvailable onAvailable) async {
-    if (CameraModes.supportFileBasedMode) {
-      _persistToFileMode = preferences.useFileBasedCameraMode ??
-          (CameraModes.defaultCameraMode == CameraMode.FILE_BASED);
-    } else {
-      _persistToFileMode = false;
-    }
-
-    return startImageStream(
-      onAvailable,
-      persistToFile: _persistToFileMode,
-    );
-  }
-
-  Future<void> reloadImageMode() async {
-    final bool? fileBasedCameraMode = preferences.useFileBasedCameraMode;
-
-    /// Keep using the default value
-    if (fileBasedCameraMode == null) {
-      return;
-    }
-
-    if (fileBasedCameraMode != _persistToFileMode) {
-      _persistToFileMode = fileBasedCameraMode;
-      await changeImageMode(_persistToFileMode);
-    }
-  }
-
-  /// Never use this method directly, use [reloadImageMode] instead
-  @protected
-  @override
-  Future<bool> changeImageMode(bool persistToFile) {
-    return super.changeImageMode(persistToFile);
-  }
-
-  /// Never use this method directly, by through [startStream]
-  /// [persistToFile] is what we call the "alternative" mode
-  @protected
-  @override
-  Future<void> startImageStream(
-    onLatestImageAvailable onAvailable, {
-    bool persistToFile = false,
-  }) {
-    final Future<void> startImageStreamResult = super.startImageStream(
-      onAvailable,
-      persistToFile: persistToFile,
-    );
-
-    Logs.d(
-      tag: 'CameraController',
-      persistToFile
-          ? 'Image stream started with files'
-          : 'Image stream started with camera stream',
-    );
-
-    return startImageStreamResult;
-  }
-
-  @override
-  Future<void> pausePreview() async {
-    if (!isPauseResumePreviewSupported) {
-      throw UnimplementedError('This feature is not supported!');
-    }
-
-    if (_state != _CameraState.beingPaused) {
-      Logs.d(tag: 'CameraController', 'Image stream being paused');
-      _updateState(_CameraState.beingPaused);
-
-      try {
-        await _pauseFlash();
-      } catch (exception) {
-        // Camera already disposed
-      }
-
-      try {
-        await super.pausePreview();
-      } catch (exception) {
-        // Camera already disposed
-      }
-
-      _updateState(_CameraState.paused);
-
-      Logs.d(tag: 'CameraController', 'Image stream paused');
-
-      // If the pause process took too long, resume the camera if necessary
-      if (_hasAPendingResume) {
-        _hasAPendingResume = false;
-        Logs.d(tag: 'CameraController', '');
-        resumePreviewIfNecessary();
-      }
-    }
-  }
-
-  Future<void> resumePreviewIfNecessary() async {
-    if (!isPauseResumePreviewSupported) {
-      throw UnimplementedError('This feature is not supported!');
-    } else if (_state.isDisposedOrBeing) {
-      throw const DisposedControllerException();
-    } else if (_state == _CameraState.beingPaused) {
-      // The pause process can sometimes be too long, in that case, we just for
-      // it to be finished
-      _hasAPendingResume = true;
-      Logs.d(
-          tag: 'CameraController',
-          'Preview not paused, will be restarted later…');
-      return;
-    } else if (_state == _CameraState.paused) {
-      return resumePreview();
-    }
-  }
-
-  /// Please use [resumePreviewIfNecessary] instead
-  @protected
-  @override
-  Future<void> resumePreview() async {
-    if (_state.isDisposedOrBeing) {
-      throw const DisposedControllerException();
-    }
-
-    _updateState(_CameraState.beingResumed);
-    await super.resumePreview();
-    await _resumeFlash();
-    await refocus();
-    _updateState(_CameraState.resumed);
-    notifyListeners();
-  }
-
-  Future<void> _resumeFlash() async {
-    if (preferences.useFlashWithCamera) {
-      Logs.d(tag: 'CameraController', 'Resuming flash…');
-      return enableFlash(preferences.useFlashWithCamera);
-    }
-  }
-
-  Future<void> _pauseFlash() {
-    // Don't persist value to preferences
-    return setFlashMode(FlashMode.off).then(
-      // A slight delay is required as the native part doesn't wait here
-      (_) => Future<void>.delayed(SmoothAnimationsDuration.short),
-    );
-  }
-
-  Future<void> enableFlash(bool enable) async {
-    Logs.d(tag: 'CameraController', 'Changing flash state to: $enable');
-    await setFlashMode(enable ? FlashMode.torch : FlashMode.off);
-    await preferences.setUseFlashWithCamera(enable);
-  }
-
-  /// Please use [enableFlash] instead
-  @protected
-  @override
-  Future<void> setFlashMode(FlashMode mode) {
-    return super.setFlashMode(mode);
-  }
-
-  bool get isFlashModeEnabled {
-    return value.flashMode == FlashMode.torch;
-  }
-
-  @override
-  Future<void> stopImageStream() async {
-    await super.stopImageStream();
-    Logs.d(tag: 'CameraController', 'Image stream stopped');
-    _updateState(_CameraState.stopped);
-  }
-
-  Future<void> setFocusPointTo(
-    Offset? point,
-  ) async {
-    await setExposurePoint(point);
-    await setFocusPoint(
-      point,
-      FocusPointMode.auto,
-    );
-    _focusPoint = point;
-  }
-
-  @protected
-  @override
-  Future<void> setFocusPoint(
-    Offset? point,
-    FocusPointMode? mode,
-  ) async {
-    await setExposurePointSafe(point);
-    await super.setFocusPoint(point, mode);
-    _focusPoint = point;
-  }
-
-  /// This method may fail on some devices, but as it's not mandatory, we can
-  /// ignore Exceptions
-  Future<void> setExposurePointSafe(Offset? point) async {
-    try {
-      return super.setExposurePoint(point);
-    } catch (_) {}
-  }
-
-  /// Force the focus to the latest call to [setFocusPoint].
-  Future<void> refocus() async {
-    return setFocusPoint(_focusPoint, FocusPointMode.auto);
-  }
-
-  Future<void> forceFocus() async {
-    if (isInitialized && _state == _CameraState.resumed) {
-      return setFocusPointTo(_focusPoint);
-    }
-  }
-
-  @override
-  Future<void> dispose() async {
-    _updateState(_CameraState.isBeingDisposed);
-    _closeListener?.cancel();
-    _errorListener?.cancel();
-    await super.dispose();
-    _updateState(_CameraState.disposed);
-  }
-
-  void _updateState(_CameraState newState) {
-    if (newState != _state) {
-      _state = newState;
-      Logs.d(tag: 'CameraController', 'New camera state = $_state');
-
-      // Notify the UI to ensure a setState is called
-      if (_state == _CameraState.resumed) {
-        notifyListeners();
-      }
-    }
-  }
-
-  @override
-  Widget buildPreview() {
-    try {
-      return super.buildPreview();
-    } catch (err) {
-      if (err is CameraException && err.code == 'Disposed CameraController') {
-        _updateState(_CameraState.disposed);
-        // Just ignore the issue, a new Controller will be created
-        // Issue reproducible on iOS
-      }
-
-      return const SizedBox.shrink();
-    }
-  }
-
-  bool get isPaused => _state == _CameraState.paused;
-
-  bool get isInitialized => !<_CameraState>[
-        _CameraState.notInitialized,
-        _CameraState.beingInitialized,
-        _CameraState.isBeingDisposed,
-        _CameraState.disposed,
-      ].contains(_state);
-
-  bool get canShowPreview => isInitialized && _state == _CameraState.resumed;
-
-  bool get isBeingInitialized => _state == _CameraState.beingInitialized;
-
-  bool get isPauseResumePreviewSupported => !Platform.isIOS;
-}
-
-extension CameraValueExtension on CameraValue {
-  static const String _cameraClosedDescription = 'Camera closed';
-
-  CameraValue markAsClosed() => copyWith(
-        errorDescription: _cameraClosedDescription,
-      );
-
-  bool get isClosed => errorDescription == _cameraClosedDescription;
-}
-
-enum _CameraState {
-  notInitialized,
-  beingInitialized,
-  initialized,
-  beingPaused,
-  paused,
-  beingResumed,
-  resumed,
-  stopped,
-  isBeingDisposed,
-  disposed;
-
-  bool get isDisposedOrBeing =>
-      this == _CameraState.isBeingDisposed || this == _CameraState.disposed;
-}
-
-class DisposedControllerException implements Exception {
-  const DisposedControllerException();
-}
diff --git a/packages/smooth_app/lib/pages/scan/camera_image_preview.dart b/packages/smooth_app/lib/pages/scan/camera_image_preview.dart
deleted file mode 100644
index f77c300cc81e..000000000000
--- a/packages/smooth_app/lib/pages/scan/camera_image_preview.dart
+++ /dev/null
@@ -1,77 +0,0 @@
-import 'dart:io';
-
-import 'package:flutter/material.dart';
-import 'package:flutter/services.dart';
-import 'package:provider/provider.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/pages/scan/camera_controller.dart';
-
-/// Forked Widget from the [camera] library, but with a simpler content
-class SmoothCameraStreamPreview extends StatelessWidget {
-  const SmoothCameraStreamPreview({
-    super.key,
-  });
-
-  @override
-  Widget build(BuildContext context) {
-    // Ensure this Widget is rebuild when necessary
-    Provider.of<CameraControllerNotifier>(
-      context,
-      listen: true,
-    );
-
-    final SmoothCameraController? cameraController = controller;
-    if (cameraController == null || cameraController.isInitialized != true) {
-      return const SizedBox.shrink();
-    }
-
-    return AspectRatio(
-      aspectRatio: _isLandscape()
-          ? controller!.value.aspectRatio
-          : (1.0 / controller!.value.aspectRatio),
-      child: _wrapInRotatedBox(
-        child: controller!.buildPreview(),
-      ),
-    );
-  }
-
-  Widget _wrapInRotatedBox({
-    required Widget child,
-  }) {
-    if (Platform.isIOS) {
-      return child;
-    }
-
-    return RotatedBox(
-      quarterTurns: _getQuarterTurns(),
-      child: child,
-    );
-  }
-
-  bool _isLandscape() {
-    return <DeviceOrientation>[
-      DeviceOrientation.landscapeLeft,
-      DeviceOrientation.landscapeRight
-    ].contains(_getApplicableOrientation());
-  }
-
-  int _getQuarterTurns() {
-    final Map<DeviceOrientation, int> turns = <DeviceOrientation, int>{
-      DeviceOrientation.portraitUp: 0,
-      DeviceOrientation.landscapeRight: 1,
-      DeviceOrientation.portraitDown: 2,
-      DeviceOrientation.landscapeLeft: 3,
-    };
-    return turns[_getApplicableOrientation()]!;
-  }
-
-  DeviceOrientation _getApplicableOrientation() {
-    return controller!.value.isRecordingVideo
-        ? controller!.value.recordingOrientation!
-        : (controller!.value.previewPauseOrientation ??
-            controller!.value.lockedCaptureOrientation ??
-            controller!.value.deviceOrientation);
-  }
-
-  SmoothCameraController? get controller => CameraHelper.controller;
-}
diff --git a/packages/smooth_app/lib/pages/scan/camera_modes.dart b/packages/smooth_app/lib/pages/scan/camera_modes.dart
deleted file mode 100644
index a85ff033a95b..000000000000
--- a/packages/smooth_app/lib/pages/scan/camera_modes.dart
+++ /dev/null
@@ -1,25 +0,0 @@
-import 'dart:io';
-
-/// The app supports two camera modes:
-/// - The alternative one (or file-based) relying on files
-///  * enabled by default
-///  * not available on iOS
-/// - The old one relying on a list of bytes
-///  * only solution available on iOS
-class CameraModes {
-  const CameraModes._();
-
-  static bool get supportBothModes => Platform.isAndroid;
-
-  static bool get supportFileBasedMode => Platform.isAndroid;
-
-  static bool get supportBytesArrayMode => Platform.isAndroid || Platform.isIOS;
-
-  static CameraMode get defaultCameraMode =>
-      supportFileBasedMode ? CameraMode.FILE_BASED : CameraMode.BYTES_ARRAY;
-}
-
-enum CameraMode {
-  FILE_BASED,
-  BYTES_ARRAY,
-}
diff --git a/packages/smooth_app/lib/pages/scan/camera_scan_page.dart b/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
index d6495b291002..cbdb506a54ce 100644
--- a/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
+++ b/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
@@ -1,114 +1,43 @@
 import 'dart:async';
-import 'dart:math' as math;
 
 import 'package:audioplayers/audioplayers.dart';
 import 'package:flutter/material.dart' hide Listener;
-import 'package:flutter/scheduler.dart';
-import 'package:flutter/services.dart';
+import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:matomo_tracker/matomo_tracker.dart';
 import 'package:provider/provider.dart';
-import 'package:rxdart/rxdart.dart';
-import 'package:scanner_shared/scanner_shared.dart';
 import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/data_models/user_preferences.dart';
 import 'package:smooth_app/helpers/app_helper.dart';
 import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/helpers/collections_helper.dart';
 import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
-import 'package:smooth_app/helpers/provider_helper.dart';
-import 'package:smooth_app/pages/page_manager.dart';
-import 'package:smooth_app/pages/preferences/user_preferences_dev_mode.dart';
-import 'package:smooth_app/pages/scan/camera_controller.dart';
-import 'package:smooth_app/pages/scan/camera_image_preview.dart';
-import 'package:smooth_app/pages/scan/lifecycle_manager.dart';
-import 'package:smooth_app/pages/scan/scan_visor.dart';
-import 'package:smooth_app/services/smooth_services.dart';
-import 'package:smooth_app/widgets/lifecycle_aware_widget.dart';
-import 'package:smooth_app/widgets/screen_visibility.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_mlkit.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_mockup.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_zxing.dart';
 
-/// A page showing the camera feed and using a [CameraScanner] to decode
-/// barcodes. Depending on the store/platform, it can be MLKit or ZXing.
-class CameraScannerPage extends LifecycleAwareStatefulWidget {
-  const CameraScannerPage({
-    super.key,
-  });
+/// A page showing the camera feed and decoding barcodes.
+class CameraScannerPage extends StatefulWidget {
+  const CameraScannerPage(this.scannerType);
+
+  final SmoothBarcodeScannerType scannerType;
 
   @override
   CameraScannerPageState createState() => CameraScannerPageState();
 }
 
-class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
+class CameraScannerPageState extends State<CameraScannerPage>
     with TraceableClientMixin, WidgetsBindingObserver {
-  /// If the camera is being closed (when [stoppingCamera] == true) and this
-  /// Widget is visible again, we add a post frame callback to detect if the
-  /// Widget is still visible
-  ///
-  /// If the time took by the "post frame callback" is less than this duration,
-  /// we considered, that the camera should be reinitialized
-  ///
-  /// On a 60Hz display, one frame =~ 16 ms => 100 ms =~ 6 frames.
-  static const int postFrameCallbackStandardDelay = 100; // in milliseconds
-
-  /// To improve battery life & lower the CPU consumption, we decode barcodes
-  /// every [_processingTimeWindows] time windows.
-
-  /// Until the first barcode is decoded, this is default timeout
-  /// It's also the minimum window between two decodings
-  /// Note: A decoding happens by multiplying a window by [_processingTimeWindows]
-  static const int _defaultProcessingTime = 50; // in milliseconds
-  /// In the case where [deviceInLowMemoryMode] is true, this value becomes the
-  /// minimum window, which will be multiplied by [_processingTimeWindows]
-  static const int _lowMemoryProcessingTime = 500; // in milliseconds
-  /// Minimal processing windows between two decodings
-  static const int _processingTimeWindows = 5;
-
-  /// A time window is the average time decodings took
-  final AverageList<int> _averageProcessingTime = AverageList<int>();
-
   /// Audio player to play the beep sound on scan
   /// This attribute is only initialized when a camera is available AND the
   /// setting is set to ON
   AudioPlayer? _musicPlayer;
 
-  /// Subject notifying when a new image is available
-  PublishSubject<dynamic> _subject = PublishSubject<dynamic>();
-
-  /// Stream calling the barcode detection
-  StreamSubscription<List<String>?>? _streamSubscription;
-
   late ContinuousScanModel _model;
   late UserPreferences _userPreferences;
-  CameraDescription? _camera;
-
-  /// Camera preview scale
-  double _previewScale = 1.0;
-
-  /// Allow to detect if we have to recompute the [_previewScale]
-  BoxConstraints? _contentConstraints;
-
-  /// Flag used to prevent the camera from being initialized.
-  /// When set to [false], [_startLiveStream] can be called.
-  bool stoppingCamera = false;
-
-  /// Flag used to determine when the app is resumed, the controller is disposed
-  /// (another app acquired the camera in background), but the current tab is
-  /// not the Scan.
-  ///
-  /// The next time this tab is visible, we will force relaunching the camera.
-  bool pendingResume = false;
-
-  /// If the device is in low memory pressure, lower as possible the decoding
-  bool deviceInLowMemoryMode = false;
 
   @override
   void initState() {
     super.initState();
-    _camera = CameraHelper.findBestCamera();
-
-    if (_camera != null) {
-      _subject = PublishSubject<dynamic>();
-    }
-
     WidgetsBinding.instance.addObserver(this);
   }
 
@@ -120,15 +49,6 @@ class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
       _model = context.watch<ContinuousScanModel>();
       _userPreferences = context.watch<UserPreferences>();
     }
-
-    // Relaunch the feed after a hot reload
-    if (_isScreenVisible()) {
-      if (_controller == null) {
-        _startLiveFeed();
-      } else {
-        _controller!.forceFocus();
-      }
-    }
   }
 
   @override
@@ -139,389 +59,39 @@ class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
 
   @override
   Widget build(BuildContext context) {
-    return Listener<UserPreferences>(
-      listener: (_, __, UserPreferences prefs) {
-        _controller?.reloadImageMode();
-      },
-      child: Consumer<BottomNavigationTab>(
-        builder:
-            (BuildContext context, BottomNavigationTab tab, Widget? child) {
-          if (pendingResume && _isScreenVisible(tab: tab)) {
-            pendingResume = false;
-            _onResumeImageStream();
-          }
-
-          return child!;
-        },
-        // [_startLiveFeed] is called both with [onResume] and [onPause] to cover
-        // all entry points
-        child: LifeCycleManager(
-          onStart: _startLiveFeed,
-          onResume: _onResumeImageStream,
-          onVisible: () => _onResumeImageStream(forceStartPreview: true),
-          onPause: _onPauseImageStream,
-          onInvisible: _onPauseImageStream,
-          child: _buildScannerWidget(),
-        ),
-      ),
-    );
-  }
-
-  /// Returns if the current tab is visible AND the scanner is also visible
-  /// (= the first element = canPop == false)
-  bool _isScreenVisible({BottomNavigationTab? tab}) {
-    return (tab ?? Provider.of<BottomNavigationTab>(context, listen: false)) ==
-            BottomNavigationTab.Scan &&
-        !Navigator.of(context).canPop();
-  }
-
-  Widget _buildScannerWidget() {
-    // Showing a black scanner background when the camera is not initialized
-    if (!isCameraReady) {
-      return const SizedBox.expand(
-        child: ColoredBox(
-          color: Colors.black,
-        ),
+    if (!CameraHelper.hasACamera) {
+      return Center(
+        child: Text(AppLocalizations.of(context).permission_photo_none_found),
       );
     }
-
-    return LayoutBuilder(
-      builder: (BuildContext context, BoxConstraints constraints) {
-        _computePreviewScale(constraints);
-
-        return Transform.scale(
-          scale: _previewScale,
-          child: Center(
-            key: ValueKey<bool>(stoppingCamera),
-            child: const SmoothCameraStreamPreview(),
-          ),
-        );
-      },
-    );
-  }
-
-  void _computePreviewScale(BoxConstraints constraints) {
-    // Only recompute if necessary
-    if (_contentConstraints == constraints) {
-      return;
-    }
-
-    final Size size = constraints.biggest;
-
-    final double previewWidth;
-    final double previewHeight;
-
-    _previewScale = size.aspectRatio * _controller!.value.aspectRatio;
-
-    if (_previewScale < 1.0) {
-      // To prevent scaling down, invert the value
-      _previewScale = 1.0 / _previewScale;
-    } else if (_previewScale == 1.0) {
-      // Same aspect ratio, but may still require scale up / down
-      if (_camera?.sensorOrientation == 90) {
-        previewWidth = _controller!.value.previewSize!.height;
-        previewHeight = _controller!.value.previewSize!.width;
-      } else {
-        previewWidth = _controller!.value.previewSize!.width;
-        previewHeight = _controller!.value.previewSize!.height;
-      }
-
-      _previewScale = math.max(
-        size.width / previewWidth,
-        size.height / previewHeight,
-      );
+    switch (widget.scannerType) {
+      case SmoothBarcodeScannerType.mlkit:
+        return SmoothBarcodeScannerMLKit(_onNewBarcodeDetected);
+      case SmoothBarcodeScannerType.zxing:
+        return SmoothBarcodeScannerZXing(_onNewBarcodeDetected);
+      case SmoothBarcodeScannerType.mockup:
+        return const SmoothBarcodeScannerMocked();
     }
-
-    _contentConstraints = constraints;
   }
 
-  bool get isCameraInitialized => _controller?.isInitialized == true;
-
-  bool get isCameraReady => _controller?.canShowPreview == true;
-
-  Future<void> _startLiveFeed() async {
-    if (_camera == null) {
-      return;
-    } else if (_controller != null) {
-      return _onResumeImageStream();
+  Future<bool> _onNewBarcodeDetected(final String barcode) async {
+    if (!await _model.onScan(barcode)) {
+      return false;
     }
 
-    stoppingCamera = false;
-
-    CameraHelper.initController(
-      SmoothCameraController(
-        _userPreferences,
-        _camera!,
-        ResolutionPreset.high,
-        imageFormatGroup: ImageFormatGroup.yuv420,
-      ),
-    );
-
-    _controller!.addListener(_cameraListener);
-
-    _subject
-        .throttleTime(
-          Duration(
-            milliseconds: _averageProcessingTime.averageMin(
-                  defaultValueIfEmpty: _processingTime,
-                  minValue: _processingTime,
-                ) *
-                _processingTimeWindows,
-          ),
-        )
-        .asyncMap((dynamic image) async {
-          final DateTime start = DateTime.now();
-
-          try {
-            if (!_barcodeDecoder.isInitialized) {
-              // If the decoder is not initialized yet…
-              _barcodeDecoder.onInit(
-                camera: _camera!,
-                mode: DevModeScanMode.fromIndex(
-                  _userPreferences.getDevModeIndex(
-                    UserPreferencesDevMode.userPreferencesEnumScanMode,
-                  ),
-                ),
-              );
-            }
-
-            final List<String?>? res = await _barcodeDecoder
-                .processImage(image)
-                .timeout(const Duration(seconds: 5));
+    // Both are Future methods, but it doesn't matter to wait here
+    SmoothHapticFeedback.lightNotification();
 
-            _averageProcessingTime.add(
-              DateTime.now().difference(start).inMilliseconds,
-            );
-
-            return res ?? <String>[];
-          } catch (err) {
-            // Isolate is stopped
-            return <String>[];
-          }
-        })
-        // Remove list with empty strings
-        .map(
-          (List<String?> res) => res
-              .where((String? e) => e != null && e.trim().isNotEmpty)
-              .toList(growable: false),
-        )
-        .where(
-          (List<String?>? barcodes) => barcodes?.isNotEmpty == true,
-        )
-        .cast<List<String>>()
-        .listen(_onNewBarcodeDetected);
-
-    try {
-      final _FocusPoint point = _focusPoint;
-
-      await _controller?.init(
-        focusMode: FocusMode.auto,
-        focusPoint: point.offset,
-        deviceOrientation: DeviceOrientation.portraitUp,
-        onAvailable: (dynamic image) => _subject.add(image),
-      );
-
-      // If the Widget tree isn't ready, wait for the first frame
-      if (!point.precise) {
-        WidgetsBinding.instance.addPostFrameCallback((_) {
-          _controller?.setFocusPointTo(
-            _focusPoint.offset,
-          );
-        });
-      }
-    } on CameraException catch (e) {
-      Logs.d('On camera error', ex: e);
-
-      // The camera may not be ready. Wait a short time and try again.
-      return _stopImageStream();
-    } on FlutterError catch (e) {
-      Logs.d('On camera (Flutter part) error', ex: e);
-    }
-
-    _redrawScreen();
-  }
-
-  Future<void> _onNewBarcodeDetected(List<String> barcodes) async {
-    for (final String barcode in barcodes) {
-      if (await _model.onScan(barcode)) {
-        // Both are Future methods, but it doesn't matter to wait here
-        SmoothHapticFeedback.lightNotification();
-
-        if (_userPreferences.playCameraSound) {
-          await _initSoundManagerIfNecessary();
-          await _musicPlayer!.stop();
-          await _musicPlayer!.resume();
-        }
-
-        _userPreferences.setFirstScanAchieved();
-      }
+    if (_userPreferences.playCameraSound) {
+      await _initSoundManagerIfNecessary();
+      await _musicPlayer!.stop();
+      await _musicPlayer!.resume();
     }
-  }
-
-  void _cameraListener() {
-    _redrawScreen();
 
-    if (_controller?.value.hasError == true) {
-      // May happen if another application claims the camera
-      // In that case, we have to destroy everything
-      if (_controller!.value.isClosed) {
-        _stopImageStream();
-      } else {
-        Logs.e(
-          'On camera controller error : ${_controller!.value.errorDescription}',
-        );
-      }
-    }
+    _userPreferences.setFirstScanAchieved();
+    return true;
   }
 
-  Future<void> _onPauseImageStream() async {
-    if (stoppingCamera) {
-      return;
-    }
-
-    if (_controller != null &&
-        _controller!.isPauseResumePreviewSupported != true) {
-      await _stopImageStream(autoRestart: false);
-    } else {
-      _streamSubscription?.pause();
-      await _controller?.pausePreview();
-    }
-
-    await _disposeSoundManager();
-  }
-
-  /// [shouldRetry] indicates if we should retry to resume if the screen is invisible
-  Future<void> _onResumeImageStream({
-    bool forceStartPreview = false,
-    bool shouldRetry = true,
-  }) async {
-    if (stoppingCamera ||
-        (!forceStartPreview && ScreenVisibilityDetector.invisible(context))) {
-      if (shouldRetry) {
-        SchedulerBinding.instance.addPostFrameCallback((_) {
-          _onResumeImageStream(
-            forceStartPreview: forceStartPreview,
-            shouldRetry: false,
-          );
-        });
-
-        _redrawScreen();
-      }
-
-      return;
-    }
-
-    final BottomNavigationTab tab = Provider.of<BottomNavigationTab>(
-      context,
-      listen: false,
-    );
-
-    // On visibility == true, may call us, but we have to ensure that this tab
-    // is visible AND displays the camera (canPop returns false in that case)
-    if (tab != BottomNavigationTab.Scan || Navigator.of(context).canPop()) {
-      pendingResume = _controller?.isInitialized != true;
-      return;
-    }
-
-    // Relaunch the controller if it was destroyed in background
-    if (_controller?.isInitialized != true) {
-      if (_controller?.isBeingInitialized == true) {
-        // Just wait
-        return;
-      }
-      return _stopImageStream(autoRestart: true);
-    }
-
-    if (_streamSubscription?.isPaused == true) {
-      _streamSubscription!.resume();
-    }
-
-    if (_controller?.isPauseResumePreviewSupported == true) {
-      try {
-        await _controller?.resumePreviewIfNecessary();
-      } on CameraException catch (_) {
-        // Dart Controller is OK, but native part is KO
-        return _stopImageStream();
-      } on DisposedControllerException catch (_) {
-        // Dart Controller is OK, but native part is KO
-        return _stopImageStream();
-      }
-    }
-
-    stoppingCamera = false;
-  }
-
-  Future<void> _stopImageStream({bool autoRestart = true}) async {
-    if (stoppingCamera) {
-      return;
-    }
-
-    stoppingCamera = true;
-
-    if (_controller?.isPauseResumePreviewSupported == true) {
-      await _controller?.pausePreview();
-    }
-
-    _redrawScreen();
-
-    _controller?.removeListener(_cameraListener);
-
-    // Don't wait for the controller to be disposed,
-    // a new one will be created in parallel
-    _controller?.dispose();
-    CameraHelper.destroyControllerInstance();
-
-    await _streamSubscription?.cancel();
-    try {
-      await _barcodeDecoder.onDispose().timeout(const Duration(seconds: 5));
-    } catch (_) {}
-
-    stoppingCamera = false;
-
-    if (autoRestart) {
-      _restartCameraIfNecessary();
-    }
-  }
-
-  void _redrawScreen() {
-    setStateSafe(() {});
-  }
-
-  int get _processingTime =>
-      deviceInLowMemoryMode ? _lowMemoryProcessingTime : _defaultProcessingTime;
-
-  /// The camera is fully closed at this step.
-  /// However, the user may have "reopened" this Widget during this
-  /// operation. In this case, [_startLiveFeed] should be called.
-  ///
-  /// To detect this behavior, we compute the time took by
-  /// [addPostFrameCallback]. If it's less than a few frames, it means the
-  /// camera should be restarted immediately
-  void _restartCameraIfNecessary() {
-    if (mounted && ScreenVisibilityDetector.visible(context)) {
-      final DateTime referentialTime = DateTime.now();
-
-      // Force redraw screen (a post frame should never be triggered otherwise)
-      setStateSafe(() {});
-
-      SchedulerBinding.instance.addPostFrameCallback((_) {
-        final int diff =
-            DateTime.now().difference(referentialTime).inMilliseconds;
-
-        // The screen is still visible, we should restart the camera
-        if (diff < _minPostFrameCallbackDelay && _isScreenVisible()) {
-          _startLiveFeed();
-        }
-      });
-    }
-  }
-
-  int get _minPostFrameCallbackDelay =>
-      _userPreferences.getDevModeIndex(
-        UserPreferencesDevMode.userPreferencesCameraPostFrameDuration,
-      ) ??
-      CameraScannerPageState.postFrameCallbackStandardDelay;
-
   /// Only initialize the "beep" player when needed
   /// (at least one camera available + settings set to ON)
   Future<void> _initSoundManagerIfNecessary() async {
@@ -534,7 +104,7 @@ class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
     await _musicPlayer!.setSourceAsset('audio/beep.ogg');
     await _musicPlayer!.setPlayerMode(PlayerMode.lowLatency);
     await _musicPlayer!.setAudioContext(
-      AudioContext(
+      const AudioContext(
         android: AudioContextAndroid(
           isSpeakerphoneOn: false,
           stayAwake: false,
@@ -543,10 +113,10 @@ class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
           audioFocus: AndroidAudioFocus.gainTransientExclusive,
         ),
         iOS: AudioContextIOS(
-          defaultToSpeaker: false,
           category: AVAudioSessionCategory.soloAmbient,
           options: <AVAudioSessionOptions>[
             AVAudioSessionOptions.mixWithOthers,
+            AVAudioSessionOptions.defaultToSpeaker,
           ],
         ),
       ),
@@ -559,66 +129,10 @@ class CameraScannerPageState extends LifecycleAwareState<CameraScannerPage>
     _musicPlayer = null;
   }
 
-  @override
-  void didHaveMemoryPressure() {
-    deviceInLowMemoryMode = true;
-    Logs.w('The device enters in low memory mode!');
-  }
-
   @override
   void dispose() {
-    // /!\ This call is a Future, which may leads to some issues.
-    // This should be handled by [_restartCameraIfNecessary]
-    _stopImageStream();
     _disposeSoundManager();
     WidgetsBinding.instance.removeObserver(this);
     super.dispose();
   }
-
-  /// Whatever the scan mode is, we always want the focus point to be on
-  /// the middle of the [ScannerVisorWidget]
-  _FocusPoint get _focusPoint {
-    final double? preciseY;
-
-    if (mounted) {
-      final GlobalKey<ScannerVisorWidgetState> key =
-          Provider.of<GlobalKey<ScannerVisorWidgetState>>(context,
-              listen: false);
-
-      final Offset? visorOffset =
-          (key.currentContext?.findRenderObject() as RenderBox?)
-              ?.localToGlobal(Offset.zero);
-
-      if (visorOffset != null) {
-        preciseY = (visorOffset.dy +
-                (ScannerVisorWidget.getSize(context).height) / 2) /
-            MediaQuery.of(context).size.height;
-      } else {
-        preciseY = null;
-      }
-    } else {
-      preciseY = null;
-    }
-
-    return _FocusPoint(
-      offset: Offset(0.5, preciseY ?? 0.25 / _previewScale),
-      precise: preciseY != null,
-    );
-  }
-
-  SmoothCameraController? get _controller => CameraHelper.controller;
-
-  CameraScanner get _barcodeDecoder => context.read<CameraScanner>();
-}
-
-/// Provides the position to the center of the visor
-/// [precise] is [true] when the computation is based on the Widget coordinates
-class _FocusPoint {
-  _FocusPoint({
-    required this.offset,
-    required this.precise,
-  });
-
-  final Offset offset;
-  final bool precise;
 }
diff --git a/packages/smooth_app/lib/pages/scan/lifecycle_manager.dart b/packages/smooth_app/lib/pages/scan/lifecycle_manager.dart
deleted file mode 100644
index ea18f3629709..000000000000
--- a/packages/smooth_app/lib/pages/scan/lifecycle_manager.dart
+++ /dev/null
@@ -1,103 +0,0 @@
-import 'package:flutter/cupertino.dart';
-import 'package:flutter/material.dart';
-import 'package:smooth_app/services/smooth_services.dart';
-import 'package:smooth_app/widgets/screen_visibility.dart';
-import 'package:visibility_detector/visibility_detector.dart';
-
-/// This Widgets tracks both the app lifecycle and the screen visibility
-/// [onStart] will be called only when the Widget is displayed for the first time
-/// (= during the [initState] phase)
-/// [onResume] will be called once the app is reopened (eg: the app is minimized
-/// and brought back to front)
-/// [onPause] will be called once the app is minimized
-/// [onVisible] will be called if this part of the tree is visible
-/// [onInvisible] will be called if this part of the tree is invisible
-class LifeCycleManager extends StatefulWidget {
-  const LifeCycleManager({
-    required this.onResume,
-    required this.onPause,
-    required this.child,
-    this.onStart,
-    this.onVisible,
-    this.onInvisible,
-    super.key,
-  });
-
-  final Function() onResume;
-  final Function() onPause;
-  final Function()? onStart;
-  final Function()? onVisible;
-  final Function()? onInvisible;
-  final Widget child;
-
-  @override
-  LifeCycleManagerState createState() => LifeCycleManagerState();
-}
-
-class LifeCycleManagerState extends State<LifeCycleManager>
-    with WidgetsBindingObserver {
-  AppLifecycleState appLifecycleState = AppLifecycleState.resumed;
-
-  @override
-  void initState() {
-    super.initState();
-    WidgetsBinding.instance.addObserver(this);
-
-    if (widget.onStart != null) {
-      WidgetsBinding.instance.addPostFrameCallback((_) => widget.onStart!());
-    }
-  }
-
-  // Lifecycle changes are not handled by either of the used plugin. This means
-  // we are responsible to control camera resources when the lifecycle state is
-  // updated. Failure to do so might lead to unexpected behavior
-  // didChangeAppLifecycleState is called when the system puts the app in the
-  // background or returns the app to the foreground.
-  @override
-  void didChangeAppLifecycleState(AppLifecycleState state) {
-    appLifecycleState = state;
-    _onLifeCycleChanged();
-  }
-
-  void _onLifeCycleChanged() {
-    switch (appLifecycleState) {
-      case AppLifecycleState.resumed:
-        Logs.d('Lifecycle: on resume');
-        widget.onResume();
-        break;
-      case AppLifecycleState.inactive:
-      case AppLifecycleState.paused:
-      case AppLifecycleState.detached:
-        Logs.d('Lifecycle: on pause');
-        widget.onPause();
-        break;
-    }
-  }
-
-  void _onVisibilityChanged(bool visible) {
-    if (visible) {
-      Logs.d('Visibility: visible');
-      widget.onVisible?.call();
-    } else {
-      Logs.d('Visibility: invisible');
-      widget.onInvisible?.call();
-    }
-  }
-
-  @override
-  Widget build(BuildContext context) {
-    return VisibilityDetector(
-      key: const ValueKey<String>('VisibilityDetector'),
-      onVisibilityChanged: (VisibilityInfo info) {
-        _onVisibilityChanged(info.visible);
-      },
-      child: widget.child,
-    );
-  }
-
-  @override
-  void dispose() {
-    WidgetsBinding.instance.removeObserver(this);
-    super.dispose();
-  }
-}
diff --git a/packages/smooth_app/lib/pages/scan/scan_flash_toggle.dart b/packages/smooth_app/lib/pages/scan/scan_flash_toggle.dart
deleted file mode 100644
index 26fe33079957..000000000000
--- a/packages/smooth_app/lib/pages/scan/scan_flash_toggle.dart
+++ /dev/null
@@ -1,150 +0,0 @@
-import 'package:flutter/material.dart';
-import 'package:flutter_gen/gen_l10n/app_localizations.dart';
-import 'package:provider/provider.dart';
-import 'package:smooth_app/data_models/user_preferences.dart';
-import 'package:smooth_app/generic_lib/design_constants.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
-
-class ScannerFlashToggleWidget extends StatelessWidget {
-  const ScannerFlashToggleWidget();
-
-  @override
-  Widget build(BuildContext context) {
-    final AppLocalizations appLocalizations = AppLocalizations.of(context);
-
-    return Selector<UserPreferences, bool>(
-        selector: (_, UserPreferences prefs) => prefs.useFlashWithCamera,
-        builder: (BuildContext context, bool value, _) {
-          return Tooltip(
-            message: value
-                ? appLocalizations.camera_disable_flash
-                : appLocalizations.camera_enable_flash,
-            decoration: BoxDecoration(
-              color: value ? Colors.red : Colors.green,
-              borderRadius: ANGULAR_BORDER_RADIUS,
-            ),
-            child: InkWell(
-              customBorder: const CircleBorder(),
-              child: Padding(
-                padding: const EdgeInsets.symmetric(
-                  horizontal: 6.0,
-                  vertical: SMALL_SPACE,
-                ),
-                child: Icon(
-                  value ? Icons.flash_on : Icons.flash_off,
-                  size: VERY_LARGE_SPACE,
-                  color: Colors.white,
-                ),
-              ),
-              onTap: () async {
-                await SmoothHapticFeedback.click();
-                await CameraHelper.controller?.enableFlash(!value);
-              },
-            ),
-          );
-        });
-  }
-
-  /// Returns the Size of the visor
-  static Size getSize(BuildContext context) => Size(
-        MediaQuery.of(context).size.width * 0.8,
-        150.0,
-      );
-}
-
-class ScanVisorPainter extends CustomPainter {
-  ScanVisorPainter();
-
-  static const double strokeWidth = 3.0;
-  static const double _fullCornerSize = 31.0;
-  static const double _halfCornerSize = _fullCornerSize / 2;
-  static const Radius _borderRadius = Radius.circular(_halfCornerSize);
-
-  final Paint _paint = Paint()
-    ..strokeWidth = strokeWidth
-    ..color = Colors.white
-    ..style = PaintingStyle.stroke;
-
-  @override
-  void paint(Canvas canvas, Size size) {
-    final Rect rect = Rect.fromLTRB(0.0, 0.0, size.width, size.height);
-    canvas.drawPath(getPath(rect, false), _paint);
-  }
-
-  @override
-  bool shouldRepaint(CustomPainter oldDelegate) => false;
-
-  /// Returns a path to draw the visor
-  /// [includeLineBetweenCorners] will draw lines between each corner, instead
-  /// of moving the cursor
-  static Path getPath(Rect rect, bool includeLineBetweenCorners) {
-    final double bottomPosition;
-    if (includeLineBetweenCorners) {
-      bottomPosition = rect.bottom - strokeWidth;
-    } else {
-      bottomPosition = rect.bottom;
-    }
-
-    final Path path = Path()
-      // Top left
-      ..moveTo(rect.left, rect.top + _fullCornerSize)
-      ..lineTo(rect.left, rect.top + _halfCornerSize)
-      ..arcToPoint(
-        Offset(rect.left + _halfCornerSize, rect.top),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.left + _fullCornerSize, rect.top);
-
-    // Top right
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.right - _fullCornerSize, rect.top);
-    } else {
-      path.moveTo(rect.right - _fullCornerSize, rect.top);
-    }
-
-    path
-      ..lineTo(rect.right - _halfCornerSize, rect.top)
-      ..arcToPoint(
-        Offset(rect.right, _halfCornerSize),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.right, rect.top + _fullCornerSize);
-
-    // Bottom right
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.right, bottomPosition - _fullCornerSize);
-    } else {
-      path.moveTo(rect.right, bottomPosition - _fullCornerSize);
-    }
-
-    path
-      ..lineTo(rect.right, bottomPosition - _halfCornerSize)
-      ..arcToPoint(
-        Offset(rect.right - _halfCornerSize, bottomPosition),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.right - _fullCornerSize, bottomPosition);
-
-    // Bottom left
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.left + _fullCornerSize, bottomPosition);
-    } else {
-      path.moveTo(rect.left + _fullCornerSize, bottomPosition);
-    }
-
-    path
-      ..lineTo(rect.left + _halfCornerSize, bottomPosition)
-      ..arcToPoint(
-        Offset(rect.left, bottomPosition - _halfCornerSize),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.left, bottomPosition - _fullCornerSize);
-
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.left, rect.top + _halfCornerSize);
-    }
-
-    return path;
-  }
-}
diff --git a/packages/smooth_app/lib/pages/scan/scan_page.dart b/packages/smooth_app/lib/pages/scan/scan_page.dart
index 13de2ffb9f60..12170bae94aa 100644
--- a/packages/smooth_app/lib/pages/scan/scan_page.dart
+++ b/packages/smooth_app/lib/pages/scan/scan_page.dart
@@ -7,11 +7,9 @@ import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/generic_lib/design_constants.dart';
 import 'package:smooth_app/generic_lib/dialogs/smooth_alert_dialog.dart';
 import 'package:smooth_app/generic_lib/widgets/smooth_card.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
 import 'package:smooth_app/helpers/permission_helper.dart';
 import 'package:smooth_app/pages/scan/camera_scan_page.dart';
-import 'package:smooth_app/pages/scan/scan_visor.dart';
-import 'package:smooth_app/pages/scan/scanner_overlay.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 import 'package:smooth_app/widgets/smooth_product_carousel.dart';
 import 'package:smooth_app/widgets/smooth_scaffold.dart';
 
@@ -25,6 +23,9 @@ class ScanPage extends StatefulWidget {
 class _ScanPageState extends State<ScanPage> {
   ContinuousScanModel? _model;
 
+  /// Percentage of the bottom part of the screen that hosts the carousel.
+  static const int _carouselHeightPct = 55;
+
   @override
   void didChangeDependencies() {
     super.didChangeDependencies();
@@ -46,130 +47,43 @@ class _ScanPageState extends State<ScanPage> {
       return const Center(child: CircularProgressIndicator.adaptive());
     }
 
+    final SmoothBarcodeScannerType scannerType =
+        context.read<SmoothBarcodeScannerType>();
     return SmoothScaffold(
       brightness: Brightness.light,
-      body: ScannerOverlay(
-        backgroundChild: const _ScanPageBackgroundWidget(),
-        foregroundChild: const _ScanPageForegroundWidget(),
-        topChild: const _ScanPageTopWidget(),
-      ),
-    );
-  }
-}
-
-class _ScanPageBackgroundWidget extends StatelessWidget {
-  const _ScanPageBackgroundWidget({Key? key}) : super(key: key);
-
-  @override
-  Widget build(BuildContext context) {
-    return Consumer<PermissionListener>(
-      builder: (BuildContext context, PermissionListener listener, _) {
-        if (listener.value.isGranted) {
-          return const CameraScannerPage();
-        } else {
-          return const SizedBox();
-        }
-      },
-    );
-  }
-}
-
-/// A semi-transparent Widget where the visor is fully visible
-class _ScanPageForegroundWidget extends StatelessWidget {
-  const _ScanPageForegroundWidget({Key? key}) : super(key: key);
-
-  @override
-  Widget build(BuildContext context) {
-    return LayoutBuilder(
-      builder: (BuildContext context, BoxConstraints constraints) {
-        return Consumer<PermissionListener>(
-            builder: (BuildContext context, PermissionListener listener, _) {
-          // If permission is granted && the device has a camera
-          if (listener.value.isGranted && CameraHelper.hasACamera) {
-            return CustomPaint(
-              painter: _ScanPageForegroundPainter(
-                visorSize: ScannerVisorWidget.getSize(context),
-                carouselHeight:
-                    constraints.maxHeight * ScannerOverlay.carouselHeightPct,
-                contentHeight: constraints.maxHeight,
-                topOffset: MediaQuery.of(context).viewPadding.top,
+      body: SafeArea(
+        child: Column(
+          children: <Widget>[
+            Expanded(
+              flex: 100 - _carouselHeightPct,
+              child: Consumer<PermissionListener>(
+                builder: (
+                  BuildContext context,
+                  PermissionListener listener,
+                  _,
+                ) {
+                  switch (listener.value.status) {
+                    case DevicePermissionStatus.checking:
+                      return EMPTY_WIDGET;
+                    case DevicePermissionStatus.granted:
+                      return CameraScannerPage(scannerType);
+                    default:
+                      return const _PermissionDeniedCard();
+                  }
+                },
               ),
-            );
-          } else {
-            return const SizedBox.shrink();
-          }
-        });
-      },
-    );
-  }
-}
-
-class _ScanPageForegroundPainter extends CustomPainter {
-  _ScanPageForegroundPainter({
-    required this.visorSize,
-    required this.topOffset,
-    required double carouselHeight,
-    required double contentHeight,
-  })  : availableHeightBeforeCarousel =
-            contentHeight - carouselHeight - topOffset,
-        _paint = Paint()..color = Colors.black.withOpacity(0.3);
-
-  final Size visorSize;
-  final double topOffset;
-  final double availableHeightBeforeCarousel;
-
-  final Paint _paint;
-
-  @override
-  void paint(Canvas canvas, Size size) {
-    final Path path = Path.combine(
-      PathOperation.difference,
-      Path()
-        ..lineTo(size.width, 0)
-        ..lineTo(size.width, size.height)
-        ..lineTo(0, size.height)
-        ..close(),
-      ScanVisorPainter.getPath(
-        Rect.fromLTWH(
-          (size.width - visorSize.width) / 2,
-          0,
-          visorSize.width,
-          visorSize.height,
-        ),
-        true,
-      ).shift(
-        Offset(
-          0,
-          topOffset +
-              ((availableHeightBeforeCarousel -
-                      visorSize.height +
-                      ScanVisorPainter.strokeWidth) /
-                  2),
+            ),
+            const Expanded(
+              flex: _carouselHeightPct,
+              child: Padding(
+                padding: EdgeInsetsDirectional.only(bottom: 10),
+                child: SmoothProductCarousel(containSearchCard: true),
+              ),
+            ),
+          ],
         ),
       ),
     );
-
-    canvas.drawPath(path, _paint);
-  }
-
-  @override
-  bool shouldRepaint(covariant CustomPainter oldDelegate) => false;
-}
-
-class _ScanPageTopWidget extends StatelessWidget {
-  const _ScanPageTopWidget({Key? key}) : super(key: key);
-
-  @override
-  Widget build(BuildContext context) {
-    return Consumer<PermissionListener>(
-      builder: (BuildContext context, PermissionListener listener, _) {
-        if (listener.value.isGranted) {
-          return const ScannerVisorWidget();
-        } else {
-          return const _PermissionDeniedCard();
-        }
-      },
-    );
   }
 }
 
diff --git a/packages/smooth_app/lib/pages/scan/scan_visor.dart b/packages/smooth_app/lib/pages/scan/scan_visor.dart
deleted file mode 100644
index a299ba07a511..000000000000
--- a/packages/smooth_app/lib/pages/scan/scan_visor.dart
+++ /dev/null
@@ -1,154 +0,0 @@
-import 'package:flutter/material.dart';
-import 'package:flutter_svg/flutter_svg.dart';
-import 'package:provider/provider.dart';
-import 'package:smooth_app/helpers/app_helper.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/pages/scan/scan_flash_toggle.dart';
-
-/// This Widget is a [StatefulWidget], as it uses a [GlobalKey] to allow an
-/// external access
-class ScannerVisorWidget extends StatefulWidget {
-  const ScannerVisorWidget({
-    super.key,
-  });
-
-  @override
-  State<ScannerVisorWidget> createState() => ScannerVisorWidgetState();
-
-  /// Returns the Size of the visor
-  static Size getSize(BuildContext context) => Size(
-        MediaQuery.of(context).size.width * 0.8,
-        150.0,
-      );
-}
-
-class ScannerVisorWidgetState extends State<ScannerVisorWidget> {
-  @override
-  Widget build(BuildContext context) {
-    if (!CameraHelper.hasACamera) {
-      return const SizedBox.shrink();
-    }
-
-    return Stack(
-      key: Provider.of<GlobalKey<ScannerVisorWidgetState>>(context),
-      children: <Widget>[
-        SizedBox.fromSize(
-          size: ScannerVisorWidget.getSize(context),
-          child: CustomPaint(
-            painter: ScanVisorPainter(),
-            child: Center(
-              child: SvgPicture.asset(
-                'assets/icons/visor_icon.svg',
-                width: 35.0,
-                height: 32.0,
-                package: AppHelper.APP_PACKAGE,
-              ),
-            ),
-          ),
-        ),
-        Positioned.directional(
-          textDirection: Directionality.of(context),
-          end: 0.0,
-          bottom: 0.0,
-          child: const ScannerFlashToggleWidget(),
-        )
-      ],
-    );
-  }
-}
-
-class ScanVisorPainter extends CustomPainter {
-  ScanVisorPainter();
-
-  static const double strokeWidth = 3.0;
-  static const double _fullCornerSize = 31.0;
-  static const double _halfCornerSize = _fullCornerSize / 2;
-  static const Radius _borderRadius = Radius.circular(_halfCornerSize);
-
-  final Paint _paint = Paint()
-    ..strokeWidth = strokeWidth
-    ..color = Colors.white
-    ..style = PaintingStyle.stroke;
-
-  @override
-  void paint(Canvas canvas, Size size) {
-    final Rect rect = Rect.fromLTRB(0.0, 0.0, size.width, size.height);
-    canvas.drawPath(getPath(rect, false), _paint);
-  }
-
-  @override
-  bool shouldRepaint(CustomPainter oldDelegate) => false;
-
-  /// Returns a path to draw the visor
-  /// [includeLineBetweenCorners] will draw lines between each corner, instead
-  /// of moving the cursor
-  static Path getPath(Rect rect, bool includeLineBetweenCorners) {
-    final double bottomPosition;
-    if (includeLineBetweenCorners) {
-      bottomPosition = rect.bottom - strokeWidth;
-    } else {
-      bottomPosition = rect.bottom;
-    }
-
-    final Path path = Path()
-      // Top left
-      ..moveTo(rect.left, rect.top + _fullCornerSize)
-      ..lineTo(rect.left, rect.top + _halfCornerSize)
-      ..arcToPoint(
-        Offset(rect.left + _halfCornerSize, rect.top),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.left + _fullCornerSize, rect.top);
-
-    // Top right
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.right - _fullCornerSize, rect.top);
-    } else {
-      path.moveTo(rect.right - _fullCornerSize, rect.top);
-    }
-
-    path
-      ..lineTo(rect.right - _halfCornerSize, rect.top)
-      ..arcToPoint(
-        Offset(rect.right, _halfCornerSize),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.right, rect.top + _fullCornerSize);
-
-    // Bottom right
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.right, bottomPosition - _fullCornerSize);
-    } else {
-      path.moveTo(rect.right, bottomPosition - _fullCornerSize);
-    }
-
-    path
-      ..lineTo(rect.right, bottomPosition - _halfCornerSize)
-      ..arcToPoint(
-        Offset(rect.right - _halfCornerSize, bottomPosition),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.right - _fullCornerSize, bottomPosition);
-
-    // Bottom left
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.left + _fullCornerSize, bottomPosition);
-    } else {
-      path.moveTo(rect.left + _fullCornerSize, bottomPosition);
-    }
-
-    path
-      ..lineTo(rect.left + _halfCornerSize, bottomPosition)
-      ..arcToPoint(
-        Offset(rect.left, bottomPosition - _halfCornerSize),
-        radius: _borderRadius,
-      )
-      ..lineTo(rect.left, bottomPosition - _fullCornerSize);
-
-    if (includeLineBetweenCorners) {
-      path.lineTo(rect.left, rect.top + _halfCornerSize);
-    }
-
-    return path;
-  }
-}
diff --git a/packages/smooth_app/lib/pages/scan/scanner_overlay.dart b/packages/smooth_app/lib/pages/scan/scanner_overlay.dart
deleted file mode 100644
index 2cc7618ed37d..000000000000
--- a/packages/smooth_app/lib/pages/scan/scanner_overlay.dart
+++ /dev/null
@@ -1,267 +0,0 @@
-import 'package:flutter/material.dart';
-import 'package:provider/provider.dart';
-import 'package:smooth_app/data_models/continuous_scan_model.dart';
-import 'package:smooth_app/generic_lib/animations/smooth_reveal_animation.dart';
-import 'package:smooth_app/pages/scan/scan_header.dart';
-import 'package:smooth_app/pages/scan/scan_visor.dart';
-import 'package:smooth_app/widgets/smooth_product_carousel.dart';
-
-/// This builds all the essential widgets which are displayed above the camera
-/// preview, like the [SmoothProductCarousel], the [ScannerVisorWidget] and the
-/// clear / compare buttons row.
-///
-/// Widgets are built in this Z-order:
-/// 1 - [backgroundChild]
-/// 2 - [foregroundChild]
-/// 3 - [topChild]
-class ScannerOverlay extends StatelessWidget {
-  ScannerOverlay({
-    required this.topChild,
-    this.foregroundChild,
-    this.backgroundChild,
-  });
-
-  final Widget? backgroundChild;
-  final Widget? foregroundChild;
-  final Widget topChild;
-
-  static const double carouselHeightPct = 0.55;
-  static const double carouselBottomPadding = 10.0;
-  static const double scannerWidthPct = 0.6;
-  static const double scannerHeightPct = 0.33;
-  static const double buttonRowHeightPx = 48;
-
-  /// A key allowing access to the [ScannerVisorWidget]
-  /// Accessible via [Provider.of] method
-  final GlobalKey<ScannerVisorWidgetState> _visorKey =
-      GlobalKey<ScannerVisorWidgetState>();
-
-  @override
-  Widget build(BuildContext context) {
-    final ContinuousScanModel model = context.watch<ContinuousScanModel>();
-
-    return Provider<GlobalKey<ScannerVisorWidgetState>>(
-      create: (_) => _visorKey,
-      child: CustomMultiChildLayout(
-        delegate: _ScannerOverlayDelegate(
-          devicePadding: MediaQuery.of(context).padding,
-          visibleActions: model.getBarcodes().isNotEmpty,
-          hasVisor: _topItem is ScannerVisorWidget,
-        ),
-        children: <Widget>[
-          _background,
-          if (foregroundChild != null) _foreground!,
-          _topItem,
-          _actions,
-          _carousel,
-        ],
-      ),
-    );
-  }
-
-  Widget get _background {
-    if (backgroundChild == null) {
-      return const ColoredBox(color: Colors.black);
-    }
-
-    return LayoutId(
-      id: _LayoutIds.background,
-      child: SmoothRevealAnimation(
-        delay: 400,
-        startOffset: Offset.zero,
-        animationCurve: Curves.easeInOutBack,
-        child: backgroundChild!,
-      ),
-    );
-  }
-
-  Widget? get _foreground {
-    if (foregroundChild == null) {
-      return null;
-    }
-
-    return LayoutId(
-      id: _LayoutIds.foreground,
-      child: foregroundChild!,
-    );
-  }
-
-  /// Visor or message (eg: permission not granted)
-  Widget get _topItem {
-    return LayoutId(
-      id: _LayoutIds.topItem,
-      child: SmoothRevealAnimation(
-        delay: 400,
-        startOffset: const Offset(0.0, 0.1),
-        animationCurve: Curves.easeInOutBack,
-        child: Center(child: topChild),
-      ),
-    );
-  }
-
-  Widget get _actions {
-    return LayoutId(
-      id: _LayoutIds.actions,
-      child: const SmoothRevealAnimation(
-        delay: 400,
-        startOffset: Offset(0.0, -0.1),
-        animationCurve: Curves.easeInOutBack,
-        child: ScanHeader(),
-      ),
-    );
-  }
-
-  Widget get _carousel {
-    return LayoutId(
-      id: _LayoutIds.carousel,
-      child: const SmoothRevealAnimation(
-        delay: 400,
-        startOffset: Offset(0.0, -0.1),
-        animationCurve: Curves.easeInOutBack,
-        child: Padding(
-          padding: EdgeInsetsDirectional.only(
-            bottom: carouselBottomPadding,
-          ),
-          child: SmoothProductCarousel(
-            containSearchCard: true,
-          ),
-        ),
-      ),
-    );
-  }
-}
-
-enum _LayoutIds { background, foreground, actions, topItem, carousel }
-
-class _ScannerOverlayDelegate extends MultiChildLayoutDelegate {
-  _ScannerOverlayDelegate({
-    required this.devicePadding,
-    required this.visibleActions,
-    required this.hasVisor,
-  });
-
-  final EdgeInsets devicePadding;
-  final bool visibleActions;
-  final bool hasVisor;
-
-  @override
-  void performLayout(Size size) {
-    _layoutBackground(size);
-    _layoutForeground(size);
-    final double carouselHeight = _layoutAndPositionCarousel(size);
-    final double actionsHeight = _layoutAndPositionActions(size);
-
-    if (hasVisor) {
-      _layoutAndPositionVisor(size, carouselHeight, actionsHeight);
-    } else {
-      _layoutAndPositionTopItem(size, carouselHeight);
-    }
-  }
-
-  /// Background: Take the full width
-  void _layoutBackground(Size size) {
-    layoutChild(
-      _LayoutIds.background,
-      BoxConstraints(
-        maxWidth: size.width,
-        maxHeight: size.height,
-      ),
-    );
-  }
-
-  /// Foreground: Take the full width
-  void _layoutForeground(Size size) {
-    if (hasChild(_LayoutIds.foreground)) {
-      layoutChild(
-        _LayoutIds.foreground,
-        BoxConstraints.expand(
-          width: size.width,
-          height: size.height,
-        ),
-      );
-    }
-  }
-
-  /// Product carousel: bottom of the screen
-  /// Will return the height of the carousel
-  double _layoutAndPositionCarousel(Size size) {
-    final double carouselHeight =
-        size.height * ScannerOverlay.carouselHeightPct;
-
-    layoutChild(
-      _LayoutIds.carousel,
-      BoxConstraints.tightFor(
-        width: size.width,
-        height: carouselHeight,
-      ),
-    );
-
-    positionChild(_LayoutIds.carousel, Offset(0, size.height - carouselHeight));
-    return carouselHeight;
-  }
-
-  /// Visor: between the bottom of the  status bar (or the actions if there is
-  /// not enough space) and the carousel
-  void _layoutAndPositionVisor(
-    Size size,
-    double carouselHeight,
-    double actionsHeight,
-  ) {
-    layoutChild(
-      _LayoutIds.topItem,
-      BoxConstraints.tightFor(
-        width: size.width,
-        height: size.height - carouselHeight - devicePadding.top,
-      ),
-    );
-  }
-
-  /// Top item: below the status bar
-  void _layoutAndPositionTopItem(
-    Size size,
-    double carouselHeight,
-  ) {
-    layoutChild(
-      _LayoutIds.topItem,
-      BoxConstraints.tightFor(
-        width: size.width,
-        height: size.height - carouselHeight - devicePadding.top,
-      ),
-    );
-
-    positionChild(
-      _LayoutIds.topItem,
-      Offset(
-        0,
-        devicePadding.top,
-      ),
-    );
-  }
-
-  /// Actions: top of the screen and limit the height
-  /// Returns the height
-  double _layoutAndPositionActions(Size size) {
-    final Size actionsSize = layoutChild(
-      _LayoutIds.actions,
-      BoxConstraints(
-        minWidth: size.width,
-        maxWidth: size.width,
-        maxHeight: size.height * 0.2,
-      ),
-    );
-
-    positionChild(
-      _LayoutIds.actions,
-      Offset(
-        0,
-        devicePadding.top,
-      ),
-    );
-
-    return actionsSize.height;
-  }
-
-  @override
-  bool shouldRelayout(covariant MultiChildLayoutDelegate oldDelegate) =>
-      oldDelegate != this;
-}
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart
new file mode 100644
index 000000000000..4ab4301269f6
--- /dev/null
+++ b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart
@@ -0,0 +1,239 @@
+import 'dart:async';
+
+import 'package:flutter/material.dart';
+import 'package:flutter_svg/flutter_svg.dart';
+import 'package:mobile_scanner/mobile_scanner.dart';
+import 'package:qr_code_scanner/qr_code_scanner.dart' as zxing;
+import 'package:smooth_app/generic_lib/design_constants.dart';
+import 'package:smooth_app/helpers/app_helper.dart';
+import 'package:smooth_app/helpers/camera_helper.dart';
+import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
+import 'package:smooth_app/pages/scan/scan_header.dart';
+import 'package:smooth_app/widgets/screen_visibility.dart';
+import 'package:visibility_detector/visibility_detector.dart';
+
+/// Barcode scanner based on MLKit.
+class SmoothBarcodeScannerMLKit extends StatefulWidget {
+  const SmoothBarcodeScannerMLKit(this.onScan);
+
+  final Future<bool> Function(String) onScan;
+
+  @override
+  State<StatefulWidget> createState() => _SmoothBarcodeScannerMLKitState();
+}
+
+class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
+    with SingleTickerProviderStateMixin {
+  // just 1D formats and ios supported
+  static const List<BarcodeFormat> _barcodeFormats = <BarcodeFormat>[
+    BarcodeFormat.code39,
+    BarcodeFormat.code93,
+    BarcodeFormat.code128,
+    BarcodeFormat.ean8,
+    BarcodeFormat.ean13,
+    BarcodeFormat.itf,
+    BarcodeFormat.upcA,
+    BarcodeFormat.upcE,
+  ];
+
+  bool _visible = false;
+  bool _isStarted = true;
+
+  bool get _showFlipCameraButton => CameraHelper.hasMoreThanOneCamera;
+
+  final MobileScannerController _controller = MobileScannerController(
+    torchEnabled: false,
+    formats: _barcodeFormats,
+    facing: CameraFacing.back,
+    detectionSpeed: DetectionSpeed.normal,
+    detectionTimeoutMs: 250, // to be raised in order to avoid crashes
+    returnImage: false,
+    autoStart: true,
+  );
+
+  Future<void> _start() async {
+    if (_isStarted) {
+      return;
+    }
+    try {
+      await _controller.start();
+      _isStarted = true;
+    } on Exception catch (e) {
+      ScaffoldMessenger.of(context).showSnackBar(
+        SnackBar(
+          content: Text('Something went wrong (start)! $e'),
+          backgroundColor: Colors.red,
+        ),
+      );
+    }
+  }
+
+  Future<void> _stop() async {
+    if (!_isStarted) {
+      return;
+    }
+    try {
+      await _controller.stop();
+      _isStarted = false;
+    } on Exception catch (e) {
+      ScaffoldMessenger.of(context).showSnackBar(
+        SnackBar(
+          content: Text('Something went wrong (stop)! $e'),
+          backgroundColor: Colors.red,
+        ),
+      );
+    }
+  }
+
+  @override
+  Widget build(BuildContext context) => VisibilityDetector(
+        key: const ValueKey<String>('VisibilityDetector'),
+        onVisibilityChanged: (final VisibilityInfo info) async {
+          if (info.visible) {
+            if (_visible) {
+              return;
+            }
+            _visible = true;
+            await _start();
+            return;
+          }
+          if (!_visible) {
+            return;
+          }
+          _visible = false;
+          await _stop();
+        },
+        child: LayoutBuilder(
+          builder: (BuildContext context, BoxConstraints constraints) {
+            final Rect scanWindow = Rect.fromCenter(
+              center: Offset(
+                constraints.maxWidth / 2,
+                constraints.maxHeight / 2,
+              ),
+              width: constraints.maxWidth - 2 * MINIMUM_TOUCH_SIZE,
+              height: constraints.maxHeight,
+            );
+            return Stack(
+              children: <Widget>[
+                MobileScanner(
+                  controller: _controller,
+                  fit: BoxFit.cover,
+                  scanWindow: scanWindow,
+                  errorBuilder: (
+                    BuildContext context,
+                    MobileScannerException error,
+                    Widget? child,
+                  ) =>
+                      EMPTY_WIDGET,
+                  onDetect: (final BarcodeCapture capture) async {
+                    for (final Barcode barcode in capture.barcodes) {
+                      final String? string = barcode.displayValue;
+                      if (string != null) {
+                        await widget.onScan(string);
+                      }
+                    }
+                  },
+                ),
+                Container(
+                  decoration: ShapeDecoration(
+                    shape: zxing.QrScannerOverlayShape(
+                      borderColor: Colors.white,
+                      borderRadius: 10,
+                      borderLength: 30,
+                      borderWidth: 10,
+                      cutOutWidth:
+                          constraints.maxWidth - 2 * MINIMUM_TOUCH_SIZE,
+                      cutOutHeight: constraints.maxHeight,
+                    ),
+                  ),
+                ),
+                const Align(
+                  alignment: Alignment.topCenter,
+                  child: ScanHeader(),
+                ),
+                Center(
+                  child: SvgPicture.asset(
+                    'assets/icons/visor_icon.svg',
+                    package: AppHelper.APP_PACKAGE,
+                  ),
+                ),
+                Align(
+                  alignment: Alignment.bottomCenter,
+                  child: Row(
+                    mainAxisAlignment: _showFlipCameraButton
+                        ? MainAxisAlignment.spaceBetween
+                        : MainAxisAlignment.end,
+                    crossAxisAlignment: CrossAxisAlignment.center,
+                    children: <Widget>[
+                      if (_showFlipCameraButton)
+                        IconButton(
+                          color: Colors.white,
+                          icon: ValueListenableBuilder<CameraFacing>(
+                            valueListenable: _controller.cameraFacingState,
+                            builder: (
+                              BuildContext context,
+                              CameraFacing state,
+                              Widget? child,
+                            ) {
+                              switch (state) {
+                                case CameraFacing.front:
+                                  return const Icon(Icons.camera_front);
+                                case CameraFacing.back:
+                                  return const Icon(Icons.camera_rear);
+                              }
+                            },
+                          ),
+                          onPressed: () async {
+                            SmoothHapticFeedback.click();
+                            await _controller.switchCamera();
+                          },
+                        ),
+                      ValueListenableBuilder<bool?>(
+                        valueListenable: _controller.hasTorchState,
+                        builder: (
+                          BuildContext context,
+                          bool? state,
+                          Widget? child,
+                        ) {
+                          if (state != true) {
+                            return EMPTY_WIDGET;
+                          }
+                          return IconButton(
+                            color: Colors.white,
+                            icon: ValueListenableBuilder<TorchState>(
+                              valueListenable: _controller.torchState,
+                              builder: (
+                                BuildContext context,
+                                TorchState state,
+                                Widget? child,
+                              ) {
+                                switch (state) {
+                                  case TorchState.off:
+                                    return const Icon(
+                                      Icons.flash_off,
+                                      color: Colors.white,
+                                    );
+                                  case TorchState.on:
+                                    return const Icon(
+                                      Icons.flash_on,
+                                      color: Colors.white,
+                                    );
+                                }
+                              },
+                            ),
+                            onPressed: () async {
+                              SmoothHapticFeedback.click();
+                              await _controller.toggleTorch();
+                            },
+                          );
+                        },
+                      ),
+                    ],
+                  ),
+                ),
+              ],
+            );
+          },
+        ),
+      );
+}
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mockup.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mockup.dart
new file mode 100644
index 000000000000..c80677d67536
--- /dev/null
+++ b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mockup.dart
@@ -0,0 +1,9 @@
+import 'package:flutter/material.dart';
+
+/// Fake barcode scanner, for tests.
+class SmoothBarcodeScannerMocked extends StatelessWidget {
+  const SmoothBarcodeScannerMocked({Key? key}) : super(key: key);
+
+  @override
+  Widget build(BuildContext context) => Container(color: Colors.red);
+}
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart
new file mode 100644
index 000000000000..bee13800b2d7
--- /dev/null
+++ b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart
@@ -0,0 +1,6 @@
+/// Barcode scanner types.
+enum SmoothBarcodeScannerType {
+  mlkit,
+  zxing,
+  mockup,
+}
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart
new file mode 100644
index 000000000000..bb35fa2e399f
--- /dev/null
+++ b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart
@@ -0,0 +1,162 @@
+import 'dart:async';
+import 'dart:io';
+
+import 'package:flutter/material.dart';
+import 'package:flutter_svg/flutter_svg.dart';
+import 'package:qr_code_scanner/qr_code_scanner.dart';
+import 'package:smooth_app/generic_lib/design_constants.dart';
+import 'package:smooth_app/helpers/app_helper.dart';
+import 'package:smooth_app/helpers/camera_helper.dart';
+import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
+import 'package:smooth_app/pages/scan/scan_header.dart';
+import 'package:smooth_app/themes/constant_icons.dart';
+import 'package:smooth_app/widgets/screen_visibility.dart';
+import 'package:visibility_detector/visibility_detector.dart';
+
+/// Barcode scanner based on ZXing.
+class SmoothBarcodeScannerZXing extends StatefulWidget {
+  const SmoothBarcodeScannerZXing(this.onScan);
+
+  final Future<bool> Function(String) onScan;
+
+  @override
+  State<StatefulWidget> createState() => _SmoothBarcodeScannerZXingState();
+}
+
+class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
+  // just 1D formats and ios supported
+  static const List<BarcodeFormat> _barcodeFormats = <BarcodeFormat>[
+    BarcodeFormat.code39,
+    BarcodeFormat.code93,
+    BarcodeFormat.code128,
+    BarcodeFormat.ean8,
+    BarcodeFormat.ean13,
+    BarcodeFormat.itf,
+    BarcodeFormat.upcA,
+    BarcodeFormat.upcE,
+  ];
+
+  bool _visible = false;
+  final GlobalKey _qrKey = GlobalKey(debugLabel: 'QR');
+  QRViewController? _controller;
+
+  // In order to get hot reload to work we need to pause the camera if the platform
+  // is android, or resume the camera if the platform is iOS.
+  @override
+  void reassemble() {
+    super.reassemble();
+    if (Platform.isAndroid) {
+      _controller?.pauseCamera();
+    }
+    _controller?.resumeCamera();
+  }
+
+  bool get _showFlipCameraButton => CameraHelper.hasMoreThanOneCamera;
+
+  @override
+  Widget build(BuildContext context) => VisibilityDetector(
+        key: const ValueKey<String>('VisibilityDetector'),
+        onVisibilityChanged: (final VisibilityInfo info) {
+          if (info.visible) {
+            if (_visible) {
+              return;
+            }
+            _visible = true;
+            _controller?.resumeCamera();
+            return;
+          }
+          if (!_visible) {
+            return;
+          }
+          _visible = false;
+          _controller?.pauseCamera();
+        },
+        child: LayoutBuilder(
+          builder: (BuildContext context, BoxConstraints constraints) => Stack(
+            children: <Widget>[
+              QRView(
+                key: _qrKey,
+                onQRViewCreated: _onQRViewCreated,
+                overlay: QrScannerOverlayShape(
+                  borderColor: Colors.white,
+                  borderRadius: 10,
+                  borderLength: 30,
+                  borderWidth: 10,
+                  cutOutWidth: constraints.maxWidth - 2 * MINIMUM_TOUCH_SIZE,
+                  cutOutHeight: constraints.maxHeight,
+                ),
+                formatsAllowed: _barcodeFormats,
+              ),
+              const Align(
+                alignment: Alignment.topCenter,
+                child: ScanHeader(),
+              ),
+              Center(
+                child: SvgPicture.asset(
+                  'assets/icons/visor_icon.svg',
+                  package: AppHelper.APP_PACKAGE,
+                ),
+              ),
+              Align(
+                alignment: Alignment.bottomCenter,
+                child: Row(
+                  mainAxisAlignment: _showFlipCameraButton
+                      ? MainAxisAlignment.spaceBetween
+                      : MainAxisAlignment.end,
+                  crossAxisAlignment: CrossAxisAlignment.center,
+                  children: <Widget>[
+                    if (_showFlipCameraButton)
+                      IconButton(
+                        icon: Icon(ConstantIcons.instance.getCameraFlip()),
+                        color: Colors.white,
+                        onPressed: () async {
+                          SmoothHapticFeedback.click();
+                          await _controller?.flipCamera();
+                          setState(() {});
+                        },
+                      ),
+                    FutureBuilder<bool?>(
+                      future: _controller?.getFlashStatus(),
+                      builder: (_, final AsyncSnapshot<bool?> snapshot) {
+                        final bool? flashOn = snapshot.data;
+                        if (flashOn == null) {
+                          return EMPTY_WIDGET;
+                        }
+                        return IconButton(
+                          icon:
+                              Icon(flashOn ? Icons.flash_on : Icons.flash_off),
+                          color: Colors.white,
+                          onPressed: () async {
+                            SmoothHapticFeedback.click();
+                            await _controller?.toggleFlash();
+                            setState(() {});
+                          },
+                        );
+                      },
+                    ),
+                  ],
+                ),
+              ),
+            ],
+          ),
+        ),
+      );
+
+  void _onQRViewCreated(final QRViewController controller) {
+    setState(() => _controller = controller);
+    controller.scannedDataStream.listen(
+      (final Barcode scanData) {
+        final String? barcode = scanData.code;
+        if (barcode != null) {
+          widget.onScan(barcode);
+        }
+      },
+    );
+  }
+
+  @override
+  void dispose() {
+    _controller?.dispose();
+    super.dispose();
+  }
+}
diff --git a/packages/smooth_app/lib/themes/constant_icons.dart b/packages/smooth_app/lib/themes/constant_icons.dart
index 47881bfca036..f4a4ec694120 100644
--- a/packages/smooth_app/lib/themes/constant_icons.dart
+++ b/packages/smooth_app/lib/themes/constant_icons.dart
@@ -24,4 +24,7 @@ class ConstantIcons {
 
   IconData getForwardIcon() =>
       _isApple() ? CupertinoIcons.forward : Icons.arrow_forward;
+
+  IconData getCameraFlip() =>
+      _isApple() ? Icons.flip_camera_ios : Icons.flip_camera_android;
 }
diff --git a/packages/smooth_app/lib/widgets/lifecycle_aware_widget.dart b/packages/smooth_app/lib/widgets/lifecycle_aware_widget.dart
deleted file mode 100644
index 27c52a397843..000000000000
--- a/packages/smooth_app/lib/widgets/lifecycle_aware_widget.dart
+++ /dev/null
@@ -1,89 +0,0 @@
-import 'package:flutter/widgets.dart';
-
-abstract class LifecycleAwareStatefulWidget extends StatefulWidget {
-  /// Initializes [key] for subclasses.
-  const LifecycleAwareStatefulWidget({
-    Key? key,
-  }) : super(key: key);
-
-  @override
-  StatefulElement createElement() {
-    return _LifecycleAwareStatefulElement(this);
-  }
-}
-
-class _LifecycleAwareStatefulElement extends StatefulElement {
-  _LifecycleAwareStatefulElement(super.widget);
-
-  @override
-  LifecycleAwareState<StatefulWidget> get state =>
-      super.state as LifecycleAwareState<StatefulWidget>;
-
-  @override
-  void mount(Element? parent, Object? newSlot) {
-    state._debugLifecycleState = StateLifecycle.initialized;
-    super.mount(parent, newSlot);
-  }
-
-  @override
-  void unmount() {
-    state._debugLifecycleState = StateLifecycle.defunct;
-    super.unmount();
-  }
-}
-
-/// Make the private [_debugLifecycleState] attribute from the [State]
-/// accessible
-abstract class LifecycleAwareState<T extends StatefulWidget> extends State<T> {
-  /// The current stage in the lifecycle for this state object.
-  ///
-  /// This field is used by the framework when asserts are enabled to verify
-  /// that [State] objects move through their lifecycle in an orderly fashion.
-  StateLifecycle _debugLifecycleState = StateLifecycle.created;
-
-  @override
-  @mustCallSuper
-  void initState() {
-    _debugLifecycleState = StateLifecycle.created;
-    super.initState();
-  }
-
-  @override
-  @mustCallSuper
-  void didChangeDependencies() {
-    super.didChangeDependencies();
-    _debugLifecycleState = StateLifecycle.ready;
-  }
-
-  /// Will call [setState] only if the current lifecycle state allows it
-  void setStateSafe(VoidCallback fn) {
-    if (_debugLifecycleState != StateLifecycle.defunct) {
-      try {
-        setState(fn);
-      } catch (ignored) {
-        // ignore
-      }
-    }
-  }
-
-  StateLifecycle get lifecycleState => _debugLifecycleState;
-}
-
-/// Extracted from [State] class
-enum StateLifecycle {
-  /// The [State] object has been created. [State.initState] is called at this
-  /// time.
-  created,
-
-  /// The [State.initState] method has been called but the [State] object is
-  /// not yet ready to build. [State.didChangeDependencies] is called at this time.
-  initialized,
-
-  /// The [State] object is ready to build and [State.dispose] has not yet been
-  /// called.
-  ready,
-
-  /// The [State.dispose] method has been called and the [State] object is
-  /// no longer able to build.
-  defunct,
-}
diff --git a/packages/smooth_app/pubspec.lock b/packages/smooth_app/pubspec.lock
index 830047842396..fe3618692a3f 100644
--- a/packages/smooth_app/pubspec.lock
+++ b/packages/smooth_app/pubspec.lock
@@ -5,21 +5,24 @@ packages:
     dependency: transitive
     description:
       name: _fe_analyzer_shared
-      url: "https://pub.dartlang.org"
+      sha256: "4897882604d919befd350648c7f91926a9d5de99e67b455bf0917cc2362f4bb8"
+      url: "https://pub.dev"
     source: hosted
     version: "47.0.0"
   analyzer:
     dependency: transitive
     description:
       name: analyzer
-      url: "https://pub.dartlang.org"
+      sha256: "690e335554a8385bc9d787117d9eb52c0c03ee207a607e593de3c9d71b1cfe80"
+      url: "https://pub.dev"
     source: hosted
     version: "4.7.0"
   app_settings:
     dependency: "direct main"
     description:
       name: app_settings
-      url: "https://pub.dartlang.org"
+      sha256: "66715a323ac36d6c8201035ba678777c0d2ea869e4d7064300d95af10c3bb8cb"
+      url: "https://pub.dev"
     source: hosted
     version: "4.2.0"
   app_store_apple_store:
@@ -54,258 +57,288 @@ packages:
     dependency: transitive
     description:
       name: archive
-      url: "https://pub.dartlang.org"
+      sha256: "80e5141fafcb3361653ce308776cfd7d45e6e9fbb429e14eec571382c0c5fecb"
+      url: "https://pub.dev"
     source: hosted
-    version: "3.1.11"
+    version: "3.3.2"
   args:
     dependency: transitive
     description:
       name: args
-      url: "https://pub.dartlang.org"
+      sha256: "4cab82a83ffef80b262ddedf47a0a8e56ee6fbf7fe21e6e768b02792034dd440"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.3.1"
+    version: "2.4.0"
   assorted_layout_widgets:
     dependency: "direct main"
     description:
       name: assorted_layout_widgets
-      url: "https://pub.dartlang.org"
+      sha256: ca9f5c77689cfb3437cdabb2afc9ce477e275b319e68a7d21f774e9a5478a827
+      url: "https://pub.dev"
     source: hosted
-    version: "6.1.1"
+    version: "7.0.0"
   async:
     dependency: transitive
     description:
       name: async
-      url: "https://pub.dartlang.org"
+      sha256: bfe67ef28df125b7dddcea62755991f807aa39a2492a23e1550161692950bbe0
+      url: "https://pub.dev"
     source: hosted
-    version: "2.8.2"
+    version: "2.10.0"
   audioplayers:
     dependency: "direct main"
     description:
       name: audioplayers
-      url: "https://pub.dartlang.org"
+      sha256: "16451eab798b23ad9307aef6f9ca62bb8fb06542af8810eead0d236d3fd40a42"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0"
+    version: "3.0.1"
   audioplayers_android:
     dependency: transitive
     description:
       name: audioplayers_android
-      url: "https://pub.dartlang.org"
+      sha256: b2c833e6f718b6b030454e329931229afafe9327fdb002874dd544dc8bf2484d
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.1"
+    version: "2.0.0"
   audioplayers_darwin:
     dependency: transitive
     description:
       name: audioplayers_darwin
-      url: "https://pub.dartlang.org"
+      sha256: e7a3c8759bf11ecfe4b20df338bf9f3d37c7719a5761c46a3833aba0ceeaacff
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.1"
+    version: "3.0.1"
   audioplayers_linux:
     dependency: transitive
     description:
       name: audioplayers_linux
-      url: "https://pub.dartlang.org"
+      sha256: e95b65e1f4d4764601dac5e65f8d8186fc29401043ab020f1dacec483d708707
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0"
+    version: "1.0.4"
   audioplayers_platform_interface:
     dependency: transitive
     description:
       name: audioplayers_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "178581a44cb685fd798d2108111d2e98cca3400e30b9c3a05546f124fb37f600"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0"
+    version: "4.0.0"
   audioplayers_web:
     dependency: transitive
     description:
       name: audioplayers_web
-      url: "https://pub.dartlang.org"
+      sha256: "859ba09be2a57e57a787273f18c8cf0d9b61383870c5ee4b5632fe9adbc37edf"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0"
+    version: "2.2.0"
   audioplayers_windows:
     dependency: transitive
     description:
       name: audioplayers_windows
-      url: "https://pub.dartlang.org"
+      sha256: "622e01c4c357c2aaf1b956c3a0f89d97c3cb40315c03f16e3b6c2a31ff9c38bc"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0"
+    version: "1.1.3"
   auto_size_text:
     dependency: "direct main"
     description:
       name: auto_size_text
-      url: "https://pub.dartlang.org"
+      sha256: "3f5261cd3fb5f2a9ab4e2fc3fba84fd9fcaac8821f20a1d4e71f557521b22599"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.0"
-  badges:
-    dependency: "direct main"
-    description:
-      name: badges
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.0.3"
   barcode:
     dependency: transitive
     description:
       name: barcode
-      url: "https://pub.dartlang.org"
+      sha256: "52570564684bbb0240a9f1fdb6bad12adc5e0540103c1c96d6dd550bd928b1c9"
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.3"
   barcode_widget:
     dependency: "direct main"
     description:
       name: barcode_widget
-      url: "https://pub.dartlang.org"
+      sha256: ea0c0578b5db3ca3a583d80e05eb47bfb70419e3a23b920d93ae7968c45c20ce
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.3"
   boolean_selector:
     dependency: transitive
     description:
       name: boolean_selector
-      url: "https://pub.dartlang.org"
+      sha256: "6cfb5af12253eaf2b368f07bacc5a80d1301a071c73360d746b7f2e32d762c66"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.0"
+    version: "2.1.1"
   build:
     dependency: transitive
     description:
       name: build
-      url: "https://pub.dartlang.org"
+      sha256: "3fbda25365741f8251b39f3917fb3c8e286a96fd068a5a242e11c2012d495777"
+      url: "https://pub.dev"
     source: hosted
     version: "2.3.1"
   built_collection:
     dependency: transitive
     description:
       name: built_collection
-      url: "https://pub.dartlang.org"
+      sha256: "376e3dd27b51ea877c28d525560790aee2e6fbb5f20e2f85d5081027d94e2100"
+      url: "https://pub.dev"
     source: hosted
     version: "5.1.1"
   built_value:
     dependency: transitive
     description:
       name: built_value
-      url: "https://pub.dartlang.org"
+      sha256: "169565c8ad06adb760c3645bf71f00bff161b00002cace266cad42c5d22a7725"
+      url: "https://pub.dev"
     source: hosted
     version: "8.4.3"
   camera:
     dependency: "direct main"
     description:
-      path: "packages/camera/camera"
-      ref: smooth_camera
-      resolved-ref: "2fe0f6e0c7043a9cb855b299315566187827b2a2"
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-    source: git
-    version: "0.9.6"
+      name: camera
+      sha256: ad1c53c554a2f3e5708f3b01eb738d60b902bb61f7f4ad420c65c715e65a7379
+      url: "https://pub.dev"
+    source: hosted
+    version: "0.10.3+2"
+  camera_android:
+    dependency: transitive
+    description:
+      name: camera_android
+      sha256: df9c3376ccfce13c98a09c1d6433c64b0c6b2de81eeade8151884f8c8f08881f
+      url: "https://pub.dev"
+    source: hosted
+    version: "0.10.4+1"
+  camera_avfoundation:
+    dependency: transitive
+    description:
+      name: camera_avfoundation
+      sha256: a1ebce7132e2c1ffd3138e672538f6f2360715e181cf5b7eb5a073f1a735235e
+      url: "https://pub.dev"
+    source: hosted
+    version: "0.9.12"
   camera_platform_interface:
-    dependency: "direct main"
+    dependency: transitive
     description:
-      path: "packages/camera/camera_platform_interface"
-      ref: smooth_camera
-      resolved-ref: "2fe0f6e0c7043a9cb855b299315566187827b2a2"
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-    source: git
-    version: "2.1.6"
+      name: camera_platform_interface
+      sha256: "00d972adee2e8a282b4d7445e8e694aa1dc0c36b70455b99afa96fbf5e814119"
+      url: "https://pub.dev"
+    source: hosted
+    version: "2.4.1"
   camera_web:
     dependency: transitive
     description:
-      path: "packages/camera/camera_web"
-      ref: smooth_camera
-      resolved-ref: "2fe0f6e0c7043a9cb855b299315566187827b2a2"
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-    source: git
-    version: "0.2.1+6"
+      name: camera_web
+      sha256: f7a949ce4d2e091234f2e6607557a0a65398c34c84c1161fb249498595e3b4ce
+      url: "https://pub.dev"
+    source: hosted
+    version: "0.3.1+2"
   carousel_slider:
     dependency: "direct main"
     description:
       name: carousel_slider
-      url: "https://pub.dartlang.org"
+      sha256: "9c695cc963bf1d04a47bd6021f68befce8970bcd61d24938e1fb0918cf5d9c42"
+      url: "https://pub.dev"
     source: hosted
-    version: "4.1.1"
+    version: "4.2.1"
   characters:
     dependency: transitive
     description:
       name: characters
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.2.0"
-  charcode:
-    dependency: transitive
-    description:
-      name: charcode
-      url: "https://pub.dartlang.org"
+      sha256: e6a326c8af69605aec75ed6c187d06b349707a27fbff8222ca9cc2cff167975c
+      url: "https://pub.dev"
     source: hosted
-    version: "1.3.1"
+    version: "1.2.1"
   checked_yaml:
     dependency: transitive
     description:
       name: checked_yaml
-      url: "https://pub.dartlang.org"
+      sha256: "3d1505d91afa809d177efd4eed5bb0eb65805097a1463abdd2add076effae311"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.1"
+    version: "2.0.2"
   cli_util:
     dependency: transitive
     description:
       name: cli_util
-      url: "https://pub.dartlang.org"
+      sha256: "66f86e916d285c1a93d3b79587d94bd71984a66aac4ff74e524cfa7877f1395c"
+      url: "https://pub.dev"
     source: hosted
     version: "0.3.5"
   clock:
     dependency: transitive
     description:
       name: clock
-      url: "https://pub.dartlang.org"
+      sha256: cb6d7f03e1de671e34607e909a7213e31d7752be4fb66a86d29fe1eb14bfb5cf
+      url: "https://pub.dev"
     source: hosted
-    version: "1.1.0"
+    version: "1.1.1"
   code_builder:
     dependency: transitive
     description:
       name: code_builder
-      url: "https://pub.dartlang.org"
+      sha256: "0d43dd1288fd145de1ecc9a3948ad4a6d5a82f0a14c4fdd0892260787d975cbe"
+      url: "https://pub.dev"
     source: hosted
     version: "4.4.0"
   collection:
     dependency: "direct main"
     description:
       name: collection
-      url: "https://pub.dartlang.org"
+      sha256: cfc915e6923fe5ce6e153b0723c753045de46de1b4d63771530504004a45fae0
+      url: "https://pub.dev"
     source: hosted
-    version: "1.16.0"
+    version: "1.17.0"
   convert:
     dependency: transitive
     description:
       name: convert
-      url: "https://pub.dartlang.org"
+      sha256: "1be13198012c1d5bc042dc40ad1d7f16cbd522350984c0c1abf471d6d7e305c6"
+      url: "https://pub.dev"
     source: hosted
     version: "3.1.0"
   cross_file:
     dependency: transitive
     description:
       name: cross_file
-      url: "https://pub.dartlang.org"
+      sha256: "0b0036e8cccbfbe0555fd83c1d31a6f30b77a96b598b35a5d36dd41f718695e9"
+      url: "https://pub.dev"
     source: hosted
     version: "0.3.3+4"
   crypto:
     dependency: transitive
     description:
       name: crypto
-      url: "https://pub.dartlang.org"
+      sha256: aa274aa7774f8964e4f4f38cc994db7b6158dd36e9187aaceaddc994b35c6c67
+      url: "https://pub.dev"
     source: hosted
-    version: "3.0.1"
+    version: "3.0.2"
   csslib:
     dependency: transitive
     description:
       name: csslib
-      url: "https://pub.dartlang.org"
+      sha256: b36c7f7e24c0bdf1bf9a3da461c837d1de64b9f8beb190c9011d8c72a3dfd745
+      url: "https://pub.dev"
     source: hosted
     version: "0.17.2"
   cupertino_icons:
     dependency: "direct main"
     description:
       name: cupertino_icons
-      url: "https://pub.dartlang.org"
+      sha256: e35129dc44c9118cee2a5603506d823bab99c68393879edb440e0090d07586be
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.5"
   dart_style:
     dependency: transitive
     description:
       name: dart_style
-      url: "https://pub.dartlang.org"
+      sha256: "7a03456c3490394c8e7665890333e91ae8a49be43542b616e414449ac358acd4"
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.4"
   data_importer:
@@ -326,91 +359,72 @@ packages:
     dependency: transitive
     description:
       name: device_frame
-      url: "https://pub.dartlang.org"
+      sha256: afe76182aec178d171953d9b4a50a43c57c7cf3c77d8b09a48bf30c8fa04dd9d
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.0"
   device_info_plus:
     dependency: "direct main"
     description:
       name: device_info_plus
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "4.1.2"
-  device_info_plus_linux:
-    dependency: transitive
-    description:
-      name: device_info_plus_linux
-      url: "https://pub.dartlang.org"
+      sha256: "1d6e5a61674ba3a68fb048a7c7b4ff4bebfed8d7379dbe8f2b718231be9a7c95"
+      url: "https://pub.dev"
     source: hosted
-    version: "3.0.0"
-  device_info_plus_macos:
-    dependency: transitive
-    description:
-      name: device_info_plus_macos
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.0.0"
+    version: "8.1.0"
   device_info_plus_platform_interface:
     dependency: transitive
     description:
       name: device_info_plus_platform_interface
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.0.0"
-  device_info_plus_web:
-    dependency: transitive
-    description:
-      name: device_info_plus_web
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.0.0"
-  device_info_plus_windows:
-    dependency: transitive
-    description:
-      name: device_info_plus_windows
-      url: "https://pub.dartlang.org"
+      sha256: d3b01d5868b50ae571cd1dc6e502fc94d956b665756180f7b16ead09e836fd64
+      url: "https://pub.dev"
     source: hosted
-    version: "4.1.0"
+    version: "7.0.0"
   device_preview:
     dependency: "direct main"
     description:
       name: device_preview
-      url: "https://pub.dartlang.org"
+      sha256: "2f097bf31b929e15e6756dbe0ec1bcb63952ab9ed51c25dc5a2c722d2b21fdaf"
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.0"
   fake_async:
     dependency: transitive
     description:
       name: fake_async
-      url: "https://pub.dartlang.org"
+      sha256: "511392330127add0b769b75a987850d136345d9227c6b94c96a04cf4a391bf78"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.3.0"
+    version: "1.3.1"
   ffi:
     dependency: transitive
     description:
       name: ffi
-      url: "https://pub.dartlang.org"
+      sha256: a38574032c5f1dd06c4aee541789906c12ccaab8ba01446e800d9c5b79c4a978
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.1"
   file:
     dependency: transitive
     description:
       name: file
-      url: "https://pub.dartlang.org"
+      sha256: "1b92bec4fc2a72f59a8e15af5f52cd441e4a7860b49499d69dfa817af20e925d"
+      url: "https://pub.dev"
     source: hosted
-    version: "6.1.2"
+    version: "6.1.4"
   fimber:
     dependency: "direct main"
     description:
       name: fimber
-      url: "https://pub.dartlang.org"
+      sha256: "1415768ddd9fd66f134dbc53f731107554c98175a63d4e93234478a113ffabb8"
+      url: "https://pub.dev"
     source: hosted
     version: "0.6.6"
   fixnum:
     dependency: transitive
     description:
       name: fixnum
-      url: "https://pub.dartlang.org"
+      sha256: "04be3e934c52e082558cc9ee21f42f5c1cd7a1262f4c63cd0357c08d5bba81ec"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   flutter:
@@ -427,35 +441,32 @@ packages:
     dependency: "direct main"
     description:
       name: flutter_email_sender
-      url: "https://pub.dartlang.org"
+      sha256: "9e253c69617f43d4cb5de672e93a7a19c12a21fb6a75e66c6ce7626336c4c1bc"
+      url: "https://pub.dev"
     source: hosted
-    version: "5.1.0"
+    version: "5.2.0"
   flutter_image_compress:
     dependency: "direct main"
     description:
       name: flutter_image_compress
-      url: "https://pub.dartlang.org"
+      sha256: "37f1b26399098e5f97b74c1483f534855e7dff68ead6ddaccf747029fb03f29f"
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.3"
-  flutter_isolate:
-    dependency: transitive
-    description:
-      name: flutter_isolate
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.0.3"
   flutter_launcher_icons:
     dependency: "direct dev"
     description:
       name: flutter_launcher_icons
-      url: "https://pub.dartlang.org"
+      sha256: a9de6706cd844668beac27c0aed5910fa0534832b3c2cad61a5fd977fce82a5d
+      url: "https://pub.dev"
     source: hosted
     version: "0.10.0"
   flutter_lints:
     dependency: "direct dev"
     description:
       name: flutter_lints
-      url: "https://pub.dartlang.org"
+      sha256: aeb0b80a8b3709709c9cc496cdc027c5b3216796bc0af0ce1007eaf24464fd4c
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.1"
   flutter_localizations:
@@ -467,72 +478,82 @@ packages:
     dependency: "direct main"
     description:
       name: flutter_map
-      url: "https://pub.dartlang.org"
+      sha256: "09010e452bcd8c57ade1b936b79643c4fd599f93b00d1696630f0b919b6f374a"
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.0"
   flutter_native_splash:
     dependency: "direct main"
     description:
       name: flutter_native_splash
-      url: "https://pub.dartlang.org"
+      sha256: "22740417b7edd53e97bf83b0a8056d76e2e056c0ca21b78fa59e2f10503f7eb3"
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.3+1"
   flutter_plugin_android_lifecycle:
     dependency: transitive
     description:
       name: flutter_plugin_android_lifecycle
-      url: "https://pub.dartlang.org"
+      sha256: "60fc7b78455b94e6de2333d2f95196d32cf5c22f4b0b0520a628804cb463503b"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.7"
   flutter_secure_storage:
     dependency: "direct main"
     description:
       name: flutter_secure_storage
-      url: "https://pub.dartlang.org"
+      sha256: "5abe3d5c25ab435e48c47fb61bac25606062a305fac637c2f020e25abd30014a"
+      url: "https://pub.dev"
     source: hosted
-    version: "5.0.2"
+    version: "5.1.2"
   flutter_secure_storage_linux:
     dependency: transitive
     description:
       name: flutter_secure_storage_linux
-      url: "https://pub.dartlang.org"
+      sha256: "0912ae29a572230ad52d8a4697e5518d7f0f429052fd51df7e5a7952c7efe2a3"
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.3"
   flutter_secure_storage_macos:
     dependency: transitive
     description:
       name: flutter_secure_storage_macos
-      url: "https://pub.dartlang.org"
+      sha256: "388f76fd0f093e7415a39ec4c169ae7cceeee6d9f9ba529d788a13f2be4de7bd"
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.2"
   flutter_secure_storage_platform_interface:
     dependency: transitive
     description:
       name: flutter_secure_storage_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: b3773190e385a3c8a382007893d678ae95462b3c2279e987b55d140d3b0cb81b
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   flutter_secure_storage_web:
     dependency: transitive
     description:
       name: flutter_secure_storage_web
-      url: "https://pub.dartlang.org"
+      sha256: "42938e70d4b872e856e678c423cc0e9065d7d294f45bc41fc1981a4eb4beaffe"
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.1"
   flutter_secure_storage_windows:
     dependency: transitive
     description:
       name: flutter_secure_storage_windows
-      url: "https://pub.dartlang.org"
+      sha256: ca89c8059cf439985aa83c59619b3674c7ef6cc2e86943d169a7369d6a69cab5
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.3"
   flutter_svg:
     dependency: "direct main"
     description:
       name: flutter_svg
-      url: "https://pub.dartlang.org"
+      sha256: "6ff9fa12892ae074092de2fa6a9938fb21dbabfdaa2ff57dc697ff912fc8d4b2"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.1.5"
+    version: "1.1.6"
   flutter_test:
     dependency: "direct dev"
     description: flutter
@@ -547,14 +568,16 @@ packages:
     dependency: "direct main"
     description:
       name: flutter_widget_from_html_core
-      url: "https://pub.dartlang.org"
+      sha256: "23c72f8ce7ba1fd6f8fbdc107f07e04fe152ffd587be1b012938904bfda31950"
+      url: "https://pub.dev"
     source: hosted
-    version: "0.8.5+3"
+    version: "0.8.3+1"
   freezed_annotation:
     dependency: transitive
     description:
       name: freezed_annotation
-      url: "https://pub.dartlang.org"
+      sha256: aeac15850ef1b38ee368d4c53ba9a847e900bb2c53a4db3f6881cbb3cb684338
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.0"
   fuchsia_remote_debug_protocol:
@@ -566,126 +589,128 @@ packages:
     dependency: "direct main"
     description:
       name: fwfh_selectable_text
-      url: "https://pub.dartlang.org"
+      sha256: "55a17a85c0b5e26833127c57fc7864055799c1c2dfdb2ed665ac925222718901"
+      url: "https://pub.dev"
     source: hosted
     version: "0.8.3+1"
   fwfh_text_style:
     dependency: transitive
     description:
       name: fwfh_text_style
-      url: "https://pub.dartlang.org"
+      sha256: "37806ee0222f79b6e8d4c698c322c897eae6a817258156f40aeece4e588fac60"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.22.08"
+    version: "2.22.08+1"
   glob:
     dependency: transitive
     description:
       name: glob
-      url: "https://pub.dartlang.org"
+      sha256: c51b4fdfee4d281f49b8c957f1add91b815473597f76bcf07377987f66a55729
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
-  google_mlkit_barcode_scanning:
-    dependency: transitive
-    description:
-      name: google_mlkit_barcode_scanning
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "0.3.0"
-  google_mlkit_commons:
-    dependency: transitive
-    description:
-      name: google_mlkit_commons
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "0.2.0"
   hive:
     dependency: "direct main"
     description:
       name: hive
-      url: "https://pub.dartlang.org"
+      sha256: "8dcf6db979d7933da8217edcec84e9df1bdb4e4edc7fc77dbd5aa74356d6d941"
+      url: "https://pub.dev"
     source: hosted
     version: "2.2.3"
   hive_flutter:
     dependency: "direct main"
     description:
       name: hive_flutter
-      url: "https://pub.dartlang.org"
+      sha256: dca1da446b1d808a51689fb5d0c6c9510c0a2ba01e22805d492c73b68e33eecc
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.0"
   html:
     dependency: transitive
     description:
       name: html
-      url: "https://pub.dartlang.org"
+      sha256: d9793e10dbe0e6c364f4c59bf3e01fb33a9b2a674bc7a1081693dba0614b6269
+      url: "https://pub.dev"
     source: hosted
     version: "0.15.1"
   http:
     dependency: "direct main"
     description:
       name: http
-      url: "https://pub.dartlang.org"
+      sha256: "6aa2946395183537c8b880962d935877325d6a09a2867c3970c05c0fed6ac482"
+      url: "https://pub.dev"
     source: hosted
     version: "0.13.5"
   http_parser:
     dependency: transitive
     description:
       name: http_parser
-      url: "https://pub.dartlang.org"
+      sha256: "2aa08ce0341cc9b354a498388e30986515406668dbcc4f7c950c3e715496693b"
+      url: "https://pub.dev"
     source: hosted
     version: "4.0.2"
   image:
     dependency: "direct main"
     description:
       name: image
-      url: "https://pub.dartlang.org"
+      sha256: "8e9d133755c3e84c73288363e6343157c383a0c6c56fc51afcc5d4d7180306d6"
+      url: "https://pub.dev"
     source: hosted
-    version: "3.2.0"
+    version: "3.3.0"
   image_picker:
     dependency: "direct main"
     description:
       name: image_picker
-      url: "https://pub.dartlang.org"
+      sha256: "64b21d9f0e065f9ab0e4dde458076226c97382cc0c6949144cb874c62bf8e9f8"
+      url: "https://pub.dev"
     source: hosted
-    version: "0.8.6"
+    version: "0.8.7"
   image_picker_android:
     dependency: transitive
     description:
       name: image_picker_android
-      url: "https://pub.dartlang.org"
+      sha256: "385f12ee9c7288575572c7873a332016ec45ebd092e1c2f6bd421b4a9ad21f1d"
+      url: "https://pub.dev"
     source: hosted
     version: "0.8.5+6"
   image_picker_for_web:
     dependency: transitive
     description:
       name: image_picker_for_web
-      url: "https://pub.dartlang.org"
+      sha256: "7d319fb74955ca46d9bf7011497860e3923bb67feebcf068f489311065863899"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.10"
   image_picker_ios:
     dependency: transitive
     description:
       name: image_picker_ios
-      url: "https://pub.dartlang.org"
+      sha256: "8ffb14b43713d7c43fb21299cc18181cc5b39bd3ea1cc427a085c6400fe5aa52"
+      url: "https://pub.dev"
     source: hosted
     version: "0.8.6+7"
   image_picker_platform_interface:
     dependency: transitive
     description:
       name: image_picker_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "7cef2f28f4f2fef99180f636c3d446b4ccbafd6ba0fad2adc9a80c4040f656b8"
+      url: "https://pub.dev"
     source: hosted
     version: "2.6.2"
   in_app_review:
     dependency: transitive
     description:
       name: in_app_review
-      url: "https://pub.dartlang.org"
+      sha256: "6cb7a8e4a2eecfa5868b35e1e9ac9082341eeead2cefaac8282be514736e9715"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.4"
   in_app_review_platform_interface:
     dependency: transitive
     description:
       name: in_app_review_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: b12ec9aaf6b34d3a72aa95895eb252b381896246bdad4ef378d444affe8410ef
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.4"
   integration_test:
@@ -697,147 +722,176 @@ packages:
     dependency: "direct main"
     description:
       name: intl
-      url: "https://pub.dartlang.org"
+      sha256: "910f85bce16fb5c6f614e117efa303e85a1731bb0081edf3604a2ae6e9a3cc91"
+      url: "https://pub.dev"
     source: hosted
     version: "0.17.0"
   iso_countries:
     dependency: "direct main"
     description:
       name: iso_countries
-      url: "https://pub.dartlang.org"
+      sha256: "4b5e26f2281210505a4352e3a615a8b54fff0017250dfc7374466ac807462768"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
   js:
     dependency: transitive
     description:
       name: js
-      url: "https://pub.dartlang.org"
+      sha256: "5528c2f391ededb7775ec1daa69e65a2d61276f7552de2b5f7b8d34ee9fd4ab7"
+      url: "https://pub.dev"
     source: hosted
-    version: "0.6.4"
+    version: "0.6.5"
   json_annotation:
     dependency: transitive
     description:
       name: json_annotation
-      url: "https://pub.dartlang.org"
+      sha256: c33da08e136c3df0190bd5bbe51ae1df4a7d96e7954d1d7249fea2968a72d317
+      url: "https://pub.dev"
     source: hosted
-    version: "4.7.0"
+    version: "4.8.0"
   latlong2:
     dependency: "direct main"
     description:
       name: latlong2
-      url: "https://pub.dartlang.org"
+      sha256: "408993a0e3f46e79ce1f129e4cb0386eef6d48dfa6394939ecacfbd7049154ec"
+      url: "https://pub.dev"
     source: hosted
     version: "0.8.1"
   lint:
     dependency: transitive
     description:
       name: lint
-      url: "https://pub.dartlang.org"
+      sha256: "4a539aa34ec5721a2c7574ae2ca0336738ea4adc2a34887d54b7596310b33c85"
+      url: "https://pub.dev"
     source: hosted
     version: "1.10.0"
   lints:
     dependency: transitive
     description:
       name: lints
-      url: "https://pub.dartlang.org"
+      sha256: "5e4a9cd06d447758280a8ac2405101e0e2094d2a1dbdd3756aec3fe7775ba593"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.1"
   lists:
     dependency: transitive
     description:
       name: lists
-      url: "https://pub.dartlang.org"
+      sha256: "4ca5c19ae4350de036a7e996cdd1ee39c93ac0a2b840f4915459b7d0a7d4ab27"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   logging:
     dependency: transitive
     description:
       name: logging
-      url: "https://pub.dartlang.org"
+      sha256: c0bbfe94d46aedf9b8b3e695cf3bd48c8e14b35e3b2c639e0aa7755d589ba946
+      url: "https://pub.dev"
     source: hosted
     version: "1.1.0"
   lottie:
     dependency: "direct main"
     description:
       name: lottie
-      url: "https://pub.dartlang.org"
+      sha256: "49bbc544e44bf0c734ccda29b182e3516a12f5021ea98b206cf31a168b0f97da"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.4.2"
+    version: "2.2.0"
   matcher:
     dependency: transitive
     description:
       name: matcher
-      url: "https://pub.dartlang.org"
+      sha256: "16db949ceee371e9b99d22f88fa3a73c4e59fd0afed0bd25fc336eb76c198b72"
+      url: "https://pub.dev"
     source: hosted
-    version: "0.12.11"
+    version: "0.12.13"
   material_color_utilities:
     dependency: transitive
     description:
       name: material_color_utilities
-      url: "https://pub.dartlang.org"
+      sha256: d92141dc6fe1dad30722f9aa826c7fbc896d021d792f80678280601aff8cf724
+      url: "https://pub.dev"
     source: hosted
-    version: "0.1.4"
+    version: "0.2.0"
   matomo_tracker:
     dependency: "direct main"
     description:
       name: matomo_tracker
-      url: "https://pub.dartlang.org"
+      sha256: "4500ed4ee9385f95e9195b448742e75c9115ffa59b4960e6ad3b79bdcd903c47"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.5.0"
+    version: "2.0.0"
   matrix4_transform:
     dependency: transitive
     description:
       name: matrix4_transform
-      url: "https://pub.dartlang.org"
+      sha256: "6ddeaa2c0e1f5c3f3a197f552377570b3e54fa0b8bf48507728a216fc0fd78a6"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.1"
   meta:
-    dependency: "direct overridden"
+    dependency: transitive
     description:
       name: meta
-      url: "https://pub.dartlang.org"
+      sha256: "6c268b42ed578a53088d834796959e4a1814b5e9e164f147f580a386e5decf42"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.7.0"
+    version: "1.8.0"
   mgrs_dart:
     dependency: transitive
     description:
       name: mgrs_dart
-      url: "https://pub.dartlang.org"
+      sha256: fb89ae62f05fa0bb90f70c31fc870bcbcfd516c843fb554452ab3396f78586f7
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.0"
   mime:
     dependency: transitive
     description:
       name: mime
-      url: "https://pub.dartlang.org"
+      sha256: "52e38f7e1143ef39daf532117d6b8f8f617bf4bcd6044ed8c29040d20d269630"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.3"
+  mobile_scanner:
+    dependency: "direct main"
+    description:
+      name: mobile_scanner
+      sha256: "4045e8441e21f1fb8998a76fbffd054510dd3a3b1dee55c7c9a2083eee687345"
+      url: "https://pub.dev"
+    source: hosted
+    version: "3.0.0"
   mockito:
     dependency: "direct dev"
     description:
       name: mockito
-      url: "https://pub.dartlang.org"
+      sha256: "2a8a17b82b1bde04d514e75d90d634a0ac23f6cb4991f6098009dd56836aeafe"
+      url: "https://pub.dev"
     source: hosted
-    version: "5.2.0"
+    version: "5.3.2"
   modal_bottom_sheet:
     dependency: "direct main"
     description:
       name: modal_bottom_sheet
-      url: "https://pub.dartlang.org"
+      sha256: ef533916a2c3089571c32bd34e410faca77a6849a3f28f748e0794525c5658a0
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.2"
   nested:
     dependency: transitive
     description:
       name: nested
-      url: "https://pub.dartlang.org"
+      sha256: "03bac4c528c64c95c722ec99280375a6f2fc708eec17c7b3f07253b626cd2a20"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.0"
   openfoodfacts:
     dependency: "direct main"
     description:
       name: openfoodfacts
-      url: "https://pub.dartlang.org"
+      sha256: "30f43c0f2da44d27d2e53cff5adc9fb7933231da2ec2e6778fcf9072c84bc315"
+      url: "https://pub.dev"
     source: hosted
     version: "2.4.0"
   openfoodfacts_flutter_lints:
@@ -853,392 +907,344 @@ packages:
     dependency: transitive
     description:
       name: package_config
-      url: "https://pub.dartlang.org"
+      sha256: "1c5b77ccc91e4823a5af61ee74e6b972db1ef98c2ff5a18d3161c982a55448bd"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
   package_info_plus:
     dependency: "direct main"
     description:
       name: package_info_plus
-      url: "https://pub.dartlang.org"
+      sha256: "8df5ab0a481d7dc20c0e63809e90a588e496d276ba53358afc4c4443d0a00697"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.4.3+1"
-  package_info_plus_linux:
-    dependency: transitive
-    description:
-      name: package_info_plus_linux
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.0.5"
-  package_info_plus_macos:
-    dependency: transitive
-    description:
-      name: package_info_plus_macos
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.3.0"
+    version: "3.0.3"
   package_info_plus_platform_interface:
     dependency: transitive
     description:
       name: package_info_plus_platform_interface
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.0.2"
-  package_info_plus_web:
-    dependency: transitive
-    description:
-      name: package_info_plus_web
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "1.0.6"
-  package_info_plus_windows:
-    dependency: transitive
-    description:
-      name: package_info_plus_windows
-      url: "https://pub.dartlang.org"
+      sha256: "9bc8ba46813a4cc42c66ab781470711781940780fd8beddd0c3da62506d3a6c6"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.0"
+    version: "2.0.1"
   path:
     dependency: "direct main"
     description:
       name: path
-      url: "https://pub.dartlang.org"
+      sha256: "2ad4cddff7f5cc0e2d13069f2a3f7a73ca18f66abd6f5ecf215219cdb3638edb"
+      url: "https://pub.dev"
     source: hosted
     version: "1.8.0"
   path_drawing:
     dependency: transitive
     description:
       name: path_drawing
-      url: "https://pub.dartlang.org"
+      sha256: bbb1934c0cbb03091af082a6389ca2080345291ef07a5fa6d6e078ba8682f977
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   path_parsing:
     dependency: transitive
     description:
       name: path_parsing
-      url: "https://pub.dartlang.org"
+      sha256: e3e67b1629e6f7e8100b367d3db6ba6af4b1f0bb80f64db18ef1fbabd2fa9ccf
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   path_provider:
     dependency: "direct main"
     description:
       name: path_provider
-      url: "https://pub.dartlang.org"
+      sha256: "04890b994ee89bfa80bf3080bfec40d5a92c5c7a785ebb02c13084a099d2b6f9"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.11"
+    version: "2.0.13"
   path_provider_android:
     dependency: transitive
     description:
       name: path_provider_android
-      url: "https://pub.dartlang.org"
+      sha256: a776c088d671b27f6e3aa8881d64b87b3e80201c64e8869b811325de7a76c15e
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.22"
-  path_provider_ios:
+  path_provider_foundation:
     dependency: transitive
     description:
-      name: path_provider_ios
-      url: "https://pub.dartlang.org"
+      name: path_provider_foundation
+      sha256: eec003594f19fe2456ea965ae36b3fc967bc5005f508890aafe31fa75e41d972
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.11"
+    version: "2.1.2"
   path_provider_linux:
     dependency: transitive
     description:
       name: path_provider_linux
-      url: "https://pub.dartlang.org"
+      sha256: "2e32f1640f07caef0d3cb993680f181c79e54a3827b997d5ee221490d131fbd9"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.8"
-  path_provider_macos:
-    dependency: transitive
-    description:
-      name: path_provider_macos
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.0.7"
   path_provider_platform_interface:
     dependency: "direct dev"
     description:
       name: path_provider_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "57585299a729335f1298b43245842678cb9f43a6310351b18fb577d6e33165ec"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.4"
+    version: "2.0.6"
   path_provider_windows:
     dependency: transitive
     description:
       name: path_provider_windows
-      url: "https://pub.dartlang.org"
+      sha256: bcabbe399d4042b8ee687e17548d5d3f527255253b4a639f5f8d2094a9c2b45c
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.3"
   percent_indicator:
     dependency: "direct main"
     description:
       name: percent_indicator
-      url: "https://pub.dartlang.org"
+      sha256: c37099ad833a883c9d71782321cb65c3a848c21b6939b6185f0ff6640d05814c
+      url: "https://pub.dev"
     source: hosted
-    version: "4.2.2"
+    version: "4.2.3"
   permission_handler:
     dependency: "direct main"
     description:
       name: permission_handler
-      url: "https://pub.dartlang.org"
+      sha256: "33c6a1253d1f95fd06fa74b65b7ba907ae9811f9d5c1d3150e51417d04b8d6a8"
+      url: "https://pub.dev"
     source: hosted
-    version: "9.2.0"
+    version: "10.2.0"
   permission_handler_android:
     dependency: transitive
     description:
       name: permission_handler_android
-      url: "https://pub.dartlang.org"
+      sha256: "8028362b40c4a45298f1cbfccd227c8dd6caf0e27088a69f2ba2ab15464159e2"
+      url: "https://pub.dev"
     source: hosted
-    version: "9.0.2+1"
+    version: "10.2.0"
   permission_handler_apple:
     dependency: transitive
     description:
       name: permission_handler_apple
-      url: "https://pub.dartlang.org"
+      sha256: "9c370ef6a18b1c4b2f7f35944d644a56aa23576f23abee654cf73968de93f163"
+      url: "https://pub.dev"
     source: hosted
     version: "9.0.7"
   permission_handler_platform_interface:
     dependency: transitive
     description:
       name: permission_handler_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "68abbc472002b5e6dfce47fe9898c6b7d8328d58b5d2524f75e277c07a97eb84"
+      url: "https://pub.dev"
     source: hosted
     version: "3.9.0"
   permission_handler_windows:
     dependency: transitive
     description:
       name: permission_handler_windows
-      url: "https://pub.dartlang.org"
+      sha256: f67cab14b4328574938ecea2db3475dad7af7ead6afab6338772c5f88963e38b
+      url: "https://pub.dev"
     source: hosted
     version: "0.1.2"
   petitparser:
     dependency: transitive
     description:
       name: petitparser
-      url: "https://pub.dartlang.org"
+      sha256: "2ebb289dc4764ec397f5cd3ca9881c6d17196130a7d646ed022a0dd9c2e25a71"
+      url: "https://pub.dev"
     source: hosted
     version: "5.0.0"
   photo_view:
     dependency: "direct main"
     description:
       name: photo_view
-      url: "https://pub.dartlang.org"
+      sha256: "8036802a00bae2a78fc197af8a158e3e2f7b500561ed23b4c458107685e645bb"
+      url: "https://pub.dev"
     source: hosted
     version: "0.14.0"
   platform:
     dependency: transitive
     description:
       name: platform
-      url: "https://pub.dartlang.org"
+      sha256: "4a451831508d7d6ca779f7ac6e212b4023dd5a7d08a27a63da33756410e32b76"
+      url: "https://pub.dev"
     source: hosted
     version: "3.1.0"
   plugin_platform_interface:
     dependency: "direct dev"
     description:
       name: plugin_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "6a2128648c854906c53fa8e33986fc0247a1116122f9534dd20e3ab9e16a32bc"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.2"
+    version: "2.1.4"
   polylabel:
     dependency: transitive
     description:
       name: polylabel
-      url: "https://pub.dartlang.org"
+      sha256: "41b9099afb2aa6c1730bdd8a0fab1400d287694ec7615dd8516935fa3144214b"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.1"
   positioned_tap_detector_2:
     dependency: transitive
     description:
       name: positioned_tap_detector_2
-      url: "https://pub.dartlang.org"
+      sha256: "52e06863ad3e1f82b058fd05054fc8c9caeeb3b47d5cea7a24bd9320746059c1"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.4"
   process:
     dependency: transitive
     description:
       name: process
-      url: "https://pub.dartlang.org"
+      sha256: "53fd8db9cec1d37b0574e12f07520d582019cb6c44abf5479a01505099a34a09"
+      url: "https://pub.dev"
     source: hosted
     version: "4.2.4"
   proj4dart:
     dependency: transitive
     description:
       name: proj4dart
-      url: "https://pub.dartlang.org"
+      sha256: c8a659ac9b6864aa47c171e78d41bbe6f5e1d7bd790a5814249e6b68bc44324e
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
   provider:
     dependency: "direct main"
     description:
       name: provider
-      url: "https://pub.dartlang.org"
+      sha256: cdbe7530b12ecd9eb455bdaa2fcb8d4dad22e80b8afb4798b41479d5ce26847f
+      url: "https://pub.dev"
     source: hosted
-    version: "6.0.3"
+    version: "6.0.5"
   pub_semver:
     dependency: transitive
     description:
       name: pub_semver
-      url: "https://pub.dartlang.org"
+      sha256: "307de764d305289ff24ad257ad5c5793ce56d04947599ad68b3baa124105fc17"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.3"
   qr:
     dependency: transitive
     description:
       name: qr
-      url: "https://pub.dartlang.org"
+      sha256: "64957a3930367bf97cc211a5af99551d630f2f4625e38af10edd6b19131b64b3"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.1"
+  qr_code_scanner:
+    dependency: "direct main"
+    description:
+      name: qr_code_scanner
+      sha256: f23b68d893505a424f0bd2e324ebea71ed88465d572d26bb8d2e78a4749591fd
+      url: "https://pub.dev"
+    source: hosted
+    version: "1.0.1"
   quiver:
     dependency: transitive
     description:
       name: quiver
-      url: "https://pub.dartlang.org"
+      sha256: b1c1ac5ce6688d77f65f3375a9abb9319b3cb32486bdc7a1e0fdf004d7ba4e47
+      url: "https://pub.dev"
     source: hosted
     version: "3.2.1"
-  rxdart:
-    dependency: "direct main"
-    description:
-      name: rxdart
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "0.27.4"
-  scanner_mlkit:
-    dependency: "direct main"
-    description:
-      path: "../scanner/mlkit"
-      relative: true
-    source: path
-    version: "0.0.1"
-  scanner_shared:
-    dependency: "direct main"
-    description:
-      path: "../scanner/shared"
-      relative: true
-    source: path
-    version: "1.0.0"
-  scanner_zxing:
-    dependency: "direct main"
-    description:
-      path: "../scanner/zxing"
-      relative: true
-    source: path
-    version: "0.0.1"
   sentry:
     dependency: transitive
     description:
       name: sentry
-      url: "https://pub.dartlang.org"
+      sha256: a1529c545fcbc899e5dcc7c94ff1c6ad0c334dfc99a3cda366b1da98af7c5678
+      url: "https://pub.dev"
     source: hosted
-    version: "6.20.1"
+    version: "6.22.0"
   sentry_flutter:
     dependency: "direct main"
     description:
       name: sentry_flutter
-      url: "https://pub.dartlang.org"
+      sha256: cab07e99a8f27af94f399cabceaff6968011660505b30a0e2286728a81bc476c
+      url: "https://pub.dev"
     source: hosted
-    version: "6.11.0"
+    version: "6.22.0"
   share_plus:
     dependency: "direct main"
     description:
       name: share_plus
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "4.0.10"
-  share_plus_linux:
-    dependency: transitive
-    description:
-      name: share_plus_linux
-      url: "https://pub.dartlang.org"
+      sha256: "8c6892037b1824e2d7e8f59d54b3105932899008642e6372e5079c6939b4b625"
+      url: "https://pub.dev"
     source: hosted
-    version: "3.0.1"
-  share_plus_macos:
-    dependency: transitive
-    description:
-      name: share_plus_macos
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.0.1"
+    version: "6.3.1"
   share_plus_platform_interface:
     dependency: transitive
     description:
       name: share_plus_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "82ddd4ab9260c295e6e39612d4ff00390b9a7a21f1bb1da771e2f232d80ab8a1"
+      url: "https://pub.dev"
     source: hosted
     version: "3.2.0"
-  share_plus_web:
-    dependency: transitive
-    description:
-      name: share_plus_web
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.1.0"
-  share_plus_windows:
-    dependency: transitive
-    description:
-      name: share_plus_windows
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "3.0.1"
   shared_preferences:
     dependency: "direct main"
     description:
       name: shared_preferences
-      url: "https://pub.dartlang.org"
+      sha256: ee6257848f822b8481691f20c3e6d2bfee2e9eccb2a3d249907fcfb198c55b41
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.15"
+    version: "2.0.18"
   shared_preferences_android:
     dependency: transitive
     description:
       name: shared_preferences_android
-      url: "https://pub.dartlang.org"
+      sha256: "955e9736a12ba776bdd261cf030232b30eadfcd9c79b32a3250dd4a494e8c8f7"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.15"
-  shared_preferences_ios:
+  shared_preferences_foundation:
     dependency: transitive
     description:
-      name: shared_preferences_ios
-      url: "https://pub.dartlang.org"
+      name: shared_preferences_foundation
+      sha256: "6b84fdf06b32bb336f972d373cd38b63734f3461ba56ac2ba01b56d052796259"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.1"
+    version: "2.1.4"
   shared_preferences_linux:
     dependency: transitive
     description:
       name: shared_preferences_linux
-      url: "https://pub.dartlang.org"
+      sha256: f8ea038aa6da37090093974ebdcf4397010605fd2ff65c37a66f9d28394cb874
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.3"
-  shared_preferences_macos:
-    dependency: transitive
-    description:
-      name: shared_preferences_macos
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.0.5"
   shared_preferences_platform_interface:
     dependency: transitive
     description:
       name: shared_preferences_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: da9431745ede5ece47bc26d5d73a9d3c6936ef6945c101a5aca46f62e52c1cf3
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
   shared_preferences_web:
     dependency: transitive
     description:
       name: shared_preferences_web
-      url: "https://pub.dartlang.org"
+      sha256: a4b5bc37fe1b368bbc81f953197d55e12f49d0296e7e412dfe2d2d77d6929958
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.4"
   shared_preferences_windows:
     dependency: transitive
     description:
       name: shared_preferences_windows
-      url: "https://pub.dartlang.org"
+      sha256: "5eaf05ae77658d3521d0e993ede1af962d4b326cd2153d312df716dc250f00c9"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.3"
   shimmer:
     dependency: "direct main"
     description:
       name: shimmer
-      url: "https://pub.dartlang.org"
+      sha256: "1f1009b5845a1f88f1c5630212279540486f97409e9fc3f63883e71070d107bf"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.0"
   sky_engine:
@@ -1250,282 +1256,314 @@ packages:
     dependency: transitive
     description:
       name: source_gen
-      url: "https://pub.dartlang.org"
+      sha256: "2d79738b6bbf38a43920e2b8d189e9a3ce6cc201f4b8fc76be5e4fe377b1c38d"
+      url: "https://pub.dev"
     source: hosted
     version: "1.2.6"
   source_span:
     dependency: transitive
     description:
       name: source_span
-      url: "https://pub.dartlang.org"
+      sha256: dd904f795d4b4f3b870833847c461801f6750a9fa8e61ea5ac53f9422b31f250
+      url: "https://pub.dev"
     source: hosted
-    version: "1.8.2"
+    version: "1.9.1"
   sqflite:
     dependency: "direct main"
     description:
       name: sqflite
-      url: "https://pub.dartlang.org"
+      sha256: "851d5040552cf911f4cabda08d003eca76b27da3ed0002978272e27c8fbf8ecc"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.0.2+1"
+    version: "2.2.5"
   sqflite_common:
     dependency: transitive
     description:
       name: sqflite_common
-      url: "https://pub.dartlang.org"
+      sha256: bfd6973aaeeb93475bc0d875ac9aefddf7965ef22ce09790eb963992ffc5183f
+      url: "https://pub.dev"
     source: hosted
-    version: "2.4.0"
+    version: "2.4.2+2"
   stack_trace:
     dependency: transitive
     description:
       name: stack_trace
-      url: "https://pub.dartlang.org"
+      sha256: c3c7d8edb15bee7f0f74debd4b9c5f3c2ea86766fe4178eb2a18eb30a0bdaed5
+      url: "https://pub.dev"
     source: hosted
-    version: "1.10.0"
+    version: "1.11.0"
   stream_channel:
     dependency: transitive
     description:
       name: stream_channel
-      url: "https://pub.dartlang.org"
+      sha256: "83615bee9045c1d322bbbd1ba209b7a749c2cbcdcb3fdd1df8eb488b3279c1c8"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.0"
+    version: "2.1.1"
   stream_transform:
     dependency: transitive
     description:
       name: stream_transform
-      url: "https://pub.dartlang.org"
+      sha256: "14a00e794c7c11aa145a170587321aedce29769c08d7f58b1d141da75e3b1c6f"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.0"
   string_scanner:
     dependency: transitive
     description:
       name: string_scanner
-      url: "https://pub.dartlang.org"
+      sha256: "556692adab6cfa87322a115640c11f13cb77b3f076ddcc5d6ae3c20242bedcde"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.1.0"
+    version: "1.2.0"
   sync_http:
     dependency: transitive
     description:
       name: sync_http
-      url: "https://pub.dartlang.org"
+      sha256: "7f0cd72eca000d2e026bcd6f990b81d0ca06022ef4e32fb257b30d3d1014a961"
+      url: "https://pub.dev"
     source: hosted
-    version: "0.3.0"
+    version: "0.3.1"
   synchronized:
     dependency: transitive
     description:
       name: synchronized
-      url: "https://pub.dartlang.org"
+      sha256: "7b530acd9cb7c71b0019a1e7fa22c4105e675557a4400b6a401c71c5e0ade1ac"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.0+3"
   term_glyph:
     dependency: transitive
     description:
       name: term_glyph
-      url: "https://pub.dartlang.org"
+      sha256: a29248a84fbb7c79282b40b8c72a1209db169a2e0542bce341da992fe1bc7e84
+      url: "https://pub.dev"
     source: hosted
-    version: "1.2.0"
+    version: "1.2.1"
   test_api:
     dependency: transitive
     description:
       name: test_api
-      url: "https://pub.dartlang.org"
+      sha256: ad540f65f92caa91bf21dfc8ffb8c589d6e4dc0c2267818b4cc2792857706206
+      url: "https://pub.dev"
     source: hosted
-    version: "0.4.9"
+    version: "0.4.16"
   tuple:
     dependency: transitive
     description:
       name: tuple
-      url: "https://pub.dartlang.org"
+      sha256: "0ea99cd2f9352b2586583ab2ce6489d1f95a5f6de6fb9492faaf97ae2060f0aa"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.1"
   typed_data:
-    dependency: "direct main"
+    dependency: transitive
     description:
       name: typed_data
-      url: "https://pub.dartlang.org"
+      sha256: "26f87ade979c47a150c9eaab93ccd2bebe70a27dc0b4b29517f2904f04eb11a5"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.3.0"
+    version: "1.3.1"
   unicode:
     dependency: transitive
     description:
       name: unicode
-      url: "https://pub.dartlang.org"
+      sha256: "0f69e46593d65245774d4f17125c6084d2c20b4e473a983f6e21b7d7762218f1"
+      url: "https://pub.dev"
     source: hosted
     version: "0.3.1"
   universal_io:
     dependency: transitive
     description:
       name: universal_io
-      url: "https://pub.dartlang.org"
-    source: hosted
-    version: "2.1.0"
-  universal_platform:
-    dependency: transitive
-    description:
-      name: universal_platform
-      url: "https://pub.dartlang.org"
+      sha256: "06866290206d196064fd61df4c7aea1ffe9a4e7c4ccaa8fcded42dd41948005d"
+      url: "https://pub.dev"
     source: hosted
-    version: "1.0.0+1"
+    version: "2.2.0"
   url_launcher:
     dependency: "direct main"
     description:
       name: url_launcher
-      url: "https://pub.dartlang.org"
+      sha256: f118f30f4301453d155c236a17d9ba53ec02a342591290aff91ae0fda4dc5428
+      url: "https://pub.dev"
     source: hosted
     version: "6.1.3"
   url_launcher_android:
     dependency: transitive
     description:
       name: url_launcher_android
-      url: "https://pub.dartlang.org"
+      sha256: "3e2f6dfd2c7d9cd123296cab8ef66cfc2c1a13f5845f42c7a0f365690a8a7dd1"
+      url: "https://pub.dev"
     source: hosted
     version: "6.0.23"
   url_launcher_ios:
     dependency: transitive
     description:
       name: url_launcher_ios
-      url: "https://pub.dartlang.org"
+      sha256: bb328b24d3bccc20bdf1024a0990ac4f869d57663660de9c936fb8c043edefe3
+      url: "https://pub.dev"
     source: hosted
     version: "6.0.18"
   url_launcher_linux:
     dependency: transitive
     description:
       name: url_launcher_linux
-      url: "https://pub.dartlang.org"
+      sha256: "318c42cba924e18180c029be69caf0a1a710191b9ec49bb42b5998fdcccee3cc"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.2"
   url_launcher_macos:
     dependency: transitive
     description:
       name: url_launcher_macos
-      url: "https://pub.dartlang.org"
+      sha256: "41988b55570df53b3dd2a7fc90c76756a963de6a8c5f8e113330cb35992e2094"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.2"
   url_launcher_platform_interface:
     dependency: transitive
     description:
       name: url_launcher_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "4eae912628763eb48fc214522e58e942fd16ce195407dbf45638239523c759a6"
+      url: "https://pub.dev"
     source: hosted
     version: "2.1.1"
   url_launcher_web:
     dependency: transitive
     description:
       name: url_launcher_web
-      url: "https://pub.dartlang.org"
+      sha256: "44d79408ce9f07052095ef1f9a693c258d6373dc3944249374e30eff7219ccb0"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.14"
   url_launcher_windows:
     dependency: transitive
     description:
       name: url_launcher_windows
-      url: "https://pub.dartlang.org"
+      sha256: b6217370f8eb1fd85c8890c539f5a639a01ab209a36db82c921ebeacefc7a615
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.3"
   uuid:
     dependency: "direct main"
     description:
       name: uuid
-      url: "https://pub.dartlang.org"
+      sha256: "648e103079f7c64a36dc7d39369cabb358d377078a051d6ae2ad3aa539519313"
+      url: "https://pub.dev"
     source: hosted
-    version: "3.0.6"
+    version: "3.0.7"
   vector_math:
     dependency: transitive
     description:
       name: vector_math
-      url: "https://pub.dartlang.org"
+      sha256: "80b3257d1492ce4d091729e3a67a60407d227c27241d6927be0130c98e741803"
+      url: "https://pub.dev"
     source: hosted
-    version: "2.1.2"
+    version: "2.1.4"
   visibility_detector:
     dependency: "direct main"
     description:
       name: visibility_detector
-      url: "https://pub.dartlang.org"
+      sha256: dd5cc11e13494f432d15939c3aa8ae76844c42b723398643ce9addb88a5ed420
+      url: "https://pub.dev"
     source: hosted
-    version: "0.3.3"
+    version: "0.4.0+2"
   vm_service:
     dependency: transitive
     description:
       name: vm_service
-      url: "https://pub.dartlang.org"
+      sha256: e7fb6c2282f7631712b69c19d1bff82f3767eea33a2321c14fa59ad67ea391c7
+      url: "https://pub.dev"
     source: hosted
-    version: "8.2.2"
+    version: "9.4.0"
   watcher:
     dependency: transitive
     description:
       name: watcher
-      url: "https://pub.dartlang.org"
+      sha256: "6a7f46926b01ce81bfc339da6a7f20afbe7733eff9846f6d6a5466aa4c6667c0"
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.2"
   webdriver:
     dependency: transitive
     description:
       name: webdriver
-      url: "https://pub.dartlang.org"
+      sha256: ef67178f0cc7e32c1494645b11639dd1335f1d18814aa8435113a92e9ef9d841
+      url: "https://pub.dev"
     source: hosted
-    version: "3.0.0"
+    version: "3.0.1"
   webview_flutter:
     dependency: "direct main"
     description:
       name: webview_flutter
-      url: "https://pub.dartlang.org"
+      sha256: "392c1d83b70fe2495de3ea2c84531268d5b8de2de3f01086a53334d8b6030a88"
+      url: "https://pub.dev"
     source: hosted
     version: "3.0.4"
   webview_flutter_android:
     dependency: transitive
     description:
       name: webview_flutter_android
-      url: "https://pub.dartlang.org"
+      sha256: "8b3b2450e98876c70bfcead876d9390573b34b9418c19e28168b74f6cb252dbd"
+      url: "https://pub.dev"
     source: hosted
     version: "2.10.4"
   webview_flutter_platform_interface:
     dependency: transitive
     description:
       name: webview_flutter_platform_interface
-      url: "https://pub.dartlang.org"
+      sha256: "812165e4e34ca677bdfbfa58c01e33b27fd03ab5fa75b70832d4b7d4ca1fa8cf"
+      url: "https://pub.dev"
     source: hosted
     version: "1.9.5"
   webview_flutter_wkwebview:
     dependency: transitive
     description:
       name: webview_flutter_wkwebview
-      url: "https://pub.dartlang.org"
+      sha256: a5364369c758892aa487cbf59ea41d9edd10f9d9baf06a94e80f1bd1b4c7bbc0
+      url: "https://pub.dev"
     source: hosted
     version: "2.9.5"
   win32:
     dependency: transitive
     description:
       name: win32
-      url: "https://pub.dartlang.org"
+      sha256: c9ebe7ee4ab0c2194e65d3a07d8c54c5d00bb001b76081c4a04cdb8448b59e46
+      url: "https://pub.dev"
     source: hosted
     version: "3.1.3"
   wkt_parser:
     dependency: transitive
     description:
       name: wkt_parser
-      url: "https://pub.dartlang.org"
+      sha256: "8a555fc60de3116c00aad67891bcab20f81a958e4219cc106e3c037aa3937f13"
+      url: "https://pub.dev"
     source: hosted
     version: "2.0.0"
   xdg_directories:
     dependency: transitive
     description:
       name: xdg_directories
-      url: "https://pub.dartlang.org"
+      sha256: ee1505df1426458f7f60aac270645098d318a8b4766d85fde75f76f2e21807d1
+      url: "https://pub.dev"
     source: hosted
     version: "1.0.0"
   xml:
     dependency: transitive
     description:
       name: xml
-      url: "https://pub.dartlang.org"
+      sha256: ac0e3f4bf00ba2708c33fbabbbe766300e509f8c82dbd4ab6525039813f7e2fb
+      url: "https://pub.dev"
     source: hosted
     version: "6.1.0"
   yaml:
     dependency: transitive
     description:
       name: yaml
-      url: "https://pub.dartlang.org"
+      sha256: "23812a9b125b48d4007117254bca50abb6c712352927eece9e155207b1db2370"
+      url: "https://pub.dev"
     source: hosted
     version: "3.1.1"
 sdks:
-  dart: ">=2.17.0 <3.0.0"
-  flutter: ">=3.0.1"
+  dart: ">=2.19.0 <3.0.0"
+  flutter: ">=3.3.0"
diff --git a/packages/smooth_app/pubspec.yaml b/packages/smooth_app/pubspec.yaml
index c21fa17072f8..c5e5e830682f 100644
--- a/packages/smooth_app/pubspec.yaml
+++ b/packages/smooth_app/pubspec.yaml
@@ -4,8 +4,7 @@ version: 0.0.0+734
 publish_to: "none"
 
 environment:
-  sdk: ">=2.17.0 <3.0.0"
-  flutter: "<3.3.0"
+  sdk: ">=2.19.0 <3.0.0"
 
 dependencies:
   flutter:
@@ -13,87 +12,68 @@ dependencies:
   flutter_localizations:
     sdk: flutter
 
-  badges: 2.0.3 # TODO use the standard flutter Badge instead when available
   barcode_widget: 2.0.3
-  carousel_slider: 4.1.1
+  carousel_slider: 4.2.1
   cupertino_icons: 1.0.5
   device_preview: 1.1.0
-  flutter_svg: 1.1.5
+  flutter_svg: 1.1.6
   flutter_map: 2.2.0
-  flutter_widget_from_html_core: any
+  flutter_widget_from_html_core: 0.8.3+1
   fwfh_selectable_text: 0.8.3+1
-  flutter_secure_storage: 5.0.2
+  flutter_secure_storage: 5.1.2
   hive: 2.2.3
   hive_flutter: 1.1.0
   http: 0.13.5
-  image_picker: 0.8.6
+  image_picker: 0.8.7
   iso_countries: 2.1.0
   latlong2: 0.8.1
-  matomo_tracker: 1.5.0
+  matomo_tracker: 2.0.0
   modal_bottom_sheet: 2.1.2
   openfoodfacts: 2.4.0
   # openfoodfacts:
   #   path: ../../../openfoodfacts-dart
-  package_info_plus: 1.4.3+1
-  device_info_plus: 4.1.2
-  permission_handler: 9.2.0
+  package_info_plus: 3.0.3
+  device_info_plus: 8.1.0
+  permission_handler: 10.2.0
   photo_view: 0.14.0
-  uuid: 3.0.6
-  provider: 6.0.3
-  sentry_flutter: 6.11.0 # careful with upgrading cf: https://github.com/openfoodfacts/smooth-app/issues/1300
-  sqflite: 2.0.2+1
+  uuid: 3.0.7
+  provider: 6.0.5
+  sentry_flutter: 6.22.0 # careful with upgrading cf: https://github.com/openfoodfacts/smooth-app/issues/1300
+  sqflite: 2.2.5
   url_launcher: 6.1.3
-  visibility_detector: 0.3.3
-  assorted_layout_widgets: 6.1.1
+  visibility_detector: 0.4.0+2
+  assorted_layout_widgets: 7.0.0
   app_settings: 4.2.0
 
-  # Camera (custom implementation for Android)
-  camera:
-    git:
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-      ref: "smooth_camera"
-      path: "packages/camera/camera"
-  camera_platform_interface:
-    git:
-      url: "https://github.com/openfoodfacts/smooth_app_plugins_fork.git"
-      ref: "smooth_camera"
-      path: "packages/camera/camera_platform_interface"
-  scanner_shared:
-    path: ../scanner/shared
+  camera: 0.10.3+2
+  mobile_scanner: 3.0.0
+  qr_code_scanner: 1.0.1
+  #qr_code_scanner:
+  #  path: ../../../qr_code_scanner
   app_store_shared:
     path: ../app_store/shared
-  audioplayers: 1.0.0
-  percent_indicator: 4.2.2
-  flutter_email_sender: 5.1.0
+  audioplayers: 3.0.1
+  percent_indicator: 4.2.3
+  flutter_email_sender: 5.2.0
   flutter_native_splash: 2.2.3+1
-  image: 3.2.0
+  image: 3.3.0
   auto_size_text: 3.0.0
-  shared_preferences: 2.0.15
-  typed_data: 1.3.0 # careful with 1.3.1 because of flutter_driver dependence
+  shared_preferences: 2.0.18
   intl: 0.17.0
-  rxdart: 0.27.4
-  collection: 1.16.0
-  path: ^1.8.3
-  path_provider: 2.0.11
+  collection: 1.17.0
+  path: 1.8.3
+  path_provider: 2.0.13
   data_importer_shared:
     path: ../data_importer_shared
   data_importer:
     path: ../data_importer
-  share_plus: 4.0.10
+  share_plus: 6.3.1
   fimber: 0.6.6
   shimmer: 2.0.0
-  lottie: 1.4.2
+  lottie: 2.2.0
   webview_flutter: 3.0.4
   flutter_image_compress: 1.1.3
 
-  # According to the build variant, only one "scanner" implementation must be added when building a release
-  # Call "flutter pub remove xxxx" to remove unused dependencies
-  scanner_mlkit:
-    path: ../scanner/mlkit
-
-  scanner_zxing:
-    path: ../scanner/zxing
-
   # According to the build variant, only one "app store" implementation must be added when building a release
   # Call "flutter pub remove xxxx" to remove unused dependencies
   app_store_apple_store:
@@ -113,17 +93,15 @@ dev_dependencies:
   flutter_launcher_icons: 0.10.0
   flutter_test:
     sdk: flutter
-  mockito: 5.2.0
-  path_provider_platform_interface: 2.0.4
-  plugin_platform_interface: 2.1.2
+  mockito: 5.3.2
+  path_provider_platform_interface: 2.0.6
+  plugin_platform_interface: 2.1.4
   flutter_lints: 2.0.1
   openfoodfacts_flutter_lints:
     git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
 
 dependency_overrides:
   path: 1.8.0
-  meta: 1.7.0
-  typed_data: 1.3.0
 
 # 'flutter pub run flutter_launcher_icons:main' to update
 flutter_icons:
diff --git a/packages/smooth_app/test/basic_test.dart b/packages/smooth_app/test/basic_test.dart
index e97a2b1f5fa7..5c06e870269e 100644
--- a/packages/smooth_app/test/basic_test.dart
+++ b/packages/smooth_app/test/basic_test.dart
@@ -1,14 +1,16 @@
 import 'package:app_store_shared/app_store_shared.dart';
 import 'package:flutter_test/flutter_test.dart';
-import 'package:scanner_shared/scanner_shared.dart';
 import 'package:smooth_app/main.dart';
+import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 void main() {
   testWidgets('App Starts', (WidgetTester tester) async {
-    await tester.pumpWidget(SmoothApp(
-      MockedCameraScanner(),
-      const MockedAppStore(),
-    ));
+    await tester.pumpWidget(
+      const SmoothApp(
+        SmoothBarcodeScannerType.mockup,
+        MockedAppStore(),
+      ),
+    );
     expect(find.byType(SmoothApp), findsOneWidget);
   });
 }
diff --git a/packages/smooth_app/test/tests_utils/goldens.dart b/packages/smooth_app/test/tests_utils/goldens.dart
index c29999f21551..5b8f28ccab45 100644
--- a/packages/smooth_app/test/tests_utils/goldens.dart
+++ b/packages/smooth_app/test/tests_utils/goldens.dart
@@ -1,5 +1,4 @@
 import 'dart:developer';
-import 'dart:typed_data';
 
 import 'package:flutter/foundation.dart';
 import 'package:flutter_test/flutter_test.dart';
