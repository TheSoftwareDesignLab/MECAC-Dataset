diff --git a/packages/smooth_app/lib/data_models/continuous_scan_model.dart b/packages/smooth_app/lib/data_models/continuous_scan_model.dart
index e177ba2a3d0a..d36c3ecf3bd9 100644
--- a/packages/smooth_app/lib/data_models/continuous_scan_model.dart
+++ b/packages/smooth_app/lib/data_models/continuous_scan_model.dart
@@ -1,146 +1,106 @@
-import 'package:carousel_slider/carousel_controller.dart';
 import 'package:flutter/foundation.dart';
 import 'package:flutter/widgets.dart';
 import 'package:openfoodfacts/model/Product.dart';
 import 'package:qr_code_scanner/qr_code_scanner.dart';
-import 'package:smooth_app/cards/product_cards/smooth_product_card_edit.dart';
-import 'package:smooth_app/cards/product_cards/smooth_product_card_found.dart';
-import 'package:smooth_app/cards/product_cards/smooth_product_card_not_found.dart';
-import 'package:smooth_app/cards/product_cards/smooth_product_card_loading.dart';
-import 'package:smooth_app/cards/product_cards/smooth_product_card_thanks.dart';
 import 'package:smooth_app/database/barcode_product_query.dart';
 import 'package:smooth_app/database/local_database.dart';
 
-enum ScannedProductState { FOUND, NOT_FOUND, LOADING }
+enum ScannedProductState {
+  FOUND,
+  NOT_FOUND,
+  LOADING,
+  THANKS,
+}
 
 class ContinuousScanModel {
-  ContinuousScanModel({@required this.contributionMode})
-      : carouselController = CarouselController();
+  ContinuousScanModel({@required bool contributionMode})
+      : _contributionMode = contributionMode;
 
+  final Map<String, ScannedProductState> _states =
+      <String, ScannedProductState>{};
+  final Map<String, Product> _products = <String, Product>{};
+  final List<String> _barcodes = <String>[];
+  bool _contributionMode;
   QRViewController _scannerController;
-  final CarouselController carouselController;
+  String _barcodeTrustCheck;
+  LocalDatabase _localDatabase;
 
-  final Map<String, ScannedProductState> _scannedBarcodes =
-      <String, ScannedProductState>{};
-  final Map<String, Widget> cardTemplates = <String, Widget>{};
+  bool get isNotEmpty => getBarcodes().isNotEmpty;
+  bool get contributionMode => _contributionMode;
 
-  List<Product> foundProducts = <Product>[];
+  List<String> getBarcodes() => _barcodes;
 
-  String _barcodeTrustCheck;
-
-  bool contributionMode;
+  void setBarcodeState(
+    final String barcode,
+    final ScannedProductState state,
+  ) {
+    _states[barcode] = state;
+    _localDatabase.dummyNotifyListeners();
+  }
 
-  bool _firstScan = true;
+  ScannedProductState getBarcodeState(final String barcode) => _states[barcode];
 
-  LocalDatabase _localDatabase;
+  Product getProduct(final String barcode) => _products[barcode];
 
   void setLocalDatabase(final LocalDatabase localDatabase) =>
       _localDatabase = localDatabase;
 
-  void setupScanner(QRViewController controller, final Function setState) {
+  void setupScanner(QRViewController controller) {
     _scannerController = controller;
     _scannerController.scannedDataStream.listen(
-      (String barcode) => onScan(barcode, setState),
+      (String barcode) => onScan(barcode),
     );
   }
 
-  Future<void> onScan(String code, Function setState) async {
+  List<Product> getFoundProducts() {
+    final List<Product> result = <Product>[];
+    for (final String barcode in _barcodes) {
+      if (getBarcodeState(barcode) == ScannedProductState.FOUND) {
+        result.add(_products[barcode]);
+      }
+    }
+    return result;
+  }
+
+  Future<void> onScan(String code) async {
     print('Barcode detected : $code');
     if (_barcodeTrustCheck != code) {
       _barcodeTrustCheck = code;
       return;
     }
-    if (_addBarcode(code)) {
-      await _generateScannedProductsCardTemplates();
-      setState(() {});
-      if (!_firstScan) {
-        carouselController.animateToPage(cardTemplates.length - 1);
-      } else {
-        _firstScan = false;
-      }
-    }
+    _addBarcode(code);
   }
 
-  Future<void> onScanAlt(
-      String code, List<Offset> offsets, final Function setState) async {
+  Future<void> onScanAlt(String code, List<Offset> offsets) async {
     print('Barcode detected : $code');
-    if (_addBarcode(code)) {
-      await _generateScannedProductsCardTemplates();
-      setState(() {});
-      if (cardTemplates.isNotEmpty) {
-        carouselController.animateToPage(
-          cardTemplates.length - 1,
-        );
-      }
-    }
+    _addBarcode(code);
   }
 
-  Future<bool> _generateScannedProductsCardTemplates(
-      {bool switchMode = false}) async {
-    for (final String scannedBarcode in _scannedBarcodes.keys) {
-      switch (_scannedBarcodes[scannedBarcode]) {
-        case ScannedProductState.FOUND:
-          if (switchMode) {
-            final Product product = await _localDatabase.getProduct(
-                scannedBarcode); // Acceptable thanks to offline first
-            _setCardTemplate(
-                scannedBarcode,
-                contributionMode
-                    ? SmoothProductCardEdit(
-                        heroTag: product.barcode, product: product)
-                    : SmoothProductCardFound(
-                        heroTag: product.barcode, product: product));
-          }
-          break;
-        case ScannedProductState.NOT_FOUND:
-          break;
-        case ScannedProductState.LOADING:
-          final Product product =
-              await BarcodeProductQuery(scannedBarcode).getProduct();
-          if (product != null) {
-            _scannedBarcodes[scannedBarcode] = ScannedProductState.FOUND;
-            await _localDatabase.putProduct(product);
-            _setCardTemplate(
-                scannedBarcode,
-                contributionMode
-                    ? SmoothProductCardEdit(
-                        heroTag: product.barcode, product: product)
-                    : SmoothProductCardFound(
-                        heroTag: product.barcode, product: product));
-            foundProducts.add(product);
-          } else {
-            _scannedBarcodes[scannedBarcode] = ScannedProductState.NOT_FOUND;
-            _setCardTemplate(
-              scannedBarcode,
-              SmoothProductCardNotFound(
-                barcode: scannedBarcode,
-                callback: () =>
-                    _setCardTemplate(scannedBarcode, SmoothProductCardThanks()),
-              ),
-            );
-          }
-          break;
-      }
+  void contributionModeSwitch(bool value) {
+    if (_contributionMode != value) {
+      _contributionMode = value;
+      _localDatabase.dummyNotifyListeners();
     }
-    return true;
   }
 
-  bool _addBarcode(String newBarcode) {
-    if (_scannedBarcodes[newBarcode] == null) {
-      _scannedBarcodes[newBarcode] = ScannedProductState.LOADING;
-      _setCardTemplate(
-          newBarcode, SmoothProductCardLoading(barcode: newBarcode));
+  bool _addBarcode(final String barcode) {
+    if (getBarcodeState(barcode) == null) {
+      _barcodes.add(barcode);
+      setBarcodeState(barcode, ScannedProductState.LOADING);
+      _loadBarcode(barcode);
       return true;
     }
     return false;
   }
 
-  void _setCardTemplate(String barcode, Widget cardTemplate) {
-    cardTemplates[barcode] = cardTemplate;
-  }
-
-  Future<void> contributionModeSwitch(bool value) async {
-    contributionMode = value;
-    await _generateScannedProductsCardTemplates(switchMode: true);
+  Future<void> _loadBarcode(final String barcode) async {
+    final Product product = await BarcodeProductQuery(barcode).getProduct();
+    if (product != null) {
+      _localDatabase.putProduct(product);
+      _products[barcode] = product;
+      setBarcodeState(barcode, ScannedProductState.FOUND);
+    } else {
+      setBarcodeState(barcode, ScannedProductState.NOT_FOUND);
+    }
   }
 }
diff --git a/packages/smooth_app/lib/database/local_database.dart b/packages/smooth_app/lib/database/local_database.dart
index 1115f5fc93ed..542e8a370df0 100644
--- a/packages/smooth_app/lib/database/local_database.dart
+++ b/packages/smooth_app/lib/database/local_database.dart
@@ -73,6 +73,11 @@ class LocalDatabase extends ChangeNotifier {
     );
   }
 
+  void dummyNotifyListeners() {
+    print('localDatabase/notifyListeners');
+    notifyListeners();
+  }
+
   Future<Product> getProduct(final String barcode) async {
     final List<Map<String, dynamic>> queryResult = await _database.query(
       _TABLE_PRODUCT,
diff --git a/packages/smooth_app/lib/lists/smooth_product_carousel.dart b/packages/smooth_app/lib/lists/smooth_product_carousel.dart
index 4afa705f85ec..9537acb981e7 100644
--- a/packages/smooth_app/lib/lists/smooth_product_carousel.dart
+++ b/packages/smooth_app/lib/lists/smooth_product_carousel.dart
@@ -1,34 +1,75 @@
 import 'package:carousel_slider/carousel_slider.dart';
 import 'package:flutter/widgets.dart';
+import 'package:smooth_app/data_models/continuous_scan_model.dart';
+import 'package:openfoodfacts/model/Product.dart';
+import 'package:smooth_app/cards/product_cards/smooth_product_card_edit.dart';
+import 'package:smooth_app/cards/product_cards/smooth_product_card_found.dart';
+import 'package:smooth_app/cards/product_cards/smooth_product_card_not_found.dart';
+import 'package:smooth_app/cards/product_cards/smooth_product_card_loading.dart';
+import 'package:smooth_app/cards/product_cards/smooth_product_card_thanks.dart';
 
-class SmoothProductCarousel extends StatelessWidget {
+class SmoothProductCarousel extends StatefulWidget {
   const SmoothProductCarousel({
-    @required this.productCards,
-    this.controller,
+    @required this.continuousScanModel,
     this.height = 120.0,
   });
 
-  final Map<String, Widget> productCards;
-  final CarouselController controller;
+  final ContinuousScanModel continuousScanModel;
   final double height;
 
+  @override
+  _SmoothProductCarouselState createState() => _SmoothProductCarouselState();
+}
+
+class _SmoothProductCarouselState extends State<SmoothProductCarousel> {
+  final CarouselController _controller = CarouselController();
+  int _length = 0;
+
   @override
   Widget build(BuildContext context) {
+    final List<String> barcodes = widget.continuousScanModel.getBarcodes();
+    final int barcodesLength = barcodes.length;
+    if (_length != barcodesLength) {
+      _length = barcodesLength;
+      if (_length > 1) {
+        _controller.animateToPage(_length - 1);
+      }
+    }
     return CarouselSlider.builder(
-      itemCount: productCards.length,
-      itemBuilder: (BuildContext context, int index) {
-        return Padding(
-          padding: const EdgeInsets.symmetric(horizontal: 4.0),
-          child: productCards[productCards.keys.elementAt(index)],
-        );
-      },
-      carouselController: controller,
+      itemCount: _length,
+      itemBuilder: (BuildContext context, int index) => Padding(
+        padding: const EdgeInsets.symmetric(horizontal: 4.0),
+        child: _getWidget(barcodes[index]),
+      ),
+      carouselController: _controller,
       options: CarouselOptions(
         enlargeCenterPage: false,
         viewportFraction: 0.95,
-        height: height,
+        height: widget.height,
         enableInfiniteScroll: false,
       ),
     );
   }
+
+  Widget _getWidget(final String barcode) {
+    final Product product = widget.continuousScanModel.getProduct(barcode);
+    switch (widget.continuousScanModel.getBarcodeState(barcode)) {
+      case ScannedProductState.FOUND:
+        if (widget.continuousScanModel.contributionMode) {
+          return SmoothProductCardEdit(heroTag: barcode, product: product);
+        }
+        return SmoothProductCardFound(heroTag: barcode, product: product);
+      case ScannedProductState.LOADING:
+        return SmoothProductCardLoading(barcode: barcode);
+      case ScannedProductState.NOT_FOUND:
+        return SmoothProductCardNotFound(
+          barcode: barcode,
+          callback: () => widget.continuousScanModel
+              .setBarcodeState(barcode, ScannedProductState.THANKS),
+        );
+      case ScannedProductState.THANKS:
+        return SmoothProductCardThanks();
+    }
+    throw Exception('scanned barcode without state');
+  }
 }
diff --git a/packages/smooth_app/lib/pages/alternative_continuous_scan_page.dart b/packages/smooth_app/lib/pages/alternative_continuous_scan_page.dart
index 75a8a25ff44e..a578662c8af7 100644
--- a/packages/smooth_app/lib/pages/alternative_continuous_scan_page.dart
+++ b/packages/smooth_app/lib/pages/alternative_continuous_scan_page.dart
@@ -39,6 +39,8 @@ class _AlternativeContinuousScanPageState
     final LocalDatabase localDatabase = context.watch<LocalDatabase>();
     _continuousScanModel.setLocalDatabase(localDatabase);
     final Size screenSize = MediaQuery.of(context).size;
+    final AppLocalizations appLocalizations = AppLocalizations.of(context);
+    final ThemeData themeData = Theme.of(context);
     return Scaffold(
       floatingActionButton: SmoothRevealAnimation(
         delay: 400,
@@ -51,7 +53,7 @@ class _AlternativeContinuousScanPageState
             color: Colors.black,
           ),
           label: Text(
-            AppLocalizations.of(context).myPersonalizedRanking,
+            appLocalizations.myPersonalizedRanking,
             style: const TextStyle(color: Colors.black),
           ),
           backgroundColor: Colors.white,
@@ -59,7 +61,7 @@ class _AlternativeContinuousScanPageState
             context,
             MaterialPageRoute<dynamic>(
               builder: (BuildContext context) => PersonalizedRankingPage(
-                input: _continuousScanModel.foundProducts,
+                input: _continuousScanModel.getFoundProducts(),
               ),
             ),
           ),
@@ -75,10 +77,7 @@ class _AlternativeContinuousScanPageState
             child: QRView(
               key: _scannerViewKey,
               onQRViewCreated: (QRViewController controller) =>
-                  _continuousScanModel.setupScanner(
-                controller,
-                setState,
-              ),
+                  _continuousScanModel.setupScanner(controller),
             ),
           ),
           SmoothRevealAnimation(
@@ -95,9 +94,7 @@ class _AlternativeContinuousScanPageState
                   child: Column(
                     children: <Widget>[
                       ContinuousScanPage.getContributeChooseToggle(
-                        _continuousScanModel,
-                        setState,
-                      ),
+                          _continuousScanModel),
                     ],
                   ),
                 ),
@@ -110,13 +107,12 @@ class _AlternativeContinuousScanPageState
                     ),
                   ),
                 ),
-                if (_continuousScanModel.cardTemplates.isNotEmpty)
+                if (_continuousScanModel.isNotEmpty)
                   Container(
                     height: screenSize.height * 0.35,
                     padding: EdgeInsets.only(bottom: screenSize.height * 0.08),
                     child: SmoothProductCarousel(
-                      productCards: _continuousScanModel.cardTemplates,
-                      controller: _continuousScanModel.carouselController,
+                      continuousScanModel: _continuousScanModel,
                     ),
                   )
                 else
@@ -125,8 +121,8 @@ class _AlternativeContinuousScanPageState
                     height: screenSize.height * 0.35,
                     padding: EdgeInsets.only(top: screenSize.height * 0.08),
                     child: Text(
-                      AppLocalizations.of(context).scannerProductsEmpty,
-                      style: Theme.of(context).textTheme.subtitle1,
+                      appLocalizations.scannerProductsEmpty,
+                      style: themeData.textTheme.subtitle1,
                       textAlign: TextAlign.center,
                     ),
                   ),
diff --git a/packages/smooth_app/lib/pages/continuous_scan_page.dart b/packages/smooth_app/lib/pages/continuous_scan_page.dart
index a3ead1a6ae05..ebf8d22997f8 100644
--- a/packages/smooth_app/lib/pages/continuous_scan_page.dart
+++ b/packages/smooth_app/lib/pages/continuous_scan_page.dart
@@ -21,10 +21,7 @@ class ContinuousScanPage extends StatefulWidget {
   @override
   _ContinuousScanPageState createState() => _ContinuousScanPageState();
 
-  static Widget getContributeChooseToggle(
-    final ContinuousScanModel model,
-    final Function setState,
-  ) =>
+  static Widget getContributeChooseToggle(final ContinuousScanModel model) =>
       SmoothToggle(
         value: model.contributionMode,
         textLeft: '  CONTRIBUTE',
@@ -37,12 +34,7 @@ class ContinuousScanPage extends StatefulWidget {
         animationDuration: const Duration(milliseconds: 320),
         width: 150.0,
         height: 50.0,
-        onChanged: (bool value) async {
-          if (value != model.contributionMode) {
-            await model.contributionModeSwitch(value);
-            setState(() {});
-          }
-        },
+        onChanged: (bool value) => model.contributionModeSwitch(value),
       );
 
   static Widget getHero(final Size screenSize) => Hero(
@@ -78,6 +70,8 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
     final LocalDatabase localDatabase = context.watch<LocalDatabase>();
     _continuousScanModel.setLocalDatabase(localDatabase);
     final Size screenSize = MediaQuery.of(context).size;
+    final AppLocalizations appLocalizations = AppLocalizations.of(context);
+    final ThemeData themeData = Theme.of(context);
     return Scaffold(
       floatingActionButton: SmoothRevealAnimation(
         delay: 400,
@@ -90,7 +84,7 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
             color: Colors.black,
           ),
           label: Text(
-            AppLocalizations.of(context).myPersonalizedRanking,
+            appLocalizations.myPersonalizedRanking,
             style: const TextStyle(color: Colors.black),
           ),
           backgroundColor: Colors.white,
@@ -98,7 +92,7 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
             context,
             MaterialPageRoute<dynamic>(
               builder: (BuildContext context) => PersonalizedRankingPage(
-                input: _continuousScanModel.foundProducts,
+                input: _continuousScanModel.getFoundProducts(),
               ),
             ),
           ),
@@ -117,7 +111,7 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
                 BarcodeFormats.EAN_13
               ],
               qrCodeCallback: (String code) =>
-                  _continuousScanModel.onScan(code, setState),
+                  _continuousScanModel.onScan(code),
               notStartedBuilder: (BuildContext context) => Container(),
             ),
           ),
@@ -139,9 +133,7 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
                           mainAxisAlignment: MainAxisAlignment.center,
                           children: <Widget>[
                             ContinuousScanPage.getContributeChooseToggle(
-                              _continuousScanModel,
-                              setState,
-                            ),
+                                _continuousScanModel),
                           ],
                         ),
                       ),
@@ -164,12 +156,11 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
                 ),
                 Padding(
                   padding: const EdgeInsets.only(bottom: 80.0),
-                  child: _continuousScanModel.cardTemplates.isNotEmpty
+                  child: _continuousScanModel.isNotEmpty
                       ? Container(
                           width: screenSize.width,
                           child: SmoothProductCarousel(
-                            productCards: _continuousScanModel.cardTemplates,
-                            controller: _continuousScanModel.carouselController,
+                            continuousScanModel: _continuousScanModel,
                             height: _continuousScanModel.contributionMode
                                 ? 160.0
                                 : 120.0,
@@ -180,8 +171,8 @@ class _ContinuousScanPageState extends State<ContinuousScanPage> {
                           height: screenSize.height * 0.5,
                           child: Center(
                             child: Text(
-                              AppLocalizations.of(context).scannerProductsEmpty,
-                              style: Theme.of(context).textTheme.subtitle1,
+                              appLocalizations.scannerProductsEmpty,
+                              style: themeData.textTheme.subtitle1,
                               textAlign: TextAlign.start,
                             ),
                           ),
diff --git a/packages/smooth_app/lib/pages/contribution_page.dart b/packages/smooth_app/lib/pages/contribution_page.dart
index 9fa1e00337f2..6b477eab2730 100644
--- a/packages/smooth_app/lib/pages/contribution_page.dart
+++ b/packages/smooth_app/lib/pages/contribution_page.dart
@@ -1,15 +1,17 @@
 import 'package:flutter/material.dart';
 import 'package:flutter_svg/flutter_svg.dart';
-import 'package:shared_preferences/shared_preferences.dart';
 import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:smooth_app/pages/alternative_continuous_scan_page.dart';
 import 'package:smooth_app/pages/continuous_scan_page.dart';
+import 'package:smooth_app/temp/user_preferences.dart';
 import 'package:smooth_ui_library/animations/smooth_reveal_animation.dart';
 import 'package:smooth_ui_library/buttons/smooth_simple_button.dart';
+import 'package:provider/provider.dart';
 
 class CollaborationPage extends StatelessWidget {
   @override
   Widget build(BuildContext context) {
+    final UserPreferences userPreferences = context.watch<UserPreferences>();
     return Scaffold(
       body: SmoothRevealAnimation(
         animationCurve: Curves.easeInOutBack,
@@ -39,23 +41,17 @@ class CollaborationPage extends StatelessWidget {
               SmoothSimpleButton(
                 text: 'Try the contribution scanner',
                 width: 240.0,
-                onPressed: () async {
-                  final SharedPreferences sharedPreferences =
-                      await SharedPreferences.getInstance();
-                  final Widget newPage =
-                      sharedPreferences.getBool('useMlKit') ?? true
-                          ? ContinuousScanPage(
-                              initializeWithContributionMode: true,
-                            )
-                          : AlternativeContinuousScanPage(
-                              initializeWithContributionMode: true,
-                            );
-                  Navigator.push<Widget>(
-                    context,
-                    MaterialPageRoute<Widget>(
-                        builder: (BuildContext context) => newPage),
-                  );
-                },
+                onPressed: () => Navigator.push<Widget>(
+                  context,
+                  MaterialPageRoute<Widget>(
+                    builder: (BuildContext context) =>
+                        userPreferences.getMlKitState()
+                            ? const ContinuousScanPage(
+                                initializeWithContributionMode: true)
+                            : const AlternativeContinuousScanPage(
+                                initializeWithContributionMode: true),
+                  ),
+                ),
               ),
             ],
           ),
