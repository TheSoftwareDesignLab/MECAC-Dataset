diff --git a/.devcontainer/devcontainer.json b/.devcontainer/devcontainer.json
index 79076c613036..3bee09ca6a87 100644
--- a/.devcontainer/devcontainer.json
+++ b/.devcontainer/devcontainer.json
@@ -1,14 +1,15 @@
 // For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
 // https://github.com/microsoft/vscode-dev-containers/tree/v0.224.3/containers/ubuntu
 {
-    "image": "docker.io/cirrusci/flutter:beta",
+    "image": "docker.io/cirrusci/flutter:stable",
 	"forwardPorts": [
 		3000
 	],
 	"customizations": {
 		"vscode": {
 			"extensions": [
-				"Dart-Code.flutter"
+				"Dart-Code.flutter",
+				"dart-code.dart-code"
 			]
 		}
 	}
diff --git a/packages/scanner/ml_kit/.gitignore b/packages/scanner/ml_kit/.gitignore
new file mode 100644
index 000000000000..57f1713d8a6a
--- /dev/null
+++ b/packages/scanner/ml_kit/.gitignore
@@ -0,0 +1,26 @@
+# Miscellaneous
+*.class
+*.log
+*.pyc
+*.swp
+.DS_Store
+.atom/
+.buildlog/
+.history
+.svn/
+migrate_working_dir/
+
+# IntelliJ related
+*.iml
+*.ipr
+*.iws
+.idea/
+
+
+# Flutter/Dart/Pub related
+# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
+/pubspec.lock
+**/doc/api/
+.dart_tool/
+.packages
+build/
diff --git a/packages/scanner/ml_kit/.metadata b/packages/scanner/ml_kit/.metadata
new file mode 100644
index 000000000000..90506faae2cf
--- /dev/null
+++ b/packages/scanner/ml_kit/.metadata
@@ -0,0 +1,30 @@
+# This file tracks properties of this Flutter project.
+# Used by Flutter tool to assess capabilities and perform upgrades etc.
+#
+# This file should be version controlled.
+
+version:
+  revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+  channel: stable
+
+project_type: plugin
+
+# Tracks metadata for the flutter migrate command
+migration:
+  platforms:
+    - platform: root
+      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+    - platform: android
+      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+
+  # User provided section
+
+  # List of Local paths (relative to this file) that should be
+  # ignored by the migrate tool.
+  #
+  # Files that are not part of the templates will be ignored by default.
+  unmanaged_files:
+    - 'lib/main.dart'
+    - 'ios/Runner.xcodeproj/project.pbxproj'
diff --git a/packages/scanner/ml_kit/analysis_options.yaml b/packages/scanner/ml_kit/analysis_options.yaml
new file mode 100644
index 000000000000..b1e818e22eaf
--- /dev/null
+++ b/packages/scanner/ml_kit/analysis_options.yaml
@@ -0,0 +1,2 @@
+# Shared rules
+include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/ml_kit/lib/scanner_ml_kit.dart b/packages/scanner/ml_kit/lib/scanner_ml_kit.dart
new file mode 100644
index 000000000000..c04bb4025935
--- /dev/null
+++ b/packages/scanner/ml_kit/lib/scanner_ml_kit.dart
@@ -0,0 +1,3 @@
+library app_store_uri;
+
+export 'src/scanner_ml_kit.dart';
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart b/packages/scanner/ml_kit/lib/src/scanner_ml_kit.dart
similarity index 76%
rename from packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart
rename to packages/scanner/ml_kit/lib/src/scanner_ml_kit.dart
index 7e439baa75c5..5c0eae290c24 100644
--- a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_mlkit.dart
+++ b/packages/scanner/ml_kit/lib/src/scanner_ml_kit.dart
@@ -2,30 +2,59 @@ import 'dart:async';
 
 import 'package:flutter/material.dart';
 import 'package:mobile_scanner/mobile_scanner.dart';
-import 'package:smooth_app/generic_lib/design_constants.dart';
-import 'package:smooth_app/helpers/analytics_helper.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
-import 'package:smooth_app/pages/scan/scan_header.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_visor.dart';
-import 'package:smooth_app/widgets/screen_visibility.dart';
+import 'package:scanner_shared/scanner_shared.dart';
 import 'package:visibility_detector/visibility_detector.dart';
 
+/// Scanner implementation using ML Kit
+class ScannerMLKit extends Scanner {
+  const ScannerMLKit();
+
+  @override
+  String getType() => 'ML Kit';
+
+  @override
+  Widget getScanner({
+    required Future<bool> Function(String) onScan,
+    required Future<void> Function() hapticFeedback,
+    required Function(BuildContext)? onCameraFlashError,
+    required Function(String msg, String category,
+            {int? eventValue, String? barcode})
+        trackCustomEvent,
+    required bool hasMoreThanOneCamera,
+  }) {
+    return _SmoothBarcodeScannerMLKit(
+      onScan: onScan,
+      hapticFeedback: hapticFeedback,
+      trackCustomEvent: trackCustomEvent,
+      onCameraFlashError: onCameraFlashError,
+      hasMoreThanOneCamera: hasMoreThanOneCamera,
+    );
+  }
+}
+
 /// Barcode scanner based on MLKit.
-class SmoothBarcodeScannerMLKit extends StatefulWidget {
-  const SmoothBarcodeScannerMLKit(
-    this.onScan, {
-    this.onCameraFlashError,
+class _SmoothBarcodeScannerMLKit extends StatefulWidget {
+  const _SmoothBarcodeScannerMLKit({
+    required this.onScan,
+    required this.hapticFeedback,
+    required this.trackCustomEvent,
+    required this.onCameraFlashError,
+    required this.hasMoreThanOneCamera,
   });
 
   final Future<bool> Function(String) onScan;
+  final Future<void> Function() hapticFeedback;
+
+  final Function(String msg, String category,
+      {int? eventValue, String? barcode}) trackCustomEvent;
   final Function(BuildContext)? onCameraFlashError;
+  final bool hasMoreThanOneCamera;
 
   @override
   State<StatefulWidget> createState() => _SmoothBarcodeScannerMLKitState();
 }
 
-class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
+class _SmoothBarcodeScannerMLKitState extends State<_SmoothBarcodeScannerMLKit>
     with SingleTickerProviderStateMixin {
   // just 1D formats and ios supported
   static const List<BarcodeFormat> _barcodeFormats = <BarcodeFormat>[
@@ -43,7 +72,7 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
 
   bool _isStarted = true;
 
-  bool get _showFlipCameraButton => CameraHelper.hasMoreThanOneCamera;
+  bool get _showFlipCameraButton => widget.hasMoreThanOneCamera;
 
   final MobileScannerController _controller = MobileScannerController(
     torchEnabled: false,
@@ -67,9 +96,8 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
       await _controller.start();
       _isStarted = true;
     } on Exception {
-      AnalyticsHelper.trackEvent(
-        AnalyticsEvent.scanStrangeRestart,
-      );
+      widget.trackCustomEvent(
+          Scanner.ANALYTICS_STRANGE_RESTART, Scanner.ANALYTICS_CATEGORY);
     }
   }
 
@@ -81,9 +109,8 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
       await _controller.stop();
       _isStarted = false;
     } on Exception {
-      AnalyticsHelper.trackEvent(
-        AnalyticsEvent.scanStrangeRestop,
-      );
+      widget.trackCustomEvent(
+          Scanner.ANALYTICS_STRANGE_RESTOP, Scanner.ANALYTICS_CATEGORY);
     }
   }
 
@@ -91,7 +118,7 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
   Widget build(BuildContext context) => VisibilityDetector(
         key: const ValueKey<String>('VisibilityDetector'),
         onVisibilityChanged: (final VisibilityInfo info) async {
-          if (info.visible) {
+          if (info.visibleBounds.height > 0.0) {
             await _start();
           } else {
             await _stop();
@@ -123,10 +150,6 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
                 child: SmoothBarcodeScannerVisor(),
               ),
             ),
-            const Align(
-              alignment: Alignment.topCenter,
-              child: ScanHeader(),
-            ),
             Align(
               alignment: Alignment.bottomCenter,
               child: Padding(
@@ -156,7 +179,7 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
                           },
                         ),
                         onPressed: () async {
-                          SmoothHapticFeedback.click();
+                          widget.hapticFeedback.call();
                           await _controller.switchCamera();
                         },
                       ),
@@ -168,7 +191,7 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
                         Widget? child,
                       ) {
                         if (state != true) {
-                          return EMPTY_WIDGET;
+                          return const SizedBox.shrink();
                         }
                         return IconButton(
                           color: Colors.white,
@@ -194,7 +217,7 @@ class _SmoothBarcodeScannerMLKitState extends State<SmoothBarcodeScannerMLKit>
                             },
                           ),
                           onPressed: () async {
-                            SmoothHapticFeedback.click();
+                            widget.hapticFeedback.call();
 
                             try {
                               await _controller.toggleTorch();
diff --git a/packages/scanner/ml_kit/pubspec.yaml b/packages/scanner/ml_kit/pubspec.yaml
new file mode 100644
index 000000000000..c263725a0fdc
--- /dev/null
+++ b/packages/scanner/ml_kit/pubspec.yaml
@@ -0,0 +1,23 @@
+name: scanner_ml_kit
+description: Scanner implementation using ML Kit
+version: 1.0.0
+publish_to: "none"
+
+environment:
+  sdk: ">=2.19.0 <3.0.0"
+
+dependencies:
+  flutter:
+    sdk: flutter
+
+  visibility_detector: 0.4.0+2
+  mobile_scanner: 3.2.0
+  scanner_shared:
+    path: ../shared
+
+dev_dependencies:
+  flutter_test:
+    sdk: flutter
+  flutter_lints: 2.0.1
+  openfoodfacts_flutter_lints:
+    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
\ No newline at end of file
diff --git a/packages/scanner/ml_kit/test/scanner_ml_kit_test.dart b/packages/scanner/ml_kit/test/scanner_ml_kit_test.dart
new file mode 100644
index 000000000000..8963f00be1e0
--- /dev/null
+++ b/packages/scanner/ml_kit/test/scanner_ml_kit_test.dart
@@ -0,0 +1,8 @@
+import 'package:flutter_test/flutter_test.dart';
+
+// The CI needs at least one test
+void main() {
+  testWidgets('Fake test', (WidgetTester tester) async {
+    expect(true, true);
+  });
+}
diff --git a/packages/scanner/shared/.gitignore b/packages/scanner/shared/.gitignore
new file mode 100644
index 000000000000..96486fd93024
--- /dev/null
+++ b/packages/scanner/shared/.gitignore
@@ -0,0 +1,30 @@
+# Miscellaneous
+*.class
+*.log
+*.pyc
+*.swp
+.DS_Store
+.atom/
+.buildlog/
+.history
+.svn/
+migrate_working_dir/
+
+# IntelliJ related
+*.iml
+*.ipr
+*.iws
+.idea/
+
+# The .vscode folder contains launch configuration and tasks you configure in
+# VS Code which you may wish to be included in version control, so this line
+# is commented out by default.
+#.vscode/
+
+# Flutter/Dart/Pub related
+# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
+/pubspec.lock
+**/doc/api/
+.dart_tool/
+.packages
+build/
diff --git a/packages/scanner/shared/.metadata b/packages/scanner/shared/.metadata
new file mode 100644
index 000000000000..1e05dac7fec6
--- /dev/null
+++ b/packages/scanner/shared/.metadata
@@ -0,0 +1,10 @@
+# This file tracks properties of this Flutter project.
+# Used by Flutter tool to assess capabilities and perform upgrades etc.
+#
+# This file should be version controlled and should not be manually edited.
+
+version:
+  revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+  channel: stable
+
+project_type: package
diff --git a/packages/scanner/shared/analysis_options.yaml b/packages/scanner/shared/analysis_options.yaml
new file mode 100644
index 000000000000..b1e818e22eaf
--- /dev/null
+++ b/packages/scanner/shared/analysis_options.yaml
@@ -0,0 +1,2 @@
+# Shared rules
+include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/shared/lib/scanner_shared.dart b/packages/scanner/shared/lib/scanner_shared.dart
new file mode 100644
index 000000000000..6fe27b31ec77
--- /dev/null
+++ b/packages/scanner/shared/lib/scanner_shared.dart
@@ -0,0 +1,6 @@
+library app_store_shared;
+
+export 'src/scanner.dart';
+export 'src/scanner_mocked.dart';
+export 'src/scanner_visor.dart';
+export 'src/utils.dart';
diff --git a/packages/scanner/shared/lib/src/scanner.dart b/packages/scanner/shared/lib/src/scanner.dart
new file mode 100644
index 000000000000..b8389b693804
--- /dev/null
+++ b/packages/scanner/shared/lib/src/scanner.dart
@@ -0,0 +1,22 @@
+import 'package:flutter/material.dart';
+
+/// Base class for the Scanner interfaceâ€¦
+abstract class Scanner {
+  const Scanner();
+
+  static const String ANALYTICS_CATEGORY = 'scanning';
+  static const String ANALYTICS_STRANGE_RESTART = 'strange restart';
+  static const String ANALYTICS_STRANGE_RESTOP = 'strange restop';
+
+  String getType();
+
+  Widget getScanner({
+    required Future<bool> Function(String) onScan,
+    required Future<void> Function() hapticFeedback,
+    required Function(BuildContext)? onCameraFlashError,
+    required Function(String msg, String category,
+            {int? eventValue, String? barcode})
+        trackCustomEvent,
+    required bool hasMoreThanOneCamera,
+  });
+}
diff --git a/packages/scanner/shared/lib/src/scanner_mocked.dart b/packages/scanner/shared/lib/src/scanner_mocked.dart
new file mode 100644
index 000000000000..8f16d873bf90
--- /dev/null
+++ b/packages/scanner/shared/lib/src/scanner_mocked.dart
@@ -0,0 +1,23 @@
+import 'package:flutter/material.dart';
+
+import 'package:scanner_shared/scanner_shared.dart';
+
+/// Empty implementation for an [AppStore]
+class MockedScanner extends Scanner {
+  const MockedScanner();
+
+  @override
+  String getType() => 'Mocked';
+
+  @override
+  Widget getScanner({
+    required Future<bool> Function(String) onScan,
+    required Future<void> Function() hapticFeedback,
+    required Function(BuildContext)? onCameraFlashError,
+    required Function(String msg, String category,
+            {int? eventValue, String? barcode})
+        trackCustomEvent,
+    required bool hasMoreThanOneCamera,
+  }) =>
+      Container();
+}
diff --git a/packages/scanner/shared/lib/src/scanner_visor.dart b/packages/scanner/shared/lib/src/scanner_visor.dart
new file mode 100644
index 000000000000..1fde58fef99d
--- /dev/null
+++ b/packages/scanner/shared/lib/src/scanner_visor.dart
@@ -0,0 +1,116 @@
+import 'package:flutter/material.dart';
+import 'package:flutter_svg/flutter_svg.dart';
+
+class SmoothBarcodeScannerVisor extends StatelessWidget {
+  const SmoothBarcodeScannerVisor({super.key});
+
+  @override
+  Widget build(BuildContext context) => SizedBox.expand(
+        child: CustomPaint(
+          painter: _ScanVisorPainter(),
+          child: Center(
+            child: SvgPicture.asset(
+              'assets/icons/visor_icon.svg',
+              width: 35.0,
+              height: 32.0,
+            ),
+          ),
+        ),
+      );
+}
+
+class _ScanVisorPainter extends CustomPainter {
+  _ScanVisorPainter();
+
+  static const double strokeWidth = 3.0;
+  static const double _fullCornerSize = 31.0;
+  static const double _halfCornerSize = _fullCornerSize / 2;
+  static const Radius _borderRadius = Radius.circular(_halfCornerSize);
+
+  final Paint _paint = Paint()
+    ..strokeWidth = strokeWidth
+    ..color = Colors.white
+    ..style = PaintingStyle.stroke;
+
+  @override
+  void paint(Canvas canvas, Size size) {
+    final Rect rect = Rect.fromLTRB(0.0, 0.0, size.width, size.height);
+    canvas.drawPath(getPath(rect, false), _paint);
+  }
+
+  @override
+  bool shouldRepaint(CustomPainter oldDelegate) => false;
+
+  /// Returns a path to draw the visor
+  /// [includeLineBetweenCorners] will draw lines between each corner, instead
+  /// of moving the cursor
+  static Path getPath(Rect rect, bool includeLineBetweenCorners) {
+    final double bottomPosition;
+    if (includeLineBetweenCorners) {
+      bottomPosition = rect.bottom - strokeWidth;
+    } else {
+      bottomPosition = rect.bottom;
+    }
+
+    final Path path = Path()
+      // Top left
+      ..moveTo(rect.left, rect.top + _fullCornerSize)
+      ..lineTo(rect.left, rect.top + _halfCornerSize)
+      ..arcToPoint(
+        Offset(rect.left + _halfCornerSize, rect.top),
+        radius: _borderRadius,
+      )
+      ..lineTo(rect.left + _fullCornerSize, rect.top);
+
+    // Top right
+    if (includeLineBetweenCorners) {
+      path.lineTo(rect.right - _fullCornerSize, rect.top);
+    } else {
+      path.moveTo(rect.right - _fullCornerSize, rect.top);
+    }
+
+    path
+      ..lineTo(rect.right - _halfCornerSize, rect.top)
+      ..arcToPoint(
+        Offset(rect.right, _halfCornerSize),
+        radius: _borderRadius,
+      )
+      ..lineTo(rect.right, rect.top + _fullCornerSize);
+
+    // Bottom right
+    if (includeLineBetweenCorners) {
+      path.lineTo(rect.right, bottomPosition - _fullCornerSize);
+    } else {
+      path.moveTo(rect.right, bottomPosition - _fullCornerSize);
+    }
+
+    path
+      ..lineTo(rect.right, bottomPosition - _halfCornerSize)
+      ..arcToPoint(
+        Offset(rect.right - _halfCornerSize, bottomPosition),
+        radius: _borderRadius,
+      )
+      ..lineTo(rect.right - _fullCornerSize, bottomPosition);
+
+    // Bottom left
+    if (includeLineBetweenCorners) {
+      path.lineTo(rect.left + _fullCornerSize, bottomPosition);
+    } else {
+      path.moveTo(rect.left + _fullCornerSize, bottomPosition);
+    }
+
+    path
+      ..lineTo(rect.left + _halfCornerSize, bottomPosition)
+      ..arcToPoint(
+        Offset(rect.left, bottomPosition - _halfCornerSize),
+        radius: _borderRadius,
+      )
+      ..lineTo(rect.left, bottomPosition - _fullCornerSize);
+
+    if (includeLineBetweenCorners) {
+      path.lineTo(rect.left, rect.top + _halfCornerSize);
+    }
+
+    return path;
+  }
+}
diff --git a/packages/scanner/shared/lib/src/utils.dart b/packages/scanner/shared/lib/src/utils.dart
new file mode 100644
index 000000000000..1f21ee774f47
--- /dev/null
+++ b/packages/scanner/shared/lib/src/utils.dart
@@ -0,0 +1,8 @@
+import 'package:flutter/material.dart';
+import 'package:visibility_detector/visibility_detector.dart';
+
+const Widget EMPTY_WIDGET = SizedBox.shrink();
+
+extension VisibilityInfoExt on VisibilityInfo {
+  bool get visible => visibleBounds.height > 0.0;
+}
diff --git a/packages/scanner/shared/pubspec.yaml b/packages/scanner/shared/pubspec.yaml
new file mode 100644
index 000000000000..e51f4ae91cc4
--- /dev/null
+++ b/packages/scanner/shared/pubspec.yaml
@@ -0,0 +1,22 @@
+name: scanner_shared
+description: Shared interface for the scanner implementations
+version: 1.0.0
+publish_to: "none"
+
+environment:
+  sdk: ">=2.19.0 <3.0.0"
+
+dependencies:
+  flutter:
+    sdk: flutter
+  flutter_svg: 1.1.6
+  visibility_detector: 0.4.0+2
+
+dev_dependencies:
+  flutter_test:
+    sdk: flutter
+  flutter_lints: 2.0.1
+  openfoodfacts_flutter_lints:
+    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
+
+flutter:
\ No newline at end of file
diff --git a/packages/scanner/shared/test/shared_test.dart b/packages/scanner/shared/test/shared_test.dart
new file mode 100644
index 000000000000..8963f00be1e0
--- /dev/null
+++ b/packages/scanner/shared/test/shared_test.dart
@@ -0,0 +1,8 @@
+import 'package:flutter_test/flutter_test.dart';
+
+// The CI needs at least one test
+void main() {
+  testWidgets('Fake test', (WidgetTester tester) async {
+    expect(true, true);
+  });
+}
diff --git a/packages/scanner/zxing/.gitignore b/packages/scanner/zxing/.gitignore
new file mode 100644
index 000000000000..57f1713d8a6a
--- /dev/null
+++ b/packages/scanner/zxing/.gitignore
@@ -0,0 +1,26 @@
+# Miscellaneous
+*.class
+*.log
+*.pyc
+*.swp
+.DS_Store
+.atom/
+.buildlog/
+.history
+.svn/
+migrate_working_dir/
+
+# IntelliJ related
+*.iml
+*.ipr
+*.iws
+.idea/
+
+
+# Flutter/Dart/Pub related
+# Libraries should not include pubspec.lock, per https://dart.dev/guides/libraries/private-files#pubspeclock.
+/pubspec.lock
+**/doc/api/
+.dart_tool/
+.packages
+build/
diff --git a/packages/scanner/zxing/.metadata b/packages/scanner/zxing/.metadata
new file mode 100644
index 000000000000..90506faae2cf
--- /dev/null
+++ b/packages/scanner/zxing/.metadata
@@ -0,0 +1,30 @@
+# This file tracks properties of this Flutter project.
+# Used by Flutter tool to assess capabilities and perform upgrades etc.
+#
+# This file should be version controlled.
+
+version:
+  revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+  channel: stable
+
+project_type: plugin
+
+# Tracks metadata for the flutter migrate command
+migration:
+  platforms:
+    - platform: root
+      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+    - platform: android
+      create_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+      base_revision: eb6d86ee27deecba4a83536aa20f366a6044895c
+
+  # User provided section
+
+  # List of Local paths (relative to this file) that should be
+  # ignored by the migrate tool.
+  #
+  # Files that are not part of the templates will be ignored by default.
+  unmanaged_files:
+    - 'lib/main.dart'
+    - 'ios/Runner.xcodeproj/project.pbxproj'
diff --git a/packages/scanner/zxing/analysis_options.yaml b/packages/scanner/zxing/analysis_options.yaml
new file mode 100644
index 000000000000..b1e818e22eaf
--- /dev/null
+++ b/packages/scanner/zxing/analysis_options.yaml
@@ -0,0 +1,2 @@
+# Shared rules
+include: package:openfoodfacts_flutter_lints/flutter.yaml
\ No newline at end of file
diff --git a/packages/scanner/zxing/lib/scanner_zxing.dart b/packages/scanner/zxing/lib/scanner_zxing.dart
new file mode 100644
index 000000000000..f709153e05b2
--- /dev/null
+++ b/packages/scanner/zxing/lib/scanner_zxing.dart
@@ -0,0 +1,3 @@
+library app_store_uri;
+
+export 'src/scanner_zxing.dart';
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart b/packages/scanner/zxing/lib/src/scanner_zxing.dart
similarity index 71%
rename from packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart
rename to packages/scanner/zxing/lib/src/scanner_zxing.dart
index b6322c09d9ef..5a406df75529 100644
--- a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_zxing.dart
+++ b/packages/scanner/zxing/lib/src/scanner_zxing.dart
@@ -1,32 +1,59 @@
 import 'dart:async';
 import 'dart:io';
 
+import 'package:flutter/foundation.dart';
 import 'package:flutter/material.dart';
 import 'package:qr_code_scanner/qr_code_scanner.dart';
-import 'package:smooth_app/generic_lib/design_constants.dart';
-import 'package:smooth_app/helpers/camera_helper.dart';
-import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
-import 'package:smooth_app/pages/scan/scan_header.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_visor.dart';
-import 'package:smooth_app/themes/constant_icons.dart';
-import 'package:smooth_app/widgets/screen_visibility.dart';
+
+import 'package:scanner_shared/scanner_shared.dart';
 import 'package:visibility_detector/visibility_detector.dart';
 
+/// Scanner implementation using ZXing
+class ScannerZXing extends Scanner {
+  const ScannerZXing();
+
+  @override
+  String getType() => 'ZXing';
+
+  @override
+  Widget getScanner({
+    required Future<bool> Function(String) onScan,
+    required Future<void> Function() hapticFeedback,
+    required Function(BuildContext)? onCameraFlashError,
+    required Function(String msg, String category,
+            {int? eventValue, String? barcode})
+        trackCustomEvent,
+    required bool hasMoreThanOneCamera,
+  }) {
+    return _SmoothBarcodeScannerZXing(
+      onScan: onScan,
+      hapticFeedback: hapticFeedback,
+      onCameraFlashError: onCameraFlashError,
+      hasMoreThanOneCamera: hasMoreThanOneCamera,
+    );
+  }
+}
+
 /// Barcode scanner based on ZXing.
-class SmoothBarcodeScannerZXing extends StatefulWidget {
-  const SmoothBarcodeScannerZXing(
-    this.onScan, {
-    this.onCameraFlashError,
+class _SmoothBarcodeScannerZXing extends StatefulWidget {
+  const _SmoothBarcodeScannerZXing({
+    required this.onScan,
+    required this.hapticFeedback,
+    required this.onCameraFlashError,
+    required this.hasMoreThanOneCamera,
   });
 
   final Future<bool> Function(String) onScan;
+  final Future<void> Function() hapticFeedback;
   final Function(BuildContext)? onCameraFlashError;
+  final bool hasMoreThanOneCamera;
 
   @override
   State<StatefulWidget> createState() => _SmoothBarcodeScannerZXingState();
 }
 
-class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
+class _SmoothBarcodeScannerZXingState
+    extends State<_SmoothBarcodeScannerZXing> {
   // just 1D formats and ios supported
   static const List<BarcodeFormat> _barcodeFormats = <BarcodeFormat>[
     BarcodeFormat.code39,
@@ -56,13 +83,20 @@ class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
     _controller?.resumeCamera();
   }
 
-  bool get _showFlipCameraButton => CameraHelper.hasMoreThanOneCamera;
+  bool get _showFlipCameraButton => widget.hasMoreThanOneCamera;
+
+  static bool _isApple() =>
+      defaultTargetPlatform == TargetPlatform.iOS ||
+      defaultTargetPlatform == TargetPlatform.macOS;
+
+  IconData getCameraFlip() =>
+      _isApple() ? Icons.flip_camera_ios : Icons.flip_camera_android;
 
   @override
   Widget build(BuildContext context) => VisibilityDetector(
         key: const ValueKey<String>('VisibilityDetector'),
         onVisibilityChanged: (final VisibilityInfo info) {
-          if (info.visible) {
+          if (info.visibleBounds.height > 0.0) {
             if (_visible) {
               return;
             }
@@ -89,10 +123,6 @@ class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
                 child: SmoothBarcodeScannerVisor(),
               ),
             ),
-            const Align(
-              alignment: Alignment.topCenter,
-              child: ScanHeader(),
-            ),
             Align(
               alignment: Alignment.bottomCenter,
               child: Padding(
@@ -105,10 +135,10 @@ class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
                   children: <Widget>[
                     if (_showFlipCameraButton)
                       IconButton(
-                        icon: Icon(ConstantIcons.instance.getCameraFlip()),
+                        icon: Icon(getCameraFlip()),
                         color: Colors.white,
                         onPressed: () async {
-                          SmoothHapticFeedback.click();
+                          widget.hapticFeedback.call();
                           await _controller?.flipCamera();
                           setState(() {});
                         },
@@ -125,7 +155,7 @@ class _SmoothBarcodeScannerZXingState extends State<SmoothBarcodeScannerZXing> {
                               Icon(flashOn ? Icons.flash_on : Icons.flash_off),
                           color: Colors.white,
                           onPressed: () async {
-                            SmoothHapticFeedback.click();
+                            widget.hapticFeedback.call();
 
                             try {
                               await _controller?.toggleFlash();
diff --git a/packages/scanner/zxing/pubspec.yaml b/packages/scanner/zxing/pubspec.yaml
new file mode 100644
index 000000000000..4baa00239bd2
--- /dev/null
+++ b/packages/scanner/zxing/pubspec.yaml
@@ -0,0 +1,23 @@
+name: scanner_zxing
+description: Scanner implementation using Zxing
+version: 1.0.0
+publish_to: "none"
+
+environment:
+  sdk: ">=2.19.0 <3.0.0"
+
+dependencies:
+  flutter:
+    sdk: flutter
+
+  visibility_detector: 0.4.0+2
+  scanner_shared:
+    path: ../shared
+  qr_code_scanner: 1.0.1
+
+dev_dependencies:
+  flutter_test:
+    sdk: flutter
+  flutter_lints: 2.0.1
+  openfoodfacts_flutter_lints:
+    git: https://github.com/openfoodfacts/openfoodfacts_flutter_lints.git
\ No newline at end of file
diff --git a/packages/scanner/zxing/test/scanner_zxing_test.dart b/packages/scanner/zxing/test/scanner_zxing_test.dart
new file mode 100644
index 000000000000..8963f00be1e0
--- /dev/null
+++ b/packages/scanner/zxing/test/scanner_zxing_test.dart
@@ -0,0 +1,8 @@
+import 'package:flutter_test/flutter_test.dart';
+
+// The CI needs at least one test
+void main() {
+  testWidgets('Fake test', (WidgetTester tester) async {
+    expect(true, true);
+  });
+}
diff --git a/packages/smooth_app/integration_test/app_test.dart b/packages/smooth_app/integration_test/app_test.dart
index 745fe035889f..2d373c070406 100644
--- a/packages/smooth_app/integration_test/app_test.dart
+++ b/packages/smooth_app/integration_test/app_test.dart
@@ -4,9 +4,9 @@ import 'package:app_store_shared/app_store_shared.dart';
 import 'package:flutter/foundation.dart';
 import 'package:flutter_test/flutter_test.dart';
 import 'package:integration_test/integration_test.dart';
+import 'package:scanner_shared/scanner_shared.dart';
 import 'package:shared_preferences/shared_preferences.dart';
 import 'package:smooth_app/main.dart' as app;
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 Future<void> _initScreenshot(
   final IntegrationTestWidgetsFlutterBinding binding,
@@ -56,7 +56,7 @@ void main() {
         await _initScreenshot(binding);
 
         await app.launchSmoothApp(
-          scanner: SmoothBarcodeScannerType.mockup,
+          scanner: const MockedScanner(),
           store: const MockedAppStore(),
           flavour: 'test-runner',
           screenshots: true,
diff --git a/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart b/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
index 0e32a15581c7..dc339b7141db 100644
--- a/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
+++ b/packages/smooth_app/lib/entrypoints/android/main_fdroid.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_uri/app_store_uri.dart';
+import 'package:scanner_zxing/scanner_zxing.dart';
 import 'package:smooth_app/main.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// Fdroid version with:
 /// - Barcode decoding algorithm: ZXing
 /// - Intent to launch the review
 void main() {
   launchSmoothApp(
-    scanner: SmoothBarcodeScannerType.zxing,
+    scanner: const ScannerZXing(),
     store: URIAppStore(
       Uri.parse(
         'https://f-droid.org/fr/packages/openfoodfacts.github.scrachx.openfood/',
diff --git a/packages/smooth_app/lib/entrypoints/android/main_google_play.dart b/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
index 8fa914bca50f..5aa10450dc6c 100644
--- a/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
+++ b/packages/smooth_app/lib/entrypoints/android/main_google_play.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_google_play/app_store_google.dart';
+import 'package:scanner_ml_kit/scanner_ml_kit.dart';
 import 'package:smooth_app/main.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// Google Play version with:
 /// - Barcode decoding algorithm: MLKit
 /// - Google Play app review SDK
 void main() {
   launchSmoothApp(
-    scanner: SmoothBarcodeScannerType.mlkit,
+    scanner: const ScannerMLKit(),
     store: GooglePlayStore(),
     flavour: 'ml-play',
   );
diff --git a/packages/smooth_app/lib/entrypoints/ios/main_ios.dart b/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
index a2f0684c602a..078574944e92 100644
--- a/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
+++ b/packages/smooth_app/lib/entrypoints/ios/main_ios.dart
@@ -1,13 +1,13 @@
 import 'package:app_store_apple_store/app_store_apple.dart';
+import 'package:scanner_ml_kit/scanner_ml_kit.dart';
 import 'package:smooth_app/main.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 
 /// App Store/TestFlight version with:
 /// - Barcode decoding algorithm: MLKit
 /// - iOS SDK to open the store
 void main() {
   launchSmoothApp(
-    scanner: SmoothBarcodeScannerType.mlkit,
+    scanner: const ScannerMLKit(),
     store: AppleAppStore('588797948'),
     flavour: 'ml-ios',
   );
diff --git a/packages/smooth_app/lib/generic_lib/dialogs/smooth_alert_dialog.dart b/packages/smooth_app/lib/generic_lib/dialogs/smooth_alert_dialog.dart
index 0048edc0038a..a087001b5edf 100644
--- a/packages/smooth_app/lib/generic_lib/dialogs/smooth_alert_dialog.dart
+++ b/packages/smooth_app/lib/generic_lib/dialogs/smooth_alert_dialog.dart
@@ -158,7 +158,7 @@ class _SmoothDialogTitle extends StatelessWidget {
         visible: !isPlaceHolder,
       );
     } else {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
   }
 }
@@ -191,7 +191,7 @@ class _SmoothDialogCrossButton extends StatelessWidget {
         ),
       );
     } else {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
   }
 }
diff --git a/packages/smooth_app/lib/helpers/analytics_helper.dart b/packages/smooth_app/lib/helpers/analytics_helper.dart
index a6f58080da62..94731e5a8500 100644
--- a/packages/smooth_app/lib/helpers/analytics_helper.dart
+++ b/packages/smooth_app/lib/helpers/analytics_helper.dart
@@ -23,10 +23,6 @@ enum AnalyticsCategory {
 /// Event types for Matomo analytics
 enum AnalyticsEvent {
   scanAction(tag: 'scanned product', category: AnalyticsCategory.scanning),
-  scanStrangeRestart(
-      tag: 'strange restart', category: AnalyticsCategory.scanning),
-  scanStrangeRestop(
-      tag: 'strange restop', category: AnalyticsCategory.scanning),
   shareProduct(tag: 'shared product', category: AnalyticsCategory.share),
   loginAction(tag: 'logged in', category: AnalyticsCategory.userManagement),
   registerAction(tag: 'register', category: AnalyticsCategory.userManagement),
@@ -172,6 +168,21 @@ class AnalyticsHelper {
         eventValue: eventValue ?? _formatBarcode(barcode),
       );
 
+  // Used by code which is outside of the core:smooth_app code
+  // e.g. the scanner implementation
+  static void trackCustomEvent(
+    String msg,
+    String category, {
+    int? eventValue,
+    String? barcode,
+  }) =>
+      MatomoTracker.instance.trackEvent(
+        eventName: msg,
+        eventCategory: category,
+        action: msg,
+        eventValue: eventValue ?? _formatBarcode(barcode),
+      );
+
   static void trackProductEdit(
           AnalyticsEditEvents editEventName, String barcode,
           [bool saved = false]) =>
diff --git a/packages/smooth_app/lib/main.dart b/packages/smooth_app/lib/main.dart
index f52021f11227..4ad6df5a31b9 100644
--- a/packages/smooth_app/lib/main.dart
+++ b/packages/smooth_app/lib/main.dart
@@ -13,6 +13,7 @@ import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:permission_handler/permission_handler.dart';
 import 'package:provider/provider.dart';
 import 'package:provider/single_child_widget.dart';
+import 'package:scanner_shared/scanner_shared.dart';
 import 'package:sentry_flutter/sentry_flutter.dart';
 import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/data_models/product_preferences.dart';
@@ -26,7 +27,6 @@ import 'package:smooth_app/helpers/data_importer/smooth_app_data_importer.dart';
 import 'package:smooth_app/helpers/network_config.dart';
 import 'package:smooth_app/helpers/permission_helper.dart';
 import 'package:smooth_app/pages/onboarding/onboarding_flow_navigator.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
 import 'package:smooth_app/query/product_query.dart';
 import 'package:smooth_app/services/smooth_services.dart';
 import 'package:smooth_app/themes/color_provider.dart';
@@ -55,17 +55,17 @@ void main() {
 late final bool _screenshots;
 
 late final String appFlavour;
-late final SmoothBarcodeScannerType scannerType;
+late final Scanner barcodeScanner;
 late final AppStore appStore;
 
 Future<void> launchSmoothApp({
-  required SmoothBarcodeScannerType scanner,
+  required Scanner scanner,
   required AppStore store,
   required String flavour,
   final bool screenshots = false,
 }) async {
   _screenshots = screenshots;
-  scannerType = scanner;
+  barcodeScanner = scanner;
   appStore = store;
   appFlavour = flavour;
 
diff --git a/packages/smooth_app/lib/pages/onboarding/scan_example.dart b/packages/smooth_app/lib/pages/onboarding/scan_example.dart
index c9e52a2fd3fb..7a8bcd49f122 100644
--- a/packages/smooth_app/lib/pages/onboarding/scan_example.dart
+++ b/packages/smooth_app/lib/pages/onboarding/scan_example.dart
@@ -24,7 +24,8 @@ class ScanExample extends StatelessWidget {
         mainAxisAlignment: MainAxisAlignment.spaceBetween,
         crossAxisAlignment: CrossAxisAlignment.start,
         children: <Widget>[
-          const SizedBox.shrink(),
+          // Used for spacing
+          EMPTY_WIDGET,
           Padding(
             padding: const EdgeInsets.symmetric(horizontal: LARGE_SPACE),
             child: Column(
diff --git a/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart b/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
index 0a5c1b36dad9..a40f0d3ab237 100644
--- a/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
+++ b/packages/smooth_app/lib/pages/preferences/user_preferences_settings.dart
@@ -587,7 +587,7 @@ class _CameraSettings extends StatelessWidget {
   @override
   Widget build(BuildContext context) {
     if (!CameraHelper.hasACamera) {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
 
     final AppLocalizations appLocalizations = AppLocalizations.of(context);
@@ -629,7 +629,7 @@ class _ProductsSettings extends StatelessWidget {
   @override
   Widget build(BuildContext context) {
     if (!CameraHelper.hasACamera) {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
 
     final AppLocalizations appLocalizations = AppLocalizations.of(context);
@@ -662,7 +662,7 @@ class _MiscellaneousSettings extends StatelessWidget {
   @override
   Widget build(BuildContext context) {
     if (!CameraHelper.hasACamera) {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
 
     final AppLocalizations appLocalizations = AppLocalizations.of(context);
diff --git a/packages/smooth_app/lib/pages/product/common/product_list_page.dart b/packages/smooth_app/lib/pages/product/common/product_list_page.dart
index a1ccf834ca33..4d3060bb4c9c 100644
--- a/packages/smooth_app/lib/pages/product/common/product_list_page.dart
+++ b/packages/smooth_app/lib/pages/product/common/product_list_page.dart
@@ -485,7 +485,7 @@ class _CompareProductsButton extends StatelessWidget {
     final AppLocalizations appLocalizations = AppLocalizations.of(context);
 
     if (selectedBarcodes.length < 2) {
-      return const SizedBox.shrink();
+      return EMPTY_WIDGET;
     }
 
     return FloatingActionButton.extended(
diff --git a/packages/smooth_app/lib/pages/scan/awesome_widgets/awesome_flash.dart b/packages/smooth_app/lib/pages/scan/awesome_widgets/awesome_flash.dart
deleted file mode 100644
index d5a161218ee2..000000000000
--- a/packages/smooth_app/lib/pages/scan/awesome_widgets/awesome_flash.dart
+++ /dev/null
@@ -1,64 +0,0 @@
-/*
-import 'package:camerawesome/camerawesome_plugin.dart';
-import 'package:flutter/material.dart';
-import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
-
-class SmoothAwesomeFlashButton extends StatelessWidget {
-  const SmoothAwesomeFlashButton({
-    super.key,
-    required this.state,
-  });
-  final CameraState state;
-
-  @override
-  Widget build(BuildContext context) {
-    return StreamBuilder<FlashMode>(
-      stream: state.sensorConfig.flashMode$,
-      builder: (BuildContext context, AsyncSnapshot<FlashMode> snapshot) {
-        if (!snapshot.hasData) {
-          return const CircularProgressIndicator();
-        }
-
-        IconData icon;
-
-        switch (snapshot.requireData) {
-          case FlashMode.on:
-            icon = Icons.flash_on;
-            break;
-          case FlashMode.none:
-            icon = Icons.flash_off;
-            break;
-          case FlashMode.always:
-            icon = Icons.flash_on;
-            break;
-          case FlashMode.auto:
-            icon = Icons.flash_auto;
-            break;
-          default:
-            icon = Icons.abc;
-            break;
-        }
-
-        if (!snapshot.hasData) {
-          return Container();
-        }
-        return IconButton(
-          color: Colors.white,
-          icon: Icon(
-            icon,
-            color: Colors.white,
-          ),
-          onPressed: () async {
-            SmoothHapticFeedback.click();
-            if (snapshot.requireData != FlashMode.always) {
-              state.sensorConfig.setFlashMode(FlashMode.always);
-            } else {
-              state.sensorConfig.setFlashMode(FlashMode.none);
-            }
-          },
-        );
-      },
-    );
-  }
-}
-*/
diff --git a/packages/smooth_app/lib/pages/scan/camera_scan_page.dart b/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
index 8e67ac962f5f..61af24e5ceb5 100644
--- a/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
+++ b/packages/smooth_app/lib/pages/scan/camera_scan_page.dart
@@ -8,15 +8,12 @@ import 'package:provider/provider.dart';
 import 'package:smooth_app/data_models/continuous_scan_model.dart';
 import 'package:smooth_app/data_models/user_preferences.dart';
 import 'package:smooth_app/generic_lib/dialogs/smooth_alert_dialog.dart';
+import 'package:smooth_app/helpers/analytics_helper.dart';
 import 'package:smooth_app/helpers/app_helper.dart';
 import 'package:smooth_app/helpers/camera_helper.dart';
 import 'package:smooth_app/helpers/haptic_feedback_helper.dart';
 import 'package:smooth_app/main.dart';
-//import 'package:smooth_app/pages/scan/smooth_barcode_scanner_awesome.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_mlkit.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_mockup.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_type.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_zxing.dart';
+import 'package:smooth_app/pages/scan/scan_header.dart';
 
 /// A page showing the camera feed and decoding barcodes.
 class CameraScannerPage extends StatefulWidget {
@@ -53,10 +50,10 @@ class CameraScannerPageState extends State<CameraScannerPage>
   }
 
   @override
-  String get traceTitle => '${scannerType}_page';
+  String get traceTitle => '${barcodeScanner.getType()}_page';
 
   @override
-  String get traceName => 'Opened ${scannerType}_page';
+  String get traceName => 'Opened ${barcodeScanner.getType()}_page';
 
   @override
   Widget build(BuildContext context) {
@@ -66,23 +63,21 @@ class CameraScannerPageState extends State<CameraScannerPage>
       );
     }
 
-    switch (scannerType) {
-      case SmoothBarcodeScannerType.mlkit:
-        return SmoothBarcodeScannerMLKit(
-          _onNewBarcodeDetected,
+    return Stack(
+      children: <Widget>[
+        barcodeScanner.getScanner(
+          onScan: _onNewBarcodeDetected,
+          hapticFeedback: () => SmoothHapticFeedback.click(),
           onCameraFlashError: _onCameraFlashError,
-        );
-      case SmoothBarcodeScannerType.zxing:
-        return SmoothBarcodeScannerZXing(
-          _onNewBarcodeDetected,
-          onCameraFlashError: _onCameraFlashError,
-        );
-      case SmoothBarcodeScannerType.mockup:
-        return const SmoothBarcodeScannerMocked();
-      case SmoothBarcodeScannerType.awesome:
-        return const SmoothBarcodeScannerMocked();
-//        return SmoothBarcodeScannerAwesome(_onNewBarcodeDetected);
-    }
+          trackCustomEvent: AnalyticsHelper.trackCustomEvent,
+          hasMoreThanOneCamera: CameraHelper.hasMoreThanOneCamera,
+        ),
+        const Align(
+          alignment: Alignment.topCenter,
+          child: ScanHeader(),
+        ),
+      ],
+    );
   }
 
   Future<bool> _onNewBarcodeDetected(final String barcode) async {
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_awesome.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_awesome.dart
deleted file mode 100644
index 85cc804469eb..000000000000
--- a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_awesome.dart
+++ /dev/null
@@ -1,205 +0,0 @@
-/*
-import 'dart:async';
-import 'dart:io';
-
-import 'package:camerawesome/camerawesome_plugin.dart';
-import 'package:camerawesome/pigeon.dart';
-import 'package:flutter/material.dart';
-import 'package:flutter/services.dart';
-import 'package:google_mlkit_barcode_scanning/google_mlkit_barcode_scanning.dart';
-import 'package:smooth_app/pages/scan/scan_header.dart';
-import 'package:smooth_app/pages/scan/smooth_barcode_scanner_visor.dart';
-import 'package:smooth_app/widgets/smooth_product_carousel.dart';
-
-class SmoothBarcodeScannerAwesome extends StatelessWidget {
-  SmoothBarcodeScannerAwesome(this.onScan);
-
-  final Future<bool> Function(String) onScan;
-
-  final BarcodeScanner _barcodeScanner = BarcodeScanner(
-    formats: <BarcodeFormat>[
-      BarcodeFormat.code128,
-      BarcodeFormat.code39,
-      BarcodeFormat.code93,
-      BarcodeFormat.codabar,
-      BarcodeFormat.dataMatrix,
-      BarcodeFormat.ean13,
-      BarcodeFormat.ean8,
-      BarcodeFormat.itf,
-      // probably not
-      //qrCode,
-      BarcodeFormat.upca,
-      BarcodeFormat.upce,
-      BarcodeFormat.pdf417,
-      BarcodeFormat.aztec,
-    ],
-  );
-
-  @override
-  Widget build(BuildContext context) {
-    return CameraAwesomeBuilder.custom(
-      enableAudio: false,
-      saveConfig: SaveConfig.photo(
-        pathBuilder: () async {
-          return 'just_needed_because.jpg';
-        },
-      ),
-      onImageForAnalysis: (AnalysisImage img) => _processImageBarcode(img),
-      imageAnalysisConfig: AnalysisConfig(
-        outputFormat: InputAnalysisImageFormat.nv21,
-        width: 1024,
-        maxFramesPerSecond: 5,
-      ),
-      builder: (
-        CameraState cameraState,
-        PreviewSize previewSize,
-        Rect previewRect,
-      ) {
-        // Return your UI (a Widget)
-        return cameraState.when(
-          onPreparingCamera: (PreparingCameraState state) =>
-              const Center(child: CircularProgressIndicator()),
-          onPhotoMode: (PhotoCameraState state) => _BarcodeScannerViewWidget(
-            onScan: onScan,
-            cameraState: cameraState,
-            previewSize: previewSize,
-            previewRect: previewRect,
-          ),
-          onVideoRecordingMode: (VideoRecordingCameraState state) =>
-              _BarcodeScannerViewWidget(
-            onScan: onScan,
-            cameraState: cameraState,
-            previewSize: previewSize,
-            previewRect: previewRect,
-          ),
-          onVideoMode: (VideoCameraState state) => _BarcodeScannerViewWidget(
-            onScan: onScan,
-            cameraState: cameraState,
-            previewSize: previewSize,
-            previewRect: previewRect,
-          ),
-        ) as Widget;
-      },
-    );
-  }
-
-  Future<void> _processImageBarcode(AnalysisImage img) async {
-    final Size imageSize = Size(img.width.toDouble(), img.height.toDouble());
-    final InputImageRotation imageRotation =
-        InputImageRotation.values.byName(img.rotation.name);
-
-    final List<InputImagePlaneMetadata> planeData = img.planes.map(
-      (ImagePlane plane) {
-        return InputImagePlaneMetadata(
-          bytesPerRow: plane.bytesPerRow,
-          height: img.height,
-          width: img.width,
-        );
-      },
-    ).toList();
-
-    final InputImage inputImage;
-
-    if (Platform.isIOS) {
-      final InputImageData inputImageData = InputImageData(
-        size: imageSize,
-        imageRotation: imageRotation,
-        inputImageFormat: _inputImageFormat(img.format),
-        planeData: planeData,
-      );
-
-      final WriteBuffer allBytes = WriteBuffer();
-      for (final ImagePlane plane in img.planes) {
-        allBytes.putUint8List(plane.bytes);
-      }
-      final Uint8List bytes = allBytes.done().buffer.asUint8List();
-
-      inputImage =
-          InputImage.fromBytes(bytes: bytes, inputImageData: inputImageData);
-    } else {
-      inputImage = InputImage.fromBytes(
-        bytes: img.nv21Image!,
-        inputImageData: InputImageData(
-          imageRotation: imageRotation,
-          inputImageFormat: InputImageFormat.nv21,
-          planeData: planeData,
-          size: Size(img.width.toDouble(), img.height.toDouble()),
-        ),
-      );
-    }
-
-    try {
-      final List<Barcode> recognizedBarCodes =
-          await _barcodeScanner.processImage(inputImage);
-      for (final Barcode barcode in recognizedBarCodes) {
-        debugPrint('Barcode: [${barcode.format}]: ${barcode.rawValue}');
-
-        onScan(barcode.rawValue.toString());
-      }
-    } catch (error) {
-      debugPrint('Camera awesome ml kit error $error');
-      rethrow;
-    }
-  }
-
-  InputImageFormat _inputImageFormat(InputAnalysisImageFormat format) {
-    switch (format) {
-      case InputAnalysisImageFormat.bgra8888:
-        return InputImageFormat.bgra8888;
-      case InputAnalysisImageFormat.nv21:
-        return InputImageFormat.nv21;
-      default:
-        return InputImageFormat.yuv420;
-    }
-  }
-}
-
-// TODO(m123): Re-add camera switch
-/// Barcode scanner based on MLKit.
-class _BarcodeScannerViewWidget extends StatelessWidget {
-  const _BarcodeScannerViewWidget({
-    required this.onScan,
-    required this.cameraState,
-    required this.previewSize,
-    required this.previewRect,
-  });
-
-  final Future<bool> Function(String) onScan;
-  final CameraState cameraState;
-  final PreviewSize previewSize;
-  final Rect previewRect;
-
-  @override
-  Widget build(BuildContext context) => LayoutBuilder(
-        builder: (BuildContext context, BoxConstraints constraints) {
-          return Stack(
-            children: <Widget>[
-              const Align(
-                alignment: Alignment.topCenter,
-                child: ScanHeader(),
-              ),
-              const Align(
-                alignment: Alignment.topCenter,
-                child: Text('Awesome', style: TextStyle(color: Colors.red)),
-              ),
-              Align(
-                // 0: x axis center, -1 top 1 bottom of the screen
-                alignment: const AlignmentDirectional(0, -0.6),
-                child: ScannerVisorWidget(state: cameraState),
-              ),
-              Align(
-                alignment: Alignment.bottomCenter,
-                child: Padding(
-                  padding: const EdgeInsetsDirectional.only(bottom: 10),
-                  child: SizedBox(
-                    height: constraints.maxHeight * 0.5,
-                    child: const SmoothProductCarousel(containSearchCard: true),
-                  ),
-                ),
-              ),
-            ],
-          );
-        },
-      );
-}
-*/
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart
deleted file mode 100644
index 61775480105e..000000000000
--- a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_type.dart
+++ /dev/null
@@ -1,7 +0,0 @@
-/// Barcode scanner types.
-enum SmoothBarcodeScannerType {
-  awesome,
-  mlkit,
-  zxing,
-  mockup,
-}
diff --git a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_visor.dart b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_visor.dart
index 9837fe1c76a9..c06335eb5fc4 100644
--- a/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_visor.dart
+++ b/packages/smooth_app/lib/pages/scan/smooth_barcode_scanner_visor.dart
@@ -2,6 +2,8 @@ import 'package:flutter/material.dart';
 import 'package:flutter_svg/flutter_svg.dart';
 import 'package:smooth_app/helpers/app_helper.dart';
 
+// TODO(m123): Remove this file and place it into packages/scanner/shared/src
+
 class SmoothBarcodeScannerVisor extends StatelessWidget {
   const SmoothBarcodeScannerVisor({super.key});
 
diff --git a/packages/smooth_app/pubspec.lock b/packages/smooth_app/pubspec.lock
index 3b78f4a0c3f6..4bd7375029d5 100644
--- a/packages/smooth_app/pubspec.lock
+++ b/packages/smooth_app/pubspec.lock
@@ -863,7 +863,7 @@ packages:
     source: hosted
     version: "1.0.3"
   mobile_scanner:
-    dependency: "direct main"
+    dependency: transitive
     description:
       name: mobile_scanner
       sha256: da55204e5439bc8dc058df56231a7a1d513c6ec9cbad84492f56d493382d296f
@@ -1144,7 +1144,7 @@ packages:
     source: hosted
     version: "3.0.1"
   qr_code_scanner:
-    dependency: "direct main"
+    dependency: transitive
     description:
       name: qr_code_scanner
       sha256: f23b68d893505a424f0bd2e324ebea71ed88465d572d26bb8d2e78a4749591fd
@@ -1159,6 +1159,27 @@ packages:
       url: "https://pub.dev"
     source: hosted
     version: "3.2.1"
+  scanner_ml_kit:
+    dependency: "direct main"
+    description:
+      path: "../scanner/ml_kit"
+      relative: true
+    source: path
+    version: "1.0.0"
+  scanner_shared:
+    dependency: "direct main"
+    description:
+      path: "../scanner/shared"
+      relative: true
+    source: path
+    version: "1.0.0"
+  scanner_zxing:
+    dependency: "direct main"
+    description:
+      path: "../scanner/zxing"
+      relative: true
+    source: path
+    version: "1.0.0"
   sentry:
     dependency: transitive
     description:
diff --git a/packages/smooth_app/pubspec.yaml b/packages/smooth_app/pubspec.yaml
index 1d159e178f45..433cc5f17781 100644
--- a/packages/smooth_app/pubspec.yaml
+++ b/packages/smooth_app/pubspec.yaml
@@ -81,8 +81,16 @@ dependencies:
   # mobile scanner powered by ML Kit for the Play Store and Apple App Store,
   # but qr_code_scanner which uses the open source ZXing for F-Droid
   camera: 0.10.3+2
-  mobile_scanner: 3.2.0
-  qr_code_scanner: 1.0.1
+  
+  scanner_shared:
+    path: ../scanner/shared
+
+  scanner_ml_kit:
+    path: ../scanner/ml_kit
+
+  scanner_zxing:
+    path: ../scanner/zxing
+
 
 
 
