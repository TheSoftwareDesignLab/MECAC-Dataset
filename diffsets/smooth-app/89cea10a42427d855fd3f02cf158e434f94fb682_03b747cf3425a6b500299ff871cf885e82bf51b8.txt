diff --git a/packages/smooth_app/lib/background/background_task_crop.dart b/packages/smooth_app/lib/background/background_task_crop.dart
index e18d0d75d27e..b457d6e36106 100644
--- a/packages/smooth_app/lib/background/background_task_crop.dart
+++ b/packages/smooth_app/lib/background/background_task_crop.dart
@@ -125,22 +125,11 @@ class BackgroundTaskCrop extends BackgroundTaskUpload {
         ),
       );
 
-  @override
-  Future<void> preExecute(final LocalDatabase localDatabase) async {
-    await localDatabase.upToDate.addChange(
-      uniqueId,
-      Product(
-        barcode: barcode,
-        images: <ProductImage>[_getProductImage()],
-      ),
-    );
-    await putTransientImage(localDatabase);
-  }
-
   /// Returns the actual crop parameters.
   ///
   /// cf. [UpToDateChanges._overwrite] regarding `images` field.
-  ProductImage _getProductImage() => ProductImage(
+  @override
+  ProductImage getProductImageChange() => ProductImage(
         field: ImageField.fromOffTag(imageField)!,
         language: getLanguage(),
         size: ImageSize.ORIGINAL,
@@ -176,10 +165,10 @@ class BackgroundTaskCrop extends BackgroundTaskUpload {
   /// Uploads the product image.
   @override
   Future<void> upload() async {
-    final ProductImage productImage = _getProductImage();
+    final ProductImage productImage = getProductImageChange();
     final String? imageUrl = await OpenFoodAPIClient.setProductImageCrop(
       barcode: barcode,
-      imageField: productImage.field,
+      imageField: productImage.field!,
       language: getLanguage(),
       imgid: productImage.imgid!,
       angle: productImage.angle!,
diff --git a/packages/smooth_app/lib/background/background_task_details.dart b/packages/smooth_app/lib/background/background_task_details.dart
index ecafe8784ca9..7025653e999e 100644
--- a/packages/smooth_app/lib/background/background_task_details.dart
+++ b/packages/smooth_app/lib/background/background_task_details.dart
@@ -5,6 +5,7 @@ import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:provider/provider.dart';
 import 'package:smooth_app/background/background_task_barcode.dart';
+import 'package:smooth_app/background/background_task_product_change.dart';
 import 'package:smooth_app/background/operation_type.dart';
 import 'package:smooth_app/database/local_database.dart';
 
@@ -31,7 +32,8 @@ enum BackgroundTaskDetailsStamp {
 }
 
 /// Background task that changes product details (data, but no image upload).
-class BackgroundTaskDetails extends BackgroundTaskBarcode {
+class BackgroundTaskDetails extends BackgroundTaskBarcode
+    implements BackgroundTaskProductChange {
   BackgroundTaskDetails._({
     required super.processName,
     required super.uniqueId,
@@ -60,7 +62,7 @@ class BackgroundTaskDetails extends BackgroundTaskBarcode {
 
   @override
   Future<void> preExecute(final LocalDatabase localDatabase) async =>
-      localDatabase.upToDate.addChange(uniqueId, _getProduct());
+      localDatabase.upToDate.addChange(uniqueId, getProductChange());
 
   /// Adds the background task about changing a product.
   static Future<void> addTask(
@@ -114,7 +116,8 @@ class BackgroundTaskDetails extends BackgroundTaskBarcode {
   static String getStamp(final String barcode, final String stamp) =>
       '$barcode;detail;$stamp';
 
-  Product _getProduct() {
+  @override
+  Product getProductChange() {
     final Product result =
         Product.fromJson(json.decode(inputMap) as Map<String, dynamic>);
     // for good multilingual management
@@ -127,7 +130,7 @@ class BackgroundTaskDetails extends BackgroundTaskBarcode {
   /// Uploads the product changes.
   @override
   Future<void> upload() async {
-    final Product product = _getProduct();
+    final Product product = getProductChange();
     if (product.packagings != null || product.packagingsComplete != null) {
       // For the moment, some fields can only be saved in V3,
       // and V3 can only save those fields.
diff --git a/packages/smooth_app/lib/background/background_task_image.dart b/packages/smooth_app/lib/background/background_task_image.dart
index 1ac4460dacc1..f24f63eebcb7 100644
--- a/packages/smooth_app/lib/background/background_task_image.dart
+++ b/packages/smooth_app/lib/background/background_task_image.dart
@@ -141,25 +141,14 @@ class BackgroundTaskImage extends BackgroundTaskUpload {
   static bool isOtherStamp(final String stamp) =>
       stamp.contains(';image;${ImageField.OTHER.offTag};');
 
-  @override
-  Future<void> preExecute(final LocalDatabase localDatabase) async {
-    await localDatabase.upToDate.addChange(
-      uniqueId,
-      Product(
-        barcode: barcode,
-        images: <ProductImage>[_getProductImage()],
-      ),
-    );
-    await putTransientImage(localDatabase);
-  }
-
   /// Returns a fake value that means: "remove the previous value when merging".
   ///
   /// If we use this task, it means that we took a brand new picture. Therefore,
   /// all previous crop parameters are attached to a different imageid, and
   /// to avoid confusion we need to clear them.
   /// cf. [UpToDateChanges._overwrite] regarding `images` field.
-  ProductImage _getProductImage() => ProductImage(
+  @override
+  ProductImage getProductImageChange() => ProductImage(
         field: ImageField.fromOffTag(imageField)!,
         language: getLanguage(),
         size: ImageSize.ORIGINAL,
diff --git a/packages/smooth_app/lib/background/background_task_product_change.dart b/packages/smooth_app/lib/background/background_task_product_change.dart
new file mode 100644
index 000000000000..a61ed0a49f33
--- /dev/null
+++ b/packages/smooth_app/lib/background/background_task_product_change.dart
@@ -0,0 +1,7 @@
+import 'package:openfoodfacts/openfoodfacts.dart';
+
+/// Interface for background tasks that change a product.
+abstract class BackgroundTaskProductChange {
+  /// Product change, as a minimal Product.
+  Product getProductChange();
+}
diff --git a/packages/smooth_app/lib/background/background_task_unselect.dart b/packages/smooth_app/lib/background/background_task_unselect.dart
index 024a9e4a7f6f..49242e729894 100644
--- a/packages/smooth_app/lib/background/background_task_unselect.dart
+++ b/packages/smooth_app/lib/background/background_task_unselect.dart
@@ -3,6 +3,7 @@ import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:provider/provider.dart';
 import 'package:smooth_app/background/background_task_barcode.dart';
+import 'package:smooth_app/background/background_task_product_change.dart';
 import 'package:smooth_app/background/background_task_refresh_later.dart';
 import 'package:smooth_app/background/background_task_upload.dart';
 import 'package:smooth_app/background/operation_type.dart';
@@ -11,7 +12,8 @@ import 'package:smooth_app/database/transient_file.dart';
 import 'package:smooth_app/helpers/image_field_extension.dart';
 
 /// Background task about unselecting a product image.
-class BackgroundTaskUnselect extends BackgroundTaskBarcode {
+class BackgroundTaskUnselect extends BackgroundTaskBarcode
+    implements BackgroundTaskProductChange {
   BackgroundTaskUnselect._({
     required super.processName,
     required super.uniqueId,
@@ -91,7 +93,7 @@ class BackgroundTaskUnselect extends BackgroundTaskBarcode {
 
   @override
   Future<void> preExecute(final LocalDatabase localDatabase) async {
-    localDatabase.upToDate.addChange(uniqueId, _getUnselectedProduct());
+    localDatabase.upToDate.addChange(uniqueId, getProductChange());
     _getTransientFile().removeImage(localDatabase);
   }
 
@@ -132,7 +134,8 @@ class BackgroundTaskUnselect extends BackgroundTaskBarcode {
   /// * "I don't change this value"
   /// * "I change the value to null"
   /// Here we put an empty string instead, to be understood as "force to null!".
-  Product _getUnselectedProduct() {
+  @override
+  Product getProductChange() {
     final Product result = Product(barcode: barcode);
     ImageField.fromOffTag(imageField)!.setUrl(result, '');
     return result;
diff --git a/packages/smooth_app/lib/background/background_task_upload.dart b/packages/smooth_app/lib/background/background_task_upload.dart
index 47b1456d52fb..766e43088a9d 100644
--- a/packages/smooth_app/lib/background/background_task_upload.dart
+++ b/packages/smooth_app/lib/background/background_task_upload.dart
@@ -4,11 +4,13 @@ import 'package:flutter/material.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
 import 'package:path_provider/path_provider.dart';
 import 'package:smooth_app/background/background_task_barcode.dart';
+import 'package:smooth_app/background/background_task_product_change.dart';
 import 'package:smooth_app/database/local_database.dart';
 import 'package:smooth_app/database/transient_file.dart';
 
 /// Abstract background task about generic file upload.
-abstract class BackgroundTaskUpload extends BackgroundTaskBarcode {
+abstract class BackgroundTaskUpload extends BackgroundTaskBarcode
+    implements BackgroundTaskProductChange {
   BackgroundTaskUpload({
     required super.processName,
     required super.uniqueId,
@@ -117,4 +119,24 @@ abstract class BackgroundTaskUpload extends BackgroundTaskBarcode {
     }
     return File(path);
   }
+
+  @override
+  Future<void> preExecute(final LocalDatabase localDatabase) async {
+    await localDatabase.upToDate.addChange(
+      uniqueId,
+      getProductChange(),
+    );
+    await putTransientImage(localDatabase);
+  }
+
+  @override
+  Product getProductChange() => Product(
+        barcode: barcode,
+        images: <ProductImage>[getProductImageChange()],
+      );
+
+  /// Changed [ProductImage] for this product change.
+  ///
+  /// cf. [UpToDateChanges._overwrite] regarding `images` field.
+  ProductImage getProductImageChange();
 }
diff --git a/packages/smooth_app/lib/helpers/product_cards_helper.dart b/packages/smooth_app/lib/helpers/product_cards_helper.dart
index 1535b5a4e197..b26a228a7fee 100644
--- a/packages/smooth_app/lib/helpers/product_cards_helper.dart
+++ b/packages/smooth_app/lib/helpers/product_cards_helper.dart
@@ -267,9 +267,8 @@ ProductImageData getProductImageData(
     // we found a localized version for this image
     return ProductImageData(
       imageField: imageField,
-      imageUrl: ImageHelper.getLocalizedProductImageUrl(
+      imageUrl: productImage.getUrl(
         product.barcode!,
-        productImage,
         imageSize: ImageSize.DISPLAY,
       ),
       language: language,
@@ -323,3 +322,45 @@ Iterable<OpenFoodFactsLanguage> getProductImageLanguages(
   }
   return result;
 }
+
+/// Returns an id-sorted list of raw images matching the imageSize if possible.
+List<ProductImage> getRawProductImages(
+  final Product product,
+  final ImageSize imageSize,
+) {
+  final List<ProductImage> result = <ProductImage>[];
+  final List<ProductImage>? rawImages = product.getRawImages();
+  if (rawImages == null) {
+    return result;
+  }
+  final Map<int, ProductImage> map = <int, ProductImage>{};
+  for (final ProductImage productImage in rawImages) {
+    final int? imageId = int.tryParse(productImage.imgid!);
+    if (imageId == null) {
+      // highly unlikely
+      continue;
+    }
+    final ProductImage? previous = map[imageId];
+    if (previous == null) {
+      map[imageId] = productImage;
+      continue;
+    }
+    final ImageSize? currentImageSize = productImage.size;
+    if (currentImageSize == null) {
+      // highly unlikely
+      continue;
+    }
+    final ImageSize? previousImageSize = previous.size;
+    if (previousImageSize == imageSize) {
+      // we already have the best
+      continue;
+    }
+    map[imageId] = productImage;
+  }
+  final List<int> sortedIds = List<int>.of(map.keys);
+  sortedIds.sort();
+  for (final int id in sortedIds) {
+    result.add(map[id]!);
+  }
+  return result;
+}
diff --git a/packages/smooth_app/lib/pages/image/product_image_gallery_other_view.dart b/packages/smooth_app/lib/pages/image/product_image_gallery_other_view.dart
index b6eb0c9d9155..065c3c96e045 100644
--- a/packages/smooth_app/lib/pages/image/product_image_gallery_other_view.dart
+++ b/packages/smooth_app/lib/pages/image/product_image_gallery_other_view.dart
@@ -1,9 +1,22 @@
 import 'package:flutter/material.dart';
 import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
+import 'package:provider/provider.dart';
+import 'package:smooth_app/data_models/fetched_product.dart';
+import 'package:smooth_app/database/local_database.dart';
 import 'package:smooth_app/generic_lib/widgets/images/smooth_image.dart';
+import 'package:smooth_app/helpers/product_cards_helper.dart';
 import 'package:smooth_app/pages/image/product_image_other_page.dart';
-import 'package:smooth_app/query/product_query.dart';
+import 'package:smooth_app/pages/product/common/product_refresher.dart';
+
+/// Number of columns for the grid.
+const int _columns = 3;
+
+/// Square size of a thumbnail.
+double _getSquareSize(final BuildContext context) {
+  final double screenWidth = MediaQuery.sizeOf(context).width;
+  return screenWidth / _columns;
+}
 
 /// Display of the other pictures of a product.
 class ProductImageGalleryOtherView extends StatefulWidget {
@@ -20,28 +33,30 @@ class ProductImageGalleryOtherView extends StatefulWidget {
 
 class _ProductImageGalleryOtherViewState
     extends State<ProductImageGalleryOtherView> {
-  late final Future<List<int>> _loading = _loadOtherPics();
-
-  /// Number of columns for the grid.
-  static const int _columns = 3;
+  late final Future<FetchedProduct> _loading = _loadOtherPics();
 
-  Future<List<int>> _loadOtherPics() async =>
-      OpenFoodAPIClient.getProductImageIds(
-        widget.product.barcode!,
-        uriHelper: ProductQuery.uriProductHelper,
-        user: ProductQuery.getUser(),
+  Future<FetchedProduct> _loadOtherPics() async =>
+      ProductRefresher().silentFetchAndRefresh(
+        localDatabase: context.read<LocalDatabase>(),
+        barcode: widget.product.barcode!,
       );
 
   @override
   Widget build(BuildContext context) {
     final AppLocalizations appLocalizations = AppLocalizations.of(context);
-    final double screenWidth = MediaQuery.of(context).size.width;
-    final double squareSize = screenWidth / _columns;
-    return FutureBuilder<List<int>>(
+    List<ProductImage> rawImages = getRawProductImages(
+      widget.product,
+      ImageSize.DISPLAY,
+    );
+    if (rawImages.isNotEmpty) {
+      return _RawGridGallery(widget.product, rawImages);
+    }
+    final double squareSize = _getSquareSize(context);
+    return FutureBuilder<FetchedProduct>(
       future: _loading,
       builder: (
         final BuildContext context,
-        final AsyncSnapshot<List<int>> snapshot,
+        final AsyncSnapshot<FetchedProduct> snapshot,
       ) {
         if (snapshot.connectionState != ConnectionState.done) {
           return SliverToBoxAdapter(
@@ -60,49 +75,69 @@ class _ProductImageGalleryOtherViewState
             ),
           );
         }
-        final List<int> ids = snapshot.data!;
-        if (ids.isEmpty) {
-          // very unlikely btw.
-          return Text(
-            appLocalizations.edit_photo_select_existing_downloaded_none,
+        final FetchedProduct fetchedProduct = snapshot.data!;
+        if (fetchedProduct.product != null) {
+          rawImages = getRawProductImages(
+            fetchedProduct.product!,
+            ImageSize.DISPLAY,
           );
         }
-        return SliverGrid(
-          gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
-            crossAxisCount: _columns,
-          ),
-          delegate: SliverChildBuilderDelegate(
-            (final BuildContext context, final int index) {
-              return InkWell(
-                onTap: () async => Navigator.push<void>(
-                  context,
-                  MaterialPageRoute<bool>(
-                    builder: (BuildContext context) => ProductImageOtherPage(
-                      widget.product,
-                      ids[index],
-                    ),
-                  ),
-                ),
-                child: SmoothImage(
-                  width: squareSize,
-                  height: squareSize,
-                  imageProvider: NetworkImage(
-                    ImageHelper.getUploadedImageUrl(
-                      widget.product.barcode!,
-                      ids[index],
-                      ImageSize.DISPLAY,
-                    ),
-                  ),
-                ),
-              );
-            },
-            addAutomaticKeepAlives: false,
-            childCount: ids.length,
+        if (rawImages.isNotEmpty) {
+          return _RawGridGallery(
+            fetchedProduct.product ?? widget.product,
+            rawImages,
+          );
+        }
+        return SliverToBoxAdapter(
+          child: Text(
+            appLocalizations.edit_photo_select_existing_downloaded_none,
           ),
-
-          //scrollDirection: Axis.vertical,
         );
       },
     );
   }
 }
+
+class _RawGridGallery extends StatelessWidget {
+  const _RawGridGallery(this.product, this.rawImages);
+
+  final Product product;
+  final List<ProductImage> rawImages;
+
+  @override
+  Widget build(BuildContext context) {
+    final double squareSize = _getSquareSize(context);
+    return SliverGrid(
+      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
+        crossAxisCount: _columns,
+      ),
+      delegate: SliverChildBuilderDelegate(
+        (final BuildContext context, int index) {
+          // order by descending ids
+          index = rawImages.length - 1 - index;
+          final ProductImage productImage = rawImages[index];
+          return InkWell(
+            onTap: () async => Navigator.push<void>(
+              context,
+              MaterialPageRoute<bool>(
+                builder: (BuildContext context) => ProductImageOtherPage(
+                  product,
+                  int.parse(productImage.imgid!),
+                ),
+              ),
+            ),
+            child: SmoothImage(
+              width: squareSize,
+              height: squareSize,
+              imageProvider: NetworkImage(
+                productImage.getUrl(product.barcode!),
+              ),
+            ),
+          );
+        },
+        addAutomaticKeepAlives: false,
+        childCount: rawImages.length,
+      ),
+    );
+  }
+}
diff --git a/packages/smooth_app/lib/pages/image/product_image_other_page.dart b/packages/smooth_app/lib/pages/image/product_image_other_page.dart
index 6f985e81457d..8557c5fc9ce8 100644
--- a/packages/smooth_app/lib/pages/image/product_image_other_page.dart
+++ b/packages/smooth_app/lib/pages/image/product_image_other_page.dart
@@ -25,11 +25,10 @@ class ProductImageOtherPage extends StatelessWidget {
       ),
       body: Image(
         image: NetworkImage(
-          ImageHelper.getUploadedImageUrl(
-            product.barcode!,
-            imageId,
-            ImageSize.ORIGINAL,
-          ),
+          ProductImage.raw(
+            imgid: imageId.toString(),
+            size: ImageSize.ORIGINAL,
+          ).getUrl(product.barcode!),
         ),
         fit: BoxFit.cover,
       ),
diff --git a/packages/smooth_app/lib/pages/image/uploaded_image_gallery.dart b/packages/smooth_app/lib/pages/image/uploaded_image_gallery.dart
index 6b9533466bad..a7e461787f85 100644
--- a/packages/smooth_app/lib/pages/image/uploaded_image_gallery.dart
+++ b/packages/smooth_app/lib/pages/image/uploaded_image_gallery.dart
@@ -18,14 +18,14 @@ import 'package:smooth_app/widgets/smooth_scaffold.dart';
 class UploadedImageGallery extends StatelessWidget {
   const UploadedImageGallery({
     required this.barcode,
-    required this.imageIds,
+    required this.rawImages,
     required this.imageField,
     required this.language,
     required this.isLoggedInMandatory,
   });
 
   final String barcode;
-  final List<int> imageIds;
+  final List<ProductImage> rawImages;
   final ImageField imageField;
   final bool isLoggedInMandatory;
 
@@ -49,20 +49,20 @@ class UploadedImageGallery extends StatelessWidget {
         ),
       ),
       body: GridView.builder(
-        itemCount: imageIds.length,
+        itemCount: rawImages.length,
         gridDelegate: SliverGridDelegateWithMaxCrossAxisExtent(
           maxCrossAxisExtent: mediaQueryData.size.width / 2,
           childAspectRatio: 1,
           mainAxisSpacing: MEDIUM_SPACE,
           crossAxisSpacing: MEDIUM_SPACE,
         ),
-        itemBuilder: (final BuildContext context, final int index) {
+        itemBuilder: (final BuildContext context, int index) {
           // order by descending ids
-          final int imageId = imageIds[imageIds.length - 1 - index];
-          final String url = ImageHelper.getUploadedImageUrl(
+          index = rawImages.length - 1 - index;
+          final ProductImage rawImage = rawImages[index];
+          final String url = rawImage.getUrl(
             barcode,
-            imageId,
-            ImageSize.DISPLAY,
+            imageSize: ImageSize.DISPLAY,
           );
           return GestureDetector(
             onTap: () async {
@@ -70,10 +70,9 @@ class UploadedImageGallery extends StatelessWidget {
               final NavigatorState navigatorState = Navigator.of(context);
               final File? imageFile = await downloadImageUrl(
                 context,
-                ImageHelper.getUploadedImageUrl(
+                rawImage.getUrl(
                   barcode,
-                  imageId,
-                  ImageSize.ORIGINAL,
+                  imageSize: ImageSize.ORIGINAL,
                 ),
                 DaoInt(localDatabase),
               );
@@ -86,7 +85,7 @@ class UploadedImageGallery extends StatelessWidget {
                     barcode: barcode,
                     imageField: imageField,
                     inputFile: imageFile,
-                    imageId: imageId,
+                    imageId: int.parse(rawImage.imgid!),
                     initiallyDifferent: true,
                     language: language,
                     isLoggedInMandatory: isLoggedInMandatory,
diff --git a/packages/smooth_app/lib/pages/product/product_image_gallery_view.dart b/packages/smooth_app/lib/pages/product/product_image_gallery_view.dart
index e4b07e36f127..4069f7807da5 100644
--- a/packages/smooth_app/lib/pages/product/product_image_gallery_view.dart
+++ b/packages/smooth_app/lib/pages/product/product_image_gallery_view.dart
@@ -127,7 +127,9 @@ class _ProductImageGalleryViewState extends State<ProductImageGalleryView>
                       ),
                     ),
                   ),
-                  if (!_clickedOtherPictureButton)
+                  if (_shouldDisplayRawGallery())
+                    ProductImageGalleryOtherView(product: upToDateProduct)
+                  else
                     SliverToBoxAdapter(
                       child: Padding(
                         padding: const EdgeInsets.all(SMALL_SPACE),
@@ -140,9 +142,6 @@ class _ProductImageGalleryViewState extends State<ProductImageGalleryView>
                         ),
                       ),
                     ),
-
-                  if (_clickedOtherPictureButton)
-                    ProductImageGalleryOtherView(product: upToDateProduct),
                   // Extra space to be above the FAB
                   SliverFillRemaining(
                     hasScrollBody: false,
@@ -171,6 +170,10 @@ class _ProductImageGalleryViewState extends State<ProductImageGalleryView>
         SMALL_SPACE +
         ((textStyle?.fontSize ?? 15.0) * 2) * (textStyle?.height ?? 2.0);
   }
+
+  bool _shouldDisplayRawGallery() =>
+      _clickedOtherPictureButton ||
+      (upToDateProduct.getRawImages()?.isNotEmpty == true);
 }
 
 class _PhotoRow extends StatelessWidget {
diff --git a/packages/smooth_app/lib/pages/product/product_image_server_button.dart b/packages/smooth_app/lib/pages/product/product_image_server_button.dart
index 1a67a23e1808..98a63460056a 100644
--- a/packages/smooth_app/lib/pages/product/product_image_server_button.dart
+++ b/packages/smooth_app/lib/pages/product/product_image_server_button.dart
@@ -1,13 +1,15 @@
 import 'package:flutter/material.dart';
 import 'package:flutter_gen/gen_l10n/app_localizations.dart';
 import 'package:openfoodfacts/openfoodfacts.dart';
+import 'package:provider/provider.dart';
+import 'package:smooth_app/database/dao_product.dart';
+import 'package:smooth_app/database/local_database.dart';
 import 'package:smooth_app/generic_lib/design_constants.dart';
 import 'package:smooth_app/generic_lib/dialogs/smooth_alert_dialog.dart';
-import 'package:smooth_app/generic_lib/loading_dialog.dart';
+import 'package:smooth_app/helpers/product_cards_helper.dart';
 import 'package:smooth_app/pages/image/uploaded_image_gallery.dart';
 import 'package:smooth_app/pages/product/common/product_refresher.dart';
 import 'package:smooth_app/pages/product/edit_image_button.dart';
-import 'package:smooth_app/query/product_query.dart';
 
 /// Button asking for a "server" photo (taken from what was already uploaded).
 class ProductImageServerButton extends StatelessWidget {
@@ -25,14 +27,13 @@ class ProductImageServerButton extends StatelessWidget {
   final bool isLoggedInMandatory;
   final double? borderWidth;
 
-  static bool _hasServerImages(final Product product) =>
-      product.images?.isNotEmpty == true;
+  bool _hasServerImages() => product.images?.isNotEmpty == true;
 
-  String get barcode => product.barcode!;
+  String get _barcode => product.barcode!;
 
   @override
   Widget build(BuildContext context) {
-    if (!_hasServerImages(product)) {
+    if (!_hasServerImages()) {
       return EMPTY_WIDGET;
     }
     return EditImageButton(
@@ -53,48 +54,76 @@ class ProductImageServerButton extends StatelessWidget {
       return;
     }
 
-    List<int>? result;
-    if (context.mounted) {
-      result = await LoadingDialog.run<List<int>>(
-        future: OpenFoodAPIClient.getProductImageIds(
-          barcode,
-          user: ProductQuery.getUser(),
-          uriHelper: ProductQuery.uriProductHelper,
-        ),
-        context: context,
-        title: appLocalizations.edit_photo_select_existing_download_label,
+    if (!context.mounted) {
+      return;
+    }
+
+    List<ProductImage> rawImages = getRawProductImages(
+      product,
+      ImageSize.DISPLAY,
+    );
+    if (rawImages.isNotEmpty) {
+      await _openGallery(context: context, rawImages: rawImages);
+      return;
+    }
+
+    final bool fetched = await ProductRefresher().fetchAndRefresh(
+      barcode: _barcode,
+      context: context,
+    );
+    if (!fetched) {
+      return;
+    }
+
+    if (!context.mounted) {
+      return;
+    }
+
+    final Product? latestProduct =
+        await DaoProduct(context.read<LocalDatabase>()).get(_barcode);
+    if (!context.mounted) {
+      return;
+    }
+    if (latestProduct != null) {
+      // very likely
+      rawImages = getRawProductImages(
+        latestProduct,
+        ImageSize.DISPLAY,
       );
     }
 
-    if (context.mounted) {
-      if (result?.isEmpty == true) {
-        await showDialog<void>(
-          context: context,
-          builder: (BuildContext context) => SmoothAlertDialog(
-            body: Text(
-                appLocalizations.edit_photo_select_existing_downloaded_none),
-            actionsAxis: Axis.vertical,
-            positiveAction: SmoothActionButton(
-              text: appLocalizations.okay,
-              onPressed: () => Navigator.of(context).pop(),
-            ),
-          ),
-        );
-        return;
-      } else {
-        await Navigator.push<void>(
-          context,
-          MaterialPageRoute<void>(
-            builder: (BuildContext context) => UploadedImageGallery(
-              barcode: barcode,
-              imageIds: result!,
-              imageField: imageField,
-              language: language,
-              isLoggedInMandatory: isLoggedInMandatory,
-            ),
+    if (rawImages.isEmpty) {
+      await showDialog<void>(
+        context: context,
+        builder: (BuildContext context) => SmoothAlertDialog(
+          body:
+              Text(appLocalizations.edit_photo_select_existing_downloaded_none),
+          actionsAxis: Axis.vertical,
+          positiveAction: SmoothActionButton(
+            text: appLocalizations.okay,
+            onPressed: () => Navigator.of(context).pop(),
           ),
-        );
-      }
+        ),
+      );
+      return;
     }
+    await _openGallery(context: context, rawImages: rawImages);
   }
+
+  Future<void> _openGallery({
+    required final BuildContext context,
+    required final List<ProductImage> rawImages,
+  }) =>
+      Navigator.push<void>(
+        context,
+        MaterialPageRoute<void>(
+          builder: (BuildContext context) => UploadedImageGallery(
+            barcode: _barcode,
+            rawImages: rawImages,
+            imageField: imageField,
+            language: language,
+            isLoggedInMandatory: isLoggedInMandatory,
+          ),
+        ),
+      );
 }
diff --git a/packages/smooth_app/lib/pages/product/product_image_viewer.dart b/packages/smooth_app/lib/pages/product/product_image_viewer.dart
index 766bb09a771a..bd8cec9ee8e6 100644
--- a/packages/smooth_app/lib/pages/product/product_image_viewer.dart
+++ b/packages/smooth_app/lib/pages/product/product_image_viewer.dart
@@ -367,11 +367,10 @@ class _ProductImageViewerState extends State<ProductImageViewer>
     final LocalDatabase localDatabase = context.read<LocalDatabase>();
     final File? imageFile = await downloadImageUrl(
       context,
-      ImageHelper.getUploadedImageUrl(
-        barcode,
-        imageId,
-        ImageSize.ORIGINAL,
-      ),
+      ProductImage.raw(
+        imgid: imageId.toString(),
+        size: ImageSize.ORIGINAL,
+      ).getUrl(barcode),
       DaoInt(localDatabase),
     );
     if (imageFile == null) {
diff --git a/packages/smooth_app/pubspec.lock b/packages/smooth_app/pubspec.lock
index 1a57c509e8b5..584845bae8b9 100644
--- a/packages/smooth_app/pubspec.lock
+++ b/packages/smooth_app/pubspec.lock
@@ -1084,10 +1084,10 @@ packages:
     dependency: "direct main"
     description:
       name: openfoodfacts
-      sha256: "47436d0d647700327b8df45d02658a5e6e8d89b328e0b3d95c3fc3c34d5aebb7"
+      sha256: c3c778d2ccdf4862ea91abdc4d20c3a759d0ee21a22cef4cb5206fb7a0110537
       url: "https://pub.dev"
     source: hosted
-    version: "3.2.1"
+    version: "3.3.0"
   openfoodfacts_flutter_lints:
     dependency: "direct dev"
     description:
diff --git a/packages/smooth_app/pubspec.yaml b/packages/smooth_app/pubspec.yaml
index 60c299b89b6b..4ddd5e000ade 100644
--- a/packages/smooth_app/pubspec.yaml
+++ b/packages/smooth_app/pubspec.yaml
@@ -98,7 +98,7 @@ dependencies:
     path: ../scanner/zxing
 
 
-  openfoodfacts: 3.2.1
+  openfoodfacts: 3.3.0
   # openfoodfacts:
   #   path: ../../../openfoodfacts-dart
 
