some UI and code improvements