Widgets: use received entity state changes for updating if possible (#2089)

* Add entity state changed function to widgets

 - Add a function to widgets implementing the BaseWidgetProvider that is called whenever a new state change for an entity is received. Implemented it by refreshing all widgets (match existing behaviour).

* Use state update in widget if there's a widget for the entity

 - Only refresh the entity and media widget if the state of the entity they're displaying is changed. For the template widget we don't know since it is rendered on the server so just keep refreshing on any state change (no change).
 - Allow passing in a suggested entity for updating the view to allow the widgets to re-use the received state update object, removing the need to make another API call if the view is requested as a result from a state update.