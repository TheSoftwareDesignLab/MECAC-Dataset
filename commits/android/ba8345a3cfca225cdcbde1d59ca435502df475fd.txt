Initial WebSocket Implementation (#1884)

* Initial setup of WebSockets!

* Got some good sets of table tennis going.

* Move to a more kotlin friendly way to lock.

* Functional get config call.

* Remove testing function.

* Linting.

* Migrate get config calls to websockets!

* Working retries.

* Get services now as websocket request.

* Remove unused service call via api.

* Fix issue with widget not prompting the correct items.

* Migrate to websocket get states.

* ktlint.

* Review Comments.