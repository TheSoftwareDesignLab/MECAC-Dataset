fix: macos, crash, key input. --server also has UI. (#7878)

Signed-off-by: fufesou <shuanglongchen@yeah.net>