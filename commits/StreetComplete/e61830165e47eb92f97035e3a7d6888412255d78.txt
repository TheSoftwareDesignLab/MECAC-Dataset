smooth keyboard animation: final implementation