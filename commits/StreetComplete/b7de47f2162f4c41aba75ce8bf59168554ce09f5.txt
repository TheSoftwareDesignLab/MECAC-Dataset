use some derived state to optimize a few recompositions (#5994)

https://developer.android.com/develop/ui/compose/performance/bestpractices#use-derivedstateof