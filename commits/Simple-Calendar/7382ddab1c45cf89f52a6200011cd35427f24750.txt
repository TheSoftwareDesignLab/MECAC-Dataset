setup the widget config screen + misc cleanup