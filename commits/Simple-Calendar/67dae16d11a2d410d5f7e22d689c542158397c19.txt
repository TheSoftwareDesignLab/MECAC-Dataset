adding some widget related improvements