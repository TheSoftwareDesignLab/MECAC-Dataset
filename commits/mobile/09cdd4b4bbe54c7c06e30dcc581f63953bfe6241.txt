More work on flex theme