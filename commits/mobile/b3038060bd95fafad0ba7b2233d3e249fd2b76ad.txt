Moved logic into board widget