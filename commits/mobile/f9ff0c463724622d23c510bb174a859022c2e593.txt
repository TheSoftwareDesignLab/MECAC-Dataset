refactor player widget and fix negative clocks