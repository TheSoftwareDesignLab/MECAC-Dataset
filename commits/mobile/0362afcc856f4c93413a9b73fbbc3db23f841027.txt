Refactor puzzle theme to puzzle angle