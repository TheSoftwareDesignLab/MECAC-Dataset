add widget tests, simplify TournamentController