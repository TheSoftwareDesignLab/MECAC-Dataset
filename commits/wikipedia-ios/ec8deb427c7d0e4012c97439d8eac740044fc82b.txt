ensure requests have the right headers, make URL & URL component use more consistent