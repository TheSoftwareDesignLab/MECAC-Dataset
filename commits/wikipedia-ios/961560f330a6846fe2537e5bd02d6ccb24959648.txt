DRY up graident logic, fix rotation layout