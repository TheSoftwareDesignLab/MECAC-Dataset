consolidate update logic, add disabledText color to theme