set empty state if necessary, perform full text search if necessary