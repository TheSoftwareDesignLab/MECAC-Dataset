fix order of operations

unprocessed activities and shortcut items go back to will enter foreground
ensure migration is retried even if the UI isn't loaded
move applicationActive changes to the same cadence as periodic work start/stop