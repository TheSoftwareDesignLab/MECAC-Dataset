Core data schema adjustments and functional history interface.
Change-Id: I69e9032dd0ffe99b32e039371472b3583695113f