Improve code readability and create a new confirm update dialog