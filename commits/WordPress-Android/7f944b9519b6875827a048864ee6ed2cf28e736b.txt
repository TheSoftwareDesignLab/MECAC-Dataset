Squashed 'libs/login/' changes from a3a1c83492..0f54aa634f

0f54aa634f Merge pull request #46 from wordpress-mobile/merge/wcandroid-ul-m1
69cdd9109b Fix merge conflicts
a955de5657 Remove confusion over tag usage by renaming and fix social login bug
ff2b2cbd3d Update to conform to changes from the Login Library
ac21a9e49a Merge commit '7fb87d9b60e417020e48bc33b89f4a3ffeb88a95' into issue/merge-login-lib-changes
c27418c7b3 Merge pull request #45 from wordpress-mobile/merge/WordPress-Android/latest-login-changes
c616393331 Call login listener method for unregistered email if in WPcom login flow
895a4f59bd Merge pull request #2930 from woocommerce/release/5.1
b12126af34 Bump default LoginFlow's FluxC version
fc65d5c9fb Merge pull request #2918 from woocommerce/issue/2911-tracks
cb75217607 Merge pull request #2916 from woocommerce/issue/2897-overlap-ul
427d2e3980 Add new methods for updating the step when resuming site creds screen
37998c47b3 Add new methods for updating the step when resuming magic link and site creds views
c4964cf8f5 Add new methods for updating the step when resuming site address and email password views
e87a28cfa2 Nest layout in a ScrollView so buttons no longer overlap on smaller screens
e58d87278c Make screen scrollable for smaller displays and lower resolutions
5cf377a253 Allow login to complete if WPcom login without the woo-specific site address check
af41bb2b09 Null the site address view when the view is destroyed
a8dae110be Merge pull request #12978 from wordpress-mobile/issue/12957-atomic-jetpack-site-address-login
41413fdc1c Merge pull request #12948 from wordpress-mobile/update-jdk-to-11
537a92ee4e Update string to remove reference to a missing button
8f88ebe3ab Preserve behavior when adding WP.com sites from add self-hosted option
aea9679a58 Add internal reference comment related to Jetpack/Atomic detection logic
3f759c6ba9 Disable signup with Google when coming from Site Address flow
1680680257 Update Email screen label when logging in to a specific site address
83f9ed241b Update logic to handle connect site info for Jetpack and Atomic sites
a61da09836 Merge branch 'develop' into issue/12832-private-custom-domain-2fa-wpcom-site
9aefabe4fd Resolved conflicts in login library build.gradle, pulled develop
091a99f0dc Updates robolectric to v4.4 in order to fix tenor tests
402cb0a936 Merge pull request #12896 from wordpress-mobile/oguz/upgrade-to-gradle-6-v2
c67f6fb7c6 Fix login flow memory leaks
6ae2e115b5 Use all distribution-type for gradlew
b018cc6936 Extract method with logic to create connect site info event properties
2997608feb Add missing switch case on discovery error handling
695044dfac Merge pull request #2843 from woocommerce/issue/2721-tracks-2
f0302a7a81 Hide TOS buttons if not in signup mode during login
130b83f354 Updated gradle dependecy
3d99e1a63c Only log track failures if message is not null
b74d879048 Upgrade Gradle to 6
c8aa9f43d3 Remove check for existing sites as it doesn't work with self-signed SSL
83a11da8eb Update site address screen to only end progress after discovery process
7d4e6202d6 Move convenience methods for controlling progress to login base class
e6c9c0f75f Remove obsolete parameters siteName and siteIconUrl from Username screen
67522d2e0e Remove event handler for unused endpoint response
711479a2b0 Use connect/site-info endpoint for WordPress
723c471861 Extract method with logic to handle connect site info for Woo
77a58d99d0 Extract method with logic to determine if site has Jetpack
0d123fa463 Move tracking method to correct place
bcf6c4e92e Add click tracking to magic link option on the Password screen
a75cd04898 Update login magic link labels
5a21753625 Update signup magic link labels
50bd8fcd62 Merge branch 'develop' into feature/passwordless-flow
f47f392f1e Made the backstack popping logic be applied to forced request instead of only passwordless.
ee73ba4dbc Merge pull request #12871 from wordpress-mobile/issue/12730-avatar-helper-exception
11680d795c Removed another unused import.
d1064580f2 Update Email screen to disable hint picker dialog if autofill is enabled
771c88d8d0 Enable autofill hints for email and password fields
07eeda436d Bump Google Play Services authentication library to 18.1.0
de44490864 Update model parameter to make it nullable
a734985ff4 Update button labels and add click events
c186654291 Update Email and Password screens to redirect passwordless users
946041bbb4 Add logic to route to login with wpcom creds flow
7244e26b70 Add magic link button to Email/Password screen
2cbadb4f9b Replace availability check with auth options
68141db621 Merge pull request #44 from wordpress-mobile/merge/WordPress-Android/12797
e4bbbb9f87 Merge pull request #12797 from wordpress-mobile/fix/uls-minor-tracking-issues
c33cc926a8 Update Login2FaFragment to prevent tracking unneeded failure event
011aa2f5e6 Add tracking to password challenge step
45f625d367 Style site creds login by magic link verification screen
f684c59340 Handle magic link login
b4c8b8c192 Create alternative login email screen that provides site creds option
37e2e9c43f Merge pull request #43 from wordpress-mobile/merge/WordPress-Android/12727
2bcac63a70 Update Google sign-in to avoid tracking an UNKNOWN_USER error on signup
8d4ac008db Delete empty layouts created during merge and comment out usage
c9ace9dc00 Merge commit 'b2b772d616c7d7e40c2b0d1c7d7a25e52ecbf59e' into issue/2655-unified-login-1
673ce5d366 Fix FluxC build
4504d28400 Merge remote-tracking branch 'origin/develop' into integrate/encrypted-logging
7a466b64e1 Merge pull request #42 from wordpress-mobile/merge/WordPress-Android/12538
69420f4718 Disable continue button when verification code is empty
a651591cab Merge pull request #41 from wordpress-mobile/merge/uls-changes
4a0f98e7d0 Update signatures of LoginAnalyticsListener methods that receive properties
34c2a6725d Update LoginEmailFragment to avoid trying to disable nonexistent button
db4a99ece6 Merge pull request #12503 from wordpress-mobile/add-source-to-account-created-event
e703eb9ae1 Update trackCreatedAccount to use CreatedAccountSource
9dfa35975d Introduce CreatedAccountSource to LoginAnalyticsListener
2d4870d234 Convert LoginAnalyticsListener to Kotlin
5680616a17 Remove temporary GravatarUtils from AvatarHelper
4aaa4560e3 Update AvatarHelper to use fixed GravatarUtils
f35f72f886 Bump Utils library version in the Login library
9fdad2487a Adds initial version of EncryptedLogging
92fb1820a0 Merge pull request #12415 from wordpress-mobile/feature/disable-primary-buttons-on-empty-fields
0dc932d182 Remove unnecessary non-null checks
28fa9f74f2 Merge branch 'develop' into feature/unified-login-signup
2549443fe7 Merge pull request #12010 from wordpress-mobile/merge/loginlib/woo-dark-mode
5014577306 Merge pull request #12425 from wordpress-mobile/issue/unified-login-signup-theming-issues
7ce7661f0d Stop using the default Gravatar placeholder on Login Epilogue
b8b08aeff8 Update placeholder color to ensure compatibility on older API levels
e486867240 Disable primary button when username or password are missing
1d3b66e9a6 Disable primary button when password is not filled in
1ace43e4ae Disable continue button when email is empty
581c9e97ec Update LoginFlow theme to ensure compatibility on older API levels
b2971aab66 Remove nested selectors to ensure compatibility on older API levels
0844510f93 Merge pull request #12294 from wordpress-mobile/fix/remove-unused-click-event
c970ac36bf Merge branch 'develop' into feature/unified-login-signup
17e0788dbe Remove event that's never triggered in the new flow
f87d1e5448 Add missing click tracking to magic link screens
f9ea9f696a Add click tracking to Signup Confirmation screen
23a0b2793c Add screen tracking to Signup Confirmation screen
497686214f Fix a bug when flow is switched when returning from the google flow
163646574c Merge branch 'feature/unified-login-failure-tracking' into feature/unified-login-interaction-tracking
18d01c6190 Move google error tracking to LoginActivity.java
6ce30e4a18 Merge branch 'feature/unified-login-signup' into feature/unified-login-failure-tracking
c2ecfda3f2 Merge pull request #12056 from wordpress-mobile/issue/11785-add-signup-confirmation-screen
effb35b47b Fix indentation issue
cbc341d89c Add tracking for the email hints dialog
17cee3ef05 Add email click tracking
d3c5f3f7ae Add click tracking to help
f772966dde Merge branch 'feature/unified-login-failure-tracking' into feature/unified-login-interaction-tracking
6fbfcd7249 Add error logging where it was missing
7cadea49ed Cleanup failure tracking
646ba2ded7 Merge branch 'feature/unified-login-signup' into feature/unified-login-failure-tracking
cbec230041 Merge pull request #12048 from wordpress-mobile/issue/11785-update-login-flow-layouts
546fb2b245 Implement help dialog on the signup confirmation screen
fa0db85fba Implement signup confirmation screen for google signup
9cdcbc7af1 Implement signup confirmation screen for email signup
dd7b6736f3 Update TOS links colors
b42a8b13f6 Merge pull request #12047 from wordpress-mobile/issue/11785-update-login-flow-theme
855ac5269e Extract avatar loading logic to a helper class
30f1fadf17 Update email header component layout
7bdca2d2a0 Update Signup Magic Link screen
7ca256af24 Rename Signup Magic Link screen layout file
06a2d4c6e5 Update Signup Email screen
fcd4a97d2a Rename Signup Email screen layout file
0048078ec0 Update Login Username Password screen
21b3fbb250 Update Login Site Address screen
9a453c4329 Update Login 2FA screen
1c2610f396 Update Login Email Password screen
a06c6bd863 Update Login Magic Link Sent screen
951456aaaa Extract magic link header to a separate layout file
1a4100633d UI update to Magic Link Request screen
1c2526d13b Update base form layout
668da0a21d Extract old Login Email screen to a separate layout file
5e942b4176 UI update to Login Email screen
80a4c0d908 Update login theme and styles
16dac21f5e Merge pull request #11944 from wordpress-mobile/issue/11783-update-epilogue-ui
a06967559d Update gradle plugin to 4.0 and gradle to 6.1.1
b3d8998027 Merge commit '46923a963c480113b797856bfaf179dad5044d2d' into merge/loginlib/woo-dark-mode
4f1af83e96 Fix NPE when primary button is missing
d0cfd5ed63 End progress when the login fragment is destroyed
2274f87e22 Add click tracking to unified login and signup flow
81c9feeb28 Use universal method for failure tracking
9e5f139de1 First step of failure tracking
9cebf7a88b Remove method that's not tracking screen change
c6469d5b9e Add source to tracking events
eefd096bcd Add screen tracking to login and signup
fdc65a5240 Bump login library minSdkVersion to 21 and targetSdkVersion to 29
44e989e866 Merge pull request #12000 from wordpress-mobile/fix/9905_Crash_InflateException_Binary_XML_file_line_NEW
eac3784277 Revert unintentional change during merge
5502b855c4 Merge commit 'd4d2d895dd0c1469adf230607fe801146f9f91ff' into merge/loginlib/woo-dark-mode
1f1f28318c Merge pull request #11934 from wordpress-mobile/update/fragments
0c40f732f4 Set password icon programmatically
eb8ed2635f Fix wrong password icon
f0e7106f68 Remove unused resources
044893cfb7 Update login epilogue secondary button strings
c5c79810c9 Update signup epilogue primary button string
fb1712af70 fixed lint error and replaced all observers owner parameter with viewLifecycleOwner
2fb113e0d8 Revert changes to gradle
a57069b24b Gradle updates.
05af8f4c85 Remove unused strings from the login library
0f40e7e9e6 Add ability to enable login via site address from the prologue screen
689b1d9574 Add ability to disable login via site address from the email screen
fd236a31e6 Merge pull request #11717 from wordpress-mobile/issue/11705-google-sign-in
92ef161140 Move @Override annotation to conform with the current code style
8871b22436 Merge branch 'feature/unified-login-signup' into feature/introduce-kotlin
debde7c28e Add library version locally to the login library
e7e8df0379 Move progress dialog to better handle configuration changes
1c871c9f33 Update log messages for sign-up from login functionality
9c13cb0cf3 Add flag to turn the sign-up from login functionality on
3cae24c922 Add loading dialog to LoginGoogleFragment
a00ec92d95 Update LoginGoogleFragment so it supports sign-up from login
a09bdda7c5 Use correct versions to fix build
217b13ff0b Introduce kotlin to LoginFlow and bump libraries
79c4db7291 Add flag to turn the sign-up from login functionality on
beff169fc2 Update LoginEmailFragment so it supports sign-up from login

git-subtree-dir: libs/login
git-subtree-split: 0f54aa634f76df6223d4eabd4bf37c01a898d1ec