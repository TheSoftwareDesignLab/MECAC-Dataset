Refactor: Extract a layout behavior file and implement transition animation