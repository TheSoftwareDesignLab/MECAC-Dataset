Change the magic link flow and source to an interface

This will allow extending it in the clients for behaviors that don't need to be implemented in the library