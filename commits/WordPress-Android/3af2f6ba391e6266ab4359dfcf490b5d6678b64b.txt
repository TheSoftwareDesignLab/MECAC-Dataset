fixed checking connection and showing toast after text validation