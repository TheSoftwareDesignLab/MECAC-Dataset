CMM-885 support HE attachments (#22323)

* Adding basic UI

* Renaming

* Some styling

* Renaming and dummy data

* Using proper "new conversation icon"

* Conversation details screen

* Creating the reply bottomsheet

* Linking to the support screen

* bottomsheet fix

* Mov navigation form activity to viewmodel

* Adding create ticket screen

* More screen adjustments

* Extracting common code

* Margin fix

* detekt

* Style

* New ticket check

* Creating tests

* Creating repository and load conversations function

* Adding createConversation function

* Creating loadConversation func

* Loading conversations form the viewmodel

* Adding loading spinner

* Pull to refresh

* Proper ionitialization

* Adding empty screen

* Handling send new conversation

* Show loading when sending

* New ticket creation fix

* Using snackbar for errors

* Error handling

* Answering conversation

* Adding some test to the repository

* More tests!

* Compile fixes

* Similarities improvements

* Using snackbar in bots activity

* Extracting EmptyConversationsView

* Renaming

* Extracting VM and UI common code

* Extracting navigation common code

* Renaming VMs for clarification

* More refactor

* Capitalise text fields

* Updating rs library

* Loading conversation UX

* Style fix

* Fixing scaffolds paddings

* userID fix

* Fixing the padding problem in bot chat when the keyboard is opened

* Apply padding to create ticket screen when the keyboard is opened

* Fixing scroll state in reply bottomsheet

* Adding tests for the new common viewmodel

* Fixing AIBotSupportViewModel tests

* detekt

* Improvements int he conversation interaction

* Adding tests for HE VM

* Saving draft state

* Properly navigating when a ticket is selected

* Error parsing improvement

* accessToken suggestion improvements

* General suggestions

* Send message error UX improvement

* Fixing tests

* Converting the UI to more AndroidMaterial style

* Bots screen renaming

* Bots screens renaming

* Make NewTicket screen more Android Material theme as well

* Adding preview for EmptyConversationsView

* Button fix

* detekt

* Ticket selection change

* Supporting markdown text

* detekt

* Improving MarkdownUtils

* Formatting text in the repository layer instead the ui

* Renaming

* Fixing tests

* Support pagination

* Triggering in the 4th element

* detekt

* TODO for debug purposes

* Claude PR suggestions

Mutex and constant

* Put ConversationListView in common between bots and HE

* Empty and error state

* Skip site capitalization

* Adding a11c labels

* Adding headings labels

* adding accessible labels to chat bubbles

* detekt

* Fixing tests

* PR suggestion about bot chat bubble

* Fixing tests

* Updating rust

* Adding attachments UI

* Parsing markdown more exhaustively

* New links support

* Detekt

* Supporting in conversation as well

* Keeping the screen when select images

* Add attachments to the message data class

* Showing attachments in the UI

* Downloading attachments

* detekt

* Support pagination

* Triggering in the 4th element

* detekt

* TODO for debug purposes

* Claude PR suggestions

Mutex and constant

* Detekt

* Removing testing code

* Updating RS library version

* Opening images in fullscreen

* Improving full screen image UX

* Improving semantics

* Extracting strings

* Using rs PR fix

* Showing attachment preview

* Clearing attachments on new ticket screen close

* Removing selected images limit

* Unifying attachments handling inside the VM

* Using a launcher instead of startActivityForResult

* Remove unused parameter

* Handling temp files inside the VM

* Removing files

* detekt

* Throwing copy file error

* Extracting some individual composables from HEConversation screen file

* Reducing arguments

* Catch file creation error

* Using proper file extension

* General improvements

* Update RS version and some fixes

* Extracting temp attachment utils

* Adding new tests

* Some refactoring

* Removing attachments preview to open a dedicated PR

* Useless changes

* Useless changes

* Minor refactor

* String fix

* CMM-885 support HE attachments i2 (#22333)

* Showing attachments previews

* Typo

* Fixing pan issue

* Passing attachments directly instead of searching for then when tapped for full screen

* Compile fix

* Fixing the send state message

* Checking network availability

* Saving message state when error

* Tests

* Reverting non-related commits done by mistake