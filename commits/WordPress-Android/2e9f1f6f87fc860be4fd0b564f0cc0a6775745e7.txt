Restore preview functionality by keeping layout stateless