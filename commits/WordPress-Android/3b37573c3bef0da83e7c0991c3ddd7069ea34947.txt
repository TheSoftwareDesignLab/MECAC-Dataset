Squashed 'libs/editor/' changes from 0b74389..31b66df

31b66df 1.0 version bump
d8cfe4a Merge commit '4542685e8fcd0e490279dde87f9ac3d8887bc0af' into develop
afc78d8 Merge pull request #4024 from wordpress-mobile/feature/update-gradle-plugin
004c6f7 Merge commit '99075045579437eb0928d9fb5b363cf5d1774870' into develop
fb0e980 Updating gradle plugin to 2.1.0 for Android Studio 2.1.0
6c4808f Merge commit 'ac1a4af3be8b6e95d1799ce2f82fca06a73577c0' into develop
9ae36fe Merge pull request #3967 from wordpress-mobile/issue/328editor-track-reflection-failure
ababd1c Merge pull request #3961 from wordpress-mobile/issue/3930-crash-when-adding-invalid-image
2ce6b79 Merge commit 'be4aac09995c4a35b2354854ef0f3ff5b1ae07e7' into develop
ffad17f Use a static listener to handle reflection failures
544415f Updates the p/div conversion regex to more strictly match tags
dded955 Move the addMediaFile logic in an AsyncTask, only WPEditImageSpan construction now lives in a background thread
318297e Merge commit 'c0f0848c74ef959fa90d150ae3cf93259c3fd08e' into develop
33becb0 Merge commit '52910dd0664cf2031a6a1c78f3cb1b170a4eeff9' into issue/editor-p-to-div-update
0a0f0b3 Merge branch 'develop' into issue/editor-p-to-div-update
58a956e Merge pull request #3931 from wordpress-mobile/issue/fix-placeholder-title-in-french
d61bf92 Merge commit 'd2f7ed4e05fa13e80fbe573f043fac43baf5e0b1' into issue/editor-p-to-div-update
c8e62e4 Updating to gradle 2.0
9d753ca Updating to rc3
593ebad Escape quotes on translated strings when calling execJavaScriptFromString
58f5af0 Merge commit 'c5b98a88c01551e8dbf44366072607d364ec01dd' into develop
254b0ff Merge pull request #3919 from wordpress-mobile/issue/update-build-tools
ff52240 Merge branch 'release/5.2' into release/5.3
ea50456 Updating the rest of the modules to buildToolsVersion 23.0.3
6242f89 Merge commit '4c9324cf1eee00b66c76e0d5a917c86e1293a845' into develop
c3b97db Add missing classes for images inserted from media library - also fix a bug with undefined alt text
121472f Add missing attributes for uploaded images
2ad3224 update to android-gradle-2.0.0-rc1
9a21aea upgrade to gradle plugin 2.0.0-beta7
bd82e4a Merge commit 'c6efe0a9190244d40e64300efc9cca56ae5acd5c' into develop
be6ebe4 Merge branch 'develop' into issue/120editor-initial-focus
b3a84ec Merge commit '9b0b5fab24db9f435b278ad0b9e77d5895135700' into develop
36a6e42 Merge pull request #3897 from wordpress-mobile/issue/260editor-clear-failed-images-on-upload
1e94c99 Null check getParentRangeOfFocusedNode/setRange in onMutationObserved - in case editor is not in focus
5a54839 Show the software keyboard once the DOM has loaded
64e33ad Focus on the title field when opening posts
8f7ffc0 New EditorFragment method to removeAllFailedMediaUploads()
d6e1ad4 New JS function ZSSEditor.removeAllFailedMediaUploads
4a37325 Merge pull request #3896 from wordpress-mobile/issue/300editor-broken-images-after-upload-2
ed8dd88 remove debug logs
f57b0dc Use remoteurl in the link wrapper
08d94e3 Merge branch 'develop' into issue/300editor-broken-images-after-upload-2
942aae0 Merge branch 'develop' into issue/297editor-backspace-media
6b9a904 update to com.android.tools.build:gradle:2.0.0-beta7
29760e3 Merge branch 'develop' into issue/297editor-backspace-media
b1a7083 Merge commit '8db246f15ce6f4d2c7f7f7ec51c68b87e9a66c2f' into develop
6b30bb4 Changed MutationObserver handling to check if the WebView supports it, rather than rely on API levels
821761e Refactor: grouped mutation observation methods together
a3dcf52 Refactored DOM element mutation listening, delegating everything to one trackNodeForMutation method
ccef356 Changed MutationObserver behavior to track individual media nodes instead of each contenteditable div
4ea4f78 Moved failed media methods to the generic media method group
2092016 Parse for failed media when returning from HTML to visual mode
5100726 Track DOMNodeRemoved events when parsing for failed media
1a19b59 Fixed a variable name error in ZSSEditor.removeImage
ed7f31a On API<19, use DOMNodeRemoved events to track media deletions (instead of the unsupported MutationObserver used for newer APIs)
f486c02 Merge branch 'develop' into issue/297editor-backspace-media
f9567c6 Merge pull request #3804 from wordpress-mobile/issue/enable-editor-debug-mode
c5c01c9 Consume KEYCODE_VOLUME_UP event when debug print is called
130483c Merge commit 'a299686f47294c20ef04e818585f1d27cf069876' into develop
5e5b844 broken retries
d75ff0e Merge branch 'issue/enable-editor-debug-mode' into issue/300editor-broken-images-after-upload-2
af79e8f use a remoteUrl attribute to avoid seeing broken image if download failed
5810af1 remove debug action bar button and log raw html when volume up button is pressed
f4b7ac1 fix function call errors
9139f65 Add back image swapping onError
ef45a99 Merge commit 'a03a1465ca3a5e6827a3a4c004b435b1bc0db4ee' into develop
806b6bf fix wordpress-mobile/WordPress-Editor-Android#300: Retry download onError after an upload
549a6fc add missing comment
d520eff Updated gradle to 2.0.0-beta6
d439504 Fixes an issue where manually deleting uploading/failed media will cause the caret to disappear
0cc5dfd Notify native through a callback whenever uploading/failed media are manually deleted
96700b9 catch a common JS exception
b635d38 Merge branch 'develop' into issue/288editor-log-js-errors-in-crashlytics
a3686a8 fix wordpress-mobile/WordPress-Editor-Android#288: new EditorWebViewAbstract.ErrorListener used to forward JS errors to Crashlytics
efc6ec5 Keep the format bar disabled on rotation when the title field is in focus
587d66f Rely on ZSSEditor to flag uploads as completed in native-side checks
792d1c4 Added null checking for MediaType onMediaUploadFailed
b189ef7 Wait until the ZSSEditor has replaced the local media with remote before marking it as completed
2e8946e Strip any trailing &nbsp; when returning the title
e42eea1 Merge commit '108ed89ccdc90830463e57ce4ff5ba64ef0acc8f' into feature/visual-editor
2ca8ce1 Editor 0.6 version bump
1c0540f Updated localized string calls in ZSSEditor video methods
215b8b5 Merge branch 'feature/visual-editor' into feature/visual-editor-insert-video
64adac4 Merge commit '87b5e7c0a01bceedcbad9abb9a2e71505bbfbf48' into feature/visual-editor
ae7b2f3 Escape quotes for URLs being passed to the JS editor
76cd747 Use hasAttribute to null-check when parsing for failed media items
39530c9 Wrapped called to getThumbnailURL in notNullStr() in the editor fragment
8432230 Removed unnecessary console.logs
09a223d Drop data-failed attribute from ZSSEditor.insertLocalVideo
009ac85 Merge branch 'feature/visual-editor' into feature/visual-editor-insert-video
527203c escape single quotes when calling execJavaScriptFromString
c505184 Use API<19 compatibility upload UI for video (imported from images)
2632d17 Include videos in count of failed media uploads
1e88177 Mark uploading videos as failed when opening a post containing them, so they can be retried
faae80f Send VideoPress shortcode and poster URL to visual editor when video upload completes
6284c49 Stop adding unnecessary 'data-wpid' attributed to completed video uploads
8a2e68a fix wordpress-mobile/WordPress-Editor-Android#285: markImage(Video)UploadFailed now called with 2 parameters
f0201bf Merge branch 'feature/visual-editor' into feature/visual-editor-insert-video
1f2ddda Merge branch 'develop' into feature/visual-editor
07b45a2 Upgrade gradle plugin to 2.0.0-beta5
0e7e34a Update gradle version in wrapper
a92f6d9 fix MockEditorActivity for tests
f96974f Merge commit '68c6f4cd95baefe3198dca9e8bd7d1ee3732f576' into issue/3610-media-tracking-fixes
bd8dbc7 Centralized tracking of added images/videos
7e655c8 Merge commit '097b51b9618f0fe23146c66b58918651e9c80bbc' into issue/3610-media-tracking-fixes
3ddf22b Merge branch 'develop' into feature/visual-editor
4d6f33d Merge pull request #3742 from wordpress-mobile/issue/update-to-android-gradle-plugin-2.0
4d7a3b9 update to android gradle plugin beta4
2b4a5c1 update to android gradle plugin 2.0.0-beta-2 - Instant Run
80ff799 Updating to latest versions of internal dependencies
6353f44 Keeping internal dependencies always pointing to the latest version
0fb699f Merge commit 'c0c935fa4b3b6135be8099b637da57bede6b850f' into feature/visual-editor
4751ae7 Hide video fullscreen button
4a6c8e0 Pause video playback when the WebView is no longer visible to the user
8a0612d Use a blank placeholder src instead of videopress.mp4 to trigger videopress video loading
a9e079c Added some sanity checks for substring usage to JsCallbackReceiver
2fa2dca Fixed a bug where videos would sometimes get deleted if they were the only thing in the post
a21951b Added support for video shortcodes on non-VideoPress sites
80bd71c Merge branch 'feature/visual-editor' into feature/editor-video-playback
aaa9a6f Added missing bracket in JS editor
e712ebb Follow redirects when requesting thumbnails for the image settings dialog
79c7d4f Always defer to super.shouldInterceptRequest in editor WebView unless an auth header is present
c7fc77a Merge branch 'feature/visual-editor' into feature/editor-video-playback
0bee8d0 When looking up a VideoPress ID in the DB fails, refresh the blog media and check again
585fc21 Remove the onError attribute from VideoPress videos if an empty video url is returned
1d4069a Added the ability to tap a placeholder VideoPress video to attempt to load it
e23bf9b Don't use the placeholder poster image for videopress videos
d44cbf0 Add space after videos when converting from VideoPress shortcode
192618b Only apply custom headers for network URL resource requests
3c995f5 Implement new EditorFragmentListener method in mock activity for integration tests
f82188a Convert VideoPress shortcodes to video elements and back in the visual editor
97023b4 Imported ZSSRichTextEditor video methods and callback methods from iOS
72426b2 Imported video CSS from iOS
bec5a06 Added missing method implementation to test mock activity
103623b Retrieve an auth header if necessary when launching the image settings dialog
710c082 Use the safeToAddWordPressComAuthHeader utility method for resource requests in the new editor's WebView
e4c9f6d Updated the utils artifact version for the editor
f1e18c4 Moved setupUrlConnection() to the utils library
0329b10 Renamed EditorFragment's setWebViewHeader to setCustomHttpHeader
faee37a Use custom headers for image settings dialog image requests
296428c Extracted some duplicated HttpURLConnection building code into a utility method
7c682a6 When an Authorization HTTP header is detected, force using the HTTPS protocol in the WebViewClient
3726c81 Added support for custom headers to the editor's WebView, set through the EditorFragmentAbstract
151f080 Editor 0.5 version bump
ada768f Added full support for gallery types
f936194 Added a fix enabling galleries to be added to the editor before the DOM loads
1c7a1bf Fixed creating a new post by making a gallery from the Media Library (the gallery wasn't being added to the new post)
f507455 Merge branch 'feature/visual-editor' into feature/editor-galleries
66dae11 Merge branch 'feature/visual-editor' into feature/editor-sync-0.5
b127139 Merge branch 'develop' into feature/visual-editor
0976ed9 Merge branch 'develop' into feature/editor-sync-0.5
22551ca Merge commit '2467f23341a72e17460995133a375e63252e88b3' into feature/sync-editor-lib
660bb7b Added support for creating galleries from local images, using a placeholder shortcode while uploading
b52cb96 Extracted duplicate paragraph-wrapping code into a separate method in the ZSS editor
2bd2a5a Added support for inserting galleries using media library images
62bdbe6 Merge branch 'feature/visual-editor' into feature/editor-featured-images
7774382 Merge branch 'develop' into feature/visual-editor
41266f4 Removed unused 'Include image in post content' checkbox from image settings
6edd755 Updating gradle plugin to 1.5.0 and support/build tools to latest for sub projects
644ef03 Use a callback instead of a getter to notify the host activity when the featured image changes
b31f404 Add the remote media id to image tags when inserting from media gallery
3ef00a0 Hide the featured image checkbox if feature images aren't supported
c3e966c Updated Editor example project with changes to onMediaUploadProgress
a2e9a1f Fixed a crash issue in the image settings dialog fragment
4937797 Converted featured id handling methods to be part of EditorFragmentAbstract
1ebad36 Added support for getting and setting the featured image id to the editor fragments
8e8b133 Don't clear all class data in ZSSEditor.markImageUploadDone
b093ba1 Add the remote image ID to the image tag when an image upload completes
78c7c58 Added support for setting/unsetting an image as featured to the image settings dialog
74f416e Modified onMediaTapped to pass the image meta data as a JSONObject
1f138a0 Fixed a broken test and an issue with the editor demo activity
5cd8946 Implemented missing method in EditorFragmentAbstractTest
78bd8f8 Added some empty string checking when retrieving failed media ids from the ZSSEditor
2776cc0 Adjusted the pattern used by the ZSSEditor to find images that are uploading
2aaf4be Disable editor format bar buttons when post/page contains failed uploads
ed5a4de Updated EditorFragment to handle exiting the editor with media uploads in progress more gracefully
d616642 Added a 'delete' flag to onMediaUploadCancelClicked
e50e3a2 Fixed a bug where the media upload progress bar wouldn't display due to a localization issue
198fe03 Visual editor lib version bump
4bdf8a4 Updated image settings dialog to always clear the custom ActionBar view
4a0aba9 Merge commit '7b6a9d464896683ba4aef6f4dccc9021641e5d71' into develop
20fb4b2 Updating build tools to 23.0.1
9118aa4 Merge branch 'release/4.4' into develop
6d81897 set targetSdkVersion to 23 and clean up lib dependencies
e242e52 migrate from mavenCentral to jcenter (which is now the default for Android Studio)
1f16160 upgrade subtrees to latest android tools
f708f98 update to gradle plugin 1.3.1 and gradle 2.6
844d144 Merge branch 'develop' into feature/update-to-gradle-2.4
bb0b502 upgrade to gradle 2.5 and gradle plugin 1.3.0
4771109 Merge branch 'develop' into feature/update-to-gradle-2.4
6b5919c Merge branch 'develop' into feature/update-to-gradle-2.4
dd890da update to gradle android plugin 1.2.3
c090cb9 update support lib to 22
72fd793 update to android-gradle plugin 1.1.3 and build tools 22.0.1

git-subtree-dir: libs/editor
git-subtree-split: 31b66df6436e7911e5a272914ea63b888452e7f9