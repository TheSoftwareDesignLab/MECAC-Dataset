refactored failed/uploading states code handling a bit + added onUndoMediaCheck editor interface