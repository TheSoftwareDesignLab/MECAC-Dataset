extracted category ui state building to function for reusability