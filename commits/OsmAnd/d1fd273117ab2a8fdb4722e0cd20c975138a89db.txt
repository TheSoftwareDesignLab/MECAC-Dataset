rtl refactor, dp, comments deleted