refactor options dialogs and improve ui