fix #21456 ui freeze
-async history deleting with progress dialog