Add derived profiles on UI + refactor