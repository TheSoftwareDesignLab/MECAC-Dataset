rewritten the rtl check method