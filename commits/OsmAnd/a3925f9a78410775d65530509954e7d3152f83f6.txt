Improve search/display/click for variety of Travel Routes (wikivoyage, gpx, activities, etc) (#21346)

* Fix routes activities_ POI click, optimize consts

* Implement click-on-map for route=segment ways

* Refactor TravelObfHelper (ROUTE_ACTIVITIES_PREFIX)

* Refactor RouteTrack deduplication in POIMapLayer

* Refactor routeTrackFilters (ROUTE_ACTIVITIES_PREFIX)

* Implement click-on-search-results for Travel Obf

* Refactor buildGpxFile to support TravelGpx (draft)

* Replace ROUTE_ACTIVITIES_PREFIX with ROUTES_PREFIX

* Change poi_activities_ to poi_routes_ in phrases

* Fix incorrect parseFloat / parseDouble "try" block

* Implement better gpxFileName scheme for TravelGpx

* Allow Amenity OpenTrack menu for ROUTE_TRACK_POINT

* Allow v2 getAmenity() to find route=point w/o name

* Split methods, add GPX tags reconstruction (draft)

* Add tags support in Kotlin RouteActivityHelper

* Support GpxUtilities.ACTIVITY_TYPE for TravelGpx

* Fix "missed-duplicate" bug in isUniqueGpx()

* Do not clutter GPX with useless OBF tags

* Cleanup OSM tags in GPX files saved by TravelGpx

* Use route_id instead of osm_id in findAmenityByName

* Use TreeMap to sort gpxFileExtensions for GPX out

* Fix import

* Rename relation_gpx to use_osmc_colors

* Refactor getGPXName() to use getGpxFileName()

* Fix and log possible NPE, fix bug in isUniqueGpx()

* Fix possible NPE with amenity.getSubType().equals

* Rename Set

* Optimize uniqueRouteIds contains/add calls

* Refactor "if / null / return / return" block

* Refactor using Algorithms.parseDoubleSilently

* Style avoidAmenityGpxTags keepAsIsAmenityGpxTags

* Add log for null result in searchGpx()

* Refactor getGpxFileName (sanitize file name)

* tmp

* Revert "tmp"

This reverts commit 86dcec0b801178abfc7ee46177db5b704a9cea95.

* Refactor and split use_osmc_colors into 2 new tags

* Remove osm_id tag

* Refactor/bugfix findAmenityByName() using stream()

* Replace osm_*_present tags with hasOsmRouteId()

* Remove unused route_name in TravelGpx

* Add forgotten override fun write(str: String?)

* Use insideTagDepth to differentiate osmand:route

* Allow nameless TravelGpx in TravelSelectionLayer

* Refactor tags, remove gpx_ and osm_tag_ prefixes

* Remove useless createTitle from TravelObfHelper

* Revert "Remove unused route_name in TravelGpx"

This reverts commit 93636ce13b5416bfe03617b96aea238c1ae467f7.

* Fix typo in Amenity printNames

* Restore route_type instead of type and route tags

* Make "gpx_icon" and "icon" interchangeable

* Fix broken wptPt tags in TravelGpx createWptPt

* Apply OBF_POINTS_GROUPS_EMPTY_NAME_VALUE

* Optimize matchPointsAndTags with isAlreadyProcessed

* Rename OBF_POINTS_GROUPS_EMPTY_NAME_STUB

* Add public getPoiTypeByTagValue()

* Rename tags

* Adapt getPoiTypeByTagValue for non-text additionals

* Comment getPoiTypeByTagValue for non-text additionals

* Fix lastModified for deactivated maps (DateFormat)

* Remove deprecated route_type translations

* Actualize TravelGpx type/activity strings, fix npe

* Refactor osmand:activity and unpack extra tags

* Implement XML_COLON in lib instead of ugly "_-_"

---------

Co-authored-by: chumv <chumva.forever@gmail.com>