add progressbar and ui fixes