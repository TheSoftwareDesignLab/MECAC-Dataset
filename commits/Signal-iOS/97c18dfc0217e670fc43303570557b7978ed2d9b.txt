CancellableContinuation internal improvements

- Make it a struct: Its state already has reference semantics, it doesn't need an extra layer. 
- Make the states explicit using an enum.
- Explicitly forbid calling wait more than once.