Fix issue where gifs are sent as a compressed jpeg

Our new compression path is compressing *all* images. We should only be
compressing non-animated images. Compressing a gif to a jpeg will mean
we lose animation data.

This wasn't caught in beta since the beta population is migrated into
sending mp4 gifs. The new compression path doesn't touch mp4s.