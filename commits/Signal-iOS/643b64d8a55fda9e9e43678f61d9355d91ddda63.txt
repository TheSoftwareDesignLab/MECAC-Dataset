add asserts, decompose method, unify translation comment, remove redundant groupThread check