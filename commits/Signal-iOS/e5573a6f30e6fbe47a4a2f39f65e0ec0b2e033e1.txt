IOS-1014: Fail to send video attachment after scrubbing and trimming

Fixes an issue where scrubbing and trimming a video attachment will
cause the send to fail.

This was caused by an issue with how we prerender trimmed video during a
scrub gesture. This fixes this by only performing the render when
necessary.

Additionally, this changes up some of the lifecycle around rendering
trimmed videos. Replaces the NSOperation with a promise chain to avoid
unnecessary queue hopping.