Mega theme merge + fixes

fixes #2