test: split test into widget and unit test (#1432)