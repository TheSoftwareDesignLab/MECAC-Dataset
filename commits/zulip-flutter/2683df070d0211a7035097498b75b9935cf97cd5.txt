compose: Fix bug where compose progress can be lost on new event queue

And factor out a helper for the part that reads `widget.narrow` and
sets a new controller accordingly; we'll use this helper for the
edit-message UI, to reset the compose box at the end of an
edit-message session.

Fixes: #1470