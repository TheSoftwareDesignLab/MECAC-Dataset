compose [nfc]: Extract _ComposeBoxLayout

This separates the layout of the compose box from the setup of
its state, which will let us share the former with compose boxes
for other types of narrows.