Bug 1875465 - Part 2: Update layout and positioning logic