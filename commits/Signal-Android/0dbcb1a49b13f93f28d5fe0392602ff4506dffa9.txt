Support for adaptive icons

Closes #6887
Fixes #6511