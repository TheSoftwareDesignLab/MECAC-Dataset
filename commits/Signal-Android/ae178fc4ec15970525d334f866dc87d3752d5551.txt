Move API around a little, eliminate TransportDetails interface.