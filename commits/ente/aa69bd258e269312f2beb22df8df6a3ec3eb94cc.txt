Switch map toggle to optimistic UI updates

Co-Authored-By: Claude <noreply@anthropic.com>