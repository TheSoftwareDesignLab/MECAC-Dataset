updated UI handling of cancel state