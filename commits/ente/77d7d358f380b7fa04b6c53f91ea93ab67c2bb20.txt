Minor refactoring and removing unnecessary work on Gallery widget