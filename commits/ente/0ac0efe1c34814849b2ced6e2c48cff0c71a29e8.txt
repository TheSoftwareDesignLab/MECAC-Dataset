add timeout and graceful error handling for background sync

- Added 5-minute timeout to _sync() in background tasks
- Wrapped sync in try-catch to prevent crashes
- Modified pre-upload checks to fail gracefully instead of throwing
- Background tasks now complete even if uploads fail
- Home widget and smart albums sync can now run even when uploads fail

This ensures background tasks always complete their full workflow
instead of hanging indefinitely when upload preconditions fail.

Co-authored-by: Claude <noreply@anthropic.com>