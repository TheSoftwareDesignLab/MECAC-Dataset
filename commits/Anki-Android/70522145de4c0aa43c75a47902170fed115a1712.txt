Use StateFlow for publishing migration progress

Splitting this into several commits would be too hard, so sorry about
this commit doing a lot of things at once.

* Migration service is refactored in a major way. For progress,
  StateFlow is used. Progress now includes not only the transfer stage,
  but also the stage of calculating transfer size and success/failure
  states. UI reads this progress directly.

* Binding to the service is performed using coroutines, which should
  simplify integrating services with UI.

* The ongoing-migration toolbar button in DeckPicker now starts at 5% so
  that the user sees at least some of the circular progress indicator in
  the very beginning.