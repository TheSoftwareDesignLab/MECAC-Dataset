scoped storage: Make MigrateUserData a task

* Defines `UserDataMigrationContext`, which allows a decision to be
  made based on an exception that is raised, this allows us to stop
  execution, for example if 10 exceptions are thrown consecutively
* Defines internal and external retries: We allow the user migration to
  be retried 3 times before failing. Internal retries are in addition
  to this, for example if a file is added to the original folder while
  migrating

* Integration tests are added for all the operations

Once this is done, the service, and the UX remains