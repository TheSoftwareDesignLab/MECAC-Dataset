refactor: extract search to CardBrowserViewModel (#16128)

* refactor: extract 'numCardsToRender'

This UI state is currently required in the ViewModel

* refactor: introduce 'SearchState'

Splits out the continuation from 'searchCards'

Eventually means we'll be able to move away from 'withProgress'

* refactor: remove 'flowOfSearchTerms'

We want this logic to be handled in the ViewModel

* refactor: make 'flowOfCardsOrNotes' private

We want this logic to be handled in the ViewModel

* performSearchFlow will be extended to other properties

* refactor: 'flowOfDeckId' handles search in ViewModel

We want this logic to be handled in the ViewModel

* refactor: remove 'currentFlag'

unused, and the class is already far too complex

* refactor: add named argument

setQuery - submit

* refactor: handle 'initCompleted' internally

If 'initCompleted' was false, searchCards
will execute once it becomes true

* refactor: extract 'changeCardOrder' to ViewModel

A further extraction of searching logic

* chore: use launchCatching

* extract `change deck in notes mode 15444` to ViewModelTest

* extract moveSelectedCardsToDeck

* extract `addCardDeckIsNotSetIfAllDecksSelectedAfterLoad` to ViewModelTest

* extract moveSelectedCardsToDeck

* remove searching from flowOfFilterQuery

extract `filterByFlagDisplaysProperly` to ViewModelTest

* fix tests

* fix tests