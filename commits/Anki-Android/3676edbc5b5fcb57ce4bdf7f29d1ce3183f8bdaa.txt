Add CommandProcessor interface

To allow keyboard commands to use the same command as gestures