Rework the display settings UI

Fixes #3052