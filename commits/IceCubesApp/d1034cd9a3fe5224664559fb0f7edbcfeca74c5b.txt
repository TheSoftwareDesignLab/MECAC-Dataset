Do string manipulation at the decode time to keep the UI smooth fix #178